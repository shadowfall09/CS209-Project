{"items":[{"tags":["java","mysql","spring-boot","jdbc"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1641235373,"post_id":70569251,"comment_id":124748931,"body_markdown":"What version of Java/JDBC? What JDBC driver? You can get this info from object returned by `.getMetadata()` method right there.","body":"What version of Java/JDBC? What JDBC driver? You can get this info from object returned by <code>.getMetadata()</code> method right there."},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1641235427,"post_id":70569251,"comment_id":124748950,"body_markdown":"A *guess* only, did you try to use integer indexes instead of named parameters? E.g. `getString(3)` instead of `getString(&quot;COLUMN_NAME&quot;)`","body":"A <i>guess</i> only, did you try to use integer indexes instead of named parameters? E.g. <code>getString(3)</code> instead of <code>getString(&quot;COLUMN_NAME&quot;)</code>"},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1641248362,"post_id":70569251,"comment_id":124752611,"body_markdown":"Which version of MySQL are you using?","body":"Which version of MySQL are you using?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1641292303,"post_id":70569251,"comment_id":124761554,"body_markdown":"Please post the entire stacktrace.","body":"Please post the entire stacktrace."},{"owner":{"account_id":1077512,"reputation":2115,"user_id":1075330,"accept_rate":82,"display_name":"Stormcloud"},"score":0,"creation_date":1641327378,"post_id":70569251,"comment_id":124775611,"body_markdown":"@TheImpaler - I&#39;ve added all the JDBC driver information to the body of the post, but basically it&#39;s 8.0.27","body":"@TheImpaler - I&#39;ve added all the JDBC driver information to the body of the post, but basically it&#39;s 8.0.27"},{"owner":{"account_id":1077512,"reputation":2115,"user_id":1075330,"accept_rate":82,"display_name":"Stormcloud"},"score":0,"creation_date":1641327456,"post_id":70569251,"comment_id":124775634,"body_markdown":"@MarmiteBomber, Sorry, but I didn&#39;t make clear where the exception was - it&#39;s actually before any call to `getString`. I&#39;ve updated the post to make it clearer.","body":"@MarmiteBomber, Sorry, but I didn&#39;t make clear where the exception was - it&#39;s actually before any call to <code>getString</code>. I&#39;ve updated the post to make it clearer."},{"owner":{"account_id":1077512,"reputation":2115,"user_id":1075330,"accept_rate":82,"display_name":"Stormcloud"},"score":0,"creation_date":1641327547,"post_id":70569251,"comment_id":124775662,"body_markdown":"@LukeWoodward - I&#39;ve added the MySQL information to the body of the post, but basically it&#39;s a MariaDB installation on a Pi that I&#39;ve been using successfully for about a year now","body":"@LukeWoodward - I&#39;ve added the MySQL information to the body of the post, but basically it&#39;s a MariaDB installation on a Pi that I&#39;ve been using successfully for about a year now"},{"owner":{"account_id":1077512,"reputation":2115,"user_id":1075330,"accept_rate":82,"display_name":"Stormcloud"},"score":0,"creation_date":1641327842,"post_id":70569251,"comment_id":124775762,"body_markdown":"@MarkRotteveel, The exception I&#39;m getting really is as obtuse as `Index 8 out of bounds for length 7` (which isn&#39;t great because at my level of abstraction there are no arrays!) - it&#39;s not wrapped inside anything more helpful. That said, it did wrap an exception which I&#39;ve now added to the original post. I&#39;ve removed all the Spring/Catalina stuff that&#39;s launching my code just to remove some of the clutter.","body":"@MarkRotteveel, The exception I&#39;m getting really is as obtuse as <code>Index 8 out of bounds for length 7</code> (which isn&#39;t great because at my level of abstraction there are no arrays!) - it&#39;s not wrapped inside anything more helpful. That said, it did wrap an exception which I&#39;ve now added to the original post. I&#39;ve removed all the Spring/Catalina stuff that&#39;s launching my code just to remove some of the clutter."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1641371932,"post_id":70569251,"comment_id":124784807,"body_markdown":"The error seems to be a protocol issue (it&#39;s expecting more bytes than it received), and given you&#39;re connecting to MariaDB, not MySQL, you should be using the MariaDB Connector/J (version 2.7.3), and protocol prefix `jdbc:mariadb:`.","body":"The error seems to be a protocol issue (it&#39;s expecting more bytes than it received), and given you&#39;re connecting to MariaDB, not MySQL, you should be using the MariaDB Connector/J (version 2.7.3), and protocol prefix <code>jdbc:mariadb:</code>."},{"owner":{"account_id":1077512,"reputation":2115,"user_id":1075330,"accept_rate":82,"display_name":"Stormcloud"},"score":0,"creation_date":1641409319,"post_id":70569251,"comment_id":124800066,"body_markdown":"@MarkRotteveel, thanks for the advice - it worked a treat  :-) . I was under the misapprehension that  MariaDB was little more then a rebranded MySql. Clearly I was wrong. If you&#39;d like to resubmit your comment as an answer I can accept it. Thanks","body":"@MarkRotteveel, thanks for the advice - it worked a treat  :-) . I was under the misapprehension that  MariaDB was little more then a rebranded MySql. Clearly I was wrong. If you&#39;d like to resubmit your comment as an answer I can accept it. Thanks"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1641459480,"post_id":70569251,"comment_id":124811190,"body_markdown":"@Stormcloud You&#39;re welcome! I posted my comment as an answer.","body":"@Stormcloud You&#39;re welcome! I posted my comment as an answer."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641459450,"creation_date":1641459450,"answer_id":70604656,"question_id":70569251,"body_markdown":"The error seems to be a protocol issue (it&#39;s expecting more bytes than it received), and given you&#39;re connecting to MariaDB, not MySQL, you should be using the MariaDB Connector/J (version 2.7.3), and protocol prefix `jdbc:mariadb:`. \r\n\r\nAlthough MariaDB started as a fork of MySQL, it has diverged since it was forked.","title":"How to read database view metadata","body":"<p>The error seems to be a protocol issue (it's expecting more bytes than it received), and given you're connecting to MariaDB, not MySQL, you should be using the MariaDB Connector/J (version 2.7.3), and protocol prefix <code>jdbc:mariadb:</code>.</p>\n<p>Although MariaDB started as a fork of MySQL, it has diverged since it was forked.</p>\n"}],"owner":{"account_id":1077512,"reputation":2115,"user_id":1075330,"accept_rate":82,"display_name":"Stormcloud"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70604656,"answer_count":1,"score":0,"last_activity_date":1641459450,"creation_date":1641229996,"question_id":70569251,"body_markdown":"I&#39;m trying to use Java and Spring to read the table structure for a MySQL database. The code I&#39;ve got (based on other answers on this site) is:\r\n\r\n    private void dumpDefinition(JdbcTemplate jdbc, String table) throws SQLException {\r\n        DatabaseMetaData metaData = jdbc.getDataSource()\r\n            .getConnection()\r\n            .getMetaData();\r\n\r\n        try (\r\n            ResultSet definition = \r\n               metaData.getColumns(null, null, table, null)     // Exception here\r\n        ) {\r\n            System.out.println(table);\r\n\r\n            while (definition.next()) {\r\n                String name = definition.getString(&quot;COLUMN_NAME&quot;);\r\n                int type = definition.getInt(&quot;DATA_TYPE&quot;);\r\n\r\n                System.out.println(&quot;   &quot; + name + &quot;    &quot; + type);\r\n            }\r\n        } catch (SQLException | RuntimeException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nIf I call this code with the name of any of my database tables, it works perfectly. However, when I pass the name of any of my database views, I get the following exception:\r\n\r\n    java.sql.SQLException: Index 8 out of bounds for length 7\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n        at com.mysql.cj.jdbc.StatementImpl.executeQuery(StatementImpl.java:1206)\r\n        at com.mysql.cj.jdbc.DatabaseMetaData$2.forEach(DatabaseMetaData.java:2162)\r\n        at com.mysql.cj.jdbc.DatabaseMetaData$2.forEach(DatabaseMetaData.java:2091)\r\n        at com.mysql.cj.jdbc.IterateBlock.doForAll(IterateBlock.java:56)\r\n        at com.mysql.cj.jdbc.DatabaseMetaData.getColumns(DatabaseMetaData.java:2267)\r\n        at my.package.MyClass.dumpDefinition(MyClass.java:69)\r\n            --- omitted Spring Boot and Tomcat classes for clarity --- \r\n\r\n    Caused by: java.lang.ArrayIndexOutOfBoundsException: Index 8 out of bounds for length 7\r\n        at com.mysql.cj.protocol.a.NativePacketPayload.readInteger(NativePacketPayload.java:386)\r\n        at com.mysql.cj.protocol.a.NativeServerSessionStateController$NativeServerSessionStateChanges.init(NativeServerSessionStateController.java:108)\r\n        at com.mysql.cj.protocol.a.result.OkPacket.parse(OkPacket.java:64)\r\n        at com.mysql.cj.protocol.a.NativeProtocol.readServerStatusForResultSets(NativeProtocol.java:1691)\r\n        at com.mysql.cj.protocol.a.ResultsetRowReader.read(ResultsetRowReader.java:83)\r\n        at com.mysql.cj.protocol.a.ResultsetRowReader.read(ResultsetRowReader.java:42)\r\n        at com.mysql.cj.protocol.a.NativeProtocol.read(NativeProtocol.java:1587)\r\n        at com.mysql.cj.protocol.a.TextResultsetReader.read(TextResultsetReader.java:87)\r\n        at com.mysql.cj.protocol.a.TextResultsetReader.read(TextResultsetReader.java:48)\r\n        at com.mysql.cj.protocol.a.NativeProtocol.read(NativeProtocol.java:1600)\r\n        at com.mysql.cj.protocol.a.NativeProtocol.readAllResults(NativeProtocol.java:1654)\r\n        at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1000)\r\n        at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:933)\r\n        at com.mysql.cj.NativeSession.execSQL(NativeSession.java:664)\r\n        at com.mysql.cj.jdbc.StatementImpl.executeQuery(StatementImpl.java:1174)\r\n        ... 72 more\r\n\r\n\r\n\r\nI&#39;ve tried bumping the SQL driver to the latest version (8.0.27) but that didn&#39;t help. \r\n\r\nAs a work around I tried:\r\n\r\n    try (\r\n            PreparedStatement statement = jdbc.getDataSource()\r\n                .getConnection()\r\n                .prepareStatement(&quot;SELECT * from mySchema.&quot; + table + &quot; WHERE 1 = 0&quot;);\r\n            ResultSet resultSet = statement.executeQuery()  // Exception here\r\n        ) {\r\n            ResultSetMetaData meta = resultSet.getMetaData();\r\n                        etc \r\n\r\nBut again, I get the same SQLException - an array out of bounds exception. \r\n\r\nAny ideas?\r\n\r\n**Additional**\r\n\r\nThe following code dumps all the database table columns, but fails with the same exception as soon as a view is introduced into the schema \r\n\r\n    private void readDefinitions(JdbcTemplate jdbc) {\r\n        try (\r\n            ResultSet definition = jdbc.getDataSource()\r\n                .getConnection()\r\n                .getMetaData()\r\n                .getColumns(null, &quot;mySchema&quot;, null, null) // Exception here\r\n        ) {\r\n            while (definition.next()) {\r\n                String name = definition.getString(&quot;COLUMN_NAME&quot;);\r\n                int type = definition.getInt(&quot;DATA_TYPE&quot;);\r\n                String table = definition.getString(&quot;TABLE_NAME&quot;);\r\n\r\n                System.out.println(table + &quot; - &quot; + name + &quot; =&gt; &quot; + type);\r\n            }\r\n        } catch (SQLException | RuntimeException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nAm I looking at a JDBC bug?\r\n\r\n**Update**\r\n\r\n1. The JDBC Driver as given in my POM is:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.27&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n`metaData.getDriverVersion()` returns `mysql-connector-java-8.0.27 (Revision: e920b979015ae7117d60d72bcc8f077a839cd791)`\r\n\r\nI&#39;ve also tried versions 8.0.21 and 5.1.49, but they behave the same way. \r\n\r\nThis is all running on a Windows 11 PC with Java 17.0.1\r\n\r\n2. In the code above I&#39;ve highlighted the line that causes the exception - it&#39;s the one that creates the results I need to process (before I attempt to read any of the columns)\r\n\r\n\r\n3. WRT The stack trace - The exception I catch is a `java.sql.SQLException` - it&#39;s not wrapped inside anything.\r\n\r\n\r\n4. The Database I&#39;m talking to is on a Raspberry Pi. The details are:\r\n* **Version:** 10.3.23-MariaDB-0+deb10u1 (Raspbian 10)\r\n* **Compiled for:** debian-linux-gnueabihf (armv7l) \r\n","title":"How to read database view metadata","body":"<p>I'm trying to use Java and Spring to read the table structure for a MySQL database. The code I've got (based on other answers on this site) is:</p>\n<pre><code>private void dumpDefinition(JdbcTemplate jdbc, String table) throws SQLException {\n    DatabaseMetaData metaData = jdbc.getDataSource()\n        .getConnection()\n        .getMetaData();\n\n    try (\n        ResultSet definition = \n           metaData.getColumns(null, null, table, null)     // Exception here\n    ) {\n        System.out.println(table);\n\n        while (definition.next()) {\n            String name = definition.getString(&quot;COLUMN_NAME&quot;);\n            int type = definition.getInt(&quot;DATA_TYPE&quot;);\n\n            System.out.println(&quot;   &quot; + name + &quot;    &quot; + type);\n        }\n    } catch (SQLException | RuntimeException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>If I call this code with the name of any of my database tables, it works perfectly. However, when I pass the name of any of my database views, I get the following exception:</p>\n<pre><code>java.sql.SQLException: Index 8 out of bounds for length 7\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.StatementImpl.executeQuery(StatementImpl.java:1206)\n    at com.mysql.cj.jdbc.DatabaseMetaData$2.forEach(DatabaseMetaData.java:2162)\n    at com.mysql.cj.jdbc.DatabaseMetaData$2.forEach(DatabaseMetaData.java:2091)\n    at com.mysql.cj.jdbc.IterateBlock.doForAll(IterateBlock.java:56)\n    at com.mysql.cj.jdbc.DatabaseMetaData.getColumns(DatabaseMetaData.java:2267)\n    at my.package.MyClass.dumpDefinition(MyClass.java:69)\n        --- omitted Spring Boot and Tomcat classes for clarity --- \n\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 8 out of bounds for length 7\n    at com.mysql.cj.protocol.a.NativePacketPayload.readInteger(NativePacketPayload.java:386)\n    at com.mysql.cj.protocol.a.NativeServerSessionStateController$NativeServerSessionStateChanges.init(NativeServerSessionStateController.java:108)\n    at com.mysql.cj.protocol.a.result.OkPacket.parse(OkPacket.java:64)\n    at com.mysql.cj.protocol.a.NativeProtocol.readServerStatusForResultSets(NativeProtocol.java:1691)\n    at com.mysql.cj.protocol.a.ResultsetRowReader.read(ResultsetRowReader.java:83)\n    at com.mysql.cj.protocol.a.ResultsetRowReader.read(ResultsetRowReader.java:42)\n    at com.mysql.cj.protocol.a.NativeProtocol.read(NativeProtocol.java:1587)\n    at com.mysql.cj.protocol.a.TextResultsetReader.read(TextResultsetReader.java:87)\n    at com.mysql.cj.protocol.a.TextResultsetReader.read(TextResultsetReader.java:48)\n    at com.mysql.cj.protocol.a.NativeProtocol.read(NativeProtocol.java:1600)\n    at com.mysql.cj.protocol.a.NativeProtocol.readAllResults(NativeProtocol.java:1654)\n    at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:1000)\n    at com.mysql.cj.protocol.a.NativeProtocol.sendQueryString(NativeProtocol.java:933)\n    at com.mysql.cj.NativeSession.execSQL(NativeSession.java:664)\n    at com.mysql.cj.jdbc.StatementImpl.executeQuery(StatementImpl.java:1174)\n    ... 72 more\n</code></pre>\n<p>I've tried bumping the SQL driver to the latest version (8.0.27) but that didn't help.</p>\n<p>As a work around I tried:</p>\n<pre><code>try (\n        PreparedStatement statement = jdbc.getDataSource()\n            .getConnection()\n            .prepareStatement(&quot;SELECT * from mySchema.&quot; + table + &quot; WHERE 1 = 0&quot;);\n        ResultSet resultSet = statement.executeQuery()  // Exception here\n    ) {\n        ResultSetMetaData meta = resultSet.getMetaData();\n                    etc \n</code></pre>\n<p>But again, I get the same SQLException - an array out of bounds exception.</p>\n<p>Any ideas?</p>\n<p><strong>Additional</strong></p>\n<p>The following code dumps all the database table columns, but fails with the same exception as soon as a view is introduced into the schema</p>\n<pre><code>private void readDefinitions(JdbcTemplate jdbc) {\n    try (\n        ResultSet definition = jdbc.getDataSource()\n            .getConnection()\n            .getMetaData()\n            .getColumns(null, &quot;mySchema&quot;, null, null) // Exception here\n    ) {\n        while (definition.next()) {\n            String name = definition.getString(&quot;COLUMN_NAME&quot;);\n            int type = definition.getInt(&quot;DATA_TYPE&quot;);\n            String table = definition.getString(&quot;TABLE_NAME&quot;);\n\n            System.out.println(table + &quot; - &quot; + name + &quot; =&gt; &quot; + type);\n        }\n    } catch (SQLException | RuntimeException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Am I looking at a JDBC bug?</p>\n<p><strong>Update</strong></p>\n<ol>\n<li><p>The JDBC Driver as given in my POM is:</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;mysql&lt;/groupId&gt;\n     &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n     &lt;version&gt;8.0.27&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n</li>\n</ol>\n<p><code>metaData.getDriverVersion()</code> returns <code>mysql-connector-java-8.0.27 (Revision: e920b979015ae7117d60d72bcc8f077a839cd791)</code></p>\n<p>I've also tried versions 8.0.21 and 5.1.49, but they behave the same way.</p>\n<p>This is all running on a Windows 11 PC with Java 17.0.1</p>\n<ol start=\"2\">\n<li><p>In the code above I've highlighted the line that causes the exception - it's the one that creates the results I need to process (before I attempt to read any of the columns)</p>\n</li>\n<li><p>WRT The stack trace - The exception I catch is a <code>java.sql.SQLException</code> - it's not wrapped inside anything.</p>\n</li>\n<li><p>The Database I'm talking to is on a Raspberry Pi. The details are:</p>\n</li>\n</ol>\n<ul>\n<li><strong>Version:</strong> 10.3.23-MariaDB-0+deb10u1 (Raspbian 10)</li>\n<li><strong>Compiled for:</strong> debian-linux-gnueabihf (armv7l)</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","rest","email"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1641454065,"post_id":70603751,"comment_id":124809679,"body_markdown":"Why would you need a database for this? What makes you think you do?","body":"Why would you need a database for this? What makes you think you do?"},{"owner":{"account_id":16904098,"reputation":627,"user_id":12224743,"display_name":"Umeshwaran"},"score":0,"creation_date":1641454430,"post_id":70603751,"comment_id":124809782,"body_markdown":"Link you provided doesn&#39;t use any database. Why did you get this confusion?","body":"Link you provided doesn&#39;t use any database. Why did you get this confusion?"},{"owner":{"account_id":21652779,"reputation":15,"user_id":15973129,"display_name":"mrHowareyou"},"score":0,"creation_date":1641454654,"post_id":70603751,"comment_id":124809836,"body_markdown":"Sorry, I am quite new in programming.\nBecause my work project connected to DB, and I am now trying to build one on my own in another new project.\nBut after the setting the method, WHAT do I do to call the method to send email ? (Or what is my next step)","body":"Sorry, I am quite new in programming. Because my work project connected to DB, and I am now trying to build one on my own in another new project. But after the setting the method, WHAT do I do to call the method to send email ? (Or what is my next step)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1641454655,"post_id":70603751,"comment_id":124809837,"body_markdown":"Seeing as no db is used there, as @M.Deinum already stated, the question has kind of answered itself","body":"Seeing as no db is used there, as @M.Deinum already stated, the question has kind of answered itself"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1641454736,"post_id":70603751,"comment_id":124809862,"body_markdown":"@mrHowareyou your next step would be to learn how to use spring(boot) and how to call it, but I think explaining all of that would be way too broad for SO","body":"@mrHowareyou your next step would be to learn how to use spring(boot) and how to call it, but I think explaining all of that would be way too broad for SO"},{"owner":{"account_id":21652779,"reputation":15,"user_id":15973129,"display_name":"mrHowareyou"},"score":0,"creation_date":1641454796,"post_id":70603751,"comment_id":124809873,"body_markdown":"@Stultuske Yes, but my workplace is using a tool called scheduler to call methods.\nBut what if I try it on my own, do I build a controller instead?","body":"@Stultuske Yes, but my workplace is using a tool called scheduler to call methods. But what if I try it on my own, do I build a controller instead?"},{"owner":{"account_id":16904098,"reputation":627,"user_id":12224743,"display_name":"Umeshwaran"},"score":0,"creation_date":1641454858,"post_id":70603751,"comment_id":124809882,"body_markdown":"You have to create a controller method and expose an REST endpoint (GET/POST based on your need) and call the email sending utility","body":"You have to create a controller method and expose an REST endpoint (GET/POST based on your need) and call the email sending utility"},{"owner":{"account_id":21652779,"reputation":15,"user_id":15973129,"display_name":"mrHowareyou"},"score":0,"creation_date":1641454923,"post_id":70603751,"comment_id":124809897,"body_markdown":"Is REST/ controller things can be done without DB setting? (I have no idea at all)\nThank you very much","body":"Is REST/ controller things can be done without DB setting? (I have no idea at all) Thank you very much"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1641455631,"post_id":70603751,"comment_id":124810083,"body_markdown":"@mrHowareyou as already explained, there are no DB&#39;s involved in this story","body":"@mrHowareyou as already explained, there are no DB&#39;s involved in this story"}],"answers":[{"tags":[],"owner":{"account_id":9141547,"reputation":573,"user_id":6799230,"display_name":"Pierre Janineh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641458952,"creation_date":1641458952,"answer_id":70604569,"question_id":70603751,"body_markdown":"I think you are referring to **Server** as **DB**.\r\n\r\nYou do need a Server to handle RestAPI requests that send the actual email. But you definitely do not need a Database, unless you need to store some **data**.\r\n\r\n","title":"How to send Email in Java without DB setting","body":"<p>I think you are referring to <strong>Server</strong> as <strong>DB</strong>.</p>\n<p>You do need a Server to handle RestAPI requests that send the actual email. But you definitely do not need a Database, unless you need to store some <strong>data</strong>.</p>\n"}],"owner":{"account_id":21652779,"reputation":15,"user_id":15973129,"display_name":"mrHowareyou"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1641463155,"accepted_answer_id":70604569,"answer_count":1,"score":0,"last_activity_date":1641458952,"creation_date":1641453836,"question_id":70603751,"body_markdown":"I have set up a simpleMailMessage service following the codes and information given from [spring-email from baeldung][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-email\r\n\r\nAfter setting my configuration, maven dependency, and service, I am wondering How do I call the method without database source? \r\n\r\nis it to create a controller to call this sending method from service in localhost:8080?\r\n\r\nIf I make my questions and situations unclear, please let me know.\r\nThank you.","title":"How to send Email in Java without DB setting","body":"<p>I have set up a simpleMailMessage service following the codes and information given from <a href=\"https://www.baeldung.com/spring-email\" rel=\"nofollow noreferrer\">spring-email from baeldung</a></p>\n<p>After setting my configuration, maven dependency, and service, I am wondering How do I call the method without database source?</p>\n<p>is it to create a controller to call this sending method from service in localhost:8080?</p>\n<p>If I make my questions and situations unclear, please let me know.\nThank you.</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":23843990,"reputation":1,"user_id":17848706,"display_name":"Waqas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1641458422,"creation_date":1641458422,"question_id":70604468,"body_markdown":"java.lang.ClassNotFoundException: Didn&#39;t find class &quot;Generated For Debugger Class$generated_for_debugger_fun$1&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.smileapp-RDUHRAQh7shHCc-Oue_UvQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.smileapp-RDUHRAQh7shHCc-Oue_UvQ==/lib/x86, /system/lib, /system/product/lib]]","title":"java.lang.ClassNotFoundException: Didn&#39;t find class &quot;Generated while getting API response","body":"<p>java.lang.ClassNotFoundException: Didn't find class &quot;Generated For Debugger Class$generated_for_debugger_fun$1&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.smileapp-RDUHRAQh7shHCc-Oue_UvQ==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.smileapp-RDUHRAQh7shHCc-Oue_UvQ==/lib/x86, /system/lib, /system/product/lib]]</p>\n"},{"tags":["java","quarkus","reactive"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1641239539,"post_id":70570699,"comment_id":124750196,"body_markdown":"Maybe [the official RestEASY Reactive guide: Exception Mapping](https://quarkus.io/guides/resteasy-reactive#exception-mapping) can help.","body":"Maybe <a href=\"https://quarkus.io/guides/resteasy-reactive#exception-mapping\" rel=\"nofollow noreferrer\">the official RestEASY Reactive guide: Exception Mapping</a> can help."}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641276989,"creation_date":1641276989,"answer_id":70574709,"question_id":70570699,"body_markdown":"You can use `throw new WebApplicationException(Response.status(422).entity(fruit.name + &quot; already exists&quot;).build())`","title":"Using Quarkus to throw status code with message","body":"<p>You can use <code>throw new WebApplicationException(Response.status(422).entity(fruit.name + &quot; already exists&quot;).build())</code></p>\n"},{"tags":[],"owner":{"account_id":23843838,"reputation":33,"user_id":17848575,"display_name":"Devenol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641457657,"creation_date":1641457657,"answer_id":70604330,"question_id":70570699,"body_markdown":"```\r\nif (Fruit.find(fruit.name) != null) {\r\n    return Uni.createFrom().item(Response.status(422).entity(fruit.name + &quot; already exists&quot;).build());\r\n}\r\n```","title":"Using Quarkus to throw status code with message","body":"<pre><code>if (Fruit.find(fruit.name) != null) {\n    return Uni.createFrom().item(Response.status(422).entity(fruit.name + &quot; already exists&quot;).build());\n}\n</code></pre>\n"}],"owner":{"account_id":21192391,"reputation":105,"user_id":15584627,"display_name":"Kinder9211"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641457657,"creation_date":1641239186,"question_id":70570699,"body_markdown":"Hello i&#39;m trying to learn Quarkus but am unable to find out how to return a error message to the client\r\n\r\n```java \r\n    @POST\r\n    public Uni&lt;Response&gt; create(Fruit fruit) {\r\n        if (Fruit.find(fruit.name) != null) {\r\n            throw new WebApplicationException(fruit.name + &quot; already exists&quot;, 422);\r\n        }\r\n\r\n        return Panache.&lt;Fruit&gt;withTransaction(fruit::persist)\r\n                .onItem()\r\n                .transform(inserted -&gt; Response\r\n                        .created(URI.create(&quot;/fruits&quot; + inserted.id))\r\n                        .build());\r\n    }\r\n```\r\n\r\nI have the following code block what i want is for the\r\n\r\n```java \r\nfruit.name + &quot; already exists\r\n```\r\n\r\nto be printed to the client when they try to POST. But I only get the 422 error code. How can I also send the message back to the client?\r\n","title":"Using Quarkus to throw status code with message","body":"<p>Hello i'm trying to learn Quarkus but am unable to find out how to return a error message to the client</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @POST\n    public Uni&lt;Response&gt; create(Fruit fruit) {\n        if (Fruit.find(fruit.name) != null) {\n            throw new WebApplicationException(fruit.name + &quot; already exists&quot;, 422);\n        }\n\n        return Panache.&lt;Fruit&gt;withTransaction(fruit::persist)\n                .onItem()\n                .transform(inserted -&gt; Response\n                        .created(URI.create(&quot;/fruits&quot; + inserted.id))\n                        .build());\n    }\n</code></pre>\n<p>I have the following code block what i want is for the</p>\n<pre class=\"lang-java prettyprint-override\"><code>fruit.name + &quot; already exists\n</code></pre>\n<p>to be printed to the client when they try to POST. But I only get the 422 error code. How can I also send the message back to the client?</p>\n"},{"tags":["java","ssl","rmi","jmx"],"comments":[{"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"score":0,"creation_date":1640959780,"post_id":70309104,"comment_id":124699187,"body_markdown":"Does your application in MyApplication.jar support SSL at all? That means does it use SSLServerSocket instead of ServerSocket?  &#39;javax.net.ssl.SSLException: Unsupported or unrecognized SSL message&#39; could be evidence for plaintext connection.","body":"Does your application in MyApplication.jar support SSL at all? That means does it use SSLServerSocket instead of ServerSocket?  &#39;javax.net.ssl.SSLException: Unsupported or unrecognized SSL message&#39; could be evidence for plaintext connection."},{"owner":{"account_id":3424059,"reputation":95,"user_id":11971127,"display_name":"Erik Rijcken"},"score":0,"creation_date":1640965123,"post_id":70309104,"comment_id":124700559,"body_markdown":"When connecting with hostname:1099, it does correctly make a handshake and connect without sending username/password in plaintext. I&#39;m not sure if it&#39;s possible that the application supports SSL using one way, but not the other way. That said, we don&#39;t configure any specific Socket code-wise, the only configuration we do is with the JVM arguments.","body":"When connecting with hostname:1099, it does correctly make a handshake and connect without sending username/password in plaintext. I&#39;m not sure if it&#39;s possible that the application supports SSL using one way, but not the other way. That said, we don&#39;t configure any specific Socket code-wise, the only configuration we do is with the JVM arguments."},{"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"score":0,"creation_date":1640968628,"post_id":70309104,"comment_id":124701399,"body_markdown":"You can try to set option -Djavax.net.debug=all and watch the console output. If there is any SSL debug output than your application uses SSL.","body":"You can try to set option -Djavax.net.debug=all and watch the console output. If there is any SSL debug output than your application uses SSL."},{"owner":{"account_id":3424059,"reputation":95,"user_id":11971127,"display_name":"Erik Rijcken"},"score":0,"creation_date":1641027696,"post_id":70309104,"comment_id":124708754,"body_markdown":"There is, that&#39;s where the logs are coming from.","body":"There is, that&#39;s where the logs are coming from."},{"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"score":1,"creation_date":1641030359,"post_id":70309104,"comment_id":124709128,"body_markdown":"Sorry, if my last question wasn&#39;t clear enough. Do you see (on either side) SSL handshake messages? First which must come is a CLIENT_HELLO (sent by client) imediately followed by a SERVER_HELLO (sent by server). If this messagese are sent, what is the last SSL handshake message before the exception?","body":"Sorry, if my last question wasn&#39;t clear enough. Do you see (on either side) SSL handshake messages? First which must come is a CLIENT_HELLO (sent by client) imediately followed by a SERVER_HELLO (sent by server). If this messagese are sent, what is the last SSL handshake message before the exception?"},{"owner":{"account_id":3424059,"reputation":95,"user_id":11971127,"display_name":"Erik Rijcken"},"score":0,"creation_date":1641031614,"post_id":70309104,"comment_id":124709327,"body_markdown":"I don&#39;t recall the client-side logs, but I don&#39;t think there&#39;s a CLIENT_HELLO or SERVER_HELLO in the logs on server-side logs. If I recall, the server-side logs are essentially what I put after the edit (first a list of ignored encryption algorithms, then the error/stack). Does that mean we have to add more setup in the code itself, to enable SSL via the service-URL? And if yes, what would that be? (A reference to some tutorial would also be sufficient to me, all tutorials I saw simply talk about the launch arguments).","body":"I don&#39;t recall the client-side logs, but I don&#39;t think there&#39;s a CLIENT_HELLO or SERVER_HELLO in the logs on server-side logs. If I recall, the server-side logs are essentially what I put after the edit (first a list of ignored encryption algorithms, then the error/stack). Does that mean we have to add more setup in the code itself, to enable SSL via the service-URL? And if yes, what would that be? (A reference to some tutorial would also be sufficient to me, all tutorials I saw simply talk about the launch arguments)."}],"answers":[{"tags":[],"owner":{"account_id":5165555,"reputation":7645,"user_id":4135670,"accept_rate":93,"display_name":"Rafael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640749653,"creation_date":1640749653,"answer_id":70514920,"question_id":70309104,"body_markdown":"TLS handshakes are obviously failing. Without knowing the contents of your truststore (a couple of self-signed certificates?), or the ability to inspect the certificates in exchange, it&#39;s most likely because `cacerts`, the default Java truststore that contains common public root certificates, is not being loaded anymore now that you&#39;re specifying your own truststore.\r\n\r\nAs a confidence check, you can import the contents of `cacerts` into a copy of your truststore and retry. (See keytool&#39;s importkeystore.)","title":"SSL for JMX with RMI","body":"<p>TLS handshakes are obviously failing. Without knowing the contents of your truststore (a couple of self-signed certificates?), or the ability to inspect the certificates in exchange, it's most likely because <code>cacerts</code>, the default Java truststore that contains common public root certificates, is not being loaded anymore now that you're specifying your own truststore.</p>\n<p>As a confidence check, you can import the contents of <code>cacerts</code> into a copy of your truststore and retry. (See keytool's importkeystore.)</p>\n"},{"tags":[],"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641033967,"creation_date":1640959420,"answer_id":70543022,"question_id":70309104,"body_markdown":"The thrown ```javax.net.ssl.SSLException: Unsupported or unrecognized SSL message``` is an indicator that there is plaintext instead of SSL communication. This asumption is verified by the fact that there are no SSL handshake messages (at least CLIENT_HELLO) in the debug output.\r\nSo it seems to be clear that th client doesn&#39;t use SSLSocket for communication.\r\n\r\nOne very simple example for SSLSocket based communication can be found here in [Oracle documentation][1], but there are lot more available.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/security/sample-code-illustrating-secure-socket-connection-client-and-server.htm#JSSEC-GUID-AA1C27A1-2CA8-4309-B281-D6199F60E666","title":"SSL for JMX with RMI","body":"<p>The thrown <code>javax.net.ssl.SSLException: Unsupported or unrecognized SSL message</code> is an indicator that there is plaintext instead of SSL communication. This asumption is verified by the fact that there are no SSL handshake messages (at least CLIENT_HELLO) in the debug output.\nSo it seems to be clear that th client doesn't use SSLSocket for communication.</p>\n<p>One very simple example for SSLSocket based communication can be found here in <a href=\"https://docs.oracle.com/javase/10/security/sample-code-illustrating-secure-socket-connection-client-and-server.htm#JSSEC-GUID-AA1C27A1-2CA8-4309-B281-D6199F60E666\" rel=\"nofollow noreferrer\">Oracle documentation</a>, but there are lot more available.</p>\n"},{"tags":[],"owner":{"account_id":8318014,"reputation":2224,"user_id":6250649,"display_name":"JohannesB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641230906,"creation_date":1641222528,"answer_id":70567734,"question_id":70309104,"body_markdown":"Hm, I&#39;m not sure but if I read this [page from CERN][1] correctly, and I quote:\r\n\r\n&gt; in case you don&#39;t use SSL the RMI port and the JMX port can be the same\r\n\r\nit follows that if you want to use SSL/TLS you thus need to use 2 different ports on the server side. (This is confirmed by this [comment][2] stating: &quot;SSL doesn&#39;t do port sharing&quot;).\r\n\r\nAlso you may want to consider using https://jolokia.org/ as HTTP+JSON alternative for all the crazyness of RMI networking, which also provides a Java client e.g. for JConsole, see the bottom of: https://jolokia.org/reference/html/clients.html for an example.\r\n\r\n\r\n  [1]: https://db-blog.web.cern.ch/blog/viktor-kozlovszky/2018-10-jmx-connection-ssl\r\n  [2]: https://stackoverflow.com/questions/43615911/rm-over-ssl-with-single-port-on-server#comment74929758_43615911","title":"SSL for JMX with RMI","body":"<p>Hm, I'm not sure but if I read this <a href=\"https://db-blog.web.cern.ch/blog/viktor-kozlovszky/2018-10-jmx-connection-ssl\" rel=\"nofollow noreferrer\">page from CERN</a> correctly, and I quote:</p>\n<blockquote>\n<p>in case you don't use SSL the RMI port and the JMX port can be the same</p>\n</blockquote>\n<p>it follows that if you want to use SSL/TLS you thus need to use 2 different ports on the server side. (This is confirmed by this <a href=\"https://stackoverflow.com/questions/43615911/rm-over-ssl-with-single-port-on-server#comment74929758_43615911\">comment</a> stating: &quot;SSL doesn't do port sharing&quot;).</p>\n<p>Also you may want to consider using <a href=\"https://jolokia.org/\" rel=\"nofollow noreferrer\">https://jolokia.org/</a> as HTTP+JSON alternative for all the crazyness of RMI networking, which also provides a Java client e.g. for JConsole, see the bottom of: <a href=\"https://jolokia.org/reference/html/clients.html\" rel=\"nofollow noreferrer\">https://jolokia.org/reference/html/clients.html</a> for an example.</p>\n"},{"tags":[],"owner":{"account_id":3424059,"reputation":95,"user_id":11971127,"display_name":"Erik Rijcken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641457561,"creation_date":1641457561,"answer_id":70604317,"question_id":70309104,"body_markdown":"After a long search, with a lot of debugging, trial and error, we came to the conclusion that there is no out-of-the-box solution in Spring (Boot) to enable SSL with an RMI registry and a JMX connection server. This had to be configured manually. We used the following Spring configuration class that did the trick:\r\n\r\n    @Configuration\r\n    @EnableMBeanExport\r\n    public class JMXConfig {\r\n    \r\n    \tprivate static final Log LOG = LogFactory.getLog(JMXConfig .class);\r\n    \r\n    \t@Value(&quot;${jmx.registry.port:1098}&quot;)\r\n    \tprivate Integer registryPort;\r\n    \t@Value(&quot;${jmx.rmi.port:1099}&quot;)\r\n    \tprivate Integer rmiPort;\r\n    \r\n    \t@Bean\r\n    \tpublic RmiRegistryFactoryBean rmiRegistry() {\r\n    \t\tfinal RmiRegistryFactoryBean rmiRegistryFactoryBean = new RmiRegistryFactoryBean();\r\n    \t\trmiRegistryFactoryBean.setPort(rmiPort);\r\n    \t\trmiRegistryFactoryBean.setAlwaysCreate(true);\r\n    \r\n    \t\tLOG.info(&quot;Creating RMI registry on port &quot; + rmiRegistryFactoryBean.getPort());\r\n    \t\treturn rmiRegistryFactoryBean;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@DependsOn(&quot;rmiRegistry&quot;)\r\n    \tpublic ConnectorServerFactoryBean connectorServerFactoryBean() throws MalformedObjectNameException {\r\n    \t\tString rmiHost = getHost();\r\n    \t\tString serviceURL = serviceURL(rmiHost);\r\n    \t\tLOG.info(&quot;Creating JMX connection for URL &quot; + serviceURL);\r\n    \r\n    \t\tfinal ConnectorServerFactoryBean connectorServerFactoryBean = new ConnectorServerFactoryBean();\r\n    \t\tconnectorServerFactoryBean.setObjectName(&quot;connector:name=rmi&quot;);\r\n    \t\tconnectorServerFactoryBean.setEnvironmentMap(createRmiEnvironment(rmiHost));\r\n    \t\tconnectorServerFactoryBean.setServiceUrl(serviceURL);\r\n    \t\treturn connectorServerFactoryBean;\r\n    \t}\r\n    \r\n    \tprivate String getHost() {\r\n    \t\ttry {\r\n    \t\t\tInetAddress localMachine = InetAddress.getLocalHost();\r\n    \t\t\treturn localMachine.getCanonicalHostName();\r\n    \t\t} catch (UnknownHostException e) {\r\n    \t\t\tLOG.warn(&quot;Unable to get hostname, using localhost&quot;, e);\r\n    \t\t\treturn &quot;localhost&quot;;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate String serviceURL(String rmiHost) {\r\n    \t\treturn format(&quot;service:jmx:rmi://%s:%s/jndi/rmi://%s:%s/jmxrmi&quot;, rmiHost, registryPort, rmiHost, rmiPort);\r\n    \t}\r\n    \r\n    \tprivate Map&lt;String, Object&gt; createRmiEnvironment(String rmiHost) {\r\n    \t\tfinal Map&lt;String, Object&gt; rmiEnvironment = new HashMap&lt;&gt;();\r\n    \t\trmiEnvironment.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.rmi.registry.RegistryContextFactory&quot;);\r\n    \t\trmiEnvironment.put(Context.PROVIDER_URL, &quot;rmi://&quot; + rmiHost + &quot;:&quot; + rmiPort);\r\n    \t\trmiEnvironment.put(RMIConnectorServer.RMI_CLIENT_SOCKET_FACTORY_ATTRIBUTE, new SslRMIClientSocketFactory());\r\n    \t\trmiEnvironment.put(RMIConnectorServer.RMI_SERVER_SOCKET_FACTORY_ATTRIBUTE, new SslRMIServerSocketFactory());\r\n    \t\treturn rmiEnvironment;\r\n    \t}\r\n    }\r\n\r\nThis enables SSL using the connection details `service:jmx:rmi:///jndi/rmi://hostname:1099/jmxrmi`. To make it work, you need to add a keystore/password to your backend, and a truststore/password to your frontend (as in the [tutorial][1]).\r\n\r\n  [1]: http://www.cleantutorials.com/jconsole/jconsole-ssl-with-password-authentication","title":"SSL for JMX with RMI","body":"<p>After a long search, with a lot of debugging, trial and error, we came to the conclusion that there is no out-of-the-box solution in Spring (Boot) to enable SSL with an RMI registry and a JMX connection server. This had to be configured manually. We used the following Spring configuration class that did the trick:</p>\n<pre><code>@Configuration\n@EnableMBeanExport\npublic class JMXConfig {\n\n    private static final Log LOG = LogFactory.getLog(JMXConfig .class);\n\n    @Value(&quot;${jmx.registry.port:1098}&quot;)\n    private Integer registryPort;\n    @Value(&quot;${jmx.rmi.port:1099}&quot;)\n    private Integer rmiPort;\n\n    @Bean\n    public RmiRegistryFactoryBean rmiRegistry() {\n        final RmiRegistryFactoryBean rmiRegistryFactoryBean = new RmiRegistryFactoryBean();\n        rmiRegistryFactoryBean.setPort(rmiPort);\n        rmiRegistryFactoryBean.setAlwaysCreate(true);\n\n        LOG.info(&quot;Creating RMI registry on port &quot; + rmiRegistryFactoryBean.getPort());\n        return rmiRegistryFactoryBean;\n    }\n\n    @Bean\n    @DependsOn(&quot;rmiRegistry&quot;)\n    public ConnectorServerFactoryBean connectorServerFactoryBean() throws MalformedObjectNameException {\n        String rmiHost = getHost();\n        String serviceURL = serviceURL(rmiHost);\n        LOG.info(&quot;Creating JMX connection for URL &quot; + serviceURL);\n\n        final ConnectorServerFactoryBean connectorServerFactoryBean = new ConnectorServerFactoryBean();\n        connectorServerFactoryBean.setObjectName(&quot;connector:name=rmi&quot;);\n        connectorServerFactoryBean.setEnvironmentMap(createRmiEnvironment(rmiHost));\n        connectorServerFactoryBean.setServiceUrl(serviceURL);\n        return connectorServerFactoryBean;\n    }\n\n    private String getHost() {\n        try {\n            InetAddress localMachine = InetAddress.getLocalHost();\n            return localMachine.getCanonicalHostName();\n        } catch (UnknownHostException e) {\n            LOG.warn(&quot;Unable to get hostname, using localhost&quot;, e);\n            return &quot;localhost&quot;;\n        }\n    }\n\n    private String serviceURL(String rmiHost) {\n        return format(&quot;service:jmx:rmi://%s:%s/jndi/rmi://%s:%s/jmxrmi&quot;, rmiHost, registryPort, rmiHost, rmiPort);\n    }\n\n    private Map&lt;String, Object&gt; createRmiEnvironment(String rmiHost) {\n        final Map&lt;String, Object&gt; rmiEnvironment = new HashMap&lt;&gt;();\n        rmiEnvironment.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.rmi.registry.RegistryContextFactory&quot;);\n        rmiEnvironment.put(Context.PROVIDER_URL, &quot;rmi://&quot; + rmiHost + &quot;:&quot; + rmiPort);\n        rmiEnvironment.put(RMIConnectorServer.RMI_CLIENT_SOCKET_FACTORY_ATTRIBUTE, new SslRMIClientSocketFactory());\n        rmiEnvironment.put(RMIConnectorServer.RMI_SERVER_SOCKET_FACTORY_ATTRIBUTE, new SslRMIServerSocketFactory());\n        return rmiEnvironment;\n    }\n}\n</code></pre>\n<p>This enables SSL using the connection details <code>service:jmx:rmi:///jndi/rmi://hostname:1099/jmxrmi</code>. To make it work, you need to add a keystore/password to your backend, and a truststore/password to your frontend (as in the <a href=\"http://www.cleantutorials.com/jconsole/jconsole-ssl-with-password-authentication\" rel=\"nofollow noreferrer\">tutorial</a>).</p>\n"}],"owner":{"account_id":3424059,"reputation":95,"user_id":11971127,"display_name":"Erik Rijcken"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1728,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70604317,"answer_count":4,"score":1,"last_activity_date":1641457561,"creation_date":1639161947,"question_id":70309104,"body_markdown":"We have a Java application which has had a JConsole connection with password authentication for a while. In improving the security of this, we are trying to encrypt the connection made from JConsole to the application.\r\n\r\nUp until now, we have launched our application with the following launch command:\r\n\r\n    java -Dcom.sun.management.jmxremote \\\r\n         -Dcom.sun.management.jmxremote.port=1099 \\\r\n         -Dcom.sun.management.jmxremote.rmi.port=1099 \\\r\n         -Dcom.sun.management.jmxremote.authenticate=true \\\r\n         -Dcom.sun.management.jmxremote.password.file=jmx.password \\\r\n         -Dcom.sun.management.jmxremote.access.file=jmx.access \\\r\n         -Dcom.sun.management.jmxremote.ssl=false\r\n         -jar MyApplication.jar\r\nWith this, we can flawlessly access the JMX methods of MyApplication via both JConsole, jmxterm, and other Java applications. In JConsole and jmxterm, we can use both `hostname:1099` and `service:jmx:rmi:///jndi/rmi://hostname:1099/jmxrmi` without issues. From the Java applications, we always use `service:jmx:rmi:///jndi/rmi://hostname:1099/jmxrmi`, again without issues. Our application has no code-based setup of the JMX endpoint (we exposes some methods and attributes, but we did not touch the registry and socket factories).\r\n\r\nNow we are trying to set up SSL between our application, and all other parties, following [www.cleantutorials.com/jconsole/jconsole-ssl-with-password-authentication][1]. Doing this, we have a keystore and truststore for both MyApplication and whoever the client connection to the JMX methods is. We use \r\n\r\n    java -Dcom.sun.management.jmxremote \\\r\n         -Dcom.sun.management.jmxremote.port=1099 \\\r\n         -Dcom.sun.management.jmxremote.rmi.port=1099 \\\r\n         -Dcom.sun.management.jmxremote.authenticate=true \\\r\n         -Dcom.sun.management.jmxremote.password.file=jmx.password \\\r\n         -Dcom.sun.management.jmxremote.access.file=jmx.access \\\r\n         -Dcom.sun.management.jmxremote.ssl=true \\\r\n         -Dcom.sun.management.jmxremote.ssl.need.client.auth=true \\\r\n         -Dcom.sun.management.jmxremote.registry.ssl=true \\\r\n         -Djava.rmi.server.hostname=hostname \\\r\n         -Djavax.net.ssl.keyStore=server-jmx-keystore \\\r\n         -Djavax.net.ssl.keyStorePassword=password \\\r\n         -Djavax.net.ssl.trustStore=server-jmx-truststore \\\r\n         -Djavax.net.ssl.trustStorePassword=password \\\r\n         -jar MyApplication.jar\r\nAfter this, almost all our connections fail. The only one succeeding, is via JConsole (adding the client keystore and truststores to the launch config), and only using `hostname:1099`. Using the address `service:jmx:rmi:///jndi/rmi://hostname:1099/jmxrmi` no longer works, not via JConsole, not via jmxterm, and not via other applications.\r\n\r\nWe have tried about any combination of launch settings we could think of, but nothing that we find anywhere seems to work. The error we see when trying to connect from e.g. jmxterm is:\r\n\r\n    java.rmi.ConnectIOException: non-JRMP server at remote endpoint\r\n\r\n(I can provide the full stack if needed).\r\n\r\nWe&#39;re a bit at a loss on how to continue, what we can do to make all connections that used to work, now work. What should we do to enable connecting with `service:jmx:rmi:///jndi/rmi://hostname:1099/jmxrmi`-like connection strings via SSL?\r\n\r\nIf relevant, this application is using OpenJDK 11.0.5, other applications where we might need this run on OpenJDK 8.\r\n\r\n**Edit**\r\n\r\nDebugging both the JConsole client and the backend side, it seems that the protocol that the client is trying to establish is not known in the SSL context. On the backend, we have the following error:\r\n\r\n```\r\njavax.net.ssl|DEBUG|20|RMI TCP Connection(1)|2021-12-28 10:04:04.265 CET|null:-1|Raw read (\r\n  0000: 4A 52 4D 49 00\r\n                JRMI.\r\n)\r\njavax.net.ssl|ERROR|20|RMI TCP Connection(1)|2021-12-28 10:04:04.267 CET|null:-1|Fatal (UNEXPECTED_MESSAGE): Unsupported or unrecognized SSL message (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\r\n          at java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(Unknown Source)\r\n          at java.base/sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source)\r\n          at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source)\r\n          at java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source)\r\n          at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)\r\n          at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n          at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(Unknown Source)\r\n          at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(Unknown Source)\r\n          at java.base/java.io.BufferedInputStream.fill(Unknown Source)\r\n          at java.base/java.io.BufferedInputStream.read(Unknown Source)\r\n          at java.base/java.io.DataInputStream.readInt(Unknown Source)\r\n          at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(Unknown Source)\r\n          at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(Unknown Source)\r\n          at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n          at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(Unknown Source)\r\n          at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n          at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n          at java.base/java.lang.Thread.run(Unknown Source)}\r\n)\r\n```\r\n\r\nAfter which the backend closes the connection.\r\n\r\nBased on some tutorials online, it should be possible to get the SSL connection working using the service-based URL, but we can&#39;t get it to work.\r\n\r\n  [1]: http://www.cleantutorials.com/jconsole/jconsole-ssl-with-password-authentication","title":"SSL for JMX with RMI","body":"<p>We have a Java application which has had a JConsole connection with password authentication for a while. In improving the security of this, we are trying to encrypt the connection made from JConsole to the application.</p>\n<p>Up until now, we have launched our application with the following launch command:</p>\n<pre><code>java -Dcom.sun.management.jmxremote \\\n     -Dcom.sun.management.jmxremote.port=1099 \\\n     -Dcom.sun.management.jmxremote.rmi.port=1099 \\\n     -Dcom.sun.management.jmxremote.authenticate=true \\\n     -Dcom.sun.management.jmxremote.password.file=jmx.password \\\n     -Dcom.sun.management.jmxremote.access.file=jmx.access \\\n     -Dcom.sun.management.jmxremote.ssl=false\n     -jar MyApplication.jar\n</code></pre>\n<p>With this, we can flawlessly access the JMX methods of MyApplication via both JConsole, jmxterm, and other Java applications. In JConsole and jmxterm, we can use both <code>hostname:1099</code> and <code>service:jmx:rmi:///jndi/rmi://hostname:1099/jmxrmi</code> without issues. From the Java applications, we always use <code>service:jmx:rmi:///jndi/rmi://hostname:1099/jmxrmi</code>, again without issues. Our application has no code-based setup of the JMX endpoint (we exposes some methods and attributes, but we did not touch the registry and socket factories).</p>\n<p>Now we are trying to set up SSL between our application, and all other parties, following <a href=\"http://www.cleantutorials.com/jconsole/jconsole-ssl-with-password-authentication\" rel=\"nofollow noreferrer\">www.cleantutorials.com/jconsole/jconsole-ssl-with-password-authentication</a>. Doing this, we have a keystore and truststore for both MyApplication and whoever the client connection to the JMX methods is. We use</p>\n<pre><code>java -Dcom.sun.management.jmxremote \\\n     -Dcom.sun.management.jmxremote.port=1099 \\\n     -Dcom.sun.management.jmxremote.rmi.port=1099 \\\n     -Dcom.sun.management.jmxremote.authenticate=true \\\n     -Dcom.sun.management.jmxremote.password.file=jmx.password \\\n     -Dcom.sun.management.jmxremote.access.file=jmx.access \\\n     -Dcom.sun.management.jmxremote.ssl=true \\\n     -Dcom.sun.management.jmxremote.ssl.need.client.auth=true \\\n     -Dcom.sun.management.jmxremote.registry.ssl=true \\\n     -Djava.rmi.server.hostname=hostname \\\n     -Djavax.net.ssl.keyStore=server-jmx-keystore \\\n     -Djavax.net.ssl.keyStorePassword=password \\\n     -Djavax.net.ssl.trustStore=server-jmx-truststore \\\n     -Djavax.net.ssl.trustStorePassword=password \\\n     -jar MyApplication.jar\n</code></pre>\n<p>After this, almost all our connections fail. The only one succeeding, is via JConsole (adding the client keystore and truststores to the launch config), and only using <code>hostname:1099</code>. Using the address <code>service:jmx:rmi:///jndi/rmi://hostname:1099/jmxrmi</code> no longer works, not via JConsole, not via jmxterm, and not via other applications.</p>\n<p>We have tried about any combination of launch settings we could think of, but nothing that we find anywhere seems to work. The error we see when trying to connect from e.g. jmxterm is:</p>\n<pre><code>java.rmi.ConnectIOException: non-JRMP server at remote endpoint\n</code></pre>\n<p>(I can provide the full stack if needed).</p>\n<p>We're a bit at a loss on how to continue, what we can do to make all connections that used to work, now work. What should we do to enable connecting with <code>service:jmx:rmi:///jndi/rmi://hostname:1099/jmxrmi</code>-like connection strings via SSL?</p>\n<p>If relevant, this application is using OpenJDK 11.0.5, other applications where we might need this run on OpenJDK 8.</p>\n<p><strong>Edit</strong></p>\n<p>Debugging both the JConsole client and the backend side, it seems that the protocol that the client is trying to establish is not known in the SSL context. On the backend, we have the following error:</p>\n<pre><code>javax.net.ssl|DEBUG|20|RMI TCP Connection(1)|2021-12-28 10:04:04.265 CET|null:-1|Raw read (\n  0000: 4A 52 4D 49 00\n                JRMI.\n)\njavax.net.ssl|ERROR|20|RMI TCP Connection(1)|2021-12-28 10:04:04.267 CET|null:-1|Fatal (UNEXPECTED_MESSAGE): Unsupported or unrecognized SSL message (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\n          at java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(Unknown Source)\n          at java.base/sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source)\n          at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source)\n          at java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source)\n          at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)\n          at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n          at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(Unknown Source)\n          at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(Unknown Source)\n          at java.base/java.io.BufferedInputStream.fill(Unknown Source)\n          at java.base/java.io.BufferedInputStream.read(Unknown Source)\n          at java.base/java.io.DataInputStream.readInt(Unknown Source)\n          at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(Unknown Source)\n          at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(Unknown Source)\n          at java.base/java.security.AccessController.doPrivileged(Native Method)\n          at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(Unknown Source)\n          at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n          at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n          at java.base/java.lang.Thread.run(Unknown Source)}\n)\n</code></pre>\n<p>After which the backend closes the connection.</p>\n<p>Based on some tutorials online, it should be possible to get the SSL connection working using the service-based URL, but we can't get it to work.</p>\n"},{"tags":["java","spring-boot-2.6.0"],"owner":{"account_id":23662825,"reputation":11,"user_id":17690671,"display_name":"user17690671"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641457491,"creation_date":1641457491,"question_id":70604310,"body_markdown":"2022-01-06 16:18:27 [http-nio-48080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errors&lt;EOL&gt;Field error in object &#39;pageRequest&#39; on field &#39;sort&#39;: rejected value [asc,id]; codes [typeMismatch.pageRequest.sort,typeMismatch.sort,typeMismatch.org.springframework.data.domain.Sort,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [pageRequest.sort,sort]; arguments []; default message [sort]]; default message [Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;org.springframework.data.domain.Sort&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;org.springframework.data.domain.Sort&#39;: no matching editors or conversion strategy found]]","title":"1 errors&lt;EOL&gt;Field error in object &#39;pageRequest&#39; on field &#39;sort&#39;: rejected value [asc,id];","body":"<p>2022-01-06 16:18:27 [http-nio-48080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.validation.BindException: org.springframework.validation.BeanPropertyBindingResult: 1 errorsField error in object 'pageRequest' on field 'sort': rejected value [asc,id]; codes [typeMismatch.pageRequest.sort,typeMismatch.sort,typeMismatch.org.springframework.data.domain.Sort,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [pageRequest.sort,sort]; arguments []; default message [sort]]; default message [Failed to convert value of type 'java.lang.String' to required type 'org.springframework.data.domain.Sort'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'org.springframework.data.domain.Sort': no matching editors or conversion strategy found]]</p>\n"},{"tags":["java","ssl","weblogic","httpsurlconnection"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1377782394,"post_id":18512009,"comment_id":27219823,"body_markdown":"There&#39;s not much point in putting your &#39;instanceof&#39; tests *after* the cast, and there no point whatsoever in casting to a class that you don&#39;t even use. Just use it as a URLConnection.","body":"There&#39;s not much point in putting your &#39;instanceof&#39; tests <i>after</i> the cast, and there no point whatsoever in casting to a class that you don&#39;t even use. Just use it as a URLConnection."},{"owner":{"account_id":2092285,"reputation":549,"user_id":1861813,"display_name":"DKingKumar"},"score":0,"creation_date":1377786013,"post_id":18512009,"comment_id":27222350,"body_markdown":"&#39;instanceof&#39; was used for test purpose only. Casting error is coming at this line ::  HttpsURLConnection conn = (HttpsURLConnection)url.openConnection();","body":"&#39;instanceof&#39; was used for test purpose only. Casting error is coming at this line ::  HttpsURLConnection conn = (HttpsURLConnection)url.openConnection();"},{"owner":{"account_id":900525,"reputation":703,"user_id":936786,"accept_rate":55,"display_name":"Jyoti Ranjan"},"score":0,"creation_date":1377801373,"post_id":18512009,"comment_id":27231513,"body_markdown":"Code is running fine..here is the output\n\nhttp://sebsauvage.net/paste/?987346d13f71f550#800M7Vwk73Y5OOPpLhwIleZdktYk+vf0VAZKOtOoqfw=","body":"Code is running fine..here is the output  <a href=\"http://sebsauvage.net/paste/?987346d13f71f550#800M7Vwk73Y5OOPpLhwIleZdktYk+vf0VAZKOtOoqfw=\" rel=\"nofollow noreferrer\">sebsauvage.net/paste/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1377823892,"post_id":18512009,"comment_id":27240176,"body_markdown":"`instanceof` was used for test purposes in the wrong place, after the code that threw `ClassCastException.` That&#39;s my point. And my other point is that you don&#39;t need the cast. What happened when you tried it?","body":"<code>instanceof</code> was used for test purposes in the wrong place, after the code that threw <code>ClassCastException.</code> That&#39;s my point. And my other point is that you don&#39;t need the cast. What happened when you tried it?"},{"owner":{"account_id":2092285,"reputation":549,"user_id":1861813,"display_name":"DKingKumar"},"score":0,"creation_date":1377845526,"post_id":18512009,"comment_id":27245704,"body_markdown":"I am using Ecclipse and weblogic 10.3.4 server. If i am running it as a Java Application everything is running Fine. But IF i am tring to run it &quot;Run on Server&quot; , Then only it is throwing the exception &quot;weblogic.net.http.SOAPHttpsURLConnection cannot be cast to javax.net.ssl.HttpsURLConnection&quot;.","body":"I am using Ecclipse and weblogic 10.3.4 server. If i am running it as a Java Application everything is running Fine. But IF i am tring to run it &quot;Run on Server&quot; , Then only it is throwing the exception &quot;weblogic.net.http.SOAPHttpsURLConnection cannot be cast to javax.net.ssl.HttpsURLConnection&quot;."}],"answers":[{"tags":[],"owner":{"account_id":2092285,"reputation":549,"user_id":1861813,"display_name":"DKingKumar"},"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1461291155,"creation_date":1378198863,"answer_id":18588098,"question_id":18512009,"body_markdown":"I got the solution finally.  If we are using Weblogic server, we must define:\r\n\r\n`set JAVA_OPTIONS=%JAVA_OPTIONS% -DUseSunHttpHandler=true`\r\n\r\n...in the class path inside the Server Domain. \r\n\r\nThis will tell the weblogic server to use the Sun Http Handlers and not install its own.","title":"weblogic.net.http.SOAPHttpsURLConnection cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p>I got the solution finally.  If we are using Weblogic server, we must define:</p>\n\n<p><code>set JAVA_OPTIONS=%JAVA_OPTIONS% -DUseSunHttpHandler=true</code></p>\n\n<p>...in the class path inside the Server Domain. </p>\n\n<p>This will tell the weblogic server to use the Sun Http Handlers and not install its own.</p>\n"},{"tags":[],"owner":{"account_id":2114210,"reputation":1539,"user_id":1878854,"accept_rate":78,"display_name":"Accollativo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1443778292,"creation_date":1443778292,"answer_id":32904332,"question_id":18512009,"body_markdown":"More detail on @KmrGtm solution:\r\n\r\nOnly thing to do is updating WebLogic domain settings in the setDomainEnv script file.\r\n\r\nThe relevant settings are in the setDomainEnv script file (setDomainEnv.cmd for Windows and setDomainEnv.sh for Linux).\r\n\r\nThe file is located in the bin subdirectory of the domain directory (&lt;WebLogicInstallDirectory&gt;/user_projects/domains/&lt;DomainName&gt;/bin/) where:\r\n\r\n - &lt;WebLogicInstallDirectory&gt; is the directory where you installed WebLogic.\r\n - &lt;DomainName&gt; is the name of the domain where you are installing Studio.\r\n\r\n\r\nIn the file add the JAVA_OPTIONS argument close to the top of the file:\r\n\r\n - For setDomainEnv.cmd (Windows):\r\n\r\n*set JAVA_OPTIONS=%JAVA_OPTIONS% -DUseSunHttpHandler=true*\r\n\r\n - For setDomainEnv.sh (Linux):\r\n\r\n*JAVA_OPTIONS=&quot;%JAVA_OPTIONS% -DUseSunHttpHandler=true&quot;*\r\n\r\n*export JAVA_OPTIONS*\r\n\r\n","title":"weblogic.net.http.SOAPHttpsURLConnection cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p>More detail on @KmrGtm solution:</p>\n\n<p>Only thing to do is updating WebLogic domain settings in the setDomainEnv script file.</p>\n\n<p>The relevant settings are in the setDomainEnv script file (setDomainEnv.cmd for Windows and setDomainEnv.sh for Linux).</p>\n\n<p>The file is located in the bin subdirectory of the domain directory (/user_projects/domains//bin/) where:</p>\n\n<ul>\n<li> is the directory where you installed WebLogic.</li>\n<li> is the name of the domain where you are installing Studio.</li>\n</ul>\n\n<p>In the file add the JAVA_OPTIONS argument close to the top of the file:</p>\n\n<ul>\n<li>For setDomainEnv.cmd (Windows):</li>\n</ul>\n\n<p><em>set JAVA_OPTIONS=%JAVA_OPTIONS% -DUseSunHttpHandler=true</em></p>\n\n<ul>\n<li>For setDomainEnv.sh (Linux):</li>\n</ul>\n\n<p><em>JAVA_OPTIONS=\"%JAVA_OPTIONS% -DUseSunHttpHandler=true\"</em></p>\n\n<p><em>export JAVA_OPTIONS</em></p>\n"},{"tags":[],"owner":{"account_id":3425724,"reputation":1352,"user_id":2871527,"display_name":"Naeel Maqsudov"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1479982169,"creation_date":1479982169,"answer_id":40783453,"question_id":18512009,"body_markdown":"You also may explicitly define protocol handler. Just create URL using another constructor.\r\n\r\n    URL url = new URL(null, urlstr, new sun.net.www.protocol.http.Handler());\r\n\r\nor\r\n\r\n    URL url = new URL(null, urlstr, new sun.net.www.protocol.https.Handler());\r\n\r\nAnd it will make the code independent from `-DUseSunHttpHandler` option.","title":"weblogic.net.http.SOAPHttpsURLConnection cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p>You also may explicitly define protocol handler. Just create URL using another constructor.</p>\n\n<pre><code>URL url = new URL(null, urlstr, new sun.net.www.protocol.http.Handler());\n</code></pre>\n\n<p>or</p>\n\n<pre><code>URL url = new URL(null, urlstr, new sun.net.www.protocol.https.Handler());\n</code></pre>\n\n<p>And it will make the code independent from <code>-DUseSunHttpHandler</code> option.</p>\n"},{"tags":[],"owner":{"account_id":22145432,"reputation":41,"user_id":16394768,"display_name":"user16394768"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1625633519,"creation_date":1625611851,"answer_id":68278164,"question_id":18512009,"body_markdown":"Begin from 12.2.1.3.0 you can to enable the new compatible HTTPS connection implementation class by using a new Java system property ```-DUseJSSECompatibleHttpsHandler=true``` to get a HttpsURLConnection instance extending ```javax.net.ssl.HttpsURLConnection```.\r\n\r\n    weblogic.net.http.CompatibleSOAPHttpsURLConnection (extending \r\n    javax.net.ssl.HttpsURLConnection) is returned instead of \r\n    weblogic.net.http.SOAPHttpsURLConnection (not extending \r\n    javax.net.ssl.HttpsURLConnection) that can avoid the ClassCastException \r\n\r\nPlease note that when both ```-DUseSunHttpHandler=true``` and ```-DUseJSSECompatibleHttpsHandler=true``` are specified, ```-DUseSunHttpHandler``` will take precedence over ```-DUseJSSECompatibleHttpsHandler```.","title":"weblogic.net.http.SOAPHttpsURLConnection cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p>Begin from 12.2.1.3.0 you can to enable the new compatible HTTPS connection implementation class by using a new Java system property <code>-DUseJSSECompatibleHttpsHandler=true</code> to get a HttpsURLConnection instance extending <code>javax.net.ssl.HttpsURLConnection</code>.</p>\n<pre><code>weblogic.net.http.CompatibleSOAPHttpsURLConnection (extending \njavax.net.ssl.HttpsURLConnection) is returned instead of \nweblogic.net.http.SOAPHttpsURLConnection (not extending \njavax.net.ssl.HttpsURLConnection) that can avoid the ClassCastException \n</code></pre>\n<p>Please note that when both <code>-DUseSunHttpHandler=true</code> and <code>-DUseJSSECompatibleHttpsHandler=true</code> are specified, <code>-DUseSunHttpHandler</code> will take precedence over <code>-DUseJSSECompatibleHttpsHandler</code>.</p>\n"},{"tags":[],"owner":{"account_id":1802309,"reputation":1,"user_id":1640316,"display_name":"yalcin dogan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641457172,"creation_date":1641456814,"answer_id":70604202,"question_id":18512009,"body_markdown":"java.lang.ClassCastException: weblogic.net.http.SOAPHttpsURLConnection cannot be cast to javax.net.ssl.HttpsURLConnection (Doc ID 2332805.1)\r\n\r\nAccording to the Oracle document above, the parameter \r\n&gt; ***-DUseJSSECompatibleHttpsHandler=true*** \r\nshould be used.","title":"weblogic.net.http.SOAPHttpsURLConnection cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p>java.lang.ClassCastException: weblogic.net.http.SOAPHttpsURLConnection cannot be cast to javax.net.ssl.HttpsURLConnection (Doc ID 2332805.1)</p>\n<p>According to the Oracle document above, the parameter</p>\n<blockquote>\n<p><em><strong>-DUseJSSECompatibleHttpsHandler=true</strong></em>\nshould be used.</p>\n</blockquote>\n"}],"owner":{"account_id":2092285,"reputation":549,"user_id":1861813,"display_name":"DKingKumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40383,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":18588098,"answer_count":5,"score":14,"last_activity_date":1641457172,"creation_date":1377781924,"question_id":18512009,"body_markdown":"I am getting &quot;java.lang.ClassCastException&quot; while trying to connect to a url using javax.net.ssl.HttpsURLConnection . \r\n\r\nI am using Weblogic Server 10.3.4. \r\n\r\n\r\n\r\n    import javax.net.ssl.HostnameVerifier;\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import javax.net.ssl.SSLContext;\r\n    import javax.net.ssl.SSLSession;\r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.X509TrustManager;\r\n    \r\n    \r\n    \r\n    import java.security.cert.X509Certificate;\r\n    \r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    \r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    /**\r\n     * @author kmrgtm\r\n     *\r\n     */\r\n    public class GatewayConnect {\r\n    \t\r\n    \t\r\n    public void ConnectURL()\r\n    {\r\n    \ttry\r\n    \t{\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;***** Inside Class File *****&quot;);\r\n    \t// Create a trust manager that does not validate certificate chains\r\n    \tTrustManager[] trustAllCerts = new TrustManager[] {new X509TrustManager() {\r\n    \t\t\tpublic java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n    \t\t\tpublic void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n    \t\t\t}\r\n    \t\t\tpublic void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n    \t\t\t}\r\n    \t\t}\r\n    \t};\r\n    \r\n    \t// Install the all-trusting trust manager\r\n    \tSSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n    \tsc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n    \tHttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n    \r\n    \t// Create all-trusting host name verifier\r\n    \tHostnameVerifier allHostsValid = new HostnameVerifier() {\r\n    \t\tpublic boolean verify(String hostname, SSLSession session) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t};\r\n    \r\n    \t// Install the all-trusting host verifier\r\n    \tHttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\r\n    \t\r\n    \tString urlstr=&quot;https://www.google.co.in&quot;;\r\n    \t\r\n    \tURL url = new URL(urlstr);\r\n    \t\r\n    \tHttpsURLConnection conn = (HttpsURLConnection)url.openConnection();\r\n    \t \r\n    \tconn  = (HttpsURLConnection)url.openConnection();\r\n    \t\r\n    \r\n    \t\tif (conn instanceof javax.net.ssl.HttpsURLConnection) {\r\n    \t\tSystem.out.println(&quot;*** openConnection returns an instanceof javax.net.ssl.HttpsURLConnection&quot;);\r\n    \t\t}\r\n    \t\tif (conn instanceof HttpURLConnection) {\r\n    \t\tSystem.out.println(&quot;*** openConnection returns an instnace of HttpURLConnection&quot;);\r\n    \t\t}\r\n    \tconn.setRequestProperty(&quot;Content-Type&quot;,&quot;application/x-www-form-urlencoded&quot;); \r\n    \tBufferedReader reader = null;\r\n    \treader = new BufferedReader(new InputStreamReader( conn.getInputStream()));\r\n    \tfor (String line; (line = reader.readLine()) != null;) {\r\n            System.out.println(&quot;##### line iz :::&quot;+line);\r\n        }\r\n    \r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n    \r\n    catch(Exception e)\r\n    {\r\n    \te.printStackTrace();\r\n    }\r\n    }\r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\nThe exception which i am getting is :\r\n\r\n\r\n    **java.lang.ClassCastException: weblogic.net.http.SOAPHttpsURLConnection cannot be cast to javax.net.ssl.HttpsURLConnection\r\n    Inside the MessageSendingAction\r\n    ***** Inside Class File *****\r\n    \tat com.secureConnect.GatewayConnect.ConnectURL(GatewayConnect.java:68)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat com.sun.el.parser.AstValue.invoke(Unknown Source)\r\n    \tat com.sun.el.MethodExpressionImpl.invoke(Unknown Source)\r\n    \tat javax.faces.component._MethodExpressionToMethodBinding.invoke(_MethodExpressionToMethodBinding.java:78)\r\n    \tat org.apache.myfaces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:57)\r\n    \tat javax.faces.component.UICommand.broadcast(UICommand.java:127)\r\n    \tat org.ajax4jsf.component.AjaxViewRoot.processEvents(AjaxViewRoot.java:329)\r\n    \tat org.ajax4jsf.component.AjaxViewRoot.broadcastEventsForPhase(AjaxViewRoot.java:304)\r\n    \tat org.ajax4jsf.component.AjaxViewRoot.processPhase(AjaxViewRoot.java:261)\r\n    \tat org.ajax4jsf.component.AjaxViewRoot.processApplication(AjaxViewRoot.java:474)\r\n    \tat org.apache.myfaces.lifecycle.InvokeApplicationExecutor.execute(InvokeApplicationExecutor.java:32)\r\n    \tat org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:103)\r\n    \tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:76)\r\n    \tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:183)\r\n    \tat weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\r\n    \tat weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\r\n    \tat weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:300)\r\n    \tat weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26)\r\n    \tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n    \tat org.ajax4jsf.webapp.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:206)\r\n    \tat org.ajax4jsf.webapp.BaseFilter.handleRequest(BaseFilter.java:290)\r\n    \tat org.ajax4jsf.webapp.BaseFilter.processUploadsAndHandleRequest(BaseFilter.java:388)\r\n    \tat org.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:515)\r\n    \tat weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\r\n    \tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3715)\r\n    \tat weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3681)\r\n    \tat weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n    \tat weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\r\n    \tat weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2277)\r\n    \tat weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2183)\r\n    \tat weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1454)\r\n    \tat weblogic.work.ExecuteThread.execute(ExecuteThread.java:207)\r\n    \tat weblogic.work.ExecuteThread.run(ExecuteThread.java:176)**\r\n\r\nAny possible reason of getting this error ?\r\n","title":"weblogic.net.http.SOAPHttpsURLConnection cannot be cast to javax.net.ssl.HttpsURLConnection","body":"<p>I am getting \"java.lang.ClassCastException\" while trying to connect to a url using javax.net.ssl.HttpsURLConnection . </p>\n\n<p>I am using Weblogic Server 10.3.4. </p>\n\n<pre><code>import javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSession;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509TrustManager;\n\n\n\nimport java.security.cert.X509Certificate;\n\n\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\n\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\n/**\n * @author kmrgtm\n *\n */\npublic class GatewayConnect {\n\n\npublic void ConnectURL()\n{\n    try\n    {\n\n        System.out.println(\"***** Inside Class File *****\");\n    // Create a trust manager that does not validate certificate chains\n    TrustManager[] trustAllCerts = new TrustManager[] {new X509TrustManager() {\n            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                return null;\n            }\n            public void checkClientTrusted(X509Certificate[] certs, String authType) {\n            }\n            public void checkServerTrusted(X509Certificate[] certs, String authType) {\n            }\n        }\n    };\n\n    // Install the all-trusting trust manager\n    SSLContext sc = SSLContext.getInstance(\"SSL\");\n    sc.init(null, trustAllCerts, new java.security.SecureRandom());\n    HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n\n    // Create all-trusting host name verifier\n    HostnameVerifier allHostsValid = new HostnameVerifier() {\n        public boolean verify(String hostname, SSLSession session) {\n            return true;\n        }\n    };\n\n    // Install the all-trusting host verifier\n    HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\n\n    String urlstr=\"https://www.google.co.in\";\n\n    URL url = new URL(urlstr);\n\n    HttpsURLConnection conn = (HttpsURLConnection)url.openConnection();\n\n    conn  = (HttpsURLConnection)url.openConnection();\n\n\n        if (conn instanceof javax.net.ssl.HttpsURLConnection) {\n        System.out.println(\"*** openConnection returns an instanceof javax.net.ssl.HttpsURLConnection\");\n        }\n        if (conn instanceof HttpURLConnection) {\n        System.out.println(\"*** openConnection returns an instnace of HttpURLConnection\");\n        }\n    conn.setRequestProperty(\"Content-Type\",\"application/x-www-form-urlencoded\"); \n    BufferedReader reader = null;\n    reader = new BufferedReader(new InputStreamReader( conn.getInputStream()));\n    for (String line; (line = reader.readLine()) != null;) {\n        System.out.println(\"##### line iz :::\"+line);\n    }\n\n\n\n\n}\n\ncatch(Exception e)\n{\n    e.printStackTrace();\n}\n}\n\n\n\n}\n</code></pre>\n\n<p>The exception which i am getting is :</p>\n\n<pre><code>**java.lang.ClassCastException: weblogic.net.http.SOAPHttpsURLConnection cannot be cast to javax.net.ssl.HttpsURLConnection\nInside the MessageSendingAction\n***** Inside Class File *****\n    at com.secureConnect.GatewayConnect.ConnectURL(GatewayConnect.java:68)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.sun.el.parser.AstValue.invoke(Unknown Source)\n    at com.sun.el.MethodExpressionImpl.invoke(Unknown Source)\n    at javax.faces.component._MethodExpressionToMethodBinding.invoke(_MethodExpressionToMethodBinding.java:78)\n    at org.apache.myfaces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:57)\n    at javax.faces.component.UICommand.broadcast(UICommand.java:127)\n    at org.ajax4jsf.component.AjaxViewRoot.processEvents(AjaxViewRoot.java:329)\n    at org.ajax4jsf.component.AjaxViewRoot.broadcastEventsForPhase(AjaxViewRoot.java:304)\n    at org.ajax4jsf.component.AjaxViewRoot.processPhase(AjaxViewRoot.java:261)\n    at org.ajax4jsf.component.AjaxViewRoot.processApplication(AjaxViewRoot.java:474)\n    at org.apache.myfaces.lifecycle.InvokeApplicationExecutor.execute(InvokeApplicationExecutor.java:32)\n    at org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:103)\n    at org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:76)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:183)\n    at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:227)\n    at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:125)\n    at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:300)\n    at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:26)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n    at org.ajax4jsf.webapp.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:206)\n    at org.ajax4jsf.webapp.BaseFilter.handleRequest(BaseFilter.java:290)\n    at org.ajax4jsf.webapp.BaseFilter.processUploadsAndHandleRequest(BaseFilter.java:388)\n    at org.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:515)\n    at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:56)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3715)\n    at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3681)\n    at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n    at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\n    at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2277)\n    at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2183)\n    at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1454)\n    at weblogic.work.ExecuteThread.execute(ExecuteThread.java:207)\n    at weblogic.work.ExecuteThread.run(ExecuteThread.java:176)**\n</code></pre>\n\n<p>Any possible reason of getting this error ?</p>\n"},{"tags":["java","tomcat","war"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1641457171,"post_id":70604226,"comment_id":124810495,"body_markdown":"have you read the logs created by the deployment?","body":"have you read the logs created by the deployment?"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1641475596,"post_id":70604226,"comment_id":124816838,"body_markdown":"as far as I remember, the servlet spec covers the precedence, but I currently have no time to hunt it down. My expectation (but that&#39;s just gut feeling) is that the root webapp will only be the fallback once the more specific apps have been searched for a match. But that might be completely wrong - the specification is the authoritative source on that. As for the deployment-failure reason, I second the question for the logs - they typically are quite informative","body":"as far as I remember, the servlet spec covers the precedence, but I currently have no time to hunt it down. My expectation (but that&#39;s just gut feeling) is that the root webapp will only be the fallback once the more specific apps have been searched for a match. But that might be completely wrong - the specification is the authoritative source on that. As for the deployment-failure reason, I second the question for the logs - they typically are quite informative"}],"owner":{"account_id":8616197,"reputation":808,"user_id":6452937,"display_name":"Malavan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641456944,"creation_date":1641456944,"question_id":70604226,"body_markdown":"I have two war file that needs to be deployed in tomcat. One is root.war(path will be / as per tomcat docs) and login.war(path will be /login). My root.war has also a path named /login. For some reason my deployment crashed. I would like to know, does it happening becuase of conflict or Am I missing something ? How does tomcat url path working. Any resource will be helpful.","title":"What will happen if tomcat has two war (root.war, login.war) and my root.war has path /login?","body":"<p>I have two war file that needs to be deployed in tomcat. One is root.war(path will be / as per tomcat docs) and login.war(path will be /login). My root.war has also a path named /login. For some reason my deployment crashed. I would like to know, does it happening becuase of conflict or Am I missing something ? How does tomcat url path working. Any resource will be helpful.</p>\n"},{"tags":["java","android","media-player"],"answers":[{"tags":[],"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1322431942,"creation_date":1322431942,"answer_id":8289522,"question_id":8278939,"body_markdown":"Here is the solution I found.\r\n    \r\n    AudioManager amanager = (AudioManager) this.getSystemService(Context.AUDIO_SERVICE);\r\n    int maxVolume = amanager.getStreamMaxVolume(AudioManager.STREAM_ALARM);\r\n    amanager.setStreamVolume(AudioManager.STREAM_ALARM, maxVolume, 0);\r\n    \r\n    MediaPlayer mediaPlayer= new MediaPlayer();\r\n\r\n    mediaPlayer.setAudioStreamType(AudioManager.STREAM_ALARM); // this is important.\r\n\r\n    mediaPlayer.setDataSource(context, ringtoneUri);\r\n    mediaPlayer.setLooping(looping);  \r\n    mediaPlayer.prepare();\r\n    mediaPlayer.start();\r\n","title":"Android MediaPlayer volume is very low ( already adjusted Volume )","body":"<p>Here is the solution I found.</p>\n\n<pre><code>AudioManager amanager = (AudioManager) this.getSystemService(Context.AUDIO_SERVICE);\nint maxVolume = amanager.getStreamMaxVolume(AudioManager.STREAM_ALARM);\namanager.setStreamVolume(AudioManager.STREAM_ALARM, maxVolume, 0);\n\nMediaPlayer mediaPlayer= new MediaPlayer();\n\nmediaPlayer.setAudioStreamType(AudioManager.STREAM_ALARM); // this is important.\n\nmediaPlayer.setDataSource(context, ringtoneUri);\nmediaPlayer.setLooping(looping);  \nmediaPlayer.prepare();\nmediaPlayer.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":172592,"reputation":1372,"user_id":400717,"accept_rate":91,"display_name":"shadowmatter"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1362619464,"creation_date":1362619464,"answer_id":15261422,"question_id":8278939,"body_markdown":"I encountered the same issue, and then noticed this this in the [MediaPlayer documentation](http://developer.android.com/reference/android/media/MediaPlayer.html):\r\n\r\n&gt; While in the Prepared state, properties such as audio/sound volume, screenOnWhilePlaying, looping can be adjusted by invoking the corresponding set methods.\r\n\r\nCalling `setVolume` _after_ calling `prepare` fixes this, so that audio is played at max volume. Actually, according to the docs I just quoted, you should call `setLooping` after `prepare` as well:\r\n\r\n    mediaPlayer.setDataSource(context, ringtoneUri);\r\n    mediaPlayer.prepare();\r\n    mediaPlayer.setLooping(looping);\r\n    mediaPlayer.setVolume(1.0f, 1.0f);\r\n    mediaPlayer.start();\r\n","title":"Android MediaPlayer volume is very low ( already adjusted Volume )","body":"<p>I encountered the same issue, and then noticed this this in the <a href=\"http://developer.android.com/reference/android/media/MediaPlayer.html\">MediaPlayer documentation</a>:</p>\n\n<blockquote>\n  <p>While in the Prepared state, properties such as audio/sound volume, screenOnWhilePlaying, looping can be adjusted by invoking the corresponding set methods.</p>\n</blockquote>\n\n<p>Calling <code>setVolume</code> <em>after</em> calling <code>prepare</code> fixes this, so that audio is played at max volume. Actually, according to the docs I just quoted, you should call <code>setLooping</code> after <code>prepare</code> as well:</p>\n\n<pre><code>mediaPlayer.setDataSource(context, ringtoneUri);\nmediaPlayer.prepare();\nmediaPlayer.setLooping(looping);\nmediaPlayer.setVolume(1.0f, 1.0f);\nmediaPlayer.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4630424,"reputation":1472,"user_id":3753104,"display_name":"slaviboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641456734,"creation_date":1641456734,"answer_id":70604184,"question_id":8278939,"body_markdown":"Since setAudioStreamType() is now deprecated you should use the method setAudioAttributes() instead. Below is the full example\r\n\r\n\r\n    var mediaPlayer: MediaPlayer = MediaPlayer()\r\n    fun playAudio(audioUrl: String) {\r\n    \r\n            mediaPlayer.apply {\r\n                if (isPlaying) {\r\n                    stop()\r\n                    reset()\r\n                    release()\r\n                }\r\n            }\r\n    \r\n            mediaPlayer = MediaPlayer()\r\n            try {\r\n    \r\n                mediaPlayer.apply {\r\n                    setAudioAttributes(\r\n                        AudioAttributes.Builder()\r\n                            .setContentType(AudioAttributes.CONTENT_TYPE_SPEECH)\r\n                            .setUsage(AudioAttributes.USAGE_ALARM)\r\n                            .build()\r\n                    )\r\n                    setVolume(2f,2f)\r\n                    setDataSource(audioUrl)\r\n                    prepare()\r\n                    start()\r\n                }\r\n            } catch (e: IOException) {\r\n                e.printStackTrace()\r\n            }\r\n        }","title":"Android MediaPlayer volume is very low ( already adjusted Volume )","body":"<p>Since setAudioStreamType() is now deprecated you should use the method setAudioAttributes() instead. Below is the full example</p>\n<pre><code>var mediaPlayer: MediaPlayer = MediaPlayer()\nfun playAudio(audioUrl: String) {\n\n        mediaPlayer.apply {\n            if (isPlaying) {\n                stop()\n                reset()\n                release()\n            }\n        }\n\n        mediaPlayer = MediaPlayer()\n        try {\n\n            mediaPlayer.apply {\n                setAudioAttributes(\n                    AudioAttributes.Builder()\n                        .setContentType(AudioAttributes.CONTENT_TYPE_SPEECH)\n                        .setUsage(AudioAttributes.USAGE_ALARM)\n                        .build()\n                )\n                setVolume(2f,2f)\n                setDataSource(audioUrl)\n                prepare()\n                start()\n            }\n        } catch (e: IOException) {\n            e.printStackTrace()\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":137183,"reputation":4538,"user_id":341191,"accept_rate":78,"display_name":"Sammy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13246,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":8289522,"answer_count":3,"score":6,"last_activity_date":1641456734,"creation_date":1322316420,"question_id":8278939,"body_markdown":"I m using the MediaPlayer to play one of the internal alarm ringtone.\r\ni m using the setVolume(1.0f, 1.0f) to maximize the volume when the ringtone is played. but the ringtone doesn&#39;t play full volume ( when I compare it to playing the ringtone separately or through the built it android alarm)\r\n\r\nhere is my code\r\n\r\n    mediaPlayer.setDataSource(context, ringtoneUri);\r\n    mediaPlayer.setLooping(looping);\r\n\tmediaPlayer.setVolume(1.0f, 1.0f);\r\n\tmediaPlayer.prepare();\r\n\tmediaPlayer.start();\r\n\r\nI added the following permission  android.permission.MODIFY_AUDIO_SETTINGS\r\n ( not sure if this is needed )\r\n\r\nAny Idea why the mediaPlayer still won&#39;t play the sound at maximum? ","title":"Android MediaPlayer volume is very low ( already adjusted Volume )","body":"<p>I m using the MediaPlayer to play one of the internal alarm ringtone.\ni m using the setVolume(1.0f, 1.0f) to maximize the volume when the ringtone is played. but the ringtone doesn't play full volume ( when I compare it to playing the ringtone separately or through the built it android alarm)</p>\n\n<p>here is my code</p>\n\n<pre><code>mediaPlayer.setDataSource(context, ringtoneUri);\nmediaPlayer.setLooping(looping);\nmediaPlayer.setVolume(1.0f, 1.0f);\nmediaPlayer.prepare();\nmediaPlayer.start();\n</code></pre>\n\n<p>I added the following permission  android.permission.MODIFY_AUDIO_SETTINGS\n ( not sure if this is needed )</p>\n\n<p>Any Idea why the mediaPlayer still won't play the sound at maximum? </p>\n"},{"tags":["java","spring","exception","error-handling","jvm"],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638585402,"creation_date":1638561071,"answer_id":70219961,"question_id":70219901,"body_markdown":"## Just the thread in question\r\n\r\nAn unhandled `RuntimeException` will kill the thread, not the application. Usually each HTTP request is handled by its own thread, so nothing else in the server should be affected. I don’t know how the server handles the dead thread. A wise move would probably be creating a new thread for upcoming requests.\r\n\r\nOnly when *all* threads (except so-called demon threads) are terminated, will your Spring Boot application stop. This in turn means that in an application that isn’t threaded — one that has everything running in the main thread — an uncaught exception (`RuntimeException` or some other type) *will* bring the whole program down.\r\n\r\nIn most applications it matters *which* thread is killed. Your application probably has more threads handling HTTP requests and can spawn new ones as needed. In this case a thread death will hardly be noticed except by the user having sent this HTTP request. Other threads are probably more vital to the functioning of the server, and such a thread being killed, while not stopping the server completely, will stop it from working properly. For a different example, if the event dispatching thread in a desktop application is killed by an exception, the application can no longer accept user input.\r\n\r\n## Try it out for yourself\r\n\r\nIt doesn’t take a lot to try it out. The following program spawns a thread that throws an unhandled exception.\r\n\r\n```\r\npublic class DemoUnhandledException {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\tnew Thread(() -&gt; { throw new RuntimeException(&quot;Demo&quot;); }).start();\r\n\t\tTimeUnit.MINUTES.sleep(1);\r\n\t\tSystem.out.println(&quot;A minute later the main thread is still alive and well&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nLet the program run for a full minute to get the full output, which is:\r\n\r\n&gt;     Exception in thread &quot;Thread-0&quot; java.lang.RuntimeException: Demo\r\n&gt;     \tat ovv.so.exception.DemoUnhandledException.lambda$0(DemoUnhandledException.java:8)\r\n&gt;     \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n&gt;     A minute later the main thread is still alive and well\r\n\r\n## Link\r\n\r\n[How uncaught exceptions are handled in Java](https://www.javamex.com/tutorials/exceptions/exceptions_uncaught_handler.shtml) on Javamex\r\n","title":"Does an unhandled runtime exception crash the whole server?","body":"<h2>Just the thread in question</h2>\n<p>An unhandled <code>RuntimeException</code> will kill the thread, not the application. Usually each HTTP request is handled by its own thread, so nothing else in the server should be affected. I don’t know how the server handles the dead thread. A wise move would probably be creating a new thread for upcoming requests.</p>\n<p>Only when <em>all</em> threads (except so-called demon threads) are terminated, will your Spring Boot application stop. This in turn means that in an application that isn’t threaded — one that has everything running in the main thread — an uncaught exception (<code>RuntimeException</code> or some other type) <em>will</em> bring the whole program down.</p>\n<p>In most applications it matters <em>which</em> thread is killed. Your application probably has more threads handling HTTP requests and can spawn new ones as needed. In this case a thread death will hardly be noticed except by the user having sent this HTTP request. Other threads are probably more vital to the functioning of the server, and such a thread being killed, while not stopping the server completely, will stop it from working properly. For a different example, if the event dispatching thread in a desktop application is killed by an exception, the application can no longer accept user input.</p>\n<h2>Try it out for yourself</h2>\n<p>It doesn’t take a lot to try it out. The following program spawns a thread that throws an unhandled exception.</p>\n<pre><code>public class DemoUnhandledException {\n\n    public static void main(String[] args) throws InterruptedException {\n        new Thread(() -&gt; { throw new RuntimeException(&quot;Demo&quot;); }).start();\n        TimeUnit.MINUTES.sleep(1);\n        System.out.println(&quot;A minute later the main thread is still alive and well&quot;);\n    }\n\n}\n</code></pre>\n<p>Let the program run for a full minute to get the full output, which is:</p>\n<blockquote>\n<pre><code>Exception in thread &quot;Thread-0&quot; java.lang.RuntimeException: Demo\n  at ovv.so.exception.DemoUnhandledException.lambda$0(DemoUnhandledException.java:8)\n  at java.base/java.lang.Thread.run(Thread.java:834)\nA minute later the main thread is still alive and well\n</code></pre>\n</blockquote>\n<h2>Link</h2>\n<p><a href=\"https://www.javamex.com/tutorials/exceptions/exceptions_uncaught_handler.shtml\" rel=\"nofollow noreferrer\">How uncaught exceptions are handled in Java</a> on Javamex</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1641456477,"creation_date":1638589430,"answer_id":70222878,"question_id":70219901,"body_markdown":"&gt; Will an unhandled runtime exception stop the whole server (i.e. Spring Boot application) or just the specific HTTP request ?\r\n\r\nJust the current HTTP request ... assuming that the exception is thrown by the request thread.  (If it is thrown by a child thread, it won&#39;t even terminate the HTTP request.) \r\n\r\n---------------\r\n\r\n&gt; It is true that an unhandled runtime exception will instantly shut down normal Java application, **right?**\r\n\r\nActually, not right.\r\n\r\nAn uncaught exception causes the thread on which it was thrown to terminate.  In a simple Java application where there is only one (non-daemon) &quot;main&quot; thread, and an uncaught exception occurs on that thread, the JVM then exit *because the last non-daemon thread has terminated*.\r\n\r\nBut if there are other threads ... the uncaught exception doesn&#39;t stop the JVM.\r\n\r\nTo illustrate, run this program:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n    \t\tnew Thread(() -&gt; {\r\n    \t\t\ttry {\r\n    \t\t    \tThread.sleep(10000);\r\n\t    \t\t} catch (Exception e) {\r\n    \t\t\t    System.err.println(&quot;Caught &quot; + e);\r\n    \t\t\t}\r\n\t    \t}).start();\r\n            throw new RuntimeException(&quot;Goodbye cruel world&quot;);\r\n        }\r\n    }\r\n\r\nWhen you run this, you will observe that there is a 10 second delay between the stacktrace printing (from the uncaught exception in `main`) and the program actually ending.  The JVM is waiting for the child thread to terminate.\r\n\r\n------------------\r\n\r\nThis could also indirectly answer your main question ... except:\r\n\r\n  - We don&#39;t know for sure if the request threads are daemon threads or not.\r\n  - We don&#39;t know for sure that the request threads are not actually catching / handling the exceptions thrown by your request processing code.\r\n\r\nSuffice it to say that a framework will typically *do something sensible* depending one what the thrown exception is.  For example, a framework might handle `Error` exceptions on a worker thread by attempting a shutdown ... on the basis that the error may have put the JVM into a potentially unsafe / non-recoverable state.\r\n\r\n","title":"Does an unhandled runtime exception crash the whole server?","body":"<blockquote>\n<p>Will an unhandled runtime exception stop the whole server (i.e. Spring Boot application) or just the specific HTTP request ?</p>\n</blockquote>\n<p>Just the current HTTP request ... assuming that the exception is thrown by the request thread.  (If it is thrown by a child thread, it won't even terminate the HTTP request.)</p>\n<hr />\n<blockquote>\n<p>It is true that an unhandled runtime exception will instantly shut down normal Java application, <strong>right?</strong></p>\n</blockquote>\n<p>Actually, not right.</p>\n<p>An uncaught exception causes the thread on which it was thrown to terminate.  In a simple Java application where there is only one (non-daemon) &quot;main&quot; thread, and an uncaught exception occurs on that thread, the JVM then exit <em>because the last non-daemon thread has terminated</em>.</p>\n<p>But if there are other threads ... the uncaught exception doesn't stop the JVM.</p>\n<p>To illustrate, run this program:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        new Thread(() -&gt; {\n            try {\n                Thread.sleep(10000);\n            } catch (Exception e) {\n                System.err.println(&quot;Caught &quot; + e);\n            }\n        }).start();\n        throw new RuntimeException(&quot;Goodbye cruel world&quot;);\n    }\n}\n</code></pre>\n<p>When you run this, you will observe that there is a 10 second delay between the stacktrace printing (from the uncaught exception in <code>main</code>) and the program actually ending.  The JVM is waiting for the child thread to terminate.</p>\n<hr />\n<p>This could also indirectly answer your main question ... except:</p>\n<ul>\n<li>We don't know for sure if the request threads are daemon threads or not.</li>\n<li>We don't know for sure that the request threads are not actually catching / handling the exceptions thrown by your request processing code.</li>\n</ul>\n<p>Suffice it to say that a framework will typically <em>do something sensible</em> depending one what the thrown exception is.  For example, a framework might handle <code>Error</code> exceptions on a worker thread by attempting a shutdown ... on the basis that the error may have put the JVM into a potentially unsafe / non-recoverable state.</p>\n"},{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638610008,"creation_date":1638610008,"answer_id":70224427,"question_id":70219901,"body_markdown":"&gt; Will an unhandled runtime exception stop the whole server (i.e. Spring Boot application) or just the specific HTTP request ?\r\n\r\nThere is usually a ```thread pool``` in web server to handle all requests(e.g ```tomcat```). Uncaught exceptions that occur in your ```controller``` will eventually be caught somewhere, so it will not cause the ```worker thread``` in the ```thread pool``` to be killed.\r\n\r\n```\r\nTomcat#AbstractEndpoint#processSocket:\r\n\r\nExecutor executor = getExecutor();\r\nif (dispatch &amp;&amp; executor != null) {\r\n    // handle request in thread poll\r\n    executor.execute(sc);\r\n} \r\n```\r\nI did a simple debug.  Assuming that an unhandle ```exception``` occurred in your ```controller```, then the exception was actually caught by ```FrameworkServlet#processRequest```. After the capture, it will be wrapped into a ```NestedServletException``` and continue to be thrown to the upper layer. Eventually, it will be caught and printed in ```StandardWrapperValve#invoke```.","title":"Does an unhandled runtime exception crash the whole server?","body":"<blockquote>\n<p>Will an unhandled runtime exception stop the whole server (i.e. Spring Boot application) or just the specific HTTP request ?</p>\n</blockquote>\n<p>There is usually a <code>thread pool</code> in web server to handle all requests(e.g <code>tomcat</code>). Uncaught exceptions that occur in your <code>controller</code> will eventually be caught somewhere, so it will not cause the <code>worker thread</code> in the <code>thread pool</code> to be killed.</p>\n<pre><code>Tomcat#AbstractEndpoint#processSocket:\n\nExecutor executor = getExecutor();\nif (dispatch &amp;&amp; executor != null) {\n    // handle request in thread poll\n    executor.execute(sc);\n} \n</code></pre>\n<p>I did a simple debug.  Assuming that an unhandle <code>exception</code> occurred in your <code>controller</code>, then the exception was actually caught by <code>FrameworkServlet#processRequest</code>. After the capture, it will be wrapped into a <code>NestedServletException</code> and continue to be thrown to the upper layer. Eventually, it will be caught and printed in <code>StandardWrapperValve#invoke</code>.</p>\n"}],"owner":{"account_id":23013021,"reputation":137,"user_id":17135278,"display_name":"Constantine Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2432,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70224427,"answer_count":3,"score":6,"last_activity_date":1641456477,"creation_date":1638560596,"question_id":70219901,"body_markdown":"Will an unhandled runtime exception stop the whole server (i.e. Spring Boot application) or just the specific HTTP request ?\r\n\r\nIt is true that an unhandled runtime exception will instantly shut down normal Java application, right ?","title":"Does an unhandled runtime exception crash the whole server?","body":"<p>Will an unhandled runtime exception stop the whole server (i.e. Spring Boot application) or just the specific HTTP request ?</p>\n<p>It is true that an unhandled runtime exception will instantly shut down normal Java application, right ?</p>\n"},{"tags":["java","error-handling"],"comments":[{"owner":{"account_id":3037469,"reputation":787,"user_id":2575201,"accept_rate":75,"display_name":"cowboi-peng"},"score":0,"creation_date":1641452247,"post_id":70603507,"comment_id":124809256,"body_markdown":"wrong package name . try delete the &quot;package xxxxx&quot; in the java file.","body":"wrong package name . try delete the &quot;package xxxxx&quot; in the java file."},{"owner":{"account_id":23535921,"reputation":45,"user_id":17580865,"display_name":"Manish Kumar Sahu"},"score":0,"creation_date":1641452847,"post_id":70603507,"comment_id":124809372,"body_markdown":"my package is **com.euler** should I remove that line from my code??","body":"my package is <b>com.euler</b> should I remove that line from my code??"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1641453512,"post_id":70603507,"comment_id":124809529,"body_markdown":"you should read up on what packages do","body":"you should read up on what packages do"},{"owner":{"account_id":7293605,"reputation":95,"user_id":5559234,"display_name":"venkatraman hiregange"},"score":0,"creation_date":1641453665,"post_id":70603507,"comment_id":124809574,"body_markdown":"please give full path name to java command like java com.euler.Euler.......List","body":"please give full path name to java command like java com.euler.Euler.......List"},{"owner":{"account_id":23535921,"reputation":45,"user_id":17580865,"display_name":"Manish Kumar Sahu"},"score":0,"creation_date":1641454233,"post_id":70603507,"comment_id":124809733,"body_markdown":"@venkatramanhiregange I tried that, but didnt work. I wrote the below command after compiling it. **java com.euler.EulerianPathDirectedEdgesAdjacencyList**","body":"@venkatramanhiregange I tried that, but didnt work. I wrote the below command after compiling it. <b>java com.euler.EulerianPathDirectedEdgesAdjacencyList</b>"},{"owner":{"account_id":7293605,"reputation":95,"user_id":5559234,"display_name":"venkatraman hiregange"},"score":0,"creation_date":1641471516,"post_id":70603507,"comment_id":124815296,"body_markdown":"can you please open jar and tell me w the content of jar?","body":"can you please open jar and tell me w the content of jar?"}],"answers":[{"tags":[],"owner":{"account_id":23812112,"reputation":53,"user_id":17820797,"display_name":"pm."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641456278,"creation_date":1641456278,"answer_id":70604113,"question_id":70603507,"body_markdown":"Try running the command : java com.euler.EulerianPathDirectedEdgesAdjacencyList from the same directory where class file got created after running the previous javac command","title":"java.lang.NoClassDefFoundError |","body":"<p>Try running the command : java com.euler.EulerianPathDirectedEdgesAdjacencyList from the same directory where class file got created after running the previous javac command</p>\n"}],"owner":{"account_id":23535921,"reputation":45,"user_id":17580865,"display_name":"Manish Kumar Sahu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641456278,"creation_date":1641452083,"question_id":70603507,"body_markdown":"My java program is running fine on my Eclipse IDE, but when am trying to run the same &quot;.java&quot; file using my command prompt it is showing me an error as shown in the fig. \r\n\r\n**Error: Could not find or load main class EulerianPathDirectedEdgesAdjacencyList\r\nCaused by: java.lang.NoClassDefFoundError: com/euler/EulerianPathDirectedEdgesAdjacencyList (wrong name: EulerianPathDirectedEdgesAdjacencyList)**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhile am running the same code in my Eclipse IDE its working fine!\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p1syj.png\r\n  [2]: https://i.stack.imgur.com/q0Ryl.png\r\n\r\nPlease let me know, how to solve this.\r\nThanks!","title":"java.lang.NoClassDefFoundError |","body":"<p>My java program is running fine on my Eclipse IDE, but when am trying to run the same &quot;.java&quot; file using my command prompt it is showing me an error as shown in the fig.</p>\n<p><strong>Error: Could not find or load main class EulerianPathDirectedEdgesAdjacencyList\nCaused by: java.lang.NoClassDefFoundError: com/euler/EulerianPathDirectedEdgesAdjacencyList (wrong name: EulerianPathDirectedEdgesAdjacencyList)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/p1syj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p1syj.png\" alt=\"enter image description here\" /></a></p>\n<p>While am running the same code in my Eclipse IDE its working fine!</p>\n<p><a href=\"https://i.stack.imgur.com/q0Ryl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q0Ryl.png\" alt=\"enter image description here\" /></a></p>\n<p>Please let me know, how to solve this.\nThanks!</p>\n"},{"tags":["java","log4j","docx4j"],"comments":[{"owner":{"account_id":2431730,"reputation":1425,"user_id":2122484,"accept_rate":75,"display_name":"Naveen Ramawat"},"score":1,"creation_date":1438165562,"post_id":31697557,"comment_id":51335027,"body_markdown":"create logger for org.docx4j and set the log level error","body":"create logger for org.docx4j and set the log level error"},{"owner":{"account_id":4208964,"reputation":2051,"user_id":3447216,"display_name":"Priyesh"},"score":0,"creation_date":1438166589,"post_id":31697557,"comment_id":51335684,"body_markdown":"What version of log4j are you using?","body":"What version of log4j are you using?"},{"owner":{"account_id":2464203,"reputation":2359,"user_id":2147674,"accept_rate":70,"display_name":"user2147674"},"score":0,"creation_date":1438166737,"post_id":31697557,"comment_id":51335771,"body_markdown":"I use version 1.2.11","body":"I use version 1.2.11"}],"answers":[{"tags":[],"owner":{"account_id":4208964,"reputation":2051,"user_id":3447216,"display_name":"Priyesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438167656,"creation_date":1438166839,"answer_id":31698304,"question_id":31697557,"body_markdown":"Add the following line to your configuration:\r\n\r\n    &lt;logger name=&quot;org.docx4j.model.listnumbering.Emulator&quot;&gt;\r\n       &lt;level value=&quot;ERROR&quot; /&gt;\r\n       &lt;appender-ref ref=&quot;console&quot;/&gt;\r\n    &lt;/logger&gt;\r\n\r\nThis will configure log4j to log only **ERROR** messages originating from logger *org.docx4j.model.listnumbering.Emulator*. If you want to turn off **INFO** messages from all classes/packages under `org.docx4j`, use the following:\r\n\r\n    &lt;logger name=&quot;org.docx4j&quot; &gt;\r\n        &lt;level value=&quot;ERROR&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;console&quot;/&gt;       \r\n    &lt;/logger&gt;\r\n\r\nMore information here : http://www.javabeat.net/baisc-steps-to-configure-log4j-using-xml-and-properties-file/\r\n","title":"Turn off Console Messages docx4j","body":"<p>Add the following line to your configuration:</p>\n\n<pre><code>&lt;logger name=\"org.docx4j.model.listnumbering.Emulator\"&gt;\n   &lt;level value=\"ERROR\" /&gt;\n   &lt;appender-ref ref=\"console\"/&gt;\n&lt;/logger&gt;\n</code></pre>\n\n<p>This will configure log4j to log only <strong>ERROR</strong> messages originating from logger <em>org.docx4j.model.listnumbering.Emulator</em>. If you want to turn off <strong>INFO</strong> messages from all classes/packages under <code>org.docx4j</code>, use the following:</p>\n\n<pre><code>&lt;logger name=\"org.docx4j\" &gt;\n    &lt;level value=\"ERROR\" /&gt;\n    &lt;appender-ref ref=\"console\"/&gt;       \n&lt;/logger&gt;\n</code></pre>\n\n<p>More information here : <a href=\"http://www.javabeat.net/baisc-steps-to-configure-log4j-using-xml-and-properties-file/\" rel=\"nofollow\">http://www.javabeat.net/baisc-steps-to-configure-log4j-using-xml-and-properties-file/</a></p>\n"},{"tags":[],"owner":{"account_id":1970873,"reputation":927,"user_id":1769859,"accept_rate":50,"display_name":"derek.z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641456247,"creation_date":1641456247,"answer_id":70604106,"question_id":31697557,"body_markdown":"I&#39;m using docx4j 8.3.2, logged by slf4j 1.7.30 + logback 1.2.3.\r\nThe annoying log messages disappeared after adding a logback.xml under src/main/resources. The logback.xml content:\r\n\r\n\t&lt;configuration&gt;\r\n\t\t&lt;appender name=&quot;STDOUT&quot;\r\n\t\t\t\t  class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t\t&lt;!-- encoders are assigned the type ch.qos.logback.classic.encoder.PatternLayoutEncoder\r\n\t\t\t\tby default --&gt;\r\n\t\t\t&lt;encoder&gt;\r\n\t\t\t\t&lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} %line - %msg%n\r\n\t\t\t\t&lt;/pattern&gt;\r\n\t\t\t&lt;/encoder&gt;\r\n\t\t&lt;/appender&gt;\r\n\t\t&lt;!-- docx4j loggers --&gt;\r\n\t\t&lt;logger name=&quot;org.docx4j&quot; level=&quot;ERROR&quot; /&gt;\r\n\t \r\n\t\t&lt;root level=&quot;DEBUG&quot;&gt;\r\n\t\t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n\t\t&lt;/root&gt;\r\n\t&lt;/configuration&gt;","title":"Turn off Console Messages docx4j","body":"<p>I'm using docx4j 8.3.2, logged by slf4j 1.7.30 + logback 1.2.3.\nThe annoying log messages disappeared after adding a logback.xml under src/main/resources. The logback.xml content:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;STDOUT&quot;\n              class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;!-- encoders are assigned the type ch.qos.logback.classic.encoder.PatternLayoutEncoder\n            by default --&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} %line - %msg%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;!-- docx4j loggers --&gt;\n    &lt;logger name=&quot;org.docx4j&quot; level=&quot;ERROR&quot; /&gt;\n \n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":2464203,"reputation":2359,"user_id":2147674,"accept_rate":70,"display_name":"user2147674"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641456247,"creation_date":1438164891,"question_id":31697557,"body_markdown":"Docx4j gives me a bunch of messages like this\r\n\r\n    [AWT-EventQueue-0] INFO org.docx4j.model.listnumbering.Emulator -\r\n\r\nHow to turn that off?\r\n\r\n\r\nThe following log configuration gets loaded, but doesnt turns the logging off.\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n    \r\n    &lt;log4j:configuration xmlns:log4j=&quot;http://jakarta.apache.org/log4j/&quot;&gt;\r\n      &lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt; \r\n        &lt;param name=&quot;Target&quot; value=&quot;System.out&quot;/&gt; \r\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt; \r\n          &lt;param name=&quot;ConversionPattern&quot; value=&quot;%-5p %c{1} - %m%n&quot;/&gt; \r\n        &lt;/layout&gt; \r\n      &lt;/appender&gt; \r\n    \r\n      &lt;root&gt; \r\n        &lt;priority value =&quot;OFF&quot; /&gt; \r\n      &lt;/root&gt;\r\n      \r\n    &lt;/log4j:configuration&gt;\r\n\r\n","title":"Turn off Console Messages docx4j","body":"<p>Docx4j gives me a bunch of messages like this</p>\n\n<pre><code>[AWT-EventQueue-0] INFO org.docx4j.model.listnumbering.Emulator -\n</code></pre>\n\n<p>How to turn that off?</p>\n\n<p>The following log configuration gets loaded, but doesnt turns the logging off.</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM \"log4j.dtd\"&gt;\n\n&lt;log4j:configuration xmlns:log4j=\"http://jakarta.apache.org/log4j/\"&gt;\n  &lt;appender name=\"console\" class=\"org.apache.log4j.ConsoleAppender\"&gt; \n    &lt;param name=\"Target\" value=\"System.out\"/&gt; \n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt; \n      &lt;param name=\"ConversionPattern\" value=\"%-5p %c{1} - %m%n\"/&gt; \n    &lt;/layout&gt; \n  &lt;/appender&gt; \n\n  &lt;root&gt; \n    &lt;priority value =\"OFF\" /&gt; \n  &lt;/root&gt;\n\n&lt;/log4j:configuration&gt;\n</code></pre>\n"},{"tags":["java","calendar","java-time"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":5,"creation_date":1349855548,"post_id":12814504,"comment_id":17331603,"body_markdown":"Look at the API documentation of `java.util.Calendar`. Or make your life easier by using [Joda Time](http://joda-time.sourceforge.net/).","body":"Look at the API documentation of <code>java.util.Calendar</code>. Or make your life easier by using <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">Joda Time</a>."},{"owner":{"account_id":1709181,"reputation":786,"user_id":1567566,"accept_rate":40,"display_name":"Tinman"},"score":3,"creation_date":1349855713,"post_id":12814504,"comment_id":17331686,"body_markdown":"If using java.util.Calendar be careful with the id&#39;s of months. January is zero not one.","body":"If using java.util.Calendar be careful with the id&#39;s of months. January is zero not one."},{"owner":{"account_id":1806535,"reputation":13755,"user_id":1686001,"accept_rate":48,"display_name":"Nirav Ranpara"},"score":0,"creation_date":1349855816,"post_id":12814504,"comment_id":17333998,"body_markdown":"Refere this Example : http://www.java-examples.com/add-or-substract-months-current-date-using-java-calendar","body":"Refere this Example : <a href=\"http://www.java-examples.com/add-or-substract-months-current-date-using-java-calendar\" rel=\"nofollow noreferrer\">java-examples.com/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1551508557,"post_id":12814504,"comment_id":96673913,"body_markdown":"Jesper and Tinman, I recommend you don’t use `Calendar`. That class is poorly designed and long outdated. Instead use `YearMonth` or `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"Jesper and Tinman, I recommend you don’t use <code>Calendar</code>. That class is poorly designed and long outdated. Instead use <code>YearMonth</code> or <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":39749,"reputation":6764,"user_id":114804,"accept_rate":100,"display_name":"Gaim"},"down_vote_count":0,"up_vote_count":77,"is_accepted":true,"score":77,"last_activity_date":1349856215,"creation_date":1349855726,"answer_id":12814571,"question_id":12814504,"body_markdown":"Your solution is [here][1] but instead of addition you need to use subtraction\r\n\r\n    c.add(Calendar.MONTH, -1);\r\n\r\n\r\nThen you can call [getter][2] on the `Calendar` to acquire proper fields\r\n\r\n    int month = c.get(Calendar.MONTH) + 1; // beware of month indexing from zero\r\n    int year  = c.get(Calendar.YEAR);\r\n\r\n  [1]: https://stackoverflow.com/questions/1005523/how-to-add-one-day-to-a-date\r\n  [2]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html#get%28int%29","title":"How to get last month/year in java?","body":"<p>Your solution is <a href=\"https://stackoverflow.com/questions/1005523/how-to-add-one-day-to-a-date\">here</a> but instead of addition you need to use subtraction</p>\n\n<pre><code>c.add(Calendar.MONTH, -1);\n</code></pre>\n\n<p>Then you can call <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html#get%28int%29\" rel=\"noreferrer\">getter</a> on the <code>Calendar</code> to acquire proper fields</p>\n\n<pre><code>int month = c.get(Calendar.MONTH) + 1; // beware of month indexing from zero\nint year  = c.get(Calendar.YEAR);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1922639,"reputation":497,"user_id":1733754,"display_name":"George"},"down_vote_count":4,"up_vote_count":11,"is_accepted":false,"score":7,"last_activity_date":1349857125,"creation_date":1349856000,"answer_id":12814643,"question_id":12814504,"body_markdown":"The simplest &amp; least error prone approach is... Use Calendar&#39;s roll() method. Like this:\r\n\r\n    \r\n\r\n        c.roll(Calendar.MONTH, false);\r\n\r\n\r\nthe roll method takes a boolean, which basically means roll the month up(true) or down(false)?","title":"How to get last month/year in java?","body":"<p>The simplest &amp; least error prone approach is... Use Calendar's roll() method. Like this:</p>\n\n<pre><code>    c.roll(Calendar.MONTH, false);\n</code></pre>\n\n<p>the roll method takes a boolean, which basically means roll the month up(true) or down(false)?</p>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1349856132,"creation_date":1349856132,"answer_id":12814681,"question_id":12814504,"body_markdown":"Use [Joda Time Library][1]. It is very easy to handle date, time, calender and locale with it and it will be integrated to java in version 8.\r\n\r\n`DateTime#minusMonths` method would help you get previous month.\r\n\r\n  \r\n\r\n    DateTime month = new DateTime().minusMonths (1); \r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net","title":"How to get last month/year in java?","body":"<p>Use <a href=\"http://joda-time.sourceforge.net\">Joda Time Library</a>. It is very easy to handle date, time, calender and locale with it and it will be integrated to java in version 8.</p>\n\n<p><code>DateTime#minusMonths</code> method would help you get previous month.</p>\n\n<pre><code>DateTime month = new DateTime().minusMonths (1); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1476987,"reputation":17785,"user_id":1387157,"accept_rate":94,"display_name":"MaVRoSCy"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1349856203,"creation_date":1349856203,"answer_id":12814703,"question_id":12814504,"body_markdown":"you can use the Calendar class to do so:\r\n\r\n\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy.MM.dd HH:mm&quot;);\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.add(Calendar.MONTH, -1);\r\n    System.out.println(format.format(cal.getTime()));\r\n\r\nThis prints : `2012.09.10 11:01` for actual date `2012.10.10 11:01`\r\n","title":"How to get last month/year in java?","body":"<p>you can use the Calendar class to do so:</p>\n\n<pre><code>SimpleDateFormat format = new SimpleDateFormat(\"yyyy.MM.dd HH:mm\");\nCalendar cal = Calendar.getInstance();\ncal.add(Calendar.MONTH, -1);\nSystem.out.println(format.format(cal.getTime()));\n</code></pre>\n\n<p>This prints : <code>2012.09.10 11:01</code> for actual date <code>2012.10.10 11:01</code></p>\n"},{"tags":[],"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1349856348,"creation_date":1349856348,"answer_id":12814741,"question_id":12814504,"body_markdown":"You need to be aware that month is zero based so when you do the getMonth you will need to add 1. In the example below we have to add 1 to Januaray as 1 and not 0 \r\n\r\n        Calendar c = Calendar.getInstance();\r\n        c.set(2011, 2, 1);\r\n        c.add(Calendar.MONTH, -1);\r\n        int month = c.get(Calendar.MONTH) + 1;\r\n        assertEquals(1, month);\r\n","title":"How to get last month/year in java?","body":"<p>You need to be aware that month is zero based so when you do the getMonth you will need to add 1. In the example below we have to add 1 to Januaray as 1 and not 0 </p>\n\n<pre><code>    Calendar c = Calendar.getInstance();\n    c.set(2011, 2, 1);\n    c.add(Calendar.MONTH, -1);\n    int month = c.get(Calendar.MONTH) + 1;\n    assertEquals(1, month);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2248845,"reputation":7211,"user_id":1981559,"accept_rate":100,"display_name":"Przemek"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1458014108,"creation_date":1448370473,"answer_id":33894552,"question_id":12814504,"body_markdown":"# java.time\r\n\r\nUsing `java.time` framework built into Java 8:\r\n\r\n    import java.time.LocalDate;\r\n    \r\n    LocalDate now = LocalDate.now(); // 2015-11-24\r\n    LocalDate earlier = now.minusMonths(1); // 2015-10-24\r\n    \r\n    earlier.getMonth(); // java.time.Month = OCTOBER\r\n    earlier.getMonth.getValue(); // 10\r\n    earlier.getYear(); // 2015","title":"How to get last month/year in java?","body":"<h1>java.time</h1>\n\n<p>Using <code>java.time</code> framework built into Java 8:</p>\n\n<pre><code>import java.time.LocalDate;\n\nLocalDate now = LocalDate.now(); // 2015-11-24\nLocalDate earlier = now.minusMonths(1); // 2015-10-24\n\nearlier.getMonth(); // java.time.Month = OCTOBER\nearlier.getMonth.getValue(); // 10\nearlier.getYear(); // 2015\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7167209,"reputation":81,"user_id":5475960,"display_name":"prasad kamble"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1482385232,"creation_date":1482385232,"answer_id":41276449,"question_id":12814504,"body_markdown":"\r\n\tprivate static String getPreviousMonthDate(Date date){\r\n\t\tfinal SimpleDateFormat format = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n\t\t\r\n\t\tCalendar cal = Calendar.getInstance();  \r\n\t\tcal.setTime(date);  \r\n\t    cal.set(Calendar.DAY_OF_MONTH, 1);  \r\n\t    cal.add(Calendar.DATE, -1);\r\n\t    \r\n        Date preMonthDate = cal.getTime();  \r\n\t    return format.format(preMonthDate);\r\n\t}\r\n\t\r\n\t\r\n\tprivate static String getPreToPreMonthDate(Date date){\r\n\t\tfinal SimpleDateFormat format = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n\t\r\n\t\tCalendar cal = Calendar.getInstance();  \r\n\t\tcal.setTime(date);  \r\n\t\tcal.add(Calendar.MONTH, -1);  \r\n\t\tcal.set(Calendar.DAY_OF_MONTH,1);  \r\n\t\tcal.add(Calendar.DATE, -1);  \r\n\t\t  \r\n\t\tDate preToPreMonthDate = cal.getTime();  \r\n\t\treturn format.format(preToPreMonthDate);\r\n\t}\r\n\t    \r\n      \r\n\t\r\n\t","title":"How to get last month/year in java?","body":"<pre><code>private static String getPreviousMonthDate(Date date){\n    final SimpleDateFormat format = new SimpleDateFormat(\"dd-MM-yyyy\");\n\n    Calendar cal = Calendar.getInstance();  \n    cal.setTime(date);  \n    cal.set(Calendar.DAY_OF_MONTH, 1);  \n    cal.add(Calendar.DATE, -1);\n\n    Date preMonthDate = cal.getTime();  \n    return format.format(preMonthDate);\n}\n\n\nprivate static String getPreToPreMonthDate(Date date){\n    final SimpleDateFormat format = new SimpleDateFormat(\"dd-MM-yyyy\");\n\n    Calendar cal = Calendar.getInstance();  \n    cal.setTime(date);  \n    cal.add(Calendar.MONTH, -1);  \n    cal.set(Calendar.DAY_OF_MONTH,1);  \n    cal.add(Calendar.DATE, -1);  \n\n    Date preToPreMonthDate = cal.getTime();  \n    return format.format(preToPreMonthDate);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10596906,"reputation":9,"user_id":7805260,"display_name":"Anzz"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1530698501,"creation_date":1530605142,"answer_id":51149531,"question_id":12814504,"body_markdown":"Here&#39;s the code snippet.I think it works.\r\n\r\n          Calendar cal = Calendar.getInstance();\r\n\t\t  SimpleDateFormat simpleMonth=new SimpleDateFormat(&quot;MMMM YYYY&quot;);\r\n\t      cal.add(Calendar.MONTH, -1);\r\n          System.out.println(simpleMonth.format(prevcal.getTime()));\r\n\t\t  \r\n\r\n","title":"How to get last month/year in java?","body":"<p>Here's the code snippet.I think it works.</p>\n\n<pre><code>      Calendar cal = Calendar.getInstance();\n      SimpleDateFormat simpleMonth=new SimpleDateFormat(\"MMMM YYYY\");\n      cal.add(Calendar.MONTH, -1);\n      System.out.println(simpleMonth.format(prevcal.getTime()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5163592,"reputation":466,"user_id":4134429,"accept_rate":100,"display_name":"Prashant Shubham"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620888851,"creation_date":1620847098,"answer_id":67509780,"question_id":12814504,"body_markdown":"# `YearMonth` class\r\n\r\nYou can use the [`java.time.YearMonth`][1] class, and its [`minusMonths`][2] method.\r\n\r\n    YearMonth lastMonth = YearMonth.now().minusMonths(1);\r\n\r\nCalling [`toString`][3] gives you output in standard [ISO 8601][4] format: `yyyy-mm`\r\n\r\nYou can access the parts, the year and the month. You may choose to use the [`Month`][5] enum object, or a mere `int` value 1-12 for the month. \r\n\r\n    int year = lastMonth.getYear() ;\r\n    int month = lastMonth.getMonthValue() ;\r\n    Month monthEnum = lastMonth.getMonth() ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/YearMonth.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/YearMonth.html#minusMonths(long)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/YearMonth.html#toString()\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html","title":"How to get last month/year in java?","body":"<h1><code>YearMonth</code> class</h1>\n<p>You can use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>java.time.YearMonth</code></a> class, and its <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/YearMonth.html#minusMonths(long)\" rel=\"nofollow noreferrer\"><code>minusMonths</code></a> method.</p>\n<pre><code>YearMonth lastMonth = YearMonth.now().minusMonths(1);\n</code></pre>\n<p>Calling <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/YearMonth.html#toString()\" rel=\"nofollow noreferrer\"><code>toString</code></a> gives you output in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format: <code>yyyy-mm</code></p>\n<p>You can access the parts, the year and the month. You may choose to use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html\" rel=\"nofollow noreferrer\"><code>Month</code></a> enum object, or a mere <code>int</code> value 1-12 for the month.</p>\n<pre><code>int year = lastMonth.getYear() ;\nint month = lastMonth.getMonthValue() ;\nMonth monthEnum = lastMonth.getMonth() ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16822658,"reputation":21,"user_id":12162684,"display_name":"Kamil007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641455906,"creation_date":1641291125,"answer_id":70577118,"question_id":12814504,"body_markdown":"You get by using the LocalDate class. \r\n\r\nFor Example: \r\n\r\n1. To get last month date: \r\n\r\n    LocalDate.now().minusMonths(1);\r\n\r\n2. To get starting date of last month\r\n\r\n    LocalDate.now().minusMonths(1).with(TemporalAdjusters.firstDayOfMonth());\r\n\r\nSimilarly for Year: \r\n\r\n1. To get last year date:\r\n\r\n    LocalDate.now().minusYears(1);\r\n\r\n2. To get starting date of last year :\r\n\r\n    LocalDate.now().minusYears(1).with(TemporalAdjusters.lastDayOfYear());\r\n\r\n","title":"How to get last month/year in java?","body":"<p>You get by using the LocalDate class.</p>\n<p>For Example:</p>\n<ol>\n<li><p>To get last month date:</p>\n<p>LocalDate.now().minusMonths(1);</p>\n</li>\n<li><p>To get starting date of last month</p>\n<p>LocalDate.now().minusMonths(1).with(TemporalAdjusters.firstDayOfMonth());</p>\n</li>\n</ol>\n<p>Similarly for Year:</p>\n<ol>\n<li><p>To get last year date:</p>\n<p>LocalDate.now().minusYears(1);</p>\n</li>\n<li><p>To get starting date of last year :</p>\n<p>LocalDate.now().minusYears(1).with(TemporalAdjusters.lastDayOfYear());</p>\n</li>\n</ol>\n"}],"owner":{"account_id":324114,"reputation":12953,"user_id":644518,"accept_rate":61,"display_name":"ajm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144499,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":12814571,"answer_count":10,"score":50,"last_activity_date":1641455906,"creation_date":1349855424,"question_id":12814504,"body_markdown":"How do I find out the last month and its year in Java?\r\n\r\ne.g. If today is Oct. 10 2012, the result should be `Month = 9` and `Year = 2012`. If today is Jan. 10 2013, the result should be `Month = 12` and `Year = 2012`.","title":"How to get last month/year in java?","body":"<p>How do I find out the last month and its year in Java?</p>\n<p>e.g. If today is Oct. 10 2012, the result should be <code>Month = 9</code> and <code>Year = 2012</code>. If today is Jan. 10 2013, the result should be <code>Month = 12</code> and <code>Year = 2012</code>.</p>\n"},{"tags":["java","ssl","apache-zookeeper"],"comments":[{"owner":{"account_id":6289182,"reputation":7879,"user_id":4887423,"accept_rate":100,"display_name":"Willie Cheng"},"score":0,"creation_date":1643016266,"post_id":70604009,"comment_id":125218716,"body_markdown":"you can refer this [URL](https://stackoverflow.com/questions/30940981/zookeeper-error-cannot-open-channel-to-x-at-election-address)","body":"you can refer this <a href=\"https://stackoverflow.com/questions/30940981/zookeeper-error-cannot-open-channel-to-x-at-election-address\">URL</a>"},{"owner":{"account_id":17653983,"reputation":237,"user_id":12813945,"display_name":"Arbaz Sheikh"},"score":0,"creation_date":1654609037,"post_id":70604009,"comment_id":128127617,"body_markdown":"Are you running this on VMware ?","body":"Are you running this on VMware ?"}],"owner":{"account_id":4870803,"reputation":425,"user_id":3927415,"display_name":"user3927415"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641455654,"creation_date":1641455654,"question_id":70604009,"body_markdown":"I have a cluster with 3 instances of zookeeper for about a year (The zookeeper version is 3.5.8). The zookeeper has worked until yesterday, and it suddenly fails, and does not start up anymore. in all 3 instances.\r\n\r\nThe exception we get is:\r\n\r\n \r\n\r\n    WARN  [QuorumConnectionThread-[myid=1]-4:QuorumCnxManager@381] - Cannot open channel to 2 at election address /x.x.x.x:3888\r\n    java.net.SocketTimeoutException: connect timed out\r\n      at java.net.PlainSocketImpl.socketConnect(Native Method)\r\n      at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\r\n      at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\r\n      at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\r\n      at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n      at java.net.Socket.connect(Socket.java:579)\r\n      at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateonnection(QuorumCnxManager.java:373)\r\n    at org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:436)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    at java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\nthis is the zookeeper config in all the 3 instances:\r\n\r\n    clientPrt=2181\r\n    syncLimit=2\r\n    autopurge.purgeInterval=1\r\n    maxClientCnxns=10\r\n    initLimit=5\r\n    dataDir=/var/lib/zookeeper/\r\n    tickTime=2000\r\n    autopurge.snapRetainCount=10\r\n    \r\n    secureClientPort=2281\r\n    \r\n    server.1=X.X.X.X:2888:3888;2181\r\n    server.2=X.X.X.X:2888:3888;2181\r\n    server.3=X.X.X.X:2888:3888;2181\r\n\r\nNOTE: I did saw on the internet that the config variable for `server.X` should be 0.0.0.0 for the current node, but it didn&#39;t fixed it, and it never was like this.\r\n","title":"Getting &quot;Cannot open channel to 2 at election address /X.X.X.X:3888&quot; in zookeeper","body":"<p>I have a cluster with 3 instances of zookeeper for about a year (The zookeeper version is 3.5.8). The zookeeper has worked until yesterday, and it suddenly fails, and does not start up anymore. in all 3 instances.</p>\n<p>The exception we get is:</p>\n<pre><code>WARN  [QuorumConnectionThread-[myid=1]-4:QuorumCnxManager@381] - Cannot open channel to 2 at election address /x.x.x.x:3888\njava.net.SocketTimeoutException: connect timed out\n  at java.net.PlainSocketImpl.socketConnect(Native Method)\n  at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\n  at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\n  at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\n  at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n  at java.net.Socket.connect(Socket.java:579)\n  at org.apache.zookeeper.server.quorum.QuorumCnxManager.initiateonnection(QuorumCnxManager.java:373)\nat org.apache.zookeeper.server.quorum.QuorumCnxManager$QuorumConnectionReqThread.run(QuorumCnxManager.java:436)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>this is the zookeeper config in all the 3 instances:</p>\n<pre><code>clientPrt=2181\nsyncLimit=2\nautopurge.purgeInterval=1\nmaxClientCnxns=10\ninitLimit=5\ndataDir=/var/lib/zookeeper/\ntickTime=2000\nautopurge.snapRetainCount=10\n\nsecureClientPort=2281\n\nserver.1=X.X.X.X:2888:3888;2181\nserver.2=X.X.X.X:2888:3888;2181\nserver.3=X.X.X.X:2888:3888;2181\n</code></pre>\n<p>NOTE: I did saw on the internet that the config variable for <code>server.X</code> should be 0.0.0.0 for the current node, but it didn't fixed it, and it never was like this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11054990,"reputation":713,"user_id":8118052,"display_name":"Ofer Skulsky"},"score":0,"creation_date":1641455511,"post_id":70603867,"comment_id":124810058,"body_markdown":"you are creating an array list with a fixed size and you have an if clues that needs to be true to put values.\nso if you have a null value the if returned false for one or more of your inputs.","body":"you are creating an array list with a fixed size and you have an if clues that needs to be true to put values. so if you have a null value the if returned false for one or more of your inputs."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1641455699,"post_id":70603867,"comment_id":124810100,"body_markdown":"`ArrayList` isn’t threadsafe. Try using `ConcurrentLinkedQueue` or a synchronized collection.","body":"<code>ArrayList</code> isn’t threadsafe. Try using <code>ConcurrentLinkedQueue</code> or a synchronized collection."},{"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"score":0,"creation_date":1641455867,"post_id":70603867,"comment_id":124810147,"body_markdown":"@Ofer Skulsky `results` is initialized to be empty with `Lists.newArrayList()`. Its size is not fixed and will only be increased if an object is successfully `add`ed.","body":"@Ofer Skulsky <code>results</code> is initialized to be empty with <code>Lists.newArrayList()</code>. Its size is not fixed and will only be increased if an object is successfully <code>add</code>ed."},{"owner":{"account_id":11719036,"reputation":1,"user_id":8578502,"display_name":"li wei"},"score":0,"creation_date":1641456474,"post_id":70603867,"comment_id":124810301,"body_markdown":"@TimMoore but i can&#39;t reappear the error","body":"@TimMoore but i can&#39;t reappear the error"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1641456556,"post_id":70603867,"comment_id":124810331,"body_markdown":"The nature of thread safety problems is that they are not consistently reproducible. They happen because of small, uncontrolled timing differences.","body":"The nature of thread safety problems is that they are not consistently reproducible. They happen because of small, uncontrolled timing differences."}],"owner":{"account_id":11719036,"reputation":1,"user_id":8578502,"display_name":"li wei"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641454727,"creation_date":1641454727,"question_id":70603867,"body_markdown":"    List&lt;Object&gt; objects = service.search(searchBo); //the list hasn&#39;t null element\r\n    if (CollectionUtils.isNotEmpty(objects)) {\r\n\tList&lt;Object&gt; results = Lists.newArrayList();\r\n\r\n\tCountDownLatch doneSignal = new CountDownLatch(objects.size());\r\n\tfor (Object object : objects) {\r\n\t\t\texecutor.execute(() -&gt; {\r\n\t\t\t\tString albumFileKey = albumService.getAlbumFileKey(object.getFileKey());\r\n\t\t\t\tif (StringUtils.isNotEmpty(albumFileKey)) {\r\n\t\t\t\t\tobject.setUpdatedAt(new Date());\r\n\t\t\t\t\tobject.setAlbumFileKey(albumFileKey);\r\n\t\t\t\t\tresults.add(object);\r\n\t\t\t\t}\r\n\t\t\t\tdoneSignal.countDown();\r\n\t\t\t});\r\n\t}\r\n\ttry {\r\n\t\tdoneSignal.await();\r\n\t} catch (Exception exception) {\r\n\t\tLOGGER.error(&quot;album service occur exception&quot;, exception);\r\n\t}\r\n\r\nthe question:\r\nthe results has a null element, when i traverse the list ,then ocurr NPE. I wonder how did this null element get into the results list","title":"when i use countDownLatch , the collection has a null element. why?","body":"<pre><code>List&lt;Object&gt; objects = service.search(searchBo); //the list hasn't null element\nif (CollectionUtils.isNotEmpty(objects)) {\nList&lt;Object&gt; results = Lists.newArrayList();\n\nCountDownLatch doneSignal = new CountDownLatch(objects.size());\nfor (Object object : objects) {\n        executor.execute(() -&gt; {\n            String albumFileKey = albumService.getAlbumFileKey(object.getFileKey());\n            if (StringUtils.isNotEmpty(albumFileKey)) {\n                object.setUpdatedAt(new Date());\n                object.setAlbumFileKey(albumFileKey);\n                results.add(object);\n            }\n            doneSignal.countDown();\n        });\n}\ntry {\n    doneSignal.await();\n} catch (Exception exception) {\n    LOGGER.error(&quot;album service occur exception&quot;, exception);\n}\n</code></pre>\n<p>the question:\nthe results has a null element, when i traverse the list ,then ocurr NPE. I wonder how did this null element get into the results list</p>\n"},{"tags":["java","spring","resttemplate","interceptor"],"answers":[{"tags":[],"owner":{"account_id":1625750,"reputation":5627,"user_id":1501345,"accept_rate":60,"display_name":"Amit Kumar Lal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575882779,"creation_date":1575882779,"answer_id":59245668,"question_id":59244512,"body_markdown":"Can you try this \r\n\r\ninstead of below block of code i.e. \r\n\r\n    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient());\r\n    RestTemplate restTemplate = new RestTemplate(requestFactory);\r\n\r\ntry \r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.setRequestFactory(new BufferingClientHttpRequestFactory(clientHttpRequestFactory()));\r\n\r\n        \r\n\r\n see if this works for you.\r\n\r\n\r\n\r\n\r\n","title":"Spring RestTemplate Interceptor not execute request","body":"<p>Can you try this </p>\n\n<p>instead of below block of code i.e. </p>\n\n<pre><code>HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient());\nRestTemplate restTemplate = new RestTemplate(requestFactory);\n</code></pre>\n\n<p>try </p>\n\n<pre><code>RestTemplate restTemplate = new RestTemplate();\nrestTemplate.setRequestFactory(new BufferingClientHttpRequestFactory(clientHttpRequestFactory()));\n</code></pre>\n\n<p>see if this works for you.</p>\n"},{"tags":[],"owner":{"account_id":7476184,"reputation":81,"user_id":5682555,"display_name":"nacray"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641454453,"creation_date":1641404864,"answer_id":70597357,"question_id":59244512,"body_markdown":"This is an old question, but as people still come here via their search engine of choice and there was confusion about why the change &quot;worked&quot;, this might save someone some time:\r\n\r\nThe issue stems from the original http response not being consumed in your custom Interceptor class, if a 401 is the response code.\r\n\r\n**Upping the ConnectionPool capacity only hides the problem (and may &quot;fix&quot; the issue for the application run), but does not actually release the connection back to the pool and fix the problem.**\r\n\r\nIn your interceptor class, the 401 response is never consumed, just used for the StatusCode check. This response blocks one connection of the Pool. **The 401 response needs to be manually consumed as its never handed down.**\r\n\r\nIf a response has a 401 status, you execute a new request, and the original 401 response just blocks a connection forever. That&#39;s why there are no more connections available after a certain number of 401 requests (5 is default afaik). As no more connections are available in the ConnectionPool after those 5 401 requests, the thread just hangs around and the execute call never finishes since it&#39;s waiting for a free connection to use.\r\n\r\nThe required change? One line of code to save us the headache and the workaround, close the response after the 401 check (or any time a response is not returned/consumed): \r\n\r\n    public class RestTemplateHeaderInterceptor implements ClientHttpRequestInterceptor {\r\n    \r\n    @Override\r\n    public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution)\r\n            throws IOException {\r\n            // ... omitted ...\r\n    \r\n            // refresh token when expire\r\n            // THIS RESPONSE IS NEVER HANDLED\r\n            ClientHttpResponse response = execution.execute(request, body);\r\n            if (response.getStatusCode() == HttpStatus.UNAUTHORIZED) {\r\n                // Close response only needed for the status code and refresh\r\n                response.close();\r\n                // Continue on with your code.\r\n                Object refreshToken = session.getAttribute(AppConstants.Token.REFRESH_TOKEN);\r\n                if (refreshToken != null) {\r\n                    // ... omitted ...\r\n                        return execution.execute(request, body);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        return execution.execute(request, body);\r\n    }\r\n\r\nThere also is a convenience way for HttpEntities: org.apache.http.util.EntityUtils#consume when working with HttpEntites.\r\n\r\nNote that a rerequest in an interceptor as done in this code for a 401 will not be passed through other interceptors added to the interceptorlist for the httpclient. ","title":"Spring RestTemplate Interceptor not execute request","body":"<p>This is an old question, but as people still come here via their search engine of choice and there was confusion about why the change &quot;worked&quot;, this might save someone some time:</p>\n<p>The issue stems from the original http response not being consumed in your custom Interceptor class, if a 401 is the response code.</p>\n<p><strong>Upping the ConnectionPool capacity only hides the problem (and may &quot;fix&quot; the issue for the application run), but does not actually release the connection back to the pool and fix the problem.</strong></p>\n<p>In your interceptor class, the 401 response is never consumed, just used for the StatusCode check. This response blocks one connection of the Pool. <strong>The 401 response needs to be manually consumed as its never handed down.</strong></p>\n<p>If a response has a 401 status, you execute a new request, and the original 401 response just blocks a connection forever. That's why there are no more connections available after a certain number of 401 requests (5 is default afaik). As no more connections are available in the ConnectionPool after those 5 401 requests, the thread just hangs around and the execute call never finishes since it's waiting for a free connection to use.</p>\n<p>The required change? One line of code to save us the headache and the workaround, close the response after the 401 check (or any time a response is not returned/consumed):</p>\n<pre><code>public class RestTemplateHeaderInterceptor implements ClientHttpRequestInterceptor {\n\n@Override\npublic ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution)\n        throws IOException {\n        // ... omitted ...\n\n        // refresh token when expire\n        // THIS RESPONSE IS NEVER HANDLED\n        ClientHttpResponse response = execution.execute(request, body);\n        if (response.getStatusCode() == HttpStatus.UNAUTHORIZED) {\n            // Close response only needed for the status code and refresh\n            response.close();\n            // Continue on with your code.\n            Object refreshToken = session.getAttribute(AppConstants.Token.REFRESH_TOKEN);\n            if (refreshToken != null) {\n                // ... omitted ...\n                    return execution.execute(request, body);\n                }\n            }\n        }\n    }\n\n    return execution.execute(request, body);\n}\n</code></pre>\n<p>There also is a convenience way for HttpEntities: org.apache.http.util.EntityUtils#consume when working with HttpEntites.</p>\n<p>Note that a rerequest in an interceptor as done in this code for a 401 will not be passed through other interceptors added to the interceptorlist for the httpclient.</p>\n"}],"owner":{"account_id":8898820,"reputation":33,"user_id":6642870,"display_name":"phucvm8x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3800,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641454453,"creation_date":1575877583,"question_id":59244512,"body_markdown":"When I configure RestTemplate use HttpClient then my interceptor only execute for first time, in second time it&#39;ll hang up when execute, in this block below. There is no exception, I don&#39;t know why!\r\nIf I remove httpClient then no problem.\r\n(My interceptor intention is catch 401 unauthorized status to refresh access token)\r\n\r\n    if (url.contains(&quot;/auth&quot;) || url.contains(&quot;/custcare-common&quot;)) {\r\n        return execution.execute(request, body);\r\n    }\r\nFull code below:\r\n\r\n    public class RestTemplateHeaderInterceptor implements ClientHttpRequestInterceptor {\r\n\r\n\t@Override\r\n\tpublic ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution)\r\n\t\t\tthrows IOException {\r\n\t\tString url = request.getURI().getPath();\r\n\t\tif (url.contains(&quot;/auth&quot;) || url.contains(&quot;/custcare-common&quot;)) {\r\n\t\t\treturn execution.execute(request, body);\r\n\t\t}\r\n\t\t\r\n\t\tHttpSession session = SessionBean.getSession();\r\n\t\tif (session != null) {\r\n\t\t\t// check header does not has token then add to header\r\n\t\t\tif (request.getHeaders().isEmpty() || !request.getHeaders().containsKey(HttpHeaders.AUTHORIZATION)) {\r\n\t\t\t\t// add jwt token to header\r\n\t\t\t\tObject accessToken = session.getAttribute(AppConstants.Token.ACCESS_TOKEN);\r\n\t\t\t\tif (accessToken != null) {\r\n\t\t\t\t\trequest.getHeaders().add(HttpHeaders.AUTHORIZATION, SecurityConstants.TOKEN_PREFIX + accessToken);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// refresh token when expire\r\n\t\t\tClientHttpResponse response = execution.execute(request, body);\r\n\t\t\tif (response.getStatusCode() == HttpStatus.UNAUTHORIZED) {\r\n\t\t\t\tObject refreshToken = session.getAttribute(AppConstants.Token.REFRESH_TOKEN);\r\n\t\t\t\tif (refreshToken != null) {\r\n\t\t\t\t\tTokenData newTokenData = getNewToken(refreshToken.toString());\r\n\t\t\t\t\tif (newTokenData != null) {\r\n\t\t\t\t\t\tsession.setAttribute(AppConstants.Token.ACCESS_TOKEN, newTokenData.getAccessToken());\r\n\t\t\t\t\t\tsession.setAttribute(AppConstants.Token.REFRESH_TOKEN, newTokenData.getRefreshToken());\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\trequest.getHeaders().set(HttpHeaders.AUTHORIZATION, SecurityConstants.TOKEN_PREFIX + newTokenData.getAccessToken());\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn execution.execute(request, body);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn execution.execute(request, body);\r\n\t}\r\n\t\r\n\tprivate TokenData getNewToken(String refreshToken) {\r\n\t\tTokenData tokenData = null;\r\n\t\t\r\n\t\tRefreshTokenRequest request = new RefreshTokenRequest();\r\n\t\trequest.setRefreshToken(refreshToken);\r\n\t\t\r\n\t\tMessagesResponse&lt;TokenData&gt; response = RestUtil.post(RestUtil.getCcApiUrl(&quot;cc-api.authen.refresh-token&quot;), request, new ParameterizedTypeReference&lt;MessagesResponse&lt;TokenData&gt;&gt;() {});\r\n\t\t\r\n\t\tif (response != null) {\r\n\t\t\ttokenData = response.getData();\r\n\t\t}\r\n\t\t\r\n\t\treturn tokenData;\r\n\t}\r\n\r\n}\r\n\r\nMy RestTemplate config:\r\n\r\n\r\n    @Configuration\r\n    public class RestTemplateConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic PoolingHttpClientConnectionManager poolingHttpClientConnectionManager() {\r\n    \t\tPoolingHttpClientConnectionManager result = new PoolingHttpClientConnectionManager();\r\n    \t\tresult.setMaxTotal(20);\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RequestConfig requestConfig() {\r\n    \t\tRequestConfig requestConfig = RequestConfig.custom().setConnectionRequestTimeout(60000).setConnectTimeout(60000)\r\n    \t\t\t\t.setSocketTimeout(60000).build();\r\n    \r\n    \t\treturn requestConfig;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic CloseableHttpClient httpClient() throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException {\r\n    \t\tTrustStrategy trustStrategy = new TrustStrategy() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean isTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tSSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, trustStrategy).build();\r\n    \t\tSSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext, new NoopHostnameVerifier());\r\n    \t\tCloseableHttpClient result = HttpClientBuilder.create()\r\n    \t\t\t\t.setConnectionManager(poolingHttpClientConnectionManager())\r\n    \t\t\t\t.setDefaultRequestConfig(requestConfig())\r\n    \t\t\t\t.setSSLSocketFactory(csf)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Primary\r\n    \tpublic RestTemplate restTemplate() throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException {\r\n    \t\tHttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient());\r\n    \r\n    \t\tRestTemplate restTemplate = new RestTemplate(requestFactory);\r\n    \r\n    \t\trestTemplate.setErrorHandler(new RestResponseErrorHandler());\r\n    \r\n    \t\tList&lt;ClientHttpRequestInterceptor&gt; interceptors = restTemplate.getInterceptors();\r\n    \t\tif (interceptors.isEmpty()) {\r\n    \t\t\tinterceptors = new ArrayList&lt;&gt;();\r\n    \t\t}\r\n    \t\tinterceptors.add(new RestTemplateHeaderInterceptor());\r\n    \t\trestTemplate.setInterceptors(interceptors);\r\n    \r\n    \t\treturn restTemplate;\r\n    \t}\r\n    }\r\n\r\n\r\nFinally, I done deal with this issue by setting DefaultMaxPerRoute, but I still confuse about this. :D\r\n\r\n    @Bean\r\n\tpublic PoolingHttpClientConnectionManager poolingHttpClientConnectionManager() {\r\n\t\tPoolingHttpClientConnectionManager result = new PoolingHttpClientConnectionManager();\r\n\t\tresult.setMaxTotal(100);\r\n\t\tresult.setDefaultMaxPerRoute(100);\r\n\t\treturn result;\r\n\t}","title":"Spring RestTemplate Interceptor not execute request","body":"<p>When I configure RestTemplate use HttpClient then my interceptor only execute for first time, in second time it'll hang up when execute, in this block below. There is no exception, I don't know why!\nIf I remove httpClient then no problem.\n(My interceptor intention is catch 401 unauthorized status to refresh access token)</p>\n\n<pre><code>if (url.contains(\"/auth\") || url.contains(\"/custcare-common\")) {\n    return execution.execute(request, body);\n}\n</code></pre>\n\n<p>Full code below:</p>\n\n<pre><code>public class RestTemplateHeaderInterceptor implements ClientHttpRequestInterceptor {\n\n@Override\npublic ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution)\n        throws IOException {\n    String url = request.getURI().getPath();\n    if (url.contains(\"/auth\") || url.contains(\"/custcare-common\")) {\n        return execution.execute(request, body);\n    }\n\n    HttpSession session = SessionBean.getSession();\n    if (session != null) {\n        // check header does not has token then add to header\n        if (request.getHeaders().isEmpty() || !request.getHeaders().containsKey(HttpHeaders.AUTHORIZATION)) {\n            // add jwt token to header\n            Object accessToken = session.getAttribute(AppConstants.Token.ACCESS_TOKEN);\n            if (accessToken != null) {\n                request.getHeaders().add(HttpHeaders.AUTHORIZATION, SecurityConstants.TOKEN_PREFIX + accessToken);\n            }\n        }\n\n        // refresh token when expire\n        ClientHttpResponse response = execution.execute(request, body);\n        if (response.getStatusCode() == HttpStatus.UNAUTHORIZED) {\n            Object refreshToken = session.getAttribute(AppConstants.Token.REFRESH_TOKEN);\n            if (refreshToken != null) {\n                TokenData newTokenData = getNewToken(refreshToken.toString());\n                if (newTokenData != null) {\n                    session.setAttribute(AppConstants.Token.ACCESS_TOKEN, newTokenData.getAccessToken());\n                    session.setAttribute(AppConstants.Token.REFRESH_TOKEN, newTokenData.getRefreshToken());\n\n                    request.getHeaders().set(HttpHeaders.AUTHORIZATION, SecurityConstants.TOKEN_PREFIX + newTokenData.getAccessToken());\n\n                    return execution.execute(request, body);\n                }\n            }\n        }\n    }\n\n    return execution.execute(request, body);\n}\n\nprivate TokenData getNewToken(String refreshToken) {\n    TokenData tokenData = null;\n\n    RefreshTokenRequest request = new RefreshTokenRequest();\n    request.setRefreshToken(refreshToken);\n\n    MessagesResponse&lt;TokenData&gt; response = RestUtil.post(RestUtil.getCcApiUrl(\"cc-api.authen.refresh-token\"), request, new ParameterizedTypeReference&lt;MessagesResponse&lt;TokenData&gt;&gt;() {});\n\n    if (response != null) {\n        tokenData = response.getData();\n    }\n\n    return tokenData;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>My RestTemplate config:</p>\n\n<pre><code>@Configuration\npublic class RestTemplateConfig {\n\n    @Bean\n    public PoolingHttpClientConnectionManager poolingHttpClientConnectionManager() {\n        PoolingHttpClientConnectionManager result = new PoolingHttpClientConnectionManager();\n        result.setMaxTotal(20);\n        return result;\n    }\n\n    @Bean\n    public RequestConfig requestConfig() {\n        RequestConfig requestConfig = RequestConfig.custom().setConnectionRequestTimeout(60000).setConnectTimeout(60000)\n                .setSocketTimeout(60000).build();\n\n        return requestConfig;\n    }\n\n    @Bean\n    public CloseableHttpClient httpClient() throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException {\n        TrustStrategy trustStrategy = new TrustStrategy() {\n            @Override\n            public boolean isTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException {\n                return true;\n            }\n        };\n        SSLContext sslContext = SSLContexts.custom().loadTrustMaterial(null, trustStrategy).build();\n        SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext, new NoopHostnameVerifier());\n        CloseableHttpClient result = HttpClientBuilder.create()\n                .setConnectionManager(poolingHttpClientConnectionManager())\n                .setDefaultRequestConfig(requestConfig())\n                .setSSLSocketFactory(csf)\n                .build();\n\n        return result;\n    }\n\n    @Bean\n    @Primary\n    public RestTemplate restTemplate() throws KeyManagementException, NoSuchAlgorithmException, KeyStoreException {\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory(httpClient());\n\n        RestTemplate restTemplate = new RestTemplate(requestFactory);\n\n        restTemplate.setErrorHandler(new RestResponseErrorHandler());\n\n        List&lt;ClientHttpRequestInterceptor&gt; interceptors = restTemplate.getInterceptors();\n        if (interceptors.isEmpty()) {\n            interceptors = new ArrayList&lt;&gt;();\n        }\n        interceptors.add(new RestTemplateHeaderInterceptor());\n        restTemplate.setInterceptors(interceptors);\n\n        return restTemplate;\n    }\n}\n</code></pre>\n\n<p>Finally, I done deal with this issue by setting DefaultMaxPerRoute, but I still confuse about this. :D</p>\n\n<pre><code>@Bean\npublic PoolingHttpClientConnectionManager poolingHttpClientConnectionManager() {\n    PoolingHttpClientConnectionManager result = new PoolingHttpClientConnectionManager();\n    result.setMaxTotal(100);\n    result.setDefaultMaxPerRoute(100);\n    return result;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1641450642,"post_id":70603319,"comment_id":124808953,"body_markdown":"Does *half* mean half of the size/length or do the values matter anyhow, maybe in addition?","body":"Does <i>half</i> mean half of the size/length or do the values matter anyhow, maybe in addition?"},{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1641452059,"post_id":70603319,"comment_id":124809209,"body_markdown":"Splitting the deck clean in half, or dealing out the deck to two players?","body":"Splitting the deck clean in half, or dealing out the deck to two players?"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641453895,"creation_date":1641450699,"answer_id":70603348,"question_id":70603319,"body_markdown":"You can use `subList`:\r\n\r\n    List&lt;Integer&gt; deck1 = deck.subList(0,deck.size()/2);\r\n    List&lt;Integer&gt; deck2 = deck.subList(deck.size()/2,deck.size ());\r\n\r\nNote that these are views of the original `List`, so changes in these sub-llsts will be reflected in the original `List`.\r\n\r\nIf you want to avoid that, you can make copies:\r\n\r\n\r\n    List&lt;Integer&gt; deck1 = new ArrayList&lt;&gt;(deck.subList(0,deck.size()/2));\r\n    List&lt;Integer&gt; deck2 = new ArrayList&lt;&gt;(deck.subList(deck.size()/2,deck.size ()));\r\n\r\nOr, as Basil commented, if you wish the lists to be immutable, use:\r\n\r\n    List&lt;Integer&gt; deck1 = List.of(deck.subList(0,deck.size()/2));\r\n    List&lt;Integer&gt; deck2 = List.of(deck.subList(deck.size()/2,deck.size ()));","title":"Is it possible to split a integer arraylist in half into 2 separate arraylists?","body":"<p>You can use <code>subList</code>:</p>\n<pre><code>List&lt;Integer&gt; deck1 = deck.subList(0,deck.size()/2);\nList&lt;Integer&gt; deck2 = deck.subList(deck.size()/2,deck.size ());\n</code></pre>\n<p>Note that these are views of the original <code>List</code>, so changes in these sub-llsts will be reflected in the original <code>List</code>.</p>\n<p>If you want to avoid that, you can make copies:</p>\n<pre><code>List&lt;Integer&gt; deck1 = new ArrayList&lt;&gt;(deck.subList(0,deck.size()/2));\nList&lt;Integer&gt; deck2 = new ArrayList&lt;&gt;(deck.subList(deck.size()/2,deck.size ()));\n</code></pre>\n<p>Or, as Basil commented, if you wish the lists to be immutable, use:</p>\n<pre><code>List&lt;Integer&gt; deck1 = List.of(deck.subList(0,deck.size()/2));\nList&lt;Integer&gt; deck2 = List.of(deck.subList(deck.size()/2,deck.size ()));\n</code></pre>\n"}],"owner":{"account_id":23842876,"reputation":25,"user_id":17847717,"display_name":"foscool"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1641462331,"answer_count":1,"score":0,"last_activity_date":1641453895,"creation_date":1641450514,"question_id":70603319,"body_markdown":"\r\n\r\n    public class War {\r\n    \r\n        public static void main(String args[])\r\n        {\r\n                ArrayList&lt;Integer&gt; deck = new ArrayList&lt;&gt;(List.of(2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, \r\n                5, 5, 5, 6, 6, 6, 6, 7, 7, 7, 7, 8, 8, 8, 8, 9, 9, 9, 9, 10, 10, 10, 10, 11, 11, 11, 11, \r\n                12, 12, 12, 12, 13, 13, 13, 13, 14, 14, 14, 14));\r\n        \t\r\n                // Creates a deck and shuffles it\r\n                Collections.shuffle(deck);\r\n        \r\n                System.out.println(deck);\r\n        \r\n                ArrayList&lt;Integer&gt; player1 = new ArrayList&lt;&gt;();\r\n                ArrayList&lt;Integer&gt; player2 = new ArrayList&lt;&gt;();\r\n        \r\n                System.out.println(player2);\r\n                System.out.println(player1);  \r\n        }    \r\n    }\r\n\r\nThis is for my card war game where I want to split the deck arraylist in half (2 lists) and then be able to use those 2 lists as the cards for the 2 players.\r\n","title":"Is it possible to split a integer arraylist in half into 2 separate arraylists?","body":"<pre><code>public class War {\n\n    public static void main(String args[])\n    {\n            ArrayList&lt;Integer&gt; deck = new ArrayList&lt;&gt;(List.of(2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, \n            5, 5, 5, 6, 6, 6, 6, 7, 7, 7, 7, 8, 8, 8, 8, 9, 9, 9, 9, 10, 10, 10, 10, 11, 11, 11, 11, \n            12, 12, 12, 12, 13, 13, 13, 13, 14, 14, 14, 14));\n        \n            // Creates a deck and shuffles it\n            Collections.shuffle(deck);\n    \n            System.out.println(deck);\n    \n            ArrayList&lt;Integer&gt; player1 = new ArrayList&lt;&gt;();\n            ArrayList&lt;Integer&gt; player2 = new ArrayList&lt;&gt;();\n    \n            System.out.println(player2);\n            System.out.println(player1);  \n    }    \n}\n</code></pre>\n<p>This is for my card war game where I want to split the deck arraylist in half (2 lists) and then be able to use those 2 lists as the cards for the 2 players.</p>\n"},{"tags":["java","android","android-glide"],"answers":[{"tags":[],"owner":{"account_id":3555029,"reputation":1963,"user_id":2968988,"accept_rate":100,"display_name":"Mohamed Nageh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1585957788,"creation_date":1585957788,"answer_id":61022054,"question_id":61021857,"body_markdown":"It&#39;s a handshake exception. On devices older than `Android 5.0` `TLSv1.1` and `TLSv1.2` protocols are not enabled by default and that&#39;s why this exception occurs.   \r\n\r\nYou can try this inside your Application&#39;s class onCreate method: \r\n\r\n    if (Build.VERSION.SDK_INT == 19) {\r\n            try {\r\n                ProviderInstaller.installIfNeeded(this);\r\n            } catch (Exception ignored) {\r\n            }\r\n        }\r\n\r\n\r\nAlso, You can check [this github issue][1] for better solutions. \r\n\r\n\r\n  [1]: https://github.com/square/okhttp/issues/2372","title":"Android glide not loading pictures in Android 4.X","body":"<p>It's a handshake exception. On devices older than <code>Android 5.0</code> <code>TLSv1.1</code> and <code>TLSv1.2</code> protocols are not enabled by default and that's why this exception occurs.   </p>\n\n<p>You can try this inside your Application's class onCreate method: </p>\n\n<pre><code>if (Build.VERSION.SDK_INT == 19) {\n        try {\n            ProviderInstaller.installIfNeeded(this);\n        } catch (Exception ignored) {\n        }\n    }\n</code></pre>\n\n<p>Also, You can check <a href=\"https://github.com/square/okhttp/issues/2372\" rel=\"nofollow noreferrer\">this github issue</a> for better solutions. </p>\n"},{"tags":[],"owner":{"account_id":3542965,"reputation":397,"user_id":2959589,"accept_rate":0,"display_name":"user2959589"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641453657,"creation_date":1641453657,"answer_id":70603711,"question_id":61021857,"body_markdown":"I ran into this problem on API 30. It was weird, I was using Retrofit with okhttp just fine to access other things on the same server, but when I tried to use Glide to load an image, I got the dreaded:\r\n\r\n    SSLProtocolException: Read error: ssl=0xe78f6a18: Failure in SSL library, usually a protocol error\r\n\r\nI saw various posts about much older Android versions having problems with TLS1.2 but that wasn&#39;t the issue. It seems like Glide has a dependency on an older version of OKHttp and that was the problem. Or something like that, not exactly sure, but I did fix it with this in my gradle file:\r\n\r\n    implementation &#39;com.github.bumptech.glide:glide:4.12.0&#39;\r\n    implementation &#39;com.github.bumptech.glide:okhttp3-integration:4.12.0&#39;\r\n\r\nIt seems like the `okhttp3-integration` is what fixes it. I&#39;m posting this here for anyone else who gets stumped by this and does some searches. ","title":"Android glide not loading pictures in Android 4.X","body":"<p>I ran into this problem on API 30. It was weird, I was using Retrofit with okhttp just fine to access other things on the same server, but when I tried to use Glide to load an image, I got the dreaded:</p>\n<pre><code>SSLProtocolException: Read error: ssl=0xe78f6a18: Failure in SSL library, usually a protocol error\n</code></pre>\n<p>I saw various posts about much older Android versions having problems with TLS1.2 but that wasn't the issue. It seems like Glide has a dependency on an older version of OKHttp and that was the problem. Or something like that, not exactly sure, but I did fix it with this in my gradle file:</p>\n<pre><code>implementation 'com.github.bumptech.glide:glide:4.12.0'\nimplementation 'com.github.bumptech.glide:okhttp3-integration:4.12.0'\n</code></pre>\n<p>It seems like the <code>okhttp3-integration</code> is what fixes it. I'm posting this here for anyone else who gets stumped by this and does some searches.</p>\n"}],"owner":{"account_id":14373662,"reputation":536,"user_id":10382684,"display_name":"anehme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61022054,"answer_count":2,"score":0,"last_activity_date":1641453657,"creation_date":1585956372,"question_id":61021857,"body_markdown":"I am using Glide v4.11 to load pictures from the web , everything work fine in android 5.0 or higher but in android 4.X pictures do not load.\r\n\r\nHere is my code : \r\n \r\n\r\n     RequestOptions options = new RequestOptions()\r\n                        .placeholder(android.R.drawable.progress_horizontal)\r\n                        .error(android.R.drawable.presence_offline)\r\n                        .diskCacheStrategy(DiskCacheStrategy.ALL);\r\n    \r\n       Glide.with(context)\r\n                        .load(data.getImage_url())\r\n                        .apply(options)\r\n                        .into(holder.thumbnail);\r\n\r\nand here is the LogCat on Android 4.4:\r\n\r\n    W/Glide: Load failed for https://www.gradientapi.xyz/generate/w/1000/h/500 with size [188x263]\r\n        class com.bumptech.glide.load.engine.GlideException: Failed to load resource\r\n        There was 1 cause:\r\n        javax.net.ssl.SSLHandshakeException(javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0xb85422a0: Failure in SSL library, usually a protocol error\r\n        error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol (external/openssl/ssl/s23_clnt.c:766 0xa744e990:0x00000000))\r\n         call GlideException#logRootCauses(String) for more detail\r\n          Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetching data failed, class java.io.InputStream, REMOTE\r\n        There was 1 cause:\r\n        javax.net.ssl.SSLHandshakeException(javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0xb85422a0: Failure in SSL library, usually a protocol error\r\n        error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol (external/openssl/ssl/s23_clnt.c:766 0xa744e990:0x00000000))\r\n         call GlideException#logRootCauses(String) for more detail\r\n            Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetch failed\r\n        There was 1 cause:\r\n        javax.net.ssl.SSLHandshakeException(javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0xb85422a0: Failure in SSL library, usually a protocol error\r\n        error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol (external/openssl/ssl/s23_clnt.c:766 0xa744e990:0x00000000))\r\n         call GlideException#logRootCauses(String) for more detail\r\n              Cause (1 of 1): class javax.net.ssl.SSLHandshakeException: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0xb85422a0: Failure in SSL library, usually a protocol error\r\n        error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol (external/openssl/ssl/s23_clnt.c:766 0xa744e990:0x00000000)\r\n\r\nI searched over web and i found that Android 4.4 only support TLS 1.0.\r\n\r\nIt may be the issue ? and if yes is there any solutions ? \r\n","title":"Android glide not loading pictures in Android 4.X","body":"<p>I am using Glide v4.11 to load pictures from the web , everything work fine in android 5.0 or higher but in android 4.X pictures do not load.</p>\n<p>Here is my code :</p>\n<pre><code> RequestOptions options = new RequestOptions()\n                    .placeholder(android.R.drawable.progress_horizontal)\n                    .error(android.R.drawable.presence_offline)\n                    .diskCacheStrategy(DiskCacheStrategy.ALL);\n\n   Glide.with(context)\n                    .load(data.getImage_url())\n                    .apply(options)\n                    .into(holder.thumbnail);\n</code></pre>\n<p>and here is the LogCat on Android 4.4:</p>\n<pre><code>W/Glide: Load failed for https://www.gradientapi.xyz/generate/w/1000/h/500 with size [188x263]\n    class com.bumptech.glide.load.engine.GlideException: Failed to load resource\n    There was 1 cause:\n    javax.net.ssl.SSLHandshakeException(javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0xb85422a0: Failure in SSL library, usually a protocol error\n    error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol (external/openssl/ssl/s23_clnt.c:766 0xa744e990:0x00000000))\n     call GlideException#logRootCauses(String) for more detail\n      Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetching data failed, class java.io.InputStream, REMOTE\n    There was 1 cause:\n    javax.net.ssl.SSLHandshakeException(javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0xb85422a0: Failure in SSL library, usually a protocol error\n    error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol (external/openssl/ssl/s23_clnt.c:766 0xa744e990:0x00000000))\n     call GlideException#logRootCauses(String) for more detail\n        Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetch failed\n    There was 1 cause:\n    javax.net.ssl.SSLHandshakeException(javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0xb85422a0: Failure in SSL library, usually a protocol error\n    error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol (external/openssl/ssl/s23_clnt.c:766 0xa744e990:0x00000000))\n     call GlideException#logRootCauses(String) for more detail\n          Cause (1 of 1): class javax.net.ssl.SSLHandshakeException: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0xb85422a0: Failure in SSL library, usually a protocol error\n    error:140770FC:SSL routines:SSL23_GET_SERVER_HELLO:unknown protocol (external/openssl/ssl/s23_clnt.c:766 0xa744e990:0x00000000)\n</code></pre>\n<p>I searched over web and i found that Android 4.4 only support TLS 1.0.</p>\n<p>It may be the issue ? and if yes is there any solutions ?</p>\n"},{"tags":["java","mysql","c3p0","activejdbc"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1641379127,"post_id":70591124,"comment_id":124787540,"body_markdown":"For some reason it&#39;s trying to use a Postgres style cast operator `::BIGINT`, causing the error.","body":"For some reason it&#39;s trying to use a Postgres style cast operator <code>::BIGINT</code>, causing the error."},{"owner":{"account_id":152350,"reputation":5455,"user_id":366816,"accept_rate":18,"display_name":"ipolevoy"},"score":0,"creation_date":1641403955,"post_id":70591124,"comment_id":124798027,"body_markdown":"did you also change the JDBC driver? It seems that @Kayaman mentions that your syntax looks like PostgreSQL. Please, add the following to your question: Java version, JavaLite  version, database and the versions well as JDBC driver and its version","body":"did you also change the JDBC driver? It seems that @Kayaman mentions that your syntax looks like PostgreSQL. Please, add the following to your question: Java version, JavaLite  version, database and the versions well as JDBC driver and its version"},{"owner":{"account_id":23833588,"reputation":13,"user_id":17839584,"display_name":"Larry"},"score":0,"creation_date":1641424095,"post_id":70591124,"comment_id":124804518,"body_markdown":"@ipolevoy I&#39;ve added the details you requested - please let me know if there is anything I missed or you&#39;d like to be added!","body":"@ipolevoy I&#39;ve added the details you requested - please let me know if there is anything I missed or you&#39;d like to be added!"}],"answers":[{"tags":[],"owner":{"account_id":152350,"reputation":5455,"user_id":366816,"accept_rate":18,"display_name":"ipolevoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641445635,"creation_date":1641443711,"answer_id":70602522,"question_id":70591124,"body_markdown":"Unfortunately, there was a defective snapshot published for a few hours. That snapshot v 3.0-SNAPSHOT had a bug where PostgreSQL syntax was accidentally made default for MySQL. It seems that it caused a problem for you. The JDBC connection pool has nothing to do with this. We are careful with snapshots,  but things like this happens (once in a few years). You got unlucky by getting right in the middle of the update. \r\n\r\nHow to fix this is to blow away all your Maven  caches: \r\n\r\n    rm -rf ~/.m2/repository/org/javalite\r\n\r\nOn the next build, you will get a new (vastly improved :)) snapshot that is free from this defect. \r\n\r\nSorry about the trouble, but snapshots are &quot;work in progress&quot;. \r\n\r\n\r\nRelated bug: https://github.com/javalite/javalite/issues/1187\r\n\r\n\r\n","title":"ActiveJDBC has SQLSyntaxErrorException","body":"<p>Unfortunately, there was a defective snapshot published for a few hours. That snapshot v 3.0-SNAPSHOT had a bug where PostgreSQL syntax was accidentally made default for MySQL. It seems that it caused a problem for you. The JDBC connection pool has nothing to do with this. We are careful with snapshots,  but things like this happens (once in a few years). You got unlucky by getting right in the middle of the update.</p>\n<p>How to fix this is to blow away all your Maven  caches:</p>\n<pre><code>rm -rf ~/.m2/repository/org/javalite\n</code></pre>\n<p>On the next build, you will get a new (vastly improved :)) snapshot that is free from this defect.</p>\n<p>Sorry about the trouble, but snapshots are &quot;work in progress&quot;.</p>\n<p>Related bug: <a href=\"https://github.com/javalite/javalite/issues/1187\" rel=\"nofollow noreferrer\">https://github.com/javalite/javalite/issues/1187</a></p>\n"}],"owner":{"account_id":23833588,"reputation":13,"user_id":17839584,"display_name":"Larry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70602522,"answer_count":1,"score":1,"last_activity_date":1641452459,"creation_date":1641377620,"question_id":70591124,"body_markdown":"Using ActiveJDBC, I&#39;ve been manually opening and closing connections, inserting and reading anything, all with no errors like this:\r\n```java\r\npublic class DatabaseLoader {\r\n\r\n    private static final Logger logger = LogManager.getLogger(DatabaseLoader.class);\r\n\r\n    public static void openConnection() {\r\n        Base.open(&quot;com.mysql.cj.jdbc.Driver&quot;, ConfigManager.getAddress(), ConfigManager.getUsername(), ConfigManager.getPassword());\r\n    }\r\n\r\n    public static void openConnectionIfClosed() {\r\n\r\n        if (!Base.hasConnection()) {\r\n            logger.info(&quot;Connecting to database!&quot;);\r\n            openConnection();\r\n        }\r\n    }\r\n\r\n    public static void closeConnectionIfOpen() {\r\n        if (Base.hasConnection()) {\r\n            logger.info(&quot;Disconnecting from database!&quot;);\r\n            Base.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever, I have recently attempted to add C3P0 and connection pool, following https://github.com/javalite/javalite/blob/master/activejdbc/src/test/java/org/javalite/activejdbc/C3P0PoolTest.java as closely as possible. The new code looks like this:\r\n\r\n```java\r\npublic class DatabaseLoader {\r\n\r\n    private static final Logger logger = LogManager.getLogger(DatabaseLoader.class);\r\n\r\n    static DataSource dataSourceUnpooled;\r\n    static DataSource dataSourcePooled;\r\n\r\n    static {\r\n        try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            dataSourceUnpooled = DataSources.unpooledDataSource(ConfigManager.getAddress(), ConfigManager.getUsername(), ConfigManager.getPassword());\r\n            dataSourcePooled = DataSources.pooledDataSource(dataSourceUnpooled); //init the connection pool\r\n        } catch (SQLException | ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void openConnection() {\r\n        Base.open(dataSourcePooled);\r\n    }\r\n\r\n    public static void openConnectionIfClosed() {\r\n        if (!Base.hasConnection()) {\r\n            openConnection();\r\n        }\r\n    }\r\n\r\n    public static void closeConnectionIfOpen() {\r\n        if (Base.hasConnection()) {\r\n            logger.info(&quot;Disconnecting from database!&quot;);\r\n            Base.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUsing this code, initial connection to the database appears successful and all is well, until I insert something. For example, like this:\r\n\r\n```java\r\n// ServerMessage is an activejdbc model that has worked to insert things 31k times before adding C3P0\r\n\r\nServerMessage message = ServerMessage.findOrCreateIt(&quot;message_id_snowflake&quot;, messageIdSnowflake, &quot;server_id&quot;, serverId, &quot;user_id&quot;, userId);\r\n```\r\n\r\nWhenever I do insert something, I now get this error:\r\n\r\n```\r\norg.javalite.activejdbc.DBException: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;::BIGINT,19::INT,1772::INT)&#39; at line 1, query: INSERT INTO server_messages (message_id_snowflake, server_id, user_id) VALUES (?::BIGINT,?::INT,?::INT), params: 928224895626793001, 19, 1772\r\n        at org.javalite.activejdbc.DB.execInsert(DB.java:734)\r\n        at org.javalite.activejdbc.Model.insert(Model.java:2741)\r\n        at org.javalite.activejdbc.Model.save(Model.java:2673)\r\n        at org.javalite.activejdbc.Model.saveIt(Model.java:2597)\r\n        at org.javalite.activejdbc.ModelDelegate.createIt(ModelDelegate.java:146)\r\n        at org.javalite.activejdbc.ModelDelegate.findOrCreateIt(ModelDelegate.java:438)\r\n        at org.javalite.activejdbc.ModelDelegate.findOrCreateIt(ModelDelegate.java:412)\r\n        at dev.laarryy.eris.models.guilds.ServerMessage.findOrCreateIt(ServerMessage.java:219)\r\n        at dev.laarryy.eris.listeners.MessageCreateListener.on(MessageCreateListener.java:49)\r\n        ... 21 more\r\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;::BIGINT,19::INT,1772::INT)&#39; at line 1\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1348)\r\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\r\n        at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeUpdate(NewProxyPreparedStatement.java:1502)\r\n        at org.javalite.activejdbc.DB.execInsert(DB.java:713)\r\n        ... 29 more\r\n```\r\n\r\nThis seems strange to me, since the bigint, int, and int that are supposed to be inserted are indeed a bigint, int and int as required, and I don&#39;t know what else I might do to find the cause of the error. The C3P0 line at the second to last line of the stacktrace makes me think that the statement as prepared by ActiveJDBC is somehow not the statement making it to the database. \r\n\r\nI have also already tried enabling the C3P0 statement cache, in case that had an effect, but it did not.\r\n\r\nAny advice or guidance would be appreciated!\r\n\r\n## Update\r\n\r\nI have now also attempted to follow the quick-start procedure here https://www.mchange.com/projects/c3p0/#quickstart in the hopes that manually setting the driver class might resolve the issue, however it does not. I still get the same stacktrace. The code I tried:\r\n\r\n```java\r\npublic class DatabaseLoader {\r\n\r\n    private static final Logger logger = LogManager.getLogger(DatabaseLoader.class);\r\n\r\n    static ComboPooledDataSource comboPooledDataSource = new ComboPooledDataSource();\r\n\r\n    static {\r\n        try {\r\n           comboPooledDataSource.setDriverClass(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            comboPooledDataSource.setJdbcUrl(ConfigManager.getAddress());\r\n            comboPooledDataSource.setUser(ConfigManager.getUsername());\r\n            comboPooledDataSource.setPassword(ConfigManager.getPassword());\r\n        } catch (PropertyVetoException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void openConnection() {\r\n        Base.open(comboPooledDataSource);\r\n    }\r\n\r\n    public static void openConnectionIfClosed() {\r\n        if (!Base.hasConnection()) {\r\n            openConnection();\r\n        }\r\n    }\r\n\r\n    public static void closeConnectionIfOpen() {\r\n        if (Base.hasConnection()) {\r\n            logger.info(&quot;Disconnecting from database!&quot;);\r\n            Base.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have also attempted switching to Hikari version 5, and I get precisely the same error except the second-to-last line is from Hikari instead of c3p0. This leads me to believe something is wrong on the ActiveJDBC end rather than the connection pooling end.\r\n\r\nRequested Details:\r\n\r\n- Java Version 17.0.1 (Corretto)\r\n- ActiveJDBC Version 3.0-SNAPSHOT\r\n- MySQL Version 8.0.26\r\n- mysql-connector-java version 8.0.26 (Driver.getMajorVersion() returns 8 and #getMinorVersion() returns 0 as expected, as well)\r\n- C3P0 Version 0.9.5.5","title":"ActiveJDBC has SQLSyntaxErrorException","body":"<p>Using ActiveJDBC, I've been manually opening and closing connections, inserting and reading anything, all with no errors like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DatabaseLoader {\n\n    private static final Logger logger = LogManager.getLogger(DatabaseLoader.class);\n\n    public static void openConnection() {\n        Base.open(&quot;com.mysql.cj.jdbc.Driver&quot;, ConfigManager.getAddress(), ConfigManager.getUsername(), ConfigManager.getPassword());\n    }\n\n    public static void openConnectionIfClosed() {\n\n        if (!Base.hasConnection()) {\n            logger.info(&quot;Connecting to database!&quot;);\n            openConnection();\n        }\n    }\n\n    public static void closeConnectionIfOpen() {\n        if (Base.hasConnection()) {\n            logger.info(&quot;Disconnecting from database!&quot;);\n            Base.close();\n        }\n    }\n}\n</code></pre>\n<p>However, I have recently attempted to add C3P0 and connection pool, following <a href=\"https://github.com/javalite/javalite/blob/master/activejdbc/src/test/java/org/javalite/activejdbc/C3P0PoolTest.java\" rel=\"nofollow noreferrer\">https://github.com/javalite/javalite/blob/master/activejdbc/src/test/java/org/javalite/activejdbc/C3P0PoolTest.java</a> as closely as possible. The new code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DatabaseLoader {\n\n    private static final Logger logger = LogManager.getLogger(DatabaseLoader.class);\n\n    static DataSource dataSourceUnpooled;\n    static DataSource dataSourcePooled;\n\n    static {\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            dataSourceUnpooled = DataSources.unpooledDataSource(ConfigManager.getAddress(), ConfigManager.getUsername(), ConfigManager.getPassword());\n            dataSourcePooled = DataSources.pooledDataSource(dataSourceUnpooled); //init the connection pool\n        } catch (SQLException | ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void openConnection() {\n        Base.open(dataSourcePooled);\n    }\n\n    public static void openConnectionIfClosed() {\n        if (!Base.hasConnection()) {\n            openConnection();\n        }\n    }\n\n    public static void closeConnectionIfOpen() {\n        if (Base.hasConnection()) {\n            logger.info(&quot;Disconnecting from database!&quot;);\n            Base.close();\n        }\n    }\n}\n</code></pre>\n<p>Using this code, initial connection to the database appears successful and all is well, until I insert something. For example, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ServerMessage is an activejdbc model that has worked to insert things 31k times before adding C3P0\n\nServerMessage message = ServerMessage.findOrCreateIt(&quot;message_id_snowflake&quot;, messageIdSnowflake, &quot;server_id&quot;, serverId, &quot;user_id&quot;, userId);\n</code></pre>\n<p>Whenever I do insert something, I now get this error:</p>\n<pre><code>org.javalite.activejdbc.DBException: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::BIGINT,19::INT,1772::INT)' at line 1, query: INSERT INTO server_messages (message_id_snowflake, server_id, user_id) VALUES (?::BIGINT,?::INT,?::INT), params: 928224895626793001, 19, 1772\n        at org.javalite.activejdbc.DB.execInsert(DB.java:734)\n        at org.javalite.activejdbc.Model.insert(Model.java:2741)\n        at org.javalite.activejdbc.Model.save(Model.java:2673)\n        at org.javalite.activejdbc.Model.saveIt(Model.java:2597)\n        at org.javalite.activejdbc.ModelDelegate.createIt(ModelDelegate.java:146)\n        at org.javalite.activejdbc.ModelDelegate.findOrCreateIt(ModelDelegate.java:438)\n        at org.javalite.activejdbc.ModelDelegate.findOrCreateIt(ModelDelegate.java:412)\n        at dev.laarryy.eris.models.guilds.ServerMessage.findOrCreateIt(ServerMessage.java:219)\n        at dev.laarryy.eris.listeners.MessageCreateListener.on(MessageCreateListener.java:49)\n        ... 21 more\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '::BIGINT,19::INT,1772::INT)' at line 1\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1092)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1040)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1348)\n        at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1025)\n        at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeUpdate(NewProxyPreparedStatement.java:1502)\n        at org.javalite.activejdbc.DB.execInsert(DB.java:713)\n        ... 29 more\n</code></pre>\n<p>This seems strange to me, since the bigint, int, and int that are supposed to be inserted are indeed a bigint, int and int as required, and I don't know what else I might do to find the cause of the error. The C3P0 line at the second to last line of the stacktrace makes me think that the statement as prepared by ActiveJDBC is somehow not the statement making it to the database.</p>\n<p>I have also already tried enabling the C3P0 statement cache, in case that had an effect, but it did not.</p>\n<p>Any advice or guidance would be appreciated!</p>\n<h2>Update</h2>\n<p>I have now also attempted to follow the quick-start procedure here <a href=\"https://www.mchange.com/projects/c3p0/#quickstart\" rel=\"nofollow noreferrer\">https://www.mchange.com/projects/c3p0/#quickstart</a> in the hopes that manually setting the driver class might resolve the issue, however it does not. I still get the same stacktrace. The code I tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DatabaseLoader {\n\n    private static final Logger logger = LogManager.getLogger(DatabaseLoader.class);\n\n    static ComboPooledDataSource comboPooledDataSource = new ComboPooledDataSource();\n\n    static {\n        try {\n           comboPooledDataSource.setDriverClass(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            comboPooledDataSource.setJdbcUrl(ConfigManager.getAddress());\n            comboPooledDataSource.setUser(ConfigManager.getUsername());\n            comboPooledDataSource.setPassword(ConfigManager.getPassword());\n        } catch (PropertyVetoException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void openConnection() {\n        Base.open(comboPooledDataSource);\n    }\n\n    public static void openConnectionIfClosed() {\n        if (!Base.hasConnection()) {\n            openConnection();\n        }\n    }\n\n    public static void closeConnectionIfOpen() {\n        if (Base.hasConnection()) {\n            logger.info(&quot;Disconnecting from database!&quot;);\n            Base.close();\n        }\n    }\n}\n</code></pre>\n<p>I have also attempted switching to Hikari version 5, and I get precisely the same error except the second-to-last line is from Hikari instead of c3p0. This leads me to believe something is wrong on the ActiveJDBC end rather than the connection pooling end.</p>\n<p>Requested Details:</p>\n<ul>\n<li>Java Version 17.0.1 (Corretto)</li>\n<li>ActiveJDBC Version 3.0-SNAPSHOT</li>\n<li>MySQL Version 8.0.26</li>\n<li>mysql-connector-java version 8.0.26 (Driver.getMajorVersion() returns 8 and #getMinorVersion() returns 0 as expected, as well)</li>\n<li>C3P0 Version 0.9.5.5</li>\n</ul>\n"},{"tags":["java","android","google-maps","google-maps-api-3","android-11"],"comments":[{"owner":{"account_id":11733990,"reputation":1362,"user_id":8588454,"display_name":"ecg8"},"score":0,"creation_date":1641408079,"post_id":70597725,"comment_id":124799602,"body_markdown":"Are you seeing any errors in Logcat?","body":"Are you seeing any errors in Logcat?"},{"owner":{"account_id":13479434,"reputation":51,"user_id":9725223,"display_name":"Talha"},"score":0,"creation_date":1641408470,"post_id":70597725,"comment_id":124799761,"body_markdown":"@ecg8 no error in logcat","body":"@ecg8 no error in logcat"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1641417560,"post_id":70597725,"comment_id":124802785,"body_markdown":"Can you edit your question to include the relevant code/layout files to help answerers?","body":"Can you edit your question to include the relevant code/layout files to help answerers?"}],"answers":[{"tags":[],"owner":{"account_id":13479434,"reputation":51,"user_id":9725223,"display_name":"Talha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641451976,"creation_date":1641451976,"answer_id":70603492,"question_id":70597725,"body_markdown":"It was because of \r\n\r\n&gt; android:animateLayoutChanges=&quot;true&quot;\r\n\r\nin my frame layout","title":"Map View is not loading in android 11","body":"<p>It was because of</p>\n<blockquote>\n<p>android:animateLayoutChanges=&quot;true&quot;</p>\n</blockquote>\n<p>in my frame layout</p>\n"}],"owner":{"account_id":13479434,"reputation":51,"user_id":9725223,"display_name":"Talha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641451976,"creation_date":1641406604,"question_id":70597725,"body_markdown":"I&#39;m trying to load a map in my fragment, but when i go to that screen it shows me a blank screen with logo at the left bottom, but when keyboard appear the map also appear. (SS attached), this issue is just in android 11\r\n\r\n[Picture When i go to map screen][1]\r\n\r\n[Picture When Keyboard open][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PJGIH.png\r\n  [2]: https://i.stack.imgur.com/Xy48t.png","title":"Map View is not loading in android 11","body":"<p>I'm trying to load a map in my fragment, but when i go to that screen it shows me a blank screen with logo at the left bottom, but when keyboard appear the map also appear. (SS attached), this issue is just in android 11</p>\n<p><a href=\"https://i.stack.imgur.com/PJGIH.png\" rel=\"nofollow noreferrer\">Picture When i go to map screen</a></p>\n<p><a href=\"https://i.stack.imgur.com/Xy48t.png\" rel=\"nofollow noreferrer\">Picture When Keyboard open</a></p>\n"},{"tags":["java","android-source","aidl"],"owner":{"account_id":19013143,"reputation":31,"user_id":13878671,"display_name":"ThisRabbit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641451665,"creation_date":1641451665,"question_id":70603449,"body_markdown":"I want to do a static analysis on java part of AOSP, which requires all **.aidl** files to be transformed to **.java** files, so that the entire project tree is java only (ignoring cpp or other languages).\r\n\r\nI have searched the doc and know that there is a executable tool named **aidl** which can help you transform a single .aidl file in a single time. However I am afraid that this is not the best way when considering the whole project.\r\n\r\nSo I am wondering if there is a state where all .aidl files are transformed to .java file while compiling the AOSP? If there really is, how to achieve that state?","title":"While compiling the AOSP, is there a state where all .aidl files are transformed to corresponding .java file?","body":"<p>I want to do a static analysis on java part of AOSP, which requires all <strong>.aidl</strong> files to be transformed to <strong>.java</strong> files, so that the entire project tree is java only (ignoring cpp or other languages).</p>\n<p>I have searched the doc and know that there is a executable tool named <strong>aidl</strong> which can help you transform a single .aidl file in a single time. However I am afraid that this is not the best way when considering the whole project.</p>\n<p>So I am wondering if there is a state where all .aidl files are transformed to .java file while compiling the AOSP? If there really is, how to achieve that state?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7958616,"reputation":465,"user_id":6007077,"display_name":"guenter47"},"score":0,"creation_date":1650991138,"post_id":70603396,"comment_id":127253220,"body_markdown":"A rebuild may help (menu &#39;Build&#39; -&gt; &#39;Rebuild Project&#39;)","body":"A rebuild may help (menu &#39;Build&#39; -&gt; &#39;Rebuild Project&#39;)"}],"owner":{"account_id":13537568,"reputation":307,"user_id":9766265,"display_name":"joshua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2818,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641451136,"creation_date":1641451136,"question_id":70603396,"body_markdown":"Hello i am trying export old project in my. android studio  version  Android Studio 4.2.1\r\nBuild #AI-202.7660.26.42.7351085, built on May 10, 2021\r\n\r\nwhen i try compiling my code i am getting this error any one know how fixed this issue\r\n\r\n    Could not resolve all dependencies for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n    Could not create task &#39;:app:minifyReleaseWithR8&#39;.\r\n    Cannot query the value of this provider because it has no value available\r\n\r\ni already tried this solution but not working https://stackoverflow.com/questions/64459937/could-not-create-task-appminifyreleasewithr8-cannot-query-the-value-of-this/65418056 \r\n\r\n\r\nhere is my build.gradle file\r\n\r\n\r\n\r\n    buildscript {\r\n        repositories {\r\n            google()\r\n            maven { url &#39;https://plugins.gradle.org/m2/&#39; }\r\n        }\r\n    }\r\n    plugins {\r\n        id &#39;com.onesignal.androidsdk.onesignal-gradle-plugin&#39;\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n    }\r\n    repositories {\r\n        maven {\r\n            url &quot;https://maven.google.com&quot;\r\n        }\r\n    }\r\n    android {\r\n        compileSdkVersion 30\r\n        buildToolsVersion &#39;31.0.0-rc3&#39;\r\n        defaultConfig {\r\n            applicationId &quot;com.example.status&quot;\r\n            minSdkVersion 21\r\n            targetSdkVersion 30\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            // Enabling multidex support.\r\n            multiDexEnabled true\r\n        }\r\n        task wrapper(type: Wrapper) {\r\n            gradleVersion = &#39;6.7.1&#39;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                shrinkResources true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n            // Or, if you prefer, you can continue to check for errors in release builds,\r\n            // but continue the build even when errors are found:\r\n            abortOnError false\r\n        }\r\n    \r\n        buildTypes.each {\r\n            it.buildConfigField &#39;String&#39;, &#39;My_api&#39;, app_url\r\n        }\r\n    \r\n        lintOptions {\r\n            disable &#39;MissingTranslation&#39;\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility = &#39;1.8&#39;\r\n            targetCompatibility = &#39;1.8&#39;\r\n        }\r\n    \r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.0-alpha03&#39;\r\n        implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.0&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test:runner:1.4.0&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.7.2&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.5.0&#39;\r\n        implementation &#39;androidx.recyclerview:recyclerview:1.2.1&#39;\r\n        implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n        annotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n        implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n        implementation &#39;com.google.android.exoplayer:exoplayer:2.15.0&#39;\r\n        implementation &#39;io.github.inflationx:calligraphy3:3.1.1&#39;\r\n        implementation &#39;io.github.inflationx:viewpump:2.0.3&#39;\r\n        implementation &#39;com.google.android.gms:play-services-ads:20.2.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-auth:19.2.0&#39;\r\n        implementation &#39;com.google.android.ads.consent:consent-library:1.0.8&#39;\r\n        implementation &#39;com.onesignal:OneSignal:4.4.0@aar&#39;\r\n        implementation &#39;com.google.firebase:firebase-analytics:19.0.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:22.0.0&#39;\r\n        implementation &#39;io.github.lizhangqu:coreprogress:1.0.2&#39;\r\n        implementation &#39;com.theartofdev.edmodo:android-image-cropper:2.8.0&#39;\r\n        implementation &#39;com.chaos.view:pinview:1.4.2&#39;\r\n        implementation &#39;org.greenrobot:eventbus:3.1.1&#39;\r\n        implementation &#39;com.github.MasayukiSuda:Mp4Composer-android:v0.4.1&#39;\r\n        implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n        implementation &#39;androidx.annotation:annotation:1.2.0&#39;\r\n        implementation &#39;com.facebook.android:facebook-login:5.15.3&#39;\r\n        implementation &#39;com.facebook.android:audience-network-sdk:6.5.1&#39;\r\n        implementation &#39;com.google.ads.mediation:facebook:6.5.1.1&#39;\r\n        implementation &#39;com.github.duanhong169:colorpicker:1.1.6&#39;\r\n        implementation &quot;com.hootsuite.android:nachos:1.2.0&quot;\r\n        implementation &#39;com.romandanylyk:pageindicatorview:1.0.3&#39;\r\n        implementation &#39;com.google.android.flexbox:flexbox:3.0.0&#39;\r\n        implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n        implementation &#39;org.jetbrains:annotations:16.0.1&#39;\r\n        implementation project(path: &#39;:Wheel&#39;)\r\n        implementation project(path: &#39;:SmoothCheckBox-master&#39;)\r\n        implementation project(path: &#39;:IRBottomNavigationLib&#39;)\r\n    }\r\n\r\n\r\n","title":"Could not create task &#39;:app:minifyReleaseWithR8&#39;","body":"<p>Hello i am trying export old project in my. android studio  version  Android Studio 4.2.1\nBuild #AI-202.7660.26.42.7351085, built on May 10, 2021</p>\n<p>when i try compiling my code i am getting this error any one know how fixed this issue</p>\n<pre><code>Could not resolve all dependencies for configuration ':app:debugRuntimeClasspath'.\nCould not create task ':app:minifyReleaseWithR8'.\nCannot query the value of this provider because it has no value available\n</code></pre>\n<p>i already tried this solution but not working <a href=\"https://stackoverflow.com/questions/64459937/could-not-create-task-appminifyreleasewithr8-cannot-query-the-value-of-this/65418056\">Could not create task &#39;:app:minifyReleaseWithR8&#39;. Cannot query the value of this provider because it has no value available</a></p>\n<p>here is my build.gradle file</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        maven { url 'https://plugins.gradle.org/m2/' }\n    }\n}\nplugins {\n    id 'com.onesignal.androidsdk.onesignal-gradle-plugin'\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\nrepositories {\n    maven {\n        url &quot;https://maven.google.com&quot;\n    }\n}\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion '31.0.0-rc3'\n    defaultConfig {\n        applicationId &quot;com.example.status&quot;\n        minSdkVersion 21\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        // Enabling multidex support.\n        multiDexEnabled true\n    }\n    task wrapper(type: Wrapper) {\n        gradleVersion = '6.7.1'\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    lintOptions {\n        checkReleaseBuilds false\n        // Or, if you prefer, you can continue to check for errors in release builds,\n        // but continue the build even when errors are found:\n        abortOnError false\n    }\n\n    buildTypes.each {\n        it.buildConfigField 'String', 'My_api', app_url\n    }\n\n    lintOptions {\n        disable 'MissingTranslation'\n    }\n    compileOptions {\n        sourceCompatibility = '1.8'\n        targetCompatibility = '1.8'\n    }\n\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'androidx.appcompat:appcompat:1.4.0-alpha03'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test:runner:1.4.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation 'com.squareup.retrofit2:retrofit:2.7.2'\n    implementation 'com.squareup.retrofit2:converter-gson:2.5.0'\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n    implementation 'com.google.android.exoplayer:exoplayer:2.15.0'\n    implementation 'io.github.inflationx:calligraphy3:3.1.1'\n    implementation 'io.github.inflationx:viewpump:2.0.3'\n    implementation 'com.google.android.gms:play-services-ads:20.2.0'\n    implementation 'com.google.android.gms:play-services-auth:19.2.0'\n    implementation 'com.google.android.ads.consent:consent-library:1.0.8'\n    implementation 'com.onesignal:OneSignal:4.4.0@aar'\n    implementation 'com.google.firebase:firebase-analytics:19.0.0'\n    implementation 'com.google.firebase:firebase-messaging:22.0.0'\n    implementation 'io.github.lizhangqu:coreprogress:1.0.2'\n    implementation 'com.theartofdev.edmodo:android-image-cropper:2.8.0'\n    implementation 'com.chaos.view:pinview:1.4.2'\n    implementation 'org.greenrobot:eventbus:3.1.1'\n    implementation 'com.github.MasayukiSuda:Mp4Composer-android:v0.4.1'\n    implementation 'com.google.code.gson:gson:2.8.6'\n    implementation 'androidx.annotation:annotation:1.2.0'\n    implementation 'com.facebook.android:facebook-login:5.15.3'\n    implementation 'com.facebook.android:audience-network-sdk:6.5.1'\n    implementation 'com.google.ads.mediation:facebook:6.5.1.1'\n    implementation 'com.github.duanhong169:colorpicker:1.1.6'\n    implementation &quot;com.hootsuite.android:nachos:1.2.0&quot;\n    implementation 'com.romandanylyk:pageindicatorview:1.0.3'\n    implementation 'com.google.android.flexbox:flexbox:3.0.0'\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation 'org.jetbrains:annotations:16.0.1'\n    implementation project(path: ':Wheel')\n    implementation project(path: ':SmoothCheckBox-master')\n    implementation project(path: ':IRBottomNavigationLib')\n}\n</code></pre>\n"},{"tags":["java","spring","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":10316842,"reputation":876,"user_id":7610918,"accept_rate":38,"display_name":"ProgrammerBoy"},"score":0,"creation_date":1641451522,"post_id":70603059,"comment_id":124809112,"body_markdown":"Show us the complete code(if not sensitive), its little unclear from above code snippet how these classes looks like.","body":"Show us the complete code(if not sensitive), its little unclear from above code snippet how these classes looks like."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641453405,"post_id":70603059,"comment_id":124809503,"body_markdown":"You are mocking behavior for the repository which will never be called because you are mocking the `PriceService`. You should register the behavior on the `CurrencyService` not the repository.","body":"You are mocking behavior for the repository which will never be called because you are mocking the <code>PriceService</code>. You should register the behavior on the <code>CurrencyService</code> not the repository."},{"owner":{"display_name":"user17676679"},"score":0,"creation_date":1641453657,"post_id":70603059,"comment_id":124809571,"body_markdown":"@M.Deinum Any example please about what you try to mean?","body":"@M.Deinum Any example please about what you try to mean?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1641459862,"post_id":70603059,"comment_id":124811295,"body_markdown":"If you want to offend me. The answer is even too short I would say as it only states the how, not the why. So yo u have a solution but no clue on why that should be that way and thus will not really learn from it. So no that is actually not a good answer. Also I didn&#39;t receive 100K+ reputation by giving crap answers to users but dedicated and elaborate answers explaining the why and the how. Which is how a good answer should be written.","body":"If you want to offend me. The answer is even too short I would say as it only states the how, not the why. So yo u have a solution but no clue on why that should be that way and thus will not really learn from it. So no that is actually not a good answer. Also I didn&#39;t receive 100K+ reputation by giving crap answers to users but dedicated and elaborate answers explaining the why and the how. Which is how a good answer should be written."},{"owner":{"display_name":"user17676679"},"score":0,"creation_date":1641467291,"post_id":70603059,"comment_id":124813855,"body_markdown":"@Medium If you try to use some code in your letters, you may get 500+ K. I suggest not using letters or stories in your answers :))","body":"@Medium If you try to use some code in your letters, you may get 500+ K. I suggest not using letters or stories in your answers :))"}],"answers":[{"tags":[],"owner":{"account_id":2074614,"reputation":456,"user_id":1848326,"accept_rate":20,"display_name":"Deepak Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641450970,"creation_date":1641450970,"answer_id":70603381,"question_id":70603059,"body_markdown":"You need to mock the behaviour for the method `PriceServiceImpl.getCurrencyByCountry`\r\n\r\n    PriceServiceImpl priceServiceMock = Mockito.mock(PriceServiceImpl.class);\r\n    Mockito.when(priceServiceMock.getCurrencyByCountry(any(UUID.class))).thenReturn(new Currency()); // Return either a newly instantiated object or a mockek one based on your need","title":"Unit Test: Cannot get value from Service in Java","body":"<p>You need to mock the behaviour for the method <code>PriceServiceImpl.getCurrencyByCountry</code></p>\n<pre><code>PriceServiceImpl priceServiceMock = Mockito.mock(PriceServiceImpl.class);\nMockito.when(priceServiceMock.getCurrencyByCountry(any(UUID.class))).thenReturn(new Currency()); // Return either a newly instantiated object or a mockek one based on your need\n</code></pre>\n"}],"owner":{"display_name":"user17676679"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70603381,"answer_count":1,"score":0,"last_activity_date":1641450970,"creation_date":1641448332,"question_id":70603059,"body_markdown":"I am trying to test the following method that gets data from `Price` service. \r\n\r\n\r\n***CountryServiceImpl:***\r\n\r\n```\r\npublic PriceDTO findBCountryUuid(UUID countryUuid) {\r\n\t\t\r\n\t\t// code omitted\r\n\r\n    // !!! currency value is null\r\n\t\tCurrency currency = currencyService.getCurrencyByCountry(countryUuid);\r\n\t\t\r\n\t\treturn new PriceDTO(currency);\r\n}\r\n```\r\n\r\n\r\nHere is the `PriceService`.\r\n\r\n\r\n\r\n***PriceServiceImpl:***\r\n\r\n```\r\n@Override\r\npublic Currency getCurrencyByCountry(UUID countryUuid) {\r\n\t\treturn countryRepository.findByUuid(countryUuid)\r\n\t\t\t\t\t\t.orElseThrow(() -&gt; new EntityNotFoundException(&quot;Country&quot;))\r\n\t\t\t\t\t\t.getCurrency();\r\n}\r\n```\r\n\r\n\r\nI use the following approach to test:\r\n\r\n\r\n```\r\n@Mock\r\nprivate CountryRepository countryRepository;\r\n\r\n@Mock\r\nprivate CurrencyServiceImpl currencyService;\r\n\t\t\r\n@InjectMocks\r\nprivate CountryServiceImpl priceService;\r\n\r\n\r\n@Test\r\npublic void test_findBCountryUuid() {\r\n\t\t\r\n\t\t// code omitted\t\r\n\r\n\t\tfinal Country country = new Country();\r\n\t\tcountry.setName(&quot;Country&quot;);\r\n\t\tcountry.setCurrency(currency);\r\n\t\t\r\n\t\twhen(countryRepository.findByUuid(countryUuid))\r\n            .thenReturn(Optional.of(country));\r\n\r\n\t\tPriceDTO result = priceService.findBCountryUuid(countryUuid);\r\n\t\t\r\n\t\t//... assertions\t\t\r\n}\r\n```\r\n\r\nThe problem is that; In the `findBCountryUuid` method, the `currency` value is null, and for this reason I get null price value in the `result` parameter of my tets method. \r\nThe problem is completely related to using wrong mocking or annotation related to the `PriceService`. I think I should mock the repo that `PriceService` uses instead of mocking `PriceService`. What is wrong with this implementation?\r\n\r\n","title":"Unit Test: Cannot get value from Service in Java","body":"<p>I am trying to test the following method that gets data from <code>Price</code> service.</p>\n<p><em><strong>CountryServiceImpl:</strong></em></p>\n<pre><code>public PriceDTO findBCountryUuid(UUID countryUuid) {\n        \n        // code omitted\n\n    // !!! currency value is null\n        Currency currency = currencyService.getCurrencyByCountry(countryUuid);\n        \n        return new PriceDTO(currency);\n}\n</code></pre>\n<p>Here is the <code>PriceService</code>.</p>\n<p><em><strong>PriceServiceImpl:</strong></em></p>\n<pre><code>@Override\npublic Currency getCurrencyByCountry(UUID countryUuid) {\n        return countryRepository.findByUuid(countryUuid)\n                        .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Country&quot;))\n                        .getCurrency();\n}\n</code></pre>\n<p>I use the following approach to test:</p>\n<pre><code>@Mock\nprivate CountryRepository countryRepository;\n\n@Mock\nprivate CurrencyServiceImpl currencyService;\n        \n@InjectMocks\nprivate CountryServiceImpl priceService;\n\n\n@Test\npublic void test_findBCountryUuid() {\n        \n        // code omitted \n\n        final Country country = new Country();\n        country.setName(&quot;Country&quot;);\n        country.setCurrency(currency);\n        \n        when(countryRepository.findByUuid(countryUuid))\n            .thenReturn(Optional.of(country));\n\n        PriceDTO result = priceService.findBCountryUuid(countryUuid);\n        \n        //... assertions        \n}\n</code></pre>\n<p>The problem is that; In the <code>findBCountryUuid</code> method, the <code>currency</code> value is null, and for this reason I get null price value in the <code>result</code> parameter of my tets method.\nThe problem is completely related to using wrong mocking or annotation related to the <code>PriceService</code>. I think I should mock the repo that <code>PriceService</code> uses instead of mocking <code>PriceService</code>. What is wrong with this implementation?</p>\n"},{"tags":["java","rest","netbeans"],"comments":[{"owner":{"account_id":10316842,"reputation":876,"user_id":7610918,"accept_rate":38,"display_name":"ProgrammerBoy"},"score":0,"creation_date":1641451753,"post_id":70602743,"comment_id":124809160,"body_markdown":"Show me please, how ur web.xml looks like?","body":"Show me please, how ur web.xml looks like?"},{"owner":{"account_id":23842220,"reputation":1,"user_id":17847132,"display_name":"Locksley"},"score":0,"creation_date":1641495468,"post_id":70602743,"comment_id":124824982,"body_markdown":"the web.xml is the second code block in the main post. Further exploring has shown that my project is deploying to tomcat -&gt; work -&gt; Catalina -&gt; localhost. Shouldn&#39;t this be in webapps?","body":"the web.xml is the second code block in the main post. Further exploring has shown that my project is deploying to tomcat -&gt; work -&gt; Catalina -&gt; localhost. Shouldn&#39;t this be in webapps?"}],"answers":[{"tags":[],"owner":{"account_id":12842085,"reputation":101,"user_id":9289813,"display_name":"Hassan Liasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641450635,"creation_date":1641448298,"answer_id":70603055,"question_id":70602743,"body_markdown":"Looks like you&#39;re calling a wrong route.\r\n\r\nYour applicationPath begins `/api` and \r\nnot `/orchestrator/api`\r\n\r\nYou can try with this route `http://localhost:8080/api/service/status`\r\n\r\n\r\n","title":"Error 404 - the requested resource is not available","body":"<p>Looks like you're calling a wrong route.</p>\n<p>Your applicationPath begins <code>/api</code> and\nnot <code>/orchestrator/api</code></p>\n<p>You can try with this route <code>http://localhost:8080/api/service/status</code></p>\n"}],"owner":{"account_id":23842220,"reputation":1,"user_id":17847132,"display_name":"Locksley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641450635,"creation_date":1641445674,"question_id":70602743,"body_markdown":"I&#39;m very new to Java, I&#39;m attempting to create a very simple Rest API to return a string via a GET method. I&#39;ve been through countless tutorials, but each time I get the above error using my project \r\n\r\nurl - http://localhost:8080/orchestrator/api/service/status\r\n\r\nI&#39;m using the ApplicationConfig.java - ApplicationPath file to denote the mapping:\r\n\r\n    @javax.ws.rs.ApplicationPath(&quot;/api&quot;)\r\n    public class ApplicationConfig extends Application {\r\n\r\n    @Override\r\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n        Set&lt;Class&lt;?&gt;&gt; resources = new java.util.HashSet&lt;&gt;();\r\n        addRestResourceClasses(resources);\r\n        return resources;\r\n    }\r\n\r\n    /**\r\n     * Do not modify addRestResourceClasses() method.\r\n     * It is automatically populated with\r\n     * all resources defined in the project.\r\n     * If required, comment out calling this method in getClasses().\r\n     */\r\n    private void addRestResourceClasses(Set&lt;Class&lt;?&gt;&gt; resources) {\r\n        resources.add(com.orchestrator.Services.class);\r\n    } }\r\n\r\n\r\nUsing Netbeans 12.6 with Tomcat via XAMPP v3.3.0; I have a web.xml but apparently I don&#39;t need it as I&#39;m using the ApplicationConfig.java, but I&#39;ll post the one I made.\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;.com.sun.jerysey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.orchestrator.Services&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n\r\nServices.java\r\n\r\n    @Path(&quot;/service&quot;)\r\n    public class Services {\r\n\r\n    @Context\r\n    private UriInfo context;\r\n\r\n    public Services() {\r\n    }\r\n\r\n    @Path(&quot;/status&quot;)\r\n    @GET\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    public String getHtml() {\r\n        //TODO return proper representation object\r\n        return &quot;connected&quot;;\r\n    }\r\n    }\r\n\r\nProject Structure:\r\n[image of folder structure][1]\r\n\r\nWhat am I missing to return the &quot;connected&quot; text, I&#39;ve also tried using postman as well to return, same result.\r\n\r\nRegards\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sEONW.png","title":"Error 404 - the requested resource is not available","body":"<p>I'm very new to Java, I'm attempting to create a very simple Rest API to return a string via a GET method. I've been through countless tutorials, but each time I get the above error using my project</p>\n<p>url - http://localhost:8080/orchestrator/api/service/status</p>\n<p>I'm using the ApplicationConfig.java - ApplicationPath file to denote the mapping:</p>\n<pre><code>@javax.ws.rs.ApplicationPath(&quot;/api&quot;)\npublic class ApplicationConfig extends Application {\n\n@Override\npublic Set&lt;Class&lt;?&gt;&gt; getClasses() {\n    Set&lt;Class&lt;?&gt;&gt; resources = new java.util.HashSet&lt;&gt;();\n    addRestResourceClasses(resources);\n    return resources;\n}\n\n/**\n * Do not modify addRestResourceClasses() method.\n * It is automatically populated with\n * all resources defined in the project.\n * If required, comment out calling this method in getClasses().\n */\nprivate void addRestResourceClasses(Set&lt;Class&lt;?&gt;&gt; resources) {\n    resources.add(com.orchestrator.Services.class);\n} }\n</code></pre>\n<p>Using Netbeans 12.6 with Tomcat via XAMPP v3.3.0; I have a web.xml but apparently I don't need it as I'm using the ApplicationConfig.java, but I'll post the one I made.</p>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;.com.sun.jerysey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n        &lt;param-value&gt;com.orchestrator.Services&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>Services.java</p>\n<pre><code>@Path(&quot;/service&quot;)\npublic class Services {\n\n@Context\nprivate UriInfo context;\n\npublic Services() {\n}\n\n@Path(&quot;/status&quot;)\n@GET\n@Produces(MediaType.TEXT_PLAIN)\npublic String getHtml() {\n    //TODO return proper representation object\n    return &quot;connected&quot;;\n}\n}\n</code></pre>\n<p>Project Structure:\n<a href=\"https://i.stack.imgur.com/sEONW.png\" rel=\"nofollow noreferrer\">image of folder structure</a></p>\n<p>What am I missing to return the &quot;connected&quot; text, I've also tried using postman as well to return, same result.</p>\n<p>Regards</p>\n"},{"tags":["java","jenkins","jar","executable-jar","macos-big-sur"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1641384882,"post_id":70592466,"comment_id":124789782,"body_markdown":"MacOS has a security measurement active that disallows programs access to certain user folders. You have to grant `/usr/bin/java` full disc access in security settings. Also make sure to run the command in a UI terminal because sometimes a popup windows asks if you want to grant access.","body":"MacOS has a security measurement active that disallows programs access to certain user folders. You have to grant <code>&#47;usr&#47;bin&#47;java</code> full disc access in security settings. Also make sure to run the command in a UI terminal because sometimes a popup windows asks if you want to grant access."},{"owner":{"account_id":15063694,"reputation":57,"user_id":10871579,"display_name":"Nishi"},"score":0,"creation_date":1641387293,"post_id":70592466,"comment_id":124790669,"body_markdown":"Did provide full disk access to /usr/bin/java still facing same issue and don&#39;t know what is UI terminal :(","body":"Did provide full disk access to /usr/bin/java still facing same issue and don&#39;t know what is UI terminal :("},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1641388151,"post_id":70592466,"comment_id":124791019,"body_markdown":"UI terminal is the regular terminal program you start. I mentioned that just in case you are working via SSH on the MacOS system (SSH console = non-UI access).","body":"UI terminal is the regular terminal program you start. I mentioned that just in case you are working via SSH on the MacOS system (SSH console = non-UI access)."},{"owner":{"account_id":15063694,"reputation":57,"user_id":10871579,"display_name":"Nishi"},"score":0,"creation_date":1641388558,"post_id":70592466,"comment_id":124791185,"body_markdown":"Got it. I have full access to Mac System so that should not be a problem. It didn&#39;t ask for any permission or anything while trying to run that command.","body":"Got it. I have full access to Mac System so that should not be a problem. It didn&#39;t ask for any permission or anything while trying to run that command."}],"answers":[{"tags":[],"owner":{"account_id":15063694,"reputation":57,"user_id":10871579,"display_name":"Nishi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641449934,"creation_date":1641449934,"answer_id":70603258,"question_id":70592466,"body_markdown":"I was able to resolve this after dragging /Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home/bin/java to Full disk access under Security and privacy.\r\n\r\n","title":"Not able to access jarfile on desktop in Macos 11","body":"<p>I was able to resolve this after dragging /Library/Java/JavaVirtualMachines/jdk-13.0.2.jdk/Contents/Home/bin/java to Full disk access under Security and privacy.</p>\n"}],"owner":{"account_id":15063694,"reputation":57,"user_id":10871579,"display_name":"Nishi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1936,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70603258,"answer_count":1,"score":1,"last_activity_date":1641449934,"creation_date":1641383758,"question_id":70592466,"body_markdown":"I want to connect mac machine to jenkins as a node. For that I&#39;m using agent.jar file. While running\r\n\r\n    java -jar agent.jar\r\nI&#39;m getting following error - \r\n\r\n    Error : Unable to access jarfile agent.jar\r\n\r\nIf I move this jarfile to another directory like home directory it works but not on desktop. Permission is not the problem here as I have provided executable permission to this file. It doesn&#39;t work in sudo too on desktop folder. \r\n\r\nWhat could be the issue? \r\n ","title":"Not able to access jarfile on desktop in Macos 11","body":"<p>I want to connect mac machine to jenkins as a node. For that I'm using agent.jar file. While running</p>\n<pre><code>java -jar agent.jar\n</code></pre>\n<p>I'm getting following error -</p>\n<pre><code>Error : Unable to access jarfile agent.jar\n</code></pre>\n<p>If I move this jarfile to another directory like home directory it works but not on desktop. Permission is not the problem here as I have provided executable permission to this file. It doesn't work in sudo too on desktop folder.</p>\n<p>What could be the issue?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","hibernate-mapping"],"answers":[{"tags":[],"owner":{"account_id":9097504,"reputation":76,"user_id":6770941,"display_name":"durgaprasad.sdp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641449849,"creation_date":1641449849,"answer_id":70603249,"question_id":70600779,"body_markdown":"In Hibernate, @ManyToOne specifies a single-valued association to another entity class that has many-to-one multiplicity. In this context, it is associated with the same entity. \r\n\r\nORM maps the data from an object model to a relational model and vice versa. So the relationships are mapped using the entities. This helps us to traverse from parent to child objects easily. We can build multiple nested relationships and can be queried or create the objects by traversing using dot and chaining method.\r\n\r\nAs we know that each entity has its own lifecycle and once the association is set, **Hibernate maps the foreign key with the primary identifier of the associated entity**.\r\nHere it assigns to the id column which is a primary key. However, it can be customized using @JoinColumn annotation.\r\n\r\nBelow is the sql that is generated by Hibernate after creating  portal_user table to set the association.\r\n\r\n```\r\nalter table portal_user \r\n       add constraint FKdgqt4pnsjho6u58mtnackj4h8 \r\n       foreign key (parent_id) \r\n       references portal_user\r\n```\r\nWhen subAgentUser entity is set to clientUser  as below, **hibernate maps the record to the primary identifier of the associated entity(subAgentUser) using parent_id column while flushing the query.**\r\n```\r\n clientUser.setParent(subAgentUser);\r\n```\r\n","title":"How exactly works this Hibernate entity class mapping that implement a recursive relationship on the same DB table?","body":"<p>In Hibernate, @ManyToOne specifies a single-valued association to another entity class that has many-to-one multiplicity. In this context, it is associated with the same entity.</p>\n<p>ORM maps the data from an object model to a relational model and vice versa. So the relationships are mapped using the entities. This helps us to traverse from parent to child objects easily. We can build multiple nested relationships and can be queried or create the objects by traversing using dot and chaining method.</p>\n<p>As we know that each entity has its own lifecycle and once the association is set, <strong>Hibernate maps the foreign key with the primary identifier of the associated entity</strong>.\nHere it assigns to the id column which is a primary key. However, it can be customized using @JoinColumn annotation.</p>\n<p>Below is the sql that is generated by Hibernate after creating  portal_user table to set the association.</p>\n<pre><code>alter table portal_user \n       add constraint FKdgqt4pnsjho6u58mtnackj4h8 \n       foreign key (parent_id) \n       references portal_user\n</code></pre>\n<p>When subAgentUser entity is set to clientUser  as below, <strong>hibernate maps the record to the primary identifier of the associated entity(subAgentUser) using parent_id column while flushing the query.</strong></p>\n<pre><code> clientUser.setParent(subAgentUser);\n</code></pre>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641449849,"creation_date":1641425202,"question_id":70600779,"body_markdown":"I am working on a Spring Boot portal using Spring Data JPA and Hibernate mapping and I am finding some difficulties trying to understand how exactly works the following code implemented by someone else (it works fine but JPA\\Hibernate are not my cup of tea and I am missing something).\r\n\r\nOn the database I have this **portal_user** table representing the users of my application\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see this table contains the **parent_id** field that is a FK of the **portal_user** table itself. This is used to create a recursive relation between an user and its parent (you can see it is a classical refferal relationship: the parent is the user who bring another user into the system).\r\n\r\nThis **portal_user** DB table was mapped on this **User** entity class:\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;portal_user&quot;)\r\n\t@Getter\r\n\t@Setter\r\n\tpublic class User implements Serializable {\r\n\t\t \r\n\t\tprivate static final long serialVersionUID = 5062673109048808267L;\r\n\t\t\r\n\t\t@Id\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t\tprivate Integer id;\r\n\t\t\r\n\t\t@Column(name = &quot;first_name&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.firstName.Validation}&quot;)\r\n\t\tprivate String firstName;\r\n\t\t\r\n\t\t@Column(name = &quot;middle_name&quot;)\r\n\t\tprivate String middleName;\r\n\t\t\r\n\t\t@Column(name = &quot;surname&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.surname.Validation}&quot;)\r\n\t\tprivate String surname;\r\n\t\t\r\n\t\t@Column(name = &quot;sex&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.sex.Validation}&quot;)\r\n\t\tprivate char sex;\r\n\t\t\r\n\t\t@Column(name = &quot;birthdate&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.birthdate.Validation}&quot;)\r\n\t\tprivate Date birthdate;\r\n\t\t\r\n\t\t@Column(name = &quot;tax_code&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.taxCode.Validation}&quot;)\r\n\t\tprivate String taxCode;\r\n\t\t\r\n\t\t@Column(name = &quot;e_mail&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.email.Validation}&quot;)\r\n\t\tprivate String email;\r\n\t\t\r\n\t\t@Column(name = &quot;pswd&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.pswd.Validation}&quot;)\r\n\t\tprivate String pswd;\r\n\t\t\r\n\t\t@Column(name = &quot;contact_number&quot;)\r\n\t\t@NotNull(message = &quot;{NotNull.User.contactNumber.Validation}&quot;)\r\n\t\tprivate String contactNumber;\r\n\t\t\r\n\t\t@Temporal(TemporalType.DATE)\r\n\t\t@Column(name = &quot;created_at&quot;)\r\n\t\tprivate Date createdAt;\r\n\t\t\r\n\t\t@Column(name = &quot;is_active&quot;)\r\n\t\tprivate boolean is_active;\r\n\t\t\r\n\t\t@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n\t\t@JsonManagedReference\r\n\t\tprivate Set&lt;Address&gt; addressesList = new HashSet&lt;&gt;();\r\n\t\t\r\n\t\t@ManyToMany(cascade = { CascadeType.MERGE })\r\n\t\t@JoinTable(\r\n\t\t\tname = &quot;portal_user_user_type&quot;, \r\n\t\t\tjoinColumns = { @JoinColumn(name = &quot;portal_user_id_fk&quot;) }, \r\n\t\t\tinverseJoinColumns = { @JoinColumn(name = &quot;user_type_id_fk&quot;) }\r\n\t\t)\r\n\t\tSet&lt;UserType&gt; userTypes;\r\n\r\n\r\n\t\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t\t@JsonProperty(&quot;subagent&quot;)\r\n\t\tprivate User parent;\r\n\r\n\t\tpublic User() {\r\n\t\t\tsuper();\r\n\t\t\t// TODO Auto-generated constructor stub\r\n\t\t}\r\n\r\n\r\n\t\tpublic User(String firstName, String middleName, String surname, char sex, Date birthdate, String taxCode,\r\n\t\t\t\tString email, String pswd, String contactNumber, Date createdAt, boolean is_active) {\r\n\t\t\tsuper();\r\n\t\t\tthis.firstName = firstName;\r\n\t\t\tthis.middleName = middleName;\r\n\t\t\tthis.surname = surname;\r\n\t\t\tthis.sex = sex;\r\n\t\t\tthis.birthdate = birthdate;\r\n\t\t\tthis.taxCode = taxCode;\r\n\t\t\tthis.email = email;\r\n\t\t\tthis.pswd = pswd;\r\n\t\t\tthis.contactNumber = contactNumber;\r\n\t\t\tthis.createdAt = createdAt;\r\n\t\t\tthis.is_active = is_active;\r\n\t\t}\r\n\t\t\r\n\r\n\t}\r\n\r\nIn particular this relationship seems to be handled by this field:\r\n\r\n\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JsonProperty(&quot;subagent&quot;)\r\n\tprivate User parent;\r\n\r\nThen I have this service method used to insert a new object into the **portal_user** table taking into account the fact that the **parent_id** field could be set:\r\n\r\n\t@Override\r\n\t@Transactional\r\n\tpublic User insertClientUser(User clientUser) throws DuplicateException, SubAgentUserNotExist, NotFoundException {\r\n\t\tString subAgentEmail = null;\r\n\t\tif(clientUser.getParent() != null) subAgentEmail = clientUser.getParent().getEmail();\r\n\r\n\t\tUser checkClientUserExist = this.getUserByemail(clientUser.getEmail());\r\n\r\n\t\tif (checkClientUserExist != null) {\r\n\t\t\tString MsgErr = String.format(&quot;User %s already registered in the system !!! &quot;\r\n\t\t\t\t\t+ &quot;Impossible to use POST&quot;, clientUser.getEmail());\r\n\r\n\t\t\tlog.warning(MsgErr);\r\n\r\n\t\t\tthrow new DuplicateException(MsgErr);\r\n\t\t}\r\n\r\n\t\tlog.info(String.format(&quot;UserServiceImpl --&gt; insertClientUser client user: %s %s - subagent email: %s &quot;, \r\n\t\t\t\t clientUser.getFirstName(), clientUser.getSurname(), subAgentEmail));\r\n\r\n\t\t// check if present because we could add a user without assigned subagent\r\n\t\tif(subAgentEmail != null) {\r\n\r\n\t\t\tUser subAgentUser = this.getUserByemail(subAgentEmail);\r\n\r\n\t\t\tif (subAgentUser == null) {\r\n\t\t\t\tString errorMessage = String.format(&quot;Subagent user %s doesn&#39;t exist in the sistem !!! &quot;\r\n\t\t\t\t\t\t+ &quot;Impossible to use POST&quot;, subAgentEmail);\r\n\r\n\t\t\t\tlog.warning(errorMessage);\r\n\r\n\t\t\t\tthrow new SubAgentUserNotExist(errorMessage);\r\n\t\t\t}\r\n\r\n\t\t\tclientUser.setParent(subAgentUser);\r\n\t\t}\r\n\t\t\r\n\t\tUser insertedClientUser = userRepository.save(clientUser);\r\n\t\t\r\n\t\treturn insertedClientUser;\r\n\t}\r\n\r\n**NOTE:** the **client** is the user that I am inserting as a new record of the **portal_user** DB table while the **subAgentUser** is an user that yet exist into this DB table and that will be the parent of the user that I am inserting.\r\nSo basically, on my **portal_user** table I will have a new record (the client user) having the **parent_id** that will contain the ID of the subagent user.\r\n\r\nHow this method works is pretty simple:\r\n\r\n 1. Check if the current user that I have to insert doesn&#39;t exist into the **portal_user** table. If the user doesn&#39;t yet exist into the table it means that it have to be inserted.\r\n\r\n 2. It retrieve the subagent user (the **parent**) calling another service method and set it as **parent** property of the client user that we are inserting.\r\n\r\n 3. Finnally it save this client user into the **portal_user** DB table.\r\n\r\nOk it all pefrectly works but I can not understand how Hibernate is correctly setting the value of the **parent_id** field of this new inserted method. This **parent_id** field contains the PK of the parent object (the retrieved **subAgentUser** object.\r\n\r\nIf I explore my **portal_user** table after the execution of the previous service method I found what I expect:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe last row is the inserted object. As you can see the value of the **parent_id** FK field is 53 that is the PK of the expected parent user in the same table.\r\n\r\nIt works fine but I cannot understand how. Who said to Hibernate how to set the value of this FK? In particular I am confuserd because it seems that there is not a explicit mapping to this field into my **User** entity class, infact I have:\r\n\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JsonProperty(&quot;subagent&quot;)\r\n\tprivate User parent;\r\n\r\nSo what am I missing? How it exactly work?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NQdLi.png\r\n  [2]: https://i.stack.imgur.com/Ry3HB.png","title":"How exactly works this Hibernate entity class mapping that implement a recursive relationship on the same DB table?","body":"<p>I am working on a Spring Boot portal using Spring Data JPA and Hibernate mapping and I am finding some difficulties trying to understand how exactly works the following code implemented by someone else (it works fine but JPA\\Hibernate are not my cup of tea and I am missing something).</p>\n<p>On the database I have this <strong>portal_user</strong> table representing the users of my application</p>\n<p><a href=\"https://i.stack.imgur.com/NQdLi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NQdLi.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see this table contains the <strong>parent_id</strong> field that is a FK of the <strong>portal_user</strong> table itself. This is used to create a recursive relation between an user and its parent (you can see it is a classical refferal relationship: the parent is the user who bring another user into the system).</p>\n<p>This <strong>portal_user</strong> DB table was mapped on this <strong>User</strong> entity class:</p>\n<pre><code>@Entity\n@Table(name = &quot;portal_user&quot;)\n@Getter\n@Setter\npublic class User implements Serializable {\n     \n    private static final long serialVersionUID = 5062673109048808267L;\n    \n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n    \n    @Column(name = &quot;first_name&quot;)\n    @NotNull(message = &quot;{NotNull.User.firstName.Validation}&quot;)\n    private String firstName;\n    \n    @Column(name = &quot;middle_name&quot;)\n    private String middleName;\n    \n    @Column(name = &quot;surname&quot;)\n    @NotNull(message = &quot;{NotNull.User.surname.Validation}&quot;)\n    private String surname;\n    \n    @Column(name = &quot;sex&quot;)\n    @NotNull(message = &quot;{NotNull.User.sex.Validation}&quot;)\n    private char sex;\n    \n    @Column(name = &quot;birthdate&quot;)\n    @NotNull(message = &quot;{NotNull.User.birthdate.Validation}&quot;)\n    private Date birthdate;\n    \n    @Column(name = &quot;tax_code&quot;)\n    @NotNull(message = &quot;{NotNull.User.taxCode.Validation}&quot;)\n    private String taxCode;\n    \n    @Column(name = &quot;e_mail&quot;)\n    @NotNull(message = &quot;{NotNull.User.email.Validation}&quot;)\n    private String email;\n    \n    @Column(name = &quot;pswd&quot;)\n    @NotNull(message = &quot;{NotNull.User.pswd.Validation}&quot;)\n    private String pswd;\n    \n    @Column(name = &quot;contact_number&quot;)\n    @NotNull(message = &quot;{NotNull.User.contactNumber.Validation}&quot;)\n    private String contactNumber;\n    \n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;created_at&quot;)\n    private Date createdAt;\n    \n    @Column(name = &quot;is_active&quot;)\n    private boolean is_active;\n    \n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\n    @JsonManagedReference\n    private Set&lt;Address&gt; addressesList = new HashSet&lt;&gt;();\n    \n    @ManyToMany(cascade = { CascadeType.MERGE })\n    @JoinTable(\n        name = &quot;portal_user_user_type&quot;, \n        joinColumns = { @JoinColumn(name = &quot;portal_user_id_fk&quot;) }, \n        inverseJoinColumns = { @JoinColumn(name = &quot;user_type_id_fk&quot;) }\n    )\n    Set&lt;UserType&gt; userTypes;\n\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JsonProperty(&quot;subagent&quot;)\n    private User parent;\n\n    public User() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n\n    public User(String firstName, String middleName, String surname, char sex, Date birthdate, String taxCode,\n            String email, String pswd, String contactNumber, Date createdAt, boolean is_active) {\n        super();\n        this.firstName = firstName;\n        this.middleName = middleName;\n        this.surname = surname;\n        this.sex = sex;\n        this.birthdate = birthdate;\n        this.taxCode = taxCode;\n        this.email = email;\n        this.pswd = pswd;\n        this.contactNumber = contactNumber;\n        this.createdAt = createdAt;\n        this.is_active = is_active;\n    }\n    \n\n}\n</code></pre>\n<p>In particular this relationship seems to be handled by this field:</p>\n<pre><code>@ManyToOne(fetch = FetchType.EAGER)\n@JsonProperty(&quot;subagent&quot;)\nprivate User parent;\n</code></pre>\n<p>Then I have this service method used to insert a new object into the <strong>portal_user</strong> table taking into account the fact that the <strong>parent_id</strong> field could be set:</p>\n<pre><code>@Override\n@Transactional\npublic User insertClientUser(User clientUser) throws DuplicateException, SubAgentUserNotExist, NotFoundException {\n    String subAgentEmail = null;\n    if(clientUser.getParent() != null) subAgentEmail = clientUser.getParent().getEmail();\n\n    User checkClientUserExist = this.getUserByemail(clientUser.getEmail());\n\n    if (checkClientUserExist != null) {\n        String MsgErr = String.format(&quot;User %s already registered in the system !!! &quot;\n                + &quot;Impossible to use POST&quot;, clientUser.getEmail());\n\n        log.warning(MsgErr);\n\n        throw new DuplicateException(MsgErr);\n    }\n\n    log.info(String.format(&quot;UserServiceImpl --&gt; insertClientUser client user: %s %s - subagent email: %s &quot;, \n             clientUser.getFirstName(), clientUser.getSurname(), subAgentEmail));\n\n    // check if present because we could add a user without assigned subagent\n    if(subAgentEmail != null) {\n\n        User subAgentUser = this.getUserByemail(subAgentEmail);\n\n        if (subAgentUser == null) {\n            String errorMessage = String.format(&quot;Subagent user %s doesn't exist in the sistem !!! &quot;\n                    + &quot;Impossible to use POST&quot;, subAgentEmail);\n\n            log.warning(errorMessage);\n\n            throw new SubAgentUserNotExist(errorMessage);\n        }\n\n        clientUser.setParent(subAgentUser);\n    }\n    \n    User insertedClientUser = userRepository.save(clientUser);\n    \n    return insertedClientUser;\n}\n</code></pre>\n<p><strong>NOTE:</strong> the <strong>client</strong> is the user that I am inserting as a new record of the <strong>portal_user</strong> DB table while the <strong>subAgentUser</strong> is an user that yet exist into this DB table and that will be the parent of the user that I am inserting.\nSo basically, on my <strong>portal_user</strong> table I will have a new record (the client user) having the <strong>parent_id</strong> that will contain the ID of the subagent user.</p>\n<p>How this method works is pretty simple:</p>\n<ol>\n<li><p>Check if the current user that I have to insert doesn't exist into the <strong>portal_user</strong> table. If the user doesn't yet exist into the table it means that it have to be inserted.</p>\n</li>\n<li><p>It retrieve the subagent user (the <strong>parent</strong>) calling another service method and set it as <strong>parent</strong> property of the client user that we are inserting.</p>\n</li>\n<li><p>Finnally it save this client user into the <strong>portal_user</strong> DB table.</p>\n</li>\n</ol>\n<p>Ok it all pefrectly works but I can not understand how Hibernate is correctly setting the value of the <strong>parent_id</strong> field of this new inserted method. This <strong>parent_id</strong> field contains the PK of the parent object (the retrieved <strong>subAgentUser</strong> object.</p>\n<p>If I explore my <strong>portal_user</strong> table after the execution of the previous service method I found what I expect:</p>\n<p><a href=\"https://i.stack.imgur.com/Ry3HB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ry3HB.png\" alt=\"enter image description here\" /></a></p>\n<p>The last row is the inserted object. As you can see the value of the <strong>parent_id</strong> FK field is 53 that is the PK of the expected parent user in the same table.</p>\n<p>It works fine but I cannot understand how. Who said to Hibernate how to set the value of this FK? In particular I am confuserd because it seems that there is not a explicit mapping to this field into my <strong>User</strong> entity class, infact I have:</p>\n<pre><code>@ManyToOne(fetch = FetchType.EAGER)\n@JsonProperty(&quot;subagent&quot;)\nprivate User parent;\n</code></pre>\n<p>So what am I missing? How it exactly work?</p>\n"},{"tags":["java","codenameone"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1452228516,"creation_date":1452228516,"answer_id":34669710,"question_id":34648809,"body_markdown":"I suggest not thinking in pixels but thinking in millimeters as this make far more sense with varying screen sizes. \r\n\r\nWhen you invoke code such as:\r\n\r\n    FontImage.setMaterialIcon(label, FontImage.MATERIAL_3D_ROTATION);\r\n\r\nThe image will get the size of the font assigned to the given label. So if the label is styled with a standard medium font (the default) the size will be system specific. To customize this do:\r\n\r\n    label.setUIID(&quot;MyFontUIID&quot;);\r\n\r\nThen in the designer theme:\r\n\r\n1. Add MyFontUIID\r\n2. Select the Font tab and select any native font.\r\n3. Select the size to be in millimeters or pixels to determine a fixed size to the icon. I would recommend millimeters for portability.","title":"Material Image Size relative to Button[codenameone]","body":"<p>I suggest not thinking in pixels but thinking in millimeters as this make far more sense with varying screen sizes. </p>\n\n<p>When you invoke code such as:</p>\n\n<pre><code>FontImage.setMaterialIcon(label, FontImage.MATERIAL_3D_ROTATION);\n</code></pre>\n\n<p>The image will get the size of the font assigned to the given label. So if the label is styled with a standard medium font (the default) the size will be system specific. To customize this do:</p>\n\n<pre><code>label.setUIID(\"MyFontUIID\");\n</code></pre>\n\n<p>Then in the designer theme:</p>\n\n<ol>\n<li>Add MyFontUIID</li>\n<li>Select the Font tab and select any native font.</li>\n<li>Select the size to be in millimeters or pixels to determine a fixed size to the icon. I would recommend millimeters for portability.</li>\n</ol>\n"}],"owner":{"account_id":7587300,"reputation":560,"user_id":5755937,"accept_rate":83,"display_name":"javalove"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34669710,"answer_count":1,"score":1,"last_activity_date":1641449120,"creation_date":1452148813,"question_id":34648809,"body_markdown":"I use FontImage.setMaterialImage(...) or sometimes FontImage.createMaterialImage(...).\r\n\r\nHow can I ensure the material image size increases or its minimum size is 48x48 px.\r\n\r\nLukman Jaji","title":"Material Image Size relative to Button[codenameone]","body":"<p>I use FontImage.setMaterialImage(...) or sometimes FontImage.createMaterialImage(...).</p>\n\n<p>How can I ensure the material image size increases or its minimum size is 48x48 px.</p>\n\n<p>Lukman Jaji</p>\n"},{"tags":["java","flutter","dart","dropdown"],"comments":[{"owner":{"account_id":14794890,"reputation":2401,"user_id":10684765,"display_name":"fartem"},"score":0,"creation_date":1641449452,"post_id":70603114,"comment_id":124808743,"body_markdown":"You need to store selected values from dropdowns in different variables in your state class, and create a method that react to changes and rebuilds the UI.","body":"You need to store selected values from dropdowns in different variables in your state class, and create a method that react to changes and rebuilds the UI."},{"owner":{"account_id":15580491,"reputation":49,"user_id":11240434,"display_name":"Ana"},"score":0,"creation_date":1641533560,"post_id":70603114,"comment_id":124833706,"body_markdown":"I tried to create new variable to store the current value every time the onChanged function is triggered and it works!  Thank you for your help!!","body":"I tried to create new variable to store the current value every time the onChanged function is triggered and it works!  Thank you for your help!!"}],"owner":{"account_id":15580491,"reputation":49,"user_id":11240434,"display_name":"Ana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641448753,"creation_date":1641448753,"question_id":70603114,"body_markdown":"I have a question regarding the dropdown usage. Currently, I have two different dropdown where if the view is month, it will display this two dropdown for user to choose the month and year. For example, if user choose month august and year 2021, the display data should be based on the selection. But the problem is, for example I choose month &#39;aug&#39; followed by year &#39;2021&#39;, it will always display the data for &#39;jan&#39; because that was the default value for the month. \r\n\r\nThe thing is I&#39;m not sure on how to get the value of onchanged from the first dropdown to put inside the second dropdown. Here is my code:\r\n\r\n\r\n```\r\n\r\nclass DropdownItem {\r\n  DropdownItem({required this.name, required this.value});\r\n  final String name;\r\n  final String value;\r\n}\r\n\r\nclass DropdownItemYear {\r\n  DropdownItemYear({required this.nameYear, required this.valueYear});\r\n  final String nameYear;\r\n  final String valueYear;\r\n}\r\n\r\nclass ExactTimeDropdown extends StatefulWidget {\r\n  const ExactTimeDropdown({\r\n    required Key key,\r\n    required this.exactTime,\r\n    required this.function,\r\n  }) : super(key: key);\r\n  final String exactTime;\r\n  final Function function;\r\n  @override\r\n  ExactTimeDropdownState createState() =&gt; ExactTimeDropdownState();\r\n}\r\n\r\nclass ExactTimeDropdownState extends State&lt;ExactTimeDropdown&gt; {\r\n  final key = GlobalKey();\r\n  String? valueYear = &#39;&#39;;\r\n  @override\r\n  void initState() {\r\n    super.initState();\r\n  }\r\n\r\n  List&lt;DropdownItem&gt; dropdownExactTimeItems = &lt;DropdownItem&gt;[];\r\n  List&lt;DropdownItemYear&gt; dropdownYearItems = &lt;DropdownItemYear&gt;[];\r\n  String? dropdownExactTimeLabel = &#39;&#39;;\r\n  String? dropdownYearLabel = &#39;&#39;;\r\n  \r\n// default value is january\r\n  String? value = &#39;jan&#39;;\r\n  Widget build(BuildContext context) {\r\n\r\n    if (widget.exactTime == &#39;year&#39;) {\r\n      dropdownExactTimeLabel = &#39;2021&#39;;\r\n      dropdownExactTimeItems = [\r\n        DropdownItem(name: &#39;2021&#39;, value: &#39;2021&#39;),\r\n        DropdownItem(name: &#39;2022&#39;, value: &#39;2022&#39;),\r\n      ];\r\n    } else if (widget.exactTime == &#39;month&#39;) {\r\n      dropdownExactTimeLabel = &#39;jan&#39;;\r\n      dropdownExactTimeItems = [\r\n        DropdownItem(name: &#39;Jan&#39;, value: &#39;jan&#39;),\r\n        DropdownItem(name: &#39;Feb&#39;, value: &#39;feb&#39;),\r\n        DropdownItem(name: &#39;March&#39;, value: &#39;mar&#39;),\r\n        DropdownItem(name: &#39;April&#39;, value: &#39;apr&#39;),\r\n        DropdownItem(name: &#39;May&#39;, value: &#39;may&#39;),\r\n        DropdownItem(name: &#39;Jun&#39;, value: &#39;jun&#39;),\r\n        DropdownItem(name: &#39;July&#39;, value: &#39;july&#39;),\r\n        DropdownItem(name: &#39;Aug&#39;, value: &#39;aug&#39;),\r\n        DropdownItem(name: &#39;Sept&#39;, value: &#39;sept&#39;),\r\n        DropdownItem(name: &#39;Oct&#39;, value: &#39;oct&#39;),\r\n        DropdownItem(name: &#39;Nov&#39;, value: &#39;nov&#39;),\r\n        DropdownItem(name: &#39;Dec&#39;, value: &#39;dec&#39;),\r\n      ];\r\n      dropdownYearLabel = &#39;2021&#39;;\r\n      dropdownYearItems = [\r\n        DropdownItemYear(nameYear: &#39;202a1&#39;, valueYear: &#39;2021&#39;),\r\n        DropdownItemYear(nameYear: &#39;2022&#39;, valueYear: &#39;2022&#39;),\r\n      ];\r\n    } else if (widget.exactTime == &#39;threemonth&#39;) {\r\n      dropdownExactTimeLabel = &#39;janmarch&#39;;\r\n      dropdownExactTimeItems = [\r\n        DropdownItem(name: &#39;Jan - Mar&#39;, value: &#39;janmarch&#39;),\r\n        DropdownItem(name: &#39;Apr - Jun&#39;, value: &#39;aprjun&#39;),\r\n        DropdownItem(name: &#39;July - Sept&#39;, value: &#39;julysept&#39;),\r\n        DropdownItem(name: &#39;Oct - Dec&#39;, value: &#39;octdec&#39;),\r\n      ];\r\n      dropdownYearLabel = &#39;2021&#39;;\r\n      dropdownYearItems = [\r\n        DropdownItemYear(nameYear: &#39;202a1&#39;, valueYear: &#39;2021&#39;),\r\n        DropdownItemYear(nameYear: &#39;2022&#39;, valueYear: &#39;2022&#39;),\r\n      ];\r\n    } else if (widget.exactTime == &#39;sixmonth&#39;) {\r\n      dropdownExactTimeLabel = &#39;janjune&#39;;\r\n      dropdownExactTimeItems = [\r\n        DropdownItem(name: &#39;Jan - June&#39;, value: &#39;janjune&#39;),\r\n        DropdownItem(name: &#39;July - Dec&#39;, value: &#39;julydec&#39;),\r\n      ];\r\n      dropdownYearLabel = &#39;2021&#39;;\r\n      dropdownYearItems = [\r\n        DropdownItemYear(nameYear: &#39;202a1&#39;, valueYear: &#39;2021&#39;),\r\n        DropdownItemYear(nameYear: &#39;2022&#39;, valueYear: &#39;2022&#39;),\r\n      ];\r\n    }\r\n\r\n// if the exact time is year, just display one dropdown\r\n    return (widget.exactTime == &#39;year&#39;)\r\n        ? SizedBox(\r\n            width: 100,\r\n            child: DropdownButtonFormField&lt;String&gt;(\r\n              style: kDropdownText,\r\n              value: dropdownExactTimeLabel,\r\n              items: dropdownExactTimeItems.map((DropdownItem dropdownItems) {\r\n                return DropdownMenuItem(\r\n                  value: dropdownItems.value,\r\n                  child: Text(dropdownItems.name),\r\n                );\r\n              }).toList(),\r\n              onChanged: (value) {\r\n                setState(() {\r\n                  dropdownExactTimeLabel = value;\r\n                  widget.function(value, valueYear);\r\n                });\r\n              },\r\n            ),\r\n          )\r\n// if the exact time is month, display two dropdown\r\n        : Row(\r\n            children: [\r\n              // dropdown for month selection\r\n              SizedBox(\r\n                width: 100,\r\n                child: DropdownButtonFormField&lt;String&gt;(\r\n                  style: kDropdownText,\r\n                  value: dropdownExactTimeLabel,\r\n                  items:\r\n                      dropdownExactTimeItems.map((DropdownItem dropdownItems) {\r\n                    return DropdownMenuItem(\r\n                      value: dropdownItems.value,\r\n                      child: Text(dropdownItems.name),\r\n                    );\r\n                  }).toList(),\r\n                  onChanged: (value) {\r\n                    setState(() {\r\n                      dropdownExactTimeLabel = value;\r\n                      widget.function(value, valueYear);\r\n                    });\r\n                  },\r\n                ),\r\n              ),\r\n              SizedBox(\r\n                width: 20,\r\n              ),\r\n              // dropdown for year selection\r\n              SizedBox(\r\n                width: 100,\r\n                child: DropdownButtonFormField&lt;String&gt;(\r\n                  style: kDropdownText,\r\n                  value: dropdownYearLabel,\r\n                  items: dropdownYearItems\r\n                      .map((DropdownItemYear dropdownItemsYear) {\r\n                    return DropdownMenuItem(\r\n                      value: dropdownItemsYear.valueYear,\r\n                      child: Text(dropdownItemsYear.nameYear),\r\n                    );\r\n                  }).toList(),\r\n                  onChanged: (valueYear) {\r\n                    setState(() {\r\n                      dropdownYearLabel = valueYear;\r\n                      // here for value, should get the value from the first dropdown, not the default value\r\n                      widget.function(value, valueYear);\r\n                    });\r\n                  },\r\n                ),\r\n              )\r\n            ],\r\n          );\r\n  }\r\n}\r\n```\r\n\r\nIs there any possible way to get the value from the other dropdown? I&#39;m sorry if my question sounds dumb but I&#39;ve stuck on this for few days. Thank you in advance!\r\n","title":"Display data based on multiple dropdown selection in Flutter","body":"<p>I have a question regarding the dropdown usage. Currently, I have two different dropdown where if the view is month, it will display this two dropdown for user to choose the month and year. For example, if user choose month august and year 2021, the display data should be based on the selection. But the problem is, for example I choose month 'aug' followed by year '2021', it will always display the data for 'jan' because that was the default value for the month.</p>\n<p>The thing is I'm not sure on how to get the value of onchanged from the first dropdown to put inside the second dropdown. Here is my code:</p>\n<pre><code>\nclass DropdownItem {\n  DropdownItem({required this.name, required this.value});\n  final String name;\n  final String value;\n}\n\nclass DropdownItemYear {\n  DropdownItemYear({required this.nameYear, required this.valueYear});\n  final String nameYear;\n  final String valueYear;\n}\n\nclass ExactTimeDropdown extends StatefulWidget {\n  const ExactTimeDropdown({\n    required Key key,\n    required this.exactTime,\n    required this.function,\n  }) : super(key: key);\n  final String exactTime;\n  final Function function;\n  @override\n  ExactTimeDropdownState createState() =&gt; ExactTimeDropdownState();\n}\n\nclass ExactTimeDropdownState extends State&lt;ExactTimeDropdown&gt; {\n  final key = GlobalKey();\n  String? valueYear = '';\n  @override\n  void initState() {\n    super.initState();\n  }\n\n  List&lt;DropdownItem&gt; dropdownExactTimeItems = &lt;DropdownItem&gt;[];\n  List&lt;DropdownItemYear&gt; dropdownYearItems = &lt;DropdownItemYear&gt;[];\n  String? dropdownExactTimeLabel = '';\n  String? dropdownYearLabel = '';\n  \n// default value is january\n  String? value = 'jan';\n  Widget build(BuildContext context) {\n\n    if (widget.exactTime == 'year') {\n      dropdownExactTimeLabel = '2021';\n      dropdownExactTimeItems = [\n        DropdownItem(name: '2021', value: '2021'),\n        DropdownItem(name: '2022', value: '2022'),\n      ];\n    } else if (widget.exactTime == 'month') {\n      dropdownExactTimeLabel = 'jan';\n      dropdownExactTimeItems = [\n        DropdownItem(name: 'Jan', value: 'jan'),\n        DropdownItem(name: 'Feb', value: 'feb'),\n        DropdownItem(name: 'March', value: 'mar'),\n        DropdownItem(name: 'April', value: 'apr'),\n        DropdownItem(name: 'May', value: 'may'),\n        DropdownItem(name: 'Jun', value: 'jun'),\n        DropdownItem(name: 'July', value: 'july'),\n        DropdownItem(name: 'Aug', value: 'aug'),\n        DropdownItem(name: 'Sept', value: 'sept'),\n        DropdownItem(name: 'Oct', value: 'oct'),\n        DropdownItem(name: 'Nov', value: 'nov'),\n        DropdownItem(name: 'Dec', value: 'dec'),\n      ];\n      dropdownYearLabel = '2021';\n      dropdownYearItems = [\n        DropdownItemYear(nameYear: '202a1', valueYear: '2021'),\n        DropdownItemYear(nameYear: '2022', valueYear: '2022'),\n      ];\n    } else if (widget.exactTime == 'threemonth') {\n      dropdownExactTimeLabel = 'janmarch';\n      dropdownExactTimeItems = [\n        DropdownItem(name: 'Jan - Mar', value: 'janmarch'),\n        DropdownItem(name: 'Apr - Jun', value: 'aprjun'),\n        DropdownItem(name: 'July - Sept', value: 'julysept'),\n        DropdownItem(name: 'Oct - Dec', value: 'octdec'),\n      ];\n      dropdownYearLabel = '2021';\n      dropdownYearItems = [\n        DropdownItemYear(nameYear: '202a1', valueYear: '2021'),\n        DropdownItemYear(nameYear: '2022', valueYear: '2022'),\n      ];\n    } else if (widget.exactTime == 'sixmonth') {\n      dropdownExactTimeLabel = 'janjune';\n      dropdownExactTimeItems = [\n        DropdownItem(name: 'Jan - June', value: 'janjune'),\n        DropdownItem(name: 'July - Dec', value: 'julydec'),\n      ];\n      dropdownYearLabel = '2021';\n      dropdownYearItems = [\n        DropdownItemYear(nameYear: '202a1', valueYear: '2021'),\n        DropdownItemYear(nameYear: '2022', valueYear: '2022'),\n      ];\n    }\n\n// if the exact time is year, just display one dropdown\n    return (widget.exactTime == 'year')\n        ? SizedBox(\n            width: 100,\n            child: DropdownButtonFormField&lt;String&gt;(\n              style: kDropdownText,\n              value: dropdownExactTimeLabel,\n              items: dropdownExactTimeItems.map((DropdownItem dropdownItems) {\n                return DropdownMenuItem(\n                  value: dropdownItems.value,\n                  child: Text(dropdownItems.name),\n                );\n              }).toList(),\n              onChanged: (value) {\n                setState(() {\n                  dropdownExactTimeLabel = value;\n                  widget.function(value, valueYear);\n                });\n              },\n            ),\n          )\n// if the exact time is month, display two dropdown\n        : Row(\n            children: [\n              // dropdown for month selection\n              SizedBox(\n                width: 100,\n                child: DropdownButtonFormField&lt;String&gt;(\n                  style: kDropdownText,\n                  value: dropdownExactTimeLabel,\n                  items:\n                      dropdownExactTimeItems.map((DropdownItem dropdownItems) {\n                    return DropdownMenuItem(\n                      value: dropdownItems.value,\n                      child: Text(dropdownItems.name),\n                    );\n                  }).toList(),\n                  onChanged: (value) {\n                    setState(() {\n                      dropdownExactTimeLabel = value;\n                      widget.function(value, valueYear);\n                    });\n                  },\n                ),\n              ),\n              SizedBox(\n                width: 20,\n              ),\n              // dropdown for year selection\n              SizedBox(\n                width: 100,\n                child: DropdownButtonFormField&lt;String&gt;(\n                  style: kDropdownText,\n                  value: dropdownYearLabel,\n                  items: dropdownYearItems\n                      .map((DropdownItemYear dropdownItemsYear) {\n                    return DropdownMenuItem(\n                      value: dropdownItemsYear.valueYear,\n                      child: Text(dropdownItemsYear.nameYear),\n                    );\n                  }).toList(),\n                  onChanged: (valueYear) {\n                    setState(() {\n                      dropdownYearLabel = valueYear;\n                      // here for value, should get the value from the first dropdown, not the default value\n                      widget.function(value, valueYear);\n                    });\n                  },\n                ),\n              )\n            ],\n          );\n  }\n}\n</code></pre>\n<p>Is there any possible way to get the value from the other dropdown? I'm sorry if my question sounds dumb but I've stuck on this for few days. Thank you in advance!</p>\n"},{"tags":["java","hex","iot","gprs"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1641445930,"post_id":70602698,"comment_id":124808125,"body_markdown":"And what did you find/write already to achieve that goal? Because SO is here to help you solve problems with your code, it&#39;s not a general help forum for when you have an idea but haven&#39;t done anything about it yet. Give [how to ask a good question](/help/how-to-ask) a read-through, and then update your post accordingly.","body":"And what did you find/write already to achieve that goal? Because SO is here to help you solve problems with your code, it&#39;s not a general help forum for when you have an idea but haven&#39;t done anything about it yet. Give <a href=\"/help/how-to-ask\">how to ask a good question</a> a read-through, and then update your post accordingly."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1641447389,"post_id":70602698,"comment_id":124808383,"body_markdown":"Most things in this question make no sense to me, or are impossible. Maybe I&#39;m wrong, but I expect that the sensor *doesn&#39;t* send data in decimal (a common cause for this confusion is that integers are printed in decimal by default, but that doesn&#39;t mean that the integer *is* decimal, it&#39;s just printed that way), but send data as a raw signed byte (which you can print in hexadecimal). Please clarify.","body":"Most things in this question make no sense to me, or are impossible. Maybe I&#39;m wrong, but I expect that the sensor <i>doesn&#39;t</i> send data in decimal (a common cause for this confusion is that integers are printed in decimal by default, but that doesn&#39;t mean that the integer <i>is</i> decimal, it&#39;s just printed that way), but send data as a raw signed byte (which you can print in hexadecimal). Please clarify."},{"owner":{"account_id":23835704,"reputation":11,"user_id":17841457,"display_name":"Tejas Gohil"},"score":0,"creation_date":1641447717,"post_id":70602698,"comment_id":124808443,"body_markdown":"yes you are right its sends in byte but there is a default file provided by sensor manufacturer so thats decode the bytes and gives me Decimal from signed 2&#39;s complement","body":"yes you are right its sends in byte but there is a default file provided by sensor manufacturer so thats decode the bytes and gives me Decimal from signed 2&#39;s complement"},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1641448684,"post_id":70602698,"comment_id":124808615,"body_markdown":"Do you have to use that default file? It&#39;s still possible to convert from a decimal representation, but that&#39;s an avoidable extra step","body":"Do you have to use that default file? It&#39;s still possible to convert from a decimal representation, but that&#39;s an avoidable extra step"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1642074003,"post_id":70602698,"comment_id":124977752,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641448572,"creation_date":1641448572,"answer_id":70603088,"question_id":70602698,"body_markdown":"    String decimal = &quot;-73&quot;;\r\n    int number = Integer.parseInt(decimal);\r\n    String unsignedHex = String.format(&quot;%02X&quot;, number &amp; 0xff);\r\n\r\nThe `parseInt` call converts the signed decimal string to a (signed) `int` value.\r\n\r\nThe `format` call converts the `int` to an unsigned byte string in uppercase hexadecimal:\r\n\r\n  - The `number &amp; 0xff` expression strips off the sign extension.\r\n  - The `&quot;%02X&quot;` format says uppercase hexadecimal (`X`) in a 2 character field.  The `0` means zero padded.  Read [Format String Syntax](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html#syntax) for more information.","title":"Want to convert Decimal from signed 2&#39;s complement to hexdecimal without signed 2&#39;s complement (ex : -73 -&gt; B7)","body":"<pre><code>String decimal = &quot;-73&quot;;\nint number = Integer.parseInt(decimal);\nString unsignedHex = String.format(&quot;%02X&quot;, number &amp; 0xff);\n</code></pre>\n<p>The <code>parseInt</code> call converts the signed decimal string to a (signed) <code>int</code> value.</p>\n<p>The <code>format</code> call converts the <code>int</code> to an unsigned byte string in uppercase hexadecimal:</p>\n<ul>\n<li>The <code>number &amp; 0xff</code> expression strips off the sign extension.</li>\n<li>The <code>&quot;%02X&quot;</code> format says uppercase hexadecimal (<code>X</code>) in a 2 character field.  The <code>0</code> means zero padded.  Read <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">Format String Syntax</a> for more information.</li>\n</ul>\n"}],"owner":{"account_id":23835704,"reputation":11,"user_id":17841457,"display_name":"Tejas Gohil"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641448572,"creation_date":1641445392,"question_id":70602698,"body_markdown":"i am receving sensor data which sends me Decimal from signed 2&#39;s complement want to convert it to hex decimal without signed 2&#39;s complement ","title":"Want to convert Decimal from signed 2&#39;s complement to hexdecimal without signed 2&#39;s complement (ex : -73 -&gt; B7)","body":"<p>i am receving sensor data which sends me Decimal from signed 2's complement want to convert it to hex decimal without signed 2's complement</p>\n"},{"tags":["java","a-star"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1641392651,"post_id":70594473,"comment_id":124793020,"body_markdown":"You need to find the shortest/cheapest path out of all the solutions.","body":"You need to find the shortest/cheapest path out of all the solutions."},{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":0,"creation_date":1641393457,"post_id":70594473,"comment_id":124793388,"body_markdown":"Every time you visit a new tile, keep track of its &quot;parent&quot; (i.e. the tile you just came from).  Once you reach the target tile, the shortest path can be found by following the chain of &quot;parents&quot; from the target tile back to the start tile.","body":"Every time you visit a new tile, keep track of its &quot;parent&quot; (i.e. the tile you just came from).  Once you reach the target tile, the shortest path can be found by following the chain of &quot;parents&quot; from the target tile back to the start tile."},{"owner":{"account_id":19208666,"reputation":1,"user_id":14034975,"display_name":"Jonah M"},"score":0,"creation_date":1641393562,"post_id":70594473,"comment_id":124793451,"body_markdown":"@0x5453, that&#39;s smart, I&#39;ll give that a try","body":"@0x5453, that&#39;s smart, I&#39;ll give that a try"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1641449443,"post_id":70594473,"comment_id":124808742,"body_markdown":"For more help with it post [mre]","body":"For more help with it post <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":19208666,"reputation":1,"user_id":14034975,"display_name":"Jonah M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641448409,"creation_date":1641392494,"question_id":70594473,"body_markdown":"I&#39;m writing an a-star pathfinding visualizer with built-in controls to create your own &quot;map&quot;, point A being the start, point B being the end, with any walls between. The algorithm calculates the f-costs (using the g &amp; h) correctly and finds its way to the target point but I don&#39;t know how to actually draw the path back.\r\n\r\nI&#39;ve linked an image of the result when the target point has been reached, the yellow being tiles that have been calculated, lime being the points that were further calculated.\r\n\r\n![Example Image of Finished Path][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vLfcJ.png","title":"How to draw the path after a* pathing is done","body":"<p>I'm writing an a-star pathfinding visualizer with built-in controls to create your own &quot;map&quot;, point A being the start, point B being the end, with any walls between. The algorithm calculates the f-costs (using the g &amp; h) correctly and finds its way to the target point but I don't know how to actually draw the path back.</p>\n<p>I've linked an image of the result when the target point has been reached, the yellow being tiles that have been calculated, lime being the points that were further calculated.</p>\n<p><img src=\"https://i.stack.imgur.com/vLfcJ.png\" alt=\"Example Image of Finished Path\" /></p>\n"},{"tags":["java","mongodb","spring-boot"],"owner":{"account_id":8959605,"reputation":93,"user_id":6682765,"accept_rate":0,"display_name":"badbuda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641448382,"creation_date":1641381347,"question_id":70591952,"body_markdown":"Ive upgraded my app to spring boot 2.6.2, and I&#39;m having difficulties with my mongodb..\r\nmy app is running, but when I try to activate one of my services, I get this exception of NoSuchMethodError: com.mongodb.client.MongoCollection.insertOne(Ljava/lang/Object;)Lcom/mongodb/client/result/InsertOneResult;&quot;,\r\n\r\ntried playing with my mongo versions, but nothing seems to work.\r\nhelp will be appriciated\r\nthank you\r\n\r\n    Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: com.mongodb.client.MongoCollection.insertOne(Ljava/lang/Object;)Lcom/mongodb/client/result/InsertOneResult;&quot;,\r\n            &quot;errorReasonCodeDescription&quot;: &quot;org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: com.mongodb.client.MongoCollection.insertOne(Ljava/lang/Object;)Lcom/mongodb/client/result/InsertOneResult;\r\n         org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1082)\r\n         org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n         org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n         org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n         javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n        org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n         javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n         org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n         org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n         org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n         org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n         org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n         org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)\r\n         org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n         org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n         org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n         org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n        org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n         org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n         org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n         org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n         org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n         org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n         org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n         org.springframework.cloud.sleuth.instrument.web.servlet.TracingFilter.doFilter(TracingFilter.java:68)2\r\n         org.springframework.cloud.sleuth.autoconfig.instrument.web.TraceWebServletConfiguration$LazyTracingFilter.doFilter(TraceWebServletConfiguration.java:129)\r\n         org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n         org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n         org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n         org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n         org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\\r\n         org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n         org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n        org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n         org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n         org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n         org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n        org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n         org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n         org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n         org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n         org.springframework.cloud.sleuth.instrument.web.tomcat.TraceValve.invoke(TraceValve.java:74)\r\n         org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n         org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n         org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n        org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n         org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n        t org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n         org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n         org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n         org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n         java.base/java.lang.Thread.run(Thread.java:834)\r\n        Caused by: java.lang.NoSuchMethodError: com.mongodb.client.MongoCollection.insertOne(Ljava/lang/Object;)Lcom/mongodb/client/result/InsertOneResult;\r\n\r\n\r\nthis is my pom file\r\n\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;!-- Artifact Information --&gt;\r\n\t&lt;groupId&gt;com.aa&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;payments&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;logstash.version&gt;6.3&lt;/logstash.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2021.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.10&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${logstash.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.27&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.7.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.10.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;!-- &lt;scope&gt;compile&lt;/scope&gt; --&gt;\r\n\t\t\t&lt;version&gt;4.5.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpasyncclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-hystrix-dashboard\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.30&lt;/version&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Thanks for using https://jar-download.com --&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- End of saf services --&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;dep&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;directory&gt;target-dep&lt;/directory&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;executable&gt;true&lt;/executable&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;repackage&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;classifier&gt;exec&lt;/classifier&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\n\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;jar&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;0.8.5&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;prepare-agent&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;post-unit-test&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;!-- Sets the path to the file which contains the execution data. --&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;dataFile&gt;target/jacoco.exec&lt;/dataFile&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;!-- Sets the output directory for the code coverage report. --&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/jacoco-ut&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;!-- Add the following exclusions here. --&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;nonFilteredFileExtensions&gt;\r\n\t\t\t\t\t\t&lt;nonFilteredFileExtension&gt;properties&lt;/nonFilteredFileExtension&gt;\r\n\t\t\t\t\t&lt;/nonFilteredFileExtensions&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n\r\n","title":"MongoCollection.insertOne exception after upgrading springboot to 2.6.2","body":"<p>Ive upgraded my app to spring boot 2.6.2, and I'm having difficulties with my mongodb..\nmy app is running, but when I try to activate one of my services, I get this exception of NoSuchMethodError: com.mongodb.client.MongoCollection.insertOne(Ljava/lang/Object;)Lcom/mongodb/client/result/InsertOneResult;&quot;,</p>\n<p>tried playing with my mongo versions, but nothing seems to work.\nhelp will be appriciated\nthank you</p>\n<pre><code>Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: com.mongodb.client.MongoCollection.insertOne(Ljava/lang/Object;)Lcom/mongodb/client/result/InsertOneResult;&quot;,\n        &quot;errorReasonCodeDescription&quot;: &quot;org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: com.mongodb.client.MongoCollection.insertOne(Ljava/lang/Object;)Lcom/mongodb/client/result/InsertOneResult;\n     org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1082)\n     org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n     org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n     org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n     javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n     javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n     org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n     org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n     org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n     org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n     org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n     org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)\n     org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n     org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n     org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n     org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n     org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n     org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n     org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n     org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n     org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n     org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n     org.springframework.cloud.sleuth.instrument.web.servlet.TracingFilter.doFilter(TracingFilter.java:68)2\n     org.springframework.cloud.sleuth.autoconfig.instrument.web.TraceWebServletConfiguration$LazyTracingFilter.doFilter(TraceWebServletConfiguration.java:129)\n     org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n     org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n     org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n     org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n     org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\\n     org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n     org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n     org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n     org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n     org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n     org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n     org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n     org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n     org.springframework.cloud.sleuth.instrument.web.tomcat.TraceValve.invoke(TraceValve.java:74)\n     org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n     org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n     org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n     org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n    t org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n     org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n     org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n     org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n     java.base/java.lang.Thread.run(Thread.java:834)\n    Caused by: java.lang.NoSuchMethodError: com.mongodb.client.MongoCollection.insertOne(Ljava/lang/Object;)Lcom/mongodb/client/result/InsertOneResult;\n</code></pre>\n<p>this is my pom file</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;!-- Artifact Information --&gt;\n&lt;groupId&gt;com.aa&lt;/groupId&gt;\n&lt;artifactId&gt;payments&lt;/artifactId&gt;\n&lt;version&gt;3.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.2&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;logstash.version&gt;6.3&lt;/logstash.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;2021.0.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n        &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n        &lt;version&gt;3.12.10&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n        &lt;version&gt;${logstash.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n        &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n        &lt;version&gt;1.27&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;5.2.7.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n        &lt;version&gt;5.3.10.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;!-- &lt;scope&gt;compile&lt;/scope&gt; --&gt;\n        &lt;version&gt;4.5.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpasyncclient&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix-dashboard\n        &lt;/artifactId&gt;\n        &lt;version&gt;2.2.10.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.2.30&lt;/version&gt;\n\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\n        &lt;version&gt;1.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Thanks for using https://jar-download.com --&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n        &lt;version&gt;2.3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- End of saf services --&gt;\n\n\n&lt;/dependencies&gt;\n\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;dep&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n        &lt;/properties&gt;\n        &lt;build&gt;\n            &lt;directory&gt;target-dep&lt;/directory&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;executable&gt;true&lt;/executable&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;repackage&lt;/id&gt;\n                            &lt;configuration&gt;\n                                &lt;classifier&gt;exec&lt;/classifier&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n        &lt;id&gt;jar&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n        &lt;/properties&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;0.8.5&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;prepare-agent&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;report&lt;/id&gt;\n                            &lt;phase&gt;prepare-package&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;report&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;post-unit-test&lt;/id&gt;\n                            &lt;phase&gt;test&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;report&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;!-- Sets the path to the file which contains the execution data. --&gt;\n                                &lt;dataFile&gt;target/jacoco.exec&lt;/dataFile&gt;\n                                &lt;!-- Sets the output directory for the code coverage report. --&gt;\n                                &lt;outputDirectory&gt;target/jacoco-ut&lt;/outputDirectory&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;!-- Add the following exclusions here. --&gt;\n            &lt;configuration&gt;\n                &lt;nonFilteredFileExtensions&gt;\n                    &lt;nonFilteredFileExtension&gt;properties&lt;/nonFilteredFileExtension&gt;\n                &lt;/nonFilteredFileExtensions&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":6712727,"reputation":640,"user_id":5175581,"display_name":"Ewan Brown"},"score":0,"creation_date":1641448259,"post_id":70603009,"comment_id":124808540,"body_markdown":"Could you please show the full error? See [&quot;Why am I getting a NoClassDefFoundError&quot;](https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java) this may be of use to you","body":"Could you please show the full error? See <a href=\"https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java\">&quot;Why am I getting a NoClassDefFoundError&quot;</a> this may be of use to you"},{"owner":{"account_id":22643478,"reputation":1,"user_id":16819175,"display_name":"Jiuhong Sun"},"score":0,"creation_date":1641448613,"post_id":70603009,"comment_id":124808599,"body_markdown":"@EwanBrown\nThis is the full error\n```\nCaused by: java.lang.ClassNotFoundException: com.casper.sdk.CasperSdk\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n```","body":"@EwanBrown This is the full error ``` Caused by: java.lang.ClassNotFoundException: com.casper.sdk.CasperSdk         at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(B&zwnj;&#8203;uiltinClassLoader.ja&zwnj;&#8203;va:636)         at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.lo&zwnj;&#8203;adClass(ClassLoaders&zwnj;&#8203;.java:182)         at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:5&zwnj;&#8203;19) ```"}],"owner":{"account_id":22643478,"reputation":1,"user_id":16819175,"display_name":"Jiuhong Sun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641447949,"creation_date":1641447949,"question_id":70603009,"body_markdown":"gradlew build works fine `\\gradlew build -&gt; BUILD SUCCESSFUL in 2s ` but \r\n`java -jar build\\libs\\gradle-tutorial.jar` shows `NoClassDefFoundError`. \r\n```\r\nCaused by: java.lang.ClassNotFoundException: com.casper.sdk.CasperSdk\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n```\r\n\r\nI searched similar issue but still cannot understand how to resolve this.\r\nCan you please help take a look? Thank you in advance!\r\n\r\nJava file \r\n```java\r\npackage com.jh;\r\n\r\nimport com.casper.sdk.CasperSdk;\r\n\r\n\r\npublic class GradleTutorial {\r\n    public static void main(String[ ] args) throws Throwable {\r\n        final CasperSdk casperSdk = new CasperSdk(&quot;http://16.162.124.124&quot;, 7777);\r\n        try {\r\n            String nodeStatus = casperSdk.getNodeStatus();\r\n            System.out.println(nodeStatus);\r\n        } catch ( Exception exp ) {\r\n            System.out.println(&quot;Exception while fetching node status&quot;);\r\n            exp.printStackTrace();\r\n        }\r\n      }\r\n}\r\n```\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\njar {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;com.jh.GradleTutorial&#39;\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.13.2&#39;\r\n    implementation &#39;network.casper:casper-java-sdk:0.3.0&#39;\r\n}\r\n```","title":"NoClassDefFoundError java gradle","body":"<p>gradlew build works fine <code>\\gradlew build -&gt; BUILD SUCCESSFUL in 2s </code> but\n<code>java -jar build\\libs\\gradle-tutorial.jar</code> shows <code>NoClassDefFoundError</code>.</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.casper.sdk.CasperSdk\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n</code></pre>\n<p>I searched similar issue but still cannot understand how to resolve this.\nCan you please help take a look? Thank you in advance!</p>\n<p>Java file</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.jh;\n\nimport com.casper.sdk.CasperSdk;\n\n\npublic class GradleTutorial {\n    public static void main(String[ ] args) throws Throwable {\n        final CasperSdk casperSdk = new CasperSdk(&quot;http://16.162.124.124&quot;, 7777);\n        try {\n            String nodeStatus = casperSdk.getNodeStatus();\n            System.out.println(nodeStatus);\n        } catch ( Exception exp ) {\n            System.out.println(&quot;Exception while fetching node status&quot;);\n            exp.printStackTrace();\n        }\n      }\n}\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'com.jh.GradleTutorial'\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation group: 'junit', name: 'junit', version: '4.13.2'\n    implementation 'network.casper:casper-java-sdk:0.3.0'\n}\n</code></pre>\n"},{"tags":["java","sql","mybatis","ibatis"],"answers":[{"tags":[],"owner":{"account_id":5540133,"reputation":875,"user_id":4396995,"display_name":"Persia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574076715,"creation_date":1452057017,"answer_id":34626031,"question_id":34604969,"body_markdown":"use set like this:\r\n\r\n```xml\r\n&lt;update id=&#39;stoIncrement&#39; parameterType=&#39;java.util.Map&#39;&gt;\r\n    update DB\r\n    &lt;set&gt;\r\n        &lt;if test=&quot;is_increase !=null and  is_increase == 1&quot;&gt;\r\n            count=(select max(count) from DB) +1 ,\r\n        &lt;/if&gt;\r\n        &lt;if test=&quot;is_increase !=null and  is_increase == 0&quot;&gt;\r\n            count=(select max(count) from DB) -1 ,\r\n        &lt;/if&gt;\r\n    &lt;/set&gt;\r\n    where store=#{store}\r\n&lt;/update&gt;\r\n```","title":"How to put if condition in myBatis datamapper.xml","body":"<p>use set like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;update id='stoIncrement' parameterType='java.util.Map'&gt;\n    update DB\n    &lt;set&gt;\n        &lt;if test=\"is_increase !=null and  is_increase == 1\"&gt;\n            count=(select max(count) from DB) +1 ,\n        &lt;/if&gt;\n        &lt;if test=\"is_increase !=null and  is_increase == 0\"&gt;\n            count=(select max(count) from DB) -1 ,\n        &lt;/if&gt;\n    &lt;/set&gt;\n    where store=#{store}\n&lt;/update&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23812803,"reputation":1,"user_id":17821418,"display_name":"Pooja MuthuKumaran 0644"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641447566,"creation_date":1641447566,"answer_id":70602960,"question_id":34604969,"body_markdown":"``` \r\n&lt;update id=&#39;stoIncrement&#39; parameterType=&#39;java.util.Map&#39;&gt;\r\n    update DB\r\n    &lt;set&gt;\r\n        &lt;if test=&quot;is_increase == 1&quot;&gt;\r\n            count=(select max(count) from DB) +1 \r\n        &lt;/if&gt;\r\n        &lt;if test=&quot;is_increase == 0&quot;&gt;\r\n            count=(select max(count) from DB) -1\r\n        &lt;/if&gt;\r\n    &lt;/set&gt;\r\n    where store=#{store}\r\n&lt;/update&gt;\r\n```\r\nThe above code works for me. In your mapper class, please use `@Param(&quot;is_increase&quot;) int is_increase` instead of `@Param(&quot;is_increase&quot;) Integer is_increase`","title":"How to put if condition in myBatis datamapper.xml","body":"<pre><code>&lt;update id='stoIncrement' parameterType='java.util.Map'&gt;\n    update DB\n    &lt;set&gt;\n        &lt;if test=&quot;is_increase == 1&quot;&gt;\n            count=(select max(count) from DB) +1 \n        &lt;/if&gt;\n        &lt;if test=&quot;is_increase == 0&quot;&gt;\n            count=(select max(count) from DB) -1\n        &lt;/if&gt;\n    &lt;/set&gt;\n    where store=#{store}\n&lt;/update&gt;\n</code></pre>\n<p>The above code works for me. In your mapper class, please use <code>@Param(&quot;is_increase&quot;) int is_increase</code> instead of <code>@Param(&quot;is_increase&quot;) Integer is_increase</code></p>\n"}],"owner":{"account_id":3686244,"reputation":1603,"user_id":3069962,"accept_rate":59,"display_name":"SiddP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24102,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1641447566,"creation_date":1451972756,"question_id":34604969,"body_markdown":"Here is what I want \r\n\r\n    &lt;update id=&#39;stoIncrement&#39; parameterType=&#39;java.util.Map&#39;&gt;\r\n    update DB set \r\n    &lt;if test=&quot;#{is_increase} == 1&quot;&gt;\r\n    count=(select max(count) from DB) +1 \r\n     &lt;/if&gt;\r\n    &lt;if test=&quot;#{is_increase} == 0&quot;&gt;\r\n    count=(select max(count) from DB) -1 \r\n     &lt;/if&gt;\r\n    where store=#{store}\r\n    &lt;/update&gt;\r\n\r\nHere `is_increase` is a key of the parameter map and is not an entity of the table.\r\n\r\nBut the above do not seem to work. Can someone help in this regards.\r\n\r\nThanks\r\n","title":"How to put if condition in myBatis datamapper.xml","body":"<p>Here is what I want </p>\n\n<pre><code>&lt;update id='stoIncrement' parameterType='java.util.Map'&gt;\nupdate DB set \n&lt;if test=\"#{is_increase} == 1\"&gt;\ncount=(select max(count) from DB) +1 \n &lt;/if&gt;\n&lt;if test=\"#{is_increase} == 0\"&gt;\ncount=(select max(count) from DB) -1 \n &lt;/if&gt;\nwhere store=#{store}\n&lt;/update&gt;\n</code></pre>\n\n<p>Here <code>is_increase</code> is a key of the parameter map and is not an entity of the table.</p>\n\n<p>But the above do not seem to work. Can someone help in this regards.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","rest","logging"],"answers":[{"tags":[],"owner":{"account_id":9198196,"reputation":478,"user_id":6836207,"display_name":"Shubham Bansal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1641447315,"creation_date":1641447315,"answer_id":70602929,"question_id":70602894,"body_markdown":"Not a great idea to print long logs in your info level logs. You can set log level as debug for long data logs which will be useful to avoid cluttering your info level logs. ","title":"is it best practice to put List in a log statement","body":"<p>Not a great idea to print long logs in your info level logs. You can set log level as debug for long data logs which will be useful to avoid cluttering your info level logs.</p>\n"}],"owner":{"account_id":2256891,"reputation":185,"user_id":1987900,"accept_rate":11,"display_name":"avi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641447315,"creation_date":1641447015,"question_id":70602894,"body_markdown":"i&#39;ve an API ..which takes a list of string as input , and returns a list with valid strings based on some filter conditions.\r\ncurrently i&#39;m logging the whole list as soon as the controller method starts executing.\r\n\r\nwanted to check like is it a good practice to print list as the list can be big and it will be printing lots of data in logs","title":"is it best practice to put List in a log statement","body":"<p>i've an API ..which takes a list of string as input , and returns a list with valid strings based on some filter conditions.\ncurrently i'm logging the whole list as soon as the controller method starts executing.</p>\n<p>wanted to check like is it a good practice to print list as the list can be big and it will be printing lots of data in logs</p>\n"},{"tags":["java","json","casting","integer","long-integer"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":1,"creation_date":1388583295,"post_id":20869138,"comment_id":31312524,"body_markdown":"The `Long` object has an `intValue()` method.","body":"The <code>Long</code> object has an <code>intValue()</code> method."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1388584341,"post_id":20869138,"comment_id":31312791,"body_markdown":"Now it looks like you are deliberately trying to come up with each possible variation on the right solution that is not right. Why don&#39;t you just follow the example provided to you by either Hot Licks or Joop Eggen?","body":"Now it looks like you are deliberately trying to come up with each possible variation on the right solution that is not right. Why don&#39;t you just follow the example provided to you by either Hot Licks or Joop Eggen?"},{"owner":{"account_id":1413288,"reputation":1184,"user_id":2190492,"accept_rate":25,"display_name":"user2190492"},"score":0,"creation_date":1388585110,"post_id":20869138,"comment_id":31312995,"body_markdown":"I got it working. Thanks. I was confused by the classes and data types","body":"I got it working. Thanks. I was confused by the classes and data types"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1388585655,"post_id":20869138,"comment_id":31313149,"body_markdown":"Listen carefully:  JSON is returning a `Long` *object*.  That object contains within it a `long` value.  If you want that value to be represented in an `Integer` object you must extract the value from the `Long` object and create a new `Integer` object from the value.","body":"Listen carefully:  JSON is returning a <code>Long</code> <i>object</i>.  That object contains within it a <code>long</code> value.  If you want that value to be represented in an <code>Integer</code> object you must extract the value from the <code>Long</code> object and create a new <code>Integer</code> object from the value."}],"answers":[{"tags":[],"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1388583495,"creation_date":1388583495,"answer_id":20869175,"question_id":20869138,"body_markdown":"Please understand that `Long` and `Integer` are object classes, while `long` and `int` are primitive data types.  You can freely cast between the latter (with possible loss of high-order bits), but you must do an actual conversion between the former.\r\n\r\n    Integer newInt = new Integer(oldLong.intValue());","title":"JSON - simple get an Integer instead of Long","body":"<p>Please understand that <code>Long</code> and <code>Integer</code> are object classes, while <code>long</code> and <code>int</code> are primitive data types.  You can freely cast between the latter (with possible loss of high-order bits), but you must do an actual conversion between the former.</p>\n\n<pre><code>Integer newInt = new Integer(oldLong.intValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23842435,"reputation":11,"user_id":17847330,"display_name":"fatmayasser8976"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641447235,"creation_date":1641446333,"answer_id":70602808,"question_id":20869138,"body_markdown":"I tried \r\n\r\n    (int)(long)jsonItem.get(&quot;amount&quot;);  \r\n\r\nand it worked for me\r\n","title":"JSON - simple get an Integer instead of Long","body":"<p>I tried</p>\n<pre><code>(int)(long)jsonItem.get(&quot;amount&quot;);  \n</code></pre>\n<p>and it worked for me</p>\n"}],"owner":{"account_id":1413288,"reputation":1184,"user_id":2190492,"accept_rate":25,"display_name":"user2190492"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29411,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":20869175,"answer_count":2,"score":15,"last_activity_date":1641447235,"creation_date":1388583145,"question_id":20869138,"body_markdown":"How to get an `Integer` instead of `Long` from JSON?\r\n\r\nI want to read JSON in my Java program, but when I get a JSON value which is a number, my parser returns a number of type `Long`.\r\n\r\nI want to get an `Integer`. I tried to cast the long to an integer, but java throws a `ClassCastException` (`java.lang.Long` cannot be cast to `java.lang.Integer`).\r\n\r\nI tried several things, such as first converting the long to a string, and then converting with `Integer.parseInt();` but also that doesn&#39;t work.\r\n\r\nI am using [json-simple][1]\r\n\r\n\r\n  [1]: http://code.google.com/p/json-simple/ &quot;json-simple&quot;\r\n\r\nEdit:\r\n\r\nI still can&#39;t get it working. Here is an example:\r\njsonItem.get(&quot;amount&quot;); // returns an Object\r\n\r\nI can do this:\r\n\r\n    (long)jsonItem.get(&quot;amount&quot;);\r\n\r\nBut not this:\r\n\r\n    (int)jsonItem.get(&quot;amount&quot;);\r\n\r\nI also can&#39;t convert it with \r\n\r\n    Integer newInt = new Integer(jsonItem.get(&quot;amount&quot;));\r\n\r\nor\r\n\r\n    Integer newInt = new Integer((long)jsonItem.get(&quot;amount&quot;));\r\n\r\n","title":"JSON - simple get an Integer instead of Long","body":"<p>How to get an <code>Integer</code> instead of <code>Long</code> from JSON?</p>\n\n<p>I want to read JSON in my Java program, but when I get a JSON value which is a number, my parser returns a number of type <code>Long</code>.</p>\n\n<p>I want to get an <code>Integer</code>. I tried to cast the long to an integer, but java throws a <code>ClassCastException</code> (<code>java.lang.Long</code> cannot be cast to <code>java.lang.Integer</code>).</p>\n\n<p>I tried several things, such as first converting the long to a string, and then converting with <code>Integer.parseInt();</code> but also that doesn't work.</p>\n\n<p>I am using <a href=\"http://code.google.com/p/json-simple/\" rel=\"noreferrer\" title=\"json-simple\">json-simple</a></p>\n\n<p>Edit:</p>\n\n<p>I still can't get it working. Here is an example:\njsonItem.get(\"amount\"); // returns an Object</p>\n\n<p>I can do this:</p>\n\n<pre><code>(long)jsonItem.get(\"amount\");\n</code></pre>\n\n<p>But not this:</p>\n\n<pre><code>(int)jsonItem.get(\"amount\");\n</code></pre>\n\n<p>I also can't convert it with </p>\n\n<pre><code>Integer newInt = new Integer(jsonItem.get(\"amount\"));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Integer newInt = new Integer((long)jsonItem.get(\"amount\"));\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"score":0,"creation_date":1641445590,"post_id":70602657,"comment_id":124808075,"body_markdown":"Are you tried to put &#39;@Transactional&#39; above  &#39;@Scheduled&#39; ?","body":"Are you tried to put &#39;@Transactional&#39; above  &#39;@Scheduled&#39; ?"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1641445746,"post_id":70602657,"comment_id":124808097,"body_markdown":"You have two closing brackets in your ```@Scheduled(cron = &quot;0 15 10 15 * ?&quot;))``` .   **))**   =&gt; **)**","body":"You have two closing brackets in your <code>@Scheduled(cron = &quot;0 15 10 15 * ?&quot;))</code> .   <b>))</b>   =&gt; <b>)</b>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1641449980,"post_id":70602657,"comment_id":124808837,"body_markdown":"`..for DayOfMonth (valid values 1 - 28/31): 35`","body":"<code>..for DayOfMonth (valid values 1 - 28&#47;31): 35</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1641450265,"post_id":70602657,"comment_id":124808896,"body_markdown":"you programmed hours (12) and days(35), try `&quot;0 35 12 ? * * *&quot;` , see also: https://www.freeformatter.com/cron-expression-generator-quartz.html,  http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html, https://www.jetbrains.com/help/teamcity/cron-expressions-in-teamcity.html","body":"you programmed hours (12) and days(35), try <code>&quot;0 35 12 ? * * *&quot;</code> , see also: <a href=\"https://www.freeformatter.com/cron-expression-generator-quartz.html\" rel=\"nofollow noreferrer\">freeformatter.com/cron-expression-generator-quartz.html</a>,  <a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/crontrigger.html\" rel=\"nofollow noreferrer\">quartz-scheduler.org/documentation/quartz-2.3.0/tutorials/&hellip;</a>, <a href=\"https://www.jetbrains.com/help/teamcity/cron-expressions-in-teamcity.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/teamcity/cron-expressions-in-teamcity.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1641450489,"post_id":70602657,"comment_id":124808932,"body_markdown":"every day at 10PM: `&quot;0 0 22 ? * * *&quot;`;)","body":"every day at 10PM: <code>&quot;0 0 22 ? * * *&quot;</code>;)"}],"answers":[{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641445610,"creation_date":1641445610,"answer_id":70602732,"question_id":70602657,"body_markdown":"If you want to run your task every day at 10 pm, this configuration should work.\r\n\r\n```java\r\n@Scheduled(cron = &quot;0 0 22 * * *&quot;)\r\n```\r\n\r\nHave you enabled Spring Scheduling mechanism?\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableScheduling\r\npublic class Main {\r\n   ...\r\n}\r\n```\r\n\r\nBy the way, there is a syntax error in your code (extra closing bracket). Maybe that&#39;s the issue?\r\n\r\n```java\r\n@Scheduled(cron = &quot;0 15 10 15 * ?&quot;))\r\n```","title":"how to run scheduling on spring application?","body":"<p>If you want to run your task every day at 10 pm, this configuration should work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(cron = &quot;0 0 22 * * *&quot;)\n</code></pre>\n<p>Have you enabled Spring Scheduling mechanism?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableScheduling\npublic class Main {\n   ...\n}\n</code></pre>\n<p>By the way, there is a syntax error in your code (extra closing bracket). Maybe that's the issue?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(cron = &quot;0 15 10 15 * ?&quot;))\n</code></pre>\n"}],"owner":{"account_id":23373138,"reputation":35,"user_id":17443634,"display_name":"jujil lokoko"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641447201,"creation_date":1641445057,"question_id":70602657,"body_markdown":"i have try use this code \r\n\r\n    @Component(&quot;SchedulingTaskCustomerTransfer&quot;)\r\n    public class SchedulingTaskCustomerTransfer{\r\n    \r\n        @Scheduled(cron = &quot;0 15 10 15 * ?&quot;))\r\n        public void scheduleTaskUsingCronExpression() {\r\n            long now = System.currentTimeMillis() / 1000;\r\n            System.out.println(&quot;schedule tasks using cron jobs - &quot; + now);\r\n        }\r\n    }\r\n\r\ni also have try to run on 12:35 jakarta time. but when i set like this \r\n\r\n    @Scheduled(cron = &quot;0 0 12 35 * *&quot;, zone= &quot;Asia/Jakarta&quot;)\r\n\r\ni got error like this \r\n\r\n     &#39;scheduleTaskUsingCronExpression&#39;: Invalid value for DayOfMonth (valid values 1 - 28/31): 35 &#39;35&#39; in cron expression &quot;0 0 12 35 * *&quot;\r\n\r\nbut when i see my code i got error annotations are not allowed here. my question is how to allowed this annotation on my spring application ? and how to set my scheduling task run everyday at 10pm ?","title":"how to run scheduling on spring application?","body":"<p>i have try use this code</p>\n<pre><code>@Component(&quot;SchedulingTaskCustomerTransfer&quot;)\npublic class SchedulingTaskCustomerTransfer{\n\n    @Scheduled(cron = &quot;0 15 10 15 * ?&quot;))\n    public void scheduleTaskUsingCronExpression() {\n        long now = System.currentTimeMillis() / 1000;\n        System.out.println(&quot;schedule tasks using cron jobs - &quot; + now);\n    }\n}\n</code></pre>\n<p>i also have try to run on 12:35 jakarta time. but when i set like this</p>\n<pre><code>@Scheduled(cron = &quot;0 0 12 35 * *&quot;, zone= &quot;Asia/Jakarta&quot;)\n</code></pre>\n<p>i got error like this</p>\n<pre><code> 'scheduleTaskUsingCronExpression': Invalid value for DayOfMonth (valid values 1 - 28/31): 35 '35' in cron expression &quot;0 0 12 35 * *&quot;\n</code></pre>\n<p>but when i see my code i got error annotations are not allowed here. my question is how to allowed this annotation on my spring application ? and how to set my scheduling task run everyday at 10pm ?</p>\n"},{"tags":["java"],"owner":{"account_id":9353101,"reputation":31,"user_id":6942106,"display_name":"Chandan Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641447077,"creation_date":1641447077,"question_id":70602899,"body_markdown":"Integration test not able to mock RestTemplate field on methods annotated with @CircuitBreaker.\r\n\r\ncontroller:\r\n\r\n    @RestController\r\n    public class CollegeController {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate CollegeService collegeService;\r\n    \t\r\n    \t@RequestMapping(value = &quot;/college/student/{collegeId}&quot;)\r\n    \tpublic ResponseEntity&lt;Map&gt; getCollegeStudent(@PathVariable String collegeId){\r\n    \t\t\r\n    \t\tResponseEntity&lt;Map&gt; studentByCollege = collegeService.getStudentByCollege(collegeId);\r\n    \t\t\r\n    \t\treturn studentByCollege;\r\n    \t}\r\n    }\r\n    \r\n    \r\n    Service:\r\n@Service\r\npublic class CollegeServiceImpl implements CollegeService {\r\n\r\n\tpublic static final String COLLEGE_SERVICE = &quot;collegeService&quot;;\r\n\r\n\t@Autowired\r\n\tRestTemplate restTemplate;\r\n\t\r\n\tint count = 0;\r\n\r\n\t@Override\r\n\t@Retry(name = COLLEGE_SERVICE/*, fallbackMethod = &quot;fallbackForRetry&quot;*/)\r\n\t@CircuitBreaker(name = COLLEGE_SERVICE, fallbackMethod = &quot;getAllStudentFallback&quot;)\r\n\tpublic ResponseEntity&lt;Map&gt; getStudentByCollege(String collegeId) {\r\n\r\n\t\tResponseEntity&lt;Map&gt; forEntity = null;\r\n\t\tString url = &quot;http://localhost:8080/student/{collegeId}&quot;;\r\n\t\tSystem.out.println(&quot; count = &quot; + ++count);\r\n\t\t\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\r\n\t\tHttpEntity request = new HttpEntity(headers);\r\n\t\tforEntity =  restTemplate.exchange(url, HttpMethod.GET,request, Map.class,collegeId);\r\n\t\t \r\n\t\t\r\n\t\t//return testCircuitBreakerInFunctionalProgramming().apply(collegeId);\r\n\t\t//throw new RuntimeException(&quot;abc&quot;);\r\n\t\treturn forEntity;\r\n\t}\r\n\r\n\tpublic ResponseEntity&lt;Map&gt; getAllStudentFallback(String collegeId, Throwable t) {\r\n\r\n\t\tSystem.out.println(&quot;fallback method&quot;);\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tpublic ResponseEntity&lt;Map&gt; getAllStudentFallback(String collegeId, CallNotPermittedException t) {\r\n\r\n\t\tSystem.out.println(&quot;fallback call not permitted method&quot;);\r\n\t\treturn null;\r\n\t}\r\n\r\nIntegration Test :\r\n\r\n    @SpringBootTest\r\n    @RunWith(SpringRunner.class)\r\n    public class CollegeIntegrationTest {\r\n    \t\r\n    \t//@InjectMocks\r\n    \t@Autowired\r\n    \tprivate CollegeController controller;\r\n    \t\r\n    \t@InjectMocks\r\n    \t@Autowired\r\n    \tprivate CollegeServiceImpl service;\r\n    \t\r\n    \t@Mock\r\n    \tprivate RestTemplate restTemplate;\r\n    \t\r\n    \t@Before\r\n    \tpublic void setup() {\r\n    \t\t\r\n    \t\tMockitoAnnotations.openMocks(this);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Test\r\n    \tpublic void testCollege() {\r\n    \t\tResponseEntity&lt;Map&gt; response = new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    \t\tMockito.when(restTemplate.exchange(Mockito.anyString(), Mockito.same(HttpMethod.GET),Mockito.&lt;HttpEntity&gt; any(), Mockito.any(Class.class),Mockito.anyString())).thenReturn(response);\r\n    \t\tcontroller.getCollegeStudent(&quot;102&quot;);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nWhat I am doing:\r\n1 of the micorservice is down and I am implementing CircuitBreaker for that scenario and Its working as expected.\r\n\r\nIssue:\r\nWhen I am not using CircuitBreaker annotation, mock of RestTemplate is available with same id in service class. i.e Mocking working fine as expected.\r\n\r\nIn case when I use @CircuitBreaker, some mock id is generated in IntegrationTest class but the same is not available on service, so not able to mock restcall.\r\n\r\nI am initializing rest template using :\r\n  \r\n\r\n     @Bean\r\n        public RestTemplate restTemplate() {\r\n        \t\r\n        \t RestTemplate restTemplate = new RestTemplate();\r\n        \t return restTemplate;\r\n        }\r\n\r\nIn whole mocking is not working as expected while using @CircuitBreaker.\r\nAny suggestion would be appreciated.\r\n    \r\n\r\n\r\n","title":"Integration test not able to mock for methods annotated with @CircuitBreaker","body":"<p>Integration test not able to mock RestTemplate field on methods annotated with @CircuitBreaker.</p>\n<p>controller:</p>\n<pre><code>@RestController\npublic class CollegeController {\n    \n    @Autowired\n    private CollegeService collegeService;\n    \n    @RequestMapping(value = &quot;/college/student/{collegeId}&quot;)\n    public ResponseEntity&lt;Map&gt; getCollegeStudent(@PathVariable String collegeId){\n        \n        ResponseEntity&lt;Map&gt; studentByCollege = collegeService.getStudentByCollege(collegeId);\n        \n        return studentByCollege;\n    }\n}\n\n\nService:\n</code></pre>\n<p>@Service\npublic class CollegeServiceImpl implements CollegeService {</p>\n<pre><code>public static final String COLLEGE_SERVICE = &quot;collegeService&quot;;\n\n@Autowired\nRestTemplate restTemplate;\n\nint count = 0;\n\n@Override\n@Retry(name = COLLEGE_SERVICE/*, fallbackMethod = &quot;fallbackForRetry&quot;*/)\n@CircuitBreaker(name = COLLEGE_SERVICE, fallbackMethod = &quot;getAllStudentFallback&quot;)\npublic ResponseEntity&lt;Map&gt; getStudentByCollege(String collegeId) {\n\n    ResponseEntity&lt;Map&gt; forEntity = null;\n    String url = &quot;http://localhost:8080/student/{collegeId}&quot;;\n    System.out.println(&quot; count = &quot; + ++count);\n    \n    HttpHeaders headers = new HttpHeaders();\n\n    HttpEntity request = new HttpEntity(headers);\n    forEntity =  restTemplate.exchange(url, HttpMethod.GET,request, Map.class,collegeId);\n     \n    \n    //return testCircuitBreakerInFunctionalProgramming().apply(collegeId);\n    //throw new RuntimeException(&quot;abc&quot;);\n    return forEntity;\n}\n\npublic ResponseEntity&lt;Map&gt; getAllStudentFallback(String collegeId, Throwable t) {\n\n    System.out.println(&quot;fallback method&quot;);\n    return null;\n}\n\npublic ResponseEntity&lt;Map&gt; getAllStudentFallback(String collegeId, CallNotPermittedException t) {\n\n    System.out.println(&quot;fallback call not permitted method&quot;);\n    return null;\n}\n</code></pre>\n<p>Integration Test :</p>\n<pre><code>@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class CollegeIntegrationTest {\n    \n    //@InjectMocks\n    @Autowired\n    private CollegeController controller;\n    \n    @InjectMocks\n    @Autowired\n    private CollegeServiceImpl service;\n    \n    @Mock\n    private RestTemplate restTemplate;\n    \n    @Before\n    public void setup() {\n        \n        MockitoAnnotations.openMocks(this);\n        \n    }\n    \n    \n    @Test\n    public void testCollege() {\n        ResponseEntity&lt;Map&gt; response = new ResponseEntity&lt;&gt;(HttpStatus.OK);\n        Mockito.when(restTemplate.exchange(Mockito.anyString(), Mockito.same(HttpMethod.GET),Mockito.&lt;HttpEntity&gt; any(), Mockito.any(Class.class),Mockito.anyString())).thenReturn(response);\n        controller.getCollegeStudent(&quot;102&quot;);\n        \n    }\n\n}\n</code></pre>\n<p>What I am doing:\n1 of the micorservice is down and I am implementing CircuitBreaker for that scenario and Its working as expected.</p>\n<p>Issue:\nWhen I am not using CircuitBreaker annotation, mock of RestTemplate is available with same id in service class. i.e Mocking working fine as expected.</p>\n<p>In case when I use @CircuitBreaker, some mock id is generated in IntegrationTest class but the same is not available on service, so not able to mock restcall.</p>\n<p>I am initializing rest template using :</p>\n<pre><code> @Bean\n    public RestTemplate restTemplate() {\n        \n         RestTemplate restTemplate = new RestTemplate();\n         return restTemplate;\n    }\n</code></pre>\n<p>In whole mocking is not working as expected while using @CircuitBreaker.\nAny suggestion would be appreciated.</p>\n"},{"tags":["java","uml","sourceforge"],"comments":[{"owner":{"account_id":468537,"reputation":2527,"user_id":874596,"display_name":"Bela Vizer"},"score":0,"creation_date":1632768588,"post_id":69351805,"comment_id":122577691,"body_markdown":"How did you try to run it though? Try this, open your console and type in this and hit enter: java -jar violetumleditor-3.0.0.jar. Assuming you downloaded 3.0.0. If any error message update your question. Also chose the *.jar option when downloading from here: https://sourceforge.net/projects/violet/files/violetumleditor/3.0.0/","body":"How did you try to run it though? Try this, open your console and type in this and hit enter: java -jar violetumleditor-3.0.0.jar. Assuming you downloaded 3.0.0. If any error message update your question. Also chose the *.jar option when downloading from here: <a href=\"https://sourceforge.net/projects/violet/files/violetumleditor/3.0.0/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/violet/files/violetumleditor/3.0.0</a>"},{"owner":{"account_id":22876571,"reputation":11,"user_id":17018820,"display_name":"helpamanout7"},"score":0,"creation_date":1632772034,"post_id":69351805,"comment_id":122578881,"body_markdown":"did a fresh install with 3.0 again to try and the same thing.","body":"did a fresh install with 3.0 again to try and the same thing."},{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":0,"creation_date":1632781564,"post_id":69351805,"comment_id":122581566,"body_markdown":"_the .jar is located on my desktop, it should be found_ Just guessing: it should not be on the desktop but rather where you excute the `java -jar violetumleditor-3.0.0.jar`","body":"<i>the .jar is located on my desktop, it should be found</i> Just guessing: it should not be on the desktop but rather where you excute the <code>java -jar violetumleditor-3.0.0.jar</code>"},{"owner":{"account_id":468537,"reputation":2527,"user_id":874596,"display_name":"Bela Vizer"},"score":0,"creation_date":1632844591,"post_id":69351805,"comment_id":122601349,"body_markdown":"using your console (or midnight commander... real computer scientist are not using Windows Explorer or that Finder OSX crap) navigate where you think you have the  *.jar file downloaded and execute: ls -la *. You must see the jar in the results, if not, you are in the wrong folder. You must either provide the absolute/relative path in the java command to the jar file or you must be in the same folder where your jar file is","body":"using your console (or midnight commander... real computer scientist are not using Windows Explorer or that Finder OSX crap) navigate where you think you have the  *.jar file downloaded and execute: ls -la *. You must see the jar in the results, if not, you are in the wrong folder. You must either provide the absolute/relative path in the java command to the jar file or you must be in the same folder where your jar file is"}],"answers":[{"tags":[],"owner":{"account_id":18182460,"reputation":55,"user_id":13229928,"display_name":"Albi93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641412517,"creation_date":1641412517,"answer_id":70598904,"question_id":69351805,"body_markdown":"There is a bug open for this:\r\nhttps://sourceforge.net/p/violet/bugs/69/\r\nI personally don&#39;t think it would be fixed anytime soon.\r\nI can recommend two alternative tools such as:\r\nhttps://www.visual-paradigm.com/solution/uml/uml-tool-for-mac/\r\nhttps://gitmind.com\r\n\r\n","title":"Violet UML Editor doesn&#39;t start on mac","body":"<p>There is a bug open for this:\n<a href=\"https://sourceforge.net/p/violet/bugs/69/\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/violet/bugs/69/</a>\nI personally don't think it would be fixed anytime soon.\nI can recommend two alternative tools such as:\n<a href=\"https://www.visual-paradigm.com/solution/uml/uml-tool-for-mac/\" rel=\"nofollow noreferrer\">https://www.visual-paradigm.com/solution/uml/uml-tool-for-mac/</a>\n<a href=\"https://gitmind.com\" rel=\"nofollow noreferrer\">https://gitmind.com</a></p>\n"}],"owner":{"account_id":22876571,"reputation":11,"user_id":17018820,"display_name":"helpamanout7"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641446724,"creation_date":1632768185,"question_id":69351805,"body_markdown":"I am using eclipse for a coding course at school, and I am required to install Violet UML Editor http://alexdp.free.fr/violetumleditor/page.php to create PDF of classes.\r\n\r\nAnyway, I downloaded a .jar file. My mac doesn&#39;t like that it&#39;s from an unverified developer so I must manually allow it to open in system preferences. The .jar opens to the loading tab but it wont open the program. \r\n\r\n&#39;&#39;&#39;Javac -version&#39;&#39;&#39; in terminal says javac 16.02. As far as I know, JDK holds JRE which I need to run Violet. To be safe I installed JRE from Oracle which was a JDK 8 file but it didn&#39;t work so I just deleted it.\r\n\r\n[![Image of the Loader][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/zkgNh.png\r\n\r\n\r\nUPDATE: Using terminal and entering &#39;&#39;&#39;java -jar violetumleditor-3.0.0.jar&#39;&#39;&#39; I get the error code \r\n\r\n    Error: Unable to access jarfile violetumleditor-3.0.0.jar\r\n\r\nthe .jar is located on my desktop, it should be found\r\n\r\nAlso yes I did a fresh 3.0 version install to try and the same thing.\r\n\r\nUPDATE 2: \r\n`java -version` gives\r\n\r\n    java version &quot;16.0.2&quot; 2021-07-20\r\n    Java(TM) SE Runtime Environment (build 16.0.2+7-67)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 16.0.2+7-67, mixed mode, sharing)\r\n\r\nThinking it&#39;s a permission with accessing desktop issue.\r\n\r\n","title":"Violet UML Editor doesn&#39;t start on mac","body":"<p>I am using eclipse for a coding course at school, and I am required to install Violet UML Editor <a href=\"http://alexdp.free.fr/violetumleditor/page.php\" rel=\"nofollow noreferrer\">http://alexdp.free.fr/violetumleditor/page.php</a> to create PDF of classes.</p>\n<p>Anyway, I downloaded a .jar file. My mac doesn't like that it's from an unverified developer so I must manually allow it to open in system preferences. The .jar opens to the loading tab but it wont open the program.</p>\n<p>'''Javac -version''' in terminal says javac 16.02. As far as I know, JDK holds JRE which I need to run Violet. To be safe I installed JRE from Oracle which was a JDK 8 file but it didn't work so I just deleted it.</p>\n<p><a href=\"https://i.stack.imgur.com/zkgNh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zkgNh.png\" alt=\"Image of the Loader\" /></a></p>\n<p>UPDATE: Using terminal and entering '''java -jar violetumleditor-3.0.0.jar''' I get the error code</p>\n<pre><code>Error: Unable to access jarfile violetumleditor-3.0.0.jar\n</code></pre>\n<p>the .jar is located on my desktop, it should be found</p>\n<p>Also yes I did a fresh 3.0 version install to try and the same thing.</p>\n<p>UPDATE 2:\n<code>java -version</code> gives</p>\n<pre><code>java version &quot;16.0.2&quot; 2021-07-20\nJava(TM) SE Runtime Environment (build 16.0.2+7-67)\nJava HotSpot(TM) 64-Bit Server VM (build 16.0.2+7-67, mixed mode, sharing)\n</code></pre>\n<p>Thinking it's a permission with accessing desktop issue.</p>\n"},{"tags":["java","spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1637320734,"post_id":70029352,"comment_id":123800975,"body_markdown":"How are `userRepo` and `anotherRepo` defined in your spec? Are they really both mocks? Is it really easier to paste incomplete snippets than an actual [MCVE](https://stackoverflow.com/help/mcve) which would make your problem reproducible? Please learn how to ask better questions. Your reward would be quicker and more helpful answers.","body":"How are <code>userRepo</code> and <code>anotherRepo</code> defined in your spec? Are they really both mocks? Is it really easier to paste incomplete snippets than an actual <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> which would make your problem reproducible? Please learn how to ask better questions. Your reward would be quicker and more helpful answers."},{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1637345665,"post_id":70029352,"comment_id":123810382,"body_markdown":"@Viraj Interactions belong in the `then`-block as documented in https://spockframework.org/spock/docs/2.0/all_in_one.html#_mocking and  https://spockframework.org/spock/docs/2.0/all_in_one.html#_combining_mocking_and_stubbing","body":"@Viraj Interactions belong in the <code>then</code>-block as documented in <a href=\"https://spockframework.org/spock/docs/2.0/all_in_one.html#_mocking\" rel=\"nofollow noreferrer\">spockframework.org/spock/docs/2.0/all_in_one.html#_mocking</a> and  <a href=\"https://spockframework.org/spock/docs/2.0/all_in_one.html#_combining_mocking_and_stubbing\" rel=\"nofollow noreferrer\">spockframework.org/spock/docs/2.0/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641446603,"creation_date":1637322505,"answer_id":70034396,"question_id":70029352,"body_markdown":"IMO, you are overspecifying your test. This kind of test is bound to be brittle. You should not use interaction testing unless it is absolutely vital for verifying the correct application behaviour.\r\n\r\nHaving said that, with what little information you provide in your question and some educated guesses, I think you might want something like\r\n\r\n```java\r\n0 * anotherRepoMock._(*_)\r\n```\r\n\r\nHere is a full [MCVE](https://stackoverflow.com/help/mcve), which would have been your job to provide. Please do that next time, otherwise I am not going to answer again and others might not feel it is worth their time either.\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q70029352\r\n\r\nclass User {\r\n  String id\r\n  String name\r\n\r\n  boolean equals(o) {\r\n    if (this.is(o)) return true\r\n    if (getClass() != o.class) return false\r\n\r\n    User user = (User) o\r\n\r\n    if (id != user.id) return false\r\n    if (name != user.name) return false\r\n\r\n    return true\r\n  }\r\n\r\n  int hashCode() {\r\n    int result\r\n    result = id.hashCode()\r\n    result = 31 * result + name.hashCode()\r\n    return result\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q70029352\r\n\r\nclass Another {\r\n  String id\r\n  int amount\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q70029352\r\n\r\nclass UserRepository {\r\n  List&lt;User&gt; users = [\r\n    new User(id: &quot;a&quot;, name: &quot;Alice&quot;),\r\n    new User(id: &quot;b&quot;, name: &quot;Bob&quot;),\r\n    new User(id: &quot;c&quot;, name: &quot;Claire&quot;)\r\n  ]\r\n\r\n  User findById(String id) {\r\n    users.findAll { it.id == id }?.first()\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q70029352\r\n\r\nclass AnotherRepository {\r\n  List&lt;Another&gt; anothers = [\r\n    new Another(id: &quot;1&quot;, amount: 111),\r\n    new Another(id: &quot;2&quot;, amount: 222),\r\n    new Another(id: &quot;3&quot;, amount: 333)\r\n  ]\r\n\r\n  void removeTypeById(String id) {}\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q70029352\r\n\r\nclass UserService {\r\n  UserRepository userRepo\r\n  AnotherRepository anotherRepo\r\n\r\n  User findUser(String id){\r\n    anotherRepo.removeTypeById(id)\r\n    userRepo.findById(id)\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q70029352\r\n\r\nimport spock.lang.Specification\r\n\r\nclass UserServiceTest extends Specification {\r\n  UserRepository userRepoMock = Mock()\r\n  AnotherRepository anotherRepoMock = Mock()\r\n  UserService userServiceUnderTest = new UserService(userRepo: userRepoMock, anotherRepo: anotherRepoMock)\r\n  User testUser = new User(id: &quot;x&quot;, name: &quot;Xander&quot;)\r\n\r\n  def &quot;My Test&quot;() {\r\n    given:\r\n    String id = &quot;sample&quot;\r\n\r\n    // Like Leonard said, it would be better to move these interactions\r\n    // to the &#39;then:&#39; block. I am just trying to make your code run\r\n    // with minimal changes.\r\n    and:\r\n    1 * userRepoMock.findById(id) &gt;&gt; testUser\r\n    0 * anotherRepoMock._(*_)\r\n\r\n    when:\r\n    User user = userServiceUnderTest.findUser(id);\r\n\r\n    then:\r\n    user == testUser\r\n  }\r\n}\r\n```\r\n\r\nRunning this specification will yield the following error:\r\n\r\n```none\r\nToo many invocations for:\r\n\r\n0 * anotherRepoMock._(*_)   (1 invocation)\r\n\r\nMatching invocations (ordered by last occurrence):\r\n\r\n1 * anotherRepoMock.removeTypeById(&#39;sample&#39;)   &lt;-- this triggered the error\r\n```\r\n","title":"Java: Spock force to fail test on unrecorded mock invocation","body":"<p>IMO, you are overspecifying your test. This kind of test is bound to be brittle. You should not use interaction testing unless it is absolutely vital for verifying the correct application behaviour.</p>\n<p>Having said that, with what little information you provide in your question and some educated guesses, I think you might want something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>0 * anotherRepoMock._(*_)\n</code></pre>\n<p>Here is a full <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, which would have been your job to provide. Please do that next time, otherwise I am not going to answer again and others might not feel it is worth their time either.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q70029352\n\nclass User {\n  String id\n  String name\n\n  boolean equals(o) {\n    if (this.is(o)) return true\n    if (getClass() != o.class) return false\n\n    User user = (User) o\n\n    if (id != user.id) return false\n    if (name != user.name) return false\n\n    return true\n  }\n\n  int hashCode() {\n    int result\n    result = id.hashCode()\n    result = 31 * result + name.hashCode()\n    return result\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q70029352\n\nclass Another {\n  String id\n  int amount\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q70029352\n\nclass UserRepository {\n  List&lt;User&gt; users = [\n    new User(id: &quot;a&quot;, name: &quot;Alice&quot;),\n    new User(id: &quot;b&quot;, name: &quot;Bob&quot;),\n    new User(id: &quot;c&quot;, name: &quot;Claire&quot;)\n  ]\n\n  User findById(String id) {\n    users.findAll { it.id == id }?.first()\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q70029352\n\nclass AnotherRepository {\n  List&lt;Another&gt; anothers = [\n    new Another(id: &quot;1&quot;, amount: 111),\n    new Another(id: &quot;2&quot;, amount: 222),\n    new Another(id: &quot;3&quot;, amount: 333)\n  ]\n\n  void removeTypeById(String id) {}\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q70029352\n\nclass UserService {\n  UserRepository userRepo\n  AnotherRepository anotherRepo\n\n  User findUser(String id){\n    anotherRepo.removeTypeById(id)\n    userRepo.findById(id)\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q70029352\n\nimport spock.lang.Specification\n\nclass UserServiceTest extends Specification {\n  UserRepository userRepoMock = Mock()\n  AnotherRepository anotherRepoMock = Mock()\n  UserService userServiceUnderTest = new UserService(userRepo: userRepoMock, anotherRepo: anotherRepoMock)\n  User testUser = new User(id: &quot;x&quot;, name: &quot;Xander&quot;)\n\n  def &quot;My Test&quot;() {\n    given:\n    String id = &quot;sample&quot;\n\n    // Like Leonard said, it would be better to move these interactions\n    // to the 'then:' block. I am just trying to make your code run\n    // with minimal changes.\n    and:\n    1 * userRepoMock.findById(id) &gt;&gt; testUser\n    0 * anotherRepoMock._(*_)\n\n    when:\n    User user = userServiceUnderTest.findUser(id);\n\n    then:\n    user == testUser\n  }\n}\n</code></pre>\n<p>Running this specification will yield the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Too many invocations for:\n\n0 * anotherRepoMock._(*_)   (1 invocation)\n\nMatching invocations (ordered by last occurrence):\n\n1 * anotherRepoMock.removeTypeById('sample')   &lt;-- this triggered the error\n</code></pre>\n"}],"owner":{"account_id":1979243,"reputation":5103,"user_id":1817435,"accept_rate":67,"display_name":"Viraj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70034396,"answer_count":1,"score":0,"last_activity_date":1641446603,"creation_date":1637290976,"question_id":70029352,"body_markdown":"I have java code and test written using groovy spock. Normally test follows this pattern\r\n\r\nMy sample Java Code\r\n\r\n    public User findUser(String id){\r\n       return userRepo.findById(id);\r\n    }\r\n\r\nmy sample test\r\n\r\n    def &quot;My Test&quot;(){\r\n      given:\r\n      String id = &quot;sample&quot;\r\n    \r\n      and:\r\n      1 * userRepoMock.findById(id) &gt;&gt; testUser\r\n\r\n      when:\r\n      User user = userServiceUnderTest.findUser(id);\r\n   \r\n      then:\r\n      user == testUser\r\n    }\r\n\r\nwhere `and` contains mock with invocation count. \r\n\r\nNow imagine someone added another invocation to method in future. like\r\n\r\n    public User findUser(String id){\r\n       anotherRepo.removeTypeById(id);\r\n       return userRepo.findById(id);\r\n    }\r\n\r\neven with this code change above test will pass without any modification. How can i tell spock to fail on unrecorded mock invocation. in this case `anotherRepo.removeTypeById(id);` . I want if someone add another invocation he/she forced to update the test correctly ","title":"Java: Spock force to fail test on unrecorded mock invocation","body":"<p>I have java code and test written using groovy spock. Normally test follows this pattern</p>\n<p>My sample Java Code</p>\n<pre><code>public User findUser(String id){\n   return userRepo.findById(id);\n}\n</code></pre>\n<p>my sample test</p>\n<pre><code>def &quot;My Test&quot;(){\n  given:\n  String id = &quot;sample&quot;\n\n  and:\n  1 * userRepoMock.findById(id) &gt;&gt; testUser\n\n  when:\n  User user = userServiceUnderTest.findUser(id);\n\n  then:\n  user == testUser\n}\n</code></pre>\n<p>where <code>and</code> contains mock with invocation count.</p>\n<p>Now imagine someone added another invocation to method in future. like</p>\n<pre><code>public User findUser(String id){\n   anotherRepo.removeTypeById(id);\n   return userRepo.findById(id);\n}\n</code></pre>\n<p>even with this code change above test will pass without any modification. How can i tell spock to fail on unrecorded mock invocation. in this case <code>anotherRepo.removeTypeById(id);</code> . I want if someone add another invocation he/she forced to update the test correctly</p>\n"},{"tags":["java","junit","assert"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1641440490,"post_id":70602174,"comment_id":124807288,"body_markdown":"I didn&#39;t double check, but `is` might imply identity, i.e., they&#39;re the same object, which is obviously not true.  Try an `assertEquals` comparison.","body":"I didn&#39;t double check, but <code>is</code> might imply identity, i.e., they&#39;re the same object, which is obviously not true.  Try an <code>assertEquals</code> comparison."},{"owner":{"account_id":7668980,"reputation":2584,"user_id":5811874,"display_name":"Hanchen Jiang"},"score":1,"creation_date":1641440494,"post_id":70602174,"comment_id":124807289,"body_markdown":"Does this answer your question? [Comparing arrays in JUnit assertions, concise built-in way?](https://stackoverflow.com/questions/4228161/comparing-arrays-in-junit-assertions-concise-built-in-way)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4228161/comparing-arrays-in-junit-assertions-concise-built-in-way\">Comparing arrays in JUnit assertions, concise built-in way?</a>"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1641440731,"post_id":70602174,"comment_id":124807317,"body_markdown":"In Java, you CANNOT compare two different arrays with &quot;==&quot;.  Similarly, in  JUnit you cannot compare two arrays with &quot;is()&quot;.  You must use [assertArrayEquals](http://junit.sourceforge.net/javadoc/org/junit/Assert.html).","body":"In Java, you CANNOT compare two different arrays with &quot;==&quot;.  Similarly, in  JUnit you cannot compare two arrays with &quot;is()&quot;.  You must use <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Assert.html\" rel=\"nofollow noreferrer\">assertArrayEquals</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":4,"creation_date":1641440796,"post_id":70602174,"comment_id":124807325,"body_markdown":"`Arrays.asList(&quot;[WV, WV, …, DE]&quot;)` is a List containing exactly one element.  You probably meant to write `Arrays.asList(&quot;WV&quot;, &quot;WV&quot;, &quot;WI&quot;, &quot;WA&quot;, /*etc.*/, &quot;DE&quot;)`.  There should be no `[` or `]` in the code.","body":"<code>Arrays.asList(&quot;[WV, WV, …, DE]&quot;)</code> is a List containing exactly one element.  You probably meant to write <code>Arrays.asList(&quot;WV&quot;, &quot;WV&quot;, &quot;WI&quot;, &quot;WA&quot;, &#47;*etc.*&#47;, &quot;DE&quot;)</code>.  There should be no <code>[</code> or <code>]</code> in the code."},{"owner":{"account_id":18395771,"reputation":59,"user_id":13400263,"display_name":"Newbie Programmer"},"score":0,"creation_date":1641442196,"post_id":70602174,"comment_id":124807548,"body_markdown":"I edited the question... I tried to do it with assertArrayEquals but it continues wrong...","body":"I edited the question... I tried to do it with assertArrayEquals but it continues wrong..."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1641446605,"post_id":70602174,"comment_id":124808238,"body_markdown":"@DawoodibnKareem Since there were a few issues going on, I wasn’t sure if it was the answer, but now I’m convinced it is.","body":"@DawoodibnKareem Since there were a few issues going on, I wasn’t sure if it was the answer, but now I’m convinced it is."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1641507169,"post_id":70602174,"comment_id":124828856,"body_markdown":"@VGR Upvoted as promised","body":"@VGR Upvoted as promised"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641446542,"creation_date":1641446542,"answer_id":70602828,"question_id":70602174,"body_markdown":"In Java, `&quot;` characters specify a String value.  Not a List.  Just a single String value.\r\n\r\nThis:\r\n\r\n    &quot;[WV, WV, WI, WA, VA, TX, SD, PA, OH, ND, NC, NC, MB, MA, KS, FL, DE]&quot;\r\n\r\nis not a List.  It’s a single String object, whose value may happen to look like a List, but it’s not a List.  It is in double-quotes (`&quot;`), therefore it is a single String object.\r\n\r\nThis:\r\n\r\n    Arrays.asList(&quot;[WV, WV, WI, WA, VA, TX, SD, PA, OH, ND, NC, NC, MB, MA, KS, FL, DE]&quot;)\r\n\r\ncreate a List which contains *one element.*  It is a `List&lt;String&gt;` with a size of one.\r\n\r\n`Arrays.asList` does not attempt to parse Strings in any way.  You cannot specify a List of items inside a single String value.\r\n\r\nWhat you probably meant to write was this:\r\n\r\n    Arrays.asList(&quot;WV&quot;, &quot;WV&quot;, &quot;WI&quot;, &quot;WA&quot;, &quot;VA&quot;, &quot;TX&quot;, &quot;SD&quot;, &quot;PA&quot;, &quot;OH&quot;, &quot;ND&quot;, &quot;NC&quot;, &quot;NC&quot;, &quot;MB&quot;, &quot;MA&quot;, &quot;KS&quot;, &quot;FL&quot;, &quot;DE&quot;)\r\n\r\nNotice that are no `[` or `]` characters.  The List is comprised of individual String values, each specified as a separate argument to Arrays.asList.\r\n\r\nYou might find it easier to just compare the Lists directly:\r\n\r\n    Assert.assertEquals(&quot;Checking for correctly sorted list.&quot;,\r\n        Arrays.asList(&quot;WV&quot;, &quot;WV&quot;, &quot;WI&quot;, &quot;WA&quot;, &quot;VA&quot;, &quot;TX&quot;, &quot;SD&quot;, &quot;PA&quot;, &quot;OH&quot;, &quot;ND&quot;, &quot;NC&quot;, &quot;NC&quot;, &quot;MB&quot;, &quot;MA&quot;, &quot;KS&quot;, &quot;FL&quot;, &quot;DE&quot;),\r\n        Arrays.asList(df.sort(&quot;State&quot;, new SortDescending())));\r\n","title":"How to compare two Linked Lists correctly in JUnit?","body":"<p>In Java, <code>&quot;</code> characters specify a String value.  Not a List.  Just a single String value.</p>\n<p>This:</p>\n<pre><code>&quot;[WV, WV, WI, WA, VA, TX, SD, PA, OH, ND, NC, NC, MB, MA, KS, FL, DE]&quot;\n</code></pre>\n<p>is not a List.  It’s a single String object, whose value may happen to look like a List, but it’s not a List.  It is in double-quotes (<code>&quot;</code>), therefore it is a single String object.</p>\n<p>This:</p>\n<pre><code>Arrays.asList(&quot;[WV, WV, WI, WA, VA, TX, SD, PA, OH, ND, NC, NC, MB, MA, KS, FL, DE]&quot;)\n</code></pre>\n<p>create a List which contains <em>one element.</em>  It is a <code>List&lt;String&gt;</code> with a size of one.</p>\n<p><code>Arrays.asList</code> does not attempt to parse Strings in any way.  You cannot specify a List of items inside a single String value.</p>\n<p>What you probably meant to write was this:</p>\n<pre><code>Arrays.asList(&quot;WV&quot;, &quot;WV&quot;, &quot;WI&quot;, &quot;WA&quot;, &quot;VA&quot;, &quot;TX&quot;, &quot;SD&quot;, &quot;PA&quot;, &quot;OH&quot;, &quot;ND&quot;, &quot;NC&quot;, &quot;NC&quot;, &quot;MB&quot;, &quot;MA&quot;, &quot;KS&quot;, &quot;FL&quot;, &quot;DE&quot;)\n</code></pre>\n<p>Notice that are no <code>[</code> or <code>]</code> characters.  The List is comprised of individual String values, each specified as a separate argument to Arrays.asList.</p>\n<p>You might find it easier to just compare the Lists directly:</p>\n<pre><code>Assert.assertEquals(&quot;Checking for correctly sorted list.&quot;,\n    Arrays.asList(&quot;WV&quot;, &quot;WV&quot;, &quot;WI&quot;, &quot;WA&quot;, &quot;VA&quot;, &quot;TX&quot;, &quot;SD&quot;, &quot;PA&quot;, &quot;OH&quot;, &quot;ND&quot;, &quot;NC&quot;, &quot;NC&quot;, &quot;MB&quot;, &quot;MA&quot;, &quot;KS&quot;, &quot;FL&quot;, &quot;DE&quot;),\n    Arrays.asList(df.sort(&quot;State&quot;, new SortDescending())));\n</code></pre>\n"}],"owner":{"account_id":18395771,"reputation":59,"user_id":13400263,"display_name":"Newbie Programmer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1641446542,"creation_date":1641440334,"question_id":70602174,"body_markdown":"I have the following sentence:\r\n\r\n \r\n\r\n    assertArrayEquals(Arrays.asList(df.sort(&quot;State&quot;, new SortDescending())).toArray(),Arrays.asList(&quot;[WV, WV, WI, WA, VA, TX, SD, PA, OH, ND, NC, NC, MB, MA, KS, FL, DE]&quot;).toArray());\r\n\r\nThe return of the function is a List&lt; Object &gt; and it contains:\r\n\r\n    [WV, WV, WI, WA, VA, TX, SD, PA, OH, ND, NC, NC, MB, MA, KS, FL, DE]\r\n\r\nThe error is:\r\n\r\n    Expected :java.util.LinkedList&lt;[WV, WV, WI, WA, VA, TX, SD, PA, OH, ND, NC, NC, MB, MA, KS, FL, DE]&gt;\r\n    Actual   :java.lang.String&lt;[WV, WV, WI, WA, VA, TX, SD, PA, OH, ND, NC, NC, MB, MA, KS, FL, DE]&gt;\r\n\r\nWhy i don&#39;t pass the test when I compare these two lists?","title":"How to compare two Linked Lists correctly in JUnit?","body":"<p>I have the following sentence:</p>\n<pre><code>assertArrayEquals(Arrays.asList(df.sort(&quot;State&quot;, new SortDescending())).toArray(),Arrays.asList(&quot;[WV, WV, WI, WA, VA, TX, SD, PA, OH, ND, NC, NC, MB, MA, KS, FL, DE]&quot;).toArray());\n</code></pre>\n<p>The return of the function is a List&lt; Object &gt; and it contains:</p>\n<pre><code>[WV, WV, WI, WA, VA, TX, SD, PA, OH, ND, NC, NC, MB, MA, KS, FL, DE]\n</code></pre>\n<p>The error is:</p>\n<pre><code>Expected :java.util.LinkedList&lt;[WV, WV, WI, WA, VA, TX, SD, PA, OH, ND, NC, NC, MB, MA, KS, FL, DE]&gt;\nActual   :java.lang.String&lt;[WV, WV, WI, WA, VA, TX, SD, PA, OH, ND, NC, NC, MB, MA, KS, FL, DE]&gt;\n</code></pre>\n<p>Why i don't pass the test when I compare these two lists?</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":413542,"reputation":2371,"user_id":787255,"accept_rate":58,"display_name":"sawan"},"score":0,"creation_date":1641445902,"post_id":70602687,"comment_id":124808121,"body_markdown":"will you add - what&#39;s the exception you got","body":"will you add - what&#39;s the exception you got"},{"owner":{"account_id":413542,"reputation":2371,"user_id":787255,"accept_rate":58,"display_name":"sawan"},"score":0,"creation_date":1641446006,"post_id":70602687,"comment_id":124808136,"body_markdown":"add how are you reading the json","body":"add how are you reading the json"}],"answers":[{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641446153,"creation_date":1641446153,"answer_id":70602785,"question_id":70602687,"body_markdown":"I think the problem is about repeated quotes\r\n```js\r\n\\&quot;\\&quot;shcheong\\&quot;\\&quot;\r\n```\r\n\r\nIf you want to put `&quot;` as a part of the JSON attribute, you have to double escape the character.\r\n\r\n```java\r\nString str = &quot;{ \\&quot;name\\&quot;: \\&quot;\\\\\\&quot;shcheong\\\\\\&quot;\\&quot;, \\&quot;age\\&quot;: 27 }&quot;;\r\n```\r\n\r\nOr you can apply `String.format` to make code less verbose.\r\n\r\n```java\r\nString str = String.format(&quot;{ \\&quot;name\\&quot;: \\&quot;%s\\&quot;, \\&quot;age\\&quot;: 27 }&quot;, &quot;\\\\\\&quot;shcheong\\\\\\&quot;&quot;)\r\n```","title":"Jackson json string -&gt; object convert problem","body":"<p>I think the problem is about repeated quotes</p>\n<pre class=\"lang-js prettyprint-override\"><code>\\&quot;\\&quot;shcheong\\&quot;\\&quot;\n</code></pre>\n<p>If you want to put <code>&quot;</code> as a part of the JSON attribute, you have to double escape the character.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;{ \\&quot;name\\&quot;: \\&quot;\\\\\\&quot;shcheong\\\\\\&quot;\\&quot;, \\&quot;age\\&quot;: 27 }&quot;;\n</code></pre>\n<p>Or you can apply <code>String.format</code> to make code less verbose.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = String.format(&quot;{ \\&quot;name\\&quot;: \\&quot;%s\\&quot;, \\&quot;age\\&quot;: 27 }&quot;, &quot;\\\\\\&quot;shcheong\\\\\\&quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":17753006,"reputation":11,"user_id":12890652,"display_name":"Seok Hyun Cheong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1641446437,"creation_date":1641445342,"question_id":70602687,"body_markdown":"I want to convert this string.\r\n```\r\nString str = &quot;{ \\&quot;name\\&quot;: \\&quot;\\&quot;shcheong\\&quot;\\&quot;, \\&quot;age\\&quot;: 27 }&quot;;\r\n```\r\n\r\nI expect to print name &quot;shcheong&quot; using jackson. but jackson can&#39;t convert and throw exception.\r\n\r\nHow can I convert to &quot;shcheong&quot;.\r\n\r\n======Edit======\r\n\r\nadd my code.\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nTestDTO testDTO = mapper.readValue(str, TestDTO.class);\r\n        \r\nSystem.out.println(testDTO.getName());\r\nSystem.out.println(testDTO.getAge());\r\n```\r\n\r\nAnd\r\nTestDTO.class\r\n```\r\npublic TestDTO {\r\n    private String name;\r\n    private int age;\r\n\r\n    ----via Getter and Setter----\r\n}\r\n```","title":"Jackson json string -&gt; object convert problem","body":"<p>I want to convert this string.</p>\n<pre><code>String str = &quot;{ \\&quot;name\\&quot;: \\&quot;\\&quot;shcheong\\&quot;\\&quot;, \\&quot;age\\&quot;: 27 }&quot;;\n</code></pre>\n<p>I expect to print name &quot;shcheong&quot; using jackson. but jackson can't convert and throw exception.</p>\n<p>How can I convert to &quot;shcheong&quot;.</p>\n<p>======Edit======</p>\n<p>add my code.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nTestDTO testDTO = mapper.readValue(str, TestDTO.class);\n        \nSystem.out.println(testDTO.getName());\nSystem.out.println(testDTO.getAge());\n</code></pre>\n<p>And\nTestDTO.class</p>\n<pre><code>public TestDTO {\n    private String name;\n    private int age;\n\n    ----via Getter and Setter----\n}\n</code></pre>\n"},{"tags":["java",".class-file"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1641476728,"post_id":70602490,"comment_id":124817291,"body_markdown":"So `a` is not declared `private`? Then, you can simply add another class to the package providing you a method to read out the field, so you only have to compile your new class instead of the decompiled class.","body":"So <code>a</code> is not declared <code>private</code>? Then, you can simply add another class to the package providing you a method to read out the field, so you only have to compile your new class instead of the decompiled class."},{"owner":{"account_id":10986311,"reputation":165,"user_id":8071915,"display_name":"Col-E"},"score":0,"creation_date":1642536843,"post_id":70602490,"comment_id":125095930,"body_markdown":"Hi, I made Recaf. If the decompile-recompile feature isn&#39;t working (due to obf for example) you can use the assembler to make your changes. Its all on the documentation, which you can find via the help menu.","body":"Hi, I made Recaf. If the decompile-recompile feature isn&#39;t working (due to obf for example) you can use the assembler to make your changes. Its all on the documentation, which you can find via the help menu."},{"owner":{"account_id":23841979,"reputation":21,"user_id":17846918,"display_name":"Matt S"},"score":0,"creation_date":1643539034,"post_id":70602490,"comment_id":125362443,"body_markdown":"Thanks Col-E ill make sure to try that next time (the developer added the feature I needed)","body":"Thanks Col-E ill make sure to try that next time (the developer added the feature I needed)"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641445672,"creation_date":1641445365,"answer_id":70602692,"question_id":70602490,"body_markdown":"You are trying to edit an obfuscated JAR file.\r\n\r\nObfuscated JAR files are created by the vendor with the express intention of preventing you from modifying the code.  And one of the things that a good code obfuscator will do is to transform the bytecodes in a way that makes it difficult for a decompilation tool (such as the one you are using) to produce valid (i.e. compilable) Java source code.\r\n\r\nThat is what has happened here.  The decompiler you are using has produced invalid Java source code.\r\n\r\nWhat can you do?\r\n\r\n  - You could try a different decompiler.\r\n\r\n  - You could try reading the bytecodes yourself to work out what the correct code should be (for each of the errors) and then fix the source code.  (But that will be hard for a novice Java programmer.)\r\n\r\n  - You could ask the vendor of the software to provide you with a copy of the (real) source code.\r\n\r\n  - You could just stop.  If you read the license for the software you are trying to modify, you will probably find that it forbids decompilation, reverse engineering, and so on.\r\n\r\n\r\n------------------------\r\n\r\nNote that since what you are doing could well be illegal, we would be ill-advised to assist you.  It would put us (StackExchange Inc, and the people who assisted you) in a legally awkward position.\r\n","title":"How to easily edit a .class file","body":"<p>You are trying to edit an obfuscated JAR file.</p>\n<p>Obfuscated JAR files are created by the vendor with the express intention of preventing you from modifying the code.  And one of the things that a good code obfuscator will do is to transform the bytecodes in a way that makes it difficult for a decompilation tool (such as the one you are using) to produce valid (i.e. compilable) Java source code.</p>\n<p>That is what has happened here.  The decompiler you are using has produced invalid Java source code.</p>\n<p>What can you do?</p>\n<ul>\n<li><p>You could try a different decompiler.</p>\n</li>\n<li><p>You could try reading the bytecodes yourself to work out what the correct code should be (for each of the errors) and then fix the source code.  (But that will be hard for a novice Java programmer.)</p>\n</li>\n<li><p>You could ask the vendor of the software to provide you with a copy of the (real) source code.</p>\n</li>\n<li><p>You could just stop.  If you read the license for the software you are trying to modify, you will probably find that it forbids decompilation, reverse engineering, and so on.</p>\n</li>\n</ul>\n<hr />\n<p>Note that since what you are doing could well be illegal, we would be ill-advised to assist you.  It would put us (StackExchange Inc, and the people who assisted you) in a legally awkward position.</p>\n"}],"owner":{"account_id":23841979,"reputation":21,"user_id":17846918,"display_name":"Matt S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641445672,"creation_date":1641443446,"question_id":70602490,"body_markdown":"I have a .jar file WHICH I DID NOT CREATE with many class files inside. I need to edit one specific class file. I have jd-gui. The unedited code of this class file, as shown by JD is:\r\n```\r\npackage net;\r\n\r\nimport java.util.UUID;\r\n\r\npublic class a1b {\r\n  XF a = aTt.e();\r\n\r\n@aez\r\n  public int getFoodLevel() {\r\n    return aFO.q(this.a.aa).b();\r\n  }\r\n\r\n@aez\r\n  public void setSlot(int paramInt) {\r\n    this.a.aa.ba.b = paramInt;\r\n  }\r\n}\r\n```\r\n\r\nwhat I would like to change it to is: \r\n```\r\npackage net;\r\n\r\nimport java.util.UUID;\r\n\r\npublic class a1b {\r\n  XF a = aTt.e();\r\n\r\n@aez\r\n  public int getFoodLevel() {\r\n    return aFO.q(this.a.aa).b();\r\n  }\r\n\r\n@aez\r\n  public void setSlot(int paramInt) {\r\n    this.a.aa.ba.b = paramInt;\r\n  }\r\n\r\n@aez\r\n  public int getSlot() {\r\n    return this.a.aa.ba.b;\r\n  }\r\n}\r\n```\r\nso i just want to add a simple function that returns the value of &quot;this.a.aa.ba.b&quot; (the player slot in the game this class file is in) (the jar file is obfuscated)\r\n\r\ni am very new to java, i&#39;ve tried a few different ways including recaf, however recaf doesnt work as the file is obfuscated and fails with &quot;compilation error&quot;.\r\n\r\nthis compilation error does not occur due to my added function, instead there are a few other functions in there which i did not include as they aren&#39;t related to this question which stop it from compiling. when i delete the offending functions it compiles.","title":"How to easily edit a .class file","body":"<p>I have a .jar file WHICH I DID NOT CREATE with many class files inside. I need to edit one specific class file. I have jd-gui. The unedited code of this class file, as shown by JD is:</p>\n<pre><code>package net;\n\nimport java.util.UUID;\n\npublic class a1b {\n  XF a = aTt.e();\n\n@aez\n  public int getFoodLevel() {\n    return aFO.q(this.a.aa).b();\n  }\n\n@aez\n  public void setSlot(int paramInt) {\n    this.a.aa.ba.b = paramInt;\n  }\n}\n</code></pre>\n<p>what I would like to change it to is:</p>\n<pre><code>package net;\n\nimport java.util.UUID;\n\npublic class a1b {\n  XF a = aTt.e();\n\n@aez\n  public int getFoodLevel() {\n    return aFO.q(this.a.aa).b();\n  }\n\n@aez\n  public void setSlot(int paramInt) {\n    this.a.aa.ba.b = paramInt;\n  }\n\n@aez\n  public int getSlot() {\n    return this.a.aa.ba.b;\n  }\n}\n</code></pre>\n<p>so i just want to add a simple function that returns the value of &quot;this.a.aa.ba.b&quot; (the player slot in the game this class file is in) (the jar file is obfuscated)</p>\n<p>i am very new to java, i've tried a few different ways including recaf, however recaf doesnt work as the file is obfuscated and fails with &quot;compilation error&quot;.</p>\n<p>this compilation error does not occur due to my added function, instead there are a few other functions in there which i did not include as they aren't related to this question which stop it from compiling. when i delete the offending functions it compiles.</p>\n"},{"tags":["java","debugging","operators","invalid-argument"],"comments":[{"owner":{"account_id":20397849,"reputation":115,"user_id":14964236,"display_name":"Richard"},"score":0,"creation_date":1641445034,"post_id":70602619,"comment_id":124807986,"body_markdown":"Not sure about using ++ or -- directly on the method call - but it looks like your setter is always going to make th e value 1, regardless of whether you can get the operation to work. Just an idea - could you just create new methods `addHealthPotion()` and `consumeHealthPotion`?","body":"Not sure about using ++ or -- directly on the method call - but it looks like your setter is always going to make th e value 1, regardless of whether you can get the operation to work. Just an idea - could you just create new methods <code>addHealthPotion()</code> and <code>consumeHealthPotion</code>?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1641451684,"post_id":70602619,"comment_id":124809145,"body_markdown":"In the `setNumHealthPotions()` setter method, the line: `this.numHealthPotions = 1;` should be: `this.numHealthPotions = numHealthPotions;`.","body":"In the <code>setNumHealthPotions()</code> setter method, the line: <code>this.numHealthPotions = 1;</code> should be: <code>this.numHealthPotions = numHealthPotions;</code>."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641444939,"creation_date":1641444939,"answer_id":70602648,"question_id":70602619,"body_markdown":"`++` and `--` are assignment operators. You can&#39;t assign a value to a method. You&#39;ll have to call both `get` and `set` to read and assign:\r\n\r\n    game.setNumHealthPotions(game.getNumHealthPotions() + 1);\r\n\r\nOr you can add an increment method if it&#39;s a common use case:\r\n\r\n    public int incrementNumHealthPotions(int increment) {\r\n        return this.numHealthPotions += increment;\r\n    }\r\n\r\nCalled like this:\r\n\r\n    game.incrementNumHealthPotions(-1);","title":"How can I fix an invalid arugement operator in Java?","body":"<p><code>++</code> and <code>--</code> are assignment operators. You can't assign a value to a method. You'll have to call both <code>get</code> and <code>set</code> to read and assign:</p>\n<pre><code>game.setNumHealthPotions(game.getNumHealthPotions() + 1);\n</code></pre>\n<p>Or you can add an increment method if it's a common use case:</p>\n<pre><code>public int incrementNumHealthPotions(int increment) {\n    return this.numHealthPotions += increment;\n}\n</code></pre>\n<p>Called like this:</p>\n<pre><code>game.incrementNumHealthPotions(-1);\n</code></pre>\n"}],"owner":{"account_id":23842133,"reputation":1,"user_id":17847058,"display_name":"Dan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641444939,"creation_date":1641444667,"question_id":70602619,"body_markdown":"I&#39;m struggling to debug my code. There is this one error after getting my instance and trying to substract 1 from my instance variable the code give me an error. I tried to debug many times but I couldn&#39;t figure it out. The error is invalid arguement to operation ++/--\r\n \r\n       game.setNumHealthPotions(game.getNumHealthPotions()--); // The Second game.getNumHealhPotions has the error.\r\n\r\n2nd error \r\n    \r\n ```  game.setNumHealthPotions(game.getNumHealthPotions++);``` \r\n\r\n\r\nMy setters and getters both lines\r\n\r\n    public void setNumHealthPotions(int numHealthPotions){\r\n        this.numHealthPotions = 1;\r\n    }\r\n\r\n      public int getNumHealthPotions(){\r\n        return numHealthPotions;\r\n    }\r\n\r\n","title":"How can I fix an invalid arugement operator in Java?","body":"<p>I'm struggling to debug my code. There is this one error after getting my instance and trying to substract 1 from my instance variable the code give me an error. I tried to debug many times but I couldn't figure it out. The error is invalid arguement to operation ++/--</p>\n<pre><code>   game.setNumHealthPotions(game.getNumHealthPotions()--); // The Second game.getNumHealhPotions has the error.\n</code></pre>\n<p>2nd error</p>\n<p><code>  game.setNumHealthPotions(game.getNumHealthPotions++);</code></p>\n<p>My setters and getters both lines</p>\n<pre><code>public void setNumHealthPotions(int numHealthPotions){\n    this.numHealthPotions = 1;\n}\n\n  public int getNumHealthPotions(){\n    return numHealthPotions;\n}\n</code></pre>\n"},{"tags":["java","amazon-dynamodb"],"comments":[{"owner":{"account_id":5172945,"reputation":917,"user_id":4140943,"display_name":"finder2"},"score":0,"creation_date":1629270993,"post_id":68825022,"comment_id":121639209,"body_markdown":"thank you for your post. To help your better a minimized code example would be better. \nI also ask myself why don&#39;t you execute the code in a simple stand-alone test-application?","body":"thank you for your post. To help your better a minimized code example would be better.  I also ask myself why don&#39;t you execute the code in a simple stand-alone test-application?"}],"answers":[{"tags":[],"owner":{"account_id":17725449,"reputation":51,"user_id":12869305,"display_name":"Alex A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641444868,"creation_date":1641444868,"answer_id":70602639,"question_id":68825022,"body_markdown":"I would recommend you to implement your own converter using @DynamoDbConvertedBy (the official dynamodb-enhanced client). \r\n\r\nHopefully, this sample is helpful: https://stackoverflow.com/a/70602166/12869305","title":"How to use a @DynamoDBAttribute of Hashmap&lt;String, @DynamoDBDocument&gt;","body":"<p>I would recommend you to implement your own converter using @DynamoDbConvertedBy (the official dynamodb-enhanced client).</p>\n<p>Hopefully, this sample is helpful: <a href=\"https://stackoverflow.com/a/70602166/12869305\">https://stackoverflow.com/a/70602166/12869305</a></p>\n"}],"owner":{"account_id":22495069,"reputation":1,"user_id":16692196,"display_name":"BryceLanglotz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641444868,"creation_date":1629242478,"question_id":68825022,"body_markdown":"I understand there may be cleaner ways to store these data, I&#39;m skipping that part for the sake of my sanity in dealing with legacy code.\r\n\r\nI want to store an object that looks like this in DynamoDB:\r\n\r\n```\r\n@DynamoDBTable(tableName=&quot;TableName&quot;)\r\npublic class MyItem {\r\n\r\n    // DynamoDB Attributes\r\n    private String hashKey;\r\n    private String someAttribute;\r\n    private Map&lt;String, Config&gt; configs;\r\n\r\n    @DynamoDBHashKey(attributeName = &quot;hash_key&quot;)\r\n    public String getHashKey() {\r\n        return this.hashKey;\r\n    }\r\n    public void setHashKey(String hashKey) {\r\n        this.hashKey = hashKey;\r\n    }\r\n\r\n    @DynamoDBAttribute(attributeName = &quot;some_attribute&quot;)\r\n    public String getSomeAttribute() {\r\n        return this.someAttribute;\r\n    }\r\n    public void setSomeAttribute(String someAttribute ) {\r\n        this.someAttribute = someAttribute;\r\n    }\r\n\r\n    @DynamoDBAttribute(attributeName = &quot;configs&quot;)\r\n    public Map&lt;String, Config&gt; getConfigs() {\r\n        return this.configs;\r\n    }\r\n    public void setConfigs(Map&lt;String, Config&gt; configs) \r\n    {\r\n        this.configs = configs;\r\n    }\r\n}\r\n```\r\n\r\nWith a supplemental class\r\n\r\n```\r\n@DynamoDBDocument\r\npublic class Config {\r\n    private String field;\r\n\r\n    @DynamoDBAttribute(attributeName=&quot;field&quot;)\r\n    public String getField() {\r\n        return field;\r\n    }\r\n    public void setField(String field) {\r\n        this.field = field;\r\n    }\r\n}\r\n```\r\n\r\n1. Will this work as written?\r\n2. What would the resulting entry look like in DynamoDB for the following JSON:\r\n```\r\n{\r\n    &quot;hash_key&quot;:&quot;123&quot;,\r\n    &quot;some_attribute&quot;:&quot;attribute_value&quot;,\r\n    &quot;a_config_key&quot; : {\r\n        &quot;field&quot;:&quot;field_value&quot;\r\n    }\r\n}\r\n```","title":"How to use a @DynamoDBAttribute of Hashmap&lt;String, @DynamoDBDocument&gt;","body":"<p>I understand there may be cleaner ways to store these data, I'm skipping that part for the sake of my sanity in dealing with legacy code.</p>\n<p>I want to store an object that looks like this in DynamoDB:</p>\n<pre><code>@DynamoDBTable(tableName=&quot;TableName&quot;)\npublic class MyItem {\n\n    // DynamoDB Attributes\n    private String hashKey;\n    private String someAttribute;\n    private Map&lt;String, Config&gt; configs;\n\n    @DynamoDBHashKey(attributeName = &quot;hash_key&quot;)\n    public String getHashKey() {\n        return this.hashKey;\n    }\n    public void setHashKey(String hashKey) {\n        this.hashKey = hashKey;\n    }\n\n    @DynamoDBAttribute(attributeName = &quot;some_attribute&quot;)\n    public String getSomeAttribute() {\n        return this.someAttribute;\n    }\n    public void setSomeAttribute(String someAttribute ) {\n        this.someAttribute = someAttribute;\n    }\n\n    @DynamoDBAttribute(attributeName = &quot;configs&quot;)\n    public Map&lt;String, Config&gt; getConfigs() {\n        return this.configs;\n    }\n    public void setConfigs(Map&lt;String, Config&gt; configs) \n    {\n        this.configs = configs;\n    }\n}\n</code></pre>\n<p>With a supplemental class</p>\n<pre><code>@DynamoDBDocument\npublic class Config {\n    private String field;\n\n    @DynamoDBAttribute(attributeName=&quot;field&quot;)\n    public String getField() {\n        return field;\n    }\n    public void setField(String field) {\n        this.field = field;\n    }\n}\n</code></pre>\n<ol>\n<li>Will this work as written?</li>\n<li>What would the resulting entry look like in DynamoDB for the following JSON:</li>\n</ol>\n<pre><code>{\n    &quot;hash_key&quot;:&quot;123&quot;,\n    &quot;some_attribute&quot;:&quot;attribute_value&quot;,\n    &quot;a_config_key&quot; : {\n        &quot;field&quot;:&quot;field_value&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","lambda","java-stream","predicate"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1590405561,"post_id":62001329,"comment_id":109658355,"body_markdown":"Do you mean you need to find that last element of your `Stream` that passes that filter? Is `forloebs` a `List`?","body":"Do you mean you need to find that last element of your <code>Stream</code> that passes that filter? Is <code>forloebs</code> a <code>List</code>?"},{"owner":{"account_id":7562599,"reputation":6043,"user_id":6083675,"accept_rate":29,"display_name":"Laurel"},"score":0,"creation_date":1641444471,"post_id":62001329,"comment_id":124807898,"body_markdown":"Why was the code removed?","body":"Why was the code removed?"},{"owner":{"account_id":17180072,"reputation":393,"user_id":12435623,"display_name":"not-a-bug"},"score":0,"creation_date":1641449622,"post_id":62001329,"comment_id":124808774,"body_markdown":"as it was not a sample code","body":"as it was not a sample code"}],"answers":[{"tags":[],"owner":{"account_id":16249442,"reputation":4026,"user_id":11733759,"display_name":"lczapski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590416643,"creation_date":1590408963,"answer_id":62002228,"question_id":62001329,"body_markdown":"You have to check all elements in stream. You can collect all filtered elements to `LinkedList` and get the last one. \r\n```java\r\nforloebs.stream()\r\n.filter(predicate)\r\n.collect(Collectors.toCollection(LinkedList::new)).peekLast();\r\n```\r\n[peekLast][1] will return `null` if this list is empty.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html#peekLast()","title":"Stream filter using Predicate to fetch latest record","body":"<p>You have to check all elements in stream. You can collect all filtered elements to <code>LinkedList</code> and get the last one. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>forloebs.stream()\n.filter(predicate)\n.collect(Collectors.toCollection(LinkedList::new)).peekLast();\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html#peekLast()\" rel=\"nofollow noreferrer\">peekLast</a> will return <code>null</code> if this list is empty.</p>\n"},{"tags":[],"owner":{"account_id":10277084,"reputation":2760,"user_id":7583619,"display_name":"lucid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641444834,"creation_date":1590409234,"answer_id":62002301,"question_id":62001329,"body_markdown":"You can use the `max` function to get latest incident that matches your `completeincident` condition.\r\n\r\n    Optional&lt;Incident&gt; latestIncident = forloebs.stream()\r\n     .filter(completeincident)\r\n     .max(Comparator.comparing(x -&gt; x.getDateIncident()));\r\n\r\nThe comparator will keep the latest element based on `getDateIncident`.\r\n\r\nIt will return `Optional.Empty` if none of them matches filter criteria.","title":"Stream filter using Predicate to fetch latest record","body":"<p>You can use the <code>max</code> function to get latest incident that matches your <code>completeincident</code> condition.</p>\n<pre><code>Optional&lt;Incident&gt; latestIncident = forloebs.stream()\n .filter(completeincident)\n .max(Comparator.comparing(x -&gt; x.getDateIncident()));\n</code></pre>\n<p>The comparator will keep the latest element based on <code>getDateIncident</code>.</p>\n<p>It will return <code>Optional.Empty</code> if none of them matches filter criteria.</p>\n"}],"owner":{"account_id":17180072,"reputation":393,"user_id":12435623,"display_name":"not-a-bug"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1218,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1641444834,"creation_date":1590405427,"question_id":62001329,"body_markdown":"I have a method of type boolean which returns stream of data of Predicate type Incident, I want to filter out the latest incident only.\r\n","title":"Stream filter using Predicate to fetch latest record","body":"<p>I have a method of type boolean which returns stream of data of Predicate type Incident, I want to filter out the latest incident only.</p>\n"},{"tags":["java","annotations","intellij-idea"],"comments":[{"owner":{"account_id":414094,"reputation":3948,"user_id":788109,"accept_rate":86,"display_name":"Scorpion"},"score":2,"creation_date":1327655261,"post_id":9030986,"comment_id":11326636,"body_markdown":"easy to do in eclipse, don&#39;t know about intellij.","body":"easy to do in eclipse, don&#39;t know about intellij."},{"owner":{"account_id":38141,"reputation":107731,"user_id":109305,"accept_rate":85,"display_name":"Jesper R&#248;nn-Jensen"},"score":2,"creation_date":1327655954,"post_id":9030986,"comment_id":11326790,"body_markdown":"How would you do it in Eclipse, then? It could be helpful for readers of this question to know :)","body":"How would you do it in Eclipse, then? It could be helpful for readers of this question to know :)"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1327656089,"creation_date":1327656089,"answer_id":9031152,"question_id":9030986,"body_markdown":"Easily done with &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; intention, then press **Right arrow** for the sub-menu:\r\n\r\n![Fix all][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/FUM0r.png","title":"IntelliJ is it possible to add @Overrides to all methods of a particular interface?","body":"<p>Easily done with <kbd>Alt</kbd>+<kbd>Enter</kbd> intention, then press <strong>Right arrow</strong> for the sub-menu:</p>\n\n<p><img src=\"https://i.stack.imgur.com/FUM0r.png\" alt=\"Fix all\"></p>\n"},{"tags":[],"owner":{"account_id":38141,"reputation":107731,"user_id":109305,"accept_rate":85,"display_name":"Jesper R&#248;nn-Jensen"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1327656327,"creation_date":1327656327,"answer_id":9031205,"question_id":9030986,"body_markdown":"I found a way to do it with the simple find/replace tool. \r\n\r\n1. First i changed a method name to provoke all files implementing the interface to change\r\n2. Then i created a simple find/replace to look only in changed files.\r\n\r\n![Intellij Add @override for tests in changed files only][1]\r\n\r\n\r\nThis works in my particular case, because there were not really any other methods in the class files. I will assume this will be a bit more crazy if i had a lot of methods in the files belonging to other interfaces\r\n\r\n  [1]: http://i.stack.imgur.com/RBknv.png","title":"IntelliJ is it possible to add @Overrides to all methods of a particular interface?","body":"<p>I found a way to do it with the simple find/replace tool. </p>\n\n<ol>\n<li>First i changed a method name to provoke all files implementing the interface to change</li>\n<li>Then i created a simple find/replace to look only in changed files.</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/RBknv.png\" alt=\"Intellij Add @override for tests in changed files only\"></p>\n\n<p>This works in my particular case, because there were not really any other methods in the class files. I will assume this will be a bit more crazy if i had a lot of methods in the files belonging to other interfaces</p>\n"},{"tags":[],"owner":{"account_id":79918,"reputation":902,"user_id":226295,"accept_rate":54,"display_name":"manocha_ak"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1327658434,"creation_date":1327658434,"answer_id":9031563,"question_id":9030986,"body_markdown":"Its not eclipse or idea specfic. Its compiler specfic and what compliance you adhere to. \r\nIn eclipse its 1.6 or higher.\r\nAnd In idea I believe its for 1.5 or higher.\r\n\r\nIn the above cases it will bechecked automatically by respective IDEs.","title":"IntelliJ is it possible to add @Overrides to all methods of a particular interface?","body":"<p>Its not eclipse or idea specfic. Its compiler specfic and what compliance you adhere to. \nIn eclipse its 1.6 or higher.\nAnd In idea I believe its for 1.5 or higher.</p>\n\n<p>In the above cases it will bechecked automatically by respective IDEs.</p>\n"},{"tags":[],"owner":{"account_id":2261924,"reputation":570,"user_id":1991776,"display_name":"user1991776"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1397157857,"creation_date":1397157857,"answer_id":22997202,"question_id":9030986,"body_markdown":"For IntelliJ:\r\n\r\n 1. Check if you have &quot;Missing @Override annotation&quot; checked inside Preferences -&gt; Project Settings -&gt; Inspections -&gt; Inheritance issues.\r\n 2. Use Analyze -&gt; Inspect Code\r\n 3. Find Inheritance issues -&gt; Missing @Override annotation inside &quot;Results for Inspection Profile&quot; window.\r\n 4. Apply fix &quot;Add @Override annotation&quot;\r\n![Apply fix &quot;Add @Override annotation&quot;][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/IUx55.png","title":"IntelliJ is it possible to add @Overrides to all methods of a particular interface?","body":"<p>For IntelliJ:</p>\n\n<ol>\n<li>Check if you have \"Missing @Override annotation\" checked inside Preferences -> Project Settings -> Inspections -> Inheritance issues.</li>\n<li>Use Analyze -> Inspect Code</li>\n<li>Find Inheritance issues -> Missing @Override annotation inside \"Results for Inspection Profile\" window.</li>\n<li>Apply fix \"Add @Override annotation\"\n<img src=\"https://i.stack.imgur.com/IUx55.png\" alt=\"Apply fix &quot;Add @Override annotation&quot;\"></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3119757,"reputation":2028,"user_id":2639772,"display_name":"Jose Manuel Gomez Alvarez"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1473788679,"creation_date":1473788679,"answer_id":39476064,"question_id":9030986,"body_markdown":"For Eclipse (tested on Mars.2):\r\n\r\nWindow / Preferences (or Project Properties)\r\n  Java / Compiler\r\n    Error/Warnings\r\n      Annotations\r\n        Missing @Override annotation - Set to Error (or Warning)\r\n\r\nAfter the rebuild workspace, in the Markers view, right click on one of the errors, Quick Fix (Ctrl+1) and all the errors should appear. Select all and apply the fix.\r\n\r\nThis worked for me to properly annotate a few hundreds of classes...\r\n","title":"IntelliJ is it possible to add @Overrides to all methods of a particular interface?","body":"<p>For Eclipse (tested on Mars.2):</p>\n\n<p>Window / Preferences (or Project Properties)\n  Java / Compiler\n    Error/Warnings\n      Annotations\n        Missing @Override annotation - Set to Error (or Warning)</p>\n\n<p>After the rebuild workspace, in the Markers view, right click on one of the errors, Quick Fix (Ctrl+1) and all the errors should appear. Select all and apply the fix.</p>\n\n<p>This worked for me to properly annotate a few hundreds of classes...</p>\n"}],"owner":{"account_id":38141,"reputation":107731,"user_id":109305,"accept_rate":85,"display_name":"Jesper R&#248;nn-Jensen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15016,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":9031152,"answer_count":5,"score":52,"last_activity_date":1641444599,"creation_date":1327655140,"question_id":9030986,"body_markdown":"I have created an interface, with about 30 methods and implemented in 30 classes.\r\n\r\nI want to add @Override to each of the implementations, but i would like not to do it by hand. \r\n\r\nHow can IntelliJ help me?\r\n\r\ninterface looks like this:\r\n\r\n    public interface PreviewObjectTests {\r\n        void testGetName();\r\n        void testGetType();\r\n        //... 30 similar methods\r\n    }\r\n\r\nimplementation code:\r\n\r\n\r\n    public class PreviewObjectAccountTest implements PreviewObjectTests {\r\n    \r\n        //I want to add @Override here!\r\n        @Test public void testGetName() {\r\n            assertThat(...);\r\n        }\r\n    \r\n        //I want to add @Override here!\r\n        @Test public void testGetType() {\r\n            assertThat(...);\r\n        }\r\n    \r\n        //...30 similar methods \r\n    \r\n    }\r\n\r\n","title":"IntelliJ is it possible to add @Overrides to all methods of a particular interface?","body":"<p>I have created an interface, with about 30 methods and implemented in 30 classes.</p>\n\n<p>I want to add @Override to each of the implementations, but i would like not to do it by hand. </p>\n\n<p>How can IntelliJ help me?</p>\n\n<p>interface looks like this:</p>\n\n<pre><code>public interface PreviewObjectTests {\n    void testGetName();\n    void testGetType();\n    //... 30 similar methods\n}\n</code></pre>\n\n<p>implementation code:</p>\n\n<pre><code>public class PreviewObjectAccountTest implements PreviewObjectTests {\n\n    //I want to add @Override here!\n    @Test public void testGetName() {\n        assertThat(...);\n    }\n\n    //I want to add @Override here!\n    @Test public void testGetType() {\n        assertThat(...);\n    }\n\n    //...30 similar methods \n\n}\n</code></pre>\n"},{"tags":["java","android","mobile","geolocation"],"answers":[{"tags":[],"owner":{"account_id":14437669,"reputation":627,"user_id":10429259,"display_name":"Bhavin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641444456,"creation_date":1641443899,"answer_id":70602540,"question_id":70602255,"body_markdown":"Rather then asking permission two times which is causing the problem you can actually ask it in a single time like\r\n\r\n    ....\r\n    ActivityCompat.requestPermissions(                                                              \r\n        HomePageActivity.this, \r\n        new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.CAMERA}, \r\n        REQUEST_CODE_MULTIPLE_PERMISSION\r\n    );\r\n    ....\r\n\r\n\r\nif you still want to ask separate permission then you should ask after the first one result has arrived.\r\n\r\n**EDIT**\r\n\r\nwhile asking for access fine location you should also ask for coarse location","title":"Java Android - Requesting multiple permissions but one doesn&#39;t get requested","body":"<p>Rather then asking permission two times which is causing the problem you can actually ask it in a single time like</p>\n<pre><code>....\nActivityCompat.requestPermissions(                                                              \n    HomePageActivity.this, \n    new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.CAMERA}, \n    REQUEST_CODE_MULTIPLE_PERMISSION\n);\n....\n</code></pre>\n<p>if you still want to ask separate permission then you should ask after the first one result has arrived.</p>\n<p><strong>EDIT</strong></p>\n<p>while asking for access fine location you should also ask for coarse location</p>\n"}],"owner":{"account_id":10468691,"reputation":1,"user_id":17846747,"display_name":"blackelf2121"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2848,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70602540,"answer_count":1,"score":0,"last_activity_date":1641444456,"creation_date":1641441201,"question_id":70602255,"body_markdown":"So i&#39;m trying to request both Location and Camera permissions from the user, and my app all works apart from the part where it has to request Location permissions from the user. The user never gets a request to access location. Is it even possible to request 2 different permissions and have onRequestPermissionsResults to handle them both in the same class?\r\n\r\n\r\n     @Override\r\n                                                  public void onClick(View v) {\r\n                                                      if (ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_FINE_LOCATION)\r\n                                                              != PackageManager.PERMISSION_GRANTED) {\r\n                                                          ActivityCompat.requestPermissions(\r\n                                                                  HomePageActivity.this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE_LOCATION_PERMISSION\r\n                                                          );\r\n                                                      } else {\r\n                                                          getCurrentLocation();\r\n                                                      }\r\n    \r\n                                                      askCameraPermissions();\r\n    \r\n    \r\n                                                  }\r\n\r\n\r\nthis is how it starts, then I think it goes here\r\n\r\n    @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    \r\n            switch (requestCode) {\r\n                case REQUEST_CODE_LOCATION_PERMISSION:\r\n    \r\n                    if (grantResults.length &gt; 0) {\r\n                        if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                            getCurrentLocation();\r\n    \r\n                        } else {\r\n                            Toast.makeText(this, &quot;Permission denied&quot;, Toast.LENGTH_LONG).show();\r\n                        }\r\n                    }\r\n                    break;\r\n    \r\n                case CAMERA_PERM_CODE:\r\n                        //if both are true then user has granted requests\r\n                        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                            dispatchTakePictureIntent();\r\n    \r\n                        } else {\r\n                            Toast.makeText(this, &quot;Camera permission is required to Use camera.&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                        break;\r\n                    }\r\n    \r\n    \r\n    \r\n            }\r\n\r\n&#39;&#39;&#39;\r\n\r\nexcept I believe this is where the application is doing something wrong. The camera request and permission works perfectly and I am able to continue and have my camera methods work. However when it comes to Location permissions, as i said, the user is never prompted to allow permissions, so I think something is going wrong here. Any help is appreciated, this is my first post so maybe formatting will be strewn with errors. \r\n\r\nI have tried to post only relevant code. I will post more if requested","title":"Java Android - Requesting multiple permissions but one doesn&#39;t get requested","body":"<p>So i'm trying to request both Location and Camera permissions from the user, and my app all works apart from the part where it has to request Location permissions from the user. The user never gets a request to access location. Is it even possible to request 2 different permissions and have onRequestPermissionsResults to handle them both in the same class?</p>\n<pre><code> @Override\n                                              public void onClick(View v) {\n                                                  if (ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_FINE_LOCATION)\n                                                          != PackageManager.PERMISSION_GRANTED) {\n                                                      ActivityCompat.requestPermissions(\n                                                              HomePageActivity.this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, REQUEST_CODE_LOCATION_PERMISSION\n                                                      );\n                                                  } else {\n                                                      getCurrentLocation();\n                                                  }\n\n                                                  askCameraPermissions();\n\n\n                                              }\n</code></pre>\n<p>this is how it starts, then I think it goes here</p>\n<pre><code>@Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        switch (requestCode) {\n            case REQUEST_CODE_LOCATION_PERMISSION:\n\n                if (grantResults.length &gt; 0) {\n                    if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                        getCurrentLocation();\n\n                    } else {\n                        Toast.makeText(this, &quot;Permission denied&quot;, Toast.LENGTH_LONG).show();\n                    }\n                }\n                break;\n\n            case CAMERA_PERM_CODE:\n                    //if both are true then user has granted requests\n                    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                        dispatchTakePictureIntent();\n\n                    } else {\n                        Toast.makeText(this, &quot;Camera permission is required to Use camera.&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                    break;\n                }\n\n\n\n        }\n</code></pre>\n<p>'''</p>\n<p>except I believe this is where the application is doing something wrong. The camera request and permission works perfectly and I am able to continue and have my camera methods work. However when it comes to Location permissions, as i said, the user is never prompted to allow permissions, so I think something is going wrong here. Any help is appreciated, this is my first post so maybe formatting will be strewn with errors.</p>\n<p>I have tried to post only relevant code. I will post more if requested</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1641444292,"creation_date":1641444292,"question_id":70602581,"body_markdown":"How to avoid concurrent access on a controller method call within Spring Boot. I would like to prevent multiple calls into &quot;/c&quot;, would making it as &quot;public synchronized&quot; do the trick.\r\n\r\n    @RestController\r\n    public class FooController {\r\n    \r\n        @PostMapping(&quot;/c&quot;)\r\n        public Foo create(@RequestBody Foo foo) throws Exception {\r\n        }\r\n    \r\n    }","title":"How to avoid concurrent access on a controller method call within Spring Boot","body":"<p>How to avoid concurrent access on a controller method call within Spring Boot. I would like to prevent multiple calls into &quot;/c&quot;, would making it as &quot;public synchronized&quot; do the trick.</p>\n<pre><code>@RestController\npublic class FooController {\n\n    @PostMapping(&quot;/c&quot;)\n    public Foo create(@RequestBody Foo foo) throws Exception {\n    }\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":53157,"reputation":735,"user_id":158886,"display_name":"valbaca"},"score":1,"creation_date":1619633428,"post_id":60862310,"comment_id":118966908,"body_markdown":"This was likely due to the mismatch between the getter and field name; the getter &amp; setter use &quot;ID&quot; and the field is &quot;Id&quot; so the annotation couldn&#39;t find the getter &amp; setter.","body":"This was likely due to the mismatch between the getter and field name; the getter &amp; setter use &quot;ID&quot; and the field is &quot;Id&quot; so the annotation couldn&#39;t find the getter &amp; setter."}],"answers":[{"tags":[],"owner":{"account_id":2222208,"reputation":1564,"user_id":1961343,"display_name":"Rafael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1597779968,"creation_date":1597779968,"answer_id":63475654,"question_id":60862310,"body_markdown":"Even though the official AWS [documentation][1] says we may apply the annotation @DynamoDBAttribute class field, I could not make it work like this. However, as seen in this AWS [example][2], I could apply without any problem the annotation to the getter methods.\r\n\r\nPlease try the following:\r\n\r\n        @DynamoDBTable(tableName = &quot;opx_user_profiles&quot;)\r\n        public class UserProfileEntity implements Serializable\r\n        {\r\n    \r\n            public static final String USER_PROFILE_ID=&quot;user_profile_id&quot;;\r\n            ...\r\n            private Integer userProfileId;\r\n            ...    \r\n            @DynamoDBAttribute(attributeName = USER_PROFILE_ID)\r\n            public Integer getUserProfileID()\r\n            {\r\n                return userProfileId;\r\n            }\r\n    \r\n            public void setUserProfileID(Integer userProfileId)\r\n            {\r\n                this.userProfileId = userProfileId;\r\n            }\r\n            ...\r\n        }\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBAttribute.html\r\n  [2]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBAttribute","title":"@DynamoDBAttribute annotation not working","body":"<p>Even though the official AWS <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBAttribute.html\" rel=\"nofollow noreferrer\">documentation</a> says we may apply the annotation @DynamoDBAttribute class field, I could not make it work like this. However, as seen in this AWS <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBAttribute\" rel=\"nofollow noreferrer\">example</a>, I could apply without any problem the annotation to the getter methods.</p>\n<p>Please try the following:</p>\n<pre><code>    @DynamoDBTable(tableName = &quot;opx_user_profiles&quot;)\n    public class UserProfileEntity implements Serializable\n    {\n\n        public static final String USER_PROFILE_ID=&quot;user_profile_id&quot;;\n        ...\n        private Integer userProfileId;\n        ...    \n        @DynamoDBAttribute(attributeName = USER_PROFILE_ID)\n        public Integer getUserProfileID()\n        {\n            return userProfileId;\n        }\n\n        public void setUserProfileID(Integer userProfileId)\n        {\n            this.userProfileId = userProfileId;\n        }\n        ...\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17725449,"reputation":51,"user_id":12869305,"display_name":"Alex A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641444152,"creation_date":1641444152,"answer_id":70602559,"question_id":60862310,"body_markdown":"One more option.\r\nIf you want to reduce code boilerplates you might use Lombok&#39;s [@Getter][1] this way:\r\n \r\n```\r\n  @Getter(onMethod = @__({@DynamoDbAttribute(&quot;address&quot;)}))\r\n  private String address;\r\n```\r\np.s.: It won&#39;t impact performance cause the code generation happens not in runtime but the entity looks better IMO.\r\n\r\n  [1]: https://projectlombok.org/features/GetterSetter","title":"@DynamoDBAttribute annotation not working","body":"<p>One more option.\nIf you want to reduce code boilerplates you might use Lombok's <a href=\"https://projectlombok.org/features/GetterSetter\" rel=\"nofollow noreferrer\">@Getter</a> this way:</p>\n<pre><code>  @Getter(onMethod = @__({@DynamoDbAttribute(&quot;address&quot;)}))\n  private String address;\n</code></pre>\n<p>p.s.: It won't impact performance cause the code generation happens not in runtime but the entity looks better IMO.</p>\n"}],"owner":{"account_id":12546935,"reputation":1675,"user_id":9129885,"display_name":"Shubham Chopra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3615,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63475654,"answer_count":2,"score":1,"last_activity_date":1641444152,"creation_date":1585206023,"question_id":60862310,"body_markdown":"I have a dynamodb table named opx_user_profiles. The entity is shown below, however the attribute user_profile_id is getting saved as userProfileID in the table, even though the  @DynamoDBAttribute(attributeName = USER_PROFILE_ID) is specified on the attribute. Other attributes like date_created are getting saved as expected.\r\nI have read the documentation but still not able to find the root cause of the issue. Is it is a bug in dynamo DB?\r\n\r\n \r\n   \r\n\r\n    @DynamoDBTable(tableName = &quot;opx_user_profiles&quot;)\r\n        public class UserProfileEntity implements Serializable\r\n        {\r\n        \t\r\n        \tpublic static final String USER_PROFILE_ID=&quot;user_profile_id&quot;;\r\n        \tpublic static final String DATE_CREATED = &quot;date_created&quot;;\r\n            public static final String EXPIRY_DATE = &quot;expiry_date&quot;;\r\n            public static final String USERNAME =&quot;username&quot;;\r\n            public static final String CONTACT_NAME =&quot;contact_name&quot;;\r\n            \r\n            \r\n            private static final long serialVersionUID = 1L;\r\n            \r\n            @DynamoDBAttribute(attributeName = USER_PROFILE_ID)\r\n            private Integer userProfileId;\r\n                \r\n            @DynamoDBAttribute(attributeName = USERNAME)\r\n            private String userName;\r\n            \r\n            @DynamoDBAttribute(attributeName = CONTACT_NAME)\r\n            private String contactName;\r\n             \r\n            @DynamoDBAttribute(attributeName = DATE_CREATED)\r\n            private Date dateCreated;\r\n          \r\n            \r\n            @DynamoDBAttribute(attributeName = EXPIRY_DATE)\r\n            private long expiryDate;\r\n              \r\n            public Integer getUserProfileID()\r\n            {\r\n                return userProfileId;\r\n            }\r\n        \r\n            public void setUserProfileID(Integer userProfileId)\r\n            {\r\n                this.userProfileId = userProfileId;\r\n            }\r\n        \r\n            public String getUserName()\r\n            {\r\n                return userName;\r\n            }\r\n            \r\n            public void setUserName(String userName)\r\n            {\r\n                this.userName = userName;\r\n            }\r\n        \r\n            public String getContactName()\r\n            {\r\n                return contactName;\r\n            }\r\n        \r\n            public void setContactName(String contactName)\r\n            {\r\n                this.contactName = contactName;\r\n            }\r\n        \r\n            public Date getDateCreated()\r\n            {\r\n                return dateCreated;\r\n            }\r\n        \r\n            public void setDateCreated(Date dateCreated)\r\n            {\r\n                this.dateCreated = dateCreated;\r\n            }\r\n        }","title":"@DynamoDBAttribute annotation not working","body":"<p>I have a dynamodb table named opx_user_profiles. The entity is shown below, however the attribute user_profile_id is getting saved as userProfileID in the table, even though the  @DynamoDBAttribute(attributeName = USER_PROFILE_ID) is specified on the attribute. Other attributes like date_created are getting saved as expected.\nI have read the documentation but still not able to find the root cause of the issue. Is it is a bug in dynamo DB?</p>\n\n<pre><code>@DynamoDBTable(tableName = \"opx_user_profiles\")\n    public class UserProfileEntity implements Serializable\n    {\n\n        public static final String USER_PROFILE_ID=\"user_profile_id\";\n        public static final String DATE_CREATED = \"date_created\";\n        public static final String EXPIRY_DATE = \"expiry_date\";\n        public static final String USERNAME =\"username\";\n        public static final String CONTACT_NAME =\"contact_name\";\n\n\n        private static final long serialVersionUID = 1L;\n\n        @DynamoDBAttribute(attributeName = USER_PROFILE_ID)\n        private Integer userProfileId;\n\n        @DynamoDBAttribute(attributeName = USERNAME)\n        private String userName;\n\n        @DynamoDBAttribute(attributeName = CONTACT_NAME)\n        private String contactName;\n\n        @DynamoDBAttribute(attributeName = DATE_CREATED)\n        private Date dateCreated;\n\n\n        @DynamoDBAttribute(attributeName = EXPIRY_DATE)\n        private long expiryDate;\n\n        public Integer getUserProfileID()\n        {\n            return userProfileId;\n        }\n\n        public void setUserProfileID(Integer userProfileId)\n        {\n            this.userProfileId = userProfileId;\n        }\n\n        public String getUserName()\n        {\n            return userName;\n        }\n\n        public void setUserName(String userName)\n        {\n            this.userName = userName;\n        }\n\n        public String getContactName()\n        {\n            return contactName;\n        }\n\n        public void setContactName(String contactName)\n        {\n            this.contactName = contactName;\n        }\n\n        public Date getDateCreated()\n        {\n            return dateCreated;\n        }\n\n        public void setDateCreated(Date dateCreated)\n        {\n            this.dateCreated = dateCreated;\n        }\n    }\n</code></pre>\n"},{"tags":["java","arraylist"],"answers":[{"tags":[],"owner":{"account_id":13059462,"reputation":65,"user_id":9437158,"display_name":"Josh Hu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634501337,"creation_date":1634501337,"answer_id":69608191,"question_id":69608080,"body_markdown":"If I understand your question correctly, you will want to put `if(doubleList.isEmpty())` inside the `if (number == 99999)` block, and delete the lines before the while loop and just handle it inside the loop. \r\n\r\n```\r\n    if (number == 99999)\r\n    {\r\n        if(doubleList.isEmpty())\r\n        {\r\n            System.out.println(&quot;Error: you must enter at least one double.&quot;);\r\n            count--;\r\n            continue;\r\n        }\r\n        else\r\n        {\r\n            break;\r\n        }\r\n    }\r\n```\r\n\r\nWhat this does is when the user inputs 99999, it then checks if the list is empty. If it is, print the error, subtract count (since they didn&#39;t input a double you wanted), and `continue` starts again from the beginning of the loop, prompting them again","title":"How to reprompt user if two conditions are met?","body":"<p>If I understand your question correctly, you will want to put <code>if(doubleList.isEmpty())</code> inside the <code>if (number == 99999)</code> block, and delete the lines before the while loop and just handle it inside the loop.</p>\n<pre><code>    if (number == 99999)\n    {\n        if(doubleList.isEmpty())\n        {\n            System.out.println(&quot;Error: you must enter at least one double.&quot;);\n            count--;\n            continue;\n        }\n        else\n        {\n            break;\n        }\n    }\n</code></pre>\n<p>What this does is when the user inputs 99999, it then checks if the list is empty. If it is, print the error, subtract count (since they didn't input a double you wanted), and <code>continue</code> starts again from the beginning of the loop, prompting them again</p>\n"}],"owner":{"account_id":22170886,"reputation":7,"user_id":17092954,"display_name":"Avery Lytle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69608191,"answer_count":1,"score":0,"last_activity_date":1641443754,"creation_date":1634500483,"question_id":69608080,"body_markdown":"I&#39;m supposed to create an array/list of 10 doubles and allow the user to type &#39;99999&#39; to quit. I&#39;m also supposed to give the user an error if no doubles are entered, i.e. if the user types &#39;99999&#39; before any double values. \r\n\r\nI know I could put an `if (doubleList.isEmpty())` at the end of the while loop and just end the program that way, but I want to keep prompting the user for values if they enter 99999 first.\r\n\r\nI tried entering a `if(doubleList.isEmpty())&quot;` in the while(true) loop but couldn&#39;t get it to work.\r\n\r\nThe code below somewhat works.\r\n\r\n        import java.util.*;\r\n        public class DistanceTesting\r\n    {\r\n    public static void main(String[] args)\r\n    {\r\n        //Almost works, but not quite. I can&#39;t figure out how to reprompt the user if the list is empty\r\n        List&lt;Double&gt; doubleList = new ArrayList&lt;&gt;();\r\n        int count = 0;\r\n        double sum;\r\n        double average;\r\n        double number;\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Enter up to 10 doubles: &quot;);\r\n        number = input.nextDouble();\r\n        if (number == 99999)\r\n        {\r\n            System.out.println(&quot;Error: you must enter at least one double.&quot;);\r\n        }\r\n        while (true)\r\n        {\r\n            count++;\r\n            System.out.println(&quot;Enter a double(or press 99999 to quit): &quot;);\r\n            number = input.nextDouble();\r\n            if (number == 99999)\r\n            {\r\n                break;\r\n            }\r\n            if (count == 10)\r\n            {\r\n                break;\r\n            }\r\n            else\r\n            {\r\n                doubleList.add(number);\r\n            }\r\n        }\r\n        \r\n    }\r\n      }","title":"How to reprompt user if two conditions are met?","body":"<p>I'm supposed to create an array/list of 10 doubles and allow the user to type '99999' to quit. I'm also supposed to give the user an error if no doubles are entered, i.e. if the user types '99999' before any double values.</p>\n<p>I know I could put an <code>if (doubleList.isEmpty())</code> at the end of the while loop and just end the program that way, but I want to keep prompting the user for values if they enter 99999 first.</p>\n<p>I tried entering a <code>if(doubleList.isEmpty())&quot;</code> in the while(true) loop but couldn't get it to work.</p>\n<p>The code below somewhat works.</p>\n<pre><code>    import java.util.*;\n    public class DistanceTesting\n{\npublic static void main(String[] args)\n{\n    //Almost works, but not quite. I can't figure out how to reprompt the user if the list is empty\n    List&lt;Double&gt; doubleList = new ArrayList&lt;&gt;();\n    int count = 0;\n    double sum;\n    double average;\n    double number;\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Enter up to 10 doubles: &quot;);\n    number = input.nextDouble();\n    if (number == 99999)\n    {\n        System.out.println(&quot;Error: you must enter at least one double.&quot;);\n    }\n    while (true)\n    {\n        count++;\n        System.out.println(&quot;Enter a double(or press 99999 to quit): &quot;);\n        number = input.nextDouble();\n        if (number == 99999)\n        {\n            break;\n        }\n        if (count == 10)\n        {\n            break;\n        }\n        else\n        {\n            doubleList.add(number);\n        }\n    }\n    \n}\n  }\n</code></pre>\n"},{"tags":["java","eclipse","user-interface","swt"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1640705192,"post_id":70509041,"comment_id":124638222,"body_markdown":"You should only create a single `Display` when the application starts. Also you must do **all** UI operations on a single main thread, it looks like you are trying to use multiple threads for the UI. It is hard to say more from just bits of code.","body":"You should only create a single <code>Display</code> when the application starts. Also you must do <b>all</b> UI operations on a single main thread, it looks like you are trying to use multiple threads for the UI. It is hard to say more from just bits of code."}],"answers":[{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640707827,"creation_date":1640707827,"answer_id":70509619,"question_id":70509041,"body_markdown":"From the [API documentation](https://javadoc.scijava.org/Eclipse/org/eclipse/swt/widgets/Display.html) of `org.eclipse.swt.widgets.Display`\r\n\r\n&gt; Applications which are built with SWT will almost always require only\r\n&gt; a single display. In particular, some platforms which SWT supports\r\n&gt; will not allow more than one active display. In other words, some\r\n&gt; platforms do not support creating a new display if one already exists\r\n&gt; that has not been sent the dispose() message.\r\n\r\nYou should therefore adapt your application to use only one instance of `Display`. Since the class `LiceuseController` already manages opening the initial window and the supplementary window(s), it seems fitting for it to manage an instance of `Display` for both uses.\r\n\r\nThis instance should be created at the application&#39;s start, maintained by the `LiceuseController` class and finally disposed when the application shuts down.\r\n\r\n---\r\n\r\nAnother problem is that none of the methods in `LiceuseController` actually returns. As you can see from the stack trace, `Display.readAndDispatch` from `LiseuseController.viewController` is still active when you are creating the new window. I guess you also want to reopen the original window when the supplementary window is closed. Opening and closing windows in this manner will, however, endlessly increase your call stack until you end up with a `StackOverflowException`.\r\n\r\nInstead, the `LiceuseController` should be able to create windows without outside interference. Therefore, instead of *actively* calling a method in the controller class to open another window, the listener should only *tell* the controller what window it should open next when the current window was closed.\r\n\r\nAn example could look like\r\n\r\n```\r\npublic enum WindowType {\r\n    MAIN, BOOK, NONE\r\n}\r\n\r\npublic class LiceuseController {\r\n\r\n    Display display;\r\n    WindowType nextToOpen = WindowType.MAIN;\r\n\r\n    public LiceuseController() {\r\n        display = new Display();\r\n    }\r\n\r\n    public void setNextToOpen(WindowType value) {\r\n        nextToOpen = value;\r\n    }\r\n\r\n    public void run() {\r\n        for (boolean run = true; run;) {\r\n            switch(nextToOpen) {\r\n            case MAIN:\r\n                viewController();\r\n                break;\r\n            case BOOK:\r\n                viewBookController();\r\n                break;\r\n            case NONE:\r\n                run = false;\r\n                break;\r\n            default:\r\n                throw new RuntimeException(&quot;unexpected enum constant&quot;);\r\n            }\r\n        }\r\n        /*\r\n         * Depending on how you want to manage the instance of this class,\r\n         * you could also extract this into a separate method.\r\n         */\r\n        display.dispose();\r\n    }\r\n\r\n    private void viewController() {\r\n        // open main window using &#39;display&#39;\r\n    }\r\n\r\n    private void viewBookController() {\r\n        // open book window using &#39;display&#39;\r\n    }\r\n\r\n}\r\n```\r\n\r\nso that a listener only needs to call `LiceuseController.setNextToOpen` and then close the current window. This will cause either `viewController` or `viewBookController` to return after which the loop will reenter and open the requested window. To shut down the application, call `setNextToOpen` with `WindowType.NONE`.","title":"Closing a frame in Java and opening another one, with the swt library from eclipse","body":"<p>From the <a href=\"https://javadoc.scijava.org/Eclipse/org/eclipse/swt/widgets/Display.html\" rel=\"nofollow noreferrer\">API documentation</a> of <code>org.eclipse.swt.widgets.Display</code></p>\n<blockquote>\n<p>Applications which are built with SWT will almost always require only\na single display. In particular, some platforms which SWT supports\nwill not allow more than one active display. In other words, some\nplatforms do not support creating a new display if one already exists\nthat has not been sent the dispose() message.</p>\n</blockquote>\n<p>You should therefore adapt your application to use only one instance of <code>Display</code>. Since the class <code>LiceuseController</code> already manages opening the initial window and the supplementary window(s), it seems fitting for it to manage an instance of <code>Display</code> for both uses.</p>\n<p>This instance should be created at the application's start, maintained by the <code>LiceuseController</code> class and finally disposed when the application shuts down.</p>\n<hr />\n<p>Another problem is that none of the methods in <code>LiceuseController</code> actually returns. As you can see from the stack trace, <code>Display.readAndDispatch</code> from <code>LiseuseController.viewController</code> is still active when you are creating the new window. I guess you also want to reopen the original window when the supplementary window is closed. Opening and closing windows in this manner will, however, endlessly increase your call stack until you end up with a <code>StackOverflowException</code>.</p>\n<p>Instead, the <code>LiceuseController</code> should be able to create windows without outside interference. Therefore, instead of <em>actively</em> calling a method in the controller class to open another window, the listener should only <em>tell</em> the controller what window it should open next when the current window was closed.</p>\n<p>An example could look like</p>\n<pre><code>public enum WindowType {\n    MAIN, BOOK, NONE\n}\n\npublic class LiceuseController {\n\n    Display display;\n    WindowType nextToOpen = WindowType.MAIN;\n\n    public LiceuseController() {\n        display = new Display();\n    }\n\n    public void setNextToOpen(WindowType value) {\n        nextToOpen = value;\n    }\n\n    public void run() {\n        for (boolean run = true; run;) {\n            switch(nextToOpen) {\n            case MAIN:\n                viewController();\n                break;\n            case BOOK:\n                viewBookController();\n                break;\n            case NONE:\n                run = false;\n                break;\n            default:\n                throw new RuntimeException(&quot;unexpected enum constant&quot;);\n            }\n        }\n        /*\n         * Depending on how you want to manage the instance of this class,\n         * you could also extract this into a separate method.\n         */\n        display.dispose();\n    }\n\n    private void viewController() {\n        // open main window using 'display'\n    }\n\n    private void viewBookController() {\n        // open book window using 'display'\n    }\n\n}\n</code></pre>\n<p>so that a listener only needs to call <code>LiceuseController.setNextToOpen</code> and then close the current window. This will cause either <code>viewController</code> or <code>viewBookController</code> to return after which the loop will reenter and open the requested window. To shut down the application, call <code>setNextToOpen</code> with <code>WindowType.NONE</code>.</p>\n"}],"owner":{"account_id":23767434,"reputation":1,"user_id":17782009,"display_name":"CanaanLion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641443384,"creation_date":1640704786,"question_id":70509041,"body_markdown":"I&#39;m currently making a reading app in Java, and this is [my main menu][1]. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6b5sZ.png\r\n\r\nWhat I want is that when I press the bottom button after selecting a book another window with the book opens. What I did now is a function that will open the other window while closing the one I&#39;m currently in to free a little bit of memory. \r\nI first close the current window after retrieving the necessary information from it (the index of the book) like this:\r\n\r\n    btnOuvrirLeLivre.addSelectionListener(new SelectionAdapter() {\r\n\t\t@Override\r\n\t\tpublic void widgetSelected(SelectionEvent e) {\r\n\t\t\tint index = list.getSelectionIndex();\r\n\t\t\tLiseuseController controller = new LiseuseController(null, null);\r\n            parent.dispose();\r\n\t\t\tcontroller.viewBookController(index);\t\t\r\n\t\t}\r\n\t});\r\n\r\n(I&#39;m using the MVC method for my project), parent is just the composite used to open the frame.\r\n\r\n    public void viewBookController(int index) {\r\n\t\tDisplay displayBook = new Display();\r\n\t\tShell shellBook = new Shell(displayBook);\r\n\t\tshellBook.setLayout(new GridLayout(1, false));\r\n\t\tindex += 250;\r\n\t\tLiseuseView lecture = new LiseuseView(shellBook, SWT.NONE, index);\r\n\t\tshellBook.pack();\r\n\t\tshellBook.open();\r\n\t\twhile(!shellBook.isDisposed()) {\r\n\t\t\tif(!displayBook.readAndDispatch())\r\n\t\t\t\tdisplayBook.sleep();\r\n\t\t}\r\n\t\tdisplayBook.dispose();\r\n\t}\r\n\r\nThe index is just the book&#39;s number in my database, everything should be fine but I get this error when I do this after pressing the button to open the book:\r\n\r\n    Exception in thread &quot;main&quot; org.eclipse.swt.SWTException: Invalid thread access\r\n\tat org.eclipse.swt.SWT.error(SWT.java:4875)\r\n\tat org.eclipse.swt.SWT.error(SWT.java:4790)\r\n\tat org.eclipse.swt.SWT.error(SWT.java:4761)\r\n\tat org.eclipse.swt.widgets.Display.checkDisplay(Display.java:824)\r\n\tat org.eclipse.swt.widgets.Display.create(Display.java:887)\r\n\tat org.eclipse.swt.graphics.Device.&lt;init&gt;(Device.java:126)\r\n\tat org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:563)\r\n\tat org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:554)\r\n\tat Controller.LiseuseController.viewBookController(LiseuseController.java:133)\r\n\tat View.LiseuseHome$4.widgetSelected(LiseuseHome.java:81)\r\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4209)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1037)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4026)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3626)\r\n\tat Controller.LiseuseController.viewController(LiseuseController.java:126)\r\n\tat Main.Main.main(Main.java:59)\r\n\r\n(LiseuseController.java:133) contains &quot;Display displayBook = new Display();&quot;\r\n\r\nAnd (LiseuseController.java:126) contains \r\n\r\n    if(!display.readAndDispatch())\r\n\t\t\t\tdisplay.sleep();\r\n\r\nThis is from the other function used to open the first window.\r\n\r\nI don&#39;t really understand what is causing this error and I can&#39;t just put one in &quot;visible&quot; and the other one &quot;invisible&quot; like if I&#39;m using Jframe because the 2 windows are on 2 different .java files.\r\n\r\nDo you have any idea on how to fix this?\r\n\r\n","title":"Closing a frame in Java and opening another one, with the swt library from eclipse","body":"<p>I'm currently making a reading app in Java, and this is <a href=\"https://i.stack.imgur.com/6b5sZ.png\" rel=\"nofollow noreferrer\">my main menu</a>.</p>\n<p>What I want is that when I press the bottom button after selecting a book another window with the book opens. What I did now is a function that will open the other window while closing the one I'm currently in to free a little bit of memory.\nI first close the current window after retrieving the necessary information from it (the index of the book) like this:</p>\n<pre><code>btnOuvrirLeLivre.addSelectionListener(new SelectionAdapter() {\n    @Override\n    public void widgetSelected(SelectionEvent e) {\n        int index = list.getSelectionIndex();\n        LiseuseController controller = new LiseuseController(null, null);\n        parent.dispose();\n        controller.viewBookController(index);       \n    }\n});\n</code></pre>\n<p>(I'm using the MVC method for my project), parent is just the composite used to open the frame.</p>\n<pre><code>public void viewBookController(int index) {\n    Display displayBook = new Display();\n    Shell shellBook = new Shell(displayBook);\n    shellBook.setLayout(new GridLayout(1, false));\n    index += 250;\n    LiseuseView lecture = new LiseuseView(shellBook, SWT.NONE, index);\n    shellBook.pack();\n    shellBook.open();\n    while(!shellBook.isDisposed()) {\n        if(!displayBook.readAndDispatch())\n            displayBook.sleep();\n    }\n    displayBook.dispose();\n}\n</code></pre>\n<p>The index is just the book's number in my database, everything should be fine but I get this error when I do this after pressing the button to open the book:</p>\n<pre><code>Exception in thread &quot;main&quot; org.eclipse.swt.SWTException: Invalid thread access\nat org.eclipse.swt.SWT.error(SWT.java:4875)\nat org.eclipse.swt.SWT.error(SWT.java:4790)\nat org.eclipse.swt.SWT.error(SWT.java:4761)\nat org.eclipse.swt.widgets.Display.checkDisplay(Display.java:824)\nat org.eclipse.swt.widgets.Display.create(Display.java:887)\nat org.eclipse.swt.graphics.Device.&lt;init&gt;(Device.java:126)\nat org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:563)\nat org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:554)\nat Controller.LiseuseController.viewBookController(LiseuseController.java:133)\nat View.LiseuseHome$4.widgetSelected(LiseuseHome.java:81)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\nat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4209)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1037)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4026)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3626)\nat Controller.LiseuseController.viewController(LiseuseController.java:126)\nat Main.Main.main(Main.java:59)\n</code></pre>\n<p>(LiseuseController.java:133) contains &quot;Display displayBook = new Display();&quot;</p>\n<p>And (LiseuseController.java:126) contains</p>\n<pre><code>if(!display.readAndDispatch())\n            display.sleep();\n</code></pre>\n<p>This is from the other function used to open the first window.</p>\n<p>I don't really understand what is causing this error and I can't just put one in &quot;visible&quot; and the other one &quot;invisible&quot; like if I'm using Jframe because the 2 windows are on 2 different .java files.</p>\n<p>Do you have any idea on how to fix this?</p>\n"},{"tags":["java","swing","jlabel","mouseover","mouse-cursor"],"answers":[{"tags":[],"owner":{"account_id":1042637,"reputation":21143,"user_id":1048330,"display_name":"tenorsax"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1334624536,"creation_date":1334624536,"answer_id":10183746,"question_id":10183719,"body_markdown":"How about: \r\n\r\n    label.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));","title":"How to make a JLabel clickable?","body":"<p>How about: </p>\n\n<pre><code>label.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1334624544,"creation_date":1334624544,"answer_id":10183748,"question_id":10183719,"body_markdown":"&gt; I have impression that is not possible with swing.\r\n\r\nOr maybe you just haven&#39;t yet learned how to do this perhaps? A MouseListener and MouseMotionListener have worked great for me.\r\n\r\nEdit: and setting the JLabel&#39;s curser as noted by Max -- 1+ up-vote for him!","title":"How to make a JLabel clickable?","body":"<blockquote>\n  <p>I have impression that is not possible with swing.</p>\n</blockquote>\n\n<p>Or maybe you just haven't yet learned how to do this perhaps? A MouseListener and MouseMotionListener have worked great for me.</p>\n\n<p>Edit: and setting the JLabel's curser as noted by Max -- 1+ up-vote for him!</p>\n"},{"tags":[],"owner":{"account_id":1036092,"reputation":8846,"user_id":1043352,"accept_rate":81,"display_name":"Jakub Zaverka"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1334624932,"creation_date":1334624624,"answer_id":10183755,"question_id":10183719,"body_markdown":"Swing APIs have a way of doing it:\r\n\r\n    label.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\r\nand when you change your mind:\r\n\r\n    label.setCursor(Cursor.getDefaultCursor());","title":"How to make a JLabel clickable?","body":"<p>Swing APIs have a way of doing it:</p>\n\n<pre><code>label.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n</code></pre>\n\n<p>and when you change your mind:</p>\n\n<pre><code>label.setCursor(Cursor.getDefaultCursor());\n</code></pre>\n"}],"owner":{"account_id":1346158,"reputation":1150,"user_id":1286872,"accept_rate":70,"display_name":"imanis_tn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7996,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10183746,"answer_count":3,"score":5,"last_activity_date":1641443335,"creation_date":1334624202,"question_id":10183719,"body_markdown":"I want to customize a JLable to make him clickable, i&#39;m not talking about adding an Action Listener because i already have, i&#39;m talking about changing the mouse cursor&#39;s reaction when the JLabel gain Focus just like the reaction of a mouse hoover on a link in the browser.\r\n\r\n![enter image description here][1]\r\n\r\nI have impression that is not possible with swing.\r\n\r\n  [1]: http://i.stack.imgur.com/pEcwY.png","title":"How to make a JLabel clickable?","body":"<p>I want to customize a JLable to make him clickable, i'm not talking about adding an Action Listener because i already have, i'm talking about changing the mouse cursor's reaction when the JLabel gain Focus just like the reaction of a mouse hoover on a link in the browser.</p>\n\n<p><img src=\"https://i.stack.imgur.com/pEcwY.png\" alt=\"enter image description here\"></p>\n\n<p>I have impression that is not possible with swing.</p>\n"},{"tags":["java","list","selenium","for-loop","collections"],"comments":[{"owner":{"account_id":7668980,"reputation":2584,"user_id":5811874,"display_name":"Hanchen Jiang"},"score":0,"creation_date":1641439665,"post_id":70602098,"comment_id":124807195,"body_markdown":"Could you show the complete error message with stacktrace?","body":"Could you show the complete error message with stacktrace?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1641440094,"post_id":70602098,"comment_id":124807237,"body_markdown":"`element.getText()==&quot;Regular&quot;` doesn&#39;t make any sense as a standalone statement.","body":"<code>element.getText()==&quot;Regular&quot;</code> doesn&#39;t make any sense as a standalone statement."},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1641441554,"post_id":70602098,"comment_id":124807460,"body_markdown":"Is it a statement? A boolean expression.","body":"Is it a statement? A boolean expression."},{"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"score":0,"creation_date":1641444870,"post_id":70602098,"comment_id":124807956,"body_markdown":"You can use following check for string matching as `element.getText().equalsIgnoreCase(&quot;Regular&quot;)`.","body":"You can use following check for string matching as <code>element.getText().equalsIgnoreCase(&quot;Regular&quot;)</code>."}],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641443297,"creation_date":1641443297,"answer_id":70602482,"question_id":70602098,"body_markdown":"If this xpath\r\n\r\n    //table[@class=&#39;jsgrid-table&#39;]\r\n\r\nrepresent all the **Regular** term in rows, then the below **code** should work for you.\r\n\r\nAlso, you can put `OR` condition to have a check for `Regular` or `regular`.\r\nAlso, if you are using TestNG with integration to Selenium, you can use below assert. \r\n\r\n\tList&lt;WebElement&gt; tdCollection = driver.findElements(By.xpath(&quot;//table[@class=&#39;jsgrid-table&#39;]&quot;));\r\n\tfor (WebElement element : tdCollection) {\r\n\t\t\tif (element.getText().equals(&quot;Regular&quot;) || element.getText().equals(&quot;regular&quot;)) {\r\n\t\t\t\tSystem.out.println(&quot;Regular or regular is present&quot;);\r\n\t\t\t\tAssert.assertTrue(true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n","title":"Condition not satisfied in For loop using a List Collection","body":"<p>If this xpath</p>\n<pre><code>//table[@class='jsgrid-table']\n</code></pre>\n<p>represent all the <strong>Regular</strong> term in rows, then the below <strong>code</strong> should work for you.</p>\n<p>Also, you can put <code>OR</code> condition to have a check for <code>Regular</code> or <code>regular</code>.\nAlso, if you are using TestNG with integration to Selenium, you can use below assert.</p>\n<pre><code>List&lt;WebElement&gt; tdCollection = driver.findElements(By.xpath(&quot;//table[@class='jsgrid-table']&quot;));\nfor (WebElement element : tdCollection) {\n        if (element.getText().equals(&quot;Regular&quot;) || element.getText().equals(&quot;regular&quot;)) {\n            System.out.println(&quot;Regular or regular is present&quot;);\n            Assert.assertTrue(true);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":23841551,"reputation":1,"user_id":17846542,"display_name":"MRQAtester"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641443297,"creation_date":1641439563,"question_id":70602098,"body_markdown":"I&#39;m trying to verify that a column in a table on a webpage displays the term &#39;Regular&#39; in all of it&#39;s rows. Below is the code I’m trying to execute. when I run the code below in IntelliJ I get a failure of Condition not Satisfied. Changing the == to equals doesn&#39;t resolve the issue. What am I doing wrong here?\r\n\r\n\r\n    List‹WebElement› tdCollection = driver. findElements(By.xpath(&quot;//table[@class=&#39;jsgrid-table&#39;]&quot;))\r\n    for (WebElement element : tdCollection) {\r\n    element.getText()==&quot;Regular&quot;\r\n    }\r\n\r\n","title":"Condition not satisfied in For loop using a List Collection","body":"<p>I'm trying to verify that a column in a table on a webpage displays the term 'Regular' in all of it's rows. Below is the code I’m trying to execute. when I run the code below in IntelliJ I get a failure of Condition not Satisfied. Changing the == to equals doesn't resolve the issue. What am I doing wrong here?</p>\n<pre><code>List‹WebElement› tdCollection = driver. findElements(By.xpath(&quot;//table[@class='jsgrid-table']&quot;))\nfor (WebElement element : tdCollection) {\nelement.getText()==&quot;Regular&quot;\n}\n</code></pre>\n"},{"tags":["java","generics","inheritance","java-annotations","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":17725449,"reputation":51,"user_id":12869305,"display_name":"Alex A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641443191,"creation_date":1641442628,"answer_id":70602411,"question_id":67275241,"body_markdown":"Recently I implemented an abstract DAO (Repository) in Spring Data style and reactive manner with WebFlux for AWS DynamoDB. Not the ideal, but works fine and as I assume it can fit to your case: \r\n\r\nThe first part is the abstract DAO. The common interface looks like this: \r\n\r\n```\r\npublic interface DynamoDbRepository&lt;T&gt; {\r\n\r\n  /** Constant prefix for logging purposes */\r\n  String SN = &quot;[DynamoDbRepository]&quot;;\r\n\r\n  Mono&lt;PutItemEnhancedResponse&lt;T&gt;&gt; insert(final T object);\r\n\r\n  Mono&lt;T&gt; getById(final String id);\r\n\r\n  Flux&lt;T&gt; getAll();\r\n}\r\n```\r\n\r\nLogic implementation class which extends **DynamoDbRepository**: \r\n\r\n```\r\n@Log4j2\r\n@Repository\r\npublic abstract class EntityDynamoDbRepository&lt;T&gt; implements DynamoDbRepository&lt;T&gt; {\r\n\r\n  private final Class&lt;T&gt; clazz;\r\n  private DynamoDbAsyncTable&lt;T&gt; dynamoDbAsyncTable;\r\n\r\n  @Autowired\r\n  @SneakyThrows\r\n  public final void setAsyncClient(DynamoDbEnhancedAsyncClient asyncClient) {\r\n    DynamoDbTable tableName = AnnotationUtils.getAnnotation(clazz, DynamoDbTable.class);\r\n    this.dynamoDbAsyncTable =\r\n        asyncClient.table(tableName.value(), TableSchema.fromBean(this.clazz));\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  @SneakyThrows\r\n  public EntityDynamoDbRepository() {\r\n    clazz =\r\n        (Class&lt;T&gt;) GenericTypeResolver.resolveTypeArgument(getClass(), DynamoDbRepository.class);\r\n    if (clazz == null) {\r\n      throw new Exception(&quot;Not possible to resolve generic type&quot;);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public Mono&lt;PutItemEnhancedResponse&lt;T&gt;&gt; insert(final T object) {\r\n    final PutItemEnhancedRequest&lt;T&gt; putItemEnhancedRequest =\r\n        PutItemEnhancedRequest.builder(this.clazz)\r\n            .item(object)\r\n            .build();\r\n    return Mono.fromFuture(dynamoDbAsyncTable.putItemWithResponse(putItemEnhancedRequest));\r\n  }\r\n\r\n  public Mono&lt;T&gt; getById(final String id) {\r\n    return Mono.fromFuture(dynamoDbAsyncTable.getItem(getKeyBuild(id)));\r\n  }\r\n\r\n  public Flux&lt;T&gt; getAll() {\r\n    return Flux.from(dynamoDbAsyncTable.scan().items());\r\n  }\r\n\r\n  private Key getKeyBuild(final String id) {\r\n    return Key.builder().partitionValue(id).build();\r\n  }\r\n}\r\n```\r\n\r\nAnd finally to implement a concrete Repository: \r\n```\r\n@Repository\r\n@Log4j2\r\npublic class ConcreteRepository extends EntityDynamoDbRepository&lt;ConcreteEntity&gt; {}\r\n```\r\n\r\nYou might noticed **setAsyncClient** method which defines **dynamoDbAsyncTable**. Due to @DynamoDbBean using the entity class name as a DynamoDB table name, I put custom annotation to assign custom table name there: \r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@DynamoDbBean\r\npublic @interface DynamoDbTable {\r\n  String value();\r\n}\r\n```\r\n\r\nAnswering your question: you can add/call whatever you want inside the **EntityDynamoDbRepository** constructor to wrap your \\&lt;POJO\\&gt; with any possible logic. \r\n\r\np.s.: I didn&#39;t paste the DynamoDbEnhancedAsyncClient bean but there are a lot of samples on a GitHub","title":"How to apply DynamoDB Bean annotations to a different project&#39;s POJOs by using generics?","body":"<p>Recently I implemented an abstract DAO (Repository) in Spring Data style and reactive manner with WebFlux for AWS DynamoDB. Not the ideal, but works fine and as I assume it can fit to your case:</p>\n<p>The first part is the abstract DAO. The common interface looks like this:</p>\n<pre><code>public interface DynamoDbRepository&lt;T&gt; {\n\n  /** Constant prefix for logging purposes */\n  String SN = &quot;[DynamoDbRepository]&quot;;\n\n  Mono&lt;PutItemEnhancedResponse&lt;T&gt;&gt; insert(final T object);\n\n  Mono&lt;T&gt; getById(final String id);\n\n  Flux&lt;T&gt; getAll();\n}\n</code></pre>\n<p>Logic implementation class which extends <strong>DynamoDbRepository</strong>:</p>\n<pre><code>@Log4j2\n@Repository\npublic abstract class EntityDynamoDbRepository&lt;T&gt; implements DynamoDbRepository&lt;T&gt; {\n\n  private final Class&lt;T&gt; clazz;\n  private DynamoDbAsyncTable&lt;T&gt; dynamoDbAsyncTable;\n\n  @Autowired\n  @SneakyThrows\n  public final void setAsyncClient(DynamoDbEnhancedAsyncClient asyncClient) {\n    DynamoDbTable tableName = AnnotationUtils.getAnnotation(clazz, DynamoDbTable.class);\n    this.dynamoDbAsyncTable =\n        asyncClient.table(tableName.value(), TableSchema.fromBean(this.clazz));\n  }\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  @SneakyThrows\n  public EntityDynamoDbRepository() {\n    clazz =\n        (Class&lt;T&gt;) GenericTypeResolver.resolveTypeArgument(getClass(), DynamoDbRepository.class);\n    if (clazz == null) {\n      throw new Exception(&quot;Not possible to resolve generic type&quot;);\n    }\n  }\n\n  @Override\n  public Mono&lt;PutItemEnhancedResponse&lt;T&gt;&gt; insert(final T object) {\n    final PutItemEnhancedRequest&lt;T&gt; putItemEnhancedRequest =\n        PutItemEnhancedRequest.builder(this.clazz)\n            .item(object)\n            .build();\n    return Mono.fromFuture(dynamoDbAsyncTable.putItemWithResponse(putItemEnhancedRequest));\n  }\n\n  public Mono&lt;T&gt; getById(final String id) {\n    return Mono.fromFuture(dynamoDbAsyncTable.getItem(getKeyBuild(id)));\n  }\n\n  public Flux&lt;T&gt; getAll() {\n    return Flux.from(dynamoDbAsyncTable.scan().items());\n  }\n\n  private Key getKeyBuild(final String id) {\n    return Key.builder().partitionValue(id).build();\n  }\n}\n</code></pre>\n<p>And finally to implement a concrete Repository:</p>\n<pre><code>@Repository\n@Log4j2\npublic class ConcreteRepository extends EntityDynamoDbRepository&lt;ConcreteEntity&gt; {}\n</code></pre>\n<p>You might noticed <strong>setAsyncClient</strong> method which defines <strong>dynamoDbAsyncTable</strong>. Due to @DynamoDbBean using the entity class name as a DynamoDB table name, I put custom annotation to assign custom table name there:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@DynamoDbBean\npublic @interface DynamoDbTable {\n  String value();\n}\n</code></pre>\n<p>Answering your question: you can add/call whatever you want inside the <strong>EntityDynamoDbRepository</strong> constructor to wrap your &lt;POJO&gt; with any possible logic.</p>\n<p>p.s.: I didn't paste the DynamoDbEnhancedAsyncClient bean but there are a lot of samples on a GitHub</p>\n"}],"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641443191,"creation_date":1619481759,"question_id":67275241,"body_markdown":"I&#39;m trying to setup a micro-framework within my application to remove duplication of code (&quot;DRY&quot; principle). Specifically I have a need to use annotations from my project in conjunction with several POJO classes that are in a different project (those are the `&lt;T&gt;`&#39;s below) and which do not share my dependencies.\r\n\r\nSo I started with this:\r\n\r\n    public abstract class DynamoRepo&lt;T&gt; {\r\n    \r\n        @DynamoDbBean\r\n        public static class Entity&lt;T&gt; {\r\n        \tprivate Number id;\r\n        \tprivate T bean;\r\n        \r\n        \t@DynamoDbPartitionKey\r\n        \t@DynamoDbConvertedBy(IdConverter.class)\r\n        \tpublic Number getId() {\r\n        \t\treturn id;\r\n        \t}\r\n        \r\n        \tpublic void setId(Number id) {\r\n        \t\tthis.id = id;\r\n        \t}\r\n        \r\n        \t@DynamoDbFlatten\r\n        \tpublic T getBean() {\r\n        \t\treturn bean;\r\n        \t}\r\n        \r\n        \tpublic void setBean(T bean) {\r\n        \t\tthis.bean = bean;\r\n        \t}\r\n        \t\r\n            ...\r\n\r\n... the annotations are required at runtime for the code below\r\n\r\n        private DynamoDbTable&lt;Entity&lt;?&gt;&gt; table;\r\n\r\n... with a bit of setup in the constructor ...\r\n\r\n   \t\ttable = enhancedClient.table(tableName, TableSchema.fromBean(new Entity&lt;? extends T&gt;() {}.getClass()));\r\n\r\n... I&#39;d like to be able to accept a `&lt;T&gt;` which doesn&#39;t require the caller to know about `Entity`:\r\n\r\n\tpublic void putItem(T item) {\r\n\t\ttable.putItem(new Entity&lt;T&gt;(item));\r\n\t}\r\n\r\nAlas, this code doesn&#39;t compile. There are several problems here and any small tweaks lead to a different compile error.\r\n\r\nHow can I possibly make this work without having to add `@DynamoDb` annotations to the underlying POJOs (which are not in my project and don&#39;t have DynamoDB as a dependency) or have to manually create subclasses that extend each of the POJOs (and throw DRY out the window by creating a whole parallel object hierarchy)?\r\n\r\nThis question is about code clarity. Please don&#39;t worry about performance overhead.","title":"How to apply DynamoDB Bean annotations to a different project&#39;s POJOs by using generics?","body":"<p>I'm trying to setup a micro-framework within my application to remove duplication of code (&quot;DRY&quot; principle). Specifically I have a need to use annotations from my project in conjunction with several POJO classes that are in a different project (those are the <code>&lt;T&gt;</code>'s below) and which do not share my dependencies.</p>\n<p>So I started with this:</p>\n<pre><code>public abstract class DynamoRepo&lt;T&gt; {\n\n    @DynamoDbBean\n    public static class Entity&lt;T&gt; {\n        private Number id;\n        private T bean;\n    \n        @DynamoDbPartitionKey\n        @DynamoDbConvertedBy(IdConverter.class)\n        public Number getId() {\n            return id;\n        }\n    \n        public void setId(Number id) {\n            this.id = id;\n        }\n    \n        @DynamoDbFlatten\n        public T getBean() {\n            return bean;\n        }\n    \n        public void setBean(T bean) {\n            this.bean = bean;\n        }\n        \n        ...\n</code></pre>\n<p>... the annotations are required at runtime for the code below</p>\n<pre><code>    private DynamoDbTable&lt;Entity&lt;?&gt;&gt; table;\n</code></pre>\n<p>... with a bit of setup in the constructor ...</p>\n<pre><code>    table = enhancedClient.table(tableName, TableSchema.fromBean(new Entity&lt;? extends T&gt;() {}.getClass()));\n</code></pre>\n<p>... I'd like to be able to accept a <code>&lt;T&gt;</code> which doesn't require the caller to know about <code>Entity</code>:</p>\n<pre><code>public void putItem(T item) {\n    table.putItem(new Entity&lt;T&gt;(item));\n}\n</code></pre>\n<p>Alas, this code doesn't compile. There are several problems here and any small tweaks lead to a different compile error.</p>\n<p>How can I possibly make this work without having to add <code>@DynamoDb</code> annotations to the underlying POJOs (which are not in my project and don't have DynamoDB as a dependency) or have to manually create subclasses that extend each of the POJOs (and throw DRY out the window by creating a whole parallel object hierarchy)?</p>\n<p>This question is about code clarity. Please don't worry about performance overhead.</p>\n"},{"tags":["java","arrays","loops","matrix"],"comments":[{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1641411635,"post_id":70598643,"comment_id":124800828,"body_markdown":"It&#39;s fairly easy. You will still need two indices: one for the rows, the other for the column, it&#39;s just you update them in a single loop when needed.","body":"It&#39;s fairly easy. You will still need two indices: one for the rows, the other for the column, it&#39;s just you update them in a single loop when needed."},{"owner":{"account_id":418284,"reputation":6665,"user_id":794749,"display_name":"gre_gor"},"score":0,"creation_date":1641473097,"post_id":70598643,"comment_id":124815864,"body_markdown":"Questions asking for homework help must include a summary of the work you&#39;ve done so far to solve the problem, and a description of the difficulty you are having solving it. Please read [How to ask homework questions](//meta.stackoverflow.com/q/334822) and [edit] your post.","body":"Questions asking for homework help must include a summary of the work you&#39;ve done so far to solve the problem, and a description of the difficulty you are having solving it. Please read <a href=\"//meta.stackoverflow.com/q/334822\">How to ask homework questions</a> and <a href=\"https://stackoverflow.com/posts/70598643/edit\">edit</a> your post."}],"answers":[{"tags":[],"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":"стасевич"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641413535,"creation_date":1641411378,"answer_id":70598695,"question_id":70598643,"body_markdown":"    int[][] data = {{1, 2, 3}, {4, 5, 6, 7, 8}, {10}};\r\n    \r\n            int currSubArrayNum = 0;\r\n    \r\n            for (int i = 0; currSubArrayNum &lt; data.length; i++) {\r\n                System.out.print(data[currSubArrayNum][i]+&quot; &quot;);\r\n                if (i == data[currSubArrayNum].length - 1) {\r\n                    currSubArrayNum++;\r\n                    i = -1;\r\n                    System.out.println();\r\n                }\r\n    \r\n            }","title":"How output matrix with a single loop (java)","body":"<pre><code>int[][] data = {{1, 2, 3}, {4, 5, 6, 7, 8}, {10}};\n\n        int currSubArrayNum = 0;\n\n        for (int i = 0; currSubArrayNum &lt; data.length; i++) {\n            System.out.print(data[currSubArrayNum][i]+&quot; &quot;);\n            if (i == data[currSubArrayNum].length - 1) {\n                currSubArrayNum++;\n                i = -1;\n                System.out.println();\n            }\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21552968,"reputation":133,"user_id":15888753,"display_name":"Wadite RK"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1641414624,"creation_date":1641412443,"answer_id":70598889,"question_id":70598643,"body_markdown":"The most common loops solution is 2 loops (one nested within the other) like so:\r\n```\r\nfor (int i=0; i&lt;data.length(); i++) {\r\n    for (int j=0; j&lt;data[i].length(); i++) {\r\n        System.out.printf(&quot;%d &quot;, data[i][j]);\r\n    System.out.println();\r\n```\r\n___\r\n**Edit:** If in your desire for 1 loop you mean no inner loop either, the only way that comes up to me is with a loop that runs for each print needed (equal to the length of all the inner arrays combined). Together with a few if statements it goes like so:\r\n```\r\nint[][] data = {{1,2,3},{4,5,6,7,8},{10}};\r\nint len = data[0].length + data[1].length + data[2].length;\r\nint j = 0;\r\nint h = 0;\r\nfor (int i=0; i&lt;len; i++) {\r\n    if (h &gt; 0 &amp;&amp; h%data[j].length == 0) {\r\n        if (++j == data.length) {break;}\r\n        h=0;\r\n        System.out.println();\r\n     }\r\n     System.out.printf(&quot;%d &quot;, data[j][h++%data[j].length]);\r\n}\r\n```\r\nThis isn&#39;t as elegant, but here is an explaination: \r\n- ```i``` of the for loop just serves as an indicator for the number of times we want to print. It is not used within the loop conditions or array indices.\r\n- ```h``` serves as the current number positing within the inner array. When it reaches the length of the inner array, it is reset to zero, and j is increased by 1 (next line).\r\n- ```j``` is used to indicate a change of an inner array.","title":"How output matrix with a single loop (java)","body":"<p>The most common loops solution is 2 loops (one nested within the other) like so:</p>\n<pre><code>for (int i=0; i&lt;data.length(); i++) {\n    for (int j=0; j&lt;data[i].length(); i++) {\n        System.out.printf(&quot;%d &quot;, data[i][j]);\n    System.out.println();\n</code></pre>\n<hr />\n<p><strong>Edit:</strong> If in your desire for 1 loop you mean no inner loop either, the only way that comes up to me is with a loop that runs for each print needed (equal to the length of all the inner arrays combined). Together with a few if statements it goes like so:</p>\n<pre><code>int[][] data = {{1,2,3},{4,5,6,7,8},{10}};\nint len = data[0].length + data[1].length + data[2].length;\nint j = 0;\nint h = 0;\nfor (int i=0; i&lt;len; i++) {\n    if (h &gt; 0 &amp;&amp; h%data[j].length == 0) {\n        if (++j == data.length) {break;}\n        h=0;\n        System.out.println();\n     }\n     System.out.printf(&quot;%d &quot;, data[j][h++%data[j].length]);\n}\n</code></pre>\n<p>This isn't as elegant, but here is an explaination:</p>\n<ul>\n<li><code>i</code> of the for loop just serves as an indicator for the number of times we want to print. It is not used within the loop conditions or array indices.</li>\n<li><code>h</code> serves as the current number positing within the inner array. When it reaches the length of the inner array, it is reset to zero, and j is increased by 1 (next line).</li>\n<li><code>j</code> is used to indicate a change of an inner array.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641413354,"creation_date":1641413354,"answer_id":70599035,"question_id":70598643,"body_markdown":"This is how you can approach this task.\r\n\r\nFirst write down the loops that you would normally use to do this:\r\n\r\n    for (int i = 0; i &lt; data.length; i++) {\r\n    \tfor (int j = 0; j &lt; data[i].length; j++) {\r\n    \t\tSystem.out.print(data[i][j] + &quot; &quot;);\r\n    \t}\r\n    \t\r\n    \tSystem.out.println();\r\n    }\r\n\r\nNow I say that it is possible to rewrite this code so that there is only a single loop. In order to do this, I will spell down what `for` loops actually do with variables:\r\n\r\n    int i = 0;\r\n    \r\n    while (i &lt; data.length) {\r\n    \tint j = 0;\r\n    \t\r\n    \twhile (j &lt; data[i].length) {\r\n    \t\tSystem.out.print(data[i][j] + &quot; &quot;);\r\n    \t\tj++;\r\n    \t}\r\n    \t\r\n    \tSystem.out.println();\r\n    \ti++;\r\n    }\r\n    \r\nThen I will move the `j` variable out of the outer loop:\r\n\r\n    int i = 0;\r\n    int j = 0;\r\n    \r\n    while (i &lt; data.length) {\r\n    \twhile (j &lt; data[i].length) {\r\n    \t\tSystem.out.print(data[i][j] + &quot; &quot;);\r\n    \t\tj++;\r\n    \t}\r\n    \t\r\n    \tSystem.out.println();\r\n    \ti++;\r\n        j = 0;\r\n    }\r\n\r\nAnd finally I decide that it doesn&#39;t actually matter in which loop the code runs as long as it runs under the same conditions on the variables and the loop... loops.\r\n\r\n    int i = 0;\r\n    int j = 0;\r\n    \r\n    while (i &lt; data.length) {\r\n    \tif (j &lt; data[i].length) {\r\n    \t\tSystem.out.print(data[i][j] + &quot; &quot;);\r\n    \t\tj++;\r\n    \t} else {\r\n    \t\tSystem.out.println();\r\n    \t\ti++;\r\n    \t\tj = 0;\r\n    \t}\r\n    }\r\n\r\nThe last step is not entirely straightforward, but you can&#39;t deny the similarity with the previous piece.\r\n\r\nAny nested loop can be unrolled with such a technique. You move all the variables outside and replace `while`s with `if`s here and there and voila!","title":"How output matrix with a single loop (java)","body":"<p>This is how you can approach this task.</p>\n<p>First write down the loops that you would normally use to do this:</p>\n<pre><code>for (int i = 0; i &lt; data.length; i++) {\n    for (int j = 0; j &lt; data[i].length; j++) {\n        System.out.print(data[i][j] + &quot; &quot;);\n    }\n    \n    System.out.println();\n}\n</code></pre>\n<p>Now I say that it is possible to rewrite this code so that there is only a single loop. In order to do this, I will spell down what <code>for</code> loops actually do with variables:</p>\n<pre><code>int i = 0;\n\nwhile (i &lt; data.length) {\n    int j = 0;\n    \n    while (j &lt; data[i].length) {\n        System.out.print(data[i][j] + &quot; &quot;);\n        j++;\n    }\n    \n    System.out.println();\n    i++;\n}\n</code></pre>\n<p>Then I will move the <code>j</code> variable out of the outer loop:</p>\n<pre><code>int i = 0;\nint j = 0;\n\nwhile (i &lt; data.length) {\n    while (j &lt; data[i].length) {\n        System.out.print(data[i][j] + &quot; &quot;);\n        j++;\n    }\n    \n    System.out.println();\n    i++;\n    j = 0;\n}\n</code></pre>\n<p>And finally I decide that it doesn't actually matter in which loop the code runs as long as it runs under the same conditions on the variables and the loop... loops.</p>\n<pre><code>int i = 0;\nint j = 0;\n\nwhile (i &lt; data.length) {\n    if (j &lt; data[i].length) {\n        System.out.print(data[i][j] + &quot; &quot;);\n        j++;\n    } else {\n        System.out.println();\n        i++;\n        j = 0;\n    }\n}\n</code></pre>\n<p>The last step is not entirely straightforward, but you can't deny the similarity with the previous piece.</p>\n<p>Any nested loop can be unrolled with such a technique. You move all the variables outside and replace <code>while</code>s with <code>if</code>s here and there and voila!</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641413562,"creation_date":1641413562,"answer_id":70599071,"question_id":70598643,"body_markdown":"The trick is to start with element *[x][y]*, and for each step, print out *(x,y)* and increment *y*. If *y* is out-of-bounds (i.e. equal to or greater than `[x].length`), then increment *x* and reset *y* to 0 (and print out a newline).\r\n\r\n```java\r\nvoid matrix(int[][] array) {\r\n    int dim1 = 0;\r\n    int dim2 = 0;\r\n    while (dim1 &lt; array.length) {\r\n        if (array[dim1].length &gt; 0) {\r\n            System.out.print(array[dim1][dim2]);\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n        dim2++; // Move to next element of sub-array\r\n        \r\n        if (dim2 &gt;= array[dim1].length) {\r\n            dim1++;\r\n            dim2 = 0;\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```","title":"How output matrix with a single loop (java)","body":"<p>The trick is to start with element <em>[x][y]</em>, and for each step, print out <em>(x,y)</em> and increment <em>y</em>. If <em>y</em> is out-of-bounds (i.e. equal to or greater than <code>[x].length</code>), then increment <em>x</em> and reset <em>y</em> to 0 (and print out a newline).</p>\n<pre class=\"lang-java prettyprint-override\"><code>void matrix(int[][] array) {\n    int dim1 = 0;\n    int dim2 = 0;\n    while (dim1 &lt; array.length) {\n        if (array[dim1].length &gt; 0) {\n            System.out.print(array[dim1][dim2]);\n            System.out.print(&quot; &quot;);\n        }\n        dim2++; // Move to next element of sub-array\n        \n        if (dim2 &gt;= array[dim1].length) {\n            dim1++;\n            dim2 = 0;\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23777518,"reputation":11,"user_id":17790744,"display_name":"Manish Tiwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641443119,"creation_date":1641414678,"answer_id":70599249,"question_id":70598643,"body_markdown":"In case 2 for loops are allowed \r\nalso printing each sub array in next line...\r\n\r\n```java\r\npackage com.github.manishktiwari.matrix;\r\n\r\n/**\r\n * @author manish\r\n *\r\n */\r\npublic class PrintMatrixInSingleLoop {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n \r\n\t\tint[][] mat = {{1,2,3},{4,5,6,7,8},{10}};\r\n\t\t\r\n        // Dimensions of the matrix\r\n        int N = mat.length;\r\n        int M = getWidth(mat);\r\n        // Function Call\r\n        print2DMatrix(mat, N, M);\r\n\t}\r\n\t\r\n\tprivate static int getWidth(int[][] mat) {\r\n\t\tint width = -1;\r\n\t\tfor (int i = 0; i &lt; mat.length; i++) {\r\n\t\t\tint[] innerArray = mat[i];\r\n\t\t\tif (width &lt; innerArray.length) {\r\n\t\t\t\twidth = innerArray.length;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn width;\r\n\t}\r\n\r\n\tpublic static void print2DMatrix(\r\n\t        int arr[][], int rows, int columns)\r\n\t    {\r\n\t \r\n\t        // Iterate over the range\r\n\t        // [0, rows*columns]\r\n\t        for (int i = 0;\r\n\t             i &lt; rows * columns; i++) {\r\n\t \r\n\t            // Find row and column index\r\n\t            int row = i / columns;\r\n\t            int col = i % columns;\r\n\r\n\t            try {\r\n\t\t            // Print the element\r\n\t\t            System.out.print(\r\n\t\t                arr[row][col] + &quot; &quot;);\r\n\t\t\t\t} catch (ArrayIndexOutOfBoundsException e) {\r\n\t\t\t\t\t// TODO: handle exception\r\n\t\t\t\t\tSystem.out.println();\r\n\t\t\t\t\ti = i + (columns-col-1);\r\n\t\t\t\t}\r\n\t            if (col == columns-1) {\r\n\t            \tSystem.out.println();\r\n\t\t\t\t}\r\n\t        }\r\n\t    }\r\n\r\n}\r\n\r\n```","title":"How output matrix with a single loop (java)","body":"<p>In case 2 for loops are allowed\nalso printing each sub array in next line...</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.github.manishktiwari.matrix;\n\n/**\n * @author manish\n *\n */\npublic class PrintMatrixInSingleLoop {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n \n        int[][] mat = {{1,2,3},{4,5,6,7,8},{10}};\n        \n        // Dimensions of the matrix\n        int N = mat.length;\n        int M = getWidth(mat);\n        // Function Call\n        print2DMatrix(mat, N, M);\n    }\n    \n    private static int getWidth(int[][] mat) {\n        int width = -1;\n        for (int i = 0; i &lt; mat.length; i++) {\n            int[] innerArray = mat[i];\n            if (width &lt; innerArray.length) {\n                width = innerArray.length;\n            }\n        }\n        return width;\n    }\n\n    public static void print2DMatrix(\n            int arr[][], int rows, int columns)\n        {\n     \n            // Iterate over the range\n            // [0, rows*columns]\n            for (int i = 0;\n                 i &lt; rows * columns; i++) {\n     \n                // Find row and column index\n                int row = i / columns;\n                int col = i % columns;\n\n                try {\n                    // Print the element\n                    System.out.print(\n                        arr[row][col] + &quot; &quot;);\n                } catch (ArrayIndexOutOfBoundsException e) {\n                    // TODO: handle exception\n                    System.out.println();\n                    i = i + (columns-col-1);\n                }\n                if (col == columns-1) {\n                    System.out.println();\n                }\n            }\n        }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641434860,"creation_date":1641419093,"answer_id":70599958,"question_id":70598643,"body_markdown":"There are several ways. Here is how I would do it.\r\n```\r\n\r\nint[][] data = {{1,2,3},{4,5,6,7,8},{10}};\r\n```\r\n- the `row` and `col` are initialized to `0`.\r\n- the conditional in the loop is for the rows.\r\n- simply print the `row, col`, value and increment the `col`.\r\n- when the col is at the end, print a newline, `col` to `0` and increment the `row`.\r\n```\r\nfor (int row = 0, col = 0; row &lt; data.length;) {\r\n\r\n\tSystem.out.print(data[row][col++] + &quot; &quot;);\r\n\t\r\n\tif (col == data[row].length) {\r\n\t\tSystem.out.println();\r\n\t\tcol = 0;\r\n\t\trow++;\r\n\t}\r\n}\r\n```\r\nprints\r\n```\r\n1 2 3 \r\n4 5 6 7 8 \r\n10 \r\n```\r\nThe important point is to not increment the `row` until the columns have been printed.\r\n\r\nNote:\r\nIf it is important to handle empty rows, then place the following code first in the for loop block. This will increment the row and proceed to the next.\r\n```\r\nif (data[row].length == 0) {\r\n\trow++;\r\n\tcontinue;\r\n}\r\n```","title":"How output matrix with a single loop (java)","body":"<p>There are several ways. Here is how I would do it.</p>\n<pre><code>\nint[][] data = {{1,2,3},{4,5,6,7,8},{10}};\n</code></pre>\n<ul>\n<li>the <code>row</code> and <code>col</code> are initialized to <code>0</code>.</li>\n<li>the conditional in the loop is for the rows.</li>\n<li>simply print the <code>row, col</code>, value and increment the <code>col</code>.</li>\n<li>when the col is at the end, print a newline, <code>col</code> to <code>0</code> and increment the <code>row</code>.</li>\n</ul>\n<pre><code>for (int row = 0, col = 0; row &lt; data.length;) {\n\n    System.out.print(data[row][col++] + &quot; &quot;);\n    \n    if (col == data[row].length) {\n        System.out.println();\n        col = 0;\n        row++;\n    }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>1 2 3 \n4 5 6 7 8 \n10 \n</code></pre>\n<p>The important point is to not increment the <code>row</code> until the columns have been printed.</p>\n<p>Note:\nIf it is important to handle empty rows, then place the following code first in the for loop block. This will increment the row and proceed to the next.</p>\n<pre><code>if (data[row].length == 0) {\n    row++;\n    continue;\n}\n</code></pre>\n"}],"owner":{"account_id":23395892,"reputation":3,"user_id":17459929,"display_name":"Vlad Ivolha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70599958,"answer_count":6,"score":-1,"last_activity_date":1641443119,"creation_date":1641411129,"question_id":70598643,"body_markdown":"how to output the values ​​of a two-dimensional array in the form of a matrix using single loop (it is forbidden to use the methods of the Arrays class or third-party libraries).\r\n\r\n`int[][] data = {{1,2,3},{4,5,6,7,8},{10}};`\r\n\r\noutput to the console as a matrix!\r\n\r\n1 2 3\r\n\r\n4 5 6 7 8\r\n\r\n10","title":"How output matrix with a single loop (java)","body":"<p>how to output the values ​​of a two-dimensional array in the form of a matrix using single loop (it is forbidden to use the methods of the Arrays class or third-party libraries).</p>\n<p><code>int[][] data = {{1,2,3},{4,5,6,7,8},{10}};</code></p>\n<p>output to the console as a matrix!</p>\n<p>1 2 3</p>\n<p>4 5 6 7 8</p>\n<p>10</p>\n"},{"tags":["java","sap-ase","database-cursor","jconnect","apache-metamodel"],"owner":{"account_id":76906,"reputation":4579,"user_id":219865,"accept_rate":73,"display_name":"Ashish Pancholi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":0,"score":6,"last_activity_date":1641442940,"creation_date":1455186094,"question_id":35336573,"body_markdown":"\r\nI am using `ApacheMetaModel` to `Extract` the data from `Sybase ASE 15.5`  database that installed on Windows 7 machine. I am Extracting data into CSV in multi-threading environment. I using these open source libraries\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sybase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sybase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;DDLGen&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sybase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dsparser&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n I am getting the error when I am trying to execute the SELECT query. It does not throw an Exception for any particular query. It can throw an Exception for any Table. I am trying to create a query using `Apache Meta-model` `DataContext`.     \r\n\r\n    Query query = dataContext.query().from(table).as(&quot;ct&quot;).selectAll().toQuery();\r\n    dataContext.executeQuery(query).iterator();\r\n\r\nThe above code will create query like: \r\n\r\n    SELECT ct.&quot;Column1&quot;, ct.&quot;Column2&quot;, ct.&quot;Column3&quot;, ct.&quot;Column4&quot;, ct.&quot;Column5&quot;, ct.&quot;Column6&quot;, ct.&quot;Column7&quot;, ct.&quot;Column8&quot;, ct.&quot;Column9&quot;, ct.&quot;id&quot; FROM schemaowner.&quot;tablename&quot; ct\r\n\r\nThe following is the stack trace:\r\n\r\n    ! com.sybase.jdbc4.jdbc.SybSQLException: There is already another cursor with the name &#39;jconnect_implicit_134&#39; at the nesting level &#39;0&#39;.\r\n    \r\n    ! \r\n    \r\n    ! at com.sybase.jdbc4.tds.Tds.processEed(Tds.java:4117) ~[jconn4-4.0.jar:JDK 1.6/jdbcmain/Thu Apr 30 04:18:00 PDT 2015]\r\n    \r\n    ! at com.sybase.jdbc4.tds.Tds.nextResult(Tds.java:3207) ~[jconn4-4.0.jar:JDK 1.6/jdbcmain/Thu Apr 30 04:18:00 PDT 2015]\r\n    \r\n    ! at com.sybase.jdbc4.tds.Tds.getResultSetResult(Tds.java:3973) ~[jconn4-4.0.jar:JDK 1.6/jdbcmain/Thu Apr 30 04:18:00 PDT 2015]\r\n    \r\n    ! at com.sybase.jdbc4.tds.TdsCursor.open(TdsCursor.java:328) ~[jconn4-4.0.jar:JDK 1.6/jdbcmain/Thu Apr 30 04:18:00 PDT 2015]\r\n    \r\n    ! at com.sybase.jdbc4.jdbc.SybStatement.executeQuery(SybStatement.java:2604) ~[jconn4-4.0.jar:JDK 1.6/jdbcmain/Thu Apr 30 04:18:00 PDT 2015]\r\n    \r\n    ! at com.sybase.jdbc4.jdbc.SybStatement.executeQuery(SybStatement.java:555) ~[jconn4-4.0.jar:JDK 1.6/jdbcmain/Thu Apr 30 04:18:00 PDT 2015]\r\n    \r\n    ! at org.eobjects.metamodel.jdbc.JdbcDataContext.execute(JdbcDataContext.java:381) ~[MetaModel-jdbc-3.4.7.jar:na]\r\n    \r\n    ! at org.eobjects.metamodel.jdbc.JdbcDataContext.executeQuery(JdbcDataContext.java:438) ~[MetaModel-jdbc-3.4.7.jar:na]\r\n    \r\n    ! Causing: org.eobjects.metamodel.MetaModelException: Could not execute query: There is already another cursor with the name &#39;jconnect_implicit_134&#39; at the nesting level &#39;0&#39;.\r\n    \r\n    ! \r\n    \r\n    ! at org.eobjects.metamodel.jdbc.JdbcUtils.wrapException(JdbcUtils.java:70) ~[MetaModel-jdbc-3.4.7.jar:na]\r\n    \r\n    ! at org.eobjects.metamodel.jdbc.JdbcDataContext.executeQuery(JdbcDataContext.java:444) ~[MetaModel-jdbc-3.4.7.jar:na]","title":"Sybase throws Exception &quot;there is already another cursor with the name XXX&quot; when Executing SELECT Query in multi-threading environment","body":"<p>I am using <code>ApacheMetaModel</code> to <code>Extract</code> the data from <code>Sybase ASE 15.5</code>  database that installed on Windows 7 machine. I am Extracting data into CSV in multi-threading environment. I using these open source libraries</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.sybase&lt;/groupId&gt;\n            &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\n            &lt;version&gt;4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sybase&lt;/groupId&gt;\n            &lt;artifactId&gt;DDLGen&lt;/artifactId&gt;\n            &lt;version&gt;4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sybase&lt;/groupId&gt;\n            &lt;artifactId&gt;dsparser&lt;/artifactId&gt;\n            &lt;version&gt;4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>I am getting the error when I am trying to execute the SELECT query. It does not throw an Exception for any particular query. It can throw an Exception for any Table. I am trying to create a query using <code>Apache Meta-model</code> <code>DataContext</code>.     </p>\n\n<pre><code>Query query = dataContext.query().from(table).as(\"ct\").selectAll().toQuery();\ndataContext.executeQuery(query).iterator();\n</code></pre>\n\n<p>The above code will create query like: </p>\n\n<pre><code>SELECT ct.\"Column1\", ct.\"Column2\", ct.\"Column3\", ct.\"Column4\", ct.\"Column5\", ct.\"Column6\", ct.\"Column7\", ct.\"Column8\", ct.\"Column9\", ct.\"id\" FROM schemaowner.\"tablename\" ct\n</code></pre>\n\n<p>The following is the stack trace:</p>\n\n<pre><code>! com.sybase.jdbc4.jdbc.SybSQLException: There is already another cursor with the name 'jconnect_implicit_134' at the nesting level '0'.\n\n! \n\n! at com.sybase.jdbc4.tds.Tds.processEed(Tds.java:4117) ~[jconn4-4.0.jar:JDK 1.6/jdbcmain/Thu Apr 30 04:18:00 PDT 2015]\n\n! at com.sybase.jdbc4.tds.Tds.nextResult(Tds.java:3207) ~[jconn4-4.0.jar:JDK 1.6/jdbcmain/Thu Apr 30 04:18:00 PDT 2015]\n\n! at com.sybase.jdbc4.tds.Tds.getResultSetResult(Tds.java:3973) ~[jconn4-4.0.jar:JDK 1.6/jdbcmain/Thu Apr 30 04:18:00 PDT 2015]\n\n! at com.sybase.jdbc4.tds.TdsCursor.open(TdsCursor.java:328) ~[jconn4-4.0.jar:JDK 1.6/jdbcmain/Thu Apr 30 04:18:00 PDT 2015]\n\n! at com.sybase.jdbc4.jdbc.SybStatement.executeQuery(SybStatement.java:2604) ~[jconn4-4.0.jar:JDK 1.6/jdbcmain/Thu Apr 30 04:18:00 PDT 2015]\n\n! at com.sybase.jdbc4.jdbc.SybStatement.executeQuery(SybStatement.java:555) ~[jconn4-4.0.jar:JDK 1.6/jdbcmain/Thu Apr 30 04:18:00 PDT 2015]\n\n! at org.eobjects.metamodel.jdbc.JdbcDataContext.execute(JdbcDataContext.java:381) ~[MetaModel-jdbc-3.4.7.jar:na]\n\n! at org.eobjects.metamodel.jdbc.JdbcDataContext.executeQuery(JdbcDataContext.java:438) ~[MetaModel-jdbc-3.4.7.jar:na]\n\n! Causing: org.eobjects.metamodel.MetaModelException: Could not execute query: There is already another cursor with the name 'jconnect_implicit_134' at the nesting level '0'.\n\n! \n\n! at org.eobjects.metamodel.jdbc.JdbcUtils.wrapException(JdbcUtils.java:70) ~[MetaModel-jdbc-3.4.7.jar:na]\n\n! at org.eobjects.metamodel.jdbc.JdbcDataContext.executeQuery(JdbcDataContext.java:444) ~[MetaModel-jdbc-3.4.7.jar:na]\n</code></pre>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":23841946,"reputation":11,"user_id":17846887,"display_name":"twelve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1641442806,"creation_date":1641442806,"question_id":70602429,"body_markdown":"Starting from the user registration account, every 3 months, this function will be enabled for users to upload files for 7 days. The administrator will review whether the file is passed, and then upload it again. If it is not uploaded or passed within 7 days, you need to wait another three months. If uploading is not possible due to special reasons, the administrator can enable the function for one person for one day, and then automatically close it after one day.\r\nHow to realize this function? If there is a similar project, please recommend it, thank you very much!","title":"Springboot realizes that users can upload files regularly","body":"<p>Starting from the user registration account, every 3 months, this function will be enabled for users to upload files for 7 days. The administrator will review whether the file is passed, and then upload it again. If it is not uploaded or passed within 7 days, you need to wait another three months. If uploading is not possible due to special reasons, the administrator can enable the function for one person for one day, and then automatically close it after one day.\nHow to realize this function? If there is a similar project, please recommend it, thank you very much!</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":7280773,"reputation":494,"user_id":5550621,"display_name":"Nenad"},"score":1,"creation_date":1542924337,"post_id":53438370,"comment_id":93750626,"body_markdown":"What do you mean by same stars? If the criteria for equality is same coordinates, just generate hashcode and equals depending on the coordinates. If not, just choose the appropriate criteria for equality and override hashcode and equals depending on it.","body":"What do you mean by same stars? If the criteria for equality is same coordinates, just generate hashcode and equals depending on the coordinates. If not, just choose the appropriate criteria for equality and override hashcode and equals depending on it."},{"owner":{"account_id":7799965,"reputation":2027,"user_id":5899776,"accept_rate":83,"display_name":"vandench"},"score":1,"creation_date":1542924421,"post_id":53438370,"comment_id":93750639,"body_markdown":"Your constructor has some problems with it, it would probably be better to use the same RNG. Also your y coord is using the `maxX` variable.","body":"Your constructor has some problems with it, it would probably be better to use the same RNG. Also your y coord is using the <code>maxX</code> variable."},{"owner":{"account_id":13425830,"reputation":137,"user_id":9687216,"display_name":"SoLow"},"score":0,"creation_date":1542925195,"post_id":53438370,"comment_id":93750811,"body_markdown":"Yes, same I mean coordinates.","body":"Yes, same I mean coordinates."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1542957799,"post_id":53438370,"comment_id":93757298,"body_markdown":"You need to create a hashCode and equals method. You can generate these using your IDE.","body":"You need to create a hashCode and equals method. You can generate these using your IDE."}],"answers":[{"tags":[],"owner":{"account_id":9795689,"reputation":1259,"user_id":7258827,"display_name":"AppleCiderGuy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542924014,"creation_date":1542924014,"answer_id":53438422,"question_id":53438370,"body_markdown":"you can override hashCode() method from Object. So, in your Star class, add:\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        in hash = .... //make your hash code about the coordinates of your star.\r\n        return hash;\r\n    }\r\n\r\nso, when you place a new star with the same co-ordiante in the hash map, it will overwrite the previous start with the same co-ordiantes if already present in the map.\r\n","title":"Comparing objects in HashSet","body":"<p>you can override hashCode() method from Object. So, in your Star class, add:</p>\n\n<pre><code>@Override\npublic int hashCode() {\n    in hash = .... //make your hash code about the coordinates of your star.\n    return hash;\n}\n</code></pre>\n\n<p>so, when you place a new star with the same co-ordiante in the hash map, it will overwrite the previous start with the same co-ordiantes if already present in the map.</p>\n"},{"tags":[],"owner":{"account_id":2533959,"reputation":1871,"user_id":2201566,"accept_rate":80,"display_name":"Mahmoud Hanafy"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1542984203,"creation_date":1542924614,"answer_id":53438509,"question_id":53438370,"body_markdown":"You have to implement `hashCode` and `equals`.\r\nthe code should be like this:\r\n\r\n      public static class Star {\r\n        int x, y;\r\n        public Star(int x, int y) {\r\n          this.x = x;\r\n          this.y = y;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n          return x * 1000 + y;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n          if (obj instanceof Star) {\r\n            Star s = (Star) obj;\r\n            return this.x == s.x &amp;&amp; this.y == s.y;\r\n          }\r\n    \r\n          return false;\r\n        }\r\n\r\n      }\r\n\r\n      public static void main(String args[]) throws Exception {\r\n        HashSet&lt;Star&gt; set = new HashSet&lt;Star&gt;();\r\n        set.add(new Star(1, 1));\r\n        set.add(new Star(1, 1));\r\n    \r\n        System.out.println(set.size());\r\n      }\r\n\r\n\r\n**note:** choose the suitable hashcode function for you. I assumed here that y should always be less than 1000.","title":"Comparing objects in HashSet","body":"<p>You have to implement <code>hashCode</code> and <code>equals</code>.\nthe code should be like this:</p>\n\n<pre><code>  public static class Star {\n    int x, y;\n    public Star(int x, int y) {\n      this.x = x;\n      this.y = y;\n    }\n\n    @Override\n    public int hashCode() {\n      return x * 1000 + y;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n      if (obj instanceof Star) {\n        Star s = (Star) obj;\n        return this.x == s.x &amp;&amp; this.y == s.y;\n      }\n\n      return false;\n    }\n\n  }\n\n  public static void main(String args[]) throws Exception {\n    HashSet&lt;Star&gt; set = new HashSet&lt;Star&gt;();\n    set.add(new Star(1, 1));\n    set.add(new Star(1, 1));\n\n    System.out.println(set.size());\n  }\n</code></pre>\n\n<p><strong>note:</strong> choose the suitable hashcode function for you. I assumed here that y should always be less than 1000.</p>\n"},{"tags":[],"owner":{"account_id":9317260,"reputation":165,"user_id":6917208,"display_name":"Adam McClenaghan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542925079,"creation_date":1542925079,"answer_id":53438579,"question_id":53438370,"body_markdown":"In java, when adding an object to a HashSet, the add method uses the &#39;equals&#39; method, which is part of the Object class (however you can override it) in order to determine if the set already contains the object you are trying to add, see : https://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html\r\n\r\nHowever, if you are overriding the equals method then you should also override the hashCode method, this is very well explained in the following post : https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java\r\n\r\nIf you are going to follow this advice, I would also advise using ApacheCommonsLang [EqualsBuilder][1] and [HashCodeBuilder][2] if your lecturer allows it as they provide a solid implementation based on the rules laid out in the book &#39;Effective Java&#39; by Joshua Bloch\r\n\r\nTo override the equals method in your Star class, you want to think about the criteria that make two star objects equal. From your example this might be that both of them have the same x and y co-ordinates. \r\n\r\n \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html","title":"Comparing objects in HashSet","body":"<p>In java, when adding an object to a HashSet, the add method uses the 'equals' method, which is part of the Object class (however you can override it) in order to determine if the set already contains the object you are trying to add, see : <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html</a></p>\n\n<p>However, if you are overriding the equals method then you should also override the hashCode method, this is very well explained in the following post : <a href=\"https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java\">Why do I need to override the equals and hashCode methods in Java?</a></p>\n\n<p>If you are going to follow this advice, I would also advise using ApacheCommonsLang <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html\" rel=\"nofollow noreferrer\">EqualsBuilder</a> and <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\" rel=\"nofollow noreferrer\">HashCodeBuilder</a> if your lecturer allows it as they provide a solid implementation based on the rules laid out in the book 'Effective Java' by Joshua Bloch</p>\n\n<p>To override the equals method in your Star class, you want to think about the criteria that make two star objects equal. From your example this might be that both of them have the same x and y co-ordinates. </p>\n"},{"tags":[],"owner":{"account_id":2719548,"reputation":2231,"user_id":2346131,"display_name":"Lavish Kothari"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1542927661,"creation_date":1542927661,"answer_id":53438892,"question_id":53438370,"body_markdown":"**Overriding the `hashCode()` method alone in your `Star` class will not work** you will have to override the `equals()` method.\r\n\r\nSee the following code where we don&#39;t override the `equals()` method:\r\n\r\n    class Star {\r\n        int x, y;\r\n\r\n        public Star(int x, int y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(x, y);\r\n        }\r\n    }\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Star s1 = new Star(0, 0);\r\n            Star s3 = new Star(0, 0);\r\n            Star s2 = new Star(31, -31*31);\r\n            Set&lt;Star&gt; set = new HashSet&lt;&gt;();\r\n            set.add(s1);\r\n            set.add(s2);\r\n            System.out.println(set.size());\r\n        }\r\n    }\r\n\r\nThis will print 3 (instead of 2 what you might expect).\r\n\r\nThe reason for this is that the add method of `java.util.Set` compares 2 objects based on `equals()` method and not based on `hashCode()` method.\r\n\r\nIn the above code for the `Star` class, if you add the `equals()` method the output will be 2 now. For your reference the you can override the `equals()` method as follows:\r\n\r\n    @Override\r\n    public boolean equals(Object startObject) {\r\n        if (this == startObject) return true;\r\n        if (startObject == null || getClass() != startObject.getClass()) return false;\r\n        Star star = (Star) startObject;\r\n        return x == star.x &amp;&amp;\r\n                y == star.y;\r\n    }\r\n\r\nSo why do you need to add `hashCode()`?\r\n\r\n 1. As you are using `HashSet` the add method behind the scene will call the `equals()` method and will also call `hashCode()` to decide the bucket in which the new object should be put. To maintain the contract of `hashCode()` and `equals()` Both should be overridden. \r\n 2. When ever you override `equals()`, it is recommended to override `hashCode()` also. (Vice-versa is also true). See [this][1] link for details.\r\n\r\n**Contract for `hashCode()` and `equals()`**: If for two objects say `o1` and `o2`, `o1.equals(o2)` is `true` then hash of `o1` and `o2` `should` be same. \r\n\r\nMake sure that you understand this properly, from the above statement it is not implied that if the hash of 2 objects are same, then `o1.equals(o2)` should return `true`. **It can be possible that for 2 objects, their hash is same but the `o1.equals(o2)` returns `false`**\r\n\r\nSee [here][2], what `Object`&#39;s `hashCode()` method guarantees.\r\n\r\nSee [this][3] link to get more detailed information about this topic. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2265637/2346131\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()\r\n  [3]: https://dzone.com/articles/working-with-hashcode-and-equals-in-java","title":"Comparing objects in HashSet","body":"<p><strong>Overriding the <code>hashCode()</code> method alone in your <code>Star</code> class will not work</strong> you will have to override the <code>equals()</code> method.</p>\n\n<p>See the following code where we don't override the <code>equals()</code> method:</p>\n\n<pre><code>class Star {\n    int x, y;\n\n    public Star(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(x, y);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Star s1 = new Star(0, 0);\n        Star s3 = new Star(0, 0);\n        Star s2 = new Star(31, -31*31);\n        Set&lt;Star&gt; set = new HashSet&lt;&gt;();\n        set.add(s1);\n        set.add(s2);\n        System.out.println(set.size());\n    }\n}\n</code></pre>\n\n<p>This will print 3 (instead of 2 what you might expect).</p>\n\n<p>The reason for this is that the add method of <code>java.util.Set</code> compares 2 objects based on <code>equals()</code> method and not based on <code>hashCode()</code> method.</p>\n\n<p>In the above code for the <code>Star</code> class, if you add the <code>equals()</code> method the output will be 2 now. For your reference the you can override the <code>equals()</code> method as follows:</p>\n\n<pre><code>@Override\npublic boolean equals(Object startObject) {\n    if (this == startObject) return true;\n    if (startObject == null || getClass() != startObject.getClass()) return false;\n    Star star = (Star) startObject;\n    return x == star.x &amp;&amp;\n            y == star.y;\n}\n</code></pre>\n\n<p>So why do you need to add <code>hashCode()</code>?</p>\n\n<ol>\n<li>As you are using <code>HashSet</code> the add method behind the scene will call the <code>equals()</code> method and will also call <code>hashCode()</code> to decide the bucket in which the new object should be put. To maintain the contract of <code>hashCode()</code> and <code>equals()</code> Both should be overridden. </li>\n<li>When ever you override <code>equals()</code>, it is recommended to override <code>hashCode()</code> also. (Vice-versa is also true). See <a href=\"https://stackoverflow.com/a/2265637/2346131\">this</a> link for details.</li>\n</ol>\n\n<p><strong>Contract for <code>hashCode()</code> and <code>equals()</code></strong>: If for two objects say <code>o1</code> and <code>o2</code>, <code>o1.equals(o2)</code> is <code>true</code> then hash of <code>o1</code> and <code>o2</code> <code>should</code> be same. </p>\n\n<p>Make sure that you understand this properly, from the above statement it is not implied that if the hash of 2 objects are same, then <code>o1.equals(o2)</code> should return <code>true</code>. <strong>It can be possible that for 2 objects, their hash is same but the <code>o1.equals(o2)</code> returns <code>false</code></strong></p>\n\n<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()\" rel=\"noreferrer\">here</a>, what <code>Object</code>'s <code>hashCode()</code> method guarantees.</p>\n\n<p>See <a href=\"https://dzone.com/articles/working-with-hashcode-and-equals-in-java\" rel=\"noreferrer\">this</a> link to get more detailed information about this topic. </p>\n"},{"tags":[],"owner":{"account_id":14734765,"reputation":1,"user_id":10641096,"display_name":"no a me"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641442325,"creation_date":1641442325,"answer_id":70602376,"question_id":53438370,"body_markdown":"If you are using eclipse as your editor just right-click on the editor pane, go-to source then generate hashcode() and equals() pick the parameters you would like to consider. You will get an autogenerated function.","title":"Comparing objects in HashSet","body":"<p>If you are using eclipse as your editor just right-click on the editor pane, go-to source then generate hashcode() and equals() pick the parameters you would like to consider. You will get an autogenerated function.</p>\n"}],"owner":{"account_id":13425830,"reputation":137,"user_id":9687216,"display_name":"SoLow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5292,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":53438892,"answer_count":5,"score":2,"last_activity_date":1641442325,"creation_date":1542923604,"question_id":53438370,"body_markdown":"I&#39;m making a 2D game that has a stars in it. I decided to create constructor in class named Star that gives random coordinates.\r\n\r\n    public Star(){\r\n        super(0,0);\r\n        x = randomX.nextInt(maxX - minX + 1);\r\n        y = randomY.nextInt(maxX - minY + 1);\r\n    }\r\nThen, in other class I put them in HashSet\r\n\r\n    Set&lt;Star&gt; star = new HashSet&lt;&gt;();\r\n\r\n    public Set&lt;Star&gt; generateStars(){\r\n        while (star.size() &lt; numberOfStars){\r\n                star.add(new Star());\r\n        }\r\n        return star;\r\n    }\r\nOf course, I have render and tick methods but I think it&#39;s not worth to paste them. My lecturer told me that there can be same stars and to prevent that I should use identity function using hashcodes. Can someone help me figure that out ? I imagine that this function should check if the hashcodes are the same and if it&#39;s the case it should return only one value that way we will add 1 object instead of 2 into the HashSet. Am I right ?","title":"Comparing objects in HashSet","body":"<p>I'm making a 2D game that has a stars in it. I decided to create constructor in class named Star that gives random coordinates.</p>\n\n<pre><code>public Star(){\n    super(0,0);\n    x = randomX.nextInt(maxX - minX + 1);\n    y = randomY.nextInt(maxX - minY + 1);\n}\n</code></pre>\n\n<p>Then, in other class I put them in HashSet</p>\n\n<pre><code>Set&lt;Star&gt; star = new HashSet&lt;&gt;();\n\npublic Set&lt;Star&gt; generateStars(){\n    while (star.size() &lt; numberOfStars){\n            star.add(new Star());\n    }\n    return star;\n}\n</code></pre>\n\n<p>Of course, I have render and tick methods but I think it's not worth to paste them. My lecturer told me that there can be same stars and to prevent that I should use identity function using hashcodes. Can someone help me figure that out ? I imagine that this function should check if the hashcodes are the same and if it's the case it should return only one value that way we will add 1 object instead of 2 into the HashSet. Am I right ?</p>\n"},{"tags":["java","maven","jersey","jax-rs","jersey-2.0"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1423864395,"post_id":28509370,"comment_id":45337827,"body_markdown":"Looks like you have incompatible jars in your classpath","body":"Looks like you have incompatible jars in your classpath"},{"owner":{"account_id":2695603,"reputation":6882,"user_id":2327745,"display_name":"Tanmay Patil"},"score":3,"creation_date":1423864992,"post_id":28509370,"comment_id":45338092,"body_markdown":"I hope you are not in a jar hell.","body":"I hope you are not in a jar hell."},{"owner":{"account_id":1400310,"reputation":853,"user_id":1329220,"accept_rate":80,"display_name":"SGr"},"score":0,"creation_date":1423865028,"post_id":28509370,"comment_id":45338107,"body_markdown":"I&#39;ve been in jar hell for the last 3 days.. didn&#39;t get any work done because of that.","body":"I&#39;ve been in jar hell for the last 3 days.. didn&#39;t get any work done because of that."},{"owner":{"account_id":3727665,"reputation":2086,"user_id":3101090,"display_name":"John R"},"score":0,"creation_date":1423865395,"post_id":28509370,"comment_id":45338267,"body_markdown":"You have a version mismatch.  Can you post your pom?","body":"You have a version mismatch.  Can you post your pom?"},{"owner":{"account_id":1400310,"reputation":853,"user_id":1329220,"accept_rate":80,"display_name":"SGr"},"score":0,"creation_date":1423866155,"post_id":28509370,"comment_id":45338546,"body_markdown":"Here&#39;s the effective pom, thank you so much: http://pastebin.com/NacsWTjz","body":"Here&#39;s the effective pom, thank you so much: <a href=\"http://pastebin.com/NacsWTjz\" rel=\"nofollow noreferrer\">pastebin.com/NacsWTjz</a>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1423892036,"post_id":28509370,"comment_id":45343900,"body_markdown":"One thing I don&#39;t see in the effective pom is the `javax.ws.rs.-api-2.0.1.jar`. Can you post the actual pom (here), and not the effective pom (somewhere else)","body":"One thing I don&#39;t see in the effective pom is the <code>javax.ws.rs.-api-2.0.1.jar</code>. Can you post the actual pom (here), and not the effective pom (somewhere else)"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1423892178,"post_id":28509370,"comment_id":45343938,"body_markdown":"Just an FYI, this error is often a conflict of us using the jax-rs 1 api, when we really need the jax-rs 2 api","body":"Just an FYI, this error is often a conflict of us using the jax-rs 1 api, when we really need the jax-rs 2 api"},{"owner":{"account_id":1400310,"reputation":853,"user_id":1329220,"accept_rate":80,"display_name":"SGr"},"score":0,"creation_date":1423897870,"post_id":28509370,"comment_id":45344927,"body_markdown":"The actual pom: http://pastebin.com/H6sHe4ce","body":"The actual pom: <a href=\"http://pastebin.com/H6sHe4ce\" rel=\"nofollow noreferrer\">pastebin.com/H6sHe4ce</a>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1423898289,"post_id":28509370,"comment_id":45344992,"body_markdown":"That doesn&#39;t help. We don&#39;t have the parent","body":"That doesn&#39;t help. We don&#39;t have the parent"},{"owner":{"account_id":1400310,"reputation":853,"user_id":1329220,"accept_rate":80,"display_name":"SGr"},"score":0,"creation_date":1423898508,"post_id":28509370,"comment_id":45345025,"body_markdown":"It&#39;s parent: http://pastebin.com/P3wsKy5V and that parent&#39;s parent has the jersey stuff: http://pastebin.com/hKicrwDg","body":"It&#39;s parent: <a href=\"http://pastebin.com/P3wsKy5V\" rel=\"nofollow noreferrer\">pastebin.com/P3wsKy5V</a> and that parent&#39;s parent has the jersey stuff: <a href=\"http://pastebin.com/hKicrwDg\" rel=\"nofollow noreferrer\">pastebin.com/hKicrwDg</a>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1423898572,"post_id":28509370,"comment_id":45345035,"body_markdown":"Run `mvn dependency:tree -Dverbose` to see If any of the dependencies depend on `jsr-311`. In which case, you will need to exclude it","body":"Run <code>mvn dependency:tree -Dverbose</code> to see If any of the dependencies depend on <code>jsr-311</code>. In which case, you will need to exclude it"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1423899007,"post_id":28509370,"comment_id":45345086,"body_markdown":"Also look in your tomcat libs. Maybe it is in there. I&#39;ll test your pom when I get a chance","body":"Also look in your tomcat libs. Maybe it is in there. I&#39;ll test your pom when I get a chance"},{"owner":{"account_id":1400310,"reputation":853,"user_id":1329220,"accept_rate":80,"display_name":"SGr"},"score":0,"creation_date":1423899009,"post_id":28509370,"comment_id":45345089,"body_markdown":"There&#39;s 4 occurences of modules that rely on `com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.0.0:compile` which depends on jsr-311. There are 28 occurences of modules that depend on jsr-305.","body":"There&#39;s 4 occurences of modules that rely on <code>com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:&zwnj;&#8203;2.0.0:compile</code> which depends on jsr-311. There are 28 occurences of modules that depend on jsr-305."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1423899060,"post_id":28509370,"comment_id":45345099,"body_markdown":"Try and exclude it (jsr-311). jsr-311 is JAX-RS 1. This is a conflict as Jersey 2 uses JAX-RS 2, but there are still some classes like `Application` that are the same. JAX-RS 1 will not have the method `getProperties`, as shown in the exception.","body":"Try and exclude it (jsr-311). jsr-311 is JAX-RS 1. This is a conflict as Jersey 2 uses JAX-RS 2, but there are still some classes like <code>Application</code> that are the same. JAX-RS 1 will not have the method <code>getProperties</code>, as shown in the exception."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1423899308,"post_id":28509370,"comment_id":45345137,"body_markdown":"Do this, just add `jackson-jaxrs-json-provider:2.3.2`. And don&#39;t worry about anything else. See if the app runs. This will cause the 2.0 not to be included. Not sure if it will break anything else though","body":"Do this, just add <code>jackson-jaxrs-json-provider:2.3.2</code>. And don&#39;t worry about anything else. See if the app runs. This will cause the 2.0 not to be included. Not sure if it will break anything else though"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1423900650,"post_id":28509370,"comment_id":45345352,"body_markdown":"You may be able to just exclude the jsr jar. Add `&lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n                    &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;`  to the swagger dependency","body":"You may be able to just exclude the jsr jar. Add <code>&lt;exclusions&gt;                 &lt;exclusion&gt;                     &lt;groupId&gt;javax.ws.rs&lt;&#47;groupId&gt;                     &lt;artifactId&gt;jsr311-api&lt;&#47;artifactId&gt;                 &lt;&#47;exclusion&gt;             &lt;&#47;exclusions&gt;</code>  to the swagger dependency"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1423901046,"post_id":28509370,"comment_id":45345419,"body_markdown":"So I&#39;ve come to the conclusion that all you need to do is add the above exclusion to the swagger dependency. The Jackson 2.0 provider is overriden by a 2.4.1 provider. So we don&#39;t need to add it ourselves. When it&#39;s overriden, it seems to leave behind the jsr-311 jar. So if we exclude it, no one can attempt to use it, which looks to be the current problem","body":"So I&#39;ve come to the conclusion that all you need to do is add the above exclusion to the swagger dependency. The Jackson 2.0 provider is overriden by a 2.4.1 provider. So we don&#39;t need to add it ourselves. When it&#39;s overriden, it seems to leave behind the jsr-311 jar. So if we exclude it, no one can attempt to use it, which looks to be the current problem"},{"owner":{"account_id":1400310,"reputation":853,"user_id":1329220,"accept_rate":80,"display_name":"SGr"},"score":0,"creation_date":1423902435,"post_id":28509370,"comment_id":45345621,"body_markdown":"That worked! Thank you so much, please post it as an answer so I can give you the reputation you more than deseve.","body":"That worked! Thank you so much, please post it as an answer so I can give you the reputation you more than deseve."}],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1436324534,"creation_date":1423902769,"answer_id":28513868,"question_id":28509370,"body_markdown":"**Note:** Please see above comments for further discussion and tips.\r\n\r\nThis error usual means that you have a both a JAX-RS 1 and JAX-RS 2 jar on the classpath. Jersey 2 uses JAX-RS 2 (`javax.ws.rs-api-2.0.1.jar`), but if you have the `jsr311-api.jar` also, which is JAX-RS 1, there is a `javax.ws.rs.core.Application` in each jar. But the `jsr311-api` `Application` doesn&#39;t have the method `getProperties()` (hence `NoSuchMethodError`).\r\n\r\nI&#39;ve come to the conclusion that all you need to do is add the above exclusion to the swagger dependency. The Jackson 2.0 provider (which depends on JAX-RS 1) seems to be overridden by a 2.4.1 provider (which uses the new version). So we don&#39;t need to add it ourselves. When it&#39;s overridden, it seems to leave behind the `jsr311-api.jar`. So if we exclude it, no one can attempt to use it, which looks to be the current problem\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.wordnik&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-core_2.10&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.11&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"NoSuchMethodError on startup in Java Jersey app","body":"<p><strong>Note:</strong> Please see above comments for further discussion and tips.</p>\n\n<p>This error usual means that you have a both a JAX-RS 1 and JAX-RS 2 jar on the classpath. Jersey 2 uses JAX-RS 2 (<code>javax.ws.rs-api-2.0.1.jar</code>), but if you have the <code>jsr311-api.jar</code> also, which is JAX-RS 1, there is a <code>javax.ws.rs.core.Application</code> in each jar. But the <code>jsr311-api</code> <code>Application</code> doesn't have the method <code>getProperties()</code> (hence <code>NoSuchMethodError</code>).</p>\n\n<p>I've come to the conclusion that all you need to do is add the above exclusion to the swagger dependency. The Jackson 2.0 provider (which depends on JAX-RS 1) seems to be overridden by a 2.4.1 provider (which uses the new version). So we don't need to add it ourselves. When it's overridden, it seems to leave behind the <code>jsr311-api.jar</code>. So if we exclude it, no one can attempt to use it, which looks to be the current problem</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.wordnik&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-core_2.10&lt;/artifactId&gt;\n    &lt;version&gt;1.3.11&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;jsr311-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1606795,"reputation":9608,"user_id":1486742,"display_name":"LeOn - Han Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528817275,"creation_date":1528817275,"answer_id":50820788,"question_id":28509370,"body_markdown":"We are using `jersey-json` 1.9 which has a dependency on `jersey-core` which also happen to have a `javax.ws.rs.core.Application` class. \r\n\r\nSo our fix is to exclude the **jersey-core** from `jersey-json`:\r\n\t\t\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;","title":"NoSuchMethodError on startup in Java Jersey app","body":"<p>We are using <code>jersey-json</code> 1.9 which has a dependency on <code>jersey-core</code> which also happen to have a <code>javax.ws.rs.core.Application</code> class. </p>\n\n<p>So our fix is to exclude the <strong>jersey-core</strong> from <code>jersey-json</code>:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\n        &lt;version&gt;1.9&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5711291,"reputation":1437,"user_id":4513218,"display_name":"Walterwhites"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542030699,"creation_date":1542030699,"answer_id":53263614,"question_id":28509370,"body_markdown":"the problem is related about &quot;com.sun.jersey:jersey-core:jar:1.18.3&quot; (or any 1.* version) because old versions of Jersey didn&#39;t have that &quot;public Map&lt;String, Object&gt; getProperties()&quot; method.\r\n\r\nAnd one of your dependencies use Jersey version 1 (you can check that in running mvn dependency:tree and search all jersey-core version used)\r\n\r\nMe I have resolved the problem deleting all com.sun.jersey dependancies (old api) and using the new one org.glassfish.jersey API\r\n\r\nhttps://mvnrepository.com/artifact/org.glassfish.jersey.core","title":"NoSuchMethodError on startup in Java Jersey app","body":"<p>the problem is related about \"com.sun.jersey:jersey-core:jar:1.18.3\" (or any 1.* version) because old versions of Jersey didn't have that \"public Map getProperties()\" method.</p>\n\n<p>And one of your dependencies use Jersey version 1 (you can check that in running mvn dependency:tree and search all jersey-core version used)</p>\n\n<p>Me I have resolved the problem deleting all com.sun.jersey dependancies (old api) and using the new one org.glassfish.jersey API</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/org.glassfish.jersey.core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.glassfish.jersey.core</a></p>\n"}],"owner":{"account_id":1400310,"reputation":853,"user_id":1329220,"accept_rate":80,"display_name":"SGr"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35377,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":28513868,"answer_count":3,"score":28,"last_activity_date":1641441153,"creation_date":1423864263,"question_id":28509370,"body_markdown":"I&#39;ve been getting a very strange error when trying to start a Jersey app on Tomcat. The same code works on other computers. I tried reinstalling tomcat, all my maven dependencies, even Eclipse and Java itself, no luck. It seems like a bad Jersey version is being loaded, I think?\r\n\r\nAny pointers in the right direction will be appreciated.\r\n\r\nHere&#39;s the effective pom: http://pastebin.com/NacsWTjz\r\n\r\nAnd the actual pom: http://pastebin.com/H6sHe4ce\r\n\r\n    2015-02-13 13:43:40,870 [localhost-startStop-1] ERROR org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/middleware-server] - StandardWrapper.Throwable\r\n    java.lang.NoSuchMethodError: javax.ws.rs.core.Application.getProperties()Ljava/util/Map;\r\n    \tat org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:304)\r\n    \tat org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:285)\r\n    \tat org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)\r\n    \tat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:358)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1231)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1144)\r\n    \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1031)\r\n    \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4901)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5188)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1399)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)","title":"NoSuchMethodError on startup in Java Jersey app","body":"<p>I've been getting a very strange error when trying to start a Jersey app on Tomcat. The same code works on other computers. I tried reinstalling tomcat, all my maven dependencies, even Eclipse and Java itself, no luck. It seems like a bad Jersey version is being loaded, I think?</p>\n\n<p>Any pointers in the right direction will be appreciated.</p>\n\n<p>Here's the effective pom: <a href=\"http://pastebin.com/NacsWTjz\">http://pastebin.com/NacsWTjz</a></p>\n\n<p>And the actual pom: <a href=\"http://pastebin.com/H6sHe4ce\">http://pastebin.com/H6sHe4ce</a></p>\n\n<pre><code>2015-02-13 13:43:40,870 [localhost-startStop-1] ERROR org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/middleware-server] - StandardWrapper.Throwable\njava.lang.NoSuchMethodError: javax.ws.rs.core.Application.getProperties()Ljava/util/Map;\n    at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:304)\n    at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:285)\n    at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:311)\n    at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)\n    at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:358)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1231)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1144)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1031)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4901)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5188)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1409)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1399)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","list","boolean"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641440527,"creation_date":1641439867,"answer_id":70602129,"question_id":70602104,"body_markdown":"Check out the [ArrayList#remove(Object o) API](https://docs.oracle.com/javase/10/docs/api/java/util/ArrayList.html#remove(java.lang.Object)) and you&#39;ll see:\r\n\r\n&gt; public boolean remove​(Object o)  \r\n\r\n&gt; Removes the first occurrence of the specified element from this list, if it is present. If the list does not contain the element, it is unchanged. More formally, removes the element with the lowest index i such that Objects.equals(o, get(i)) (if such an element exists). Returns true if this list contained the specified element (or equivalently, if this list changed as a result of the call).\r\n\r\nThe error from the method here:\r\n```\r\nint posOne = copyList.remove(stuck.get(0));\r\n```\r\nmakes sense since this method returns a boolean, not an int. \r\n_________________\r\nRegarding, \r\n&gt; I have not been able to find a solution anywhere, what am I doing wrong\r\n\r\nYour main mistake was not going to the Java API as your first step","title":"Why is the get function of a list of integers returning a boolean?","body":"<p>Check out the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/ArrayList.html#remove(java.lang.Object)\" rel=\"nofollow noreferrer\">ArrayList#remove(Object o) API</a> and you'll see:</p>\n<blockquote>\n<p>public boolean remove​(Object o)</p>\n</blockquote>\n<blockquote>\n<p>Removes the first occurrence of the specified element from this list, if it is present. If the list does not contain the element, it is unchanged. More formally, removes the element with the lowest index i such that Objects.equals(o, get(i)) (if such an element exists). Returns true if this list contained the specified element (or equivalently, if this list changed as a result of the call).</p>\n</blockquote>\n<p>The error from the method here:</p>\n<pre><code>int posOne = copyList.remove(stuck.get(0));\n</code></pre>\n<p>makes sense since this method returns a boolean, not an int.</p>\n<hr />\n<p>Regarding,</p>\n<blockquote>\n<p>I have not been able to find a solution anywhere, what am I doing wrong</p>\n</blockquote>\n<p>Your main mistake was not going to the Java API as your first step</p>\n"}],"owner":{"account_id":17847256,"reputation":37,"user_id":12963739,"display_name":"Noah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1641440527,"creation_date":1641439611,"question_id":70602104,"body_markdown":"I am doing a programming challenge I found online and write a function to help me. The function determines if there is a set of integers in a row, excluding repeated middle numbers, that increase by one in a list and returns an ArrayList of Integer&#39;s with the position of the greater number and the position of the smaller number.\r\n\r\n```\r\npublic static ArrayList&lt;Integer&gt; stuckSet(ArrayList&lt;Integer&gt; list){\r\n\tint posIncrease = -1;\r\n\tint posDecrease = -1;\r\n\tboolean found = false;\r\n\tfor(Integer i=list.size()-1; i&gt;0; i--){\r\n\t\tif(list.get(i)+1 == list.get(i-1)){\r\n\t\t\tInteger val = list.get(i);\r\n\t\t\tposIncrease = i;\r\n\t\t\tfor(Integer j=i-1; j&gt;=0; j--){\r\n\t\t\t\tif(list.get(j) == val+2){\r\n\t\t\t\t\tposDecrease = j;\r\n\t\t\t\t\tj=-1;\r\n\t\t\t\t\tfound = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ti = -1;\r\n\t\t}\r\n\t}\r\n\tif(posDecrease != -1){\r\n\t\tArrayList&lt;Integer&gt; returnList = new ArrayList&lt;Integer&gt;();\r\n\t\treturnList.add(posDecrease);\r\n\t\treturnList.add(posIncrease);\r\n\t\treturn returnList;\r\n\t}\r\n\telse{\r\n\t\tArrayList&lt;Integer&gt; returnList = new ArrayList&lt;Integer&gt;();\r\n\t\treturnList.add(-1);\r\n\t\treturnList.add(-1);\r\n\t\treturn returnList;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nThis is then stored in a list and I call the .get() function on it later and use that output to remove another number from a list. This produces a compiler error, &quot;incompatible types: Boolean cannot be converted to int&quot;. However, if I print it out I get the expected output, &quot;0&quot;. \r\n\r\n```\r\nArrayList&lt;Integer&gt; stuck = stuckSet(copyList);\r\nint posOne = copyList.remove(stuck.get(0));\r\n```\r\n\r\nI have not been able to find a solution anywhere, what am I doing wrong.\r\n","title":"Why is the get function of a list of integers returning a boolean?","body":"<p>I am doing a programming challenge I found online and write a function to help me. The function determines if there is a set of integers in a row, excluding repeated middle numbers, that increase by one in a list and returns an ArrayList of Integer's with the position of the greater number and the position of the smaller number.</p>\n<pre><code>public static ArrayList&lt;Integer&gt; stuckSet(ArrayList&lt;Integer&gt; list){\n    int posIncrease = -1;\n    int posDecrease = -1;\n    boolean found = false;\n    for(Integer i=list.size()-1; i&gt;0; i--){\n        if(list.get(i)+1 == list.get(i-1)){\n            Integer val = list.get(i);\n            posIncrease = i;\n            for(Integer j=i-1; j&gt;=0; j--){\n                if(list.get(j) == val+2){\n                    posDecrease = j;\n                    j=-1;\n                    found = true;\n                }\n            }\n            i = -1;\n        }\n    }\n    if(posDecrease != -1){\n        ArrayList&lt;Integer&gt; returnList = new ArrayList&lt;Integer&gt;();\n        returnList.add(posDecrease);\n        returnList.add(posIncrease);\n        return returnList;\n    }\n    else{\n        ArrayList&lt;Integer&gt; returnList = new ArrayList&lt;Integer&gt;();\n        returnList.add(-1);\n        returnList.add(-1);\n        return returnList;\n    }\n}\n</code></pre>\n<p>This is then stored in a list and I call the .get() function on it later and use that output to remove another number from a list. This produces a compiler error, &quot;incompatible types: Boolean cannot be converted to int&quot;. However, if I print it out I get the expected output, &quot;0&quot;.</p>\n<pre><code>ArrayList&lt;Integer&gt; stuck = stuckSet(copyList);\nint posOne = copyList.remove(stuck.get(0));\n</code></pre>\n<p>I have not been able to find a solution anywhere, what am I doing wrong.</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq"],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1805,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641440054,"creation_date":1641440054,"question_id":70602149,"body_markdown":"Today when I start my spring boot(`v2.1.12.RELEASE`) app with Java 8, shows error like this:\r\n\r\n\r\n    11:24:33.652 logback [main] WARN   o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;reportFactory&#39; defined in class path resource [com/sportswin/soa/misc/config/mq/log/LogRabbitConfig.class]: Unsatisfied dependency expressed through method &#39;firstFactory&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.boot.autoconfigure.amqp.SimpleRabbitListenerContainerFactoryConfigurer&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\n\r\n\r\n\r\nI have no idea what was happen. This is my `LogRabbitConfig.java` define:\r\n\r\n\r\n\r\n\r\n    package com.sportswin.soa.misc.config.mq.log;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.amqp.rabbit.config.SimpleRabbitListenerContainerFactory;\r\n    import org.springframework.amqp.rabbit.connection.CachingConnectionFactory;\r\n    import org.springframework.amqp.rabbit.connection.ConnectionFactory;\r\n    import org.springframework.amqp.rabbit.core.RabbitTemplate;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.autoconfigure.amqp.SimpleRabbitListenerContainerFactoryConfigurer;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    @Slf4j\r\n    public class LogRabbitConfig {\r\n    \r\n        @Bean(name = &quot;reportConnectionFactory&quot;)\r\n        public ConnectionFactory firstConnectionFactory(\r\n                @Value(&quot;${rabbitmq.server.report.host}&quot;) String host,\r\n                @Value(&quot;${rabbitmq.server.report.port}&quot;) int port,\r\n                @Value(&quot;${rabbitmq.server.report.username}&quot;) String username,\r\n                @Value(&quot;${rabbitmq.server.report.password}&quot;) String password,\r\n                @Value(&quot;${rabbitmq.server.report.virtual.hostname}&quot;) String virtualHost\r\n        ) {\r\n            CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\r\n            connectionFactory.setHost(host);\r\n            connectionFactory.setPort(port);\r\n            connectionFactory.setUsername(username);\r\n            connectionFactory.setPassword(password);\r\n            connectionFactory.setVirtualHost(virtualHost);\r\n            connectionFactory.setPublisherConfirms(true);\r\n            connectionFactory.setPublisherReturns(true);\r\n            connectionFactory.setConnectionTimeout(2000);\r\n            return connectionFactory;\r\n        }\r\n    \r\n        @Bean(name = &quot;reportRabbitTemplate&quot;)\r\n        public RabbitTemplate firstRabbitTemplate(\r\n                @Qualifier(&quot;reportConnectionFactory&quot;) ConnectionFactory connectionFactory\r\n        ) {\r\n            RabbitTemplate firstRabbitTemplate = new RabbitTemplate(connectionFactory);\r\n            firstRabbitTemplate.setMandatory(true);\r\n            firstRabbitTemplate.setReplyTimeout(2000);\r\n            firstRabbitTemplate.setConfirmCallback((correlationData, ack, cause) -&gt; {\r\n                if (ack) {\r\n                   } else {\r\n              }\r\n            });\r\n    \r\n    \r\n            firstRabbitTemplate.setReturnCallback((message, replyCode, replyText,\r\n                                                   exchange, routingKey) -&gt; {\r\n    \r\n            });\r\n            return firstRabbitTemplate;\r\n        }\r\n    \r\n        @Bean(name = &quot;reportFactory&quot;)\r\n        public SimpleRabbitListenerContainerFactory firstFactory(\r\n                SimpleRabbitListenerContainerFactoryConfigurer configurer,\r\n                @Qualifier(&quot;reportConnectionFactory&quot;) ConnectionFactory connectionFactory\r\n        ) {\r\n            SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n    \r\n            configurer.configure(factory, connectionFactory);\r\n            return factory;\r\n        }\r\n    }\r\n\r\n\r\nand this is my `AppStart.java`:\r\n\r\n\r\n\r\n\r\n \r\n\r\n      @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class,\r\n            RabbitAutoConfiguration.class,\r\n            DruidDataSourceAutoConfigure.class})\r\n    @EnableDiscoveryClient\r\n    @EnableApolloConfig\r\n    @ImportResource(locations = {&quot;classpath:mybatis/mybatis-config.xml&quot;})\r\n    @ComponentScan(basePackages = {\r\n            &quot;com.sportswin.soa.job&quot;,\r\n            &quot;com.sportswin.soa.misc.config&quot;,\r\n            &quot;com.sportswin.soa.misc.spring.advice&quot;,\r\n            &quot;com.sportswin.soa.misc.interceptor.db&quot;,\r\n            &quot;com.sportswin.soa.user&quot;\r\n    },excludeFilters = {\r\n            @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE,value = LogRabbitConfig.class)\r\n    })\r\n    @EnableScheduling\r\n    @EnableFeignClients(basePackages = {\r\n            &quot;com.sportswin.soa.analysis.controller&quot;\r\n    }, basePackageClasses = {\r\n            IAppController.class,\r\n            IEnvelopRoomController.class,\r\n            IHubReportProfitInnerController.class,\r\n            ITenantOverviewController.class,\r\n            IReconciliationAnalysisController.class,\r\n            IRedEnvelopeInnerController.class,\r\n            IHappyRainInnerController.class,\r\n            IHappyCardInnerController.class,\r\n            IHappyBombInnerController.class,\r\n            ITickInnerController.class,\r\n            ITenantInnerController.class,\r\n            IReportWhoruAppWordController.class,\r\n            IZhuolianUserListReportController.class\r\n    })\r\n    public class AppStarter {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(AppStarter.class, args);\r\n        }\r\n    }\r\n\r\n\r\nwhat should I do to fix this problem? I have tried to remove the `RabbitAutoConfiguration.class` annotation but still did not fix this problem.\r\n","title":"No qualifying bean of type &#39;org.springframework.boot.autoconfigure.amqp.SimpleRabbitListenerContainerFactoryConfigurer&#39; available","body":"<p>Today when I start my spring boot(<code>v2.1.12.RELEASE</code>) app with Java 8, shows error like this:</p>\n<pre><code>11:24:33.652 logback [main] WARN   o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reportFactory' defined in class path resource [com/sportswin/soa/misc/config/mq/log/LogRabbitConfig.class]: Unsatisfied dependency expressed through method 'firstFactory' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.autoconfigure.amqp.SimpleRabbitListenerContainerFactoryConfigurer' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>I have no idea what was happen. This is my <code>LogRabbitConfig.java</code> define:</p>\n<pre><code>package com.sportswin.soa.misc.config.mq.log;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.amqp.rabbit.config.SimpleRabbitListenerContainerFactory;\nimport org.springframework.amqp.rabbit.connection.CachingConnectionFactory;\nimport org.springframework.amqp.rabbit.connection.ConnectionFactory;\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.amqp.SimpleRabbitListenerContainerFactoryConfigurer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@Slf4j\npublic class LogRabbitConfig {\n\n    @Bean(name = &quot;reportConnectionFactory&quot;)\n    public ConnectionFactory firstConnectionFactory(\n            @Value(&quot;${rabbitmq.server.report.host}&quot;) String host,\n            @Value(&quot;${rabbitmq.server.report.port}&quot;) int port,\n            @Value(&quot;${rabbitmq.server.report.username}&quot;) String username,\n            @Value(&quot;${rabbitmq.server.report.password}&quot;) String password,\n            @Value(&quot;${rabbitmq.server.report.virtual.hostname}&quot;) String virtualHost\n    ) {\n        CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\n        connectionFactory.setHost(host);\n        connectionFactory.setPort(port);\n        connectionFactory.setUsername(username);\n        connectionFactory.setPassword(password);\n        connectionFactory.setVirtualHost(virtualHost);\n        connectionFactory.setPublisherConfirms(true);\n        connectionFactory.setPublisherReturns(true);\n        connectionFactory.setConnectionTimeout(2000);\n        return connectionFactory;\n    }\n\n    @Bean(name = &quot;reportRabbitTemplate&quot;)\n    public RabbitTemplate firstRabbitTemplate(\n            @Qualifier(&quot;reportConnectionFactory&quot;) ConnectionFactory connectionFactory\n    ) {\n        RabbitTemplate firstRabbitTemplate = new RabbitTemplate(connectionFactory);\n        firstRabbitTemplate.setMandatory(true);\n        firstRabbitTemplate.setReplyTimeout(2000);\n        firstRabbitTemplate.setConfirmCallback((correlationData, ack, cause) -&gt; {\n            if (ack) {\n               } else {\n          }\n        });\n\n\n        firstRabbitTemplate.setReturnCallback((message, replyCode, replyText,\n                                               exchange, routingKey) -&gt; {\n\n        });\n        return firstRabbitTemplate;\n    }\n\n    @Bean(name = &quot;reportFactory&quot;)\n    public SimpleRabbitListenerContainerFactory firstFactory(\n            SimpleRabbitListenerContainerFactoryConfigurer configurer,\n            @Qualifier(&quot;reportConnectionFactory&quot;) ConnectionFactory connectionFactory\n    ) {\n        SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n\n        configurer.configure(factory, connectionFactory);\n        return factory;\n    }\n}\n</code></pre>\n<p>and this is my <code>AppStart.java</code>:</p>\n<pre><code>  @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class,\n        RabbitAutoConfiguration.class,\n        DruidDataSourceAutoConfigure.class})\n@EnableDiscoveryClient\n@EnableApolloConfig\n@ImportResource(locations = {&quot;classpath:mybatis/mybatis-config.xml&quot;})\n@ComponentScan(basePackages = {\n        &quot;com.sportswin.soa.job&quot;,\n        &quot;com.sportswin.soa.misc.config&quot;,\n        &quot;com.sportswin.soa.misc.spring.advice&quot;,\n        &quot;com.sportswin.soa.misc.interceptor.db&quot;,\n        &quot;com.sportswin.soa.user&quot;\n},excludeFilters = {\n        @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE,value = LogRabbitConfig.class)\n})\n@EnableScheduling\n@EnableFeignClients(basePackages = {\n        &quot;com.sportswin.soa.analysis.controller&quot;\n}, basePackageClasses = {\n        IAppController.class,\n        IEnvelopRoomController.class,\n        IHubReportProfitInnerController.class,\n        ITenantOverviewController.class,\n        IReconciliationAnalysisController.class,\n        IRedEnvelopeInnerController.class,\n        IHappyRainInnerController.class,\n        IHappyCardInnerController.class,\n        IHappyBombInnerController.class,\n        ITickInnerController.class,\n        ITenantInnerController.class,\n        IReportWhoruAppWordController.class,\n        IZhuolianUserListReportController.class\n})\npublic class AppStarter {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AppStarter.class, args);\n    }\n}\n</code></pre>\n<p>what should I do to fix this problem? I have tried to remove the <code>RabbitAutoConfiguration.class</code> annotation but still did not fix this problem.</p>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1641429170,"post_id":70601126,"comment_id":124805532,"body_markdown":"Look up WindowListener. You might want to lookup DefaultCloseOperation","body":"Look up WindowListener. You might want to lookup DefaultCloseOperation"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1641429752,"post_id":70601126,"comment_id":124805639,"body_markdown":"Or use a modal JDialog. But regardless of which route you go, first please read [The Use of Multiple JFrames, Good/Bad Practice?](http://stackoverflow.com/questions/9554636)","body":"Or use a modal JDialog. But regardless of which route you go, first please read <a href=\"http://stackoverflow.com/questions/9554636\">The Use of Multiple JFrames, Good/Bad Practice?</a>"},{"owner":{"account_id":23445297,"reputation":349,"user_id":17502196,"display_name":"Heelyx23"},"score":0,"creation_date":1641430541,"post_id":70601126,"comment_id":124805779,"body_markdown":"@MadProgrammer could you please tell me with an answer how to use Window Listeners? I can&#39;t get it to work.\n\nFor example: @ Override\n\tpublic void windowOpened(WindowEvent e) {\n\t\tSystem.out.println(&quot;Hello world&quot;);\t\n\t}\n(I know it&#39;s @ Override without the space but I couldn&#39;t type it like that because I had already mentioned you)","body":"@MadProgrammer could you please tell me with an answer how to use Window Listeners? I can&#39;t get it to work.  For example: @ Override \tpublic void windowOpened(WindowEvent e) { \t\tSystem.out.println(&quot;Hello world&quot;);\t \t} (I know it&#39;s @ Override without the space but I couldn&#39;t type it like that because I had already mentioned you)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1641433044,"post_id":70601126,"comment_id":124806251,"body_markdown":"Be aware that users typically close a window because they want to exit.  Refusing to let the user leave may annoy them considerably.","body":"Be aware that users typically close a window because they want to exit.  Refusing to let the user leave may annoy them considerably."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1641435953,"post_id":70601126,"comment_id":124806728,"body_markdown":"@Hilex23 Please tale the time to research your problem, start with [How to Write Window Listeners](https://docs.oracle.com/javase/tutorial/uiswing/events/windowlistener.html) and the [JavaDocs](https://docs.oracle.com/javase/10/docs/api/java/awt/event/WindowListener.html), try a few things, if you&#39;re still not getting the results you&#39;re expecting, post a new question with a [mcve] which demonstrates your attempts","body":"@Hilex23 Please tale the time to research your problem, start with <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/windowlistener.html\" rel=\"nofollow noreferrer\">How to Write Window Listeners</a> and the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/awt/event/WindowListener.html\" rel=\"nofollow noreferrer\">JavaDocs</a>, try a few things, if you&#39;re still not getting the results you&#39;re expecting, post a new question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your attempts"},{"owner":{"account_id":23445297,"reputation":349,"user_id":17502196,"display_name":"Heelyx23"},"score":0,"creation_date":1641562791,"post_id":70601126,"comment_id":124842655,"body_markdown":"@VGR I actually wanted to make a &quot;Are you sure you want to exit&quot; JFrame","body":"@VGR I actually wanted to make a &quot;Are you sure you want to exit&quot; JFrame"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1641565877,"post_id":70601126,"comment_id":124843940,"body_markdown":"Use [JOptionPane.showConfirmDialog](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JOptionPane.html#showConfirmDialog(java.awt.Component,java.lang.Object,java.lang.String,int)) for that.","body":"Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JOptionPane.html#showConfirmDialog(java.awt.Component,java.lang.Object,java.lang.String,int)\" rel=\"nofollow noreferrer\">JOptionPane.showConfirmDialog</a> for that."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641439661,"creation_date":1641438392,"answer_id":70602001,"question_id":70601126,"body_markdown":"The question is, can another JFrame open automatically when one JFrame closes. As noted in comments, two possible common solutions include use of a WindowListener or use of a modal dialog (one example of which is as mentioned by Chance Hoard, a JOptionPane, which again is *one* solution, but certainly not the *only* solution).\r\n\r\nFor a WindowListener to work, you can open the new JFrame in the `windowClosed()` method, for example:\r\n\r\n```\r\nJFrame frame1 = new JFrame(&quot;Frame 1&quot;);\r\nframe1.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\nframe1.add(Box.createRigidArea(new Dimension(500, 400)));\r\nframe1.pack();\r\nframe1.setLocationByPlatform(true);\r\nframe1.setVisible(true);\r\n\r\nframe1.addWindowListener(new WindowAdapter() {\r\n\t@Override\r\n\tpublic void windowClosed(WindowEvent e) {\r\n\t\tJFrame frame2 = new JFrame(&quot;Frame 2&quot;);\r\n\t\tframe2.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe2.add(Box.createRigidArea(new Dimension(500, 400)));\r\n\t\tframe2.pack();\r\n\t\tframe2.setLocationByPlatform(true);\r\n\t\tframe2.setVisible(true);\r\n\t}\r\n});\r\n```\r\n\r\nThe key here is to set the default close operation to not be `JFrame.EXIT_ON_CLOSE` so as not to close down the JVM after the initial JFrame window has closed. In the window listener&#39;s `windowClosed()` method, create and display the 2nd JFrame.\r\n\r\n_________________________________\r\n\r\nTo solve this using a modal dialog, I would create the second window, which could be a JFrame, first, to give the dialog an parent application, but then I would write code to display it *after* displaying the modal dialog. This way, it only shows up once the dialog is no longer visible:\r\n\r\n```\r\nJFrame frame3 = new JFrame(&quot;Frame 3&quot;);\r\nframe3.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\nframe3.add(Box.createRigidArea(new Dimension(500, 400)));\r\nframe3.pack();\r\nframe3.setLocationByPlatform(true);\r\n// don&#39;t display this JFrame yet\r\n\r\n// create the dialog, passing in the JFrame and making the dialog &quot;modal&quot;\r\nJDialog dialog1 = new JDialog(frame3, &quot;Dialog 1&quot;, ModalityType.APPLICATION_MODAL);\r\ndialog1.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\r\ndialog1.add(Box.createRigidArea(new Dimension(500, 400)));\r\ndialog1.pack();\r\ndialog1.setLocationRelativeTo(frame3);\r\n\r\n// show the dialog first\r\ndialog1.setVisible(true);\r\n\r\n// this is called only after the dialog is no longer visible\r\nframe3.setVisible(true);\r\n```\r\n\r\n___________________________________\r\n\r\nHaving said all this, I still recommend that you read the [The Use of Multiple JFrames, Good/Bad Practice?](http://stackoverflow.com/questions/9554636) link and I recommend avoiding *both* of the above &quot;solutions&quot; and instead recommend that one create and display a single main application window, a JFrame, and instead swap GUI *views*, usually JPanels, by using a CardLayout.\r\n","title":"Make the X Close button open a new JFrame in Java","body":"<p>The question is, can another JFrame open automatically when one JFrame closes. As noted in comments, two possible common solutions include use of a WindowListener or use of a modal dialog (one example of which is as mentioned by Chance Hoard, a JOptionPane, which again is <em>one</em> solution, but certainly not the <em>only</em> solution).</p>\n<p>For a WindowListener to work, you can open the new JFrame in the <code>windowClosed()</code> method, for example:</p>\n<pre><code>JFrame frame1 = new JFrame(&quot;Frame 1&quot;);\nframe1.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\nframe1.add(Box.createRigidArea(new Dimension(500, 400)));\nframe1.pack();\nframe1.setLocationByPlatform(true);\nframe1.setVisible(true);\n\nframe1.addWindowListener(new WindowAdapter() {\n    @Override\n    public void windowClosed(WindowEvent e) {\n        JFrame frame2 = new JFrame(&quot;Frame 2&quot;);\n        frame2.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame2.add(Box.createRigidArea(new Dimension(500, 400)));\n        frame2.pack();\n        frame2.setLocationByPlatform(true);\n        frame2.setVisible(true);\n    }\n});\n</code></pre>\n<p>The key here is to set the default close operation to not be <code>JFrame.EXIT_ON_CLOSE</code> so as not to close down the JVM after the initial JFrame window has closed. In the window listener's <code>windowClosed()</code> method, create and display the 2nd JFrame.</p>\n<hr />\n<p>To solve this using a modal dialog, I would create the second window, which could be a JFrame, first, to give the dialog an parent application, but then I would write code to display it <em>after</em> displaying the modal dialog. This way, it only shows up once the dialog is no longer visible:</p>\n<pre><code>JFrame frame3 = new JFrame(&quot;Frame 3&quot;);\nframe3.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\nframe3.add(Box.createRigidArea(new Dimension(500, 400)));\nframe3.pack();\nframe3.setLocationByPlatform(true);\n// don't display this JFrame yet\n\n// create the dialog, passing in the JFrame and making the dialog &quot;modal&quot;\nJDialog dialog1 = new JDialog(frame3, &quot;Dialog 1&quot;, ModalityType.APPLICATION_MODAL);\ndialog1.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\ndialog1.add(Box.createRigidArea(new Dimension(500, 400)));\ndialog1.pack();\ndialog1.setLocationRelativeTo(frame3);\n\n// show the dialog first\ndialog1.setVisible(true);\n\n// this is called only after the dialog is no longer visible\nframe3.setVisible(true);\n</code></pre>\n<hr />\n<p>Having said all this, I still recommend that you read the <a href=\"http://stackoverflow.com/questions/9554636\">The Use of Multiple JFrames, Good/Bad Practice?</a> link and I recommend avoiding <em>both</em> of the above &quot;solutions&quot; and instead recommend that one create and display a single main application window, a JFrame, and instead swap GUI <em>views</em>, usually JPanels, by using a CardLayout.</p>\n"}],"owner":{"account_id":23445297,"reputation":349,"user_id":17502196,"display_name":"Heelyx23"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1641439661,"creation_date":1641428568,"question_id":70601126,"body_markdown":"I would like to make it so that when you click the X close button on the top right, a new `JFrame` will appear and the current one will close.\r\n\r\nHow would I be able to do it?","title":"Make the X Close button open a new JFrame in Java","body":"<p>I would like to make it so that when you click the X close button on the top right, a new <code>JFrame</code> will appear and the current one will close.</p>\n<p>How would I be able to do it?</p>\n"},{"tags":["java","sql","oracle"],"comments":[{"owner":{"account_id":2054462,"reputation":20774,"user_id":1832636,"accept_rate":67,"display_name":"Dan Bracuk"},"score":3,"creation_date":1450626158,"post_id":34382639,"comment_id":56506701,"body_markdown":"What you are attempting is a bad idea.  What&#39;s the motivation for trying?","body":"What you are attempting is a bad idea.  What&#39;s the motivation for trying?"}],"answers":[{"tags":[],"owner":{"account_id":1165580,"reputation":1248722,"user_id":1144035,"display_name":"Gordon Linoff"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641438643,"creation_date":1450626139,"answer_id":34382694,"question_id":34382639,"body_markdown":"The simple answer is: &quot;No, you don&#39;t want to do that.&quot; The purpose of an id is to uniquely identify each row. A sequential id also has the feature that it provides insertion order. It is not intended to change over time.  Row 1 is Row 1 is Row 1.\r\n\r\nIf you want ordering, then declare the id to be the primary key and use a query such as this:\r\n\r\n    select t.*, row_number() over (order by usr_id) as seqnum\r\n    from t;","title":"How to auto adjust ID value (primary key) in oracle?","body":"<p>The simple answer is: &quot;No, you don't want to do that.&quot; The purpose of an id is to uniquely identify each row. A sequential id also has the feature that it provides insertion order. It is not intended to change over time.  Row 1 is Row 1 is Row 1.</p>\n<p>If you want ordering, then declare the id to be the primary key and use a query such as this:</p>\n<pre><code>select t.*, row_number() over (order by usr_id) as seqnum\nfrom t;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7411797,"reputation":211,"user_id":5638925,"display_name":"Vidya Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450704939,"creation_date":1450704199,"answer_id":34396754,"question_id":34382639,"body_markdown":"Ideally, you should not be changing USER ID values. But still if there is requirement. Then below are the steps. \r\n\r\n1. Create a procedure to reset the sequence TBL_USER_SEQ. This is needed as you are resetting the USER ID values. So after resetting, whenever you insert new record, Sequence should start with proper value ( i.e. MAX USER_ID value of the table). So that there will be no gap in USER_ID \r\n2. Write Delete Trigger on table which will adjust USER_ID values.\r\n\r\n**Procedure to reset sequence**\r\n\r\n    CREATE OR REPLACE PROCEDURE reset_sequence_p (p_seq IN VARCHAR2, p_new_seq NUMBER)\r\n    AS\r\n        l_value NUMBER;\r\n    BEGIN\r\n\r\n        -- Select the next value of the sequence\r\n        EXECUTE IMMEDIATE &#39;SELECT &#39; || p_seq || &#39;.NEXTVAL FROM DUAL&#39; INTO l_value;\r\n\r\n        -- Alter the sequnce to increment by the difference\r\n        EXECUTE IMMEDIATE &#39;ALTER SEQUENCE &#39; || p_seq || &#39; INCREMENT BY &#39; || ( p_new_seq - l_value ) ; \r\n\r\n        -- Increment to next value after diference\r\n        EXECUTE IMMEDIATE &#39;SELECT &#39; || p_seq || &#39;.NEXTVAL FROM DUAL&#39; INTO l_value;\r\n          \r\n        -- Set the increment back to 1\r\n        EXECUTE IMMEDIATE &#39;ALTER SEQUENCE &#39; || p_seq || &#39; INCREMENT BY &#39; || 1 ; \r\n\r\n    END reset_sequence_p;\r\n\r\n**Delete Trigger**\r\n\r\n    CREATE OR REPLACE TRIGGER &quot;RTH&quot;.&quot;TBL_USER_TRIG_DEL&quot;\r\n        BEFORE DELETE\r\n        ON TBL_USER\r\n        FOR EACH ROW\r\n    DECLARE\r\n        v_new_user_id_seq   NUMBER;\r\n        PRAGMA AUTONOMOUS_TRANSACTION;\r\n    BEGIN\r\n        -- Update USER_ID value for all remaining records greater than USER_ID that got deleted.\r\n        UPDATE TBL_USER\r\n        SET USER_ID = USER_ID - 1\r\n        WHERE USER_ID &gt; :old.USER_ID;\r\n\r\n        -- Retrieve max USER_ID available in table. \r\n        SELECT MAX (user_id) INTO v_new_user_id_seq FROM TBL_USER;\r\n\r\n        -- Call procedure to reset sequence\r\n        reset_sequence_p (&#39;TBL_USER_SEQ&#39;, v_new_user_id_seq);\r\n\r\n        COMMIT;\r\n    END;\r\n\r\n**NOTE** : Make sure that Primary key on table is disabled before execution of Delete statement. \r\nI hope this helps.","title":"How to auto adjust ID value (primary key) in oracle?","body":"<p>Ideally, you should not be changing USER ID values. But still if there is requirement. Then below are the steps. </p>\n\n<ol>\n<li>Create a procedure to reset the sequence TBL_USER_SEQ. This is needed as you are resetting the USER ID values. So after resetting, whenever you insert new record, Sequence should start with proper value ( i.e. MAX USER_ID value of the table). So that there will be no gap in USER_ID </li>\n<li>Write Delete Trigger on table which will adjust USER_ID values.</li>\n</ol>\n\n<p><strong>Procedure to reset sequence</strong></p>\n\n<pre><code>CREATE OR REPLACE PROCEDURE reset_sequence_p (p_seq IN VARCHAR2, p_new_seq NUMBER)\nAS\n    l_value NUMBER;\nBEGIN\n\n    -- Select the next value of the sequence\n    EXECUTE IMMEDIATE 'SELECT ' || p_seq || '.NEXTVAL FROM DUAL' INTO l_value;\n\n    -- Alter the sequnce to increment by the difference\n    EXECUTE IMMEDIATE 'ALTER SEQUENCE ' || p_seq || ' INCREMENT BY ' || ( p_new_seq - l_value ) ; \n\n    -- Increment to next value after diference\n    EXECUTE IMMEDIATE 'SELECT ' || p_seq || '.NEXTVAL FROM DUAL' INTO l_value;\n\n    -- Set the increment back to 1\n    EXECUTE IMMEDIATE 'ALTER SEQUENCE ' || p_seq || ' INCREMENT BY ' || 1 ; \n\nEND reset_sequence_p;\n</code></pre>\n\n<p><strong>Delete Trigger</strong></p>\n\n<pre><code>CREATE OR REPLACE TRIGGER \"RTH\".\"TBL_USER_TRIG_DEL\"\n    BEFORE DELETE\n    ON TBL_USER\n    FOR EACH ROW\nDECLARE\n    v_new_user_id_seq   NUMBER;\n    PRAGMA AUTONOMOUS_TRANSACTION;\nBEGIN\n    -- Update USER_ID value for all remaining records greater than USER_ID that got deleted.\n    UPDATE TBL_USER\n    SET USER_ID = USER_ID - 1\n    WHERE USER_ID &gt; :old.USER_ID;\n\n    -- Retrieve max USER_ID available in table. \n    SELECT MAX (user_id) INTO v_new_user_id_seq FROM TBL_USER;\n\n    -- Call procedure to reset sequence\n    reset_sequence_p ('TBL_USER_SEQ', v_new_user_id_seq);\n\n    COMMIT;\nEND;\n</code></pre>\n\n<p><strong>NOTE</strong> : Make sure that Primary key on table is disabled before execution of Delete statement. \nI hope this helps.</p>\n"}],"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34382694,"answer_count":2,"score":1,"last_activity_date":1641438643,"creation_date":1450625840,"question_id":34382639,"body_markdown":"Right now I have created a sequence and a trigger to auto increment the ID value like this:\r\n\r\n    CREATE OR REPLACE TRIGGER &quot;RTH&quot;.&quot;TBL_USER_TRIGGER&quot; \r\n    BEFORE INSERT ON TBL_USER\r\n    FOR EACH ROW\r\n    BEGIN\r\n    SELECT TBL_USER_SEQ.nextval\r\n    INTO :new.USR_ID\r\n    FROM dual;\r\n    END;\r\n    \r\n    ALTER TRIGGER &quot;RTH&quot;.&quot;TBL_USER_TRIGGER&quot; ENABLE;\r\n\r\nLet say I have three rows:\r\n\r\n    User ID      FIRSTNAME     LASTNAME\r\n    ====================================\r\n    \r\n    1              John        smith\r\n    2              James       smith\r\n    3              Pat         smith\r\n\r\nWhen I delete the first row(1) I want the ID values to auto correct itself to correct numbers so that second row ID values becomes 1 and third row ID values becomes 2\r\n\r\nIs it possible in oracle? or do I have do it through code as I am using Java to insert records into table when user submits a form. \r\n\r\nJava DAO class:\r\n\r\n    public class RegistrationDAO {\r\n    \r\n        public void insert(User user) {\r\n    \r\n            try {            \r\n                Connection con = DBConnection.getConnection();\r\n                String query = &quot;insert into TBL_USER(USR_FIRST_NAME,USR_LST_NAME,USR_PRIMARY_EMAIL,USR_PASSWORD) values(?,?,?,?)&quot;;\r\n                PreparedStatement pst = con.prepareStatement(query);\r\n    \r\n                pst.setString(1, user.getFirstName());\r\n                pst.setString(2, user.getLastName());\r\n                pst.setString(3, user.getEmail());\r\n                pst.setString(4, user.getPassword());\r\n                pst.executeUpdate();\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;@@@@Record insertion error in Registration DAO@@@@&quot;);\r\n                System.out.println(e);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to auto adjust ID value (primary key) in oracle?","body":"<p>Right now I have created a sequence and a trigger to auto increment the ID value like this:</p>\n\n<pre><code>CREATE OR REPLACE TRIGGER \"RTH\".\"TBL_USER_TRIGGER\" \nBEFORE INSERT ON TBL_USER\nFOR EACH ROW\nBEGIN\nSELECT TBL_USER_SEQ.nextval\nINTO :new.USR_ID\nFROM dual;\nEND;\n\nALTER TRIGGER \"RTH\".\"TBL_USER_TRIGGER\" ENABLE;\n</code></pre>\n\n<p>Let say I have three rows:</p>\n\n<pre><code>User ID      FIRSTNAME     LASTNAME\n====================================\n\n1              John        smith\n2              James       smith\n3              Pat         smith\n</code></pre>\n\n<p>When I delete the first row(1) I want the ID values to auto correct itself to correct numbers so that second row ID values becomes 1 and third row ID values becomes 2</p>\n\n<p>Is it possible in oracle? or do I have do it through code as I am using Java to insert records into table when user submits a form. </p>\n\n<p>Java DAO class:</p>\n\n<pre><code>public class RegistrationDAO {\n\n    public void insert(User user) {\n\n        try {            \n            Connection con = DBConnection.getConnection();\n            String query = \"insert into TBL_USER(USR_FIRST_NAME,USR_LST_NAME,USR_PRIMARY_EMAIL,USR_PASSWORD) values(?,?,?,?)\";\n            PreparedStatement pst = con.prepareStatement(query);\n\n            pst.setString(1, user.getFirstName());\n            pst.setString(2, user.getLastName());\n            pst.setString(3, user.getEmail());\n            pst.setString(4, user.getPassword());\n            pst.executeUpdate();\n        } catch (Exception e) {\n            System.out.println(\"@@@@Record insertion error in Registration DAO@@@@\");\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","database","jdbc"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1456681330,"post_id":35685837,"comment_id":59049276,"body_markdown":"I don&#39;t see why a statement like that would cause huge DB Logs, but you may be able to improve the system by creating an index on `exited`","body":"I don&#39;t see why a statement like that would cause huge DB Logs, but you may be able to improve the system by creating an index on <code>exited</code>"},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1456682884,"post_id":35685837,"comment_id":59049951,"body_markdown":"Querying the database in a busy loop is a terrible idea. Could you change your code so that you only query the count on-demand? Where are you using the count in your application?","body":"Querying the database in a busy loop is a terrible idea. Could you change your code so that you only query the count on-demand? Where are you using the count in your application?"}],"answers":[{"tags":[],"owner":{"account_id":1165580,"reputation":1248722,"user_id":1144035,"display_name":"Gordon Linoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641438457,"creation_date":1456681316,"answer_id":35685957,"question_id":35685837,"body_markdown":"A `SELECT` statement should not -- by itself -- have the behavior that you are describing.  For instance, nothing is logged with a `SELECT`. Now, it is possible that concurrent `insert`/`update`/`delete` statements are going on, and that these cause problems because the `SELECT` locks the table.\r\n\r\nTwo general things you can do:\r\n\r\n 1.  Be sure that the comparison is of the same type. So, if `exited` is a number, do not use single quotes (mixing of types can confuse some databases).\r\n 2. Create an index on `(exited)`. In basically all databases, this is a single command: `create index idx_mytable_exited on mytable(exited)`.\r\n\r\nIf locking and concurrent transactions are an issue, then you will need to do more database specific things, to avoid that problem.","title":"Counting Number Of Specific Record In Database","body":"<p>A <code>SELECT</code> statement should not -- by itself -- have the behavior that you are describing.  For instance, nothing is logged with a <code>SELECT</code>. Now, it is possible that concurrent <code>insert</code>/<code>update</code>/<code>delete</code> statements are going on, and that these cause problems because the <code>SELECT</code> locks the table.</p>\n<p>Two general things you can do:</p>\n<ol>\n<li>Be sure that the comparison is of the same type. So, if <code>exited</code> is a number, do not use single quotes (mixing of types can confuse some databases).</li>\n<li>Create an index on <code>(exited)</code>. In basically all databases, this is a single command: <code>create index idx_mytable_exited on mytable(exited)</code>.</li>\n</ol>\n<p>If locking and concurrent transactions are an issue, then you will need to do more database specific things, to avoid that problem.</p>\n"},{"tags":[],"owner":{"account_id":4748463,"reputation":13,"user_id":3839108,"display_name":"PeterJThaggard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456682377,"creation_date":1456682377,"answer_id":35686161,"question_id":35685837,"body_markdown":"As others have said, make sure that exited is indexed.\r\n\r\nAlso, you can set the transaction isolation on your query to do a &quot;dirty read&quot;; this indicates to the database server that you do not need to wait for other processes&#39; transactions to commit, and instead you wish to read the current value of exited on rows that are being updated by those other processes.  \r\n\r\nSET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED is the standard syntax for using &quot;dirty read&quot;.\r\n","title":"Counting Number Of Specific Record In Database","body":"<p>As others have said, make sure that exited is indexed.</p>\n\n<p>Also, you can set the transaction isolation on your query to do a \"dirty read\"; this indicates to the database server that you do not need to wait for other processes' transactions to commit, and instead you wish to read the current value of exited on rows that are being updated by those other processes.  </p>\n\n<p>SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED is the standard syntax for using \"dirty read\".</p>\n"}],"owner":{"account_id":7762298,"reputation":69,"user_id":5874678,"accept_rate":89,"display_name":"Leo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35685957,"answer_count":2,"score":0,"last_activity_date":1641438457,"creation_date":1456680734,"question_id":35685837,"body_markdown":"I have a application which needs to aware of latest number of some records from a table from database, the solution should be applicable without changing the database code or add triggers or functions to it ,so I need a database vendor independent solution.\r\nMy program written in java but database could be (SQLite,MySQL,PostgreSQL or MSSQL),for now I&#39;m doing Like that:\r\nIn a separate thread that is set as a daemon my application sends a simple command through JDBC to database to be aware of latest number of the records with condition:\r\n\r\n    while(true){\r\n              SELECT COUNT(*) FROM Mytable WHERE exited=&#39;1&#39;\r\n    }\r\n\r\n\r\nand this sort of coding causes DATABASE To lock,slows down the whole system and generates huge DB Logs which finally brings down the whole thing!\r\nhow can i do it in a right way to always have latest number of certain records or only counting when the number changed?\r\n\r\n","title":"Counting Number Of Specific Record In Database","body":"<p>I have a application which needs to aware of latest number of some records from a table from database, the solution should be applicable without changing the database code or add triggers or functions to it ,so I need a database vendor independent solution.\nMy program written in java but database could be (SQLite,MySQL,PostgreSQL or MSSQL),for now I'm doing Like that:\nIn a separate thread that is set as a daemon my application sends a simple command through JDBC to database to be aware of latest number of the records with condition:</p>\n\n<pre><code>while(true){\n          SELECT COUNT(*) FROM Mytable WHERE exited='1'\n}\n</code></pre>\n\n<p>and this sort of coding causes DATABASE To lock,slows down the whole system and generates huge DB Logs which finally brings down the whole thing!\nhow can i do it in a right way to always have latest number of certain records or only counting when the number changed?</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":215245,"reputation":4343,"user_id":469755,"display_name":"Cadin"},"score":1,"creation_date":1641420390,"post_id":70598599,"comment_id":124803575,"body_markdown":"What have you tried so far? Which part are you having trouble with?","body":"What have you tried so far? Which part are you having trouble with?"}],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641434671,"creation_date":1641434671,"answer_id":70601656,"question_id":70598599,"body_markdown":"You can easily repurpose the [Processing Animated Sprite][1] example. You&#39;ll need one `Animation` instance and [`keyPressed()`][2] to animate the sprite (e.g. toggle frame updates)\r\n\r\nShameless plug: another option is using a library such as [ImageSequencePlayer][3]\r\n\r\n\r\n  [1]: https://processing.org/examples/animatedsprite.html\r\n  [2]: https://processing.org/reference/keyPressed_.html\r\n  [3]: https://github.com/hirschandmann/image-sequence-player","title":"How to have multiple images in a sequence when a key is pressed - Processing","body":"<p>You can easily repurpose the <a href=\"https://processing.org/examples/animatedsprite.html\" rel=\"nofollow noreferrer\">Processing Animated Sprite</a> example. You'll need one <code>Animation</code> instance and <a href=\"https://processing.org/reference/keyPressed_.html\" rel=\"nofollow noreferrer\"><code>keyPressed()</code></a> to animate the sprite (e.g. toggle frame updates)</p>\n<p>Shameless plug: another option is using a library such as <a href=\"https://github.com/hirschandmann/image-sequence-player\" rel=\"nofollow noreferrer\">ImageSequencePlayer</a></p>\n"},{"tags":[],"owner":{"account_id":17715726,"reputation":2190,"user_id":12862111,"display_name":"apodidae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641438320,"creation_date":1641438320,"answer_id":70601991,"question_id":70598599,"body_markdown":"If you want to avoid arrays and libraries this technique will work.  The frameRate() needs to turned down to 4 or 5 and then place a counter in the draw() which is reset to zero when it exceeds the number of images. As the counter value is passed to a display function it then displays the corresponding image. The images should be placed in a folder titled &quot;data&quot; in the sketch folder.  \r\n\r\n```\r\n/*\r\n Must be GIF, JPEG, or PNG images\r\n */\r\nPImage img0;\r\nPImage img1;\r\nPImage img2;\r\nPImage img3;\r\nPImage img4;\r\n\r\nint counter = 0;\r\n\r\nvoid setup() {\r\n  size(400, 400);\r\n  img0 = loadImage(&quot;frog0.png&quot;);\r\n  img1 = loadImage(&quot;frog1.png&quot;);\r\n  img2 = loadImage(&quot;frog2.png&quot;);\r\n  img3 = loadImage(&quot;frog3.png&quot;);\r\n  img4 = loadImage(&quot;frog4.png&quot;);\r\n}\r\n\r\nvoid display(int count) {\r\n  switch(count) {\r\n  case 0:\r\n    image(img0, 0, 0, width, height);\r\n    break;\r\n  case 1:\r\n    image(img1, 0, 0, width, height);\r\n    break;\r\n  case 2:\r\n    image(img2, 0, 0, width, height);\r\n    break;\r\n  case 3:\r\n    image(img3, 0, 0, width, height);\r\n    break;\r\n  case 4:\r\n    image(img4, 0, 0, width, height);\r\n    break;\r\n  }\r\n}\r\n\r\nvoid draw() {\r\n  frameRate(4);\r\n  display(counter);\r\n  counter++;\r\n  if (counter &gt; 4) {\r\n    counter = 0;\r\n  }\r\n}\r\n\r\n```","title":"How to have multiple images in a sequence when a key is pressed - Processing","body":"<p>If you want to avoid arrays and libraries this technique will work.  The frameRate() needs to turned down to 4 or 5 and then place a counter in the draw() which is reset to zero when it exceeds the number of images. As the counter value is passed to a display function it then displays the corresponding image. The images should be placed in a folder titled &quot;data&quot; in the sketch folder.</p>\n<pre><code>/*\n Must be GIF, JPEG, or PNG images\n */\nPImage img0;\nPImage img1;\nPImage img2;\nPImage img3;\nPImage img4;\n\nint counter = 0;\n\nvoid setup() {\n  size(400, 400);\n  img0 = loadImage(&quot;frog0.png&quot;);\n  img1 = loadImage(&quot;frog1.png&quot;);\n  img2 = loadImage(&quot;frog2.png&quot;);\n  img3 = loadImage(&quot;frog3.png&quot;);\n  img4 = loadImage(&quot;frog4.png&quot;);\n}\n\nvoid display(int count) {\n  switch(count) {\n  case 0:\n    image(img0, 0, 0, width, height);\n    break;\n  case 1:\n    image(img1, 0, 0, width, height);\n    break;\n  case 2:\n    image(img2, 0, 0, width, height);\n    break;\n  case 3:\n    image(img3, 0, 0, width, height);\n    break;\n  case 4:\n    image(img4, 0, 0, width, height);\n    break;\n  }\n}\n\nvoid draw() {\n  frameRate(4);\n  display(counter);\n  counter++;\n  if (counter &gt; 4) {\n    counter = 0;\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":23838829,"reputation":1,"user_id":17844195,"display_name":"Mucho Nacho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641438320,"creation_date":1641410958,"question_id":70598599,"body_markdown":"I want to be able to have animate a sprite by using 3 different images when a key is pressed how would I do so, with an array as well as without one. ","title":"How to have multiple images in a sequence when a key is pressed - Processing","body":"<p>I want to be able to have animate a sprite by using 3 different images when a key is pressed how would I do so, with an array as well as without one.</p>\n"},{"tags":["java","swing","animation","2d","pacman"],"comments":[{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":0,"creation_date":1641307866,"post_id":70580474,"comment_id":124767992,"body_markdown":"Does this answer your question? [Animating Sprite Sheets in Java using LibGdx](https://stackoverflow.com/questions/58958194/animating-sprite-sheets-in-java-using-libgdx)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/58958194/animating-sprite-sheets-in-java-using-libgdx\">Animating Sprite Sheets in Java using LibGdx</a>"},{"owner":{"account_id":15091436,"reputation":427,"user_id":10891226,"display_name":"RIVERMAN2010"},"score":0,"creation_date":1641310412,"post_id":70580474,"comment_id":124769210,"body_markdown":"Maybe you could use an `int` as a counter that is incremented every game tick/frame, and after it reaches a specific number you toggle the animation image and reset the counter back to zero","body":"Maybe you could use an <code>int</code> as a counter that is incremented every game tick/frame, and after it reaches a specific number you toggle the animation image and reset the counter back to zero"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1641312344,"post_id":70580474,"comment_id":124769996,"body_markdown":"The simplest solution is to create four GIF files, one for each direction.","body":"The simplest solution is to create four GIF files, one for each direction."}],"answers":[{"tags":[],"owner":{"account_id":18720536,"reputation":9,"user_id":13648510,"display_name":"Chance Hoard"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641436925,"creation_date":1641436925,"answer_id":70601864,"question_id":70580474,"body_markdown":"My first question is wondering why there&#39;s only one image where the sprite&#39;s mouth is closed, as this would only allow the sprite to have it&#39;s mouth closed in one direction. However to answer your question i&#39;d make a global int variable and use that as a timer so when it hits a certain point it will switch the image back and forth from the image with the closed mouth to the image with the open one.\r\n\r\n    private int openClose = 0; //the time variable that is global\r\n\r\nThen in a separate function that can declare the movement of the sprite:\r\n\r\n    private int leftCloseIndex = 0; private Image[] leftClose = {playerLeft, playerClosed}; // list to alternate images\r\n    public void actionPerformed(){\r\n        if (openClose != 20){\r\n            openClose++;\r\n        } else{\r\n            openClose = 0;\r\n            if (leftCloseIndex == 1){\r\n                leftCloseIndex = 0;\r\n            } else{\r\n                leftCloseIndex = 1;\r\n            }\r\n        }\r\n    }\r\n\r\nNote: the function has to either be the actionPerformed function or referenced by it so it can update.","title":"Alternate two images in java (open and close the pacman&#39;s mouth)","body":"<p>My first question is wondering why there's only one image where the sprite's mouth is closed, as this would only allow the sprite to have it's mouth closed in one direction. However to answer your question i'd make a global int variable and use that as a timer so when it hits a certain point it will switch the image back and forth from the image with the closed mouth to the image with the open one.</p>\n<pre><code>private int openClose = 0; //the time variable that is global\n</code></pre>\n<p>Then in a separate function that can declare the movement of the sprite:</p>\n<pre><code>private int leftCloseIndex = 0; private Image[] leftClose = {playerLeft, playerClosed}; // list to alternate images\npublic void actionPerformed(){\n    if (openClose != 20){\n        openClose++;\n    } else{\n        openClose = 0;\n        if (leftCloseIndex == 1){\n            leftCloseIndex = 0;\n        } else{\n            leftCloseIndex = 1;\n        }\n    }\n}\n</code></pre>\n<p>Note: the function has to either be the actionPerformed function or referenced by it so it can update.</p>\n"}],"owner":{"display_name":"user16727711"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641436925,"creation_date":1641307167,"question_id":70580474,"body_markdown":"I would be trying to replicate the Pacman game in Java. I made sure that through the keyboard I can make the player move and rotate it correctly by replacing the image. I can&#39;t figure out now how to make him open and close his mouth endlessly as he walks. This is my code (for now, I&#39;m only working on the part where it walks): \r\n\r\n\r\nThe image of the pacman with his mouth closed is &quot;playerClosed&quot;\r\n\r\n    import java.awt.Graphics;\r\n\timport java.util.concurrent.TimeUnit;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\timport java.awt.event.KeyListener;\r\n\timport java.awt.image.BufferedImage;\r\n\timport java.awt.event.KeyEvent;\r\n\timport java.awt.Color;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.Timer;\r\n\timport javax.imageio.ImageIO;\r\n\timport javax.swing.*;\r\n\timport java.awt.*;\r\n\timport javax.swing.Timer;\r\n\t\r\n\tpublic class decisiva extends JPanel implements ActionListener, KeyListener {\r\n\t\t\r\n\t\tint x=0;\r\n\t\tint y=0;\r\n\t\tint velX=0;\r\n\t\tint velY=0;\r\n\t\r\n\t\tTimer tm = new Timer(1,this);\r\n\t\t\r\n\t\t\r\n\t\tprivate String playerDirection=&quot;right&quot;;\r\n\t\r\n\t\tprivate Image playerUp = new ImageIcon(&quot;boh/imageUp.png&quot;).getImage();\r\n\t\tprivate Image playerDown = new ImageIcon(&quot;boh/imageDown.png&quot;).getImage();\r\n\t\tprivate Image playerRight = new ImageIcon(&quot;boh/imageRight.png&quot;).getImage();\r\n\t\tprivate Image playerLeft = new ImageIcon(&quot;boh/imageLeft.png&quot;).getImage();\r\n\t\t\r\n\t\tprivate Image playerClosed = new ImageIcon(&quot;boh/closed.png&quot;).getImage();\r\n\t\t\r\n\t\t\r\n\t\tpublic decisiva() {\r\n\t\t\ttm.start();\r\n\t\t\taddKeyListener(this);\r\n\t\t\tsetFocusable(true);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tTimer timer = new Timer(5444400,this);\r\n\t\r\n\t\tpublic void paintComponent(Graphics g) {\r\n\t\t\tsuper.paintComponent(g);\r\n\t\t\t\r\n\t\t\tif(playerDirection==&quot;up&quot;) {\r\n\t\t\t\tg.drawImage(playerUp,x,y,this);\r\n\t\t\t}\r\n\t\t\tif(playerDirection==&quot;down&quot;) {\r\n\t\t\t\tg.drawImage(playerDown,x,y,this);\r\n\t\t\t}\r\n\t\t\tif(playerDirection==&quot;left&quot;) {\r\n\t\t\t\tg.drawImage(playerLeft,x,y,this);\r\n\t\t\t}\r\n\t\t\tif(playerDirection==&quot;right&quot;) {\r\n\t\t\t\tg.drawImage(playerRight,x,y,this);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tx = x+velX;\r\n\t\t\ty= y+velY;\r\n\t\t\trepaint();\r\n\t\t}\r\n\t\t\r\n\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\r\n\t\t\tif(e.getKeyCode() == KeyEvent.VK_W) {\r\n\t\t\t\tvelX=0;\r\n\t\t\t\tvelY=-1;\r\n\t\t\t\tplayerDirection=&quot;up&quot;;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(e.getKeyCode() == KeyEvent.VK_D) {\r\n\t\t\t\tvelX=1;\r\n\t\t\t\tvelY=0;\r\n\t\t\t\tplayerDirection=&quot;right&quot;;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(e.getKeyCode() == KeyEvent.VK_A) {\r\n\t\t\t\tvelX=-1;\r\n\t\t\t\tvelY=0;\r\n\t\t\t\tplayerDirection=&quot;left&quot;;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(e.getKeyCode() == KeyEvent.VK_S) {\r\n\t\t\t\tvelX=0;\r\n\t\t\t\tvelY=1;\r\n\t\t\t\tplayerDirection=&quot;down&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\r\n\t\tpublic void keyTyped(KeyEvent e) {\t\t\r\n\t\t}\r\n\t\r\n\t\tpublic void keyReleased(KeyEvent e) {\r\n\t\t}\r\n\t}\r\n\r\nand the main:\r\n\r\n    package player;\r\n\t\r\n\timport javax.swing.JFrame;\r\n\t\r\n\tpublic class main {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t\r\n\t\t\tdecisiva t = new decisiva();\r\n\t\t\t\r\n\t\t\tJFrame jf = new JFrame();\r\n\t\t\t\r\n\t\t\tjf.setTitle(&quot;tutorial&quot;);\r\n\t\t\tjf.setSize(600,400);\r\n\t\t\tjf.setVisible(true);\r\n\t\t\tjf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tjf.add(t);\r\n\t\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n[My goal is to be able to do this in the simplest way.][1]\r\n\r\n\r\nBut for now with my code I can make it move correctly by rotating it only in the required direction.\r\n\r\n\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j9h78.gif","title":"Alternate two images in java (open and close the pacman&#39;s mouth)","body":"<p>I would be trying to replicate the Pacman game in Java. I made sure that through the keyboard I can make the player move and rotate it correctly by replacing the image. I can't figure out now how to make him open and close his mouth endlessly as he walks. This is my code (for now, I'm only working on the part where it walks):</p>\n<p>The image of the pacman with his mouth closed is &quot;playerClosed&quot;</p>\n<pre><code>import java.awt.Graphics;\nimport java.util.concurrent.TimeUnit;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyListener;\nimport java.awt.image.BufferedImage;\nimport java.awt.event.KeyEvent;\nimport java.awt.Color;\nimport javax.swing.JPanel;\nimport javax.swing.JFrame;\nimport javax.swing.Timer;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport java.awt.*;\nimport javax.swing.Timer;\n\npublic class decisiva extends JPanel implements ActionListener, KeyListener {\n    \n    int x=0;\n    int y=0;\n    int velX=0;\n    int velY=0;\n\n    Timer tm = new Timer(1,this);\n    \n    \n    private String playerDirection=&quot;right&quot;;\n\n    private Image playerUp = new ImageIcon(&quot;boh/imageUp.png&quot;).getImage();\n    private Image playerDown = new ImageIcon(&quot;boh/imageDown.png&quot;).getImage();\n    private Image playerRight = new ImageIcon(&quot;boh/imageRight.png&quot;).getImage();\n    private Image playerLeft = new ImageIcon(&quot;boh/imageLeft.png&quot;).getImage();\n    \n    private Image playerClosed = new ImageIcon(&quot;boh/closed.png&quot;).getImage();\n    \n    \n    public decisiva() {\n        tm.start();\n        addKeyListener(this);\n        setFocusable(true);\n    }\n    \n    \n    Timer timer = new Timer(5444400,this);\n\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        \n        if(playerDirection==&quot;up&quot;) {\n            g.drawImage(playerUp,x,y,this);\n        }\n        if(playerDirection==&quot;down&quot;) {\n            g.drawImage(playerDown,x,y,this);\n        }\n        if(playerDirection==&quot;left&quot;) {\n            g.drawImage(playerLeft,x,y,this);\n        }\n        if(playerDirection==&quot;right&quot;) {\n            g.drawImage(playerRight,x,y,this);\n        }\n        \n    }\n    \n\n    public void actionPerformed(ActionEvent e) {\n        x = x+velX;\n        y= y+velY;\n        repaint();\n    }\n    \n    public void keyPressed(KeyEvent e) {\n\n        if(e.getKeyCode() == KeyEvent.VK_W) {\n            velX=0;\n            velY=-1;\n            playerDirection=&quot;up&quot;;\n            \n        }\n        \n        if(e.getKeyCode() == KeyEvent.VK_D) {\n            velX=1;\n            velY=0;\n            playerDirection=&quot;right&quot;;\n        }\n        \n        if(e.getKeyCode() == KeyEvent.VK_A) {\n            velX=-1;\n            velY=0;\n            playerDirection=&quot;left&quot;;\n        }\n        \n        \n        if(e.getKeyCode() == KeyEvent.VK_S) {\n            velX=0;\n            velY=1;\n            playerDirection=&quot;down&quot;;\n        }\n    }\n\n\n    public void keyTyped(KeyEvent e) {      \n    }\n\n    public void keyReleased(KeyEvent e) {\n    }\n}\n</code></pre>\n<p>and the main:</p>\n<pre><code>package player;\n\nimport javax.swing.JFrame;\n\npublic class main {\n\n    public static void main(String[] args) {\n        \n        decisiva t = new decisiva();\n        \n        JFrame jf = new JFrame();\n        \n        jf.setTitle(&quot;tutorial&quot;);\n        jf.setSize(600,400);\n        jf.setVisible(true);\n        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        jf.add(t);\n\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/j9h78.gif\" rel=\"nofollow noreferrer\">My goal is to be able to do this in the simplest way.</a></p>\n<p>But for now with my code I can make it move correctly by rotating it only in the required direction.</p>\n"},{"tags":["java","null"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1513059208,"post_id":47766349,"comment_id":82493827,"body_markdown":"`textField.getText().equals(null)` can never be true. Did you mean `textField.getText() == null`?","body":"<code>textField.getText().equals(null)</code> can never be true. Did you mean <code>textField.getText() == null</code>?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1513059247,"post_id":47766349,"comment_id":82493846,"body_markdown":"See also [How do I compare strings in Java?](https://stackoverflow.com/q/513832/1553851)","body":"See also <a href=\"https://stackoverflow.com/q/513832/1553851\">How do I compare strings in Java?</a>"},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1513059330,"post_id":47766349,"comment_id":82493878,"body_markdown":"this is as well a ticking bomb: ***if x == &quot;Sprite&quot;***","body":"this is as well a ticking bomb: <b><i>if x == &quot;Sprite&quot;</i></b>"},{"owner":{"display_name":"user7288817"},"score":0,"creation_date":1513059455,"post_id":47766349,"comment_id":82493924,"body_markdown":"yes i mean that.so how can i fix that","body":"yes i mean that.so how can i fix that"},{"owner":{"account_id":5929686,"reputation":6955,"user_id":4664558,"accept_rate":86,"display_name":"LazerBanana"},"score":0,"creation_date":1513059579,"post_id":47766349,"comment_id":82493961,"body_markdown":"get the string from the text field and if you can use commons library and just do StringUtils.isBlank() it covers both empty and null.","body":"get the string from the text field and if you can use commons library and just do StringUtils.isBlank() it covers both empty and null."},{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1513059833,"post_id":47766349,"comment_id":82494067,"body_markdown":"you need to remove the else part as well, can&#39;t convert empty into int","body":"you need to remove the else part as well, can&#39;t convert empty into int"}],"answers":[{"tags":[],"owner":{"account_id":5929686,"reputation":6955,"user_id":4664558,"accept_rate":86,"display_name":"LazerBanana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513060316,"creation_date":1513059977,"answer_id":47766503,"question_id":47766349,"body_markdown":"I presume you are using Swing JTextField which is a JTextComponent.\r\n\r\ngetText is returning a String therefore, you will need to check if its null or empty, before parsing it to int later on.\r\n\r\nThere are few ways of checking it, `!textField.getText().isEmpty()` and `textField.getText() != null`\r\n\r\n_____________________________\r\n\r\nPersonally, i would use [Commons Lang](http://commons.apache.org/proper/commons-lang/) library StringUtils and just check if the string `isBlank(textField.getText())`\r\n\r\nAdditionally you should validate the input, as well You can use the mentioned library and use `StringUtils.isNumeric()` in your if statement.","title":"how to handle java null values","body":"<p>I presume you are using Swing JTextField which is a JTextComponent.</p>\n\n<p>getText is returning a String therefore, you will need to check if its null or empty, before parsing it to int later on.</p>\n\n<p>There are few ways of checking it, <code>!textField.getText().isEmpty()</code> and <code>textField.getText() != null</code></p>\n\n<hr>\n\n<p>Personally, i would use <a href=\"http://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">Commons Lang</a> library StringUtils and just check if the string <code>isBlank(textField.getText())</code></p>\n\n<p>Additionally you should validate the input, as well You can use the mentioned library and use <code>StringUtils.isNumeric()</code> in your if statement.</p>\n"},{"tags":[],"owner":{"account_id":5028986,"reputation":1194,"user_id":4039840,"display_name":"TuyenNTA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1513059990,"creation_date":1513059990,"answer_id":47766508,"question_id":47766349,"body_markdown":"This code is wrong\r\n\r\n    if ((textField.getText().equals(null))) {    \r\n        QtyOfChickenBurger = Integer.parseInt(textField.getText())*0;\r\n    }\r\nif the `textField.getText()` is null then you can not parse the `null` into `Integer`. In addition, you multiply 0 with a number for what? =&gt; just set it to 0.\r\nChange it to\r\n\r\n    if (textField.getText()==null || textField.getText().equals(&quot;&quot;)){\r\n        QtyOfChickenBurger = 0;\r\n    }","title":"how to handle java null values","body":"<p>This code is wrong</p>\n\n<pre><code>if ((textField.getText().equals(null))) {    \n    QtyOfChickenBurger = Integer.parseInt(textField.getText())*0;\n}\n</code></pre>\n\n<p>if the <code>textField.getText()</code> is null then you can not parse the <code>null</code> into <code>Integer</code>. In addition, you multiply 0 with a number for what? => just set it to 0.\nChange it to</p>\n\n<pre><code>if (textField.getText()==null || textField.getText().equals(\"\")){\n    QtyOfChickenBurger = 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user8097737"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513060513,"creation_date":1513060210,"answer_id":47766560,"question_id":47766349,"body_markdown":"First of all `textField.getText().equals(null)` will never work this only throws a `NullPointerException` better use `textField.getText()==null`.\r\n\r\nBecause the user can enter anything in the TextField you need to validate the input or create a try-catch-block.\r\n\r\nThe best way would to create a help method to parse the numbers, for example:\r\n\r\n    public static int readInteger(String text, int defaultValue) {\r\n        if(text == null)\r\n            return defaultValue;\r\n        try {\r\n            return Integer.parseInt(text);\r\n        } catch (NumberFormatException nfe) {\r\n            return defaultValue;\r\n        }\r\n    }\r\n\r\n---\r\n\r\nBy the way don&#39;t compare Strings with `x == &quot;Pepsi&quot;` only when you want to check if the String is null.  \r\nRead: [How do I compare strings in Java?](https://stackoverflow.com/q/513832/8097737)","title":"how to handle java null values","body":"<p>First of all <code>textField.getText().equals(null)</code> will never work this only throws a <code>NullPointerException</code> better use <code>textField.getText()==null</code>.</p>\n\n<p>Because the user can enter anything in the TextField you need to validate the input or create a try-catch-block.</p>\n\n<p>The best way would to create a help method to parse the numbers, for example:</p>\n\n<pre><code>public static int readInteger(String text, int defaultValue) {\n    if(text == null)\n        return defaultValue;\n    try {\n        return Integer.parseInt(text);\n    } catch (NumberFormatException nfe) {\n        return defaultValue;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>By the way don't compare Strings with <code>x == \"Pepsi\"</code> only when you want to check if the String is null.<br>\nRead: <a href=\"https://stackoverflow.com/q/513832/8097737\">How do I compare strings in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":11892387,"reputation":334,"user_id":8702806,"display_name":"Uta Alexandru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513061160,"creation_date":1513061160,"answer_id":47766736,"question_id":47766349,"body_markdown":" I am assuming that user can write what he want in that textfield so u should also take care when textfield have a value like &#39;asd&#39;;\r\n\r\n      String QtyOfChickenBurgerAsString =textField.getText();\r\n      Integer QtyOfChickenBurger=null;\r\n      try{\r\n      QtyOfChickenBurger = Integer.valueOf(QtyOfChickenBurgerAsString);\r\n      }catch(Exception ex){\r\n        System.out.println(&quot; this is not a number ...do whatever u wanna do&quot;);\r\n      }\r\n      \r\n      if (QtyOfChickenBurger!=null){\r\n        System.out.println(&quot;integer value of field text  &quot;+QtyOfChickenBurger);\r\n      }\r\n I suggest create variables with starting letter in lower case ,and when you compare using equals use the constant first.Also you could find a better solution by using components which accept only numbers in their text.","title":"how to handle java null values","body":"<p>I am assuming that user can write what he want in that textfield so u should also take care when textfield have a value like 'asd';</p>\n\n<pre><code>  String QtyOfChickenBurgerAsString =textField.getText();\n  Integer QtyOfChickenBurger=null;\n  try{\n  QtyOfChickenBurger = Integer.valueOf(QtyOfChickenBurgerAsString);\n  }catch(Exception ex){\n    System.out.println(\" this is not a number ...do whatever u wanna do\");\n  }\n\n  if (QtyOfChickenBurger!=null){\n    System.out.println(\"integer value of field text  \"+QtyOfChickenBurger);\n  }\n</code></pre>\n\n<p>I suggest create variables with starting letter in lower case ,and when you compare using equals use the constant first.Also you could find a better solution by using components which accept only numbers in their text.</p>\n"},{"tags":[],"owner":{"account_id":20577865,"reputation":1258,"user_id":15104639,"display_name":"Pepe Alvarez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641436889,"creation_date":1641436889,"answer_id":70601861,"question_id":47766349,"body_markdown":"As of java 9, the Object class has a convenience method for handling null values and it is found in  java.util.\r\n```\r\npublic static String processEmployee(String fullName){\r\n    // if fullName is null then second argument is returned,otherwise fullName is\r\n    String name = Objects.requireNonNullElse(fullName,  &quot;empty&quot;);\r\n    // the processing goes here ...\r\n    return name;\r\n}\r\n```\r\n","title":"how to handle java null values","body":"<p>As of java 9, the Object class has a convenience method for handling null values and it is found in  java.util.</p>\n<pre><code>public static String processEmployee(String fullName){\n    // if fullName is null then second argument is returned,otherwise fullName is\n    String name = Objects.requireNonNullElse(fullName,  &quot;empty&quot;);\n    // the processing goes here ...\n    return name;\n}\n</code></pre>\n"}],"owner":{"display_name":"user7288817"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3095,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47766508,"answer_count":5,"score":1,"last_activity_date":1641436889,"creation_date":1513059138,"question_id":47766349,"body_markdown":"Im developing a small app and I wants to get the total when I click the button total . But if there are null values the code code dosen&#39;t work .So additionally following code was added .\r\n\r\n\tint QtyOfChickenBurger;\r\n\r\n\tif ((textField.getText().equals(null))) {\r\n\t\tQtyOfChickenBurger = Integer.parseInt(textField.getText())*0;\r\n\t} else {\r\n\t\tQtyOfChickenBurger = Integer.parseInt(textField.getText()) * 70;\r\n\t}\r\n\r\nBut still my application don&#39;t output the total when the textField is empty. So please help me to fix this.This is the full code.\r\n\r\n    JButton bttotal = new JButton(&quot;Total&quot;);\r\n\tbttotal.setBounds(21, 37, 145, 25);\r\n\tbttotal.setFont(new Font(&quot;Thoma&quot;, Font.PLAIN, 12));\r\n\tbttotal.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent arg) {\r\n\r\n\t\t\t\tint QtyOfChickenBurger;\r\n\r\n\t\t\t\tif ((textField.getText().equals(null))) {\r\n\r\n\t\t\t\t\tQtyOfChickenBurger = Integer.parseInt(textField.getText())*0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tQtyOfChickenBurger = Integer.parseInt(textField.getText()) * 70;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tint QtyOfChickenBurgerMeal = Integer.parseInt(textField_2.getText()) * 120;\r\n\t\t\t\tint QtyOfCheeseBurger = Integer.parseInt(textField_3.getText()) * 340;\r\n\t\t\t\tint QtyOfDrinks = Integer.parseInt(enterQTY.getText());\r\n\t\t\t\tint spriteCost = Integer.parseInt(enterQTY.getText()) * 55;\r\n\t\t\t\tint cokaColaCost = Integer.parseInt(enterQTY.getText()) * 60;\r\n\t\t\t\tint pepsiCost = Integer.parseInt(enterQTY.getText()) * 40;\r\n\t\t\t\tint lemonJuceCost = Integer.parseInt(enterQTY.getText()) * 35;\r\n\t\t\t\tint sum = (QtyOfChickenBurger + QtyOfChickenBurgerMeal + QtyOfCheeseBurger);\r\n\t\t\t\tlblDisplayCostOfMeals.setText(Integer.toString(sum));\r\n\t\t\t\tString x = String.valueOf(comboBox.getSelectedItem());\r\n\r\n\t\t\t\tif (x == &quot;Sprite&quot;) {\r\n\r\n\t\t\t\t\tlblDisplayCostOfDrinks.setText(Integer.toString(spriteCost));\r\n\t\t\t\t} else if (x == &quot;Select the drink&quot;) {\r\n\t\t\t\t\tlblDisplayCostOfDrinks.setText(&quot;0&quot;);\r\n\t\t\t\t} else if (x == &quot;Coka Cola&quot;) {\r\n\t\t\t\t\tlblDisplayCostOfDrinks.setText(Integer.toString(cokaColaCost));\r\n\t\t\t\t} else if (x == &quot;Pepsi&quot;) {\r\n\t\t\t\t\tlblDisplayCostOfDrinks.setText(Integer.toString(pepsiCost));\r\n\t\t\t\t} else if (x == &quot;Lemon juce&quot;) {\r\n\t\t\t\t\tlblDisplayCostOfDrinks.setText(Integer.toString(lemonJuceCost));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n","title":"how to handle java null values","body":"<p>Im developing a small app and I wants to get the total when I click the button total . But if there are null values the code code dosen't work .So additionally following code was added .</p>\n\n<pre><code>int QtyOfChickenBurger;\n\nif ((textField.getText().equals(null))) {\n    QtyOfChickenBurger = Integer.parseInt(textField.getText())*0;\n} else {\n    QtyOfChickenBurger = Integer.parseInt(textField.getText()) * 70;\n}\n</code></pre>\n\n<p>But still my application don't output the total when the textField is empty. So please help me to fix this.This is the full code.</p>\n\n<pre><code>JButton bttotal = new JButton(\"Total\");\nbttotal.setBounds(21, 37, 145, 25);\nbttotal.setFont(new Font(\"Thoma\", Font.PLAIN, 12));\nbttotal.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent arg) {\n\n            int QtyOfChickenBurger;\n\n            if ((textField.getText().equals(null))) {\n\n                QtyOfChickenBurger = Integer.parseInt(textField.getText())*0;\n            } else {\n                QtyOfChickenBurger = Integer.parseInt(textField.getText()) * 70;\n            }\n\n            int QtyOfChickenBurgerMeal = Integer.parseInt(textField_2.getText()) * 120;\n            int QtyOfCheeseBurger = Integer.parseInt(textField_3.getText()) * 340;\n            int QtyOfDrinks = Integer.parseInt(enterQTY.getText());\n            int spriteCost = Integer.parseInt(enterQTY.getText()) * 55;\n            int cokaColaCost = Integer.parseInt(enterQTY.getText()) * 60;\n            int pepsiCost = Integer.parseInt(enterQTY.getText()) * 40;\n            int lemonJuceCost = Integer.parseInt(enterQTY.getText()) * 35;\n            int sum = (QtyOfChickenBurger + QtyOfChickenBurgerMeal + QtyOfCheeseBurger);\n            lblDisplayCostOfMeals.setText(Integer.toString(sum));\n            String x = String.valueOf(comboBox.getSelectedItem());\n\n            if (x == \"Sprite\") {\n\n                lblDisplayCostOfDrinks.setText(Integer.toString(spriteCost));\n            } else if (x == \"Select the drink\") {\n                lblDisplayCostOfDrinks.setText(\"0\");\n            } else if (x == \"Coka Cola\") {\n                lblDisplayCostOfDrinks.setText(Integer.toString(cokaColaCost));\n            } else if (x == \"Pepsi\") {\n                lblDisplayCostOfDrinks.setText(Integer.toString(pepsiCost));\n            } else if (x == \"Lemon juce\") {\n                lblDisplayCostOfDrinks.setText(Integer.toString(lemonJuceCost));\n            }\n        }\n    });\n</code></pre>\n"},{"tags":["java","swing","netbeans","jtable","jtableheader"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1318695378,"post_id":7778958,"comment_id":9472801,"body_markdown":"See also [How can I put a control in the JTableHeader of a JTable?](http://stackoverflow.com/questions/7137786/how-can-i-put-a-control-in-the-jtableheader-of-a-jtable).","body":"See also <a href=\"http://stackoverflow.com/questions/7137786/how-can-i-put-a-control-in-the-jtableheader-of-a-jtable\">How can I put a control in the JTableHeader of a JTable?</a>."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1318698092,"post_id":7778958,"comment_id":9473180,"body_markdown":"This has nothing to do with NetBeans keeping some default color and all to do with a bug in your code, but with just the statement &quot;this code doesn&#39;t work in my project only&quot;, and without any code, preferably an sscce, I doubt that any of us can give you any more help other than to suggest you try to debug a little deeper. Perhaps the table you&#39;re trying to change the header color on isn&#39;t the same table object that is displayed, but again without understandable and preferably compilable code, this is just a SWAG on my part?","body":"This has nothing to do with NetBeans keeping some default color and all to do with a bug in your code, but with just the statement &quot;this code doesn&#39;t work in my project only&quot;, and without any code, preferably an sscce, I doubt that any of us can give you any more help other than to suggest you try to debug a little deeper. Perhaps the table you&#39;re trying to change the header color on isn&#39;t the same table object that is displayed, but again without understandable and preferably compilable code, this is just a SWAG on my part?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1628589715,"post_id":7778958,"comment_id":121455618,"body_markdown":"To change the default color: `UIManager.put(&quot;TableHeader.background&quot;, Color.ORANGE);`.","body":"To change the default color: <code>UIManager.put(&quot;TableHeader.background&quot;, Color.ORANGE);</code>."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1318695336,"creation_date":1318695336,"answer_id":7779010,"question_id":7778958,"body_markdown":"It works for me. Here&#39;s my [SSCCE](http://sscce.org):\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.table.*;\r\n    \r\n    public class TableHeaderBackground {\r\n       public static void main(String[] args) {\r\n          Integer[][] data = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\r\n          String[] cols = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;};\r\n          \r\n          JTable table = new JTable(data, cols);\r\n          \r\n          JTableHeader header = table.getTableHeader();\r\n          header.setBackground(Color.black);\r\n          header.setForeground(Color.yellow);\r\n          \r\n          JOptionPane.showMessageDialog(null, new JScrollPane(table));\r\n       }\r\n    }\r\n\r\nIf this doesn&#39;t help you, then I suggest that you create and post your own [SSCCE](http://sscce.org) so that we can see what&#39;s wrong.","title":"How can I change JTable&#39;s header background color?","body":"<p>It works for me. Here's my <a href=\"http://sscce.org\" rel=\"noreferrer\">SSCCE</a>:</p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.table.*;\n\npublic class TableHeaderBackground {\n   public static void main(String[] args) {\n      Integer[][] data = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\n      String[] cols = {\"A\", \"B\", \"C\"};\n\n      JTable table = new JTable(data, cols);\n\n      JTableHeader header = table.getTableHeader();\n      header.setBackground(Color.black);\n      header.setForeground(Color.yellow);\n\n      JOptionPane.showMessageDialog(null, new JScrollPane(table));\n   }\n}\n</code></pre>\n\n<p>If this doesn't help you, then I suggest that you create and post your own <a href=\"http://sscce.org\" rel=\"noreferrer\">SSCCE</a> so that we can see what's wrong.</p>\n"},{"tags":[],"owner":{"account_id":142373,"reputation":10607,"user_id":350061,"accept_rate":100,"display_name":"Stefanos Kargas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1318701160,"creation_date":1318701160,"answer_id":7779569,"question_id":7778958,"body_markdown":"Solved it.\r\nIn NetBeans:\r\n\r\n- Right click on project&#39;s name\r\n- Properties\r\n- Application - Desktop App\r\n- Look and Feel: choose &#39;Java Default&#39; (didn&#39;t work with System Default)\r\n- Remember to Clean And Rebuild before running project\r\n\r\nAlso the graphics of the whole project changed appearance.","title":"How can I change JTable&#39;s header background color?","body":"<p>Solved it.\nIn NetBeans:</p>\n\n<ul>\n<li>Right click on project's name</li>\n<li>Properties</li>\n<li>Application - Desktop App</li>\n<li>Look and Feel: choose 'Java Default' (didn't work with System Default)</li>\n<li>Remember to Clean And Rebuild before running project</li>\n</ul>\n\n<p>Also the graphics of the whole project changed appearance.</p>\n"},{"tags":[],"owner":{"account_id":389200,"reputation":4415,"user_id":748524,"accept_rate":95,"display_name":"Stephan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1318751056,"creation_date":1318751056,"answer_id":7782990,"question_id":7778958,"body_markdown":"The table header also uses a renderer component, like table cells.&lt;p&gt;\r\nLook at this:\r\n\r\n    table.getTableHeader().setDefaultRenderer(new DefaultTableRenderer(){\r\n      {\r\n        // you need to set it to opaque\r\n        setOpaque(true);\r\n      }\r\n     \r\n    @Override\r\n    public Component getTableCellRendererComponent(final JTable table,\r\n      final Object value, final boolean isSelected, final boolean hasFocus,\r\n      final int row, final int column) {\r\n        // set the background\r\n        setBackground(yourDesiredColor);\r\n      }\r\n    });\r\n&lt;/p&gt;\r\n\r\nIf you do not need a dynamic color, you can also set the color in the constructor of the renderer.","title":"How can I change JTable&#39;s header background color?","body":"<p>The table header also uses a renderer component, like table cells.<p>\nLook at this:</p>\n\n<pre><code>table.getTableHeader().setDefaultRenderer(new DefaultTableRenderer(){\n  {\n    // you need to set it to opaque\n    setOpaque(true);\n  }\n\n@Override\npublic Component getTableCellRendererComponent(final JTable table,\n  final Object value, final boolean isSelected, final boolean hasFocus,\n  final int row, final int column) {\n    // set the background\n    setBackground(yourDesiredColor);\n  }\n});\n</code></pre>\n\n<p></p></p>\n\n<p>If you do not need a dynamic color, you can also set the color in the constructor of the renderer.</p>\n"},{"tags":[],"owner":{"account_id":2318185,"reputation":2343,"user_id":2034697,"accept_rate":85,"display_name":"Soheil Setayeshi"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1362686351,"creation_date":1362686351,"answer_id":15280574,"question_id":7778958,"body_markdown":"I recommend you to do this:\r\n\r\n\r\n\r\n    DefaultTableCellRenderer headerRenderer = new DefaultTableCellRenderer();\r\n    headerRenderer.setBackground(new Color(239, 198, 46));\r\n    \r\n    for (int i = 0; i &lt; myJTable.getModel().getColumnCount(); i++) {\r\n            myJTable.getColumnModel().getColumn(i).setHeaderRenderer(headerRenderer);\r\n    }\r\n\r\n\r\n","title":"How can I change JTable&#39;s header background color?","body":"<p>I recommend you to do this:</p>\n\n<pre><code>DefaultTableCellRenderer headerRenderer = new DefaultTableCellRenderer();\nheaderRenderer.setBackground(new Color(239, 198, 46));\n\nfor (int i = 0; i &lt; myJTable.getModel().getColumnCount(); i++) {\n        myJTable.getColumnModel().getColumn(i).setHeaderRenderer(headerRenderer);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5398912,"reputation":401,"user_id":4299274,"display_name":"Venkatesh Bandarapu"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1595403616,"creation_date":1417078920,"answer_id":27166662,"question_id":7778958,"body_markdown":"Try this:\r\n\r\n    table.getTableHeader().setOpaque(false);\r\n\r\nthen set the background of `jtable` header\r\n\r\n    table.getTableHeader().setBackground(Color.BLACK);","title":"How can I change JTable&#39;s header background color?","body":"<p>Try this:</p>\n<pre><code>table.getTableHeader().setOpaque(false);\n</code></pre>\n<p>then set the background of <code>jtable</code> header</p>\n<pre><code>table.getTableHeader().setBackground(Color.BLACK);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19132215,"reputation":1,"user_id":13973847,"display_name":"Ram&#243;n Zelaya"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1595403650,"creation_date":1595396101,"answer_id":63027588,"question_id":7778958,"body_markdown":"This question is old but I have the right answer, I guess...\r\n\r\nAll that you have to do is set opaque to `true`.\r\n\r\ne.g.\r\n\r\n    yourComponent.setOpaque(true);\r\n\r\nI hope this can help someone in the future.","title":"How can I change JTable&#39;s header background color?","body":"<p>This question is old but I have the right answer, I guess...</p>\n<p>All that you have to do is set opaque to <code>true</code>.</p>\n<p>e.g.</p>\n<pre><code>yourComponent.setOpaque(true);\n</code></pre>\n<p>I hope this can help someone in the future.</p>\n"},{"tags":[],"owner":{"account_id":19320803,"reputation":1,"user_id":14124540,"display_name":"ahmed masoud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641436702,"creation_date":1641410488,"answer_id":70598506,"question_id":7778958,"body_markdown":"\r\n~~~\r\nprivate void table_head_color(JTable table_name){\r\n    DefaultTableCellRenderer head_render = new DefaultTableCellRenderer(); \r\n        \r\n    head_render.setBackground(new Color(204,153,255));\r\n    table_name.getTableHeader().setDefaultRenderer(head_render);\r\n\r\n    //to call above method\r\n    //table_head_color(&quot;write table name&quot;);\r\n}\r\n~~~","title":"How can I change JTable&#39;s header background color?","body":"<pre><code>private void table_head_color(JTable table_name){\n    DefaultTableCellRenderer head_render = new DefaultTableCellRenderer(); \n        \n    head_render.setBackground(new Color(204,153,255));\n    table_name.getTableHeader().setDefaultRenderer(head_render);\n\n    //to call above method\n    //table_head_color(&quot;write table name&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":142373,"reputation":10607,"user_id":350061,"accept_rate":100,"display_name":"Stefanos Kargas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50858,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":7779569,"answer_count":7,"score":11,"last_activity_date":1641436702,"creation_date":1318694820,"question_id":7778958,"body_markdown":"I&#39;ve tried:\r\n\r\n    table.getTableHeader().setBackground(Color.BLACK);\r\n\r\nDoesn&#39;t work.\r\n\r\nEDIT: This code doesn&#39;t work in my project only. Works in other projects. I may have changed a property that stops the color from changing. Or maybe NetBeans has some property which keeps the default colors. I&#39;ve noticed something else. The color of the header in my project is shining in a different way. In the examples where the color change works, I see different graphics.\r\n\r\nEDIT 2: Something else. I noticed that the buttons won&#39;t change color either. Must be something generic. Hope this helps. Unfortunately SSCCE won&#39;t work in this case, because I can&#39;t recreate the problem. I am surely using the right component names.","title":"How can I change JTable&#39;s header background color?","body":"<p>I've tried:</p>\n\n<pre><code>table.getTableHeader().setBackground(Color.BLACK);\n</code></pre>\n\n<p>Doesn't work.</p>\n\n<p>EDIT: This code doesn't work in my project only. Works in other projects. I may have changed a property that stops the color from changing. Or maybe NetBeans has some property which keeps the default colors. I've noticed something else. The color of the header in my project is shining in a different way. In the examples where the color change works, I see different graphics.</p>\n\n<p>EDIT 2: Something else. I noticed that the buttons won't change color either. Must be something generic. Hope this helps. Unfortunately SSCCE won't work in this case, because I can't recreate the problem. I am surely using the right component names.</p>\n"},{"tags":["java","junit","jmockit"],"answers":[{"tags":[],"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608952063,"creation_date":1608952063,"answer_id":65453354,"question_id":65337964,"body_markdown":"This worked for me OK when running in Eclipse.  And I don&#39;t see anything obviously wrong with the syntax.\r\n\r\nIf it works at the command line but not in the IDE, then odds are there is a config issue in the IDE.  Remember that you have to configure the javaagent to get jmockit to work - that may be an extra step in the IDE.\r\n\r\nThe other trick that may help you out is that you can consolidate &quot;Verifications&quot; into &quot;Expectations&quot;.  It&#39;s a bit less code to write.\r\n\r\n        @Test\r\n    public void test_str() {\r\n        new Expectations() {{\r\n            // provides an expected value *AND* ensures called once-and-only-once\r\n            a.getStr();\r\n            times = 1;\r\n            result = &quot;b&quot;;\r\n        }};\r\n\r\n        Assertions.assertEquals(&quot;b&quot;, forTest.getStrFrom(a));\r\n    }\r\n\r\n","title":"Why does JMockit expectations block throws IllegalMonitorStateException?","body":"<p>This worked for me OK when running in Eclipse.  And I don't see anything obviously wrong with the syntax.</p>\n<p>If it works at the command line but not in the IDE, then odds are there is a config issue in the IDE.  Remember that you have to configure the javaagent to get jmockit to work - that may be an extra step in the IDE.</p>\n<p>The other trick that may help you out is that you can consolidate &quot;Verifications&quot; into &quot;Expectations&quot;.  It's a bit less code to write.</p>\n<pre><code>    @Test\npublic void test_str() {\n    new Expectations() {{\n        // provides an expected value *AND* ensures called once-and-only-once\n        a.getStr();\n        times = 1;\n        result = &quot;b&quot;;\n    }};\n\n    Assertions.assertEquals(&quot;b&quot;, forTest.getStrFrom(a));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17785983,"reputation":1,"user_id":12916048,"display_name":"Rocky Shang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641435328,"creation_date":1641435328,"answer_id":70601712,"question_id":65337964,"body_markdown":"Ensure there is only one `javaagent:jmockit-xxx.jar ` being added to the Java command line","title":"Why does JMockit expectations block throws IllegalMonitorStateException?","body":"<p>Ensure there is only one <code>javaagent:jmockit-xxx.jar </code> being added to the Java command line</p>\n"}],"owner":{"account_id":10940367,"reputation":216,"user_id":8040450,"accept_rate":80,"display_name":"S.Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1641435328,"creation_date":1608197465,"question_id":65337964,"body_markdown":"I use JMockit to mock some instance for junit test. But I found it is not execute because the JMockit expecataions block always throws IllegalMonitorStateException.\r\n\r\nFor example the source code is:\r\n```java\r\n public class ForTest {\r\n    public static class A {\r\n        public String getStr() {\r\n            return &quot;a&quot;;\r\n        }\r\n    }\r\n\r\n    public String getStrFrom(A a) {\r\n        return a.getStr();\r\n    }\r\n}\r\n```\r\nAnd the junit test code is:\r\n\r\n\r\n```java\r\npublic class ForTestTest {\r\n    @Tested\r\n    ForTest forTest;\r\n\r\n    @Injectable\r\n    ForTest.A a;\r\n\r\n    @Test\r\n    public void test_str() {\r\n        new Expectations() {{\r\n            a.getStr();\r\n            result = &quot;b&quot;;\r\n        }};\r\n\r\n        Assertions.assertEquals(&quot;b&quot;, forTest.getStrFrom(a));\r\n\r\n        new Verifications() {{\r\n            a.getStr();\r\n            times = 1;\r\n        }};\r\n    }\r\n}\r\n```\r\nWhen I run the test, there is an exception:\r\n\r\n    java.lang.IllegalMonitorStateException\r\n    at com.huawei.genexcloud.nsp.worker.ForTestTest$1.&lt;init&gt;(ForTestTest.java:30)\r\n    at com.huawei.genexcloud.nsp.worker.ForTestTest.test_str(ForTestTest.java:27)\r\n    Suppressed: Missing 1 invocation to:\r\n    com.huawei.genexcloud.nsp.worker.ForTest$A#getStr()\r\n    on mock instance: com.huawei.genexcloud.nsp.worker.ForTest$A@589b3632\r\n    Caused by: Missing invocations\r\n    at com.huawei.genexcloud.nsp.worker.ForTest$A.getStr(ForTest.java)\r\n    at com.huawei.genexcloud.nsp.worker.ForTestTest$1.&lt;init&gt;(ForTestTest.java:28)\r\n    at com.huawei.genexcloud.nsp.worker.ForTestTest.test_str(ForTestTest.java:27)\r\n\r\nMy IDE is intellij idea 2020.2.3. My JDK is OpenJDK 1.8 and the version of JMockit is 1.49.\r\nI think it is something wrong in my ide settings but I don&#39;t know how to fix it. \r\n\r\nI try to run the test with gradle. It works well.","title":"Why does JMockit expectations block throws IllegalMonitorStateException?","body":"<p>I use JMockit to mock some instance for junit test. But I found it is not execute because the JMockit expecataions block always throws IllegalMonitorStateException.</p>\n<p>For example the source code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public class ForTest {\n    public static class A {\n        public String getStr() {\n            return &quot;a&quot;;\n        }\n    }\n\n    public String getStrFrom(A a) {\n        return a.getStr();\n    }\n}\n</code></pre>\n<p>And the junit test code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ForTestTest {\n    @Tested\n    ForTest forTest;\n\n    @Injectable\n    ForTest.A a;\n\n    @Test\n    public void test_str() {\n        new Expectations() {{\n            a.getStr();\n            result = &quot;b&quot;;\n        }};\n\n        Assertions.assertEquals(&quot;b&quot;, forTest.getStrFrom(a));\n\n        new Verifications() {{\n            a.getStr();\n            times = 1;\n        }};\n    }\n}\n</code></pre>\n<p>When I run the test, there is an exception:</p>\n<pre><code>java.lang.IllegalMonitorStateException\nat com.huawei.genexcloud.nsp.worker.ForTestTest$1.&lt;init&gt;(ForTestTest.java:30)\nat com.huawei.genexcloud.nsp.worker.ForTestTest.test_str(ForTestTest.java:27)\nSuppressed: Missing 1 invocation to:\ncom.huawei.genexcloud.nsp.worker.ForTest$A#getStr()\non mock instance: com.huawei.genexcloud.nsp.worker.ForTest$A@589b3632\nCaused by: Missing invocations\nat com.huawei.genexcloud.nsp.worker.ForTest$A.getStr(ForTest.java)\nat com.huawei.genexcloud.nsp.worker.ForTestTest$1.&lt;init&gt;(ForTestTest.java:28)\nat com.huawei.genexcloud.nsp.worker.ForTestTest.test_str(ForTestTest.java:27)\n</code></pre>\n<p>My IDE is intellij idea 2020.2.3. My JDK is OpenJDK 1.8 and the version of JMockit is 1.49.\nI think it is something wrong in my ide settings but I don't know how to fix it.</p>\n<p>I try to run the test with gradle. It works well.</p>\n"},{"tags":["java","swing","fonts","jtextarea"],"answers":[{"tags":[],"owner":{"account_id":12362897,"reputation":768,"user_id":9016353,"display_name":"kAliert"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1548834310,"creation_date":1548834310,"answer_id":54435554,"question_id":54435042,"body_markdown":"Since `kaputadotcom2004` isn&#180;t a default font, you need to register your font to use it in your environment. You could do something like this (example taken from this [answer][1]):\r\n\r\n    try \r\n    {\r\n         GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n         ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;A.ttf&quot;)));\r\n    } \r\n    catch (IOException|FontFormatException e) \r\n    {\r\n         //Handle exception\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5652344/how-can-i-use-a-custom-font-in-java","title":"Change JTextArea font type to sinhala","body":"<p>Since <code>kaputadotcom2004</code> isn´t a default font, you need to register your font to use it in your environment. You could do something like this (example taken from this <a href=\"https://stackoverflow.com/questions/5652344/how-can-i-use-a-custom-font-in-java\">answer</a>):</p>\n\n<pre><code>try \n{\n     GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n     ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(\"A.ttf\")));\n} \ncatch (IOException|FontFormatException e) \n{\n     //Handle exception\n}\n</code></pre>\n"}],"owner":{"account_id":10492984,"reputation":33,"user_id":7734176,"display_name":"Nishan Madhuwantha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54435554,"answer_count":1,"score":0,"last_activity_date":1641434597,"creation_date":1548832160,"question_id":54435042,"body_markdown":"I created text editor using JTextArea. But it doesn&#39;t work for sinhala font type.\r\n\r\n\r\n    t = new JTextArea();\r\n    t.setFont(new Font(&quot;kaputadotcom2004&quot;, Font.PLAIN, 12));\r\n\r\n\r\n ","title":"Change JTextArea font type to sinhala","body":"<p>I created text editor using JTextArea. But it doesn't work for sinhala font type.</p>\n\n<pre><code>t = new JTextArea();\nt.setFont(new Font(\"kaputadotcom2004\", Font.PLAIN, 12));\n</code></pre>\n"},{"tags":["java","swing","jscrollpane","jtextarea"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1551592648,"post_id":54965974,"comment_id":96692438,"body_markdown":"&quot;I have a TextArea fitted with a scroll pane setup&quot; - use [setText(String)](https://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#setText(java.lang.String)) method.  For more help please show your code.","body":"&quot;I have a TextArea fitted with a scroll pane setup&quot; - use <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#setText(java.lang.String)\" rel=\"nofollow noreferrer\">setText(String)</a> method.  For more help please show your code."},{"owner":{"account_id":15438437,"reputation":5,"user_id":11137827,"display_name":"Nic Cal"},"score":0,"creation_date":1551592760,"post_id":54965974,"comment_id":96692450,"body_markdown":"@c0der I knew it would of been simple. Ty.","body":"@c0der I knew it would of been simple. Ty."}],"owner":{"account_id":15438437,"reputation":5,"user_id":11137827,"display_name":"Nic Cal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641434566,"creation_date":1551592201,"question_id":54965974,"body_markdown":"I input into a text field &quot;C&quot;. What should be displayed should be the next 10 letters that come after C. What I could do is convert all these letters into strings and then set the strings text to a JLabels text, but instead I want to be able to show them on a textArea with a scroll pane so that it doesn&#39;t run off the page and instead stays within a window I can scroll down from. \r\n\r\nIs there any way to accomplish this? I have a TextArea fitted with a scroll pane setup, but I don&#39;t know how to output any data here.","title":"How to display content in a JTextArea or ScrollPane","body":"<p>I input into a text field \"C\". What should be displayed should be the next 10 letters that come after C. What I could do is convert all these letters into strings and then set the strings text to a JLabels text, but instead I want to be able to show them on a textArea with a scroll pane so that it doesn't run off the page and instead stays within a window I can scroll down from. </p>\n\n<p>Is there any way to accomplish this? I have a TextArea fitted with a scroll pane setup, but I don't know how to output any data here.</p>\n"},{"tags":["java","swing","jtabbedpane"],"comments":[{"owner":{"account_id":150332,"reputation":1844,"user_id":363455,"display_name":"Alex_M"},"score":0,"creation_date":1519044274,"post_id":48866462,"comment_id":84736103,"body_markdown":"This question has already been answered here\n-&gt; https://stackoverflow.com/questions/11360964/adding-icon-on-jtabbedpane-tab","body":"This question has already been answered here -&gt; <a href=\"https://stackoverflow.com/questions/11360964/adding-icon-on-jtabbedpane-tab\" title=\"adding icon on jtabbedpane tab\">stackoverflow.com/questions/11360964/&hellip;</a>"},{"owner":{"account_id":9906407,"reputation":1254,"user_id":7334796,"display_name":"J&#233;r&#244;me"},"score":0,"creation_date":1519044573,"post_id":48866462,"comment_id":84736285,"body_markdown":"Possible duplicate of [Adding icon on JTabbedpane tab](https://stackoverflow.com/questions/11360964/adding-icon-on-jtabbedpane-tab)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/11360964/adding-icon-on-jtabbedpane-tab\">Adding icon on JTabbedpane tab</a>"},{"owner":{"account_id":12968757,"reputation":1,"user_id":9376666,"display_name":"HARRY"},"score":0,"creation_date":1519044921,"post_id":48866462,"comment_id":84736506,"body_markdown":"i need to resize the tab size","body":"i need to resize the tab size"}],"owner":{"account_id":12968757,"reputation":1,"user_id":9376666,"display_name":"HARRY"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641434504,"creation_date":1519044031,"question_id":48866462,"body_markdown":"Regards.\r\n\r\nI need to change the size of the &quot;tab&quot; of a tabbedpane  but i don&#180;t know how, hope someone can help me.\r\n\r\n        JButton l = new JButton(&quot;first tab&quot;);\r\n\t\tl.setPreferredSize(new Dimension(50, 50));\r\n\t\t\r\n\t\t\r\n\t\tJTabbedPane tabbedPane = new JTabbedPane(JTabbedPane.TOP);\r\n\t\ttabbedPane.setTabComponentAt(1, l);\r\n\t\ttabbedPane.setBackground(Color.WHITE);\r\n\t\tframe.getContentPane().add(tabbedPane, BorderLayout.CENTER);\r\n\r\nin the previous code i have tried to add a button as a tab but no works.\r\n\r\n\r\n[tab example of my program 2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LNgdR.png\r\n  [2]: https://i.stack.imgur.com/dTPgs.png","title":"change the size of a tabbedPane&#180;s TAB &amp; add an icon into it","body":"<p>Regards.</p>\n\n<p>I need to change the size of the \"tab\" of a tabbedpane  but i don´t know how, hope someone can help me.</p>\n\n<pre><code>    JButton l = new JButton(\"first tab\");\n    l.setPreferredSize(new Dimension(50, 50));\n\n\n    JTabbedPane tabbedPane = new JTabbedPane(JTabbedPane.TOP);\n    tabbedPane.setTabComponentAt(1, l);\n    tabbedPane.setBackground(Color.WHITE);\n    frame.getContentPane().add(tabbedPane, BorderLayout.CENTER);\n</code></pre>\n\n<p>in the previous code i have tried to add a button as a tab but no works.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dTPgs.png\" rel=\"nofollow noreferrer\">tab example of my program 2</a></p>\n"},{"tags":["java","eclipse","ide"],"comments":[{"owner":{"account_id":14055054,"reputation":1521,"user_id":10152674,"display_name":"BZKN"},"score":0,"creation_date":1641434731,"post_id":70601643,"comment_id":124806548,"body_markdown":"Does this answer your question? [Eclipse autocomplete not working](https://stackoverflow.com/questions/21746294/eclipse-autocomplete-not-working)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21746294/eclipse-autocomplete-not-working\">Eclipse autocomplete not working</a>"}],"owner":{"account_id":23841070,"reputation":11,"user_id":17846108,"display_name":"AshDaddy377"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1641455045,"answer_count":0,"score":1,"last_activity_date":1641434474,"creation_date":1641434474,"question_id":70601643,"body_markdown":"In eclipse after you put the period to call a method it will show auto corrected methods as your typing.It works fine with methods in the class that are directly in that class, but if it inherited that method it doesn&#39;t. when i fully type the methods out though they still work fine. Ive messed around in the content assist settings in preferences but it didnt work. i could be doing something wrong with the content assist settings but even with default setting its not working.\r\n\r\nexsample:\r\nif i call jframe.setDefaultCloseOpperation() works just fine and auto suggests as i write\r\nif i call jframe.setTitle doest though it doesnt work and i just have to write it out fully.\r\n","title":"Eclipse wont auto suggest inherited methods","body":"<p>In eclipse after you put the period to call a method it will show auto corrected methods as your typing.It works fine with methods in the class that are directly in that class, but if it inherited that method it doesn't. when i fully type the methods out though they still work fine. Ive messed around in the content assist settings in preferences but it didnt work. i could be doing something wrong with the content assist settings but even with default setting its not working.</p>\n<p>exsample:\nif i call jframe.setDefaultCloseOpperation() works just fine and auto suggests as i write\nif i call jframe.setTitle doest though it doesnt work and i just have to write it out fully.</p>\n"},{"tags":["java","swing","jpanel","jscrollpane","jtabbedpane"],"comments":[{"owner":{"display_name":"user2575725"},"score":0,"creation_date":1523012467,"post_id":49691165,"comment_id":86394273,"body_markdown":"Avoid using `null` layouts.","body":"Avoid using <code>null</code> layouts."},{"owner":{"account_id":13307297,"reputation":51,"user_id":9606673,"display_name":"BOTHLine"},"score":0,"creation_date":1523031026,"post_id":49691165,"comment_id":86406743,"body_markdown":"Should I avoid using it in general? Should I just avoid using it with JScrollBars?\nIn either case, why should I avoid it? What problems can it bring?\nAnd as I said, I used the WindowBuilder within Eclipse, which I think puts some Layouts to null by itself.","body":"Should I avoid using it in general? Should I just avoid using it with JScrollBars? In either case, why should I avoid it? What problems can it bring? And as I said, I used the WindowBuilder within Eclipse, which I think puts some Layouts to null by itself."}],"answers":[{"tags":[],"owner":{"account_id":13307297,"reputation":51,"user_id":9606673,"display_name":"BOTHLine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523092725,"creation_date":1523092725,"answer_id":49705798,"question_id":49691165,"body_markdown":"Okay, I finally managed to accomplish what I wanted to!\r\n\r\nSince Arvind just said I should avoid using null layouts, I tried to specify them. So I changed the code at #62 to\r\n\r\n     panel_Tab1_1_Items.setLayout(new BoxLayout( panel_Tab1_1_Items, BoxLayout.Y_AXIS));\r\n\r\nWith only that it didn&#39;t work, then I set the preferredsize of my ItemPane. In the class ItemPane (2nd code snippet) I simply added the Code between #23 and #24 like this:\r\n\r\n    setPreferredSize(new Dimension(1043, 20));\r\n\r\nNow everything is like I wanted it to be and I can finally scroll through all my Items!","title":"Using JScrollPane inside JPanel","body":"<p>Okay, I finally managed to accomplish what I wanted to!</p>\n\n<p>Since Arvind just said I should avoid using null layouts, I tried to specify them. So I changed the code at #62 to</p>\n\n<pre><code> panel_Tab1_1_Items.setLayout(new BoxLayout( panel_Tab1_1_Items, BoxLayout.Y_AXIS));\n</code></pre>\n\n<p>With only that it didn't work, then I set the preferredsize of my ItemPane. In the class ItemPane (2nd code snippet) I simply added the Code between #23 and #24 like this:</p>\n\n<pre><code>setPreferredSize(new Dimension(1043, 20));\n</code></pre>\n\n<p>Now everything is like I wanted it to be and I can finally scroll through all my Items!</p>\n"}],"owner":{"account_id":13307297,"reputation":51,"user_id":9606673,"display_name":"BOTHLine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641434419,"creation_date":1523012077,"question_id":49691165,"body_markdown":"I currently try to implement a JScrollPane in my program but I just can&#39;t get it to work.\r\n\r\nI used the Eclipse WindowBuilder to setup my GUI, which looks like\r\n[this][1].\r\n\r\nIn the currently shown TabbedPane you can see three TextAreas acting as headlines at the top and a bunch of TextAreas at the bottom. The entries at the bottom are generated dynamically and I want to allow the user to add, remove and modify those items there. Therefore the user should be able to scroll through these entries at the bottom.\r\n\r\nAs you can see by the ScrollBar at the right side of the program, I already tried to implement a JScrollPane, but without any success of actually being able to scroll. I tried a lot of different stuff already, using multiple types of containers, read all the explanations and watched all the tutorials I could find, but I just can&#39;t seem to be able to implement it into my own particular case here.\r\n\r\nIn line #61 I create the JPanel which holds my Items in Form of my self created Class ItemPane.\r\nIn line #64 I then create my JScrollPanel with the JPanel as Viewport in the constructor.\r\nWithin the for-loop in #70-#74 I then add the ItemPanes to my JPanel.\r\n\r\nAs you can see in the picture everything works fine, just that I can&#39;t scroll through my Items which extend further to the bottom of my window.\r\n\r\nAny suggestion what I&#39;m doing wrong or why it isn&#39;t working?\r\nI would really appreciate it!\r\n\r\n(Note: I&#39;ve stripped down the code to everything that could matter. I removed simple Getters and Setters and everything that doesn&#39;t have anything to do with the layout itself.)\r\n\r\nHere&#39;s what the Initializing of my Window looks like:\r\n\r\n    1 public class Test\r\n\t2 {\r\n\t3\tJFrame frame_Main;\r\n\t4\tJTextField textField_Col1;\r\n\t5\tJTextField textField_Col2;\r\n\t6\tJTextField textField_Col3;\r\n\t7\r\n\t8\tprivate void initialize()\r\n\t9\t{\r\n\t10\t\tframe_Main = new JFrame();\r\n\t11\t\tframe_Main.setTitle(&quot;My Program&quot;);\r\n\t12\t\tframe_Main.setResizable(false);\r\n\t13\t\tframe_Main.setBounds(100, 100, 1080, 720);\r\n\t14\t\tframe_Main.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t15\t\tframe_Main.getContentPane().setLayout(null);\r\n\t16\r\n\t17\t\tJTabbedPane tabbedPane_Main = new JTabbedPane(SwingConstants.TOP);\r\n\t18\t\ttabbedPane_Main.setBorder(null);\r\n\t19\t\ttabbedPane_Main.setToolTipText(&quot;&quot;);\r\n\t20\t\ttabbedPane_Main.setBounds(0, 0, 1074, 691);\r\n\t21\t\tframe_Main.getContentPane().add(tabbedPane_Main);\r\n\t22\r\n\t23\t\tJPanel panel_Tab1 = new JPanel();\r\n\t24\t\tpanel_Tab1.setBorder(null);\r\n\t25\t\ttabbedPane_Main.addTab(&quot;Tab 1&quot;, null, panel_Tab1, &quot;&quot;);\r\n\t26\t\tpanel_Tab1.setLayout(null);\r\n\t27\r\n\t28\t\tJTabbedPane tabbedPane_Tab1 = new JTabbedPane(SwingConstants.TOP);\r\n\t29\t\ttabbedPane_Tab1.setBorder(null);\r\n\t30\t\ttabbedPane_Tab1.setBounds(0, 0, 1069, 663);\r\n\t31\t\tpanel_Tab1.add(tabbedPane_Tab1);\r\n\t32\r\n\t33\t\tJPanel panel_Tab1_1 = new JPanel();\r\n\t34\t\tpanel_Tab1_1.setBorder(null);\r\n\t35\t\ttabbedPane_Tab1.addTab(&quot;Tab 1.1&quot;, null, panel_Tab1_1, null);\r\n\t36\t\tpanel_Tab1_1.setLayout(null);\r\n\t37\r\n\t38\t\ttextField_Col1 = new JTextField();\r\n\t39\t\ttextField_Col1.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t40\t\ttextField_Col1.setBounds(10, 11, 341, 20);\r\n\t41\t\ttextField_Col1.setEditable(false);\r\n\t42\t\ttextField_Col1.setText(&quot;Col 1&quot;);\r\n\t43\t\tpanel_Tab1_1.add(textField_Col1);\r\n\t44\r\n\t45\t\ttextField_Col2 = new JTextField();\r\n\t46\t\ttextField_Col2.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t47\t\ttextField_Col2.setBounds(362, 11, 341, 20);\r\n\t48\t\ttextField_Col2.setEditable(false);\r\n\t49\t\ttextField_Col2.setText(&quot;Col 2&quot;);\r\n\t50\t\ttextField_Col2.setColumns(10);\r\n\t51\t\tpanel_Tab1_1.add(textField_Col2);\r\n\t52\r\n\t53\t\ttextField_Col3 = new JTextField();\r\n\t54\t\ttextField_Col3.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t55\t\ttextField_Col3.setBounds(713, 11, 341, 20);\r\n\t56\t\ttextField_Col3.setEditable(false);\r\n\t57\t\ttextField_Col3.setText(&quot;Col 3&quot;);\r\n\t58\t\ttextField_Col3.setColumns(10);\r\n\t59\t\tpanel_Tab1_1.add(textField_Col3);\r\n\t60\r\n\t61\t\tJPanel panel_Tab1_1_Items = new JPanel();\r\n\t62\t\tpanel_Tab1_1_Items.setLayout(null);\r\n\t63\r\n\t64\t\tJScrollPane scrollPane_Items = new JScrollPane(panel_Tab1_1_Items);\r\n\t65\t\tscrollPane_Items.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t66\t\tscrollPane_Items.setBounds(0, 42, 1064, 593);\r\n\t67\r\n\t68\t\tpanel_Tab1_1.add(scrollPane_Items);\r\n\t69\r\n\t70\t\tfor (int i = 0; i &lt; 25; i++)\r\n\t71\t\t{\r\n\t72\t\t\tItemPane temp = new ItemPane(new Item(&quot;Col1 &quot; + i, &quot;Col2 &quot; + i, &quot;Col3 &quot; + i), i);\r\n\t73\t\t\tpanel_Tab1_1_Items.add(temp);\r\n\t74\t\t}\r\n\t75\r\n\t76\t\tJPanel panel_Tab1_2 = new JPanel();\r\n\t77\t\tpanel_Tab1_2.setBorder(null);\r\n\t78\t\ttabbedPane_Tab1.addTab(&quot;Tab 1.2&quot;, null, panel_Tab1_2, null);\r\n\t79\t\tpanel_Tab1_2.setLayout(null);\r\n\t80\r\n\t81\t\tJPanel panel_Tab2 = new JPanel();\r\n\t82\t\tpanel_Tab2.setBorder(null);\r\n\t83\t\ttabbedPane_Main.addTab(&quot;Tab 2&quot;, null, panel_Tab2, &quot;&quot;);\r\n\t84\t\tpanel_Tab2.setLayout(null);\r\n\t85\t}\r\n\t86 }\r\n\r\nWhile ItemPane being:\r\n\r\n\t1 public class ItemPane extends JPanel\r\n\t2 {\r\n\t3\tJTextPane[] textPanes;\r\n\t4\r\n\t5\tpublic ItemPane(Item item, int num)\r\n\t6\t{\r\n\t7\t\tsuper();\r\n\t8\r\n\t9\t\tsetBounds(10, 11 + num * 30, 1043, 20);\r\n\t10\t\tsetLayout(null);\r\n\t11\r\n\t12\t\ttextPanes = new JTextPane[3];\r\n\t13\r\n\t14\t\tString[] texts = new String[] { item.getCol1(), item.getCol2(), item.getCol3() };\r\n\t15\r\n\t16\t\tfor (int i = 0; i &lt; textPanes.length; i++)\r\n\t17\t\t{\r\n\t18\t\t\ttextPanes[i] = new JTextPane();\r\n\t19\t\t\ttextPanes[i].setEditable(false);\r\n\t20\t\t\ttextPanes[i].setBounds(351 * i, 0, 341, 20);\r\n\t21\t\t\ttextPanes[i].setText(texts[i]);\r\n\t22\t\t\tadd(textPanes[i]);\r\n\t23\t\t}\r\n\t24\t}\r\n\t25 }\r\n    \r\nAnd Item:\r\n\r\n    1 public class Item\r\n\t2 {\r\n\t3\tprivate String m_col1;\r\n\t4\tprivate String m_col2;\r\n\t5\tprivate String m_col3;\r\n\t6\r\n\t7\tpublic Item(String col1, String col2, String col3)\r\n\t8\t{\r\n\t9\t\tm_col1 = col1;\r\n\t10\t\tm_col2 = col2;\r\n\t11\t\tm_col3 = col3;\r\n\t12\t}\r\n\t13 }\r\n\r\n  [1]: https://i.stack.imgur.com/30898.png","title":"Using JScrollPane inside JPanel","body":"<p>I currently try to implement a JScrollPane in my program but I just can't get it to work.</p>\n\n<p>I used the Eclipse WindowBuilder to setup my GUI, which looks like\n<a href=\"https://i.stack.imgur.com/30898.png\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>In the currently shown TabbedPane you can see three TextAreas acting as headlines at the top and a bunch of TextAreas at the bottom. The entries at the bottom are generated dynamically and I want to allow the user to add, remove and modify those items there. Therefore the user should be able to scroll through these entries at the bottom.</p>\n\n<p>As you can see by the ScrollBar at the right side of the program, I already tried to implement a JScrollPane, but without any success of actually being able to scroll. I tried a lot of different stuff already, using multiple types of containers, read all the explanations and watched all the tutorials I could find, but I just can't seem to be able to implement it into my own particular case here.</p>\n\n<p>In line #61 I create the JPanel which holds my Items in Form of my self created Class ItemPane.\nIn line #64 I then create my JScrollPanel with the JPanel as Viewport in the constructor.\nWithin the for-loop in #70-#74 I then add the ItemPanes to my JPanel.</p>\n\n<p>As you can see in the picture everything works fine, just that I can't scroll through my Items which extend further to the bottom of my window.</p>\n\n<p>Any suggestion what I'm doing wrong or why it isn't working?\nI would really appreciate it!</p>\n\n<p>(Note: I've stripped down the code to everything that could matter. I removed simple Getters and Setters and everything that doesn't have anything to do with the layout itself.)</p>\n\n<p>Here's what the Initializing of my Window looks like:</p>\n\n<pre><code>1 public class Test\n2 {\n3   JFrame frame_Main;\n4   JTextField textField_Col1;\n5   JTextField textField_Col2;\n6   JTextField textField_Col3;\n7\n8   private void initialize()\n9   {\n10      frame_Main = new JFrame();\n11      frame_Main.setTitle(\"My Program\");\n12      frame_Main.setResizable(false);\n13      frame_Main.setBounds(100, 100, 1080, 720);\n14      frame_Main.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n15      frame_Main.getContentPane().setLayout(null);\n16\n17      JTabbedPane tabbedPane_Main = new JTabbedPane(SwingConstants.TOP);\n18      tabbedPane_Main.setBorder(null);\n19      tabbedPane_Main.setToolTipText(\"\");\n20      tabbedPane_Main.setBounds(0, 0, 1074, 691);\n21      frame_Main.getContentPane().add(tabbedPane_Main);\n22\n23      JPanel panel_Tab1 = new JPanel();\n24      panel_Tab1.setBorder(null);\n25      tabbedPane_Main.addTab(\"Tab 1\", null, panel_Tab1, \"\");\n26      panel_Tab1.setLayout(null);\n27\n28      JTabbedPane tabbedPane_Tab1 = new JTabbedPane(SwingConstants.TOP);\n29      tabbedPane_Tab1.setBorder(null);\n30      tabbedPane_Tab1.setBounds(0, 0, 1069, 663);\n31      panel_Tab1.add(tabbedPane_Tab1);\n32\n33      JPanel panel_Tab1_1 = new JPanel();\n34      panel_Tab1_1.setBorder(null);\n35      tabbedPane_Tab1.addTab(\"Tab 1.1\", null, panel_Tab1_1, null);\n36      panel_Tab1_1.setLayout(null);\n37\n38      textField_Col1 = new JTextField();\n39      textField_Col1.setHorizontalAlignment(SwingConstants.CENTER);\n40      textField_Col1.setBounds(10, 11, 341, 20);\n41      textField_Col1.setEditable(false);\n42      textField_Col1.setText(\"Col 1\");\n43      panel_Tab1_1.add(textField_Col1);\n44\n45      textField_Col2 = new JTextField();\n46      textField_Col2.setHorizontalAlignment(SwingConstants.CENTER);\n47      textField_Col2.setBounds(362, 11, 341, 20);\n48      textField_Col2.setEditable(false);\n49      textField_Col2.setText(\"Col 2\");\n50      textField_Col2.setColumns(10);\n51      panel_Tab1_1.add(textField_Col2);\n52\n53      textField_Col3 = new JTextField();\n54      textField_Col3.setHorizontalAlignment(SwingConstants.CENTER);\n55      textField_Col3.setBounds(713, 11, 341, 20);\n56      textField_Col3.setEditable(false);\n57      textField_Col3.setText(\"Col 3\");\n58      textField_Col3.setColumns(10);\n59      panel_Tab1_1.add(textField_Col3);\n60\n61      JPanel panel_Tab1_1_Items = new JPanel();\n62      panel_Tab1_1_Items.setLayout(null);\n63\n64      JScrollPane scrollPane_Items = new JScrollPane(panel_Tab1_1_Items);\n65      scrollPane_Items.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n66      scrollPane_Items.setBounds(0, 42, 1064, 593);\n67\n68      panel_Tab1_1.add(scrollPane_Items);\n69\n70      for (int i = 0; i &lt; 25; i++)\n71      {\n72          ItemPane temp = new ItemPane(new Item(\"Col1 \" + i, \"Col2 \" + i, \"Col3 \" + i), i);\n73          panel_Tab1_1_Items.add(temp);\n74      }\n75\n76      JPanel panel_Tab1_2 = new JPanel();\n77      panel_Tab1_2.setBorder(null);\n78      tabbedPane_Tab1.addTab(\"Tab 1.2\", null, panel_Tab1_2, null);\n79      panel_Tab1_2.setLayout(null);\n80\n81      JPanel panel_Tab2 = new JPanel();\n82      panel_Tab2.setBorder(null);\n83      tabbedPane_Main.addTab(\"Tab 2\", null, panel_Tab2, \"\");\n84      panel_Tab2.setLayout(null);\n85  }\n86 }\n</code></pre>\n\n<p>While ItemPane being:</p>\n\n<pre><code>1 public class ItemPane extends JPanel\n2 {\n3   JTextPane[] textPanes;\n4\n5   public ItemPane(Item item, int num)\n6   {\n7       super();\n8\n9       setBounds(10, 11 + num * 30, 1043, 20);\n10      setLayout(null);\n11\n12      textPanes = new JTextPane[3];\n13\n14      String[] texts = new String[] { item.getCol1(), item.getCol2(), item.getCol3() };\n15\n16      for (int i = 0; i &lt; textPanes.length; i++)\n17      {\n18          textPanes[i] = new JTextPane();\n19          textPanes[i].setEditable(false);\n20          textPanes[i].setBounds(351 * i, 0, 341, 20);\n21          textPanes[i].setText(texts[i]);\n22          add(textPanes[i]);\n23      }\n24  }\n25 }\n</code></pre>\n\n<p>And Item:</p>\n\n<pre><code>1 public class Item\n2 {\n3   private String m_col1;\n4   private String m_col2;\n5   private String m_col3;\n6\n7   public Item(String col1, String col2, String col3)\n8   {\n9       m_col1 = col1;\n10      m_col2 = col2;\n11      m_col3 = col3;\n12  }\n13 }\n</code></pre>\n"},{"tags":["java","swing","jframe","keylistener","jtabbedpane"],"answers":[{"tags":[],"owner":{"account_id":4867663,"reputation":1326,"user_id":3925319,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524104890,"creation_date":1524104890,"answer_id":49911791,"question_id":49911260,"body_markdown":"Alternatively, you can have a thread which continuously sets the focus to the frame you are attempting to have a key listener running in. Otherwise, I think it is impossible if the frame does not have the focus. \r\n\r\nWhat you are attempting to do would in a sense be considered a system-wide key-listener. This can be implemented in C/C++ or even Python.\r\n\r\nIf you must use java, then you are going to have to check out native libraries and the usage of the &quot;native&quot; keyword in java. Natives in java provide the JVM with the ability to integrate native code implementations, \r\ni.e) C/C++","title":"How to activate the keybindings in the jframe or jtabbedpane if the focus is not gained?","body":"<p>Alternatively, you can have a thread which continuously sets the focus to the frame you are attempting to have a key listener running in. Otherwise, I think it is impossible if the frame does not have the focus. </p>\n\n<p>What you are attempting to do would in a sense be considered a system-wide key-listener. This can be implemented in C/C++ or even Python.</p>\n\n<p>If you must use java, then you are going to have to check out native libraries and the usage of the \"native\" keyword in java. Natives in java provide the JVM with the ability to integrate native code implementations, \ni.e) C/C++</p>\n"}],"owner":{"account_id":6945932,"reputation":31,"user_id":5330392,"display_name":"kyoya007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641434387,"creation_date":1524100839,"question_id":49911260,"body_markdown":"I have this code in my jTabbedPane1\r\n\r\n    private void jTabbedPane1KeyPressed(java.awt.event.KeyEvent evt) {                                        \r\n        int t,getkey = evt.getKeyCode();\r\n        if(KeyEvent.VK_F9 == getkey)\r\n        {\r\n            if(t == 0)\r\n            {\r\n                jTabbedPane1.setSelectedIndex(1);\r\n                jTabbedPane1.requestFocusInWindow();\r\n                t = t + 1;\r\n            }\r\n            else if(t == 1)\r\n            {\r\n                jTabbedPane1.setSelectedIndex(0);\r\n                jTabbedPane1.requestFocusInWindow();\r\n                t = t - 1;\r\n            }\r\n        }\r\n     }\r\nbut when the focus is lost in the jtabbedpane this code and keybindings are useless. &lt;br&gt;&lt;br&gt;\r\nHow can I trigger this keypressed event inside the jframe without gaining the focus of the jtabbedpane?","title":"How to activate the keybindings in the jframe or jtabbedpane if the focus is not gained?","body":"<p>I have this code in my jTabbedPane1</p>\n\n<pre><code>private void jTabbedPane1KeyPressed(java.awt.event.KeyEvent evt) {                                        \n    int t,getkey = evt.getKeyCode();\n    if(KeyEvent.VK_F9 == getkey)\n    {\n        if(t == 0)\n        {\n            jTabbedPane1.setSelectedIndex(1);\n            jTabbedPane1.requestFocusInWindow();\n            t = t + 1;\n        }\n        else if(t == 1)\n        {\n            jTabbedPane1.setSelectedIndex(0);\n            jTabbedPane1.requestFocusInWindow();\n            t = t - 1;\n        }\n    }\n }\n</code></pre>\n\n<p>but when the focus is lost in the jtabbedpane this code and keybindings are useless. <br><br>\nHow can I trigger this keypressed event inside the jframe without gaining the focus of the jtabbedpane?</p>\n"},{"tags":["java","inheritance","enums"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1575977011,"post_id":59265713,"comment_id":104739763,"body_markdown":"How about having those `Enum` implement `interface Exportable {\n\tString getExportLib();\t\t \n}` ?","body":"How about having those <code>Enum</code> implement <code>interface Exportable { \tString getExportLib();\t\t  }</code> ?"},{"owner":{"account_id":4111718,"reputation":436,"user_id":3374342,"accept_rate":92,"display_name":"Azrael_404"},"score":0,"creation_date":1575979054,"post_id":59265713,"comment_id":104740868,"body_markdown":"@c0der it&#39;s quite I did no ? \nWith HeaderEnum implements Exportable witch have getExportLib()","body":"@c0der it&#39;s quite I did no ?  With HeaderEnum implements Exportable witch have getExportLib()"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1575979316,"post_id":59265713,"comment_id":104741007,"body_markdown":"Yes, but `Exportable` is different than `interface ExportableCSV&lt;T extends Enum&lt;T&gt;&gt; `","body":"Yes, but <code>Exportable</code> is different than <code>interface ExportableCSV&lt;T extends Enum&lt;T&gt;&gt; </code>"}],"answers":[{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1575991525,"creation_date":1575979165,"answer_id":59266727,"question_id":59265713,"body_markdown":"One simple option is to have all relevant `Enum`s implement an export interfce\r\n\r\n    interface Exportable { String getExportLib(); }\r\n\r\nAnother option: If you want a static method that uses `values` you can do something like: \r\n\r\n\tclass EnumUtil {\r\n\t\r\n\t\tpublic static &lt;T extends Enum&lt;T&gt;&gt; String getExportLib(T[] aValues){\r\n\t\t\tStringBuilder sb = new StringBuilder();\r\n\t\t     for( T t : aValues){\r\n\t\t        //todo \r\n\t\t     }\r\n\t\t     return sb.toString();\r\n\t\t}\r\n\t}","title":"Design Enum generic behavior","body":"<p>One simple option is to have all relevant <code>Enum</code>s implement an export interfce</p>\n\n<pre><code>interface Exportable { String getExportLib(); }\n</code></pre>\n\n<p>Another option: If you want a static method that uses <code>values</code> you can do something like: </p>\n\n<pre><code>class EnumUtil {\n\n    public static &lt;T extends Enum&lt;T&gt;&gt; String getExportLib(T[] aValues){\n        StringBuilder sb = new StringBuilder();\n         for( T t : aValues){\n            //todo \n         }\n         return sb.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4111718,"reputation":436,"user_id":3374342,"accept_rate":92,"display_name":"Azrael_404"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59266727,"answer_count":1,"score":1,"last_activity_date":1641433129,"creation_date":1575975650,"question_id":59265713,"body_markdown":"Well my question today is: \r\n\r\n - I have an enum with file headers. \r\n\r\n - I have a function which export theses headers as String\r\n\r\nRunning multiple project I want to make it quite generic to be used in our private lib. \r\n\r\n\r\n\r\nCurrent Function: \r\n\r\n     private static String getHeaders() {\r\n\t\t StringBuilder sb = new StringBuilder();\r\n\t\t for(HeadersEnum header : HeadersEnum.values()){\r\n\t\t\tsb.append(header.getExportLib());\r\n\t\t }\r\n\t\t return sb.toString();\r\n\t }\r\n\r\n\r\n**Goal** something like it: \r\n\r\n     private static String getHeaders(ExportableCSV&lt;Enum&lt;T&gt;&gt; data) {\r\n\t\t StringBuilder sb = new StringBuilder();\r\n\t\t for( ExportableCSV&lt;Enum&gt; header : data.values()){\r\n\t\t\tsb.append(header.getExportLib());\r\n\t\t }\r\n\t\t return sb.toString();\r\n\t }\r\n\r\nI know we can&#39;t make inheritance with Enum so I created an Interface &quot;ExportableCSV&quot;:\r\n```\r\npublic interface ExportableCSV&lt;T extends Enum&lt;T&gt;&gt; {\r\n\r\n\tpublic static final String exportLib = &quot;&quot;;\r\n\r\n\tpublic static String getExportLib() {\r\n\t\treturn exportLib;\r\n\t}\r\n\r\n}\r\n```\r\nIt&#39;s quite basic, but in my mind , **any Enum which implement this ExportableCSV should have access to my exportLib() function**. \r\n\r\n    public enum HeadersEnum implements ExportableCSV&lt;HeadersEnum&gt;{\r\n\t    foo(&quot;foo;&quot;),\r\n\t    bar(&quot;bar;&quot;);\r\n\t\r\n\r\n\tprivate String exportLib;\r\n\r\n\r\nof course my goal approach of generic function isn&#39;t compiling and I&#39;m not really understanding what I can do and what I can&#39;t. ","title":"Design Enum generic behavior","body":"<p>Well my question today is:</p>\n<ul>\n<li><p>I have an enum with file headers.</p>\n</li>\n<li><p>I have a function which export theses headers as String</p>\n</li>\n</ul>\n<p>Running multiple project I want to make it quite generic to be used in our private lib.</p>\n<p>Current Function:</p>\n<pre><code> private static String getHeaders() {\n     StringBuilder sb = new StringBuilder();\n     for(HeadersEnum header : HeadersEnum.values()){\n        sb.append(header.getExportLib());\n     }\n     return sb.toString();\n }\n</code></pre>\n<p><strong>Goal</strong> something like it:</p>\n<pre><code> private static String getHeaders(ExportableCSV&lt;Enum&lt;T&gt;&gt; data) {\n     StringBuilder sb = new StringBuilder();\n     for( ExportableCSV&lt;Enum&gt; header : data.values()){\n        sb.append(header.getExportLib());\n     }\n     return sb.toString();\n }\n</code></pre>\n<p>I know we can't make inheritance with Enum so I created an Interface &quot;ExportableCSV&quot;:</p>\n<pre><code>public interface ExportableCSV&lt;T extends Enum&lt;T&gt;&gt; {\n\n    public static final String exportLib = &quot;&quot;;\n\n    public static String getExportLib() {\n        return exportLib;\n    }\n\n}\n</code></pre>\n<p>It's quite basic, but in my mind , <strong>any Enum which implement this ExportableCSV should have access to my exportLib() function</strong>.</p>\n<pre><code>public enum HeadersEnum implements ExportableCSV&lt;HeadersEnum&gt;{\n    foo(&quot;foo;&quot;),\n    bar(&quot;bar;&quot;);\n\n\nprivate String exportLib;\n</code></pre>\n<p>of course my goal approach of generic function isn't compiling and I'm not really understanding what I can do and what I can't.</p>\n"},{"tags":["java","swing","user-interface","jtextfield"],"comments":[{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":0,"creation_date":1635722640,"post_id":69791303,"comment_id":123364364,"body_markdown":"https://stackoverflow.com/questions/1386782/jbutton-needs-to-change-jtextfield-text","body":"<a href=\"https://stackoverflow.com/questions/1386782/jbutton-needs-to-change-jtextfield-text\" title=\"jbutton needs to change jtextfield text\">stackoverflow.com/questions/1386782/&hellip;</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1641432750,"post_id":69791303,"comment_id":124806207,"body_markdown":"[How to Use Sliders](https://docs.oracle.com/javase/tutorial/uiswing/components/slider.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/slider.html\" rel=\"nofollow noreferrer\">How to Use Sliders</a>"}],"owner":{"account_id":22014793,"reputation":1,"user_id":16284474,"display_name":"leNewStudent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641432487,"creation_date":1635722341,"question_id":69791303,"body_markdown":"In my program, I am making use of buttons and a slider to determine the tax and tip of an order from a restaurant. For the tax, I can choose a few states such as Arizona and their tax rate which is 5.6%. For the tip, I am to use the slider to allow the user to choose how much they want to tip. However, I need the information to display in my `JTextField` components while having them be un-editable. \r\n\r\nHere is how the GUI looks: \r\n\r\n[![enter image description here][1]][1] \r\n\r\nAny tips?\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f5v6a.png","title":"How do I insert values into a JTextField?","body":"<p>In my program, I am making use of buttons and a slider to determine the tax and tip of an order from a restaurant. For the tax, I can choose a few states such as Arizona and their tax rate which is 5.6%. For the tip, I am to use the slider to allow the user to choose how much they want to tip. However, I need the information to display in my <code>JTextField</code> components while having them be un-editable.</p>\n<p>Here is how the GUI looks:</p>\n<p><a href=\"https://i.stack.imgur.com/f5v6a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f5v6a.png\" alt=\"enter image description here\" /></a></p>\n<p>Any tips?</p>\n"},{"tags":["java","string","concatenation"],"comments":[{"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1397237727,"post_id":23019070,"comment_id":35163161,"body_markdown":"Why don&#39;t you just save the city to a different variable when you get the user&#39;s input","body":"Why don&#39;t you just save the city to a different variable when you get the user&#39;s input"},{"owner":{"account_id":1565531,"reputation":1122,"user_id":1454434,"display_name":"naab"},"score":0,"creation_date":1397237825,"post_id":23019070,"comment_id":35163224,"body_markdown":"You have to split the Location depending on how you enter it... I would suggest you doing a scan.nextLine() for each information (city / state / zip_code) unless you establish a clear way to split the strings (a separator), but the user might be confused and add extra unwanted characters","body":"You have to split the Location depending on how you enter it... I would suggest you doing a scan.nextLine() for each information (city / state / zip_code) unless you establish a clear way to split the strings (a separator), but the user might be confused and add extra unwanted characters"},{"owner":{"account_id":4314467,"reputation":13,"user_id":3524749,"display_name":"CyborGamer"},"score":0,"creation_date":1397237829,"post_id":23019070,"comment_id":35163229,"body_markdown":"I need to keep the city, state, and zip in the same string, otherwise I&#39;d have to have them enter three different variables. Is there a way I can do that but keep the same format?","body":"I need to keep the city, state, and zip in the same string, otherwise I&#39;d have to have them enter three different variables. Is there a way I can do that but keep the same format?"},{"owner":{"account_id":3425343,"reputation":126,"user_id":2871241,"accept_rate":100,"display_name":"David MacNeil"},"score":0,"creation_date":1397238275,"post_id":23019070,"comment_id":35163436,"body_markdown":"@CyborGamer have you tried something like While(Scan.hasNext()) and assigning the variables that way?","body":"@CyborGamer have you tried something like While(Scan.hasNext()) and assigning the variables that way?"}],"answers":[{"tags":[],"owner":{"account_id":4259399,"reputation":8159,"user_id":3484146,"display_name":"ifloop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397238112,"creation_date":1397237755,"answer_id":23019118,"question_id":23019070,"body_markdown":"It would be a better style to use different variables for each part (city, postal and zip code).\r\n\r\nOtherwise you might \r\n\r\n- Change the order of the elements, take postal into the middle and than do `String city = Location.split(&quot;[0-9]&quot;)[0];`\r\n- Define a token that the users inputs to seperate the data (e.g. `#`) and than do `String city = Location.split(`#`)[0];\r\n","title":"How to print only specific parts of a string in java?","body":"<p>It would be a better style to use different variables for each part (city, postal and zip code).</p>\n\n<p>Otherwise you might </p>\n\n<ul>\n<li>Change the order of the elements, take postal into the middle and than do <code>String city = Location.split(\"[0-9]\")[0];</code></li>\n<li>Define a token that the users inputs to seperate the data (e.g. <code>#</code>) and than do <code>String city = Location.split(</code>#`)[0];</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3425343,"reputation":126,"user_id":2871241,"accept_rate":100,"display_name":"David MacNeil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641432308,"creation_date":1397237781,"answer_id":23019126,"question_id":23019070,"body_markdown":"To break a string apart use this method \r\n\r\n    String s = &quot;abcde&quot;;\r\n    String p = s.substring(2, s.length());\r\n\r\nFrom here, you can find out which parts of the string you want. \r\n\r\nYou could also use StringUtils like this if you want only n characters from it:\r\n\r\n    StringUtils.substring(&quot;abcde&quot;, 0, 2) =&gt; &quot;ab&quot;      ","title":"How to print only specific parts of a string in java?","body":"<p>To break a string apart use this method</p>\n<pre><code>String s = &quot;abcde&quot;;\nString p = s.substring(2, s.length());\n</code></pre>\n<p>From here, you can find out which parts of the string you want.</p>\n<p>You could also use StringUtils like this if you want only n characters from it:</p>\n<pre><code>StringUtils.substring(&quot;abcde&quot;, 0, 2) =&gt; &quot;ab&quot;      \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3237185,"reputation":1089,"user_id":2731075,"display_name":"JeanLescure"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1397238059,"creation_date":1397238059,"answer_id":23019201,"question_id":23019070,"body_markdown":"The best you can do here is to split your Adress string, by commas, and grab the first value from the resulting array.\r\n\r\nTake a look at [this question](https://stackoverflow.com/questions/3481828/how-to-split-a-string-in-java) for more details on splitting a string in Java.\r\n\r\nI suggest the following in your code:\r\n\r\n    String[] AddressParts = Address.split(&quot;,&quot;);\r\n    String City = AddressParts[0];\r\n    System.out.println(&quot;Allspam Insurance Company! Drivers from &quot;+City+&quot; saved an average &quot;);\r\n\r\nCheers!","title":"How to print only specific parts of a string in java?","body":"<p>The best you can do here is to split your Adress string, by commas, and grab the first value from the resulting array.</p>\n\n<p>Take a look at <a href=\"https://stackoverflow.com/questions/3481828/how-to-split-a-string-in-java\">this question</a> for more details on splitting a string in Java.</p>\n\n<p>I suggest the following in your code:</p>\n\n<pre><code>String[] AddressParts = Address.split(\",\");\nString City = AddressParts[0];\nSystem.out.println(\"Allspam Insurance Company! Drivers from \"+City+\" saved an average \");\n</code></pre>\n\n<p>Cheers!</p>\n"}],"owner":{"account_id":4314467,"reputation":13,"user_id":3524749,"display_name":"CyborGamer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23019201,"answer_count":3,"score":1,"last_activity_date":1641432308,"creation_date":1397237589,"question_id":23019070,"body_markdown":"I am writing a program that writes a letter using specific parts of a string.\r\n\r\nHere is what I have so far (I am only a beginner)\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class AutoInsurance {\r\n    \r\n    \tpublic static void main (String[] args)\r\n    \t{\r\n    \t\tScanner scan=new Scanner (System.in);\r\n    \t\tSystem.out.print(&quot;Enter Name:&quot;);\r\n    \t\tString Name;\r\n    \t\tName=scan.nextLine();\r\n    \t\tSystem.out.print(&quot;Enter Street Address:&quot;);\r\n    \t\tString Address;\r\n    \t\tAddress=scan.nextLine();\r\n    \t\tSystem.out.print(&quot;Enter city, state, and zip code:&quot;);\r\n    \t\tString Location;\r\n    \t\tLocation=scan.nextLine();\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println();\r\n    \t\tSystem.out.println(&quot;Dear &quot;+Name+&quot;,&quot;);\r\n    \t\tSystem.out.println(&quot; You have been selected to receive this offer of auto insurance from&quot;);\r\n    \t\tSystem.out.println(&quot;Allspam Insurance Company! Drivers from &quot;++&quot; saved an average &quot;); // I just want it to print the city here, between ++\r\n    \t\t\r\n    \t\t// I will finish coding once I figure this out, but I&#39;m stumped\r\n        }\r\n    }\r\n\r\n","title":"How to print only specific parts of a string in java?","body":"<p>I am writing a program that writes a letter using specific parts of a string.</p>\n\n<p>Here is what I have so far (I am only a beginner)</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class AutoInsurance {\n\n    public static void main (String[] args)\n    {\n        Scanner scan=new Scanner (System.in);\n        System.out.print(\"Enter Name:\");\n        String Name;\n        Name=scan.nextLine();\n        System.out.print(\"Enter Street Address:\");\n        String Address;\n        Address=scan.nextLine();\n        System.out.print(\"Enter city, state, and zip code:\");\n        String Location;\n        Location=scan.nextLine();\n        System.out.println();\n        System.out.println();\n        System.out.println(\"Dear \"+Name+\",\");\n        System.out.println(\" You have been selected to receive this offer of auto insurance from\");\n        System.out.println(\"Allspam Insurance Company! Drivers from \"++\" saved an average \"); // I just want it to print the city here, between ++\n\n        // I will finish coding once I figure this out, but I'm stumped\n    }\n}\n</code></pre>\n"},{"tags":["java","php","firebase","firebase-realtime-database","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641430997,"creation_date":1641430997,"answer_id":70601371,"question_id":70601308,"body_markdown":"You typically won&#39;t want to create an entire database for each user, but instead store the data in a way that it is segmented per user, and then sure access to it through Firebase&#39;s security rules.\r\n\r\nSame for file storage, you&#39;ll also want to segment the files per user there and use security rules to control access to the files.\r\n\r\nA great starting point for learning more about this is in the Firebase documentation on security rules, under the section on [how to secure data so that only the content-owner has access to it](https://firebase.google.com/docs/rules/basics#content-owner_only_access), which covers the structure and rules for Realtime Database, Cloud Storage, and Firestore.","title":"Create New Firebase Database storage for each new authenticated users","body":"<p>You typically won't want to create an entire database for each user, but instead store the data in a way that it is segmented per user, and then sure access to it through Firebase's security rules.</p>\n<p>Same for file storage, you'll also want to segment the files per user there and use security rules to control access to the files.</p>\n<p>A great starting point for learning more about this is in the Firebase documentation on security rules, under the section on <a href=\"https://firebase.google.com/docs/rules/basics#content-owner_only_access\" rel=\"nofollow noreferrer\">how to secure data so that only the content-owner has access to it</a>, which covers the structure and rules for Realtime Database, Cloud Storage, and Firestore.</p>\n"}],"owner":{"account_id":20455632,"reputation":61,"user_id":15009376,"display_name":"Chisom Emmanuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641430997,"creation_date":1641430365,"question_id":70601308,"body_markdown":"Am creating a firebase bank android app where users can authenticate and create account. It&#39;s having a Firebase RecyclerView which shows lists of bank transactions in linear layouts in one of my children fragment. Please is there any way i can allow newly authenticated users to create a Firebase Database and storage automatically so that whenever a user (CRUD) **Create,** **Read,** **Update,** and **Delete** an item, it&#39;ll delete only from that user&#39;s Firebase Database RecyclerView lists then list will refresh automatically for that specific user","title":"Create New Firebase Database storage for each new authenticated users","body":"<p>Am creating a firebase bank android app where users can authenticate and create account. It's having a Firebase RecyclerView which shows lists of bank transactions in linear layouts in one of my children fragment. Please is there any way i can allow newly authenticated users to create a Firebase Database and storage automatically so that whenever a user (CRUD) <strong>Create,</strong> <strong>Read,</strong> <strong>Update,</strong> and <strong>Delete</strong> an item, it'll delete only from that user's Firebase Database RecyclerView lists then list will refresh automatically for that specific user</p>\n"},{"tags":["java","android","testing","android-espresso","dagger-hilt"],"comments":[{"owner":{"account_id":17165441,"reputation":4394,"user_id":12423905,"display_name":"Andrew"},"score":0,"creation_date":1600777425,"post_id":64008970,"comment_id":113189314,"body_markdown":"May I ask what exactly you want to test? I think this is a UI test?","body":"May I ask what exactly you want to test? I think this is a UI test?"},{"owner":{"account_id":1465643,"reputation":2311,"user_id":1378564,"accept_rate":29,"display_name":"Oleg Novosad"},"score":0,"creation_date":1600781066,"post_id":64008970,"comment_id":113191306,"body_markdown":"@Andrew yes, all of the tests inside this class are UI tests. Before adding hilt they were passing with no issues.","body":"@Andrew yes, all of the tests inside this class are UI tests. Before adding hilt they were passing with no issues."},{"owner":{"account_id":17165441,"reputation":4394,"user_id":12423905,"display_name":"Andrew"},"score":0,"creation_date":1600781671,"post_id":64008970,"comment_id":113191672,"body_markdown":"I suggest watching this tutorial: https://www.youtube.com/watch?v=k4zG93ogWFY , it shows how to test fragments with dagger hilt","body":"I suggest watching this tutorial: <a href=\"https://www.youtube.com/watch?v=k4zG93ogWFY\" rel=\"nofollow noreferrer\">youtube.com/watch?v=k4zG93ogWFY</a> , it shows how to test fragments with dagger hilt"}],"owner":{"account_id":1465643,"reputation":2311,"user_id":1378564,"accept_rate":29,"display_name":"Oleg Novosad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":796,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1641430623,"creation_date":1600774763,"question_id":64008970,"body_markdown":"When using Hilt with Espresso I found that my activity is either not resumed or not destroyed. When I comment out the very first test that launches my activity the second one started to pass. The workaround is to separate each test however this will produce a lot of boiler plate code.\r\n\r\nAlso I have a custom activity inside the tests that inherits from my main activity.\r\n\r\n```java\r\n@RunWith(AndroidJUnit4.class)\r\n@HiltAndroidTest\r\npublic class MainActivityTest {\r\n    // ... initilisation &amp; mocks\r\n\r\n\r\n    @Before\r\n    public void setUp() {\r\n        MockitoAnnotations.initMocks(this);\r\n        hiltAndroidRule.inject();\r\n        context = getInstrumentation().getTargetContext();\r\n        \r\n        // ... other initialisation and setup\r\n    }\r\n\r\n    // Helper classes and functions\r\n    @AndroidEntryPoint\r\n    public class ModifiedMainActivity extends MainActivity {\r\n        // ... custom activity implementations\r\n    }\r\n\r\n    // Factory\r\n    private SingleActivityFactory&lt;MainActivity&gt; activityFactory = new SingleActivityFactory&lt;MainActivity&gt;(MainActivity.class) {\r\n        @Override\r\n        protected MainActivity create(Intent intent) {\r\n            ModifiedMainActivity mainActivity = new ModifiedMainActivity();\r\n            // other custom activity configuration &amp; setup\r\n            return mainActivity;\r\n        }\r\n    }\r\n\r\n    @After\r\n    public void tearDown() {\r\n        // ... other code to tear down some stubs\r\n    }\r\n}\r\n```\r\n\r\nAny ideas?\r\n\r\nI can provide some code but other is under NDA. \r\n\r\nMy rules:\r\n\r\n```java\r\n@Rule(order = 0)\r\npublic HiltAndroidRule hiltAndroidRule = new HiltAndroidRule(this);\r\n@Rule(order = 1)\r\npublic ActivityTestRule&lt;MainActivity&gt; mainActivityRule = new ActivityTestRule&lt;&gt;(activityFactory, true, false);\r\n```\r\n\r\nTest example:\r\n\r\n```java\r\n@Test\r\npublic void test_report_system_back_button_pressed_when_closing_main_activity() {\r\n    Intent intent = new Intent(Intent.ACTION_MAIN);\r\n    final MainActivity mainActivity = mainActivityRule.launchActivity(intent);\r\n    getInstrumentation().runOnMainSync(mainActivity::onBackPressed);\r\n    verify(mockedHelper, times(1)).reportEvent(eq(Codes.SYSTEM_BACK_PRESSED), eq(&quot;SystemBackPressed&quot;), nullable(Map.class));\r\n}\r\n```\r\n\r\nException:\r\n\r\n```java\r\n\r\njava.lang.RuntimeException: No activities found. Did you forget to launch the activity by calling getActivity() or startActivitySync or similar?\r\nat androidx.test.espresso.base.RootViewPicker.waitForAtLeastOneActivityToBeResumed(RootViewPicker.java:176)\r\nat androidx.test.espresso.base.RootViewPicker.get(RootViewPicker.java:88)\r\nat androidx.test.espresso.ViewInteractionModule.provideRootView(ViewInteractionModule.java:77)\r\nat androidx.test.espresso.ViewInteractionModule_ProvideRootViewFactory.provideRootView(ViewInteractionModule_ProvideRootViewFactory.java:37)\r\nat androidx.test.espresso.ViewInteractionModule_ProvideRootViewFactory.get(ViewInteractionModule_ProvideRootViewFactory.java:27)\r\nat androidx.test.espresso.ViewInteractionModule_ProvideRootViewFactory.get(ViewInteractionModule_ProvideRootViewFactory.java:10)\r\nat androidx.test.espresso.base.ViewFinderImpl.getView(ViewFinderImpl.java:63)\r\nat androidx.test.espresso.ViewInteraction$2.call(ViewInteraction.java:280)\r\nat androidx.test.espresso.ViewInteraction$2.call(ViewInteraction.java:272)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\nat android.os.Handler.handleCallback(Handler.java:751)\r\nat android.os.Handler.dispatchMessage(Handler.java:95)\r\nat android.os.Looper.loop(Looper.java:154)\r\nat android.app.ActivityThread.main(ActivityThread.java:6119)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\r\n```","title":"Hilt + Espresso: No activities found. Did you forget to launch the activity by calling getActivity() or startActivitySync or similar?","body":"<p>When using Hilt with Espresso I found that my activity is either not resumed or not destroyed. When I comment out the very first test that launches my activity the second one started to pass. The workaround is to separate each test however this will produce a lot of boiler plate code.</p>\n<p>Also I have a custom activity inside the tests that inherits from my main activity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(AndroidJUnit4.class)\n@HiltAndroidTest\npublic class MainActivityTest {\n    // ... initilisation &amp; mocks\n\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n        hiltAndroidRule.inject();\n        context = getInstrumentation().getTargetContext();\n        \n        // ... other initialisation and setup\n    }\n\n    // Helper classes and functions\n    @AndroidEntryPoint\n    public class ModifiedMainActivity extends MainActivity {\n        // ... custom activity implementations\n    }\n\n    // Factory\n    private SingleActivityFactory&lt;MainActivity&gt; activityFactory = new SingleActivityFactory&lt;MainActivity&gt;(MainActivity.class) {\n        @Override\n        protected MainActivity create(Intent intent) {\n            ModifiedMainActivity mainActivity = new ModifiedMainActivity();\n            // other custom activity configuration &amp; setup\n            return mainActivity;\n        }\n    }\n\n    @After\n    public void tearDown() {\n        // ... other code to tear down some stubs\n    }\n}\n</code></pre>\n<p>Any ideas?</p>\n<p>I can provide some code but other is under NDA.</p>\n<p>My rules:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Rule(order = 0)\npublic HiltAndroidRule hiltAndroidRule = new HiltAndroidRule(this);\n@Rule(order = 1)\npublic ActivityTestRule&lt;MainActivity&gt; mainActivityRule = new ActivityTestRule&lt;&gt;(activityFactory, true, false);\n</code></pre>\n<p>Test example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test_report_system_back_button_pressed_when_closing_main_activity() {\n    Intent intent = new Intent(Intent.ACTION_MAIN);\n    final MainActivity mainActivity = mainActivityRule.launchActivity(intent);\n    getInstrumentation().runOnMainSync(mainActivity::onBackPressed);\n    verify(mockedHelper, times(1)).reportEvent(eq(Codes.SYSTEM_BACK_PRESSED), eq(&quot;SystemBackPressed&quot;), nullable(Map.class));\n}\n</code></pre>\n<p>Exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\njava.lang.RuntimeException: No activities found. Did you forget to launch the activity by calling getActivity() or startActivitySync or similar?\nat androidx.test.espresso.base.RootViewPicker.waitForAtLeastOneActivityToBeResumed(RootViewPicker.java:176)\nat androidx.test.espresso.base.RootViewPicker.get(RootViewPicker.java:88)\nat androidx.test.espresso.ViewInteractionModule.provideRootView(ViewInteractionModule.java:77)\nat androidx.test.espresso.ViewInteractionModule_ProvideRootViewFactory.provideRootView(ViewInteractionModule_ProvideRootViewFactory.java:37)\nat androidx.test.espresso.ViewInteractionModule_ProvideRootViewFactory.get(ViewInteractionModule_ProvideRootViewFactory.java:27)\nat androidx.test.espresso.ViewInteractionModule_ProvideRootViewFactory.get(ViewInteractionModule_ProvideRootViewFactory.java:10)\nat androidx.test.espresso.base.ViewFinderImpl.getView(ViewFinderImpl.java:63)\nat androidx.test.espresso.ViewInteraction$2.call(ViewInteraction.java:280)\nat androidx.test.espresso.ViewInteraction$2.call(ViewInteraction.java:272)\nat java.util.concurrent.FutureTask.run(FutureTask.java:237)\nat android.os.Handler.handleCallback(Handler.java:751)\nat android.os.Handler.dispatchMessage(Handler.java:95)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6119)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n</code></pre>\n"},{"tags":["java","swing","jtable","listselectionlistener"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1641424807,"post_id":70600658,"comment_id":124804669,"body_markdown":"_&quot;It won&#39;t respond if I click on the same row : 12 -&gt; 13 or 21 -&gt; 23&quot;_ -- this is unclear. What is &quot;same row&quot;?","body":"<i>&quot;It won&#39;t respond if I click on the same row : 12 -&gt; 13 or 21 -&gt; 23&quot;</i> -- this is unclear. What is &quot;same row&quot;?"},{"owner":{"account_id":15510,"reputation":30708,"user_id":32834,"accept_rate":79,"display_name":"Frank"},"score":0,"creation_date":1641426066,"post_id":70600658,"comment_id":124804940,"body_markdown":"More details added.","body":"More details added."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1641443449,"post_id":70600658,"comment_id":124807738,"body_markdown":"A `JTable` is not a spreadsheet.  You can code a `JTable` so it acts like a spreadsheet, but it requires a lot of custom code.  too much custom code for a Stack Overflow answer.","body":"A <code>JTable</code> is not a spreadsheet.  You can code a <code>JTable</code> so it acts like a spreadsheet, but it requires a lot of custom code.  too much custom code for a Stack Overflow answer."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641426341,"creation_date":1641426341,"answer_id":70600914,"question_id":70600658,"body_markdown":"The problem is, the `ListSelectionModel` for the `JTable` managers the row selection only, from the [JavaDocs](https://docs.oracle.com/javase/10/docs/api/javax/swing/JTable.html#getSelectionModel())\r\n\r\n&gt; Returns the ListSelectionModel that is used to maintain row selection state.\r\n\r\nThis means that of the row selection doesn&#39;t change, you won&#39;t get a notification.\r\n\r\nInstead, you probably want to use the `ListSelectionModel` used by the `TableColumnModel`, for example...\r\n\r\n    table.getColumnModel().getSelectionModel().addListSelectionListener(new ListSelectionListener() {\r\n        @Override\r\n        public void valueChanged(ListSelectionEvent e) {\r\n            System.out.println(&quot;Selected column&quot;);\r\n        }\r\n    });\r\n","title":"Why there is no response after I clicked in a JTable cell?","body":"<p>The problem is, the <code>ListSelectionModel</code> for the <code>JTable</code> managers the row selection only, from the <a href=\"https://docs.oracle.com/javase/10/docs/api/javax/swing/JTable.html#getSelectionModel()\" rel=\"nofollow noreferrer\">JavaDocs</a></p>\n<blockquote>\n<p>Returns the ListSelectionModel that is used to maintain row selection state.</p>\n</blockquote>\n<p>This means that of the row selection doesn't change, you won't get a notification.</p>\n<p>Instead, you probably want to use the <code>ListSelectionModel</code> used by the <code>TableColumnModel</code>, for example...</p>\n<pre><code>table.getColumnModel().getSelectionModel().addListSelectionListener(new ListSelectionListener() {\n    @Override\n    public void valueChanged(ListSelectionEvent e) {\n        System.out.println(&quot;Selected column&quot;);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":15510,"reputation":30708,"user_id":32834,"accept_rate":79,"display_name":"Frank"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641430299,"creation_date":1641424161,"question_id":70600658,"body_markdown":"I have the following sample Java Swing `JTable` app:\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.ListSelectionModel;\r\n    import javax.swing.event.ListSelectionEvent;\r\n    import javax.swing.event.ListSelectionListener;\r\n    \r\n    public class JTableListSelectionListener\r\n    {\r\n      public static void main(String[] a)\r\n      {\r\n        JFrame frame=new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n        final JTable table;\r\n    \r\n        String[] columnTitles={&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;};\r\n        Object[][] rowData={{&quot;11&quot;,&quot;12&quot;,&quot;13&quot;,&quot;14&quot;},{&quot;21&quot;,&quot;22&quot;,&quot;23&quot;,&quot;24&quot;},{&quot;31&quot;,&quot;32&quot;,&quot;33&quot;,&quot;34&quot;},{&quot;41&quot;,&quot;42&quot;,&quot;43&quot;,&quot;44&quot;}};\r\n    \r\n        table=new JTable(rowData,columnTitles);\r\n    \r\n        table.setCellSelectionEnabled(true);\r\n        ListSelectionModel cellSelectionModel=table.getSelectionModel();\r\n        cellSelectionModel.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n    \r\n        cellSelectionModel.addListSelectionListener(new ListSelectionListener()\r\n        {\r\n          public void valueChanged(ListSelectionEvent e)\r\n          {\r\n            String selectedData=null;\r\n    \r\n            int[] selectedRow=table.getSelectedRows();\r\n            int[] selectedColumns=table.getSelectedColumns();\r\n    \r\n            for (int i=0;i&lt;selectedRow.length;i++)\r\n              for (int j=0;j&lt;selectedColumns.length;j++)\r\n                selectedData=(String)table.getValueAt(selectedRow[i],selectedColumns[j]);\r\n            System.out.println(&quot;Selected: &quot;+selectedData);\r\n          }\r\n    \r\n        });\r\n    \r\n        frame.add(new JScrollPane(table));\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setSize(300,200);\r\n        frame.setVisible(true);\r\n      }\r\n    }\r\n\r\nIt won&#39;t respond if I click on the same row: &lt;br&gt;\r\nIf I click on &quot;12&quot; then on &quot;13&quot; or first click on &quot;21&quot; then click on &quot;23&quot;, why?\r\n\r\n1. How to fix it so no matter where I click in whichever order, it will always output the value in that cell?\r\n\r\n2. How to be able to tell if I have clicked with the left mouse button or the right mouse button?","title":"Why there is no response after I clicked in a JTable cell?","body":"<p>I have the following sample Java Swing <code>JTable</code> app:</p>\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.ListSelectionModel;\nimport javax.swing.event.ListSelectionEvent;\nimport javax.swing.event.ListSelectionListener;\n\npublic class JTableListSelectionListener\n{\n  public static void main(String[] a)\n  {\n    JFrame frame=new JFrame();\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n    final JTable table;\n\n    String[] columnTitles={&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;};\n    Object[][] rowData={{&quot;11&quot;,&quot;12&quot;,&quot;13&quot;,&quot;14&quot;},{&quot;21&quot;,&quot;22&quot;,&quot;23&quot;,&quot;24&quot;},{&quot;31&quot;,&quot;32&quot;,&quot;33&quot;,&quot;34&quot;},{&quot;41&quot;,&quot;42&quot;,&quot;43&quot;,&quot;44&quot;}};\n\n    table=new JTable(rowData,columnTitles);\n\n    table.setCellSelectionEnabled(true);\n    ListSelectionModel cellSelectionModel=table.getSelectionModel();\n    cellSelectionModel.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n\n    cellSelectionModel.addListSelectionListener(new ListSelectionListener()\n    {\n      public void valueChanged(ListSelectionEvent e)\n      {\n        String selectedData=null;\n\n        int[] selectedRow=table.getSelectedRows();\n        int[] selectedColumns=table.getSelectedColumns();\n\n        for (int i=0;i&lt;selectedRow.length;i++)\n          for (int j=0;j&lt;selectedColumns.length;j++)\n            selectedData=(String)table.getValueAt(selectedRow[i],selectedColumns[j]);\n        System.out.println(&quot;Selected: &quot;+selectedData);\n      }\n\n    });\n\n    frame.add(new JScrollPane(table));\n    frame.setLocationRelativeTo(null);\n    frame.setSize(300,200);\n    frame.setVisible(true);\n  }\n}\n</code></pre>\n<p>It won't respond if I click on the same row: <br>\nIf I click on &quot;12&quot; then on &quot;13&quot; or first click on &quot;21&quot; then click on &quot;23&quot;, why?</p>\n<ol>\n<li><p>How to fix it so no matter where I click in whichever order, it will always output the value in that cell?</p>\n</li>\n<li><p>How to be able to tell if I have clicked with the left mouse button or the right mouse button?</p>\n</li>\n</ol>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":7947634,"reputation":539,"user_id":5999588,"accept_rate":0,"display_name":"Vibin"},"score":0,"creation_date":1641823923,"post_id":70601087,"comment_id":124900260,"body_markdown":"Issue resolved as per - https://issues.apache.org/jira/browse/LOG4J2-3321","body":"Issue resolved as per - <a href=\"https://issues.apache.org/jira/browse/LOG4J2-3321\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/LOG4J2-3321</a>"}],"owner":{"account_id":7947634,"reputation":539,"user_id":5999588,"accept_rate":0,"display_name":"Vibin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1298,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1641430132,"creation_date":1641428140,"question_id":70601087,"body_markdown":"i&#39;ve a configuration in my log4j2.xml as below - \r\n\r\n    &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:log4j2JSONLayout.json&quot;/&gt;\r\n\r\nThrows following error during initialization -\r\n\r\nmain ERROR RollingRandomAccessFile contains an invalid element or attribute &quot;JsonTemplateLayout&quot;\r\n\r\ndependencies added are:\r\n\r\nslf4j-api - 1.7.32\r\n\r\njcl-over-slf4j - 1.7.32\r\n\r\nlog4j-api - 2.17.1\r\n\r\nlog4j-core - 2.17.1\r\n\r\nlog4j-layout-template-json - 2.17.1\r\n\r\nlog4j-slf4j-impl - 2.17.1\r\n  \r\n\r\n\r\n","title":"RollingRandomAccessFile contains an invalid element or attribute JsonTemplateLayout","body":"<p>i've a configuration in my log4j2.xml as below -</p>\n<pre><code>&lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:log4j2JSONLayout.json&quot;/&gt;\n</code></pre>\n<p>Throws following error during initialization -</p>\n<p>main ERROR RollingRandomAccessFile contains an invalid element or attribute &quot;JsonTemplateLayout&quot;</p>\n<p>dependencies added are:</p>\n<p>slf4j-api - 1.7.32</p>\n<p>jcl-over-slf4j - 1.7.32</p>\n<p>log4j-api - 2.17.1</p>\n<p>log4j-core - 2.17.1</p>\n<p>log4j-layout-template-json - 2.17.1</p>\n<p>log4j-slf4j-impl - 2.17.1</p>\n"},{"tags":["java","file-io","resource-leak"],"comments":[{"owner":{"account_id":398383,"reputation":12130,"user_id":763029,"accept_rate":88,"display_name":"Caffeinated"},"score":0,"creation_date":1317060030,"post_id":7559184,"comment_id":9162847,"body_markdown":"I believe Java does all of that in the background, so it should be taken care of. Hmm, maybe I&#39;m missing it though","body":"I believe Java does all of that in the background, so it should be taken care of. Hmm, maybe I&#39;m missing it though"},{"owner":{"account_id":545061,"reputation":6934,"user_id":914705,"accept_rate":100,"display_name":"Mike Sokolov"},"score":1,"creation_date":1317060222,"post_id":7559184,"comment_id":9162905,"body_markdown":"Java will eventually garbage collect and close your open files, but if you open and throw away resources very rapidly, it won&#39;t be able to keep up.  Closing handles explicitly is much better.","body":"Java will eventually garbage collect and close your open files, but if you open and throw away resources very rapidly, it won&#39;t be able to keep up.  Closing handles explicitly is much better."}],"answers":[{"tags":[],"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317060326,"creation_date":1317060326,"answer_id":7559273,"question_id":7559184,"body_markdown":"You can use aspect-oriented programming (AOP) tool like [AspectJ][1] to add code to count open/closed files to `FileInputStream` and `FileOutputStream`. This is fairly easy to do (details depend on the tool, of course) robust and noninvasive.\r\n\r\n\r\n  [1]: http://www.eclipse.org/aspectj/","title":"What&#39;s a good pattern for a java unit test that ensures that you are properly closing files?","body":"<p>You can use aspect-oriented programming (AOP) tool like <a href=\"http://www.eclipse.org/aspectj/\" rel=\"nofollow\">AspectJ</a> to add code to count open/closed files to <code>FileInputStream</code> and <code>FileOutputStream</code>. This is fairly easy to do (details depend on the tool, of course) robust and noninvasive.</p>\n"},{"tags":[],"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1317060731,"creation_date":1317060731,"answer_id":7559339,"question_id":7559184,"body_markdown":"Looks like you can watch this via JMX.\r\n\r\nSomeone posted code here:\r\nhttp://java-monitor.com/forum/showthread.php?t=130\r\n\r\nYou&#39;ll have to enable JMX in your JVM if you haven&#39;t already.","title":"What&#39;s a good pattern for a java unit test that ensures that you are properly closing files?","body":"<p>Looks like you can watch this via JMX.</p>\n\n<p>Someone posted code here:\n<a href=\"http://java-monitor.com/forum/showthread.php?t=130\" rel=\"nofollow\">http://java-monitor.com/forum/showthread.php?t=130</a></p>\n\n<p>You'll have to enable JMX in your JVM if you haven't already.</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1383497312,"creation_date":1317060996,"answer_id":7559383,"question_id":7559184,"body_markdown":"Since you are talking about Tests, PowerMock http://code.google.com/p/powermock/ might do the trick. It makes it possible to mock static methods and constructors if I am not mistaken. So you could mock/spy on the constructors and on the close methods or what ever you need for freeing the resources.\r\n\r\nI try to avoid it in my tests but in the case which you describe it might be worth the hassle.","title":"What&#39;s a good pattern for a java unit test that ensures that you are properly closing files?","body":"<p>Since you are talking about Tests, PowerMock <a href=\"http://code.google.com/p/powermock/\" rel=\"nofollow\">http://code.google.com/p/powermock/</a> might do the trick. It makes it possible to mock static methods and constructors if I am not mistaken. So you could mock/spy on the constructors and on the close methods or what ever you need for freeing the resources.</p>\n\n<p>I try to avoid it in my tests but in the case which you describe it might be worth the hassle.</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641430129,"creation_date":1641429198,"answer_id":70601199,"question_id":7559184,"body_markdown":"You could write your own &quot;library&quot; for the normal IO classes, FileInputStream, etc. That tracks (in test) what caller opened it, if it&#39;s still open, a global list, etc.  Have it wrap a &quot;real&quot; FileInputStream.\r\nThen use that everywhere in your code instead of a &quot;normal&quot; FileInputStream et al.\r\n\r\nThen at the end of your unit test you assert `WrappedFileInputStreams.assertAllWereClosed` or what have you.\r\n\r\nAnother option would be to write your methods so they accept FileinputStream as a parameter somehow, then call them, then assert your parameter comes out &quot;closed now&quot; after the method ends.\r\n\r\nOr if you know you&#39;ll be on linux, do a system call to `lsof` and it should not list any files as location &#39;(deleted)&#39;. https://unix.stackexchange.com/a/64737/8337\r\n\r\nFor some reason on OS X it&#39;s not that easy, it doesn&#39;t show &quot;(deleted)&quot; but you could still detect if the file is gone by looping over `lsof -p ...` and checking if each file is actually there on the file system...","title":"What&#39;s a good pattern for a java unit test that ensures that you are properly closing files?","body":"<p>You could write your own &quot;library&quot; for the normal IO classes, FileInputStream, etc. That tracks (in test) what caller opened it, if it's still open, a global list, etc.  Have it wrap a &quot;real&quot; FileInputStream.\nThen use that everywhere in your code instead of a &quot;normal&quot; FileInputStream et al.</p>\n<p>Then at the end of your unit test you assert <code>WrappedFileInputStreams.assertAllWereClosed</code> or what have you.</p>\n<p>Another option would be to write your methods so they accept FileinputStream as a parameter somehow, then call them, then assert your parameter comes out &quot;closed now&quot; after the method ends.</p>\n<p>Or if you know you'll be on linux, do a system call to <code>lsof</code> and it should not list any files as location '(deleted)'. <a href=\"https://unix.stackexchange.com/a/64737/8337\">https://unix.stackexchange.com/a/64737/8337</a></p>\n<p>For some reason on OS X it's not that easy, it doesn't show &quot;(deleted)&quot; but you could still detect if the file is gone by looping over <code>lsof -p ...</code> and checking if each file is actually there on the file system...</p>\n"}],"owner":{"account_id":545061,"reputation":6934,"user_id":914705,"accept_rate":100,"display_name":"Mike Sokolov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":7559383,"answer_count":4,"score":7,"last_activity_date":1641430129,"creation_date":1317059930,"question_id":7559184,"body_markdown":"I have an issue in my codebase where we are not properly closing file handles, or probably streams.  We eventually get a TooManyOpenFiles exception under very heavy load.  Based on the output of lsof, we are pretty sure we know where the leak is (in our logging system), but my question is: how can I write a unit test that checks, when it&#39;s complete, that resources have been closed properly?  Is there a way to query the JRE to find out how many files are currently open?  Can I somehow intercept file operations so I can monitor them?\r\n\r\nI suspect I will have to instrument my code in order to manage all the file I/O, count references, and make sure they are getting closed that way, but if anyone knows of a top-down solution akin to those ideas I mentioned above, that would be a huge help!","title":"What&#39;s a good pattern for a java unit test that ensures that you are properly closing files?","body":"<p>I have an issue in my codebase where we are not properly closing file handles, or probably streams.  We eventually get a TooManyOpenFiles exception under very heavy load.  Based on the output of lsof, we are pretty sure we know where the leak is (in our logging system), but my question is: how can I write a unit test that checks, when it's complete, that resources have been closed properly?  Is there a way to query the JRE to find out how many files are currently open?  Can I somehow intercept file operations so I can monitor them?</p>\n\n<p>I suspect I will have to instrument my code in order to manage all the file I/O, count references, and make sure they are getting closed that way, but if anyone knows of a top-down solution akin to those ideas I mentioned above, that would be a huge help!</p>\n"},{"tags":["java","logging","spring-boot","spring-websocket","sockjs"],"comments":[{"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"score":0,"creation_date":1505799926,"post_id":46292669,"comment_id":79547745,"body_markdown":"you can upgrade log level to ERROR/WARN to disable INFO logs","body":"you can upgrade log level to ERROR/WARN to disable INFO logs"},{"owner":{"account_id":4819401,"reputation":1679,"user_id":3890478,"accept_rate":44,"display_name":"BiJ"},"score":0,"creation_date":1505799970,"post_id":46292669,"comment_id":79547758,"body_markdown":"I would like the INFO log to be disabled only for this not for others","body":"I would like the INFO log to be disabled only for this not for others"}],"answers":[{"tags":[],"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1505800185,"creation_date":1505800185,"answer_id":46292745,"question_id":46292669,"body_markdown":"Try to use following configuration in `application.properties`:\r\n\r\n    logging.level.org.springframework.web.socket.config.WebSocketMessageBrokerStats = ERROR\r\n\r\nthis will upgrade logs for this particular class.","title":"Disable INFO level logging for Spring boot websocket MessageBroker logs","body":"<p>Try to use following configuration in <code>application.properties</code>:</p>\n\n<pre><code>logging.level.org.springframework.web.socket.config.WebSocketMessageBrokerStats = ERROR\n</code></pre>\n\n<p>this will upgrade logs for this particular class.</p>\n"},{"tags":[],"owner":{"account_id":13566844,"reputation":180,"user_id":9786749,"display_name":"un0tec"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641427838,"creation_date":1641427838,"answer_id":70601060,"question_id":46292669,"body_markdown":"I would like to improve [this answer][1]  based on the comment of @Dino, because it is true that this solution doesn&#39;t show the logs but it doesn&#39;t disable the task and doesn&#39;t prevent unnecessary resource usage.\r\n\r\nTo prevent unnecessary resource usage use the following implementation:\r\n\r\n    @Configuration\r\n    public class WebSocketLoggingConfigurer {\r\n\r\n\t    @Autowired\r\n\t    private WebSocketMessageBrokerStats webSocketMessageBrokerStats;\r\n\r\n\t    @PostConstruct\r\n\t    public void init() {\r\n\t        webSocketMessageBrokerStats.setLoggingPeriod(0);\r\n\t    }\r\n\t\r\n    }\r\n\r\nNow it is not necessary to modify the log level using `application.properties`.\r\n\r\n  [1]: https://stackoverflow.com/a/46292745/9786749","title":"Disable INFO level logging for Spring boot websocket MessageBroker logs","body":"<p>I would like to improve <a href=\"https://stackoverflow.com/a/46292745/9786749\">this answer</a>  based on the comment of @Dino, because it is true that this solution doesn't show the logs but it doesn't disable the task and doesn't prevent unnecessary resource usage.</p>\n<p>To prevent unnecessary resource usage use the following implementation:</p>\n<pre><code>@Configuration\npublic class WebSocketLoggingConfigurer {\n\n    @Autowired\n    private WebSocketMessageBrokerStats webSocketMessageBrokerStats;\n\n    @PostConstruct\n    public void init() {\n        webSocketMessageBrokerStats.setLoggingPeriod(0);\n    }\n\n}\n</code></pre>\n<p>Now it is not necessary to modify the log level using <code>application.properties</code>.</p>\n"}],"owner":{"account_id":4819401,"reputation":1679,"user_id":3890478,"accept_rate":44,"display_name":"BiJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7645,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":46292745,"answer_count":2,"score":5,"last_activity_date":1641427838,"creation_date":1505799825,"question_id":46292669,"body_markdown":"I have a spring boot application with Websocket enabled wit SockJs. All works nice but it keeps logging below message in the console.\r\n\r\n\r\n    2017-09-19 11:04:48.164  INFO 8856 --- [MessageBroker-4] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 45], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 22], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 65909]\r\n\r\nWhat is the significance of the log and how can I disable only these type of logging?","title":"Disable INFO level logging for Spring boot websocket MessageBroker logs","body":"<p>I have a spring boot application with Websocket enabled wit SockJs. All works nice but it keeps logging below message in the console.</p>\n\n<pre><code>2017-09-19 11:04:48.164  INFO 8856 --- [MessageBroker-4] o.s.w.s.c.WebSocketMessageBrokerStats    : WebSocketSession[1 current WS(1)-HttpStream(0)-HttpPoll(0), 3 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(3)-CONNECTED(3)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 45], outboundChannelpool size = 0, active threads = 0, queued tasks = 0, completed tasks = 22], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 2, completed tasks = 65909]\n</code></pre>\n\n<p>What is the significance of the log and how can I disable only these type of logging?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":400660,"reputation":4729,"user_id":766755,"display_name":"Michael Krause"},"score":0,"creation_date":1641424317,"post_id":70600437,"comment_id":124804571,"body_markdown":"What do you mean by element?","body":"What do you mean by element?"},{"owner":{"account_id":9684429,"reputation":23,"user_id":7184809,"display_name":"Mirco"},"score":0,"creation_date":1641426876,"post_id":70600437,"comment_id":124805093,"body_markdown":"Something you can draw on a canvas. That could be a Bitmap, Circle, Picture, Path,...","body":"Something you can draw on a canvas. That could be a Bitmap, Circle, Picture, Path,..."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1641446804,"post_id":70600437,"comment_id":124808272,"body_markdown":"try this,https://stackoverflow.com/questions/2447564/detect-touch-on-bitmap","body":"try this,<a href=\"https://stackoverflow.com/questions/2447564/detect-touch-on-bitmap\" title=\"detect touch on bitmap\">stackoverflow.com/questions/2447564/detect-touch-on-bit&zwnj;&#8203;map</a>"}],"owner":{"account_id":9684429,"reputation":23,"user_id":7184809,"display_name":"Mirco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641426978,"creation_date":1641422356,"question_id":70600437,"body_markdown":"I would like to be able to touch a specific element in a view.\r\n\r\nI know from [this][1] answer, how I can get the touch coordinates relative to a view:\r\n\r\n```\r\n private OnTouchListener image_Listener = new OnTouchListener(){\r\n    @Override\r\n    public boolean onTouch(View v, MotionEvent event) {\r\n        if(event.getAction() == MotionEvent.ACTION_UP) {\r\n            float x = event.getX();\r\n            float y = event.getY();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n};\r\n```\r\nHowever, that only tells me, where the view was touched, but not which element (lets say a Bitmap or a Square I drew) I did touched.\r\n\r\nMy only thought is to convert the touch coordinates and see if there is an element at that position, but that seems rather complicated to me.\r\n\r\nEDIT: As pointed out in the comments, I mean with &quot;elements&quot; things you can draw on a canvas. Basically everything, that has a draw method (a Bitmap, Circle, Picture, Path,...)\r\n\r\n  [1]: https://stackoverflow.com/a/8452533/7184809","title":"Get touched Element in a View","body":"<p>I would like to be able to touch a specific element in a view.</p>\n<p>I know from <a href=\"https://stackoverflow.com/a/8452533/7184809\">this</a> answer, how I can get the touch coordinates relative to a view:</p>\n<pre><code> private OnTouchListener image_Listener = new OnTouchListener(){\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        if(event.getAction() == MotionEvent.ACTION_UP) {\n            float x = event.getX();\n            float y = event.getY();\n            return true;\n        }\n        return false;\n    }\n};\n</code></pre>\n<p>However, that only tells me, where the view was touched, but not which element (lets say a Bitmap or a Square I drew) I did touched.</p>\n<p>My only thought is to convert the touch coordinates and see if there is an element at that position, but that seems rather complicated to me.</p>\n<p>EDIT: As pointed out in the comments, I mean with &quot;elements&quot; things you can draw on a canvas. Basically everything, that has a draw method (a Bitmap, Circle, Picture, Path,...)</p>\n"},{"tags":["java","elasticsearch","ssl","certificate","ssl-certificate"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":1,"creation_date":1606193166,"post_id":64980339,"comment_id":114881298,"body_markdown":"Knowing [how many clusters have been compromised](https://www.linkedin.com/posts/valentincrettaz_what-is-elasticsearch-and-why-is-it-involved-activity-6729683899946958848-QITc) to date, I&#39;m curious why you need to do this against a production box... that completely defeats the purpose of having SSL set up in the first place and opens your cluster to MITM attacks. Can you shed some light on why you need this?","body":"Knowing <a href=\"https://www.linkedin.com/posts/valentincrettaz_what-is-elasticsearch-and-why-is-it-involved-activity-6729683899946958848-QITc\" rel=\"nofollow noreferrer\">how many clusters have been compromised</a> to date, I&#39;m curious why you need to do this against a production box... that completely defeats the purpose of having SSL set up in the first place and opens your cluster to MITM attacks. Can you shed some light on why you need this?"},{"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"score":0,"creation_date":1606193981,"post_id":64980339,"comment_id":114881485,"body_markdown":"Sure. I am making this connection from a production box (PB1). PB1 is isolated from the rest of the world. I am just querying the number of documents inserted per hour through a cron job from PB1. That&#39;s why I am looking at alternatives since the use case is small","body":"Sure. I am making this connection from a production box (PB1). PB1 is isolated from the rest of the world. I am just querying the number of documents inserted per hour through a cron job from PB1. That&#39;s why I am looking at alternatives since the use case is small"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1606194018,"post_id":64980339,"comment_id":114881496,"body_markdown":"What if PB1 is compromised?","body":"What if PB1 is compromised?"},{"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"score":0,"creation_date":1606194115,"post_id":64980339,"comment_id":114881517,"body_markdown":"It can&#39;t be compromised. That is behind a bastion host and it won&#39;t have any connectivity from outside","body":"It can&#39;t be compromised. That is behind a bastion host and it won&#39;t have any connectivity from outside"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1606194155,"post_id":64980339,"comment_id":114881523,"body_markdown":"If there&#39;s one thing I&#39;ve learned with security is that everything can be vulnerable at some point or another","body":"If there&#39;s one thing I&#39;ve learned with security is that everything can be vulnerable at some point or another"},{"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"score":0,"creation_date":1606194426,"post_id":64980339,"comment_id":114881578,"body_markdown":"Well. That is not impossible. But given the odds of having PB1 compromised and the use case I am looking for, I am looking for a way to override. If I am querying some sensitive information then definitely I need a certificate","body":"Well. That is not impossible. But given the odds of having PB1 compromised and the use case I am looking for, I am looking for a way to override. If I am querying some sensitive information then definitely I need a certificate"},{"owner":{"account_id":4218279,"reputation":1719,"user_id":3453727,"display_name":"Alex Chernyshev"},"score":0,"creation_date":1606194715,"post_id":64980339,"comment_id":114881635,"body_markdown":"Any chance that you mixed personal certificate with CA ? Because &#39; I need a certificate&#39; typically means personal certificate, issued by CA trusted on both sides and used as authentication.","body":"Any chance that you mixed personal certificate with CA ? Because &#39; I need a certificate&#39; typically means personal certificate, issued by CA trusted on both sides and used as authentication."},{"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"score":0,"creation_date":1606194889,"post_id":64980339,"comment_id":114881672,"body_markdown":"@AlexChernyshev what I meant by &quot;I need a certificate&quot; is the public certificate that I can get from CA which is used on both sides for encrypting.","body":"@AlexChernyshev what I meant by &quot;I need a certificate&quot; is the public certificate that I can get from CA which is used on both sides for encrypting."},{"owner":{"account_id":4218279,"reputation":1719,"user_id":3453727,"display_name":"Alex Chernyshev"},"score":0,"creation_date":1606195167,"post_id":64980339,"comment_id":114881725,"body_markdown":"Ok, then issue could be in hostname, because server certificate is issued for fixed hostname or subdomain. Could you check that your client connects to elasticsearch instance by using same domain as in server&#39;s certificate?","body":"Ok, then issue could be in hostname, because server certificate is issued for fixed hostname or subdomain. Could you check that your client connects to elasticsearch instance by using same domain as in server&#39;s certificate?"},{"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"score":0,"creation_date":1606195450,"post_id":64980339,"comment_id":114881798,"body_markdown":"I currently do not have server&#39;s certificate. So I am not sure if I am connecting from the expected domain in server&#39;s certificate. But the verify method I am overriding is essentially to do this. It is to skip hostname verification and approve it","body":"I currently do not have server&#39;s certificate. So I am not sure if I am connecting from the expected domain in server&#39;s certificate. But the verify method I am overriding is essentially to do this. It is to skip hostname verification and approve it"},{"owner":{"account_id":4218279,"reputation":1719,"user_id":3453727,"display_name":"Alex Chernyshev"},"score":0,"creation_date":1606195912,"post_id":64980339,"comment_id":114881904,"body_markdown":"Sure, but as mentioned upper - removal of hostname verification is extremely bad idea on production system, so if you have issues with wrong domain - better to make correct mapping somewhere in /etc/hosts rather then disabling all verification :)","body":"Sure, but as mentioned upper - removal of hostname verification is extremely bad idea on production system, so if you have issues with wrong domain - better to make correct mapping somewhere in /etc/hosts rather then disabling all verification :)"},{"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"score":1,"creation_date":1606197580,"post_id":64980339,"comment_id":114882300,"body_markdown":"Yeah you are right. But this is just a cron job so there won&#39;t be vulnerabilities. Anyways let me see how to use the certificate. Thanks @Val and AlexChernyshev","body":"Yeah you are right. But this is just a cron job so there won&#39;t be vulnerabilities. Anyways let me see how to use the certificate. Thanks @Val and AlexChernyshev"}],"answers":[{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1641426653,"creation_date":1606204957,"answer_id":64982379,"question_id":64980339,"body_markdown":"In your example you only disabled the hostname verification. The server (ElasticSearch or something on top of ElasticSearch) is sending you the public key/certificate and your Restclient tries to validate that during the ssl handshake. What you need to do is tell to your RestClient that it is **OK** to receive a certificate from anyone but when it receives one it **should not really validate it**. So you need a custom trustmanager which has the task to validate the certificate but actually it doesn&#39;t validate at all. What you need is an [UnsafeX509ExtendedTrustManager][1], see below for the code snippets and the usage with the RestClient:\r\n\r\n**Option 1**\r\n```java\r\npublic final class UnsafeX509ExtendedTrustManager extends X509ExtendedTrustManager {\r\n\r\n    private static final X509ExtendedTrustManager INSTANCE = new UnsafeX509ExtendedTrustManager();\r\n    private static final X509Certificate[] EMPTY_CERTIFICATES = new X509Certificate[0];\r\n\r\n    private UnsafeX509ExtendedTrustManager() {}\r\n\r\n    public static X509ExtendedTrustManager getInstance() {\r\n        return INSTANCE;\r\n    }\r\n\r\n    @Override\r\n    public void checkClientTrusted(X509Certificate[] certificates, String authType) { \r\n\r\n    }\r\n\r\n    @Override\r\n    public void checkClientTrusted(X509Certificate[] certificates, String authType, Socket socket) {\r\n    \r\n    }\r\n\r\n    @Override\r\n    public void checkClientTrusted(X509Certificate[] certificates, String authType, SSLEngine sslEngine) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void checkServerTrusted(X509Certificate[] certificates, String authType) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void checkServerTrusted(X509Certificate[] certificates, String authType, Socket socket) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void checkServerTrusted(X509Certificate[] certificates, String authType, SSLEngine sslEngine) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public X509Certificate[] getAcceptedIssuers() {\r\n        return EMPTY_CERTIFICATES;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe above trustmanager can be supplied to the RestHighLevelClient with the following snippet:\r\n\r\n```java\r\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\nsslContext.init(null, new TrustManager[]{ UnsafeX509ExtendedTrustManager.INSTANCE }, null);\r\n\r\nRestClient restClient = RestClient\r\n        .builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;https&quot;))\r\n        .setHttpClientConfigCallback(httpClientBuilder -&gt; \r\n                httpClientBuilder.setSSLContext(sslContext)\r\n                                 .setSSLHostnameVerifier((host, session) -&gt; true))\r\n        .build();\r\n```\r\n\r\n**By the way, I don&#39;t recommend you or anyone else to use UnsafeX509ExtendedTrustManager. It is unsafe and should not be used at all in production.**\r\n\r\n**Option 2**\r\n\r\nIf you don&#39;t want to add the custom code to your code base but just only want to easily disable the ssl verification, you might want to give the following snippet a try. It is a library to easily generate the SSLContext or other ssl materials and it has the option to disable the ssl verification.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\r\n    &lt;version&gt;7.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Usage**\r\n```java\r\nSSLFactory sslFactory = SSLFactory.builder()\r\n          .withUnsafeTrustMaterial()\r\n          .withUnsafeHostnameVerifier()\r\n          .build();\r\n\r\nRestClient restClient = RestClient\r\n        .builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;https&quot;))\r\n        .setHttpClientConfigCallback(httpClientBuilder -&gt; \r\n                httpClientBuilder.setSSLContext(sslFactory.getSslContext())\r\n                                 .setSSLHostnameVerifier(sslFactory.getHostnameVerifier())\r\n        .build();\r\n```\r\n\r\n  [1]: https://github.com/Hakky54/sslcontext-kickstart/blob/master/sslcontext-kickstart/src/main/java/nl/altindag/ssl/trustmanager/UnsafeX509ExtendedTrustManager.java","title":"Disabling SSL verification for Elastic search Restclient not working in Java","body":"<p>In your example you only disabled the hostname verification. The server (ElasticSearch or something on top of ElasticSearch) is sending you the public key/certificate and your Restclient tries to validate that during the ssl handshake. What you need to do is tell to your RestClient that it is <strong>OK</strong> to receive a certificate from anyone but when it receives one it <strong>should not really validate it</strong>. So you need a custom trustmanager which has the task to validate the certificate but actually it doesn't validate at all. What you need is an <a href=\"https://github.com/Hakky54/sslcontext-kickstart/blob/master/sslcontext-kickstart/src/main/java/nl/altindag/ssl/trustmanager/UnsafeX509ExtendedTrustManager.java\" rel=\"nofollow noreferrer\">UnsafeX509ExtendedTrustManager</a>, see below for the code snippets and the usage with the RestClient:</p>\n<p><strong>Option 1</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class UnsafeX509ExtendedTrustManager extends X509ExtendedTrustManager {\n\n    private static final X509ExtendedTrustManager INSTANCE = new UnsafeX509ExtendedTrustManager();\n    private static final X509Certificate[] EMPTY_CERTIFICATES = new X509Certificate[0];\n\n    private UnsafeX509ExtendedTrustManager() {}\n\n    public static X509ExtendedTrustManager getInstance() {\n        return INSTANCE;\n    }\n\n    @Override\n    public void checkClientTrusted(X509Certificate[] certificates, String authType) { \n\n    }\n\n    @Override\n    public void checkClientTrusted(X509Certificate[] certificates, String authType, Socket socket) {\n    \n    }\n\n    @Override\n    public void checkClientTrusted(X509Certificate[] certificates, String authType, SSLEngine sslEngine) {\n\n    }\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] certificates, String authType) {\n\n    }\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] certificates, String authType, Socket socket) {\n\n    }\n\n    @Override\n    public void checkServerTrusted(X509Certificate[] certificates, String authType, SSLEngine sslEngine) {\n\n    }\n\n    @Override\n    public X509Certificate[] getAcceptedIssuers() {\n        return EMPTY_CERTIFICATES;\n    }\n\n}\n</code></pre>\n<p>The above trustmanager can be supplied to the RestHighLevelClient with the following snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\nsslContext.init(null, new TrustManager[]{ UnsafeX509ExtendedTrustManager.INSTANCE }, null);\n\nRestClient restClient = RestClient\n        .builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;https&quot;))\n        .setHttpClientConfigCallback(httpClientBuilder -&gt; \n                httpClientBuilder.setSSLContext(sslContext)\n                                 .setSSLHostnameVerifier((host, session) -&gt; true))\n        .build();\n</code></pre>\n<p><strong>By the way, I don't recommend you or anyone else to use UnsafeX509ExtendedTrustManager. It is unsafe and should not be used at all in production.</strong></p>\n<p><strong>Option 2</strong></p>\n<p>If you don't want to add the custom code to your code base but just only want to easily disable the ssl verification, you might want to give the following snippet a try. It is a library to easily generate the SSLContext or other ssl materials and it has the option to disable the ssl verification.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart&lt;/artifactId&gt;\n    &lt;version&gt;7.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>SSLFactory sslFactory = SSLFactory.builder()\n          .withUnsafeTrustMaterial()\n          .withUnsafeHostnameVerifier()\n          .build();\n\nRestClient restClient = RestClient\n        .builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;https&quot;))\n        .setHttpClientConfigCallback(httpClientBuilder -&gt; \n                httpClientBuilder.setSSLContext(sslFactory.getSslContext())\n                                 .setSSLHostnameVerifier(sslFactory.getHostnameVerifier())\n        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16930860,"reputation":164,"user_id":12245178,"display_name":"Anusree"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1620141975,"creation_date":1619677787,"answer_id":67312068,"question_id":64980339,"body_markdown":"Hi there is very much easy way to do this. with less code.\r\n\r\nhope this will help you, I had the same problem and this is how I resolved.\r\n\r\n        @Bean\r\n            public RestHighLevelClient createSimpleElasticClient() throws Exception {\r\n                try {\r\n                    SSLContextBuilder sslBuilder = SSLContexts.custom()\r\n                            .loadTrustMaterial(null, (x509Certificates, s) -&gt; true);\r\n                            final SSLContext sslContext = sslBuilder.build();\r\n                    RestHighLevelClient client = new RestHighLevelClient(RestClient\r\n                            .builder(new HttpHost(hostNameOrLoadbalancerURL, 443, &quot;https&quot;)) \r\n    //port number is given as 443 since its https schema\r\n                            .setHttpClientConfigCallback(new HttpClientConfigCallback() {\r\n                                @Override\r\n                                public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n                                    return httpClientBuilder\r\n                                             .setSSLContext(sslContext)\r\n                                             .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE);\r\n                                }\r\n                            })\r\n                            .setRequestConfigCallback(new RestClientBuilder.RequestConfigCallback() {\r\n                                @Override\r\n                                public RequestConfig.Builder customizeRequestConfig(\r\n                                        RequestConfig.Builder requestConfigBuilder) {\r\n                                    return requestConfigBuilder.setConnectTimeout(5000)\r\n                                            .setSocketTimeout(120000);\r\n                                }\r\n                            }));\r\n                    System.out.println(&quot;elasticsearch client created&quot;);\r\n                    return client;\r\n                } catch (Exception e) {\r\n                    System.out.println(e);\r\n                    throw new Exception(&quot;Could not create an elasticsearch client!!&quot;);\r\n                }\r\n            }","title":"Disabling SSL verification for Elastic search Restclient not working in Java","body":"<p>Hi there is very much easy way to do this. with less code.</p>\n<p>hope this will help you, I had the same problem and this is how I resolved.</p>\n<pre><code>    @Bean\n        public RestHighLevelClient createSimpleElasticClient() throws Exception {\n            try {\n                SSLContextBuilder sslBuilder = SSLContexts.custom()\n                        .loadTrustMaterial(null, (x509Certificates, s) -&gt; true);\n                        final SSLContext sslContext = sslBuilder.build();\n                RestHighLevelClient client = new RestHighLevelClient(RestClient\n                        .builder(new HttpHost(hostNameOrLoadbalancerURL, 443, &quot;https&quot;)) \n//port number is given as 443 since its https schema\n                        .setHttpClientConfigCallback(new HttpClientConfigCallback() {\n                            @Override\n                            public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n                                return httpClientBuilder\n                                         .setSSLContext(sslContext)\n                                         .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE);\n                            }\n                        })\n                        .setRequestConfigCallback(new RestClientBuilder.RequestConfigCallback() {\n                            @Override\n                            public RequestConfig.Builder customizeRequestConfig(\n                                    RequestConfig.Builder requestConfigBuilder) {\n                                return requestConfigBuilder.setConnectTimeout(5000)\n                                        .setSocketTimeout(120000);\n                            }\n                        }));\n                System.out.println(&quot;elasticsearch client created&quot;);\n                return client;\n            } catch (Exception e) {\n                System.out.println(e);\n                throw new Exception(&quot;Could not create an elasticsearch client!!&quot;);\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":10432364,"reputation":1044,"user_id":7691803,"accept_rate":79,"display_name":"Bharat"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9693,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64982379,"answer_count":2,"score":4,"last_activity_date":1641426653,"creation_date":1606192734,"question_id":64980339,"body_markdown":"I am trying to connect to elastic search hosted in a gcp box. To connect to this, there is a SSL check and I need a certificate. \r\n\r\nHowever from these discussions, it is possible that we can turn off this verification.\r\n\r\nhttps://stackoverflow.com/questions/57057074/how-to-disable-ssl-verification-for-elasticsearch-restclient-v6-7-0-in-java\r\n\r\nhttps://discuss.elastic.co/t/host-name-does-not-match-the-certificate/186618\r\n\r\nI had tried to remove the verification. But it throwing the following error\r\n\r\n    javax.net.ssl.SSLHandshakeException: General SSLEngine problem\r\n    \tat org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:947)\r\n    \tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:229)\r\n    \tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1762)\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1732)\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1694)\r\n    \tat org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:1090)\r\n    \tat org.dexter.lab.elasticUtils.ESUtils.getLastIndexedTimeStamp(ESUtils.java:44)\r\n    \tat org.dexter.lab.druidUtils.DruidDelayChecker.main(DruidDelayChecker.java:357)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: General SSLEngine problem\r\n    \tat sun.security.ssl.Handshaker.checkThrown(Handshaker.java:1521)\r\n    \tat sun.security.ssl.SSLEngineImpl.checkTaskThrown(SSLEngineImpl.java:528)\r\n    \tat sun.security.ssl.SSLEngineImpl.writeAppRecord(SSLEngineImpl.java:1197)\r\n    \tat sun.security.ssl.SSLEngineImpl.wrap(SSLEngineImpl.java:1165)\r\n    \tat javax.net.ssl.SSLEngine.wrap(SSLEngine.java:469)\r\n    \tat org.apache.http.nio.reactor.ssl.SSLIOSession.doWrap(SSLIOSession.java:265)\r\n    \tat org.apache.http.nio.reactor.ssl.SSLIOSession.doHandshake(SSLIOSession.java:305)\r\n    \tat org.apache.http.nio.reactor.ssl.SSLIOSession.isAppInputReady(SSLIOSession.java:509)\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:120)\r\n    \tat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162)\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337)\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315)\r\n    \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276)\r\n    \tat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\r\n    \tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:588)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: General SSLEngine problem\r\n    \tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n    \tat sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1709)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:318)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:310)\r\n    \tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1639)\r\n    \tat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:223)\r\n    \tat sun.security.ssl.Handshaker.processLoop(Handshaker.java:1037)\r\n    \tat sun.security.ssl.Handshaker$1.run(Handshaker.java:970)\r\n    \tat sun.security.ssl.Handshaker$1.run(Handshaker.java:967)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.security.ssl.Handshaker$DelegatedTask.run(Handshaker.java:1459)\r\n    \tat org.apache.http.nio.reactor.ssl.SSLIOSession.doRunTask(SSLIOSession.java:283)\r\n    \tat org.apache.http.nio.reactor.ssl.SSLIOSession.doHandshake(SSLIOSession.java:353)\r\n    \t... 9 more\r\n    Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:397)\r\n    \tat sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:302)\r\n    \tat sun.security.validator.Validator.validate(Validator.java:262)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:281)\r\n    \tat sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:136)\r\n    \tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1626)\r\n    \t... 17 more\r\n    Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n    \tat sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n    \tat java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\r\n    \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:392)\r\n    \t... 23 more\r\n\r\nThis is what I did:\r\n\r\nI did a override to verify function and returned true. So that it won&#39;t check. This is the code for that\r\n\r\n    restClientBuilder.setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\r\n                    @Override\r\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n                        return httpClientBuilder.setSSLHostnameVerifier(new HostnameVerifier() {\r\n                            public boolean verify(String s, SSLSession sslSession) {\r\n                                return true;\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\nI tried with another way as well as mentioned in the elastic thread\r\n\r\n    restClientBuilder.setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\r\n                    @Override\r\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n                        return httpClientBuilder.setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE);\r\n                    }\r\n                });\r\n\r\n\r\nI had generated a self signed certificate and it worked. I had enabled debug logs to see why a certificate is needed.\r\n\r\nThese are the logs after adding certificate:\r\n\r\n    ***\r\n    Found trusted certificate:\r\n    [\r\n    [\r\n      Version: V3\r\n\r\nThis was followed by details about certificate. \r\n\r\nThe problem is I cannot generate self signed certificate for production environment and there I am getting exceptions for not using certificate even after overriding. \r\n\r\nIs there any possible work around for this ? Any help is greatly appreciated. \r\n\r\nThanks in advance","title":"Disabling SSL verification for Elastic search Restclient not working in Java","body":"<p>I am trying to connect to elastic search hosted in a gcp box. To connect to this, there is a SSL check and I need a certificate.</p>\n<p>However from these discussions, it is possible that we can turn off this verification.</p>\n<p><a href=\"https://stackoverflow.com/questions/57057074/how-to-disable-ssl-verification-for-elasticsearch-restclient-v6-7-0-in-java\">How to disable SSL verification for Elasticsearch RestClient v6.7.0 in Java</a></p>\n<p><a href=\"https://discuss.elastic.co/t/host-name-does-not-match-the-certificate/186618\" rel=\"nofollow noreferrer\">https://discuss.elastic.co/t/host-name-does-not-match-the-certificate/186618</a></p>\n<p>I had tried to remove the verification. But it throwing the following error</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: General SSLEngine problem\n    at org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:947)\n    at org.elasticsearch.client.RestClient.performRequest(RestClient.java:229)\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1762)\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1732)\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1694)\n    at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:1090)\n    at org.dexter.lab.elasticUtils.ESUtils.getLastIndexedTimeStamp(ESUtils.java:44)\n    at org.dexter.lab.druidUtils.DruidDelayChecker.main(DruidDelayChecker.java:357)\nCaused by: javax.net.ssl.SSLHandshakeException: General SSLEngine problem\n    at sun.security.ssl.Handshaker.checkThrown(Handshaker.java:1521)\n    at sun.security.ssl.SSLEngineImpl.checkTaskThrown(SSLEngineImpl.java:528)\n    at sun.security.ssl.SSLEngineImpl.writeAppRecord(SSLEngineImpl.java:1197)\n    at sun.security.ssl.SSLEngineImpl.wrap(SSLEngineImpl.java:1165)\n    at javax.net.ssl.SSLEngine.wrap(SSLEngine.java:469)\n    at org.apache.http.nio.reactor.ssl.SSLIOSession.doWrap(SSLIOSession.java:265)\n    at org.apache.http.nio.reactor.ssl.SSLIOSession.doHandshake(SSLIOSession.java:305)\n    at org.apache.http.nio.reactor.ssl.SSLIOSession.isAppInputReady(SSLIOSession.java:509)\n    at org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:120)\n    at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162)\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337)\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315)\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276)\n    at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\n    at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:588)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: javax.net.ssl.SSLHandshakeException: General SSLEngine problem\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1709)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:318)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:310)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1639)\n    at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:223)\n    at sun.security.ssl.Handshaker.processLoop(Handshaker.java:1037)\n    at sun.security.ssl.Handshaker$1.run(Handshaker.java:970)\n    at sun.security.ssl.Handshaker$1.run(Handshaker.java:967)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.security.ssl.Handshaker$DelegatedTask.run(Handshaker.java:1459)\n    at org.apache.http.nio.reactor.ssl.SSLIOSession.doRunTask(SSLIOSession.java:283)\n    at org.apache.http.nio.reactor.ssl.SSLIOSession.doHandshake(SSLIOSession.java:353)\n    ... 9 more\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:397)\n    at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:302)\n    at sun.security.validator.Validator.validate(Validator.java:262)\n    at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:324)\n    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:281)\n    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:136)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1626)\n    ... 17 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n    at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:280)\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:392)\n    ... 23 more\n</code></pre>\n<p>This is what I did:</p>\n<p>I did a override to verify function and returned true. So that it won't check. This is the code for that</p>\n<pre><code>restClientBuilder.setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\n                @Override\n                public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n                    return httpClientBuilder.setSSLHostnameVerifier(new HostnameVerifier() {\n                        public boolean verify(String s, SSLSession sslSession) {\n                            return true;\n                        }\n                    });\n                }\n            });\n</code></pre>\n<p>I tried with another way as well as mentioned in the elastic thread</p>\n<pre><code>restClientBuilder.setHttpClientConfigCallback(new RestClientBuilder.HttpClientConfigCallback() {\n                @Override\n                public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n                    return httpClientBuilder.setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE);\n                }\n            });\n</code></pre>\n<p>I had generated a self signed certificate and it worked. I had enabled debug logs to see why a certificate is needed.</p>\n<p>These are the logs after adding certificate:</p>\n<pre><code>***\nFound trusted certificate:\n[\n[\n  Version: V3\n</code></pre>\n<p>This was followed by details about certificate.</p>\n<p>The problem is I cannot generate self signed certificate for production environment and there I am getting exceptions for not using certificate even after overriding.</p>\n<p>Is there any possible work around for this ? Any help is greatly appreciated.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","cookies","jwt","micronaut"],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641426630,"creation_date":1641426630,"answer_id":70600942,"question_id":70600412,"body_markdown":"&gt; Would it be best if I save a cookie with the username and read it out\r\n&gt; again when booking?\r\n\r\nLikely not.  If what you want is the user name it would be better to retrieve that from a `SecurityService`, `Principal` or `Authentication` object as described at https://micronaut-projects.github.io/micronaut-security/3.2.1/guide/#retrievingAuthenticatedUser.","title":"Saving data while logging onto a Rest API with JWT","body":"<blockquote>\n<p>Would it be best if I save a cookie with the username and read it out\nagain when booking?</p>\n</blockquote>\n<p>Likely not.  If what you want is the user name it would be better to retrieve that from a <code>SecurityService</code>, <code>Principal</code> or <code>Authentication</code> object as described at <a href=\"https://micronaut-projects.github.io/micronaut-security/3.2.1/guide/#retrievingAuthenticatedUser\" rel=\"nofollow noreferrer\">https://micronaut-projects.github.io/micronaut-security/3.2.1/guide/#retrievingAuthenticatedUser</a>.</p>\n"}],"owner":{"account_id":21218815,"reputation":7,"user_id":15605881,"display_name":"WackyWollie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70600942,"answer_count":1,"score":0,"last_activity_date":1641426630,"creation_date":1641422166,"question_id":70600412,"body_markdown":"I am currently working on a project for the university. I have to create a rest interface and an authentication. I have created the Rest interface with Micronaut. For the login and authentication I used Json Web Token (JWT). To login to the system you have to enter a username and a password. At the rest point of the login the data username and password are fetched from the database and compared if it fits. (Security is not so important, the focus of the project is different) But if I want to make a booking of a card (that&#39;s what the project is about) I have to save the user in the transaction. Now the question is how I can do this best. Would it be best if I save a cookie with the username and read it out again when booking? I don&#39;t know much about JWT so another question is, can I decode the token and extract the username from it? \r\n\r\nAre there any other approaches which are better suited for this? \r\nCan I use Micronaut JWT to return the UserID in a response?\r\nUnfortunately I can&#39;t find anything in the examples.\r\n\r\n\r\n    @Singleton\r\n    public class LoginApi implements AuthenticationProvider{\r\n    \r\n        private WebLoginService webLoginService = ServiceLocator.getWebLoginService();\r\n    \r\n        @Override\r\n        public Publisher&lt;AuthenticationResponse&gt; authenticate(HttpRequest&lt;?&gt; httpRequest, AuthenticationRequest&lt;?, ?&gt; authenticationRequest) {\r\n    \r\n            return Flux.create(emitter -&gt; {\r\n                CustomerID customerID = webLoginService.tryToLogIn((String) authenticationRequest.getIdentity(), (String) authenticationRequest.getSecret());\r\n                if(customerID != null &amp;&amp; customerID.customerID() != null) {\r\n                    emitter.next(AuthenticationResponse.success((String) customerID.customerID()));\r\n                    emitter.complete();\r\n                } else {\r\n                    emitter.error(AuthenticationResponse.exception());\r\n                }\r\n            }, FluxSink.OverflowStrategy.ERROR);\r\n        }\r\n    }\r\n\r\n","title":"Saving data while logging onto a Rest API with JWT","body":"<p>I am currently working on a project for the university. I have to create a rest interface and an authentication. I have created the Rest interface with Micronaut. For the login and authentication I used Json Web Token (JWT). To login to the system you have to enter a username and a password. At the rest point of the login the data username and password are fetched from the database and compared if it fits. (Security is not so important, the focus of the project is different) But if I want to make a booking of a card (that's what the project is about) I have to save the user in the transaction. Now the question is how I can do this best. Would it be best if I save a cookie with the username and read it out again when booking? I don't know much about JWT so another question is, can I decode the token and extract the username from it?</p>\n<p>Are there any other approaches which are better suited for this?\nCan I use Micronaut JWT to return the UserID in a response?\nUnfortunately I can't find anything in the examples.</p>\n<pre><code>@Singleton\npublic class LoginApi implements AuthenticationProvider{\n\n    private WebLoginService webLoginService = ServiceLocator.getWebLoginService();\n\n    @Override\n    public Publisher&lt;AuthenticationResponse&gt; authenticate(HttpRequest&lt;?&gt; httpRequest, AuthenticationRequest&lt;?, ?&gt; authenticationRequest) {\n\n        return Flux.create(emitter -&gt; {\n            CustomerID customerID = webLoginService.tryToLogIn((String) authenticationRequest.getIdentity(), (String) authenticationRequest.getSecret());\n            if(customerID != null &amp;&amp; customerID.customerID() != null) {\n                emitter.next(AuthenticationResponse.success((String) customerID.customerID()));\n                emitter.complete();\n            } else {\n                emitter.error(AuthenticationResponse.exception());\n            }\n        }, FluxSink.OverflowStrategy.ERROR);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","c++","c","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641426396,"creation_date":1641424908,"answer_id":70600738,"question_id":70600536,"body_markdown":"Your `byte[]` array is not null-terminated (does not end with a `0x00` byte), but you are clearly treating it as if it were. When printing the bytes, the &quot;extra&quot; characters are random values coming from surrounding memory when the print accesses beyond the bounds of the array, which is *undefined behavior*.\r\n\r\nUse `(*env)-&gt;GetArrayLength()` to find out how many bytes are actually in the array, and then don&#39;t access more bytes than that, eg:\r\n\r\n```c\r\njint len = (*env)-&gt;GetArrayLength(env, data);\r\njbyte *array = (*env)-&gt;GetByteArrayElements(env, data, &amp;isCopy);\r\nargv[1] = (char*) array;\r\n...\r\nprintf(&quot;%.*s&quot;, len, argv[1]);\r\n...\r\n(*env)-&gt;ReleaseByteArrayElements(env, data, array, JNI_ABORT);\r\n```\r\n\r\nIf you really need a null-terminated string (or just need to hold on to the data longer than the Java `byte[]` array will exist), you will have to allocate your own `char[]` buffer with extra room for a terminator, and then copy the `byte[]` array data into that buffer, eg:\r\n\r\n```c\r\njint len = (*env)-&gt;GetArrayLength(env, data);\r\n\r\njbyte *array = malloc(len + 1);\r\nif (array) {\r\n    (*env)-&gt;GetByteArrayRegion(env, data, 0, len, array);\r\n    array[len] = 0x00;\r\n}\r\n\r\nargv[1] = (char*) array;\r\n...\r\nprintf(&quot;%s&quot;, argv[1]);\r\n...\r\nfree(argv[1]);\r\n```","title":"how to properly convert byte array in java to char pointer in jni","body":"<p>Your <code>byte[]</code> array is not null-terminated (does not end with a <code>0x00</code> byte), but you are clearly treating it as if it were. When printing the bytes, the &quot;extra&quot; characters are random values coming from surrounding memory when the print accesses beyond the bounds of the array, which is <em>undefined behavior</em>.</p>\n<p>Use <code>(*env)-&gt;GetArrayLength()</code> to find out how many bytes are actually in the array, and then don't access more bytes than that, eg:</p>\n<pre class=\"lang-c prettyprint-override\"><code>jint len = (*env)-&gt;GetArrayLength(env, data);\njbyte *array = (*env)-&gt;GetByteArrayElements(env, data, &amp;isCopy);\nargv[1] = (char*) array;\n...\nprintf(&quot;%.*s&quot;, len, argv[1]);\n...\n(*env)-&gt;ReleaseByteArrayElements(env, data, array, JNI_ABORT);\n</code></pre>\n<p>If you really need a null-terminated string (or just need to hold on to the data longer than the Java <code>byte[]</code> array will exist), you will have to allocate your own <code>char[]</code> buffer with extra room for a terminator, and then copy the <code>byte[]</code> array data into that buffer, eg:</p>\n<pre class=\"lang-c prettyprint-override\"><code>jint len = (*env)-&gt;GetArrayLength(env, data);\n\njbyte *array = malloc(len + 1);\nif (array) {\n    (*env)-&gt;GetByteArrayRegion(env, data, 0, len, array);\n    array[len] = 0x00;\n}\n\nargv[1] = (char*) array;\n...\nprintf(&quot;%s&quot;, argv[1]);\n...\nfree(argv[1]);\n</code></pre>\n"}],"owner":{"account_id":12267818,"reputation":19,"user_id":8953876,"display_name":"JUAN CHEN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70600738,"answer_count":1,"score":0,"last_activity_date":1641426396,"creation_date":1641423111,"question_id":70600536,"body_markdown":"I am new to C/C++, so I don&#39;t know how to properly convert a byte array in Java to a char array in JNI.\r\n\r\nFor example, I have an `inputString` containing `&quot;Hello world!&quot;`, I use this to get the byte array:\r\n\r\n```java\r\nbyte[] data = inputString.getBytes();\r\n``` \r\n\r\nThen in the JNI layer, I use:\r\n\r\n```c++\r\njbyte *array = (*env)-&gt;GetByteArrayElements(env, data, &amp;isCopy);\r\nargv[1] = (char *)array;\r\n```\r\n\r\nThen when I print the `argv[1]`, it is `&quot;Hello world!ZE&quot;`.\r\n\r\nWhy is there extra characters `&quot;ZE&quot;` here?\r\n\r\nWould anyone explain this, and provide me the right solution to convert `byte[]` to `char*` pointer? I need the `char*` pointer because the interface I am given is `char*` pointer for me.","title":"how to properly convert byte array in java to char pointer in jni","body":"<p>I am new to C/C++, so I don't know how to properly convert a byte array in Java to a char array in JNI.</p>\n<p>For example, I have an <code>inputString</code> containing <code>&quot;Hello world!&quot;</code>, I use this to get the byte array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] data = inputString.getBytes();\n</code></pre>\n<p>Then in the JNI layer, I use:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>jbyte *array = (*env)-&gt;GetByteArrayElements(env, data, &amp;isCopy);\nargv[1] = (char *)array;\n</code></pre>\n<p>Then when I print the <code>argv[1]</code>, it is <code>&quot;Hello world!ZE&quot;</code>.</p>\n<p>Why is there extra characters <code>&quot;ZE&quot;</code> here?</p>\n<p>Would anyone explain this, and provide me the right solution to convert <code>byte[]</code> to <code>char*</code> pointer? I need the <code>char*</code> pointer because the interface I am given is <code>char*</code> pointer for me.</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1632427782,"post_id":69305387,"comment_id":122496928,"body_markdown":"Those are valid links, indeed. This one might help as well: https://stackoverflow.com/a/26834319/3956070, as this was actually the answer that inspired `TexturedMesh` in FXyz3D.","body":"Those are valid links, indeed. This one might help as well: <a href=\"https://stackoverflow.com/a/26834319/3956070\">stackoverflow.com/a/26834319/3956070</a>, as this was actually the answer that inspired <code>TexturedMesh</code> in FXyz3D."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1632448767,"post_id":69305387,"comment_id":122501153,"body_markdown":"I took the link list to related resources I had previously created in comments and put it into the answer I created.","body":"I took the link list to related resources I had previously created in comments and put it into the answer I created."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1641425899,"creation_date":1632447004,"answer_id":69308521,"question_id":69305387,"body_markdown":"I guess this could have been closed as a duplicate (see the resources section for references to potential duplicates).  \r\n\r\nHowever, I think it was interesting and pretty unique how the question was framed such that it defined most of the model using FXML, so I thought I&#39;d adapt that to an answer.\r\n\r\n#### High level steps\r\n\r\n 1. You need to provide a PhongMaterial with a diffuseMap which is an image that will be the texture for your model.  \r\n 2. You need to define texCoords in your model which map to locations in the diffuseMap image (it is a proportional map in the range 0 to 1).\r\n 3. When you define the faces, you need to specify the index within the texture map that will be used to color the vertex of the face.\r\n\r\nFull explanation is outside of what I am prepared to write up here at this time, but I refer you to other resources where you can find some more information if you need it.\r\n\r\n##### Output\r\n\r\nThis is rendered to a gif, so fidelity isn&#39;t great, actual output on PC looks better, and the gif output is weirdly massively sped up, but it does give an indication of what the solution does.\r\n\r\n[![gif][1]][1]\r\n\r\n#### texture.png\r\n\r\n[![texture.png][2]][2]\r\n\r\n#### ColoredMesh.java\r\n\r\nLoads a textured model and animates it around the X and Y axes.\r\n\r\n    import javafx.animation.*;\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.geometry.Point3D;\r\n    import javafx.scene.*;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.paint.*;\r\n    import javafx.scene.shape.MeshView;\r\n    import javafx.scene.transform.Rotate;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class ColoredMesh extends Application {\r\n    \r\n        private static final Color INDIA_INK = Color.rgb(60,61,76);\r\n        private static final Color AMBIENT_GRAY = Color.rgb(100, 100, 100);\r\n    \r\n        private static final Duration ROTATION_STEP_TIME = Duration.seconds(5);\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            MeshView meshView = loadModel();\r\n    \r\n            Scene scene = createScene(meshView);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n            animateNode(meshView);\r\n        }\r\n    \r\n        private Scene createScene(MeshView meshView) {\r\n            PerspectiveCamera camera = new PerspectiveCamera();\r\n            AmbientLight ambientLight = new AmbientLight(AMBIENT_GRAY);\r\n            Scene scene = new Scene(\r\n                    new Group(\r\n                            ambientLight,\r\n                            meshView\r\n                    ),\r\n                    200, 200,\r\n                    INDIA_INK\r\n            );\r\n            scene.setCamera(camera);\r\n\r\n            return scene;\r\n        }\r\n    \r\n        private MeshView loadModel() throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(\r\n                    ColoredMesh.class.getResource(\r\n                            &quot;pyramid-mesh.fxml&quot;\r\n                    )\r\n            );\r\n    \r\n            MeshView meshView = fxmlLoader.load();\r\n            meshView.setTranslateX(100);\r\n            meshView.setTranslateY(40);\r\n            meshView.setTranslateZ(100);\r\n    \r\n            // We have defined the material in the fxml which creates the MeshView.\r\n            // However, I leave this commented code here to show how the material\r\n            // can be defined in Java rather than FXML, if that were preferable.\r\n    //        texture(meshView);\r\n    \r\n            return meshView;\r\n        }\r\n    \r\n        private void texture(MeshView meshView) {\r\n            PhongMaterial texturedMaterial = new PhongMaterial();\r\n            texturedMaterial.setDiffuseMap(\r\n                    new Image(\r\n                            ColoredMesh.class.getResource(\r\n                                    &quot;texture.png&quot;\r\n                            ).toExternalForm()\r\n                    )\r\n            );\r\n            meshView.setMaterial(texturedMaterial);\r\n        }\r\n    \r\n        private void animateNode(MeshView meshView) {\r\n            Animation rotateY = createRotationAnimation(Rotate.Y_AXIS, meshView);\r\n            Animation rotateX = createRotationAnimation(Rotate.X_AXIS, meshView);\r\n    \r\n            rotateY.setOnFinished(e -&gt; rotateX.play());\r\n            rotateX.setOnFinished(e -&gt; rotateY.play());\r\n    \r\n            rotateY.play();\r\n        }\r\n    \r\n        private Animation createRotationAnimation(Point3D axis, Node node) {\r\n            RotateTransition animation = new RotateTransition(\r\n                    ROTATION_STEP_TIME, \r\n                    node\r\n            );\r\n            animation.setAxis(axis);\r\n            animation.setFromAngle(0);\r\n            animation.setToAngle(360);\r\n    \r\n            return animation;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n#### pyramid-mesh.fxml\r\n\r\nThe texture is an image that is defined as a diffuse map for a PhongMaterial that is specified for the MeshView that is the node for the mesh.\r\n\r\nIn this example, the material is defined in FXML, but you could do it in code if you wish (the example Java code contains a commented-out section that does this).\r\n\r\nThe texture coordinates in the mesh are defining the midpoints of each of the color swatches within the texture image.  \r\n\r\nFor the pyramid overall based on a triangle model, there are six triangular polygons used.  For the base, there are two triangles, but they are both colored the same, so only five texture coordinates are needed to achieve a solid color for each face.\r\n\r\nWhen the faces are defined, each reference to a vertex point is followed by a reference to a texture coordinate.  Each triangular face is defined to use the same texture coordinate for all vertex points, which results in a uniform solid coloring for the face which matches the color located at that texture coordinate in the texture image.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.shape.MeshView?&gt;\r\n    &lt;?import javafx.scene.shape.TriangleMesh?&gt;\r\n    &lt;?import javafx.scene.paint.PhongMaterial?&gt;\r\n    &lt;?import javafx.scene.image.Image?&gt;\r\n    \r\n    &lt;MeshView&gt;\r\n        &lt;material&gt;\r\n            &lt;PhongMaterial&gt;\r\n                &lt;diffuseMap&gt;\r\n                    &lt;Image url=&quot;@texture.png&quot;/&gt;\r\n                &lt;/diffuseMap&gt;\r\n            &lt;/PhongMaterial&gt;\r\n        &lt;/material&gt;\r\n        &lt;mesh&gt;\r\n            &lt;TriangleMesh&gt;\r\n                &lt;points&gt;\r\n                    0 100 100\r\n                    100 100 0\r\n                    0 100 -100\r\n                    -100 100 0\r\n                    0 0 0\r\n                &lt;/points&gt;\r\n                &lt;texCoords&gt;\r\n                    0.1 0.5\r\n                    0.3 0.5\r\n                    0.5 0.5\r\n                    0.7 0.5\r\n                    0.9 0.5\r\n                &lt;/texCoords&gt;\r\n                &lt;faces&gt;\r\n                    0 0 4 0 1 0\r\n                    1 1 4 1 2 1\r\n                    2 2 4 2 3 2\r\n                    3 3 4 3 0 3\r\n                    0 4 1 4 2 4\r\n                    0 4 2 4 3 4\r\n                &lt;/faces&gt;\r\n            &lt;/TriangleMesh&gt;\r\n        &lt;/mesh&gt;\r\n    &lt;/MeshView&gt;\r\n\r\n#### TextureMaker.java\r\n\r\nYou can generate the texture image any way you want.  \r\n\r\nFor this demo, I wrote a small program that created the image from a snapshot created in JavaFX.\r\n\r\nThis is the code for the texture creation if interested, but it is not necessary to use it to run the demonstration.\r\n\r\nThe concept is known as a [TextureAtlas][3].\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.embed.swing.SwingFXUtils;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.layout.FlowPane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.stage.Stage;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    \r\n    public class TextureMaker extends Application {\r\n    \r\n        private static final int SWATCH_SIZE = 10;\r\n    \r\n        private static final Color colors[] = {\r\n                Color.RED,\r\n                Color.GREEN,\r\n                Color.BLUE,\r\n                Color.MAGENTA,\r\n                Color.CYAN\r\n        };\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            Rectangle[] colorSwatches = Arrays.stream(colors)\r\n                    .map(this::createColoredRect)\r\n                    .toArray(Rectangle[]::new);\r\n    \r\n            FlowPane flowPane = new FlowPane(colorSwatches);\r\n            flowPane.setPrefSize(colors.length * SWATCH_SIZE, SWATCH_SIZE);\r\n    \r\n            Scene scene = new Scene(\r\n                    flowPane,\r\n                    Color.rgb(60,61,76)\r\n            );\r\n    \r\n            Image textureImage = scene.snapshot(null);\r\n            File textureFile = new File(&quot;texture.png&quot;);\r\n            ImageIO.write(\r\n                    SwingFXUtils.fromFXImage(textureImage, null),\r\n                    &quot;png&quot;,\r\n                    textureFile\r\n            );\r\n    \r\n            System.out.println(&quot;Wrote: &quot; + textureFile.getAbsolutePath());\r\n    \r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public Rectangle createColoredRect(Color color) {\r\n            return new Rectangle(SWATCH_SIZE,SWATCH_SIZE, color);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nThis implementation creates an image and saves it to disk, but you could create the image on the fly in your main application, without saving it disk if you wanted.  There are demonstrations of such an approach in the linked similar questions.\r\n\r\n#### About this solution\r\n\r\nThe above solution is not a general-purpose answer on methods to arbitrarily color any given mesh.\r\n\r\nInstead, it is more focused on answering a particular question:\r\n\r\n - How to color the faces of just the pyramid defined in your question,\r\n   defining as much of the data in fxml as possible and not using\r\n   external libraries?\r\n\r\n#### Advice for complex models and reusing pre-made models\r\n\r\nFor complex models, instead of defining the mesh data (face/vertex/texture coordinates) in FXML, I think I&#39;d advise using a standard 3d format (eg .obj or .stl) that is supported by other pieces of software.\r\n\r\nThere are pre-created models available in common formats on the web (but not fxml).  Such models can come with the necessary image maps and texture co-ord definitions to color them.\r\n\r\nYou can import those models into JavaFX using third-party importer libraries for the various 3D model formats. These JavaFX importer libraries can be found on the web if you search, e.g. the InteractiveMesh and f(x)yz libraries. \r\n\r\n#### Related questions\r\n\r\n 1. https://stackoverflow.com/questions/26831871/coloring-individual-triangles-in-a-triangle-mesh-on-javafx \r\n   * as noted by Jose: this was actually the answer that inspired [TexturedMesh][4] in [FXyz3D][5]. \r\n\r\n 2. https://stackoverflow.com/questions/34001900/how-to-render-3d-graphics-properly \r\n   * Jose&#39;s answer to this question on Rubik&#39;s cube covering is a good fit for your application I think, even though the question title is generic.\r\n\r\n 3. https://stackoverflow.com/questions/66784831/how-to-create-a-cube-with-all-faces-of-different-colors-in-javafx\r\n\r\n 4. https://stackoverflow.com/questions/43929652/applying-texture-to-mesh-in-javafx\r\n   * answer using a 3rd party lib [FXyz3D][5], which features things like a [TexturedMesh][4].\r\n\r\n 5. https://stackoverflow.com/questions/66784831/how-to-create-a-cube-with-all-faces-of-different-colors-in-javafx\r\n\r\n 6. https://stackoverflow.com/questions/41881905/create-a-cube-using-different-textures-in-javafx\r\n\r\n 7. https://stackoverflow.com/questions/61231437/how-to-create-such-shape-using-javafx-trianglemesh\r\n\r\n#### *Highly* recommended tutorial for understanding textured 3D meshes\r\n\r\nA very good tutorial (better than anything I could come up with) for this is [Create 3D Shapes using MeshView][6]. \r\n\r\nThe tutorial maps an image to the faces of a pyramid, like the mesh in your question. It uses a photo image, but in your case, you would use different regions of solid colors. Look particularly at the section on the texture coordinates. \r\n\r\nClick on the image in the tutorial and it will show a neat overlay mapping the texture coordinates onto the image. This really helps visualize what is going on. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tNQnB.gif\r\n  [2]: https://i.stack.imgur.com/x2piZ.png\r\n  [3]: https://en.wikipedia.org/wiki/Texture_atlas\r\n  [4]: https://github.com/FXyz/FXyz/blob/master/FXyz-Core/src/main/java/org/fxyz3d/shapes/primitives/TexturedMesh.java\r\n  [5]: https://github.com/FXyz/FXyz\r\n  [6]: http://www.lagers.org.uk/javafx/usemeshview.html","title":"How to color some triangles in a TriangleMesh?","body":"<p>I guess this could have been closed as a duplicate (see the resources section for references to potential duplicates).</p>\n<p>However, I think it was interesting and pretty unique how the question was framed such that it defined most of the model using FXML, so I thought I'd adapt that to an answer.</p>\n<h4>High level steps</h4>\n<ol>\n<li>You need to provide a PhongMaterial with a diffuseMap which is an image that will be the texture for your model.</li>\n<li>You need to define texCoords in your model which map to locations in the diffuseMap image (it is a proportional map in the range 0 to 1).</li>\n<li>When you define the faces, you need to specify the index within the texture map that will be used to color the vertex of the face.</li>\n</ol>\n<p>Full explanation is outside of what I am prepared to write up here at this time, but I refer you to other resources where you can find some more information if you need it.</p>\n<h5>Output</h5>\n<p>This is rendered to a gif, so fidelity isn't great, actual output on PC looks better, and the gif output is weirdly massively sped up, but it does give an indication of what the solution does.</p>\n<p><a href=\"https://i.stack.imgur.com/tNQnB.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tNQnB.gif\" alt=\"gif\" /></a></p>\n<h4>texture.png</h4>\n<p><a href=\"https://i.stack.imgur.com/x2piZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x2piZ.png\" alt=\"texture.png\" /></a></p>\n<h4>ColoredMesh.java</h4>\n<p>Loads a textured model and animates it around the X and Y axes.</p>\n<pre><code>import javafx.animation.*;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Point3D;\nimport javafx.scene.*;\nimport javafx.scene.image.Image;\nimport javafx.scene.paint.*;\nimport javafx.scene.shape.MeshView;\nimport javafx.scene.transform.Rotate;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\nimport java.io.IOException;\n\npublic class ColoredMesh extends Application {\n\n    private static final Color INDIA_INK = Color.rgb(60,61,76);\n    private static final Color AMBIENT_GRAY = Color.rgb(100, 100, 100);\n\n    private static final Duration ROTATION_STEP_TIME = Duration.seconds(5);\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        MeshView meshView = loadModel();\n\n        Scene scene = createScene(meshView);\n        stage.setScene(scene);\n        stage.show();\n\n        animateNode(meshView);\n    }\n\n    private Scene createScene(MeshView meshView) {\n        PerspectiveCamera camera = new PerspectiveCamera();\n        AmbientLight ambientLight = new AmbientLight(AMBIENT_GRAY);\n        Scene scene = new Scene(\n                new Group(\n                        ambientLight,\n                        meshView\n                ),\n                200, 200,\n                INDIA_INK\n        );\n        scene.setCamera(camera);\n\n        return scene;\n    }\n\n    private MeshView loadModel() throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(\n                ColoredMesh.class.getResource(\n                        &quot;pyramid-mesh.fxml&quot;\n                )\n        );\n\n        MeshView meshView = fxmlLoader.load();\n        meshView.setTranslateX(100);\n        meshView.setTranslateY(40);\n        meshView.setTranslateZ(100);\n\n        // We have defined the material in the fxml which creates the MeshView.\n        // However, I leave this commented code here to show how the material\n        // can be defined in Java rather than FXML, if that were preferable.\n//        texture(meshView);\n\n        return meshView;\n    }\n\n    private void texture(MeshView meshView) {\n        PhongMaterial texturedMaterial = new PhongMaterial();\n        texturedMaterial.setDiffuseMap(\n                new Image(\n                        ColoredMesh.class.getResource(\n                                &quot;texture.png&quot;\n                        ).toExternalForm()\n                )\n        );\n        meshView.setMaterial(texturedMaterial);\n    }\n\n    private void animateNode(MeshView meshView) {\n        Animation rotateY = createRotationAnimation(Rotate.Y_AXIS, meshView);\n        Animation rotateX = createRotationAnimation(Rotate.X_AXIS, meshView);\n\n        rotateY.setOnFinished(e -&gt; rotateX.play());\n        rotateX.setOnFinished(e -&gt; rotateY.play());\n\n        rotateY.play();\n    }\n\n    private Animation createRotationAnimation(Point3D axis, Node node) {\n        RotateTransition animation = new RotateTransition(\n                ROTATION_STEP_TIME, \n                node\n        );\n        animation.setAxis(axis);\n        animation.setFromAngle(0);\n        animation.setToAngle(360);\n\n        return animation;\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<h4>pyramid-mesh.fxml</h4>\n<p>The texture is an image that is defined as a diffuse map for a PhongMaterial that is specified for the MeshView that is the node for the mesh.</p>\n<p>In this example, the material is defined in FXML, but you could do it in code if you wish (the example Java code contains a commented-out section that does this).</p>\n<p>The texture coordinates in the mesh are defining the midpoints of each of the color swatches within the texture image.</p>\n<p>For the pyramid overall based on a triangle model, there are six triangular polygons used.  For the base, there are two triangles, but they are both colored the same, so only five texture coordinates are needed to achieve a solid color for each face.</p>\n<p>When the faces are defined, each reference to a vertex point is followed by a reference to a texture coordinate.  Each triangular face is defined to use the same texture coordinate for all vertex points, which results in a uniform solid coloring for the face which matches the color located at that texture coordinate in the texture image.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.shape.MeshView?&gt;\n&lt;?import javafx.scene.shape.TriangleMesh?&gt;\n&lt;?import javafx.scene.paint.PhongMaterial?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n\n&lt;MeshView&gt;\n    &lt;material&gt;\n        &lt;PhongMaterial&gt;\n            &lt;diffuseMap&gt;\n                &lt;Image url=&quot;@texture.png&quot;/&gt;\n            &lt;/diffuseMap&gt;\n        &lt;/PhongMaterial&gt;\n    &lt;/material&gt;\n    &lt;mesh&gt;\n        &lt;TriangleMesh&gt;\n            &lt;points&gt;\n                0 100 100\n                100 100 0\n                0 100 -100\n                -100 100 0\n                0 0 0\n            &lt;/points&gt;\n            &lt;texCoords&gt;\n                0.1 0.5\n                0.3 0.5\n                0.5 0.5\n                0.7 0.5\n                0.9 0.5\n            &lt;/texCoords&gt;\n            &lt;faces&gt;\n                0 0 4 0 1 0\n                1 1 4 1 2 1\n                2 2 4 2 3 2\n                3 3 4 3 0 3\n                0 4 1 4 2 4\n                0 4 2 4 3 4\n            &lt;/faces&gt;\n        &lt;/TriangleMesh&gt;\n    &lt;/mesh&gt;\n&lt;/MeshView&gt;\n</code></pre>\n<h4>TextureMaker.java</h4>\n<p>You can generate the texture image any way you want.</p>\n<p>For this demo, I wrote a small program that created the image from a snapshot created in JavaFX.</p>\n<p>This is the code for the texture creation if interested, but it is not necessary to use it to run the demonstration.</p>\n<p>The concept is known as a <a href=\"https://en.wikipedia.org/wiki/Texture_atlas\" rel=\"nofollow noreferrer\">TextureAtlas</a>.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.scene.layout.FlowPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\nimport javax.imageio.ImageIO;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Arrays;\n\npublic class TextureMaker extends Application {\n\n    private static final int SWATCH_SIZE = 10;\n\n    private static final Color colors[] = {\n            Color.RED,\n            Color.GREEN,\n            Color.BLUE,\n            Color.MAGENTA,\n            Color.CYAN\n    };\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        Rectangle[] colorSwatches = Arrays.stream(colors)\n                .map(this::createColoredRect)\n                .toArray(Rectangle[]::new);\n\n        FlowPane flowPane = new FlowPane(colorSwatches);\n        flowPane.setPrefSize(colors.length * SWATCH_SIZE, SWATCH_SIZE);\n\n        Scene scene = new Scene(\n                flowPane,\n                Color.rgb(60,61,76)\n        );\n\n        Image textureImage = scene.snapshot(null);\n        File textureFile = new File(&quot;texture.png&quot;);\n        ImageIO.write(\n                SwingFXUtils.fromFXImage(textureImage, null),\n                &quot;png&quot;,\n                textureFile\n        );\n\n        System.out.println(&quot;Wrote: &quot; + textureFile.getAbsolutePath());\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public Rectangle createColoredRect(Color color) {\n        return new Rectangle(SWATCH_SIZE,SWATCH_SIZE, color);\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>This implementation creates an image and saves it to disk, but you could create the image on the fly in your main application, without saving it disk if you wanted.  There are demonstrations of such an approach in the linked similar questions.</p>\n<h4>About this solution</h4>\n<p>The above solution is not a general-purpose answer on methods to arbitrarily color any given mesh.</p>\n<p>Instead, it is more focused on answering a particular question:</p>\n<ul>\n<li>How to color the faces of just the pyramid defined in your question,\ndefining as much of the data in fxml as possible and not using\nexternal libraries?</li>\n</ul>\n<h4>Advice for complex models and reusing pre-made models</h4>\n<p>For complex models, instead of defining the mesh data (face/vertex/texture coordinates) in FXML, I think I'd advise using a standard 3d format (eg .obj or .stl) that is supported by other pieces of software.</p>\n<p>There are pre-created models available in common formats on the web (but not fxml).  Such models can come with the necessary image maps and texture co-ord definitions to color them.</p>\n<p>You can import those models into JavaFX using third-party importer libraries for the various 3D model formats. These JavaFX importer libraries can be found on the web if you search, e.g. the InteractiveMesh and f(x)yz libraries.</p>\n<h4>Related questions</h4>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/26831871/coloring-individual-triangles-in-a-triangle-mesh-on-javafx\">Coloring individual triangles in a triangle mesh on javafx</a></li>\n</ol>\n<ul>\n<li>as noted by Jose: this was actually the answer that inspired <a href=\"https://github.com/FXyz/FXyz/blob/master/FXyz-Core/src/main/java/org/fxyz3d/shapes/primitives/TexturedMesh.java\" rel=\"nofollow noreferrer\">TexturedMesh</a> in <a href=\"https://github.com/FXyz/FXyz\" rel=\"nofollow noreferrer\">FXyz3D</a>.</li>\n</ul>\n<ol start=\"2\">\n<li><a href=\"https://stackoverflow.com/questions/34001900/how-to-render-3d-graphics-properly\">How to render 3D graphics properly</a></li>\n</ol>\n<ul>\n<li>Jose's answer to this question on Rubik's cube covering is a good fit for your application I think, even though the question title is generic.</li>\n</ul>\n<ol start=\"3\">\n<li><p><a href=\"https://stackoverflow.com/questions/66784831/how-to-create-a-cube-with-all-faces-of-different-colors-in-javafx\">How to create a cube with all faces of different colors in JavaFX</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/43929652/applying-texture-to-mesh-in-javafx\">applying texture to mesh in javafx</a></p>\n</li>\n</ol>\n<ul>\n<li>answer using a 3rd party lib <a href=\"https://github.com/FXyz/FXyz\" rel=\"nofollow noreferrer\">FXyz3D</a>, which features things like a <a href=\"https://github.com/FXyz/FXyz/blob/master/FXyz-Core/src/main/java/org/fxyz3d/shapes/primitives/TexturedMesh.java\" rel=\"nofollow noreferrer\">TexturedMesh</a>.</li>\n</ul>\n<ol start=\"5\">\n<li><p><a href=\"https://stackoverflow.com/questions/66784831/how-to-create-a-cube-with-all-faces-of-different-colors-in-javafx\">How to create a cube with all faces of different colors in JavaFX</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/41881905/create-a-cube-using-different-textures-in-javafx\">Create a cube using different textures in JavaFX</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/61231437/how-to-create-such-shape-using-javafx-trianglemesh\">How to create such shape using javaFx TriangleMesh?</a></p>\n</li>\n</ol>\n<h4><em>Highly</em> recommended tutorial for understanding textured 3D meshes</h4>\n<p>A very good tutorial (better than anything I could come up with) for this is <a href=\"http://www.lagers.org.uk/javafx/usemeshview.html\" rel=\"nofollow noreferrer\">Create 3D Shapes using MeshView</a>.</p>\n<p>The tutorial maps an image to the faces of a pyramid, like the mesh in your question. It uses a photo image, but in your case, you would use different regions of solid colors. Look particularly at the section on the texture coordinates.</p>\n<p>Click on the image in the tutorial and it will show a neat overlay mapping the texture coordinates onto the image. This really helps visualize what is going on.</p>\n"}],"owner":{"account_id":22839894,"reputation":103,"user_id":16987091,"display_name":"Darth Bane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69308521,"answer_count":1,"score":4,"last_activity_date":1641425899,"creation_date":1632422515,"question_id":69305387,"body_markdown":"I want to color some triangles of a TriangleMesh in different colors. \r\n\r\nWhat would be the easiest way to do this, which might even be possible in the fxml file?\r\n\r\nThe java code:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.*;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.shape.MeshView;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class ColoredMesh extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(\r\n                    ColoredMesh.class.getResource(\r\n                            &quot;mesh.fxml&quot;\r\n                    )\r\n            );\r\n            MeshView meshView = fxmlLoader.load();\r\n    //        mesh.setDrawMode(DrawMode.LINE);\r\n            meshView.setTranslateX(-200);\r\n            meshView.setTranslateY(400);\r\n            meshView.setRotate(90);\r\n    \r\n            Camera camera = new PerspectiveCamera();\r\n            camera.setRotate(90);\r\n    \r\n            Scene scene = new Scene(new Pane(meshView), 800, 400);\r\n            scene.setCamera(camera);\r\n    \r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nThe Polygon / Pyramid / TriangleMesh file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.shape.MeshView?&gt;\r\n    &lt;?import javafx.scene.shape.TriangleMesh?&gt;\r\n    \r\n    &lt;MeshView&gt;\r\n        &lt;mesh&gt;\r\n            &lt;TriangleMesh&gt;\r\n                &lt;points&gt;\r\n                    0 100 100\r\n                    100 100 0\r\n                    0 100 -100\r\n                    -100 100 0\r\n                    0 0 0\r\n                &lt;/points&gt;\r\n                &lt;texCoords&gt;\r\n                    0 0\r\n                &lt;/texCoords&gt;\r\n                &lt;faces&gt;\r\n                    0 0 4 0 1 0\r\n                    1 0 4 0 2 0\r\n                    2 0 4 0 3 0\r\n                    3 0 4 0 0 0\r\n                    0 0 1 0 2 0\r\n                    0 0 2 0 3 0\r\n                &lt;/faces&gt;\r\n            &lt;/TriangleMesh&gt;\r\n        &lt;/mesh&gt;\r\n    &lt;/MeshView&gt;\r\n\r\n","title":"How to color some triangles in a TriangleMesh?","body":"<p>I want to color some triangles of a TriangleMesh in different colors.</p>\n<p>What would be the easiest way to do this, which might even be possible in the fxml file?</p>\n<p>The java code:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.*;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.shape.MeshView;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class ColoredMesh extends Application {\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(\n                ColoredMesh.class.getResource(\n                        &quot;mesh.fxml&quot;\n                )\n        );\n        MeshView meshView = fxmlLoader.load();\n//        mesh.setDrawMode(DrawMode.LINE);\n        meshView.setTranslateX(-200);\n        meshView.setTranslateY(400);\n        meshView.setRotate(90);\n\n        Camera camera = new PerspectiveCamera();\n        camera.setRotate(90);\n\n        Scene scene = new Scene(new Pane(meshView), 800, 400);\n        scene.setCamera(camera);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>The Polygon / Pyramid / TriangleMesh file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.shape.MeshView?&gt;\n&lt;?import javafx.scene.shape.TriangleMesh?&gt;\n\n&lt;MeshView&gt;\n    &lt;mesh&gt;\n        &lt;TriangleMesh&gt;\n            &lt;points&gt;\n                0 100 100\n                100 100 0\n                0 100 -100\n                -100 100 0\n                0 0 0\n            &lt;/points&gt;\n            &lt;texCoords&gt;\n                0 0\n            &lt;/texCoords&gt;\n            &lt;faces&gt;\n                0 0 4 0 1 0\n                1 0 4 0 2 0\n                2 0 4 0 3 0\n                3 0 4 0 0 0\n                0 0 1 0 2 0\n                0 0 2 0 3 0\n            &lt;/faces&gt;\n        &lt;/TriangleMesh&gt;\n    &lt;/mesh&gt;\n&lt;/MeshView&gt;\n</code></pre>\n"},{"tags":["java","apache-poi","spring-batch","spring-batch-excel"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1641330976,"post_id":70580351,"comment_id":124776774,"body_markdown":"looks like you need to add explicit dependencies for the poi jars yourself - they are marked as optional in https://github.com/spring-projects/spring-batch-extensions/blob/main/spring-batch-excel/pom.xml","body":"looks like you need to add explicit dependencies for the poi jars yourself - they are marked as optional in <a href=\"https://github.com/spring-projects/spring-batch-extensions/blob/main/spring-batch-excel/pom.xml\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-batch-extensions/blob/main&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":8363529,"reputation":215,"user_id":6281005,"accept_rate":0,"display_name":"Faheem Sultan"},"score":0,"creation_date":1641378554,"post_id":70580351,"comment_id":124787308,"body_markdown":"@PJFanning it worked, thanks for your valuable comment. you can put your comment as an answer so I can upvote and accept.","body":"@PJFanning it worked, thanks for your valuable comment. you can put your comment as an answer so I can upvote and accept."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1641424983,"post_id":70580351,"comment_id":124804694,"body_markdown":"I added the answer - glad to hear you got it working","body":"I added the answer - glad to hear you got it working"}],"answers":[{"tags":[],"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641424925,"creation_date":1641424925,"answer_id":70600742,"question_id":70580351,"body_markdown":"Looks like you need to add explicit dependencies for the poi jars yourself - they are marked as optional in https://github.com/spring-projects/spring-batch-extensions/blob/main/spring-batch-excel/pom.xml","title":"Spring Batch Excel PoiItemReader","body":"<p>Looks like you need to add explicit dependencies for the poi jars yourself - they are marked as optional in <a href=\"https://github.com/spring-projects/spring-batch-extensions/blob/main/spring-batch-excel/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch-extensions/blob/main/spring-batch-excel/pom.xml</a></p>\n"}],"owner":{"account_id":8363529,"reputation":215,"user_id":6281005,"accept_rate":0,"display_name":"Faheem Sultan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70600742,"answer_count":1,"score":0,"last_activity_date":1641424925,"creation_date":1641306662,"question_id":70580351,"body_markdown":"i&#39;m trying to read an excel fine using spring-batch extension (spring-batch-excel) with PoiItemReader. i&#39;m getting following error when trying to read an excel file through below configurations.\r\n\r\n**The Error:**\r\n\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scopedTarget.xlsItemReader&#39; defined in class path resource [com/timestreamgroup/reconstream/kafkabatchproducer/batch/config/xls/XlsBatchConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.batch.extensions.excel.poi.PoiItemReader] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:579)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)\r\n    \tat org.springframework.batch.core.scope.StepScope.get(StepScope.java:113)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:676)\r\n    \tat org.springframework.batch.extensions.excel.poi.PoiItemReader$$EnhancerBySpringCGLIB$$3fab7ddf.open(&lt;generated&gt;)\r\n    \tat org.springframework.batch.item.support.CompositeItemStream.open(CompositeItemStream.java:104)\r\n    \tat org.springframework.batch.core.step.tasklet.TaskletStep.open(TaskletStep.java:311)\r\n    \tat org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:205)\r\n    \tat org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152)\r\n    \tat org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413)\r\n    \tat org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136)\r\n    \tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)\r\n    \tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\r\n    \tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n    \tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n    \tat com.sun.proxy.$Proxy147.run(Unknown Source)\r\n    \tat com.timestreamgroup.reconstream.kafkabatchproducer.filedir.config.FileToJobTransformer.lambda$adapt$3(FileToJobTransformer.java:201)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run$$$capture(CompletableFuture.java:1736)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1728)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.batch.extensions.excel.poi.PoiItemReader] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:739)\r\n    \tat org.springframework.util.ReflectionUtils.doWithLocalFields(ReflectionUtils.java:671)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:407)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:388)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:335)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1098)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576)\r\n    \t... 39 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: Lorg/apache/poi/ss/usermodel/Workbook;\r\n    \tat java.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3062)\r\n    \tat java.base/java.lang.Class.getDeclaredFields(Class.java:2249)\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:734)\r\n    \t... 45 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 49 common frames omitted\r\n    \r\n    2022-01-04 19:24:42,665 batch-producer-service INFO [ForkJoinPool.commonPool-worker-3] AbstractStep: Step: [xlsStep1] executed in 2s592ms\r\n    2022-01-04 19:24:44,151 batch-producer-service ERROR [ForkJoinPool.commonPool-worker-3] AbstractStep: Exception while closing step execution resources in step xlsStep1 in job xlsJob\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scopedTarget.xlsItemReader&#39; defined in class path resource [com/timestreamgroup/reconstream/kafkabatchproducer/batch/config/xls/XlsBatchConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.batch.extensions.excel.poi.PoiItemReader] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:579)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)\r\n    \tat org.springframework.batch.core.scope.StepScope.get(StepScope.java:113)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:676)\r\n    \tat org.springframework.batch.extensions.excel.poi.PoiItemReader$$EnhancerBySpringCGLIB$$3fab7ddf.close(&lt;generated&gt;)\r\n    \tat org.springframework.batch.item.support.CompositeItemStream.close(CompositeItemStream.java:90)\r\n    \tat org.springframework.batch.core.step.tasklet.TaskletStep.close(TaskletStep.java:306)\r\n    \tat org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:287)\r\n    \tat org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152)\r\n    \tat org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413)\r\n    \tat org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136)\r\n    \tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)\r\n    \tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\r\n    \tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n    \tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n    \tat com.sun.proxy.$Proxy147.run(Unknown Source)\r\n    \tat com.timestreamgroup.reconstream.kafkabatchproducer.filedir.config.FileToJobTransformer.lambda$adapt$3(FileToJobTransformer.java:201)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run$$$capture(CompletableFuture.java:1736)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1728)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\r\n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.batch.extensions.excel.poi.PoiItemReader] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:739)\r\n    \tat org.springframework.util.ReflectionUtils.doWithLocalFields(ReflectionUtils.java:671)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:407)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:388)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:335)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1098)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576)\r\n    \t... 39 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: Lorg/apache/poi/ss/usermodel/Workbook;\r\n    \tat java.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3062)\r\n    \tat java.base/java.lang.Class.getDeclaredFields(Class.java:2249)\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:734)\r\n    \t... 45 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 49 common frames omitted\r\n\r\n**ItemReader Configuration:**\r\n\r\n    @Bean\r\n        @Scope(value = &quot;step&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\n        public PoiItemReader xlsItemReader() {\r\n            PoiItemReader reader = new PoiItemReader();\r\n            reader.setResource(new FileSystemResource(&quot;/path/to/your/excel/file&quot;));\r\n            reader.setRowMapper(new PassThroughRowMapper());\r\n            return reader;\r\n        }\r\n\r\n\r\n**and here is the pom dependency**\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.batch.extensions&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-batch-excel&lt;/artifactId&gt;\r\n                &lt;version&gt;0.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n**Sample Excel File that i&#39;m trying to read**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yzPKU.png","title":"Spring Batch Excel PoiItemReader","body":"<p>i'm trying to read an excel fine using spring-batch extension (spring-batch-excel) with PoiItemReader. i'm getting following error when trying to read an excel file through below configurations.</p>\n<p><strong>The Error:</strong></p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.xlsItemReader' defined in class path resource [com/timestreamgroup/reconstream/kafkabatchproducer/batch/config/xls/XlsBatchConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.batch.extensions.excel.poi.PoiItemReader] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:579)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)\n    at org.springframework.batch.core.scope.StepScope.get(StepScope.java:113)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:676)\n    at org.springframework.batch.extensions.excel.poi.PoiItemReader$$EnhancerBySpringCGLIB$$3fab7ddf.open(&lt;generated&gt;)\n    at org.springframework.batch.item.support.CompositeItemStream.open(CompositeItemStream.java:104)\n    at org.springframework.batch.core.step.tasklet.TaskletStep.open(TaskletStep.java:311)\n    at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:205)\n    at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152)\n    at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413)\n    at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136)\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy147.run(Unknown Source)\n    at com.timestreamgroup.reconstream.kafkabatchproducer.filedir.config.FileToJobTransformer.lambda$adapt$3(FileToJobTransformer.java:201)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run$$$capture(CompletableFuture.java:1736)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1728)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.batch.extensions.excel.poi.PoiItemReader] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\n    at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:739)\n    at org.springframework.util.ReflectionUtils.doWithLocalFields(ReflectionUtils.java:671)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:407)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:388)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:335)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1098)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576)\n    ... 39 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: Lorg/apache/poi/ss/usermodel/Workbook;\n    at java.base/java.lang.Class.getDeclaredFields0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3062)\n    at java.base/java.lang.Class.getDeclaredFields(Class.java:2249)\n    at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:734)\n    ... 45 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 49 common frames omitted\n\n2022-01-04 19:24:42,665 batch-producer-service INFO [ForkJoinPool.commonPool-worker-3] AbstractStep: Step: [xlsStep1] executed in 2s592ms\n2022-01-04 19:24:44,151 batch-producer-service ERROR [ForkJoinPool.commonPool-worker-3] AbstractStep: Exception while closing step execution resources in step xlsStep1 in job xlsJob\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.xlsItemReader' defined in class path resource [com/timestreamgroup/reconstream/kafkabatchproducer/batch/config/xls/XlsBatchConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.batch.extensions.excel.poi.PoiItemReader] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:579)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:374)\n    at org.springframework.batch.core.scope.StepScope.get(StepScope.java:113)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:676)\n    at org.springframework.batch.extensions.excel.poi.PoiItemReader$$EnhancerBySpringCGLIB$$3fab7ddf.close(&lt;generated&gt;)\n    at org.springframework.batch.item.support.CompositeItemStream.close(CompositeItemStream.java:90)\n    at org.springframework.batch.core.step.tasklet.TaskletStep.close(TaskletStep.java:306)\n    at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:287)\n    at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152)\n    at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413)\n    at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136)\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy147.run(Unknown Source)\n    at com.timestreamgroup.reconstream.kafkabatchproducer.filedir.config.FileToJobTransformer.lambda$adapt$3(FileToJobTransformer.java:201)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run$$$capture(CompletableFuture.java:1736)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1728)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:177)\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.batch.extensions.excel.poi.PoiItemReader] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@3b192d32]\n    at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:739)\n    at org.springframework.util.ReflectionUtils.doWithLocalFields(ReflectionUtils.java:671)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:407)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:388)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:335)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1098)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:576)\n    ... 39 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: Lorg/apache/poi/ss/usermodel/Workbook;\n    at java.base/java.lang.Class.getDeclaredFields0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3062)\n    at java.base/java.lang.Class.getDeclaredFields(Class.java:2249)\n    at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:734)\n    ... 45 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 49 common frames omitted\n</code></pre>\n<p><strong>ItemReader Configuration:</strong></p>\n<pre><code>@Bean\n    @Scope(value = &quot;step&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)\n    public PoiItemReader xlsItemReader() {\n        PoiItemReader reader = new PoiItemReader();\n        reader.setResource(new FileSystemResource(&quot;/path/to/your/excel/file&quot;));\n        reader.setRowMapper(new PassThroughRowMapper());\n        return reader;\n    }\n</code></pre>\n<p><strong>and here is the pom dependency</strong></p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.batch.extensions&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-batch-excel&lt;/artifactId&gt;\n            &lt;version&gt;0.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><strong>Sample Excel File that i'm trying to read</strong></p>\n<p><a href=\"https://i.stack.imgur.com/yzPKU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yzPKU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":20974912,"reputation":206,"user_id":15411183,"display_name":"Nemanja Filipovic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641424594,"creation_date":1641424594,"answer_id":70600712,"question_id":70599856,"body_markdown":"Fastlane can be used for both iOS and android. You can run fastlane action to upload the App in your Gitlab pipeline.\r\nYou can also activate the upload on each push or during merging into the master / main branch (or whatever you want).\r\n\r\nThis is a [plugin][1] for fastlane made by microsoft for everything around the App Center.\r\n\r\nIf you have never used fastlane, start with this -&gt; [getting-started/android/setup/][2]\r\n\r\nAnother option is to use gradlew and write your own script.\r\n\r\n  [1]: https://github.com/microsoft/fastlane-plugin-appcenter\r\n  [2]: https://docs.fastlane.tools/getting-started/android/setup/","title":"How to automate AppCenter uploads from Android Studio or Gitlab Pipeline?","body":"<p>Fastlane can be used for both iOS and android. You can run fastlane action to upload the App in your Gitlab pipeline.\nYou can also activate the upload on each push or during merging into the master / main branch (or whatever you want).</p>\n<p>This is a <a href=\"https://github.com/microsoft/fastlane-plugin-appcenter\" rel=\"nofollow noreferrer\">plugin</a> for fastlane made by microsoft for everything around the App Center.</p>\n<p>If you have never used fastlane, start with this -&gt; <a href=\"https://docs.fastlane.tools/getting-started/android/setup/\" rel=\"nofollow noreferrer\">getting-started/android/setup/</a></p>\n<p>Another option is to use gradlew and write your own script.</p>\n"}],"owner":{"account_id":22762334,"reputation":355,"user_id":16920947,"display_name":"Android Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70600712,"answer_count":1,"score":1,"last_activity_date":1641424594,"creation_date":1641418456,"question_id":70599856,"body_markdown":"I know that iOS can use fastlane to automate uploads to AppCenter, but I was wondering if there was anyway to do this from Android Studio or from the Gitlab Pipeline? I&#39;m not finding anything online and it&#39;s getting a bit annoying having to upload 4 builds everytime.\r\n\r\n","title":"How to automate AppCenter uploads from Android Studio or Gitlab Pipeline?","body":"<p>I know that iOS can use fastlane to automate uploads to AppCenter, but I was wondering if there was anyway to do this from Android Studio or from the Gitlab Pipeline? I'm not finding anything online and it's getting a bit annoying having to upload 4 builds everytime.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":10508476,"reputation":115,"user_id":7744930,"display_name":"Ankit Kathait"},"score":0,"creation_date":1641403051,"post_id":70596879,"comment_id":124797658,"body_markdown":"One thing I would like to add is: community table is supposed to have two foreign keys to user table, the current owner and creator id. Both should be a 1-M relationship as 1 user to many communities as creator and/or owner.","body":"One thing I would like to add is: community table is supposed to have two foreign keys to user table, the current owner and creator id. Both should be a 1-M relationship as 1 user to many communities as creator and/or owner."}],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641424228,"creation_date":1641424228,"answer_id":70600669,"question_id":70596879,"body_markdown":"The problem here is caused by:\r\n\r\n    @Column(name = &quot;rules&quot;, columnDefinition = &quot;text&quot;)\r\n    private String[] rules; // &lt;-- column only holds a single string, not an array!\r\n\r\nWith this columnDefinition, the DB column does not hold a string array but a single string, so it will only work if defined like this:\r\n\r\n    @Column(name = &quot;rules&quot;, columnDefinition = &quot;text&quot;)\r\n    private String rules; // &lt;-- no array!\r\n\r\n---\r\n\r\nIn case you want to have multiple (ordered) strings, you might switch to an `@ElementCollection`:\r\n\r\n    @ElementCollection\r\n    @OrderColumn\r\n    @Column(columnDefinition = &quot;text&quot;)\r\n    private List&lt;String&gt; strings; // (&lt;-- not an array, but a list)\r\n\r\n---\r\n\r\nOr if you do need an array and/or you want to store all values inside the single column without the collection table, you can resort to `hibernate-types`:\r\n\r\n    implementation &#39;com.vladmihalcea:hibernate-types-55:2.14.0&#39;\r\n\r\nEntity:\r\n\r\n    @TypeDef(\r\n        name = &quot;string-array&quot;, \r\n        typeClass = StringArrayType.class\r\n    )\r\n    class MyEntity { // ...\r\n    \r\n      @Type( type = &quot;string-array&quot; )\r\n      @Column(columnDefinition = &quot;text[]&quot;) // &lt;-- column matches entity attribute type\r\n      private String[] strings;\r\n    \r\n    // ...\r\n    }\r\n\r\n","title":"Could not deserialize exception spring boot data jpa","body":"<p>The problem here is caused by:</p>\n<pre><code>@Column(name = &quot;rules&quot;, columnDefinition = &quot;text&quot;)\nprivate String[] rules; // &lt;-- column only holds a single string, not an array!\n</code></pre>\n<p>With this columnDefinition, the DB column does not hold a string array but a single string, so it will only work if defined like this:</p>\n<pre><code>@Column(name = &quot;rules&quot;, columnDefinition = &quot;text&quot;)\nprivate String rules; // &lt;-- no array!\n</code></pre>\n<hr />\n<p>In case you want to have multiple (ordered) strings, you might switch to an <code>@ElementCollection</code>:</p>\n<pre><code>@ElementCollection\n@OrderColumn\n@Column(columnDefinition = &quot;text&quot;)\nprivate List&lt;String&gt; strings; // (&lt;-- not an array, but a list)\n</code></pre>\n<hr />\n<p>Or if you do need an array and/or you want to store all values inside the single column without the collection table, you can resort to <code>hibernate-types</code>:</p>\n<pre><code>implementation 'com.vladmihalcea:hibernate-types-55:2.14.0'\n</code></pre>\n<p>Entity:</p>\n<pre><code>@TypeDef(\n    name = &quot;string-array&quot;, \n    typeClass = StringArrayType.class\n)\nclass MyEntity { // ...\n\n  @Type( type = &quot;string-array&quot; )\n  @Column(columnDefinition = &quot;text[]&quot;) // &lt;-- column matches entity attribute type\n  private String[] strings;\n\n// ...\n}\n</code></pre>\n"}],"owner":{"account_id":10508476,"reputation":115,"user_id":7744930,"display_name":"Ankit Kathait"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70600669,"answer_count":1,"score":1,"last_activity_date":1641424228,"creation_date":1641402706,"question_id":70596879,"body_markdown":"I am using a postgres database and writing backend code using spring data jpa.\r\n&lt;br&gt;&lt;br&gt;\r\nCommunity table:&lt;br&gt;\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;community_table&quot;)\r\n@Entity\r\npublic class CommunityTable {\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;community_id&quot;)\r\n    private Integer communityId;\r\n\r\n    @Column(name = &quot;community_name&quot;, unique = true, nullable = false)\r\n    private String communityName;\r\n\r\n    @Column(name = &quot;creation_date&quot;, nullable = false)\r\n    private Date creationDate;\r\n\r\n    @Column(name = &quot;rules&quot;, columnDefinition = &quot;text&quot;)\r\n    private String[] rules;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;creator_id&quot;, nullable = false)\r\n    private UserTable creatorId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;current_owner&quot;, nullable = false)\r\n    private UserTable currentOwner;\r\n}\r\n```\r\n\r\nUser table:\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;user_table&quot;)\r\n@Entity\r\npublic class UserTable {\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private Integer userId;\r\n\r\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\r\n    private String email;\r\n\r\n    @Column(name = &quot;username&quot;, nullable = false, unique = true)\r\n    private String username;\r\n\r\n    @Column(name = &quot;join_date&quot;, nullable = false)\r\n    private Date joinDate;\r\n\r\n    @Column(name = &quot;hashed_password&quot;, nullable = false)\r\n    private String hashedPassword;\r\n\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n    private String password;\r\n\r\n    @Column(name = &quot;last_logged_in&quot;, nullable = false)\r\n    private Date lastLoggedIn;\r\n\r\n    @OneToMany(mappedBy = &quot;creatorId&quot;)\r\n    private List&lt;CommunityTable&gt; creatorCommunity;\r\n\r\n    @OneToMany(mappedBy = &quot;currentOwner&quot;)\r\n    private List&lt;CommunityTable&gt; ownerCommunity;\r\n}\r\n```\r\n\r\nController code which is failing:\r\n```\r\n@GetMapping(&quot;/community&quot;)\r\n    public ResponseEntity getAllCommunities(){\r\n        try{\r\n            return new ResponseEntity&lt;&gt;(userService.getAllCommunities(), HttpStatus.OK);\r\n        }catch (Exception e){\r\n            log.error(e.toString());\r\n            return new ResponseEntity&lt;String&gt;(&quot;Unable to fetch all communities&quot;, HttpStatus.CONFLICT);\r\n        }\r\n    }\r\n```\r\n\r\nService code which is causing failure of above controller method:\r\n```\r\npublic List&lt;CommunityTable&gt; getAllCommunities() throws Exception{\r\n        try{\r\n            return communityTableRepository.findAll();\r\n        }catch (Exception e){\r\n            log.error(e.toString());\r\n            throw new Exception(&quot;Unable to fetch community due to: &quot;+e.toString());\r\n        }\r\n    }\r\n```\r\n\r\nException:\r\n```\r\nHibernate: select communityt0_.community_id as communit1_0_, communityt0_.community_name as communit2_0_, communityt0_.creation_date as creation3_0_, communityt0_.creator_id as creator_5_0_, communityt0_.current_owner as current_6_0_, communityt0_.rules as rules4_0_ from community_table communityt0_\r\n2022-01-05 22:34:14.989 ERROR 20231 --- [nio-8080-exec-1] c.e.redditbackend.service.UserService    : org.springframework.orm.jpa.JpaSystemException: could not deserialize; nested exception is org.hibernate.type.SerializationException: could not deserialize\r\n2022-01-05 22:34:14.990 ERROR 20231 --- [nio-8080-exec-1] c.e.r.controller.UserController          : java.lang.Exception: Unable to fetch community due to: org.springframework.orm.jpa.JpaSystemException: could not deserialize; nested exception is org.hibernate.type.SerializationException: could not deserialize\r\n```\r\n\r\nDon&#39;t mind log.error. I have annotated both service and controller class with @Log4j2 so that is not the issue over here. Due to some reason I am unable to fetch the list of community-tables.&lt;br&gt;&lt;br&gt;Any ideas why the said exception might be comming.","title":"Could not deserialize exception spring boot data jpa","body":"<p>I am using a postgres database and writing backend code using spring data jpa.\n<br><br>\nCommunity table:<br></p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;community_table&quot;)\n@Entity\npublic class CommunityTable {\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;community_id&quot;)\n    private Integer communityId;\n\n    @Column(name = &quot;community_name&quot;, unique = true, nullable = false)\n    private String communityName;\n\n    @Column(name = &quot;creation_date&quot;, nullable = false)\n    private Date creationDate;\n\n    @Column(name = &quot;rules&quot;, columnDefinition = &quot;text&quot;)\n    private String[] rules;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;creator_id&quot;, nullable = false)\n    private UserTable creatorId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;current_owner&quot;, nullable = false)\n    private UserTable currentOwner;\n}\n</code></pre>\n<p>User table:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;user_table&quot;)\n@Entity\npublic class UserTable {\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;user_id&quot;, nullable = false)\n    private Integer userId;\n\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\n    private String email;\n\n    @Column(name = &quot;username&quot;, nullable = false, unique = true)\n    private String username;\n\n    @Column(name = &quot;join_date&quot;, nullable = false)\n    private Date joinDate;\n\n    @Column(name = &quot;hashed_password&quot;, nullable = false)\n    private String hashedPassword;\n\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n\n    @Column(name = &quot;last_logged_in&quot;, nullable = false)\n    private Date lastLoggedIn;\n\n    @OneToMany(mappedBy = &quot;creatorId&quot;)\n    private List&lt;CommunityTable&gt; creatorCommunity;\n\n    @OneToMany(mappedBy = &quot;currentOwner&quot;)\n    private List&lt;CommunityTable&gt; ownerCommunity;\n}\n</code></pre>\n<p>Controller code which is failing:</p>\n<pre><code>@GetMapping(&quot;/community&quot;)\n    public ResponseEntity getAllCommunities(){\n        try{\n            return new ResponseEntity&lt;&gt;(userService.getAllCommunities(), HttpStatus.OK);\n        }catch (Exception e){\n            log.error(e.toString());\n            return new ResponseEntity&lt;String&gt;(&quot;Unable to fetch all communities&quot;, HttpStatus.CONFLICT);\n        }\n    }\n</code></pre>\n<p>Service code which is causing failure of above controller method:</p>\n<pre><code>public List&lt;CommunityTable&gt; getAllCommunities() throws Exception{\n        try{\n            return communityTableRepository.findAll();\n        }catch (Exception e){\n            log.error(e.toString());\n            throw new Exception(&quot;Unable to fetch community due to: &quot;+e.toString());\n        }\n    }\n</code></pre>\n<p>Exception:</p>\n<pre><code>Hibernate: select communityt0_.community_id as communit1_0_, communityt0_.community_name as communit2_0_, communityt0_.creation_date as creation3_0_, communityt0_.creator_id as creator_5_0_, communityt0_.current_owner as current_6_0_, communityt0_.rules as rules4_0_ from community_table communityt0_\n2022-01-05 22:34:14.989 ERROR 20231 --- [nio-8080-exec-1] c.e.redditbackend.service.UserService    : org.springframework.orm.jpa.JpaSystemException: could not deserialize; nested exception is org.hibernate.type.SerializationException: could not deserialize\n2022-01-05 22:34:14.990 ERROR 20231 --- [nio-8080-exec-1] c.e.r.controller.UserController          : java.lang.Exception: Unable to fetch community due to: org.springframework.orm.jpa.JpaSystemException: could not deserialize; nested exception is org.hibernate.type.SerializationException: could not deserialize\n</code></pre>\n<p>Don't mind log.error. I have annotated both service and controller class with @Log4j2 so that is not the issue over here. Due to some reason I am unable to fetch the list of community-tables.<br><br>Any ideas why the said exception might be comming.</p>\n"},{"tags":["java","spring","apache-kafka","apache-kafka-streams","spring-cloud-stream"],"comments":[{"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"score":0,"creation_date":1641501648,"post_id":70600600,"comment_id":124827159,"body_markdown":"What kind of errors are you receiving when you added those two properties? Those properties should retry connecting to the state store. I see that you wait 10 seconds between each try for a max of 10 seconds. Could it be the case that your first stream takes more than 100 seconds to be ready? If that is the case, you might want to increase those values.","body":"What kind of errors are you receiving when you added those two properties? Those properties should retry connecting to the state store. I see that you wait 10 seconds between each try for a max of 10 seconds. Could it be the case that your first stream takes more than 100 seconds to be ready? If that is the case, you might want to increase those values."},{"owner":{"account_id":4895441,"reputation":43,"user_id":3945238,"display_name":"safi AJ"},"score":0,"creation_date":1641572390,"post_id":70600600,"comment_id":124846791,"body_markdown":"Hi @sobychacko No errors with retry properties. But I see in debug it tried 1s. I also noticed when I start the stream with incorrect store name then retry works. \n`\nDEBUG o.s.r.s.RetryTemplate [joinTermsComplete-StreamThread-1] Retry: count=0\nERROR o.a.k.s.p.i.TaskManager [joinTermsComplete-StreamThread-1] stream-thread [joinTermsComplete-StreamThread-1] Failed to process stream task 0_1 due to the following error:\norg.apache.kafka.streams.errors.InvalidStateStoreException: Cannot get state store term-error-events because the stream thread is PARTITIONS_ASSIGNED, not RUNNING\n`","body":"Hi @sobychacko No errors with retry properties. But I see in debug it tried 1s. I also noticed when I start the stream with incorrect store name then retry works.  ` DEBUG o.s.r.s.RetryTemplate [joinTermsComplete-StreamThread-1] Retry: count=0 ERROR o.a.k.s.p.i.TaskManager [joinTermsComplete-StreamThread-1] stream-thread [joinTermsComplete-StreamThread-1] Failed to process stream task 0_1 due to the following error: org.apache.kafka.streams.errors.InvalidStateStoreException: Cannot get state store term-error-events because the stream thread is PARTITIONS_ASSIGNED, not RUNNING `"},{"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"score":0,"creation_date":1641583023,"post_id":70600600,"comment_id":124850840,"body_markdown":"It would be nice if we can reproduce what you see on our end. In any case, could you set a breakpoint on this line and debug it? https://github.com/spring-cloud/spring-cloud-stream-binder-kafka/blob/main/spring-cloud-stream-binder-kafka-streams/src/main/java/org/springframework/cloud/stream/binder/kafka/streams/InteractiveQueryService.java#L104 That should give us an indication of what&#39;s going on when it tries to connect to the state store while waiting for the first stream to be available.","body":"It would be nice if we can reproduce what you see on our end. In any case, could you set a breakpoint on this line and debug it? <a href=\"https://github.com/spring-cloud/spring-cloud-stream-binder-kafka/blob/main/spring-cloud-stream-binder-kafka-streams/src/main/java/org/springframework/cloud/stream/binder/kafka/streams/InteractiveQueryService.java#L104\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-stream-binder-kafka/blo&zwnj;&#8203;b/&hellip;</a> That should give us an indication of what&#39;s going on when it tries to connect to the state store while waiting for the first stream to be available."}],"owner":{"account_id":4895441,"reputation":43,"user_id":3945238,"display_name":"safi AJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641424162,"creation_date":1641423646,"question_id":70600600,"body_markdown":"I have 2 Kafka stream and one of the stream is dependent on the other stream. For example,\r\nStream1 -&gt; Aggregates and create a state store.\r\nStream2 -&gt; Uses interactive query api to access the state store from Stream 1.\r\n\r\n**Problem:** When Stream1 takes longer time to initialize, and Stream2 tries to access the state store I am getting the error &quot;org.apache.kafka.streams.errors.InvalidStateStoreException: Cannot get state store term-error-events because the stream thread is PARTITIONS_ASSIGNED, not RUNNING&quot; \r\n\r\n**Solution tried so far:** I have added the below retry property for the state store but did not resolve the issue.\r\n```\r\nspring.cloud.stream.kafka.streams.binder.state-store-retry.max-attempts=10\r\nspring.cloud.stream.kafka.streams.binder.state-store-retry.backoff-period=10000\r\n```\r\nI want to find out whether I should change the approach or is there a way to wait for Stream1 to be ready and start Stream2 or any other better way to do this. \r\n\r\n**My Code:**\r\n```\r\n// Stream1    \r\n@Bean\r\n    public Consumer&lt;KStream&lt;String, Fallout&gt;&gt; aggregateErrors() {\r\n        return input -&gt; input\r\n                .filter((s, fallout) -&gt; s != null &amp;&amp; fallout.getAction() != null &amp;&amp; fallout.getAction().equals(Action.ERROR))\r\n                .map((s, fallout) -&gt; {\r\n                    if (StringUtils.isEmpty(fallout.getMessage()) || StringUtils.isEmpty(fallout.getFalloutReasonCode())) {\r\n                        fallout.setFalloutReasonCode(&quot;unknown&quot;);\r\n                        fallout.setMessage(&quot;unknown&quot;);\r\n                        return new KeyValue&lt;&gt;(s, fallout);\r\n                    }\r\n                    return new KeyValue&lt;&gt;(s, fallout);\r\n                })\r\n                .groupByKey()\r\n                .aggregate(String::new, (s, fallout, error) -&gt;\r\n                                !StringUtils.isAllEmpty(error)\r\n                                        ? error.concat(&quot;|&quot;).concat(fallout.getMessage())\r\n                                        : error.concat(fallout.getMessage()),\r\n                        Materialized.&lt;String, String, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(&quot;term-error-events&quot;)\r\n                                .withKeySerde(Serdes.String()).\r\n                                withValueSerde(Serdes.String())\r\n                );\r\n    }\r\n\r\n// Stream 2    \r\n@Bean\r\n    public BiFunction&lt;KStream&lt;String, PracLeftGroupInputRequest&gt;, KStream&lt;String, RequestComplete&gt;, KStream&lt;String, RequestComplete&gt;&gt; joinTermsComplete() {\r\n        return (termsInputRequest, termsRequestComplete) -&gt;\r\n                termsInputRequest\r\n                        .join(termsRequestComplete, this::termsCompleteJoiner,\r\n                                JoinWindows.of(Duration.ofMinutes(JOIN_WINDOW_MINUTES)), StreamJoined.with(Serdes.String(), new TermInputRequestSerde(), new TermRequestCompleteSerde()));\r\n                         \r\n    }\r\n\r\n// Where Stream2 queries the store\r\n    private RequestComplete termsCompleteJoiner(PracLeftGroupInputRequest termsInputRequest, RequestComplete termsRequestComplete) {\r\n        if (termsRequestComplete != null &amp;&amp; !StringUtils.isEmpty(termsRequestComplete.getStatus())\r\n                &amp;&amp; termsRequestComplete.getStatus().equalsIgnoreCase(&quot;Complete&quot;)) {\r\n            final String errorEvent =\r\n                    interactiveQueryService.getQueryableStore(&quot;term-error-events&quot;, QueryableStoreTypes.&lt;String, String&gt;keyValueStore()).get(termsInputRequest.computeKafkaKey());\r\n            termsRequestComplete.setErrors(ErrorUtil.getTerminationErrorList(errorEvent));\r\n\r\n            if (termsRequestComplete.getErrors() != null &amp;&amp; !termsRequestComplete.getErrors().isEmpty()) {\r\n                termsRequestComplete.setStatus(CompleteStatus.FAILURE.toString());\r\n            } else {\r\n                termsRequestComplete.setStatus(CompleteStatus.SUCCESS.toString());\r\n            }\r\n\r\n            return termsRequestComplete;\r\n\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nSpring Cloud Version: 2020.0.2\r\nspring-cloud-stream-binder-kafka-streams Version: 3.1.2\r\n \r\nThanks.","title":"Spring cloud kafka stream - Waiting for stream to initialize","body":"<p>I have 2 Kafka stream and one of the stream is dependent on the other stream. For example,\nStream1 -&gt; Aggregates and create a state store.\nStream2 -&gt; Uses interactive query api to access the state store from Stream 1.</p>\n<p><strong>Problem:</strong> When Stream1 takes longer time to initialize, and Stream2 tries to access the state store I am getting the error &quot;org.apache.kafka.streams.errors.InvalidStateStoreException: Cannot get state store term-error-events because the stream thread is PARTITIONS_ASSIGNED, not RUNNING&quot;</p>\n<p><strong>Solution tried so far:</strong> I have added the below retry property for the state store but did not resolve the issue.</p>\n<pre><code>spring.cloud.stream.kafka.streams.binder.state-store-retry.max-attempts=10\nspring.cloud.stream.kafka.streams.binder.state-store-retry.backoff-period=10000\n</code></pre>\n<p>I want to find out whether I should change the approach or is there a way to wait for Stream1 to be ready and start Stream2 or any other better way to do this.</p>\n<p><strong>My Code:</strong></p>\n<pre><code>// Stream1    \n@Bean\n    public Consumer&lt;KStream&lt;String, Fallout&gt;&gt; aggregateErrors() {\n        return input -&gt; input\n                .filter((s, fallout) -&gt; s != null &amp;&amp; fallout.getAction() != null &amp;&amp; fallout.getAction().equals(Action.ERROR))\n                .map((s, fallout) -&gt; {\n                    if (StringUtils.isEmpty(fallout.getMessage()) || StringUtils.isEmpty(fallout.getFalloutReasonCode())) {\n                        fallout.setFalloutReasonCode(&quot;unknown&quot;);\n                        fallout.setMessage(&quot;unknown&quot;);\n                        return new KeyValue&lt;&gt;(s, fallout);\n                    }\n                    return new KeyValue&lt;&gt;(s, fallout);\n                })\n                .groupByKey()\n                .aggregate(String::new, (s, fallout, error) -&gt;\n                                !StringUtils.isAllEmpty(error)\n                                        ? error.concat(&quot;|&quot;).concat(fallout.getMessage())\n                                        : error.concat(fallout.getMessage()),\n                        Materialized.&lt;String, String, KeyValueStore&lt;Bytes, byte[]&gt;&gt;as(&quot;term-error-events&quot;)\n                                .withKeySerde(Serdes.String()).\n                                withValueSerde(Serdes.String())\n                );\n    }\n\n// Stream 2    \n@Bean\n    public BiFunction&lt;KStream&lt;String, PracLeftGroupInputRequest&gt;, KStream&lt;String, RequestComplete&gt;, KStream&lt;String, RequestComplete&gt;&gt; joinTermsComplete() {\n        return (termsInputRequest, termsRequestComplete) -&gt;\n                termsInputRequest\n                        .join(termsRequestComplete, this::termsCompleteJoiner,\n                                JoinWindows.of(Duration.ofMinutes(JOIN_WINDOW_MINUTES)), StreamJoined.with(Serdes.String(), new TermInputRequestSerde(), new TermRequestCompleteSerde()));\n                         \n    }\n\n// Where Stream2 queries the store\n    private RequestComplete termsCompleteJoiner(PracLeftGroupInputRequest termsInputRequest, RequestComplete termsRequestComplete) {\n        if (termsRequestComplete != null &amp;&amp; !StringUtils.isEmpty(termsRequestComplete.getStatus())\n                &amp;&amp; termsRequestComplete.getStatus().equalsIgnoreCase(&quot;Complete&quot;)) {\n            final String errorEvent =\n                    interactiveQueryService.getQueryableStore(&quot;term-error-events&quot;, QueryableStoreTypes.&lt;String, String&gt;keyValueStore()).get(termsInputRequest.computeKafkaKey());\n            termsRequestComplete.setErrors(ErrorUtil.getTerminationErrorList(errorEvent));\n\n            if (termsRequestComplete.getErrors() != null &amp;&amp; !termsRequestComplete.getErrors().isEmpty()) {\n                termsRequestComplete.setStatus(CompleteStatus.FAILURE.toString());\n            } else {\n                termsRequestComplete.setStatus(CompleteStatus.SUCCESS.toString());\n            }\n\n            return termsRequestComplete;\n\n        } else {\n            return null;\n        }\n    }\n</code></pre>\n<p>Spring Cloud Version: 2020.0.2\nspring-cloud-stream-binder-kafka-streams Version: 3.1.2</p>\n<p>Thanks.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":2877911,"reputation":1140,"user_id":2469425,"accept_rate":56,"display_name":"Valentin Gr&#233;goire"},"score":0,"creation_date":1589388396,"post_id":61780101,"comment_id":109276687,"body_markdown":"Did you set everything up in the module settings? Right click your project --&gt; Open Module settings. There you have to set the SDK and such.","body":"Did you set everything up in the module settings? Right click your project --&gt; Open Module settings. There you have to set the SDK and such."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1589388526,"post_id":61780101,"comment_id":109276770,"body_markdown":"First does your build work properly on plain command line ...furthermore Spring support needs Ultimate Edition ?","body":"First does your build work properly on plain command line ...furthermore Spring support needs Ultimate Edition ?"},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1589388874,"post_id":61780101,"comment_id":109276979,"body_markdown":"Are there any related errors or exceptions in idea.log and build.log? See https://intellij-support.jetbrains.com/hc/articles/206544519. Enable debug logging for build.log file and inspect the file after reproducing the issue. Is there anything suspicious? Any plug-ins installed that may affect it? For example, see https://twitter.com/tagir_valeev/status/1260040670070407171 for somewhat related issue. I&#39;d recommend reporting a bug at https://youtrack.jetbrains.com/newIssue?project=IDEA with all the details for the faster turnaround and convenience.","body":"Are there any related errors or exceptions in idea.log and build.log? See <a href=\"https://intellij-support.jetbrains.com/hc/articles/206544519\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/articles/206544519</a>. Enable debug logging for build.log file and inspect the file after reproducing the issue. Is there anything suspicious? Any plug-ins installed that may affect it? For example, see <a href=\"https://twitter.com/tagir_valeev/status/1260040670070407171\" rel=\"nofollow noreferrer\">twitter.com/tagir_valeev/status/1260040670070407171</a> for somewhat related issue. I&#39;d recommend reporting a bug at <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/newIssue?project=IDEA</a> with all the details for the faster turnaround and convenience."},{"owner":{"account_id":15261609,"reputation":161,"user_id":11011452,"display_name":"Fgop"},"score":0,"creation_date":1589446297,"post_id":61780101,"comment_id":109299153,"body_markdown":"@ValentinGr&#233;goire SDK is set up properly for the project. The `run` command can be used to run pre-compiled classes but it will not pick up any changes I make to any of my classes.","body":"@ValentinGr&#233;goire SDK is set up properly for the project. The <code>run</code> command can be used to run pre-compiled classes but it will not pick up any changes I make to any of my classes."},{"owner":{"account_id":15261609,"reputation":161,"user_id":11011452,"display_name":"Fgop"},"score":0,"creation_date":1589446422,"post_id":61780101,"comment_id":109299219,"body_markdown":"@khmarbaise How would I build from the command line? Are you referring to the mvn commands? if so, yes that works properly. I know that Spring support is a Ultimate feature, but why would the IDE behavior change between sessions? It works just as expected on the first start and only stops working after running a maven build lifecycle command and restarting the IDE.","body":"@khmarbaise How would I build from the command line? Are you referring to the mvn commands? if so, yes that works properly. I know that Spring support is a Ultimate feature, but why would the IDE behavior change between sessions? It works just as expected on the first start and only stops working after running a maven build lifecycle command and restarting the IDE."}],"answers":[{"tags":[],"owner":{"account_id":15261609,"reputation":161,"user_id":11011452,"display_name":"Fgop"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1589536429,"creation_date":1589536429,"answer_id":61816468,"question_id":61780101,"body_markdown":"So for anyone running into the problems I described above:\r\n\r\nApparently deleting the `.idea` folder and restarting IntelliJ does indeed do the trick. The folder is recreated on restart and afterwards I&#39;m able to switch between compiling within IntelliJ using `run`, `build` or `rebuild project` and compiling through maven goals (`mvn compile`, `mvn test`, `mvn surefire:test`, ...). This persists through restarts of IntelliJ such that I don&#39;t have to repeat this everytime I open a project.\r\n\r\nI still don&#39;t know why this behavior happens, but it&#39;s a solution I&#39;m happy to work with as long as I only have to do it every now and then for a project.","title":"IntelliJ does not recompile/build maven project","body":"<p>So for anyone running into the problems I described above:</p>\n\n<p>Apparently deleting the <code>.idea</code> folder and restarting IntelliJ does indeed do the trick. The folder is recreated on restart and afterwards I'm able to switch between compiling within IntelliJ using <code>run</code>, <code>build</code> or <code>rebuild project</code> and compiling through maven goals (<code>mvn compile</code>, <code>mvn test</code>, <code>mvn surefire:test</code>, ...). This persists through restarts of IntelliJ such that I don't have to repeat this everytime I open a project.</p>\n\n<p>I still don't know why this behavior happens, but it's a solution I'm happy to work with as long as I only have to do it every now and then for a project.</p>\n"},{"tags":[],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641423110,"creation_date":1641423110,"answer_id":70600535,"question_id":61780101,"body_markdown":"Sounds like do don&#39;t want Intellij&#39;s default build. You want Intellij to forward the build command to mvn. I assume this because you do not mention this step in your question.\r\n\r\nHere&#39;s a screenshot that shows how to enable it:\r\n\r\n[![delegate build and rebuild to mvn][1]][1]\r\n\r\nMore detail is available in the Intellij documentation https://www.jetbrains.com/help/idea/delegate-build-and-run-actions-to-maven.html#delegate_run_action \r\n\r\n  [1]: https://i.stack.imgur.com/dnV2V.png","title":"IntelliJ does not recompile/build maven project","body":"<p>Sounds like do don't want Intellij's default build. You want Intellij to forward the build command to mvn. I assume this because you do not mention this step in your question.</p>\n<p>Here's a screenshot that shows how to enable it:</p>\n<p><a href=\"https://i.stack.imgur.com/dnV2V.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dnV2V.png\" alt=\"delegate build and rebuild to mvn\" /></a></p>\n<p>More detail is available in the Intellij documentation <a href=\"https://www.jetbrains.com/help/idea/delegate-build-and-run-actions-to-maven.html#delegate_run_action\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/delegate-build-and-run-actions-to-maven.html#delegate_run_action</a></p>\n"}],"owner":{"account_id":15261609,"reputation":161,"user_id":11011452,"display_name":"Fgop"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6310,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1641423110,"creation_date":1589387995,"question_id":61780101,"body_markdown":"I am running into problems when using IntelliJ for Spring development. At first, the IntelliJ `build` command works fine and picks up changes I make to the source code. At some point, this stops working and I can only compile my sources through maven, as the `build` or `rebuild project` commands seem to do nothing anymore.\n\nI am confused, as it works as desired at the start but then stops working at some point.\n\n**Steps to recreate**:\n\n- Create a new Spring project using Spring Initializr:\n\n  `curl https://start.spring.io/starter.zip -d type=maven-project -d javaVersion=11 -o demo.zip &amp;&amp; unzip demo.zip`\n\n- Start IntelliJ from the command line in that folder, this will auto-import the project: `idea64 .`\n\n- Write a log message in the main class and run the project using `Run-&gt;Run &#39;DemoApplication&#39;`. This compiles the sources to the `target` folder and starts up the project. You should see the log message\n\n- Alter the log message, run again and the changes should be visible (*so far so good*)\n\n- Now re-compile the sources via maven command `mvn compile` and restart IntelliJ\n\n- From now on, running `build` or `rebuild project` within IntelliJ will not pick up any changes I make to any of my source files. In fact both commands don&#39;t seem to do anything at all. I have to compile via maven in order to properly compile my sources\n\nI tried a few things to overcome this problem, but without success:\n\n - Invalidated caches/restart\n - Checked `project settings` for `Project Compiler Output` and set it to `&lt;project-folder&gt;/target`\n - Checked `project settings/modules` for `output path` and `test output path` and put in the path as above\n - Used `Reimport All Maven Projects`\n - Deleted the `.idea` folder within the project folder. This seems to work, but is very inconvenient and surely no intended behavior. Also it breaks again if I recreate the steps detailed above.\n\nIs anyone experiencing similar problems and/or has a solution?","title":"IntelliJ does not recompile/build maven project","body":"<p>I am running into problems when using IntelliJ for Spring development. At first, the IntelliJ <code>build</code> command works fine and picks up changes I make to the source code. At some point, this stops working and I can only compile my sources through maven, as the <code>build</code> or <code>rebuild project</code> commands seem to do nothing anymore.</p>\n<p>I am confused, as it works as desired at the start but then stops working at some point.</p>\n<p><strong>Steps to recreate</strong>:</p>\n<ul>\n<li><p>Create a new Spring project using Spring Initializr:</p>\n<p><code>curl https://start.spring.io/starter.zip -d type=maven-project -d javaVersion=11 -o demo.zip &amp;&amp; unzip demo.zip</code></p>\n</li>\n<li><p>Start IntelliJ from the command line in that folder, this will auto-import the project: <code>idea64 .</code></p>\n</li>\n<li><p>Write a log message in the main class and run the project using <code>Run-&gt;Run 'DemoApplication'</code>. This compiles the sources to the <code>target</code> folder and starts up the project. You should see the log message</p>\n</li>\n<li><p>Alter the log message, run again and the changes should be visible (<em>so far so good</em>)</p>\n</li>\n<li><p>Now re-compile the sources via maven command <code>mvn compile</code> and restart IntelliJ</p>\n</li>\n<li><p>From now on, running <code>build</code> or <code>rebuild project</code> within IntelliJ will not pick up any changes I make to any of my source files. In fact both commands don't seem to do anything at all. I have to compile via maven in order to properly compile my sources</p>\n</li>\n</ul>\n<p>I tried a few things to overcome this problem, but without success:</p>\n<ul>\n<li>Invalidated caches/restart</li>\n<li>Checked <code>project settings</code> for <code>Project Compiler Output</code> and set it to <code>&lt;project-folder&gt;/target</code></li>\n<li>Checked <code>project settings/modules</code> for <code>output path</code> and <code>test output path</code> and put in the path as above</li>\n<li>Used <code>Reimport All Maven Projects</code></li>\n<li>Deleted the <code>.idea</code> folder within the project folder. This seems to work, but is very inconvenient and surely no intended behavior. Also it breaks again if I recreate the steps detailed above.</li>\n</ul>\n<p>Is anyone experiencing similar problems and/or has a solution?</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1641407882,"post_id":70597945,"comment_id":124799527,"body_markdown":"where are the values initially ? What variable is shown in your debug screenshot ?","body":"where are the values initially ? What variable is shown in your debug screenshot ?"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641408026,"creation_date":1641408026,"answer_id":70598003,"question_id":70597945,"body_markdown":"To keep only the element whose `items` aren&#39;t empty, from your code with minimal modifications\r\n\r\n    List&lt;MyItemsData&gt; result = ...; // initial data\r\n    List&lt;MyItemsData&gt; itemWithNotEmptyItems = new ArrayList&lt;&gt;();\r\n\r\n    result.forEach(groupItemInfo -&gt; {\r\n        if (!groupItemInfo.getItems().isEmpty()) {\r\n            itemWithNotEmptyItems.add(groupItemInfo);\r\n        }\r\n    });\r\n\r\nUsing `Stream`, you can filter from `result` then collect to a list\r\n\r\n    List&lt;MyItemsData&gt; result = new ArrayList&lt;&gt;();\r\n    List&lt;MyItemsData&gt; itemWithNotEmptyItems = result.stream()\r\n            .filter(groupItemInfo -&gt; !groupItemInfo.getItems().isEmpty())\r\n            .collect(Collectors.toList());\r\n\r\n","title":"read the elements and add the unique elements in other object","body":"<p>To keep only the element whose <code>items</code> aren't empty, from your code with minimal modifications</p>\n<pre><code>List&lt;MyItemsData&gt; result = ...; // initial data\nList&lt;MyItemsData&gt; itemWithNotEmptyItems = new ArrayList&lt;&gt;();\n\nresult.forEach(groupItemInfo -&gt; {\n    if (!groupItemInfo.getItems().isEmpty()) {\n        itemWithNotEmptyItems.add(groupItemInfo);\n    }\n});\n</code></pre>\n<p>Using <code>Stream</code>, you can filter from <code>result</code> then collect to a list</p>\n<pre><code>List&lt;MyItemsData&gt; result = new ArrayList&lt;&gt;();\nList&lt;MyItemsData&gt; itemWithNotEmptyItems = result.stream()\n        .filter(groupItemInfo -&gt; !groupItemInfo.getItems().isEmpty())\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2937533,"reputation":1848,"user_id":2516131,"accept_rate":25,"display_name":"Chamly Idunil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641408719,"creation_date":1641408719,"answer_id":70598150,"question_id":70597945,"body_markdown":"Modify your MyItemsData as below, \r\n\r\n 1. Implement equal and hash code, compare only type since uniqueness depends on the type.\r\n2. Implement method to return boolean status of MyItemsData (return false if type is null or items is empty&quot;\r\n\r\nSample MyItemsData class:\r\n\r\n    public static final class MyItemsData {\r\n            private String type;\r\n            private List items;\r\n    \r\n            public String getType() {\r\n                return type;\r\n            }\r\n    \r\n            public List getItems() {\r\n                return items;\r\n            }\r\n    \r\n            public boolean isValid() {\r\n                return null != type &amp;&amp; !type.isEmpty() &amp;&amp; null != items &amp;&amp; !items.isEmpty();\r\n            }\r\n    \r\n            @Override\r\n            public boolean equals(Object o) {\r\n                if (this == o) {\r\n                    return true;\r\n                }\r\n                if (o == null || getClass() != o.getClass()) {\r\n                    return false;\r\n                }\r\n    \r\n                MyItemsData that = (MyItemsData) o;\r\n    \r\n                return type != null ? type.equals(that.type) : that.type == null;\r\n            }\r\n    \r\n            @Override\r\n            public int hashCode() {\r\n                return type != null ? type.hashCode() : 0;\r\n            }\r\n        }\r\n     \r\n\r\nthen you can use stream to filter and get distinct data as list. \r\n\r\nCode :\r\n\r\n    List&lt;MyItemsData&gt; result = source.stream().filter(MyItemsData::isValid).distinct().collect(Collectors.toList());","title":"read the elements and add the unique elements in other object","body":"<p>Modify your MyItemsData as below,</p>\n<ol>\n<li>Implement equal and hash code, compare only type since uniqueness depends on the type.</li>\n<li>Implement method to return boolean status of MyItemsData (return false if type is null or items is empty&quot;</li>\n</ol>\n<p>Sample MyItemsData class:</p>\n<pre><code>public static final class MyItemsData {\n        private String type;\n        private List items;\n\n        public String getType() {\n            return type;\n        }\n\n        public List getItems() {\n            return items;\n        }\n\n        public boolean isValid() {\n            return null != type &amp;&amp; !type.isEmpty() &amp;&amp; null != items &amp;&amp; !items.isEmpty();\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) {\n                return true;\n            }\n            if (o == null || getClass() != o.getClass()) {\n                return false;\n            }\n\n            MyItemsData that = (MyItemsData) o;\n\n            return type != null ? type.equals(that.type) : that.type == null;\n        }\n\n        @Override\n        public int hashCode() {\n            return type != null ? type.hashCode() : 0;\n        }\n    }\n \n</code></pre>\n<p>then you can use stream to filter and get distinct data as list.</p>\n<p>Code :</p>\n<pre><code>List&lt;MyItemsData&gt; result = source.stream().filter(MyItemsData::isValid).distinct().collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641412709,"creation_date":1641412709,"answer_id":70598927,"question_id":70597945,"body_markdown":"Let&#39;s define a class (to make it clear what we do):\r\n```java\r\npublic class MyItemsData {\r\n\r\n    public static class GroupItemInfo {\r\n\r\n        private String type;\r\n        private List&lt;Item&gt; items;\r\n\r\n        public String getType() {\r\n            return type;\r\n        }\r\n\r\n        public List&lt;Item&gt; getItems() {\r\n            return items;\r\n        }\r\n\r\n        public static class Item {}\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd then you can define the custom comparator for `MyItemsData.GroupItemInfo.Item`. And then using `Stream` you can create a `TreeSet` to retrieve unique items using a given comparator. Then you can build a `List`.\r\n\r\n```java\r\npublic static void main(String... args) {\r\n    List&lt;MyItemsData.GroupItemInfo&gt; itemsList = new ArrayList&lt;&gt;();\r\n    List&lt;MyItemsData.GroupItemInfo.Item&gt; uniqueItems = getUniqueItems(itemsList);\r\n}\r\n\r\npublic static List&lt;MyItemsData.GroupItemInfo.Item&gt; getUniqueItems(List&lt;MyItemsData.GroupItemInfo&gt; items) {\r\n    final Comparator&lt;MyItemsData.GroupItemInfo.Item&gt; comparator = (one, two) -&gt; {\r\n        // TODO implement comparator (return =0 for equal items)\r\n        return 0;\r\n    };\r\n\r\n    return new ArrayList&lt;&gt;(items.stream()\r\n                                .filter(item -&gt; item.getType() != null)\r\n                                .filter(item -&gt; !item.getItems().isEmpty())\r\n                                .map(MyItemsData.GroupItemInfo::getItems)\r\n                                .flatMap(List::stream)\r\n                                .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(comparator))));\r\n}\r\n```","title":"read the elements and add the unique elements in other object","body":"<p>Let's define a class (to make it clear what we do):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyItemsData {\n\n    public static class GroupItemInfo {\n\n        private String type;\n        private List&lt;Item&gt; items;\n\n        public String getType() {\n            return type;\n        }\n\n        public List&lt;Item&gt; getItems() {\n            return items;\n        }\n\n        public static class Item {}\n\n    }\n\n}\n</code></pre>\n<p>And then you can define the custom comparator for <code>MyItemsData.GroupItemInfo.Item</code>. And then using <code>Stream</code> you can create a <code>TreeSet</code> to retrieve unique items using a given comparator. Then you can build a <code>List</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    List&lt;MyItemsData.GroupItemInfo&gt; itemsList = new ArrayList&lt;&gt;();\n    List&lt;MyItemsData.GroupItemInfo.Item&gt; uniqueItems = getUniqueItems(itemsList);\n}\n\npublic static List&lt;MyItemsData.GroupItemInfo.Item&gt; getUniqueItems(List&lt;MyItemsData.GroupItemInfo&gt; items) {\n    final Comparator&lt;MyItemsData.GroupItemInfo.Item&gt; comparator = (one, two) -&gt; {\n        // TODO implement comparator (return =0 for equal items)\n        return 0;\n    };\n\n    return new ArrayList&lt;&gt;(items.stream()\n                                .filter(item -&gt; item.getType() != null)\n                                .filter(item -&gt; !item.getItems().isEmpty())\n                                .map(MyItemsData.GroupItemInfo::getItems)\n                                .flatMap(List::stream)\n                                .collect(Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(comparator))));\n}\n</code></pre>\n"}],"owner":{"account_id":11050822,"reputation":55,"user_id":8115347,"accept_rate":20,"display_name":"user8115347"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1641423047,"creation_date":1641407721,"question_id":70597945,"body_markdown":"I have the below sample code.\r\n\r\n     List&lt;MyItemsData.GroupItemInfo&gt; itemsList = new ArrayList&lt;&gt;();\r\n        //some business logic to add the MyItemsData objects in the itemsList.\r\n        itemsList.stream().forEach(groupItemInfo -&gt; {\r\n                    if (groupItemInfo.getItems().isEmpty()) {\r\n                        System.out.println(&quot;item is null&quot;);\r\n                    } else {\r\n                        System.out.println(&quot;item not null &quot; + groupItemInfo.getItems().size());\r\n                    }\r\n                    if (!groupItemInfo.getItems().isEmpty()) {\r\n        \r\n                    }\r\n                });\r\n\r\nI want to store all the items from all objects whose type!=null and should be unique(duplicates should not be allowed)","title":"read the elements and add the unique elements in other object","body":"<p>I have the below sample code.</p>\n<pre><code> List&lt;MyItemsData.GroupItemInfo&gt; itemsList = new ArrayList&lt;&gt;();\n    //some business logic to add the MyItemsData objects in the itemsList.\n    itemsList.stream().forEach(groupItemInfo -&gt; {\n                if (groupItemInfo.getItems().isEmpty()) {\n                    System.out.println(&quot;item is null&quot;);\n                } else {\n                    System.out.println(&quot;item not null &quot; + groupItemInfo.getItems().size());\n                }\n                if (!groupItemInfo.getItems().isEmpty()) {\n    \n                }\n            });\n</code></pre>\n<p>I want to store all the items from all objects whose type!=null and should be unique(duplicates should not be allowed)</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1641383340,"post_id":70592345,"comment_id":124789232,"body_markdown":"`static` prevents you from accessing instance fields, remove it. But in this case because of the execution order, you should pass `b` as a parameter to `message`.","body":"<code>static</code> prevents you from accessing instance fields, remove it. But in this case because of the execution order, you should pass <code>b</code> as a parameter to <code>message</code>."},{"owner":{"account_id":23834497,"reputation":9,"user_id":17840383,"display_name":"Serkan Besim"},"score":0,"creation_date":1641383434,"post_id":70592345,"comment_id":124789256,"body_markdown":"But if I do so, I can&#39;t access it in super","body":"But if I do so, I can&#39;t access it in super"},{"owner":{"account_id":23834497,"reputation":9,"user_id":17840383,"display_name":"Serkan Besim"},"score":0,"creation_date":1641383804,"post_id":70592345,"comment_id":124789380,"body_markdown":"But if I remove the static, message in super won&#39;t work any more as my compiler says.","body":"But if I remove the static, message in super won&#39;t work any more as my compiler says."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641383713,"creation_date":1641383713,"answer_id":70592453,"question_id":70592345,"body_markdown":"The problem here is that you are calling the superclass&#39;s constructor, which has to be done before anything else.\r\n\r\nThus, you cannot access fields such as `b` in your `message` method, since they are not set yet.\r\n\r\nChange the first line of your constructor to\r\n\r\n    super(message(b));\r\n\r\nand the `message` method to\r\n\r\n    private static String message(boolean b) \r\n\r\n\r\nThis will make the message method work with a local copy of the value which will later be assigned to the class field.","title":"Custom exception in Java with external message","body":"<p>The problem here is that you are calling the superclass's constructor, which has to be done before anything else.</p>\n<p>Thus, you cannot access fields such as <code>b</code> in your <code>message</code> method, since they are not set yet.</p>\n<p>Change the first line of your constructor to</p>\n<pre><code>super(message(b));\n</code></pre>\n<p>and the <code>message</code> method to</p>\n<pre><code>private static String message(boolean b) \n</code></pre>\n<p>This will make the message method work with a local copy of the value which will later be assigned to the class field.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641422903,"creation_date":1641422903,"answer_id":70600500,"question_id":70592345,"body_markdown":"First of all, you should not use class&#39; parameters in the static method; you have to delegate it via the method&#39;s parameter. Then you get a pretty working solution.\r\n\r\n```java\r\npublic class BadUpdateTimeException extends Exception{\r\n\r\n    public BadUpdateTimeException(Calendar cal, boolean b) {\r\n        super(createMessage(cal, b));\r\n    }\r\n    \r\n    private static String createMessage(Calendar cal, boolean b) {\r\n        if (b)\r\n            return &quot;Update time is earlier than the last update: &quot;;\r\n        \r\n        return &quot;Update time is in the future: &quot;;\r\n    }\r\n}\r\n```","title":"Custom exception in Java with external message","body":"<p>First of all, you should not use class' parameters in the static method; you have to delegate it via the method's parameter. Then you get a pretty working solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BadUpdateTimeException extends Exception{\n\n    public BadUpdateTimeException(Calendar cal, boolean b) {\n        super(createMessage(cal, b));\n    }\n    \n    private static String createMessage(Calendar cal, boolean b) {\n        if (b)\n            return &quot;Update time is earlier than the last update: &quot;;\n        \n        return &quot;Update time is in the future: &quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23834497,"reputation":9,"user_id":17840383,"display_name":"Serkan Besim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641422996,"creation_date":1641383273,"question_id":70592345,"body_markdown":"We just started with exceptions in Java in University and I am sitting on this task for quite a time and I still couldn&#39;t get much further.\r\n\r\nThe task is to customize an exception with a message depending on the parameters in the constructor. My idea was to write an extra method for the message but I am struggling to access the variables in the parameter\r\n\r\nHere is what I have so far\r\n\r\n```java\r\nimport java.util.Calendar;\r\n\r\npublic class BadUpdateTimeException extends Exception{\r\n\r\n\tprivate final boolean b;\r\n\tprivate final Calendar cal;\r\n\t\r\n\tpublic BadUpdateTimeException(Calendar cal, boolean b) {\r\n\t\tsuper(message());\r\n\t\tthis.b = b;\r\n\t\tthis.cal = cal;\r\n\t}\r\n\t\r\n\tprivate static String message() {\r\n\t\tif(b == true) {\r\n\t\t\tString s = &quot;Update time is earlier than the last update: &quot;;\r\n\t\t\treturn s;\r\n\t\t}else {\r\n\t\t\tString s = &quot;Update time is in the future: &quot;;\r\n\t\t\treturn s;\r\n\t\t}\r\n\t}\r\n} \r\n```","title":"Custom exception in Java with external message","body":"<p>We just started with exceptions in Java in University and I am sitting on this task for quite a time and I still couldn't get much further.</p>\n<p>The task is to customize an exception with a message depending on the parameters in the constructor. My idea was to write an extra method for the message but I am struggling to access the variables in the parameter</p>\n<p>Here is what I have so far</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Calendar;\n\npublic class BadUpdateTimeException extends Exception{\n\n    private final boolean b;\n    private final Calendar cal;\n    \n    public BadUpdateTimeException(Calendar cal, boolean b) {\n        super(message());\n        this.b = b;\n        this.cal = cal;\n    }\n    \n    private static String message() {\n        if(b == true) {\n            String s = &quot;Update time is earlier than the last update: &quot;;\n            return s;\n        }else {\n            String s = &quot;Update time is in the future: &quot;;\n            return s;\n        }\n    }\n} \n</code></pre>\n"},{"tags":["java","encryption","3des"],"answers":[{"tags":[],"owner":{"account_id":1497,"reputation":10898,"user_id":1996,"accept_rate":78,"display_name":"Boris Terzic"},"down_vote_count":2,"up_vote_count":72,"is_accepted":true,"score":70,"last_activity_date":1219341590,"creation_date":1219341590,"answer_id":20670,"question_id":20227,"body_markdown":"Your code was fine except for the Base 64 encoding bit (which you mentioned was a test), the reason the output may not have made sense is that you were displaying a raw byte array (doing toString() on a byte array returns its internal Java reference, not the String representation of the **contents**). Here&#39;s a version that&#39;s just a teeny bit cleaned up and which prints &quot;kyle boon&quot; as the decoded string:\r\n\r\n    import java.security.MessageDigest;\r\n    import java.util.Arrays;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class TripleDESTest {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \r\n    \t\tString text = &quot;kyle boon&quot;;\r\n    \r\n    \t\tbyte[] codedtext = new TripleDESTest().encrypt(text);\r\n    \t\tString decodedtext = new TripleDESTest().decrypt(codedtext);\r\n    \r\n    \t\tSystem.out.println(codedtext); // this is a byte array, you&#39;ll just see a reference to an array\r\n    \t\tSystem.out.println(decodedtext); // This correctly shows &quot;kyle boon&quot;\r\n    \t}\r\n    \r\n    \tpublic byte[] encrypt(String message) throws Exception {\r\n    \t\tfinal MessageDigest md = MessageDigest.getInstance(&quot;md5&quot;);\r\n    \t\tfinal byte[] digestOfPassword = md.digest(&quot;HG58YZ3CR9&quot;\r\n    \t\t\t\t.getBytes(&quot;utf-8&quot;));\r\n    \t\tfinal byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\r\n    \t\tfor (int j = 0, k = 16; j &lt; 8;) {\r\n    \t\t\tkeyBytes[k++] = keyBytes[j++];\r\n    \t\t}\r\n    \r\n    \t\tfinal SecretKey key = new SecretKeySpec(keyBytes, &quot;DESede&quot;);\r\n    \t\tfinal IvParameterSpec iv = new IvParameterSpec(new byte[8]);\r\n    \t\tfinal Cipher cipher = Cipher.getInstance(&quot;DESede/CBC/PKCS5Padding&quot;);\r\n    \t\tcipher.init(Cipher.ENCRYPT_MODE, key, iv);\r\n    \r\n    \t\tfinal byte[] plainTextBytes = message.getBytes(&quot;utf-8&quot;);\r\n    \t\tfinal byte[] cipherText = cipher.doFinal(plainTextBytes);\r\n    \t\t// final String encodedCipherText = new sun.misc.BASE64Encoder()\r\n    \t\t// .encode(cipherText);\r\n    \r\n    \t\treturn cipherText;\r\n    \t}\r\n    \r\n    \tpublic String decrypt(byte[] message) throws Exception {\r\n    \t\tfinal MessageDigest md = MessageDigest.getInstance(&quot;md5&quot;);\r\n    \t\tfinal byte[] digestOfPassword = md.digest(&quot;HG58YZ3CR9&quot;\r\n    \t\t\t\t.getBytes(&quot;utf-8&quot;));\r\n    \t\tfinal byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\r\n    \t\tfor (int j = 0, k = 16; j &lt; 8;) {\r\n    \t\t\tkeyBytes[k++] = keyBytes[j++];\r\n    \t\t}\r\n    \r\n    \t\tfinal SecretKey key = new SecretKeySpec(keyBytes, &quot;DESede&quot;);\r\n    \t\tfinal IvParameterSpec iv = new IvParameterSpec(new byte[8]);\r\n    \t\tfinal Cipher decipher = Cipher.getInstance(&quot;DESede/CBC/PKCS5Padding&quot;);\r\n    \t\tdecipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n    \r\n    \t\t// final byte[] encData = new\r\n    \t\t// sun.misc.BASE64Decoder().decodeBuffer(message);\r\n    \t\tfinal byte[] plainText = decipher.doFinal(message);\r\n    \r\n    \t\treturn new String(plainText, &quot;UTF-8&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"How do I use 3DES encryption/decryption in Java?","body":"<p>Your code was fine except for the Base 64 encoding bit (which you mentioned was a test), the reason the output may not have made sense is that you were displaying a raw byte array (doing toString() on a byte array returns its internal Java reference, not the String representation of the <strong>contents</strong>). Here's a version that's just a teeny bit cleaned up and which prints \"kyle boon\" as the decoded string:</p>\n\n<pre><code>import java.security.MessageDigest;\nimport java.util.Arrays;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class TripleDESTest {\n\n    public static void main(String[] args) throws Exception {\n\n        String text = \"kyle boon\";\n\n        byte[] codedtext = new TripleDESTest().encrypt(text);\n        String decodedtext = new TripleDESTest().decrypt(codedtext);\n\n        System.out.println(codedtext); // this is a byte array, you'll just see a reference to an array\n        System.out.println(decodedtext); // This correctly shows \"kyle boon\"\n    }\n\n    public byte[] encrypt(String message) throws Exception {\n        final MessageDigest md = MessageDigest.getInstance(\"md5\");\n        final byte[] digestOfPassword = md.digest(\"HG58YZ3CR9\"\n                .getBytes(\"utf-8\"));\n        final byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\n        for (int j = 0, k = 16; j &lt; 8;) {\n            keyBytes[k++] = keyBytes[j++];\n        }\n\n        final SecretKey key = new SecretKeySpec(keyBytes, \"DESede\");\n        final IvParameterSpec iv = new IvParameterSpec(new byte[8]);\n        final Cipher cipher = Cipher.getInstance(\"DESede/CBC/PKCS5Padding\");\n        cipher.init(Cipher.ENCRYPT_MODE, key, iv);\n\n        final byte[] plainTextBytes = message.getBytes(\"utf-8\");\n        final byte[] cipherText = cipher.doFinal(plainTextBytes);\n        // final String encodedCipherText = new sun.misc.BASE64Encoder()\n        // .encode(cipherText);\n\n        return cipherText;\n    }\n\n    public String decrypt(byte[] message) throws Exception {\n        final MessageDigest md = MessageDigest.getInstance(\"md5\");\n        final byte[] digestOfPassword = md.digest(\"HG58YZ3CR9\"\n                .getBytes(\"utf-8\"));\n        final byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\n        for (int j = 0, k = 16; j &lt; 8;) {\n            keyBytes[k++] = keyBytes[j++];\n        }\n\n        final SecretKey key = new SecretKeySpec(keyBytes, \"DESede\");\n        final IvParameterSpec iv = new IvParameterSpec(new byte[8]);\n        final Cipher decipher = Cipher.getInstance(\"DESede/CBC/PKCS5Padding\");\n        decipher.init(Cipher.DECRYPT_MODE, key, iv);\n\n        // final byte[] encData = new\n        // sun.misc.BASE64Decoder().decodeBuffer(message);\n        final byte[] plainText = decipher.doFinal(message);\n\n        return new String(plainText, \"UTF-8\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1407670,"reputation":137,"user_id":1334941,"display_name":"jlmontesdeoca"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1334516074,"creation_date":1334515764,"answer_id":10164989,"question_id":20227,"body_markdown":"I had hard times figuring it out myself and this post helped me to find the right answer for my case. When working with financial messaging as ISO-8583 the 3DES requirements are quite specific, so for my especial case the &quot;DESede/CBC/PKCS5Padding&quot; combinations wasn&#39;t solving the problem. After some comparative testing of my results against some 3DES calculators designed for the financial world I found the the value &quot;DESede/ECB/Nopadding&quot; is more suited for the the specific task.\r\n\r\nHere is a demo implementation of my TripleDes class (using the Bouncy Castle provider)\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.Security;\r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.IllegalBlockSizeException;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n\r\n    \r\n    /**\r\n     *\r\n     * @author Jose Luis Montes de Oca\r\n     */\r\n    public class TripleDesCipher {\r\n       private static String TRIPLE_DES_TRANSFORMATION = &quot;DESede/ECB/Nopadding&quot;;\r\n       private static String ALGORITHM = &quot;DESede&quot;;\r\n       private static String BOUNCY_CASTLE_PROVIDER = &quot;BC&quot;;\r\n       private Cipher encrypter;\r\n       private Cipher decrypter;\r\n    \r\n       public TripleDesCipher(byte[] key) throws NoSuchAlgorithmException, NoSuchProviderException, NoSuchPaddingException,\r\n             InvalidKeyException {\r\n          Security.addProvider(new BouncyCastleProvider());\r\n          SecretKey keySpec = new SecretKeySpec(key, ALGORITHM);\r\n          encrypter = Cipher.getInstance(TRIPLE_DES_TRANSFORMATION, BOUNCY_CASTLE_PROVIDER);\r\n          encrypter.init(Cipher.ENCRYPT_MODE, keySpec);\r\n          decrypter = Cipher.getInstance(TRIPLE_DES_TRANSFORMATION, BOUNCY_CASTLE_PROVIDER);\r\n          decrypter.init(Cipher.DECRYPT_MODE, keySpec);\r\n       }\r\n    \r\n       public byte[] encode(byte[] input) throws IllegalBlockSizeException, BadPaddingException {\r\n          return encrypter.doFinal(input);\r\n       }\r\n    \r\n       public byte[] decode(byte[] input) throws IllegalBlockSizeException, BadPaddingException {\r\n          return decrypter.doFinal(input);\r\n       }\r\n    }\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n","title":"How do I use 3DES encryption/decryption in Java?","body":"<p>I had hard times figuring it out myself and this post helped me to find the right answer for my case. When working with financial messaging as ISO-8583 the 3DES requirements are quite specific, so for my especial case the \"DESede/CBC/PKCS5Padding\" combinations wasn't solving the problem. After some comparative testing of my results against some 3DES calculators designed for the financial world I found the the value \"DESede/ECB/Nopadding\" is more suited for the the specific task.</p>\n\n<p>Here is a demo implementation of my TripleDes class (using the Bouncy Castle provider)</p>\n\n<pre><code>\n\n    import java.security.InvalidKeyException;\n    import java.security.NoSuchAlgorithmException;\n    import java.security.NoSuchProviderException;\n    import java.security.Security;\n    import javax.crypto.BadPaddingException;\n    import javax.crypto.Cipher;\n    import javax.crypto.IllegalBlockSizeException;\n    import javax.crypto.NoSuchPaddingException;\n    import javax.crypto.SecretKey;\n    import javax.crypto.spec.SecretKeySpec;\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\n\n\n    /**\n     *\n     * @author Jose Luis Montes de Oca\n     */\n    public class TripleDesCipher {\n       private static String TRIPLE_DES_TRANSFORMATION = \"DESede/ECB/Nopadding\";\n       private static String ALGORITHM = \"DESede\";\n       private static String BOUNCY_CASTLE_PROVIDER = \"BC\";\n       private Cipher encrypter;\n       private Cipher decrypter;\n\n       public TripleDesCipher(byte[] key) throws NoSuchAlgorithmException, NoSuchProviderException, NoSuchPaddingException,\n             InvalidKeyException {\n          Security.addProvider(new BouncyCastleProvider());\n          SecretKey keySpec = new SecretKeySpec(key, ALGORITHM);\n          encrypter = Cipher.getInstance(TRIPLE_DES_TRANSFORMATION, BOUNCY_CASTLE_PROVIDER);\n          encrypter.init(Cipher.ENCRYPT_MODE, keySpec);\n          decrypter = Cipher.getInstance(TRIPLE_DES_TRANSFORMATION, BOUNCY_CASTLE_PROVIDER);\n          decrypter.init(Cipher.DECRYPT_MODE, keySpec);\n       }\n\n       public byte[] encode(byte[] input) throws IllegalBlockSizeException, BadPaddingException {\n          return encrypter.doFinal(input);\n       }\n\n       public byte[] decode(byte[] input) throws IllegalBlockSizeException, BadPaddingException {\n          return decrypter.doFinal(input);\n       }\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1011527,"reputation":339,"user_id":1024005,"display_name":"siliconsmiley"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1341603368,"creation_date":1341599831,"answer_id":11367849,"question_id":20227,"body_markdown":"Here&#39;s a very simply static encrypt/decrypt class biased on the Bouncy Castle no padding example by Jose Luis Montes de Oca.  This one is using &quot;DESede/ECB/PKCS7Padding&quot; so I don&#39;t have to bother manually padding.\r\n\r\n    \r\n&lt;pre&gt;&lt;code&gt;\r\n    package com.zenimax.encryption;\r\n    \r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.Security;\r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.IllegalBlockSizeException;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    \r\n    /**\r\n     * \r\n     * @author Matthew H. Wagner\r\n     */\r\n    public class TripleDesBouncyCastle {\r\n        private static String TRIPLE_DES_TRANSFORMATION = &quot;DESede/ECB/PKCS7Padding&quot;;\r\n        private static String ALGORITHM = &quot;DESede&quot;;\r\n        private static String BOUNCY_CASTLE_PROVIDER = &quot;BC&quot;;\r\n    \r\n        private static void init()\r\n        {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n        }\r\n    \r\n        public static byte[] encode(byte[] input, byte[] key)\r\n                throws IllegalBlockSizeException, BadPaddingException,\r\n                NoSuchAlgorithmException, NoSuchProviderException,\r\n                NoSuchPaddingException, InvalidKeyException {\r\n            init();\r\n            SecretKey keySpec = new SecretKeySpec(key, ALGORITHM);\r\n            Cipher encrypter = Cipher.getInstance(TRIPLE_DES_TRANSFORMATION,\r\n                    BOUNCY_CASTLE_PROVIDER);\r\n            encrypter.init(Cipher.ENCRYPT_MODE, keySpec);\r\n            return encrypter.doFinal(input);\r\n        }\r\n    \r\n        public static byte[] decode(byte[] input, byte[] key)\r\n                throws IllegalBlockSizeException, BadPaddingException,\r\n                NoSuchAlgorithmException, NoSuchProviderException,\r\n                NoSuchPaddingException, InvalidKeyException {\r\n            init();\r\n            SecretKey keySpec = new SecretKeySpec(key, ALGORITHM);\r\n            Cipher decrypter = Cipher.getInstance(TRIPLE_DES_TRANSFORMATION,\r\n                    BOUNCY_CASTLE_PROVIDER);\r\n            decrypter.init(Cipher.DECRYPT_MODE, keySpec);\r\n            return decrypter.doFinal(input);\r\n        }\r\n    }\r\n&lt;/code&gt;\r\n&lt;/pre&gt;","title":"How do I use 3DES encryption/decryption in Java?","body":"<p>Here's a very simply static encrypt/decrypt class biased on the Bouncy Castle no padding example by Jose Luis Montes de Oca.  This one is using \"DESede/ECB/PKCS7Padding\" so I don't have to bother manually padding.</p>\n\n<pre><code>\n    package com.zenimax.encryption;\n\n    import java.security.InvalidKeyException;\n    import java.security.NoSuchAlgorithmException;\n    import java.security.NoSuchProviderException;\n    import java.security.Security;\n    import javax.crypto.BadPaddingException;\n    import javax.crypto.Cipher;\n    import javax.crypto.IllegalBlockSizeException;\n    import javax.crypto.NoSuchPaddingException;\n    import javax.crypto.SecretKey;\n    import javax.crypto.spec.SecretKeySpec;\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\n\n    /**\n     * \n     * @author Matthew H. Wagner\n     */\n    public class TripleDesBouncyCastle {\n        private static String TRIPLE_DES_TRANSFORMATION = \"DESede/ECB/PKCS7Padding\";\n        private static String ALGORITHM = \"DESede\";\n        private static String BOUNCY_CASTLE_PROVIDER = \"BC\";\n\n        private static void init()\n        {\n            Security.addProvider(new BouncyCastleProvider());\n        }\n\n        public static byte[] encode(byte[] input, byte[] key)\n                throws IllegalBlockSizeException, BadPaddingException,\n                NoSuchAlgorithmException, NoSuchProviderException,\n                NoSuchPaddingException, InvalidKeyException {\n            init();\n            SecretKey keySpec = new SecretKeySpec(key, ALGORITHM);\n            Cipher encrypter = Cipher.getInstance(TRIPLE_DES_TRANSFORMATION,\n                    BOUNCY_CASTLE_PROVIDER);\n            encrypter.init(Cipher.ENCRYPT_MODE, keySpec);\n            return encrypter.doFinal(input);\n        }\n\n        public static byte[] decode(byte[] input, byte[] key)\n                throws IllegalBlockSizeException, BadPaddingException,\n                NoSuchAlgorithmException, NoSuchProviderException,\n                NoSuchPaddingException, InvalidKeyException {\n            init();\n            SecretKey keySpec = new SecretKeySpec(key, ALGORITHM);\n            Cipher decrypter = Cipher.getInstance(TRIPLE_DES_TRANSFORMATION,\n                    BOUNCY_CASTLE_PROVIDER);\n            decrypter.init(Cipher.DECRYPT_MODE, keySpec);\n            return decrypter.doFinal(input);\n        }\n    }\n</code>\n</pre>\n"},{"tags":[],"owner":{"account_id":460624,"reputation":3557,"user_id":861832,"accept_rate":84,"display_name":"oneiros"},"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1354130945,"creation_date":1354130945,"answer_id":13612902,"question_id":20227,"body_markdown":"Here is a solution using the **javax.crypto** library and the apache commons codec library for encoding and decoding in Base64: \r\n\r\n    import java.security.spec.KeySpec;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.DESedeKeySpec;\r\n    import org.apache.commons.codec.binary.Base64;\r\n     \r\n    public class TrippleDes {\r\n     \r\n        private static final String UNICODE_FORMAT = &quot;UTF8&quot;;\r\n        public static final String DESEDE_ENCRYPTION_SCHEME = &quot;DESede&quot;;\r\n        private KeySpec ks;\r\n        private SecretKeyFactory skf;\r\n        private Cipher cipher;\r\n        byte[] arrayBytes;\r\n        private String myEncryptionKey;\r\n        private String myEncryptionScheme;\r\n        SecretKey key;\r\n     \r\n        public TrippleDes() throws Exception {\r\n            myEncryptionKey = &quot;ThisIsSpartaThisIsSparta&quot;;\r\n            myEncryptionScheme = DESEDE_ENCRYPTION_SCHEME;\r\n            arrayBytes = myEncryptionKey.getBytes(UNICODE_FORMAT);\r\n            ks = new DESedeKeySpec(arrayBytes);\r\n            skf = SecretKeyFactory.getInstance(myEncryptionScheme);\r\n            cipher = Cipher.getInstance(myEncryptionScheme);\r\n            key = skf.generateSecret(ks);\r\n        }\r\n     \r\n        \r\n        public String encrypt(String unencryptedString) {\r\n            String encryptedString = null;\r\n            try {\r\n                cipher.init(Cipher.ENCRYPT_MODE, key);\r\n                byte[] plainText = unencryptedString.getBytes(UNICODE_FORMAT);\r\n                byte[] encryptedText = cipher.doFinal(plainText);\r\n                encryptedString = new String(Base64.encodeBase64(encryptedText));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return encryptedString;\r\n        }\r\n        \r\n        \r\n        public String decrypt(String encryptedString) {\r\n            String decryptedText=null;\r\n            try {\r\n                cipher.init(Cipher.DECRYPT_MODE, key);\r\n                byte[] encryptedText = Base64.decodeBase64(encryptedString);\r\n                byte[] plainText = cipher.doFinal(encryptedText);\r\n                decryptedText= new String(plainText);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return decryptedText;\r\n        }\r\n     \r\n        \r\n        public static void main(String args []) throws Exception\r\n        {\r\n        \tTrippleDes td= new TrippleDes();\r\n     \r\n            String target=&quot;imparator&quot;;\r\n            String encrypted=td.encrypt(target);\r\n            String decrypted=td.decrypt(encrypted);\r\n     \r\n            System.out.println(&quot;String To Encrypt: &quot;+ target);\r\n            System.out.println(&quot;Encrypted String:&quot; + encrypted);\r\n            System.out.println(&quot;Decrypted String:&quot; + decrypted);\r\n     \r\n        }\r\n     \r\n    }\r\n\r\nRunning the above program results with the following output: \r\n\r\n    String To Encrypt: imparator\r\n    Encrypted String:FdBNaYWfjpWN9eYghMpbRA==\r\n    Decrypted String:imparator","title":"How do I use 3DES encryption/decryption in Java?","body":"<p>Here is a solution using the <strong>javax.crypto</strong> library and the apache commons codec library for encoding and decoding in Base64: </p>\n\n<pre><code>import java.security.spec.KeySpec;\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.DESedeKeySpec;\nimport org.apache.commons.codec.binary.Base64;\n\npublic class TrippleDes {\n\n    private static final String UNICODE_FORMAT = \"UTF8\";\n    public static final String DESEDE_ENCRYPTION_SCHEME = \"DESede\";\n    private KeySpec ks;\n    private SecretKeyFactory skf;\n    private Cipher cipher;\n    byte[] arrayBytes;\n    private String myEncryptionKey;\n    private String myEncryptionScheme;\n    SecretKey key;\n\n    public TrippleDes() throws Exception {\n        myEncryptionKey = \"ThisIsSpartaThisIsSparta\";\n        myEncryptionScheme = DESEDE_ENCRYPTION_SCHEME;\n        arrayBytes = myEncryptionKey.getBytes(UNICODE_FORMAT);\n        ks = new DESedeKeySpec(arrayBytes);\n        skf = SecretKeyFactory.getInstance(myEncryptionScheme);\n        cipher = Cipher.getInstance(myEncryptionScheme);\n        key = skf.generateSecret(ks);\n    }\n\n\n    public String encrypt(String unencryptedString) {\n        String encryptedString = null;\n        try {\n            cipher.init(Cipher.ENCRYPT_MODE, key);\n            byte[] plainText = unencryptedString.getBytes(UNICODE_FORMAT);\n            byte[] encryptedText = cipher.doFinal(plainText);\n            encryptedString = new String(Base64.encodeBase64(encryptedText));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return encryptedString;\n    }\n\n\n    public String decrypt(String encryptedString) {\n        String decryptedText=null;\n        try {\n            cipher.init(Cipher.DECRYPT_MODE, key);\n            byte[] encryptedText = Base64.decodeBase64(encryptedString);\n            byte[] plainText = cipher.doFinal(encryptedText);\n            decryptedText= new String(plainText);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return decryptedText;\n    }\n\n\n    public static void main(String args []) throws Exception\n    {\n        TrippleDes td= new TrippleDes();\n\n        String target=\"imparator\";\n        String encrypted=td.encrypt(target);\n        String decrypted=td.decrypt(encrypted);\n\n        System.out.println(\"String To Encrypt: \"+ target);\n        System.out.println(\"Encrypted String:\" + encrypted);\n        System.out.println(\"Decrypted String:\" + decrypted);\n\n    }\n\n}\n</code></pre>\n\n<p>Running the above program results with the following output: </p>\n\n<pre><code>String To Encrypt: imparator\nEncrypted String:FdBNaYWfjpWN9eYghMpbRA==\nDecrypted String:imparator\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4596740,"reputation":625,"user_id":3728540,"display_name":"shiv"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1408512935,"creation_date":1408512935,"answer_id":25397364,"question_id":20227,"body_markdown":"\r\n\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.security.Key;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.DESedeKeySpec;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import java.util.Base64;\r\n    import java.util.Base64.Encoder;\r\n    \r\n    \r\n    /**\r\n     * \r\n     * @author shivshankar pal\r\n     * \r\n     *         this code is working properly. doing proper encription and decription\r\n    \t\t   note:- it will work only with jdk8\r\n     \r\n     * \r\n     \r\n     * \r\n     */\r\n    \r\n    public class TDes {\r\n    \tprivate static byte[] key = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\r\n    \t\t\t0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x02, 0x02,\r\n    \t\t\t0x02, 0x02, 0x02, 0x02, 0x02, 0x02 };\r\n    \r\n    \tprivate static byte[] keyiv = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\r\n    \t\t\t0x00 };\r\n    \t \r\n    \t\r\n    \t \r\n    \t public static String encode(String args) {\r\n    \r\n    \t\t\r\n    \t\tSystem.out.println(&quot;plain data==&gt;  &quot; + args);\r\n    \r\n    \t\tbyte[] encoding;\r\n    \t\ttry {\r\n    \t\t\tencoding = Base64.getEncoder().encode(args.getBytes(&quot;UTF-8&quot;));\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Base64.encodeBase64==&gt;&quot; + new String(encoding));\r\n    \t\tbyte[] str5 = des3EncodeCBC(key, keyiv, encoding);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;des3EncodeCBC==&gt;  &quot; + new String(str5));\r\n    \t\t\r\n    \t\tbyte[] encoding1 = Base64.getEncoder().encode(str5);\r\n    \t\tSystem.out.println(&quot;Base64.encodeBase64==&gt; &quot; + new String(encoding1));\r\n    \t\treturn new String(encoding1);\r\n    \t\t} catch (UnsupportedEncodingException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static String decode(String args) {\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;encrypted data==&gt;&quot; + new String(args.getBytes(&quot;UTF-8&quot;)));\r\n    \t\t\r\n    \t\t\r\n    \t\tbyte[] decode = Base64.getDecoder().decode(args.getBytes(&quot;UTF-8&quot;));\r\n    \t\tSystem.out.println(&quot;Base64.decodeBase64(main encription)==&gt;&quot; + new String(decode));\r\n    \t\t\r\n    \t\tbyte[] str6 = des3DecodeCBC(key, keyiv, decode);\r\n    \t\tSystem.out.println(&quot;des3DecodeCBC==&gt;&quot; + new String(str6));\r\n    \t\tString data=new String(str6);\r\n    \t\tbyte[] decode1 = Base64.getDecoder().decode(data.trim().getBytes(&quot;UTF-8&quot;));\r\n    \t\tSystem.out.println(&quot;plaintext==&gt;  &quot; + new String(decode1));\r\n    \t\treturn new String(decode1);\r\n    \t\t} catch (UnsupportedEncodingException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn &quot;u mistaken in try block&quot;;\r\n    \t\t\r\n    \t\t}\r\n    \r\n    \t\r\n    \t\r\n    \tprivate static byte[] des3EncodeCBC(byte[] key, byte[] keyiv, byte[] data) {\r\n    \t\ttry {\r\n    \t\t\tKey deskey = null;\r\n    \t\t\tDESedeKeySpec spec = new DESedeKeySpec(key);\r\n    \t\t\tSecretKeyFactory keyfactory = SecretKeyFactory.getInstance(&quot;desede&quot;);\r\n    \t\t\tdeskey = keyfactory.generateSecret(spec);\r\n    \r\n    \t\t\tCipher cipher = Cipher.getInstance(&quot;desede/ CBC/PKCS5Padding&quot;);\r\n    \t\t\tIvParameterSpec ips = new IvParameterSpec(keyiv);\r\n    \t\t\tcipher.init(Cipher.ENCRYPT_MODE, deskey, ips);\r\n    \t\t\tbyte[] bout = cipher.doFinal(data);\r\n    \t\t\treturn bout;\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;methods qualified name&quot; + e);\r\n    \t\t}\r\n    \t\treturn null;\r\n    \r\n    \t}\r\n    \r\n    \tprivate static byte[] des3DecodeCBC(byte[] key, byte[] keyiv, byte[] data) {\r\n    \t\ttry {\r\n    \t\t\tKey deskey = null;\r\n    \t\t\tDESedeKeySpec spec = new DESedeKeySpec(key);\r\n    \t\t\tSecretKeyFactory keyfactory = SecretKeyFactory.getInstance(&quot;desede&quot;);\r\n    \t\t\tdeskey = keyfactory.generateSecret(spec);\r\n    \r\n    \t\t\tCipher cipher = Cipher.getInstance(&quot;desede/ CBC/NoPadding&quot;);//PKCS5Padding NoPadding\r\n    \t\t\tIvParameterSpec ips = new IvParameterSpec(keyiv);\r\n    \t\t\tcipher.init(Cipher.DECRYPT_MODE, deskey, ips);\r\n    \t\t\t\r\n    \t\t\tbyte[] bout = cipher.doFinal(data);\r\n    \r\n    \r\n    \t\t\treturn bout;\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;methods qualified name&quot; + e);\r\n    \t\t}\r\n    \r\n    \t\treturn null;\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How do I use 3DES encryption/decryption in Java?","body":"<pre><code>import java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.security.Key;\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.DESedeKeySpec;\nimport javax.crypto.spec.IvParameterSpec;\nimport java.util.Base64;\nimport java.util.Base64.Encoder;\n\n\n/**\n * \n * @author shivshankar pal\n * \n *         this code is working properly. doing proper encription and decription\n           note:- it will work only with jdk8\n\n * \n\n * \n */\n\npublic class TDes {\n    private static byte[] key = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n            0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x02, 0x02,\n            0x02, 0x02, 0x02, 0x02, 0x02, 0x02 };\n\n    private static byte[] keyiv = { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n            0x00 };\n\n\n\n     public static String encode(String args) {\n\n\n        System.out.println(\"plain data==&gt;  \" + args);\n\n        byte[] encoding;\n        try {\n            encoding = Base64.getEncoder().encode(args.getBytes(\"UTF-8\"));\n\n        System.out.println(\"Base64.encodeBase64==&gt;\" + new String(encoding));\n        byte[] str5 = des3EncodeCBC(key, keyiv, encoding);\n\n        System.out.println(\"des3EncodeCBC==&gt;  \" + new String(str5));\n\n        byte[] encoding1 = Base64.getEncoder().encode(str5);\n        System.out.println(\"Base64.encodeBase64==&gt; \" + new String(encoding1));\n        return new String(encoding1);\n        } catch (UnsupportedEncodingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n\n    public static String decode(String args) {\n        try {\n            System.out.println(\"encrypted data==&gt;\" + new String(args.getBytes(\"UTF-8\")));\n\n\n        byte[] decode = Base64.getDecoder().decode(args.getBytes(\"UTF-8\"));\n        System.out.println(\"Base64.decodeBase64(main encription)==&gt;\" + new String(decode));\n\n        byte[] str6 = des3DecodeCBC(key, keyiv, decode);\n        System.out.println(\"des3DecodeCBC==&gt;\" + new String(str6));\n        String data=new String(str6);\n        byte[] decode1 = Base64.getDecoder().decode(data.trim().getBytes(\"UTF-8\"));\n        System.out.println(\"plaintext==&gt;  \" + new String(decode1));\n        return new String(decode1);\n        } catch (UnsupportedEncodingException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return \"u mistaken in try block\";\n\n        }\n\n\n\n    private static byte[] des3EncodeCBC(byte[] key, byte[] keyiv, byte[] data) {\n        try {\n            Key deskey = null;\n            DESedeKeySpec spec = new DESedeKeySpec(key);\n            SecretKeyFactory keyfactory = SecretKeyFactory.getInstance(\"desede\");\n            deskey = keyfactory.generateSecret(spec);\n\n            Cipher cipher = Cipher.getInstance(\"desede/ CBC/PKCS5Padding\");\n            IvParameterSpec ips = new IvParameterSpec(keyiv);\n            cipher.init(Cipher.ENCRYPT_MODE, deskey, ips);\n            byte[] bout = cipher.doFinal(data);\n            return bout;\n\n        } catch (Exception e) {\n            System.out.println(\"methods qualified name\" + e);\n        }\n        return null;\n\n    }\n\n    private static byte[] des3DecodeCBC(byte[] key, byte[] keyiv, byte[] data) {\n        try {\n            Key deskey = null;\n            DESedeKeySpec spec = new DESedeKeySpec(key);\n            SecretKeyFactory keyfactory = SecretKeyFactory.getInstance(\"desede\");\n            deskey = keyfactory.generateSecret(spec);\n\n            Cipher cipher = Cipher.getInstance(\"desede/ CBC/NoPadding\");//PKCS5Padding NoPadding\n            IvParameterSpec ips = new IvParameterSpec(keyiv);\n            cipher.init(Cipher.DECRYPT_MODE, deskey, ips);\n\n            byte[] bout = cipher.doFinal(data);\n\n\n            return bout;\n\n        } catch (Exception e) {\n            System.out.println(\"methods qualified name\" + e);\n        }\n\n        return null;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21283437,"reputation":21,"user_id":15661514,"display_name":"Ayomide Joysbright Oyediran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641422943,"creation_date":1641422943,"answer_id":70600508,"question_id":20227,"body_markdown":"\r\n    private static final String UNICODE_FORMAT = &quot;UTF8&quot;;\r\n    private static final String DESEDE_ENCRYPTION_SCHEME = &quot;DESede&quot;;\r\n    private KeySpec ks;\r\n    private SecretKeyFactory skf;\r\n    private Cipher cipher;\r\n    byte[] arrayBytes;\r\n    private String encryptionSecretKey = &quot;ThisIsSpartaThisIsSparta&quot;;\r\n    SecretKey key;\r\n\r\n    public TripleDesEncryptDecrypt() throws Exception {\r\n        convertStringToSecretKey(encryptionSecretKey);\r\n    }\r\n\r\n    public TripleDesEncryptDecrypt(String encryptionSecretKey) throws Exception {\r\n        convertStringToSecretKey(encryptionSecretKey);\r\n    }\r\n\r\n    public SecretKey convertStringToSecretKey (String encryptionSecretKey) throws Exception {\r\n        arrayBytes = encryptionSecretKey.getBytes(UNICODE_FORMAT);\r\n        ks = new DESedeKeySpec(arrayBytes);\r\n        skf = SecretKeyFactory.getInstance(DESEDE_ENCRYPTION_SCHEME);\r\n        cipher = Cipher.getInstance(DESEDE_ENCRYPTION_SCHEME);\r\n        key = skf.generateSecret(ks);\r\n        return key;\r\n    }\r\n\r\n    /**\r\n     * Encrypt without specifying secret key\r\n     * \r\n     * @param unencryptedString\r\n     * @return String\r\n     */\r\n    public String encrypt(String unencryptedString) {\r\n        String encryptedString = null;\r\n        try {\r\n            cipher.init(Cipher.ENCRYPT_MODE, key);\r\n            byte[] plainText = unencryptedString.getBytes(UNICODE_FORMAT);\r\n            byte[] encryptedText = cipher.doFinal(plainText);\r\n            encryptedString = new String(Base64.encodeBase64(encryptedText));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return encryptedString;\r\n    }\r\n\r\n    /**\r\n     * Encrypt with specified secret key\r\n     * \r\n     * @param unencryptedString\r\n     * @return String\r\n     */\r\n    public String encrypt(String encryptionSecretKey, String unencryptedString) {\r\n        String encryptedString = null;\r\n        try {\r\n            key = convertStringToSecretKey(encryptionSecretKey);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key);\r\n            byte[] plainText = unencryptedString.getBytes(UNICODE_FORMAT);\r\n            byte[] encryptedText = cipher.doFinal(plainText);\r\n            encryptedString = new String(Base64.encodeBase64(encryptedText));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return encryptedString;\r\n    }\r\n\r\n\r\n    /**\r\n     * Decrypt without specifying secret key\r\n     * @param encryptedString\r\n     * @return\r\n     */\r\n    public String decrypt(String encryptedString) {\r\n        String decryptedText=null;\r\n        try {\r\n            cipher.init(Cipher.DECRYPT_MODE, key);\r\n            byte[] encryptedText = Base64.decodeBase64(encryptedString);\r\n            byte[] plainText = cipher.doFinal(encryptedText);\r\n            decryptedText= new String(plainText);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return decryptedText;\r\n    }\r\n\r\n    /**\r\n     * Decrypt with specified secret key\r\n     * @param encryptedString\r\n     * @return\r\n     */\r\n    public String decrypt(String encryptionSecretKey, String encryptedString) {\r\n        String decryptedText=null;\r\n        try {\r\n            key = convertStringToSecretKey(encryptionSecretKey);\r\n            cipher.init(Cipher.DECRYPT_MODE, key);\r\n            byte[] encryptedText = Base64.decodeBase64(encryptedString);\r\n            byte[] plainText = cipher.doFinal(encryptedText);\r\n            decryptedText= new String(plainText);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return decryptedText;\r\n    }\r\n","title":"How do I use 3DES encryption/decryption in Java?","body":"<pre><code>private static final String UNICODE_FORMAT = &quot;UTF8&quot;;\nprivate static final String DESEDE_ENCRYPTION_SCHEME = &quot;DESede&quot;;\nprivate KeySpec ks;\nprivate SecretKeyFactory skf;\nprivate Cipher cipher;\nbyte[] arrayBytes;\nprivate String encryptionSecretKey = &quot;ThisIsSpartaThisIsSparta&quot;;\nSecretKey key;\n\npublic TripleDesEncryptDecrypt() throws Exception {\n    convertStringToSecretKey(encryptionSecretKey);\n}\n\npublic TripleDesEncryptDecrypt(String encryptionSecretKey) throws Exception {\n    convertStringToSecretKey(encryptionSecretKey);\n}\n\npublic SecretKey convertStringToSecretKey (String encryptionSecretKey) throws Exception {\n    arrayBytes = encryptionSecretKey.getBytes(UNICODE_FORMAT);\n    ks = new DESedeKeySpec(arrayBytes);\n    skf = SecretKeyFactory.getInstance(DESEDE_ENCRYPTION_SCHEME);\n    cipher = Cipher.getInstance(DESEDE_ENCRYPTION_SCHEME);\n    key = skf.generateSecret(ks);\n    return key;\n}\n\n/**\n * Encrypt without specifying secret key\n * \n * @param unencryptedString\n * @return String\n */\npublic String encrypt(String unencryptedString) {\n    String encryptedString = null;\n    try {\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        byte[] plainText = unencryptedString.getBytes(UNICODE_FORMAT);\n        byte[] encryptedText = cipher.doFinal(plainText);\n        encryptedString = new String(Base64.encodeBase64(encryptedText));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return encryptedString;\n}\n\n/**\n * Encrypt with specified secret key\n * \n * @param unencryptedString\n * @return String\n */\npublic String encrypt(String encryptionSecretKey, String unencryptedString) {\n    String encryptedString = null;\n    try {\n        key = convertStringToSecretKey(encryptionSecretKey);\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        byte[] plainText = unencryptedString.getBytes(UNICODE_FORMAT);\n        byte[] encryptedText = cipher.doFinal(plainText);\n        encryptedString = new String(Base64.encodeBase64(encryptedText));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return encryptedString;\n}\n\n\n/**\n * Decrypt without specifying secret key\n * @param encryptedString\n * @return\n */\npublic String decrypt(String encryptedString) {\n    String decryptedText=null;\n    try {\n        cipher.init(Cipher.DECRYPT_MODE, key);\n        byte[] encryptedText = Base64.decodeBase64(encryptedString);\n        byte[] plainText = cipher.doFinal(encryptedText);\n        decryptedText= new String(plainText);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return decryptedText;\n}\n\n/**\n * Decrypt with specified secret key\n * @param encryptedString\n * @return\n */\npublic String decrypt(String encryptionSecretKey, String encryptedString) {\n    String decryptedText=null;\n    try {\n        key = convertStringToSecretKey(encryptionSecretKey);\n        cipher.init(Cipher.DECRYPT_MODE, key);\n        byte[] encryptedText = Base64.decodeBase64(encryptedString);\n        byte[] plainText = cipher.doFinal(encryptedText);\n        decryptedText= new String(plainText);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return decryptedText;\n}\n</code></pre>\n"}],"owner":{"account_id":1118,"reputation":5213,"user_id":1486,"accept_rate":92,"display_name":"Kyle Boon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198286,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":20670,"answer_count":6,"score":76,"last_activity_date":1641422943,"creation_date":1219332322,"question_id":20227,"body_markdown":"Every method I write to encode a string in Java using 3DES can&#39;t be decrypted back to the original string.  Does anyone have a simple code snippet that can just encode and then decode the string back to the original string?\r\n\r\nI know I&#39;m making a very silly mistake somewhere in this code. Here&#39;s what I&#39;ve been working with so far:\r\n\r\n** note, I am not returning the BASE64 text from the encrypt method, and I am not base64 un-encoding in the decrypt method because I was trying to see if I was making a mistake in the BASE64 part of the puzzle.\r\n\r\n    public class TripleDESTest {\r\n         \r\n        public static void main(String[] args) {\r\n    \t\r\n    \t    String text = &quot;kyle boon&quot;;\r\n    \t\r\n    \t    byte[] codedtext = new TripleDESTest().encrypt(text);\r\n    \t    String decodedtext  = new TripleDESTest().decrypt(codedtext);\r\n    \t\r\n        \tSystem.out.println(codedtext);\r\n        \tSystem.out.println(decodedtext);\r\n        }\r\n    \r\n        public byte[] encrypt(String message) {\r\n    \t    try {\r\n\t\t\t    final MessageDigest md = MessageDigest.getInstance(&quot;md5&quot;);\r\n\t            final byte[] digestOfPassword = md.digest(&quot;HG58YZ3CR9&quot;.getBytes(&quot;utf-8&quot;));\r\n    \t        final byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\r\n\t            for (int j = 0,  k = 16; j &lt; 8;)\r\n\t            {\r\n\t                keyBytes[k++] = keyBytes[j++];\r\n\t            }\r\n\t        \r\n\t            final SecretKey key = new SecretKeySpec(keyBytes, &quot;DESede&quot;);\r\n\t            final IvParameterSpec iv = new IvParameterSpec(new byte[8]);\r\n\t            final Cipher cipher = Cipher.getInstance(&quot;DESede/CBC/PKCS5Padding&quot;);\r\n\t            cipher.init(Cipher.ENCRYPT_MODE, key, iv);\r\n\t \r\n\t            final byte[] plainTextBytes = message.getBytes(&quot;utf-8&quot;);\r\n\t            final byte[] cipherText = cipher.doFinal(plainTextBytes);\r\n\t            final String encodedCipherText = new sun.misc.BASE64Encoder().encode(cipherText);\r\n\t        \r\n\t            return cipherText;    \r\n            }\r\n            catch (java.security.InvalidAlgorithmParameterException e) { System.out.println(&quot;Invalid Algorithm&quot;); }\r\n            catch (javax.crypto.NoSuchPaddingException e) { System.out.println(&quot;No Such Padding&quot;); }\r\n            catch (java.security.NoSuchAlgorithmException e) { System.out.println(&quot;No Such Algorithm&quot;); }\r\n            catch (java.security.InvalidKeyException e) { System.out.println(&quot;Invalid Key&quot;); }\r\n            catch (BadPaddingException e) { System.out.println(&quot;Invalid Key&quot;);}\r\n            catch (IllegalBlockSizeException e) { System.out.println(&quot;Invalid Key&quot;);}\r\n            catch (UnsupportedEncodingException e) { System.out.println(&quot;Invalid Key&quot;);}\r\n        \r\n            return null;\r\n        }\r\n    \r\n        public String decrypt(byte[] message) {\r\n    \t    try\r\n\t\t    {\r\n\t\t\t    final MessageDigest md = MessageDigest.getInstance(&quot;md5&quot;);\r\n\t            final byte[] digestOfPassword = md.digest(&quot;HG58YZ3CR9&quot;.getBytes(&quot;utf-8&quot;));\r\n\t            final byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\r\n\t            for (int j = 0,  k = 16; j &lt; 8;)\r\n\t            {\r\n\t                keyBytes[k++] = keyBytes[j++];\r\n\t            }\r\n\t        \r\n\t            final SecretKey key = new SecretKeySpec(keyBytes, &quot;DESede&quot;);\r\n\t            final IvParameterSpec iv = new IvParameterSpec(new byte[8]);\r\n\t            final Cipher decipher = Cipher.getInstance(&quot;DESede/CBC/PKCS5Padding&quot;);\r\n\t            decipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n\t \r\n\t            //final byte[] encData = new sun.misc.BASE64Decoder().decodeBuffer(message);\r\n\t            final byte[] plainText = decipher.doFinal(message);\r\n\t        \t        \r\n\t            return plainText.toString();            \r\n            }\r\n            catch (java.security.InvalidAlgorithmParameterException e) { System.out.println(&quot;Invalid Algorithm&quot;); }\r\n            catch (javax.crypto.NoSuchPaddingException e) { System.out.println(&quot;No Such Padding&quot;); }\r\n            catch (java.security.NoSuchAlgorithmException e) { System.out.println(&quot;No Such Algorithm&quot;); }\r\n            catch (java.security.InvalidKeyException e) { System.out.println(&quot;Invalid Key&quot;); }\r\n            catch (BadPaddingException e) { System.out.println(&quot;Invalid Key&quot;);}\r\n            catch (IllegalBlockSizeException e) { System.out.println(&quot;Invalid Key&quot;);}\r\n            catch (UnsupportedEncodingException e) { System.out.println(&quot;Invalid Key&quot;);}     \r\n            catch (IOException e) {\r\n\t\t\t    // TODO Auto-generated catch block\r\n\t\t\t    e.printStackTrace();\r\n\t\t    }\r\n        \r\n            return null;\r\n        }\r\n    }","title":"How do I use 3DES encryption/decryption in Java?","body":"<p>Every method I write to encode a string in Java using 3DES can't be decrypted back to the original string.  Does anyone have a simple code snippet that can just encode and then decode the string back to the original string?</p>\n\n<p>I know I'm making a very silly mistake somewhere in this code. Here's what I've been working with so far:</p>\n\n<p>** note, I am not returning the BASE64 text from the encrypt method, and I am not base64 un-encoding in the decrypt method because I was trying to see if I was making a mistake in the BASE64 part of the puzzle.</p>\n\n<pre><code>public class TripleDESTest {\n\n    public static void main(String[] args) {\n\n        String text = \"kyle boon\";\n\n        byte[] codedtext = new TripleDESTest().encrypt(text);\n        String decodedtext  = new TripleDESTest().decrypt(codedtext);\n\n        System.out.println(codedtext);\n        System.out.println(decodedtext);\n    }\n\n    public byte[] encrypt(String message) {\n        try {\n            final MessageDigest md = MessageDigest.getInstance(\"md5\");\n            final byte[] digestOfPassword = md.digest(\"HG58YZ3CR9\".getBytes(\"utf-8\"));\n            final byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\n            for (int j = 0,  k = 16; j &lt; 8;)\n            {\n                keyBytes[k++] = keyBytes[j++];\n            }\n\n            final SecretKey key = new SecretKeySpec(keyBytes, \"DESede\");\n            final IvParameterSpec iv = new IvParameterSpec(new byte[8]);\n            final Cipher cipher = Cipher.getInstance(\"DESede/CBC/PKCS5Padding\");\n            cipher.init(Cipher.ENCRYPT_MODE, key, iv);\n\n            final byte[] plainTextBytes = message.getBytes(\"utf-8\");\n            final byte[] cipherText = cipher.doFinal(plainTextBytes);\n            final String encodedCipherText = new sun.misc.BASE64Encoder().encode(cipherText);\n\n            return cipherText;    \n        }\n        catch (java.security.InvalidAlgorithmParameterException e) { System.out.println(\"Invalid Algorithm\"); }\n        catch (javax.crypto.NoSuchPaddingException e) { System.out.println(\"No Such Padding\"); }\n        catch (java.security.NoSuchAlgorithmException e) { System.out.println(\"No Such Algorithm\"); }\n        catch (java.security.InvalidKeyException e) { System.out.println(\"Invalid Key\"); }\n        catch (BadPaddingException e) { System.out.println(\"Invalid Key\");}\n        catch (IllegalBlockSizeException e) { System.out.println(\"Invalid Key\");}\n        catch (UnsupportedEncodingException e) { System.out.println(\"Invalid Key\");}\n\n        return null;\n    }\n\n    public String decrypt(byte[] message) {\n        try\n        {\n            final MessageDigest md = MessageDigest.getInstance(\"md5\");\n            final byte[] digestOfPassword = md.digest(\"HG58YZ3CR9\".getBytes(\"utf-8\"));\n            final byte[] keyBytes = Arrays.copyOf(digestOfPassword, 24);\n            for (int j = 0,  k = 16; j &lt; 8;)\n            {\n                keyBytes[k++] = keyBytes[j++];\n            }\n\n            final SecretKey key = new SecretKeySpec(keyBytes, \"DESede\");\n            final IvParameterSpec iv = new IvParameterSpec(new byte[8]);\n            final Cipher decipher = Cipher.getInstance(\"DESede/CBC/PKCS5Padding\");\n            decipher.init(Cipher.DECRYPT_MODE, key, iv);\n\n            //final byte[] encData = new sun.misc.BASE64Decoder().decodeBuffer(message);\n            final byte[] plainText = decipher.doFinal(message);\n\n            return plainText.toString();            \n        }\n        catch (java.security.InvalidAlgorithmParameterException e) { System.out.println(\"Invalid Algorithm\"); }\n        catch (javax.crypto.NoSuchPaddingException e) { System.out.println(\"No Such Padding\"); }\n        catch (java.security.NoSuchAlgorithmException e) { System.out.println(\"No Such Algorithm\"); }\n        catch (java.security.InvalidKeyException e) { System.out.println(\"Invalid Key\"); }\n        catch (BadPaddingException e) { System.out.println(\"Invalid Key\");}\n        catch (IllegalBlockSizeException e) { System.out.println(\"Invalid Key\");}\n        catch (UnsupportedEncodingException e) { System.out.println(\"Invalid Key\");}     \n        catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":10872583,"reputation":143,"user_id":7993986,"display_name":"IHaveHandedInMyResignation"},"score":0,"creation_date":1655123361,"post_id":67437248,"comment_id":128248602,"body_markdown":"have you managed to solve this issue? Have you any replacement for OAuth2SecurityExpressionMethods?","body":"have you managed to solve this issue? Have you any replacement for OAuth2SecurityExpressionMethods?"},{"owner":{"account_id":14282929,"reputation":333,"user_id":10317086,"display_name":"EnGoPy"},"score":0,"creation_date":1655206063,"post_id":67437248,"comment_id":128272105,"body_markdown":"I&#39;ve changed project year ago. I couldn&#39;t manage it in &quot;good&quot; way. As a workaround I&#39;ve modified one of servlet filter. As I remember I&#39;ve been modifying access token on fly and put `scope` values into `roles` or `authority` map. Then I&#39;ve used @hasRole(&#39;&#39;) annotation. During testing it was working, but on the production it was only microservice I haven&#39;t upgraded with newer Spring :(","body":"I&#39;ve changed project year ago. I couldn&#39;t manage it in &quot;good&quot; way. As a workaround I&#39;ve modified one of servlet filter. As I remember I&#39;ve been modifying access token on fly and put <code>scope</code> values into <code>roles</code> or <code>authority</code> map. Then I&#39;ve used @hasRole(&#39;&#39;) annotation. During testing it was working, but on the production it was only microservice I haven&#39;t upgraded with newer Spring :("}],"answers":[{"tags":[],"owner":{"account_id":16282,"reputation":4128,"user_id":35274,"accept_rate":78,"display_name":"Philippe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641421794,"creation_date":1641421794,"answer_id":70600344,"question_id":67437248,"body_markdown":"Per the [OAuth 2.0 Migration Guide][1]:\r\n\r\n&gt; Spring Security converts scopes that follow the granted authority naming convention. To authorize requests or methods based on scope, you write an expression like `hasAuthority(&quot;SCOPE_scope&quot;)`.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide","title":"Use @PreAuthorize(&quot;#oauth2.hasScope(&#39;internal&#39;)&quot;) with SpringSecurity 5.4.5","body":"<p>Per the <a href=\"https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide\" rel=\"nofollow noreferrer\">OAuth 2.0 Migration Guide</a>:</p>\n<blockquote>\n<p>Spring Security converts scopes that follow the granted authority naming convention. To authorize requests or methods based on scope, you write an expression like <code>hasAuthority(&quot;SCOPE_scope&quot;)</code>.</p>\n</blockquote>\n"}],"owner":{"account_id":14282929,"reputation":333,"user_id":10317086,"display_name":"EnGoPy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4228,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1641421794,"creation_date":1620399374,"question_id":67437248,"body_markdown":"I&#39;m still learning and try to understand security topics used in Spring.\r\n\r\nI&#39;m working on microservices applicatin where at the startup every service is connecting to OAuth service and get his `bearer token`. Every service has got claim `&quot;scope&quot;: [&quot;internal&quot;]`.&lt;br&gt;\r\nWhile services are talking to each others, every endpoint is protected with `@PreAuthorize` annotation.\r\n\r\nWhat is important- currently I move all project from SpringBoot ver.1.5.9 to the 2.4.4 and because of that I spent a lot of time to manage migrate all dependencies required to work with that one boot version.\r\nAt this point I use Spring Security 5.4.5.&lt;br&gt;&lt;br&gt;\r\nWhen some service is calling another one, an error appeared:&lt;br&gt;\r\n`Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1011E: Method call: Attempted to call method hasScope(java.lang.String) on null context object`\r\n\r\nWhat I uderstand is that I haven&#39;t got `OAuth2SecurityExpressionMethods` instance or it&#39;s created with `null` value.\r\n\r\nThe full stack tracke below:\r\n\r\n    java.lang.IllegalArgumentException: Failed to evaluate expression &#39;#oauth2.hasScope(&#39;internal&#39;)&#39;\r\n\tat org.springframework.security.access.expression.ExpressionUtils.evaluateAsBoolean(ExpressionUtils.java:33)\r\n\tat org.springframework.security.access.expression.method.ExpressionBasedPreInvocationAdvice.before(ExpressionBasedPreInvocationAdvice.java:51)\r\n\tat org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:71)\r\n\tat org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:42)\r\n\tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:60)\r\n\tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:238)\r\n\tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:208)\r\n\tat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:58)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n\tat pl.company.management.controller.v4.Internal_ControllerV4$$EnhancerBySpringCGLIB$$c7901e5a.getSomeObjectToLoad(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:182)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.cloud.sleuth.instrument.web.servlet.TracingFilter.doFilter(TracingFilter.java:89)\r\n\tat org.springframework.cloud.sleuth.autoconfig.instrument.web.LazyTracingFilter.doFilter(TraceWebServletConfiguration.java:114)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat pl.company.common.configuration.SimpleCorsFilter.doFilter(SimpleCorsFilter.java:32)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1011E: Method call: Attempted to call method hasScope(java.lang.String) on null context object\r\n\tat org.springframework.expression.spel.ast.MethodReference.throwIfNotNullSafe(MethodReference.java:154)\r\n\tat org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:83)\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:70)\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:91)\r\n\tat org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:117)\r\n\tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:308)\r\n\tat org.springframework.security.access.expression.ExpressionUtils.evaluateAsBoolean(ExpressionUtils.java:30)\r\n\t... 104 common frames omitted\r\n\r\nIn the beginning I thought that maybe I don&#39;t have `oauth2.hasScope` library with that method, but there is in dependencies, however whole class is annotated as a `@Deprecated`. &lt;br&gt;\r\n1. Could that make that problem? \r\n2. How can I configure or set Spring to use `OAuth2SecurityExpressionMethods` class?&lt;br&gt;\r\n3. Can I use OAuth and whole that process like with previous Spring version?\r\n\r\n","title":"Use @PreAuthorize(&quot;#oauth2.hasScope(&#39;internal&#39;)&quot;) with SpringSecurity 5.4.5","body":"<p>I'm still learning and try to understand security topics used in Spring.</p>\n<p>I'm working on microservices applicatin where at the startup every service is connecting to OAuth service and get his <code>bearer token</code>. Every service has got claim <code>&quot;scope&quot;: [&quot;internal&quot;]</code>.<br>\nWhile services are talking to each others, every endpoint is protected with <code>@PreAuthorize</code> annotation.</p>\n<p>What is important- currently I move all project from SpringBoot ver.1.5.9 to the 2.4.4 and because of that I spent a lot of time to manage migrate all dependencies required to work with that one boot version.\nAt this point I use Spring Security 5.4.5.<br><br>\nWhen some service is calling another one, an error appeared:<br>\n<code>Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1011E: Method call: Attempted to call method hasScope(java.lang.String) on null context object</code></p>\n<p>What I uderstand is that I haven't got <code>OAuth2SecurityExpressionMethods</code> instance or it's created with <code>null</code> value.</p>\n<p>The full stack tracke below:</p>\n<pre><code>java.lang.IllegalArgumentException: Failed to evaluate expression '#oauth2.hasScope('internal')'\nat org.springframework.security.access.expression.ExpressionUtils.evaluateAsBoolean(ExpressionUtils.java:33)\nat org.springframework.security.access.expression.method.ExpressionBasedPreInvocationAdvice.before(ExpressionBasedPreInvocationAdvice.java:51)\nat org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:71)\nat org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:42)\nat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:60)\nat org.springframework.security.access.intercept.AbstractSecurityInterceptor.attemptAuthorization(AbstractSecurityInterceptor.java:238)\nat org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:208)\nat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:58)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\nat pl.company.management.controller.v4.Internal_ControllerV4$$EnhancerBySpringCGLIB$$c7901e5a.getSomeObjectToLoad(&lt;generated&gt;)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:182)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.cloud.sleuth.instrument.web.servlet.TracingFilter.doFilter(TracingFilter.java:89)\nat org.springframework.cloud.sleuth.autoconfig.instrument.web.LazyTracingFilter.doFilter(TraceWebServletConfiguration.java:114)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat pl.company.common.configuration.SimpleCorsFilter.doFilter(SimpleCorsFilter.java:32)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1707)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:748)\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1011E: Method call: Attempted to call method hasScope(java.lang.String) on null context object\nat org.springframework.expression.spel.ast.MethodReference.throwIfNotNullSafe(MethodReference.java:154)\nat org.springframework.expression.spel.ast.MethodReference.getValueRef(MethodReference.java:83)\nat org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:70)\nat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:91)\nat org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:117)\nat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:308)\nat org.springframework.security.access.expression.ExpressionUtils.evaluateAsBoolean(ExpressionUtils.java:30)\n... 104 common frames omitted\n</code></pre>\n<p>In the beginning I thought that maybe I don't have <code>oauth2.hasScope</code> library with that method, but there is in dependencies, however whole class is annotated as a <code>@Deprecated</code>. <br></p>\n<ol>\n<li>Could that make that problem?</li>\n<li>How can I configure or set Spring to use <code>OAuth2SecurityExpressionMethods</code> class?<br></li>\n<li>Can I use OAuth and whole that process like with previous Spring version?</li>\n</ol>\n"},{"tags":["java","algorithm","data-structures","tree"],"comments":[{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":0,"creation_date":1641389035,"post_id":70592334,"comment_id":124791394,"body_markdown":"Can you explain how the coordinate of `5` is `(0,0)`. *the x coordinate 0 belongs to the left most Node in the entire tree* - `5` is not the left most node in the entire tree.","body":"Can you explain how the coordinate of <code>5</code> is <code>(0,0)</code>. <i>the x coordinate 0 belongs to the left most Node in the entire tree</i> - <code>5</code> is not the left most node in the entire tree."},{"owner":{"account_id":23829305,"reputation":11,"user_id":17835815,"display_name":"M0R3"},"score":0,"creation_date":1641390258,"post_id":70592334,"comment_id":124791904,"body_markdown":"Yeah since the node 5 doesn’t have any left sons and all the other notes are right decendents of the node it is supposed to be left most element","body":"Yeah since the node 5 doesn’t have any left sons and all the other notes are right decendents of the node it is supposed to be left most element"}],"answers":[{"tags":[],"owner":{"account_id":86748,"reputation":11863,"user_id":241013,"display_name":"Sorin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641421153,"creation_date":1641421153,"answer_id":70600255,"question_id":70592334,"body_markdown":"```\r\npublic static int setCoordinates (Node node, int level, int nextX){\r\n            if (node == null) {\r\n                return;\r\n            }\r\n            else {\r\n                nextX = setCoordinates(node.leftNode, level + 1, nextX);\r\n                node.y = level;\r\n                node.x = nextX;\r\n                \r\n                System.out.println(&quot;x :: &quot; + node.x + &quot; y ::  &quot; + node.y + &quot;  node   ::&quot; + node.value);\r\n\r\n\r\n                nextX = setCoordinates(node.rightNode, level +1 , node.x + 1);\r\n                return nextX;\r\n            }\r\n        }\r\n```\r\n\r\nYou need to keep track of how many nodes are to the left. There might be some from another left branch on an ancestor.\r\n\r\nHowever if you do an in-order traversal you will visit the nodes in the correct order.","title":"How to find x coordinate in a tree?","body":"<pre><code>public static int setCoordinates (Node node, int level, int nextX){\n            if (node == null) {\n                return;\n            }\n            else {\n                nextX = setCoordinates(node.leftNode, level + 1, nextX);\n                node.y = level;\n                node.x = nextX;\n                \n                System.out.println(&quot;x :: &quot; + node.x + &quot; y ::  &quot; + node.y + &quot;  node   ::&quot; + node.value);\n\n\n                nextX = setCoordinates(node.rightNode, level +1 , node.x + 1);\n                return nextX;\n            }\n        }\n</code></pre>\n<p>You need to keep track of how many nodes are to the left. There might be some from another left branch on an ancestor.</p>\n<p>However if you do an in-order traversal you will visit the nodes in the correct order.</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641421612,"creation_date":1641421612,"answer_id":70600328,"question_id":70592334,"body_markdown":"There are three issues:\r\n\r\n* In the first call of `setCoordinates`, you should not pass 0 as last argument, as the returned value should be at least `upperX`. Change to:\r\n\r\n    ```\r\n    setCoordinates(node.leftNode, level + 1, upperX);\r\n    ```\r\n\r\n* In the second call of `setCoordinates`, you should not pass `node.x`, as that value is already consumed. You need to pass the *minimum* value that can be attributed, which is one more:\r\n\r\n    ```\r\n    setCoordinates(node.rightNode, level + 1, node.x + 1); // &lt;--\r\n    ```\r\n\r\n* In `xCordinate` you should never return a value less than `upperX`, so when the node is `null` don&#39;t return 0, but:\r\n\r\n    ```\r\n    if (n == null){\r\n        return upperX;\r\n    }\r\n    ```\r\n\r\nWith these changes it will work. However, this is inefficient, as you perform a subtree traversal from *every* node with `xCordinate`, so this will visit the same node potentially many times. You should revise your algorithm so it can do the job in one sweep. For this you need an in-order traversal.\r\n","title":"How to find x coordinate in a tree?","body":"<p>There are three issues:</p>\n<ul>\n<li><p>In the first call of <code>setCoordinates</code>, you should not pass 0 as last argument, as the returned value should be at least <code>upperX</code>. Change to:</p>\n<pre><code>setCoordinates(node.leftNode, level + 1, upperX);\n</code></pre>\n</li>\n<li><p>In the second call of <code>setCoordinates</code>, you should not pass <code>node.x</code>, as that value is already consumed. You need to pass the <em>minimum</em> value that can be attributed, which is one more:</p>\n<pre><code>setCoordinates(node.rightNode, level + 1, node.x + 1); // &lt;--\n</code></pre>\n</li>\n<li><p>In <code>xCordinate</code> you should never return a value less than <code>upperX</code>, so when the node is <code>null</code> don't return 0, but:</p>\n<pre><code>if (n == null){\n    return upperX;\n}\n</code></pre>\n</li>\n</ul>\n<p>With these changes it will work. However, this is inefficient, as you perform a subtree traversal from <em>every</em> node with <code>xCordinate</code>, so this will visit the same node potentially many times. You should revise your algorithm so it can do the job in one sweep. For this you need an in-order traversal.</p>\n"}],"owner":{"account_id":23829305,"reputation":11,"user_id":17835815,"display_name":"M0R3"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641421612,"creation_date":1641383215,"question_id":70592334,"body_markdown":"So i have a program and need to get the location of a node in the form of coordinates x and y , depending on it&#39;s location in a tree, meaning that the x coordinate 0 belongs to the left most Node in the entire tree. For example for a tree like this :\r\n\r\n        5\r\n          \\\r\n            2\r\n           /\r\n          1\r\n         /   \r\n        4\r\n       / \r\n      3 \r\n\r\nthe coordinates should be :\r\n \r\n| node | x | y |\r\n| ---- | - | - |\r\n| 5 | 0 | 0 |\r\n| 2 | 4 | 1 |\r\n| 1 | 3 | 2 |\r\n| 4 | 2 | 3 |\r\n| 3 | 1 | 4 |\r\n\r\n\r\nwhile my code gets me:\r\n\r\n| node | x | y |\r\n| ---- | - | - |\r\n| 5 | 0 | 0 |\r\n| 2 | 3 | 1 |\r\n| 1 | 2 | 2 |\r\n| 4 | 1 | 3 |\r\n| 3 | 0 | 4 |\r\n\r\n\r\nMy code :\r\n```\r\nstatic class Node {\r\n        \r\n        Integer value;\r\n        Node leftNode;\r\n        Node rightNode;\r\n        Integer x;\r\n        Integer y;\r\n\r\n        Node ( Integer value, Node left, Node right) {\r\n \r\n            this.value = value;\r\n            leftNode = left;\r\n            rightNode = right;\r\n            this.x = 0;\r\n            this.y = 0;\r\n\r\n        }\r\n}\r\n\r\npublic static void setCoordinates (Node node, int level, int upperX){\r\n            if (node == null) {\r\n                return;\r\n            }\r\n            else {\r\n                node.y = level;\r\n                node.x = xCordinate(node.leftNode, upperX) ;\r\n                \r\n                System.out.println(&quot;x :: &quot; + node.x + &quot; y ::  &quot; + node.y + &quot;  node   ::&quot; + node.value);\r\n\r\n                setCoordinates(node.leftNode, level + 1, 0);\r\n                setCoordinates(node.rightNode, level +1 , node.x);\r\n            }\r\n        }\r\npublic static void setCoordinates (Node root) {\r\n   // root is a variable defined in main w\r\n            Node n = root;\r\n            int lvl = 0;\r\n            setCoordinates(n, lvl, 0); \r\n        }\r\n\r\npublic static int xCordinate (Node n , Integer upperX) {\r\n            if (n == null){\r\n                return 0;\r\n            }\r\n            else {\r\n                int nrOfLeft =  xCordinate(n.leftNode,0);\r\n                int nrOfRight = xCordinate(n.rightNode,0);\r\n                return nrOfLeft + nrOfRight + 1 + upperX;\r\n            }\r\n        }\r\n\r\n\r\n```\r\ncan somebody help me get the correct x coordinate ? The y coordinate isn&#39;t giving me any trouble.\r\nThank you for your help !!","title":"How to find x coordinate in a tree?","body":"<p>So i have a program and need to get the location of a node in the form of coordinates x and y , depending on it's location in a tree, meaning that the x coordinate 0 belongs to the left most Node in the entire tree. For example for a tree like this :</p>\n<pre><code>    5\n      \\\n        2\n       /\n      1\n     /   \n    4\n   / \n  3 \n</code></pre>\n<p>the coordinates should be :</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>node</th>\n<th>x</th>\n<th>y</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>5</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>2</td>\n<td>4</td>\n<td>1</td>\n</tr>\n<tr>\n<td>1</td>\n<td>3</td>\n<td>2</td>\n</tr>\n<tr>\n<td>4</td>\n<td>2</td>\n<td>3</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1</td>\n<td>4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>while my code gets me:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>node</th>\n<th>x</th>\n<th>y</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>5</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>2</td>\n<td>3</td>\n<td>1</td>\n</tr>\n<tr>\n<td>1</td>\n<td>2</td>\n<td>2</td>\n</tr>\n<tr>\n<td>4</td>\n<td>1</td>\n<td>3</td>\n</tr>\n<tr>\n<td>3</td>\n<td>0</td>\n<td>4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>My code :</p>\n<pre><code>static class Node {\n        \n        Integer value;\n        Node leftNode;\n        Node rightNode;\n        Integer x;\n        Integer y;\n\n        Node ( Integer value, Node left, Node right) {\n \n            this.value = value;\n            leftNode = left;\n            rightNode = right;\n            this.x = 0;\n            this.y = 0;\n\n        }\n}\n\npublic static void setCoordinates (Node node, int level, int upperX){\n            if (node == null) {\n                return;\n            }\n            else {\n                node.y = level;\n                node.x = xCordinate(node.leftNode, upperX) ;\n                \n                System.out.println(&quot;x :: &quot; + node.x + &quot; y ::  &quot; + node.y + &quot;  node   ::&quot; + node.value);\n\n                setCoordinates(node.leftNode, level + 1, 0);\n                setCoordinates(node.rightNode, level +1 , node.x);\n            }\n        }\npublic static void setCoordinates (Node root) {\n   // root is a variable defined in main w\n            Node n = root;\n            int lvl = 0;\n            setCoordinates(n, lvl, 0); \n        }\n\npublic static int xCordinate (Node n , Integer upperX) {\n            if (n == null){\n                return 0;\n            }\n            else {\n                int nrOfLeft =  xCordinate(n.leftNode,0);\n                int nrOfRight = xCordinate(n.rightNode,0);\n                return nrOfLeft + nrOfRight + 1 + upperX;\n            }\n        }\n\n\n</code></pre>\n<p>can somebody help me get the correct x coordinate ? The y coordinate isn't giving me any trouble.\nThank you for your help !!</p>\n"},{"tags":["java","arrays","primitive","abstract-data-type"],"comments":[{"owner":{"account_id":6297031,"reputation":1280,"user_id":4892907,"accept_rate":100,"display_name":"xxxvodnikxxx"},"score":0,"creation_date":1546958548,"post_id":54075269,"comment_id":95020324,"body_markdown":"Well, from my point of view, it doesnt matter at all, how you will call it, `if you will make instance of class, then you are doing initialization of an object`, and  you need allocate the memory anyway. So, theoretically and on the pure abstract level, its being both in this case, I would say. I dont think so there is any common or right answer.","body":"Well, from my point of view, it doesnt matter at all, how you will call it, <code>if you will make instance of class, then you are doing initialization of an object</code>, and  you need allocate the memory anyway. So, theoretically and on the pure abstract level, its being both in this case, I would say. I dont think so there is any common or right answer."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1547284204,"post_id":54075269,"comment_id":95146473,"body_markdown":"An array type is **always** an object, even if its *component type* is a primitive, see [JLS, chapter 10](https://docs.oracle.com/javase/specs/jls/se11/html/jls-10.html).","body":"An array type is <b>always</b> an object, even if its <i>component type</i> is a primitive, see <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-10.html\" rel=\"nofollow noreferrer\">JLS, chapter 10</a>."}],"answers":[{"tags":[],"owner":{"account_id":1515643,"reputation":2068,"user_id":1416694,"display_name":"Prasad Karunagoda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1547281601,"creation_date":1547281601,"answer_id":54157894,"question_id":54075269,"body_markdown":"In Java , when we instantiate a primitive array (like `new int[10]`), items in the array are initialized with default value of that primitive. (Default value for `int` is `0`, default value for `boolean` is `false` etc.)\r\n\r\nWhen we instantiate an object array (e.g. `String` array), items in the array are initialized with `null`.\r\n\r\nSee below program and its output.\r\n\r\n    public class PrimitiveArray\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        int[] intArray = new int[10];\r\n        boolean[] booleanArray = new boolean[10];\r\n        String[] stringArray = new String[10];\r\n    \r\n        System.out.println(&quot;intArray[3] = &quot; + intArray[3]);\r\n        System.out.println(&quot;booleanArray[3] = &quot; + booleanArray[3]);\r\n        System.out.println(&quot;stringArray[3] = &quot; + stringArray[3]);\r\n      }\r\n    }\r\n\r\nOutput is:  \r\n`intArray[3] = 0`  \r\n`booleanArray[3] = false`  \r\n`stringArray[3] = null`\r\n","title":"Can array of primitive data type be instantiated?","body":"<p>In Java , when we instantiate a primitive array (like <code>new int[10]</code>), items in the array are initialized with default value of that primitive. (Default value for <code>int</code> is <code>0</code>, default value for <code>boolean</code> is <code>false</code> etc.)</p>\n\n<p>When we instantiate an object array (e.g. <code>String</code> array), items in the array are initialized with <code>null</code>.</p>\n\n<p>See below program and its output.</p>\n\n<pre><code>public class PrimitiveArray\n{\n  public static void main(String[] args)\n  {\n    int[] intArray = new int[10];\n    boolean[] booleanArray = new boolean[10];\n    String[] stringArray = new String[10];\n\n    System.out.println(\"intArray[3] = \" + intArray[3]);\n    System.out.println(\"booleanArray[3] = \" + booleanArray[3]);\n    System.out.println(\"stringArray[3] = \" + stringArray[3]);\n  }\n}\n</code></pre>\n\n<p>Output is:<br>\n<code>intArray[3] = 0</code><br>\n<code>booleanArray[3] = false</code><br>\n<code>stringArray[3] = null</code></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641421461,"creation_date":1547287038,"answer_id":54158482,"question_id":54075269,"body_markdown":"&gt; Can array of primitive data type be instantiated?\r\n\r\nYes.\r\n\r\n&gt; Does the `new` keyword in `new int[20]` instantiate or initiate?\r\n\r\nIn that example, it both *instantiates* the primitive array and *initializes* it&lt;sup&gt;1&lt;/sup&gt; to the *default* value for the primitive type; i.e. zero for an array of a primitive numeric type and `false` for an array of `boolean`.\r\n\r\nOn the other hand:\r\n\r\n    int intArray[];\r\n\r\nis *declaring* an array variable and not either initializing the variable, or instantiating an array.  If that is a local variable declaration, the compiler won&#39;t let you use the variable until it is assigned to.  If it is a field, then the variable will be default initialized to `null`; i.e. no array is instantiated.\r\n\r\nJava does not allow a program to access a variable or array element that has not been initialized, either explicitly or by *default* initialization.  This is a fundamental property of the language.\r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - The correct term is *initialize* NOT *initiate*.  Initiate (in English) means either &quot;to begin&quot; (e.g. an action or process) or &quot;to admit (someone) into a secret or obscure society or group, typically with a ritual.&quot;. This not the correct meaning in this context.&lt;/sup&gt;","title":"Can array of primitive data type be instantiated?","body":"<blockquote>\n<p>Can array of primitive data type be instantiated?</p>\n</blockquote>\n<p>Yes.</p>\n<blockquote>\n<p>Does the <code>new</code> keyword in <code>new int[20]</code> instantiate or initiate?</p>\n</blockquote>\n<p>In that example, it both <em>instantiates</em> the primitive array and <em>initializes</em> it<sup>1</sup> to the <em>default</em> value for the primitive type; i.e. zero for an array of a primitive numeric type and <code>false</code> for an array of <code>boolean</code>.</p>\n<p>On the other hand:</p>\n<pre><code>int intArray[];\n</code></pre>\n<p>is <em>declaring</em> an array variable and not either initializing the variable, or instantiating an array.  If that is a local variable declaration, the compiler won't let you use the variable until it is assigned to.  If it is a field, then the variable will be default initialized to <code>null</code>; i.e. no array is instantiated.</p>\n<p>Java does not allow a program to access a variable or array element that has not been initialized, either explicitly or by <em>default</em> initialization.  This is a fundamental property of the language.</p>\n<hr />\n<p><sup>1 - The correct term is <em>initialize</em> NOT <em>initiate</em>.  Initiate (in English) means either &quot;to begin&quot; (e.g. an action or process) or &quot;to admit (someone) into a secret or obscure society or group, typically with a ritual.&quot;. This not the correct meaning in this context.</sup></p>\n"}],"owner":{"account_id":12204256,"reputation":121,"user_id":8907757,"display_name":"Hisham Hafeel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54157894,"answer_count":2,"score":1,"last_activity_date":1641421461,"creation_date":1546867362,"question_id":54075269,"body_markdown":"When creating an array of a class in java there are three steps: Declaration, instantiation and initiation.\r\nBut when creating an array of **primitive data types**, does the *new* keyword instantiate or initiate?\r\n\r\nI found it confusing as in many places the word instantiate is used only for array of a class/classes. So, i want to know if the step of instantiating is also used for array of **PRIMITIVE** data type. Or, is it that the whole statement of initiating an array is as shown below.\r\n\r\n\r\n\r\n    int intArray[];    //declaring array\r\n    intArray = new int[20];  // allocating memory to array\r\n\r\n\r\n\r\n\r\n ","title":"Can array of primitive data type be instantiated?","body":"<p>When creating an array of a class in java there are three steps: Declaration, instantiation and initiation.\nBut when creating an array of <strong>primitive data types</strong>, does the <em>new</em> keyword instantiate or initiate?</p>\n\n<p>I found it confusing as in many places the word instantiate is used only for array of a class/classes. So, i want to know if the step of instantiating is also used for array of <strong>PRIMITIVE</strong> data type. Or, is it that the whole statement of initiating an array is as shown below.</p>\n\n<pre><code>int intArray[];    //declaring array\nintArray = new int[20];  // allocating memory to array\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8285,"page":1707,"page_size":100}
