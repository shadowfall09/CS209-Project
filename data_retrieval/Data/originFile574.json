{"items":[{"tags":["java","methods"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1678896254,"post_id":75747196,"comment_id":133622966,"body_markdown":"Did you save the Drawer class?","body":"Did you save the Drawer class?"},{"owner":{"account_id":26673465,"reputation":11,"user_id":20284574,"display_name":"Angel Morales Romero"},"score":0,"creation_date":1678903421,"post_id":75747196,"comment_id":133625095,"body_markdown":"Yes, I saved it","body":"Yes, I saved it"},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1678931409,"post_id":75747196,"comment_id":133630393,"body_markdown":"How do you compile the files? Are you using IDE?","body":"How do you compile the files? Are you using IDE?"}],"answers":[{"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1678896702,"post_id":75747255,"comment_id":133623097,"body_markdown":"You don&#39;t need an import since `Drawer` is in the same package as `Main`.","body":"You don&#39;t need an import since <code>Drawer</code> is in the same package as <code>Main</code>."},{"owner":{"account_id":26673465,"reputation":11,"user_id":20284574,"display_name":"Angel Morales Romero"},"score":0,"creation_date":1678903337,"post_id":75747255,"comment_id":133625072,"body_markdown":"It is in the same package","body":"It is in the same package"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1678905277,"post_id":75747255,"comment_id":133625550,"body_markdown":"And both classes (Java sources) are in the same directory? Like dsaa/lab01/Main.java and dsaa/lab01/Drawer.java","body":"And both classes (Java sources) are in the same directory? Like dsaa/lab01/Main.java and dsaa/lab01/Drawer.java"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678896382,"creation_date":1678896382,"answer_id":75747255,"question_id":75747196,"body_markdown":"Please add an import statement to the Main class:\r\n\r\n    import dsaa.lab01.Drawer;\r\n\r\n","title":"Error when calling a class method from another class","body":"<p>Please add an import statement to the Main class:</p>\n<pre><code>import dsaa.lab01.Drawer;\n</code></pre>\n"}],"owner":{"account_id":26673465,"reputation":11,"user_id":20284574,"display_name":"Angel Morales Romero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678896382,"creation_date":1678896049,"question_id":75747196,"body_markdown":"I&#39;m trying to call a class method called drawPyramid that is in a class called Drawer from another class called Main, but I get the following error: Main.java:38: error: cannot find symbol Drawer.drawPyramid(value);\r\n\r\n\r\nMain class\r\n```\r\npackage dsaa.lab01;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n\tstatic Scanner scan;\r\n\r\n\t/***\r\n\t * commands:\r\n\t * py size\r\n\t *   draw a pyramid with size\r\n\t * ct size\r\n\t *   draw a christmas tree with size\r\n\t * ld documentName\r\n\t *   load document from standard input line by line. Last line consists of only sequence &quot;eod&quot;,\r\n\t *   which means end of document\r\n\t * ha\r\n\t *   halt program and finish execution\r\n\t * @param args\r\n\t */\r\n\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;START&quot;);\r\n\t\tscan=new Scanner(System.in);\r\n\t\tboolean halt=false;\r\n\t\twhile(!halt) {\r\n\t\t\tString line=scan.nextLine();\r\n\t\t\t// empty line and comment line - read next line\r\n\t\t\tif(line.length()==0 || line.charAt(0)==&#39;#&#39;)\r\n\t\t\t\tcontinue;\r\n\t\t\t// copy line to output (it is easier to find a place of a mistake)\r\n\t\t\tSystem.out.println(&quot;!&quot;+line);\r\n\t\t\tString word[]=line.split(&quot; &quot;);\r\n\t\t\tif(word[0].equalsIgnoreCase(&quot;py&quot;) &amp;&amp; word.length==2) {\r\n\t\t\t\tint value=Integer.parseInt(word[1]);\r\n\t\t\t\tDrawer.drawPyramid(value);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif(word[0].equalsIgnoreCase(&quot;ct&quot;) &amp;&amp; word.length==2) {\r\n\t\t\t\tint value=Integer.parseInt(word[1]);\r\n\t\t\t\tDrawer.drawChristmassTree(value);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t// ld documentName\r\n\t\t\tif(word[0].equalsIgnoreCase(&quot;ld&quot;) &amp;&amp; word.length==2) {\r\n\t\t\t\tDocument.loadDocument(word[1],scan);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\t// ha\r\n\t\t\tif(word[0].equalsIgnoreCase(&quot;ha&quot;) &amp;&amp; word.length==1) {\r\n\t\t\t\thalt=true;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Wrong command&quot;);\t\t\t\r\n\t\t}\r\n\t\tSystem.out.println(&quot;END OF EXECUTION&quot;);\r\n\t\tscan.close();\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nDrawer class\r\n```\r\npackage dsaa.lab01;\r\n\r\npublic class Drawer {\r\n\tprivate static void drawLine(int n, char ch) {\r\n\t\t\r\n        for(int i = 1; i &lt;= n; i++)\r\n        {\r\n            System.out.print(ch);\r\n        }\r\n\t}\r\n\r\n\r\n\tpublic static void drawPyramid(int n) {\r\n\r\n        for(int i = 1; i &lt;= n; i++)\r\n        {\r\n            drawLine(n-i, &#39;.&#39;);\r\n            drawLine(2*i-1, &#39;X&#39;);\r\n            drawLine(n-i, &#39;.&#39;);\r\n\r\n            System.out.println();\r\n        }\r\n\t}\r\n\r\n\tpublic static void drawChristmassTree(int n) {\r\n\t\tSystem.out.println(&quot;Christmas Tree&quot;);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI tried different things but it just doesn&#39;t work, I was expecting the class Main to call that method correctly.","title":"Error when calling a class method from another class","body":"<p>I'm trying to call a class method called drawPyramid that is in a class called Drawer from another class called Main, but I get the following error: Main.java:38: error: cannot find symbol Drawer.drawPyramid(value);</p>\n<p>Main class</p>\n<pre><code>package dsaa.lab01;\n\nimport java.util.Scanner;\n\npublic class Main {\n\n    static Scanner scan;\n\n    /***\n     * commands:\n     * py size\n     *   draw a pyramid with size\n     * ct size\n     *   draw a christmas tree with size\n     * ld documentName\n     *   load document from standard input line by line. Last line consists of only sequence &quot;eod&quot;,\n     *   which means end of document\n     * ha\n     *   halt program and finish execution\n     * @param args\n     */\n    \n\n    public static void main(String[] args) {\n        System.out.println(&quot;START&quot;);\n        scan=new Scanner(System.in);\n        boolean halt=false;\n        while(!halt) {\n            String line=scan.nextLine();\n            // empty line and comment line - read next line\n            if(line.length()==0 || line.charAt(0)=='#')\n                continue;\n            // copy line to output (it is easier to find a place of a mistake)\n            System.out.println(&quot;!&quot;+line);\n            String word[]=line.split(&quot; &quot;);\n            if(word[0].equalsIgnoreCase(&quot;py&quot;) &amp;&amp; word.length==2) {\n                int value=Integer.parseInt(word[1]);\n                Drawer.drawPyramid(value);\n                continue;\n            }\n            if(word[0].equalsIgnoreCase(&quot;ct&quot;) &amp;&amp; word.length==2) {\n                int value=Integer.parseInt(word[1]);\n                Drawer.drawChristmassTree(value);\n                continue;\n            }\n            // ld documentName\n            if(word[0].equalsIgnoreCase(&quot;ld&quot;) &amp;&amp; word.length==2) {\n                Document.loadDocument(word[1],scan);\n                continue;\n            }\n            // ha\n            if(word[0].equalsIgnoreCase(&quot;ha&quot;) &amp;&amp; word.length==1) {\n                halt=true;\n                continue;\n            }\n            System.out.println(&quot;Wrong command&quot;);            \n        }\n        System.out.println(&quot;END OF EXECUTION&quot;);\n        scan.close();\n\n    }\n\n\n\n\n}\n</code></pre>\n<p>Drawer class</p>\n<pre><code>package dsaa.lab01;\n\npublic class Drawer {\n    private static void drawLine(int n, char ch) {\n        \n        for(int i = 1; i &lt;= n; i++)\n        {\n            System.out.print(ch);\n        }\n    }\n\n\n    public static void drawPyramid(int n) {\n\n        for(int i = 1; i &lt;= n; i++)\n        {\n            drawLine(n-i, '.');\n            drawLine(2*i-1, 'X');\n            drawLine(n-i, '.');\n\n            System.out.println();\n        }\n    }\n\n    public static void drawChristmassTree(int n) {\n        System.out.println(&quot;Christmas Tree&quot;);\n    }\n\n}\n\n</code></pre>\n<p>I tried different things but it just doesn't work, I was expecting the class Main to call that method correctly.</p>\n"},{"tags":["java","spring-boot","validation","types","java-8"],"answers":[{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655385710,"creation_date":1655385398,"answer_id":72646512,"question_id":71801431,"body_markdown":"You can make use of `@NotNull`, `@NotBlank` , `@MinLength`, `@MaxLength` etc. from\r\n\r\n`javax.validation` APIs \r\n\r\nTo ensure the validation, make use of `@Validated` at ***Controller*** level and `@Valid` at ***property*** level !\r\n\r\n**Attaching an article for reference!** \r\n\r\nhttps://www.baeldung.com/spring-valid-vs-validated\r\n\r\nhttps://stackoverflow.com/questions/36173332/difference-between-valid-and-validated-in-spring\r\n\r\nThese will avoid manual validations and henceforth removing boilerplate code :) ","title":"How to perform Data Type validations for each individual fields of a POJO in Java?","body":"<p>You can make use of <code>@NotNull</code>, <code>@NotBlank</code> , <code>@MinLength</code>, <code>@MaxLength</code> etc. from</p>\n<p><code>javax.validation</code> APIs</p>\n<p>To ensure the validation, make use of <code>@Validated</code> at <em><strong>Controller</strong></em> level and <code>@Valid</code> at <em><strong>property</strong></em> level !</p>\n<p><strong>Attaching an article for reference!</strong></p>\n<p><a href=\"https://www.baeldung.com/spring-valid-vs-validated\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-valid-vs-validated</a></p>\n<p><a href=\"https://stackoverflow.com/questions/36173332/difference-between-valid-and-validated-in-spring\">Difference between @Valid and @Validated in Spring</a></p>\n<p>These will avoid manual validations and henceforth removing boilerplate code :)</p>\n"}],"owner":{"account_id":22555461,"reputation":31,"user_id":16743927,"display_name":"Adarsh Roop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":776,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678896258,"creation_date":1649440999,"question_id":71801431,"body_markdown":"I have a Request POJO class which comes with all String data type fields. When I have to store them  to DB, the data types must be accurate. Considering that I need to validate and convert my each individual POJO fields to the respective data types. Also, Request POJO might consists of more than 200 fields. How can I validate and convert each of my field?\r\nThis is what my Request POJO Looks like -&gt; \r\n\r\n    @Data\r\n    public class ProductRequest {\r\n    \r\n    \tprivate String goodScore;\r\n    \tprivate String invalidScore;\r\n    \tprivate String income;\r\n    \tprivate String salary;\r\n    \tprivate String updatedOn;\r\n    \r\n    }\r\nThis is my Response POJO should look like, these are the types I actually need to store in DB -&gt;\r\n\r\n    @Builder\r\n    @Data\r\n    public class ProductResponse {\r\n    \t\r\n    \tprivate Integer goodScore;\r\n    \tprivate Integer invalidScore;\r\n    \tprivate Float income;\r\n    \tprivate Double salary;\r\n    \tprivate LocalDate updatedOn;\r\n    \r\n    }\r\n\r\nAnd this is how I have tried and implemented -&gt; \r\n\r\n    public class ProductImplement {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tProductRequest request = new ProductRequest();\r\n    \r\n    \t\ttry {\r\n    \t\tProductResponse.builder()\r\n    \t\t\t\t.goodScore(!StringUtils.hasLength(request.getGoodScore()) ? Integer.parseInt(request.getGoodScore())\r\n    \t\t\t\t\t\t: null)\r\n    \t\t\t\t.income(!StringUtils.hasLength(request.getIncome()) ? Float.parseFloat(request.getIncome()) : null)\r\n    \t\t\t\t.invalidScore(\r\n    \t\t\t\t\t\t!StringUtils.hasLength(request.getInvalidScore()) ? Integer.parseInt(request.getInvalidScore())\r\n    \t\t\t\t\t\t\t\t: null)\r\n    \t\t\t\t.salary(!StringUtils.hasLength(request.getSalary()) ? Double.parseDouble(request.getSalary()) : null)\r\n    \t\t\t\t.updatedOn(\r\n    \t\t\t\t\t\t!StringUtils.hasLength(request.getUpdatedOn()) ? LocalDate.parse(request.getUpdatedOn()) : null)\r\n    \t\t\t\t.build();\r\n    \t\t\r\n    \t\t}catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nSo, if the value is not Null I parse the type and set. Otherwise I set the field value to Null.\r\nBut, in this case if any exception occurs while parsing, the whole object returns Null and it is hectic to do this for morethan 200 fields. \r\n\r\n**Is there any framework\r\n to validate individual data types and even in exception case we need to ignore that field and continue parsing for other fields? It is ok if I don&#39;t have to use Respone POJO. Any suggetsions are welcomed.** \r\n\r\nPlease suggest. Thanks in Advance!","title":"How to perform Data Type validations for each individual fields of a POJO in Java?","body":"<p>I have a Request POJO class which comes with all String data type fields. When I have to store them  to DB, the data types must be accurate. Considering that I need to validate and convert my each individual POJO fields to the respective data types. Also, Request POJO might consists of more than 200 fields. How can I validate and convert each of my field?\nThis is what my Request POJO Looks like -&gt;</p>\n<pre><code>@Data\npublic class ProductRequest {\n\n    private String goodScore;\n    private String invalidScore;\n    private String income;\n    private String salary;\n    private String updatedOn;\n\n}\n</code></pre>\n<p>This is my Response POJO should look like, these are the types I actually need to store in DB -&gt;</p>\n<pre><code>@Builder\n@Data\npublic class ProductResponse {\n    \n    private Integer goodScore;\n    private Integer invalidScore;\n    private Float income;\n    private Double salary;\n    private LocalDate updatedOn;\n\n}\n</code></pre>\n<p>And this is how I have tried and implemented -&gt;</p>\n<pre><code>public class ProductImplement {\n\n    public static void main(String[] args) {\n\n        ProductRequest request = new ProductRequest();\n\n        try {\n        ProductResponse.builder()\n                .goodScore(!StringUtils.hasLength(request.getGoodScore()) ? Integer.parseInt(request.getGoodScore())\n                        : null)\n                .income(!StringUtils.hasLength(request.getIncome()) ? Float.parseFloat(request.getIncome()) : null)\n                .invalidScore(\n                        !StringUtils.hasLength(request.getInvalidScore()) ? Integer.parseInt(request.getInvalidScore())\n                                : null)\n                .salary(!StringUtils.hasLength(request.getSalary()) ? Double.parseDouble(request.getSalary()) : null)\n                .updatedOn(\n                        !StringUtils.hasLength(request.getUpdatedOn()) ? LocalDate.parse(request.getUpdatedOn()) : null)\n                .build();\n        \n        }catch(Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p>So, if the value is not Null I parse the type and set. Otherwise I set the field value to Null.\nBut, in this case if any exception occurs while parsing, the whole object returns Null and it is hectic to do this for morethan 200 fields.</p>\n<p><strong>Is there any framework\nto validate individual data types and even in exception case we need to ignore that field and continue parsing for other fields? It is ok if I don't have to use Respone POJO. Any suggetsions are welcomed.</strong></p>\n<p>Please suggest. Thanks in Advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1466775204,"post_id":38014675,"comment_id":63471531,"body_markdown":"I&#39;d start for finding the specs on the binary format of .class files, and understand how Strings are represented, there is probably a size field before the actual string, perhaps...?","body":"I&#39;d start for finding the specs on the binary format of .class files, and understand how Strings are represented, there is probably a size field before the actual string, perhaps...?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1466775564,"post_id":38014675,"comment_id":63471757,"body_markdown":"Try &quot;Grav Engine Turned OFF/ON&quot; = same number of bytes (overwrite mode).","body":"Try &quot;Grav Engine Turned OFF/ON&quot; = same number of bytes (overwrite mode)."},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":0,"creation_date":1468647383,"post_id":38014675,"comment_id":64224477,"body_markdown":"@user265889 Did any of our answers solve your problem?","body":"@user265889 Did any of our answers solve your problem?"}],"answers":[{"tags":[],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466776497,"creation_date":1466776080,"answer_id":38014998,"question_id":38014675,"body_markdown":"I compiled the same class twice with a minor tweak, firstly with &quot;foo&quot; and then with &quot;foo-bar&quot;\r\n\r\n    public class HelloWorld {\r\n       public static final String HELLO = &quot;foo-bar&quot;;\r\n    }\r\n\r\nWith &quot;foo&quot;\r\n\r\n    000000b0  74 01 00 **03** 66 6f 6f 00  21 00 02 00 03 00 00 00  |t...foo.!.......|\r\n    000000c0  01 00 19 00 04 00 05 00  01 00 06 00 00 00 02 00  |................|\r\n    000000d0  07 00 01 00 01 00 08 00  09 00 01 00 0a 00 00 00  |................|\r\n    000000e0  1d 00 01 00 01 00 00 00  05 2a b7 00 01 b1 00 00  |.........*......|\r\n    000000f0  00 01 00 0b 00 00 00 06  00 01 00 00 00 01 00 01  |................|\r\n    00000100  00 0c 00 00 00 02 00 0d                           |........|\r\n\r\nWith &quot;foo-bar&quot;\r\n\r\n    000000b0  74 01 00 **07** 66 6f 6f 2d  62 61 72 00 21 00 02 00  |t...foo-bar.!...|\r\n    000000c0  03 00 00 00 01 00 19 00  04 00 05 00 01 00 06 00  |................|\r\n    000000d0  00 00 02 00 07 00 01 00  01 00 08 00 09 00 01 00  |................|\r\n    000000e0  0a 00 00 00 1d 00 01 00  01 00 00 00 05 2a b7 00  |.............*..|\r\n    000000f0  01 b1 00 00 00 01 00 0b  00 00 00 06 00 01 00 00  |................|\r\n    00000100  00 01 00 01 00 0c 00 00  00 02 00 0d              |............|\r\n\r\nIt seems that the length is also encoded in the structure. Note the 3 and the 7... There is [more information on this structure][1]\r\n\r\nAnd with a String of 300 characters the preceding two bytes were 01 2c.\r\n\r\nSo given &quot;Gravitation Engine Turned OFF&quot; is 29 characters long, I&#39;d make sure you change the byte immediately before the string to 1D, it should currently be 19 (25 characters for &quot;Gravitation Engine OFF/ON&quot;)\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html","title":"Java .Class file change string","body":"<p>I compiled the same class twice with a minor tweak, firstly with \"foo\" and then with \"foo-bar\"</p>\n\n<pre><code>public class HelloWorld {\n   public static final String HELLO = \"foo-bar\";\n}\n</code></pre>\n\n<p>With \"foo\"</p>\n\n<pre><code>000000b0  74 01 00 **03** 66 6f 6f 00  21 00 02 00 03 00 00 00  |t...foo.!.......|\n000000c0  01 00 19 00 04 00 05 00  01 00 06 00 00 00 02 00  |................|\n000000d0  07 00 01 00 01 00 08 00  09 00 01 00 0a 00 00 00  |................|\n000000e0  1d 00 01 00 01 00 00 00  05 2a b7 00 01 b1 00 00  |.........*......|\n000000f0  00 01 00 0b 00 00 00 06  00 01 00 00 00 01 00 01  |................|\n00000100  00 0c 00 00 00 02 00 0d                           |........|\n</code></pre>\n\n<p>With \"foo-bar\"</p>\n\n<pre><code>000000b0  74 01 00 **07** 66 6f 6f 2d  62 61 72 00 21 00 02 00  |t...foo-bar.!...|\n000000c0  03 00 00 00 01 00 19 00  04 00 05 00 01 00 06 00  |................|\n000000d0  00 00 02 00 07 00 01 00  01 00 08 00 09 00 01 00  |................|\n000000e0  0a 00 00 00 1d 00 01 00  01 00 00 00 05 2a b7 00  |.............*..|\n000000f0  01 b1 00 00 00 01 00 0b  00 00 00 06 00 01 00 00  |................|\n00000100  00 01 00 01 00 0c 00 00  00 02 00 0d              |............|\n</code></pre>\n\n<p>It seems that the length is also encoded in the structure. Note the 3 and the 7... There is <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html\" rel=\"nofollow\">more information on this structure</a></p>\n\n<p>And with a String of 300 characters the preceding two bytes were 01 2c.</p>\n\n<p>So given \"Gravitation Engine Turned OFF\" is 29 characters long, I'd make sure you change the byte immediately before the string to 1D, it should currently be 19 (25 characters for \"Gravitation Engine OFF/ON\")</p>\n"},{"tags":[],"owner":{"account_id":220392,"reputation":10621,"user_id":5209935,"accept_rate":14,"display_name":"Matthew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466777273,"creation_date":1466777273,"answer_id":38015401,"question_id":38014675,"body_markdown":"A jar file is a zip file of classes, I guess you&#39;ve figured that out already. Your best best is to load up a a java IDE with a decompiler addon (pretty sure Intellij has this built in). Once you&#39;ve decompiled you can change the generated source and recompile it.\r\n\r\nThis isn&#39;t trivial java stuff, but it&#39;s not so complicated either. If you&#39;ve done some java project development before it&#39;s not so hard.","title":"Java .Class file change string","body":"<p>A jar file is a zip file of classes, I guess you've figured that out already. Your best best is to load up a a java IDE with a decompiler addon (pretty sure Intellij has this built in). Once you've decompiled you can change the generated source and recompile it.</p>\n\n<p>This isn't trivial java stuff, but it's not so complicated either. If you've done some java project development before it's not so hard.</p>\n"},{"tags":[],"owner":{"account_id":2912893,"reputation":65,"user_id":2496748,"display_name":"user2496748"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466778439,"creation_date":1466778439,"answer_id":38015794,"question_id":38014675,"body_markdown":"There are checksums for the files:\r\n\r\n    Archive:  dvt-utils.jar\r\n    Length   Method    Size  Ratio   Date   Time   CRC-32    Name\r\n    --------  ------  ------- -----   ----   ----   ------    ----\r\n    332  Defl:N      226  32%  11.05.31 19:41  a745ad09  META-INF/MANIFEST.MF","title":"Java .Class file change string","body":"<p>There are checksums for the files:</p>\n\n<pre><code>Archive:  dvt-utils.jar\nLength   Method    Size  Ratio   Date   Time   CRC-32    Name\n--------  ------  ------- -----   ----   ----   ------    ----\n332  Defl:N      226  32%  11.05.31 19:41  a745ad09  META-INF/MANIFEST.MF\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466783113,"creation_date":1466783113,"answer_id":38017285,"question_id":38014675,"body_markdown":"You could have a look at the [Apache BCEL (ByteCode Engineering Library)][1]. It contains a remarkably powerful class called [`BCELifier`][2]. It is a class that can take an input class, and, when executed, creates a class that, when compiled and executed, creates the input class. \r\n\r\nWhat? \r\n\r\nYes. So imagine you have a class containing some strings, like this:\r\n\r\n\tpublic class ClassContainingStrings\r\n\t{\r\n\t\tprivate String someString = &quot;Some string&quot;;\r\n\t\tpublic void call()\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Printed string&quot;);\r\n\t\t\tSystem.out.println(someString);\r\n\t\t}\r\n\t}\r\n\r\nNow, you can compile this, to obtain the `ClassContainingStrings.class` file. This file can be fed into the `BCELifier`, like this:\r\n\r\n\timport java.io.FileOutputStream;\r\n\r\n\timport org.apache.bcel.classfile.ClassParser;\r\n\timport org.apache.bcel.classfile.JavaClass;\r\n\timport org.apache.bcel.util.BCELifier;\r\n\r\n\r\n\tpublic class ChangeStringInClassFile\r\n\t{\r\n\t\tpublic static void main(String[] args) throws Exception\r\n\t\t{\r\n\t\t\tString classFileName = &quot;ClassContainingStrings.class&quot;;\r\n\t\t\tJavaClass c = new ClassParser(classFileName).parse();\r\n\t\t\tBCELifier b = new BCELifier(c, \r\n                new FileOutputStream(&quot;ClassContainingStringsCreator.java&quot;));\r\n\t\t\tb.start();\r\n\t\t}\r\n\t}\r\n\r\nIt will create a file called `ClassContainingStringsCreator.java`. For the given example, this will look like this:\r\n\r\n\timport org.apache.bcel.generic.*;\r\n\timport org.apache.bcel.classfile.*;\r\n\timport org.apache.bcel.*;\r\n\timport java.io.*;\r\n\r\n\tpublic class ClassContainingStringsCreator implements Constants {\r\n\t  private InstructionFactory _factory;\r\n\t  private ConstantPoolGen    _cp;\r\n\t  private ClassGen           _cg;\r\n\r\n\t  public ClassContainingStringsCreator() {\r\n\t\t_cg = new ClassGen(&quot;ClassContainingStrings&quot;, &quot;java.lang.Object&quot;, &quot;ClassContainingStrings.java&quot;, ACC_PUBLIC | ACC_SUPER, new String[] {  });\r\n\r\n\t\t_cp = _cg.getConstantPool();\r\n\t\t_factory = new InstructionFactory(_cg, _cp);\r\n\t  }\r\n\r\n\t  public void create(OutputStream out) throws IOException {\r\n\t\tcreateFields();\r\n\t\tcreateMethod_0();\r\n\t\tcreateMethod_1();\r\n\t\t_cg.getJavaClass().dump(out);\r\n\t  }\r\n\r\n\t  private void createFields() {\r\n\t\tFieldGen field;\r\n\r\n\t\tfield = new FieldGen(ACC_PRIVATE, Type.STRING, &quot;someString&quot;, _cp);\r\n\t\t_cg.addField(field.getField());\r\n\t  }\r\n\r\n\t  private void createMethod_0() {\r\n\t\tInstructionList il = new InstructionList();\r\n\t\tMethodGen method = new MethodGen(ACC_PUBLIC, Type.VOID, Type.NO_ARGS, new String[] {  }, &quot;&lt;init&gt;&quot;, &quot;ClassContainingStrings&quot;, il, _cp);\r\n\r\n\t\tInstructionHandle ih_0 = il.append(_factory.createLoad(Type.OBJECT, 0));\r\n\t\til.append(_factory.createInvoke(&quot;java.lang.Object&quot;, &quot;&lt;init&gt;&quot;, Type.VOID, Type.NO_ARGS, Constants.INVOKESPECIAL));\r\n\t\tInstructionHandle ih_4 = il.append(_factory.createLoad(Type.OBJECT, 0));\r\n\t\til.append(new PUSH(_cp, &quot;Some string&quot;));\r\n\t\til.append(_factory.createFieldAccess(&quot;ClassContainingStrings&quot;, &quot;someString&quot;, Type.STRING, Constants.PUTFIELD));\r\n\t\tInstructionHandle ih_10 = il.append(_factory.createReturn(Type.VOID));\r\n\t\tmethod.setMaxStack();\r\n\t\tmethod.setMaxLocals();\r\n\t\t_cg.addMethod(method.getMethod());\r\n\t\til.dispose();\r\n\t  }\r\n\r\n\t  private void createMethod_1() {\r\n\t\tInstructionList il = new InstructionList();\r\n\t\tMethodGen method = new MethodGen(ACC_PUBLIC, Type.VOID, Type.NO_ARGS, new String[] {  }, &quot;call&quot;, &quot;ClassContainingStrings&quot;, il, _cp);\r\n\r\n\t\tInstructionHandle ih_0 = il.append(_factory.createFieldAccess(&quot;java.lang.System&quot;, &quot;out&quot;, new ObjectType(&quot;java.io.PrintStream&quot;), Constants.GETSTATIC));\r\n\t\til.append(new PUSH(_cp, &quot;Printed string&quot;));\r\n\t\til.append(_factory.createInvoke(&quot;java.io.PrintStream&quot;, &quot;println&quot;, Type.VOID, new Type[] { Type.STRING }, Constants.INVOKEVIRTUAL));\r\n\t\tInstructionHandle ih_8 = il.append(_factory.createFieldAccess(&quot;java.lang.System&quot;, &quot;out&quot;, new ObjectType(&quot;java.io.PrintStream&quot;), Constants.GETSTATIC));\r\n\t\til.append(_factory.createLoad(Type.OBJECT, 0));\r\n\t\til.append(_factory.createFieldAccess(&quot;ClassContainingStrings&quot;, &quot;someString&quot;, Type.STRING, Constants.GETFIELD));\r\n\t\til.append(_factory.createInvoke(&quot;java.io.PrintStream&quot;, &quot;println&quot;, Type.VOID, new Type[] { Type.STRING }, Constants.INVOKEVIRTUAL));\r\n\t\tInstructionHandle ih_18 = il.append(_factory.createReturn(Type.VOID));\r\n\t\tmethod.setMaxStack();\r\n\t\tmethod.setMaxLocals();\r\n\t\t_cg.addMethod(method.getMethod());\r\n\t\til.dispose();\r\n\t  }\r\n\r\n\t  public static void main(String[] args) throws Exception {\r\n\t\tClassContainingStringsCreator creator = new ClassContainingStringsCreator();\r\n\t\tcreator.create(new FileOutputStream(&quot;ClassContainingStrings.class&quot;));\r\n\t  }\r\n\t}\r\n\r\n(yes, it looks horrible, but that should not matter too much). The important thing is that the strings from the original class, namely the string `&quot;Some string&quot;` and `&quot;Printed string&quot;` can be found in there. Now, you can change these strings, and then compile and execute this creator class.\r\n\r\nIt will create a new `ClassContainingStrings.class`, with the modified strings.\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-bcel/\r\n  [2]: https://commons.apache.org/proper/commons-bcel/apidocs/org/apache/bcel/util/BCELifier.html","title":"Java .Class file change string","body":"<p>You could have a look at the <a href=\"https://commons.apache.org/proper/commons-bcel/\" rel=\"nofollow\">Apache BCEL (ByteCode Engineering Library)</a>. It contains a remarkably powerful class called <a href=\"https://commons.apache.org/proper/commons-bcel/apidocs/org/apache/bcel/util/BCELifier.html\" rel=\"nofollow\"><code>BCELifier</code></a>. It is a class that can take an input class, and, when executed, creates a class that, when compiled and executed, creates the input class. </p>\n\n<p>What? </p>\n\n<p>Yes. So imagine you have a class containing some strings, like this:</p>\n\n<pre><code>public class ClassContainingStrings\n{\n    private String someString = \"Some string\";\n    public void call()\n    {\n        System.out.println(\"Printed string\");\n        System.out.println(someString);\n    }\n}\n</code></pre>\n\n<p>Now, you can compile this, to obtain the <code>ClassContainingStrings.class</code> file. This file can be fed into the <code>BCELifier</code>, like this:</p>\n\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.bcel.classfile.ClassParser;\nimport org.apache.bcel.classfile.JavaClass;\nimport org.apache.bcel.util.BCELifier;\n\n\npublic class ChangeStringInClassFile\n{\n    public static void main(String[] args) throws Exception\n    {\n        String classFileName = \"ClassContainingStrings.class\";\n        JavaClass c = new ClassParser(classFileName).parse();\n        BCELifier b = new BCELifier(c, \n            new FileOutputStream(\"ClassContainingStringsCreator.java\"));\n        b.start();\n    }\n}\n</code></pre>\n\n<p>It will create a file called <code>ClassContainingStringsCreator.java</code>. For the given example, this will look like this:</p>\n\n<pre><code>import org.apache.bcel.generic.*;\nimport org.apache.bcel.classfile.*;\nimport org.apache.bcel.*;\nimport java.io.*;\n\npublic class ClassContainingStringsCreator implements Constants {\n  private InstructionFactory _factory;\n  private ConstantPoolGen    _cp;\n  private ClassGen           _cg;\n\n  public ClassContainingStringsCreator() {\n    _cg = new ClassGen(\"ClassContainingStrings\", \"java.lang.Object\", \"ClassContainingStrings.java\", ACC_PUBLIC | ACC_SUPER, new String[] {  });\n\n    _cp = _cg.getConstantPool();\n    _factory = new InstructionFactory(_cg, _cp);\n  }\n\n  public void create(OutputStream out) throws IOException {\n    createFields();\n    createMethod_0();\n    createMethod_1();\n    _cg.getJavaClass().dump(out);\n  }\n\n  private void createFields() {\n    FieldGen field;\n\n    field = new FieldGen(ACC_PRIVATE, Type.STRING, \"someString\", _cp);\n    _cg.addField(field.getField());\n  }\n\n  private void createMethod_0() {\n    InstructionList il = new InstructionList();\n    MethodGen method = new MethodGen(ACC_PUBLIC, Type.VOID, Type.NO_ARGS, new String[] {  }, \"&lt;init&gt;\", \"ClassContainingStrings\", il, _cp);\n\n    InstructionHandle ih_0 = il.append(_factory.createLoad(Type.OBJECT, 0));\n    il.append(_factory.createInvoke(\"java.lang.Object\", \"&lt;init&gt;\", Type.VOID, Type.NO_ARGS, Constants.INVOKESPECIAL));\n    InstructionHandle ih_4 = il.append(_factory.createLoad(Type.OBJECT, 0));\n    il.append(new PUSH(_cp, \"Some string\"));\n    il.append(_factory.createFieldAccess(\"ClassContainingStrings\", \"someString\", Type.STRING, Constants.PUTFIELD));\n    InstructionHandle ih_10 = il.append(_factory.createReturn(Type.VOID));\n    method.setMaxStack();\n    method.setMaxLocals();\n    _cg.addMethod(method.getMethod());\n    il.dispose();\n  }\n\n  private void createMethod_1() {\n    InstructionList il = new InstructionList();\n    MethodGen method = new MethodGen(ACC_PUBLIC, Type.VOID, Type.NO_ARGS, new String[] {  }, \"call\", \"ClassContainingStrings\", il, _cp);\n\n    InstructionHandle ih_0 = il.append(_factory.createFieldAccess(\"java.lang.System\", \"out\", new ObjectType(\"java.io.PrintStream\"), Constants.GETSTATIC));\n    il.append(new PUSH(_cp, \"Printed string\"));\n    il.append(_factory.createInvoke(\"java.io.PrintStream\", \"println\", Type.VOID, new Type[] { Type.STRING }, Constants.INVOKEVIRTUAL));\n    InstructionHandle ih_8 = il.append(_factory.createFieldAccess(\"java.lang.System\", \"out\", new ObjectType(\"java.io.PrintStream\"), Constants.GETSTATIC));\n    il.append(_factory.createLoad(Type.OBJECT, 0));\n    il.append(_factory.createFieldAccess(\"ClassContainingStrings\", \"someString\", Type.STRING, Constants.GETFIELD));\n    il.append(_factory.createInvoke(\"java.io.PrintStream\", \"println\", Type.VOID, new Type[] { Type.STRING }, Constants.INVOKEVIRTUAL));\n    InstructionHandle ih_18 = il.append(_factory.createReturn(Type.VOID));\n    method.setMaxStack();\n    method.setMaxLocals();\n    _cg.addMethod(method.getMethod());\n    il.dispose();\n  }\n\n  public static void main(String[] args) throws Exception {\n    ClassContainingStringsCreator creator = new ClassContainingStringsCreator();\n    creator.create(new FileOutputStream(\"ClassContainingStrings.class\"));\n  }\n}\n</code></pre>\n\n<p>(yes, it looks horrible, but that should not matter too much). The important thing is that the strings from the original class, namely the string <code>\"Some string\"</code> and <code>\"Printed string\"</code> can be found in there. Now, you can change these strings, and then compile and execute this creator class.</p>\n\n<p>It will create a new <code>ClassContainingStrings.class</code>, with the modified strings.</p>\n"},{"tags":[],"owner":{"account_id":4665148,"reputation":3645,"user_id":3783352,"display_name":"mik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678896256,"creation_date":1678896256,"answer_id":75747234,"question_id":38014675,"body_markdown":"There is an online editor for strings in a .jar [here][1]. Its source code is [here][2]. I have used it successfully recently.\r\n\r\n  [1]: https://leonardosnt.github.io/jar-string-editor/?ref=gh\r\n  [2]: https://github.com/leonardosnt/jar-string-editor","title":"Java .Class file change string","body":"<p>There is an online editor for strings in a .jar <a href=\"https://leonardosnt.github.io/jar-string-editor/?ref=gh\" rel=\"nofollow noreferrer\">here</a>. Its source code is <a href=\"https://github.com/leonardosnt/jar-string-editor\" rel=\"nofollow noreferrer\">here</a>. I have used it successfully recently.</p>\n"}],"owner":{"account_id":4285709,"reputation":667,"user_id":4931748,"accept_rate":9,"display_name":"user265889"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2518,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1678896256,"creation_date":1466775074,"question_id":38014675,"body_markdown":"I&#39;m trying to modify a minecraft mod (gravisuite) that puts &quot;Gravitation Engine OFF/ON&quot; whenever I press F, however I want to change this string, I started with replacing &quot;Gravitation Engine OFF&quot; with &quot;Gravitation Engine Turned OFF&quot; by using a hex editor but the file was no longer valid afterwards :/ I tried to use tools like jbe and cjbe and rej and that string is in the constant pool but it will only let me delete it...\r\n\r\nIs there any way to change a string in a compiled java class without destroying it?\r\n\r\nThanks","title":"Java .Class file change string","body":"<p>I'm trying to modify a minecraft mod (gravisuite) that puts \"Gravitation Engine OFF/ON\" whenever I press F, however I want to change this string, I started with replacing \"Gravitation Engine OFF\" with \"Gravitation Engine Turned OFF\" by using a hex editor but the file was no longer valid afterwards :/ I tried to use tools like jbe and cjbe and rej and that string is in the constant pool but it will only let me delete it...</p>\n\n<p>Is there any way to change a string in a compiled java class without destroying it?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","sql","jdbi","stringtemplate-4"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1678892554,"post_id":75739891,"comment_id":133621729,"body_markdown":"I understand you are using jDBI - but, to me, this looks more like a question about [StringTemplate 4](https://jdbi.org/#_stringtemplate_4). I would make your SQL `IN` clause a [conditional](https://github.com/antlr/stringtemplate4/blob/master/doc/templates.md#conditionals), so that if the user does not make any selections, then the clause is simply not included in the final SQL. I would avoid generating a SQL `IN` clause which includes every possible value.","body":"I understand you are using jDBI - but, to me, this looks more like a question about <a href=\"https://jdbi.org/#_stringtemplate_4\" rel=\"nofollow noreferrer\">StringTemplate 4</a>. I would make your SQL <code>IN</code> clause a <a href=\"https://github.com/antlr/stringtemplate4/blob/master/doc/templates.md#conditionals\" rel=\"nofollow noreferrer\">conditional</a>, so that if the user does not make any selections, then the clause is simply not included in the final SQL. I would avoid generating a SQL <code>IN</code> clause which includes every possible value."}],"owner":{"account_id":402403,"reputation":185,"user_id":769552,"accept_rate":0,"display_name":"user769552"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678895968,"creation_date":1678845503,"question_id":75739891,"body_markdown":"JDBI has @BindList annotation and we can us it in a query like this:\r\n\r\n     getProductData(committeeId) ::= &lt;&lt;\r\n     select * from fund_series_group fsg\r\n     where fsg.governanceCommitteeTypeCode in (&lt;committeeId&gt;)\r\n     &gt;&gt;\r\n\r\nand it works, but we hava a case when user may not select any value and in this case we need to show all data, so I think about something like this:\r\n\r\n    where :committeeId.size = 0 or fsg.governanceCommitteeTypeCode in (&lt;committeeId&gt;)\r\n\r\nHow can we achieve this?","title":"How get properties of a list in jdbi?","body":"<p>JDBI has @BindList annotation and we can us it in a query like this:</p>\n<pre><code> getProductData(committeeId) ::= &lt;&lt;\n select * from fund_series_group fsg\n where fsg.governanceCommitteeTypeCode in (&lt;committeeId&gt;)\n &gt;&gt;\n</code></pre>\n<p>and it works, but we hava a case when user may not select any value and in this case we need to show all data, so I think about something like this:</p>\n<pre><code>where :committeeId.size = 0 or fsg.governanceCommitteeTypeCode in (&lt;committeeId&gt;)\n</code></pre>\n<p>How can we achieve this?</p>\n"},{"tags":["java","reactive-programming","couchbase","couchbase-java-api"],"comments":[{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":2,"creation_date":1678900977,"post_id":75747122,"comment_id":133624443,"body_markdown":"For anyone else who comes along, it looks like this was cross-posted to Couchbase Forum and answered there https://forums.couchbase.com/t/java-sdk-reactive-transactions-responses/35740","body":"For anyone else who comes along, it looks like this was cross-posted to Couchbase Forum and answered there <a href=\"https://forums.couchbase.com/t/java-sdk-reactive-transactions-responses/35740\" rel=\"nofollow noreferrer\">forums.couchbase.com/t/java-sdk-reactive-transactions-respon&zwnj;&#8203;ses/&hellip;</a>"}],"owner":{"account_id":4102226,"reputation":650,"user_id":3934499,"display_name":"uzumas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1678895936,"creation_date":1678895696,"question_id":75747122,"body_markdown":"I am trying to use java sdk (java-client v3.4.3).\r\nSince I need transactions, I am using transactional flavor of cluster object\r\n\r\n    cluster.reactive().transactions().run((ctx) -&gt; {});\r\n\r\nBoth sync/ async versions expect lambda and return \r\n&gt; TransactionResult /\r\nMono &lt; TransactionResult &gt;\r\n\r\nSince java requires that in a lambda,  local variables be final or effectively final, how am I supposed to share the response of say ctx.insert() or ctx.replace() outside this transaction? I want to access the cas value for ctx.insert but I am not able to send data out of this transactions().run() function.\r\n\r\nUsing global variables does not appear the right choice to me.","title":"Accessing Couchbase Transaction response outside lambda","body":"<p>I am trying to use java sdk (java-client v3.4.3).\nSince I need transactions, I am using transactional flavor of cluster object</p>\n<pre><code>cluster.reactive().transactions().run((ctx) -&gt; {});\n</code></pre>\n<p>Both sync/ async versions expect lambda and return</p>\n<blockquote>\n<p>TransactionResult /\nMono &lt; TransactionResult &gt;</p>\n</blockquote>\n<p>Since java requires that in a lambda,  local variables be final or effectively final, how am I supposed to share the response of say ctx.insert() or ctx.replace() outside this transaction? I want to access the cas value for ctx.insert but I am not able to send data out of this transactions().run() function.</p>\n<p>Using global variables does not appear the right choice to me.</p>\n"},{"tags":["java","docker","elasticsearch","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678895774,"creation_date":1678895774,"answer_id":75747134,"question_id":75746009,"body_markdown":"I managed to bypass this problem by modifying the x-service application elastic search connection settings `client.transport.sniff`. It was set to true and when changed to false I managed to have x-service connect to elastic search and start successfully. Still, I don&#39;t consider this a solution, since in theory it should have worked without needing to this changes, since I have exposed 9200,9300 ports of elasticsearch.","title":"Cannot connect to elasticsearch started on the docker compose setup from a java app running locally outside docker compose","body":"<p>I managed to bypass this problem by modifying the x-service application elastic search connection settings <code>client.transport.sniff</code>. It was set to true and when changed to false I managed to have x-service connect to elastic search and start successfully. Still, I don't consider this a solution, since in theory it should have worked without needing to this changes, since I have exposed 9200,9300 ports of elasticsearch.</p>\n"}],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678895774,"creation_date":1678890019,"question_id":75746009,"body_markdown":"I have the following  docker-compose yml file that I use to start all infrastructure needed:\r\n\r\n```\r\nversion: &quot;3.9&quot;\r\nservices:\r\n  redis:\r\n    image: redis:3\r\n    ports:\r\n      - &quot;6379:6379&quot;\r\n    #network_mode: host\r\n  rabbitmq:\r\n    image: rabbitmq:3-management\r\n    ports:\r\n      - &quot;5672:5672&quot;\r\n      - &quot;15672:15672&quot;\r\n    #network_mode: host\r\n  mongo:\r\n    image: mongo:3.6.3\r\n    ports:\r\n      - &quot;27017:27017&quot;\r\n    #network_mode: host\r\n  elasticsearch:\r\n    image: xxxx/elasticsearch:latest\r\n    ports:\r\n      - &quot;9200:9200&quot;\r\n      - &quot;9300:9300&quot;\r\n  x-service:\r\n    build:\r\n      context: ../../x-service\r\n      dockerfile: Dockerfile\r\n    environment:\r\n      - CONFIG_FILE=x-service.ini\r\n    ports:\r\n      - &quot;4003:4003&quot;\r\n```\r\n\r\nEverything starts correctly when I execute the command ```docker-compose start```. The x service java application connect successfully with elasticsearch and is able to start without any problems.\r\n\r\nMeanwhile, the same x-service java application started locally (without docker-compose) is not able to connect to elastic search and fails to start. Below is the error when I am trying to start x-service:\r\n\r\n```\r\n14:47:36.107 [WARN] io.dexi.search.index.SearchEngineIndex - [main] Failed while looking up index\r\norg.elasticsearch.client.transport.NoNodeAvailableException: None of the configured nodes are available: [{#transport#-1}{127.0.0.1}{localhost/127.0.0.1:9300}]\r\n\tat org.elasticsearch.client.transport.TransportClientNodesService.ensureNodesAreAvailable(TransportClientNodesService.java:290) ~[elasticsearch-2.1.1.jar:2.1.1]\r\n\tat org.elasticsearch.client.transport.TransportClientNodesService.execute(TransportClientNodesService.java:207) ~[elasticsearch-2.1.1.jar:2.1.1]\r\n\tat org.elasticsearch.client.transport.support.TransportProxyClient.execute(TransportProxyClient.java:55) ~[elasticsearch-2.1.1.jar:2.1.1]\r\n\tat org.elasticsearch.client.transport.TransportClient.doExecute(TransportClient.java:283) ~[elasticsearch-2.1.1.jar:2.1.1]\r\n\tat org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:347) ~[elasticsearch-2.1.1.jar:2.1.1]\r\n\tat org.elasticsearch.client.support.AbstractClient$IndicesAdmin.execute(AbstractClient.java:1183) ~[elasticsearch-2.1.1.jar:2.1.1]\r\n\tat org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:85) ~[elasticsearch-2.1.1.jar:2.1.1]\r\n\tat org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:59) ~[elasticsearch-2.1.1.jar:2.1.1]\r\n\tat org.elasticsearch.action.ActionRequestBuilder.get(ActionRequestBuilder.java:67) ~[elasticsearch-2.1.1.jar:2.1.1]\r\n\r\n```\r\n\r\nBelow is the image that shows that elastic search is reachable from localhost because I am able to connect with the elastic search head client:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI don&#39;t understand why this error is happening. I have already checked if the cluster name is the same as configured on the java application both when running using docker-compose setup and when running it locally.\r\n\r\nBelow are details from elasticsearch:\r\n\r\n```\r\n&quot;name&quot;: &quot;Sally Floyd&quot;,\r\n&quot;transport_address&quot;: &quot;172.18.0.5:9300&quot;,\r\n&quot;host&quot;: &quot;172.18.0.5&quot;,\r\n&quot;ip&quot;: &quot;172.18.0.5&quot;,\r\n&quot;version&quot;: &quot;2.1.1&quot;,\r\n&quot;build&quot;: &quot;40e2c53&quot;,\r\n&quot;http_address&quot;: &quot;172.18.0.5:9200&quot;,\r\n&quot;settings&quot;: {\r\n&quot;name&quot;: &quot;Sally Floyd&quot;,\r\n&quot;client&quot;: {\r\n&quot;type&quot;: &quot;node&quot;\r\n},\r\n&quot;cluster&quot;: {\r\n&quot;name&quot;: &quot;elasticsearch&quot;\r\n},\r\n&quot;path&quot;: {\r\n&quot;logs&quot;: &quot;/usr/share/elasticsearch/logs&quot;,\r\n&quot;home&quot;: &quot;/usr/share/elasticsearch&quot;\r\n},\r\n&quot;config&quot;: {\r\n&quot;ignore_system_properties&quot;: &quot;true&quot;\r\n},\r\n&quot;network&quot;: {\r\n&quot;host&quot;: &quot;0.0.0.0&quot;\r\n}\r\n},\r\n&quot;os&quot;: {\r\n&quot;refresh_interval_in_millis&quot;: 1000,\r\n&quot;name&quot;: &quot;Linux&quot;,\r\n&quot;arch&quot;: &quot;amd64&quot;,\r\n&quot;version&quot;: &quot;5.10.102.1-microsoft-standard-WSL2&quot;,\r\n&quot;available_processors&quot;: 8,\r\n&quot;allocated_processors&quot;: 8\r\n},\r\n&quot;process&quot;: {\r\n&quot;refresh_interval_in_millis&quot;: 1000,\r\n&quot;id&quot;: 1,\r\n&quot;mlockall&quot;: false\r\n},\r\n&quot;jvm&quot;: {\r\n&quot;pid&quot;: 1,\r\n&quot;version&quot;: &quot;1.8.0_66-internal&quot;,\r\n&quot;vm_name&quot;: &quot;OpenJDK 64-Bit Server VM&quot;,\r\n&quot;vm_version&quot;: &quot;25.66-b17&quot;,\r\n&quot;vm_vendor&quot;: &quot;Oracle Corporation&quot;,\r\n&quot;start_time_in_millis&quot;: 1678878835905,\r\n&quot;mem&quot;: {\r\n&quot;heap_init_in_bytes&quot;: 268435456,\r\n&quot;heap_max_in_bytes&quot;: 1037959168,\r\n&quot;non_heap_init_in_bytes&quot;: 2555904,\r\n&quot;non_heap_max_in_bytes&quot;: 0,\r\n&quot;direct_max_in_bytes&quot;: 1037959168\r\n},\r\n&quot;gc_collectors&quot;: [\r\n&quot;ParNew&quot;\r\n,\r\n&quot;ConcurrentMarkSweep&quot;\r\n],\r\n&quot;memory_pools&quot;: [\r\n&quot;Code Cache&quot;\r\n,\r\n&quot;Metaspace&quot;\r\n,\r\n&quot;Compressed Class Space&quot;\r\n,\r\n&quot;Par Eden Space&quot;\r\n,\r\n&quot;Par Survivor Space&quot;\r\n,\r\n&quot;CMS Old Gen&quot;\r\n]\r\n},\r\n&quot;thread_pool&quot;: {\r\n&quot;force_merge&quot;: {\r\n&quot;type&quot;: &quot;fixed&quot;,\r\n&quot;min&quot;: 1,\r\n&quot;max&quot;: 1,\r\n&quot;queue_size&quot;: -1\r\n},\r\n&quot;percolate&quot;: {\r\n&quot;type&quot;: &quot;fixed&quot;,\r\n&quot;min&quot;: 8,\r\n&quot;max&quot;: 8,\r\n&quot;queue_size&quot;: 1000\r\n},\r\n&quot;fetch_shard_started&quot;: {\r\n&quot;type&quot;: &quot;scaling&quot;,\r\n&quot;min&quot;: 1,\r\n&quot;max&quot;: 16,\r\n&quot;keep_alive&quot;: &quot;5m&quot;,\r\n&quot;queue_size&quot;: -1\r\n},\r\n&quot;listener&quot;: {\r\n&quot;type&quot;: &quot;fixed&quot;,\r\n&quot;min&quot;: 4,\r\n&quot;max&quot;: 4,\r\n&quot;queue_size&quot;: -1\r\n},\r\n&quot;index&quot;: {\r\n&quot;type&quot;: &quot;fixed&quot;,\r\n&quot;min&quot;: 8,\r\n&quot;max&quot;: 8,\r\n&quot;queue_size&quot;: 200\r\n},\r\n&quot;refresh&quot;: {\r\n&quot;type&quot;: &quot;scaling&quot;,\r\n&quot;min&quot;: 1,\r\n&quot;max&quot;: 4,\r\n&quot;keep_alive&quot;: &quot;5m&quot;,\r\n&quot;queue_size&quot;: -1\r\n},\r\n&quot;suggest&quot;: {\r\n&quot;type&quot;: &quot;fixed&quot;,\r\n&quot;min&quot;: 8,\r\n&quot;max&quot;: 8,\r\n&quot;queue_size&quot;: 1000\r\n},\r\n&quot;generic&quot;: {\r\n&quot;type&quot;: &quot;cached&quot;,\r\n&quot;keep_alive&quot;: &quot;30s&quot;,\r\n&quot;queue_size&quot;: -1\r\n},\r\n&quot;warmer&quot;: {\r\n&quot;type&quot;: &quot;scaling&quot;,\r\n&quot;min&quot;: 1,\r\n&quot;max&quot;: 4,\r\n&quot;keep_alive&quot;: &quot;5m&quot;,\r\n&quot;queue_size&quot;: -1\r\n},\r\n&quot;search&quot;: {\r\n&quot;type&quot;: &quot;fixed&quot;,\r\n&quot;min&quot;: 13,\r\n&quot;max&quot;: 13,\r\n&quot;queue_size&quot;: 1000\r\n},\r\n&quot;flush&quot;: {\r\n&quot;type&quot;: &quot;scaling&quot;,\r\n&quot;min&quot;: 1,\r\n&quot;max&quot;: 4,\r\n&quot;keep_alive&quot;: &quot;5m&quot;,\r\n&quot;queue_size&quot;: -1\r\n},\r\n&quot;fetch_shard_store&quot;: {\r\n&quot;type&quot;: &quot;scaling&quot;,\r\n&quot;min&quot;: 1,\r\n&quot;max&quot;: 16,\r\n&quot;keep_alive&quot;: &quot;5m&quot;,\r\n&quot;queue_size&quot;: -1\r\n},\r\n&quot;management&quot;: {\r\n&quot;type&quot;: &quot;scaling&quot;,\r\n&quot;min&quot;: 1,\r\n&quot;max&quot;: 5,\r\n&quot;keep_alive&quot;: &quot;5m&quot;,\r\n&quot;queue_size&quot;: -1\r\n},\r\n&quot;get&quot;: {\r\n&quot;type&quot;: &quot;fixed&quot;,\r\n&quot;min&quot;: 8,\r\n&quot;max&quot;: 8,\r\n&quot;queue_size&quot;: 1000\r\n},\r\n&quot;bulk&quot;: {\r\n&quot;type&quot;: &quot;fixed&quot;,\r\n&quot;min&quot;: 8,\r\n&quot;max&quot;: 8,\r\n&quot;queue_size&quot;: 50\r\n},\r\n&quot;snapshot&quot;: {\r\n&quot;type&quot;: &quot;scaling&quot;,\r\n&quot;min&quot;: 1,\r\n&quot;max&quot;: 4,\r\n&quot;keep_alive&quot;: &quot;5m&quot;,\r\n&quot;queue_size&quot;: -1\r\n}\r\n},\r\n&quot;transport&quot;: {\r\n&quot;bound_address&quot;: [\r\n&quot;0.0.0.0:9300&quot;\r\n],\r\n&quot;publish_address&quot;: &quot;172.18.0.5:9300&quot;,\r\n&quot;profiles&quot;: { }\r\n},\r\n&quot;http&quot;: {\r\n&quot;bound_address&quot;: [\r\n&quot;0.0.0.0:9200&quot;\r\n],\r\n&quot;publish_address&quot;: &quot;172.18.0.5:9200&quot;,\r\n&quot;max_content_length_in_bytes&quot;: 104857600\r\n},\r\n&quot;plugins&quot;: [\r\n{\r\n&quot;name&quot;: &quot;head&quot;,\r\n&quot;version&quot;: &quot;master&quot;,\r\n&quot;description&quot;: &quot;head - A web front end for an elastic search cluster&quot;,\r\n&quot;url&quot;: &quot;/_plugin/head/&quot;,\r\n&quot;jvm&quot;: false,\r\n&quot;site&quot;: true\r\n}\r\n]\r\n}\r\n```\r\n\r\nI will appreciate any help in solving this issue. \r\n\r\nBest regards,\r\nRando.\r\n\r\n  [1]: https://i.stack.imgur.com/gn5V2.png","title":"Cannot connect to elasticsearch started on the docker compose setup from a java app running locally outside docker compose","body":"<p>I have the following  docker-compose yml file that I use to start all infrastructure needed:</p>\n<pre><code>version: &quot;3.9&quot;\nservices:\n  redis:\n    image: redis:3\n    ports:\n      - &quot;6379:6379&quot;\n    #network_mode: host\n  rabbitmq:\n    image: rabbitmq:3-management\n    ports:\n      - &quot;5672:5672&quot;\n      - &quot;15672:15672&quot;\n    #network_mode: host\n  mongo:\n    image: mongo:3.6.3\n    ports:\n      - &quot;27017:27017&quot;\n    #network_mode: host\n  elasticsearch:\n    image: xxxx/elasticsearch:latest\n    ports:\n      - &quot;9200:9200&quot;\n      - &quot;9300:9300&quot;\n  x-service:\n    build:\n      context: ../../x-service\n      dockerfile: Dockerfile\n    environment:\n      - CONFIG_FILE=x-service.ini\n    ports:\n      - &quot;4003:4003&quot;\n</code></pre>\n<p>Everything starts correctly when I execute the command <code>docker-compose start</code>. The x service java application connect successfully with elasticsearch and is able to start without any problems.</p>\n<p>Meanwhile, the same x-service java application started locally (without docker-compose) is not able to connect to elastic search and fails to start. Below is the error when I am trying to start x-service:</p>\n<pre><code>14:47:36.107 [WARN] io.dexi.search.index.SearchEngineIndex - [main] Failed while looking up index\norg.elasticsearch.client.transport.NoNodeAvailableException: None of the configured nodes are available: [{#transport#-1}{127.0.0.1}{localhost/127.0.0.1:9300}]\n    at org.elasticsearch.client.transport.TransportClientNodesService.ensureNodesAreAvailable(TransportClientNodesService.java:290) ~[elasticsearch-2.1.1.jar:2.1.1]\n    at org.elasticsearch.client.transport.TransportClientNodesService.execute(TransportClientNodesService.java:207) ~[elasticsearch-2.1.1.jar:2.1.1]\n    at org.elasticsearch.client.transport.support.TransportProxyClient.execute(TransportProxyClient.java:55) ~[elasticsearch-2.1.1.jar:2.1.1]\n    at org.elasticsearch.client.transport.TransportClient.doExecute(TransportClient.java:283) ~[elasticsearch-2.1.1.jar:2.1.1]\n    at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:347) ~[elasticsearch-2.1.1.jar:2.1.1]\n    at org.elasticsearch.client.support.AbstractClient$IndicesAdmin.execute(AbstractClient.java:1183) ~[elasticsearch-2.1.1.jar:2.1.1]\n    at org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:85) ~[elasticsearch-2.1.1.jar:2.1.1]\n    at org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:59) ~[elasticsearch-2.1.1.jar:2.1.1]\n    at org.elasticsearch.action.ActionRequestBuilder.get(ActionRequestBuilder.java:67) ~[elasticsearch-2.1.1.jar:2.1.1]\n\n</code></pre>\n<p>Below is the image that shows that elastic search is reachable from localhost because I am able to connect with the elastic search head client:</p>\n<p><a href=\"https://i.stack.imgur.com/gn5V2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gn5V2.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't understand why this error is happening. I have already checked if the cluster name is the same as configured on the java application both when running using docker-compose setup and when running it locally.</p>\n<p>Below are details from elasticsearch:</p>\n<pre><code>&quot;name&quot;: &quot;Sally Floyd&quot;,\n&quot;transport_address&quot;: &quot;172.18.0.5:9300&quot;,\n&quot;host&quot;: &quot;172.18.0.5&quot;,\n&quot;ip&quot;: &quot;172.18.0.5&quot;,\n&quot;version&quot;: &quot;2.1.1&quot;,\n&quot;build&quot;: &quot;40e2c53&quot;,\n&quot;http_address&quot;: &quot;172.18.0.5:9200&quot;,\n&quot;settings&quot;: {\n&quot;name&quot;: &quot;Sally Floyd&quot;,\n&quot;client&quot;: {\n&quot;type&quot;: &quot;node&quot;\n},\n&quot;cluster&quot;: {\n&quot;name&quot;: &quot;elasticsearch&quot;\n},\n&quot;path&quot;: {\n&quot;logs&quot;: &quot;/usr/share/elasticsearch/logs&quot;,\n&quot;home&quot;: &quot;/usr/share/elasticsearch&quot;\n},\n&quot;config&quot;: {\n&quot;ignore_system_properties&quot;: &quot;true&quot;\n},\n&quot;network&quot;: {\n&quot;host&quot;: &quot;0.0.0.0&quot;\n}\n},\n&quot;os&quot;: {\n&quot;refresh_interval_in_millis&quot;: 1000,\n&quot;name&quot;: &quot;Linux&quot;,\n&quot;arch&quot;: &quot;amd64&quot;,\n&quot;version&quot;: &quot;5.10.102.1-microsoft-standard-WSL2&quot;,\n&quot;available_processors&quot;: 8,\n&quot;allocated_processors&quot;: 8\n},\n&quot;process&quot;: {\n&quot;refresh_interval_in_millis&quot;: 1000,\n&quot;id&quot;: 1,\n&quot;mlockall&quot;: false\n},\n&quot;jvm&quot;: {\n&quot;pid&quot;: 1,\n&quot;version&quot;: &quot;1.8.0_66-internal&quot;,\n&quot;vm_name&quot;: &quot;OpenJDK 64-Bit Server VM&quot;,\n&quot;vm_version&quot;: &quot;25.66-b17&quot;,\n&quot;vm_vendor&quot;: &quot;Oracle Corporation&quot;,\n&quot;start_time_in_millis&quot;: 1678878835905,\n&quot;mem&quot;: {\n&quot;heap_init_in_bytes&quot;: 268435456,\n&quot;heap_max_in_bytes&quot;: 1037959168,\n&quot;non_heap_init_in_bytes&quot;: 2555904,\n&quot;non_heap_max_in_bytes&quot;: 0,\n&quot;direct_max_in_bytes&quot;: 1037959168\n},\n&quot;gc_collectors&quot;: [\n&quot;ParNew&quot;\n,\n&quot;ConcurrentMarkSweep&quot;\n],\n&quot;memory_pools&quot;: [\n&quot;Code Cache&quot;\n,\n&quot;Metaspace&quot;\n,\n&quot;Compressed Class Space&quot;\n,\n&quot;Par Eden Space&quot;\n,\n&quot;Par Survivor Space&quot;\n,\n&quot;CMS Old Gen&quot;\n]\n},\n&quot;thread_pool&quot;: {\n&quot;force_merge&quot;: {\n&quot;type&quot;: &quot;fixed&quot;,\n&quot;min&quot;: 1,\n&quot;max&quot;: 1,\n&quot;queue_size&quot;: -1\n},\n&quot;percolate&quot;: {\n&quot;type&quot;: &quot;fixed&quot;,\n&quot;min&quot;: 8,\n&quot;max&quot;: 8,\n&quot;queue_size&quot;: 1000\n},\n&quot;fetch_shard_started&quot;: {\n&quot;type&quot;: &quot;scaling&quot;,\n&quot;min&quot;: 1,\n&quot;max&quot;: 16,\n&quot;keep_alive&quot;: &quot;5m&quot;,\n&quot;queue_size&quot;: -1\n},\n&quot;listener&quot;: {\n&quot;type&quot;: &quot;fixed&quot;,\n&quot;min&quot;: 4,\n&quot;max&quot;: 4,\n&quot;queue_size&quot;: -1\n},\n&quot;index&quot;: {\n&quot;type&quot;: &quot;fixed&quot;,\n&quot;min&quot;: 8,\n&quot;max&quot;: 8,\n&quot;queue_size&quot;: 200\n},\n&quot;refresh&quot;: {\n&quot;type&quot;: &quot;scaling&quot;,\n&quot;min&quot;: 1,\n&quot;max&quot;: 4,\n&quot;keep_alive&quot;: &quot;5m&quot;,\n&quot;queue_size&quot;: -1\n},\n&quot;suggest&quot;: {\n&quot;type&quot;: &quot;fixed&quot;,\n&quot;min&quot;: 8,\n&quot;max&quot;: 8,\n&quot;queue_size&quot;: 1000\n},\n&quot;generic&quot;: {\n&quot;type&quot;: &quot;cached&quot;,\n&quot;keep_alive&quot;: &quot;30s&quot;,\n&quot;queue_size&quot;: -1\n},\n&quot;warmer&quot;: {\n&quot;type&quot;: &quot;scaling&quot;,\n&quot;min&quot;: 1,\n&quot;max&quot;: 4,\n&quot;keep_alive&quot;: &quot;5m&quot;,\n&quot;queue_size&quot;: -1\n},\n&quot;search&quot;: {\n&quot;type&quot;: &quot;fixed&quot;,\n&quot;min&quot;: 13,\n&quot;max&quot;: 13,\n&quot;queue_size&quot;: 1000\n},\n&quot;flush&quot;: {\n&quot;type&quot;: &quot;scaling&quot;,\n&quot;min&quot;: 1,\n&quot;max&quot;: 4,\n&quot;keep_alive&quot;: &quot;5m&quot;,\n&quot;queue_size&quot;: -1\n},\n&quot;fetch_shard_store&quot;: {\n&quot;type&quot;: &quot;scaling&quot;,\n&quot;min&quot;: 1,\n&quot;max&quot;: 16,\n&quot;keep_alive&quot;: &quot;5m&quot;,\n&quot;queue_size&quot;: -1\n},\n&quot;management&quot;: {\n&quot;type&quot;: &quot;scaling&quot;,\n&quot;min&quot;: 1,\n&quot;max&quot;: 5,\n&quot;keep_alive&quot;: &quot;5m&quot;,\n&quot;queue_size&quot;: -1\n},\n&quot;get&quot;: {\n&quot;type&quot;: &quot;fixed&quot;,\n&quot;min&quot;: 8,\n&quot;max&quot;: 8,\n&quot;queue_size&quot;: 1000\n},\n&quot;bulk&quot;: {\n&quot;type&quot;: &quot;fixed&quot;,\n&quot;min&quot;: 8,\n&quot;max&quot;: 8,\n&quot;queue_size&quot;: 50\n},\n&quot;snapshot&quot;: {\n&quot;type&quot;: &quot;scaling&quot;,\n&quot;min&quot;: 1,\n&quot;max&quot;: 4,\n&quot;keep_alive&quot;: &quot;5m&quot;,\n&quot;queue_size&quot;: -1\n}\n},\n&quot;transport&quot;: {\n&quot;bound_address&quot;: [\n&quot;0.0.0.0:9300&quot;\n],\n&quot;publish_address&quot;: &quot;172.18.0.5:9300&quot;,\n&quot;profiles&quot;: { }\n},\n&quot;http&quot;: {\n&quot;bound_address&quot;: [\n&quot;0.0.0.0:9200&quot;\n],\n&quot;publish_address&quot;: &quot;172.18.0.5:9200&quot;,\n&quot;max_content_length_in_bytes&quot;: 104857600\n},\n&quot;plugins&quot;: [\n{\n&quot;name&quot;: &quot;head&quot;,\n&quot;version&quot;: &quot;master&quot;,\n&quot;description&quot;: &quot;head - A web front end for an elastic search cluster&quot;,\n&quot;url&quot;: &quot;/_plugin/head/&quot;,\n&quot;jvm&quot;: false,\n&quot;site&quot;: true\n}\n]\n}\n</code></pre>\n<p>I will appreciate any help in solving this issue.</p>\n<p>Best regards,\nRando.</p>\n"},{"tags":["java","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1465508485,"creation_date":1465508485,"answer_id":37736649,"question_id":37736292,"body_markdown":"User means the time spent in CPU in user mode. If you have several cores you can use several seconds of user time per second (every core counts).\r\n\r\nReal time means wall clock time, which probably is the time you are most interested in.\r\n\r\nSo your JVM was paused for 39.92 seconds, using a total of 689 seconds of CPU time (which means you have more than 17 cores).","title":"GC pause duration from GC logs","body":"<p>User means the time spent in CPU in user mode. If you have several cores you can use several seconds of user time per second (every core counts).</p>\n\n<p>Real time means wall clock time, which probably is the time you are most interested in.</p>\n\n<p>So your JVM was paused for 39.92 seconds, using a total of 689 seconds of CPU time (which means you have more than 17 cores).</p>\n"}],"owner":{"account_id":4467164,"reputation":133,"user_id":3634446,"accept_rate":17,"display_name":"user3634446"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37736649,"answer_count":1,"score":1,"last_activity_date":1678895683,"creation_date":1465506855,"question_id":37736292,"body_markdown":"We are using UseParallelGC. \r\n\r\nGC logs looks like \r\n\r\n2016-06-09T19:38:17.362+0000: 655312.397: [Full GC (Ergonomics) [PSYoungGen: 229127K-&gt;0K(3882496K)] [ParOldGen: 8350636K-&gt;5628357K(8388608K)] 8579764K-&gt;5628357K(12271104K), [Metaspace: 111462K-&gt;111462K(1150976K)], 39.9246114 secs] [Times: user=689.16 sys=0.00, real=39.92 secs] \r\n\r\nWe want to know what is GC pause time. Is it 689.16 sec or 39.9246114 secs?\r\n","title":"GC pause duration from GC logs","body":"<p>We are using UseParallelGC. </p>\n\n<p>GC logs looks like </p>\n\n<p>2016-06-09T19:38:17.362+0000: 655312.397: [Full GC (Ergonomics) [PSYoungGen: 229127K->0K(3882496K)] [ParOldGen: 8350636K->5628357K(8388608K)] 8579764K->5628357K(12271104K), [Metaspace: 111462K->111462K(1150976K)], 39.9246114 secs] [Times: user=689.16 sys=0.00, real=39.92 secs] </p>\n\n<p>We want to know what is GC pause time. Is it 689.16 sec or 39.9246114 secs?</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1678779018,"post_id":75728255,"comment_id":133594772,"body_markdown":"If you use `event.getHook().sendMessage(...)` they should all arrive in sequence. You can also replace the `editOriginal` with a `sendMessage` since they do the same for `deferReply()`.","body":"If you use <code>event.getHook().sendMessage(...)</code> they should all arrive in sequence. You can also replace the <code>editOriginal</code> with a <code>sendMessage</code> since they do the same for <code>deferReply()</code>."},{"owner":{"account_id":13809707,"reputation":31,"user_id":9967749,"display_name":"Rudolph561"},"score":0,"creation_date":1678892374,"post_id":75728255,"comment_id":133621657,"body_markdown":"the problem with using `event.gethook().sendMessage()` is that every message sent will appear as a reply to the original message, instead of just a new message to the channel. I&#39;ve edited my original question to show my differing use of `getHook()` and `getChannel()`","body":"the problem with using <code>event.gethook().sendMessage()</code> is that every message sent will appear as a reply to the original message, instead of just a new message to the channel. I&#39;ve edited my original question to show my differing use of <code>getHook()</code> and <code>getChannel()</code>"},{"owner":{"account_id":13809707,"reputation":31,"user_id":9967749,"display_name":"Rudolph561"},"score":0,"creation_date":1678895560,"post_id":75728255,"comment_id":133622724,"body_markdown":"also, I added a screenshot of what happens when I replace the editOriginal with a sendMessage - the bot appears to hang on &quot;thinking&quot; until the event expires in 15m","body":"also, I added a screenshot of what happens when I replace the editOriginal with a sendMessage - the bot appears to hang on &quot;thinking&quot; until the event expires in 15m"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1678896429,"post_id":75728255,"comment_id":133623025,"body_markdown":"Then you&#39;ll have to put all your sendMessage calls inside the callback of editOriginal. However, it is highly recommended to not mix channel messages with interaction messages like you are attempting.","body":"Then you&#39;ll have to put all your sendMessage calls inside the callback of editOriginal. However, it is highly recommended to not mix channel messages with interaction messages like you are attempting."},{"owner":{"account_id":13809707,"reputation":31,"user_id":9967749,"display_name":"Rudolph561"},"score":0,"creation_date":1678899947,"post_id":75728255,"comment_id":133624148,"body_markdown":"I&#39;m not sure how else to handle this scenario. Very often the multiple `channel.sendmessage` requests are actually one large block of text that&#39;s been split up due to having more than 2000 characters. I suppose the only option then is to delete the original reply that houses the original command text send by the user, and instead just send a message to the channel with the command text. Not ideal, but if it&#39;s my only option..","body":"I&#39;m not sure how else to handle this scenario. Very often the multiple <code>channel.sendmessage</code> requests are actually one large block of text that&#39;s been split up due to having more than 2000 characters. I suppose the only option then is to delete the original reply that houses the original command text send by the user, and instead just send a message to the channel with the command text. Not ideal, but if it&#39;s my only option.."}],"owner":{"account_id":13809707,"reputation":31,"user_id":9967749,"display_name":"Rudolph561"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678895502,"creation_date":1678756262,"question_id":75728255,"body_markdown":"My bot makes multiple sendMessage requests to a channel in quick succession in response to slash commands and it often ends up posting them in the wrong order.\r\n\r\nGeneral workflow:\r\n\r\n 1. User sends a Slash Command\r\n 2. `event.getHook().deferReply()`\r\n 3. `event.getHook().editOriginal(...)`\r\n 4. `event.getChannel().sendMessage(...)` - zero or more of these\r\n\r\n\r\nThe first `getChannel().sendMessage(...)` occasionally (~30% of the time) will post to the channel before the `getHook().editOriginal(...)`, which confuses my users.\r\nThe remaining `getChannel().sendMessage(...)`s will typically post in the correct order from that point on.\r\n\r\nI am not utilizing any threading, and running on a single CPU vm, if that matters.\r\n\r\nI&#39;ve tried adding a delay to all the `sendMessage`s, but that seems to make the problem worse and then all the `sendMessage`s get jumbled up out of order.\r\n\r\nI&#39;ve tried avoiding `editOriginal` and just deleting the original reply, but that deletes the user&#39;s command text, which also annoys my users.\r\n\r\n\r\n----------\r\n\r\n\r\nThis is what I want it to look like 100% of the time - only looks like this 70% of the time:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is what it looks like 30% of the time:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThis is what happens when using multiple `event.getHook().sendMessage(...)` in succession:\r\n[![fail1][3]][3]\r\n\r\nThis is what happens when I do not use `getHook().editOrignal(...)` and go straight to `sendMessage(...)` - the bot will &quot;think&quot; until the event expires in 15min:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7BzDT.png\r\n  [2]: https://i.stack.imgur.com/Aszen.png\r\n  [3]: https://i.stack.imgur.com/t4ims.png\r\n  [4]: https://i.stack.imgur.com/pWlyn.png","title":"Can&#39;t control the order of messages posted to a channel in response to slash commands","body":"<p>My bot makes multiple sendMessage requests to a channel in quick succession in response to slash commands and it often ends up posting them in the wrong order.</p>\n<p>General workflow:</p>\n<ol>\n<li>User sends a Slash Command</li>\n<li><code>event.getHook().deferReply()</code></li>\n<li><code>event.getHook().editOriginal(...)</code></li>\n<li><code>event.getChannel().sendMessage(...)</code> - zero or more of these</li>\n</ol>\n<p>The first <code>getChannel().sendMessage(...)</code> occasionally (~30% of the time) will post to the channel before the <code>getHook().editOriginal(...)</code>, which confuses my users.\nThe remaining <code>getChannel().sendMessage(...)</code>s will typically post in the correct order from that point on.</p>\n<p>I am not utilizing any threading, and running on a single CPU vm, if that matters.</p>\n<p>I've tried adding a delay to all the <code>sendMessage</code>s, but that seems to make the problem worse and then all the <code>sendMessage</code>s get jumbled up out of order.</p>\n<p>I've tried avoiding <code>editOriginal</code> and just deleting the original reply, but that deletes the user's command text, which also annoys my users.</p>\n<hr />\n<p>This is what I want it to look like 100% of the time - only looks like this 70% of the time:</p>\n<p><a href=\"https://i.stack.imgur.com/7BzDT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7BzDT.png\" alt=\"enter image description here\" /></a></p>\n<p>This is what it looks like 30% of the time:</p>\n<p><a href=\"https://i.stack.imgur.com/Aszen.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Aszen.png\" alt=\"enter image description here\" /></a></p>\n<p>This is what happens when using multiple <code>event.getHook().sendMessage(...)</code> in succession:\n<a href=\"https://i.stack.imgur.com/t4ims.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t4ims.png\" alt=\"fail1\" /></a></p>\n<p>This is what happens when I do not use <code>getHook().editOrignal(...)</code> and go straight to <code>sendMessage(...)</code> - the bot will &quot;think&quot; until the event expires in 15min:</p>\n<p><a href=\"https://i.stack.imgur.com/pWlyn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pWlyn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","api","cloud","device"],"owner":{"account_id":28024768,"reputation":1,"user_id":21404981,"display_name":"Jannatul Firdous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678895413,"creation_date":1678895413,"question_id":75747068,"body_markdown":"I want to connect Emporia device with my Java API. Now I need the Emporia API key to do that. Can anyone tell me How to get the Emporia API key? I&#39;ve already done registration through their app, but there needs to be an option for getting an API key. Please help me to find it out—thanks.\r\n\r\nI want to solution for finding the API key","title":"Can anyone tell me How to get the API key for Emporia vue gen 2?","body":"<p>I want to connect Emporia device with my Java API. Now I need the Emporia API key to do that. Can anyone tell me How to get the Emporia API key? I've already done registration through their app, but there needs to be an option for getting an API key. Please help me to find it out—thanks.</p>\n<p>I want to solution for finding the API key</p>\n"},{"tags":["java","amazon-dynamodb","integration-testing","amazon-dynamodb-index","dynamo-local"],"answers":[{"comments":[{"owner":{"account_id":16581226,"reputation":17,"user_id":11981757,"display_name":"Heisenberg"},"score":0,"creation_date":1678949796,"post_id":75746986,"comment_id":133632642,"body_markdown":"Do you have any inputs on how I can handle this in my integration tests ?","body":"Do you have any inputs on how I can handle this in my integration tests ?"},{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1678958145,"post_id":75746986,"comment_id":133634607,"body_markdown":"Add 1 second sleep for any strong read after write code paths which the reads are targeting an index. If the reads are targeting the base table, just use strongly consistent reads.","body":"Add 1 second sleep for any strong read after write code paths which the reads are targeting an index. If the reads are targeting the base table, just use strongly consistent reads."}],"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678894962,"creation_date":1678894962,"answer_id":75746986,"question_id":75745585,"body_markdown":"DynamoDB replication to a Global Secondary Index is asynchronous and can take several milliseconds to converge. You must handle this eventual consistency in your test cases, as GSI will not provide strong read after write consistency. ","title":"Facing issue while writing Java Integration Tests due to GSI (dynamoDB)","body":"<p>DynamoDB replication to a Global Secondary Index is asynchronous and can take several milliseconds to converge. You must handle this eventual consistency in your test cases, as GSI will not provide strong read after write consistency.</p>\n"}],"owner":{"account_id":16581226,"reputation":17,"user_id":11981757,"display_name":"Heisenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678894962,"creation_date":1678887986,"question_id":75745585,"body_markdown":"I&#39;ve a dynamo table in on which I&#39;ve configured a Global Secondary Index. \r\n```\r\ntripID -&gt; Partition Key\r\nuserId -&gt; Range Key\r\ndateScheduledAt -&gt; Partition Key of the GSI\r\ntimeScheduledAt -&gt; Range Key of the GSI\r\n```\r\n\r\nI&#39;ve written a method in my code which queries the index and fetches the corresponding records.\r\n\r\nWhile writing ITs to test this feature, I created a local instance of dynamoDB. In the \r\n\r\n - first step of the scenario I added values in the table and \r\n - in the second step, called the method to fetch the values based on a query.\r\n\r\nIt returned an empty array and my test failed when I applied validation. Seems like even tho the values were created in the table, it wasn&#39;t present in the GSI (I checked by querying directly the table before step 2)\r\n\r\nI added a delay of 5 minutes before step 1 &amp; 2 (Thread.sleep()) and this time, the same method returned the correct response and my test was passed.\r\n\r\nThis seems to me is happening because GSI doesn&#39;t guarantee consistency in the system. But the current hack applied by me is not a scalable solution as the number of tests increases. Does anyone have a better solution to writing tests when GSI is involved ?\r\n","title":"Facing issue while writing Java Integration Tests due to GSI (dynamoDB)","body":"<p>I've a dynamo table in on which I've configured a Global Secondary Index.</p>\n<pre><code>tripID -&gt; Partition Key\nuserId -&gt; Range Key\ndateScheduledAt -&gt; Partition Key of the GSI\ntimeScheduledAt -&gt; Range Key of the GSI\n</code></pre>\n<p>I've written a method in my code which queries the index and fetches the corresponding records.</p>\n<p>While writing ITs to test this feature, I created a local instance of dynamoDB. In the</p>\n<ul>\n<li>first step of the scenario I added values in the table and</li>\n<li>in the second step, called the method to fetch the values based on a query.</li>\n</ul>\n<p>It returned an empty array and my test failed when I applied validation. Seems like even tho the values were created in the table, it wasn't present in the GSI (I checked by querying directly the table before step 2)</p>\n<p>I added a delay of 5 minutes before step 1 &amp; 2 (Thread.sleep()) and this time, the same method returned the correct response and my test was passed.</p>\n<p>This seems to me is happening because GSI doesn't guarantee consistency in the system. But the current hack applied by me is not a scalable solution as the number of tests increases. Does anyone have a better solution to writing tests when GSI is involved ?</p>\n"},{"tags":["java","parsing","abstract-syntax-tree","treesitter"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1678884373,"post_id":75744678,"comment_id":133619005,"body_markdown":"What you&#39;re asking is very difficult because there is is no way, just by parsing this file, to be sure that each time `test_simple()` is called (BTW, please beware of Java naming conventions), the field `calculator` holds the same value. Had the field been `private`, it would be possible, but still not trivial. In `test_advanced()`, `calculator` is a local variable, so it&#39;s easier; you still need a non-trivial static analysis mechanism, and it only works in simple cases.","body":"What you&#39;re asking is very difficult because there is is no way, just by parsing this file, to be sure that each time <code>test_simple()</code> is called (BTW, please beware of Java naming conventions), the field <code>calculator</code> holds the same value. Had the field been <code>private</code>, it would be possible, but still not trivial. In <code>test_advanced()</code>, <code>calculator</code> is a local variable, so it&#39;s easier; you still need a non-trivial static analysis mechanism, and it only works in simple cases."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1678884785,"post_id":75744678,"comment_id":133619127,"body_markdown":"@MauricePerry `private` won&#39;t protect you from reflective changes. @OP my biggest question is &quot;why do you need this?&quot;, in being wary of the [XY problem](http://xyproblem.info/)","body":"@MauricePerry <code>private</code> won&#39;t protect you from reflective changes. @OP my biggest question is &quot;why do you need this?&quot;, in being wary of the <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1678884893,"post_id":75744678,"comment_id":133619157,"body_markdown":"@Rogue you&#39;re right, but you could ignore it.","body":"@Rogue you&#39;re right, but you could ignore it."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1678884987,"post_id":75744678,"comment_id":133619179,"body_markdown":"@Rogue same thing goes for `final` BTW","body":"@Rogue same thing goes for <code>final</code> BTW"},{"owner":{"account_id":28022046,"reputation":11,"user_id":21402678,"display_name":"Nick1503"},"score":0,"creation_date":1678893578,"post_id":75744678,"comment_id":133622047,"body_markdown":"Thanks for your comments. I clarified the original question.","body":"Thanks for your comments. I clarified the original question."}],"answers":[{"tags":[],"owner":{"account_id":16540071,"reputation":356,"user_id":11951046,"display_name":"Farrukh Nabiyev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678894939,"creation_date":1678894939,"answer_id":75746983,"question_id":75744678,"body_markdown":"Java uses fully qualified class names in a bytecode. The easiest way for you is to take a `.java` file, compile it using `javac`. You will get a `.class` file with fully qualified names of all classes.\r\n\r\nHere is an example: \r\n\r\n    untitled1\\src&gt;javac Test.java\r\n\r\nIt will produce Test.class file in the same folder. Then you can use:\r\n\r\n    untitled1\\src&gt;javap -v Test.class\r\n\r\n`.class` file will always contain fully qualified class names. I don&#39;t know **anything** about python, but in Java we have a lot of tools to open and read `.class` files. One of them, and most popular is ASM project. So I would suggest you to find a `.class` file reader for python, and read it, not `.java` file. ","title":"Resolving fully qualified class names when parsing Java source code","body":"<p>Java uses fully qualified class names in a bytecode. The easiest way for you is to take a <code>.java</code> file, compile it using <code>javac</code>. You will get a <code>.class</code> file with fully qualified names of all classes.</p>\n<p>Here is an example:</p>\n<pre><code>untitled1\\src&gt;javac Test.java\n</code></pre>\n<p>It will produce Test.class file in the same folder. Then you can use:</p>\n<pre><code>untitled1\\src&gt;javap -v Test.class\n</code></pre>\n<p><code>.class</code> file will always contain fully qualified class names. I don't know <strong>anything</strong> about python, but in Java we have a lot of tools to open and read <code>.class</code> files. One of them, and most popular is ASM project. So I would suggest you to find a <code>.class</code> file reader for python, and read it, not <code>.java</code> file.</p>\n"}],"owner":{"account_id":28022046,"reputation":11,"user_id":21402678,"display_name":"Nick1503"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678894939,"creation_date":1678883229,"question_id":75744678,"body_markdown":"I am trying to parse Java code using a library (preferably python) so that I can parse arbitrary Java files. My goal is to find out for different test classes which code they depend on (which code is being tested). This will be used to train a machine learning model. Below is an example of such code to be parsed:\r\n\r\n```\r\nimport foo.bar.SimpleCalculator;\r\nimport foo.Calculator;\r\nimport foo.bar.AdvancedCalculator;\r\n\r\npublic class Test {\r\n\tCalculator calculator = new SimpleCalculator();\r\n\r\n\tpublic void test_simple() {\r\n\t    calculator.calc(1, 2);\r\n\t}\r\n\r\n\tpublic void test_advanced() {\r\n    \t    AdvancedCalculator calculator = new AdvancedCalculator();\r\n            calculator.calc(1, 2);\r\n        }\r\n}\r\n```\r\n\r\nThe parser should be able to provide the fully-qualified class name of the class on which a method is called. In the example, I would want to know the fully-qualified class name of the class on which the calc() function is called in test_simple() (would be foo.Calculator) and test_advanced() (would be foo.bar.AdvancedCalculator). I&#39;m aware, that the instance type can be changed during run-time (e.g. a SuperSimpleCalculator might have been assigned during runtime), but it would be okay for me to only have the type of the variable declaration.\r\n\r\nI have already tried the python implementation (py-tree-sitter) of the tree-sitter library to parse given Java code but it does not fulfil the requirement specified above, because in the example tree-sitter only provides the variable name of the object (calculator) and does not provide the information whether calc() is called on a Calculator or AdvancedCalculator object.","title":"Resolving fully qualified class names when parsing Java source code","body":"<p>I am trying to parse Java code using a library (preferably python) so that I can parse arbitrary Java files. My goal is to find out for different test classes which code they depend on (which code is being tested). This will be used to train a machine learning model. Below is an example of such code to be parsed:</p>\n<pre><code>import foo.bar.SimpleCalculator;\nimport foo.Calculator;\nimport foo.bar.AdvancedCalculator;\n\npublic class Test {\n    Calculator calculator = new SimpleCalculator();\n\n    public void test_simple() {\n        calculator.calc(1, 2);\n    }\n\n    public void test_advanced() {\n            AdvancedCalculator calculator = new AdvancedCalculator();\n            calculator.calc(1, 2);\n        }\n}\n</code></pre>\n<p>The parser should be able to provide the fully-qualified class name of the class on which a method is called. In the example, I would want to know the fully-qualified class name of the class on which the calc() function is called in test_simple() (would be foo.Calculator) and test_advanced() (would be foo.bar.AdvancedCalculator). I'm aware, that the instance type can be changed during run-time (e.g. a SuperSimpleCalculator might have been assigned during runtime), but it would be okay for me to only have the type of the variable declaration.</p>\n<p>I have already tried the python implementation (py-tree-sitter) of the tree-sitter library to parse given Java code but it does not fulfil the requirement specified above, because in the example tree-sitter only provides the variable name of the object (calculator) and does not provide the information whether calc() is called on a Calculator or AdvancedCalculator object.</p>\n"},{"tags":["java","appium"],"answers":[{"comments":[{"owner":{"account_id":28024625,"reputation":1,"user_id":21404862,"display_name":"lea automan"},"score":1,"creation_date":1678896055,"post_id":75746965,"comment_id":133622906,"body_markdown":"thank you sir, I think this syntax error is the key, and actually I am also new in Java too","body":"thank you sir, I think this syntax error is the key, and actually I am also new in Java too"}],"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678894832,"creation_date":1678894832,"answer_id":75746965,"question_id":75746839,"body_markdown":"I have no clue about appium, but you have a syntax error in your Java code:\r\n\r\n    package.iosautomationpackage;\r\n\r\nshould be:\r\n\r\n    package iosautomationpackage;\r\n\r\n(space between package and the packagename instead of a dot).\r\n\r\nAlso make sure the package name is correct.","title":"error message java: &lt;identifier&gt; expected","body":"<p>I have no clue about appium, but you have a syntax error in your Java code:</p>\n<pre><code>package.iosautomationpackage;\n</code></pre>\n<p>should be:</p>\n<pre><code>package iosautomationpackage;\n</code></pre>\n<p>(space between package and the packagename instead of a dot).</p>\n<p>Also make sure the package name is correct.</p>\n"}],"owner":{"account_id":28024625,"reputation":1,"user_id":21404862,"display_name":"lea automan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678894832,"creation_date":1678894184,"question_id":75746839,"body_markdown":"I am using the IntelliJ IDEA to edit my java, I want to using appium to launch the app on iOS simulator, but return java: &lt;identifier&gt; expected. Here is my code below, may I know where is the wrong? thanks\r\n\r\n\r\n```\r\npackage.iosautomationpackage;\r\n\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport io.appium.java_client.ios.IOSDriver;\r\nimport io.appium.java_client.remote.MobileCapabilityType;\r\n\r\npublic class Example1InstallAppOnSimulator {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tDesiredCapabilities dc = new DesiredCapabilities();\r\n\r\n\t\tdc.setCapability(MobileCapabilityType.AUTOMATION_NAME, &quot;XCUITest&quot;);\r\n\t\tdc.setCapability(MobileCapabilityType.PLATFORM_NAME, &quot;iOS&quot;);\r\n\t\tdc.setCapability(MobileCapabilityType.PLATFORM_VERSION, &quot;16.2&quot;);\r\n\t\tdc.setCapability(MobileCapabilityType.DEVICE_NAME, &quot;iPhone SE (3rd generation)&quot;);\r\n\t\tdc.setCapability(MobileCapabilityType.APP, &quot;/Users/raymond/Downloads/LearnAutoQA_01/ios-uicatalog-master/UIKitCatalog/UIKitCatalog/UIKitCatalog.entitlements&quot;);\r\n\r\n\t\tURL url = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\r\n\r\n\t\tIOSDriver driver = new IOSDriver(url, dc);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI want to run the code without this error, thanks","title":"error message java: &lt;identifier&gt; expected","body":"<p>I am using the IntelliJ IDEA to edit my java, I want to using appium to launch the app on iOS simulator, but return java:  expected. Here is my code below, may I know where is the wrong? thanks</p>\n<pre><code>package.iosautomationpackage;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport io.appium.java_client.ios.IOSDriver;\nimport io.appium.java_client.remote.MobileCapabilityType;\n\npublic class Example1InstallAppOnSimulator {\n\n    public static void main(String[] args) {\n\n        DesiredCapabilities dc = new DesiredCapabilities();\n\n        dc.setCapability(MobileCapabilityType.AUTOMATION_NAME, &quot;XCUITest&quot;);\n        dc.setCapability(MobileCapabilityType.PLATFORM_NAME, &quot;iOS&quot;);\n        dc.setCapability(MobileCapabilityType.PLATFORM_VERSION, &quot;16.2&quot;);\n        dc.setCapability(MobileCapabilityType.DEVICE_NAME, &quot;iPhone SE (3rd generation)&quot;);\n        dc.setCapability(MobileCapabilityType.APP, &quot;/Users/raymond/Downloads/LearnAutoQA_01/ios-uicatalog-master/UIKitCatalog/UIKitCatalog/UIKitCatalog.entitlements&quot;);\n\n        URL url = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;);\n\n        IOSDriver driver = new IOSDriver(url, dc);\n    }\n}\n</code></pre>\n<p>I want to run the code without this error, thanks</p>\n"},{"tags":["java","spring-boot","junit","hsqldb"],"answers":[{"tags":[],"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678894817,"creation_date":1678894817,"answer_id":75746961,"question_id":75743314,"body_markdown":"The Java command to run the application must include the class names for external methods. For example:\r\n\r\n    java -Dhsqldb.method_class_names=&quot;com.source.fix.PostgresDate.date&quot; ...\r\n\r\nYou should be able to set this system property by adding it to the Spring framework configuring.","title":"Upgrading HSQLDB from 2.7.0 to 2.7.1 breaks tests","body":"<p>The Java command to run the application must include the class names for external methods. For example:</p>\n<pre><code>java -Dhsqldb.method_class_names=&quot;com.source.fix.PostgresDate.date&quot; ...\n</code></pre>\n<p>You should be able to set this system property by adding it to the Spring framework configuring.</p>\n"}],"owner":{"account_id":26402699,"reputation":3,"user_id":20052940,"display_name":"fonap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75746961,"answer_count":1,"score":0,"last_activity_date":1678894817,"creation_date":1678875329,"question_id":75743314,"body_markdown":"I&#39;m trying to upgrade HSQLDB from 2.7.0 to 2.7.1 but it breaks the tests. The test can be whatever, the error is always the same.\r\n\r\nTest class:\r\n```\r\n@RunWith( SpringJUnit4ClassRunner.class )\r\n@Transactional( transactionManager = &quot;txManager&quot; )\r\n@Rollback\r\n@ContextConfiguration( &quot;classpath:applicationContext-test.xml&quot; )\r\npublic class JdbcOrdersDaoImplTest {\r\n\r\n@Autowired\r\nprivate OrdersAdminDao hsqlOrdersDao;\r\n\r\n@Test\r\npublic void setUp() {\r\n}\r\n```\r\n\r\napplicationContext-test.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-4.3.xsd\r\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd&quot;&gt;\r\n\r\n    &lt;import resource=&quot;classpath:applicationContext-Order-SQL.xml&quot;/&gt;\r\n    &lt;import resource=&quot;classpath:applicationContext-OrderEvent-SQL.xml&quot;/&gt;\r\n    &lt;import resource=&quot;classpath:applicationContext-Message-SQL.xml&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;hsqlDataSource&quot; class=&quot;org.apache.commons.dbcp2.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;org.hsqldb.jdbcDriver&quot;/&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:hsqldb:mem:test;sql.syntax_pgs=true;hsqldb.sqllog=3;hsqldb.applog=3&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;Foo&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;jdbc:initialize-database data-source=&quot;hsqlDataSource&quot;&gt;\r\n        &lt;jdbc:script location=&quot;file:src/main/sql/archive/5.0/init_core_structure.sql&quot;/&gt;\r\n        &lt;jdbc:script location=&quot;classpath:hsqldb-create-sequence.sql&quot;/&gt;\r\n        &lt;jdbc:script location=&quot;classpath:create-date-function.sql&quot;/&gt;\r\n    &lt;/jdbc:initialize-database&gt;\r\n\r\n    &lt;bean id=&quot;hsqlOrdersDao&quot; class=&quot;com.source.fix.gateway.data.impl.JdbcOrdersDaoImpl&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;hsqlDataSource&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;hsqlDataSource&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n&lt;/beans&gt;\r\n```\r\n\r\nStack trace:\r\n```\r\nFailed to load ApplicationContext\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n(...)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.jdbc.datasource.init.DataSourceInitializer#0&#39;: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [create-date-function.sql]: CREATE FUNCTION DATE(v TIMESTAMP) RETURNS DATE LANGUAGE JAVA DETERMINISTIC NO SQL EXTERNAL NAME &#39;CLASSPATH:com.source.fix.PostgresDate.date&#39;; nested exception is java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: com.source.fix.PostgresDate\r\n(...)\r\nCaused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [create-date-function.sql]: CREATE FUNCTION DATE(v TIMESTAMP) RETURNS DATE LANGUAGE JAVA DETERMINISTIC NO SQL EXTERNAL NAME &#39;CLASSPATH:com.source.fix.PostgresDate.date&#39;; nested exception is java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: com.source.fix.PostgresDate\r\n(...)\r\nCaused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: com.source.fix.PostgresDate\r\n(...)\r\nCaused by: org.hsqldb.HsqlException: user lacks privilege or object not found: com.source.fix.PostgresDate\r\n```\r\n\r\nFor context here&#39;s the changelist for 2.7.1:\r\n*20 Oct 2022 - version 2.7.1\r\n-- version 2.7.1 jar requires JRE 11 or later - tested up to Java 17\r\n-- version 2.7.1 alternative jar requires JRE 8 or later\r\n-- CVE-2022-41853 disallow calling java methods - setting the hsqldb.method_class_names is required for accessing java methods\r\n-- enhancements to RECURSIVE CTE&#39;s*\r\n\r\nand a description of CVE-2022-41853 from NIST:\r\n*Those using java.sql.Statement or java.sql.PreparedStatement in hsqldb (HyperSQL DataBase) to process untrusted input may be vulnerable to a remote code execution attack. By default it is allowed to call any static method of any Java class in the classpath resulting in code execution. The issue can be prevented by updating to 2.7.1 or by setting the system property &quot;hsqldb.method_class_names&quot; to classes which are allowed to be called. For example, System.setProperty(&quot;hsqldb.method_class_names&quot;, &quot;abc&quot;) or Java argument -Dhsqldb.method_class_names=&quot;abc&quot; can be used. From version 2.7.1 all classes by default are not accessible except those in java.lang.Math and need to be manually enabled.*\r\n\r\n\r\nIf I understand correctly (maybe I&#39;m wrong), the problem lies in the fact that application context is not loaded automatically and I have to enable it manually. I&#39;m not sure how to do that, though.","title":"Upgrading HSQLDB from 2.7.0 to 2.7.1 breaks tests","body":"<p>I'm trying to upgrade HSQLDB from 2.7.0 to 2.7.1 but it breaks the tests. The test can be whatever, the error is always the same.</p>\n<p>Test class:</p>\n<pre><code>@RunWith( SpringJUnit4ClassRunner.class )\n@Transactional( transactionManager = &quot;txManager&quot; )\n@Rollback\n@ContextConfiguration( &quot;classpath:applicationContext-test.xml&quot; )\npublic class JdbcOrdersDaoImplTest {\n\n@Autowired\nprivate OrdersAdminDao hsqlOrdersDao;\n\n@Test\npublic void setUp() {\n}\n</code></pre>\n<p>applicationContext-test.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-4.3.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd&quot;&gt;\n\n    &lt;import resource=&quot;classpath:applicationContext-Order-SQL.xml&quot;/&gt;\n    &lt;import resource=&quot;classpath:applicationContext-OrderEvent-SQL.xml&quot;/&gt;\n    &lt;import resource=&quot;classpath:applicationContext-Message-SQL.xml&quot;/&gt;\n\n    &lt;bean id=&quot;hsqlDataSource&quot; class=&quot;org.apache.commons.dbcp2.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;org.hsqldb.jdbcDriver&quot;/&gt;\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:hsqldb:mem:test;sql.syntax_pgs=true;hsqldb.sqllog=3;hsqldb.applog=3&quot;/&gt;\n        &lt;property name=&quot;username&quot; value=&quot;Foo&quot;/&gt;\n        &lt;property name=&quot;password&quot; value=&quot;&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;jdbc:initialize-database data-source=&quot;hsqlDataSource&quot;&gt;\n        &lt;jdbc:script location=&quot;file:src/main/sql/archive/5.0/init_core_structure.sql&quot;/&gt;\n        &lt;jdbc:script location=&quot;classpath:hsqldb-create-sequence.sql&quot;/&gt;\n        &lt;jdbc:script location=&quot;classpath:create-date-function.sql&quot;/&gt;\n    &lt;/jdbc:initialize-database&gt;\n\n    &lt;bean id=&quot;hsqlOrdersDao&quot; class=&quot;com.source.fix.gateway.data.impl.JdbcOrdersDaoImpl&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;hsqlDataSource&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;txManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;hsqlDataSource&quot;/&gt;\n    &lt;/bean&gt;\n\n\n&lt;/beans&gt;\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>Failed to load ApplicationContext\njava.lang.IllegalStateException: Failed to load ApplicationContext\n(...)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [create-date-function.sql]: CREATE FUNCTION DATE(v TIMESTAMP) RETURNS DATE LANGUAGE JAVA DETERMINISTIC NO SQL EXTERNAL NAME 'CLASSPATH:com.source.fix.PostgresDate.date'; nested exception is java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: com.source.fix.PostgresDate\n(...)\nCaused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [create-date-function.sql]: CREATE FUNCTION DATE(v TIMESTAMP) RETURNS DATE LANGUAGE JAVA DETERMINISTIC NO SQL EXTERNAL NAME 'CLASSPATH:com.source.fix.PostgresDate.date'; nested exception is java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: com.source.fix.PostgresDate\n(...)\nCaused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: com.source.fix.PostgresDate\n(...)\nCaused by: org.hsqldb.HsqlException: user lacks privilege or object not found: com.source.fix.PostgresDate\n</code></pre>\n<p>For context here's the changelist for 2.7.1:\n<em>20 Oct 2022 - version 2.7.1\n-- version 2.7.1 jar requires JRE 11 or later - tested up to Java 17\n-- version 2.7.1 alternative jar requires JRE 8 or later\n-- CVE-2022-41853 disallow calling java methods - setting the hsqldb.method_class_names is required for accessing java methods\n-- enhancements to RECURSIVE CTE's</em></p>\n<p>and a description of CVE-2022-41853 from NIST:\n<em>Those using java.sql.Statement or java.sql.PreparedStatement in hsqldb (HyperSQL DataBase) to process untrusted input may be vulnerable to a remote code execution attack. By default it is allowed to call any static method of any Java class in the classpath resulting in code execution. The issue can be prevented by updating to 2.7.1 or by setting the system property &quot;hsqldb.method_class_names&quot; to classes which are allowed to be called. For example, System.setProperty(&quot;hsqldb.method_class_names&quot;, &quot;abc&quot;) or Java argument -Dhsqldb.method_class_names=&quot;abc&quot; can be used. From version 2.7.1 all classes by default are not accessible except those in java.lang.Math and need to be manually enabled.</em></p>\n<p>If I understand correctly (maybe I'm wrong), the problem lies in the fact that application context is not loaded automatically and I have to enable it manually. I'm not sure how to do that, though.</p>\n"},{"tags":["java","amazon-web-services","aws-api-gateway","openapi","aws-cdk"],"owner":{"account_id":2111551,"reputation":17583,"user_id":1876739,"accept_rate":94,"display_name":"Ram&#243;n J Romero y Vigil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678894754,"creation_date":1678892890,"question_id":75746592,"body_markdown":"AWS CDK provides the ability to instantiate an API Gateway using an OpenAPI spec file that exists locally:\r\n    \r\n    String specFilePath = &quot;spec_file.yaml&quot;\r\n\r\n    Asset openApiAsset = Asset.Builder.create(..., &quot;assetId&quot;).path(specFilePath).build()\r\n\r\n    Map&lt;String, String&gt; transformMap = Map.of(&quot;Location&quot;, openAPIAsset.getS3ObjectUrl)\r\n\r\n    IResolvable data = Fn.transform(&quot;AWS::Include&quot;, transformMap)\r\n\r\n    InlineApiDefinition apiDefinition = ApiDefinition.fromInline(data)\r\n\r\n    SpecRestApi specRestApi = SpecRestApi.Builder.create(...).apiDefinition(apiDefinition)...\r\n\r\n**How can variables be substituted into the spec file at runtime?**  \r\n\r\nIn other words, is it possible for `spec_file.yaml` to have a placeholder resembling `${fill_in_at_runtime}` that can be passed in when instantiating the `ApiDefinition`?  Something of the form\r\n\r\n    InlineApiDefinition apiDefinition =\r\n        ApiDefinition.fromInline(data).replace(&quot;fill_in_at_runtime&quot;, &quot;42&quot;)\r\n\r\nThank you in advance for your consideration and response.","title":"Passing Variables to OpenApi Spec File for API Gateway Instantiation using CDK","body":"<p>AWS CDK provides the ability to instantiate an API Gateway using an OpenAPI spec file that exists locally:</p>\n<pre><code>String specFilePath = &quot;spec_file.yaml&quot;\n\nAsset openApiAsset = Asset.Builder.create(..., &quot;assetId&quot;).path(specFilePath).build()\n\nMap&lt;String, String&gt; transformMap = Map.of(&quot;Location&quot;, openAPIAsset.getS3ObjectUrl)\n\nIResolvable data = Fn.transform(&quot;AWS::Include&quot;, transformMap)\n\nInlineApiDefinition apiDefinition = ApiDefinition.fromInline(data)\n\nSpecRestApi specRestApi = SpecRestApi.Builder.create(...).apiDefinition(apiDefinition)...\n</code></pre>\n<p><strong>How can variables be substituted into the spec file at runtime?</strong></p>\n<p>In other words, is it possible for <code>spec_file.yaml</code> to have a placeholder resembling <code>${fill_in_at_runtime}</code> that can be passed in when instantiating the <code>ApiDefinition</code>?  Something of the form</p>\n<pre><code>InlineApiDefinition apiDefinition =\n    ApiDefinition.fromInline(data).replace(&quot;fill_in_at_runtime&quot;, &quot;42&quot;)\n</code></pre>\n<p>Thank you in advance for your consideration and response.</p>\n"},{"tags":["java","spring","unicode","unicode-escapes"],"comments":[{"owner":{"account_id":13187824,"reputation":13,"user_id":9525203,"display_name":"Adam Jones"},"score":0,"creation_date":1678895814,"post_id":75746927,"comment_id":133622825,"body_markdown":"Closing question as stumbled upon an apache library that solves it for me. For anyone else interested in the solution: \n\nimport org.apache.commons.text.StringEscapeUtils;\nString unicodeString = StringEscapeUtils.unescapeJava(valueFromDb);","body":"Closing question as stumbled upon an apache library that solves it for me. For anyone else interested in the solution:   import org.apache.commons.text.StringEscapeUtils; String unicodeString = StringEscapeUtils.unescapeJava(valueFromDb);"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678896481,"post_id":75746927,"comment_id":133623041,"body_markdown":"Something is wrong here.  You should not need StringEscapeUtils at all.  `&quot;test\\u03c9test&quot;` is exactly the same as typing `&quot;testωtest&quot;` (assuming the compiler knows your file’s encoding, which is probably UTF-8).  The \\unnnn notation is interpreted at compile time, not at runtime by any library.","body":"Something is wrong here.  You should not need StringEscapeUtils at all.  <code>&quot;test\\u03c9test&quot;</code> is exactly the same as typing <code>&quot;testωtest&quot;</code> (assuming the compiler knows your file’s encoding, which is probably UTF-8).  The \\unnnn notation is interpreted at compile time, not at runtime by any library."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1678919263,"post_id":75746927,"comment_id":133628732,"body_markdown":"It&#39;s good that you resolved this yourself, but you haven&#39;t given enough details in your question for others to help. It really needs a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). And @VGR is correct that [Unicode Escapes](https://docs.oracle.com/javase/specs/jls/se19/html/jls-3.html#jls-3.3) are resolved during compilation rather than at runtime, so fixing your issue by using `StringEscapeUtils()` doesn&#39;t make sense to me either. Also see [this SO answer](https://stackoverflow.com/a/35901308/2985643) for more information.","body":"It&#39;s good that you resolved this yourself, but you haven&#39;t given enough details in your question for others to help. It really needs a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>. And @VGR is correct that <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-3.html#jls-3.3\" rel=\"nofollow noreferrer\">Unicode Escapes</a> are resolved during compilation rather than at runtime, so fixing your issue by using <code>StringEscapeUtils()</code> doesn&#39;t make sense to me either. Also see <a href=\"https://stackoverflow.com/a/35901308/2985643\">this SO answer</a> for more information."}],"owner":{"account_id":13187824,"reputation":13,"user_id":9525203,"display_name":"Adam Jones"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678894618,"creation_date":1678894618,"question_id":75746927,"body_markdown":"I have a value stored in a db say &quot;test\\u03C9test&quot;\r\n\r\nmy code is along the lines of\r\n\r\n\r\n```\r\nvar value = &lt;my query&gt; // working fine\r\ntry {\r\n     test(&quot;&lt;root&gt;&quot; + value + &quot;&lt;/root&gt;&quot;);\r\n     //test(&quot;&lt;root&gt;test\\u03C9test&lt;/root&gt;&quot;);\r\n} catch (Exception e){\r\n     System.out.println(e);\r\n}\r\n```\r\n\r\nmy 2 method calls to test appear to call with the exact same parameter however the first does not convert the \\u03C9 into its unicode character\r\nit seems like maybe spring is escaping the backslash? \r\n\r\nbut trying \r\n.replaceAll(&quot;\\\\\\\\\\\\\\\\&quot;, &quot;\\\\\\\\&quot;); is not having the desired effect. Am I missing something? ","title":"Retrieving unicode character from db in spring","body":"<p>I have a value stored in a db say &quot;test\\u03C9test&quot;</p>\n<p>my code is along the lines of</p>\n<pre><code>var value = &lt;my query&gt; // working fine\ntry {\n     test(&quot;&lt;root&gt;&quot; + value + &quot;&lt;/root&gt;&quot;);\n     //test(&quot;&lt;root&gt;test\\u03C9test&lt;/root&gt;&quot;);\n} catch (Exception e){\n     System.out.println(e);\n}\n</code></pre>\n<p>my 2 method calls to test appear to call with the exact same parameter however the first does not convert the \\u03C9 into its unicode character\nit seems like maybe spring is escaping the backslash?</p>\n<p>but trying\n.replaceAll(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;); is not having the desired effect. Am I missing something?</p>\n"},{"tags":["java","maven","logback","slf4j","apache-commons-logging"],"comments":[{"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"score":0,"creation_date":1678837643,"post_id":75735788,"comment_id":133610360,"body_markdown":"Could this question have answers to your question? https://stackoverflow.com/questions/47554201/how-to-disable-pdfbox-warn-logging","body":"Could this question have answers to your question? <a href=\"https://stackoverflow.com/questions/47554201/how-to-disable-pdfbox-warn-logging\" title=\"how to disable pdfbox warn logging\">stackoverflow.com/questions/47554201/&hellip;</a>"},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1678878410,"post_id":75735788,"comment_id":133617272,"body_markdown":"Quite useful, but this will turn off logging entirely. I&#39;d like to have some logs ignored.","body":"Quite useful, but this will turn off logging entirely. I&#39;d like to have some logs ignored."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678879000,"post_id":75735788,"comment_id":133617440,"body_markdown":"For such requirement/issue you tell quite few about &quot;running the fat jar&quot; ..it seems important.","body":"For such requirement/issue you tell quite few about &quot;running the fat jar&quot; ..it seems important."},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":1,"creation_date":1678880178,"post_id":75735788,"comment_id":133617778,"body_markdown":"@xerx593 Thanks for this hint. I will elaborate more on this.","body":"@xerx593 Thanks for this hint. I will elaborate more on this."}],"answers":[{"comments":[{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1678894721,"post_id":75746894,"comment_id":133622441,"body_markdown":"Well, using debugger is a way of tackling the problem I&#39;ve got. But this suggestion should have been a comment rather than an answer, thought.","body":"Well, using debugger is a way of tackling the problem I&#39;ve got. But this suggestion should have been a comment rather than an answer, thought."},{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":1,"creation_date":1678894897,"post_id":75746894,"comment_id":133622505,"body_markdown":"agree, but it&#39;s too long for a comment","body":"agree, but it&#39;s too long for a comment"}],"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678894497,"creation_date":1678894497,"answer_id":75746894,"question_id":75735788,"body_markdown":"1. create a separate &quot;Hello World&quot; project without dependencies\r\n2. add your **fat jar** as a single dependency\r\n3. invoke **fat jar** main class from &quot;Hello World&quot; main class\r\n4. set breakpoint in `org.slf4j.LoggerFactory#bind` method\r\n5. debug **fat jar** issues with class loading\r\n","title":"Filter out logs from external dependency","body":"<ol>\n<li>create a separate &quot;Hello World&quot; project without dependencies</li>\n<li>add your <strong>fat jar</strong> as a single dependency</li>\n<li>invoke <strong>fat jar</strong> main class from &quot;Hello World&quot; main class</li>\n<li>set breakpoint in <code>org.slf4j.LoggerFactory#bind</code> method</li>\n<li>debug <strong>fat jar</strong> issues with class loading</li>\n</ol>\n"}],"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678894497,"creation_date":1678810663,"question_id":75735788,"body_markdown":"**tl;dr**: I&#39;d like to filter out some unneeded logs (and leave other) from `pdfbox` library. This library uses `commons-logging` facade.\r\n\r\n**Longer version**\r\n\r\nI&#39;d like to filter out some unneeded logs (and leave other) from `pdfbox` library. It has in its own dependencies `commons-logging`, which is (as I understand it) a facade similar to `slf4j`. I also have another dependency (`picocli`), which also has dependency to `commons-logging` albeit with a newer version. There is a project called `jcl-over-slf4j` which redirects logs coming from `commons-logging` to `slf4j` facade. I decided to use it together with `logback-classic`, a logger that natively implements `slf4j`. I also wrote a custom filter to filter out logs I don&#39;t need. Everything works fine when I run junit test (from IntelliJ and using CLI - by running `mvn clean package`). But running the final (`fat`) jar including my own code and all the dependencies results in a message printed out to console saying that I don&#39;t have any supported logger on classpath:\r\n\r\n    SLF4J: No SLF4J providers were found.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\n\r\n Why is that? It seems that everything works fine during test execution and fails to work when using fat jar.\r\n\r\n\r\n**UPDATE**\r\n\r\nAs this really seems important, I will describe the `fat` jar issue and how I run my application.\r\nTo create `fat` jar I use the `maven shade plugin` together with the configuration seen below. I create `fat` jar by executing `mvn clean package` and run the application by `java -jar myapp.jar`.\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;3.2.4&lt;/version&gt;\r\n       &lt;configuration&gt;\r\n          &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n          &lt;transformers&gt;\r\n             &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                &lt;mainClass&gt;com.github.menteith.pdfexample.Main&lt;/mainClass&gt;\r\n                &lt;manifestEntries&gt;\r\n                   &lt;Built-By /&gt;\r\n                &lt;/manifestEntries&gt;\r\n             &lt;/transformer&gt;\r\n          &lt;/transformers&gt;\r\n          &lt;filters&gt;\r\n             &lt;filter&gt;\r\n                &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                &lt;excludes&gt;\r\n                   &lt;exclude&gt;META-INF/**&lt;/exclude&gt;\r\n                   &lt;exclude&gt;module-info.class&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n             &lt;/filter&gt;\r\n          &lt;/filters&gt;\r\n       &lt;/configuration&gt;\r\n       &lt;executions&gt;\r\n          &lt;execution&gt;\r\n             &lt;phase&gt;package&lt;/phase&gt;\r\n             &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n             &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nHere&#39;s my custom Logback filter:\r\n\r\n    class LogbackTurboFilter\r\n        extends TurboFilter {\r\n    \r\n       @Override\r\n       public FilterReply decide(final Marker marker, final Logger logger, final Level level,\r\n           final String format, final Object[] params, final Throwable t) {\r\n    \r\n          System.out.println(&quot;In decide!!!&quot;); // this is printed during tests, but not when final jar is run\r\n    \r\n          if ( !isStarted() ) {\r\n             return FilterReply.NEUTRAL;\r\n          }\r\n    \r\n          if ( level == Level.WARN\r\n               &amp;&amp; logger.getName().startsWith(&quot;org.apache.pdfbox&quot;) ) {\r\n             return FilterReply.DENY;\r\n          } else {\r\n             return FilterReply.NEUTRAL;\r\n          }\r\n       }\r\n    }\r\n\r\nHere&#39;s my `logback.xml`:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;turboFilter class=&quot;com.github.menteith.pdfexample.LogbackTurboFilter&quot;/&gt;\r\n        &lt;appender name=&quot;STDOUT&quot;\r\n                class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n                &lt;pattern&gt;%-4relative [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nRelevant parts of `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n    \t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n    \t&lt;version&gt;2.0.27&lt;/version&gt;\r\n    \t&lt;!-- picocli has never artifact --&gt;\r\n    \t&lt;exclusions&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;info.picocli&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;picocli&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.7.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.4.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd `dependency tree` from `maven`:\r\n\r\n    +- org.apache.pdfbox:pdfbox:jar:2.0.27:compile\r\n    |  \\- org.apache.pdfbox:fontbox:jar:2.0.27:compile\r\n    +- info.picocli:picocli:jar:4.7.1:compile\r\n    +- org.slf4j:jcl-over-slf4j:jar:2.0.6:compile\r\n    |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\r\n    +- ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n    |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\r\n    +- org.bouncycastle:bcprov-jdk15on:jar:1.70:compile\r\n    +- org.bouncycastle:bcmail-jdk15on:jar:1.70:compile\r\n    |  +- org.bouncycastle:bcutil-jdk15on:jar:1.70:compile\r\n    |  \\- org.bouncycastle:bcpkix-jdk15on:jar:1.70:compile\r\n    +- com.github.jai-imageio:jai-imageio-jpeg2000:jar:1.4.0:compile\r\n    |  \\- com.github.jai-imageio:jai-imageio-core:jar:1.4.0:compile\r\n    +- org.projectlombok:lombok:jar:1.18.24:provided\r\n    +- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\r\n    |  +- org.junit.platform:junit-platform-engine:jar:1.9.2:test\r\n    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n    |  |  \\- org.junit.platform:junit-platform-commons:jar:1.9.2:test\r\n    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\r\n    |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n    \\- org.assertj:assertj-core:jar:3.24.0:test\r\n       \\- net.bytebuddy:byte-buddy:jar:1.12.20:test","title":"Filter out logs from external dependency","body":"<p><strong>tl;dr</strong>: I'd like to filter out some unneeded logs (and leave other) from <code>pdfbox</code> library. This library uses <code>commons-logging</code> facade.</p>\n<p><strong>Longer version</strong></p>\n<p>I'd like to filter out some unneeded logs (and leave other) from <code>pdfbox</code> library. It has in its own dependencies <code>commons-logging</code>, which is (as I understand it) a facade similar to <code>slf4j</code>. I also have another dependency (<code>picocli</code>), which also has dependency to <code>commons-logging</code> albeit with a newer version. There is a project called <code>jcl-over-slf4j</code> which redirects logs coming from <code>commons-logging</code> to <code>slf4j</code> facade. I decided to use it together with <code>logback-classic</code>, a logger that natively implements <code>slf4j</code>. I also wrote a custom filter to filter out logs I don't need. Everything works fine when I run junit test (from IntelliJ and using CLI - by running <code>mvn clean package</code>). But running the final (<code>fat</code>) jar including my own code and all the dependencies results in a message printed out to console saying that I don't have any supported logger on classpath:</p>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\n</code></pre>\n<p>Why is that? It seems that everything works fine during test execution and fails to work when using fat jar.</p>\n<p><strong>UPDATE</strong></p>\n<p>As this really seems important, I will describe the <code>fat</code> jar issue and how I run my application.\nTo create <code>fat</code> jar I use the <code>maven shade plugin</code> together with the configuration seen below. I create <code>fat</code> jar by executing <code>mvn clean package</code> and run the application by <code>java -jar myapp.jar</code>.</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.2.4&lt;/version&gt;\n   &lt;configuration&gt;\n      &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n      &lt;transformers&gt;\n         &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n            &lt;mainClass&gt;com.github.menteith.pdfexample.Main&lt;/mainClass&gt;\n            &lt;manifestEntries&gt;\n               &lt;Built-By /&gt;\n            &lt;/manifestEntries&gt;\n         &lt;/transformer&gt;\n      &lt;/transformers&gt;\n      &lt;filters&gt;\n         &lt;filter&gt;\n            &lt;artifact&gt;*:*&lt;/artifact&gt;\n            &lt;excludes&gt;\n               &lt;exclude&gt;META-INF/**&lt;/exclude&gt;\n               &lt;exclude&gt;module-info.class&lt;/exclude&gt;\n            &lt;/excludes&gt;\n         &lt;/filter&gt;\n      &lt;/filters&gt;\n   &lt;/configuration&gt;\n   &lt;executions&gt;\n      &lt;execution&gt;\n         &lt;phase&gt;package&lt;/phase&gt;\n         &lt;goals&gt;\n            &lt;goal&gt;shade&lt;/goal&gt;\n         &lt;/goals&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Here's my custom Logback filter:</p>\n<pre><code>class LogbackTurboFilter\n    extends TurboFilter {\n\n   @Override\n   public FilterReply decide(final Marker marker, final Logger logger, final Level level,\n       final String format, final Object[] params, final Throwable t) {\n\n      System.out.println(&quot;In decide!!!&quot;); // this is printed during tests, but not when final jar is run\n\n      if ( !isStarted() ) {\n         return FilterReply.NEUTRAL;\n      }\n\n      if ( level == Level.WARN\n           &amp;&amp; logger.getName().startsWith(&quot;org.apache.pdfbox&quot;) ) {\n         return FilterReply.DENY;\n      } else {\n         return FilterReply.NEUTRAL;\n      }\n   }\n}\n</code></pre>\n<p>Here's my <code>logback.xml</code>:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;turboFilter class=&quot;com.github.menteith.pdfexample.LogbackTurboFilter&quot;/&gt;\n    &lt;appender name=&quot;STDOUT&quot;\n            class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n            &lt;pattern&gt;%-4relative [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Relevant parts of <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n    &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n    &lt;version&gt;2.0.27&lt;/version&gt;\n    &lt;!-- picocli has never artifact --&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;info.picocli&lt;/groupId&gt;\n    &lt;artifactId&gt;picocli&lt;/artifactId&gt;\n    &lt;version&gt;4.7.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n    &lt;version&gt;2.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.4.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And <code>dependency tree</code> from <code>maven</code>:</p>\n<pre><code>+- org.apache.pdfbox:pdfbox:jar:2.0.27:compile\n|  \\- org.apache.pdfbox:fontbox:jar:2.0.27:compile\n+- info.picocli:picocli:jar:4.7.1:compile\n+- org.slf4j:jcl-over-slf4j:jar:2.0.6:compile\n|  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\n+- ch.qos.logback:logback-classic:jar:1.4.5:compile\n|  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\n+- org.bouncycastle:bcprov-jdk15on:jar:1.70:compile\n+- org.bouncycastle:bcmail-jdk15on:jar:1.70:compile\n|  +- org.bouncycastle:bcutil-jdk15on:jar:1.70:compile\n|  \\- org.bouncycastle:bcpkix-jdk15on:jar:1.70:compile\n+- com.github.jai-imageio:jai-imageio-jpeg2000:jar:1.4.0:compile\n|  \\- com.github.jai-imageio:jai-imageio-core:jar:1.4.0:compile\n+- org.projectlombok:lombok:jar:1.18.24:provided\n+- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\n|  +- org.junit.platform:junit-platform-engine:jar:1.9.2:test\n|  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n|  |  \\- org.junit.platform:junit-platform-commons:jar:1.9.2:test\n|  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\n|  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n\\- org.assertj:assertj-core:jar:3.24.0:test\n   \\- net.bytebuddy:byte-buddy:jar:1.12.20:test\n</code></pre>\n"},{"tags":["java","zgc"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1678894835,"post_id":75746878,"comment_id":133622486,"body_markdown":"`-Xms` is &quot;initial heap size&quot;, it does not necessarily interfere with what `SoftMaxHeapSize` does (deciding when to run GC based on amount of heap used).","body":"<code>-Xms</code> is &quot;initial heap size&quot;, it does not necessarily interfere with what <code>SoftMaxHeapSize</code> does (deciding when to run GC based on amount of heap used)."}],"owner":{"account_id":13210481,"reputation":3,"user_id":9668743,"display_name":"sebkoe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678894491,"creation_date":1678894415,"question_id":75746878,"body_markdown":"as far as I understood `SoftMaxHeapSize` in Java (in this case Java 17 with ZGC), it makes sure that the memory usage stays within the set `SoftMaxHeapSize` limit as long as possible and only uses more memory if there is no other way, until the limit (`-Xmx`) is reached.\r\n\r\nMy question is the following: Doesn&#39;t `SoftMaxHeapSize` only make sense if `-Xms` and `-Xmx` are NOT set to the same value, so there is &quot;room to grow&quot; or does Java still try to keep the set `SoftMaxHeapSize` limit in this scenario?\r\n\r\nI understand that in this case you have no memory footprint advantage since all possible memory was allocated immediately, but does this scenario possibly have other advantages?\r\n\r\n\r\ni did some testing with equal and different `-Xms` / `-Xmx` values while also having `SoftMaxHeapSize` configured and as far as i could see, `SoftMaxHeapSize` also has an effect, even if `-Xms` / `-Xmx` are set to the same value, but i am no Jave expert, so i wanted to be sure.","title":"Java 17 ZGC - &quot;SoftMaxHeapSize&quot; related question","body":"<p>as far as I understood <code>SoftMaxHeapSize</code> in Java (in this case Java 17 with ZGC), it makes sure that the memory usage stays within the set <code>SoftMaxHeapSize</code> limit as long as possible and only uses more memory if there is no other way, until the limit (<code>-Xmx</code>) is reached.</p>\n<p>My question is the following: Doesn't <code>SoftMaxHeapSize</code> only make sense if <code>-Xms</code> and <code>-Xmx</code> are NOT set to the same value, so there is &quot;room to grow&quot; or does Java still try to keep the set <code>SoftMaxHeapSize</code> limit in this scenario?</p>\n<p>I understand that in this case you have no memory footprint advantage since all possible memory was allocated immediately, but does this scenario possibly have other advantages?</p>\n<p>i did some testing with equal and different <code>-Xms</code> / <code>-Xmx</code> values while also having <code>SoftMaxHeapSize</code> configured and as far as i could see, <code>SoftMaxHeapSize</code> also has an effect, even if <code>-Xms</code> / <code>-Xmx</code> are set to the same value, but i am no Jave expert, so i wanted to be sure.</p>\n"},{"tags":["java","components","vaadin","vaadin-flow","vaadin14"],"comments":[{"owner":{"account_id":15754805,"reputation":805,"user_id":11368281,"display_name":"Sascha I&#223;br&#252;cker"},"score":1,"creation_date":1678895417,"post_id":75746873,"comment_id":133622677,"body_markdown":"That&#39;s a bug in the component when using @PreserveOnRefresh that has been fixed in newer versions: https://github.com/vaadin/flow-components/pull/3913. The fix has not been ported to v14.","body":"That&#39;s a bug in the component when using @PreserveOnRefresh that has been fixed in newer versions: <a href=\"https://github.com/vaadin/flow-components/pull/3913\" rel=\"nofollow noreferrer\">github.com/vaadin/flow-components/pull/3913</a>. The fix has not been ported to v14."},{"owner":{"account_id":19662820,"reputation":169,"user_id":14393923,"display_name":"Miłosz Bąbliński"},"score":0,"creation_date":1678950988,"post_id":75746873,"comment_id":133632865,"body_markdown":"so with older ver i will need to live with this bug?","body":"so with older ver i will need to live with this bug?"},{"owner":{"account_id":15754805,"reputation":805,"user_id":11368281,"display_name":"Sascha I&#223;br&#252;cker"},"score":0,"creation_date":1678991717,"post_id":75746873,"comment_id":133645086,"body_markdown":"You can create an issue in the repository linked above and ask for a back-port. Please do mention the original issue and pull request when doing so.","body":"You can create an issue in the repository linked above and ask for a back-port. Please do mention the original issue and pull request when doing so."}],"owner":{"account_id":19662820,"reputation":169,"user_id":14393923,"display_name":"Miłosz Bąbliński"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678894364,"creation_date":1678894364,"question_id":75746873,"body_markdown":"i have very weird bug that is very easy to reproduce. I&#39;m creating notification without duration with some components in it. It is opened in route layout with @PreserveOnRefresh. and after loading page everything is looking correctly but after i refresh browser tab then first component from page layout replaced layout inside notification. If I&#39;m creating notification only with label like notification.setText(&quot;notif&quot;) without additional components then everything is working fine. \r\n\r\nMy Vaadin version: 14.8.14\r\n\r\nWhy is this happening? Is that how it should work?\r\n\r\nExample code:\r\n\r\n        @PreserveOnRefresh\r\n    @Route(&quot;test&quot;)\r\n    public class TestPanel  extends  Div{\r\n    \tpublic TestPanel() {\r\n    \t\tTextField username = new TextField(&quot;username&quot;);\r\n    \t\tPasswordField password = new PasswordField(&quot;password&quot;);\r\n    \t\tpassword.setPlaceholder(&quot;password&quot;);\r\n    \t\tVerticalLayout mainVerticalLayout = new VerticalLayout(username,password);\r\n    \t\tadd(mainVerticalLayout);\r\n    \r\n    \t\tNotification notification = new Notification();\r\n    \t\tnotification.setDuration(0);\r\n    \t\tHorizontalLayout notifLay = new HorizontalLayout(new Text(&quot;zalakladka&quot;),new Button(&quot;btn&quot;));\r\n    \t\tnotification.add(notifLay);\r\n    \t\tnotification.open();\r\n    \t}\r\n    }\r\nHow the page looks at the beginning:\r\n\r\n[![How the page looks at the beginning][1]][1]\r\n\r\nHow the page looks after refresh:\r\n\r\n[![How the page looks after refresh][2]][2]\r\n\r\n\r\nIf i add my mainVerticalLayout inside another layout and add this new layout to page then \r\nwhole mainVerticalLayout will be added to notification layout.\r\n\r\n    VerticalLayout mainVerticalLayout = new VerticalLayout(username,password);\r\n    \tVerticalLayout firstlayout = new VerticalLayout(mainVerticalLayout);\r\n    \tadd(firstlayout);\r\nHow the page looks after refresh:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uW9XF.png\r\n  [2]: https://i.stack.imgur.com/qKNHp.png\r\n  [3]: https://i.stack.imgur.com/aZBxZ.png","title":"Vaadin 14 Notification is stealing component from parent","body":"<p>i have very weird bug that is very easy to reproduce. I'm creating notification without duration with some components in it. It is opened in route layout with @PreserveOnRefresh. and after loading page everything is looking correctly but after i refresh browser tab then first component from page layout replaced layout inside notification. If I'm creating notification only with label like notification.setText(&quot;notif&quot;) without additional components then everything is working fine.</p>\n<p>My Vaadin version: 14.8.14</p>\n<p>Why is this happening? Is that how it should work?</p>\n<p>Example code:</p>\n<pre><code>    @PreserveOnRefresh\n@Route(&quot;test&quot;)\npublic class TestPanel  extends  Div{\n    public TestPanel() {\n        TextField username = new TextField(&quot;username&quot;);\n        PasswordField password = new PasswordField(&quot;password&quot;);\n        password.setPlaceholder(&quot;password&quot;);\n        VerticalLayout mainVerticalLayout = new VerticalLayout(username,password);\n        add(mainVerticalLayout);\n\n        Notification notification = new Notification();\n        notification.setDuration(0);\n        HorizontalLayout notifLay = new HorizontalLayout(new Text(&quot;zalakladka&quot;),new Button(&quot;btn&quot;));\n        notification.add(notifLay);\n        notification.open();\n    }\n}\n</code></pre>\n<p>How the page looks at the beginning:</p>\n<p><a href=\"https://i.stack.imgur.com/uW9XF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uW9XF.png\" alt=\"How the page looks at the beginning\" /></a></p>\n<p>How the page looks after refresh:</p>\n<p><a href=\"https://i.stack.imgur.com/qKNHp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qKNHp.png\" alt=\"How the page looks after refresh\" /></a></p>\n<p>If i add my mainVerticalLayout inside another layout and add this new layout to page then\nwhole mainVerticalLayout will be added to notification layout.</p>\n<pre><code>VerticalLayout mainVerticalLayout = new VerticalLayout(username,password);\n    VerticalLayout firstlayout = new VerticalLayout(mainVerticalLayout);\n    add(firstlayout);\n</code></pre>\n<p>How the page looks after refresh:</p>\n<p><a href=\"https://i.stack.imgur.com/aZBxZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aZBxZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","amazon-web-services","amazon-sqs","localstack"],"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678894268,"creation_date":1678894268,"question_id":75746855,"body_markdown":"How to test if AWS SQS client correctly re-attempts requests on simulated failure.\r\nBackground:\r\n - a java application uses AWS SQS client (with AWS&#39; custom retry settings).\r\n - we want to see repeated attempts and time between them.\r\n - we will probably need to simulate failed request to AWS (localstack?)\r\n\r\nAny ideas are welcome.\r\n \r\n\r\n\r\n","title":"How to test retry logic in application using AWS client","body":"<p>How to test if AWS SQS client correctly re-attempts requests on simulated failure.\nBackground:</p>\n<ul>\n<li>a java application uses AWS SQS client (with AWS' custom retry settings).</li>\n<li>we want to see repeated attempts and time between them.</li>\n<li>we will probably need to simulate failed request to AWS (localstack?)</li>\n</ul>\n<p>Any ideas are welcome.</p>\n"},{"tags":["java","azure-functions","azureservicebus"],"answers":[{"comments":[{"owner":{"account_id":11165474,"reputation":110,"user_id":8194286,"display_name":"xKrasusX"},"score":0,"creation_date":1679048348,"post_id":75746853,"comment_id":133654877,"body_markdown":"Such a shame. Thanks for the answer anyway.","body":"Such a shame. Thanks for the answer anyway."}],"tags":[],"owner":{"account_id":14422052,"reputation":6211,"user_id":10417839,"display_name":"PramodValavala"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678894265,"creation_date":1678894265,"answer_id":75746853,"question_id":75675430,"body_markdown":"Unfortunately, this isn&#39;t supported for non-C# languages. You will have to instead use the Azure Service Bus SDK directly.","title":"Azure Functions Service Bus output binding - message properties","body":"<p>Unfortunately, this isn't supported for non-C# languages. You will have to instead use the Azure Service Bus SDK directly.</p>\n"}],"owner":{"account_id":11165474,"reputation":110,"user_id":8194286,"display_name":"xKrasusX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75746853,"answer_count":1,"score":0,"last_activity_date":1678894265,"creation_date":1678291574,"question_id":75675430,"body_markdown":"    @FunctionName(&quot;MyFunction&quot;)\r\n    public void run(\r\n    \t\t@ServiceBusQueueTrigger(name = &quot;message&quot;, queueName = &quot;Input&quot;, connection = &quot;connStr&quot;) String message,\r\n    \t\t@BindingName(&quot;UserProperties&quot;) Map&lt;String, Object&gt; properties,\r\n    \t\t@ServiceBusQueueOutput(name = &quot;result&quot;, queueName = &quot;Output&quot;, connection = &quot;connStr&quot;) OutputBinding&lt;String&gt; result,\r\n    \t\tExecutionContext context\r\n    ) {\r\n    \t// do something\r\n    \tresult.setValue(&quot;output msg&quot;);\r\n    }\r\n\r\nIn the **input binding** I can easily fetch the message properties using the `@BindingName(&quot;UserProperties&quot;)` annotation, like in the code above. Is there a similar way to customize the properties of the **output binding** message?\r\n\r\nI could use the Service Bus SDK to send the message with custom properties at the end of my function, but I&#39;d really prefer to do it the binding way.\r\n","title":"Azure Functions Service Bus output binding - message properties","body":"<pre><code>@FunctionName(&quot;MyFunction&quot;)\npublic void run(\n        @ServiceBusQueueTrigger(name = &quot;message&quot;, queueName = &quot;Input&quot;, connection = &quot;connStr&quot;) String message,\n        @BindingName(&quot;UserProperties&quot;) Map&lt;String, Object&gt; properties,\n        @ServiceBusQueueOutput(name = &quot;result&quot;, queueName = &quot;Output&quot;, connection = &quot;connStr&quot;) OutputBinding&lt;String&gt; result,\n        ExecutionContext context\n) {\n    // do something\n    result.setValue(&quot;output msg&quot;);\n}\n</code></pre>\n<p>In the <strong>input binding</strong> I can easily fetch the message properties using the <code>@BindingName(&quot;UserProperties&quot;)</code> annotation, like in the code above. Is there a similar way to customize the properties of the <strong>output binding</strong> message?</p>\n<p>I could use the Service Bus SDK to send the message with custom properties at the end of my function, but I'd really prefer to do it the binding way.</p>\n"},{"tags":["java","intellij-idea","plugins","cucumber"],"answers":[{"tags":[],"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678894229,"creation_date":1678894229,"answer_id":75746846,"question_id":75746165,"body_markdown":"Click on the &quot;Show Passed&quot; check mark:\r\n[![enter image description here][1]][1]\r\n\r\nSee reference doc [here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ckq6Y.png\r\n  [2]: https://www.jetbrains.com/help/idea/viewing-and-exploring-test-results.html","title":"CucumberJvm5SMFormatter not working after changing to open jdk 15.0.1","body":"<p>Click on the &quot;Show Passed&quot; check mark:\n<a href=\"https://i.stack.imgur.com/ckq6Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ckq6Y.png\" alt=\"enter image description here\" /></a></p>\n<p>See reference doc <a href=\"https://www.jetbrains.com/help/idea/viewing-and-exploring-test-results.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":2606795,"reputation":579,"user_id":2257811,"accept_rate":43,"display_name":"iversoncru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75746846,"answer_count":1,"score":0,"last_activity_date":1678894229,"creation_date":1678890763,"question_id":75746165,"body_markdown":"i use Java with Cucumber in IntelliJ.\r\n\r\nToday i installed JDK 15.0.1 and also updated IntelliJ to version 2022.3.3 (Community edition) and, afterwards, i cannot longer see my Tests Results with all the steps itemised as before:\r\n[![this was before][1]][1]\r\n\r\nnow i only see:\r\n[![enter image description here][2]][2]\r\n\r\nIn the scenario configuration, in Program Arguments i have this, as before:\r\n\r\n    --plugin org.jetbrains.plugins.cucumber.java.run.CucumberJvm5SMFormatter --name &quot;^Verify the shopping basket for multibooking for Listing with all variants allowed in one same location$”\r\n\r\nbut it does not seem to be working now.\r\n\r\nMaybe CucumberJvm5SMFormatter plugin is not compatible with openJDK 15.0.1? or with IntelliJ 2022.3.3?\r\nhow can i check the compatibility myself?\r\n\r\nBTW i have this in my pom.xml, in case it helps:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;7.1.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;7.1.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;7.1.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/YC2uE.png\r\n  [2]: https://i.stack.imgur.com/EAZFR.png","title":"CucumberJvm5SMFormatter not working after changing to open jdk 15.0.1","body":"<p>i use Java with Cucumber in IntelliJ.</p>\n<p>Today i installed JDK 15.0.1 and also updated IntelliJ to version 2022.3.3 (Community edition) and, afterwards, i cannot longer see my Tests Results with all the steps itemised as before:\n<a href=\"https://i.stack.imgur.com/YC2uE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YC2uE.png\" alt=\"this was before\" /></a></p>\n<p>now i only see:\n<a href=\"https://i.stack.imgur.com/EAZFR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EAZFR.png\" alt=\"enter image description here\" /></a></p>\n<p>In the scenario configuration, in Program Arguments i have this, as before:</p>\n<pre><code>--plugin org.jetbrains.plugins.cucumber.java.run.CucumberJvm5SMFormatter --name &quot;^Verify the shopping basket for multibooking for Listing with all variants allowed in one same location$”\n</code></pre>\n<p>but it does not seem to be working now.</p>\n<p>Maybe CucumberJvm5SMFormatter plugin is not compatible with openJDK 15.0.1? or with IntelliJ 2022.3.3?\nhow can i check the compatibility myself?</p>\n<p>BTW i have this in my pom.xml, in case it helps:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\n        &lt;version&gt;7.1.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;7.1.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;7.1.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","javafx","configuration","vscode-tasks"],"comments":[{"owner":{"display_name":"user20716279"},"score":2,"creation_date":1678894968,"post_id":75746827,"comment_id":133622529,"body_markdown":"check this one https://openjfx.io/openjfx-docs/#IDE-VSCode","body":"check this one <a href=\"https://openjfx.io/openjfx-docs/#IDE-VSCode\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#IDE-VSCode</a>"}],"owner":{"account_id":24203642,"reputation":21,"user_id":18161148,"display_name":"Mahmud Araf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678894106,"creation_date":1678894106,"question_id":75746827,"body_markdown":"I am new in Java. I want to develop a JavaFx project in vscode in Ubuntu 22.04 as I am quite familiar with vscode. but I can&#39;t configure JavaFx in Vscode. I want that while I am coding vscode give me suggestions and intellisenses of JavaFx.But I can&#39;t figure how to do that and there is very less resources in internet for solving this issue.\r\n\r\n \r\n\r\nI have tried to include and edit settings.json that I got from ChatGPT but none of it worked.","title":"How can I add suggestions and intellisenses for JavaFx in vscode in ubuntu?","body":"<p>I am new in Java. I want to develop a JavaFx project in vscode in Ubuntu 22.04 as I am quite familiar with vscode. but I can't configure JavaFx in Vscode. I want that while I am coding vscode give me suggestions and intellisenses of JavaFx.But I can't figure how to do that and there is very less resources in internet for solving this issue.</p>\n<p>I have tried to include and edit settings.json that I got from ChatGPT but none of it worked.</p>\n"},{"tags":["java","spring","flutter","spring-boot","dart"],"comments":[{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1678880867,"post_id":75743872,"comment_id":133617998,"body_markdown":"Yes, I have. and all unique. `[CategoryDto{ categoryId: 0b30568d-4c42-46d0-aef7-bf7f131d16ba, name: Spor,}, CategoryDto{ categoryId: 7f575b27-7fe5-439e-b704-d4dddb976e89, name: Sinema,}, CategoryDto{ categoryId: 2a7c4a2a-0f56-4630-898f-311707eecd6f, name: Masa Oyunları,}]`","body":"Yes, I have. and all unique. <code>[CategoryDto{ categoryId: 0b30568d-4c42-46d0-aef7-bf7f131d16ba, name: Spor,}, CategoryDto{ categoryId: 7f575b27-7fe5-439e-b704-d4dddb976e89, name: Sinema,}, CategoryDto{ categoryId: 2a7c4a2a-0f56-4630-898f-311707eecd6f, name: Masa Oyunları,}]</code>"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1678881045,"post_id":75743872,"comment_id":133618044,"body_markdown":"@pskink When I navigate back to the screen the build function called twice. Does that could be the source of the problem? Because the list of categories called twice. In the first render it called once, but when I navigate back to the same screen the build called twice. (I know that because categories list printed twice)","body":"@pskink When I navigate back to the screen the build function called twice. Does that could be the source of the problem? Because the list of categories called twice. In the first render it called once, but when I navigate back to the same screen the build called twice. (I know that because categories list printed twice)"},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1678881350,"post_id":75743872,"comment_id":133618135,"body_markdown":"https://www.appsloveworld.com/flutter/200/114/how-to-create-a-dropdown-with-objects-in-flutter","body":"<a href=\"https://www.appsloveworld.com/flutter/200/114/how-to-create-a-dropdown-with-objects-in-flutter\" rel=\"nofollow noreferrer\">appsloveworld.com/flutter/200/114/&hellip;</a>"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1678881863,"post_id":75743872,"comment_id":133618289,"body_markdown":"In my `CategoryDto` class, I already override the equality operator. ` @override\n  bool operator ==(Object other) =&gt;\n      identical(this, other) ||\n      (other is CategoryDto &amp;&amp;\n          runtimeType == other.runtimeType &amp;&amp;\n          categoryId == other.categoryId &amp;&amp;\n          name == other.name);`  and my `EventCategory` extends `Equatable` package  ` @override\n  List&lt;Object?&gt; get props =&gt; [categoryId,name];`","body":"In my <code>CategoryDto</code> class, I already override the equality operator. ` @override   bool operator ==(Object other) =&gt;       identical(this, other) ||       (other is CategoryDto &amp;&amp;           runtimeType == other.runtimeType &amp;&amp;           categoryId == other.categoryId &amp;&amp;           name == other.name);`  and my <code>EventCategory</code> extends <code>Equatable</code> package  ` @override   List&lt;Object?&gt; get props =&gt; [categoryId,name];`"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1678881975,"post_id":75743872,"comment_id":133618323,"body_markdown":"@pskink I wonder why my  &#39;stateless` dropdown rendered twice? This may cause the problem","body":"@pskink I wonder why my  &#39;stateless` dropdown rendered twice? This may cause the problem"},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1678882442,"post_id":75743872,"comment_id":133618469,"body_markdown":"you are passing the `value: selectedCategory` that is not in your `categories`, do `print(categories); print(selectedCategory);` inside `build` method","body":"you are passing the <code>value: selectedCategory</code> that is not in your <code>categories</code>, do <code>print(categories); print(selectedCategory);</code> inside <code>build</code> method"},{"owner":{"account_id":14061061,"reputation":56960,"user_id":10157127,"display_name":"Md. Yeasin Sheikh"},"score":0,"creation_date":1678882646,"post_id":75743872,"comment_id":133618517,"body_markdown":"can you include your model class and sample data for `CategoryDropdown`","body":"can you include your model class and sample data for <code>CategoryDropdown</code>"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1678883267,"post_id":75743872,"comment_id":133618688,"body_markdown":"@pskink I wrote this method to check if the `selectedCategory` in the list other than once( 0 or more than 1). In the first render it returns `true` in the second render(as I said before it called twice) first build still `true`, however in the second build `false`. Method: `bool checkIfInTheList(EventCategory category){\n    return categories.where((c) =&gt;c == category ).length == 1;\n  }`","body":"@pskink I wrote this method to check if the <code>selectedCategory</code> in the list other than once( 0 or more than 1). In the first render it returns <code>true</code> in the second render(as I said before it called twice) first build still <code>true</code>, however in the second build <code>false</code>. Method: <code>bool checkIfInTheList(EventCategory category){     return categories.where((c) =&gt;c == category ).length == 1;   }</code>"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1678883614,"post_id":75743872,"comment_id":133618793,"body_markdown":"print(&quot;res: ${checkIfInTheList(selectedCategory)}&quot;);","body":"print(&quot;res: ${checkIfInTheList(selectedCategory)}&quot;);"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1678883659,"post_id":75743872,"comment_id":133618808,"body_markdown":"I/flutter (12462): res: true\nI/flutter (12462): res: true\nI/flutter (12462): res: false","body":"I/flutter (12462): res: true I/flutter (12462): res: true I/flutter (12462): res: false"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1678883749,"post_id":75743872,"comment_id":133618832,"body_markdown":"I/flutter (12462): CategoryDto{ categoryId: e47c2a5b-9633-47aa-ba07-5c41d76721d9, name: Masa Oyunları,}\nI/flutter (12462): `res: true`\nI/flutter (12462): CategoryDto{ categoryId: e47c2a5b-9633-47aa-ba07-5c41d76721d9, name: Masa Oyunları,}\nI/flutter (12462): `res: true`\nI/flutter (12462): CategoryDto{ categoryId: e47c2a5b-9633-47aa-ba07-5c41d76721d9, name: Masa Oyunları,}\nI/flutter (12462): `res: false`","body":"I/flutter (12462): CategoryDto{ categoryId: e47c2a5b-9633-47aa-ba07-5c41d76721d9, name: Masa Oyunları,} I/flutter (12462): <code>res: true</code> I/flutter (12462): CategoryDto{ categoryId: e47c2a5b-9633-47aa-ba07-5c41d76721d9, name: Masa Oyunları,} I/flutter (12462): <code>res: true</code> I/flutter (12462): CategoryDto{ categoryId: e47c2a5b-9633-47aa-ba07-5c41d76721d9, name: Masa Oyunları,} I/flutter (12462): <code>res: false</code>"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1678883821,"post_id":75743872,"comment_id":133618856,"body_markdown":"As you see the `Category` object is the same as the previous ones. Maybe the list has changed. Let me check it.","body":"As you see the <code>Category</code> object is the same as the previous ones. Maybe the list has changed. Let me check it."},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1678883905,"post_id":75743872,"comment_id":133618872,"body_markdown":"there is no category with this ID e47c2a5b-9633-47aa-ba07-5c41d76721d9, Masa Oyunları has ID 2a7c4a2a-0f56-4630-898f-311707eecd6f","body":"there is no category with this ID e47c2a5b-9633-47aa-ba07-5c41d76721d9, Masa Oyunları has ID 2a7c4a2a-0f56-4630-898f-311707eecd6f"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1678884092,"post_id":75743872,"comment_id":133618923,"body_markdown":"OMG. This is my random UUID that is created in the java server :). In the second build I request the data from the server again. However, this time it creates a new `UUID` and pass it. That&#39;s why the second calls UUID and the first call UUID is different :). Thank you so much :)","body":"OMG. This is my random UUID that is created in the java server :). In the second build I request the data from the server again. However, this time it creates a new <code>UUID</code> and pass it. That&#39;s why the second calls UUID and the first call UUID is different :). Thank you so much :)"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1678884137,"post_id":75743872,"comment_id":133618940,"body_markdown":"Can you publish a post to accept it?","body":"Can you publish a post to accept it?"},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1678884426,"post_id":75743872,"comment_id":133619017,"body_markdown":"feel free to post a self answer :-)","body":"feel free to post a self answer :-)"},{"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"score":0,"creation_date":1678884554,"post_id":75743872,"comment_id":133619051,"body_markdown":"Thank you :) I will organize my code and publish it later","body":"Thank you :) I will organize my code and publish it later"}],"answers":[{"tags":[],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678893440,"creation_date":1678893440,"answer_id":75746700,"question_id":75743872,"body_markdown":"Thanks to @pskink, I could have solved this. Actually, the problem is not in my flutter code. It&#39;s in my rest API, which is written in Java Spring Boot. I generated a dummy category list API. \r\n\r\nThe following code is wrong. Why? Because each time when I call `getCategories` from my client(flutter app), it generates a new `UUID` and sends it to the client. That&#39;s why when I first navigate to the screen with dropdown, it makes an API call and selects the first returned element. Then, when I navigate back and, renavigate to the same screen again. I fetch the categories list from the API again. However, since I make a second call this time a new UUID is generated and passed. That&#39;s why in the first time the UUID is different from the second time. DropDown throws an assertion error at that point because even though, the name of the two categories are the same, the second one&#39;s id is different from the first one. That&#39;s why object equality could not be achieved.\r\n```\r\n    @GetMapping\r\n    public List&lt;Category&gt; getCategories() throws ResourceNotFoundException {\r\n        List&lt;Category&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new Category(UUID.randomUUID(),&quot;Category1&quot;)); //each call creates a new UUID\r\n        list.add(new Category(UUID.randomUUID(),&quot;Category2&quot;));\r\n        list.add(new Category(UUID.randomUUID(),&quot;Category3&quot;));\r\n        return list;\r\n    }\r\n```\r\n\r\nTo fix this code I made my list static and pass to the client as follows. \r\n\r\n```\r\n  static  List&lt;Category&gt; categories = fillList();\r\n\r\n    @GetMapping\r\n    public List&lt;Category&gt; getCategories() throws ResourceNotFoundException {\r\n        //  throw  new ResourceNotFoundException(&quot;Sa&#231;amlaamaa&quot;);\r\n        return categories;\r\n    }\r\n\r\n    private static List&lt;Category&gt; fillList(){\r\n        List&lt;Category&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        list.add(new Category(UUID.randomUUID(),&quot;Category1&quot;));\r\n        list.add(new Category(UUID.randomUUID(),&quot;Category2&quot;));\r\n        list.add(new Category(UUID.randomUUID(),&quot;Category3&quot;));\r\n        return list;\r\n    }\r\n\r\n```","title":"Navigating to the screen with dropdown twice, gives the following error: Either zero or 2 or more [DropdownMenuItem] were detected with the same value","body":"<p>Thanks to @pskink, I could have solved this. Actually, the problem is not in my flutter code. It's in my rest API, which is written in Java Spring Boot. I generated a dummy category list API.</p>\n<p>The following code is wrong. Why? Because each time when I call <code>getCategories</code> from my client(flutter app), it generates a new <code>UUID</code> and sends it to the client. That's why when I first navigate to the screen with dropdown, it makes an API call and selects the first returned element. Then, when I navigate back and, renavigate to the same screen again. I fetch the categories list from the API again. However, since I make a second call this time a new UUID is generated and passed. That's why in the first time the UUID is different from the second time. DropDown throws an assertion error at that point because even though, the name of the two categories are the same, the second one's id is different from the first one. That's why object equality could not be achieved.</p>\n<pre><code>    @GetMapping\n    public List&lt;Category&gt; getCategories() throws ResourceNotFoundException {\n        List&lt;Category&gt; list = new ArrayList&lt;&gt;();\n        list.add(new Category(UUID.randomUUID(),&quot;Category1&quot;)); //each call creates a new UUID\n        list.add(new Category(UUID.randomUUID(),&quot;Category2&quot;));\n        list.add(new Category(UUID.randomUUID(),&quot;Category3&quot;));\n        return list;\n    }\n</code></pre>\n<p>To fix this code I made my list static and pass to the client as follows.</p>\n<pre><code>  static  List&lt;Category&gt; categories = fillList();\n\n    @GetMapping\n    public List&lt;Category&gt; getCategories() throws ResourceNotFoundException {\n        //  throw  new ResourceNotFoundException(&quot;Saçamlaamaa&quot;);\n        return categories;\n    }\n\n    private static List&lt;Category&gt; fillList(){\n        List&lt;Category&gt; list = new ArrayList&lt;&gt;();\n\n        list.add(new Category(UUID.randomUUID(),&quot;Category1&quot;));\n        list.add(new Category(UUID.randomUUID(),&quot;Category2&quot;));\n        list.add(new Category(UUID.randomUUID(),&quot;Category3&quot;));\n        return list;\n    }\n\n</code></pre>\n"}],"owner":{"account_id":15596976,"reputation":809,"user_id":11252174,"display_name":"Demir"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75746700,"answer_count":1,"score":1,"last_activity_date":1678893470,"creation_date":1678878343,"question_id":75743872,"body_markdown":"I know what causes this error, but I couldn&#39;t figure it out in this case. \r\nHere is the scenario, when I navigate to the screen that contains the dropdown for the first time, the dropdown works properly. However, when I navigate back and renavigate to the same screen(for the second time) the following error is thrown. Any suggestion?\r\n\r\n```\r\nThere should be exactly one item with [DropdownButton]&#39;s value: CategoryDto{ categoryId: cc050c58-876a-4245-9531-be8553c7ae07, name: Masa Oyunları,}. \r\nEither zero or 2 or more [DropdownMenuItem]s were detected with the same value\r\n\r\n&#39;package:flutter/src/material/dropdown.dart&#39;:\r\nFailed assertion: line 1584 pos 15: &#39;items == null || items.isEmpty || value == null ||\r\n              items.where((DropdownMenuItem&lt;T&gt; item) {\r\n                return item.value == value;\r\n              }).length == 1&#39;\r\n\r\n\r\n``` \r\n\r\n\r\n The following 4 code snippets are in the parent widget where I call the dropwdown. (I want to publish only the relevant parts for convenience.)\r\n\r\nThis is my parent widget where I call the dropdown.(in parent widget)\r\n```\r\n  state.categories.isNotEmpty\r\n                                ? CategoryDropdown(\r\n                                selectedCategory: _selectedCategory!,\r\n                                handleSelection: selectCategory,\r\n                                labelText: &quot;Category&quot;,\r\n                                categories: state.categories)\r\n                                : Container(),\r\n                          \r\n```\r\n\r\ninitialize the doprdown value as null. (in parent widget)\r\n`EventCategory? _selectedCategory;`\r\n\r\nif the API returns the list of categories, then set the first value as `_selectedCategory`. (in parent widget)\r\n\r\n```\r\nelse if (state is CategoryListSuccess) {\r\n                    _selectedCategory ??= state.categories.first;\r\n```\r\n \r\n\r\n\r\n`selectCategory` callback function.(in parent widget)\r\n```\r\n  selectCategory(EventCategory eventCategory) {\r\n    setState(() {\r\n      _selectedCategory = eventCategory;\r\n    });\r\n  }\r\n```\r\n\r\n\r\nAnd this is my CategoryDropdown.\r\n\r\n```\r\n\r\nclass CategoryDropdown extends StatelessWidget {\r\n  final String labelText;\r\n  final List&lt;EventCategory&gt; categories;\r\n  final EventCategory selectedCategory;\r\n  final Function handleSelection;\r\n\r\n  const CategoryDropdown(\r\n      {Key? key,\r\n      required this.labelText,\r\n      required this.categories,\r\n      required this.selectedCategory,\r\n      required this.handleSelection})\r\n      : super(key: key);\r\n\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Column(\r\n      crossAxisAlignment: CrossAxisAlignment.start,\r\n      children: [\r\n        Padding(\r\n          padding: const EdgeInsets.fromLTRB(6, 0, 0, 0),\r\n          child: Text(\r\n            labelText,\r\n            style: Theme.of(context)\r\n                .textTheme\r\n                .titleMedium\r\n                ?.copyWith(color: Theme.of(context).colorScheme.secondary),\r\n          ),\r\n        ),\r\n        Material(\r\n          elevation: 10,\r\n          borderRadius: BorderRadius.circular(10),\r\n          child: DropdownButtonFormField&lt;EventCategory&gt;(\r\n            value: selectedCategory,\r\n            icon: const Icon(Icons.expand_more),\r\n            elevation: 10,\r\n            onChanged: (EventCategory? category) =&gt; handleSelection(category),\r\n            items: categories.map&lt;DropdownMenuItem&lt;EventCategory&gt;&gt;(\r\n                (EventCategory category) {\r\n                  print(selectedCategory);\r\n              return DropdownMenuItem&lt;EventCategory&gt;(\r\n                value: category,\r\n                child: Text(category.name!),\r\n              );\r\n            }).toList(),\r\n          ),\r\n        ),\r\n      ],\r\n    );\r\n  }\r\n}\r\n\r\n```","title":"Navigating to the screen with dropdown twice, gives the following error: Either zero or 2 or more [DropdownMenuItem] were detected with the same value","body":"<p>I know what causes this error, but I couldn't figure it out in this case.\nHere is the scenario, when I navigate to the screen that contains the dropdown for the first time, the dropdown works properly. However, when I navigate back and renavigate to the same screen(for the second time) the following error is thrown. Any suggestion?</p>\n<pre><code>There should be exactly one item with [DropdownButton]'s value: CategoryDto{ categoryId: cc050c58-876a-4245-9531-be8553c7ae07, name: Masa Oyunları,}. \nEither zero or 2 or more [DropdownMenuItem]s were detected with the same value\n\n'package:flutter/src/material/dropdown.dart':\nFailed assertion: line 1584 pos 15: 'items == null || items.isEmpty || value == null ||\n              items.where((DropdownMenuItem&lt;T&gt; item) {\n                return item.value == value;\n              }).length == 1'\n\n\n</code></pre>\n<p>The following 4 code snippets are in the parent widget where I call the dropwdown. (I want to publish only the relevant parts for convenience.)</p>\n<p>This is my parent widget where I call the dropdown.(in parent widget)</p>\n<pre><code>  state.categories.isNotEmpty\n                                ? CategoryDropdown(\n                                selectedCategory: _selectedCategory!,\n                                handleSelection: selectCategory,\n                                labelText: &quot;Category&quot;,\n                                categories: state.categories)\n                                : Container(),\n                          \n</code></pre>\n<p>initialize the doprdown value as null. (in parent widget)\n<code>EventCategory? _selectedCategory;</code></p>\n<p>if the API returns the list of categories, then set the first value as <code>_selectedCategory</code>. (in parent widget)</p>\n<pre><code>else if (state is CategoryListSuccess) {\n                    _selectedCategory ??= state.categories.first;\n</code></pre>\n<p><code>selectCategory</code> callback function.(in parent widget)</p>\n<pre><code>  selectCategory(EventCategory eventCategory) {\n    setState(() {\n      _selectedCategory = eventCategory;\n    });\n  }\n</code></pre>\n<p>And this is my CategoryDropdown.</p>\n<pre><code>\nclass CategoryDropdown extends StatelessWidget {\n  final String labelText;\n  final List&lt;EventCategory&gt; categories;\n  final EventCategory selectedCategory;\n  final Function handleSelection;\n\n  const CategoryDropdown(\n      {Key? key,\n      required this.labelText,\n      required this.categories,\n      required this.selectedCategory,\n      required this.handleSelection})\n      : super(key: key);\n\n\n  @override\n  Widget build(BuildContext context) {\n    return Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: [\n        Padding(\n          padding: const EdgeInsets.fromLTRB(6, 0, 0, 0),\n          child: Text(\n            labelText,\n            style: Theme.of(context)\n                .textTheme\n                .titleMedium\n                ?.copyWith(color: Theme.of(context).colorScheme.secondary),\n          ),\n        ),\n        Material(\n          elevation: 10,\n          borderRadius: BorderRadius.circular(10),\n          child: DropdownButtonFormField&lt;EventCategory&gt;(\n            value: selectedCategory,\n            icon: const Icon(Icons.expand_more),\n            elevation: 10,\n            onChanged: (EventCategory? category) =&gt; handleSelection(category),\n            items: categories.map&lt;DropdownMenuItem&lt;EventCategory&gt;&gt;(\n                (EventCategory category) {\n                  print(selectedCategory);\n              return DropdownMenuItem&lt;EventCategory&gt;(\n                value: category,\n                child: Text(category.name!),\n              );\n            }).toList(),\n          ),\n        ),\n      ],\n    );\n  }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","payment-gateway"],"owner":{"account_id":13765213,"reputation":31,"user_id":13387964,"display_name":"Balachander K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678893137,"creation_date":1678893137,"question_id":75746645,"body_markdown":"Using checkout.com file API and trying to fetch the response which is text/csv using the REST template in Java but all the tried method gives only 302, but calling the same on postman gives 200.  Sharing the tried samples\r\n\r\n    try {\r\n        String fileUrl = &quot;https://api.sandbox.checkout.com/reports/rpt_wmyitjnrxovuvlrvqcdzctnxou/files/file_5thf5jdvohhujjnacaaqdib54a&quot;;\r\n        String authToken = &quot;sk_sbox_ekij45xwy6nfgbajlbhhnnigdu#&quot;;\r\n        final HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;Authorization&quot;, &quot;Bearer &quot; + authToken);\r\n        headers.setAccept(Arrays.asList(MediaType.APPLICATION_OCTET_STREAM));\r\n        final HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(headers);\r\n        restTemplate.getMessageConverters().add(new ByteArrayHttpMessageConverter());\r\n        final ResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(fileUrl, HttpMethod.GET, request,\r\n                byte[].class);\r\n        logger.info(&quot; File api response: {}&quot;, response);\r\n    } catch (Exception e) {\r\n        logger.info(&quot;Exception Occurred...{}&quot;, e.getMessage());\r\n    }\r\n\t\t\r\nand another one\r\n\r\n\t    String fileUrl = &quot;https://api.sandbox.checkout.com/reports/rpt_wmyitjnrxovuvlrvqcdzctnxou/files/file_5thf5jdvohhujjnacaaqdib54a&quot;;\r\n    RequestCallback requestCallBack = request -&gt; {\r\n        request.getHeaders().setBearerAuth(&quot;sk_sbox_ekij45xwy6nfgbajlbhhnnigdu#&quot;);\r\n        request.getHeaders().setAccept(Arrays.asList(MediaType.APPLICATION_OCTET_STREAM, MediaType.ALL));\r\n    };\r\n\r\n    ResponseExtractor&lt;Void&gt; responseExtractor = response -&gt; {\r\n\r\n        Path path = Paths.get(&quot;E:\\\\BCN_march\\\\text.csv&quot;);\r\n        logger.info(&quot;response..{}&quot;,response.getStatusCode());\r\n        Files.copy(response.getBody(), path);\r\n        \r\n        return null;\r\n    };\r\n    restTemplate.execute(URI.create(fileUrl), HttpMethod.GET, requestCallBack, responseExtractor);\r\n\r\nBoth the snippet gives same 302 response, but works fine on postman is there any minor fix for this?\r\nSharing curl request of the api..\r\n\r\n    curl --location &#39;https://api.sandbox.checkout.com/reports/rpt_wmyitjnrxovuvlrvqcdzctnxou/files/file_5thf5jdvohhujjnacaaqdib54a&#39; \\\r\n    --header &#39;Authorization: Bearer sk_sbox_ekij45xwy6nfgbajlbhhnnigdu#&#39;","title":"Checkout Payment Gateway API Gives 200 on Postman and 302 on RestTemplate","body":"<p>Using checkout.com file API and trying to fetch the response which is text/csv using the REST template in Java but all the tried method gives only 302, but calling the same on postman gives 200.  Sharing the tried samples</p>\n<pre><code>try {\n    String fileUrl = &quot;https://api.sandbox.checkout.com/reports/rpt_wmyitjnrxovuvlrvqcdzctnxou/files/file_5thf5jdvohhujjnacaaqdib54a&quot;;\n    String authToken = &quot;sk_sbox_ekij45xwy6nfgbajlbhhnnigdu#&quot;;\n    final HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Authorization&quot;, &quot;Bearer &quot; + authToken);\n    headers.setAccept(Arrays.asList(MediaType.APPLICATION_OCTET_STREAM));\n    final HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(headers);\n    restTemplate.getMessageConverters().add(new ByteArrayHttpMessageConverter());\n    final ResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(fileUrl, HttpMethod.GET, request,\n            byte[].class);\n    logger.info(&quot; File api response: {}&quot;, response);\n} catch (Exception e) {\n    logger.info(&quot;Exception Occurred...{}&quot;, e.getMessage());\n}\n    \n</code></pre>\n<p>and another one</p>\n<pre><code>    String fileUrl = &quot;https://api.sandbox.checkout.com/reports/rpt_wmyitjnrxovuvlrvqcdzctnxou/files/file_5thf5jdvohhujjnacaaqdib54a&quot;;\nRequestCallback requestCallBack = request -&gt; {\n    request.getHeaders().setBearerAuth(&quot;sk_sbox_ekij45xwy6nfgbajlbhhnnigdu#&quot;);\n    request.getHeaders().setAccept(Arrays.asList(MediaType.APPLICATION_OCTET_STREAM, MediaType.ALL));\n};\n\nResponseExtractor&lt;Void&gt; responseExtractor = response -&gt; {\n\n    Path path = Paths.get(&quot;E:\\\\BCN_march\\\\text.csv&quot;);\n    logger.info(&quot;response..{}&quot;,response.getStatusCode());\n    Files.copy(response.getBody(), path);\n    \n    return null;\n};\nrestTemplate.execute(URI.create(fileUrl), HttpMethod.GET, requestCallBack, responseExtractor);\n</code></pre>\n<p>Both the snippet gives same 302 response, but works fine on postman is there any minor fix for this?\nSharing curl request of the api..</p>\n<pre><code>curl --location 'https://api.sandbox.checkout.com/reports/rpt_wmyitjnrxovuvlrvqcdzctnxou/files/file_5thf5jdvohhujjnacaaqdib54a' \\\n--header 'Authorization: Bearer sk_sbox_ekij45xwy6nfgbajlbhhnnigdu#'\n</code></pre>\n"},{"tags":["java","jvm","java-11","hotspot"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678954924,"post_id":75746554,"comment_id":133633771,"body_markdown":"When do you consider the agent to be already loaded? a) when exactly this jar file from this filesystem location has been loaded, b) when a jar file with exactly the same contents has been loaded, c) when a jar file with the same classes (probably different versions) has been loaded, or d) when a semantically equivalent agent has been loaded?","body":"When do you consider the agent to be already loaded? a) when exactly this jar file from this filesystem location has been loaded, b) when a jar file with exactly the same contents has been loaded, c) when a jar file with the same classes (probably different versions) has been loaded, or d) when a semantically equivalent agent has been loaded?"},{"owner":{"account_id":7546485,"reputation":11,"user_id":5729320,"display_name":"Baskar Venkatesan"},"score":0,"creation_date":1678958217,"post_id":75746554,"comment_id":133634629,"body_markdown":"it&#39;s option (a). I&#39;ll consider the agent to be already loaded when exactly this jar file from this filesystem location has been loaded.","body":"it&#39;s option (a). I&#39;ll consider the agent to be already loaded when exactly this jar file from this filesystem location has been loaded."}],"owner":{"account_id":7546485,"reputation":11,"user_id":5729320,"display_name":"Baskar Venkatesan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678892791,"creation_date":1678892691,"question_id":75746554,"body_markdown":"Here the sample code\r\n\r\n```\r\nimport com.sun.tools.attach.VirtualMachine;\r\nimport com.sun.tools.attach.VirtualMachineDescriptor;\r\nimport java.util.List;\r\n\r\npublic class ListVM{\r\n  public static void main(String[] args){\r\n        List&lt;VirtualMachineDescriptor&gt; vmList = VirtualMachine.list();\r\n        for(VirtualMachineDescriptor vm : vmList){\r\n        System.out.println(&quot;name: &quot; + vm.displayName() + &quot; id :&quot; + vm.id());\r\n        try{\r\n            VirtualMachine vm0 = VirtualMachine.attach(vm.id());\r\n            // load agent, agnet class&#39;s agentmain will be invoked. \r\n            vm0.loadAgent(&quot;/root/tmp/ChinaAgent.jar&quot;);\r\n            System.out.println(&quot;Load agent done.&quot;);\r\n            vm0.detach();\r\n        }catch(Exception e) {\r\n            System.out.println(&quot;exception : &quot; + e.getMessage());\r\n        }\r\n        }\r\n  }\r\n}\r\n```\r\n\r\nHow to check **VirtualMachine vm0** that whether the agent is loaded or not? So that I wont load it multiple times.\r\n\r\n```\r\nvm0.getSystemProperties();\r\nvm0.getAgentProperties();\r\n```\r\nNone of the gave any information on loaded agents\r\n","title":"Java Virtual machine Attach API - loadAgent after checking is it already loaded","body":"<p>Here the sample code</p>\n<pre><code>import com.sun.tools.attach.VirtualMachine;\nimport com.sun.tools.attach.VirtualMachineDescriptor;\nimport java.util.List;\n\npublic class ListVM{\n  public static void main(String[] args){\n        List&lt;VirtualMachineDescriptor&gt; vmList = VirtualMachine.list();\n        for(VirtualMachineDescriptor vm : vmList){\n        System.out.println(&quot;name: &quot; + vm.displayName() + &quot; id :&quot; + vm.id());\n        try{\n            VirtualMachine vm0 = VirtualMachine.attach(vm.id());\n            // load agent, agnet class's agentmain will be invoked. \n            vm0.loadAgent(&quot;/root/tmp/ChinaAgent.jar&quot;);\n            System.out.println(&quot;Load agent done.&quot;);\n            vm0.detach();\n        }catch(Exception e) {\n            System.out.println(&quot;exception : &quot; + e.getMessage());\n        }\n        }\n  }\n}\n</code></pre>\n<p>How to check <strong>VirtualMachine vm0</strong> that whether the agent is loaded or not? So that I wont load it multiple times.</p>\n<pre><code>vm0.getSystemProperties();\nvm0.getAgentProperties();\n</code></pre>\n<p>None of the gave any information on loaded agents</p>\n"},{"tags":["java","json","rest","spring-boot"],"comments":[{"owner":{"account_id":460651,"reputation":9266,"user_id":861885,"display_name":"Ebrahim Pasbani"},"score":0,"creation_date":1558296421,"post_id":56211522,"comment_id":99044351,"body_markdown":"Just return a list of `News`","body":"Just return a list of <code>News</code>"},{"owner":{"account_id":460651,"reputation":9266,"user_id":861885,"display_name":"Ebrahim Pasbani"},"score":0,"creation_date":1558296530,"post_id":56211522,"comment_id":99044381,"body_markdown":"You override `news` object in the loop (for ...). Create a list of `News`, fill it in loop and return it.","body":"You override <code>news</code> object in the loop (for ...). Create a list of <code>News</code>, fill it in loop and return it."},{"owner":{"account_id":14973230,"reputation":73,"user_id":10809400,"display_name":"Nick Smith"},"score":0,"creation_date":1558299065,"post_id":56211522,"comment_id":99044914,"body_markdown":"Changed method return type to List&lt;News&gt;. Declared List&lt;News&gt; topStories. I did news.setTitle and news.setSection and then added news to  List&lt;News&gt;. This is the error I received on the second JUnit Test \n\n&quot;java.lang.AssertionError: No value at JSON path &quot;$.title&quot;, exception: Expected to find an object with property [&#39;title&#39;] in path $ but found &#39;net.minidev.json.JSONArray&#39;&quot;","body":"Changed method return type to List&lt;News&gt;. Declared List&lt;News&gt; topStories. I did news.setTitle and news.setSection and then added news to  List&lt;News&gt;. This is the error I received on the second JUnit Test   &quot;java.lang.AssertionError: No value at JSON path &quot;$.title&quot;, exception: Expected to find an object with property [&#39;title&#39;] in path $ but found &#39;net.minidev.json.JSONArray&#39;&quot;"},{"owner":{"account_id":2765276,"reputation":891,"user_id":2381154,"accept_rate":40,"display_name":"akash89"},"score":0,"creation_date":1616504245,"post_id":56211522,"comment_id":118017745,"body_markdown":"@NickSmith - how did you solve it? I am walking in the same shoes and facing the same issue","body":"@NickSmith - how did you solve it? I am walking in the same shoes and facing the same issue"}],"answers":[{"comments":[{"owner":{"account_id":14973230,"reputation":73,"user_id":10809400,"display_name":"Nick Smith"},"score":0,"creation_date":1558300790,"post_id":56211948,"comment_id":99045304,"body_markdown":"I did that and got the following error---------&gt; java.lang.AssertionError: No value at JSON path &quot;$.results.[0].title&quot;, exception: Expected to find an object with property [&#39;results&#39;] in path $ but found &#39;net.minidev.json.JSONArray&#39;. This is not a json object according to the JsonProvider: &#39;com.jayway.jsonpath.spi.json.JsonSmartJsonProvider&#39;.","body":"I did that and got the following error---------&gt; java.lang.AssertionError: No value at JSON path &quot;$.results.[0].title&quot;, exception: Expected to find an object with property [&#39;results&#39;] in path $ but found &#39;net.minidev.json.JSONArray&#39;. This is not a json object according to the JsonProvider: &#39;com.jayway.jsonpath.spi.json.JsonSmartJsonProvider&#39;."},{"owner":{"account_id":460651,"reputation":9266,"user_id":861885,"display_name":"Ebrahim Pasbani"},"score":0,"creation_date":1558300922,"post_id":56211948,"comment_id":99045338,"body_markdown":"@NickSmith Absolutely you should not have `[&#39;results&#39;]`. Because you test your rest controller not the news api. Your result controller has a list of `News` object. So the test should be against `$[0]` which is a `News`","body":"@NickSmith Absolutely you should not have <code>[&#39;results&#39;]</code>. Because you test your rest controller not the news api. Your result controller has a list of <code>News</code> object. So the test should be against <code>$[0]</code> which is a <code>News</code>"},{"owner":{"account_id":14973230,"reputation":73,"user_id":10809400,"display_name":"Nick Smith"},"score":0,"creation_date":1558301681,"post_id":56211948,"comment_id":99045498,"body_markdown":"I understand what you are saying, but unclear as to what I have to do to pass my JUNIT Test. I cannot edit my JUNIT test. I have to pass them as they are. Thank you for all your help, I truly appreciate you taking your timing to help me.","body":"I understand what you are saying, but unclear as to what I have to do to pass my JUNIT Test. I cannot edit my JUNIT test. I have to pass them as they are. Thank you for all your help, I truly appreciate you taking your timing to help me."},{"owner":{"account_id":460651,"reputation":9266,"user_id":861885,"display_name":"Ebrahim Pasbani"},"score":0,"creation_date":1558301829,"post_id":56211948,"comment_id":99045538,"body_markdown":"@NickSmith The tests are wrong so. In second test you want to test `topStories` endpoint. It returns a collection but in test body you deal with that as a `News` instance","body":"@NickSmith The tests are wrong so. In second test you want to test <code>topStories</code> endpoint. It returns a collection but in test body you deal with that as a <code>News</code> instance"},{"owner":{"account_id":460651,"reputation":9266,"user_id":861885,"display_name":"Ebrahim Pasbani"},"score":0,"creation_date":1558302019,"post_id":56211948,"comment_id":99045577,"body_markdown":"@NickSmith Or in first test, you test result of endpoint with two approach. First you expect the result of endpoint has a member named `results` which is a collection and another member which is a string (of `News` type).","body":"@NickSmith Or in first test, you test result of endpoint with two approach. First you expect the result of endpoint has a member named <code>results</code> which is a collection and another member which is a string (of <code>News</code> type)."},{"owner":{"account_id":460651,"reputation":9266,"user_id":861885,"display_name":"Ebrahim Pasbani"},"score":0,"creation_date":1558302561,"post_id":56211948,"comment_id":99045672,"body_markdown":"@NickSmith If you want to pass current tests you need to add a collection member named `results` to `News` class which is `List&lt;News&gt;`. It&#39;s like linked news","body":"@NickSmith If you want to pass current tests you need to add a collection member named <code>results</code> to <code>News</code> class which is <code>List&lt;News&gt;</code>. It&#39;s like linked news"},{"owner":{"account_id":14973230,"reputation":73,"user_id":10809400,"display_name":"Nick Smith"},"score":0,"creation_date":1558306810,"post_id":56211948,"comment_id":99046474,"body_markdown":"I tried adding the List&lt;News&gt; as private variable to my POJO. But I think I did it wrong. Do you mind showing me how? I also called setter method for it after my for loop and added my entire list to it.","body":"I tried adding the List&lt;News&gt; as private variable to my POJO. But I think I did it wrong. Do you mind showing me how? I also called setter method for it after my for loop and added my entire list to it."},{"owner":{"account_id":460651,"reputation":9266,"user_id":861885,"display_name":"Ebrahim Pasbani"},"score":0,"creation_date":1558313793,"post_id":56211948,"comment_id":99047431,"body_markdown":"@NickSmith As I said your tests are wrong. You need to change them.","body":"@NickSmith As I said your tests are wrong. You need to change them."},{"owner":{"account_id":460651,"reputation":9266,"user_id":861885,"display_name":"Ebrahim Pasbani"},"score":0,"creation_date":1558314048,"post_id":56211948,"comment_id":99047468,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/193604/discussion-between-ebrahim-pasbani-and-nick-smith).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/193604/discussion-between-ebrahim-pasbani-and-nick-smith\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":460651,"reputation":9266,"user_id":861885,"display_name":"Ebrahim Pasbani"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1558300238,"creation_date":1558299458,"answer_id":56211948,"question_id":56211522,"body_markdown":"You should create a new object for each top story  \r\n\r\n```\r\npublic List&lt;News&gt; getTopStories() throws Exception {\r\n\r\n    List&lt;News&gt; topStories = new ArrayList&lt;&gt;();\r\n    RestTemplate restTemplate = new RestTemplate();\r\n\r\n    String getUrl = &quot;https://api.nytimes.com/svc/topstories/v2/science.json?api-key=&quot; + apiKey;\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\r\n    ResponseEntity&lt;Map&gt; newsList = restTemplate.exchange(getUrl, HttpMethod.GET, entity, Map.class);\r\n    JSONObject jsonObject;\r\n    \r\n    if (newsList.getStatusCode() == HttpStatus.OK) {\r\n\r\n        jsonObject = new JSONObject(newsList.getBody());\r\n        JSONArray jsonArray = jsonObject.getJSONArray(&quot;results&quot;);\r\n\r\n        for(int i=0; i&lt;jsonArray.length(); i++) {\r\n            News news = new News();\r\n            news.setTitle(jsonArray.getJSONObject(i).get(&quot;title&quot;).toString());\r\n            news.setSection(jsonArray.getJSONObject(i).get(&quot;section&quot;).toString());\r\n            topStories.add(news);\r\n        }\r\n    }\r\n    // this is only returning the last index of the jsonArray (pretty sure I am suppose to return all to in my URL). Can&#39;t seem to come up with the logic to do that.\r\n    return topStories; \r\n}\r\n```  \r\n\r\nAnd also your controller and tests should be adapted to deal with list result.","title":"How to Consume REST Api and then Display Top Stories as JSON","body":"<p>You should create a new object for each top story  </p>\n\n<pre><code>public List&lt;News&gt; getTopStories() throws Exception {\n\n    List&lt;News&gt; topStories = new ArrayList&lt;&gt;();\n    RestTemplate restTemplate = new RestTemplate();\n\n    String getUrl = \"https://api.nytimes.com/svc/topstories/v2/science.json?api-key=\" + apiKey;\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_JSON);\n\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\n    ResponseEntity&lt;Map&gt; newsList = restTemplate.exchange(getUrl, HttpMethod.GET, entity, Map.class);\n    JSONObject jsonObject;\n\n    if (newsList.getStatusCode() == HttpStatus.OK) {\n\n        jsonObject = new JSONObject(newsList.getBody());\n        JSONArray jsonArray = jsonObject.getJSONArray(\"results\");\n\n        for(int i=0; i&lt;jsonArray.length(); i++) {\n            News news = new News();\n            news.setTitle(jsonArray.getJSONObject(i).get(\"title\").toString());\n            news.setSection(jsonArray.getJSONObject(i).get(\"section\").toString());\n            topStories.add(news);\n        }\n    }\n    // this is only returning the last index of the jsonArray (pretty sure I am suppose to return all to in my URL). Can't seem to come up with the logic to do that.\n    return topStories; \n}\n</code></pre>\n\n<p>And also your controller and tests should be adapted to deal with list result.</p>\n"},{"tags":[],"owner":{"account_id":8920442,"reputation":31,"user_id":6657227,"display_name":"Ashish Bhatia"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1560884669,"creation_date":1560842574,"answer_id":56643737,"question_id":56211522,"body_markdown":"The POJO needs to be updated to pass all the test cases.\r\n\r\n    public class News{\r\n    \tprivate String section;\r\n    \tprivate Results[] results;\r\n    \tprivate String title;\r\n    \t\r\n    \r\n    \tpublic Results[] getResults() {\r\n    \t\treturn results;\r\n    \t}\r\n    \r\n    \tpublic void setResults(Results[] results) {\r\n    \t\tthis.results = results;\r\n    \t}\r\n    \r\n    \tpublic String getSection() {\r\n    \t\treturn section;\r\n    \t}\r\n    \r\n    \tpublic void setSection(String section) {\r\n    \t\tthis.section = section;\r\n    \t}\r\n    \r\n    \tpublic String getTitle() {\r\n    \t\treturn title;\r\n    \t}\r\n    \r\n    \tpublic void setTitle(String title) {\r\n    \t\tthis.title = title;\r\n    \t}\r\n    \r\n    }\r\n\r\nThen You need to add one more POJO Class called Result\r\n\r\n    public class Results{\r\n    \tprivate String title;\r\n    \r\n    \tpublic String getTitle() {\r\n    \t\treturn title;\r\n    \t}\r\n    \tpublic void setTitle(String title) {\r\n    \t\tthis.title = title;\r\n    \t}\r\n    }\r\n\r\nAnd finally the service Class\r\n\r\n    public News getTopStories()\r\n    \t{\r\n    \t\tList&lt;News&gt; topStories = new ArrayList&lt;&gt;();\r\n    \t    RestTemplate restTemplate = new RestTemplate();\r\n    \t    String getUrl = &quot;https://api.nytimes.com/svc/topstories/v2/science.json?api-key=&lt;your-api-key&gt;&quot;;\r\n    \t    News news=new News();\r\n    \r\n    \t    HttpHeaders headers = new HttpHeaders();\r\n    \t    headers.setContentType(MediaType.APPLICATION_JSON);\r\n    \r\n    \t    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\r\n    \t    ResponseEntity&lt;Map&gt; newsList = restTemplate.exchange(getUrl, HttpMethod.GET, entity, Map.class);\r\n    \t    JSONObject jsonObject;\r\n    \r\n    \t    if (newsList.getStatusCode() == HttpStatus.OK) {\r\n    \r\n    \t        jsonObject = new JSONObject(newsList.getBody());\r\n    \t        JSONArray jsonArray = jsonObject.getJSONArray(&quot;results&quot;);\r\n    \t        Results[] results = new Results[jsonArray.length()];\r\n    \t        for(int i=0; i&lt;jsonArray.length(); i++) {\r\n    \t        \tnews.setTitle(jsonArray.getJSONObject(i).get(&quot;title&quot;).toString());\r\n    \t        \tnews.setSection(jsonArray.getJSONObject(i).get(&quot;section&quot;).toString());\r\n    \t        \tString title=jsonArray.getJSONObject(i).get(&quot;title&quot;).toString();\r\n    \t        \tresults[i]=new Results();\r\n    \t        \tresults[i].setTitle(title);\r\n    \t        \tnews.setResults(results);\r\n    \t        \ttopStories.add(news);\r\n    \t        }\r\n    \r\n    \t    }\r\n    \t    return topStories.get(0); \r\n    \t}\r\n\r\nThis will surely work for all the JUnit you mentioned.\r\nOr you can even create inner class Result instead of creating a new POJO file.","title":"How to Consume REST Api and then Display Top Stories as JSON","body":"<p>The POJO needs to be updated to pass all the test cases.</p>\n\n<pre><code>public class News{\n    private String section;\n    private Results[] results;\n    private String title;\n\n\n    public Results[] getResults() {\n        return results;\n    }\n\n    public void setResults(Results[] results) {\n        this.results = results;\n    }\n\n    public String getSection() {\n        return section;\n    }\n\n    public void setSection(String section) {\n        this.section = section;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n}\n</code></pre>\n\n<p>Then You need to add one more POJO Class called Result</p>\n\n<pre><code>public class Results{\n    private String title;\n\n    public String getTitle() {\n        return title;\n    }\n    public void setTitle(String title) {\n        this.title = title;\n    }\n}\n</code></pre>\n\n<p>And finally the service Class</p>\n\n<pre><code>public News getTopStories()\n    {\n        List&lt;News&gt; topStories = new ArrayList&lt;&gt;();\n        RestTemplate restTemplate = new RestTemplate();\n        String getUrl = \"https://api.nytimes.com/svc/topstories/v2/science.json?api-key=&lt;your-api-key&gt;\";\n        News news=new News();\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\n        ResponseEntity&lt;Map&gt; newsList = restTemplate.exchange(getUrl, HttpMethod.GET, entity, Map.class);\n        JSONObject jsonObject;\n\n        if (newsList.getStatusCode() == HttpStatus.OK) {\n\n            jsonObject = new JSONObject(newsList.getBody());\n            JSONArray jsonArray = jsonObject.getJSONArray(\"results\");\n            Results[] results = new Results[jsonArray.length()];\n            for(int i=0; i&lt;jsonArray.length(); i++) {\n                news.setTitle(jsonArray.getJSONObject(i).get(\"title\").toString());\n                news.setSection(jsonArray.getJSONObject(i).get(\"section\").toString());\n                String title=jsonArray.getJSONObject(i).get(\"title\").toString();\n                results[i]=new Results();\n                results[i].setTitle(title);\n                news.setResults(results);\n                topStories.add(news);\n            }\n\n        }\n        return topStories.get(0); \n    }\n</code></pre>\n\n<p>This will surely work for all the JUnit you mentioned.\nOr you can even create inner class Result instead of creating a new POJO file.</p>\n"},{"tags":[],"owner":{"account_id":11698460,"reputation":23,"user_id":8564420,"display_name":"Josemon Baby"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611566633,"creation_date":1611566633,"answer_id":65881967,"question_id":56211522,"body_markdown":"For the specific tests you need to create a result class in **News.java** itself.\r\n\r\n    import java.util.List;\r\n    \r\n    class Results{\r\n        private String title;\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    }\r\n    \r\n    \r\n    public class News {\r\n    private String title;\r\n    private String section;\r\n    private Results[] results;\r\n    \r\n    public Results[] getResults() {\r\n            return results;\r\n        }\r\n    \r\n        public void setResults(Results[] results) {\r\n            this.results = results;\r\n        }\r\n    \r\n    public String getTitle() {\r\n    \treturn title;\r\n    }\r\n    public void setTitle(String title) {\r\n    \tthis.title = title;\r\n    }\r\n    public String getSection() {\r\n    \treturn section;\r\n    }\r\n    public void setSection(String section) {\r\n    \tthis.section = section;\r\n    }\r\n    \r\n    }\r\n\r\nAnd then in your **News Service class** \r\n\r\n    @Service\r\n    public class NewsService {\r\n    \r\n    @Bean\r\n    public RestTemplate restTemplate(RestTemplateBuilder builder) {\r\n       return builder.build();\r\n    }\r\n    \r\n    @Autowired\r\n    private RestTemplate restTemplate;\r\n    \r\n    private String apiKey = &quot;&lt;---Your_Key---&gt;&quot;;\r\n    \r\n    \tpublic News getTopStories() {\r\n         List&lt;News&gt; topStories = new ArrayList&lt;&gt;();\r\n    \r\n        String getUrl = &quot;https://api.nytimes.com/svc/topstories/v2/science.json?api-key=&quot; + apiKey;\r\n    \r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n    \r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\r\n        ResponseEntity&lt;Map&gt; newsList = restTemplate.exchange(getUrl, HttpMethod.GET, entity, Map.class);\r\n        JSONObject jsonObject;\r\n    \r\n        if (newsList.getStatusCode() == HttpStatus.OK) {\r\n    \r\n            jsonObject = new JSONObject(newsList.getBody());\r\n            JSONArray jsonArray = jsonObject.getJSONArray(&quot;results&quot;);\r\n            Results[] results = new Results[jsonArray.length()];\r\n    \r\n            for(int i=0; i&lt;jsonArray.length(); i++) {\r\n                News news = new News();\r\n                news.setTitle(jsonArray.getJSONObject(i).get(&quot;title&quot;).toString());\r\n                news.setSection(jsonArray.getJSONObject(i).get(&quot;section&quot;).toString());\r\n                String title=jsonArray.getJSONObject(i).get(&quot;title&quot;).toString();\r\n                results[i]=new Results();\r\n                results[i].setTitle(title);\r\n                news.setResults(results);\r\n                topStories.add(news);\r\n            }\r\n        }\r\n        return topStories.get(0);\r\n      }\r\n    }\r\n\r\n","title":"How to Consume REST Api and then Display Top Stories as JSON","body":"<p>For the specific tests you need to create a result class in <strong>News.java</strong> itself.</p>\n<pre><code>import java.util.List;\n\nclass Results{\n    private String title;\n\n    public String getTitle() {\n        return title;\n    }\n    public void setTitle(String title) {\n        this.title = title;\n    }\n}\n\n\npublic class News {\nprivate String title;\nprivate String section;\nprivate Results[] results;\n\npublic Results[] getResults() {\n        return results;\n    }\n\n    public void setResults(Results[] results) {\n        this.results = results;\n    }\n\npublic String getTitle() {\n    return title;\n}\npublic void setTitle(String title) {\n    this.title = title;\n}\npublic String getSection() {\n    return section;\n}\npublic void setSection(String section) {\n    this.section = section;\n}\n\n}\n</code></pre>\n<p>And then in your <strong>News Service class</strong></p>\n<pre><code>@Service\npublic class NewsService {\n\n@Bean\npublic RestTemplate restTemplate(RestTemplateBuilder builder) {\n   return builder.build();\n}\n\n@Autowired\nprivate RestTemplate restTemplate;\n\nprivate String apiKey = &quot;&lt;---Your_Key---&gt;&quot;;\n\n    public News getTopStories() {\n     List&lt;News&gt; topStories = new ArrayList&lt;&gt;();\n\n    String getUrl = &quot;https://api.nytimes.com/svc/topstories/v2/science.json?api-key=&quot; + apiKey;\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_JSON);\n\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\n    ResponseEntity&lt;Map&gt; newsList = restTemplate.exchange(getUrl, HttpMethod.GET, entity, Map.class);\n    JSONObject jsonObject;\n\n    if (newsList.getStatusCode() == HttpStatus.OK) {\n\n        jsonObject = new JSONObject(newsList.getBody());\n        JSONArray jsonArray = jsonObject.getJSONArray(&quot;results&quot;);\n        Results[] results = new Results[jsonArray.length()];\n\n        for(int i=0; i&lt;jsonArray.length(); i++) {\n            News news = new News();\n            news.setTitle(jsonArray.getJSONObject(i).get(&quot;title&quot;).toString());\n            news.setSection(jsonArray.getJSONObject(i).get(&quot;section&quot;).toString());\n            String title=jsonArray.getJSONObject(i).get(&quot;title&quot;).toString();\n            results[i]=new Results();\n            results[i].setTitle(title);\n            news.setResults(results);\n            topStories.add(news);\n        }\n    }\n    return topStories.get(0);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18676476,"reputation":73,"user_id":13614048,"display_name":"Avinash gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678892488,"creation_date":1678892488,"answer_id":75746515,"question_id":56211522,"body_markdown":"The POJO needs to be updated to pass all the test cases.\r\n\r\n    public class News{\r\n        private String section;\r\n        private Results[] results;\r\n        private String title;\r\n    \r\n    \r\n        public Results[] getResults() {\r\n            return results;\r\n        }\r\n    \r\n        public void setResults(Results[] results) {\r\n            this.results = results;\r\n        }\r\n    \r\n        public String getSection() {\r\n            return section;\r\n        }\r\n    \r\n        public void setSection(String section) {\r\n            this.section = section;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n    }\r\n\r\nThen You need to add one more POJO Class called Result\r\n\r\n    public class Results{\r\n        private String title;\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    }\r\n\r\nAnd finally the service Class\r\n\r\n    public News getTopStories()\r\n        {\r\n            List&lt;News&gt; topStories = new ArrayList&lt;&gt;();\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            String getUrl = &quot;https://api.nytimes.com/svc/topstories/v2/science.json?api-key=&lt;your-api-key&gt;&quot;;\r\n            \r\n    \r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n    \r\n            HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\r\n            ResponseEntity&lt;Map&gt; newsList = restTemplate.exchange(getUrl, HttpMethod.GET, entity, Map.class);\r\n            JSONObject jsonObject;\r\n    \r\n            if (newsList.getStatusCode() == HttpStatus.OK) {\r\n                News news=new News();\r\n                jsonObject = new JSONObject(newsList.getBody());\r\n                JSONArray jsonArray = jsonObject.getJSONArray(&quot;results&quot;);\r\n                Results[] results = new Results[jsonArray.length()];\r\n                for(int i=0; i&lt;jsonArray.length(); i++) {\r\n    \r\n                    news.setTitle(jsonArray.getJSONObject(i).get(&quot;title&quot;).toString());\r\n                    news.setSection(jsonArray.getJSONObject(i).get(&quot;section&quot;).toString());\r\n                    String title=jsonArray.getJSONObject(i).get(&quot;title&quot;).toString();\r\n                    results[i]=new Results();\r\n                    results[i].setTitle(title);\r\n                    news.setResults(results);\r\n                    topStories.add(news);\r\n                }\r\n    \r\n            }\r\n            return topStories.get(0); \r\n        }\r\n INSTEAD OF CREATING NEWS OBJECT ONCE OUTSIDE THE FOR LOOP CREATE IT EVER TIME IN FORLOOP.\r\n\r\n\r\n","title":"How to Consume REST Api and then Display Top Stories as JSON","body":"<p>The POJO needs to be updated to pass all the test cases.</p>\n<pre><code>public class News{\n    private String section;\n    private Results[] results;\n    private String title;\n\n\n    public Results[] getResults() {\n        return results;\n    }\n\n    public void setResults(Results[] results) {\n        this.results = results;\n    }\n\n    public String getSection() {\n        return section;\n    }\n\n    public void setSection(String section) {\n        this.section = section;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n}\n</code></pre>\n<p>Then You need to add one more POJO Class called Result</p>\n<pre><code>public class Results{\n    private String title;\n\n    public String getTitle() {\n        return title;\n    }\n    public void setTitle(String title) {\n        this.title = title;\n    }\n}\n</code></pre>\n<p>And finally the service Class</p>\n<pre><code>public News getTopStories()\n    {\n        List&lt;News&gt; topStories = new ArrayList&lt;&gt;();\n        RestTemplate restTemplate = new RestTemplate();\n        String getUrl = &quot;https://api.nytimes.com/svc/topstories/v2/science.json?api-key=&lt;your-api-key&gt;&quot;;\n        \n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\n        ResponseEntity&lt;Map&gt; newsList = restTemplate.exchange(getUrl, HttpMethod.GET, entity, Map.class);\n        JSONObject jsonObject;\n\n        if (newsList.getStatusCode() == HttpStatus.OK) {\n            News news=new News();\n            jsonObject = new JSONObject(newsList.getBody());\n            JSONArray jsonArray = jsonObject.getJSONArray(&quot;results&quot;);\n            Results[] results = new Results[jsonArray.length()];\n            for(int i=0; i&lt;jsonArray.length(); i++) {\n\n                news.setTitle(jsonArray.getJSONObject(i).get(&quot;title&quot;).toString());\n                news.setSection(jsonArray.getJSONObject(i).get(&quot;section&quot;).toString());\n                String title=jsonArray.getJSONObject(i).get(&quot;title&quot;).toString();\n                results[i]=new Results();\n                results[i].setTitle(title);\n                news.setResults(results);\n                topStories.add(news);\n            }\n\n        }\n        return topStories.get(0); \n    }\n</code></pre>\n<p>INSTEAD OF CREATING NEWS OBJECT ONCE OUTSIDE THE FOR LOOP CREATE IT EVER TIME IN FORLOOP.</p>\n"}],"owner":{"account_id":14973230,"reputation":73,"user_id":10809400,"display_name":"Nick Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8708,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56211948,"answer_count":4,"score":1,"last_activity_date":1678892488,"creation_date":1558295797,"question_id":56211522,"body_markdown":"**GOAL:** Create a Spring Boot Project to consume a public API for NY Times to display the Top Stories at the moment.\r\n\r\n**What I have done:** I have consumed the REST Api and stored my response into a jsonObject. I have trying the pass the two unit tests, but unable to pass the first junit test. Pretty sure what I am doing is incorrect even though I am passing the second junit test.\r\n\r\n**News POJO**\r\n\r\n    public class News {\r\n    \r\n    private String title;\r\n    private String section;\r\n\r\n    // GETTER &amp; SETTER\r\n\r\n    }\r\n\r\n**News Service Class**\r\n\r\n    @Service public class NewsService {\r\n\r\n    private String apiKey = &quot;gIIWu7P82GBslJAd0MUSbKMrOaqHjWOo&quot;;\r\n\r\n    public News getTopStories() throws Exception {\r\n\r\n\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        News news = new News();\r\n\r\n        String getUrl = &quot;https://api.nytimes.com/svc/topstories/v2/science.json?api-key=&quot; + apiKey;\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\r\n        ResponseEntity&lt;Map&gt; newsList = restTemplate.exchange(getUrl, HttpMethod.GET, entity, Map.class);\r\n        JSONObject jsonObject;\r\n\r\n        if (newsList.getStatusCode() == HttpStatus.OK) {\r\n\r\n            jsonObject = new JSONObject(newsList.getBody());\r\n            JSONArray jsonArray = jsonObject.getJSONArray(&quot;results&quot;);\r\n\r\n            for(int i=0; i&lt;jsonArray.length(); i++) {\r\n\r\n                news.setTitle(jsonArray.getJSONObject(i).get(&quot;title&quot;).toString());\r\n                news.setSection(jsonArray.getJSONObject(i).get(&quot;section&quot;).toString());\r\n\r\n            }\r\n        }\r\n        // this is only returning the last index of the jsonArray (pretty sure I am suppose to return all to in my URL). Can&#39;t seem to come up with the logic to do that.\r\n        return news; \r\n    }\r\n\r\n    }\r\n\r\n**News Controller Class**\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class NewsController {\r\n\r\n    @Autowired\r\n    NewsService newsService;\r\n\r\n    @RequestMapping(value = &quot;/news/topstories&quot;, method = RequestMethod.GET)\r\n    public News getNews() throws Exception {\r\n        return newsService.getTopStories();\r\n    }\r\n\r\n    }\r\n\r\n**JUnit Test Needing to Pass**\r\n\r\n  \r\n\t@Test\r\n\tpublic void retrievetest_ok() throws Exception {\r\n\r\n\t\t mockMvc.perform(get(&quot;/api/news/topstories&quot; )).andDo(print())\r\n\t                .andExpect(status().isOk())\r\n\t                .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.results.[0].title&quot;).exists())\r\n\t                .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.section&quot;).exists());\r\n\r\n\r\n\t}\r\n\r\n\t@Test public void Newstest_ok() throws Exception {\r\n\t\tmockMvc.perform(get(&quot;/api/news/topstories&quot; ))\r\n\t\t\t\t.andDo(print())\r\n\t\t\t\t.andExpect(status().isOk())\r\n\t\t\t\t.andExpect(MockMvcResultMatchers.jsonPath(&quot;$.title&quot;).exists())\r\n\t\t\t\t.andExpect(MockMvcResultMatchers.jsonPath(&quot;$.section&quot;).exists());\r\n\t}\r\n\r\n\r\n    }\r\n\r\n**Error I receive for first JUnit Test**\r\n    \r\n    MockHttpServletRequest:\r\n      HTTP Method = GET\r\n      Request URI = /api/news/topstories\r\n       Parameters = {}\r\n          Headers = {}\r\n\r\n    Handler:\r\n             Type = com.example.project.NewsController\r\n           Method = public com.example.project.News com.example.project.NewsController.getNews() throws java.lang.Exception\r\n\r\n    Async:\r\n      Async started = false\r\n      Async result = null\r\n\r\n    Resolved Exception:\r\n             Type = null\r\n\r\n    ModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\n    FlashMap:\r\n       Attributes = null\r\n \r\n    \r\n     MockHttpServletResponse:\r\n           Status = 200\r\n     Error message = null\r\n          Headers = {Content-Type=[application/json;charset=UTF-8]}\r\n     Content type = application/json;charset=UTF-8\r\n             Body = {&quot;title&quot;:&quot;Shrinking and Quaking Hint at Moon’s Tectonic Life&quot;,&quot;section&quot;:&quot;Science&quot;}\r\n    Forwarded URL = null\r\n    Redirected URL = null\r\n          Cookies = []\r\n\r\n    java.lang.AssertionError: No value at JSON path &quot;$.results.[0].title&quot;, exception: Missing property in path $[&#39;results&#39;]\r\n    ...\r\n    ...\r\n    ...\r\n    ...","title":"How to Consume REST Api and then Display Top Stories as JSON","body":"<p><strong>GOAL:</strong> Create a Spring Boot Project to consume a public API for NY Times to display the Top Stories at the moment.</p>\n\n<p><strong>What I have done:</strong> I have consumed the REST Api and stored my response into a jsonObject. I have trying the pass the two unit tests, but unable to pass the first junit test. Pretty sure what I am doing is incorrect even though I am passing the second junit test.</p>\n\n<p><strong>News POJO</strong></p>\n\n<pre><code>public class News {\n\nprivate String title;\nprivate String section;\n\n// GETTER &amp; SETTER\n\n}\n</code></pre>\n\n<p><strong>News Service Class</strong></p>\n\n<pre><code>@Service public class NewsService {\n\nprivate String apiKey = \"gIIWu7P82GBslJAd0MUSbKMrOaqHjWOo\";\n\npublic News getTopStories() throws Exception {\n\n\n    RestTemplate restTemplate = new RestTemplate();\n    News news = new News();\n\n    String getUrl = \"https://api.nytimes.com/svc/topstories/v2/science.json?api-key=\" + apiKey;\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_JSON);\n\n    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(headers);\n    ResponseEntity&lt;Map&gt; newsList = restTemplate.exchange(getUrl, HttpMethod.GET, entity, Map.class);\n    JSONObject jsonObject;\n\n    if (newsList.getStatusCode() == HttpStatus.OK) {\n\n        jsonObject = new JSONObject(newsList.getBody());\n        JSONArray jsonArray = jsonObject.getJSONArray(\"results\");\n\n        for(int i=0; i&lt;jsonArray.length(); i++) {\n\n            news.setTitle(jsonArray.getJSONObject(i).get(\"title\").toString());\n            news.setSection(jsonArray.getJSONObject(i).get(\"section\").toString());\n\n        }\n    }\n    // this is only returning the last index of the jsonArray (pretty sure I am suppose to return all to in my URL). Can't seem to come up with the logic to do that.\n    return news; \n}\n\n}\n</code></pre>\n\n<p><strong>News Controller Class</strong></p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(\"/api\")\npublic class NewsController {\n\n@Autowired\nNewsService newsService;\n\n@RequestMapping(value = \"/news/topstories\", method = RequestMethod.GET)\npublic News getNews() throws Exception {\n    return newsService.getTopStories();\n}\n\n}\n</code></pre>\n\n<p><strong>JUnit Test Needing to Pass</strong></p>\n\n<pre><code>@Test\npublic void retrievetest_ok() throws Exception {\n\n     mockMvc.perform(get(\"/api/news/topstories\" )).andDo(print())\n                .andExpect(status().isOk())\n                .andExpect(MockMvcResultMatchers.jsonPath(\"$.results.[0].title\").exists())\n                .andExpect(MockMvcResultMatchers.jsonPath(\"$.section\").exists());\n\n\n}\n\n@Test public void Newstest_ok() throws Exception {\n    mockMvc.perform(get(\"/api/news/topstories\" ))\n            .andDo(print())\n            .andExpect(status().isOk())\n            .andExpect(MockMvcResultMatchers.jsonPath(\"$.title\").exists())\n            .andExpect(MockMvcResultMatchers.jsonPath(\"$.section\").exists());\n}\n\n\n}\n</code></pre>\n\n<p><strong>Error I receive for first JUnit Test</strong></p>\n\n<pre><code>MockHttpServletRequest:\n  HTTP Method = GET\n  Request URI = /api/news/topstories\n   Parameters = {}\n      Headers = {}\n\nHandler:\n         Type = com.example.project.NewsController\n       Method = public com.example.project.News com.example.project.NewsController.getNews() throws java.lang.Exception\n\nAsync:\n  Async started = false\n  Async result = null\n\nResolved Exception:\n         Type = null\n\nModelAndView:\n    View name = null\n         View = null\n        Model = null\n\nFlashMap:\n   Attributes = null\n\n\n MockHttpServletResponse:\n       Status = 200\n Error message = null\n      Headers = {Content-Type=[application/json;charset=UTF-8]}\n Content type = application/json;charset=UTF-8\n         Body = {\"title\":\"Shrinking and Quaking Hint at Moon’s Tectonic Life\",\"section\":\"Science\"}\nForwarded URL = null\nRedirected URL = null\n      Cookies = []\n\njava.lang.AssertionError: No value at JSON path \"$.results.[0].title\", exception: Missing property in path $['results']\n...\n...\n...\n...\n</code></pre>\n"},{"tags":["java","spring-mvc","tomcat","jetty","embedded-jetty"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1678357740,"post_id":75682404,"comment_id":133518217,"body_markdown":"I would try to start the web application in a stand-alone Jetty to see if there are the same performance problems as with the embedded Jetty. If not, then it might be due to how the Jetty is embedded.","body":"I would try to start the web application in a stand-alone Jetty to see if there are the same performance problems as with the embedded Jetty. If not, then it might be due to how the Jetty is embedded."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1678357879,"post_id":75682404,"comment_id":133518258,"body_markdown":"You can also try to activate the Jetty debug logging like so: `-Dorg.eclipse.jetty.util.log.class=org.eclipse.jetty.util.log.StdErrLog -Dorg.eclipse.jetty.LEVEL=DEBUG`","body":"You can also try to activate the Jetty debug logging like so: <code>-Dorg.eclipse.jetty.util.log.class=org.eclipse.jetty.util.lo&zwnj;&#8203;g.StdErrLog -Dorg.eclipse.jetty.LEVEL=DEBUG</code>"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1678358205,"post_id":75682404,"comment_id":133518364,"body_markdown":"To check the Jetty configuration at runtime, you can use [org.eclipse.jetty.serverServer#dump()](https://www.eclipse.org/jetty/javadoc/jetty-9/org/eclipse/jetty/server/Server.html#dump(java.lang.Appendable,java.lang.String)).","body":"To check the Jetty configuration at runtime, you can use <a href=\"https://www.eclipse.org/jetty/javadoc/jetty-9/org/eclipse/jetty/server/Server.html#dump(java.lang.Appendable,java.lang.String)\" rel=\"nofollow noreferrer\">org.eclipse.jetty.serverServer#dump()</a>."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1678364666,"post_id":75682404,"comment_id":133520167,"body_markdown":"[Jetty 9.x is now at End of Community Support](https://github.com/eclipse/jetty.project/issues/7958), you should be upgrading to Jetty 10 or Jetty 11 or even Jetty 12 at this point. -","body":"<a href=\"https://github.com/eclipse/jetty.project/issues/7958\" rel=\"nofollow noreferrer\">Jetty 9.x is now at End of Community Support</a>, you should be upgrading to Jetty 10 or Jetty 11 or even Jetty 12 at this point. -"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1678364783,"post_id":75682404,"comment_id":133520211,"body_markdown":"There is not enough information in this question to render help - things missing: how you setup your Embedded Jetty (the code)? what specs/technologies your webapp uses? what parts/modules/jars of Jetty you are using?","body":"There is not enough information in this question to render help - things missing: how you setup your Embedded Jetty (the code)? what specs/technologies your webapp uses? what parts/modules/jars of Jetty you are using?"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1678364923,"post_id":75682404,"comment_id":133520254,"body_markdown":"Please detail your timing.  It&#39;s a bit confusing in your question.  Eg: Are you timing from start of the JVM to first response complete? or when the server announces the webapp deployed to first response complete? or start of the request to end of the response? or variations of above.","body":"Please detail your timing.  It&#39;s a bit confusing in your question.  Eg: Are you timing from start of the JVM to first response complete? or when the server announces the webapp deployed to first response complete? or start of the request to end of the response? or variations of above."},{"owner":{"account_id":315862,"reputation":2972,"user_id":2279170,"accept_rate":80,"display_name":"Jeevi"},"score":0,"creation_date":1678365709,"post_id":75682404,"comment_id":133520470,"body_markdown":"After i deploy the jar(with embedded jetty) i make the very first call to the server. it takes around 2 secs , then it gradually reduces. \n\nAnd in the morning (no load throughout the night) if i trigger load, the cpu spikes with jetty \n\nI suspect Jetty is doing some lazy loading , which is causing this.","body":"After i deploy the jar(with embedded jetty) i make the very first call to the server. it takes around 2 secs , then it gradually reduces.   And in the morning (no load throughout the night) if i trigger load, the cpu spikes with jetty   I suspect Jetty is doing some lazy loading , which is causing this."},{"owner":{"account_id":315862,"reputation":2972,"user_id":2279170,"accept_rate":80,"display_name":"Jeevi"},"score":0,"creation_date":1678365931,"post_id":75682404,"comment_id":133520532,"body_markdown":"its a Spring MVC application and We still use Java 8 , so Jetty 11 is not an option","body":"its a Spring MVC application and We still use Java 8 , so Jetty 11 is not an option"},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1678369117,"post_id":75682404,"comment_id":133521562,"body_markdown":"Mixing `WebAppContext` and `context.setParentLoaderPriority(true);` is a bad idea, you are causing all of your server libraries to also be scanned on deployment.  If you use Jetty 10 with Spring MVC (not Jetty 11) then you&#39;ll be able to control which libraries are actually scanned (from a servlet spec point of view), along with better WebApp Configuration (which you are apparently not doing).  Keep in mind that NOTHING in Jetty is default or included, it&#39;s modular and everything is optional (even the server!), this is why I asked for the list of technologies (libs/specs) that you are using.","body":"Mixing <code>WebAppContext</code> and <code>context.setParentLoaderPriority(true);</code> is a bad idea, you are causing all of your server libraries to also be scanned on deployment.  If you use Jetty 10 with Spring MVC (not Jetty 11) then you&#39;ll be able to control which libraries are actually scanned (from a servlet spec point of view), along with better WebApp Configuration (which you are apparently not doing).  Keep in mind that NOTHING in Jetty is default or included, it&#39;s modular and everything is optional (even the server!), this is why I asked for the list of technologies (libs/specs) that you are using."},{"owner":{"account_id":315862,"reputation":2972,"user_id":2279170,"accept_rate":80,"display_name":"Jeevi"},"score":0,"creation_date":1678373572,"post_id":75682404,"comment_id":133523105,"body_markdown":"Are u suggesting to use quickstart module? \n\nAnd the service have spring MVC , hibernate , written in java , scala , uses aspectjwaver and what not (It was written a decade ago)","body":"Are u suggesting to use quickstart module?   And the service have spring MVC , hibernate , written in java , scala , uses aspectjwaver and what not (It was written a decade ago)"},{"owner":{"account_id":315862,"reputation":2972,"user_id":2279170,"accept_rate":80,"display_name":"Jeevi"},"score":0,"creation_date":1678378250,"post_id":75682404,"comment_id":133524689,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/252413/discussion-between-jeevi-and-joakim-erdfelt).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/252413/discussion-between-jeevi-and-joakim-erdfelt\">continue this discussion in chat</a>."},{"owner":{"account_id":315862,"reputation":2972,"user_id":2279170,"accept_rate":80,"display_name":"Jeevi"},"score":0,"creation_date":1678506507,"post_id":75682404,"comment_id":133550664,"body_markdown":"@vanje I tried enabling debug logs , server dump.\ni noticed tat all jars are scanned by sun.misc.launcher$appclassloader classer loader , even if i set setParentLoaderPriority(false) other than that i didnt find any information.","body":"@vanje I tried enabling debug logs , server dump. i noticed tat all jars are scanned by sun.misc.launcher$appclassloader classer loader , even if i set setParentLoaderPriority(false) other than that i didnt find any information."}],"owner":{"account_id":315862,"reputation":2972,"user_id":2279170,"accept_rate":80,"display_name":"Jeevi"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678892372,"creation_date":1678352618,"question_id":75682404,"body_markdown":"We have a spring MVC project(really a big &amp; old monolith) which we currently deploy in Tomcat server. Now I&#39;m trying to use embedded Jetty instead of tomcat ( there is no other code changes made other than Jetty changes) \r\n\r\nAfter moving to jetty , the very first request or the request aft long time without a load takes too much time to respond, it usually times out . \r\n\r\nJetty response time for first request is approx. 2 secs  ( which gets reduced for further requests) \r\n\r\nwhere as tomcat take approx. 300milliseconds for 1st request\r\n\r\nAnd on load test(100 request per sec) as well, \r\n   System load spikes for jetty , hence the CPU utilisation peaks till 60 to 65% for first few seconds then drops to 30%\r\n\r\nwhereas tomcat is able to take the load gracefully, it always maintains the 30% of CPU utilisation.\r\n\r\n\r\nI m using `ServerConnector` as connector  &amp; `queuedThreadPool with min: 50 , max:500 , queuesize: 6000`\r\n\r\ntried with different pool , queue sizes, but no luck \r\n\r\nIs there something i can change to get rid of this behaviour?\r\n\r\nI m using jetty `9.4.48.v20220622`\r\n\r\n\r\nMy Jetty code \r\n\r\n\r\n```\r\n\r\n            final String WEBAPP_RESOURCES_LOCATION = &quot;webapp&quot;;\r\n\r\n            WebAppContext context = new WebAppContext();\r\n            context.setContextPath(&quot;/&quot;);\r\n            URL webAppDir = Thread.currentThread().getContextClassLoader().getResource(WEBAPP_RESOURCES_LOCATION);\r\n            if (webAppDir == null) {\r\n                throw new RuntimeException(String.format(&quot;No %s directory was found into the jar file&quot;, WEBAPP_RESOURCES_LOCATION));\r\n            }\r\n            context.setResourceBase(webAppDir.toURI().toString());\r\n            context.setParentLoaderPriority(true);\r\n \r\n            ThreadPool jettyThreadPool = new QueuedThreadPool(50,200);\r\n\r\n\r\n            ....\r\n           \r\n     \r\n```\r\n\r\n","title":"Embedded Jetty 9 takes too long to respond to first request","body":"<p>We have a spring MVC project(really a big &amp; old monolith) which we currently deploy in Tomcat server. Now I'm trying to use embedded Jetty instead of tomcat ( there is no other code changes made other than Jetty changes)</p>\n<p>After moving to jetty , the very first request or the request aft long time without a load takes too much time to respond, it usually times out .</p>\n<p>Jetty response time for first request is approx. 2 secs  ( which gets reduced for further requests)</p>\n<p>where as tomcat take approx. 300milliseconds for 1st request</p>\n<p>And on load test(100 request per sec) as well,\nSystem load spikes for jetty , hence the CPU utilisation peaks till 60 to 65% for first few seconds then drops to 30%</p>\n<p>whereas tomcat is able to take the load gracefully, it always maintains the 30% of CPU utilisation.</p>\n<p>I m using <code>ServerConnector</code> as connector  &amp; <code>queuedThreadPool with min: 50 , max:500 , queuesize: 6000</code></p>\n<p>tried with different pool , queue sizes, but no luck</p>\n<p>Is there something i can change to get rid of this behaviour?</p>\n<p>I m using jetty <code>9.4.48.v20220622</code></p>\n<p>My Jetty code</p>\n<pre><code>\n            final String WEBAPP_RESOURCES_LOCATION = &quot;webapp&quot;;\n\n            WebAppContext context = new WebAppContext();\n            context.setContextPath(&quot;/&quot;);\n            URL webAppDir = Thread.currentThread().getContextClassLoader().getResource(WEBAPP_RESOURCES_LOCATION);\n            if (webAppDir == null) {\n                throw new RuntimeException(String.format(&quot;No %s directory was found into the jar file&quot;, WEBAPP_RESOURCES_LOCATION));\n            }\n            context.setResourceBase(webAppDir.toURI().toString());\n            context.setParentLoaderPriority(true);\n \n            ThreadPool jettyThreadPool = new QueuedThreadPool(50,200);\n\n\n            ....\n           \n     \n</code></pre>\n"},{"tags":["java","noclassdeffounderror"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1532029915,"post_id":51430731,"comment_id":89832427,"body_markdown":"How are you compiling? What source target? How are you running? Same version? Same platform? No bytecode manipulation?","body":"How are you compiling? What source target? How are you running? Same version? Same platform? No bytecode manipulation?"},{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":1,"creation_date":1532030005,"post_id":51430731,"comment_id":89832458,"body_markdown":"The class [`java.lang.invoke.StringConcatFactory`](https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/StringConcatFactory.html) is new in Java 9.","body":"The class <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/invoke/StringConcatFactory.html\" rel=\"nofollow noreferrer\"><code>java.lang.invoke.StringConcatFactory</code></a> is new in Java 9."},{"owner":{"account_id":2873902,"reputation":407,"user_id":3626495,"accept_rate":100,"display_name":"stegzzz"},"score":0,"creation_date":1532034936,"post_id":51430731,"comment_id":89834507,"body_markdown":"What happens if you try this at the command prompt javac atmPin.java then java atmPin? When I do so I get &quot;hi there0&quot;.","body":"What happens if you try this at the command prompt javac atmPin.java then java atmPin? When I do so I get &quot;hi there0&quot;."},{"owner":{"account_id":12146697,"reputation":51,"user_id":8868798,"display_name":"Arif khan"},"score":0,"creation_date":1532112574,"post_id":51430731,"comment_id":89867865,"body_markdown":"i think @rgettman is right. i has something to do with java 9. But what&#39;s the solution now?","body":"i think @rgettman is right. i has something to do with java 9. But what&#39;s the solution now?"}],"answers":[{"tags":[],"owner":{"account_id":8357506,"reputation":31,"user_id":6277184,"display_name":"PROgrammer_JARvis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565286841,"creation_date":1565286841,"answer_id":57418256,"question_id":51430731,"body_markdown":"`java.lang.invoke.StringConcatFactory` is a class which appeared in Java 9 in order to implement [JEP 280 (Indify String Concatenation)][1] which changes behaviour of `javac` compiler so that it uses `invokedynamic` instructon together with the given class for string concatentaion. So the reason for this error most probably is compiling using `javac` from JDK 9 or later while running this code under Java 8 or less (or, with much less chance, using custom java runtime).\r\n\r\nIn order to solve it another version of compiler might be used or another version may be specified to the compiler or another JRE should be used for running the compiled class(es).\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/280","title":"(java string concatenation)How come this is giving this exception?","body":"<p><code>java.lang.invoke.StringConcatFactory</code> is a class which appeared in Java 9 in order to implement <a href=\"https://openjdk.java.net/jeps/280\" rel=\"nofollow noreferrer\">JEP 280 (Indify String Concatenation)</a> which changes behaviour of <code>javac</code> compiler so that it uses <code>invokedynamic</code> instructon together with the given class for string concatentaion. So the reason for this error most probably is compiling using <code>javac</code> from JDK 9 or later while running this code under Java 8 or less (or, with much less chance, using custom java runtime).</p>\n\n<p>In order to solve it another version of compiler might be used or another version may be specified to the compiler or another JRE should be used for running the compiled class(es).</p>\n"},{"tags":[],"owner":{"account_id":5495894,"reputation":187,"user_id":4715872,"display_name":"Jim Klimov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678892120,"creation_date":1678892120,"answer_id":75746434,"question_id":51430731,"body_markdown":"I stumbled upon this issue with codebase compiled for Java 11. Trial and error led me to discover that a method recursed infinitely before throwing an exception (which was caught and a nice text was concatenated to report it). Apparently `StringConcatFactory` could not work in this situation; as a quick check, explicitly using `StringBuilder` did work, roughly like this:\r\n\r\n    ...} catch (Exception e) {\r\n        StringBuilder sb = new StringBuilder()\r\n\t\t\t\t\t.append(&quot;Got some problem: &quot;)\r\n                    .append(e.getMessage());\r\n        System.err.println(sb.toString());\r\n        //System.err.println(&quot;Got some problem: &quot; + e.getMessage()); // fails\r\n    }\r\n\r\nAlthough in this case of course the proper solution was to break the infinite loop.\r\n\r\nI suppose the factory failed to work because the loop ate all resources on the heap, or something of the sort.","title":"(java string concatenation)How come this is giving this exception?","body":"<p>I stumbled upon this issue with codebase compiled for Java 11. Trial and error led me to discover that a method recursed infinitely before throwing an exception (which was caught and a nice text was concatenated to report it). Apparently <code>StringConcatFactory</code> could not work in this situation; as a quick check, explicitly using <code>StringBuilder</code> did work, roughly like this:</p>\n<pre><code>...} catch (Exception e) {\n    StringBuilder sb = new StringBuilder()\n                .append(&quot;Got some problem: &quot;)\n                .append(e.getMessage());\n    System.err.println(sb.toString());\n    //System.err.println(&quot;Got some problem: &quot; + e.getMessage()); // fails\n}\n</code></pre>\n<p>Although in this case of course the proper solution was to break the infinite loop.</p>\n<p>I suppose the factory failed to work because the loop ate all resources on the heap, or something of the sort.</p>\n"}],"owner":{"account_id":12146697,"reputation":51,"user_id":8868798,"display_name":"Arif khan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3801,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1678892120,"creation_date":1532029814,"question_id":51430731,"body_markdown":"\r\n   this is my simple code. \r\n\r\n    class atmPin{\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint x = 0;\r\n    \t\tSystem.out.println(&quot;hi there&quot;+x);\r\n    \t}\r\n    }\r\n\r\nWhen i run it i get this exception errors.  \r\n   \r\n\r\n     java atmPin \r\n        Exception in thread &quot;main&quot; java.lang.BootstrapMethodError: java.lang.NoClassDefFoundError: java/lang/invoke/StringConcatFactory\r\n        \tat atmPin.main(atmPin.java:6)\r\n        Caused by: java.lang.NoClassDefFoundError: java/lang/invoke/StringConcatFactory\r\n        \t... 1 more\r\n        Caused by: java.lang.ClassNotFoundException: java.lang.invoke.StringConcatFactory\r\n        \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n        \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        \t... 1 more\r\n\r\nis this something to do with java version? i have no idea why is it happening. this is such a simple thing. :(\r\ngetting the same kind of exception even with strings.\r\neg.\r\n\r\n     String x = &quot;&quot;;\r\n         x += &quot;a&quot;;","title":"(java string concatenation)How come this is giving this exception?","body":"<p>this is my simple code. </p>\n\n<pre><code>class atmPin{\n    public static void main(String[] args) {\n        int x = 0;\n        System.out.println(\"hi there\"+x);\n    }\n}\n</code></pre>\n\n<p>When i run it i get this exception errors.  </p>\n\n<pre><code> java atmPin \n    Exception in thread \"main\" java.lang.BootstrapMethodError: java.lang.NoClassDefFoundError: java/lang/invoke/StringConcatFactory\n        at atmPin.main(atmPin.java:6)\n    Caused by: java.lang.NoClassDefFoundError: java/lang/invoke/StringConcatFactory\n        ... 1 more\n    Caused by: java.lang.ClassNotFoundException: java.lang.invoke.StringConcatFactory\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 1 more\n</code></pre>\n\n<p>is this something to do with java version? i have no idea why is it happening. this is such a simple thing. :(\ngetting the same kind of exception even with strings.\neg.</p>\n\n<pre><code> String x = \"\";\n     x += \"a\";\n</code></pre>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":6452287,"reputation":998,"user_id":4998851,"display_name":"Andrey Morozov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586506624,"creation_date":1472636605,"answer_id":39246114,"question_id":38715249,"body_markdown":"Maybe in the index, a lot of documents and _bulk requests are executed so long. And the error occurs when the [translog][1] is in the recording process.\r\n\r\n&gt; Changes to Lucene are only persisted to disk during a Lucene commit,\r\n&gt; which is a relatively heavy operation and so cannot be performed after\r\n&gt; every index or delete operation. Changes that happen after one commit\r\n&gt; and before another will be lost in the event of process exit or HW\r\n&gt; failure.\r\n\r\n\r\nI helped change **index.translog.sync_interval: 10s** in elasticsearch.yml\r\nand change number of documents (500-1000) in a [Bulk][2] request.\r\n\r\nElasticsearch needs tweaking.\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules-translog.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/2.3/docs-bulk.html","title":"ElasticSearch - transllog is already closed","body":"<p>Maybe in the index, a lot of documents and _bulk requests are executed so long. And the error occurs when the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules-translog.html\" rel=\"nofollow noreferrer\">translog</a> is in the recording process.</p>\n\n<blockquote>\n  <p>Changes to Lucene are only persisted to disk during a Lucene commit,\n  which is a relatively heavy operation and so cannot be performed after\n  every index or delete operation. Changes that happen after one commit\n  and before another will be lost in the event of process exit or HW\n  failure.</p>\n</blockquote>\n\n<p>I helped change <strong>index.translog.sync_interval: 10s</strong> in elasticsearch.yml\nand change number of documents (500-1000) in a <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/2.3/docs-bulk.html\" rel=\"nofollow noreferrer\">Bulk</a> request.</p>\n\n<p>Elasticsearch needs tweaking.</p>\n"},{"tags":[],"owner":{"account_id":3505571,"reputation":989,"user_id":2931171,"display_name":"Magnus Reftel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678892029,"creation_date":1678892029,"answer_id":75746415,"question_id":38715249,"body_markdown":"Reindexing sometimes causes the same problem for me. The index gets stuck, and writes to documents in it fail with &quot;translog is already closed&quot;. When this happens, closing and re-opening the index (see https://www.elastic.co/guide/en/elasticsearch/reference/8.6/indices-close.html and https://www.elastic.co/guide/en/elasticsearch/reference/8.6/indices-open-close.html ) makes it usable again.","title":"ElasticSearch - transllog is already closed","body":"<p>Reindexing sometimes causes the same problem for me. The index gets stuck, and writes to documents in it fail with &quot;translog is already closed&quot;. When this happens, closing and re-opening the index (see <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.6/indices-close.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/8.6/indices-close.html</a> and <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.6/indices-open-close.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/8.6/indices-open-close.html</a> ) makes it usable again.</p>\n"}],"owner":{"account_id":8116262,"reputation":105,"user_id":6114667,"display_name":"Alexandre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2940,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678892029,"creation_date":1470126047,"question_id":38715249,"body_markdown":"Since some days, i got several crash in my applog when i&#39;m trying to add some documents\r\nEverething worked fine before...\r\n\r\ntrace:\r\n\r\n    java.util.concurrent.ExecutionException: RemoteTransportException[[server][1.1.1.1:9300][indices:data/write/index]]; nested: IndexFailedEngineException[Index failed for [com.domain.util.SearchField#2257100]]; nested: AlreadyClosedException[translog is already closed];\r\n\r\n\r\nall trace:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    java.util.concurrent.ExecutionException: RemoteTransportException[[server][1.1.1.1:9300][indices:data/write/index]]; nested: IndexFailedEngineException[Index failed for [com.domain.util.SearchField#2257100]]; nested: AlreadyClosedException[translog is already closed];\r\n    \tat org.elasticsearch.common.util.concurrent.BaseFuture$Sync.getValue(BaseFuture.java:290)\r\n    \tat org.elasticsearch.common.util.concurrent.BaseFuture$Sync.get(BaseFuture.java:277)\r\n    \tat org.elasticsearch.common.util.concurrent.BaseFuture.get(BaseFuture.java:116)\r\n    \tat com.utils.ElasticsearchHelper.add(ElasticsearchHelper.java:230)\r\n    \tat com.dao.searchable.impl.DaoSearchable.merge(DaoSearchable.java:478)\r\n    \tat com.dao.searchable.impl.DaoSearchable.merge(DaoSearchable.java:31)\r\n    \tat com.dao.util.impl.DaoEventImpl.listenObject(DaoEventImpl.java:417)\r\n    \tat com.dao.util.impl.DaoEventImpl.addSearchEvent(DaoEventImpl.java:193)\r\n    \tat com.utils.ShapesDaoUtils.manageEvent(ShapesDaoUtils.java:82)\r\n    \tat com.dao.impl.ShapesDaoBaseJpa.merge(ShapesDaoBaseJpa.java:230)\r\n    \tat com.services.collectiondocument.impl.CollectionDocumentsServiceImpl.addTagToCollectionDocuments(CollectionDocumentsServiceImpl.java:691)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n    \tat com.sun.proxy.$Proxy1174.addTagToCollectionDocuments(Unknown Source)\r\n    \tat com.services.impl.SampleServiceImpl.generateTechPacks(SampleServiceImpl.java:1480)\r\n    \tat com.services.impl.SampleServiceImpl.generateTechPacksById(SampleServiceImpl.java:1352)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n    \tat com.sun.proxy.$Proxy1291.generateTechPacksById(Unknown Source)\r\n    \tat com.controller.sample.SampleController.generateTechPacks(SampleController.java:210)\r\n    \tat com.controller.sample.SampleController$$FastClassByCGLIB$$df54e710.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:698)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n    \tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:55)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:631)\r\n    \tat com.controller.sample.SampleController$$EnhancerByCGLIB$$cccf0aef.generateTechPacks(&lt;generated&gt;)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:936)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:838)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:650)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:812)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:748)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:486)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:411)\r\n    \tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:338)\r\n    \tat org.tuckey.web.filters.urlrewrite.NormalRewrittenUrl.doRewrite(NormalRewrittenUrl.java:213)\r\n    \tat org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:171)\r\n    \tat org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)\r\n    \tat org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)\r\n    \tat org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:394)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:186)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:166)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:183)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:75)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:99)\r\n    \tat com.oxit.fwk.security.fallback.OxitFallbackEntryPoint.doFilter(OxitFallbackEntryPoint.java:71)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:158)\r\n    \tat org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:104)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:172)\r\n    \tat org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:95)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat com.oxit.fwk.loginaudit.filter.LoginAuditFilter.doFilter(LoginAuditFilter.java:75)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:70)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:505)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:957)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:423)\r\n    \tat org.apache.coyote.ajp.AjpAprProcessor.process(AjpAprProcessor.java:188)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:620)\r\n    \tat org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2516)\r\n    \tat org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2505)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: RemoteTransportException[[server][1.1.1.1:9300][indices:data/write/index]]; nested: IndexFailedEngineException[Index failed for [com.domain.util.SearchField#2257100]]; nested: AlreadyClosedException[translog is already closed];\r\n    Caused by: [pace][[pace][2]] IndexFailedEngineException[Index failed for [com.domain.util.SearchField#2257100]]; nested: AlreadyClosedException[translog is already closed];\r\n    \tat org.elasticsearch.index.engine.InternalEngine.index(InternalEngine.java:473)\r\n    \tat org.elasticsearch.index.shard.IndexShard.index(IndexShard.java:571)\r\n    \tat org.elasticsearch.index.engine.Engine$Index.execute(Engine.java:836)\r\n    \tat org.elasticsearch.action.support.replication.TransportReplicationAction.executeIndexRequestOnPrimary(TransportReplicationAction.java:1073)\r\n    \tat org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:170)\r\n    \tat org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryPhase.performOnPrimary(TransportReplicationAction.java:579)\r\n    \tat org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryPhase$1.doRun(TransportReplicationAction.java:452)\r\n    \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.apache.lucene.store.AlreadyClosedException: translog is already closed\r\n    \tat org.elasticsearch.index.translog.Translog.ensureOpen(Translog.java:1845)\r\n    \tat org.elasticsearch.index.translog.Translog.add(Translog.java:513)\r\n    \tat org.elasticsearch.index.engine.InternalEngine.innerIndex(InternalEngine.java:553)\r\n    \tat org.elasticsearch.index.engine.InternalEngine.index(InternalEngine.java:468)\r\n    \t... 10 more\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nI don&#39;t understandwhy","title":"ElasticSearch - transllog is already closed","body":"<p>Since some days, i got several crash in my applog when i'm trying to add some documents\nEverething worked fine before...</p>\n\n<p>trace:</p>\n\n<pre><code>java.util.concurrent.ExecutionException: RemoteTransportException[[server][1.1.1.1:9300][indices:data/write/index]]; nested: IndexFailedEngineException[Index failed for [com.domain.util.SearchField#2257100]]; nested: AlreadyClosedException[translog is already closed];\n</code></pre>\n\n<p>all trace:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>java.util.concurrent.ExecutionException: RemoteTransportException[[server][1.1.1.1:9300][indices:data/write/index]]; nested: IndexFailedEngineException[Index failed for [com.domain.util.SearchField#2257100]]; nested: AlreadyClosedException[translog is already closed];\r\n\tat org.elasticsearch.common.util.concurrent.BaseFuture$Sync.getValue(BaseFuture.java:290)\r\n\tat org.elasticsearch.common.util.concurrent.BaseFuture$Sync.get(BaseFuture.java:277)\r\n\tat org.elasticsearch.common.util.concurrent.BaseFuture.get(BaseFuture.java:116)\r\n\tat com.utils.ElasticsearchHelper.add(ElasticsearchHelper.java:230)\r\n\tat com.dao.searchable.impl.DaoSearchable.merge(DaoSearchable.java:478)\r\n\tat com.dao.searchable.impl.DaoSearchable.merge(DaoSearchable.java:31)\r\n\tat com.dao.util.impl.DaoEventImpl.listenObject(DaoEventImpl.java:417)\r\n\tat com.dao.util.impl.DaoEventImpl.addSearchEvent(DaoEventImpl.java:193)\r\n\tat com.utils.ShapesDaoUtils.manageEvent(ShapesDaoUtils.java:82)\r\n\tat com.dao.impl.ShapesDaoBaseJpa.merge(ShapesDaoBaseJpa.java:230)\r\n\tat com.services.collectiondocument.impl.CollectionDocumentsServiceImpl.addTagToCollectionDocuments(CollectionDocumentsServiceImpl.java:691)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy1174.addTagToCollectionDocuments(Unknown Source)\r\n\tat com.services.impl.SampleServiceImpl.generateTechPacks(SampleServiceImpl.java:1480)\r\n\tat com.services.impl.SampleServiceImpl.generateTechPacksById(SampleServiceImpl.java:1352)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy1291.generateTechPacksById(Unknown Source)\r\n\tat com.controller.sample.SampleController.generateTechPacks(SampleController.java:210)\r\n\tat com.controller.sample.SampleController$$FastClassByCGLIB$$df54e710.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:698)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)\r\n\tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:55)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:91)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:631)\r\n\tat com.controller.sample.SampleController$$EnhancerByCGLIB$$cccf0aef.generateTechPacks(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:936)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:838)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:650)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:812)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:748)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:486)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:411)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:338)\r\n\tat org.tuckey.web.filters.urlrewrite.NormalRewrittenUrl.doRewrite(NormalRewrittenUrl.java:213)\r\n\tat org.tuckey.web.filters.urlrewrite.RuleChain.handleRewrite(RuleChain.java:171)\r\n\tat org.tuckey.web.filters.urlrewrite.RuleChain.doRules(RuleChain.java:145)\r\n\tat org.tuckey.web.filters.urlrewrite.UrlRewriter.processRequest(UrlRewriter.java:92)\r\n\tat org.tuckey.web.filters.urlrewrite.UrlRewriteFilter.doFilter(UrlRewriteFilter.java:394)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:186)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:166)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:183)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.saml.metadata.MetadataDisplayFilter.doFilter(MetadataDisplayFilter.java:75)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.saml.SAMLEntryPoint.doFilter(SAMLEntryPoint.java:99)\r\n\tat com.oxit.fwk.security.fallback.OxitFallbackEntryPoint.doFilter(OxitFallbackEntryPoint.java:71)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.saml.SAMLLogoutFilter.processLogout(SAMLLogoutFilter.java:158)\r\n\tat org.springframework.security.saml.SAMLLogoutFilter.doFilter(SAMLLogoutFilter.java:104)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.saml.SAMLLogoutProcessingFilter.processLogout(SAMLLogoutProcessingFilter.java:172)\r\n\tat org.springframework.security.saml.SAMLLogoutProcessingFilter.doFilter(SAMLLogoutProcessingFilter.java:95)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat com.oxit.fwk.loginaudit.filter.LoginAuditFilter.doFilter(LoginAuditFilter.java:75)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.saml.metadata.MetadataGeneratorFilter.doFilter(MetadataGeneratorFilter.java:70)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:505)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:957)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:423)\r\n\tat org.apache.coyote.ajp.AjpAprProcessor.process(AjpAprProcessor.java:188)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:620)\r\n\tat org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2516)\r\n\tat org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2505)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: RemoteTransportException[[server][1.1.1.1:9300][indices:data/write/index]]; nested: IndexFailedEngineException[Index failed for [com.domain.util.SearchField#2257100]]; nested: AlreadyClosedException[translog is already closed];\r\nCaused by: [pace][[pace][2]] IndexFailedEngineException[Index failed for [com.domain.util.SearchField#2257100]]; nested: AlreadyClosedException[translog is already closed];\r\n\tat org.elasticsearch.index.engine.InternalEngine.index(InternalEngine.java:473)\r\n\tat org.elasticsearch.index.shard.IndexShard.index(IndexShard.java:571)\r\n\tat org.elasticsearch.index.engine.Engine$Index.execute(Engine.java:836)\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction.executeIndexRequestOnPrimary(TransportReplicationAction.java:1073)\r\n\tat org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:170)\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryPhase.performOnPrimary(TransportReplicationAction.java:579)\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryPhase$1.doRun(TransportReplicationAction.java:452)\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.apache.lucene.store.AlreadyClosedException: translog is already closed\r\n\tat org.elasticsearch.index.translog.Translog.ensureOpen(Translog.java:1845)\r\n\tat org.elasticsearch.index.translog.Translog.add(Translog.java:513)\r\n\tat org.elasticsearch.index.engine.InternalEngine.innerIndex(InternalEngine.java:553)\r\n\tat org.elasticsearch.index.engine.InternalEngine.index(InternalEngine.java:468)\r\n\t... 10 more</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I don't understandwhy</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678898469,"post_id":75746364,"comment_id":133623696,"body_markdown":"Try the second option.  Documented properties are more reliable than an undocumented property.  You may also want to add `factory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true)`.","body":"Try the second option.  Documented properties are more reliable than an undocumented property.  You may also want to add <code>factory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true)</code>."},{"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"score":0,"creation_date":1678953845,"post_id":75746364,"comment_id":133633497,"body_markdown":"I checked all options and sonar only accepts solution with disabled `ACCESS_EXTERNAL_*` flags. In my case I can suppress the warning as I&#39;m using schema from project resources. Nevertheless the description is misleading.","body":"I checked all options and sonar only accepts solution with disabled <code>ACCESS_EXTERNAL_*</code> flags. In my case I can suppress the warning as I&#39;m using schema from project resources. Nevertheless the description is misleading."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678975365,"post_id":75746364,"comment_id":133639900,"body_markdown":"I have many times written code with a comment like `// Make sonar happy`.  Sonar has a lot of flaws.  Secure XML processing is a good thing, but I can’t think of a justification for only accepting the doctype approach.","body":"I have many times written code with a comment like <code>&#47;&#47; Make sonar happy</code>.  Sonar has a lot of flaws.  Secure XML processing is a good thing, but I can’t think of a justification for only accepting the doctype approach."}],"owner":{"account_id":10413480,"reputation":3922,"user_id":10950272,"display_name":"makozaki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1678891773,"creation_date":1678891773,"question_id":75746364,"body_markdown":"Sonar proposes compliant solution for SchemaFactory as follows:\r\n```java\r\nSchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n// to be compliant, completely disable DOCTYPE declaration:\r\nfactory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\r\n// or prohibit the use of all protocols by external entities:\r\nfactory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\nfactory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\r\n```\r\nIt clearly says disable DOCTYPE declaration **or** prohibit the use of all protocols by external entities so I chose the 1st option.\r\n[![Sonar finding][1]][1]\r\n\r\nAny clues how to fix this without setting external properties? Is it a bug in Sonar or am I missing something? I used `newInstance()` with specific factory class argument but I don&#39;t think it should influence the security rule.\r\n\r\n  [1]: https://i.stack.imgur.com/pyg1Y.png","title":"SchemaFactory Sonar Disable access to external entities in XML parsing - how to fix?","body":"<p>Sonar proposes compliant solution for SchemaFactory as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n// to be compliant, completely disable DOCTYPE declaration:\nfactory.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\n// or prohibit the use of all protocols by external entities:\nfactory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\nfactory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\n</code></pre>\n<p>It clearly says disable DOCTYPE declaration <strong>or</strong> prohibit the use of all protocols by external entities so I chose the 1st option.\n<a href=\"https://i.stack.imgur.com/pyg1Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pyg1Y.png\" alt=\"Sonar finding\" /></a></p>\n<p>Any clues how to fix this without setting external properties? Is it a bug in Sonar or am I missing something? I used <code>newInstance()</code> with specific factory class argument but I don't think it should influence the security rule.</p>\n"},{"tags":["java","sqlite","netbeans"],"owner":{"account_id":27966502,"reputation":1,"user_id":21357235,"display_name":"BOBI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678891755,"creation_date":1678891755,"question_id":75746359,"body_markdown":"Im working on my computer science project. It&#39;s a simple GUI Event Manager. I have main frame &#39;EventFrame&#39; with 2 textfields &#39;announcementText&#39; and &#39;annDateText&#39; and different frame &#39;annFrame&#39; which has method to add typed announcement and date into &#39;announcements&#39; table in database. How to transfer last added announcement to be shown separately in main frame &#39;announcementText&#39; and &#39;annDateText&#39;, taking in case there is &#39;id&#39; column in &#39;announcements&#39; table. Here is &#39;addAnnFrame&#39; code:\r\n\r\n\r\n```\r\npackage EventFrame;\r\n\r\nimport java.sql.*;\r\nimport java.sql.DriverManager;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class annFrame extends javax.swing.JFrame {\r\n\r\n    Connection sqlConn = null;\r\n    PreparedStatement pst = null;\r\n    /**\r\n     * Creates new form annFrame\r\n     */\r\n    public annFrame() {\r\n        initComponents();\r\n    }\r\n\r\n  \r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jPanel1 = new javax.swing.JPanel();\r\n        annDate = new javax.swing.JLabel();\r\n        annAnnouncement = new javax.swing.JLabel();\r\n        annAnnouncementText = new javax.swing.JTextField();\r\n        annDateText = new com.toedter.calendar.JDateChooser();\r\n        annBackBtn = new javax.swing.JButton();\r\n        annAddBtn = new javax.swing.JButton();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        jPanel1.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(51, 0, 102), 4));\r\n\r\n        annDate.setFont(new java.awt.Font(&quot;Segoe UI Black&quot;, 0, 14)); // NOI18N\r\n        annDate.setText(&quot;Date&quot;);\r\n\r\n        annAnnouncement.setFont(new java.awt.Font(&quot;Segoe UI Black&quot;, 0, 14)); // NOI18N\r\n        annAnnouncement.setText(&quot;Announcement&quot;);\r\n\r\n        annBackBtn.setFont(new java.awt.Font(&quot;Segoe UI Black&quot;, 0, 14)); // NOI18N\r\n        annBackBtn.setText(&quot;BACK&quot;);\r\n        annBackBtn.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                annBackBtnActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        annAddBtn.setFont(new java.awt.Font(&quot;Segoe UI Black&quot;, 0, 14)); // NOI18N\r\n        annAddBtn.setText(&quot;ADD&quot;);\r\n        annAddBtn.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                annAddBtnActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\r\n        jPanel1.setLayout(jPanel1Layout);\r\n        jPanel1Layout.setHorizontalGroup(\r\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                .addGap(17, 17, 17)\r\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(annAnnouncement)\r\n                    .addComponent(annDate, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                .addGap(29, 29, 29)\r\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(annAnnouncementText, javax.swing.GroupLayout.PREFERRED_SIZE, 269, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(annDateText, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                .addContainerGap(20, Short.MAX_VALUE))\r\n            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                .addGap(80, 80, 80)\r\n                .addComponent(annBackBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addComponent(annAddBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addGap(80, 80, 80))\r\n        );\r\n        jPanel1Layout.setVerticalGroup(\r\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                .addGap(24, 24, 24)\r\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\r\n                    .addComponent(annDate, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                    .addComponent(annDateText, javax.swing.GroupLayout.DEFAULT_SIZE, 40, Short.MAX_VALUE))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\r\n                    .addComponent(annAnnouncementText)\r\n                    .addComponent(annAnnouncement, javax.swing.GroupLayout.DEFAULT_SIZE, 40, Short.MAX_VALUE))\r\n                .addGap(35, 35, 35)\r\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(annBackBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(annAddBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                .addContainerGap(35, Short.MAX_VALUE))\r\n        );\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addContainerGap())\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addContainerGap())\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void annBackBtnActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n        this.setVisible(false);\r\n        new EventFrame().setVisible(true);\r\n    }                                          \r\n\r\n    private void annAddBtnActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        try {\r\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n            sqlConn = DriverManager.getConnection(&quot;jdbc:sqlite:managerDB.db&quot;);\r\n            pst = sqlConn.prepareStatement(&quot;insert into announcements(announcement,date)values(?,?)&quot;);\r\n            \r\n            pst.setString(1,annAnnouncementText.getText());\r\n            \r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n            String date = sdf.format(annDateText.getDate());\r\n            pst.setString(3,date);\r\n            \r\n          \r\n            \r\n            pst.executeUpdate();\r\n            JOptionPane.showMessageDialog(this, &quot;Announcement added&quot;);\r\n            \r\n        \r\n        } catch (Exception ex) {\r\n            JOptionPane.showMessageDialog(null, ex);\r\n        \r\n        }\r\n            \r\n    }                                         \r\n\r\n        \r\n    \r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(annFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(annFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(annFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(annFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new annFrame().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton annAddBtn;\r\n    private javax.swing.JLabel annAnnouncement;\r\n    private javax.swing.JTextField annAnnouncementText;\r\n    private javax.swing.JButton annBackBtn;\r\n    private javax.swing.JLabel annDate;\r\n    private com.toedter.calendar.JDateChooser annDateText;\r\n    private javax.swing.JPanel jPanel1;\r\n    // End of variables declaration                   \r\n}\r\n\r\n```\r\n","title":"I need to show last added data to database to another frame text field","body":"<p>Im working on my computer science project. It's a simple GUI Event Manager. I have main frame 'EventFrame' with 2 textfields 'announcementText' and 'annDateText' and different frame 'annFrame' which has method to add typed announcement and date into 'announcements' table in database. How to transfer last added announcement to be shown separately in main frame 'announcementText' and 'annDateText', taking in case there is 'id' column in 'announcements' table. Here is 'addAnnFrame' code:</p>\n<pre><code>package EventFrame;\n\nimport java.sql.*;\nimport java.sql.DriverManager;\nimport java.text.SimpleDateFormat;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JOptionPane;\n\npublic class annFrame extends javax.swing.JFrame {\n\n    Connection sqlConn = null;\n    PreparedStatement pst = null;\n    /**\n     * Creates new form annFrame\n     */\n    public annFrame() {\n        initComponents();\n    }\n\n  \n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jPanel1 = new javax.swing.JPanel();\n        annDate = new javax.swing.JLabel();\n        annAnnouncement = new javax.swing.JLabel();\n        annAnnouncementText = new javax.swing.JTextField();\n        annDateText = new com.toedter.calendar.JDateChooser();\n        annBackBtn = new javax.swing.JButton();\n        annAddBtn = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jPanel1.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(51, 0, 102), 4));\n\n        annDate.setFont(new java.awt.Font(&quot;Segoe UI Black&quot;, 0, 14)); // NOI18N\n        annDate.setText(&quot;Date&quot;);\n\n        annAnnouncement.setFont(new java.awt.Font(&quot;Segoe UI Black&quot;, 0, 14)); // NOI18N\n        annAnnouncement.setText(&quot;Announcement&quot;);\n\n        annBackBtn.setFont(new java.awt.Font(&quot;Segoe UI Black&quot;, 0, 14)); // NOI18N\n        annBackBtn.setText(&quot;BACK&quot;);\n        annBackBtn.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                annBackBtnActionPerformed(evt);\n            }\n        });\n\n        annAddBtn.setFont(new java.awt.Font(&quot;Segoe UI Black&quot;, 0, 14)); // NOI18N\n        annAddBtn.setText(&quot;ADD&quot;);\n        annAddBtn.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                annAddBtnActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\n        jPanel1.setLayout(jPanel1Layout);\n        jPanel1Layout.setHorizontalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addGap(17, 17, 17)\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(annAnnouncement)\n                    .addComponent(annDate, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addGap(29, 29, 29)\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(annAnnouncementText, javax.swing.GroupLayout.PREFERRED_SIZE, 269, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(annDateText, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addContainerGap(20, Short.MAX_VALUE))\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addGap(80, 80, 80)\n                .addComponent(annBackBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addComponent(annAddBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 100, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(80, 80, 80))\n        );\n        jPanel1Layout.setVerticalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addGap(24, 24, 24)\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                    .addComponent(annDate, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                    .addComponent(annDateText, javax.swing.GroupLayout.DEFAULT_SIZE, 40, Short.MAX_VALUE))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                    .addComponent(annAnnouncementText)\n                    .addComponent(annAnnouncement, javax.swing.GroupLayout.DEFAULT_SIZE, 40, Short.MAX_VALUE))\n                .addGap(35, 35, 35)\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(annBackBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(annAddBtn, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addContainerGap(35, Short.MAX_VALUE))\n        );\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addContainerGap())\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addContainerGap())\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void annBackBtnActionPerformed(java.awt.event.ActionEvent evt) {                                           \n        this.setVisible(false);\n        new EventFrame().setVisible(true);\n    }                                          \n\n    private void annAddBtnActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        try {\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\n            sqlConn = DriverManager.getConnection(&quot;jdbc:sqlite:managerDB.db&quot;);\n            pst = sqlConn.prepareStatement(&quot;insert into announcements(announcement,date)values(?,?)&quot;);\n            \n            pst.setString(1,annAnnouncementText.getText());\n            \n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n            String date = sdf.format(annDateText.getDate());\n            pst.setString(3,date);\n            \n          \n            \n            pst.executeUpdate();\n            JOptionPane.showMessageDialog(this, &quot;Announcement added&quot;);\n            \n        \n        } catch (Exception ex) {\n            JOptionPane.showMessageDialog(null, ex);\n        \n        }\n            \n    }                                         \n\n        \n    \n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(annFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(annFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(annFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(annFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new annFrame().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton annAddBtn;\n    private javax.swing.JLabel annAnnouncement;\n    private javax.swing.JTextField annAnnouncementText;\n    private javax.swing.JButton annBackBtn;\n    private javax.swing.JLabel annDate;\n    private com.toedter.calendar.JDateChooser annDateText;\n    private javax.swing.JPanel jPanel1;\n    // End of variables declaration                   \n}\n\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678891328,"post_id":75746202,"comment_id":133621309,"body_markdown":"I&#39;ve never seen this, so I&#39;m wondering what plugins you have installed. What do you have in the preferences _Java &gt; Editor &gt; Content Assist &gt; Advanced_? By the way, your Eclipse is outdated. Please upgrade. ;)","body":"I&#39;ve never seen this, so I&#39;m wondering what plugins you have installed. What do you have in the preferences <i>Java &gt; Editor &gt; Content Assist &gt; Advanced</i>? By the way, your Eclipse is outdated. Please upgrade. ;)"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1678891614,"post_id":75746202,"comment_id":133621418,"body_markdown":"@howlger: This is about quick fix, not content assist. Anyway, in that menu, I just have *&quot;Java Proposals&quot;* activated. Will try updating. Will try the upgrade, and check if a vanilla Eclipse also has the issue, or if some plugin introduces it. But the `m2` logo looks just like that of `org.eclipse.m2e.feature`","body":"@howlger: This is about quick fix, not content assist. Anyway, in that menu, I just have <i>&quot;Java Proposals&quot;</i> activated. Will try updating. Will try the upgrade, and check if a vanilla Eclipse also has the issue, or if some plugin introduces it. But the <code>m2</code> logo looks just like that of <code>org.eclipse.m2e.feature</code>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678891883,"post_id":75746202,"comment_id":133621495,"body_markdown":"I see and can reproduce it in the current Eclipse.","body":"I see and can reproduce it in the current Eclipse."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678892370,"post_id":75746202,"comment_id":133621655,"body_markdown":"Yes, it has been introduced in Eclipse 2022-12 with m2e 2.1: https://github.com/eclipse-m2e/m2e-core/commit/a743960dc0d4c2f826ac596fbc4c3c4fbebafe1d You might [ask for a preference to disable it or for a lower ranking here, best with a pull request](https://github.com/eclipse-m2e/m2e-core/issues).","body":"Yes, it has been introduced in Eclipse 2022-12 with m2e 2.1: <a href=\"https://github.com/eclipse-m2e/m2e-core/commit/a743960dc0d4c2f826ac596fbc4c3c4fbebafe1d\" rel=\"nofollow noreferrer\">github.com/eclipse-m2e/m2e-core/commit/&hellip;</a> You might <a href=\"https://github.com/eclipse-m2e/m2e-core/issues\" rel=\"nofollow noreferrer\">ask for a preference to disable it or for a lower ranking here, best with a pull request</a>."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1678892681,"post_id":75746202,"comment_id":133621764,"body_markdown":"Strange, I guess they forgot to mark https://github.com/eclipse-m2e/m2e-core/issues/879 as actually done.","body":"Strange, I guess they forgot to mark <a href=\"https://github.com/eclipse-m2e/m2e-core/issues/879\" rel=\"nofollow noreferrer\">github.com/eclipse-m2e/m2e-core/issues/879</a> as actually done."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1678892775,"post_id":75746202,"comment_id":133621793,"body_markdown":"@howlger: I think deactivating this should be an Eclipse platform feature, not a plugin feature.","body":"@howlger: I think deactivating this should be an Eclipse platform feature, not a plugin feature."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678893359,"post_id":75746202,"comment_id":133621973,"body_markdown":"Quick fixes are a JDT feature, not a platform feature. Note, in your example, importing `java.util.List` is the first proposal. Is that really what you hardly never want? Could you please explain what you want instead? Create your own type instead?","body":"Quick fixes are a JDT feature, not a platform feature. Note, in your example, importing <code>java.util.List</code> is the first proposal. Is that really what you hardly never want? Could you please explain what you want instead? Create your own type instead?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1678893476,"post_id":75746202,"comment_id":133622011,"body_markdown":"@howlger: Often, the m2 items are on top. And often, I want to create the type. But always, the visual overhead is bothering me. What I want is to never see these options, as mentioned in the question.","body":"@howlger: Often, the m2 items are on top. And often, I want to create the type. But always, the visual overhead is bothering me. What I want is to never see these options, as mentioned in the question."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1678894211,"post_id":75746202,"comment_id":133622279,"body_markdown":"Then show an example where it makes sense. I doubt that this example will convince others to make a change. What speaks against limiting the m2e proposals to, for example, 3? IMHO m2e is the right place for a pull request. Do you need help doing so?","body":"Then show an example where it makes sense. I doubt that this example will convince others to make a change. What speaks against limiting the m2e proposals to, for example, 3? IMHO m2e is the right place for a pull request. Do you need help doing so?"},{"owner":{"account_id":216605,"reputation":11967,"user_id":471955,"accept_rate":0,"display_name":"Dave Moten"},"score":0,"creation_date":1701994940,"post_id":75746202,"comment_id":136846740,"body_markdown":"Ctrl-1 to set the type of a local variable gets hijacked by a bunch of maven dependency proposals. Awful. Can&#39;t count the number of times I&#39;ve accidentally added a spurious maven dependency in this situation. I should be able to just type Ctrl-1 and Enter in that situation.","body":"Ctrl-1 to set the type of a local variable gets hijacked by a bunch of maven dependency proposals. Awful. Can&#39;t count the number of times I&#39;ve accidentally added a spurious maven dependency in this situation. I should be able to just type Ctrl-1 and Enter in that situation."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1702020701,"post_id":75746202,"comment_id":136848882,"body_markdown":"@DaveMoten Then simply switch them off or rank the Maven dependency proposals lower: https://github.com/eclipse-m2e/m2e-core/pull/1409","body":"@DaveMoten Then simply switch them off or rank the Maven dependency proposals lower: <a href=\"https://github.com/eclipse-m2e/m2e-core/pull/1409\" rel=\"nofollow noreferrer\">github.com/eclipse-m2e/m2e-core/pull/1409</a>"}],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678891710,"creation_date":1678890948,"question_id":75746202,"body_markdown":"Since recently, in Eclipse (e.g. version 2022-12), when I haven&#39;t imported a type yet, such as `List` in the following code:\r\n\r\n```java\r\nList&lt;String&gt; list = null;\r\n```\r\n\r\nI&#39;m now getting a list of options provided by `m2e` (probably?) offering adding some dependency to the project in the Quick Fix list (`Ctrl+1` on Windows, not content assist, which is `Ctrl+Space`).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is hardly ever what I want (probably only 0.01% of all cases). How can i remove these items from the suggested list of quick fixes?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XzQUv.png","title":"How to get rid of the m2e add dependency quick fixes in Eclipse?","body":"<p>Since recently, in Eclipse (e.g. version 2022-12), when I haven't imported a type yet, such as <code>List</code> in the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = null;\n</code></pre>\n<p>I'm now getting a list of options provided by <code>m2e</code> (probably?) offering adding some dependency to the project in the Quick Fix list (<code>Ctrl+1</code> on Windows, not content assist, which is <code>Ctrl+Space</code>).</p>\n<p><a href=\"https://i.stack.imgur.com/XzQUv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XzQUv.png\" alt=\"enter image description here\" /></a></p>\n<p>This is hardly ever what I want (probably only 0.01% of all cases). How can i remove these items from the suggested list of quick fixes?</p>\n"},{"tags":["java","reactjs","spring","spring-boot","backend"],"answers":[{"comments":[{"owner":{"account_id":17976848,"reputation":103,"user_id":13064180,"display_name":"Norbert"},"score":0,"creation_date":1678891023,"post_id":75740947,"comment_id":133621179,"body_markdown":"I&#39;m not sure if the way I worded this issue is confusing. More than a brand list, I want to filter data from two particular brands. This looks more like an array of the brands as far as I understood the answer.","body":"I&#39;m not sure if the way I worded this issue is confusing. More than a brand list, I want to filter data from two particular brands. This looks more like an array of the brands as far as I understood the answer."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1678930240,"post_id":75740947,"comment_id":133630276,"body_markdown":"@Norbert Do you mean you have a set of data with all brands and you want to filter out only the two brands you pass through the interface parameters?","body":"@Norbert Do you mean you have a set of data with all brands and you want to filter out only the two brands you pass through the interface parameters?"},{"owner":{"account_id":17976848,"reputation":103,"user_id":13064180,"display_name":"Norbert"},"score":0,"creation_date":1678988691,"post_id":75740947,"comment_id":133644193,"body_markdown":"That&#39;s correct. I&#39;d like to filter all products from just two brands.","body":"That&#39;s correct. I&#39;d like to filter all products from just two brands."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1679015259,"post_id":75740947,"comment_id":133649492,"body_markdown":"You have already filtered, use products.stream().filter","body":"You have already filtered, use products.stream().filter"}],"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678859297,"creation_date":1678859297,"answer_id":75740947,"question_id":75740796,"body_markdown":"Here:\r\n\r\n    public List&lt;Product&gt; getProducts(@RequestParam(value = &quot;brands&quot;, required = false) List&lt;String&gt; brandList) {\r\n        //...\r\n    }\r\n\r\nWe need a param `brands`, and that type is `List&lt;String&gt;`, you can do like this:\r\n\r\n    /api/v1/products?brand=a,b,c,d,e\r\n\r\nThen the `brandList` while be:\r\n\r\n    [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]\r\n\r\n-------\r\nwhat you was use:\r\n\r\n    /api/v1/products?brand%5B%5D=clinique&amp;brand%5B%5D=smashbox\r\n\r\nuse `decodeURI` to decode that, it will be:\r\n\r\n    decodeURI(&quot;/api/v1/products?brand%5B%5D=clinique&amp;brand%5B%5D=smashbox&quot;)\r\n    &#39;/api/v1/products?brand[]=clinique&amp;brand[]=smashbox&#39;\r\n\r\nthat will not work","title":"Filter Data On Spring and Fetch in React","body":"<p>Here:</p>\n<pre><code>public List&lt;Product&gt; getProducts(@RequestParam(value = &quot;brands&quot;, required = false) List&lt;String&gt; brandList) {\n    //...\n}\n</code></pre>\n<p>We need a param <code>brands</code>, and that type is <code>List&lt;String&gt;</code>, you can do like this:</p>\n<pre><code>/api/v1/products?brand=a,b,c,d,e\n</code></pre>\n<p>Then the <code>brandList</code> while be:</p>\n<pre><code>[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]\n</code></pre>\n<hr />\n<p>what you was use:</p>\n<pre><code>/api/v1/products?brand%5B%5D=clinique&amp;brand%5B%5D=smashbox\n</code></pre>\n<p>use <code>decodeURI</code> to decode that, it will be:</p>\n<pre><code>decodeURI(&quot;/api/v1/products?brand%5B%5D=clinique&amp;brand%5B%5D=smashbox&quot;)\n'/api/v1/products?brand[]=clinique&amp;brand[]=smashbox'\n</code></pre>\n<p>that will not work</p>\n"}],"owner":{"account_id":17976848,"reputation":103,"user_id":13064180,"display_name":"Norbert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678891695,"creation_date":1678857397,"question_id":75740796,"body_markdown":"I&#39;m building a Spring backend to use with a React frontend. We are building a products app and would like to filter in two brands for our hackathon purposes. The problem is, I can&#39;t get the desired filtered data and instead get everything cause I got some conditional statements in our ProductController. The data comes from a MongoDB database. \r\n\r\nAgain, my purpose is to figure out how can I fetch data from only two brands. \r\n\r\nFirst, here&#39;s our ProductService. \r\n\r\n```\r\npackage goodsamaritan.beauty;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.stream.Collectors;\r\n\r\n@Service\r\npublic class ProductService {\r\n    @Autowired\r\n    private ProductRepository productRepository;\r\n    public List&lt;Product&gt; allProducts() {\r\n        return productRepository.findAll();\r\n    }\r\n\r\n    public List&lt;Product&gt; findByBrand(List&lt;String&gt; brands) {\r\n        List&lt;Product&gt; products = allProducts();\r\n        System.out.println(&quot;All products: &quot; + products);\r\n        if (brands != null &amp;&amp; !brands.isEmpty()) {\r\n            products = products.stream()\r\n                    .filter(product -&gt; brands.contains(product.getBrand().toLowerCase()))\r\n                    .collect(Collectors.toList());\r\n        }\r\n        return products;\r\n    }\r\n\r\n    public Optional&lt;Product&gt; singleProduct(int id) {\r\n        return productRepository.findById(id);\r\n    }\r\n}\r\n```\r\n\r\nSecondly, this is what we have in the ProductController:\r\n\r\n```\r\npackage goodsamaritan.beauty;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@RestController\r\n@CrossOrigin\r\n@RequestMapping(&quot;/api/v1/products&quot;)\r\npublic class ProductController {\r\n    @Autowired\r\n    private ProductService productService;\r\n    @GetMapping\r\n    public List&lt;Product&gt; getProducts(@RequestParam(value = &quot;brands&quot;, required = false) List&lt;String&gt; brandProducts) {\r\n        if (brandProducts == null || brandProducts.isEmpty()) {\r\n            return productService.allProducts();\r\n        } else {\r\n            return productService.findByBrand(brandProducts);\r\n        }\r\n    }\r\n\r\n    public ResponseEntity&lt;List&lt;Product&gt;&gt; getAllProducts() {\r\n        return new ResponseEntity&lt;List&lt;Product&gt;&gt;(productService.allProducts(), HttpStatus.OK);\r\n    }\r\n    \r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;Product&gt;&gt; getSingleProduct(@PathVariable int id) {\r\n        return new ResponseEntity&lt;Optional&lt;Product&gt;&gt;(productService.singleProduct(id), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nThird, here&#39;s the React frontend&#39;s Products Component. There are commented lines of code cause I&#39;ve been trying different options. \r\n\r\n```\r\nimport { useEffect, useState } from &quot;react&quot;;\r\nimport api from &#39;../api/axiosConfig&#39;\r\nimport { Link } from &#39;react-router-dom&#39;\r\n\r\nexport default function Products() {\r\n  const [products, setProducts] = useState([]);\r\n\r\n  // useEffect(() =&gt; {\r\n  //   api.get(&quot;/api/v1/products&quot;, {\r\n  //     params: {\r\n  //       brand: [&#39;clinique&#39;, &#39;smashbox&#39;]\r\n  //     }\r\n  //   })\r\n  //   .then((response) =&gt; {\r\n  //     setProducts(response.data);\r\n  //   });\r\n  // }, []);\r\n\r\n  useEffect(() =&gt; {\r\n    api.get(&quot;/api/v1/products?brand%5B%5D=clinique&amp;brand%5B%5D=smashbox&quot;)\r\n      .then((response) =&gt; {\r\n        setProducts(response.data);\r\n      });\r\n  }, []);\r\n\r\n  if (!products) {\r\n    return &lt;div&gt;Loading...&lt;/div&gt;;\r\n  }\r\n\r\n  return (\r\n    &lt;&gt;\r\n    &lt;div class=&quot;bg-white&quot;&gt;\r\n      &lt;div className=&quot;mx-auto sm:py-12 sm:px-6 lg:max-w-14xl lg:px-8&quot;&gt;\r\n        &lt;h1 class=&quot;text-2xl font-bold tracking-tight text-gray-900&quot;&gt;Our Products&lt;/h1&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;mt-6 grid grid-cols-1 gap-y-10 gap-x-8 sm:grid-cols-1 px-3 lg:grid-cols-4 px-28 xl:gap-x-24&quot;&gt;\r\n      {products?.map((product) =&gt; ( \r\n        &lt;div key={product.id}&gt;      \r\n          &lt;div class=&quot;min-h-100 aspect-w-1 aspect-h-80 w-full overflow-hidden rounded-md bg-gray-200 group-hover:opacity-75 lg:aspect-none lg:h-100&quot;&gt;\r\n            &lt;img src={product.image_link} alt={product.imageAlt} class=&quot;h-full w-full object-cover object-center lg:h-full lg:w-full&quot;/&gt;\r\n          &lt;/div&gt; \r\n          &lt;div class=&quot;mt-4 flex justify-between&quot;&gt;\r\n            &lt;h3 class=&quot;text-md text-gray-700&quot;&gt;\r\n            &lt;Link to={`/products/${product.id}`} &gt;\r\n                &lt;span aria-hiddden=&quot;true&quot; class=&quot;absolute inset-0&quot;/&gt;\r\n                  {product.name}\r\n              &lt;/Link&gt;\r\n            &lt;/h3&gt;\r\n            {/* &lt;p class=&quot;mt-1 text-sm text-gray-500&quot;&gt;{product.product_colors}&lt;/p&gt; */}\r\n          &lt;/div&gt;\r\n          &lt;p class=&quot;mt-1 text-sm text-gray-500&quot;&gt;{product.brand}&lt;/p&gt;\r\n          &lt;p class=&quot;text-sm font-medium text-gray-500&quot;&gt;$ {product.price}&lt;/p&gt;\r\n        &lt;/div&gt;\r\n      ))}\r\n    &lt;/div&gt;\r\n    &lt;/&gt;\r\n  )\r\n}\r\n```\r\n\r\nThe last error I got when I tried without any conditional statement to instead get all products was ```Cannot invoke &quot;java.util.List.contains(Object)&quot; because &quot;brand&quot; is null```.\r\n\r\nHow can I solve this issue and get just the two brands we want? ","title":"Filter Data On Spring and Fetch in React","body":"<p>I'm building a Spring backend to use with a React frontend. We are building a products app and would like to filter in two brands for our hackathon purposes. The problem is, I can't get the desired filtered data and instead get everything cause I got some conditional statements in our ProductController. The data comes from a MongoDB database.</p>\n<p>Again, my purpose is to figure out how can I fetch data from only two brands.</p>\n<p>First, here's our ProductService.</p>\n<pre><code>package goodsamaritan.beauty;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.stream.Collectors;\n\n@Service\npublic class ProductService {\n    @Autowired\n    private ProductRepository productRepository;\n    public List&lt;Product&gt; allProducts() {\n        return productRepository.findAll();\n    }\n\n    public List&lt;Product&gt; findByBrand(List&lt;String&gt; brands) {\n        List&lt;Product&gt; products = allProducts();\n        System.out.println(&quot;All products: &quot; + products);\n        if (brands != null &amp;&amp; !brands.isEmpty()) {\n            products = products.stream()\n                    .filter(product -&gt; brands.contains(product.getBrand().toLowerCase()))\n                    .collect(Collectors.toList());\n        }\n        return products;\n    }\n\n    public Optional&lt;Product&gt; singleProduct(int id) {\n        return productRepository.findById(id);\n    }\n}\n</code></pre>\n<p>Secondly, this is what we have in the ProductController:</p>\n<pre><code>package goodsamaritan.beauty;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@RestController\n@CrossOrigin\n@RequestMapping(&quot;/api/v1/products&quot;)\npublic class ProductController {\n    @Autowired\n    private ProductService productService;\n    @GetMapping\n    public List&lt;Product&gt; getProducts(@RequestParam(value = &quot;brands&quot;, required = false) List&lt;String&gt; brandProducts) {\n        if (brandProducts == null || brandProducts.isEmpty()) {\n            return productService.allProducts();\n        } else {\n            return productService.findByBrand(brandProducts);\n        }\n    }\n\n    public ResponseEntity&lt;List&lt;Product&gt;&gt; getAllProducts() {\n        return new ResponseEntity&lt;List&lt;Product&gt;&gt;(productService.allProducts(), HttpStatus.OK);\n    }\n    \n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;Product&gt;&gt; getSingleProduct(@PathVariable int id) {\n        return new ResponseEntity&lt;Optional&lt;Product&gt;&gt;(productService.singleProduct(id), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>Third, here's the React frontend's Products Component. There are commented lines of code cause I've been trying different options.</p>\n<pre><code>import { useEffect, useState } from &quot;react&quot;;\nimport api from '../api/axiosConfig'\nimport { Link } from 'react-router-dom'\n\nexport default function Products() {\n  const [products, setProducts] = useState([]);\n\n  // useEffect(() =&gt; {\n  //   api.get(&quot;/api/v1/products&quot;, {\n  //     params: {\n  //       brand: ['clinique', 'smashbox']\n  //     }\n  //   })\n  //   .then((response) =&gt; {\n  //     setProducts(response.data);\n  //   });\n  // }, []);\n\n  useEffect(() =&gt; {\n    api.get(&quot;/api/v1/products?brand%5B%5D=clinique&amp;brand%5B%5D=smashbox&quot;)\n      .then((response) =&gt; {\n        setProducts(response.data);\n      });\n  }, []);\n\n  if (!products) {\n    return &lt;div&gt;Loading...&lt;/div&gt;;\n  }\n\n  return (\n    &lt;&gt;\n    &lt;div class=&quot;bg-white&quot;&gt;\n      &lt;div className=&quot;mx-auto sm:py-12 sm:px-6 lg:max-w-14xl lg:px-8&quot;&gt;\n        &lt;h1 class=&quot;text-2xl font-bold tracking-tight text-gray-900&quot;&gt;Our Products&lt;/h1&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;mt-6 grid grid-cols-1 gap-y-10 gap-x-8 sm:grid-cols-1 px-3 lg:grid-cols-4 px-28 xl:gap-x-24&quot;&gt;\n      {products?.map((product) =&gt; ( \n        &lt;div key={product.id}&gt;      \n          &lt;div class=&quot;min-h-100 aspect-w-1 aspect-h-80 w-full overflow-hidden rounded-md bg-gray-200 group-hover:opacity-75 lg:aspect-none lg:h-100&quot;&gt;\n            &lt;img src={product.image_link} alt={product.imageAlt} class=&quot;h-full w-full object-cover object-center lg:h-full lg:w-full&quot;/&gt;\n          &lt;/div&gt; \n          &lt;div class=&quot;mt-4 flex justify-between&quot;&gt;\n            &lt;h3 class=&quot;text-md text-gray-700&quot;&gt;\n            &lt;Link to={`/products/${product.id}`} &gt;\n                &lt;span aria-hiddden=&quot;true&quot; class=&quot;absolute inset-0&quot;/&gt;\n                  {product.name}\n              &lt;/Link&gt;\n            &lt;/h3&gt;\n            {/* &lt;p class=&quot;mt-1 text-sm text-gray-500&quot;&gt;{product.product_colors}&lt;/p&gt; */}\n          &lt;/div&gt;\n          &lt;p class=&quot;mt-1 text-sm text-gray-500&quot;&gt;{product.brand}&lt;/p&gt;\n          &lt;p class=&quot;text-sm font-medium text-gray-500&quot;&gt;$ {product.price}&lt;/p&gt;\n        &lt;/div&gt;\n      ))}\n    &lt;/div&gt;\n    &lt;/&gt;\n  )\n}\n</code></pre>\n<p>The last error I got when I tried without any conditional statement to instead get all products was <code>Cannot invoke &quot;java.util.List.contains(Object)&quot; because &quot;brand&quot; is null</code>.</p>\n<p>How can I solve this issue and get just the two brands we want?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1678890283,"post_id":75746031,"comment_id":133620905,"body_markdown":"These are terrible class names and the relationships between the classes is insanity. Congratulations on creating spaghetti oop.","body":"These are terrible class names and the relationships between the classes is insanity. Congratulations on creating spaghetti oop."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1678890706,"post_id":75746031,"comment_id":133621059,"body_markdown":"Can you please explain the use case for your experiment? Or do you just play around with inheritance?","body":"Can you please explain the use case for your experiment? Or do you just play around with inheritance?"},{"owner":{"account_id":17608141,"reputation":5,"user_id":12776786,"display_name":"SAURABH7DEOKATE"},"score":0,"creation_date":1678890789,"post_id":75746031,"comment_id":133621094,"body_markdown":"My teacher started teaching inheritance today, just learning how it works, a help will be appreciated","body":"My teacher started teaching inheritance today, just learning how it works, a help will be appreciated"},{"owner":{"account_id":16540071,"reputation":356,"user_id":11951046,"display_name":"Farrukh Nabiyev"},"score":0,"creation_date":1678891045,"post_id":75746031,"comment_id":133621193,"body_markdown":"The main purpose of Java language is to make programmers read code as fast as possible","body":"The main purpose of Java language is to make programmers read code as fast as possible"}],"answers":[{"comments":[{"owner":{"account_id":17608141,"reputation":5,"user_id":12776786,"display_name":"SAURABH7DEOKATE"},"score":0,"creation_date":1678892024,"post_id":75746346,"comment_id":133621541,"body_markdown":"&quot;You can&#39;t call child class methods from parent class&quot; cleared my doubt","body":"&quot;You can&#39;t call child class methods from parent class&quot; cleared my doubt"}],"tags":[],"owner":{"account_id":16540071,"reputation":356,"user_id":11951046,"display_name":"Farrukh Nabiyev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678891666,"creation_date":1678891666,"answer_id":75746346,"question_id":75746031,"body_markdown":"First of all you can not declare methods like this: add7(); Java will not allow that. Second, your implementation is terrible. Third, your description is wrong, you say: &quot;I want to use a3 subclass to call add5&quot; a3 is not subclass it is parent class. You can not call child class&#39;s methods from parent class because parent will not have it.","title":"Can we call methods in different classes while achieving hierarchical inheritance","body":"<p>First of all you can not declare methods like this: add7(); Java will not allow that. Second, your implementation is terrible. Third, your description is wrong, you say: &quot;I want to use a3 subclass to call add5&quot; a3 is not subclass it is parent class. You can not call child class's methods from parent class because parent will not have it.</p>\n"}],"owner":{"account_id":17608141,"reputation":5,"user_id":12776786,"display_name":"SAURABH7DEOKATE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75746346,"answer_count":1,"score":-1,"last_activity_date":1678891666,"creation_date":1678890120,"question_id":75746031,"body_markdown":"I have created total of 14 classes where a1 is my super class and a2,a3,a4,..... are my sub classes. I have initialized int variables in super class and has declared a n9 variable in a2, b1, c1. I want to use a3 subclass to call add5 method which is declared in a5 also I want to use a4 to call add6,add7,add8 methods which are declared in a6,a7,a8 respectively but it&#39;s throwing an error I can&#39;t resolve(see images for reference)\r\n\r\n```\r\nclass a1{\r\n\r\n\tint n1=80,n2=70,n3=60,n4=50,n5=40,n6=30,n7=20,n8=10;\r\n}\r\n\r\nclass a2 extends a1{\r\n\r\n\tint n9;\r\n}\r\n\r\n\r\nclass a3 extends a2{\r\n\r\n\tadd5();\r\n}\r\n\r\n\r\nclass a4 extends a2{\r\n\tadd6();\r\n\tadd7();\r\n\tadd8();\r\n}\r\n\r\n\r\nclass a5 extends a3{\r\n\r\n\tpublic void add5(){\r\n\r\n\t\tn9=n1+n2+n3+n4+n5;\r\n\t\tSystem.out.println(&quot;sum is : &quot;+n9);\r\n\t}\r\n}\r\n\r\n\r\nclass a6 extends a4{\r\n\r\n\tpublic void add6(){\r\n\r\n\t\tn9=n1+n2+n3+n4+n5+n6;\r\n\t\tSystem.out.println(&quot;sum is : &quot;+n9);\r\n\t}\r\n}\r\n\r\n\r\nclass a7 extends a4{\r\n\r\n\tpublic void add7(){\r\n\r\n\t\tn9=n1+n2+n3+n4+n5+n6+n7;\r\n\t\tSystem.out.println(&quot;sum is : &quot;+n9);\r\n\t}\r\n}\r\n\r\n\r\nclass a8 extends a4{\r\n\r\n\tpublic void add8(){\r\n\r\n\t\tn9=n1+n2+n3+n4+n5+n6+n7+n8;\r\n\t\tSystem.out.println(&quot;sum is : &quot;+n9);\r\n\t}\r\n}\r\n\r\n\r\nclass b1 extends a1{\r\n\tint n9;\r\n\r\n}\r\n\r\n\r\nclass b2 extends b1{\r\n\r\n\tpublic void sub2(){\r\n\r\n\t\tn9=n1-n2-n3;\r\n\t\tSystem.out.println(&quot;subtraction is : &quot;+n9);\r\n\t}\r\n}\r\n\r\n\r\nclass b3 extends b1{\r\n\r\n\tpublic void sub3(){\r\n\r\n\t\tn9=n1-n2-n3-n4;\r\n\t\tSystem.out.println(&quot;subtraction is : &quot;+n9);\r\n\t}\r\n}\r\n\r\n\r\nclass c1 extends a1{\r\n\tint n9;\r\n\r\n}\r\n\r\n\r\nclass c2 extends c1{\r\n\r\n\tpublic void mul2(){\r\n\r\n\t\tn9=n1*n2*n3;\r\n\t\tSystem.out.println(&quot;multi is : &quot;+n9);\r\n\t}\r\n}\r\n\r\n\r\nclass c3 extends c1{\r\n\r\n\tpublic void mul3(){\r\n\r\n\t\tn9=n1*n2*n3*n4;\r\n\t\tSystem.out.println(&quot;multi is : &quot;+n9);\r\n\t}\r\n}\r\n\r\nclass hei{\r\n\tpublic static void main(String[] args) {\r\n\t\ta8 obj1= new a8();\r\n\t\tobj1.add8();\t\r\n\t}\r\n}\r\n```\r\n\r\n    [the inheritance structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aHWXd.jpg","title":"Can we call methods in different classes while achieving hierarchical inheritance","body":"<p>I have created total of 14 classes where a1 is my super class and a2,a3,a4,..... are my sub classes. I have initialized int variables in super class and has declared a n9 variable in a2, b1, c1. I want to use a3 subclass to call add5 method which is declared in a5 also I want to use a4 to call add6,add7,add8 methods which are declared in a6,a7,a8 respectively but it's throwing an error I can't resolve(see images for reference)</p>\n<pre><code>class a1{\n\n    int n1=80,n2=70,n3=60,n4=50,n5=40,n6=30,n7=20,n8=10;\n}\n\nclass a2 extends a1{\n\n    int n9;\n}\n\n\nclass a3 extends a2{\n\n    add5();\n}\n\n\nclass a4 extends a2{\n    add6();\n    add7();\n    add8();\n}\n\n\nclass a5 extends a3{\n\n    public void add5(){\n\n        n9=n1+n2+n3+n4+n5;\n        System.out.println(&quot;sum is : &quot;+n9);\n    }\n}\n\n\nclass a6 extends a4{\n\n    public void add6(){\n\n        n9=n1+n2+n3+n4+n5+n6;\n        System.out.println(&quot;sum is : &quot;+n9);\n    }\n}\n\n\nclass a7 extends a4{\n\n    public void add7(){\n\n        n9=n1+n2+n3+n4+n5+n6+n7;\n        System.out.println(&quot;sum is : &quot;+n9);\n    }\n}\n\n\nclass a8 extends a4{\n\n    public void add8(){\n\n        n9=n1+n2+n3+n4+n5+n6+n7+n8;\n        System.out.println(&quot;sum is : &quot;+n9);\n    }\n}\n\n\nclass b1 extends a1{\n    int n9;\n\n}\n\n\nclass b2 extends b1{\n\n    public void sub2(){\n\n        n9=n1-n2-n3;\n        System.out.println(&quot;subtraction is : &quot;+n9);\n    }\n}\n\n\nclass b3 extends b1{\n\n    public void sub3(){\n\n        n9=n1-n2-n3-n4;\n        System.out.println(&quot;subtraction is : &quot;+n9);\n    }\n}\n\n\nclass c1 extends a1{\n    int n9;\n\n}\n\n\nclass c2 extends c1{\n\n    public void mul2(){\n\n        n9=n1*n2*n3;\n        System.out.println(&quot;multi is : &quot;+n9);\n    }\n}\n\n\nclass c3 extends c1{\n\n    public void mul3(){\n\n        n9=n1*n2*n3*n4;\n        System.out.println(&quot;multi is : &quot;+n9);\n    }\n}\n\nclass hei{\n    public static void main(String[] args) {\n        a8 obj1= new a8();\n        obj1.add8();    \n    }\n}\n</code></pre>\n<pre><code>[the inheritance structure][1]\n</code></pre>\n"},{"tags":["java","spring-boot","docker","kubernetes"],"comments":[{"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"score":0,"creation_date":1627408579,"post_id":64245134,"comment_id":121147243,"body_markdown":"Hi, were you able to figure out the issue?","body":"Hi, were you able to figure out the issue?"},{"owner":{"account_id":10247171,"reputation":133,"user_id":7562623,"display_name":"Pooja Verma"},"score":0,"creation_date":1627486317,"post_id":64245134,"comment_id":121170824,"body_markdown":"Yes, This is sorted.","body":"Yes, This is sorted."},{"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"score":0,"creation_date":1627701137,"post_id":64245134,"comment_id":121232814,"body_markdown":"What was the solution?","body":"What was the solution?"},{"owner":{"account_id":10247171,"reputation":133,"user_id":7562623,"display_name":"Pooja Verma"},"score":0,"creation_date":1627791990,"post_id":64245134,"comment_id":121248226,"body_markdown":"something wrong in my dockerfile","body":"something wrong in my dockerfile"}],"answers":[{"comments":[{"owner":{"account_id":10247171,"reputation":133,"user_id":7562623,"display_name":"Pooja Verma"},"score":0,"creation_date":1602087048,"post_id":64247748,"comment_id":113611086,"body_markdown":"As suggested by you, i can found the jar in container. But getting the same error message. Check Edit 1 in Question for details.","body":"As suggested by you, i can found the jar in container. But getting the same error message. Check Edit 1 in Question for details."},{"owner":{"account_id":10247171,"reputation":133,"user_id":7562623,"display_name":"Pooja Verma"},"score":0,"creation_date":1602087142,"post_id":64247748,"comment_id":113611127,"body_markdown":"I am stuck at this issue since last 3 days. :-(","body":"I am stuck at this issue since last 3 days. :-("},{"owner":{"account_id":7190797,"reputation":4148,"user_id":5491213,"display_name":"Howard_Roark"},"score":0,"creation_date":1602087476,"post_id":64247748,"comment_id":113611283,"body_markdown":"In your command it looks like you didn&#39;t include .jar at the end -- it looks like you included everything except .jar or am i misreading that?","body":"In your command it looks like you didn&#39;t include .jar at the end -- it looks like you included everything except .jar or am i misreading that?"},{"owner":{"account_id":10247171,"reputation":133,"user_id":7562623,"display_name":"Pooja Verma"},"score":0,"creation_date":1602087695,"post_id":64247748,"comment_id":113611398,"body_markdown":"java -jar -Dspring.profiles.active=dev target/orbis-microservice-0.0.1-SNAPSHOT.jar --server.port=80 --spring.profiles.active=dev\nThis is my jar path in dockerfile.","body":"java -jar -Dspring.profiles.active=dev target/orbis-microservice-0.0.1-SNAPSHOT.jar --server.port=80 --spring.profiles.active=dev This is my jar path in dockerfile."},{"owner":{"account_id":10247171,"reputation":133,"user_id":7562623,"display_name":"Pooja Verma"},"score":0,"creation_date":1602087847,"post_id":64247748,"comment_id":113611482,"body_markdown":"Right. also it created new pod with status running. Image attached for reference.","body":"Right. also it created new pod with status running. Image attached for reference."},{"owner":{"account_id":10247171,"reputation":133,"user_id":7562623,"display_name":"Pooja Verma"},"score":0,"creation_date":1602088314,"post_id":64247748,"comment_id":113611710,"body_markdown":"Actually the ingress status is still not ready. Even if i am deleting CrashLoopBackOff status pods. New pods are being created with CrashLoopBackOff status.  And my server is giving 503.","body":"Actually the ingress status is still not ready. Even if i am deleting CrashLoopBackOff status pods. New pods are being created with CrashLoopBackOff status.  And my server is giving 503."},{"owner":{"account_id":7190797,"reputation":4148,"user_id":5491213,"display_name":"Howard_Roark"},"score":0,"creation_date":1602088376,"post_id":64247748,"comment_id":113611743,"body_markdown":"Ok well you should check the logs of your pod to see your new error and go from there","body":"Ok well you should check the logs of your pod to see your new error and go from there"},{"owner":{"account_id":10247171,"reputation":133,"user_id":7562623,"display_name":"Pooja Verma"},"score":0,"creation_date":1602088620,"post_id":64247748,"comment_id":113611878,"body_markdown":"Running pods logs are not responding and previous one&#39;s has the same error. Error: Unable to access jarfile orbis-microservice.jar Check Edit 4.","body":"Running pods logs are not responding and previous one&#39;s has the same error. Error: Unable to access jarfile orbis-microservice.jar Check Edit 4."},{"owner":{"account_id":7190797,"reputation":4148,"user_id":5491213,"display_name":"Howard_Roark"},"score":1,"creation_date":1602089284,"post_id":64247748,"comment_id":113612212,"body_markdown":"Ok I think that this is becoming more of a general troubleshooting question -- I think that the initial error you asked about should be resolved -- I don&#39;t see that orbis-microservice.jar, it looks like it has an entirely different name.  Anyway hopefully you have a better sense for how to troubleshoot these problems now","body":"Ok I think that this is becoming more of a general troubleshooting question -- I think that the initial error you asked about should be resolved -- I don&#39;t see that orbis-microservice.jar, it looks like it has an entirely different name.  Anyway hopefully you have a better sense for how to troubleshoot these problems now"}],"tags":[],"owner":{"account_id":7190797,"reputation":4148,"user_id":5491213,"display_name":"Howard_Roark"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602085846,"creation_date":1602085846,"answer_id":64247748,"question_id":64245134,"body_markdown":"Kubernetes is a Container Orchestrator.  It runs your images as Containers.  The error you are showing looks like an application error and not a Kubernetes error.  The way I would approach this is:\r\n1. Check if the jar file your application calls is in your image.  You can do this locally by running your image and exec&#39;ing in to see if your jar file that your application runs is there.\r\n```\r\ndocker run -it &lt;image&gt; /bin/bash\r\n```\r\nOr you can do a similar command via Kubernetes to exec into your pod:\r\n```\r\nkubectl run -i --tty testjavacontainer --image=&lt;image&gt; -- /bin/bash\r\n```\r\n\r\n2. If it is there, then I would confirm its path and make sure that my java command is correctly referencing that path.  If it is not there, then I would adjust my Dockerfile to ensure it is at the path that my java command expects.\r\n\r\nIn short, I would approach this as a [standard java error][1], with the nuance that it happens to run in a container.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11943948/what-causes-unable-to-access-jarfile-error","title":"Error: Unable to access jarfile (Kubernetes)","body":"<p>Kubernetes is a Container Orchestrator.  It runs your images as Containers.  The error you are showing looks like an application error and not a Kubernetes error.  The way I would approach this is:</p>\n<ol>\n<li>Check if the jar file your application calls is in your image.  You can do this locally by running your image and exec'ing in to see if your jar file that your application runs is there.</li>\n</ol>\n<pre><code>docker run -it &lt;image&gt; /bin/bash\n</code></pre>\n<p>Or you can do a similar command via Kubernetes to exec into your pod:</p>\n<pre><code>kubectl run -i --tty testjavacontainer --image=&lt;image&gt; -- /bin/bash\n</code></pre>\n<ol start=\"2\">\n<li>If it is there, then I would confirm its path and make sure that my java command is correctly referencing that path.  If it is not there, then I would adjust my Dockerfile to ensure it is at the path that my java command expects.</li>\n</ol>\n<p>In short, I would approach this as a <a href=\"https://stackoverflow.com/questions/11943948/what-causes-unable-to-access-jarfile-error\">standard java error</a>, with the nuance that it happens to run in a container.</p>\n"},{"tags":[],"owner":{"account_id":86435,"reputation":1676,"user_id":1252386,"accept_rate":67,"display_name":"macetw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678891538,"creation_date":1678891538,"answer_id":75746320,"question_id":64245134,"body_markdown":"If you mount a config-map resource or other volume on top of where the dockerized-application would normally find its .jar file, this will happen. Be sure to mount in a different place, that it wouldn&#39;t overwrite a directory in the container.\r\n\r\nA good way to troubleshoot is to override the command that is run in the pod to be &quot;sleep infinity.&quot; Once the pod is running, run:\r\n\r\n    kubectl exec -it runningpod -- /bin/sh\r\n\r\n... and look around. Also consider running the docker container directly, looking around.\r\n\r\n    docker run -i --tty --entrypoint=/bin/sh podcontainerimage ","title":"Error: Unable to access jarfile (Kubernetes)","body":"<p>If you mount a config-map resource or other volume on top of where the dockerized-application would normally find its .jar file, this will happen. Be sure to mount in a different place, that it wouldn't overwrite a directory in the container.</p>\n<p>A good way to troubleshoot is to override the command that is run in the pod to be &quot;sleep infinity.&quot; Once the pod is running, run:</p>\n<pre><code>kubectl exec -it runningpod -- /bin/sh\n</code></pre>\n<p>... and look around. Also consider running the docker container directly, looking around.</p>\n<pre><code>docker run -i --tty --entrypoint=/bin/sh podcontainerimage \n</code></pre>\n"}],"owner":{"account_id":10247171,"reputation":133,"user_id":7562623,"display_name":"Pooja Verma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4650,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678891538,"creation_date":1602077571,"question_id":64245134,"body_markdown":"    kubectl get pods -n abc\r\n    NAME                       READY         STATUS      RESTARTS   AGE\r\n    abc-v2-78b59ccc4f-85xgr   0/1     CrashLoopBackOff   27         129m\r\n\r\nFacing below error:\r\n\r\n    &gt; ➜  ~ kubectl logs -f abc-v2-78b59ccc4f-85xgr -n \r\n    Error: Unable to access jarfile abc.jar\r\n\r\nI am assuming either jar is not present or required access is missing.\r\nPls guide me here, how to proceed. \r\n\r\n\r\nEdit 1: As suggested by @howard-roark, Jar is available inside container, getting the same error message.\r\n\r\n\r\n\r\nEdit 2: Check results now with .jar in java command\r\n\r\n\r\n\r\nEdit 4: Ideally there should be only one instance with running status.\r\n\r\n","title":"Error: Unable to access jarfile (Kubernetes)","body":"<pre><code>kubectl get pods -n abc\nNAME                       READY         STATUS      RESTARTS   AGE\nabc-v2-78b59ccc4f-85xgr   0/1     CrashLoopBackOff   27         129m\n</code></pre>\n<p>Facing below error:</p>\n<pre><code>&gt; ➜  ~ kubectl logs -f abc-v2-78b59ccc4f-85xgr -n \nError: Unable to access jarfile abc.jar\n</code></pre>\n<p>I am assuming either jar is not present or required access is missing.\nPls guide me here, how to proceed.</p>\n<p>Edit 1: As suggested by @howard-roark, Jar is available inside container, getting the same error message.</p>\n<p>Edit 2: Check results now with .jar in java command</p>\n<p>Edit 4: Ideally there should be only one instance with running status.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1592492554,"post_id":62452986,"comment_id":110450958,"body_markdown":"`var` is java 10 feature, for android you&#39;re generally using java 7 or 8.","body":"<code>var</code> is java 10 feature, for android you&#39;re generally using java 7 or 8."},{"owner":{"account_id":17319837,"reputation":607,"user_id":12545561,"display_name":"Ronak Sethi"},"score":0,"creation_date":1592492772,"post_id":62452986,"comment_id":110451097,"body_markdown":"to use `var`, you have to switch your language to kotlin!!","body":"to use <code>var</code>, you have to switch your language to kotlin!!"}],"answers":[{"tags":[],"owner":{"account_id":8117924,"reputation":172,"user_id":6115777,"accept_rate":80,"display_name":"Bhaskar Saikia"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1592492657,"creation_date":1592492657,"answer_id":62453093,"question_id":62452986,"body_markdown":"android is java which is older version, so you need to use strict data type for that.","title":"Why will android studio not let me use &quot;var&quot;?","body":"<p>android is java which is older version, so you need to use strict data type for that.</p>\n"},{"tags":[],"owner":{"account_id":1544842,"reputation":486,"user_id":6036446,"display_name":"Juan C Nuno"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592492846,"creation_date":1592492846,"answer_id":62453172,"question_id":62452986,"body_markdown":"Android Studio supports Java up to Version 8. var was introduced in Java 10.","title":"Why will android studio not let me use &quot;var&quot;?","body":"<p>Android Studio supports Java up to Version 8. var was introduced in Java 10.</p>\n"},{"tags":[],"owner":{"account_id":436363,"reputation":1434,"user_id":823483,"accept_rate":67,"display_name":"bompf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678891294,"creation_date":1678891294,"answer_id":75746274,"question_id":62452986,"body_markdown":"I managed to make it work by using library desugaring, check this link: https://developer.android.com/studio/write/java8-support#kts\r\n\r\nand add support with the following differences:\r\n\r\n```\r\nandroid { \r\n    [...]\r\n\r\n    compileOptions {\r\n        isCoreLibraryDesugaringEnabled = true\r\n        sourceCompatibility = JavaVersion.VERSION_11\r\n        targetCompatibility = JavaVersion.VERSION_11\r\n    }\r\n}\r\n\r\ndependencies {\r\n    coreLibraryDesugaring(&quot;com.android.tools:desugar_jdk_libs:2.0.0&quot;) // 2.0.0 or higher required\r\n}\r\n```\r\n\r\nYou also need to make sure to use AGP Version 7.4.0-alpha10 or higher.\r\n\r\n","title":"Why will android studio not let me use &quot;var&quot;?","body":"<p>I managed to make it work by using library desugaring, check this link: <a href=\"https://developer.android.com/studio/write/java8-support#kts\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/write/java8-support#kts</a></p>\n<p>and add support with the following differences:</p>\n<pre><code>android { \n    [...]\n\n    compileOptions {\n        isCoreLibraryDesugaringEnabled = true\n        sourceCompatibility = JavaVersion.VERSION_11\n        targetCompatibility = JavaVersion.VERSION_11\n    }\n}\n\ndependencies {\n    coreLibraryDesugaring(&quot;com.android.tools:desugar_jdk_libs:2.0.0&quot;) // 2.0.0 or higher required\n}\n</code></pre>\n<p>You also need to make sure to use AGP Version 7.4.0-alpha10 or higher.</p>\n"}],"owner":{"account_id":16038245,"reputation":67,"user_id":11575355,"display_name":"theratkeeper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2980,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":62453093,"answer_count":3,"score":1,"last_activity_date":1678891294,"creation_date":1592492360,"question_id":62452986,"body_markdown":"I have a project in Android Studio, and part of it would be made more simple with the use of `var`. However, every time I try to use var, I get an error: `cannot find symbol class var`. \r\nMy code:\r\n```java\r\npublic class Program {\r\n    var variable = &quot;value&quot;;\r\n}\r\n//note: this is not my actual code (obviously), but even this simple test doesn&#39;t work\r\n```","title":"Why will android studio not let me use &quot;var&quot;?","body":"<p>I have a project in Android Studio, and part of it would be made more simple with the use of <code>var</code>. However, every time I try to use var, I get an error: <code>cannot find symbol class var</code>. \nMy code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Program {\n    var variable = \"value\";\n}\n//note: this is not my actual code (obviously), but even this simple test doesn't work\n</code></pre>\n"},{"tags":["python","java","android","kivy","pyjnius"],"owner":{"account_id":27139916,"reputation":104,"user_id":20680878,"display_name":"aditya thakker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678891200,"creation_date":1678890886,"question_id":75746188,"body_markdown":"I&#39;ve been building a kivy app and have been accessing androidcontentcontext via pyjnius autoclass. \r\nWhile I am able to successfully get the class, when I run context.getresources() I am getting abstract method error. \r\n\r\nHere&#39;s the minimal code:\r\n   \r\n\r\n    from kivy.app import App\r\n    from kivy.lang.builder import Builder\r\n    from jnius import autoclass\r\n\r\n    k = &quot;&quot;&quot;\r\n    Label:\r\n\t    id:i\r\n\t    text:&#39;hi&#39;\r\n    &quot;&quot;&quot;\r\n\r\n    class mapp(App):\r\n\t    def on_start(self):\r\n\t\t    print(True)\r\n\t\t    context = autoclass(&#39;android.content.Context&#39;)\r\n\t\t    con = context()\r\n\t\t    con.getResources()\r\n\t\t    self.root.text = f&#39;{con}&#39;\r\n\t    def build(self):\t\t\r\n\t\t    return Builder.load_string(k)\r\n\t\t\r\n    mapp().run()\r\n\r\nHere&#39;s the error log:\r\n\r\n    Traceback (most recent call last):\r\n    File \r\n     \r\n    &quot;/data/user/0/ru.iiec.pydroid3/\r\n    files/temp_iiec_codefile.py&quot;, line 21, \r\n    in &lt;module&gt;\r\n    mapp().run()\r\n    File \r\n    &quot;/data/user/0/ru.iiec.pydroid3/\r\n    files/aarch64-linux-android. \r\n    android/lib/python3.9/site- \r\n    packages/kivy/app.py&quot;, line 949, in run\r\n     self._run_prepare()\r\n    File \r\n    &quot;/data/user/0/ru.iiec.pydroid3/\r\n    files/aarch64-linux-android. \r\n    android/lib/python3.9/site- \r\n    packages/kivy/app.py&quot;, line 944, in \r\n    _run_prepare\r\n         self.dispatch(&#39;on_start&#39;)\r\n    File &quot;kivy/_event.pyx&quot;, line 709, in \r\n    kivy._event.EventDispatcher.dispatch\r\n    File \r\n    &quot;/data/user/0/ru.iiec.pydroid3/\r\n    files/temp_iiec_codefile.py&quot;, line 16, \r\n    in on_start\r\n     con.getResources()\r\n    File &quot;jnius/jnius_export_class.pxi&quot;, \r\n    line 857, in \r\n    jnius.jnius.JavaMethod.__call__\r\n    File &quot;jnius/jnius_export_class.pxi&quot;, \r\n    line 937, in \r\n    jnius.jnius.JavaMethod.call_method\r\n    File &quot;jnius/jnius_utils.pxi&quot;, line 91, \r\n    in jnius.jnius.check_exception\r\n    jnius.jnius.JavaException: JVM \r\n    exception occurred: abstract method \r\n    &quot;android.content.res.Resources \r\n    android.content.Context.getResources()&quot; \r\n    java.lang.AbstractMethodError\r\n\r\n\r\nAny help is greatly appreciated, \r\nThanks in advance.\r\n\r\n...................... ","title":"Getting Abstract method error with pyjnius on accessing android context","body":"<p>I've been building a kivy app and have been accessing androidcontentcontext via pyjnius autoclass.\nWhile I am able to successfully get the class, when I run context.getresources() I am getting abstract method error.</p>\n<p>Here's the minimal code:</p>\n<pre><code>from kivy.app import App\nfrom kivy.lang.builder import Builder\nfrom jnius import autoclass\n\nk = &quot;&quot;&quot;\nLabel:\n    id:i\n    text:'hi'\n&quot;&quot;&quot;\n\nclass mapp(App):\n    def on_start(self):\n        print(True)\n        context = autoclass('android.content.Context')\n        con = context()\n        con.getResources()\n        self.root.text = f'{con}'\n    def build(self):        \n        return Builder.load_string(k)\n    \nmapp().run()\n</code></pre>\n<p>Here's the error log:</p>\n<pre><code>Traceback (most recent call last):\nFile \n \n&quot;/data/user/0/ru.iiec.pydroid3/\nfiles/temp_iiec_codefile.py&quot;, line 21, \nin &lt;module&gt;\nmapp().run()\nFile \n&quot;/data/user/0/ru.iiec.pydroid3/\nfiles/aarch64-linux-android. \nandroid/lib/python3.9/site- \npackages/kivy/app.py&quot;, line 949, in run\n self._run_prepare()\nFile \n&quot;/data/user/0/ru.iiec.pydroid3/\nfiles/aarch64-linux-android. \nandroid/lib/python3.9/site- \npackages/kivy/app.py&quot;, line 944, in \n_run_prepare\n     self.dispatch('on_start')\nFile &quot;kivy/_event.pyx&quot;, line 709, in \nkivy._event.EventDispatcher.dispatch\nFile \n&quot;/data/user/0/ru.iiec.pydroid3/\nfiles/temp_iiec_codefile.py&quot;, line 16, \nin on_start\n con.getResources()\nFile &quot;jnius/jnius_export_class.pxi&quot;, \nline 857, in \njnius.jnius.JavaMethod.__call__\nFile &quot;jnius/jnius_export_class.pxi&quot;, \nline 937, in \njnius.jnius.JavaMethod.call_method\nFile &quot;jnius/jnius_utils.pxi&quot;, line 91, \nin jnius.jnius.check_exception\njnius.jnius.JavaException: JVM \nexception occurred: abstract method \n&quot;android.content.res.Resources \nandroid.content.Context.getResources()&quot; \njava.lang.AbstractMethodError\n</code></pre>\n<p>Any help is greatly appreciated,\nThanks in advance.</p>\n<p>......................</p>\n"},{"tags":["java","jdbc","connection","connection-pooling","c3p0"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1678899221,"post_id":75746242,"comment_id":133623911,"body_markdown":"Closing a connection obtained from a pool is what allows it to be reused.  So, you were correct to put the Connection in a try-with-resources statement.","body":"Closing a connection obtained from a pool is what allows it to be reused.  So, you were correct to put the Connection in a try-with-resources statement."}],"owner":{"account_id":2048111,"reputation":1313,"user_id":1827757,"accept_rate":93,"display_name":"RadleyMith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678891153,"creation_date":1678891153,"question_id":75746242,"body_markdown":"Using `ComboPooledDataSource` as a db connection pool. It seems like connections are being opened to frequently against my database. All of the queries use a `try-with-resources` block when opening the connection. My hypothesis is that using the `try-with-resources` block when opening the connection is also auto closing it, so the connection with my DB never gets re-used.  Code in question looks like:\r\n\r\n```\r\ntry (Connection conn = comboPooledDataSource.getConnection()) {\r\n    // ... do stuff with conn\r\n} \r\n```\r\n\r\nI&#39;m thinking that instead of using the try with resources it should just be a regular try statement and should not close the connection... leave that up to the `ComboPooledDataSource`. It would look like:\r\n\r\n```\r\ntry {\r\n    Connection conn = comboPooledDataSource.getConnection()\r\n    // ... do stuff with conn but don&#39;t close it\r\n} \r\n```","title":"Should I use try-with-resources on ComboPooledDataSource","body":"<p>Using <code>ComboPooledDataSource</code> as a db connection pool. It seems like connections are being opened to frequently against my database. All of the queries use a <code>try-with-resources</code> block when opening the connection. My hypothesis is that using the <code>try-with-resources</code> block when opening the connection is also auto closing it, so the connection with my DB never gets re-used.  Code in question looks like:</p>\n<pre><code>try (Connection conn = comboPooledDataSource.getConnection()) {\n    // ... do stuff with conn\n} \n</code></pre>\n<p>I'm thinking that instead of using the try with resources it should just be a regular try statement and should not close the connection... leave that up to the <code>ComboPooledDataSource</code>. It would look like:</p>\n<pre><code>try {\n    Connection conn = comboPooledDataSource.getConnection()\n    // ... do stuff with conn but don't close it\n} \n</code></pre>\n"},{"tags":["java","spring-boot","maven","liquibase"],"comments":[{"owner":{"account_id":5340830,"reputation":668,"user_id":4258006,"display_name":"Shiva kumar"},"score":0,"creation_date":1686057097,"post_id":37708145,"comment_id":134744517,"body_markdown":"How will you run Liquibase Manually?","body":"How will you run Liquibase Manually?"}],"answers":[{"comments":[{"owner":{"account_id":4025902,"reputation":1561,"user_id":3314194,"accept_rate":87,"display_name":"Kevin Vasko"},"score":0,"creation_date":1476984802,"post_id":37711291,"comment_id":67590634,"body_markdown":"The problem with this is that when spring boot finds liquibase on the classpath it will try to execute on startup afaik.","body":"The problem with this is that when spring boot finds liquibase on the classpath it will try to execute on startup afaik."},{"owner":{"account_id":3361564,"reputation":1216,"user_id":2823270,"display_name":"C&#232;sar"},"score":1,"creation_date":1477290140,"post_id":37711291,"comment_id":67687735,"body_markdown":"That&#39;s why you have to remove the liquibase starter, or any direct liquibase dependency if you added any. If you only have the liquibase maven plugin, liquibase is not in the application classpath.","body":"That&#39;s why you have to remove the liquibase starter, or any direct liquibase dependency if you added any. If you only have the liquibase maven plugin, liquibase is not in the application classpath."},{"owner":{"account_id":5340830,"reputation":668,"user_id":4258006,"display_name":"Shiva kumar"},"score":0,"creation_date":1685453433,"post_id":37711291,"comment_id":134659686,"body_markdown":"If you disable it during the startup, how will we trigger to run the DB scripts which need to be run ?","body":"If you disable it during the startup, how will we trigger to run the DB scripts which need to be run ?"}],"tags":[],"owner":{"account_id":3361564,"reputation":1216,"user_id":2823270,"display_name":"C&#232;sar"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1465414219,"creation_date":1465414219,"answer_id":37711291,"question_id":37708145,"body_markdown":"If you want to run Liquibase manually, you could use the liquibase maven plugin. Just add something like this to your pom.xml:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n        &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;changeLogFile&gt;src/main/liquibase/master.xml&lt;/changeLogFile&gt;\r\n          &lt;propertyFile&gt;src/main/liquibase/liquibase.properties&lt;/propertyFile&gt;\r\n          &lt;promptOnNonLocalDatabase&gt;false&lt;/promptOnNonLocalDatabase&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nYou can take a look at the [plugin documentation][1] for the configuration details.\r\n\r\nAnd don&#39;t use the liquibase support from Spring Boot, as it is only meant to be used in runtime. Just remove the liquibase starter and/or any related dependencies as you&#39;ll only need the maven plugin.\r\n\r\n\r\n  [1]: http://www.liquibase.org/documentation/maven/","title":"Spring boot - disable Liquibase at startup","body":"<p>If you want to run Liquibase manually, you could use the liquibase maven plugin. Just add something like this to your pom.xml:</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n    &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${liquibase.version}&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;changeLogFile&gt;src/main/liquibase/master.xml&lt;/changeLogFile&gt;\n      &lt;propertyFile&gt;src/main/liquibase/liquibase.properties&lt;/propertyFile&gt;\n      &lt;promptOnNonLocalDatabase&gt;false&lt;/promptOnNonLocalDatabase&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>You can take a look at the <a href=\"http://www.liquibase.org/documentation/maven/\" rel=\"nofollow\">plugin documentation</a> for the configuration details.</p>\n\n<p>And don't use the liquibase support from Spring Boot, as it is only meant to be used in runtime. Just remove the liquibase starter and/or any related dependencies as you'll only need the maven plugin.</p>\n"},{"comments":[{"owner":{"account_id":16306608,"reputation":327,"user_id":11776448,"display_name":"TJReinert"},"score":5,"creation_date":1626215096,"post_id":37716621,"comment_id":120832537,"body_markdown":"This property was migrated to `spring.liquibase.enabled`.","body":"This property was migrated to <code>spring.liquibase.enabled</code>."}],"tags":[],"owner":{"account_id":2260035,"reputation":2448,"user_id":1990359,"display_name":"Sangram Jadhav"},"comment_count":1,"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1465445222,"creation_date":1465445222,"answer_id":37716621,"question_id":37708145,"body_markdown":"Add `liquibase.enabled=false` in your application.properties file\r\n\r\n[Reference](http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html)\r\n\r\nBut if you don&#39;t want to use liquibase from application anymore, remove liquibase starter altogether from pom.","title":"Spring boot - disable Liquibase at startup","body":"<p>Add <code>liquibase.enabled=false</code> in your application.properties file</p>\n\n<p><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">Reference</a></p>\n\n<p>But if you don't want to use liquibase from application anymore, remove liquibase starter altogether from pom.</p>\n"},{"comments":[{"owner":{"account_id":356896,"reputation":1317,"user_id":696714,"accept_rate":56,"display_name":"TOUDIdel"},"score":0,"creation_date":1562324129,"post_id":48830995,"comment_id":100348259,"body_markdown":"After this I&#39;ve received `org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;liquibase&#39; available`","body":"After this I&#39;ve received <code>org.springframework.beans.factory.NoSuchBeanDefinitionExcept&zwnj;&#8203;ion: No bean named &#39;liquibase&#39; available</code>"},{"owner":{"account_id":1000824,"reputation":1501,"user_id":1015703,"accept_rate":96,"display_name":"David H"},"score":1,"creation_date":1590592462,"post_id":48830995,"comment_id":109739015,"body_markdown":"This worked for me.  It is the only solution that makes a SpringLiquibase bean available for autowiring without running on startup. Remember to put it in a @Configuration class.","body":"This worked for me.  It is the only solution that makes a SpringLiquibase bean available for autowiring without running on startup. Remember to put it in a @Configuration class."}],"tags":[],"owner":{"account_id":7496424,"reputation":171,"user_id":5903088,"display_name":"D&#225;vid Elek"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1518798515,"creation_date":1518798515,"answer_id":48830995,"question_id":37708145,"body_markdown":"I faced an issue where I wasn&#39;t able to disable Liquibase from properties for some reason, so this is how I disabled Liquibase with `@Bean` annotation:\r\n\r\n    @Bean\r\n    public SpringLiquibase liquibase() {\r\n      SpringLiquibase liquibase = new SpringLiquibase();\r\n      liquibase.setShouldRun(false);\r\n      return liquibase;\r\n    }\r\n\r\n","title":"Spring boot - disable Liquibase at startup","body":"<p>I faced an issue where I wasn't able to disable Liquibase from properties for some reason, so this is how I disabled Liquibase with <code>@Bean</code> annotation:</p>\n\n<pre><code>@Bean\npublic SpringLiquibase liquibase() {\n  SpringLiquibase liquibase = new SpringLiquibase();\n  liquibase.setShouldRun(false);\n  return liquibase;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8536347,"reputation":830,"user_id":6398014,"display_name":"Codigo Morsa"},"score":0,"creation_date":1657017685,"post_id":48848660,"comment_id":128704309,"body_markdown":"spring.liquibase.enabled=false solved my problem too Spring 2.7.1","body":"spring.liquibase.enabled=false solved my problem too Spring 2.7.1"}],"tags":[],"owner":{"account_id":369180,"reputation":1875,"user_id":716404,"display_name":"maruf571"},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1520584332,"creation_date":1518930543,"answer_id":48848660,"question_id":37708145,"body_markdown":"If you see on the LiquibaseProperties, there is a prefix like\r\n\r\n     prefix = &quot;spring.liquibase&quot;\r\nSo, My suggestion is to use\r\n\r\n    spring.liquibase.enabled=false\r\n\r\nIt solved my problem with spring boot 2.0.0.RC1","title":"Spring boot - disable Liquibase at startup","body":"<p>If you see on the LiquibaseProperties, there is a prefix like</p>\n\n<pre><code> prefix = \"spring.liquibase\"\n</code></pre>\n\n<p>So, My suggestion is to use</p>\n\n<pre><code>spring.liquibase.enabled=false\n</code></pre>\n\n<p>It solved my problem with spring boot 2.0.0.RC1</p>\n"},{"tags":[],"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"comment_count":0,"down_vote_count":0,"up_vote_count":119,"is_accepted":false,"score":119,"last_activity_date":1562683963,"creation_date":1522088114,"answer_id":49498048,"question_id":37708145,"body_markdown":"The relevant property name has changed between Spring versions:\r\n\r\n* For **Spring 4.x.x**: the `liquibase.enabled=false` application property disables Liquibase.\r\n\r\n* For **Spring 5.x.x**: the `spring.liquibase.enabled=false` application property disables Liquibase.\r\n\r\n----\r\n\r\nP.S. And for Flyway: \r\n\r\n* **Spring 4.x.x**: `flyway.enabled=false`\r\n\r\n* **Spring 5.x.x**: `spring.flyway.enabled=false`\r\n","title":"Spring boot - disable Liquibase at startup","body":"<p>The relevant property name has changed between Spring versions:</p>\n\n<ul>\n<li><p>For <strong>Spring 4.x.x</strong>: the <code>liquibase.enabled=false</code> application property disables Liquibase.</p></li>\n<li><p>For <strong>Spring 5.x.x</strong>: the <code>spring.liquibase.enabled=false</code> application property disables Liquibase.</p></li>\n</ul>\n\n<hr>\n\n<p>P.S. And for Flyway: </p>\n\n<ul>\n<li><p><strong>Spring 4.x.x</strong>: <code>flyway.enabled=false</code></p></li>\n<li><p><strong>Spring 5.x.x</strong>: <code>spring.flyway.enabled=false</code></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1716149,"reputation":1981,"user_id":1573161,"accept_rate":56,"display_name":"Abhishek Chatterjee"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1599631917,"creation_date":1597214143,"answer_id":63371087,"question_id":37708145,"body_markdown":"There is one more programmatic approach.\r\n\r\n`@EnableAutoConfiguration(exclude = LiquibaseAutoConfiguration.class)`\r\n\r\non Application main class","title":"Spring boot - disable Liquibase at startup","body":"<p>There is one more programmatic approach.</p>\n<p><code>@EnableAutoConfiguration(exclude = LiquibaseAutoConfiguration.class)</code></p>\n<p>on Application main class</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673615832,"post_id":75092772,"comment_id":132544863,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75092772/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":10669178,"reputation":26,"user_id":13891755,"display_name":"EthanHunt007"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673507958,"creation_date":1673507958,"answer_id":75092772,"question_id":37708145,"body_markdown":"You can use the spring.liquibase.enabled=true/false","title":"Spring boot - disable Liquibase at startup","body":"<p>You can use the spring.liquibase.enabled=true/false</p>\n"},{"tags":[],"owner":{"account_id":389040,"reputation":385,"user_id":748285,"accept_rate":25,"display_name":"RJC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674032653,"creation_date":1674031719,"answer_id":75156640,"question_id":37708145,"body_markdown":"Whilst the documented Spring Boot solution is `spring.liquibase.enabled=false`, it didn&#39;t work for me. To disable liquibase you can also use the following property:\r\n\r\n    liquibase.shouldRun=false\r\n\r\nI passed this as a command line parameter when launching the Spring Boot jar\r\n\r\n    -Dliquibase.shouldRun=false\r\n\r\nsee https://docs.liquibase.com/parameters/should-run.html","title":"Spring boot - disable Liquibase at startup","body":"<p>Whilst the documented Spring Boot solution is <code>spring.liquibase.enabled=false</code>, it didn't work for me. To disable liquibase you can also use the following property:</p>\n<pre><code>liquibase.shouldRun=false\n</code></pre>\n<p>I passed this as a command line parameter when launching the Spring Boot jar</p>\n<pre><code>-Dliquibase.shouldRun=false\n</code></pre>\n<p>see <a href=\"https://docs.liquibase.com/parameters/should-run.html\" rel=\"nofollow noreferrer\">https://docs.liquibase.com/parameters/should-run.html</a></p>\n"},{"tags":[],"owner":{"account_id":1642693,"reputation":1020,"user_id":1514845,"display_name":"Denis.Kipchakbaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678891143,"creation_date":1678891143,"answer_id":75746241,"question_id":37708145,"body_markdown":"Another approach for `application.yml`:\r\n\r\n    spring:\r\n      autoconfigure:\r\n        exclude:\r\n          - org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration","title":"Spring boot - disable Liquibase at startup","body":"<p>Another approach for <code>application.yml</code>:</p>\n<pre><code>spring:\n  autoconfigure:\n    exclude:\n      - org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration\n</code></pre>\n"}],"owner":{"account_id":2538779,"reputation":967,"user_id":2205123,"accept_rate":56,"display_name":"Gravian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100937,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"answer_count":9,"score":83,"last_activity_date":1678891143,"creation_date":1465403622,"question_id":37708145,"body_markdown":"I want to have **Liquibase** configured with my **Spring Boot** application, so I added dependencies to `pom.xml` and set the path to `master.xml` in `application.properties`. This works fine and **Spring Boot** runs **Liquibase** at startup. The problem is that now I want to run **Liquibase** manually, not at startup of application. Should I completely disable auto-configuration for **Liquibase** or can I use it and only disable running evaluations at startup?","title":"Spring boot - disable Liquibase at startup","body":"<p>I want to have <strong>Liquibase</strong> configured with my <strong>Spring Boot</strong> application, so I added dependencies to <code>pom.xml</code> and set the path to <code>master.xml</code> in <code>application.properties</code>. This works fine and <strong>Spring Boot</strong> runs <strong>Liquibase</strong> at startup. The problem is that now I want to run <strong>Liquibase</strong> manually, not at startup of application. Should I completely disable auto-configuration for <strong>Liquibase</strong> or can I use it and only disable running evaluations at startup?</p>\n"},{"tags":["java","wait","sleep"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678889659,"post_id":75745862,"comment_id":133620700,"body_markdown":"[mcve] please .. including imports ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. including imports .."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1678889871,"post_id":75745862,"comment_id":133620778,"body_markdown":"Should be `TimeUnit.SECONDS.sleep(10);`.","body":"Should be <code>TimeUnit.SECONDS.sleep(10);</code>."}],"answers":[{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678889871,"creation_date":1678889871,"answer_id":75745978,"question_id":75745862,"body_markdown":"Firstly, there&#39;s [Thread.sleep(int)](https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#sleep-long-) that you can use to **block** the current thread.\r\n\r\nSecondly, you can utilize [ScheduledExecutorService](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html)  to **schedule** the task for later, **not blocking** the current thread.","title":"Adding a Wait or Delay to Java","body":"<p>Firstly, there's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#sleep-long-\" rel=\"nofollow noreferrer\">Thread.sleep(int)</a> that you can use to <strong>block</strong> the current thread.</p>\n<p>Secondly, you can utilize <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a>  to <strong>schedule</strong> the task for later, <strong>not blocking</strong> the current thread.</p>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678890013,"creation_date":1678890013,"answer_id":75746008,"question_id":75745862,"body_markdown":"Instead of:\r\n\r\n    TimeUnits.Second.sleep(10)\r\n\r\nIt should be:\r\n\r\n    TimeUnit.SECONDS.sleep(10); \r\n\r\nComplete working example:\r\n\r\n    import java.util.concurrent.*;\r\n    class Main { \r\n    \r\n      public static void main(String[] args) {\r\n        System.out.println(&quot;a&quot;);\r\n    \r\n        try {\r\n          TimeUnit.SECONDS.sleep(10); // 10 second delay\r\n        }\r\n        catch (InterruptedException e) {}\r\n        \r\n        System.out.println(&quot;b&quot;);\r\n      }\r\n      \r\n    }","title":"Adding a Wait or Delay to Java","body":"<p>Instead of:</p>\n<pre><code>TimeUnits.Second.sleep(10)\n</code></pre>\n<p>It should be:</p>\n<pre><code>TimeUnit.SECONDS.sleep(10); \n</code></pre>\n<p>Complete working example:</p>\n<pre><code>import java.util.concurrent.*;\nclass Main { \n\n  public static void main(String[] args) {\n    System.out.println(&quot;a&quot;);\n\n    try {\n      TimeUnit.SECONDS.sleep(10); // 10 second delay\n    }\n    catch (InterruptedException e) {}\n    \n    System.out.println(&quot;b&quot;);\n  }\n  \n}\n</code></pre>\n"}],"owner":{"account_id":27686158,"reputation":1,"user_id":21133877,"display_name":"Macattack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1678890106,"accepted_answer_id":75746008,"answer_count":2,"score":-2,"last_activity_date":1678890536,"creation_date":1678889301,"question_id":75745862,"body_markdown":"So I have some Java code that once it has ran through that part, I want it wait/delay for some amount of time. Here is the code I have: \r\n\r\n\r\n\r\n\r\n```\r\nTrajectory exampleTrajectory =\r\n        TrajectoryGenerator.generateTrajectory(trajectory);\r\n        TimeUnits.Second.sleep(10)\r\n```\r\n\r\n\r\n\r\nI have tried using TimeUnits.Second.sleep(10) but I keep getting an error saying that it cannot be resolved. ","title":"Adding a Wait or Delay to Java","body":"<p>So I have some Java code that once it has ran through that part, I want it wait/delay for some amount of time. Here is the code I have:</p>\n<pre><code>Trajectory exampleTrajectory =\n        TrajectoryGenerator.generateTrajectory(trajectory);\n        TimeUnits.Second.sleep(10)\n</code></pre>\n<p>I have tried using TimeUnits.Second.sleep(10) but I keep getting an error saying that it cannot be resolved.</p>\n"},{"tags":["java","spring","jakarta-ee","ejb"],"comments":[{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1460033806,"post_id":15120141,"comment_id":60563767,"body_markdown":"Heva a look at this answer: http://stackoverflow.com/questions/6437828/spring-transactions-with-supports-propagation#6437924","body":"Heva a look at this answer: <a href=\"http://stackoverflow.com/questions/6437828/spring-transactions-with-supports-propagation#6437924\" title=\"spring transactions with supports propagation%236437924\">stackoverflow.com/questions/6437828/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":195439,"reputation":60926,"user_id":438319,"accept_rate":73,"display_name":"ams"},"score":0,"creation_date":1361992466,"post_id":15120243,"comment_id":21279223,"body_markdown":"in the JMS example you give, if there is no tx but the jms session / producer is shared then the message that is sent as part of the TX. I guess a distributed tx is the only place where SUPPORTS can be useful.","body":"in the JMS example you give, if there is no tx but the jms session / producer is shared then the message that is sent as part of the TX. I guess a distributed tx is the only place where SUPPORTS can be useful."},{"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"score":0,"creation_date":1361992626,"post_id":15120243,"comment_id":21279307,"body_markdown":"I think it can still be useful in a non-distributed setting as an API marker if you have instances of NOT_SUPPORTED and want to differentiate.  But you&#39;re right that implementation wise it&#39;s not really much different from putting nothing there at all if tx are not distributed.","body":"I think it can still be useful in a non-distributed setting as an API marker if you have instances of NOT_SUPPORTED and want to differentiate.  But you&#39;re right that implementation wise it&#39;s not really much different from putting nothing there at all if tx are not distributed."},{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":1,"creation_date":1583335265,"post_id":15120243,"comment_id":107082358,"body_markdown":"I don&#39;t see why distributed or not would make any difference. A method without SUPPORTS that has not the NOT_SUPPORTED added, do effectively support transactions. That&#39;s like the whole point of all of this. It&#39;s like adding a &quot;@PossiblyOverridden&quot; annotation to every non-final method. Pointless!\n\nAffe, your first paragraph.. is wrong? &quot;If there is no transaction running&quot; then there is no transaction running. Your second paragraph, also wrong? Again, if I do NOT support transactions I use NOT_SUPPORTED. Anything anywhere that has no transaction annotation effectively &quot;supports&quot;.","body":"I don&#39;t see why distributed or not would make any difference. A method without SUPPORTS that has not the NOT_SUPPORTED added, do effectively support transactions. That&#39;s like the whole point of all of this. It&#39;s like adding a &quot;@PossiblyOverridden&quot; annotation to every non-final method. Pointless!  Affe, your first paragraph.. is wrong? &quot;If there is no transaction running&quot; then there is no transaction running. Your second paragraph, also wrong? Again, if I do NOT support transactions I use NOT_SUPPORTED. Anything anywhere that has no transaction annotation effectively &quot;supports&quot;."},{"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"score":1,"creation_date":1583338279,"post_id":15120243,"comment_id":107084190,"body_markdown":"I&#39;m not sure what kind of response you&#39;re looking for commenting on a 7 year old answer about an 18 year old API that it seems like a silly designed based on modern sensibilities.... Yes.. it effectively &quot;does nothing&quot;... yes Sun Engineers 20 years ago had different design philosophies from google and facebook engineers today?  If I were answering the question today I probably would write something like &quot;That&#39;s just the way we rolled in 2002, the sort of people who got excited about UML valued &#39;completeness&#39; like that even though the setting is actually a no-op.&quot;","body":"I&#39;m not sure what kind of response you&#39;re looking for commenting on a 7 year old answer about an 18 year old API that it seems like a silly designed based on modern sensibilities.... Yes.. it effectively &quot;does nothing&quot;... yes Sun Engineers 20 years ago had different design philosophies from google and facebook engineers today?  If I were answering the question today I probably would write something like &quot;That&#39;s just the way we rolled in 2002, the sort of people who got excited about UML valued &#39;completeness&#39; like that even though the setting is actually a no-op.&quot;"}],"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1361991994,"creation_date":1361991994,"answer_id":15120243,"question_id":15120141,"body_markdown":"Easiest example I can think of would be a method that sends some content to a JMS server.  If you are in the context of a transaction, you want the message to be coupled to the transaction scope.  But if there isn&#39;t already a transaction running, why bother calling the transaction server also and starting one just to do a one-off message?\r\n\r\nRemember these can be declared on an API as well as an implementation.  So even if there isn&#39;t much difference for your use case between putting it there and putting nothing there, it still adds value for an API author to specify what operations are able to be included in a transaction, as opposed to operations that perhaps call an external system that does not participate in transactions.\r\n\r\nThis is of course in a JTA context.  The feature doesn&#39;t really have much practical use in a system where transactions are limited to resource-local physical database transactions.","title":"When to use Spring @Transactional (propagation = Propagation.SUPPORTS)?","body":"<p>Easiest example I can think of would be a method that sends some content to a JMS server.  If you are in the context of a transaction, you want the message to be coupled to the transaction scope.  But if there isn't already a transaction running, why bother calling the transaction server also and starting one just to do a one-off message?</p>\n\n<p>Remember these can be declared on an API as well as an implementation.  So even if there isn't much difference for your use case between putting it there and putting nothing there, it still adds value for an API author to specify what operations are able to be included in a transaction, as opposed to operations that perhaps call an external system that does not participate in transactions.</p>\n\n<p>This is of course in a JTA context.  The feature doesn't really have much practical use in a system where transactions are limited to resource-local physical database transactions.</p>\n"},{"comments":[{"owner":{"account_id":2145778,"reputation":902,"user_id":1903411,"accept_rate":64,"display_name":"aloplop85"},"score":0,"creation_date":1373540975,"post_id":17015104,"comment_id":25600229,"body_markdown":"so...Does it really deserve to put the @Transactional annotation for making selects in a local database through an ORM framework (e.g. MyBatis)?","body":"so...Does it really deserve to put the @Transactional annotation for making selects in a local database through an ORM framework (e.g. MyBatis)?"},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1429191174,"post_id":17015104,"comment_id":47490208,"body_markdown":"by &quot;ditch the Transactional aspect&quot;, is this the same as using @NotTransactional?","body":"by &quot;ditch the Transactional aspect&quot;, is this the same as using @NotTransactional?"},{"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"score":0,"creation_date":1429191257,"post_id":17015104,"comment_id":47490300,"body_markdown":"If something has no transaction aspect, or is @NotTransactional, and it is called from within a transaction, what happens?  e.g. if transactional method A writes something to the DB, then calls NotTransactional method be, which also writes something, then eiter A or B throw an unchecked exception, which get rolled back?","body":"If something has no transaction aspect, or is @NotTransactional, and it is called from within a transaction, what happens?  e.g. if transactional method A writes something to the DB, then calls NotTransactional method be, which also writes something, then eiter A or B throw an unchecked exception, which get rolled back?"},{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":0,"creation_date":1583335557,"post_id":17015104,"comment_id":107082533,"body_markdown":"I still see no difference between having SUPPORTS versus not having it. I think the API designers were simply put it obsessing too much over annotations. Maybe one day in the future we will reverse this evil and go back to doing real object-oriented programming the way God intended.","body":"I still see no difference between having SUPPORTS versus not having it. I think the API designers were simply put it obsessing too much over annotations. Maybe one day in the future we will reverse this evil and go back to doing real object-oriented programming the way God intended."}],"tags":[],"owner":{"account_id":62516,"reputation":20965,"user_id":185723,"accept_rate":89,"display_name":"dimitrisli"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1370819720,"creation_date":1370819720,"answer_id":17015104,"question_id":15120141,"body_markdown":"It makes a good pair along with the `readOnly=true` Transactional flag on a select operation especially when ORM is used:\r\n\r\n    @Transactional(readOnly = true, propagation=Propagation.SUPPORTS)\r\n    public Pojo findPojo(long pojoId) throws Exception {\r\n       return em.find(Pojo.class, pojoId);\r\n    }\r\n\r\nIn this case you make sure not to pay to price of creating a new transaction if there isn&#39;t one already just for performing a select operation.\r\n\r\nAlthough if you have been in that thought process already you might even consider ditch the Transactional aspect all together:\r\n\r\n    public Pojo findPojo(long pojoId) throws Exception {\r\n       return em.find(Pojo.class, pojoId);\r\n    }","title":"When to use Spring @Transactional (propagation = Propagation.SUPPORTS)?","body":"<p>It makes a good pair along with the <code>readOnly=true</code> Transactional flag on a select operation especially when ORM is used:</p>\n\n<pre><code>@Transactional(readOnly = true, propagation=Propagation.SUPPORTS)\npublic Pojo findPojo(long pojoId) throws Exception {\n   return em.find(Pojo.class, pojoId);\n}\n</code></pre>\n\n<p>In this case you make sure not to pay to price of creating a new transaction if there isn't one already just for performing a select operation.</p>\n\n<p>Although if you have been in that thought process already you might even consider ditch the Transactional aspect all together:</p>\n\n<pre><code>public Pojo findPojo(long pojoId) throws Exception {\n   return em.find(Pojo.class, pojoId);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460034189,"creation_date":1460034189,"answer_id":36477059,"question_id":15120141,"body_markdown":"According this issues &lt;a href=&quot;https://jira.spring.io/browse/DATAJPA-601&quot;&gt;Improve performance with Propagation.SUPPORTS for readOnly operation&lt;/a&gt; you should not set read-only transaction with Propagation.SUPPORTS:\r\n\r\nIt&#39;s by no means clear that the change would actually improve performance. There&#39;s multiple aspects in this. First of them is that the linked article is dated and incredibly flawed as it aggressively simplifies things. I can go into details if you want but I&#39;ll leave it at that for now. There are a lot of things playing into execution performance here. Without a transaction in progress neither the readOnly flag is propagated to the JDBC driver (which would cause optimizations for a lot of databases not being applied) nor would you apply the optimizations in Spring&#39;s JPA resource management code like explicitly turning off flushing, which - if applied - can dramatically improve performance in case you read a lot of data.","title":"When to use Spring @Transactional (propagation = Propagation.SUPPORTS)?","body":"<p>According this issues <a href=\"https://jira.spring.io/browse/DATAJPA-601\" rel=\"nofollow\">Improve performance with Propagation.SUPPORTS for readOnly operation</a> you should not set read-only transaction with Propagation.SUPPORTS:</p>\n\n<p>It's by no means clear that the change would actually improve performance. There's multiple aspects in this. First of them is that the linked article is dated and incredibly flawed as it aggressively simplifies things. I can go into details if you want but I'll leave it at that for now. There are a lot of things playing into execution performance here. Without a transaction in progress neither the readOnly flag is propagated to the JDBC driver (which would cause optimizations for a lot of databases not being applied) nor would you apply the optimizations in Spring's JPA resource management code like explicitly turning off flushing, which - if applied - can dramatically improve performance in case you read a lot of data.</p>\n"},{"tags":[],"owner":{"account_id":66967,"reputation":500,"user_id":196207,"display_name":"Sankozi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678890526,"creation_date":1678890526,"answer_id":75746111,"question_id":15120141,"body_markdown":"Using `Propagation.SUPPORTS` you can trigger setting rollback only flag when exception is thrown. For example in the following code although there is a catch block `UnexpectedRollbackException` will be thrown when leaving `txRequired` block.\r\n\r\n    TransactionTemplate txRequired = new TransactionTemplate(platformTransactionManager);\r\n    TransactionTemplate txSupports = new TransactionTemplate(platformTransactionManager);\r\n    txRequired.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRED);\r\n    txSupports.setPropagationBehavior(TransactionDefinition.PROPAGATION_SUPPORTS);\r\n\r\n    //prints &#39;Exception handled&#39; and then throws UnexpectedRollbackException\r\n    txRequired.executeWithoutResult(tx -&gt; {\r\n        try {\r\n            txSupports.executeWithoutResult(tx2 -&gt; {\r\n                throw new RuntimeException();\r\n            });\r\n        } catch (Exception ex) {\r\n            System.out.println(&quot;Exception handled&quot;);\r\n        }\r\n    }); \r\n\r\nCode below will obviously not throw any exception. The only difference is lack of `PROPAGATION_SUPPORTS` block.\r\n\r\n    txRequired.executeWithoutResult((tx) -&gt; {\r\n        try {\r\n            throw new RuntimeException();\r\n        } catch (Exception ex) {\r\n            System.out.println(&quot;Exception handled&quot;);\r\n        }\r\n    });","title":"When to use Spring @Transactional (propagation = Propagation.SUPPORTS)?","body":"<p>Using <code>Propagation.SUPPORTS</code> you can trigger setting rollback only flag when exception is thrown. For example in the following code although there is a catch block <code>UnexpectedRollbackException</code> will be thrown when leaving <code>txRequired</code> block.</p>\n<pre><code>TransactionTemplate txRequired = new TransactionTemplate(platformTransactionManager);\nTransactionTemplate txSupports = new TransactionTemplate(platformTransactionManager);\ntxRequired.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRED);\ntxSupports.setPropagationBehavior(TransactionDefinition.PROPAGATION_SUPPORTS);\n\n//prints 'Exception handled' and then throws UnexpectedRollbackException\ntxRequired.executeWithoutResult(tx -&gt; {\n    try {\n        txSupports.executeWithoutResult(tx2 -&gt; {\n            throw new RuntimeException();\n        });\n    } catch (Exception ex) {\n        System.out.println(&quot;Exception handled&quot;);\n    }\n}); \n</code></pre>\n<p>Code below will obviously not throw any exception. The only difference is lack of <code>PROPAGATION_SUPPORTS</code> block.</p>\n<pre><code>txRequired.executeWithoutResult((tx) -&gt; {\n    try {\n        throw new RuntimeException();\n    } catch (Exception ex) {\n        System.out.println(&quot;Exception handled&quot;);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":195439,"reputation":60926,"user_id":438319,"accept_rate":73,"display_name":"ams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28585,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":15120243,"answer_count":4,"score":30,"last_activity_date":1678890526,"creation_date":1361991671,"question_id":15120141,"body_markdown":"According to the Spring javadoc `@Transactional(propagation = Propagation.SUPPORTS)` \r\n\r\n&gt; Support a current transaction, execute non-transactionally if none\r\n&gt; exists. Analogous to EJB transaction attribute of the same name.\r\n\r\nIt seems that I can just declare methods non transactionaly and be just done with it so my questions are.\r\n\r\n* What are some situations where SUPPORTS propagation is needed? \r\n* What is the point of the Supports propagation? \r\n\r\nCan anyone give a real world example / scenario where SUPPORTS was actually useful?","title":"When to use Spring @Transactional (propagation = Propagation.SUPPORTS)?","body":"<p>According to the Spring javadoc <code>@Transactional(propagation = Propagation.SUPPORTS)</code> </p>\n\n<blockquote>\n  <p>Support a current transaction, execute non-transactionally if none\n  exists. Analogous to EJB transaction attribute of the same name.</p>\n</blockquote>\n\n<p>It seems that I can just declare methods non transactionaly and be just done with it so my questions are.</p>\n\n<ul>\n<li>What are some situations where SUPPORTS propagation is needed? </li>\n<li>What is the point of the Supports propagation? </li>\n</ul>\n\n<p>Can anyone give a real world example / scenario where SUPPORTS was actually useful?</p>\n"},{"tags":["java","maven","maven-surefire-plugin"],"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1606307591,"post_id":65004670,"comment_id":114923949,"body_markdown":"Initial `mvn install` for `dad` is the idiomatic way with Maven for this type of work. Though you also have an option to run them from IDE :)","body":"Initial <code>mvn install</code> for <code>dad</code> is the idiomatic way with Maven for this type of work. Though you also have an option to run them from IDE :)"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1606308111,"post_id":65004670,"comment_id":114924158,"body_markdown":"So you want to __compile__  &quot;dad&quot;&#39;s classes but you don&#39;t want to run its tests, right?","body":"So you want to <b>compile</b>  &quot;dad&quot;&#39;s classes but you don&#39;t want to run its tests, right?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1606308697,"post_id":65004670,"comment_id":114924410,"body_markdown":"What about simply not using the `-am` cause it says: `If project list is specified, also build projects required by the list`...... Why do you do such things on command line and not within your ide?  Apart from that what is so problematic to use the `install .. ` and `mvn -pl son test` approach? So your local repository can be cleaned up easy? ...Running tests from a module or parts of it ... just using the IDE ... never doing that on command line ... the CI runs all tests on my branches...","body":"What about simply not using the <code>-am</code> cause it says: <code>If project list is specified, also build projects required by the list</code>...... Why do you do such things on command line and not within your ide?  Apart from that what is so problematic to use the <code>install .. </code> and <code>mvn -pl son test</code> approach? So your local repository can be cleaned up easy? ...Running tests from a module or parts of it ... just using the IDE ... never doing that on command line ... the CI runs all tests on my branches..."},{"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazıcı"},"score":0,"creation_date":1606308974,"post_id":65004670,"comment_id":114924527,"body_markdown":"@StanislavBashkyrtsev Polluting `~/.m2` with partial work just to run the tests of a single module doesn&#39;t sound *idiomatic* to me.","body":"@StanislavBashkyrtsev Polluting <code>~&#47;.m2</code> with partial work just to run the tests of a single module doesn&#39;t sound <i>idiomatic</i> to me."},{"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazıcı"},"score":0,"creation_date":1606309101,"post_id":65004670,"comment_id":114924579,"body_markdown":"@MarkBramnik, right. To be honest, I don&#39;t even want to compile `dad`, though if you don&#39;t provide `-am` to compile the dependency modules, Maven complains that `dad` is not found.","body":"@MarkBramnik, right. To be honest, I don&#39;t even want to compile <code>dad</code>, though if you don&#39;t provide <code>-am</code> to compile the dependency modules, Maven complains that <code>dad</code> is not found."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1606309119,"post_id":65004670,"comment_id":114924591,"body_markdown":"The `$HOME/.m2/repository` is a cache nothing else... polluting? There are then SNAPSHOT&#39;s etc.. So what?","body":"The <code>$HOME&#47;.m2&#47;repository</code> is a cache nothing else... polluting? There are then SNAPSHOT&#39;s etc.. So what?"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":1,"creation_date":1606309139,"post_id":65004670,"comment_id":114924603,"body_markdown":"@VolkanYazıcı, it&#39;s local repo, it doesn&#39;t matter what you have here. It exists to be polluted since it may contain SNAPSHOTs.","body":"@VolkanYazıcı, it&#39;s local repo, it doesn&#39;t matter what you have here. It exists to be polluted since it may contain SNAPSHOTs."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1606309188,"post_id":65004670,"comment_id":114924623,"body_markdown":"Yes of course cause it&#39;s a dependency...than you have to go the way `mvn install` for the whole project. Than you can use `mvn -pl son` from the root which will resolve the dependency from your local cache...","body":"Yes of course cause it&#39;s a dependency...than you have to go the way <code>mvn install</code> for the whole project. Than you can use <code>mvn -pl son</code> from the root which will resolve the dependency from your local cache..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1606309280,"post_id":65004670,"comment_id":114924661,"body_markdown":"The cache is on your local machine which you can delete any time if it becomes to large ... then everything will be downloaded again... except we are talking about a setup for a CI solution like Jenkins ... I suppose we are talking about local development on dev machine...","body":"The cache is on your local machine which you can delete any time if it becomes to large ... then everything will be downloaded again... except we are talking about a setup for a CI solution like Jenkins ... I suppose we are talking about local development on dev machine..."},{"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazıcı"},"score":0,"creation_date":1606309628,"post_id":65004670,"comment_id":114924822,"body_markdown":"Regarding running from the IDE... IntelliJ IDEA 2019.3.5 cannot run tests for `log4j-layout-template-json` module due to its complex setup. Hence, it is not an option always. Thanks for your kind *alternative* work arounds, though in the question I explicitly stated that I want to avoid `install` and want to do this using `mvn`, not an IDE.","body":"Regarding running from the IDE... IntelliJ IDEA 2019.3.5 cannot run tests for <code>log4j-layout-template-json</code> module due to its complex setup. Hence, it is not an option always. Thanks for your kind <i>alternative</i> work arounds, though in the question I explicitly stated that I want to avoid <code>install</code> and want to do this using <code>mvn</code>, not an IDE."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1606310097,"post_id":65004670,"comment_id":114925060,"body_markdown":"@VolkanYazıcı I guess it is good to have alternative approaches because the thing you asked for is probably not really possible.","body":"@VolkanYazıcı I guess it is good to have alternative approaches because the thing you asked for is probably not really possible."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1606310111,"post_id":65004670,"comment_id":114925071,"body_markdown":"If you can&#39;t run your tests from your IDE then the tests are too complex or wrongly done...and must be simplified/changed...Furthermore that is an indication to run such tests on a CI solution like Jenkins...   Apart from that I strongly recommend to upgrade your IDE ... 2020.2 (2020.3 is around the corner already in beta)... Do not use old Software...The test sounds more like an integration tests ? Complex setup? What is the real problem here? Because you are insistence on not to use `install` but you do ???","body":"If you can&#39;t run your tests from your IDE then the tests are too complex or wrongly done...and must be simplified/changed...Furthermore that is an indication to run such tests on a CI solution like Jenkins...   Apart from that I strongly recommend to upgrade your IDE ... 2020.2 (2020.3 is around the corner already in beta)... Do not use old Software...The test sounds more like an integration tests ? Complex setup? What is the real problem here? Because you are insistence on not to use <code>install</code> but you do ???"},{"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazıcı"},"score":0,"creation_date":1606312110,"post_id":65004670,"comment_id":114926076,"body_markdown":"@JFabianMeier, sadly, I think so. Just wanted to double-check before creating a Maven ticket.","body":"@JFabianMeier, sadly, I think so. Just wanted to double-check before creating a Maven ticket."}],"answers":[{"tags":[],"owner":{"account_id":16434980,"reputation":11,"user_id":11872795,"display_name":"Roiocam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673333563,"creation_date":1673333563,"answer_id":75066423,"question_id":65004670,"body_markdown":"I am stuck on this for a while, but eventually, I got the solution.\r\n\r\nThis is my condition:\r\n\r\n- I have many submodules: A, B, and C.  some of them are independent, and some of them are dependent.\r\n- I want to only run the Module-C test, but C dependence on A and B.\r\n- `mvn clean test -pl C ` does not work for me, because of 2.\r\n- `mvn clean test -pl C -am ` work for me, but it runs all of the module tests.\r\n\r\nThis is my thought:\r\n\r\nthe reason why `mvn clean test -pl C -am` run all tests, is because C has a dependence on A and B, So module C must compile A and B first, and then compile C.\r\n\r\nThese is the Resolutions:\r\n\r\n1. make parent Pom skip all of the module tests. \r\n2. make a profile on Module C, and enable the test.\r\n3. just run  `mvn clean test -DmoduleCTest=true`\r\n\r\nThe module C pom is like this, and another module is the same way but has diff profile id.\r\n\r\n```xml\r\n&lt;profiles&gt;\r\n    &lt;profile&gt;\r\n        &lt;id&gt;moduleCTest&lt;/id&gt;\r\n        &lt;activation&gt;\r\n            &lt;property&gt;\r\n                &lt;name&gt;moduleCTest&lt;/name&gt;\r\n                &lt;value&gt;true&lt;/value&gt;\r\n            &lt;/property&gt;\r\n        &lt;/activation&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;skipTests&gt;false&lt;/skipTests&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n\r\n```\r\n\r\n\r\n\r\n","title":"How to run tests only for a single Maven module?","body":"<p>I am stuck on this for a while, but eventually, I got the solution.</p>\n<p>This is my condition:</p>\n<ul>\n<li>I have many submodules: A, B, and C.  some of them are independent, and some of them are dependent.</li>\n<li>I want to only run the Module-C test, but C dependence on A and B.</li>\n<li><code>mvn clean test -pl C </code> does not work for me, because of 2.</li>\n<li><code>mvn clean test -pl C -am </code> work for me, but it runs all of the module tests.</li>\n</ul>\n<p>This is my thought:</p>\n<p>the reason why <code>mvn clean test -pl C -am</code> run all tests, is because C has a dependence on A and B, So module C must compile A and B first, and then compile C.</p>\n<p>These is the Resolutions:</p>\n<ol>\n<li>make parent Pom skip all of the module tests.</li>\n<li>make a profile on Module C, and enable the test.</li>\n<li>just run  <code>mvn clean test -DmoduleCTest=true</code></li>\n</ol>\n<p>The module C pom is like this, and another module is the same way but has diff profile id.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;moduleCTest&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;property&gt;\n                &lt;name&gt;moduleCTest&lt;/name&gt;\n                &lt;value&gt;true&lt;/value&gt;\n            &lt;/property&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;skipTests&gt;false&lt;/skipTests&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7647173,"reputation":2122,"user_id":5797400,"display_name":"jpllosa"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1676976663,"creation_date":1676976663,"answer_id":75519452,"question_id":65004670,"body_markdown":"On maven 3.3.9, I ran:\r\n\r\n`mvn test -pl :web-module`\r\n\r\nto ran the web module. In the POM, should look like this, `&lt;module&gt;web-module&lt;/module&gt;`, inside the `modules` tag.\r\n\r\nTo test a specific class inside that module:\r\n\r\n`mvn test -pl :web-module -Dtest=&quot;ClassUnderTest&quot;`","title":"How to run tests only for a single Maven module?","body":"<p>On maven 3.3.9, I ran:</p>\n<p><code>mvn test -pl :web-module</code></p>\n<p>to ran the web module. In the POM, should look like this, <code>&lt;module&gt;web-module&lt;/module&gt;</code>, inside the <code>modules</code> tag.</p>\n<p>To test a specific class inside that module:</p>\n<p><code>mvn test -pl :web-module -Dtest=&quot;ClassUnderTest&quot;</code></p>\n"}],"owner":{"account_id":1336198,"reputation":1595,"user_id":1278899,"accept_rate":20,"display_name":"Volkan Yazıcı"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2169,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1678890522,"creation_date":1606307109,"question_id":65004670,"body_markdown":"Given a Maven project with modules `dad` and `son`, where `son` depends on `dad`, `mvn -am -pl son test` runs the tests for `dad` too. Is there a way to avoid this and only run tests for `son` module?\r\n\r\nNote that there a couple of ways to achieve this, though each has its own caveats which I don&#39;t prefer:\r\n\r\n- Using `-Dtest=&quot;**/son/*Test.java&quot; -DfailIfNoTests=false` overrides the `maven-surefire-plugin` config in the module.\r\n- Similar to `-Dtest`, JUnit 5 tags could also be filtered, but this approach suffers from the same shortcoming aforementioned.\r\n- One can first do an `install -DskipTests=true` and then `mvn -pl son test`, though this pollutes the local Maven repository with partial work.","title":"How to run tests only for a single Maven module?","body":"<p>Given a Maven project with modules <code>dad</code> and <code>son</code>, where <code>son</code> depends on <code>dad</code>, <code>mvn -am -pl son test</code> runs the tests for <code>dad</code> too. Is there a way to avoid this and only run tests for <code>son</code> module?</p>\n<p>Note that there a couple of ways to achieve this, though each has its own caveats which I don't prefer:</p>\n<ul>\n<li>Using <code>-Dtest=&quot;**/son/*Test.java&quot; -DfailIfNoTests=false</code> overrides the <code>maven-surefire-plugin</code> config in the module.</li>\n<li>Similar to <code>-Dtest</code>, JUnit 5 tags could also be filtered, but this approach suffers from the same shortcoming aforementioned.</li>\n<li>One can first do an <code>install -DskipTests=true</code> and then <code>mvn -pl son test</code>, though this pollutes the local Maven repository with partial work.</li>\n</ul>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":15136060,"reputation":1,"user_id":10922542,"display_name":"shashi mishra"},"score":0,"creation_date":1547643863,"post_id":4968491,"comment_id":95317068,"body_markdown":"The resource type `PDDocument` does not implement `java.lang.AutoCloseable` so we can&#39;t go with try with resource for current scenario.","body":"The resource type <code>PDDocument</code> does not implement <code>java.lang.AutoCloseable</code> so we can&#39;t go with try with resource for current scenario."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1547724563,"post_id":4968491,"comment_id":95317069,"body_markdown":"Maybe you&#39;re using an old version of PDFBox. In 2.0.13 it is Closeable which extends AutoCloseable. Btw this is not an answer.","body":"Maybe you&#39;re using an old version of PDFBox. In 2.0.13 it is Closeable which extends AutoCloseable. Btw this is not an answer."}],"answers":[{"comments":[{"owner":{"account_id":303775,"reputation":131,"user_id":612918,"accept_rate":38,"display_name":"bonsai"},"score":0,"creation_date":1297672055,"post_id":4968514,"comment_id":5575305,"body_markdown":"Thanks Jon Skeet, this code solved 100% the problem, thanks :)","body":"Thanks Jon Skeet, this code solved 100% the problem, thanks :)"},{"owner":{"account_id":263475,"reputation":367,"user_id":549071,"accept_rate":54,"display_name":"AmirHossein"},"score":0,"creation_date":1374599738,"post_id":4968514,"comment_id":25999273,"body_markdown":"@Jon Skeet I use pdfbox in .net programming, I close &#39;doc&#39; but the Error There is still! what can I do?","body":"@Jon Skeet I use pdfbox in .net programming, I close &#39;doc&#39; but the Error There is still! what can I do?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1374601137,"post_id":4968514,"comment_id":26000099,"body_markdown":"@AmirHossein: it sounds like you should ask a new question.","body":"@AmirHossein: it sounds like you should ask a new question."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1297424136,"creation_date":1297424136,"answer_id":4968514,"question_id":4968491,"body_markdown":"You&#39;re loading a `PDDocument` but not closing it. I suspect you need to do:\r\n\r\n    String textOfPdf;\r\n    PDDocument doc = PDDocument.load(&quot;doc&quot;);\r\n    try {\r\n        textOfPdf = pdfs.getText(doc);\r\n    } finally {\r\n        doc.close();\r\n    }","title":"Java close PDF error","body":"<p>You're loading a <code>PDDocument</code> but not closing it. I suspect you need to do:</p>\n\n<pre><code>String textOfPdf;\nPDDocument doc = PDDocument.load(\"doc\");\ntry {\n    textOfPdf = pdfs.getText(doc);\n} finally {\n    doc.close();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":303775,"reputation":131,"user_id":612918,"accept_rate":38,"display_name":"bonsai"},"score":0,"creation_date":1297671949,"post_id":4968572,"comment_id":5575296,"body_markdown":"Thanks dogbane, but I don&#39;t know if I don&#39;t understand your answer.\nAnyway, I don&#39;t use COSDocument in any codeline, so I don&#39;t think that&#39;s the problem... :)","body":"Thanks dogbane, but I don&#39;t know if I don&#39;t understand your answer. Anyway, I don&#39;t use COSDocument in any codeline, so I don&#39;t think that&#39;s the problem... :)"},{"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"score":1,"creation_date":1297672288,"post_id":4968572,"comment_id":5575335,"body_markdown":"@bonsai The `PDDocument.load` method creates a `PDDocument` which has an underlying `COSDocument`. So you are implicitly using a `COSDocument` which needs to be closed. If you close the `PDDocument`, the underlying `COSDocument` is closed too.","body":"@bonsai The <code>PDDocument.load</code> method creates a <code>PDDocument</code> which has an underlying <code>COSDocument</code>. So you are implicitly using a <code>COSDocument</code> which needs to be closed. If you close the <code>PDDocument</code>, the underlying <code>COSDocument</code> is closed too."}],"tags":[],"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1297424469,"creation_date":1297424469,"answer_id":4968572,"question_id":4968491,"body_markdown":"This warning is emitted when the pdf document is finalised and hasn&#39;t been closed.\r\n\r\nHere is the `finalize` method from [COSDocument][1]:\r\n\r\n    /**\r\n     * Warn the user in the finalizer if he didn&#39;t close the PDF document. The method also\r\n     * closes the document just in case, to avoid abandoned temporary files. It&#39;s still a good\r\n     * idea for the user to close the PDF document at the earliest possible to conserve resources.\r\n     * @throws IOException if an error occurs while closing the temporary files\r\n     */\r\n    protected void finalize() throws IOException\r\n    {\r\n        if (!closed) {\r\n            if (warnMissingClose) {\r\n                log.warn( &quot;Warning: You did not close a PDF Document&quot; );\r\n            }\r\n            close();\r\n        }\r\n    }\r\n\r\nTo get rid of this warning, you should explicitly call `close` on the document when you are done with it.\r\n\r\n\r\n[1]: http://svn.apache.org/repos/asf/pdfbox/trunk/pdfbox/src/main/java/org/apache/pdfbox/cos/COSDocument.java","title":"Java close PDF error","body":"<p>This warning is emitted when the pdf document is finalised and hasn't been closed.</p>\n\n<p>Here is the <code>finalize</code> method from <a href=\"http://svn.apache.org/repos/asf/pdfbox/trunk/pdfbox/src/main/java/org/apache/pdfbox/cos/COSDocument.java\" rel=\"noreferrer\">COSDocument</a>:</p>\n\n<pre><code>/**\n * Warn the user in the finalizer if he didn't close the PDF document. The method also\n * closes the document just in case, to avoid abandoned temporary files. It's still a good\n * idea for the user to close the PDF document at the earliest possible to conserve resources.\n * @throws IOException if an error occurs while closing the temporary files\n */\nprotected void finalize() throws IOException\n{\n    if (!closed) {\n        if (warnMissingClose) {\n            log.warn( \"Warning: You did not close a PDF Document\" );\n        }\n        close();\n    }\n}\n</code></pre>\n\n<p>To get rid of this warning, you should explicitly call <code>close</code> on the document when you are done with it.</p>\n"},{"comments":[{"owner":{"account_id":2907664,"reputation":358,"user_id":2492569,"display_name":"danny"},"score":1,"creation_date":1497268110,"post_id":31253584,"comment_id":75990371,"body_markdown":"btw, try-with-resources exists since Java 7.","body":"btw, try-with-resources exists since Java 7."}],"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1497275675,"creation_date":1436209243,"answer_id":31253584,"question_id":4968491,"body_markdown":"Just had this issue, too. With Java 7 you can do this:\r\n\r\n    try(PDDocument document = PDDocument.load(input)) {\r\n      // do something  \r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n\r\nBecause `PDDocument implements Closeable`, the `try` block will automagically call its `close()` method at the end.","title":"Java close PDF error","body":"<p>Just had this issue, too. With Java 7 you can do this:</p>\n\n<pre><code>try(PDDocument document = PDDocument.load(input)) {\n  // do something  \n} catch (IOException e) {\n  e.printStackTrace();\n}\n</code></pre>\n\n<p>Because <code>PDDocument implements Closeable</code>, the <code>try</code> block will automagically call its <code>close()</code> method at the end.</p>\n"},{"tags":[],"owner":{"account_id":19046906,"reputation":1,"user_id":13905908,"display_name":"Richard N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678890379,"creation_date":1678890379,"answer_id":75746086,"question_id":4968491,"body_markdown":"For anybody using Kotlin, the extension function *use* takes care of any Closable for you:\r\n\r\n\r\n    val textOfPdf = PDDocument.load(&quot;doc&quot;).use { pdfs.getText(it) }\r\n\r\ncf. https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html","title":"Java close PDF error","body":"<p>For anybody using Kotlin, the extension function <em>use</em> takes care of any Closable for you:</p>\n<pre><code>val textOfPdf = PDDocument.load(&quot;doc&quot;).use { pdfs.getText(it) }\n</code></pre>\n<p>cf. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html</a></p>\n"}],"owner":{"account_id":303775,"reputation":131,"user_id":612918,"accept_rate":38,"display_name":"bonsai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20931,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":4968514,"answer_count":4,"score":9,"last_activity_date":1678890379,"creation_date":1297423887,"question_id":4968491,"body_markdown":"I have this java code:\r\n\r\n    try {\r\n    \tPDFTextStripper pdfs = new PDFTextStripper();\r\n    \r\n    \tString textOfPDF = pdfs.getText(PDDocument.load(&quot;doc&quot;));\r\n    \r\n    \tdoc.add(new Field(campo.getDestino(),\r\n    \t\t\ttextOfPDF,\r\n    \t\t\tField.Store.NO,\r\n    \t\t\tField.Index.ANALYZED));\r\n    \r\n    } catch (Exception exep) {\r\n    \tSystem.out.println(exep);\r\n    \tSystem.out.println(&quot;PDF fail&quot;);\r\n    }\r\n\r\n\r\nAnd throws this:\r\n\r\n    11:45:07,017 WARN  [COSDocument] Warning: You did not close a PDF Document\r\n\r\nAnd I don&#39;t know why but throw this 1, 2, 3, or more.\r\n\r\nI find that COSDocument is a class and have close() method, but I don&#39;t use this class nowhere.\r\n\r\n\r\nI have this imports:\r\n\r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.util.PDFTextStripper;\r\n\r\nThanks :)","title":"Java close PDF error","body":"<p>I have this java code:</p>\n\n<pre><code>try {\n    PDFTextStripper pdfs = new PDFTextStripper();\n\n    String textOfPDF = pdfs.getText(PDDocument.load(\"doc\"));\n\n    doc.add(new Field(campo.getDestino(),\n            textOfPDF,\n            Field.Store.NO,\n            Field.Index.ANALYZED));\n\n} catch (Exception exep) {\n    System.out.println(exep);\n    System.out.println(\"PDF fail\");\n}\n</code></pre>\n\n<p>And throws this:</p>\n\n<pre><code>11:45:07,017 WARN  [COSDocument] Warning: You did not close a PDF Document\n</code></pre>\n\n<p>And I don't know why but throw this 1, 2, 3, or more.</p>\n\n<p>I find that COSDocument is a class and have close() method, but I don't use this class nowhere.</p>\n\n<p>I have this imports:</p>\n\n<pre><code>import org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.util.PDFTextStripper;\n</code></pre>\n\n<p>Thanks :)</p>\n"},{"tags":["java","service","sql++"],"answers":[{"tags":[],"owner":{"account_id":8066583,"reputation":7244,"user_id":6080536,"display_name":"vsr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678890289,"creation_date":1678890289,"answer_id":75746059,"question_id":75704393,"body_markdown":"You can add separate node with query service.\r\nYou will not able to add service existing node (unless remove the node and re add)","title":"Enabling Query Service in Couchbase","body":"<p>You can add separate node with query service.\nYou will not able to add service existing node (unless remove the node and re add)</p>\n"}],"owner":{"account_id":27989913,"reputation":1,"user_id":21375996,"display_name":"Vinay Salunke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678890289,"creation_date":1678531895,"question_id":75704393,"body_markdown":"Creating this topic as i have query on the couchbase.\r\n\r\nI have setup. cocuhabase Node and i have missed to enable the query service while setting up the node.\r\n\r\nCan somone help me to enable the query service as i need to run som N1QL queries from the console,\r\n\r\nHi Team\r\n\r\nCreating this topic as i have query on the couchbase.\r\n\r\nI have setup. cocuhabase Node and i have missed to enable the query service while setting up the node.\r\n\r\nCan someone help me to enable the query service as i need to run som N1QL queries from the console,","title":"Enabling Query Service in Couchbase","body":"<p>Creating this topic as i have query on the couchbase.</p>\n<p>I have setup. cocuhabase Node and i have missed to enable the query service while setting up the node.</p>\n<p>Can somone help me to enable the query service as i need to run som N1QL queries from the console,</p>\n<p>Hi Team</p>\n<p>Creating this topic as i have query on the couchbase.</p>\n<p>I have setup. cocuhabase Node and i have missed to enable the query service while setting up the node.</p>\n<p>Can someone help me to enable the query service as i need to run som N1QL queries from the console,</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1678898561,"post_id":75746014,"comment_id":133623723,"body_markdown":"Not possible. No app will listen to a mime type specification.","body":"Not possible. No app will listen to a mime type specification."}],"owner":{"account_id":34170,"reputation":5366,"user_id":96313,"accept_rate":40,"display_name":"Viktor Brešan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678890055,"creation_date":1678890055,"question_id":75746014,"body_markdown":"From my app, I want to launch a default file manager that will filter content based on mime type that I provide. **I am not interested in the eventual user-selected file, i.e. I don&#39;t want the file content or control to be returned back to my app. Instead, I want the file manager to show default choices once the file is selected.**\r\n\r\nI wasn&#39;t able to find any documentation or code samples that would achieve such a thing. \r\n\r\nObviously, these are not intents with actions:\r\n\r\n    Intent.ACTION_GET_CONTENT\r\n    Intent.ACTION_OPEN_DOCUMENT\r\n\r\n","title":"How to launch default file manager with mime type filtering - while not being interested in picked file?","body":"<p>From my app, I want to launch a default file manager that will filter content based on mime type that I provide. <strong>I am not interested in the eventual user-selected file, i.e. I don't want the file content or control to be returned back to my app. Instead, I want the file manager to show default choices once the file is selected.</strong></p>\n<p>I wasn't able to find any documentation or code samples that would achieve such a thing.</p>\n<p>Obviously, these are not intents with actions:</p>\n<pre><code>Intent.ACTION_GET_CONTENT\nIntent.ACTION_OPEN_DOCUMENT\n</code></pre>\n"},{"tags":["java","apache-kafka","memory-leaks","spring-kafka","bytebuffer"],"owner":{"account_id":21472532,"reputation":91,"user_id":15821295,"display_name":"Taliebram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678889985,"creation_date":1678107340,"question_id":75651128,"body_markdown":"We have a service that listens on an mqtt channel for measurements. After some conversions these measurements get put on kafka. This all works fairly well, but there is a memory leak, somewhere, which I can&#39;t pinpoint.\r\n\r\nThe memory profile of my application can be seen here:\r\n\r\n[![Memory leak over time][1]][1]\r\n\r\nThe yellow line corresponds to the direct byte buffer pool.\r\n\r\nAfter investigating the heap dump with MAT and applying this OQL query: `SELECT x AS ByteBuffer, x.capacity AS Capacity, x.limit AS Limit, x.mark AS Mark, x.position AS Position FROM java.nio.DirectByteBuffer x WHERE ((x.capacity &gt; (1024 * 1024)) and (x.cleaner != null))` we see that there are roughly 400 direct bytebuffers, each with a capacity of roughly 4MB. \r\n\r\n[![OQL response][2]][2]\r\n\r\nIf you follow this to the GC root you see that it is used by a kafka producer:\r\n[![GC root][3]][3]\r\n\r\nThis led me to applying this OQL query: `select * from org.apache.kafka.common.utils.KafkaThread` which returns the following response:\r\n[![OQL Kafka threads response][4]][4]\r\n\r\nWhich seems like a logical response, however if you dive a bit deeper into the contents of the kafka producer you see that it is keeping a lot of direct byte buffers:\r\n[![kafka thread expand][5]][5]\r\n\r\n\r\nThe producer gets made here:\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class BxKafkaProducerFactory {\r\n\r\n    private final KafkaProperties kafkaProperties;\r\n\r\n    public &lt;K, V&gt; Producer&lt;K, V&gt; getProducer() {\r\n        return new KafkaProducer&lt;&gt;(getKafkaProducerProperties());\r\n    }\r\n}\r\n```\r\nWe use default settings for almost all things. Whe use `acks=all`, the lingering time is `100ms`, security protocol `SASL_PLAINTEXT`, `PLAIN` for the saslMechanism,KafkaAvroSerializer for the key and value serializer, compression type of `snappy`. The same settings we use in different (relatable) services where we don&#39;t see this memory issue.\r\n\r\nWe just have 3 producers that get created on startup, and removed on shutdown, so it is not that we are leaking producers (I checked this by adding a log statement on the producer creation). It looks more like the producers themselves are leaking memory. \r\n\r\nDoes anybody have any idea what could cause this? Or have any good pointers on how to debug this next? As you can see in the first image the memory is steadily increasing and it doesn&#39;t come down even after a week or so.\r\n\r\nEDIT:\r\n\r\nAfter some more debugging and following all the byte buffers to their gc root, we see this progress:\r\n\r\n```\r\n15:23\r\nTotal 18:\r\nGlobalStream: 1\r\nHearthBeat: 1\r\nJava Thread: 1\r\nNio FastThread: 5\r\nProducer 1: 1\r\nProducer 2: 2\r\nProducer 3: 2\r\nCleaner: 5\r\n\r\n16:04\r\nTotal 23:\r\nGlobalStream: HearthBeat 1\r\nJava Thread: 1\r\nNio FashThread: 6\r\nProducer 1: 0\r\nProducer 2: 8\r\nProdcuer 3: 2\r\nCleaner: 4\r\n\r\n17:04\r\nTotal 25:\r\nGlobalStream: HearthBeat 2\r\nJava Thread: 1\r\nNio FashThread: 7\r\nProducer 1: 2\r\nProducer 2: 8\r\nProdcuer 3: 4\r\nCleaner: 0\r\n```\r\n\r\nWe clearly see the number of bytebuffers of the kafka producer increasing over time. This also matches to the jvm metrics we catch:\r\n[![DirectByteBuffer bumps][6]][6]\r\n\r\n\r\nThanks in advance!\r\n\r\nPS: I have also investigated it with jeprof and jemalloc, but couldn&#39;t find anomalies there.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kIDo1.png\r\n  [2]: https://i.stack.imgur.com/KXsoG.png\r\n  [3]: https://i.stack.imgur.com/EBd6K.png\r\n  [4]: https://i.stack.imgur.com/1RG8s.png\r\n  [5]: https://i.stack.imgur.com/hMXDO.png\r\n  [6]: https://i.stack.imgur.com/LASGZ.png","title":"Kafka producer, direct byte buffer memory leak","body":"<p>We have a service that listens on an mqtt channel for measurements. After some conversions these measurements get put on kafka. This all works fairly well, but there is a memory leak, somewhere, which I can't pinpoint.</p>\n<p>The memory profile of my application can be seen here:</p>\n<p><a href=\"https://i.stack.imgur.com/kIDo1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kIDo1.png\" alt=\"Memory leak over time\" /></a></p>\n<p>The yellow line corresponds to the direct byte buffer pool.</p>\n<p>After investigating the heap dump with MAT and applying this OQL query: <code>SELECT x AS ByteBuffer, x.capacity AS Capacity, x.limit AS Limit, x.mark AS Mark, x.position AS Position FROM java.nio.DirectByteBuffer x WHERE ((x.capacity &gt; (1024 * 1024)) and (x.cleaner != null))</code> we see that there are roughly 400 direct bytebuffers, each with a capacity of roughly 4MB.</p>\n<p><a href=\"https://i.stack.imgur.com/KXsoG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KXsoG.png\" alt=\"OQL response\" /></a></p>\n<p>If you follow this to the GC root you see that it is used by a kafka producer:\n<a href=\"https://i.stack.imgur.com/EBd6K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EBd6K.png\" alt=\"GC root\" /></a></p>\n<p>This led me to applying this OQL query: <code>select * from org.apache.kafka.common.utils.KafkaThread</code> which returns the following response:\n<a href=\"https://i.stack.imgur.com/1RG8s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1RG8s.png\" alt=\"OQL Kafka threads response\" /></a></p>\n<p>Which seems like a logical response, however if you dive a bit deeper into the contents of the kafka producer you see that it is keeping a lot of direct byte buffers:\n<a href=\"https://i.stack.imgur.com/hMXDO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMXDO.png\" alt=\"kafka thread expand\" /></a></p>\n<p>The producer gets made here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class BxKafkaProducerFactory {\n\n    private final KafkaProperties kafkaProperties;\n\n    public &lt;K, V&gt; Producer&lt;K, V&gt; getProducer() {\n        return new KafkaProducer&lt;&gt;(getKafkaProducerProperties());\n    }\n}\n</code></pre>\n<p>We use default settings for almost all things. Whe use <code>acks=all</code>, the lingering time is <code>100ms</code>, security protocol <code>SASL_PLAINTEXT</code>, <code>PLAIN</code> for the saslMechanism,KafkaAvroSerializer for the key and value serializer, compression type of <code>snappy</code>. The same settings we use in different (relatable) services where we don't see this memory issue.</p>\n<p>We just have 3 producers that get created on startup, and removed on shutdown, so it is not that we are leaking producers (I checked this by adding a log statement on the producer creation). It looks more like the producers themselves are leaking memory.</p>\n<p>Does anybody have any idea what could cause this? Or have any good pointers on how to debug this next? As you can see in the first image the memory is steadily increasing and it doesn't come down even after a week or so.</p>\n<p>EDIT:</p>\n<p>After some more debugging and following all the byte buffers to their gc root, we see this progress:</p>\n<pre><code>15:23\nTotal 18:\nGlobalStream: 1\nHearthBeat: 1\nJava Thread: 1\nNio FastThread: 5\nProducer 1: 1\nProducer 2: 2\nProducer 3: 2\nCleaner: 5\n\n16:04\nTotal 23:\nGlobalStream: HearthBeat 1\nJava Thread: 1\nNio FashThread: 6\nProducer 1: 0\nProducer 2: 8\nProdcuer 3: 2\nCleaner: 4\n\n17:04\nTotal 25:\nGlobalStream: HearthBeat 2\nJava Thread: 1\nNio FashThread: 7\nProducer 1: 2\nProducer 2: 8\nProdcuer 3: 4\nCleaner: 0\n</code></pre>\n<p>We clearly see the number of bytebuffers of the kafka producer increasing over time. This also matches to the jvm metrics we catch:\n<a href=\"https://i.stack.imgur.com/LASGZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LASGZ.png\" alt=\"DirectByteBuffer bumps\" /></a></p>\n<p>Thanks in advance!</p>\n<p>PS: I have also investigated it with jeprof and jemalloc, but couldn't find anomalies there.</p>\n"},{"tags":["java","spring","intellij-idea"],"comments":[{"owner":{"account_id":1948424,"reputation":12649,"user_id":1753073,"display_name":"navylover"},"score":1,"creation_date":1644469065,"post_id":71059967,"comment_id":125616768,"body_markdown":"why do you think this is &quot;wrong&quot;?","body":"why do you think this is &quot;wrong&quot;?"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1644469117,"post_id":71059967,"comment_id":125616776,"body_markdown":"Is there any reason to have the test classes in main/java instead of test/java. Typically you wont ship test classes with the final product.","body":"Is there any reason to have the test classes in main/java instead of test/java. Typically you wont ship test classes with the final product."},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1644472138,"post_id":71059967,"comment_id":125617270,"body_markdown":"src/test/java is the standard test directory location for maven projects (https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html).","body":"src/test/java is the standard test directory location for maven projects (<a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>)."},{"owner":{"account_id":10878273,"reputation":334,"user_id":7998077,"display_name":"iambk"},"score":1,"creation_date":1644476285,"post_id":71059967,"comment_id":125618160,"body_markdown":"It is weird, shouldn&#39;t be happening. Do you see the `java` folder under `src/test`?","body":"It is weird, shouldn&#39;t be happening. Do you see the <code>java</code> folder under <code>src&#47;test</code>?"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1644500258,"post_id":71059967,"comment_id":125626891,"body_markdown":"Nope, no /java directory gets created there.","body":"Nope, no /java directory gets created there."}],"answers":[{"tags":[],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678889876,"creation_date":1644530456,"answer_id":71072818,"question_id":71059967,"body_markdown":"I ran some tests and it seems the problem arises when you don&#39;t already have that test directory location, *src/test/java*, in your project layout. \r\n\r\nIf you don&#39;t have it already you can create it via the IntelliJ Project Structure panel (&lt;kbd&gt;Ctrl+Alt+Shift+S&lt;/kbd&gt;, then click *Modules*). \r\n\r\nI do notice that if you open an existing maven project into IntelliJ (File &gt; Open) that already has that standard test library directory in its layout structure, IntelliJ does actually seem to know to put its generated test classes into that directory.","title":"IntelliJ generates java test class in non-standard location","body":"<p>I ran some tests and it seems the problem arises when you don't already have that test directory location, <em>src/test/java</em>, in your project layout.</p>\n<p>If you don't have it already you can create it via the IntelliJ Project Structure panel (<kbd>Ctrl+Alt+Shift+S</kbd>, then click <em>Modules</em>).</p>\n<p>I do notice that if you open an existing maven project into IntelliJ (File &gt; Open) that already has that standard test library directory in its layout structure, IntelliJ does actually seem to know to put its generated test classes into that directory.</p>\n"}],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71072818,"answer_count":1,"score":0,"last_activity_date":1678889876,"creation_date":1644468798,"question_id":71059967,"body_markdown":"I have a Spring Boot app using maven as the build tool and I&#39;m working from within IntelliJ IDEA. When I have IntelliJ generate a test from an existing class (&lt;kbd&gt;Ctl&lt;/kbd&gt;+ &lt;kbd&gt;Shift&lt;/kbd&gt;+ &lt;kbd&gt;T&lt;/kbd&gt;), IntelliJ puts that test class into the corresponding package under directory *src/test*, followed by the package name, rather than the [maven standard][1] *src/test/java*. \r\n\r\nThe source class from which I’m asking IntelliJ to generate a test class is under *src/main/java*, the standard maven source directory. So I would expect the generated test to end up by default under the corresponding *src/test/java* location, since that’s the standard maven test directory.\r\n\r\nIt seems strange to me that IntelliJ would put tests directly under *src/test* rather than the standard *src/test/java*. Is there some setting in IntelliJ to specify where the generated classes go?\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","title":"IntelliJ generates java test class in non-standard location","body":"<p>I have a Spring Boot app using maven as the build tool and I'm working from within IntelliJ IDEA. When I have IntelliJ generate a test from an existing class (<kbd>Ctl</kbd>+ <kbd>Shift</kbd>+ <kbd>T</kbd>), IntelliJ puts that test class into the corresponding package under directory <em>src/test</em>, followed by the package name, rather than the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">maven standard</a> <em>src/test/java</em>.</p>\n<p>The source class from which I’m asking IntelliJ to generate a test class is under <em>src/main/java</em>, the standard maven source directory. So I would expect the generated test to end up by default under the corresponding <em>src/test/java</em> location, since that’s the standard maven test directory.</p>\n<p>It seems strange to me that IntelliJ would put tests directly under <em>src/test</em> rather than the standard <em>src/test/java</em>. Is there some setting in IntelliJ to specify where the generated classes go?</p>\n"},{"tags":["java","cookies","weblogic12c"],"owner":{"account_id":3002295,"reputation":475,"user_id":2547551,"display_name":"Jameson_uk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678889494,"creation_date":1678889494,"question_id":75745899,"body_markdown":"I have an Oracle application running on Weblogic (OAS) that has some additional functionality deployed as an EJB.\r\n\r\nThat EJB interacts with an external service and in doing so makes calls out to to get a SAML token but in doing so it needs to pass some cookies around.\r\n\r\nNow I currently have this setup in my EJB\r\n```\r\nCookieManagemer cm = new CookieManager();\r\nCookieHandler.setDefault(cm);\r\n```\r\nwhich works but as the EJB is deployed to the same managed server as the main application they are running in the same JVM so the `setDefault` means this CookieHandler is then used across all the deployments on the managed server.\r\n\r\nAIUI running `CookieHandler.getDefault()` in another deployment would give me access to these cookies which I would prefer to be isolated to the specific deployment in which they are needed.\r\n\r\nIdeally I need to avoid using something like the Apache HTTP client as that causes some conflicts with some of the Weblogic classes that are used elsewhere in the EJB so would like to use standard JDK functionality.\r\n\r\nOther than manually reading the response headers, parsing the `Set-Cookie headers`, adding cookies back as request headers I am struggling to find a clean way of doing this (the manual approach gets quite messy when redirects are involved too).\r\n\r\nAny suggestions on how to handle this?","title":"Isolate Cookies to Weblogic application where they are needed","body":"<p>I have an Oracle application running on Weblogic (OAS) that has some additional functionality deployed as an EJB.</p>\n<p>That EJB interacts with an external service and in doing so makes calls out to to get a SAML token but in doing so it needs to pass some cookies around.</p>\n<p>Now I currently have this setup in my EJB</p>\n<pre><code>CookieManagemer cm = new CookieManager();\nCookieHandler.setDefault(cm);\n</code></pre>\n<p>which works but as the EJB is deployed to the same managed server as the main application they are running in the same JVM so the <code>setDefault</code> means this CookieHandler is then used across all the deployments on the managed server.</p>\n<p>AIUI running <code>CookieHandler.getDefault()</code> in another deployment would give me access to these cookies which I would prefer to be isolated to the specific deployment in which they are needed.</p>\n<p>Ideally I need to avoid using something like the Apache HTTP client as that causes some conflicts with some of the Weblogic classes that are used elsewhere in the EJB so would like to use standard JDK functionality.</p>\n<p>Other than manually reading the response headers, parsing the <code>Set-Cookie headers</code>, adding cookies back as request headers I am struggling to find a clean way of doing this (the manual approach gets quite messy when redirects are involved too).</p>\n<p>Any suggestions on how to handle this?</p>\n"},{"tags":["java","azure-active-directory","microsoft-graph-api","azure-identity"],"answers":[{"comments":[{"owner":{"account_id":7184196,"reputation":129,"user_id":5486863,"display_name":"Mark Rensen"},"score":0,"creation_date":1682848052,"post_id":75744741,"comment_id":134276959,"body_markdown":"Thanks for your answer and sorry for the late reply. These steps didn&#39;t work for my original application, but when I registered a new application in the Azure Portal, these steps did the trick. \n\nI&#39;ve registered a &quot;redirect URI&quot; and a &quot;Secret&quot; with the original app and not with the new app. Can that be the cause of the problem why I can&#39;t have coworkers login via &quot;device code&quot;? I&#39;ve build a SpringBoot OAuth login using the original app, and now my coworkers can log in without the prompt for admin consent.","body":"Thanks for your answer and sorry for the late reply. These steps didn&#39;t work for my original application, but when I registered a new application in the Azure Portal, these steps did the trick.   I&#39;ve registered a &quot;redirect URI&quot; and a &quot;Secret&quot; with the original app and not with the new app. Can that be the cause of the problem why I can&#39;t have coworkers login via &quot;device code&quot;? I&#39;ve build a SpringBoot OAuth login using the original app, and now my coworkers can log in without the prompt for admin consent."}],"tags":[],"owner":{"account_id":24283882,"reputation":7657,"user_id":18229928,"display_name":"Rukmini"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678889261,"creation_date":1678883568,"answer_id":75744741,"question_id":75737945,"body_markdown":"***I tried to reproduce the same in my environment and got the similar error like below:***\r\n\r\n![enter image description here](https://i.stack.imgur.com/8UDql.png)\r\n\r\nThe error &quot;*Admin consent is required for the permissions requested by this application. Ask your tenant administrator to provide consent for this application*&quot; usually occurs if the admin consent is not granted to the API permissions of the Azure AD Application.\r\n\r\nAs mentioned, you have granted Admin consent to the API permissions. To resolve the error, try the below:\r\n\r\n*Go to Azure Portal -&gt; Enterprise Applications -&gt; Consent and Permissions -&gt; User consent settings*\r\n\r\nCheck whether the `Do not allow user consent` is enabled, if yes set the setting to **`Allow user consent for apps`** like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/ld2KZ.png)\r\n\r\nOtherwise, try granting **tenant-wide admin consent** like below:\r\n```json\r\nhttps://login.microsoftonline.com/  \r\nOrganisation/adminconsent?client_id=ClientID\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/A9c5O.png)\r\n\r\nSet Assignment required setting as **`NO`** like below:\r\n\r\n![enter image description here](https://i.stack.imgur.com/Jokde.png)","title":"Why do my collegues keep getting the &quot;admin consent required&quot; page, but I don&#39;t when trying to log into my MSGraph cl-app?","body":"<p><em><strong>I tried to reproduce the same in my environment and got the similar error like below:</strong></em></p>\n<p><img src=\"https://i.stack.imgur.com/8UDql.png\" alt=\"enter image description here\" /></p>\n<p>The error &quot;<em>Admin consent is required for the permissions requested by this application. Ask your tenant administrator to provide consent for this application</em>&quot; usually occurs if the admin consent is not granted to the API permissions of the Azure AD Application.</p>\n<p>As mentioned, you have granted Admin consent to the API permissions. To resolve the error, try the below:</p>\n<p><em>Go to Azure Portal -&gt; Enterprise Applications -&gt; Consent and Permissions -&gt; User consent settings</em></p>\n<p>Check whether the <code>Do not allow user consent</code> is enabled, if yes set the setting to <strong><code>Allow user consent for apps</code></strong> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/ld2KZ.png\" alt=\"enter image description here\" /></p>\n<p>Otherwise, try granting <strong>tenant-wide admin consent</strong> like below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>https://login.microsoftonline.com/  \nOrganisation/adminconsent?client_id=ClientID\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/A9c5O.png\" alt=\"enter image description here\" /></p>\n<p>Set Assignment required setting as <strong><code>NO</code></strong> like below:</p>\n<p><img src=\"https://i.stack.imgur.com/Jokde.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":7184196,"reputation":129,"user_id":5486863,"display_name":"Mark Rensen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75744741,"answer_count":1,"score":0,"last_activity_date":1678889261,"creation_date":1678824773,"question_id":75737945,"body_markdown":"I&#39;ve made a command-line app in java that uses the MS Graph api. It interacts with my school&#39;s Teams environment, so it largely uses the Education api from MS Graph, which consists almost solely of &quot;admin consent&quot; endpoints.\r\n\r\nI have based my app on the &quot;build java apps with microsoft Graph&quot; tutorial: https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad\r\n\r\nThe login in my app is still exactly the same: https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad&amp;tutorial-step=3\r\n\r\nIn Azure AD we (the admin and I) have consented to all the permissions. [![permissions granted][1]][1]\r\n\r\nBut still the app asks for admin consent when someone besides myself tries to log in.\r\nIt gives the response: **90094 Admin consent is required for the permissions requested by this application. Ask your tenant administrator to provide consent for this application.**\r\n\r\nMy collegues have the same permissions as I have. We&#39;ve checked and compared, but our accounts seem identical. \r\n\r\nIt is a mystery to me why my collegues can&#39;t log in. \r\nAny advice is appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1rpPx.png","title":"Why do my collegues keep getting the &quot;admin consent required&quot; page, but I don&#39;t when trying to log into my MSGraph cl-app?","body":"<p>I've made a command-line app in java that uses the MS Graph api. It interacts with my school's Teams environment, so it largely uses the Education api from MS Graph, which consists almost solely of &quot;admin consent&quot; endpoints.</p>\n<p>I have based my app on the &quot;build java apps with microsoft Graph&quot; tutorial: <a href=\"https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad</a></p>\n<p>The login in my app is still exactly the same: <a href=\"https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad&amp;tutorial-step=3\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/tutorials/java?tabs=aad&amp;tutorial-step=3</a></p>\n<p>In Azure AD we (the admin and I) have consented to all the permissions. <a href=\"https://i.stack.imgur.com/1rpPx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1rpPx.png\" alt=\"permissions granted\" /></a></p>\n<p>But still the app asks for admin consent when someone besides myself tries to log in.\nIt gives the response: <strong>90094 Admin consent is required for the permissions requested by this application. Ask your tenant administrator to provide consent for this application.</strong></p>\n<p>My collegues have the same permissions as I have. We've checked and compared, but our accounts seem identical.</p>\n<p>It is a mystery to me why my collegues can't log in.\nAny advice is appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1678888170,"post_id":75745591,"comment_id":133620173,"body_markdown":"BTW there is no inner class in posted code - only nested interfaces. At least using official nomenclature - Java Language Specification [8.1.3. Inner Classes and Enclosing Instances](https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.3) states: &quot;*An inner class is a nested class that is not explicitly or implicitly static.*&quot; - an interface is not a class and always `static` (&quot;*A nested interface is implicitly static.*&quot;)","body":"BTW there is no inner class in posted code - only nested interfaces. At least using official nomenclature - Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">8.1.3. Inner Classes and Enclosing Instances</a> states: &quot;<i>An inner class is a nested class that is not explicitly or implicitly static.</i>&quot; - an interface is not a class and always <code>static</code> (&quot;<i>A nested interface is implicitly static.</i>&quot;)"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1678888176,"post_id":75745591,"comment_id":133620176,"body_markdown":"Make an `interface MyInnerClasses { }`, have those inner classes implement (or extend for co-interfaces) it, and then you would accept a `Class&lt;? extends MyInnerClasses&gt;`","body":"Make an <code>interface MyInnerClasses { }</code>, have those inner classes implement (or extend for co-interfaces) it, and then you would accept a <code>Class&lt;? extends MyInnerClasses&gt;</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678900989,"post_id":75745591,"comment_id":133624444,"body_markdown":"Another option is making the first line of myFunction `if (!Views.class.equals(viewsClass.getEnclosingClass())) throw new IllegalArgumentException(&quot;Not a nested class of Views: &quot; + viewsClass);`","body":"Another option is making the first line of myFunction <code>if (!Views.class.equals(viewsClass.getEnclosingClass())) throw new IllegalArgumentException(&quot;Not a nested class of Views: &quot; + viewsClass);</code>"}],"answers":[{"tags":[],"owner":{"account_id":463036,"reputation":5207,"user_id":865695,"accept_rate":56,"display_name":"Sebastian"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678888181,"creation_date":1678888181,"answer_id":75745617,"question_id":75745591,"body_markdown":"That&#39;s not directly possible. Simply have all the inner classes implement the same empty interface (or the inner interfaces extend this empty interface)\r\n\r\nThen just use the interface in the signature instead of Class&lt;&gt;.","title":"How to define a generic type parameter for inner class in Java","body":"<p>That's not directly possible. Simply have all the inner classes implement the same empty interface (or the inner interfaces extend this empty interface)</p>\n<p>Then just use the interface in the signature instead of Class&lt;&gt;.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678888470,"creation_date":1678888470,"answer_id":75745683,"question_id":75745591,"body_markdown":"The only way to do this is to provide three overloads, one for each of your inner classes:\r\n\r\n```\r\npublic String myFunction(Internal instance) { ... }\r\n\r\npublic String myFunction(Public instance) { ... }\r\n\r\npublic String myFunction(Export instance) { ... }\r\n```\r\n\r\nThere is no type relationship between these inner classes; but if there is something you can do with `instance` as an `Object`, you can have these overloads each delegate to a private method:\r\n\r\n```\r\npublic String myFunction(Internal instance) { return myFunctionInternal(instance); }\r\n\r\npublic String myFunction(Public instance) { return myFunctionInternal(instance); }\r\n\r\npublic String myFunction(Export instance) { return myFunctionInternal(instance); }\r\n\r\nprivate String myFunctionInternal(Object instance) { ... }\r\n\r\n```","title":"How to define a generic type parameter for inner class in Java","body":"<p>The only way to do this is to provide three overloads, one for each of your inner classes:</p>\n<pre><code>public String myFunction(Internal instance) { ... }\n\npublic String myFunction(Public instance) { ... }\n\npublic String myFunction(Export instance) { ... }\n</code></pre>\n<p>There is no type relationship between these inner classes; but if there is something you can do with <code>instance</code> as an <code>Object</code>, you can have these overloads each delegate to a private method:</p>\n<pre><code>public String myFunction(Internal instance) { return myFunctionInternal(instance); }\n\npublic String myFunction(Public instance) { return myFunctionInternal(instance); }\n\npublic String myFunction(Export instance) { return myFunctionInternal(instance); }\n\nprivate String myFunctionInternal(Object instance) { ... }\n\n</code></pre>\n"}],"owner":{"account_id":976610,"reputation":1541,"user_id":997566,"accept_rate":69,"display_name":"Nayan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75745617,"answer_count":2,"score":0,"last_activity_date":1678888470,"creation_date":1678888015,"question_id":75745591,"body_markdown":"I&#39;ve the following interface: \r\n\r\n    public interface Views {\r\n        \r\n        interface Internal extends Public, Export {}\r\n       \r\n        interface Public {}\r\n    \r\n        interface Export {}\r\n    }\r\n\r\nI want to write a function that&#39;ll receive a `Class` of any of the inner classes of my `Views` class. Here is a sample: \r\n\r\n    public String myFunction(Class viewsClass) {\r\n    \r\n    }\r\n\r\nHow can I restrict the `viewsClass` parameter so that it&#39;ll only allow inner classes of the `Views` class? If there was a child, I would&#39;ve used something like `Class &lt;? extends Views&gt;`. Is there anything similar for this case?","title":"How to define a generic type parameter for inner class in Java","body":"<p>I've the following interface:</p>\n<pre><code>public interface Views {\n    \n    interface Internal extends Public, Export {}\n   \n    interface Public {}\n\n    interface Export {}\n}\n</code></pre>\n<p>I want to write a function that'll receive a <code>Class</code> of any of the inner classes of my <code>Views</code> class. Here is a sample:</p>\n<pre><code>public String myFunction(Class viewsClass) {\n\n}\n</code></pre>\n<p>How can I restrict the <code>viewsClass</code> parameter so that it'll only allow inner classes of the <code>Views</code> class? If there was a child, I would've used something like <code>Class &lt;? extends Views&gt;</code>. Is there anything similar for this case?</p>\n"},{"tags":["java","json","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1678860894,"post_id":75740859,"comment_id":133613125,"body_markdown":"Can you check what are you getting when calling responseEntity.getBody()","body":"Can you check what are you getting when calling responseEntity.getBody()"},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1678863099,"post_id":75740859,"comment_id":133613502,"body_markdown":"I am pretty sure that&#39;s due to the fact that the generic type parameter is Object and not the concrete type. I don&#39;t think RestTemplate can handle it like that. I think the best option is to probably use JsonNode as a response type and parse it yourself.","body":"I am pretty sure that&#39;s due to the fact that the generic type parameter is Object and not the concrete type. I don&#39;t think RestTemplate can handle it like that. I think the best option is to probably use JsonNode as a response type and parse it yourself."},{"owner":{"account_id":15223312,"reputation":13,"user_id":10984627,"display_name":"Ramya"},"score":0,"creation_date":1678876770,"post_id":75740859,"comment_id":133616811,"body_markdown":"responseEntity.getBody() from source prints {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;},{&quot;y&quot;:&quot;val2},{&quot;z&quot;:&quot;val3}], &quot;d&quot;:&quot;cherry&quot;}\nresponseEntity.getBody() from destination prints {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:{&quot;z&quot;:&quot;val3}, &quot;d&quot;:&quot;cherry&quot;}","body":"responseEntity.getBody() from source prints {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;},{&quot;y&quot;:&quot;val2},{&quot;z&quot;:&quot;val3}], &quot;d&quot;:&quot;cherry&quot;} responseEntity.getBody() from destination prints {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:{&quot;z&quot;:&quot;val3}, &quot;d&quot;:&quot;cherry&quot;}"},{"owner":{"account_id":15223312,"reputation":13,"user_id":10984627,"display_name":"Ramya"},"score":0,"creation_date":1678877449,"post_id":75740859,"comment_id":133616990,"body_markdown":"Let me try to use JsonNode now","body":"Let me try to use JsonNode now"},{"owner":{"account_id":15223312,"reputation":13,"user_id":10984627,"display_name":"Ramya"},"score":0,"creation_date":1678884493,"post_id":75740859,"comment_id":133619041,"body_markdown":"cool! using JsonNode solved the issue. thanks @berse2212","body":"cool! using JsonNode solved the issue. thanks @berse2212"}],"owner":{"account_id":15223312,"reputation":13,"user_id":10984627,"display_name":"Ramya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678888339,"creation_date":1678858217,"question_id":75740859,"body_markdown":"We send a JSON (Map&lt;String,Object&gt;) from service A to service B. \r\neg: from source - `{&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;},{&quot;y&quot;:&quot;val2},{&quot;z&quot;:&quot;val3}], &quot;d&quot;:&quot;cherry&quot;}`\r\nthe json i received at destination is \r\n`{&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:{&quot;z&quot;:&quot;val3}, &quot;d&quot;:&quot;cherry&quot;}`\r\n\r\nC is expected to have list of nested json. Instead received only one value.\r\n\r\nBoth microservices are deployed in openshift - same cluster\r\n\r\nsource code\r\n```\r\nresponseEntity = this.restTemplateAnsible().exchange(ansiblePBNamesUrl + repoName, HttpMethod.GET, request, Map.class);\r\nLOGGER.info(&quot;responseEntity in callAnsiblePlaybookNamesList: {}&quot;, responseEntity); //nested json is printed here\r\nMap&lt;String, Object&gt; mapResponse = responseEntity.getBody();\r\nreturn mapResponse;\r\n```\r\n\r\ndestination code\r\n```\r\nResponseEntity&lt;Map&lt;String, Object&gt;&gt;\t responseEntity = restTemplate\r\n\t\t\t\t.exchange(cmtServiceAPIName + ansibleServiceUrl, HttpMethod.POST, request, mapClass);\r\n\t\tLOGGER.info(&quot;responseEntity: &quot; + responseEntity);\r\n```\r\n\r\n**Update**\r\nUsing JSONNode as return type solved the problem\r\n```\r\nResponseEntity&lt;JsonNode&gt;\t responseEntity = restTemplate\r\n\t\t\t\t.exchange(cmtServiceAPIName + ansibleServiceUrl, HttpMethod.POST, request, JsonNode.class);\r\n```\r\n\r\nBut again src json is {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;, &quot;params&quot;:[{&quot;key&quot;:&quot;value&quot;}]},{&quot;y&quot;:&quot;val2, &quot;params&quot;:[{&quot;key&quot;:&quot;value&quot;}]},{&quot;z&quot;:&quot;val3, &quot;params&quot;:[{&quot;key&quot;:&quot;value&quot;}]}], &quot;d&quot;:&quot;cherry&quot;}\r\n\r\nMain json has playbook which is list of json. One of the property inside playbook is params which is again a list. But it is observed that params always contain only one json\r\n\r\nIn destination, i receive json as {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;, &quot;params&quot;:{&quot;key&quot;:&quot;value&quot;}},{&quot;y&quot;:&quot;val2, &quot;params&quot;:{&quot;key&quot;:&quot;value&quot;}},{&quot;z&quot;:&quot;val3, &quot;params&quot;:{&quot;key&quot;:&quot;value&quot;}}], &quot;d&quot;:&quot;cherry&quot;}\r\n\r\nIs it because params contain only one entry? This data is from third party API. So it may contain more than 1 entry in future. In that case, I dont want my code to break","title":"JSON when sent over interservice call using rest template losses some of its value:","body":"<p>We send a JSON (Map&lt;String,Object&gt;) from service A to service B.\neg: from source - <code>{&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;},{&quot;y&quot;:&quot;val2},{&quot;z&quot;:&quot;val3}], &quot;d&quot;:&quot;cherry&quot;}</code>\nthe json i received at destination is\n<code>{&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:{&quot;z&quot;:&quot;val3}, &quot;d&quot;:&quot;cherry&quot;}</code></p>\n<p>C is expected to have list of nested json. Instead received only one value.</p>\n<p>Both microservices are deployed in openshift - same cluster</p>\n<p>source code</p>\n<pre><code>responseEntity = this.restTemplateAnsible().exchange(ansiblePBNamesUrl + repoName, HttpMethod.GET, request, Map.class);\nLOGGER.info(&quot;responseEntity in callAnsiblePlaybookNamesList: {}&quot;, responseEntity); //nested json is printed here\nMap&lt;String, Object&gt; mapResponse = responseEntity.getBody();\nreturn mapResponse;\n</code></pre>\n<p>destination code</p>\n<pre><code>ResponseEntity&lt;Map&lt;String, Object&gt;&gt;  responseEntity = restTemplate\n                .exchange(cmtServiceAPIName + ansibleServiceUrl, HttpMethod.POST, request, mapClass);\n        LOGGER.info(&quot;responseEntity: &quot; + responseEntity);\n</code></pre>\n<p><strong>Update</strong>\nUsing JSONNode as return type solved the problem</p>\n<pre><code>ResponseEntity&lt;JsonNode&gt;     responseEntity = restTemplate\n                .exchange(cmtServiceAPIName + ansibleServiceUrl, HttpMethod.POST, request, JsonNode.class);\n</code></pre>\n<p>But again src json is {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;, &quot;params&quot;:[{&quot;key&quot;:&quot;value&quot;}]},{&quot;y&quot;:&quot;val2, &quot;params&quot;:[{&quot;key&quot;:&quot;value&quot;}]},{&quot;z&quot;:&quot;val3, &quot;params&quot;:[{&quot;key&quot;:&quot;value&quot;}]}], &quot;d&quot;:&quot;cherry&quot;}</p>\n<p>Main json has playbook which is list of json. One of the property inside playbook is params which is again a list. But it is observed that params always contain only one json</p>\n<p>In destination, i receive json as {&quot;a&quot;:&quot;apple&quot;,&quot;b&quot;:&quot;mango&quot;, &quot;c&quot;:[{&quot;x&quot;:&quot;val1&quot;, &quot;params&quot;:{&quot;key&quot;:&quot;value&quot;}},{&quot;y&quot;:&quot;val2, &quot;params&quot;:{&quot;key&quot;:&quot;value&quot;}},{&quot;z&quot;:&quot;val3, &quot;params&quot;:{&quot;key&quot;:&quot;value&quot;}}], &quot;d&quot;:&quot;cherry&quot;}</p>\n<p>Is it because params contain only one entry? This data is from third party API. So it may contain more than 1 entry in future. In that case, I dont want my code to break</p>\n"},{"tags":["java","jackson","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678887213,"creation_date":1678887213,"answer_id":75745437,"question_id":75741141,"body_markdown":"&gt;advantages \r\n\r\nLess code for you to write.\r\n\r\nThere should be no performance impacts since the deserializer is doing exactly the same thing that your code would be.\r\n\r\nIt will be decoded directly from the `byte[]`. If you use a `StringDeserializer` and decode it yourself, there would be an unnecessary `byte[]-&gt;String` conversion.\r\n\r\nIf you want to do it yourself for some reason, better to use a `ByteArrayDeserializer` and consume it as a `byte[]`.","title":"Advantage of using JsonSerializer kafka over manually parsing String","body":"<blockquote>\n<p>advantages</p>\n</blockquote>\n<p>Less code for you to write.</p>\n<p>There should be no performance impacts since the deserializer is doing exactly the same thing that your code would be.</p>\n<p>It will be decoded directly from the <code>byte[]</code>. If you use a <code>StringDeserializer</code> and decode it yourself, there would be an unnecessary <code>byte[]-&gt;String</code> conversion.</p>\n<p>If you want to do it yourself for some reason, better to use a <code>ByteArrayDeserializer</code> and consume it as a <code>byte[]</code>.</p>\n"}],"owner":{"account_id":28003007,"reputation":47,"user_id":21386865,"display_name":"Pauls Baby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75745437,"answer_count":1,"score":0,"last_activity_date":1678888030,"creation_date":1678861376,"question_id":75741141,"body_markdown":"Are there any advantages or disadvantages for using JsonDeserializer in kafka consumer over manually parsing received JSON String using Jackson inside the application?\r\n\r\nWill be there any kind of impacts in performance etc?","title":"Advantage of using JsonSerializer kafka over manually parsing String","body":"<p>Are there any advantages or disadvantages for using JsonDeserializer in kafka consumer over manually parsing received JSON String using Jackson inside the application?</p>\n<p>Will be there any kind of impacts in performance etc?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":27811853,"reputation":323,"user_id":21234100,"display_name":"WebDesk Solution"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678887999,"creation_date":1678887999,"answer_id":75745587,"question_id":75744680,"body_markdown":"You just update the below code in your build.gradle file.\r\n\r\n    buildscript {\r\n        repositories {\r\n            google() \r\n            jcenter()\r\n            mavenCentral()\r\n             maven { url &#39;https://jitpack.io&#39; }\r\n         }\r\n         dependencies {\r\n             classpath &#39;com.android.tools.build:gradle:7.4.2&#39;\r\n             classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n       }\r\n    }\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            jcenter() // Warning: this repository is going to shut down soon\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n     }\r\n    task clean(type: Delete) {\r\n           delete rootProject.buildDir\r\n    }","title":"editing android studio dependencies","body":"<p>You just update the below code in your build.gradle file.</p>\n<pre><code>buildscript {\n    repositories {\n        google() \n        jcenter()\n        mavenCentral()\n         maven { url 'https://jitpack.io' }\n     }\n     dependencies {\n         classpath 'com.android.tools.build:gradle:7.4.2'\n         classpath 'com.google.gms:google-services:4.3.15'\n   }\n}\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        jcenter() // Warning: this repository is going to shut down soon\n        maven { url 'https://jitpack.io' }\n    }\n }\ntask clean(type: Delete) {\n       delete rootProject.buildDir\n}\n</code></pre>\n"}],"owner":{"account_id":26542405,"reputation":1,"user_id":20172946,"display_name":"Mehdi Zivdari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678887999,"creation_date":1678883240,"question_id":75744680,"body_markdown":"I am new on android studio so I created a new project when I try to debug and run the application on external emulator android studio will shown this error got this error : \r\n\r\n&#39;app process Debug Resource&#39; failure then I added this lines to &quot;build.gradle&quot;:  \r\n```script\r\nbuildscript {\r\n    repositories {\r\n        google() \r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.4.2&#39;\r\n    }\r\n}\r\nallprojects {\r\n    repositories {\r\n        google() \r\n        jcenter()\r\n    }\r\n}\r\n```\r\nthen I tried to run it again I got this error : \r\nbuild was configured to prefer settings repositories but repository google was added by build file &#39;build.gradle&#39;:17 \r\nplease help me.\r\n\r\n...........................","title":"editing android studio dependencies","body":"<p>I am new on android studio so I created a new project when I try to debug and run the application on external emulator android studio will shown this error got this error :</p>\n<p>'app process Debug Resource' failure then I added this lines to &quot;build.gradle&quot;:</p>\n<pre><code>buildscript {\n    repositories {\n        google() \n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2'\n    }\n}\nallprojects {\n    repositories {\n        google() \n        jcenter()\n    }\n}\n</code></pre>\n<p>then I tried to run it again I got this error :\nbuild was configured to prefer settings repositories but repository google was added by build file 'build.gradle':17\nplease help me.</p>\n<p>...........................</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":16992153,"reputation":513,"user_id":12291497,"display_name":"lugiorgi"},"score":1,"creation_date":1602678832,"post_id":64353250,"comment_id":113795810,"body_markdown":"Can you add the full stacktrace?","body":"Can you add the full stacktrace?"},{"owner":{"account_id":4184400,"reputation":931,"user_id":3428499,"accept_rate":57,"display_name":"codemania23"},"score":0,"creation_date":1602679166,"post_id":64353250,"comment_id":113795978,"body_markdown":"was just adding the same, its there now.","body":"was just adding the same, its there now."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":5,"creation_date":1602679367,"post_id":64353250,"comment_id":113796080,"body_markdown":"What is `mapsList`? Important is the actual type, not just the declared type. Or in other words: Is that collection/Map synchronized? If it is not, then your question might be a dupllicate of https://stackoverflow.com/questions/31014333/random-arrayindexoutofboundsexception-using-stream-to-order-map-elements-by-val","body":"What is <code>mapsList</code>? Important is the actual type, not just the declared type. Or in other words: Is that collection/Map synchronized? If it is not, then your question might be a dupllicate of <a href=\"https://stackoverflow.com/questions/31014333/random-arrayindexoutofboundsexception-using-stream-to-order-map-elements-by-val\" title=\"random arrayindexoutofboundsexception using stream to order map elements by val\">stackoverflow.com/questions/31014333/&hellip;</a>"},{"owner":{"account_id":4501373,"reputation":954,"user_id":3659807,"display_name":"Omar Abdel Bari"},"score":0,"creation_date":1602680033,"post_id":64353250,"comment_id":113796428,"body_markdown":"agree with @Tom we need to know the type of *mapsList* here.","body":"agree with @Tom we need to know the type of <i>mapsList</i> here."},{"owner":{"account_id":4184400,"reputation":931,"user_id":3428499,"accept_rate":57,"display_name":"codemania23"},"score":0,"creation_date":1602680269,"post_id":64353250,"comment_id":113796539,"body_markdown":"@OmarAbdelBari and Tom, its an arraylist.","body":"@OmarAbdelBari and Tom, its an arraylist."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1602680472,"post_id":64353250,"comment_id":113796648,"body_markdown":"Then try a synchronized list instead and check what happens","body":"Then try a synchronized list instead and check what happens"},{"owner":{"account_id":4184400,"reputation":931,"user_id":3428499,"accept_rate":57,"display_name":"codemania23"},"score":1,"creation_date":1602680541,"post_id":64353250,"comment_id":113796679,"body_markdown":"okay I&#39;ll make the change and monitor our production setup, as this happens only occasionally . Will keep you posted. But, that sounds to be the culprit.","body":"okay I&#39;ll make the change and monitor our production setup, as this happens only occasionally . Will keep you posted. But, that sounds to be the culprit."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1602703860,"post_id":64353250,"comment_id":113807957,"body_markdown":"@Tom even if that would be a thread safe container, you have no idea about the order in which those will be put in...","body":"@Tom even if that would be a thread safe container, you have no idea about the order in which those will be put in..."}],"answers":[{"comments":[{"owner":{"account_id":4184400,"reputation":931,"user_id":3428499,"accept_rate":57,"display_name":"codemania23"},"score":1,"creation_date":1602815590,"post_id":64360810,"comment_id":113845551,"body_markdown":"Eugene, thanks for the answer but I am not worried about the order of elements although thanks for linking me to the website. I&#39;ll give it a read.","body":"Eugene, thanks for the answer but I am not worried about the order of elements although thanks for linking me to the website. I&#39;ll give it a read."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1602816497,"post_id":64360810,"comment_id":113845707,"body_markdown":"@codemania23 go ahead. I did not compile this code btw, but I&#39;ve tried to be accurate.","body":"@codemania23 go ahead. I did not compile this code btw, but I&#39;ve tried to be accurate."}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1602706215,"creation_date":1602706215,"answer_id":64360810,"question_id":64353250,"body_markdown":"Even if you change that to a `synchronized` (or better said a thread-safe `List`), with your current approach, you still don&#39;t have a guaranteed  _order_ of how the elements are going to be put in. The documentation, btw, is very clear to discourage such things via `forEach`, [here][1]. Just look-up `Side-Effects`.\r\n\r\n\r\nThis entire thing can be done in far better way (and easier to read too):\r\n\r\n\r\n     deviceMessageInfoList\r\n          .stream()\r\n          .parallel()\r\n          .filter(Objects::notNull)\r\n          .map(x -&gt; x.getMessageVO())\r\n          .filter(Objects::notNull) \r\n          .map(x -&gt; (DeviceTripMessageInfo) x.getMessageVO())\r\n          .map(DeviceTripMessageInfo::getValueMap)\r\n          .filter(Objects::notNull)\r\n          .collect(Collectors.toList());\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html","title":"Getting ArrayIndexOutOfBoundsException when using parallel stream","body":"<p>Even if you change that to a <code>synchronized</code> (or better said a thread-safe <code>List</code>), with your current approach, you still don't have a guaranteed  <em>order</em> of how the elements are going to be put in. The documentation, btw, is very clear to discourage such things via <code>forEach</code>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">here</a>. Just look-up <code>Side-Effects</code>.</p>\n<p>This entire thing can be done in far better way (and easier to read too):</p>\n<pre><code> deviceMessageInfoList\n      .stream()\n      .parallel()\n      .filter(Objects::notNull)\n      .map(x -&gt; x.getMessageVO())\n      .filter(Objects::notNull) \n      .map(x -&gt; (DeviceTripMessageInfo) x.getMessageVO())\n      .map(DeviceTripMessageInfo::getValueMap)\n      .filter(Objects::notNull)\n      .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1678887744,"creation_date":1611735095,"answer_id":65915160,"question_id":64353250,"body_markdown":"## Summary\r\n\r\nThe problem is that `ArrayList` is by design not safe for modification by multiple threads concurrently, but the parallel stream is writing to the list from multiple threads.  A good solution is to switch to an idiomatic stream implementation:\r\n\r\n```lang-java\r\nList msgList = deviceMessageInfoList.parallelStream() // Declare generic type, e.g. List&lt;Map&lt;String, Object&gt;&gt;\r\n                .filter(Objects::nonNull)\r\n                .map(m -&gt; (DeviceTripMessageInfo) m.getMessageVO())\r\n                .filter(Objects::nonNull)\r\n                .map(DeviceTripMessageInfo::getValueMap)\r\n                .filter(Objects::nonNull)\r\n                .toList();\r\n```\r\n\r\n## Issue: concurrent modification\r\n\r\nThe `ArrayList` [Javadocs](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ArrayList.html) explain the concurrent modification issue:\r\n\r\n&gt; **Note that this implementation is not synchronized.** If multiple threads access an `ArrayList` instance concurrently, and at least one of the threads modifies the list structurally, it _must_ be synchronized externally. (A structural modification is any operation that adds or deletes one or more elements, or explicitly resizes the backing array; merely setting the value of an element is not a structural modification.) This is typically accomplished by synchronizing on some object that naturally encapsulates the list. If no such object exists, the list should be &quot;wrapped&quot; using the [`Collections.synchronizedList`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Collections.html#synchronizedList(java.util.List)) method. This is best done at creation time, to prevent accidental unsynchronized access to the list\r\n\r\nNote that the exception you&#39;re seeing is not the only incorrect behavior you might encounter.  In my own tests of your code against large lists, the code sometimes completed without exception, but the resulting list contained only some of the elements from the source list.\r\n\r\nNote that while switching from a parallel stream to a sequential stream would likely fix the issue in practice, it is dependent on the stream implementation, and not guaranteed by the API.  Therefore, such an approach is inadvisable, as it could break in future versions of the library.  Per the [`forEach` Javadocs](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#forEach(java.util.function.Consumer)):\r\n\r\n&gt; For any given element, the action may be performed at whatever time and in whatever thread the library chooses. If the action accesses shared state, it is responsible for providing the required synchronization.\r\n\r\n## Issue: not idiomatic\r\n\r\nAside from the correctness issue, another issue with this approach is that it&#39;s not particularly idiomatic to use side effects within stream code.  The [stream documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/package-summary.html#SideEffects) explicitly discourages them.\r\n\r\n&gt; Side-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards.\r\n&gt;\r\n&gt; [...]\r\n&gt;\r\n&gt; Many computations where one might be tempted to use side-effects can be more safely and efficiently expressed without side-effects, such as using [reduction](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/package-summary.html#Reduction) instead of mutable accumulators.\r\n\r\nOf particular note, the documentation goes on to describe the exact scenario posted in this question as an inappropriate use of side-effects in a stream:\r\n\r\n&gt; As an example of how to transform a stream pipeline that inappropriately uses side-effects to one that does not, the following code searches a stream of strings for those matching a given regular expression, and puts the matches in a list.\r\n&gt; \r\n&gt; ```lang-java\r\n&gt;      ArrayList&lt;String&gt; results = new ArrayList&lt;&gt;();\r\n&gt;      stream.filter(s -&gt; pattern.matcher(s).matches())\r\n&gt;            .forEach(s -&gt; results.add(s));  // Unnecessary use of side-effects!\r\n&gt; ```\r\n&gt;\r\n&gt; This code unnecessarily uses side-effects. If executed in parallel, the non-thread-safety of `ArrayList` would cause incorrect results, and adding needed synchronization would cause contention, undermining the benefit of parallelism.\r\n\r\n## Aside: traditional non-stream solution\r\n\r\nAs an aside, this points to a solution one might use using traditional non-stream code.  I will discuss it briefly, since it&#39;s helpful to understand traditional solutions to the issue of concurrent list modification.  Traditionally, one might replace the `ArrayList` with either a wrapped syncnhronized version using [`Collections.synchronizedList`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Collections.html#synchronizedList(java.util.List)) or an inherently concurrent collection type such as [`ConcurrentLinkedQueue`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ConcurrentLinkedQueue.html).  Since these approaches are designed for concurrent insertion, they solve the parallel insert issue, though possibly with additional synchronization contention overhead.\r\n\r\n## Stream solution\r\n\r\nThe stream documentation continues on with a replacement for the inappropriate use of side effects:\r\n\r\n&gt; Furthermore, using side-effects here is completely unnecessary; the `forEach()` can simply be replaced with a reduction operation that is safer, more efficient, and more amenable to parallelization:\r\n&gt;\r\n&gt;```lang-java\r\n&gt;      List&lt;String&gt;results =\r\n&gt;          stream.filter(s -&gt; pattern.matcher(s).matches())\r\n&gt;                .toList();  // No side-effects!\r\n&gt; ```\r\n\r\nApplying this approach to your code, you get:\r\n\r\n```lang-java\r\nList msgList = deviceMessageInfoList.parallelStream() // Declare generic type, e.g. List&lt;Map&lt;String, Object&gt;&gt;\r\n                .filter(Objects::nonNull)\r\n                .map(m -&gt; (DeviceTripMessageInfo) m.getMessageVO())\r\n                .filter(Objects::nonNull)\r\n                .map(DeviceTripMessageInfo::getValueMap)\r\n                .filter(Objects::nonNull)\r\n                .toList();\r\n```\r\n","title":"Getting ArrayIndexOutOfBoundsException when using parallel stream","body":"<h2>Summary</h2>\n<p>The problem is that <code>ArrayList</code> is by design not safe for modification by multiple threads concurrently, but the parallel stream is writing to the list from multiple threads.  A good solution is to switch to an idiomatic stream implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List msgList = deviceMessageInfoList.parallelStream() // Declare generic type, e.g. List&lt;Map&lt;String, Object&gt;&gt;\n                .filter(Objects::nonNull)\n                .map(m -&gt; (DeviceTripMessageInfo) m.getMessageVO())\n                .filter(Objects::nonNull)\n                .map(DeviceTripMessageInfo::getValueMap)\n                .filter(Objects::nonNull)\n                .toList();\n</code></pre>\n<h2>Issue: concurrent modification</h2>\n<p>The <code>ArrayList</code> <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">Javadocs</a> explain the concurrent modification issue:</p>\n<blockquote>\n<p><strong>Note that this implementation is not synchronized.</strong> If multiple threads access an <code>ArrayList</code> instance concurrently, and at least one of the threads modifies the list structurally, it <em>must</em> be synchronized externally. (A structural modification is any operation that adds or deletes one or more elements, or explicitly resizes the backing array; merely setting the value of an element is not a structural modification.) This is typically accomplished by synchronizing on some object that naturally encapsulates the list. If no such object exists, the list should be &quot;wrapped&quot; using the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Collections.html#synchronizedList(java.util.List)\" rel=\"nofollow noreferrer\"><code>Collections.synchronizedList</code></a> method. This is best done at creation time, to prevent accidental unsynchronized access to the list</p>\n</blockquote>\n<p>Note that the exception you're seeing is not the only incorrect behavior you might encounter.  In my own tests of your code against large lists, the code sometimes completed without exception, but the resulting list contained only some of the elements from the source list.</p>\n<p>Note that while switching from a parallel stream to a sequential stream would likely fix the issue in practice, it is dependent on the stream implementation, and not guaranteed by the API.  Therefore, such an approach is inadvisable, as it could break in future versions of the library.  Per the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>forEach</code> Javadocs</a>:</p>\n<blockquote>\n<p>For any given element, the action may be performed at whatever time and in whatever thread the library chooses. If the action accesses shared state, it is responsible for providing the required synchronization.</p>\n</blockquote>\n<h2>Issue: not idiomatic</h2>\n<p>Aside from the correctness issue, another issue with this approach is that it's not particularly idiomatic to use side effects within stream code.  The <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\">stream documentation</a> explicitly discourages them.</p>\n<blockquote>\n<p>Side-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards.</p>\n<p>[...]</p>\n<p>Many computations where one might be tempted to use side-effects can be more safely and efficiently expressed without side-effects, such as using <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/package-summary.html#Reduction\" rel=\"nofollow noreferrer\">reduction</a> instead of mutable accumulators.</p>\n</blockquote>\n<p>Of particular note, the documentation goes on to describe the exact scenario posted in this question as an inappropriate use of side-effects in a stream:</p>\n<blockquote>\n<p>As an example of how to transform a stream pipeline that inappropriately uses side-effects to one that does not, the following code searches a stream of strings for those matching a given regular expression, and puts the matches in a list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>     ArrayList&lt;String&gt; results = new ArrayList&lt;&gt;();\n     stream.filter(s -&gt; pattern.matcher(s).matches())\n           .forEach(s -&gt; results.add(s));  // Unnecessary use of side-effects!\n</code></pre>\n<p>This code unnecessarily uses side-effects. If executed in parallel, the non-thread-safety of <code>ArrayList</code> would cause incorrect results, and adding needed synchronization would cause contention, undermining the benefit of parallelism.</p>\n</blockquote>\n<h2>Aside: traditional non-stream solution</h2>\n<p>As an aside, this points to a solution one might use using traditional non-stream code.  I will discuss it briefly, since it's helpful to understand traditional solutions to the issue of concurrent list modification.  Traditionally, one might replace the <code>ArrayList</code> with either a wrapped syncnhronized version using <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Collections.html#synchronizedList(java.util.List)\" rel=\"nofollow noreferrer\"><code>Collections.synchronizedList</code></a> or an inherently concurrent collection type such as <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"nofollow noreferrer\"><code>ConcurrentLinkedQueue</code></a>.  Since these approaches are designed for concurrent insertion, they solve the parallel insert issue, though possibly with additional synchronization contention overhead.</p>\n<h2>Stream solution</h2>\n<p>The stream documentation continues on with a replacement for the inappropriate use of side effects:</p>\n<blockquote>\n<p>Furthermore, using side-effects here is completely unnecessary; the <code>forEach()</code> can simply be replaced with a reduction operation that is safer, more efficient, and more amenable to parallelization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>     List&lt;String&gt;results =\n         stream.filter(s -&gt; pattern.matcher(s).matches())\n               .toList();  // No side-effects!\n</code></pre>\n</blockquote>\n<p>Applying this approach to your code, you get:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List msgList = deviceMessageInfoList.parallelStream() // Declare generic type, e.g. List&lt;Map&lt;String, Object&gt;&gt;\n                .filter(Objects::nonNull)\n                .map(m -&gt; (DeviceTripMessageInfo) m.getMessageVO())\n                .filter(Objects::nonNull)\n                .map(DeviceTripMessageInfo::getValueMap)\n                .filter(Objects::nonNull)\n                .toList();\n</code></pre>\n"}],"owner":{"account_id":4184400,"reputation":931,"user_id":3428499,"accept_rate":57,"display_name":"codemania23"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4501,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1678887744,"creation_date":1602678420,"question_id":64353250,"body_markdown":"I am ending up with occasional array index out of bounds exception when using the following code. Any leads? The size of the array is always approximately around 29-30.\r\n\r\n```lang-java\r\nlogger.info(&quot;devicetripmessageinfo size :{}&quot;,deviceMessageInfoList.size());\r\ndeviceMessageInfoList.parallelStream().forEach(msg-&gt;{\r\n    if(msg!=null &amp;&amp; msg.getMessageVO()!=null)\r\n    {\r\n        \r\n        DeviceTripMessageInfo currentDevTripMsgInfo = \r\n                        (DeviceTripMessageInfo) msg.getMessageVO();\r\n        if(currentDevTripMsgInfo.getValueMap()!=null)\r\n        {mapsList.add(currentDevTripMsgInfo.getValueMap());}\r\n    }\r\n});\r\n```\r\n\r\n```lang-none\r\njava.lang.ArrayIndexOutOfBoundsException: null\r\n        at java.base/jdk.internal.reflect.GeneratedConstructorAccessor26.newInstance(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n        at java.base/java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:603)\r\n        at java.base/java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:678)\r\n        at java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:737)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\r\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\r\n        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:661)\r\n        at com.*.*.*.*.worker.*.process(*.java:96)\r\n        at com.*.jms.consumer.JMSWorker.processList(JMSWorker.java:279)\r\n        at com.*.jms.consumer.JMSWorker.process(JMSWorker.java:244)\r\n        at com.*.jms.consumer.JMSWorker.processMessages(JMSWorker.java:200)\r\n        at com.*.jms.consumer.JMSWorker.run(JMSWorker.java:136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: null\r\n```","title":"Getting ArrayIndexOutOfBoundsException when using parallel stream","body":"<p>I am ending up with occasional array index out of bounds exception when using the following code. Any leads? The size of the array is always approximately around 29-30.</p>\n<pre class=\"lang-java prettyprint-override\"><code>logger.info(&quot;devicetripmessageinfo size :{}&quot;,deviceMessageInfoList.size());\ndeviceMessageInfoList.parallelStream().forEach(msg-&gt;{\n    if(msg!=null &amp;&amp; msg.getMessageVO()!=null)\n    {\n        \n        DeviceTripMessageInfo currentDevTripMsgInfo = \n                        (DeviceTripMessageInfo) msg.getMessageVO();\n        if(currentDevTripMsgInfo.getValueMap()!=null)\n        {mapsList.add(currentDevTripMsgInfo.getValueMap());}\n    }\n});\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ArrayIndexOutOfBoundsException: null\n        at java.base/jdk.internal.reflect.GeneratedConstructorAccessor26.newInstance(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n        at java.base/java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:603)\n        at java.base/java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:678)\n        at java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:737)\n        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159)\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173)\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\n        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n        at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:661)\n        at com.*.*.*.*.worker.*.process(*.java:96)\n        at com.*.jms.consumer.JMSWorker.processList(JMSWorker.java:279)\n        at com.*.jms.consumer.JMSWorker.process(JMSWorker.java:244)\n        at com.*.jms.consumer.JMSWorker.processMessages(JMSWorker.java:200)\n        at com.*.jms.consumer.JMSWorker.run(JMSWorker.java:136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: null\n</code></pre>\n"},{"tags":["java","linux","bash","shell","maven"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1678878551,"post_id":75743836,"comment_id":133617314,"body_markdown":"`/usr/bin/java` is probably a symbolic link to the `java` executable. Try `ls -al /usr/bin/java`.","body":"<code>&#47;usr&#47;bin&#47;java</code> is probably a symbolic link to the <code>java</code> executable. Try <code>ls -al &#47;usr&#47;bin&#47;java</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1678878743,"post_id":75743836,"comment_id":133617370,"body_markdown":"&quot;I thought that the command `which` will point to me to the location where java 15 is stored&quot; no, it points you to the (potentially linked) binary that gets executed when you run `java`.","body":"&quot;I thought that the command <code>which</code> will point to me to the location where java 15 is stored&quot; no, it points you to the (potentially linked) binary that gets executed when you run <code>java</code>."},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1678879151,"post_id":75743836,"comment_id":133617490,"body_markdown":"what is `$JAVA_HOME` set to?","body":"what is <code>$JAVA_HOME</code> set to?"},{"owner":{"account_id":4311827,"reputation":9286,"user_id":3522687,"accept_rate":52,"display_name":"paulalexandru"},"score":0,"creation_date":1678879541,"post_id":75743836,"comment_id":133617595,"body_markdown":"@SIMULATAN empty as i said","body":"@SIMULATAN empty as i said"},{"owner":{"account_id":4311827,"reputation":9286,"user_id":3522687,"accept_rate":52,"display_name":"paulalexandru"},"score":0,"creation_date":1678879564,"post_id":75743836,"comment_id":133617602,"body_markdown":"@FedericoklezCulloca I&#39;ve updated the question with the response for you","body":"@FedericoklezCulloca I&#39;ve updated the question with the response for you"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1678879607,"post_id":75743836,"comment_id":133617618,"body_markdown":"well, try setting it to the right JDK, apparently maven uses the JDK pointed to by this variable","body":"well, try setting it to the right JDK, apparently maven uses the JDK pointed to by this variable"},{"owner":{"account_id":4311827,"reputation":9286,"user_id":3522687,"accept_rate":52,"display_name":"paulalexandru"},"score":0,"creation_date":1678879638,"post_id":75743836,"comment_id":133617626,"body_markdown":"what is the right path ?  have you read my question ?","body":"what is the right path ?  have you read my question ?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1678883096,"post_id":75743836,"comment_id":133618635,"body_markdown":"If you have 2 or more JDKs installed and want to switch between them, this might be worth a read if you are using [homebrew switching between multiple JDKs](https://medium.com/@manvendrapsingh/installing-many-jdk-versions-on-macos-dfc177bc8c2b) or use something like https://sdkman.io/","body":"If you have 2 or more JDKs installed and want to switch between them, this might be worth a read if you are using <a href=\"https://medium.com/@manvendrapsingh/installing-many-jdk-versions-on-macos-dfc177bc8c2b\" rel=\"nofollow noreferrer\">homebrew switching between multiple JDKs</a> or use something like <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman.io</a>"}],"answers":[{"comments":[{"owner":{"account_id":4311827,"reputation":9286,"user_id":3522687,"accept_rate":52,"display_name":"paulalexandru"},"score":0,"creation_date":1678884042,"post_id":75744500,"comment_id":133618908,"body_markdown":"I&#39;ve downloaded a new java 15 and set the path to it but I get : “java” cannot be opened because the developer cannot be verified. macOS cannot verify that this app is free from malware.","body":"I&#39;ve downloaded a new java 15 and set the path to it but I get : “java” cannot be opened because the developer cannot be verified. macOS cannot verify that this app is free from malware."},{"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"score":0,"creation_date":1678886430,"post_id":75744500,"comment_id":133619606,"body_markdown":"Unfortunately this is an issue related to your environment. Nothing to deal with your original question.","body":"Unfortunately this is an issue related to your environment. Nothing to deal with your original question."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1679063585,"post_id":75744500,"comment_id":133658749,"body_markdown":"Modern versions of Maven do not need JAVA_HOME","body":"Modern versions of Maven do not need JAVA_HOME"}],"tags":[],"owner":{"account_id":183306,"reputation":9436,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678882201,"creation_date":1678882201,"answer_id":75744500,"question_id":75743836,"body_markdown":"You should change your `JAVA_HOME` variable or as alternative:\r\n\r\n```shell\r\nexport PATH=&lt;YOUR_JRE_BIN_PATH&gt;:${PATH}\r\nmvn &lt;MAVEN_ARGUMENTS&gt;\r\n```","title":"What is my java location and how can I point maven to it?","body":"<p>You should change your <code>JAVA_HOME</code> variable or as alternative:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export PATH=&lt;YOUR_JRE_BIN_PATH&gt;:${PATH}\nmvn &lt;MAVEN_ARGUMENTS&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678887740,"creation_date":1678886756,"answer_id":75745341,"question_id":75743836,"body_markdown":"Get JAVA_HOME from the `java` command with \r\n\r\n`java -XshowSettings:properties -version 2&gt;&amp;1 | grep -E &#39;java\\.home&#39;`\r\n\r\nResult\r\n\r\n     java.home = /usr/lib64/jvm/java-11-openjdk-11\r\n\r\nThen add an export for JAVA_HOME variable or use it on maven command as\r\n\r\n    JAVA_HOME=&#39;/usr/lib64/jvm/java-11-openjdk-11&#39; mvn &lt;something&gt;","title":"What is my java location and how can I point maven to it?","body":"<p>Get JAVA_HOME from the <code>java</code> command with</p>\n<p><code>java -XshowSettings:properties -version 2&gt;&amp;1 | grep -E 'java\\.home'</code></p>\n<p>Result</p>\n<pre><code> java.home = /usr/lib64/jvm/java-11-openjdk-11\n</code></pre>\n<p>Then add an export for JAVA_HOME variable or use it on maven command as</p>\n<pre><code>JAVA_HOME='/usr/lib64/jvm/java-11-openjdk-11' mvn &lt;something&gt;\n</code></pre>\n"}],"owner":{"account_id":4311827,"reputation":9286,"user_id":3522687,"accept_rate":52,"display_name":"paulalexandru"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1678887740,"creation_date":1678878119,"question_id":75743836,"body_markdown":"I am a UI dev with no experience in Java whatsoever. However, I have a dilema.\r\n\r\n    &gt; / % java --version\r\n    openjdk 15.0.1 2020-10-20\r\n    OpenJDK Runtime Environment AdoptOpenJDK (build 15.0.1+9)\r\n    OpenJDK 64-Bit Server VM AdoptOpenJDK (build 15.0.1+9, mixed mode, sharing)\r\n\r\nand:\r\n\r\n    &gt; / % mvn -v\r\n    Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\n    Maven home: /usr/local/Cellar/maven/3.8.6/libexec\r\n    Java version: 18.0.1.1, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk/18.0.1.1/libexec/openjdk.jdk/Contents/Home\r\n    Default locale: en_RO, platform encoding: UTF-8\r\n    OS name: &quot;mac os x&quot;, version: &quot;12.4&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n\r\nThe question I have is, why does maven have another version of java, and how can I make it point to the java 15 ?\r\n\r\nI also tried this:\r\n\r\n    &gt; / % which java\r\n    /usr/bin/java\r\n    &gt; / % cd /usr/bin/java\r\n    cd: not a directory: /usr/bin/java\r\n\r\nI thought that the command `which` will point to me to the location where java 15 is stored, however that path does not seem to exist on my computer.\r\n\r\nAnother thing that I saw is that I do not hava JAVA_HOME set, it is missing. \r\n\r\nI am very confused, can somebody help me surpass this issue please? \r\n\r\nEdit: Response to the comments:\r\n\r\n    &gt; / % ls -al /usr/bin/java\r\n    -rwxr-xr-x  52 root  wheel  168432 May 10  2022 /usr/bin/java\r\n","title":"What is my java location and how can I point maven to it?","body":"<p>I am a UI dev with no experience in Java whatsoever. However, I have a dilema.</p>\n<pre><code>&gt; / % java --version\nopenjdk 15.0.1 2020-10-20\nOpenJDK Runtime Environment AdoptOpenJDK (build 15.0.1+9)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 15.0.1+9, mixed mode, sharing)\n</code></pre>\n<p>and:</p>\n<pre><code>&gt; / % mvn -v\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: /usr/local/Cellar/maven/3.8.6/libexec\nJava version: 18.0.1.1, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk/18.0.1.1/libexec/openjdk.jdk/Contents/Home\nDefault locale: en_RO, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;12.4&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>The question I have is, why does maven have another version of java, and how can I make it point to the java 15 ?</p>\n<p>I also tried this:</p>\n<pre><code>&gt; / % which java\n/usr/bin/java\n&gt; / % cd /usr/bin/java\ncd: not a directory: /usr/bin/java\n</code></pre>\n<p>I thought that the command <code>which</code> will point to me to the location where java 15 is stored, however that path does not seem to exist on my computer.</p>\n<p>Another thing that I saw is that I do not hava JAVA_HOME set, it is missing.</p>\n<p>I am very confused, can somebody help me surpass this issue please?</p>\n<p>Edit: Response to the comments:</p>\n<pre><code>&gt; / % ls -al /usr/bin/java\n-rwxr-xr-x  52 root  wheel  168432 May 10  2022 /usr/bin/java\n</code></pre>\n"},{"tags":["java","groovy","comparator"],"answers":[{"comments":[{"owner":{"account_id":2225617,"reputation":778,"user_id":1964474,"display_name":"andQlimax"},"score":1,"creation_date":1678817392,"post_id":75736820,"comment_id":133605858,"body_markdown":"I was not thinking to group by.  It could be a good idea. The only concern about your solution is that it doesn&#39;t work always I think (depends on the type values) , that&#39;s why I was thinking to a comparator","body":"I was not thinking to group by.  It could be a good idea. The only concern about your solution is that it doesn&#39;t work always I think (depends on the type values) , that&#39;s why I was thinking to a comparator"},{"owner":{"account_id":20511355,"reputation":500,"user_id":15053047,"display_name":"IWilms"},"score":1,"creation_date":1678818105,"post_id":75736820,"comment_id":133606065,"body_markdown":"Ah sorry, I did not take into account the rank of the types. I edited the answer accordingly.","body":"Ah sorry, I did not take into account the rank of the types. I edited the answer accordingly."}],"tags":[],"owner":{"account_id":20511355,"reputation":500,"user_id":15053047,"display_name":"IWilms"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678818003,"creation_date":1678816927,"answer_id":75736820,"question_id":75736498,"body_markdown":"Does it need to be a comparator? First thing that comes to my mind is to `groupBy` the `id` and then look for `min()` of `type`:\r\n\r\n```\r\nList list = [[\r\n                     &quot;id&quot;  : 1,\r\n                     &quot;type&quot;: &quot;A1&quot;,\r\n                     &quot;text&quot;: &quot;Bla bla bla 1 - A1&quot;\r\n             ],\r\n             [\r\n                     &quot;id&quot;  : 2,\r\n                     &quot;type&quot;: &quot;A1&quot;,\r\n                     &quot;text&quot;: &quot;Bla bla bla 2 - A1&quot;\r\n             ],\r\n             [\r\n                     &quot;id&quot;  : 3,\r\n                     &quot;type&quot;: &quot;A1&quot;,\r\n                     &quot;text&quot;: &quot;Bla bla bla 3 - A1&quot;\r\n             ],\r\n             [\r\n                     &quot;id&quot;  : 1,\r\n                     &quot;type&quot;: &quot;A2&quot;,\r\n                     &quot;text&quot;: &quot;Bla bla bla 1 - A2&quot;\r\n             ]]\r\n\r\nMap rank = [A1:1, A2:2, R5:3, R8:4, A4:5]\r\n\r\nList cleaned = list.groupBy { it.id }\r\n        .collect { k, v -&gt; v.min { rank[it.type] } }\r\n```","title":"Java/Groovy Custom comparator and filter array to leaveonly lowest values","body":"<p>Does it need to be a comparator? First thing that comes to my mind is to <code>groupBy</code> the <code>id</code> and then look for <code>min()</code> of <code>type</code>:</p>\n<pre><code>List list = [[\n                     &quot;id&quot;  : 1,\n                     &quot;type&quot;: &quot;A1&quot;,\n                     &quot;text&quot;: &quot;Bla bla bla 1 - A1&quot;\n             ],\n             [\n                     &quot;id&quot;  : 2,\n                     &quot;type&quot;: &quot;A1&quot;,\n                     &quot;text&quot;: &quot;Bla bla bla 2 - A1&quot;\n             ],\n             [\n                     &quot;id&quot;  : 3,\n                     &quot;type&quot;: &quot;A1&quot;,\n                     &quot;text&quot;: &quot;Bla bla bla 3 - A1&quot;\n             ],\n             [\n                     &quot;id&quot;  : 1,\n                     &quot;type&quot;: &quot;A2&quot;,\n                     &quot;text&quot;: &quot;Bla bla bla 1 - A2&quot;\n             ]]\n\nMap rank = [A1:1, A2:2, R5:3, R8:4, A4:5]\n\nList cleaned = list.groupBy { it.id }\n        .collect { k, v -&gt; v.min { rank[it.type] } }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20511355,"reputation":500,"user_id":15053047,"display_name":"IWilms"},"score":1,"creation_date":1679143008,"post_id":75745504,"comment_id":133670506,"body_markdown":"The concatination of the Spaceship operators with the Elvis operator is really elegant!","body":"The concatination of the Spaceship operators with the Elvis operator is really elegant!"}],"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678887570,"creation_date":1678887570,"answer_id":75745504,"question_id":75736498,"body_markdown":"Straigt-forward way to use simple sorting by two fields:\r\n\r\n```\r\nList list = [[\r\n  &quot;id&quot;  : 1,\r\n  &quot;type&quot;: &quot;A1&quot;,\r\n  &quot;text&quot;: &quot;Bla bla bla 1 - A1&quot;\r\n],\r\n[\r\n  &quot;id&quot;  : 2,\r\n  &quot;type&quot;: &quot;A1&quot;,\r\n  &quot;text&quot;: &quot;Bla bla bla 2 - A1&quot;\r\n],\r\n[\r\n  &quot;id&quot;  : 3,\r\n  &quot;type&quot;: &quot;A1&quot;,\r\n  &quot;text&quot;: &quot;Bla bla bla 3 - A1&quot;\r\n],\r\n[\r\n  &quot;id&quot;  : 1,\r\n  &quot;type&quot;: &quot;A2&quot;,\r\n  &quot;text&quot;: &quot;Bla bla bla 1 - A2&quot;\r\n]]\r\n\r\ndef res = list.sort{ a, b -&gt; a.id &lt;=&gt; b.id ?: b.type &lt;=&gt; a.type }.collectEntries{ [ it.id, it ] }.values()\r\n\r\nassert res.toString() == &#39;[[id:1, type:A1, text:Bla bla bla 1 - A1], [id:2, type:A1, text:Bla bla bla 2 - A1], [id:3, type:A1, text:Bla bla bla 3 - A1]]&#39;\r\n```","title":"Java/Groovy Custom comparator and filter array to leaveonly lowest values","body":"<p>Straigt-forward way to use simple sorting by two fields:</p>\n<pre><code>List list = [[\n  &quot;id&quot;  : 1,\n  &quot;type&quot;: &quot;A1&quot;,\n  &quot;text&quot;: &quot;Bla bla bla 1 - A1&quot;\n],\n[\n  &quot;id&quot;  : 2,\n  &quot;type&quot;: &quot;A1&quot;,\n  &quot;text&quot;: &quot;Bla bla bla 2 - A1&quot;\n],\n[\n  &quot;id&quot;  : 3,\n  &quot;type&quot;: &quot;A1&quot;,\n  &quot;text&quot;: &quot;Bla bla bla 3 - A1&quot;\n],\n[\n  &quot;id&quot;  : 1,\n  &quot;type&quot;: &quot;A2&quot;,\n  &quot;text&quot;: &quot;Bla bla bla 1 - A2&quot;\n]]\n\ndef res = list.sort{ a, b -&gt; a.id &lt;=&gt; b.id ?: b.type &lt;=&gt; a.type }.collectEntries{ [ it.id, it ] }.values()\n\nassert res.toString() == '[[id:1, type:A1, text:Bla bla bla 1 - A1], [id:2, type:A1, text:Bla bla bla 2 - A1], [id:3, type:A1, text:Bla bla bla 3 - A1]]'\n</code></pre>\n"}],"owner":{"account_id":2225617,"reputation":778,"user_id":1964474,"display_name":"andQlimax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678887570,"creation_date":1678814872,"question_id":75736498,"body_markdown":"I have this array:\r\n\r\n    [{\r\n\t\t&quot;id&quot;: 1,\r\n\t\t&quot;type&quot;: &quot;A1&quot;,\r\n\t\t&quot;text&quot;: &quot;Bla bla bla 1 - A1&quot;\t\t\r\n\t},\r\n\t{\r\n\t\t&quot;id&quot;: 2,\r\n\t\t&quot;type&quot;: &quot;A1&quot;,\r\n\t\t&quot;text&quot;: &quot;Bla bla bla 2 - A1&quot;\t\t\t\t\r\n\t},\r\n\t{\r\n\t\t&quot;id&quot;: 3,\r\n\t\t&quot;type&quot;: &quot;A1&quot;,\r\n\t\t&quot;text&quot;: &quot;Bla bla bla 3 - A1&quot;\t\t\r\n\t}\r\n\t,\r\n\t{\r\n\t\t&quot;id&quot;: 1,\r\n\t\t&quot;type&quot;: &quot;A2&quot;,\r\n\t\t&quot;text&quot;: &quot;Bla bla bla 1 - A2&quot;\t\t\t\r\n\t}]\r\n\r\nI need to remove the duplicated &quot;ids&quot; leaving the one with the lower values (example A1 is lower than A2). So in the above example the record with id=1 and type=A2 should be removed.\r\n\r\nIn groovy I create this comparator:\r\n\r\n    class CustomComparator implements Comparator&lt;Object&gt;{\r\n\r\n    private HashMap&lt;String, Integer&gt; rank;\r\n\r\n    CustomComparator(){\r\n        this.rank = new HashMap&lt;&gt;();\r\n        this.rank.put(&quot;A1&quot;, 1);\r\n        this.rank.put(&quot;A2&quot;, 2);\r\n        this.rank.put(&quot;R5&quot;, 3);\r\n        this.rank.put(&quot;R8&quot;, 4);\r\n        this.rank.put(&quot;A4&quot;, 5);\r\n    }\r\n\r\n    @Override\r\n    public int compare(Object a , Object b){\r\n       if(rank.get(a.type).intValue() &lt; rank.get(b.type).intValue()){\r\n           return -1;\r\n       }\r\n       if(rank.get(a.type).intValue() == rank.get(b.type).intValue()){\r\n           return 0;\r\n       }\r\n       return 1;\r\n    }\r\n}\r\n\r\nAnd I&#39;m trying to remove the duplicated using array.removeAll{} but can&#39;t find the right way. Any help?\r\n\r\n","title":"Java/Groovy Custom comparator and filter array to leaveonly lowest values","body":"<p>I have this array:</p>\n<pre><code>[{\n    &quot;id&quot;: 1,\n    &quot;type&quot;: &quot;A1&quot;,\n    &quot;text&quot;: &quot;Bla bla bla 1 - A1&quot;        \n},\n{\n    &quot;id&quot;: 2,\n    &quot;type&quot;: &quot;A1&quot;,\n    &quot;text&quot;: &quot;Bla bla bla 2 - A1&quot;                \n},\n{\n    &quot;id&quot;: 3,\n    &quot;type&quot;: &quot;A1&quot;,\n    &quot;text&quot;: &quot;Bla bla bla 3 - A1&quot;        \n}\n,\n{\n    &quot;id&quot;: 1,\n    &quot;type&quot;: &quot;A2&quot;,\n    &quot;text&quot;: &quot;Bla bla bla 1 - A2&quot;            \n}]\n</code></pre>\n<p>I need to remove the duplicated &quot;ids&quot; leaving the one with the lower values (example A1 is lower than A2). So in the above example the record with id=1 and type=A2 should be removed.</p>\n<p>In groovy I create this comparator:</p>\n<pre><code>class CustomComparator implements Comparator&lt;Object&gt;{\n\nprivate HashMap&lt;String, Integer&gt; rank;\n\nCustomComparator(){\n    this.rank = new HashMap&lt;&gt;();\n    this.rank.put(&quot;A1&quot;, 1);\n    this.rank.put(&quot;A2&quot;, 2);\n    this.rank.put(&quot;R5&quot;, 3);\n    this.rank.put(&quot;R8&quot;, 4);\n    this.rank.put(&quot;A4&quot;, 5);\n}\n\n@Override\npublic int compare(Object a , Object b){\n   if(rank.get(a.type).intValue() &lt; rank.get(b.type).intValue()){\n       return -1;\n   }\n   if(rank.get(a.type).intValue() == rank.get(b.type).intValue()){\n       return 0;\n   }\n   return 1;\n}\n</code></pre>\n<p>}</p>\n<p>And I'm trying to remove the duplicated using array.removeAll{} but can't find the right way. Any help?</p>\n"},{"tags":["java","serialization","sap-commerce-cloud","objectinputstream","bytearrayoutputstream"],"comments":[{"owner":{"account_id":8963389,"reputation":121,"user_id":6685089,"display_name":"maharr"},"score":0,"creation_date":1680043707,"post_id":75745497,"comment_id":133829167,"body_markdown":"How do you do the upload? Via FTP and Hotfolder?","body":"How do you do the upload? Via FTP and Hotfolder?"}],"owner":{"account_id":19687197,"reputation":1,"user_id":14412908,"display_name":"Olga grts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678887517,"creation_date":1678887517,"question_id":75745497,"body_markdown":"**task: create file with serialized objects in one hybris instance and upload it to another hybris instance, read and get desirialized objects.**\r\n\r\nI create file with serialized objects and write it to media:\r\n\r\n```\r\nList&lt;DeliveryPointDTO&gt; deliveryPointDtos = IntegrationClient.getAllDeliveryPoints();\r\n\r\ntry \r\n{     \r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();     \r\n    ObjectOutputStream oos = new ObjectOutputStream(baos);     \r\n    oos.writeObject(deliveryPointDtos);     \r\n    oos.flush();     \r\n    oos.close();      \r\n    InputStream is = new ByteArrayInputStream(baos.toByteArray());      \r\n    String fileName = &quot;&quot;deliveryPointsDTO&quot;&quot;;     \r\n    String fileNameFull = fileName + &quot;&quot;.txt&quot;&quot;;      \r\n    final MediaModel media = modelService.create(MediaModel.class);     \r\n    media.setCode(fileName);     \r\n    media.setMime(&quot;text/csv&quot;);     \r\n    media.setRealFileName(fileNameFull);         \r\n    modelService.save(media);      \r\n    LOG.info(&#39;Write to media&#39;)     \r\n    try \r\n        {         \r\n        final InputStream inputStream = is;         \r\n        mediaService.setStreamForMedia(media, inputStream, fileNameFull, mimeType);            \r\n        } \r\n        catch (Exception e) \r\n        {         \r\n        LOG.error(e.getMessage(), e);     \r\n        } \r\n}  \r\ncatch (IOException e) \r\n{     \r\nLOG.info(&#39;Error initializing stream&#39;); \r\n}\r\n```\r\n\r\nThen I download file and create media with it in another hybris instance, but after uploading I get corrupted symbols and exception, when I try to desirialize:\r\n\r\n`MediaModel media_deliveryPointsDTO = mediaService.getMedia(&#39;LodisticsDeliveryPointsDTO&#39;)`\r\n\r\n`final InputStream inputStream = mediaService.getStreamFromMedia(media_DeliveryPointsDTO)`  \r\n`ObjectInputStream ois = new ObjectInputStream(inputStream);`  \r\n`List&lt;DeliveryPointDTO&gt; deliveryPointDTOs = (List&lt;DeliveryPointDTO&gt;) ois.readObject();`  \r\n`ois.close();`\r\n\r\n**Exception in thread &quot;main&quot; java.io.StreamCorruptedException: invalid stream header: EFBFBDEF**\r\n\r\nWonder what I misunderstood in process or do wrong :(\r\n\r\nI can desirialize first file in new java project, so I think nothing wrong with encoding.\r\n\r\nBut second file (**after upload to hybris as media and again download) I get same exception**","title":"hybris import txt file as media","body":"<p><strong>task: create file with serialized objects in one hybris instance and upload it to another hybris instance, read and get desirialized objects.</strong></p>\n<p>I create file with serialized objects and write it to media:</p>\n<pre><code>List&lt;DeliveryPointDTO&gt; deliveryPointDtos = IntegrationClient.getAllDeliveryPoints();\n\ntry \n{     \n    ByteArrayOutputStream baos = new ByteArrayOutputStream();     \n    ObjectOutputStream oos = new ObjectOutputStream(baos);     \n    oos.writeObject(deliveryPointDtos);     \n    oos.flush();     \n    oos.close();      \n    InputStream is = new ByteArrayInputStream(baos.toByteArray());      \n    String fileName = &quot;&quot;deliveryPointsDTO&quot;&quot;;     \n    String fileNameFull = fileName + &quot;&quot;.txt&quot;&quot;;      \n    final MediaModel media = modelService.create(MediaModel.class);     \n    media.setCode(fileName);     \n    media.setMime(&quot;text/csv&quot;);     \n    media.setRealFileName(fileNameFull);         \n    modelService.save(media);      \n    LOG.info('Write to media')     \n    try \n        {         \n        final InputStream inputStream = is;         \n        mediaService.setStreamForMedia(media, inputStream, fileNameFull, mimeType);            \n        } \n        catch (Exception e) \n        {         \n        LOG.error(e.getMessage(), e);     \n        } \n}  \ncatch (IOException e) \n{     \nLOG.info('Error initializing stream'); \n}\n</code></pre>\n<p>Then I download file and create media with it in another hybris instance, but after uploading I get corrupted symbols and exception, when I try to desirialize:</p>\n<p><code>MediaModel media_deliveryPointsDTO = mediaService.getMedia('LodisticsDeliveryPointsDTO')</code></p>\n<p><code>final InputStream inputStream = mediaService.getStreamFromMedia(media_DeliveryPointsDTO)</code><br />\n<code>ObjectInputStream ois = new ObjectInputStream(inputStream);</code><br />\n<code>List&lt;DeliveryPointDTO&gt; deliveryPointDTOs = (List&lt;DeliveryPointDTO&gt;) ois.readObject();</code><br />\n<code>ois.close();</code></p>\n<p><strong>Exception in thread &quot;main&quot; java.io.StreamCorruptedException: invalid stream header: EFBFBDEF</strong></p>\n<p>Wonder what I misunderstood in process or do wrong :(</p>\n<p>I can desirialize first file in new java project, so I think nothing wrong with encoding.</p>\n<p>But second file (<strong>after upload to hybris as media and again download) I get same exception</strong></p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":28003007,"reputation":47,"user_id":21386865,"display_name":"Pauls Baby"},"score":0,"creation_date":1678896133,"post_id":75745471,"comment_id":133622933,"body_markdown":"What I am trying to achieve is I am using manual_immediate acknowledge mode to handle commits manually to reduce duplicates and commit events which were processed but could not be acknowledged. If I stop container, won&#39;t it remain at last offset on scenario the stored variable with offset got updated after processing and then application stopped before acknowledging. Hence resulting in an extra duplicate record.","body":"What I am trying to achieve is I am using manual_immediate acknowledge mode to handle commits manually to reduce duplicates and commit events which were processed but could not be acknowledged. If I stop container, won&#39;t it remain at last offset on scenario the stored variable with offset got updated after processing and then application stopped before acknowledging. Hence resulting in an extra duplicate record."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678896356,"post_id":75745471,"comment_id":133622999,"body_markdown":"It&#39;s not clear what you mean by &quot;processed but could not be acknowledged&quot;. Maybe edit the question to show some code? But, nonetheless, you can&#39;t access the consumer from a different thread, in any scenario.","body":"It&#39;s not clear what you mean by &quot;processed but could not be acknowledged&quot;. Maybe edit the question to show some code? But, nonetheless, you can&#39;t access the consumer from a different thread, in any scenario."},{"owner":{"account_id":28003007,"reputation":47,"user_id":21386865,"display_name":"Pauls Baby"},"score":0,"creation_date":1678899337,"post_id":75745471,"comment_id":133623948,"body_markdown":"Once my Kafka listener receive the message I am performing some transformations on it (this is meant as processing). Then I will consider that offset as committed and save the offset somewhere (for now in a static variable). Then I will acknowledge record manually rather than leaving it to Kafka. In this case, suppose application stopped before acknowledging but after saving offset in variable I wanted to commit latest offsets from variable in SmartLifeCycle stop() method. I believe you also meant the same in that answer in the link other than the manually acknowledging part.","body":"Once my Kafka listener receive the message I am performing some transformations on it (this is meant as processing). Then I will consider that offset as committed and save the offset somewhere (for now in a static variable). Then I will acknowledge record manually rather than leaving it to Kafka. In this case, suppose application stopped before acknowledging but after saving offset in variable I wanted to commit latest offsets from variable in SmartLifeCycle stop() method. I believe you also meant the same in that answer in the link other than the manually acknowledging part."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678901346,"post_id":75745471,"comment_id":133624538,"body_markdown":"That doesn&#39;t make any sense; the application can&#39;t stop until the listener exits anyway.","body":"That doesn&#39;t make any sense; the application can&#39;t stop until the listener exits anyway."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678887364,"creation_date":1678887364,"answer_id":75745471,"question_id":75741531,"body_markdown":"You should not interact with the consumer directly.\r\n\r\nThe container will automatically commit any acknowledged offsets when it is stopped. So stop the container.","title":"Committing latest processed Kafka offset from SmartLifeCycle stop() correctly when application is stopping","body":"<p>You should not interact with the consumer directly.</p>\n<p>The container will automatically commit any acknowledged offsets when it is stopped. So stop the container.</p>\n"}],"owner":{"account_id":28003007,"reputation":47,"user_id":21386865,"display_name":"Pauls Baby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678887364,"creation_date":1678864650,"question_id":75741531,"body_markdown":"&lt;https://stackoverflow.com/questions/69008922/kafka-commiting-offset-before-consumer-is-shut-down-on-app-stop-commiting-of&gt;\r\n\r\nThe answer here suggests to commit from the stop() method of SmartLifeCycle.\r\n\r\nI am using spring-kafka and @KafkaListener annotation. How can I get the Acknowledgement object from listener in SmartLifeCycle stop() method correctly? What I did for now is to create a global variable for consumer and then assign it with the consumer obtained inside from listener. Then in stop() I had called:\r\n\r\n```\r\n consumer.commitSync(processedOffsets)\r\n```\r\n\r\nIt is working as expected. But I don&#39;t think it is correct!\r\n\r\nAlso committing inside stop() method raises a warning:\r\n&gt; &quot;Kafka consumer is not safe for Multithread processing&quot;\r\n\r\nsince it is running on shutdown thread rather than Kafka listener thread.\r\n\r\nMay I know the correct way to commit latest offset from stop() method?\r\n\r\n","title":"Committing latest processed Kafka offset from SmartLifeCycle stop() correctly when application is stopping","body":"<p><a href=\"https://stackoverflow.com/questions/69008922/kafka-commiting-offset-before-consumer-is-shut-down-on-app-stop-commiting-of\">Kafka - commiting offset before consumer is shut down on app stop + commiting offset from the past</a></p>\n<p>The answer here suggests to commit from the stop() method of SmartLifeCycle.</p>\n<p>I am using spring-kafka and @KafkaListener annotation. How can I get the Acknowledgement object from listener in SmartLifeCycle stop() method correctly? What I did for now is to create a global variable for consumer and then assign it with the consumer obtained inside from listener. Then in stop() I had called:</p>\n<pre><code> consumer.commitSync(processedOffsets)\n</code></pre>\n<p>It is working as expected. But I don't think it is correct!</p>\n<p>Also committing inside stop() method raises a warning:</p>\n<blockquote>\n<p>&quot;Kafka consumer is not safe for Multithread processing&quot;</p>\n</blockquote>\n<p>since it is running on shutdown thread rather than Kafka listener thread.</p>\n<p>May I know the correct way to commit latest offset from stop() method?</p>\n"},{"tags":["java","spring","spring-boot","maven","environment-variables"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1679129871,"post_id":75742838,"comment_id":133668640,"body_markdown":"**Comments have been [moved to chat](https://chat.stackoverflow.com/rooms/252589/discussion-on-question-by-cecilia-reading-env-and-properties-yml-files-based-on); please do not continue the discussion here.** Before posting a comment below this one, please review the [purposes of comments](/help/privileges/comment). Comments that do not request clarification or suggest improvements usually belong as an [answer](/help/how-to-answer), on [meta], or in [chat]. Comments continuing discussion may be removed.","body":"<b>Comments have been <a href=\"https://chat.stackoverflow.com/rooms/252589/discussion-on-question-by-cecilia-reading-env-and-properties-yml-files-based-on\">moved to chat</a>; please do not continue the discussion here.</b> Before posting a comment below this one, please review the <a href=\"/help/privileges/comment\">purposes of comments</a>. Comments that do not request clarification or suggest improvements usually belong as an <a href=\"/help/how-to-answer\">answer</a>, on <a href=\"https://meta.stackoverflow.com\">Meta Stack Overflow</a>, or in <a href=\"https://chat.stackoverflow.com/\">Stack Overflow Chat</a>. Comments continuing discussion may be removed."}],"answers":[{"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678886522,"post_id":75745196,"comment_id":133619633,"body_markdown":"it&#39;s getting weird (in command line (in opposite to files!)), when the values (modern passwords/keys/hashes tend to) contain (OS, shell specific) &quot;special and quoting characters&quot; ... ;(;(","body":"it&#39;s getting weird (in command line (in opposite to files!)), when the values (modern passwords/keys/hashes tend to) contain (OS, shell specific) &quot;special and quoting characters&quot; ... ;(;("},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1678886675,"post_id":75745196,"comment_id":133619677,"body_markdown":"so (e.g.) `foo.bar=!&quot;&#167;${ab0x!&#39;)\\t\\r\\n *+-&#39;System.exit(-1);\\&#39;\\&quot;&quot;&quot;\\\\\\ ` will be much harder to &quot;pass via command line&quot;","body":"so (e.g.) <code>foo.bar=!&quot;&#167;${ab0x!&#39;)\\t\\r\\n *+-&#39;System.exit(-1);\\&#39;\\&quot;&quot;&quot;\\\\\\ </code> will be much harder to &quot;pass via command line&quot;"},{"owner":{"display_name":"user21393940"},"score":0,"creation_date":1678905671,"post_id":75745196,"comment_id":133625651,"body_markdown":"Thank you so much for this wonderful encyclopedia :) It is really useful for not only this particular situation, but also in the future and I took note the whole answer. I will try it, but before that I wanted to vote up and marked it as answer as it is written so nice and seems useful. It I have a problem regarding to this, I will post here again. Many thanks, you must be moderator on SO as an example user.","body":"Thank you so much for this wonderful encyclopedia :) It is really useful for not only this particular situation, but also in the future and I took note the whole answer. I will try it, but before that I wanted to vote up and marked it as answer as it is written so nice and seems useful. It I have a problem regarding to this, I will post here again. Many thanks, you must be moderator on SO as an example user."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1678907897,"post_id":75745196,"comment_id":133626244,"body_markdown":"Thank you very much! There is so much information hidden/untold/auto-configured, but generally &quot;it works&quot;... You can ask (me/here) anytime. (Resp. the last comment on &quot;special, escape and quoting characters&quot; (cmd layer) + (maven plugin layer) + (maven layer) can complicate things...) Future readers/oriented developers, who struggle with this, I want to guide to (modern cloud based &quot;secret (and config) management&quot; a la) [&quot;spring vault&quot;](https://spring.io/guides/gs/vault-config/), [&quot;docker secrets&quot;](https://docs.docker.com/engine/swarm/secrets/)....","body":"Thank you very much! There is so much information hidden/untold/auto-configured, but generally &quot;it works&quot;... You can ask (me/here) anytime. (Resp. the last comment on &quot;special, escape and quoting characters&quot; (cmd layer) + (maven plugin layer) + (maven layer) can complicate things...) Future readers/oriented developers, who struggle with this, I want to guide to (modern cloud based &quot;secret (and config) management&quot; a la) <a href=\"https://spring.io/guides/gs/vault-config/\" rel=\"nofollow noreferrer\">&quot;spring vault&quot;</a>, <a href=\"https://docs.docker.com/engine/swarm/secrets/\" rel=\"nofollow noreferrer\">&quot;docker secrets&quot;</a>...."}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678887072,"creation_date":1678885840,"answer_id":75745196,"question_id":75742838,"body_markdown":"Don&#39;t panic! It is/*must be* working...\r\n\r\nStart simple:  \r\n1. [quickstart-maven, dependencies: web (only)](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.4&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web)\r\n\r\n2. Just a demo (no/empty `application.properties`, *according to `foo.bar, foo.baz` we can refer to any [common][1]/custom &quot;property&quot;* ;):\r\n   ```lang-java\r\n   package com.example.demo;\r\n\r\n   import org.springframework.beans.factory.InitializingBean;\r\n   import org.springframework.beans.factory.annotation.Value;\r\n   import org.springframework.boot.SpringApplication;\r\n   import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n   import org.springframework.context.annotation.Bean;\r\n\r\n   @SpringBootApplication\r\n   public class DemoConfigApplication {\r\n\r\n     public static void main(String[] args) {\r\n       SpringApplication.run(DemoConfigApplication.class, args);\r\n     }\r\n\r\n     @Bean\r\n     InitializingBean test(\r\n         @Value(&quot;${foo.bar:undefined}&quot;) String fooBar,\r\n         @Value(&quot;${foo.baz:undefined}&quot;) String fooBaz\r\n     ) {\r\n       return () -&gt; {\r\n         System.err.format(&quot;foo.bar: %s%n&quot;, fooBar);\r\n         System.err.format(&quot;foo.baz: %s%n&quot;, fooBaz);\r\n       };\r\n     }\r\n\r\n   }\r\n   ```\r\n3. Build \r\n   ```lang-bash\r\n   ./mvnw clean test\r\n   ```\r\n   prints:\r\n   ```lang-bash\r\n   ...\r\n   foo.bar:\tundefined\r\n   foo.baz:\tundefined\r\n   ...\r\n   ```\r\n\r\n\r\n----------\r\n\r\nTo set these via (springboot-)maven-plugin, we can:\r\n\r\n### ((Git)Ba)sh\r\n\r\n1. Via &quot;Command Line Arguments&quot; \r\n   (with blanks, with my win+gitbash: \r\n   ```$ bash --version\r\n   GNU bash, version 5.2.12(1)-release (x86_64-pc-msys)\r\n   ```\r\n   )\r\n   \r\n   **Syntax**:\r\n   ```lang-bash\r\n   ./mvnw spring-boot:run -Dspring-boot.run.arguments=&quot;--foo.bar=&#39;Foo Bar&#39; --foo.baz=&#39;Foo Baz&#39;&quot;\r\n   ```\r\n   (prints):\r\n   ```lang-bash\r\n   ...\r\n   2023-03-15T13:45:52.849+01:00  INFO 4196 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1106 ms\r\n   foo.bar: Foo Bar\r\n   foo.baz: Foo Baz\r\n   ...\r\n   ```\r\n2. Via &quot;System Properties&quot; (same git bash):\r\n\r\n   **Syntax**:\r\n   ```lang-bash\r\n   ./mvnw spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Dfoo.bar=&#39;Foo Bar&#39; -Dfoo.baz=&#39;Foo Baz&#39;&quot;\r\n   ```\r\n\r\n\r\n----------\r\n\r\nTo make (e.g.) 1. work in \r\n\r\n### cmd.exe \r\n(Version 10.0.19045.2673), same quoting as gitbash:\r\n\r\n```lang-dos\r\n.\\mvnw.cmd spring-boot:run -Dspring-boot.run.arguments=&quot;--foo.bar=&#39;Foo Bar&#39; --foo.baz=&#39;Foo Baz&#39;&quot;\r\n```\r\n\r\n### PowerShell\r\n(v7.3.3)\r\nMore complicated, due to/with [ref][2]:\r\n```lang-powershell\r\n.\\mvnw.cmd spring-boot:run &#39;-Dspring-boot.run.arguments=&quot;--foo.bar=&quot;&quot;Foo Bar&quot;&quot; --foo.baz=&quot;&quot;Foo Baz&quot;&quot;&quot;&#39;\r\n```\r\n   \r\n...\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\r\n  [2]: https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_quoting_rules?view=powershell-7.3","title":"Reading .env and properties.yml files based on profile in Spring Boot?","body":"<p>Don't panic! It is/<em>must be</em> working...</p>\n<p>Start simple:</p>\n<ol>\n<li><p><a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=3.0.4&amp;packaging=jar&amp;jvmVersion=17&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web\" rel=\"nofollow noreferrer\">quickstart-maven, dependencies: web (only)</a></p>\n</li>\n<li><p>Just a demo (no/empty <code>application.properties</code>, <em>according to <code>foo.bar, foo.baz</code> we can refer to any <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\" rel=\"nofollow noreferrer\">common</a>/custom &quot;property&quot;</em> ;):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport org.springframework.beans.factory.InitializingBean;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class DemoConfigApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(DemoConfigApplication.class, args);\n  }\n\n  @Bean\n  InitializingBean test(\n      @Value(&quot;${foo.bar:undefined}&quot;) String fooBar,\n      @Value(&quot;${foo.baz:undefined}&quot;) String fooBaz\n  ) {\n    return () -&gt; {\n      System.err.format(&quot;foo.bar: %s%n&quot;, fooBar);\n      System.err.format(&quot;foo.baz: %s%n&quot;, fooBaz);\n    };\n  }\n\n}\n</code></pre>\n</li>\n<li><p>Build</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./mvnw clean test\n</code></pre>\n<p>prints:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>...\nfoo.bar: undefined\nfoo.baz: undefined\n...\n</code></pre>\n</li>\n</ol>\n<hr />\n<p>To set these via (springboot-)maven-plugin, we can:</p>\n<h3>((Git)Ba)sh</h3>\n<ol>\n<li><p>Via &quot;Command Line Arguments&quot;\n(with blanks, with my win+gitbash:</p>\n<pre><code>GNU bash, version 5.2.12(1)-release (x86_64-pc-msys)\n</code></pre>\n<p>)</p>\n<p><strong>Syntax</strong>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./mvnw spring-boot:run -Dspring-boot.run.arguments=&quot;--foo.bar='Foo Bar' --foo.baz='Foo Baz'&quot;\n</code></pre>\n<p>(prints):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>...\n2023-03-15T13:45:52.849+01:00  INFO 4196 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1106 ms\nfoo.bar: Foo Bar\nfoo.baz: Foo Baz\n...\n</code></pre>\n</li>\n<li><p>Via &quot;System Properties&quot; (same git bash):</p>\n<p><strong>Syntax</strong>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./mvnw spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Dfoo.bar='Foo Bar' -Dfoo.baz='Foo Baz'&quot;\n</code></pre>\n</li>\n</ol>\n<hr />\n<p>To make (e.g.) 1. work in</p>\n<h3>cmd.exe</h3>\n<p>(Version 10.0.19045.2673), same quoting as gitbash:</p>\n<pre class=\"lang-dos prettyprint-override\"><code>.\\mvnw.cmd spring-boot:run -Dspring-boot.run.arguments=&quot;--foo.bar='Foo Bar' --foo.baz='Foo Baz'&quot;\n</code></pre>\n<h3>PowerShell</h3>\n<p>(v7.3.3)\nMore complicated, due to/with <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_quoting_rules?view=powershell-7.3\" rel=\"nofollow noreferrer\">ref</a>:</p>\n<pre class=\"lang-powershell prettyprint-override\"><code>.\\mvnw.cmd spring-boot:run '-Dspring-boot.run.arguments=&quot;--foo.bar=&quot;&quot;Foo Bar&quot;&quot; --foo.baz=&quot;&quot;Foo Baz&quot;&quot;&quot;'\n</code></pre>\n<p>...</p>\n"}],"owner":{"display_name":"user21393940"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75745196,"answer_count":1,"score":3,"last_activity_date":1678887072,"creation_date":1678872863,"question_id":75742838,"body_markdown":"I am using `.env` and `properties.yml` files in my Spring Boot apps and need to be clarified for using them properly. After that, I will also use the other profiles of these files e.g.  `.env-dev` and `properties-dev.yml`.\r\n\r\nCould you please explain these issues? \r\n\r\n**1.** As far as I know, these files are automatically read based on the Run/Debug profile of Intellij or maven. If the active profile is dev, only `.env-dev` and `properties-dev.yml` files are read, if the profile is prod, only `.env-prod` and `properties-prod.yml` files are read. If the profile &quot;dev,prod&quot;, then both of these files are read. Is that true? \r\n\r\n**2.** What if there are only `.env` and `properties.yml` files in the project. Then, are these files always read when profile is selected or not? \r\n\r\n\r\n\r\n**3.** Can I read environment variables from `.env` file when running/debugging app via Maven by giving file name to the following command?\r\n\r\n```\r\nmvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; \r\n-Dspring-boot.run.profiles=dev -Dspring-boot.run.arguments=&quot;DB_NAME=employee_db \r\nDB_USERNAME=postgres DB_PASSWORD=******&quot;\r\n```","title":"Reading .env and properties.yml files based on profile in Spring Boot?","body":"<p>I am using <code>.env</code> and <code>properties.yml</code> files in my Spring Boot apps and need to be clarified for using them properly. After that, I will also use the other profiles of these files e.g.  <code>.env-dev</code> and <code>properties-dev.yml</code>.</p>\n<p>Could you please explain these issues?</p>\n<p><strong>1.</strong> As far as I know, these files are automatically read based on the Run/Debug profile of Intellij or maven. If the active profile is dev, only <code>.env-dev</code> and <code>properties-dev.yml</code> files are read, if the profile is prod, only <code>.env-prod</code> and <code>properties-prod.yml</code> files are read. If the profile &quot;dev,prod&quot;, then both of these files are read. Is that true?</p>\n<p><strong>2.</strong> What if there are only <code>.env</code> and <code>properties.yml</code> files in the project. Then, are these files always read when profile is selected or not?</p>\n<p><strong>3.</strong> Can I read environment variables from <code>.env</code> file when running/debugging app via Maven by giving file name to the following command?</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xdebug&quot; \n-Dspring-boot.run.profiles=dev -Dspring-boot.run.arguments=&quot;DB_NAME=employee_db \nDB_USERNAME=postgres DB_PASSWORD=******&quot;\n</code></pre>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1678804946,"post_id":75734574,"comment_id":133602112,"body_markdown":"[mcve] please - demonstrating the usage of that class, including the stacktrace. That said: for java 11, you can simply loosen the module encapsulation constraints","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please - demonstrating the usage of that class, including the stacktrace. That said: for java 11, you can simply loosen the module encapsulation constraints"},{"owner":{"account_id":8012418,"reputation":1,"user_id":6043693,"display_name":"Magnus Skaar"},"score":0,"creation_date":1678806895,"post_id":75734574,"comment_id":133602767,"body_markdown":"It simply won&#39;t compile: package sun.awt is not visible\n[ERROR]   (package sun.awt is declared in module java.desktop, which does not export it to the unnamed module)","body":"It simply won&#39;t compile: package sun.awt is not visible [ERROR]   (package sun.awt is declared in module java.desktop, which does not export it to the unnamed module)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678807688,"post_id":75734574,"comment_id":133603003,"body_markdown":"learn about the java module system - pretty sure there are tons of questions here that will  be helpful, you might find them by searching the error message in your favorite search engine (sry, in a hurry right now - no time for duplicate hunting, will try later :)","body":"learn about the java module system - pretty sure there are tons of questions here that will  be helpful, you might find them by searching the error message in your favorite search engine (sry, in a hurry right now - no time for duplicate hunting, will try later :)"},{"owner":{"account_id":8012418,"reputation":1,"user_id":6043693,"display_name":"Magnus Skaar"},"score":0,"creation_date":1678809292,"post_id":75734574,"comment_id":133603536,"body_markdown":"Ty for input:) The quick fix is to use --add-exports for compiler. I was hoping for a better solution tho.","body":"Ty for input:) The quick fix is to use --add-exports for compiler. I was hoping for a better solution tho."}],"answers":[{"tags":[],"owner":{"account_id":8012418,"reputation":1,"user_id":6043693,"display_name":"Magnus Skaar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678886960,"creation_date":1678886960,"answer_id":75745384,"question_id":75734574,"body_markdown":"I ended up by exporting the offending classes. Not perfect.\r\n\r\n                &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;--add-exports=java.desktop/sun.awt=ALL-UNNAMED&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n","title":"Using SunToolkit for testing swing app - need replacement","body":"<p>I ended up by exporting the offending classes. Not perfect.</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;--add-exports=java.desktop/sun.awt=ALL-UNNAMED&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":8012418,"reputation":1,"user_id":6043693,"display_name":"Magnus Skaar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75745384,"answer_count":1,"score":-1,"last_activity_date":1678886960,"creation_date":1678804596,"question_id":75734574,"body_markdown":"I maintain a swing application and some of my testclasses use sun.awt.SunToolkit#flushPendingEvents()\r\n\r\nThis works fine with java 1.8, but migrating to java 11 breaks it (class invisible).\r\n\r\nI think my best option is to find a suitable replacement for this specific method.\r\nIf anyone solved this, your insight will be greatly appreciated.\r\n\r\nI have searched for answers online but have come up empty.","title":"Using SunToolkit for testing swing app - need replacement","body":"<p>I maintain a swing application and some of my testclasses use sun.awt.SunToolkit#flushPendingEvents()</p>\n<p>This works fine with java 1.8, but migrating to java 11 breaks it (class invisible).</p>\n<p>I think my best option is to find a suitable replacement for this specific method.\nIf anyone solved this, your insight will be greatly appreciated.</p>\n<p>I have searched for answers online but have come up empty.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1678885895,"post_id":75744857,"comment_id":133619424,"body_markdown":"you can also use `@JsonSubTypes` https://www.baeldung.com/jackson-inheritance","body":"you can also use <code>@JsonSubTypes</code> <a href=\"https://www.baeldung.com/jackson-inheritance\" rel=\"nofollow noreferrer\">baeldung.com/jackson-inheritance</a>"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1678886282,"post_id":75744857,"comment_id":133619541,"body_markdown":"@Chaosfire would you write it as an answer? It&#39;s exactly what I was hoping for","body":"@Chaosfire would you write it as an answer? It&#39;s exactly what I was hoping for"}],"answers":[{"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1678886338,"post_id":75744970,"comment_id":133619572,"body_markdown":"I have oversimplified my example but the name is not even similar (there&#39;s not something like a common prefix). Also doing this seems to make me lose the automatic parsing coming from Jackson","body":"I have oversimplified my example but the name is not even similar (there&#39;s not something like a common prefix). Also doing this seems to make me lose the automatic parsing coming from Jackson"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1678889765,"post_id":75744970,"comment_id":133620737,"body_markdown":"why would it make you loose automatic parsing? it just gets parsed into a map","body":"why would it make you loose automatic parsing? it just gets parsed into a map"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1678947192,"post_id":75744970,"comment_id":133632234,"body_markdown":"Because each different object parsed would simply be an object, I would have to cast it to a specific type before being able to manipulate it and that&#39;s specifically what I wanted to avoid (else even a custom serialiser/deserialiser would have worked). I wanted to still keep Jackson doing the mapping of the JSON to my classes even when I didn&#39;t know what a specific element was","body":"Because each different object parsed would simply be an object, I would have to cast it to a specific type before being able to manipulate it and that&#39;s specifically what I wanted to avoid (else even a custom serialiser/deserialiser would have worked). I wanted to still keep Jackson doing the mapping of the JSON to my classes even when I didn&#39;t know what a specific element was"}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678884679,"creation_date":1678884679,"answer_id":75744970,"question_id":75744857,"body_markdown":"The simplest way is to deserialize it as a `Map&lt;String, Object&gt;` and than treat your map the same way except when retrieving someList* property instead of looking for a particular key such as `someListA` or `SomeListB` just search for the key that starts with `&quot;someList&quot;` prefix","title":"How can I model a generic Jackson POJO with a field that is changing the name?","body":"<p>The simplest way is to deserialize it as a <code>Map&lt;String, Object&gt;</code> and than treat your map the same way except when retrieving someList* property instead of looking for a particular key such as <code>someListA</code> or <code>SomeListB</code> just search for the key that starts with <code>&quot;someList&quot;</code> prefix</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678886758,"creation_date":1678886758,"answer_id":75745342,"question_id":75744857,"body_markdown":"If the list of options for the name is not too long, you can use [JsonAlias][1].\r\n\r\n&gt; Annotation that can be used to define one or more alternative names for a property, accepted during deserialization as alternative to the official name. Alias information is also exposed during POJO introspection, but has no effect during serialization where primary name is always used.\r\n\r\nExample:\r\n```\r\npublic class CommonClass&lt;T&gt; {\r\n    @JsonProperty(&quot;common1&quot;)\r\n    private final CommonType1 common1;\r\n    @JsonProperty(&quot;common2&quot;)\r\n    private final CommonType2 common2;\r\n    @JsonProperty(&quot;common3&quot;)\r\n    private final CommonType3 common3;\r\n    @JsonProperty(&quot;someList&quot;)//official name, used during serialization\r\n    @JsonAlias({&quot;someListA&quot;, &quot;someListB&quot;})//aliases used during deserialization, if the official name was not found\r\n    private final List&lt;T&gt; someList;\r\n}\r\n```\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonAlias.html","title":"How can I model a generic Jackson POJO with a field that is changing the name?","body":"<p>If the list of options for the name is not too long, you can use <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonAlias.html\" rel=\"nofollow noreferrer\">JsonAlias</a>.</p>\n<blockquote>\n<p>Annotation that can be used to define one or more alternative names for a property, accepted during deserialization as alternative to the official name. Alias information is also exposed during POJO introspection, but has no effect during serialization where primary name is always used.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>public class CommonClass&lt;T&gt; {\n    @JsonProperty(&quot;common1&quot;)\n    private final CommonType1 common1;\n    @JsonProperty(&quot;common2&quot;)\n    private final CommonType2 common2;\n    @JsonProperty(&quot;common3&quot;)\n    private final CommonType3 common3;\n    @JsonProperty(&quot;someList&quot;)//official name, used during serialization\n    @JsonAlias({&quot;someListA&quot;, &quot;someListB&quot;})//aliases used during deserialization, if the official name was not found\n    private final List&lt;T&gt; someList;\n}\n</code></pre>\n"}],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75745342,"answer_count":2,"score":0,"last_activity_date":1678886758,"creation_date":1678884115,"question_id":75744857,"body_markdown":"I interact with a set of APIs that all return a similar response: \r\n\r\n    {\r\n        &quot;common1&quot;: ...,\r\n        &quot;common2&quot;: ...,\r\n        &quot;common3&quot;: ...,\r\n        &quot;someList&quot;: [\r\n            //polymorph objects here\r\n        ]\r\n    }\r\n\r\nCurrently, I have a separate POJO for each of these responses. However I would like to factorize this in a common object since I always perform the same actions with such object and that makes a lot of code duplication. \r\n\r\nInitially, I had thought to create a similar Jackson class:\r\n\r\n    public class CommonClass&lt;T&gt; {\r\n        @JsonProperty(&quot;common1&quot;)\r\n        private final CommonType1 common1;\r\n        @JsonProperty(&quot;common2&quot;)\r\n        private final CommonType2 common2;\r\n        @JsonProperty(&quot;common3&quot;)\r\n        private final CommonType3 common3;\r\n        @JsonProperty(&quot;someList&quot;)\r\n        private final List&lt;T&gt; someList;\r\n\r\n        //constructor and getters here\r\n    }\r\n\r\nThis would work fine, except for an issue: the Json name of `someList` changes as well. Sometimes it&#39;s `someListA`, sometimes it&#39;s `someListB`... basically it changes depending on the type it contains.\r\n\r\nThat makes it impossible to follow this approach (at least I think) since I can&#39;t dynamically change the value of the `JsonProperty()` annotations in my POJO. \r\n\r\nI know that I could create a base class and then multiple extensions of such class, each one with a different list (differently named), but that wouldn&#39;t be my ideal solution because I wouldn&#39;t be able to have a common getter to process the elements without downcasting to the concrete type of POJO that I&#39;m handling. \r\n\r\nDo you have any idea/suggestion/approach for such problem? ","title":"How can I model a generic Jackson POJO with a field that is changing the name?","body":"<p>I interact with a set of APIs that all return a similar response:</p>\n<pre><code>{\n    &quot;common1&quot;: ...,\n    &quot;common2&quot;: ...,\n    &quot;common3&quot;: ...,\n    &quot;someList&quot;: [\n        //polymorph objects here\n    ]\n}\n</code></pre>\n<p>Currently, I have a separate POJO for each of these responses. However I would like to factorize this in a common object since I always perform the same actions with such object and that makes a lot of code duplication.</p>\n<p>Initially, I had thought to create a similar Jackson class:</p>\n<pre><code>public class CommonClass&lt;T&gt; {\n    @JsonProperty(&quot;common1&quot;)\n    private final CommonType1 common1;\n    @JsonProperty(&quot;common2&quot;)\n    private final CommonType2 common2;\n    @JsonProperty(&quot;common3&quot;)\n    private final CommonType3 common3;\n    @JsonProperty(&quot;someList&quot;)\n    private final List&lt;T&gt; someList;\n\n    //constructor and getters here\n}\n</code></pre>\n<p>This would work fine, except for an issue: the Json name of <code>someList</code> changes as well. Sometimes it's <code>someListA</code>, sometimes it's <code>someListB</code>... basically it changes depending on the type it contains.</p>\n<p>That makes it impossible to follow this approach (at least I think) since I can't dynamically change the value of the <code>JsonProperty()</code> annotations in my POJO.</p>\n<p>I know that I could create a base class and then multiple extensions of such class, each one with a different list (differently named), but that wouldn't be my ideal solution because I wouldn't be able to have a common getter to process the elements without downcasting to the concrete type of POJO that I'm handling.</p>\n<p>Do you have any idea/suggestion/approach for such problem?</p>\n"},{"tags":["java","oracle","pentaho","pentaho-spoon","pentaho-data-integration"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678742097,"post_id":75726742,"comment_id":133589685,"body_markdown":"Please don&#39;t post images of text.","body":"Please don&#39;t post images of text."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1678754024,"post_id":75726742,"comment_id":133591517,"body_markdown":"RDB is not that driver.","body":"RDB is not that driver."},{"owner":{"account_id":2876507,"reputation":786,"user_id":2468417,"display_name":"Viraj Shah"},"score":0,"creation_date":1678760458,"post_id":75726742,"comment_id":133592268,"body_markdown":"Do not include links to images and do not include images of text/code.","body":"Do not include links to images and do not include images of text/code."}],"answers":[{"tags":[],"owner":{"account_id":6514367,"reputation":1462,"user_id":5040684,"display_name":"Ana GH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678796776,"creation_date":1678796776,"answer_id":75733113,"question_id":75726742,"body_markdown":"As @OldProgrammer has stated, you are not using the correct driver, with the ojdbc8.jar driver library, you have to use the Oracle (without RDB) driver:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HwXD3.png","title":"Could not connect pentaho with oracle","body":"<p>As @OldProgrammer has stated, you are not using the correct driver, with the ojdbc8.jar driver library, you have to use the Oracle (without RDB) driver:\n<a href=\"https://i.stack.imgur.com/HwXD3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HwXD3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":27582926,"reputation":72,"user_id":21051730,"display_name":"TM01"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678885990,"creation_date":1678885990,"answer_id":75745218,"question_id":75726742,"body_markdown":"make sure the version of ojdbc is compatible with the version of the oracle database, I already had a similar problem that resolved when returning to ojdbc 6","title":"Could not connect pentaho with oracle","body":"<p>make sure the version of ojdbc is compatible with the version of the oracle database, I already had a similar problem that resolved when returning to ojdbc 6</p>\n"}],"owner":{"account_id":28009075,"reputation":1,"user_id":21391954,"display_name":"Muhammad Muizzuddin Muskamal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1678885990,"creation_date":1678740307,"question_id":75726742,"body_markdown":"[enter image description here](https://i.stack.imgur.com/CKB5T.png)\r\n\r\nthis is my first time to use pentaho woth oracle. I tried to add ojdbc8.jar file into /lib but nothing changed. Can someone help on how to connect them\r\n\r\nI tried to add ojdbc8.jar file into /lib but nothing changed. I expect there is a problem with my java installed","title":"Could not connect pentaho with oracle","body":"<p><a href=\"https://i.stack.imgur.com/CKB5T.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>this is my first time to use pentaho woth oracle. I tried to add ojdbc8.jar file into /lib but nothing changed. Can someone help on how to connect them</p>\n<p>I tried to add ojdbc8.jar file into /lib but nothing changed. I expect there is a problem with my java installed</p>\n"},{"tags":["java","sql-server","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1678886161,"post_id":75745212,"comment_id":133619499,"body_markdown":"Try `jdbc:sqlserver://localhost;encrypt=true;user=jay;password=M@nUnit3dBaCk0nT0p;`","body":"Try <code>jdbc:sqlserver:&#47;&#47;localhost;encrypt=true;user=jay;password=M@&zwnj;&#8203;nUnit3dBaCk0nT0p;</code>"},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1678886758,"post_id":75745212,"comment_id":133619701,"body_markdown":"@ElliottFrisch no still getting errors, for example this is just one of them `org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table user (user_id bigint identity not null, email varchar(255), first_name varchar(255), last_name varchar(255), mobile_number varchar(255), password varchar(255), primary key (user_id))&quot; via JDBC Statement`","body":"@ElliottFrisch no still getting errors, for example this is just one of them <code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table user (user_id bigint identity not null, email varchar(255), first_name varchar(255), last_name varchar(255), mobile_number varchar(255), password varchar(255), primary key (user_id))&quot; via JDBC Statement</code>"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1678886898,"post_id":75745212,"comment_id":133619743,"body_markdown":"Are you using [JDBC Driver 10.2 for SQL Server](https://techcommunity.microsoft.com/t5/sql-server-blog/jdbc-driver-10-2-for-sql-server-released/ba-p/3100754) or later? It defaults to `encrypt=true;` but requires `trustServerCertificate=true;` when connecting to SQL Servers with self-signed certificates (which is pretty much everything outside of Azure).","body":"Are you using <a href=\"https://techcommunity.microsoft.com/t5/sql-server-blog/jdbc-driver-10-2-for-sql-server-released/ba-p/3100754\" rel=\"nofollow noreferrer\">JDBC Driver 10.2 for SQL Server</a> or later? It defaults to <code>encrypt=true;</code> but requires <code>trustServerCertificate=true;</code> when connecting to SQL Servers with self-signed certificates (which is pretty much everything outside of Azure)."},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":1,"creation_date":1678887179,"post_id":75745212,"comment_id":133619840,"body_markdown":"Please add the full error here, because it is impossible to say what is your problem. And the good idea is to not share your password on the internet &#128521;","body":"Please add the full error here, because it is impossible to say what is your problem. And the good idea is to not share your password on the internet 😉"},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1678887310,"post_id":75745212,"comment_id":133619888,"body_markdown":"The server name is `A003-E5490` do you need to put it in the url instead of `localhost`: `spring.datasource.url=jdbc:A003-E5490;databaseName=brs`","body":"The server name is <code>A003-E5490</code> do you need to put it in the url instead of <code>localhost</code>: <code>spring.datasource.url=jdbc:A003-E5490;databaseName=brs</code>"},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1678887494,"post_id":75745212,"comment_id":133619942,"body_markdown":"@AlwaysLearning I&#39;m not sure, I&#39;m using Microsoft SQL Server Management Studio 18, and the JDBC driver dependency from the Spring Initializer.","body":"@AlwaysLearning I&#39;m not sure, I&#39;m using Microsoft SQL Server Management Studio 18, and the JDBC driver dependency from the Spring Initializer."},{"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"score":0,"creation_date":1678888212,"post_id":75745212,"comment_id":133620189,"body_markdown":"could be also a port issue &quot;jdbc:sqlserver://&lt;server&gt;:&lt;port&gt; ....&quot;, consult with your DBA","body":"could be also a port issue &quot;jdbc:sqlserver://&lt;server&gt;:&lt;port&gt; ....&quot;, consult with your DBA"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1678890622,"post_id":75745212,"comment_id":133621024,"body_markdown":"you probably need to set the database in jdbc url as well. You can also see which port number it uses by running following query: select distinct local_net_address, local_tcp_port from sys.dm_exec_connections where local_net_address is not null","body":"you probably need to set the database in jdbc url as well. You can also see which port number it uses by running following query: select distinct local_net_address, local_tcp_port from sys.dm_exec_connections where local_net_address is not null"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1678890667,"post_id":75745212,"comment_id":133621044,"body_markdown":"or exec xp_readerrorlog 0, 1, N&#39;Server is listening on&#39;","body":"or exec xp_readerrorlog 0, 1, N&#39;Server is listening on&#39;"}],"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1692,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678885949,"creation_date":1678885949,"question_id":75745212,"body_markdown":"I am trying to change my database from MySQL to MS SQL Server in order to use live update in Microsoft Power Bi, however, I am having some issues when trying to create the configuration for the connection in the `application.properties` file. When I run the program I see a lot of errors too many to print but I think it&#39;s fair to assume that the configuration causes them because it works fine if I were to migrate back to a MySQL Database.\r\n\r\nThis is the configuration code:  \r\n```\r\nspring.datasource.url=jdbc:sqlserver://localhost;databaseName=brs\r\nspring.datasource.username=jay\r\nspring.datasource.password=M@nUnit3dBaCk0nT0p\r\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2019Dialect\r\nspring.jpa.hibernate.ddl-auto = update\r\n```\r\n\r\nThese are the parameters used to connect to the server `A003-E5490` is the PCs name\r\n[![Connection to the Server][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qenGN.png\r\n\r\nWhat am I doing wrong?","title":"How to configure connection between Spring boot application and MS SQL Server?","body":"<p>I am trying to change my database from MySQL to MS SQL Server in order to use live update in Microsoft Power Bi, however, I am having some issues when trying to create the configuration for the connection in the <code>application.properties</code> file. When I run the program I see a lot of errors too many to print but I think it's fair to assume that the configuration causes them because it works fine if I were to migrate back to a MySQL Database.</p>\n<p>This is the configuration code:</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://localhost;databaseName=brs\nspring.datasource.username=jay\nspring.datasource.password=M@nUnit3dBaCk0nT0p\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.show-sql=true\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2019Dialect\nspring.jpa.hibernate.ddl-auto = update\n</code></pre>\n<p>These are the parameters used to connect to the server <code>A003-E5490</code> is the PCs name\n<a href=\"https://i.stack.imgur.com/qenGN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qenGN.png\" alt=\"Connection to the Server\" /></a></p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android","ios","flutter","react-native"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678865170,"post_id":75741593,"comment_id":133613881,"body_markdown":"&quot;I haven&#39;t tried anything.&quot; Even though I applaud your honesty, that&#39;s not an approach that will convince many to help you out.","body":"&quot;I haven&#39;t tried anything.&quot; Even though I applaud your honesty, that&#39;s not an approach that will convince many to help you out."},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1678865611,"post_id":75741593,"comment_id":133613973,"body_markdown":"Did you really search in Google? Just putting your title lead me to many links for me.","body":"Did you really search in Google? Just putting your title lead me to many links for me."},{"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"score":0,"creation_date":1678865824,"post_id":75741593,"comment_id":133614017,"body_markdown":"I have found changing it programatically but i want to change in background like this clock app it changes the position of minute app and hour hand as the time changes","body":"I have found changing it programatically but i want to change in background like this clock app it changes the position of minute app and hour hand as the time changes"},{"owner":{"account_id":2441570,"reputation":109958,"user_id":3418066,"accept_rate":100,"display_name":"Paulw11"},"score":0,"creation_date":1678866617,"post_id":75741593,"comment_id":133614191,"body_markdown":"You can&#39;t do this on iOS.","body":"You can&#39;t do this on iOS."}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678885758,"creation_date":1678869432,"answer_id":75742256,"question_id":75741593,"body_markdown":"practically thats not possible. on iOS not at all, on Android there is a way (search for `&lt;activity-alias` tag and switching app launcher icon), but isn&#39;t desired to such often changes, thus probably not efficient, not &quot;device-friendly&quot;. There is a chance that Android itself or fork of it from some manufacturer may limit your app in such possibility recognizing this behavior as impersonation\r\n\r\nnote that app which can change icon oftenly is always a system app - clock, calendar, etc. Such apps have special privileges added to them by manufacturers (Apple, Samsung, Xiaomi etc.), not possible to be granted for common non-system apps. On Android you can install a different &quot;desktop app&quot;, called App launcher, and I bet these &quot;live icons&quot; aren&#39;t working on some of them, maybe all\r\n\r\nFor Android you may consider [App widget](https://developer.android.com/develop/ui/views/appwidgets/overview) for oftenly-changed data presentation, but even this feature have some limitation: &quot;default&quot; smallest refreshing interval is [15 minutes](https://developer.android.com/develop/ui/views/appwidgets/advanced#periodic), performance reasons ofc. but in here you may ommit this limitation with own refreshing mechanism based e.g. on `AlarmManager` and/or `WorkManager`. Widgets were introduced also for iOS, so it looks thats a best way for you","title":"How to make a dynamic app icon in android/ios which changes in the background automatically?","body":"<p>practically thats not possible. on iOS not at all, on Android there is a way (search for <code>&lt;activity-alias</code> tag and switching app launcher icon), but isn't desired to such often changes, thus probably not efficient, not &quot;device-friendly&quot;. There is a chance that Android itself or fork of it from some manufacturer may limit your app in such possibility recognizing this behavior as impersonation</p>\n<p>note that app which can change icon oftenly is always a system app - clock, calendar, etc. Such apps have special privileges added to them by manufacturers (Apple, Samsung, Xiaomi etc.), not possible to be granted for common non-system apps. On Android you can install a different &quot;desktop app&quot;, called App launcher, and I bet these &quot;live icons&quot; aren't working on some of them, maybe all</p>\n<p>For Android you may consider <a href=\"https://developer.android.com/develop/ui/views/appwidgets/overview\" rel=\"nofollow noreferrer\">App widget</a> for oftenly-changed data presentation, but even this feature have some limitation: &quot;default&quot; smallest refreshing interval is <a href=\"https://developer.android.com/develop/ui/views/appwidgets/advanced#periodic\" rel=\"nofollow noreferrer\">15 minutes</a>, performance reasons ofc. but in here you may ommit this limitation with own refreshing mechanism based e.g. on <code>AlarmManager</code> and/or <code>WorkManager</code>. Widgets were introduced also for iOS, so it looks thats a best way for you</p>\n"}],"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678876287,"accepted_answer_id":75742256,"answer_count":1,"score":0,"last_activity_date":1678885758,"creation_date":1678865074,"question_id":75741593,"body_markdown":"If anyone knows the realme mobile in that the clock app icon is dynamic means that it changes according to current time how to achieve this in android or in java or flutter or react native\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have search but found nothing.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ADcG7.jpg","title":"How to make a dynamic app icon in android/ios which changes in the background automatically?","body":"<p>If anyone knows the realme mobile in that the clock app icon is dynamic means that it changes according to current time how to achieve this in android or in java or flutter or react native</p>\n<p><a href=\"https://i.stack.imgur.com/ADcG7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ADcG7.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I have search but found nothing.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679909267,"post_id":75741392,"comment_id":133799011,"body_markdown":"It is not just the fact `super()` or `this()` must be first (the JVM itself is OK with putting it later), and there are plans to relax this requirement for Java in [JEP draft: Statements before super()](https://openjdk.org/jeps/8300786). The problem of allowing a `super()` or `this()` to occur in a try-catch would allow you to ignore problems in initializing the object, and thus allow the construction of a partially initialized object, which is not a good thing. Even the proposed relaxation of the rules will not allow you to use try-catch.","body":"It is not just the fact <code>super()</code> or <code>this()</code> must be first (the JVM itself is OK with putting it later), and there are plans to relax this requirement for Java in <a href=\"https://openjdk.org/jeps/8300786\" rel=\"nofollow noreferrer\">JEP draft: Statements before super()</a>. The problem of allowing a <code>super()</code> or <code>this()</code> to occur in a try-catch would allow you to ignore problems in initializing the object, and thus allow the construction of a partially initialized object, which is not a good thing. Even the proposed relaxation of the rules will not allow you to use try-catch."}],"answers":[{"comments":[{"owner":{"account_id":7038592,"reputation":344,"user_id":8244472,"display_name":"R Nanthak"},"score":0,"creation_date":1678864541,"post_id":75741499,"comment_id":133613764,"body_markdown":"but, throwing exception in catch, still shows that class is not constructed well, so they could have allowed it right?.","body":"but, throwing exception in catch, still shows that class is not constructed well, so they could have allowed it right?."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1678866139,"post_id":75741499,"comment_id":133614083,"body_markdown":"By “JLD” did you mean *The Java Language Specification* found [here](https://docs.oracle.com/javase/specs/)?","body":"By “JLD” did you mean <i>The Java Language Specification</i> found <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">here</a>?"}],"tags":[],"owner":{"account_id":21820459,"reputation":73,"user_id":16116728,"display_name":"samann"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678864400,"creation_date":1678864400,"answer_id":75741499,"question_id":75741392,"body_markdown":"The JLD does not allow it. There could be multiple reasons why they do not allow it but i guess it is because a constructor is not a method it does not return any value. So it means there went something wrong with creating the class. In this case the initialization of the class went wrong and it is not guaranteed that it will work properly and it should be checked that all parameters given to the constructor should be correct before it is getting called. ","title":"why I can&#39;t wrap super with try catch with throw exception in the catch","body":"<p>The JLD does not allow it. There could be multiple reasons why they do not allow it but i guess it is because a constructor is not a method it does not return any value. So it means there went something wrong with creating the class. In this case the initialization of the class went wrong and it is not guaranteed that it will work properly and it should be checked that all parameters given to the constructor should be correct before it is getting called.</p>\n"}],"owner":{"account_id":7038592,"reputation":344,"user_id":8244472,"display_name":"R Nanthak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678866203,"answer_count":1,"score":0,"last_activity_date":1678885685,"creation_date":1678863521,"question_id":75741392,"body_markdown":"Why the following code is not getting compiled. Generally super is not allowed to be wrapped in try-catch, because if exception thrown in super shows that super didn&#39;t complete, so it shouldn&#39;t be wrapped. But what if I throw exception in the try catch block. This still indicates that the class is not constructed completely right. So java developers could have allowed this case when they throw exception in the try catch block around super right. Is there any reason for why this is not allowed. The other question which made this as duplicate asks about why the super has to be first statement in the constructor. But this one is regarding throwing different exception instead superclass&#39;s thrown exception. \r\n```\r\nclass AA\r\n{\r\n\tAA() throws FileNotFoundException\r\n\t{\r\n\t\tthrow new FileNotFoundException();\r\n\t}\r\n}\r\nclass BB extends AA\r\n{\r\n\tBB() throws Exception\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tsuper();\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tthrows new Exception();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n```","title":"why I can&#39;t wrap super with try catch with throw exception in the catch","body":"<p>Why the following code is not getting compiled. Generally super is not allowed to be wrapped in try-catch, because if exception thrown in super shows that super didn't complete, so it shouldn't be wrapped. But what if I throw exception in the try catch block. This still indicates that the class is not constructed completely right. So java developers could have allowed this case when they throw exception in the try catch block around super right. Is there any reason for why this is not allowed. The other question which made this as duplicate asks about why the super has to be first statement in the constructor. But this one is regarding throwing different exception instead superclass's thrown exception.</p>\n<pre><code>class AA\n{\n    AA() throws FileNotFoundException\n    {\n        throw new FileNotFoundException();\n    }\n}\nclass BB extends AA\n{\n    BB() throws Exception\n    {\n        try\n        {\n            super();\n        }\n        catch(Exception e)\n        {\n            throws new Exception();\n        }\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":3,"creation_date":1678883145,"post_id":75744625,"comment_id":133618651,"body_markdown":"Why not simply `protected HashMap&lt;String, Song&gt; songsCollection = new HashMap&lt;&gt;();` ?","body":"Why not simply <code>protected HashMap&lt;String, Song&gt; songsCollection = new HashMap&lt;&gt;();</code> ?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678883195,"post_id":75744625,"comment_id":133618665,"body_markdown":"@racraman And generally the first type should be `Map`, not `HashMap` (not your mistake, but you did preserve it)","body":"@racraman And generally the first type should be <code>Map</code>, not <code>HashMap</code> (not your mistake, but you did preserve it)"},{"owner":{"account_id":28022978,"reputation":1,"user_id":21403470,"display_name":"BaronVice"},"score":0,"creation_date":1678885234,"post_id":75744625,"comment_id":133619248,"body_markdown":"@racraman In that case `@RequiredArgsConstructor` will not generate argument for `songsCollection`","body":"@racraman In that case <code>@RequiredArgsConstructor</code> will not generate argument for <code>songsCollection</code>"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1678885263,"post_id":75744625,"comment_id":133619256,"body_markdown":"@racraman Then use &quot;AllArgsConstructor&quot;","body":"@racraman Then use &quot;AllArgsConstructor&quot;"},{"owner":{"account_id":28022978,"reputation":1,"user_id":21403470,"display_name":"BaronVice"},"score":0,"creation_date":1678885420,"post_id":75744625,"comment_id":133619281,"body_markdown":"@Michael Indeed it should. Thanks!","body":"@Michael Indeed it should. Thanks!"}],"owner":{"account_id":28022978,"reputation":1,"user_id":21403470,"display_name":"BaronVice"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678885453,"creation_date":1678882862,"question_id":75744625,"body_markdown":"Is it possible to roll a constructor with no arguments like below into lombok annotation?\r\n\r\n```\r\n@RequiredArgsConstructor\r\npublic abstract class Music implements IMusic {\r\n\r\n    @NonNull\r\n    protected Map&lt;String, Song&gt; songsCollection;\r\n\r\n    // This one\r\n    public Music(){\r\n        songsCollection = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\n\r\nI tried it with `@NoArgsConstructor` but it&#39;s just an empty block. I also combined `@Builder`, `@Singular`, `@Default` with no success.","title":"Lombok initialization inside NoArgsConstructor","body":"<p>Is it possible to roll a constructor with no arguments like below into lombok annotation?</p>\n<pre><code>@RequiredArgsConstructor\npublic abstract class Music implements IMusic {\n\n    @NonNull\n    protected Map&lt;String, Song&gt; songsCollection;\n\n    // This one\n    public Music(){\n        songsCollection = new HashMap&lt;&gt;();\n    }\n\n    ...\n}\n</code></pre>\n<p>I tried it with <code>@NoArgsConstructor</code> but it's just an empty block. I also combined <code>@Builder</code>, <code>@Singular</code>, <code>@Default</code> with no success.</p>\n"},{"tags":["java","maven","intellij-idea","amazon-ecr"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1679336621,"post_id":75745078,"comment_id":133700357,"body_markdown":"Are there any errors in idea.log (&quot;Help | Show Log in...&quot;)? Is your local repo checked according to recorded events in log?","body":"Are there any errors in idea.log (&quot;Help | Show Log in...&quot;)? Is your local repo checked according to recorded events in log?"},{"owner":{"account_id":25715412,"reputation":13,"user_id":19473280,"display_name":"RanAbitbul"},"score":0,"creation_date":1679836254,"post_id":75745078,"comment_id":133788417,"body_markdown":"@y.bedrov nope, I cleared the logs and tried again, nothing there","body":"@y.bedrov nope, I cleared the logs and tried again, nothing there"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1679905506,"post_id":75745078,"comment_id":133798107,"body_markdown":"No maven related records about downloading?","body":"No maven related records about downloading?"},{"owner":{"account_id":25715412,"reputation":13,"user_id":19473280,"display_name":"RanAbitbul"},"score":0,"creation_date":1679922526,"post_id":75745078,"comment_id":133802518,"body_markdown":"@y.bedrov nothing..","body":"@y.bedrov nothing.."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1680870539,"post_id":75745078,"comment_id":133972893,"body_markdown":"Is your internal repository mentioned in &quot;Settings/Preferences | Build, Execution, Deployment | Build Tools | Maven | Repositories&quot;?","body":"Is your internal repository mentioned in &quot;Settings/Preferences | Build, Execution, Deployment | Build Tools | Maven | Repositories&quot;?"},{"owner":{"account_id":25715412,"reputation":13,"user_id":19473280,"display_name":"RanAbitbul"},"score":0,"creation_date":1681722073,"post_id":75745078,"comment_id":134096587,"body_markdown":"@y.bedrov is, it is","body":"@y.bedrov is, it is"}],"owner":{"account_id":25715412,"reputation":13,"user_id":19473280,"display_name":"RanAbitbul"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678885210,"creation_date":1678885210,"question_id":75745078,"body_markdown":"I am receiving the following IntelliJ error - \r\n\r\n```\r\nCannot download sources\r\n\r\nsources not found for: &lt;my-artifact&gt;\r\n```\r\n\r\nThis only happens when I try to download sources that are in my company&#39;s AWS ECR. \r\n\r\nI am connected to the company&#39;s VPN, and I have a fresh AWS Code Artifact token.\r\n\r\nI have tried running:\r\n```\r\nmvn dependency:sources\r\n```\r\n\r\nAny ideas to how I can get this to download internal sources?\r\n\r\nThanks.","title":"IntelliJ cannot download sources from private ECR","body":"<p>I am receiving the following IntelliJ error -</p>\n<pre><code>Cannot download sources\n\nsources not found for: &lt;my-artifact&gt;\n</code></pre>\n<p>This only happens when I try to download sources that are in my company's AWS ECR.</p>\n<p>I am connected to the company's VPN, and I have a fresh AWS Code Artifact token.</p>\n<p>I have tried running:</p>\n<pre><code>mvn dependency:sources\n</code></pre>\n<p>Any ideas to how I can get this to download internal sources?</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678885009,"creation_date":1678885009,"answer_id":75745033,"question_id":75744826,"body_markdown":"From the [Kotlin documentation](https://kotlinlang.org/docs/java-interop.html#getters-and-setters):\r\n\r\n&gt;Note that, if the Java class only has a setter, it isn&#39;t visible as a property in Kotlin because Kotlin doesn&#39;t support set-only properties.\r\n\r\n`ImageView` has a `setImageResource` but no `getImageResource`, so it falls into the category mentioned above.","title":"What does it depend on, whether you can or cannot call a Java getter/setter method using Kotlin&#39;s property access syntax, in one case or another?","body":"<p>From the <a href=\"https://kotlinlang.org/docs/java-interop.html#getters-and-setters\" rel=\"nofollow noreferrer\">Kotlin documentation</a>:</p>\n<blockquote>\n<p>Note that, if the Java class only has a setter, it isn't visible as a property in Kotlin because Kotlin doesn't support set-only properties.</p>\n</blockquote>\n<p><code>ImageView</code> has a <code>setImageResource</code> but no <code>getImageResource</code>, so it falls into the category mentioned above.</p>\n"},{"comments":[{"owner":{"account_id":23842063,"reputation":646,"user_id":17846993,"display_name":"bighugedev"},"score":0,"creation_date":1678885559,"post_id":75745073,"comment_id":133619325,"body_markdown":"Wonderful! It&#39;s so clear now!","body":"Wonderful! It&#39;s so clear now!"}],"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678885185,"creation_date":1678885185,"answer_id":75745073,"question_id":75744826,"body_markdown":"It only creates a property if it can find a getter and setter with matching type. In your ImageView example, there&#39;s a `setImageReference` but no `getImageReference`, so no property.\r\n\r\nAnother example would be with TextView. You can do\r\n\r\n```kotlin\r\ntextView.text = &quot;hello&quot;\r\n```\r\nbut you cannot do\r\n```kotlin\r\ntextView.text = R.string.hello // have to use textView.setText(R.string.hello)\r\n```\r\nThis is because `TextView.getText()` returns a CharSequence so the only `setText` overload that matches is the one that takes a CharSequence argument.","title":"What does it depend on, whether you can or cannot call a Java getter/setter method using Kotlin&#39;s property access syntax, in one case or another?","body":"<p>It only creates a property if it can find a getter and setter with matching type. In your ImageView example, there's a <code>setImageReference</code> but no <code>getImageReference</code>, so no property.</p>\n<p>Another example would be with TextView. You can do</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>textView.text = &quot;hello&quot;\n</code></pre>\n<p>but you cannot do</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>textView.text = R.string.hello // have to use textView.setText(R.string.hello)\n</code></pre>\n<p>This is because <code>TextView.getText()</code> returns a CharSequence so the only <code>setText</code> overload that matches is the one that takes a CharSequence argument.</p>\n"}],"owner":{"account_id":23842063,"reputation":646,"user_id":17846993,"display_name":"bighugedev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75745073,"answer_count":2,"score":0,"last_activity_date":1678885185,"creation_date":1678883919,"question_id":75744826,"body_markdown":"In some cases you are able to use property access syntax to reference Java getters/setters, in some cases you aren&#39;t. What defines this behaviour?\r\n\r\n```kotlin\r\nval tv = TextView(this)\r\ntv.setText(&quot;&quot;) // WEAK WARNING: Use of setter method instead of property access syntax\r\ntv.text = &quot;&quot; // OK\r\n\r\nval iv = ImageView(this)\r\niv.setImageResource(R.drawable.ic_launcher_background) // no weak warning, meant to be used that way\r\niv.imageResource = R.drawable.ic_launcher_background // ERROR: Unresolved reference: imageResource\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2n0pR.png","title":"What does it depend on, whether you can or cannot call a Java getter/setter method using Kotlin&#39;s property access syntax, in one case or another?","body":"<p>In some cases you are able to use property access syntax to reference Java getters/setters, in some cases you aren't. What defines this behaviour?</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val tv = TextView(this)\ntv.setText(&quot;&quot;) // WEAK WARNING: Use of setter method instead of property access syntax\ntv.text = &quot;&quot; // OK\n\nval iv = ImageView(this)\niv.setImageResource(R.drawable.ic_launcher_background) // no weak warning, meant to be used that way\niv.imageResource = R.drawable.ic_launcher_background // ERROR: Unresolved reference: imageResource\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2n0pR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2n0pR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","wiremock"],"owner":{"account_id":8138072,"reputation":41,"user_id":7701126,"display_name":"Rohit Binjagermath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678884915,"creation_date":1678883384,"question_id":75744708,"body_markdown":"There is multimodule wiremock spring boot app consisting of root pom (packaging as pom) and other two submodules (maven app packaged as jar). The existing module has boot starter class which is returning correct response and evaluation request correctly but when we call for particular mock response from newly added module it is always returning 404 not found.\r\n\r\nBasically, we have 2 modules having corresponding __files and mapping folders for request and responses and we need to call matching response from newly added module.And also existing module will be the main jar which will be deployed.\r\n\r\nNew module dependency is injected in pom.xml of existing module although it is not working. can anyone please help how to scan new request and responses from new module to get correct mocked response.    \r\n","title":"How to load json request and response from mapping and __files from another module in multimodule spring boot wiremock application","body":"<p>There is multimodule wiremock spring boot app consisting of root pom (packaging as pom) and other two submodules (maven app packaged as jar). The existing module has boot starter class which is returning correct response and evaluation request correctly but when we call for particular mock response from newly added module it is always returning 404 not found.</p>\n<p>Basically, we have 2 modules having corresponding __files and mapping folders for request and responses and we need to call matching response from newly added module.And also existing module will be the main jar which will be deployed.</p>\n<p>New module dependency is injected in pom.xml of existing module although it is not working. can anyone please help how to scan new request and responses from new module to get correct mocked response.</p>\n"},{"tags":["java","android","android-appwidget"],"comments":[{"owner":{"account_id":2102282,"reputation":496,"user_id":1869576,"display_name":"mray190"},"score":0,"creation_date":1463070671,"post_id":37192445,"comment_id":61917863,"body_markdown":"I do not believe that this is possible... Example app that does this?","body":"I do not believe that this is possible... Example app that does this?"},{"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"score":0,"creation_date":1463206924,"post_id":37192445,"comment_id":61976853,"body_markdown":"The contacts apps put contact shortcuts on the home screen by demand. Maybe this is not app widget? Maybe that is indeed something else which is a shortcut which gets specific contact parameters?\nI do not need my widget to get updated periodically, so maybe the answer is there.","body":"The contacts apps put contact shortcuts on the home screen by demand. Maybe this is not app widget? Maybe that is indeed something else which is a shortcut which gets specific contact parameters? I do not need my widget to get updated periodically, so maybe the answer is there."},{"owner":{"account_id":1706823,"reputation":538,"user_id":1565731,"display_name":"Stas Lelyuk"},"score":0,"creation_date":1465636096,"post_id":37192445,"comment_id":62992553,"body_markdown":"@Doron have you found any way to add widget programicaly?","body":"@Doron have you found any way to add widget programicaly?"}],"answers":[{"tags":[],"owner":{"account_id":1706823,"reputation":538,"user_id":1565731,"display_name":"Stas Lelyuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463070729,"creation_date":1463070729,"answer_id":37192669,"question_id":37192445,"body_markdown":"There is no way to put widget on the &quot;Home&quot; screen programicaly.","title":"Adding app widget from my app","body":"<p>There is no way to put widget on the \"Home\" screen programicaly.</p>\n"}],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678884591,"creation_date":1463070015,"question_id":37192445,"body_markdown":"I have written an app which has main activity and app widget.\r\nDragging the widget to the home screen creates new widgets, as it should. I am looking for the way to do it when the user presses a button in the app activity.\r\n","title":"Adding app widget from my app","body":"<p>I have written an app which has main activity and app widget.\nDragging the widget to the home screen creates new widgets, as it should. I am looking for the way to do it when the user presses a button in the app activity.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678883644,"post_id":75744645,"comment_id":133618804,"body_markdown":"Not quite clear what the question is. Also we need to see an example","body":"Not quite clear what the question is. Also we need to see an example"}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678884274,"creation_date":1678884274,"answer_id":75744889,"question_id":75744645,"body_markdown":"If you want to find matching numerical values that are preceded by a label, you can try something like the following:\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n\r\npublic class Bank {\r\n    private static final Pattern accountPattern;\r\n    private static final Pattern routingPattern;\r\n\r\n    static {\r\n        accountPattern = Pattern.compile(&quot;(?&lt;=account\\\\D{0,10})(\\\\d+)&quot;, Pattern.CASE_INSENSITIVE);\r\n        routingPattern = Pattern.compile(&quot;(?&lt;=routing\\\\D{0,10})(\\\\d+)&quot;, Pattern.CASE_INSENSITIVE);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String pdfText = &quot;...\\n account: 12345 ...\\n routing: 1122334455 ...\\n ...&quot;;\r\n        Map&lt;String, Long&gt; accountInfo = extractAccountInfo(pdfText);\r\n\r\n        System.out.println(accountInfo);\r\n    }\r\n\r\n    public static Map&lt;String, Long&gt; extractAccountInfo(String text) {\r\n        Map&lt;String, Long&gt; result = new HashMap&lt;&gt;();\r\n        Matcher accountMatcher = accountPattern.matcher(text);\r\n        Matcher routingMatcher = routingPattern.matcher(text);\r\n\r\n        if (accountMatcher.find() &amp;&amp; routingMatcher.find()) {\r\n            result.put(&quot;account&quot;, Long.parseLong(accountMatcher.group()));\r\n            result.put(&quot;routing&quot;, Long.parseLong(routingMatcher.group()));\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\n## Output\r\n\r\n```\r\n{routing=1122334455, account=12345}\r\n```","title":"string key with co-responding right next integer value","body":"<p>If you want to find matching numerical values that are preceded by a label, you can try something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.regex.*;\n\npublic class Bank {\n    private static final Pattern accountPattern;\n    private static final Pattern routingPattern;\n\n    static {\n        accountPattern = Pattern.compile(&quot;(?&lt;=account\\\\D{0,10})(\\\\d+)&quot;, Pattern.CASE_INSENSITIVE);\n        routingPattern = Pattern.compile(&quot;(?&lt;=routing\\\\D{0,10})(\\\\d+)&quot;, Pattern.CASE_INSENSITIVE);\n    }\n\n    public static void main(String[] args) {\n        String pdfText = &quot;...\\n account: 12345 ...\\n routing: 1122334455 ...\\n ...&quot;;\n        Map&lt;String, Long&gt; accountInfo = extractAccountInfo(pdfText);\n\n        System.out.println(accountInfo);\n    }\n\n    public static Map&lt;String, Long&gt; extractAccountInfo(String text) {\n        Map&lt;String, Long&gt; result = new HashMap&lt;&gt;();\n        Matcher accountMatcher = accountPattern.matcher(text);\n        Matcher routingMatcher = routingPattern.matcher(text);\n\n        if (accountMatcher.find() &amp;&amp; routingMatcher.find()) {\n            result.put(&quot;account&quot;, Long.parseLong(accountMatcher.group()));\n            result.put(&quot;routing&quot;, Long.parseLong(routingMatcher.group()));\n        }\n\n        return result;\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<pre><code>{routing=1122334455, account=12345}\n</code></pre>\n"}],"owner":{"account_id":15691429,"reputation":1,"user_id":11322390,"display_name":"IA Nadir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678884274,"creation_date":1678883001,"question_id":75744645,"body_markdown":"I am new to java. I am working on a particular problem where routing and account number is given I have to find for routing and account number as string key with co-responding right next integer value (Key- value pair )\r\n\r\nOn whatever page it will finds routing and account number it will return it anyways with co-responding right next integer value\r\n\r\n   \r\n\r\n        String aRegex = &quot;account&quot;; \r\n    \tString rRegex = &quot;routing&quot;; \r\n    \r\n        Pattern aPattern = Pattern.compile(aRegex, Pattern.CASE_INSENSITIVE);\r\n        Matcher aMatcher = aPattern.matcher(text);\r\n        Pattern aPattern = Pattern.compile(rRegex, Pattern.CASE_INSENSITIVE);\r\n        Matcher aMatcher = aPattern.matcher(text);\r\n    \r\n        if (aMatcher.find() &amp;&amp; rMatcher.find()) {\r\n        //Add to a map\r\n            \r\n    \r\n        } else {\r\n            throw new RuntimeException(&quot;Failed to find zip or phone number in PDF.&quot;);\r\n        }\r\n        //i want a map which can get  routing and account number as string key with co-responding right next integer value\r\n\r\n\r\n\r\n","title":"string key with co-responding right next integer value","body":"<p>I am new to java. I am working on a particular problem where routing and account number is given I have to find for routing and account number as string key with co-responding right next integer value (Key- value pair )</p>\n<p>On whatever page it will finds routing and account number it will return it anyways with co-responding right next integer value</p>\n<pre><code>    String aRegex = &quot;account&quot;; \n    String rRegex = &quot;routing&quot;; \n\n    Pattern aPattern = Pattern.compile(aRegex, Pattern.CASE_INSENSITIVE);\n    Matcher aMatcher = aPattern.matcher(text);\n    Pattern aPattern = Pattern.compile(rRegex, Pattern.CASE_INSENSITIVE);\n    Matcher aMatcher = aPattern.matcher(text);\n\n    if (aMatcher.find() &amp;&amp; rMatcher.find()) {\n    //Add to a map\n        \n\n    } else {\n        throw new RuntimeException(&quot;Failed to find zip or phone number in PDF.&quot;);\n    }\n    //i want a map which can get  routing and account number as string key with co-responding right next integer value\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"score":8,"creation_date":1440404169,"post_id":32176782,"comment_id":52240528,"body_markdown":"`resultTable.getItems().clear();` is all you need.","body":"<code>resultTable.getItems().clear();</code> is all you need."},{"owner":{"account_id":6592296,"reputation":101,"user_id":5093107,"display_name":"Fubby Jim-George Fubarata"},"score":1,"creation_date":1440409035,"post_id":32176782,"comment_id":52243475,"body_markdown":"I have already done that but it only removes only the first row.","body":"I have already done that but it only removes only the first row."},{"owner":{"account_id":6592296,"reputation":101,"user_id":5093107,"display_name":"Fubby Jim-George Fubarata"},"score":0,"creation_date":1440411086,"post_id":32176782,"comment_id":52244673,"body_markdown":"Thanks.. user7144965..It was a debugging issue.","body":"Thanks.. user7144965..It was a debugging issue."},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":1,"creation_date":1539359259,"post_id":32176782,"comment_id":92487363,"body_markdown":"You may have to do `resultTable.refresh()` after.","body":"You may have to do <code>resultTable.refresh()</code> after."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1678887375,"post_id":32176782,"comment_id":133619908,"body_markdown":"@trilogy _You may have to do resultTable.refresh()_ not if the all is wired as it should (except in extremely rare corner cases which most certainly is not the case here ;).","body":"@trilogy <i>You may have to do resultTable.refresh()</i> not if the all is wired as it should (except in extremely rare corner cases which most certainly is not the case here ;)."}],"answers":[{"comments":[{"owner":{"account_id":2382878,"reputation":282,"user_id":2084524,"accept_rate":83,"display_name":"Louis Papaloizou"},"score":17,"creation_date":1489419802,"post_id":41494726,"comment_id":72650880,"body_markdown":"tableView.getItems().clear() clears all TableView data. No need to loop it.","body":"tableView.getItems().clear() clears all TableView data. No need to loop it."}],"tags":[],"owner":{"account_id":6857280,"reputation":51,"user_id":5272474,"display_name":"Khush"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1483653173,"creation_date":1483650491,"answer_id":41494726,"question_id":32176782,"body_markdown":"Try using the following: Name &quot;tableView&quot; to whatever your `FXMLtable` is called\r\n\r\n    for ( int i = 0; i&lt;tableView.getItems().size(); i++) {\r\n        tableView.getItems().clear();\r\n    }","title":"How can i clear the all contents of the cell data in every row in my tableview in JAVA FX","body":"<p>Try using the following: Name \"tableView\" to whatever your <code>FXMLtable</code> is called</p>\n\n<pre><code>for ( int i = 0; i&lt;tableView.getItems().size(); i++) {\n    tableView.getItems().clear();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7763775,"reputation":1330,"user_id":5875610,"accept_rate":54,"display_name":"Kevin Hernandez"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1539302951,"creation_date":1539302951,"answer_id":52770465,"question_id":32176782,"body_markdown":"`tableView.getItems().clear()`\r\n\r\nWill do the trick","title":"How can i clear the all contents of the cell data in every row in my tableview in JAVA FX","body":"<p><code>tableView.getItems().clear()</code></p>\n\n<p>Will do the trick</p>\n"},{"tags":[],"owner":{"account_id":7667723,"reputation":41,"user_id":5810983,"display_name":"Arun Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678884059,"creation_date":1678884059,"answer_id":75744851,"question_id":32176782,"body_markdown":"To entirely clear/reset the table (including header), I used this \r\n\r\n        tableView.getColumns().clear();\r\n        tableView.getItems().clear();\r\n\r\nmight help somebody","title":"How can i clear the all contents of the cell data in every row in my tableview in JAVA FX","body":"<p>To entirely clear/reset the table (including header), I used this</p>\n<pre><code>    tableView.getColumns().clear();\n    tableView.getItems().clear();\n</code></pre>\n<p>might help somebody</p>\n"}],"owner":{"account_id":6592296,"reputation":101,"user_id":5093107,"display_name":"Fubby Jim-George Fubarata"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40419,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":3,"score":9,"last_activity_date":1678884059,"creation_date":1440401892,"question_id":32176782,"body_markdown":"I am finding hard to clear the table contents in my table. I have tried this code.\r\n\r\n    for ( int i = 0; i&lt;resultTable.getItems().size(); i++) {\r\n        resultTable.getItems().clear();\r\n    }\r\n\r\nTo clarify my question, the problem I am having is that i want to delete the values in my table. This was the first code i used;\r\n\r\n\r\n    public void removeRow(){\r\n        allFiles = table.getItems(); fileSelected = table.getSelectionModel().getSelectedItems(); \r\n        fileSelected.forEach(allFiles :: remove); \r\n    }\r\n\r\nBut it only removes a particular selected row. I want to clear all the rows and leave the table empty at once, without having to select any row. I tried to use this code; \r\n\r\n\r\n\r\n    public void removeAllRows(){\r\n        for ( int i = 0; i&lt;resultTable.getItems().size(); i++) {\r\n            resultTable.getItems().clear(); \r\n        } \r\n    }\r\n\r\n\r\n\r\nbut it does not clear all the rows in the table\r\n\r\nMy plan is to use this method as an action for a button.\r\ne.g\r\n\r\n\r\n    Button btn = new (&quot;Clear Table&quot;);\r\n    btn..setOnAction(e-&gt;{removeAllRows();});\r\n\r\n\r\nWhen this button is clicked, it should delete all rows in the table at once.","title":"How can i clear the all contents of the cell data in every row in my tableview in JAVA FX","body":"<p>I am finding hard to clear the table contents in my table. I have tried this code.</p>\n\n<pre><code>for ( int i = 0; i&lt;resultTable.getItems().size(); i++) {\n    resultTable.getItems().clear();\n}\n</code></pre>\n\n<p>To clarify my question, the problem I am having is that i want to delete the values in my table. This was the first code i used;</p>\n\n<pre><code>public void removeRow(){\n    allFiles = table.getItems(); fileSelected = table.getSelectionModel().getSelectedItems(); \n    fileSelected.forEach(allFiles :: remove); \n}\n</code></pre>\n\n<p>But it only removes a particular selected row. I want to clear all the rows and leave the table empty at once, without having to select any row. I tried to use this code; </p>\n\n<pre><code>public void removeAllRows(){\n    for ( int i = 0; i&lt;resultTable.getItems().size(); i++) {\n        resultTable.getItems().clear(); \n    } \n}\n</code></pre>\n\n<p>but it does not clear all the rows in the table</p>\n\n<p>My plan is to use this method as an action for a button.\ne.g</p>\n\n<pre><code>Button btn = new (\"Clear Table\");\nbtn..setOnAction(e-&gt;{removeAllRows();});\n</code></pre>\n\n<p>When this button is clicked, it should delete all rows in the table at once.</p>\n"},{"tags":["java","asynchronous","synchronization"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1678842056,"post_id":75739455,"comment_id":133610917,"body_markdown":"Can you give an example how this class is initialized and used?","body":"Can you give an example how this class is initialized and used?"},{"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"score":0,"creation_date":1678846580,"post_id":75739455,"comment_id":133611464,"body_markdown":"It is used as a singleton managed by Spring and to be used like `payloadFetcher.fetch()`","body":"It is used as a singleton managed by Spring and to be used like <code>payloadFetcher.fetch()</code>"},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1678880761,"post_id":75739455,"comment_id":133617960,"body_markdown":"Shouldn&#39;t your private Consumer consumer; be static (so you&#39;ve the same instance accross all the classes)?","body":"Shouldn&#39;t your private Consumer consumer; be static (so you&#39;ve the same instance accross all the classes)?"},{"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"score":0,"creation_date":1678883882,"post_id":75739455,"comment_id":133618867,"body_markdown":"`PayloadFetcher` will be set up as a singleton so I don&#39;t think it matters @Joan","body":"<code>PayloadFetcher</code> will be set up as a singleton so I don&#39;t think it matters @Joan"},{"owner":{"account_id":73540,"reputation":12600,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"score":0,"creation_date":1678884204,"post_id":75739455,"comment_id":133618960,"body_markdown":"SpotBugs uses &quot;static analysis&quot; to look for bugs in Java. Maybe it doesn&#39;t understand what Spring is actually doing, and how it manages the scope of the beans.","body":"SpotBugs uses &quot;static analysis&quot; to look for bugs in Java. Maybe it doesn&#39;t understand what Spring is actually doing, and how it manages the scope of the beans."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1678922479,"post_id":75739455,"comment_id":133629233,"body_markdown":"Can you post a complete, minimal example (including a pom which runs SpotBugs) which reproduces this?","body":"Can you post a complete, minimal example (including a pom which runs SpotBugs) which reproduces this?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679041013,"post_id":75739455,"comment_id":133653031,"body_markdown":"Most likely, SpotBugs infers from the fact that `initConsumer()` is `synchronized` that it is expected to be executed by multiple threads, which implies that `doFetch()` may be executed by multiple threads and hence, must be thread safe. Is `doFetch()` thread safe? We don’t know. Everything but the first line has been omitted. SpotBugs complains about the entire method, you ask us about its first line only…","body":"Most likely, SpotBugs infers from the fact that <code>initConsumer()</code> is <code>synchronized</code> that it is expected to be executed by multiple threads, which implies that <code>doFetch()</code> may be executed by multiple threads and hence, must be thread safe. Is <code>doFetch()</code> thread safe? We don’t know. Everything but the first line has been omitted. SpotBugs complains about the entire method, you ask us about its first line only…"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679193561,"post_id":75739455,"comment_id":133676978,"body_markdown":"What&#39;s the *complete* message from spotbugs? Reading [this question](https://stackoverflow.com/questions/4187286/what-inconsistent-synchronization-means) I&#39;d expect it to be giving you some more detail...","body":"What&#39;s the <i>complete</i> message from spotbugs? Reading <a href=\"https://stackoverflow.com/questions/4187286/what-inconsistent-synchronization-means\">this question</a> I&#39;d expect it to be giving you some more detail..."}],"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678883945,"creation_date":1678839015,"question_id":75739455,"body_markdown":"I have a singleton `PayloadFetcher` that uses a `consumer` to fetch payload.  \r\nI have the `initConsumer` function `synchronized` so that `consumer` singleton is visible across multiple threads.\r\nHowver SpotBugs complains about &quot;Inconsistent synchronization&quot; unless I add `synchronized` to `doFetch` function too, which doesn&#39;t seem necessary to me.  \r\nCould anyone help with my understanding?\r\n```java\r\n\r\npublic class PayloadFetcher {\r\n\r\n  private Consumer consumer;\r\n\r\n  public Payload fetch() {\r\n    final Payload payload = doFetch();\r\n    // ...\r\n    return payload;\r\n  }\r\n\r\n  // SpotBugs want this to be synchronized too\r\n  private Payload doFetch() {\r\n    final Consumer consumer = initConsumer();\r\n    // ...\r\n  }\r\n\r\n  private synchronized Consumer initConsumer() {\r\n    if (consumer == null) {\r\n      // init consumer\r\n    } else {\r\n      return consumer;\r\n    }\r\n  }\r\n\r\n}\r\n```","title":"Inconsistent synchronization during singleton initialization","body":"<p>I have a singleton <code>PayloadFetcher</code> that uses a <code>consumer</code> to fetch payload.<br />\nI have the <code>initConsumer</code> function <code>synchronized</code> so that <code>consumer</code> singleton is visible across multiple threads.\nHowver SpotBugs complains about &quot;Inconsistent synchronization&quot; unless I add <code>synchronized</code> to <code>doFetch</code> function too, which doesn't seem necessary to me.<br />\nCould anyone help with my understanding?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class PayloadFetcher {\n\n  private Consumer consumer;\n\n  public Payload fetch() {\n    final Payload payload = doFetch();\n    // ...\n    return payload;\n  }\n\n  // SpotBugs want this to be synchronized too\n  private Payload doFetch() {\n    final Consumer consumer = initConsumer();\n    // ...\n  }\n\n  private synchronized Consumer initConsumer() {\n    if (consumer == null) {\n      // init consumer\n    } else {\n      return consumer;\n    }\n  }\n\n}\n</code></pre>\n"},{"tags":["java","jobrunr"],"answers":[{"tags":[],"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678883619,"creation_date":1678883619,"answer_id":75744752,"question_id":75743974,"body_markdown":"JobRunr uses the default log level you setup using SLF4J.\r\n\r\nIf you add a SLF4J implementation (e.g. logback), you can configure everything using logback.xml or via spring boot.","title":"Setting log level for JobRunr","body":"<p>JobRunr uses the default log level you setup using SLF4J.</p>\n<p>If you add a SLF4J implementation (e.g. logback), you can configure everything using logback.xml or via spring boot.</p>\n"}],"owner":{"account_id":3165443,"reputation":15,"user_id":2675587,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75744752,"answer_count":1,"score":0,"last_activity_date":1678883619,"creation_date":1678879005,"question_id":75743974,"body_markdown":"I am using the JobRunr framework, but cannot set the log level, which is &quot;DEBUG&quot; by default.\r\n\r\nDid Google research, but to no avail.\r\n\r\nThis is how I initialize JobRunr:\r\n\r\n`JobRunr.configure().useStorageProvider(new InMemoryStorageProvider()).useBackgroundJobServer().initialize();`","title":"Setting log level for JobRunr","body":"<p>I am using the JobRunr framework, but cannot set the log level, which is &quot;DEBUG&quot; by default.</p>\n<p>Did Google research, but to no avail.</p>\n<p>This is how I initialize JobRunr:</p>\n<p><code>JobRunr.configure().useStorageProvider(new InMemoryStorageProvider()).useBackgroundJobServer().initialize();</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15988,"reputation":872908,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"score":7,"creation_date":1396808321,"post_id":22897992,"comment_id":34944417,"body_markdown":"**How** doesn&#39;t it work? Does it explode?","body":"<b>How</b> doesn&#39;t it work? Does it explode?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1396808379,"post_id":22897992,"comment_id":34944442,"body_markdown":"What do you call your &quot;current IP&quot; anyway? It is a vague notion. `ip addr` will show all my IP addresses on my system.","body":"What do you call your &quot;current IP&quot; anyway? It is a vague notion. <code>ip addr</code> will show all my IP addresses on my system."},{"owner":{"account_id":241731,"reputation":8846,"user_id":512728,"accept_rate":80,"display_name":"Jan Doggen"},"score":0,"creation_date":1407518044,"post_id":22897992,"comment_id":39260651,"body_markdown":"I&#39;m not a Java programmer, but this does not look like &quot;getting the IP&quot; at all. You are reading web site contents from a URL. So what do you actually want? If you indeed want the current IP use http://stackoverflow.com/questions/9481865/how-to-get-ip-address-of-current-machine-using-java","body":"I&#39;m not a Java programmer, but this does not look like &quot;getting the IP&quot; at all. You are reading web site contents from a URL. So what do you actually want? If you indeed want the current IP use <a href=\"http://stackoverflow.com/questions/9481865/how-to-get-ip-address-of-current-machine-using-java\" title=\"how to get ip address of current machine using java\">stackoverflow.com/questions/9481865/&hellip;</a>"},{"owner":{"account_id":2980285,"reputation":31,"user_id":2530386,"display_name":"Prakash Selvam"},"score":0,"creation_date":1410859306,"post_id":22897992,"comment_id":40473662,"body_markdown":"i can&#39;t post more quetions on this site by above question please.. i am poor in english.. here after  i post clear question. please remove the badges for this question.. i don&#39;t know how to improve this question...pls","body":"i can&#39;t post more quetions on this site by above question please.. i am poor in english.. here after  i post clear question. please remove the badges for this question.. i don&#39;t know how to improve this question...pls"}],"answers":[{"comments":[{"owner":{"account_id":2980285,"reputation":31,"user_id":2530386,"display_name":"Prakash Selvam"},"score":0,"creation_date":1396809740,"post_id":22898109,"comment_id":34945017,"body_markdown":"can you help to get my location by this ip....?","body":"can you help to get my location by this ip....?"},{"owner":{"account_id":2629478,"reputation":7504,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"score":0,"creation_date":1396810689,"post_id":22898109,"comment_id":34945392,"body_markdown":"Android or pure java?\nPlease ask only one question by Thread, open an other Thread for an other question.","body":"Android or pure java? Please ask only one question by Thread, open an other Thread for an other question."}],"tags":[],"owner":{"account_id":2629478,"reputation":7504,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1396811032,"creation_date":1396808902,"answer_id":22898109,"question_id":22897992,"body_markdown":"You can use **Will&#39;s code** on this Thread : https://stackoverflow.com/questions/2939218/getting-the-external-ip-address-in-java#14541376\r\n\r\nHe use Amazon service to get his &quot;external IP&quot;.\r\n\r\nHere his code :\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n\r\n    public class IpChecker {\r\n\r\n        public static String getIp() throws Exception {\r\n            URL whatismyip = new URL(&quot;http://checkip.amazonaws.com&quot;);\r\n            BufferedReader in = null;\r\n            try {\r\n                in = new BufferedReader(new InputStreamReader(\r\n                        whatismyip.openStream()));\r\n                String ip = in.readLine();\r\n                return ip;\r\n            } finally {\r\n                if (in != null) {\r\n                    try {\r\n                        in.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**All credits goes to Will.**","title":"How to get IP address in windows machine using java","body":"<p>You can use <strong>Will's code</strong> on this Thread : <a href=\"https://stackoverflow.com/questions/2939218/getting-the-external-ip-address-in-java#14541376\">Getting the &#39;external&#39; IP address in Java</a></p>\n\n<p>He use Amazon service to get his \"external IP\".</p>\n\n<p>Here his code :</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\npublic class IpChecker {\n\n    public static String getIp() throws Exception {\n        URL whatismyip = new URL(\"http://checkip.amazonaws.com\");\n        BufferedReader in = null;\n        try {\n            in = new BufferedReader(new InputStreamReader(\n                    whatismyip.openStream()));\n            String ip = in.readLine();\n            return ip;\n        } finally {\n            if (in != null) {\n                try {\n                    in.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>All credits goes to Will.</strong></p>\n"}],"owner":{"account_id":2980285,"reputation":31,"user_id":2530386,"display_name":"Prakash Selvam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":6,"up_vote_count":2,"closed_date":1396816844,"accepted_answer_id":22898109,"answer_count":1,"score":-4,"last_activity_date":1678883263,"creation_date":1396808248,"question_id":22897992,"body_markdown":"I use this code to get my current IP:\r\n\r\n    public String getIpAddress() throws NullPointerException,\r\n    \t\tMalformedURLException, IOException {\r\n    \tURL whatismyip = new URL(&quot;http://checkip.amazonaws.com&quot;);\r\n    \tBufferedReader in = null;\r\n    \ttry {\r\n    \t\tin = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\twhatismyip.openStream()));\r\n    \t\tString ip = in.readLine();\r\n    \t\treturn ip;\r\n    \t} finally {\r\n    \t\tif (in != null) {\r\n    \t\t\ttry {\r\n    \t\t\t\tin.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nbut the return value is incorrect. how to get the IP properly   \r\n\r\n\r\n","title":"How to get IP address in windows machine using java","body":"<p>I use this code to get my current IP:</p>\n<pre><code>public String getIpAddress() throws NullPointerException,\n        MalformedURLException, IOException {\n    URL whatismyip = new URL(&quot;http://checkip.amazonaws.com&quot;);\n    BufferedReader in = null;\n    try {\n        in = new BufferedReader(new InputStreamReader(\n                whatismyip.openStream()));\n        String ip = in.readLine();\n        return ip;\n    } finally {\n        if (in != null) {\n            try {\n                in.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>but the return value is incorrect. how to get the IP properly</p>\n"},{"tags":["java","visualvm"],"answers":[{"comments":[{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":2,"creation_date":1415779944,"post_id":26851207,"comment_id":42319906,"body_markdown":"The correct bug is this one: https://netbeans.org/bugzilla/show_bug.cgi?id=245522 and https://bugs.openjdk.java.net/browse/JDK-8050485. The problem is already fixed in JDK 7u71 and JDK 8u31.","body":"The correct bug is this one: <a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=245522\" rel=\"nofollow noreferrer\">netbeans.org/bugzilla/show_bug.cgi?id=245522</a> and <a href=\"https://bugs.openjdk.java.net/browse/JDK-8050485\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8050485</a>. The problem is already fixed in JDK 7u71 and JDK 8u31."},{"owner":{"account_id":1521999,"reputation":1043,"user_id":1421405,"display_name":"ezzadeen"},"score":35,"creation_date":1488998224,"post_id":26851207,"comment_id":72482810,"body_markdown":"I ran into this problem with java version &quot;1.8.0_121&quot;","body":"I ran into this problem with java version &quot;1.8.0_121&quot;"},{"owner":{"account_id":5823092,"reputation":208,"user_id":4590448,"display_name":"Pritesh Kanthaliya"},"score":0,"creation_date":1491461041,"post_id":26851207,"comment_id":73564540,"body_markdown":"@ezzadeen You solved this problem? I am also getting same.","body":"@ezzadeen You solved this problem? I am also getting same."},{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":12,"creation_date":1499440244,"post_id":26851207,"comment_id":76923460,"body_markdown":"Problem still exists in 1.8.0_131","body":"Problem still exists in 1.8.0_131"},{"owner":{"account_id":3047853,"reputation":1464,"user_id":2583044,"accept_rate":62,"display_name":"62mkv"},"score":0,"creation_date":1510911660,"post_id":26851207,"comment_id":81646818,"body_markdown":"and with 1.8.0_144","body":"and with 1.8.0_144"},{"owner":{"account_id":2051168,"reputation":406,"user_id":1830155,"display_name":"Hummeling Engineering BV"},"score":0,"creation_date":1516358277,"post_id":26851207,"comment_id":83663385,"body_markdown":"and in 1.8.0_152","body":"and in 1.8.0_152"},{"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"score":7,"creation_date":1517939632,"post_id":26851207,"comment_id":84295789,"body_markdown":"still in 1.8.0_162, to put a bit salt","body":"still in 1.8.0_162, to put a bit salt"},{"owner":{"account_id":1520694,"reputation":5745,"user_id":1420441,"accept_rate":100,"display_name":"Henrique de Sousa"},"score":0,"creation_date":1522076004,"post_id":26851207,"comment_id":85992557,"body_markdown":"I also encountered this bug, but upgrading to the latest version fixed the issue.","body":"I also encountered this bug, but upgrading to the latest version fixed the issue."},{"owner":{"account_id":26625,"reputation":3060,"user_id":69471,"display_name":"TMN"},"score":0,"creation_date":1524579269,"post_id":26851207,"comment_id":87024115,"body_markdown":"When I added `-Xverify:none`, the profiling tab didn&#39;t appear the next time I launched.","body":"When I added <code>-Xverify:none</code>, the profiling tab didn&#39;t appear the next time I launched."},{"owner":{"account_id":2050267,"reputation":306,"user_id":1829434,"display_name":"stuhpa"},"score":0,"creation_date":1536587754,"post_id":26851207,"comment_id":91466206,"body_markdown":"The bug is still present in 1.8.0_181. It disappeared with the suggested solution:  -Xverify:none","body":"The bug is still present in 1.8.0_181. It disappeared with the suggested solution:  -Xverify:none"},{"owner":{"account_id":1928385,"reputation":1014,"user_id":1738332,"accept_rate":89,"display_name":"Wesley De Keirsmaeker"},"score":0,"creation_date":1629886203,"post_id":26851207,"comment_id":121803499,"body_markdown":"Also had to use this workarround on JDK 11 in intellij","body":"Also had to use this workarround on JDK 11 in intellij"},{"owner":{"account_id":2278572,"reputation":1743,"user_id":2004265,"display_name":"DAB"},"score":0,"creation_date":1659603978,"post_id":26851207,"comment_id":129335529,"body_markdown":"Same problem with 1.8.0_301","body":"Same problem with 1.8.0_301"}],"tags":[],"owner":{"account_id":3146286,"reputation":2046,"user_id":2660707,"display_name":"rafalopez79"},"comment_count":12,"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1415646888,"creation_date":1415646888,"answer_id":26851207,"question_id":26834651,"body_markdown":"Here https://netbeans.org/bugzilla/show_bug.cgi?id=191297 appears a workaround:\r\nrun profiled application with -Xverify:none","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>Here <a href=\"https://netbeans.org/bugzilla/show_bug.cgi?id=191297\" rel=\"noreferrer\">https://netbeans.org/bugzilla/show_bug.cgi?id=191297</a> appears a workaround:\nrun profiled application with -Xverify:none</p>\n"},{"tags":[],"owner":{"account_id":12186961,"reputation":21,"user_id":8896346,"display_name":"Stuart Hansen"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1509999209,"creation_date":1509999209,"answer_id":47144976,"question_id":26834651,"body_markdown":"The workaround I found using IntelliJ is to compile to Java 1.6 byte code.\r\nThe menu option to do so is:  File - Project Structure, then set Project language level to 6.\r\n\r\nThis precludes you from using Java features only available with Java 7 or 8.\r\n","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>The workaround I found using IntelliJ is to compile to Java 1.6 byte code.\nThe menu option to do so is:  File - Project Structure, then set Project language level to 6.</p>\n\n<p>This precludes you from using Java features only available with Java 7 or 8.</p>\n"},{"comments":[{"owner":{"account_id":2559426,"reputation":1044,"user_id":2220759,"display_name":"Torsten Ojaperv"},"score":0,"creation_date":1518095012,"post_id":48675199,"comment_id":84369733,"body_markdown":"Thanks for pointing this out. Ran into this problem today and updated VisualVM. It works now.","body":"Thanks for pointing this out. Ran into this problem today and updated VisualVM. It works now."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1549442250,"creation_date":1518047010,"answer_id":48675199,"question_id":26834651,"body_markdown":"According to this [GitHub issue][1], it&#39;s been fixed. Updating to [version 1.4][2] solved the problem for me.\r\n\r\n\r\n  [1]: https://github.com/oracle/visualvm/issues/33\r\n  [2]: https://visualvm.github.io/download.html","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>According to this <a href=\"https://github.com/oracle/visualvm/issues/33\" rel=\"nofollow noreferrer\">GitHub issue</a>, it's been fixed. Updating to <a href=\"https://visualvm.github.io/download.html\" rel=\"nofollow noreferrer\">version 1.4</a> solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":8803777,"reputation":2955,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1561473809,"creation_date":1561473809,"answer_id":56756636,"question_id":26834651,"body_markdown":"If you are using eclipse, then go to **Run/Debug** configuration.\r\nSelect your application from left side and click on **Arguments.**\r\n\r\nHere you will see two text boxes.\r\n\r\n    1. Program Arguments\r\n    2. VM Arguments\r\n\r\nIn VM arguments, enter below commands.\r\n**-Xverify:none**\r\n\r\nClick on apply and then Run/Debug.","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>If you are using eclipse, then go to <strong>Run/Debug</strong> configuration.\nSelect your application from left side and click on <strong>Arguments.</strong></p>\n\n<p>Here you will see two text boxes.</p>\n\n<pre><code>1. Program Arguments\n2. VM Arguments\n</code></pre>\n\n<p>In VM arguments, enter below commands.\n<strong>-Xverify:none</strong></p>\n\n<p>Click on apply and then Run/Debug.</p>\n"},{"tags":[],"owner":{"account_id":3702556,"reputation":323,"user_id":3081830,"display_name":"Spacha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649935140,"creation_date":1649935140,"answer_id":71870788,"question_id":26834651,"body_markdown":"For **IntelliJ**, you can set `-Xverify:none` as follows:\r\n\r\n**Run** &gt; **Edit Configurations...** &gt; **Modify options (Alt + M)** &gt; **Add VM options**.\r\n\r\nThis should reveal a new field **VM options**, to which you can write `-Xverify:none`.","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>For <strong>IntelliJ</strong>, you can set <code>-Xverify:none</code> as follows:</p>\n<p><strong>Run</strong> &gt; <strong>Edit Configurations...</strong> &gt; <strong>Modify options (Alt + M)</strong> &gt; <strong>Add VM options</strong>.</p>\n<p>This should reveal a new field <strong>VM options</strong>, to which you can write <code>-Xverify:none</code>.</p>\n"},{"tags":[],"owner":{"account_id":2387373,"reputation":4304,"user_id":2088053,"accept_rate":50,"display_name":"Yuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678882995,"creation_date":1678882995,"answer_id":75744644,"question_id":26834651,"body_markdown":"Just letting others know, adding the VM option `-Xverify:none` is the recommended way as per the official [Troubleshooting Guide][1].\r\n\r\n\r\n  [1]: https://visualvm.github.io/troubleshooting.html","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>Just letting others know, adding the VM option <code>-Xverify:none</code> is the recommended way as per the official <a href=\"https://visualvm.github.io/troubleshooting.html\" rel=\"nofollow noreferrer\">Troubleshooting Guide</a>.</p>\n"}],"owner":{"account_id":1200939,"reputation":29489,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24791,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"answer_count":6,"score":62,"last_activity_date":1678882995,"creation_date":1415576485,"question_id":26834651,"body_markdown":"If I try to profile application, (which is prepared under Eclipse, but running from command line) with the help of VisualVM, I get the following error message\r\n\r\n![enter image description here][1]\r\n\r\nSimultaneously, the project folder is fouled with newly created class files. Although they are already existing in `target/classes`.\r\n\r\nThe project structure is Maven&#39;s, i.e. there is a foder `target/classes` in current directory and I us the following command to run the application\r\n\r\n    java -Xmx16g -cp target/classes tests.Runner01\r\n\r\nHow to fix?\r\n\r\n**UPDATE** \r\n\r\nThe same occurs with conventional java project too.\r\n\r\nBelow it the picture of populated class files, which located where they should not \r\n\r\n![enter image description here][2]\r\n\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GPhyQ.png\r\n  [2]: http://i.stack.imgur.com/zuetp.png","title":"Redefinition failed with error 62 while trying to profile an application","body":"<p>If I try to profile application, (which is prepared under Eclipse, but running from command line) with the help of VisualVM, I get the following error message</p>\n\n<p><img src=\"https://i.stack.imgur.com/GPhyQ.png\" alt=\"enter image description here\"></p>\n\n<p>Simultaneously, the project folder is fouled with newly created class files. Although they are already existing in <code>target/classes</code>.</p>\n\n<p>The project structure is Maven's, i.e. there is a foder <code>target/classes</code> in current directory and I us the following command to run the application</p>\n\n<pre><code>java -Xmx16g -cp target/classes tests.Runner01\n</code></pre>\n\n<p>How to fix?</p>\n\n<p><strong>UPDATE</strong> </p>\n\n<p>The same occurs with conventional java project too.</p>\n\n<p>Below it the picture of populated class files, which located where they should not </p>\n\n<p><img src=\"https://i.stack.imgur.com/zuetp.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","udp","netty"],"comments":[{"owner":{"account_id":26544556,"reputation":190,"user_id":20174801,"display_name":"Synopsis"},"score":0,"creation_date":1678311342,"post_id":75649400,"comment_id":133510304,"body_markdown":"I&#39;m not sure about that framework, but you give the port 5555 **two** times for each channel and additionally a bind() function usually binds a local socket to listen. I would guess, by using bind() you force the system to use the same local port twice, which does not work.\n\nTry using different port numbers in the bind() call and I **think** you could succeed.","body":"I&#39;m not sure about that framework, but you give the port 5555 <b>two</b> times for each channel and additionally a bind() function usually binds a local socket to listen. I would guess, by using bind() you force the system to use the same local port twice, which does not work.  Try using different port numbers in the bind() call and I <b>think</b> you could succeed."},{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1678334045,"post_id":75649400,"comment_id":133513438,"body_markdown":"In NIO, this should be fine because I am using the reuse_address option. I did however try to use different port numbers, however it only listens to the first channel regardless","body":"In NIO, this should be fine because I am using the reuse_address option. I did however try to use different port numbers, however it only listens to the first channel regardless"}],"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678882912,"creation_date":1678096793,"question_id":75649400,"body_markdown":"I have a UDP Multicast application which will be hardcoded to listen to specific groups of multicasts addresses. However, while I am able to have one NioDatagramChannel that joins multiple groups, my code cannot handle multiple NioDatagramChannels that listens to separate groups (somewhat like Java NIO selector). The following is the code I wrote:\r\n\r\n```\r\npublic class NettyTest implements Runnable {\r\n    public static void main(String[] args){\r\n        new NettyTest().run();\r\n    }\r\n    @Override\r\n    public void run() {\r\n        MulticastHandler handler = new MulticastHandler();\r\n        MulticastHandler handler2 = new MulticastHandler();\r\n        EventLoopGroup group = new NioEventLoopGroup();\r\n        try{\r\n            UDPChannel channel = new UDPChannel(5555, &quot;eth0&quot;, &quot;239.1.1.1&quot;);\r\n            UDPChannel channel2 = new UDPChannel(5556, &quot;eth0&quot;, &quot;225.1.1.1&quot;);\r\n\r\n            Bootstrap b = new Bootstrap();\r\n            NetworkInterface ni = NetworkInterface.getByName(&quot;eth0&quot;);\r\n            b.group(group)\r\n                    .channel(NioDatagramChannel.class)\r\n                    .option(ChannelOption.SO_REUSEADDR, true)\r\n                    .option(ChannelOption.IP_MULTICAST_IF, ni)\r\n                    .option(ChannelOption.SO_RCVBUF, 1500 * 200)\r\n                    .handler(new ChannelInitializer&lt;NioDatagramChannel&gt;() {\r\n                        @Override\r\n                        protected void initChannel(NioDatagramChannel nioDatagramChannel) throws Exception {\r\n                            nioDatagramChannel.pipeline().addLast(new MulticastHandler());  //&lt;------------- modification\r\n                        }\r\n                    });\r\n\r\n            System.out.println(channel.getMULTICAST_STRING()+&quot; &quot;+channel2.getMULTICAST_STRING());\r\n\r\n            AttributeKey&lt;String&gt; markerKey = AttributeKey.valueOf(&quot;Marker&quot;);\r\n            NioDatagramChannel ch = (NioDatagramChannel)b.bind(5555).sync().channel();\r\n            ch.attr(markerKey).set(channel.getMULTICAST_STRING());\r\n            ch.joinGroup(new InetSocketAddress(&quot;239.1.1.1&quot;, 5555), ni).sync();\r\n            group.register(ch);\r\n\r\n            NioDatagramChannel ch1 =(NioDatagramChannel)b.bind(5556).sync().channel();\r\n            ch1.attr(markerKey).set(channel2.getMULTICAST_STRING());\r\n            ch1.joinGroup(new InetSocketAddress(&quot;225.1.1.1&quot;, 5556), ni).sync();\r\n            group.register(ch1);\r\n\r\n//            ch.closeFuture().await();\r\n//            ch1.closeFuture().await();\r\n            ch.closeFuture();\r\n            ch1.closeFuture();\r\n        } catch (InterruptedException | SocketException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nclass MulticastHandler extends SimpleChannelInboundHandler&lt;DatagramPacket&gt;{\r\n    private MoldUdpHeader moldUdpHeader = new MoldUdpHeader();\r\n    AttributeKey&lt;String&gt; markerKey = AttributeKey.valueOf(&quot;Marker&quot;);\r\n    @Override\r\n    protected void channelRead0(ChannelHandlerContext channelHandlerContext, DatagramPacket datagramPacket) throws Exception {\r\n        moldUdpHeader.decode(datagramPacket.content().nioBuffer(), 0);\r\n        System.out.println(channelHandlerContext.channel().attr(markerKey).get()+&quot; &quot;+moldUdpHeader.getSeqNum());\r\n    }\r\n}\r\n```\r\n\r\nI have tried the above but it gives a `io.netty.channel.StacklessClosedChannelException at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(ChannelPromise)(Unknown Source)`. What is the proper way to be able to process both of these channels? I do not want to combine both into one channel, because the messages on both channels can have same ID but different values (values are specific for that channel).\r\n\r\nEdit: I just found out that either Netty or Log4j (i m not sure which) has been suppressing the console output for the errors that has happened with the sample code above. I found an inconspicuous log file which contains all the error messages Netty has been writing, even though the above does not use loggers at all. The following is the error logs. I have checked up some of the errors and modified my code above (it turns out each channel needs a new handle)\r\n\r\n    2023-03-15 13:56:50,688 WARN  method: [main] bootstrap.AbstractBootstrap (AbstractBootstrap.java:467) - Failed to set channel option &#39;IP_MULTICAST_IF&#39; with value &#39;name:eth0 (eth0)&#39; for channel &#39;[id: 0xf46f62a3]&#39;\r\n    io.netty.channel.ChannelException: java.lang.reflect.InvocationTargetException\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:206) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setNetworkInterface(NioDatagramChannelConfig.java:161) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.DefaultDatagramChannelConfig.setOption(DefaultDatagramChannelConfig.java:126) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption(NioDatagramChannelConfig.java:216) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.setChannelOption(AbstractBootstrap.java:463) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.setChannelOptions(AbstractBootstrap.java:455) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.Bootstrap.init(Bootstrap.java:264) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.doBind(AbstractBootstrap.java:272) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:268) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:246) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat udp.NettyTest.run(NettyTest.java:52) ~[classes/:?]\r\n    \tat udp.NettyTest.main(NettyTest.java:24) ~[classes/:?]\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \t... 12 more\r\n    Caused by: java.net.SocketException: No such file or directory\r\n    \tat sun.nio.ch.Net.setInterface6(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:226) ~[?:1.8.0_351]\r\n    \tat sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:42) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \t... 12 more\r\n    2023-03-15 13:56:50,733 WARN  method: [main] bootstrap.AbstractBootstrap (AbstractBootstrap.java:467) - Failed to set channel option &#39;IP_MULTICAST_IF&#39; with value &#39;name:eth0 (eth0)&#39; for channel &#39;[id: 0x5085932f]&#39;\r\n    io.netty.channel.ChannelException: java.lang.reflect.InvocationTargetException\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:206) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setNetworkInterface(NioDatagramChannelConfig.java:161) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.DefaultDatagramChannelConfig.setOption(DefaultDatagramChannelConfig.java:126) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption(NioDatagramChannelConfig.java:216) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.setChannelOption(AbstractBootstrap.java:463) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.setChannelOptions(AbstractBootstrap.java:455) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.Bootstrap.init(Bootstrap.java:264) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.doBind(AbstractBootstrap.java:272) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:268) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:246) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \tat udp.NettyTest.run(NettyTest.java:57) ~[classes/:?]\r\n    \tat udp.NettyTest.main(NettyTest.java:24) ~[classes/:?]\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \t... 12 more\r\n    Caused by: java.net.SocketException: No such file or directory\r\n    \tat sun.nio.ch.Net.setInterface6(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:226) ~[?:1.8.0_351]\r\n    \tat sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:42) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\r\n    \tat io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\r\n    \t... 12 more\r\n\r\n\r\nIt looks like it now receives both channels packets, so thats pretty great.\r\n\r\noutput:\r\n\r\n    239.1.1.1 225.1.1.1\r\n    239.1.1.1 0\r\n    225.1.1.1 0\r\n    225.1.1.1 1\r\n    239.1.1.1 1\r\n    225.1.1.1 2\r\n    239.1.1.1 2\r\n    225.1.1.1 3\r\n    239.1.1.1 3","title":"What is the proper procedure for working with multiple channels in netty?","body":"<p>I have a UDP Multicast application which will be hardcoded to listen to specific groups of multicasts addresses. However, while I am able to have one NioDatagramChannel that joins multiple groups, my code cannot handle multiple NioDatagramChannels that listens to separate groups (somewhat like Java NIO selector). The following is the code I wrote:</p>\n<pre><code>public class NettyTest implements Runnable {\n    public static void main(String[] args){\n        new NettyTest().run();\n    }\n    @Override\n    public void run() {\n        MulticastHandler handler = new MulticastHandler();\n        MulticastHandler handler2 = new MulticastHandler();\n        EventLoopGroup group = new NioEventLoopGroup();\n        try{\n            UDPChannel channel = new UDPChannel(5555, &quot;eth0&quot;, &quot;239.1.1.1&quot;);\n            UDPChannel channel2 = new UDPChannel(5556, &quot;eth0&quot;, &quot;225.1.1.1&quot;);\n\n            Bootstrap b = new Bootstrap();\n            NetworkInterface ni = NetworkInterface.getByName(&quot;eth0&quot;);\n            b.group(group)\n                    .channel(NioDatagramChannel.class)\n                    .option(ChannelOption.SO_REUSEADDR, true)\n                    .option(ChannelOption.IP_MULTICAST_IF, ni)\n                    .option(ChannelOption.SO_RCVBUF, 1500 * 200)\n                    .handler(new ChannelInitializer&lt;NioDatagramChannel&gt;() {\n                        @Override\n                        protected void initChannel(NioDatagramChannel nioDatagramChannel) throws Exception {\n                            nioDatagramChannel.pipeline().addLast(new MulticastHandler());  //&lt;------------- modification\n                        }\n                    });\n\n            System.out.println(channel.getMULTICAST_STRING()+&quot; &quot;+channel2.getMULTICAST_STRING());\n\n            AttributeKey&lt;String&gt; markerKey = AttributeKey.valueOf(&quot;Marker&quot;);\n            NioDatagramChannel ch = (NioDatagramChannel)b.bind(5555).sync().channel();\n            ch.attr(markerKey).set(channel.getMULTICAST_STRING());\n            ch.joinGroup(new InetSocketAddress(&quot;239.1.1.1&quot;, 5555), ni).sync();\n            group.register(ch);\n\n            NioDatagramChannel ch1 =(NioDatagramChannel)b.bind(5556).sync().channel();\n            ch1.attr(markerKey).set(channel2.getMULTICAST_STRING());\n            ch1.joinGroup(new InetSocketAddress(&quot;225.1.1.1&quot;, 5556), ni).sync();\n            group.register(ch1);\n\n//            ch.closeFuture().await();\n//            ch1.closeFuture().await();\n            ch.closeFuture();\n            ch1.closeFuture();\n        } catch (InterruptedException | SocketException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\nclass MulticastHandler extends SimpleChannelInboundHandler&lt;DatagramPacket&gt;{\n    private MoldUdpHeader moldUdpHeader = new MoldUdpHeader();\n    AttributeKey&lt;String&gt; markerKey = AttributeKey.valueOf(&quot;Marker&quot;);\n    @Override\n    protected void channelRead0(ChannelHandlerContext channelHandlerContext, DatagramPacket datagramPacket) throws Exception {\n        moldUdpHeader.decode(datagramPacket.content().nioBuffer(), 0);\n        System.out.println(channelHandlerContext.channel().attr(markerKey).get()+&quot; &quot;+moldUdpHeader.getSeqNum());\n    }\n}\n</code></pre>\n<p>I have tried the above but it gives a <code>io.netty.channel.StacklessClosedChannelException at io.netty.channel.AbstractChannel$AbstractUnsafe.ensureOpen(ChannelPromise)(Unknown Source)</code>. What is the proper way to be able to process both of these channels? I do not want to combine both into one channel, because the messages on both channels can have same ID but different values (values are specific for that channel).</p>\n<p>Edit: I just found out that either Netty or Log4j (i m not sure which) has been suppressing the console output for the errors that has happened with the sample code above. I found an inconspicuous log file which contains all the error messages Netty has been writing, even though the above does not use loggers at all. The following is the error logs. I have checked up some of the errors and modified my code above (it turns out each channel needs a new handle)</p>\n<pre><code>2023-03-15 13:56:50,688 WARN  method: [main] bootstrap.AbstractBootstrap (AbstractBootstrap.java:467) - Failed to set channel option 'IP_MULTICAST_IF' with value 'name:eth0 (eth0)' for channel '[id: 0xf46f62a3]'\nio.netty.channel.ChannelException: java.lang.reflect.InvocationTargetException\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:206) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setNetworkInterface(NioDatagramChannelConfig.java:161) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.DefaultDatagramChannelConfig.setOption(DefaultDatagramChannelConfig.java:126) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption(NioDatagramChannelConfig.java:216) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.setChannelOption(AbstractBootstrap.java:463) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.setChannelOptions(AbstractBootstrap.java:455) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.Bootstrap.init(Bootstrap.java:264) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.doBind(AbstractBootstrap.java:272) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:268) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:246) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at udp.NettyTest.run(NettyTest.java:52) ~[classes/:?]\n    at udp.NettyTest.main(NettyTest.java:24) ~[classes/:?]\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    ... 12 more\nCaused by: java.net.SocketException: No such file or directory\n    at sun.nio.ch.Net.setInterface6(Native Method) ~[?:1.8.0_351]\n    at sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:226) ~[?:1.8.0_351]\n    at sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:42) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    ... 12 more\n2023-03-15 13:56:50,733 WARN  method: [main] bootstrap.AbstractBootstrap (AbstractBootstrap.java:467) - Failed to set channel option 'IP_MULTICAST_IF' with value 'name:eth0 (eth0)' for channel '[id: 0x5085932f]'\nio.netty.channel.ChannelException: java.lang.reflect.InvocationTargetException\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:206) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setNetworkInterface(NioDatagramChannelConfig.java:161) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.DefaultDatagramChannelConfig.setOption(DefaultDatagramChannelConfig.java:126) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption(NioDatagramChannelConfig.java:216) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.setChannelOption(AbstractBootstrap.java:463) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.setChannelOptions(AbstractBootstrap.java:455) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.Bootstrap.init(Bootstrap.java:264) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:311) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.doBind(AbstractBootstrap.java:272) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:268) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at io.netty.bootstrap.AbstractBootstrap.bind(AbstractBootstrap.java:246) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    at udp.NettyTest.run(NettyTest.java:57) ~[classes/:?]\n    at udp.NettyTest.main(NettyTest.java:24) ~[classes/:?]\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    ... 12 more\nCaused by: java.net.SocketException: No such file or directory\n    at sun.nio.ch.Net.setInterface6(Native Method) ~[?:1.8.0_351]\n    at sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:226) ~[?:1.8.0_351]\n    at sun.nio.ch.DatagramChannelImpl.setOption(DatagramChannelImpl.java:42) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_351]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_351]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_351]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_351]\n    at io.netty.channel.socket.nio.NioDatagramChannelConfig.setOption0(NioDatagramChannelConfig.java:204) ~[netty-transport-4.1.78.Final.jar:4.1.78.Final]\n    ... 12 more\n</code></pre>\n<p>It looks like it now receives both channels packets, so thats pretty great.</p>\n<p>output:</p>\n<pre><code>239.1.1.1 225.1.1.1\n239.1.1.1 0\n225.1.1.1 0\n225.1.1.1 1\n239.1.1.1 1\n225.1.1.1 2\n239.1.1.1 2\n225.1.1.1 3\n239.1.1.1 3\n</code></pre>\n"},{"tags":["java","logging","apache-beam","apache-beam-kafkaio"],"answers":[{"tags":[],"owner":{"account_id":27886429,"reputation":1,"user_id":21293767,"display_name":"Alberto Serna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678882876,"creation_date":1677500550,"answer_id":75580441,"question_id":75211881,"body_markdown":"SOLUTION 1: I made it work with **org.apache.log4j.Logger** \r\n\r\n```\r\n   import org.apache.log4j.Logger\r\n//import org.slf4j.{Logger, LoggerFactory}\r\n\r\nobject KafkaConsumer {\r\n\r\n  // NOTE 1: I did not have to set up the below JVM flags in the end\r\n  // (it was only filtering out the logs from the app not the internal beam ones)\r\n  // -Dlog4j.configurationFile=src/main/resources/log4j2.properties\r\n  // -Djava.util.logging.config.file=src/main/resources/log4j2.properties\r\n  //  --beam.log4j2ConfigurationFile=src/main/resources/log4j2.properties\r\n  val log = Logger.getLogger(this.getClass.getName)\r\n\r\n// NOTE 2: it did not work out either\r\n// --sdkHarnessLogLevelOverrides={\\&quot;org.apache.kafka.clients.consumer.internals\\&quot;:\\&quot;ERROR\\&quot;}\r\n\r\n// NOTE 3: I have not been able to filter out using slf4j\r\n//  val log: Logger = LoggerFactory getLogger getClass.getName\r\n\r\n  def main(cmdlineArgs: Array[String]): Unit = {\r\n    import org.apache.logging.log4j.core.config.Configurator\r\n    Configurator.initialize(null, &quot;log4j2.xml&quot;)\r\n    log.info(&quot;Init SCIO Context...&quot;)\r\n```\r\n\r\nbeing log4j2.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;org.apache.kafka.clients.consumer.internals.SubscriptionState&quot; level=&quot;ERROR&quot;/&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nand build.sbt (I am using SCIO) and I had multiple slfj4 bindings\r\n```\r\nlibraryDependencies ++= Seq(\r\n      &quot;com.spotify&quot; %% &quot;scio-extra&quot; % scioVersion,\r\n      &quot;com.spotify&quot; %% &quot;scio-avro&quot; % scioVersion,\r\n      &quot;com.spotify&quot; %% &quot;scio-core&quot; % scioVersion,\r\n      &quot;com.spotify&quot; %% &quot;scio-test&quot; % scioVersion % Test,\r\n      &quot;com.spotify&quot; %% &quot;scio-google-cloud-platform&quot; % scioVersion,\r\n      &quot;org.apache.beam&quot; % &quot;beam-runners-direct-java&quot; % beamVersion,\r\n      &quot;org.apache.beam&quot; % &quot;beam-runners-google-cloud-dataflow-java&quot; % beamVersion,\r\n//      &quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;1.7.36&quot;,\r\n//      &quot;org.slf4j&quot; % &quot;slf4j-api&quot; % &quot;1.7.36&quot;,\r\n      &quot;com.google.cloud&quot; % &quot;google-cloud-bigquery&quot; % &quot;2.13.2&quot;,\r\n      &quot;com.google.cloud&quot; % &quot;google-cloud-storage&quot; % &quot;1.17.0&quot;,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala&quot; % &quot;1.16.34&quot; % Test,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala-scalatest&quot; % &quot;1.16.15&quot; % Test,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala-specs2&quot; % &quot;1.16.15&quot; % Test,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala-cats&quot; % &quot;1.16.15&quot; % Test,\r\n      &quot;org.mockito&quot; %% &quot;mockito-scala-scalaz&quot; % &quot;1.16.15&quot; % Test,\r\n      &quot;jp.ne.opt&quot; %% &quot;bigquery-fake-client&quot; % &quot;0.1.0&quot; % Test,\r\n      (&quot;com.my.jar&quot; % myJar&quot; % jarVersion)\r\n        .exclude(&quot;com.twitter&quot;, &quot;chill_2.11&quot;)\r\n        .exclude(&quot;org.scala-lang.modules&quot;, &quot;scala-xml_2.11&quot;)\r\n        .exclude(&quot;com.fasterxml.jackson.module&quot;, &quot;jackson-module-scala_2.11&quot;)\r\n        .exclude(&quot;org.scala-lang.modules&quot;, &quot;scala-parser-combinators_2.11&quot;)\r\n        .exclude(&quot;org.slf4j&quot;, &quot;slf4j-log4j12&quot;)\r\n    )\r\n```\r\nwith &quot;-Dlog4j.configurationFile=src/main/resources/log4j2.xml&quot; and these dependencies should suffice too:\r\n\r\n```\r\n&quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;1.7.36&quot;,\r\n&quot;org.apache.logging.log4j&quot; % &quot;log4j-core&quot; % &quot;2.19.0&quot;,\r\n&quot;org.apache.logging.log4j&quot; % &quot;log4j-api&quot; % &quot;2.19.0&quot;,\r\n &quot;org.apache.logging.log4j&quot; % &quot;log4j-slf4j-impl&quot; % &quot;2.19.0&quot;,\r\n```\r\n\r\nSOLUTION 2:\r\n\r\nwith JVM -Dlog4j.configurationFile=src/main/resources/log4j2.xml\r\n\r\nand \r\n\r\n```\r\nimport org.slf4j.{Logger, LoggerFactory}\r\n\r\nclass MyClass[T] {\r\n  val log: Logger = LoggerFactory getLogger getClass.getName\r\n```\r\n\r\n\r\nafter:\r\n[after_Configurator_initialize][1]\r\n\r\n\r\nbefore:\r\n[before_Configurator_initialize][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yvidz.png\r\n  [2]: https://i.stack.imgur.com/kwVIu.png","title":"Disable Direct Runner Logs in Apache Beam for Kafka Consumer","body":"<p>SOLUTION 1: I made it work with <strong>org.apache.log4j.Logger</strong></p>\n<pre><code>   import org.apache.log4j.Logger\n//import org.slf4j.{Logger, LoggerFactory}\n\nobject KafkaConsumer {\n\n  // NOTE 1: I did not have to set up the below JVM flags in the end\n  // (it was only filtering out the logs from the app not the internal beam ones)\n  // -Dlog4j.configurationFile=src/main/resources/log4j2.properties\n  // -Djava.util.logging.config.file=src/main/resources/log4j2.properties\n  //  --beam.log4j2ConfigurationFile=src/main/resources/log4j2.properties\n  val log = Logger.getLogger(this.getClass.getName)\n\n// NOTE 2: it did not work out either\n// --sdkHarnessLogLevelOverrides={\\&quot;org.apache.kafka.clients.consumer.internals\\&quot;:\\&quot;ERROR\\&quot;}\n\n// NOTE 3: I have not been able to filter out using slf4j\n//  val log: Logger = LoggerFactory getLogger getClass.getName\n\n  def main(cmdlineArgs: Array[String]): Unit = {\n    import org.apache.logging.log4j.core.config.Configurator\n    Configurator.initialize(null, &quot;log4j2.xml&quot;)\n    log.info(&quot;Init SCIO Context...&quot;)\n</code></pre>\n<p>being log4j2.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;org.apache.kafka.clients.consumer.internals.SubscriptionState&quot; level=&quot;ERROR&quot;/&gt;\n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>and build.sbt (I am using SCIO) and I had multiple slfj4 bindings</p>\n<pre><code>libraryDependencies ++= Seq(\n      &quot;com.spotify&quot; %% &quot;scio-extra&quot; % scioVersion,\n      &quot;com.spotify&quot; %% &quot;scio-avro&quot; % scioVersion,\n      &quot;com.spotify&quot; %% &quot;scio-core&quot; % scioVersion,\n      &quot;com.spotify&quot; %% &quot;scio-test&quot; % scioVersion % Test,\n      &quot;com.spotify&quot; %% &quot;scio-google-cloud-platform&quot; % scioVersion,\n      &quot;org.apache.beam&quot; % &quot;beam-runners-direct-java&quot; % beamVersion,\n      &quot;org.apache.beam&quot; % &quot;beam-runners-google-cloud-dataflow-java&quot; % beamVersion,\n//      &quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;1.7.36&quot;,\n//      &quot;org.slf4j&quot; % &quot;slf4j-api&quot; % &quot;1.7.36&quot;,\n      &quot;com.google.cloud&quot; % &quot;google-cloud-bigquery&quot; % &quot;2.13.2&quot;,\n      &quot;com.google.cloud&quot; % &quot;google-cloud-storage&quot; % &quot;1.17.0&quot;,\n      &quot;org.mockito&quot; %% &quot;mockito-scala&quot; % &quot;1.16.34&quot; % Test,\n      &quot;org.mockito&quot; %% &quot;mockito-scala-scalatest&quot; % &quot;1.16.15&quot; % Test,\n      &quot;org.mockito&quot; %% &quot;mockito-scala-specs2&quot; % &quot;1.16.15&quot; % Test,\n      &quot;org.mockito&quot; %% &quot;mockito-scala-cats&quot; % &quot;1.16.15&quot; % Test,\n      &quot;org.mockito&quot; %% &quot;mockito-scala-scalaz&quot; % &quot;1.16.15&quot; % Test,\n      &quot;jp.ne.opt&quot; %% &quot;bigquery-fake-client&quot; % &quot;0.1.0&quot; % Test,\n      (&quot;com.my.jar&quot; % myJar&quot; % jarVersion)\n        .exclude(&quot;com.twitter&quot;, &quot;chill_2.11&quot;)\n        .exclude(&quot;org.scala-lang.modules&quot;, &quot;scala-xml_2.11&quot;)\n        .exclude(&quot;com.fasterxml.jackson.module&quot;, &quot;jackson-module-scala_2.11&quot;)\n        .exclude(&quot;org.scala-lang.modules&quot;, &quot;scala-parser-combinators_2.11&quot;)\n        .exclude(&quot;org.slf4j&quot;, &quot;slf4j-log4j12&quot;)\n    )\n</code></pre>\n<p>with &quot;-Dlog4j.configurationFile=src/main/resources/log4j2.xml&quot; and these dependencies should suffice too:</p>\n<pre><code>&quot;org.slf4j&quot; % &quot;slf4j-simple&quot; % &quot;1.7.36&quot;,\n&quot;org.apache.logging.log4j&quot; % &quot;log4j-core&quot; % &quot;2.19.0&quot;,\n&quot;org.apache.logging.log4j&quot; % &quot;log4j-api&quot; % &quot;2.19.0&quot;,\n &quot;org.apache.logging.log4j&quot; % &quot;log4j-slf4j-impl&quot; % &quot;2.19.0&quot;,\n</code></pre>\n<p>SOLUTION 2:</p>\n<p>with JVM -Dlog4j.configurationFile=src/main/resources/log4j2.xml</p>\n<p>and</p>\n<pre><code>import org.slf4j.{Logger, LoggerFactory}\n\nclass MyClass[T] {\n  val log: Logger = LoggerFactory getLogger getClass.getName\n</code></pre>\n<p>after:\n<a href=\"https://i.stack.imgur.com/Yvidz.png\" rel=\"nofollow noreferrer\">after_Configurator_initialize</a></p>\n<p>before:\n<a href=\"https://i.stack.imgur.com/kwVIu.png\" rel=\"nofollow noreferrer\">before_Configurator_initialize</a></p>\n"}],"owner":{"account_id":21783085,"reputation":43,"user_id":16084537,"display_name":"Lemon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678882876,"creation_date":1674489213,"question_id":75211881,"body_markdown":"Seen a similar question asked, but on dataflow logging and not direct logging.\r\n\r\nBasically, I want to turn off the wave of KafkaIO read (consumer) logs. I have tried setting the logging levels in SDK harness as follows.\r\n```\r\nvar kafkasLogs =\r\n        SdkHarnessOptions.SdkHarnessLogLevelOverrides.from(\r\n            new HashMap&lt;&gt;(\r\n                Map.of(\r\n                    &quot;org.apache.kafka.clients.consumer.internals.SubscriptionState&quot;,\r\n                    SdkHarnessOptions.LogLevel.ERROR.name())));\r\n    options.setSdkHarnessLogLevelOverrides(kafkasLogs); // extends sdkharnessoptions\r\n```\r\nI have also tried variations of the above but have not been successful in my bid to silence the consumer logs. \r\n\r\nWhat is the way I can shut these logs off without messing with the additional logging of my pipeline?","title":"Disable Direct Runner Logs in Apache Beam for Kafka Consumer","body":"<p>Seen a similar question asked, but on dataflow logging and not direct logging.</p>\n<p>Basically, I want to turn off the wave of KafkaIO read (consumer) logs. I have tried setting the logging levels in SDK harness as follows.</p>\n<pre><code>var kafkasLogs =\n        SdkHarnessOptions.SdkHarnessLogLevelOverrides.from(\n            new HashMap&lt;&gt;(\n                Map.of(\n                    &quot;org.apache.kafka.clients.consumer.internals.SubscriptionState&quot;,\n                    SdkHarnessOptions.LogLevel.ERROR.name())));\n    options.setSdkHarnessLogLevelOverrides(kafkasLogs); // extends sdkharnessoptions\n</code></pre>\n<p>I have also tried variations of the above but have not been successful in my bid to silence the consumer logs.</p>\n<p>What is the way I can shut these logs off without messing with the additional logging of my pipeline?</p>\n"},{"tags":["java","java-8"],"answers":[{"comments":[{"owner":{"account_id":3845622,"reputation":470,"user_id":3187267,"display_name":"kentsurrey"},"score":0,"creation_date":1420038062,"post_id":27722113,"comment_id":43857276,"body_markdown":"Thanks for the response. I cut down the code for the purposes of the example. The convertedList will have absent values added to it after this in my use case and the originalList does not contain nulls.","body":"Thanks for the response. I cut down the code for the purposes of the example. The convertedList will have absent values added to it after this in my use case and the originalList does not contain nulls."},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":2,"creation_date":1420052732,"post_id":27722113,"comment_id":43862660,"body_markdown":"While I would recommend the method ref form over the lambda form, don&#39;t fool yourself that you are &quot;avoiding creation of a lambda&quot; by using the method reference form.  Method refs are converted to functional interfaces via the same machinery as lambdas.  But, these decisions should be made on the basis of code readability/maintainability 99.999% of the time, so you should just go with what is more readable -- which is generally the method ref.","body":"While I would recommend the method ref form over the lambda form, don&#39;t fool yourself that you are &quot;avoiding creation of a lambda&quot; by using the method reference form.  Method refs are converted to functional interfaces via the same machinery as lambdas.  But, these decisions should be made on the basis of code readability/maintainability 99.999% of the time, so you should just go with what is more readable -- which is generally the method ref."}],"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1420037306,"creation_date":1420034123,"answer_id":27722113,"question_id":27722094,"body_markdown":"You forgot to collect the elements of the `Stream` in a list. It should be:\r\n\r\n    List&lt;Optional&lt;Object&gt;&gt; convertedList  = originalList.stream()\r\n                                                        .map((o) -&gt; Optional.of(o))\r\n                                                        .collect(Collectors.toList()); \r\n                                                   //or .collect(Collectors.toCollection(LinkedList::new)); if you want a specific List implementation\r\n\r\nNote that you could avoid the creation of a lamdba and use a method reference in this case with `.map(Optional::of)`. \r\n\r\nI don&#39;t see why you would get a `List` of `Optional` if you know in advance that the elements in the list are non-null. Maybe it was just to get in practice with Java 8, but as @Eran said you should use `Optional::ofNullable` instead.\r\n\r\n","title":"Converting a list of objects to a list of optional objects in Java","body":"<p>You forgot to collect the elements of the <code>Stream</code> in a list. It should be:</p>\n\n<pre><code>List&lt;Optional&lt;Object&gt;&gt; convertedList  = originalList.stream()\n                                                    .map((o) -&gt; Optional.of(o))\n                                                    .collect(Collectors.toList()); \n                                               //or .collect(Collectors.toCollection(LinkedList::new)); if you want a specific List implementation\n</code></pre>\n\n<p>Note that you could avoid the creation of a lamdba and use a method reference in this case with <code>.map(Optional::of)</code>. </p>\n\n<p>I don't see why you would get a <code>List</code> of <code>Optional</code> if you know in advance that the elements in the list are non-null. Maybe it was just to get in practice with Java 8, but as @Eran said you should use <code>Optional::ofNullable</code> instead.</p>\n"},{"comments":[{"owner":{"account_id":3845622,"reputation":470,"user_id":3187267,"display_name":"kentsurrey"},"score":0,"creation_date":1420038231,"post_id":27722127,"comment_id":43857331,"body_markdown":"Thanks for the answer. That&#39;s a good point about the ofNullable method, however in this case I know my list doesn&#39;t contain nulls - its only after this piece of code that I will add absent values to the new list.","body":"Thanks for the answer. That&#39;s a good point about the ofNullable method, however in this case I know my list doesn&#39;t contain nulls - its only after this piece of code that I will add absent values to the new list."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1420034205,"creation_date":1420034205,"answer_id":27722127,"question_id":27722094,"body_markdown":"It looks like you forgot to collect the Stream to a list :\r\n\r\n    List&lt;Optional&lt;Object&gt;&gt; convertedList = \r\n        originalList.stream()\r\n                    .map((o) -&gt; Optional.ofNullable(o))\r\n                    .collect(Collectors.toList());\r\n\r\nYou should use `ofNullable` though, since `of` required a non null object (it will throw a `NullPointerException` when passed a null reference).","title":"Converting a list of objects to a list of optional objects in Java","body":"<p>It looks like you forgot to collect the Stream to a list :</p>\n\n<pre><code>List&lt;Optional&lt;Object&gt;&gt; convertedList = \n    originalList.stream()\n                .map((o) -&gt; Optional.ofNullable(o))\n                .collect(Collectors.toList());\n</code></pre>\n\n<p>You should use <code>ofNullable</code> though, since <code>of</code> required a non null object (it will throw a <code>NullPointerException</code> when passed a null reference).</p>\n"}],"owner":{"account_id":3845622,"reputation":470,"user_id":3187267,"display_name":"kentsurrey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17737,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":27722113,"answer_count":2,"score":11,"last_activity_date":1678882775,"creation_date":1420034007,"question_id":27722094,"body_markdown":"The following code converts a list of objects into a list of optional objects. Is there an elegant way to do this using Java 8&#39;s streams?\r\n\r\n    List&lt;Object&gt; originalList = Arrays.asList(new Object(), new Object());\r\n    List&lt;Optional&lt;Object&gt;&gt; convertedList = new ArrayList&lt;&gt;();\r\n    for (Object object : originalList) {\r\n        convertedList.add(Optional.of(object));\r\n    }\r\n\r\nI tried the following piece of code.\r\n\r\n    List&lt;Optional&lt;Object&gt;&gt; convertedList = originalList.stream().map((o) -&gt; Optional.of(o));\r\n\r\nHowever this gives the following compile error:\r\n\r\n    of(T) in Optional cannot be applied to (java.lang.Object)\r\n\r\nThis is using the java.util.Optional class rather than the Guava one.","title":"Converting a list of objects to a list of optional objects in Java","body":"<p>The following code converts a list of objects into a list of optional objects. Is there an elegant way to do this using Java 8's streams?</p>\n\n<pre><code>List&lt;Object&gt; originalList = Arrays.asList(new Object(), new Object());\nList&lt;Optional&lt;Object&gt;&gt; convertedList = new ArrayList&lt;&gt;();\nfor (Object object : originalList) {\n    convertedList.add(Optional.of(object));\n}\n</code></pre>\n\n<p>I tried the following piece of code.</p>\n\n<pre><code>List&lt;Optional&lt;Object&gt;&gt; convertedList = originalList.stream().map((o) -&gt; Optional.of(o));\n</code></pre>\n\n<p>However this gives the following compile error:</p>\n\n<pre><code>of(T) in Optional cannot be applied to (java.lang.Object)\n</code></pre>\n\n<p>This is using the java.util.Optional class rather than the Guava one.</p>\n"},{"tags":["java","string","collections"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1345139190,"post_id":11992694,"comment_id":15992732,"body_markdown":"*&quot;I believe the last 2 checks for keys.contains(null) and keys.contains(&quot;&quot;) are incorrect and will likely thrown runtime exceptions.&quot;*: Why? What exception do you expect?","body":"<i>&quot;I believe the last 2 checks for keys.contains(null) and keys.contains(&quot;&quot;) are incorrect and will likely thrown runtime exceptions.&quot;</i>: Why? What exception do you expect?"},{"owner":{"account_id":1290912,"reputation":1167,"user_id":1243038,"display_name":"Kevin Mangold"},"score":0,"creation_date":1345139234,"post_id":11992694,"comment_id":15992744,"body_markdown":"keys.contains(null) will be fine however keys.contains(&quot;&quot;) will only work in certain situations but shouldn&#39;t throw an exception.","body":"keys.contains(null) will be fine however keys.contains(&quot;&quot;) will only work in certain situations but shouldn&#39;t throw an exception."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1345139613,"post_id":11992694,"comment_id":15992879,"body_markdown":"Man, you have too many nulls flying around your app...","body":"Man, you have too many nulls flying around your app..."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":4,"creation_date":1345142346,"post_id":11992694,"comment_id":15994014,"body_markdown":"Doc says that NPE could be thrown. Anyway some implementations of `List` use `Collection#contains` make me sure to believe the docs.","body":"Doc says that NPE could be thrown. Anyway some implementations of <code>List</code> use <code>Collection#contains</code> make me sure to believe the docs."}],"answers":[{"comments":[{"owner":{"account_id":134653,"reputation":873,"user_id":336925,"accept_rate":100,"display_name":"James Marble"},"score":21,"creation_date":1589413217,"post_id":11992730,"comment_id":109288438,"body_markdown":"The problem with this solution is that `List.contains` is allowed to throw `NullPointerException` if the list is not allowed to contain `null`. For example: `List.of(&quot;foo&quot;, &quot;bar&quot;).contains(null)` will throw!","body":"The problem with this solution is that <code>List.contains</code> is allowed to throw <code>NullPointerException</code> if the list is not allowed to contain <code>null</code>. For example: <code>List.of(&quot;foo&quot;, &quot;bar&quot;).contains(null)</code> will throw!"},{"owner":{"account_id":2563057,"reputation":99,"user_id":2223787,"display_name":"Denis Orlov"},"score":1,"creation_date":1661943912,"post_id":11992730,"comment_id":129890795,"body_markdown":"see my comment about org.springframework.util.CollectionUtils to resolve NullPointerException problem","body":"see my comment about org.springframework.util.CollectionUtils to resolve NullPointerException problem"}],"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":2,"down_vote_count":6,"up_vote_count":47,"is_accepted":true,"score":41,"last_activity_date":1345139217,"creation_date":1345139217,"answer_id":11992730,"question_id":11992694,"body_markdown":"     keys.contains(null) || keys.contains(&quot;&quot;)\r\n\r\nDoesn&#39;t throw any runtime exceptions and results `true` if your list has either null (or) empty String.","title":"How to determine if a list of string contains null or empty elements","body":"<pre><code> keys.contains(null) || keys.contains(\"\")\n</code></pre>\n\n<p>Doesn't throw any runtime exceptions and results <code>true</code> if your list has either null (or) empty String.</p>\n"},{"tags":[],"owner":{"account_id":1018999,"reputation":8457,"user_id":1029916,"accept_rate":94,"display_name":"NominSim"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1345139281,"creation_date":1345139281,"answer_id":11992737,"question_id":11992694,"body_markdown":"This looks fine to me, the only exceptions you would get from `keys.contains(null)` and `keys.contains(&quot;&quot;)` would be if `keys` itself was `null`.\r\n\r\nHowever since you check for that first you know that at this point `keys` is not `null`, so no runtime exceptions will occur.\r\n","title":"How to determine if a list of string contains null or empty elements","body":"<p>This looks fine to me, the only exceptions you would get from <code>keys.contains(null)</code> and <code>keys.contains(\"\")</code> would be if <code>keys</code> itself was <code>null</code>.</p>\n\n<p>However since you check for that first you know that at this point <code>keys</code> is not <code>null</code>, so no runtime exceptions will occur.</p>\n"},{"tags":[],"owner":{"account_id":556659,"reputation":9922,"user_id":892535,"accept_rate":85,"display_name":"sheidaei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345140063,"creation_date":1345140063,"answer_id":11992892,"question_id":11992694,"body_markdown":"I am not sure but isn&#39;t there any helper class in ApacheCommon library to do that? like when you have the isEmpty for a string and you have isNullOrEmpty in ApacheCommons library ","title":"How to determine if a list of string contains null or empty elements","body":"<p>I am not sure but isn't there any helper class in ApacheCommon library to do that? like when you have the isEmpty for a string and you have isNullOrEmpty in ApacheCommons library </p>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398285606,"creation_date":1345140626,"answer_id":11993031,"question_id":11992694,"body_markdown":"Check the list in one pass \r\n\r\n      public static boolean empty(String s) {\r\n        if (s == null)\r\n          return true;\r\n        else if (s.length() == 0)\r\n          return true;\r\n        return false;\r\n      }  \r\n    \r\n      public String normalize(List&lt;String&gt; keys) {\r\n        if(keys == null || keys.size() == 0)\r\n            throw new IllegalArgumentException(&quot;Bad!&quot;);\r\n        for (String key: keys)\r\n          if(empty(key))\r\n             throw new IllegalArgumentException(&quot;Empty!&quot;);\r\n    \r\n        // Rest of method...\r\n        return null;\r\n      }\r\n\r\n","title":"How to determine if a list of string contains null or empty elements","body":"<p>Check the list in one pass </p>\n\n<pre><code>  public static boolean empty(String s) {\n    if (s == null)\n      return true;\n    else if (s.length() == 0)\n      return true;\n    return false;\n  }  \n\n  public String normalize(List&lt;String&gt; keys) {\n    if(keys == null || keys.size() == 0)\n        throw new IllegalArgumentException(\"Bad!\");\n    for (String key: keys)\n      if(empty(key))\n         throw new IllegalArgumentException(\"Empty!\");\n\n    // Rest of method...\n    return null;\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1678871775,"post_id":45916582,"comment_id":133615492,"body_markdown":"This only works for one string not the whole list","body":"This only works for one string not the whole list"}],"tags":[],"owner":{"account_id":1132853,"reputation":2896,"user_id":1118527,"accept_rate":83,"display_name":"Lama"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1503914995,"creation_date":1503914995,"answer_id":45916582,"question_id":11992694,"body_markdown":"You could also use Apache StringUtils and check if the string isBlank, this will check for null, Emptystring and will also trim your value.\r\n\r\n    if(StringUtils.isBlank(listItemString)){...}\r\n\r\nCheckout StringUtils Docs here:\r\n\r\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html","title":"How to determine if a list of string contains null or empty elements","body":"<p>You could also use Apache StringUtils and check if the string isBlank, this will check for null, Emptystring and will also trim your value.</p>\n\n<pre><code>if(StringUtils.isBlank(listItemString)){...}\n</code></pre>\n\n<p>Checkout StringUtils Docs here:</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html</a></p>\n"},{"comments":[{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":3,"creation_date":1554517842,"post_id":54135282,"comment_id":97793389,"body_markdown":"`if( keys.stream().anyMatch(String::isBlank) ) { ...`. `String::isBlank` is since Java11.","body":"<code>if( keys.stream().anyMatch(String::isBlank) ) { ...</code>. <code>String::isBlank</code> is since Java11."}],"tags":[],"owner":{"account_id":5482003,"reputation":696,"user_id":4358134,"accept_rate":88,"display_name":"call-me"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1547146782,"creation_date":1547146782,"answer_id":54135282,"question_id":11992694,"body_markdown":"With java 8 you can do:\r\n\r\n\tpublic String normalizeList(List&lt;String&gt; keys) {\r\n\t    boolean bad = keys.stream().anyMatch(s -&gt; (s == null || s.equals(&quot;&quot;)));\r\n\t    if(bad) {\r\n\t    \t//... do whatever you want to do\r\n\t    }\r\n\t}","title":"How to determine if a list of string contains null or empty elements","body":"<p>With java 8 you can do:</p>\n\n<pre><code>public String normalizeList(List&lt;String&gt; keys) {\n    boolean bad = keys.stream().anyMatch(s -&gt; (s == null || s.equals(\"\")));\n    if(bad) {\n        //... do whatever you want to do\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4503853,"reputation":536,"user_id":3661748,"display_name":"cody.tv.weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658858331,"creation_date":1658858331,"answer_id":73127830,"question_id":11992694,"body_markdown":"Aniket gave a really good answer for this as a comment:\r\n\r\n    if( keys.stream().anyMatch(String::isBlank) ) { .... String::isBlank is since Java11. – \r\n    Aniket Sahrawat\r\n    Apr 6, 2019 at 2:30\r\n\r\nSo to tweak your original solution using Aniket&#39;s comment:\r\n\r\n    public String normalize(List&lt;String&gt; keys) {\r\n        if(keys == null || keys.size() == 0  || keys.stream().anyMatch(String::isBlank)){\r\n            throw new IllegalArgumentException(&quot;Bad!&quot;);\r\n        }\r\n    \r\n        // Rest of method...\r\n    }\r\n\r\n","title":"How to determine if a list of string contains null or empty elements","body":"<p>Aniket gave a really good answer for this as a comment:</p>\n<pre><code>if( keys.stream().anyMatch(String::isBlank) ) { .... String::isBlank is since Java11. – \nAniket Sahrawat\nApr 6, 2019 at 2:30\n</code></pre>\n<p>So to tweak your original solution using Aniket's comment:</p>\n<pre><code>public String normalize(List&lt;String&gt; keys) {\n    if(keys == null || keys.size() == 0  || keys.stream().anyMatch(String::isBlank)){\n        throw new IllegalArgumentException(&quot;Bad!&quot;);\n    }\n\n    // Rest of method...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2563057,"reputation":99,"user_id":2223787,"display_name":"Denis Orlov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661938203,"creation_date":1661938203,"answer_id":73553756,"question_id":11992694,"body_markdown":"if you can use [org.springframework.util.CollectionUtils][1]\r\nyou can apply this\r\n\r\n    if(CollectionUtils.isEmpty(coll) || CollectionUtils.containsInstance(coll, null)) {\r\n            // throw ...;\r\n    }\r\n\r\nIt does not throw NullPointerException for immutable collection as List.of().\r\n\r\n  [1]: https://docs.spring.io/spring-android/docs/current/api/org/springframework/util/CollectionUtils.html","title":"How to determine if a list of string contains null or empty elements","body":"<p>if you can use <a href=\"https://docs.spring.io/spring-android/docs/current/api/org/springframework/util/CollectionUtils.html\" rel=\"nofollow noreferrer\">org.springframework.util.CollectionUtils</a>\nyou can apply this</p>\n<pre><code>if(CollectionUtils.isEmpty(coll) || CollectionUtils.containsInstance(coll, null)) {\n        // throw ...;\n}\n</code></pre>\n<p>It does not throw NullPointerException for immutable collection as List.of().</p>\n"},{"tags":[],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678882761,"creation_date":1678871969,"answer_id":75742691,"question_id":11992694,"body_markdown":"    boolean badListInRequest = CollectionUtils.isEmpty(request.getIdList()) ||\r\n                    request.getIdList().stream().anyMatch(s -&gt; (StringUtils.isBlank(s)));\r\n\r\n    if(badListInRequest){\r\n        throw new Exception...\r\n    }","title":"How to determine if a list of string contains null or empty elements","body":"<pre><code>boolean badListInRequest = CollectionUtils.isEmpty(request.getIdList()) ||\n                request.getIdList().stream().anyMatch(s -&gt; (StringUtils.isBlank(s)));\n\nif(badListInRequest){\n    throw new Exception...\n}\n</code></pre>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114094,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":11992730,"answer_count":9,"score":28,"last_activity_date":1678882761,"creation_date":1345139096,"question_id":11992694,"body_markdown":"In Java, I have the following method:\r\n\r\n    public String normalizeList(List&lt;String&gt; keys) {\r\n        // ...\r\n    }\r\n\r\nI want to check that `keys`:\r\n\r\n* Is not `null` itself; and\r\n* Is not empty (`size() == 0`); and\r\n* Does not have any `String` elements that are `null`; and\r\n* Does not have any `String` elements that are empty (&quot;&quot;)\r\n\r\nThis is a utility method that will go in a &quot;commons&quot;-style JAR (the class wil be something like `DataUtils`). Here is what I have, but I believe its incorrect:\r\n\r\n    public String normalize(List&lt;String&gt; keys) {\r\n        if(keys == null || keys.size() == 0 || keys.contains(null) || keys.contains(&quot;&quot;))\r\n            throw new IllegalArgumentException(&quot;Bad!&quot;);\r\n\r\n        // Rest of method...\r\n    }\r\n\r\nI believe the last 2 checks for `keys.contains(null)` and `keys.contains(&quot;&quot;)` are incorrect and will likely thrown runtime exceptions. **I know I can just loop through the list inside the `if` statement, and check for nulls/empties there, but I&#39;m looking for a more elegant solution if it exists.**\r\n","title":"How to determine if a list of string contains null or empty elements","body":"<p>In Java, I have the following method:</p>\n\n<pre><code>public String normalizeList(List&lt;String&gt; keys) {\n    // ...\n}\n</code></pre>\n\n<p>I want to check that <code>keys</code>:</p>\n\n<ul>\n<li>Is not <code>null</code> itself; and</li>\n<li>Is not empty (<code>size() == 0</code>); and</li>\n<li>Does not have any <code>String</code> elements that are <code>null</code>; and</li>\n<li>Does not have any <code>String</code> elements that are empty (\"\")</li>\n</ul>\n\n<p>This is a utility method that will go in a \"commons\"-style JAR (the class wil be something like <code>DataUtils</code>). Here is what I have, but I believe its incorrect:</p>\n\n<pre><code>public String normalize(List&lt;String&gt; keys) {\n    if(keys == null || keys.size() == 0 || keys.contains(null) || keys.contains(\"\"))\n        throw new IllegalArgumentException(\"Bad!\");\n\n    // Rest of method...\n}\n</code></pre>\n\n<p>I believe the last 2 checks for <code>keys.contains(null)</code> and <code>keys.contains(\"\")</code> are incorrect and will likely thrown runtime exceptions. <strong>I know I can just loop through the list inside the <code>if</code> statement, and check for nulls/empties there, but I'm looking for a more elegant solution if it exists.</strong></p>\n"},{"tags":["java","spring-boot","performance","spring-integration","spring-integration-http"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1670590736,"post_id":74741273,"comment_id":131914966,"body_markdown":"I&#39;d suggest to start disabling some of your services to spot a bottleneck. For example I think your &quot;auditing we have another application which we call via Rest api&quot; is guilty. Just turn this option off and you should see a difference. Does it really required to be called within the current request thread? Cannot you put your auditing into some `QueueChannel` to let it to be processed on background in the other thread?","body":"I&#39;d suggest to start disabling some of your services to spot a bottleneck. For example I think your &quot;auditing we have another application which we call via Rest api&quot; is guilty. Just turn this option off and you should see a difference. Does it really required to be called within the current request thread? Cannot you put your auditing into some <code>QueueChannel</code> to let it to be processed on background in the other thread?"},{"owner":{"account_id":5189029,"reputation":216,"user_id":4314527,"display_name":"Ashish Kathait"},"score":0,"creation_date":1671463163,"post_id":74741273,"comment_id":132098685,"body_markdown":"@ArtemBilan I checked Datadog but i don&#39;t see that auditservice is taking more time.","body":"@ArtemBilan I checked Datadog but i don&#39;t see that auditservice is taking more time."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1671463585,"post_id":74741273,"comment_id":132098851,"body_markdown":"As you wish. I&#39;m not familiar with any profiling tools. That&#39;s why I suggest to disable services or one by one or all together and turn on one by one to spot the culprit. The audit service might not take too much time by itself, but requests might wait for free thread in the pool. And that might block your application process.","body":"As you wish. I&#39;m not familiar with any profiling tools. That&#39;s why I suggest to disable services or one by one or all together and turn on one by one to spot the culprit. The audit service might not take too much time by itself, but requests might wait for free thread in the pool. And that might block your application process."}],"answers":[{"tags":[],"owner":{"account_id":5189029,"reputation":216,"user_id":4314527,"display_name":"Ashish Kathait"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678882518,"creation_date":1678727222,"answer_id":75724887,"question_id":74741273,"body_markdown":"I found the root cause of this problem.\r\nThe problem was in the spring core library. We were using the version : 4.3.5 In our code we were using  @Header annotation which was triggering the Spring **GenericConversionService** where there is a converterCache getting created and there was always a cache miss happening because the equals method of TypeDescriptor class had faulty logic for Annotations. Because of this when we were performing the load test, with the increase in the request the performance was degrading rapidly due to increase in Map size and cache miss everytime. \r\n\r\n github url for this issue : https://github.com/spring-projects/spring-framework/issues/19626\r\n\r\ncommit url for fix https://github.com/spring-projects/spring-framework/commit/e38c020535dc5d6b326d5e22f8a59dc35ba7361a: \r\n \r\n\r\n - **Fix 1** : Update Spring version to 4.3.6 or above.\r\n\r\n\r\n - **Fix 2** : I removed reference of @Header annotation as they were few and i could get the header value using the Message object of Spring integration(We also upgraded to the latest version of Spring and SpringBoot later after issue identification).","title":"Spring integration request slowness on increase in load into application","body":"<p>I found the root cause of this problem.\nThe problem was in the spring core library. We were using the version : 4.3.5 In our code we were using  @Header annotation which was triggering the Spring <strong>GenericConversionService</strong> where there is a converterCache getting created and there was always a cache miss happening because the equals method of TypeDescriptor class had faulty logic for Annotations. Because of this when we were performing the load test, with the increase in the request the performance was degrading rapidly due to increase in Map size and cache miss everytime.</p>\n<p>github url for this issue : <a href=\"https://github.com/spring-projects/spring-framework/issues/19626\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/19626</a></p>\n<p>commit url for fix <a href=\"https://github.com/spring-projects/spring-framework/commit/e38c020535dc5d6b326d5e22f8a59dc35ba7361a\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/commit/e38c020535dc5d6b326d5e22f8a59dc35ba7361a</a>:</p>\n<ul>\n<li><p><strong>Fix 1</strong> : Update Spring version to 4.3.6 or above.</p>\n</li>\n<li><p><strong>Fix 2</strong> : I removed reference of @Header annotation as they were few and i could get the header value using the Message object of Spring integration(We also upgraded to the latest version of Spring and SpringBoot later after issue identification).</p>\n</li>\n</ul>\n"}],"owner":{"account_id":5189029,"reputation":216,"user_id":4314527,"display_name":"Ashish Kathait"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678882518,"creation_date":1670578763,"question_id":74741273,"body_markdown":"We have a web application with java8+Springboot+Spring Integration. We are using the DirectChannels for message transfers within our application. There are two inboundadapter to this application a-SOAP web service b- MQ, Also we have outbound adapter calls to two applications : \r\n\r\n 1. For auditing we have another application which we call via Rest api.\r\n 2. The request recieved by our application is sent to x application these are rest calls.\r\n\r\nFor x application we are doing httpConnection pooling and we have defaultMaxPerRoute value as 100 and maxTotal value as 200.\r\n\r\n**Problem :**\r\n\r\n \r\nwe are doing a load test of our application using 60 users for around 30 mins. intially the application is processing the message really quickly. The request is within application for max 1sec before it makes the call to x application above. \r\n\r\nHowever what we are observing is that after some point the app becomes really slow even simple method execution for a particular request is taking around 2 seconds and the request remains in the application for around 10-15 seconds which is hampering the performance of the application. This is observed for all requests not specific to any type or api.\r\n\r\nWe are not able to understand what is causing this slowness. We have added multiple loggers into our application but still not getting any clue. We even checked applciation logs there is no Out of memory error or there is no CPU getting fully utilized. \r\n\r\nIt will be great if anyone can share some input on what could be wrong or what else should we check. \r\n\r\nBelow is the logs statement for one of the request which is taking time. \r\nI have added loggers at the start and end of each channel. It is evident that even when passing the request from one channel to another it is taking around 2 seconds. Also a simple transformer is taking 2 seconds. So I am not able to identify the root cause for this.\r\n\r\n\r\n \r\n\r\n    channel 1\r\n    2022-11-22 09:24:51 Transformer [INFO] converted the Source object to String xml for message \r\n    2022-11-22 09:24:54 AuditService [DEBUG] Completed first channel for : \r\n    \r\n    \r\n    channel 2\r\n    2022-11-22 09:24:56 AuditService[DEBUG] Creating entry audit for operation\r\n    2022-11-22 09:24:59 AuditService [DEBUG] log just before pre rest channel call\r\n    \r\n    channel 3 \r\n    2022-11-22 09:25:02 AuditService [DEBUG] starting rest pre channel \r\n    \r\n    2022-11-22 09:25:05 RequestTransformer [DEBUG] About to process request \r\n    \r\n    2022-11-22 09:25:05 RequestTransformer [DEBUG] The json after conversion \r\n    \r\n    \r\n    \r\n    channel 4\r\n    2022-11-22 09:25:07 AuditService [DEBUG] Completed request sent audit for operation\r\n    2022-11-22 09:25:08 AuditService[DEBUG] Completed request sent audit for operation\r\n\r\n\r\n\r\n \r\n\r\n\r\n","title":"Spring integration request slowness on increase in load into application","body":"<p>We have a web application with java8+Springboot+Spring Integration. We are using the DirectChannels for message transfers within our application. There are two inboundadapter to this application a-SOAP web service b- MQ, Also we have outbound adapter calls to two applications :</p>\n<ol>\n<li>For auditing we have another application which we call via Rest api.</li>\n<li>The request recieved by our application is sent to x application these are rest calls.</li>\n</ol>\n<p>For x application we are doing httpConnection pooling and we have defaultMaxPerRoute value as 100 and maxTotal value as 200.</p>\n<p><strong>Problem :</strong></p>\n<p>we are doing a load test of our application using 60 users for around 30 mins. intially the application is processing the message really quickly. The request is within application for max 1sec before it makes the call to x application above.</p>\n<p>However what we are observing is that after some point the app becomes really slow even simple method execution for a particular request is taking around 2 seconds and the request remains in the application for around 10-15 seconds which is hampering the performance of the application. This is observed for all requests not specific to any type or api.</p>\n<p>We are not able to understand what is causing this slowness. We have added multiple loggers into our application but still not getting any clue. We even checked applciation logs there is no Out of memory error or there is no CPU getting fully utilized.</p>\n<p>It will be great if anyone can share some input on what could be wrong or what else should we check.</p>\n<p>Below is the logs statement for one of the request which is taking time.\nI have added loggers at the start and end of each channel. It is evident that even when passing the request from one channel to another it is taking around 2 seconds. Also a simple transformer is taking 2 seconds. So I am not able to identify the root cause for this.</p>\n<pre><code>channel 1\n2022-11-22 09:24:51 Transformer [INFO] converted the Source object to String xml for message \n2022-11-22 09:24:54 AuditService [DEBUG] Completed first channel for : \n\n\nchannel 2\n2022-11-22 09:24:56 AuditService[DEBUG] Creating entry audit for operation\n2022-11-22 09:24:59 AuditService [DEBUG] log just before pre rest channel call\n\nchannel 3 \n2022-11-22 09:25:02 AuditService [DEBUG] starting rest pre channel \n\n2022-11-22 09:25:05 RequestTransformer [DEBUG] About to process request \n\n2022-11-22 09:25:05 RequestTransformer [DEBUG] The json after conversion \n\n\n\nchannel 4\n2022-11-22 09:25:07 AuditService [DEBUG] Completed request sent audit for operation\n2022-11-22 09:25:08 AuditService[DEBUG] Completed request sent audit for operation\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678480658,"post_id":75699957,"comment_id":133547389,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25638157,"reputation":3,"user_id":21372388,"display_name":"Yaya38"},"score":0,"creation_date":1678481421,"post_id":75699957,"comment_id":133547582,"body_markdown":"the code above is ok, but i want to, when i click on txt7, can read .txt and show that .txt in secondactivity","body":"the code above is ok, but i want to, when i click on txt7, can read .txt and show that .txt in secondactivity"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1678564794,"post_id":75699957,"comment_id":133559714,"body_markdown":"If you&#39;re saying you want to click a thing in ActivityA and then open ActivityB and display the text, you&#39;ll need to pass some data to ActivityB through the `Intent` you use to open it. E.g. pass the filename (`&quot;mytextfile.txt&quot;`) and then use the same code up there to open the file and get the text for display: https://developer.android.com/guide/components/activities/parcelables-and-bundles#sdba","body":"If you&#39;re saying you want to click a thing in ActivityA and then open ActivityB and display the text, you&#39;ll need to pass some data to ActivityB through the <code>Intent</code> you use to open it. E.g. pass the filename (<code>&quot;mytextfile.txt&quot;</code>) and then use the same code up there to open the file and get the text for display: <a href=\"https://developer.android.com/guide/components/activities/parcelables-and-bundles#sdba\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/activities/&hellip;</a>"},{"owner":{"account_id":25638157,"reputation":3,"user_id":21372388,"display_name":"Yaya38"},"score":0,"creation_date":1678654539,"post_id":75699957,"comment_id":133571193,"body_markdown":"Yes, but how i do that, im new to coding","body":"Yes, but how i do that, im new to coding"},{"owner":{"account_id":25638157,"reputation":3,"user_id":21372388,"display_name":"Yaya38"},"score":0,"creation_date":1678739581,"post_id":75699957,"comment_id":133589143,"body_markdown":"@cactustictacs And one more thing, in ActivityA, i have many Textview, so if i click on any one, he can shiw specific &quot;textfile.txt&quot;","body":"@cactustictacs And one more thing, in ActivityA, i have many Textview, so if i click on any one, he can shiw specific &quot;textfile.txt&quot;"}],"answers":[{"tags":[],"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678882366,"creation_date":1678882366,"answer_id":75744528,"question_id":75699957,"body_markdown":"\r\nTo show the contents of your text file in a textview in another activity you have to pass it through Intent.\r\nHere is your code after clicking on the txt7:\r\n\r\n    txt7.setOnClickListener(View.OnClickListener {\r\n        try {\r\n            val inputStream = assets.open(&quot;mytextfile.txt&quot;)\r\n            val size: Int = inputStream.available()\r\n            val buffer = ByteArray(size)\r\n            inputStream.read(buffer).toString()\r\n            string = String(buffer)\r\n            val intent = Intent(this, SecondActivity::class.java)\r\n            intent.putExtra(&quot;textfile&quot;, string)\r\n            startActivity(intent)\r\n    \r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }\r\n    })\r\n\r\nAnd in the SecondActivity:\r\n\r\n    val textfile = intent.getStringExtra(&quot;textfile&quot;)\r\n    \r\n    val textView = findViewById&lt;TextView&gt;(R.id.textView)\r\n    textView.text = textfile\r\n\r\n","title":"how to Read .txt file on new activity when i click textview","body":"<p>To show the contents of your text file in a textview in another activity you have to pass it through Intent.\nHere is your code after clicking on the txt7:</p>\n<pre><code>txt7.setOnClickListener(View.OnClickListener {\n    try {\n        val inputStream = assets.open(&quot;mytextfile.txt&quot;)\n        val size: Int = inputStream.available()\n        val buffer = ByteArray(size)\n        inputStream.read(buffer).toString()\n        string = String(buffer)\n        val intent = Intent(this, SecondActivity::class.java)\n        intent.putExtra(&quot;textfile&quot;, string)\n        startActivity(intent)\n\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n})\n</code></pre>\n<p>And in the SecondActivity:</p>\n<pre><code>val textfile = intent.getStringExtra(&quot;textfile&quot;)\n\nval textView = findViewById&lt;TextView&gt;(R.id.textView)\ntextView.text = textfile\n</code></pre>\n"}],"owner":{"account_id":25638157,"reputation":3,"user_id":21372388,"display_name":"Yaya38"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75744528,"answer_count":1,"score":0,"last_activity_date":1678882366,"creation_date":1678474200,"question_id":75699957,"body_markdown":"I want to read a .txt file on new activity (for example &quot;secondactivity.tk&quot;). When I click Textview, I succefully read text, but just in the same Activity.\r\n \r\nHere is my code:\r\n\r\n```\r\npackage com.example.coding\r\n\r\nimport android.content.Intent\r\nimport android.os.Bundle\r\nimport android.view.View\r\nimport android.widget.TextView\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport java.io.IOException\r\n\r\nclass Dusterlist : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_dacialist)\r\n        var string = &quot;&quot;\r\n        var myoutput = string\r\n        val txtsh1 = findViewById&lt;TextView&gt;(R.id.txtsh1)\r\n        val txt7 = findViewById&lt;TextView&gt;(R.id.textView7);\r\n        txt7.setOnClickListener(View.OnClickListener {\r\n            try {\r\n                val inputStream = assets.open(&quot;mytextfile.txt&quot;)\r\n                val size: Int = inputStream.available()\r\n                val buffer = ByteArray(size)\r\n                inputStream.read(buffer).toString()\r\n                string = String(buffer)\r\n                var txtdetail = String(buffer)\r\n                txtsh1.text = txtdetail\r\n\r\n            } catch (e: IOException) {\r\n                e.printStackTrace()\r\n                }\r\n\r\n\r\n        } )}\r\n\r\n    }\r\n```\r\n\r\nSo, please, what should I add in the mainactivity and secondactivity?","title":"how to Read .txt file on new activity when i click textview","body":"<p>I want to read a .txt file on new activity (for example &quot;secondactivity.tk&quot;). When I click Textview, I succefully read text, but just in the same Activity.</p>\n<p>Here is my code:</p>\n<pre><code>package com.example.coding\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.TextView\nimport androidx.appcompat.app.AppCompatActivity\nimport java.io.IOException\n\nclass Dusterlist : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_dacialist)\n        var string = &quot;&quot;\n        var myoutput = string\n        val txtsh1 = findViewById&lt;TextView&gt;(R.id.txtsh1)\n        val txt7 = findViewById&lt;TextView&gt;(R.id.textView7);\n        txt7.setOnClickListener(View.OnClickListener {\n            try {\n                val inputStream = assets.open(&quot;mytextfile.txt&quot;)\n                val size: Int = inputStream.available()\n                val buffer = ByteArray(size)\n                inputStream.read(buffer).toString()\n                string = String(buffer)\n                var txtdetail = String(buffer)\n                txtsh1.text = txtdetail\n\n            } catch (e: IOException) {\n                e.printStackTrace()\n                }\n\n\n        } )}\n\n    }\n</code></pre>\n<p>So, please, what should I add in the mainactivity and secondactivity?</p>\n"},{"tags":["java","multithreading","concurrency","java-memory-model","jls"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1669580624,"post_id":74593077,"comment_id":131668571,"body_markdown":"It&#39;s customary to refer to some classes as &quot;thread safe&quot; if all methods use the keyword `synchronized` for example, or if the class is immutable.  There can be some debate over exactly what that means and how it should be implemented, so I think it&#39;s best to add an implementation note what is going on.  To summarize: I think you can say that a class is &quot;correctly synchronized,&quot; but be aware that some folks might debate you.","body":"It&#39;s customary to refer to some classes as &quot;thread safe&quot; if all methods use the keyword <code>synchronized</code> for example, or if the class is immutable.  There can be some debate over exactly what that means and how it should be implemented, so I think it&#39;s best to add an implementation note what is going on.  To summarize: I think you can say that a class is &quot;correctly synchronized,&quot; but be aware that some folks might debate you."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669582068,"post_id":74593077,"comment_id":131668866,"body_markdown":"I use the term _correctly synchronized_ as it&#39;s defined in the JLS (the quote is given in the question).","body":"I use the term <i>correctly synchronized</i> as it&#39;s defined in the JLS (the quote is given in the question)."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669582380,"post_id":74593077,"comment_id":131668933,"body_markdown":"@markspace regarding the term &quot;thread safe&quot; I prefer the definition from Java Concurrency in Practice:\n_&quot;A class is thread-safe if it behaves correctly when accessed from multiple threads, regardless of the scheduling or interleaving of the execution of those threads by the runtime environment, and with no additional synchronization or other coordination on the part of the calling code.&quot;_","body":"@markspace regarding the term &quot;thread safe&quot; I prefer the definition from Java Concurrency in Practice: <i>&quot;A class is thread-safe if it behaves correctly when accessed from multiple threads, regardless of the scheduling or interleaving of the execution of those threads by the runtime environment, and with no additional synchronization or other coordination on the part of the calling code.&quot;</i>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669583652,"post_id":74593077,"comment_id":131669159,"body_markdown":"@JJJ, Re, &quot;correctly synchronized,&quot; I _mostly_ agree with the Brian Goetz definition, but it only works if everybody agrees on what &quot;behaves correctly&quot; means. Sometimes, what is &quot;correct&quot; for a class that can be used in a multi-threaded environment is not always obvious. Sometimes, I like to say that a class is &quot;thread safe&quot; if it doesn&#39;t do anything in a multi-threaded program that would surprise a competent developer _who has read the documentation._","body":"@JJJ, Re, &quot;correctly synchronized,&quot; I <i>mostly</i> agree with the Brian Goetz definition, but it only works if everybody agrees on what &quot;behaves correctly&quot; means. Sometimes, what is &quot;correct&quot; for a class that can be used in a multi-threaded environment is not always obvious. Sometimes, I like to say that a class is &quot;thread safe&quot; if it doesn&#39;t do anything in a multi-threaded program that would surprise a competent developer <i>who has read the documentation.</i>"},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669584145,"post_id":74593077,"comment_id":131669237,"body_markdown":"@markspace I suppose I can rephrase the question this way: imagine that I want to create a thread-safe collection. In order to guarantee thread-safety of my collection I can use happens-before, but then I would have to check all possible executions. The JLS provides a way to reduce the number of executions to check for the whole program  - it&#39;s called &quot;correctly synchronized&quot; and it requires checking of only sequential executions. I&#39;m asking if this method can be used on just my collection class, not only on the whole program.","body":"@markspace I suppose I can rephrase the question this way: imagine that I want to create a thread-safe collection. In order to guarantee thread-safety of my collection I can use happens-before, but then I would have to check all possible executions. The JLS provides a way to reduce the number of executions to check for the whole program  - it&#39;s called &quot;correctly synchronized&quot; and it requires checking of only sequential executions. I&#39;m asking if this method can be used on just my collection class, not only on the whole program."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669584715,"post_id":74593077,"comment_id":131669341,"body_markdown":"@SolomonSlow I don&#39;t use &quot;correctly synchronized&quot; as a synonym for &quot;thread safe&quot;. I use &quot;correctly synchronized&quot; as it&#39;s defined in the JLS: the quote with the definition is given in the question. In short &quot;correctly synchronized&quot; == &quot;you only need to check that sequential executions have no data races, and then you are automatically guaranteed that every execution will have no data races, and that every execution will be sequentially consistent&quot;.","body":"@SolomonSlow I don&#39;t use &quot;correctly synchronized&quot; as a synonym for &quot;thread safe&quot;. I use &quot;correctly synchronized&quot; as it&#39;s defined in the JLS: the quote with the definition is given in the question. In short &quot;correctly synchronized&quot; == &quot;you only need to check that sequential executions have no data races, and then you are automatically guaranteed that every execution will have no data races, and that every execution will be sequentially consistent&quot;."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1669584955,"post_id":74593077,"comment_id":131669400,"body_markdown":"D&#39;Oh!. I did not mean to say &quot;correctly synchronized.&quot; I meant to say &quot;thread-safe.&quot; At the same time as I was typing that comment, I also was pondering a possible answer\\* to your question, and I guess I mixed them up. Sorry. [\\* I decided against actually answering though.]","body":"D&#39;Oh!. I did not mean to say &quot;correctly synchronized.&quot; I meant to say &quot;thread-safe.&quot; At the same time as I was typing that comment, I also was pondering a possible answer* to your question, and I guess I mixed them up. Sorry. [* I decided against actually answering though.]"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1672735363,"post_id":74593077,"comment_id":132336369,"body_markdown":"@JJJ the quoted text says “*sequentially consistent*” which does *not* mean “sequential executions”. Any non-trivial program still has a practically infinite number of “possible executions”, even when correctly synchronized, so this formal definition was never meant as a “check them all” tool. Besides that, &#167;17.4.3. says “*If a program has no data races, then all executions of the program will appear to be sequentially consistent.*” so you would have to assume that there are no data races before you can rely on the sequential consistency to “prove” the correctness with circular reasoning…","body":"@JJJ the quoted text says “<i>sequentially consistent</i>” which does <i>not</i> mean “sequential executions”. Any non-trivial program still has a practically infinite number of “possible executions”, even when correctly synchronized, so this formal definition was never meant as a “check them all” tool. Besides that, &#167;17.4.3. says “<i>If a program has no data races, then all executions of the program will appear to be sequentially consistent.</i>” so you would have to assume that there are no data races before you can rely on the sequential consistency to “prove” the correctness with circular reasoning…"},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672865287,"post_id":74593077,"comment_id":132371988,"body_markdown":"@Holger I&#39;m not sure I understand what you mean. I could replace &quot;sequential execution&quot; with &quot;sequentially consistent execution&quot; in the question, but IMO the meaning would stay the same: we only need to check that sequential (or SC) executions has no data races in order to guarantee that every possible execution has no data races + in this case every possible execution will appear to be sequential (or SC). (this is what the quote in the question says)","body":"@Holger I&#39;m not sure I understand what you mean. I could replace &quot;sequential execution&quot; with &quot;sequentially consistent execution&quot; in the question, but IMO the meaning would stay the same: we only need to check that sequential (or SC) executions has no data races in order to guarantee that every possible execution has no data races + in this case every possible execution will appear to be sequential (or SC). (this is what the quote in the question says)"},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672866764,"post_id":74593077,"comment_id":132372459,"body_markdown":"@Holger _Any non-trivial program still has a practically infinite number of “possible executions”, even when correctly synchronized, so this formal definition was never meant as a “check them all” tool_ How do you know what the authors of the JMM meant? IMO since only SC executions need to be checked for the absence of data races, then it&#39;s possible to create a tool that does it automatically.","body":"@Holger <i>Any non-trivial program still has a practically infinite number of “possible executions”, even when correctly synchronized, so this formal definition was never meant as a “check them all” tool</i> How do you know what the authors of the JMM meant? IMO since only SC executions need to be checked for the absence of data races, then it&#39;s possible to create a tool that does it automatically."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672867283,"post_id":74593077,"comment_id":132372599,"body_markdown":"@Holger _so you would have to assume that there are no data races before you can rely on the sequential consistency_ No. You can rely on SC after you check that there are no data races in SC executions of your program. The quote I gave in the question (from [&#167;17.4.5 of the JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5)) says literally that.","body":"@Holger <i>so you would have to assume that there are no data races before you can rely on the sequential consistency</i> No. You can rely on SC after you check that there are no data races in SC executions of your program. The quote I gave in the question (from <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">&#167;17.4.5 of the JLS</a>) says literally that."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672905510,"post_id":74593077,"comment_id":132379353,"body_markdown":"Do you know about the [Halting problem](https://en.wikipedia.org/wiki/Halting_problem)? It implies that you can not even prove whether the number of possible executions is finite or infinite, not to speak of the idea to check them all for the presence of data races. But anyway, there’s a much simpler practical consideration: if it was possible to write such a checking tool, what do you think is the reason that no such tool exist?","body":"Do you know about the <a href=\"https://en.wikipedia.org/wiki/Halting_problem\" rel=\"nofollow noreferrer\">Halting problem</a>? It implies that you can not even prove whether the number of possible executions is finite or infinite, not to speak of the idea to check them all for the presence of data races. But anyway, there’s a much simpler practical consideration: if it was possible to write such a checking tool, what do you think is the reason that no such tool exist?"},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672931688,"post_id":74593077,"comment_id":132388219,"body_markdown":"@Holger the halting problem means that there could be no algorithm that can efficiently determine if a program halts for EVERY POSSIBLE program, but an effective algorithm for some specific subset of programs is possible. In other words, there can be no tool that can effectively check for data races EVERY POSSIBLE java program, but a tool that works for some subset of java programs is possible. [Java Pathfinder](https://github.com/javapathfinder/jpf-core/wiki/Testing-vs.-Model-Checking) is one example of such tools.","body":"@Holger the halting problem means that there could be no algorithm that can efficiently determine if a program halts for EVERY POSSIBLE program, but an effective algorithm for some specific subset of programs is possible. In other words, there can be no tool that can effectively check for data races EVERY POSSIBLE java program, but a tool that works for some subset of java programs is possible. <a href=\"https://github.com/javapathfinder/jpf-core/wiki/Testing-vs.-Model-Checking\" rel=\"nofollow noreferrer\">Java Pathfinder</a> is one example of such tools."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672932021,"post_id":74593077,"comment_id":132388362,"body_markdown":"@Holger Of course, as the program gets bigger the number of possible executions to check grows exponentially, but fortunately there are some tricks to deal with that. For example Lincheck (another similar tool which for some unknown reason doesn&#39;t have data race detection yet) allows modularity: if an object (no matter how complex it&#39;s inside) is linearizable, then we can consider all its methods atomic and ignore possible interleavings inside them - this drastically reduces the number of interleavings to check and allows us to create and check for data races very large programs.","body":"@Holger Of course, as the program gets bigger the number of possible executions to check grows exponentially, but fortunately there are some tricks to deal with that. For example Lincheck (another similar tool which for some unknown reason doesn&#39;t have data race detection yet) allows modularity: if an object (no matter how complex it&#39;s inside) is linearizable, then we can consider all its methods atomic and ignore possible interleavings inside them - this drastically reduces the number of interleavings to check and allows us to create and check for data races very large programs."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672932195,"post_id":74593077,"comment_id":132388431,"body_markdown":"@Holger [here](https://github.com/Kotlin/kotlinx-lincheck#modular-testing) the modularity in Lincheck is explained.","body":"@Holger <a href=\"https://github.com/Kotlin/kotlinx-lincheck#modular-testing\" rel=\"nofollow noreferrer\">here</a> the modularity in Lincheck is explained."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1672932599,"post_id":74593077,"comment_id":132388602,"body_markdown":"@Holger I hope that my original question is more clear to you now. The original question is also (kind of) about modularity: I ask if we can use &quot;correctly synchronized&quot; (as defined in the JLS) with a single class instead of the whole program.","body":"@Holger I hope that my original question is more clear to you now. The original question is also (kind of) about modularity: I ask if we can use &quot;correctly synchronized&quot; (as defined in the JLS) with a single class instead of the whole program."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1673009343,"post_id":74593077,"comment_id":132406624,"body_markdown":"correction: the number of possible SC executions grows not exponentially but [as _O(n!)_](https://math.stackexchange.com/a/77736)","body":"correction: the number of possible SC executions grows not exponentially but <a href=\"https://math.stackexchange.com/a/77736\">as <i>O(n!)</i></a>"}],"answers":[{"comments":[{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669581398,"post_id":74593294,"comment_id":131668718,"body_markdown":"I understand that I _&quot;need to ensure that there would be no race conditions is your concurrent custom collection&quot;_. My question is about one of the potential ways of achieving that. My first step is to make sure there are no data races. The (mentioned by you) happens-before requires checking of ALL POSSIBLE executions for that. My question is whether I can use _&quot;correctly synchronized&quot;_ technique, which is also described in the JLS and which only require checking of SEQUENTIAL executions (there are much fewer of them).","body":"I understand that I <i>&quot;need to ensure that there would be no race conditions is your concurrent custom collection&quot;</i>. My question is about one of the potential ways of achieving that. My first step is to make sure there are no data races. The (mentioned by you) happens-before requires checking of ALL POSSIBLE executions for that. My question is whether I can use <i>&quot;correctly synchronized&quot;</i> technique, which is also described in the JLS and which only require checking of SEQUENTIAL executions (there are much fewer of them)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669584372,"post_id":74593294,"comment_id":131669283,"body_markdown":"@JJJ There many ways to synchronize the code. You can use [`Lock`s](https://docs.oracle.com/javase/tutorial/essential/concurrency/newlocks.html), or [`synchronized` keyword](https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html) to guard the critical sections of the code.","body":"@JJJ There many ways to synchronize the code. You can use <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/newlocks.html\" rel=\"nofollow noreferrer\"><code>Lock</code>s</a>, or <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"nofollow noreferrer\"><code>synchronized</code> keyword</a> to guard the critical sections of the code."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669584925,"post_id":74593294,"comment_id":131669394,"body_markdown":"@JJJ I&#39;ve provided a dummy example of how to synchronize an `ArrayList` using a `ReentrantReadWriteLock`.","body":"@JJJ I&#39;ve provided a dummy example of how to synchronize an <code>ArrayList</code> using a <code>ReentrantReadWriteLock</code>."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669585882,"post_id":74593294,"comment_id":131669579,"body_markdown":"Thanks. I&#39;m aware of the different ways to synchronize code in java. I&#39;m asking about one specific method that the JLS provides us to validate that programs have no data races. The method is described in the JLS as &quot;correctly synchronized programs&quot;. The method is pretty cheap and guarantees that the program always executes as-if-serial.","body":"Thanks. I&#39;m aware of the different ways to synchronize code in java. I&#39;m asking about one specific method that the JLS provides us to validate that programs have no data races. The method is described in the JLS as &quot;correctly synchronized programs&quot;. The method is pretty cheap and guarantees that the program always executes as-if-serial."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669586917,"post_id":74593294,"comment_id":131669758,"body_markdown":"@JJJ You said that you understand that you understand what **data race** is. When your concurrent implementation is free from *data race* it considered to be correctly synchronized. Makes sense? How to validate - **inspect the data flow**. Java Language Specification is not a testing tutorial (I don&#39;t understand what else you want find in JLS). You need to apply the means of synchronization in a way that prevent *data race*, i.e. - find the critical sections of the code and determine how they need to locked. And there&#39;s no one single correct way to apply synchronization.","body":"@JJJ You said that you understand that you understand what <b>data race</b> is. When your concurrent implementation is free from <i>data race</i> it considered to be correctly synchronized. Makes sense? How to validate - <b>inspect the data flow</b>. Java Language Specification is not a testing tutorial (I don&#39;t understand what else you want find in JLS). You need to apply the means of synchronization in a way that prevent <i>data race</i>, i.e. - find the critical sections of the code and determine how they need to locked. And there&#39;s no one single correct way to apply synchronization."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669588474,"post_id":74593294,"comment_id":131670044,"body_markdown":"_&quot;When your concurrent implementation is free from data race it considered to be correctly synchronized. Makes sense?&quot;_ I took the term &quot;correctly synchronized&quot; from the [JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html) - there it&#39;s different from &quot;when your concurrent implementation is free from data race&quot;. The definition from the JLS is quoted at the start of my question. In addition to defining &quot;correctly synchronized&quot; the quote actually provides a cheap method of proving that a program has no data races (by only checking sequential executions).","body":"<i>&quot;When your concurrent implementation is free from data race it considered to be correctly synchronized. Makes sense?&quot;</i> I took the term &quot;correctly synchronized&quot; from the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html\" rel=\"nofollow noreferrer\">JLS</a> - there it&#39;s different from &quot;when your concurrent implementation is free from data race&quot;. The definition from the JLS is quoted at the start of my question. In addition to defining &quot;correctly synchronized&quot; the quote actually provides a cheap method of proving that a program has no data races (by only checking sequential executions)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669588876,"post_id":74593294,"comment_id":131670102,"body_markdown":"@JJJ *&quot;by only checking sequential executions&quot;* - sure, that&#39;s what I meant while saying that you need to inspect the data flow in the all the methods accessing the shared resource (i.e. methods that need to be synchronized). What else do you want to find in JLS?","body":"@JJJ <i>&quot;by only checking sequential executions&quot;</i> - sure, that&#39;s what I meant while saying that you need to inspect the data flow in the all the methods accessing the shared resource (i.e. methods that need to be synchronized). What else do you want to find in JLS?"},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669589461,"post_id":74593294,"comment_id":131670211,"body_markdown":"I&#39;m not sure if _&quot;by only checking sequential executions&quot;_ can be applied to my custom collection class only (this is what I&#39;m asking about). In the JLS &quot;correctly synchronized&quot; is defined for the program as a whole. But I want my collection to be data-race-free even in programs with data races. (And BTW any real program has data races because `String.hashCode()` contains data race).","body":"I&#39;m not sure if <i>&quot;by only checking sequential executions&quot;</i> can be applied to my custom collection class only (this is what I&#39;m asking about). In the JLS &quot;correctly synchronized&quot; is defined for the program as a whole. But I want my collection to be data-race-free even in programs with data races. (And BTW any real program has data races because <code>String.hashCode()</code> contains data race)."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669590291,"post_id":74593294,"comment_id":131670353,"body_markdown":"@JJJ Do you understand the term *shared resource* (see the link &quot;shared variables&quot; in the answer) ? In a nutshell, it&#39;s a subject of concurrent access (e.g. `array` in the sample code in the answer). For your collection to be *thread safe*, **all** the behavior that that requires interaction with *shared resources* should be synchronized.","body":"@JJJ Do you understand the term <i>shared resource</i> (see the link &quot;shared variables&quot; in the answer) ? In a nutshell, it&#39;s a subject of concurrent access (e.g. <code>array</code> in the sample code in the answer). For your collection to be <i>thread safe</i>, <b>all</b> the behavior that that requires interaction with <i>shared resources</i> should be synchronized."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669590487,"post_id":74593294,"comment_id":131670382,"body_markdown":"@JJJ Regarding *&quot;program as a whole&quot;* - apply encapsulation properly, synchronization should be exercised on the level of separate Classes (which own *shared resources*, and methods dialing with resources should be encapsulated within the class, and resources shouldn&#39;t be exposed outside the class). It not clear how `String` is related to your custom collection, if you&#39;re having hard time with synchronizing `hashCode()` method you might introduce a separate question and explain the problem in details. A quick suggestion - have a look at the code of legacy collections: `Vector` and `Hashtable`.","body":"@JJJ Regarding <i>&quot;program as a whole&quot;</i> - apply encapsulation properly, synchronization should be exercised on the level of separate Classes (which own <i>shared resources</i>, and methods dialing with resources should be encapsulated within the class, and resources shouldn&#39;t be exposed outside the class). It not clear how <code>String</code> is related to your custom collection, if you&#39;re having hard time with synchronizing <code>hashCode()</code> method you might introduce a separate question and explain the problem in details. A quick suggestion - have a look at the code of legacy collections: <code>Vector</code> and <code>Hashtable</code>."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669592976,"post_id":74593294,"comment_id":131670703,"body_markdown":"I cannot &quot;apply encapsulation properly&quot; because the guarantees for &quot;correctly synchronized&quot; are given in the JLS explicitly for the whole program. [The proof](https://stackoverflow.com/a/74421466/20616873) is also for the whole program. I need a proof that &quot;applying encapsulation properly&quot; preserves the guarantees","body":"I cannot &quot;apply encapsulation properly&quot; because the guarantees for &quot;correctly synchronized&quot; are given in the JLS explicitly for the whole program. <a href=\"https://stackoverflow.com/a/74421466/20616873\">The proof</a> is also for the whole program. I need a proof that &quot;applying encapsulation properly&quot; preserves the guarantees"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669598819,"post_id":74593294,"comment_id":131671477,"body_markdown":"@JJJ If there&#39;s at least one method which provides a possibility for the data of a *shared resource* to be corrupted, it doesn&#39;t matter how many methods you&#39;ve synchronized. Your task is to identify every shared resource in the application, find the methods that make use of these resources, and each and every method guard a critical code section.","body":"@JJJ If there&#39;s at least one method which provides a possibility for the data of a <i>shared resource</i> to be corrupted, it doesn&#39;t matter how many methods you&#39;ve synchronized. Your task is to identify every shared resource in the application, find the methods that make use of these resources, and each and every method guard a critical code section."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669598854,"post_id":74593294,"comment_id":131671482,"body_markdown":"@JJJ *&quot;proof that &quot;applying encapsulation properly&quot;* - If behavior that dials with a particular resource is bound to a particular class, i.e. there are no methods that make use of this resource other than by the means of the behavior you&#39;ve synchronized than happens-before relationship is guaranteed for resource. If you&#39;re designing a collection in your project, then its underlying array or nodes would be a *shared resource*. If you synchronized all the collection behavior - it&#39;s thread-safe.","body":"@JJJ <i>&quot;proof that &quot;applying encapsulation properly&quot;</i> - If behavior that dials with a particular resource is bound to a particular class, i.e. there are no methods that make use of this resource other than by the means of the behavior you&#39;ve synchronized than happens-before relationship is guaranteed for resource. If you&#39;re designing a collection in your project, then its underlying array or nodes would be a <i>shared resource</i>. If you synchronized all the collection behavior - it&#39;s thread-safe."},{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1669600514,"post_id":74593294,"comment_id":131671688,"body_markdown":"We&#39;ve deviated from the topic too much.\nI&#39;m only interested if &quot;correctly synchronized&quot; (as it&#39;s defined in the JLS) can be used with a single class instead of the whole program. Discussions about &quot;shared resources&quot;, &quot;encapsulation&quot; and other common practices of synchronization are too vague and off-topic to be useful in answering the question.","body":"We&#39;ve deviated from the topic too much. I&#39;m only interested if &quot;correctly synchronized&quot; (as it&#39;s defined in the JLS) can be used with a single class instead of the whole program. Discussions about &quot;shared resources&quot;, &quot;encapsulation&quot; and other common practices of synchronization are too vague and off-topic to be useful in answering the question."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669601006,"post_id":74593294,"comment_id":131671754,"body_markdown":"@JJJ There&#39;s nothing vague. That&#39;s what I refer to as a [*shared resource*](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1) from the perspective of JSL. In a nutshell, it&#39;s what you&#39;re protecting through synchronization. It&#39;s the **core** of the subject. When there&#39;s no shared sources, that can be mutated, there&#39;s nothing to synchronize to begin with. Is that clear?","body":"@JJJ There&#39;s nothing vague. That&#39;s what I refer to as a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1\" rel=\"nofollow noreferrer\"><i>shared resource</i></a> from the perspective of JSL. In a nutshell, it&#39;s what you&#39;re protecting through synchronization. It&#39;s the <b>core</b> of the subject. When there&#39;s no shared sources, that can be mutated, there&#39;s nothing to synchronize to begin with. Is that clear?"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":15,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672764840,"creation_date":1669578398,"answer_id":74593294,"question_id":74593077,"body_markdown":"You need to ensure that there would be no *race conditions* is your concurrent custom collection.\r\n\r\nI.e. multiple threads can access the same element simultaneously only if they are trying to read its value, that&#39;s fine. But if it&#39;s possible if one thread is trying to update the element while another is trying to retrieve its value, or multiple threads a trying to change the same element at the same time (overriding results produced by one-another), that&#39;s a problem. And it can be avoided by synchronizing the mutating code.\r\n\r\n[&#167;17.4.5.&#160;Happens-before Order][data race]\r\n\r\n&gt; When a program contains two **conflicting accesses** (&#167;17.4.1) that are not ordered by a happens-before relationship, it is said to contain a **data race**.\r\n\r\n[&#167;17.4.1.&#160;Shared Variables][conflicting accesses]\r\n\r\n&gt; Two accesses to (reads of or writes to) the same variable are said to be **conflicting** if at least **one of the accesses is a write**.\r\n\r\nHere&#39;s a dummy example of the concurrent list which allows reading its value from multiple threads simultaneously, but if one of the threads is writing a value, all others would be blocked.\r\n\r\nThis can be achieved by using [`ReentrantReadWriteLock`][readWriteLock].\r\n\r\n    public class MyConcurrentArrayList&lt;T&gt; {\r\n        private Object[] array;\r\n        private int size;\r\n        \r\n        private final ReadWriteLock lock = new ReentrantReadWriteLock();\r\n        private final Lock read = lock.readLock();\r\n        private final Lock write = lock.readLock();\r\n        \r\n        // non-mutating operation\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public T get(int i) {\r\n            T result;\r\n            \r\n            read.lock(); // lock the read-lock, from that moment only non-mutating operations (guarded by the readLock) are allowed\r\n            // access the element under the given index\r\n            try {\r\n                result = (T) array[i];\r\n            } finally {\r\n                read.unlock(); // release the read-lock\r\n            }\r\n            return result;\r\n        }\r\n        \r\n        // mutating operation\r\n        public void add(T item) {\r\n            write.lock(); // lock the write-lock, none of the threads would be able to read or update the list until this lock is not released\r\n            \r\n            try {\r\n                // check if the list needs to grow (omitted)\r\n\r\n                array[size++] = item; // add a new element\r\n            } finally {\r\n                write.unlock(); // release the write-lock\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n   [data race]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\r\n\r\n   [conflicting accesses]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1\r\n\r\n   [readWriteLock]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html","title":"Could &quot;correctly synchronized&quot; be applied to a class instead of the whole program?","body":"<p>You need to ensure that there would be no <em>race conditions</em> is your concurrent custom collection.</p>\n<p>I.e. multiple threads can access the same element simultaneously only if they are trying to read its value, that's fine. But if it's possible if one thread is trying to update the element while another is trying to retrieve its value, or multiple threads a trying to change the same element at the same time (overriding results produced by one-another), that's a problem. And it can be avoided by synchronizing the mutating code.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">§17.4.5. Happens-before Order</a></p>\n<blockquote>\n<p>When a program contains two <strong>conflicting accesses</strong> (§17.4.1) that are not ordered by a happens-before relationship, it is said to contain a <strong>data race</strong>.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1\" rel=\"nofollow noreferrer\">§17.4.1. Shared Variables</a></p>\n<blockquote>\n<p>Two accesses to (reads of or writes to) the same variable are said to be <strong>conflicting</strong> if at least <strong>one of the accesses is a write</strong>.</p>\n</blockquote>\n<p>Here's a dummy example of the concurrent list which allows reading its value from multiple threads simultaneously, but if one of the threads is writing a value, all others would be blocked.</p>\n<p>This can be achieved by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"nofollow noreferrer\"><code>ReentrantReadWriteLock</code></a>.</p>\n<pre><code>public class MyConcurrentArrayList&lt;T&gt; {\n    private Object[] array;\n    private int size;\n    \n    private final ReadWriteLock lock = new ReentrantReadWriteLock();\n    private final Lock read = lock.readLock();\n    private final Lock write = lock.readLock();\n    \n    // non-mutating operation\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public T get(int i) {\n        T result;\n        \n        read.lock(); // lock the read-lock, from that moment only non-mutating operations (guarded by the readLock) are allowed\n        // access the element under the given index\n        try {\n            result = (T) array[i];\n        } finally {\n            read.unlock(); // release the read-lock\n        }\n        return result;\n    }\n    \n    // mutating operation\n    public void add(T item) {\n        write.lock(); // lock the write-lock, none of the threads would be able to read or update the list until this lock is not released\n        \n        try {\n            // check if the list needs to grow (omitted)\n\n            array[size++] = item; // add a new element\n        } finally {\n            write.unlock(); // release the write-lock\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"score":0,"creation_date":1678885172,"post_id":75744464,"comment_id":133619231,"body_markdown":"thank you, I think you are right: the proofs remain valid when only some shared variables are considered.","body":"thank you, I think you are right: the proofs remain valid when only some shared variables are considered."}],"tags":[],"owner":{"account_id":28023034,"reputation":26,"user_id":21403513,"display_name":"user21403513"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678882099,"creation_date":1678881936,"answer_id":75744464,"question_id":74593077,"body_markdown":"In my opinion, it&#39;s possible.\r\n\r\nIf the internal state of the collection is not accessible from the outside, then we can consider the corresponding to the state [shared variables](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1) (that is what the JLS operates with) in isolation from the shared variables in the rest of the program.\r\n\r\n[This answer](https://stackoverflow.com/a/74421466) cites the proof for the whole program. But as I understand, the proofs for both Lemma 2 and Theorem 3 holds even if we add additional restriction that we only consider some shared variables.  \r\nDon&#39;t take my word for it and check [the proofs](https://stackoverflow.com/a/74421466) yourself, but to me it seems like it works.  \r\nThis holds as long as all the actions (reads and writes) on the selected shared variables are taken into consideration.\r\n\r\nP.S. it&#39;s totally possible when simultaneously:\r\n- actions on the selected shared variables (the ones which constitute the internal state of our collection) are sequentially consistent\r\n- actions on the ignored shared variables contain data races\r\n\r\nbecause:\r\n1. it&#39;s always possible to find a total order of all actions in an execution, consistent with program order and synchronization order. From [the citation](https://stackoverflow.com/a/74421466):\r\n    &gt; A topological sort on the happens-before edges of the actions in an execution gives a total order consistent with program order and synchronization order.\r\n2. actions on a shared variable are sequentially consistent if every read of the variable returns the latest (in this total order) write to the variable.\r\n3. actions on a shared variable are non-sequentially-consistent if there is a read of the variable which returns a write to the variable that is not the latest (in this total order).\r\n4. it&#39;s possible when both (2) and (3) are present in the execution","title":"Could &quot;correctly synchronized&quot; be applied to a class instead of the whole program?","body":"<p>In my opinion, it's possible.</p>\n<p>If the internal state of the collection is not accessible from the outside, then we can consider the corresponding to the state <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.1\" rel=\"nofollow noreferrer\">shared variables</a> (that is what the JLS operates with) in isolation from the shared variables in the rest of the program.</p>\n<p><a href=\"https://stackoverflow.com/a/74421466\">This answer</a> cites the proof for the whole program. But as I understand, the proofs for both Lemma 2 and Theorem 3 holds even if we add additional restriction that we only consider some shared variables.<br />\nDon't take my word for it and check <a href=\"https://stackoverflow.com/a/74421466\">the proofs</a> yourself, but to me it seems like it works.<br />\nThis holds as long as all the actions (reads and writes) on the selected shared variables are taken into consideration.</p>\n<p>P.S. it's totally possible when simultaneously:</p>\n<ul>\n<li>actions on the selected shared variables (the ones which constitute the internal state of our collection) are sequentially consistent</li>\n<li>actions on the ignored shared variables contain data races</li>\n</ul>\n<p>because:</p>\n<ol>\n<li>it's always possible to find a total order of all actions in an execution, consistent with program order and synchronization order. From <a href=\"https://stackoverflow.com/a/74421466\">the citation</a>:\n<blockquote>\n<p>A topological sort on the happens-before edges of the actions in an execution gives a total order consistent with program order and synchronization order.</p>\n</blockquote>\n</li>\n<li>actions on a shared variable are sequentially consistent if every read of the variable returns the latest (in this total order) write to the variable.</li>\n<li>actions on a shared variable are non-sequentially-consistent if there is a read of the variable which returns a write to the variable that is not the latest (in this total order).</li>\n<li>it's possible when both (2) and (3) are present in the execution</li>\n</ol>\n"}],"owner":{"account_id":27065439,"reputation":13,"user_id":20616873,"display_name":"JJJ"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75744464,"answer_count":2,"score":1,"last_activity_date":1678882099,"creation_date":1669576637,"question_id":74593077,"body_markdown":"There is a term _correctly synchronized_ [in the JLS](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5):\r\n&gt; A program is correctly synchronized if and only if all sequentially consistent executions are free of data races.\r\n&gt; \r\n&gt; If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent (&#167;17.4.3).\r\n\r\nCan this _correctly synchronized_ be applied to something smaller than the whole program, like some collection class?\r\n\r\nIn other words, imagine that I want to create my custom concurrent collection class.  \r\nI want the code of my collection to never produce data races in any program which uses my collection.  \r\nWould it be enough to only check that every possible sequential execution has no data races in order to guarantee that non-sequential executions also cannot produce data races?","title":"Could &quot;correctly synchronized&quot; be applied to a class instead of the whole program?","body":"<p>There is a term <em>correctly synchronized</em> <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">in the JLS</a>:</p>\n<blockquote>\n<p>A program is correctly synchronized if and only if all sequentially consistent executions are free of data races.</p>\n<p>If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent (§17.4.3).</p>\n</blockquote>\n<p>Can this <em>correctly synchronized</em> be applied to something smaller than the whole program, like some collection class?</p>\n<p>In other words, imagine that I want to create my custom concurrent collection class.<br />\nI want the code of my collection to never produce data races in any program which uses my collection.<br />\nWould it be enough to only check that every possible sequential execution has no data races in order to guarantee that non-sequential executions also cannot produce data races?</p>\n"},{"tags":["java","selenium-webdriver","automated-tests","instance"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678786050,"post_id":75731199,"comment_id":133596560,"body_markdown":"and what is your actual question? Have you tried using an initializer method with the Before annotation?","body":"and what is your actual question? Have you tried using an initializer method with the Before annotation?"},{"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"score":0,"creation_date":1678786531,"post_id":75731199,"comment_id":133596698,"body_markdown":"My actual question is how do I spare these code lines and use the initialize only one time in the test class file? I don&#39;t want to write these code lines in every test I create. seems that it is a redundant duplication. I hope I wrote the question in the best simple way... :)","body":"My actual question is how do I spare these code lines and use the initialize only one time in the test class file? I don&#39;t want to write these code lines in every test I create. seems that it is a redundant duplication. I hope I wrote the question in the best simple way... :)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678787183,"post_id":75731199,"comment_id":133596873,"body_markdown":"so ... again: did you try using an initializer method with the Before annotation?","body":"so ... again: did you try using an initializer method with the Before annotation?"},{"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"score":0,"creation_date":1678787316,"post_id":75731199,"comment_id":133596906,"body_markdown":"Not sure I really know what you mean.\nI can provide more info about my setup method in my baseTest file...","body":"Not sure I really know what you mean. I can provide more info about my setup method in my baseTest file..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678787448,"post_id":75731199,"comment_id":133596948,"body_markdown":"so, you want to go selenium testing without knowing the basics of tests? what part of my suggestion didn&#39;t you understand?","body":"so, you want to go selenium testing without knowing the basics of tests? what part of my suggestion didn&#39;t you understand?"},{"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"score":0,"creation_date":1678827615,"post_id":75731199,"comment_id":133608560,"body_markdown":"Well, I mean what you wrote &quot;initializer method&quot;( not sure if you mean to Java method). BTW- \n1. I&#39;m doing my first steps in selenium testing \n2. I know the &quot;Before&quot; annotation. I used this already\n3. Note that I edit again my main question and I provide more info...","body":"Well, I mean what you wrote &quot;initializer method&quot;( not sure if you mean to Java method). BTW-  1. I&#39;m doing my first steps in selenium testing  2. I know the &quot;Before&quot; annotation. I used this already 3. Note that I edit again my main question and I provide more info..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678865067,"post_id":75731199,"comment_id":133613864,"body_markdown":"using a method that initializes your tests (annotated with Before) is an initializer method. Since you &#39;ve already used that, how don&#39;t you see that that is the answer to your question?","body":"using a method that initializes your tests (annotated with Before) is an initializer method. Since you &#39;ve already used that, how don&#39;t you see that that is the answer to your question?"},{"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"score":0,"creation_date":1678873693,"post_id":75731199,"comment_id":133615986,"body_markdown":"Never mind. SORRY. I thought you mean other &quot;Before&quot; annotations (like BeforeTest e.g.) I didn&#39;t know this annotation before. I&#39;m still In the learning process","body":"Never mind. SORRY. I thought you mean other &quot;Before&quot; annotations (like BeforeTest e.g.) I didn&#39;t know this annotation before. I&#39;m still In the learning process"}],"owner":{"account_id":26875593,"reputation":11,"user_id":20456900,"display_name":"As_Ah"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678882074,"creation_date":1678785822,"question_id":75731199,"body_markdown":"In order to avoid duplicating my code and not inserting these code lines in every test, I would like to know if there is an effective/efficient way that I&#39;ll use only one time in the class/page. I want to initialize the objects at just one time. Thanks for your assistance!\r\n\r\nHere is my code:\r\n\r\n```\r\npublic class ContributionTests extends BaseTest {\r\n    @Test (priority = 1)\r\n    @Severity(SeverityLevel.CRITICAL)\r\n    @Description(&quot;Create a Contribution E2E, using only required fields, and validate the new creation contribution name&quot;)\r\n    public void tc1_CreateContribution() throws InterruptedException {\r\n        MainPage mainPageGP = new MainPage(driver);\r\n        AssetTabPage assetTabPage = new AssetTabPage(driver);\r\n        UnderManagementAssetPage umap = new UnderManagementAssetPage(driver);\r\n        ContributionTabPage ctp = new ContributionTabPage(driver);\r\n        NewContributionFormPage ncp = new NewContributionFormPage(driver);\r\n        NewCreatedContributionPage nccp = new NewCreatedContributionPage(driver);\r\n        ExistingContributionPage ecp = new ExistingContributionPage(driver);\r\n\r\n        mainPageGP.setMainTab(&quot;Assets&quot;);\r\n        assetTabPage.selectUnderManagementTab();\r\n        getSleep(500);\r\n        assetTabPage.selectAsset(&quot;new Asset- Test on Edge&quot;);\r\n        getSleep(500);\r\n        umap.selectInnerTab(&quot;Contributions&quot;);\r\n}\r\n```\r\n\r\nI didn&#39;t try anything yet but expect to spare a lot of code lines in my test classes.\r\n\r\nAt this time, I insert these initializers in every test:\r\n\r\n```\r\n        MainPage mainPageGP = new MainPage(driver);\r\n        AssetTabPage assetTabPage = new AssetTabPage(driver);\r\n        UnderManagementAssetPage umap = new UnderManagementAssetPage(driver);\r\n        ContributionTabPage ctp = new ContributionTabPage(driver);\r\n        NewContributionFormPage ncp = new NewContributionFormPage(driver);\r\n        NewCreatedContributionPage nccp = new NewCreatedContributionPage(driver);\r\n        ExistingContributionPage ecp = new ExistingContributionPage(driver);\r\n```\r\n\r\nThis is my &quot;setup&quot; method that I extend from the `BaseTest` class:\r\n\r\n```\r\n    @BeforeClass\r\n    public void setup() throws InterruptedException {\r\n        WebDriverManager.chromedriver().setup();\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.addArguments(&quot;remote-allow-origins=*&quot;);\r\n        driver = new ChromeDriver(chromeOptions);\r\n        driver.manage().window().maximize();\r\n        PropertyUtils u = new PropertyUtils();\r\n        driver.get(u.readProperty(&quot;url&quot;));\r\n        LoginPage lp = new LoginPage(driver);\r\n        lp.loginToPage();\r\n    }\r\n```","title":"Java - Selenium &gt; I want to make the instance one time per page class","body":"<p>In order to avoid duplicating my code and not inserting these code lines in every test, I would like to know if there is an effective/efficient way that I'll use only one time in the class/page. I want to initialize the objects at just one time. Thanks for your assistance!</p>\n<p>Here is my code:</p>\n<pre><code>public class ContributionTests extends BaseTest {\n    @Test (priority = 1)\n    @Severity(SeverityLevel.CRITICAL)\n    @Description(&quot;Create a Contribution E2E, using only required fields, and validate the new creation contribution name&quot;)\n    public void tc1_CreateContribution() throws InterruptedException {\n        MainPage mainPageGP = new MainPage(driver);\n        AssetTabPage assetTabPage = new AssetTabPage(driver);\n        UnderManagementAssetPage umap = new UnderManagementAssetPage(driver);\n        ContributionTabPage ctp = new ContributionTabPage(driver);\n        NewContributionFormPage ncp = new NewContributionFormPage(driver);\n        NewCreatedContributionPage nccp = new NewCreatedContributionPage(driver);\n        ExistingContributionPage ecp = new ExistingContributionPage(driver);\n\n        mainPageGP.setMainTab(&quot;Assets&quot;);\n        assetTabPage.selectUnderManagementTab();\n        getSleep(500);\n        assetTabPage.selectAsset(&quot;new Asset- Test on Edge&quot;);\n        getSleep(500);\n        umap.selectInnerTab(&quot;Contributions&quot;);\n}\n</code></pre>\n<p>I didn't try anything yet but expect to spare a lot of code lines in my test classes.</p>\n<p>At this time, I insert these initializers in every test:</p>\n<pre><code>        MainPage mainPageGP = new MainPage(driver);\n        AssetTabPage assetTabPage = new AssetTabPage(driver);\n        UnderManagementAssetPage umap = new UnderManagementAssetPage(driver);\n        ContributionTabPage ctp = new ContributionTabPage(driver);\n        NewContributionFormPage ncp = new NewContributionFormPage(driver);\n        NewCreatedContributionPage nccp = new NewCreatedContributionPage(driver);\n        ExistingContributionPage ecp = new ExistingContributionPage(driver);\n</code></pre>\n<p>This is my &quot;setup&quot; method that I extend from the <code>BaseTest</code> class:</p>\n<pre><code>    @BeforeClass\n    public void setup() throws InterruptedException {\n        WebDriverManager.chromedriver().setup();\n        ChromeOptions chromeOptions = new ChromeOptions();\n        chromeOptions.addArguments(&quot;remote-allow-origins=*&quot;);\n        driver = new ChromeDriver(chromeOptions);\n        driver.manage().window().maximize();\n        PropertyUtils u = new PropertyUtils();\n        driver.get(u.readProperty(&quot;url&quot;));\n        LoginPage lp = new LoginPage(driver);\n        lp.loginToPage();\n    }\n</code></pre>\n"},{"tags":["java","redis","rabbitmq","microservices"],"owner":{"account_id":28022929,"reputation":11,"user_id":21403428,"display_name":"Nifi Logstash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678881605,"creation_date":1678881605,"question_id":75744413,"body_markdown":"I have one listener service in my microservice and two scheduler service. In the listener service after receiving the message save the last updated date time and scheduler name in &#160;Redis DB.\r\n\r\nCan anyone write a demo code for me?","title":"How to save message coming from RabbitMQ into Redis Cache/DB?","body":"<p>I have one listener service in my microservice and two scheduler service. In the listener service after receiving the message save the last updated date time and scheduler name in  Redis DB.</p>\n<p>Can anyone write a demo code for me?</p>\n"},{"tags":["java","android","gradle","android-gradle-plugin","build.gradle"],"owner":{"account_id":27742782,"reputation":51,"user_id":21178914,"display_name":"Eren Talan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678881602,"creation_date":1678881602,"question_id":75744411,"body_markdown":"I&#39;m trying to compile a 6 years old project. I use gradle jdk version 11. I fixed lots of problem but now i&#39;m stuck at this problem. In :app:mergeDebugResources it gaves 2 errors. ( i should say i actually dont know java i just need this project&#39;s apk)\r\n\r\nthe changes i made:\r\n\r\ncom.android.tools.build:gradle:2.3.3 --&gt; com.android.tools.build:gradle:3.6.4\r\n\r\nbuildToolsVersion &#39;25.0.0&#39; --&gt; buildToolsVersion &#39;28.0.3&#39;\r\n\r\n\r\nError 1:\r\n``` \r\n162 exceptions were raised by workers:\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n\r\n```\r\n\r\nError 2 : \r\n\r\n```\r\nError while processing /Users/username/source_ST25NFCApplication_V1.0.6/app/src/main/res/drawable/ic_memory_st_dark_blue_24dp.xml : Can&#39;t process attribute android:fillColor=&quot;@color/st_dark_blue&quot;: references to other resources are not supported by build-time PNG generation\r\n```","title":"android build :app:mergeDebugResources fail","body":"<p>I'm trying to compile a 6 years old project. I use gradle jdk version 11. I fixed lots of problem but now i'm stuck at this problem. In :app:mergeDebugResources it gaves 2 errors. ( i should say i actually dont know java i just need this project's apk)</p>\n<p>the changes i made:</p>\n<p>com.android.tools.build:gradle:2.3.3 --&gt; com.android.tools.build:gradle:3.6.4</p>\n<p>buildToolsVersion '25.0.0' --&gt; buildToolsVersion '28.0.3'</p>\n<p>Error 1:</p>\n<pre><code>162 exceptions were raised by workers:\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nA failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n\n</code></pre>\n<p>Error 2 :</p>\n<pre><code>Error while processing /Users/username/source_ST25NFCApplication_V1.0.6/app/src/main/res/drawable/ic_memory_st_dark_blue_24dp.xml : Can't process attribute android:fillColor=&quot;@color/st_dark_blue&quot;: references to other resources are not supported by build-time PNG generation\n</code></pre>\n"},{"tags":["java","jfreechart"],"answers":[{"comments":[{"owner":{"account_id":7740038,"reputation":37,"user_id":5860178,"display_name":"Igor Choriy"},"score":0,"creation_date":1678980150,"post_id":75734445,"comment_id":133641531,"body_markdown":"Thank you very much! You have resolved the issue I had.","body":"Thank you very much! You have resolved the issue I had."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678988318,"post_id":75734445,"comment_id":133644078,"body_markdown":"You are welcome; your [mre] made it _much_ easier.","body":"You are welcome; your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> made it <i>much</i> easier."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678881523,"creation_date":1678803912,"answer_id":75734445,"question_id":75726661,"body_markdown":"[`XYShapeAnnotation`][1] notes that &quot;shape coordinates are specified in data space.&quot; For a `DateAxis`, this is milliseconds since the Java epoch. As an example, the following _ad hoc_ fragment added to your example produces the ellipse show below. It&#39;s a half-day wide and one price unit high.\r\n\r\n    double w = 12 * 60 * 60 * 1000;\r\n    double t = dataset.getX(0, 1).doubleValue() - w;\r\n    final Ellipse2D point2d =\r\n        new Ellipse2D.Double(t + w / 2, 10, w, 1);\r\n\r\n[![Annotation image][2]][2]\r\n\r\n\r\n  [1]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/annotations/XYShapeAnnotation.html\r\n  [2]: https://i.stack.imgur.com/36ZCP.png","title":"Why circle is not displayed in JFreeChart?","body":"<p><a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/annotations/XYShapeAnnotation.html\" rel=\"nofollow noreferrer\"><code>XYShapeAnnotation</code></a> notes that &quot;shape coordinates are specified in data space.&quot; For a <code>DateAxis</code>, this is milliseconds since the Java epoch. As an example, the following <em>ad hoc</em> fragment added to your example produces the ellipse show below. It's a half-day wide and one price unit high.</p>\n<pre><code>double w = 12 * 60 * 60 * 1000;\ndouble t = dataset.getX(0, 1).doubleValue() - w;\nfinal Ellipse2D point2d =\n    new Ellipse2D.Double(t + w / 2, 10, w, 1);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/36ZCP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/36ZCP.png\" alt=\"Annotation image\" /></a></p>\n"}],"owner":{"account_id":7740038,"reputation":37,"user_id":5860178,"display_name":"Igor Choriy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75734445,"answer_count":1,"score":1,"last_activity_date":1678881523,"creation_date":1678739643,"question_id":75726661,"body_markdown":"I am currently experimenting with the JFreeChart library to create an OHLC chart. I would like to draw a horizontal line at a certain price level, for example, at 10.5, and place a point on the line at a specific date, for example, &quot;2021-01-02&quot;. Although my code successfully draws the axis, bars, and a horizontal line at 10.5, but the filled circle/point (point2d) I tried to add is not visible by some reason (probably because of wrong coordinates).\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.geom.Ellipse2D;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport org.jfree.chart.ChartFactory;\r\nimport org.jfree.chart.ChartPanel;\r\nimport org.jfree.chart.JFreeChart;\r\nimport org.jfree.chart.annotations.XYShapeAnnotation;\r\nimport org.jfree.chart.axis.DateAxis;\r\nimport org.jfree.chart.axis.NumberAxis;\r\nimport org.jfree.chart.plot.ValueMarker;\r\nimport org.jfree.chart.plot.XYPlot;\r\nimport org.jfree.chart.renderer.xy.CandlestickRenderer;\r\nimport org.jfree.data.xy.DefaultHighLowDataset;\r\nimport org.jfree.data.xy.OHLCDataset;\r\nimport org.jfree.data.xy.XYDataset;\r\nimport org.jfree.ui.ApplicationFrame;\r\nimport org.jfree.ui.RectangleInsets;\r\n\r\npublic class OHLCChartDemo extends ApplicationFrame {\r\n\r\n\tpublic OHLCChartDemo(final String title) throws ParseException {\r\n\t\tsuper(title);\r\n\t\tfinal JFreeChart chart = createChart(createDataset());\r\n\t\tsetContentPane(new ChartPanel(chart));\r\n\t}\r\n\r\n\tprivate OHLCDataset createDataset() throws ParseException {\r\n\t\tfinal SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\t\tfinal DefaultHighLowDataset dataset = new DefaultHighLowDataset(&quot;Series 1&quot;,\r\n\t\t\t\tnew Date[] { new Date(df.parse(&quot;2021-01-01&quot;).getTime()), new Date(df.parse(&quot;2021-01-02&quot;).getTime()),\r\n\t\t\t\t\t\tnew Date(df.parse(&quot;2021-01-03&quot;).getTime()), new Date(df.parse(&quot;2021-01-04&quot;).getTime()) },\r\n\t\t\t\tnew double[] { 11.0, 13.0, 9.0, 12.0 }, new double[] { 8.0, 9.0, 7.0, 8.5 },\r\n\t\t\t\tnew double[] { 10.0, 11.0, 8.0, 10.5 }, new double[] { 9.0, 10.0, 8.5, 9.5 },\r\n\t\t\t\tnew double[] { 11.0, 11.0, 9.0, 9.5 });\r\n\t\treturn dataset;\r\n\t}\r\n\r\n\tprivate JFreeChart createChart(final XYDataset dataset) throws ParseException {\r\n\t\tfinal JFreeChart chart = ChartFactory.createCandlestickChart(&quot;OHLC Chart&quot;, &quot;Date&quot;, &quot;Price&quot;, (OHLCDataset) dataset, false);\r\n\t\tchart.setBackgroundPaint(Color.white);\r\n\t\tfinal XYPlot plot = (XYPlot) chart.getPlot();\r\n\t\tplot.setBackgroundPaint(Color.white);\r\n\t\tplot.setDomainGridlinePaint(Color.lightGray);\r\n\t\tplot.setRangeGridlinePaint(Color.lightGray);\r\n\t\tplot.setAxisOffset(new RectangleInsets(5.0, 5.0, 5.0, 5.0));\r\n\t\tplot.setDomainCrosshairVisible(true);\r\n\t\tplot.setRangeCrosshairVisible(true);\r\n\t\tfinal CandlestickRenderer renderer = new CandlestickRenderer();\r\n\t\trenderer.setDrawVolume(false);\r\n\t\tplot.setRenderer(renderer);\r\n\t\tfinal DateAxis axis = (DateAxis) plot.getDomainAxis();\r\n\t\taxis.setDateFormatOverride(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;));\r\n\t\tfinal NumberAxis rangeAxis = (NumberAxis) plot.getRangeAxis();\r\n\t\trangeAxis.setAutoRangeIncludesZero(false);\r\n\r\n\t\tdouble price = 10.5;\r\n\t\tfinal ValueMarker marker = new ValueMarker(price);\r\n\t\tmarker.setPaint(Color.blue);\r\n\t\tplot.addRangeMarker(marker);\r\n\r\n\t\tfinal Ellipse2D point2d = new Ellipse2D.Double(2.5, 10.5, 20, 20);\r\n\t\tXYShapeAnnotation annotation = new XYShapeAnnotation(point2d, new BasicStroke(2.0f), Color.BLACK, Color.BLUE);\r\n\t\tplot.addAnnotation(annotation);\r\n\t\t\r\n\t\treturn chart;\r\n\t}\r\n\r\n\tpublic static void main(final String[] args) throws ParseException {\r\n\t\tfinal OHLCChartDemo demo = new OHLCChartDemo(&quot;OHLC Chart Demo&quot;);\r\n\t\tdemo.pack();\r\n\t\tdemo.setVisible(true);\r\n\t}\r\n}\r\n```\r\n\r\nHow can I draw a filled circle at the intersection of the horizontal line at level (FEX)10.5 and the date (FEX)&quot;2021-01-02&quot;? Alternatively, how can I draw a horizontal line starting from that point and extending to the right end of the chart?","title":"Why circle is not displayed in JFreeChart?","body":"<p>I am currently experimenting with the JFreeChart library to create an OHLC chart. I would like to draw a horizontal line at a certain price level, for example, at 10.5, and place a point on the line at a specific date, for example, &quot;2021-01-02&quot;. Although my code successfully draws the axis, bars, and a horizontal line at 10.5, but the filled circle/point (point2d) I tried to add is not visible by some reason (probably because of wrong coordinates).</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.geom.Ellipse2D;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.annotations.XYShapeAnnotation;\nimport org.jfree.chart.axis.DateAxis;\nimport org.jfree.chart.axis.NumberAxis;\nimport org.jfree.chart.plot.ValueMarker;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.CandlestickRenderer;\nimport org.jfree.data.xy.DefaultHighLowDataset;\nimport org.jfree.data.xy.OHLCDataset;\nimport org.jfree.data.xy.XYDataset;\nimport org.jfree.ui.ApplicationFrame;\nimport org.jfree.ui.RectangleInsets;\n\npublic class OHLCChartDemo extends ApplicationFrame {\n\n    public OHLCChartDemo(final String title) throws ParseException {\n        super(title);\n        final JFreeChart chart = createChart(createDataset());\n        setContentPane(new ChartPanel(chart));\n    }\n\n    private OHLCDataset createDataset() throws ParseException {\n        final SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        final DefaultHighLowDataset dataset = new DefaultHighLowDataset(&quot;Series 1&quot;,\n                new Date[] { new Date(df.parse(&quot;2021-01-01&quot;).getTime()), new Date(df.parse(&quot;2021-01-02&quot;).getTime()),\n                        new Date(df.parse(&quot;2021-01-03&quot;).getTime()), new Date(df.parse(&quot;2021-01-04&quot;).getTime()) },\n                new double[] { 11.0, 13.0, 9.0, 12.0 }, new double[] { 8.0, 9.0, 7.0, 8.5 },\n                new double[] { 10.0, 11.0, 8.0, 10.5 }, new double[] { 9.0, 10.0, 8.5, 9.5 },\n                new double[] { 11.0, 11.0, 9.0, 9.5 });\n        return dataset;\n    }\n\n    private JFreeChart createChart(final XYDataset dataset) throws ParseException {\n        final JFreeChart chart = ChartFactory.createCandlestickChart(&quot;OHLC Chart&quot;, &quot;Date&quot;, &quot;Price&quot;, (OHLCDataset) dataset, false);\n        chart.setBackgroundPaint(Color.white);\n        final XYPlot plot = (XYPlot) chart.getPlot();\n        plot.setBackgroundPaint(Color.white);\n        plot.setDomainGridlinePaint(Color.lightGray);\n        plot.setRangeGridlinePaint(Color.lightGray);\n        plot.setAxisOffset(new RectangleInsets(5.0, 5.0, 5.0, 5.0));\n        plot.setDomainCrosshairVisible(true);\n        plot.setRangeCrosshairVisible(true);\n        final CandlestickRenderer renderer = new CandlestickRenderer();\n        renderer.setDrawVolume(false);\n        plot.setRenderer(renderer);\n        final DateAxis axis = (DateAxis) plot.getDomainAxis();\n        axis.setDateFormatOverride(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;));\n        final NumberAxis rangeAxis = (NumberAxis) plot.getRangeAxis();\n        rangeAxis.setAutoRangeIncludesZero(false);\n\n        double price = 10.5;\n        final ValueMarker marker = new ValueMarker(price);\n        marker.setPaint(Color.blue);\n        plot.addRangeMarker(marker);\n\n        final Ellipse2D point2d = new Ellipse2D.Double(2.5, 10.5, 20, 20);\n        XYShapeAnnotation annotation = new XYShapeAnnotation(point2d, new BasicStroke(2.0f), Color.BLACK, Color.BLUE);\n        plot.addAnnotation(annotation);\n        \n        return chart;\n    }\n\n    public static void main(final String[] args) throws ParseException {\n        final OHLCChartDemo demo = new OHLCChartDemo(&quot;OHLC Chart Demo&quot;);\n        demo.pack();\n        demo.setVisible(true);\n    }\n}\n</code></pre>\n<p>How can I draw a filled circle at the intersection of the horizontal line at level (FEX)10.5 and the date (FEX)&quot;2021-01-02&quot;? Alternatively, how can I draw a horizontal line starting from that point and extending to the right end of the chart?</p>\n"},{"tags":["java","android","subscribe","in-app","android-inapp-purchase"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678936902,"post_id":75743988,"comment_id":133631016,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":5491348,"reputation":1,"user_id":4364487,"display_name":"Yusuf Adıbelli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678881467,"creation_date":1678879084,"question_id":75743988,"body_markdown":" In-app purchase functionality available in my VPN App. But especially in android 10 version, subscription is not approved. A &quot;confirm the plan&quot; warning appears in the Play store and after a while the subscription is canceled by itself. On other android versions, &quot;confirm plan&quot; message sometimes pops up, but usually it&#39;s confirmed.Also, I added the acknowledge available in my app myself.\r\nPhoto firebase:https://prnt.sc/9ygv1S-LB8YY firebase working.\r\n\r\n\r\n`\r\n```\r\npackage com.svpn.sec.Activities;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.CountDownTimer;\r\nimport android.util.Log;\r\nimport android.util.TypedValue;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.CompoundButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.RadioButton;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.Observer;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.android.billingclient.api.AcknowledgePurchaseParams;\r\nimport com.android.billingclient.api.AcknowledgePurchaseResponseListener;\r\nimport com.android.billingclient.api.BillingClient;\r\nimport com.android.billingclient.api.BillingClientStateListener;\r\nimport com.android.billingclient.api.BillingFlowParams;\r\nimport com.android.billingclient.api.BillingResult;\r\nimport com.android.billingclient.api.ConsumeParams;\r\nimport com.android.billingclient.api.ConsumeResponseListener;\r\nimport com.android.billingclient.api.Purchase;\r\nimport com.android.billingclient.api.PurchasesResponseListener;\r\nimport com.android.billingclient.api.PurchasesUpdatedListener;\r\nimport com.android.billingclient.api.SkuDetails;\r\nimport com.android.billingclient.api.SkuDetailsParams;\r\nimport com.android.billingclient.api.SkuDetailsResponseListener;\r\nimport com.android.billingclient.api.PurchaseHistoryRecord;\r\n\r\nimport com.android.billingclient.api.BillingClient;\r\nimport com.android.billingclient.api.BillingClientStateListener;\r\nimport com.android.billingclient.api.BillingFlowParams;\r\nimport com.android.billingclient.api.BillingResult;\r\nimport com.android.billingclient.api.Purchase;\r\nimport com.android.billingclient.api.PurchasesUpdatedListener;\r\nimport com.android.billingclient.api.SkuDetails;\r\nimport com.android.billingclient.api.SkuDetailsParams;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.bumptech.glide.Glide;\r\nimport com.svpn.sec.R;\r\nimport com.svpn.sec.Config;\r\nimport com.svpn.sec.Utils.Constants;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.zip.Inflater;\r\n\r\nimport butterknife.BindView;\r\nimport butterknife.ButterKnife;\r\nimport butterknife.OnClick;\r\nimport pl.droidsonroids.gif.GifImageView;\r\n\r\npublic class UnlockAllActivity&lt;fun&gt; extends AppCompatActivity implements PurchasesUpdatedListener, BillingClientStateListener {\r\n\r\n\r\n    private BillingClient billingClient;\r\n    private Map&lt;String, SkuDetails&gt; skusWithSkuDetails = new HashMap&lt;&gt;();\r\n    private final List&lt;String&gt; allSubs = new ArrayList&lt;&gt;(Arrays.asList(\r\n            Config.all_month_id,\r\n            Config.all_threemonths_id,\r\n            Config.all_sixmonths_id,\r\n            Config.all_yearly_id));\r\n\r\n    private MutableLiveData&lt;Integer&gt; all_check = new MutableLiveData&lt;&gt;();\r\n    @BindView(R.id.one_month)\r\n    RadioButton oneMonth;\r\n    @BindView(R.id.three_month)\r\n    RadioButton threeMonth;\r\n    @BindView(R.id.six_month)\r\n    RadioButton sixMonth;\r\n    @BindView(R.id.one_year)\r\n    RadioButton oneYear;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        billingClient = BillingClient.newBuilder(this)\r\n                .enablePendingPurchases()\r\n                .setListener((billingResult, list) -&gt; {\r\n                    if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\r\n                        for(Purchase purchase: list) {\r\n                            if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\r\n                                    !purchase.isAcknowledged()) {\r\n                                verifyPurchase(purchase);\r\n                            }\r\n                        }\r\n                    }\r\n                }).build();\r\n        connectToBillingService();\r\n\r\n        setContentView(R.layout.activity_unlock_all_indratech);\r\n\r\n        LayoutInflater inflater = LayoutInflater.from(this);\r\n        View viewUnlockAll = inflater.inflate(R.layout.activity_unlock_all_indratech, null);\r\n        ViewGroup rootUnlockAll = (ViewGroup) viewUnlockAll.getRootView();\r\n        for(int i=0; i&lt;rootUnlockAll.getChildCount(); i++) {\r\n            View child = rootUnlockAll.getChildAt(i);\r\n            if (child instanceof TextView) {\r\n                TextView textView = (TextView) child;\r\n                float sizeInDp = 20;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int sizeInPx = (int) (sizeInDp * density);\r\n                textView.setLayoutParams(new ViewGroup.LayoutParams(\r\n                        ViewGroup.LayoutParams.WRAP_CONTENT,\r\n                        ViewGroup.LayoutParams.WRAP_CONTENT));\r\n                textView.setTextSize(TypedValue.COMPLEX_UNIT_PX, sizeInPx);\r\n            } else if (child instanceof ProgressBar) {\r\n                ProgressBar progressBar = (ProgressBar) child;\r\n                float sizeInDp = 20;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int sizeInPx = (int) (sizeInDp * density);\r\n                progressBar.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\r\n            } else if (child instanceof ImageView) {\r\n                ImageView imageView = (ImageView) child;\r\n                float sizeInDp = 20;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int sizeInPx = (int) (sizeInDp * density);\r\n                imageView.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\r\n            } else if (child instanceof CardView) {\r\n                CardView cardView = (CardView) child;\r\n                float radiusInDp = 10;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int radiusInPx = (int) (radiusInDp * density);\r\n                cardView.setRadius(radiusInPx);\r\n            } else if (child instanceof GifImageView) {\r\n                GifImageView gifImageView = (GifImageView) child;\r\n                float sizeInDp = 20;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int sizeInPx = (int) (sizeInDp * density);\r\n                gifImageView.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\r\n            } else if (child instanceof LinearLayout) {\r\n                LinearLayout linearLayout = (LinearLayout) child;\r\n                float paddingInDp = 10;\r\n                float density = getResources().getDisplayMetrics().density;\r\n                int paddingInPx = (int) (paddingInDp * density);\r\n                linearLayout.setPadding(paddingInPx, paddingInPx, paddingInPx, paddingInPx);\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n        billingClient = BillingClient\r\n                .newBuilder(this)\r\n                .setListener(this)\r\n                .enablePendingPurchases()\r\n                .build();\r\n\r\n        connectToBillingService();\r\n\r\n        ButterKnife.bind(this);\r\n        all_check.setValue(-1);\r\n        all_check.observe(this, integer -&gt; {\r\n            switch (integer) {\r\n                case 0:\r\n                    threeMonth.setChecked(false);\r\n                    sixMonth.setChecked(false);\r\n                    oneYear.setChecked(false);\r\n                    break;\r\n                case 1:\r\n                    oneMonth.setChecked(false);\r\n                    sixMonth.setChecked(false);\r\n                    oneYear.setChecked(false);\r\n                    break;\r\n                case 2:\r\n                    threeMonth.setChecked(false);\r\n                    oneMonth.setChecked(false);\r\n                    oneYear.setChecked(false);\r\n                    break;\r\n                case 3:\r\n                    threeMonth.setChecked(false);\r\n                    sixMonth.setChecked(false);\r\n                    oneMonth.setChecked(false);\r\n                    break;\r\n\r\n            }\r\n\r\n            billingClient = BillingClient.newBuilder(this)\r\n                    .enablePendingPurchases()\r\n                    .setListener((billingResult, list) -&gt; {\r\n                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\r\n                            for(Purchase purchase: list) {\r\n                                if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\r\n                                        !purchase.isAcknowledged()) {\r\n                                    verifyPurchase(purchase);\r\n                                }\r\n                            }\r\n                        }\r\n                    }).build();\r\n            connectToBillingService();\r\n\r\n        });\r\n\r\n        oneMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n            if (isChecked) all_check.postValue(0);\r\n        });\r\n        threeMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n            if (isChecked) all_check.postValue(1);\r\n        });\r\n        sixMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n            if (isChecked) all_check.postValue(2);\r\n        });\r\n        oneYear.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n            if (isChecked) all_check.postValue(3);\r\n        });\r\n\r\n    }\r\n\r\n    private void verifyPurchase(Purchase purchase) {\r\n        String requestUrl = &quot;https://us-central1-settrailvpn.cloudfunctions.net/verifyPurchases?&quot; +\r\n                &quot;purchaseToken=&quot; + purchase.getPurchaseToken() + &quot;&amp;&quot; +\r\n                &quot;purchaseTime=&quot; + purchase.getPurchaseTime() + &quot;&amp;&quot; +\r\n                &quot;orderId=&quot; + purchase.getOrderId();\r\n        Activity activity = UnlockAllActivity.this;\r\n\r\n        StringRequest stringRequest = new StringRequest(\r\n                Request.Method.POST,\r\n                requestUrl,\r\n                response -&gt; {\r\n                    try {\r\n                        JSONObject purchaseInfoFromServer = new JSONObject(response);\r\n                        if(purchaseInfoFromServer.getBoolean(&quot;isValid&quot;)) {\r\n\r\n                            AcknowledgePurchaseParams acknowledgePurchaseParams = AcknowledgePurchaseParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\r\n                            billingClient.acknowledgePurchase(\r\n                                    acknowledgePurchaseParams,\r\n                                    billingResult -&gt; {\r\n                                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                                            trainers();\r\n                                            querySkuDetailsAsync(\r\n                                                    BillingClient.SkuType.SUBS,\r\n                                                    new ArrayList&lt;&gt;(allSubs));\r\n                                        }\r\n                                    }\r\n                            );\r\n                            ConsumeParams consumeParams = ConsumeParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\r\n                            billingClient.consumeAsync(\r\n                                    consumeParams,\r\n                                    (billingResult, s) -&gt; {\r\n                                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                                        }\r\n                                    }\r\n                            );\r\n                        }\r\n                    } catch (Exception err) {\r\n\r\n                    }\r\n                },\r\n                error -&gt; {\r\n\r\n                }\r\n        );\r\n\r\n        Volley.newRequestQueue(this).add(stringRequest);\r\n\r\n    }\r\n    protected void onResume() {\r\n        super.onResume();\r\n        Glide.with(this).resumeRequests();\r\n        billingClient.queryPurchasesAsync(\r\n                BillingClient.SkuType.INAPP,\r\n                (billingResult, list) -&gt; {\r\n                    if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                        for(Purchase purchase: list) {\r\n                            if(purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\r\n                                    !purchase.isAcknowledged()) {\r\n                                verifyPurchase(purchase);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    private void trainers() {\r\n        Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\r\n        List&lt;Purchase&gt; purchases = result.getPurchasesList();\r\n        List&lt;String&gt; skus = new ArrayList&lt;&gt;();\r\n\r\n        if (purchases != null) {\r\n            int i = 0;\r\n            for (Purchase purchase : purchases) {\r\n                skus.add(purchase.getSkus().get(i));\r\n                Log.v(&quot;CHECKBILLING&quot;, purchase.getSkus().get(i));\r\n                i++;\r\n            }\r\n\r\n            if (skus.contains(Config.all_month_id) ||\r\n                    skus.contains(Config.all_threemonths_id) ||\r\n                    skus.contains(Config.all_sixmonths_id) ||\r\n                    skus.contains(Config.all_yearly_id)\r\n            ) {\r\n                Config.all_subscription = true;\r\n            } else {\r\n                Config.all_subscription = false;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    private void connectToBillingService(){\r\n        billingClient.startConnection(\r\n                new BillingClientStateListener() {\r\n                    @Override\r\n                    public void onBillingServiceDisconnected() {\r\n                        connectToBillingService();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\r\n                        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                            Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\r\n                            List&lt;Purchase&gt; purchases = result.getPurchasesList();\r\n                            List&lt;String&gt; skus = new ArrayList&lt;&gt;();\r\n\r\n                            if (purchases != null) {\r\n                                int i = 0;\r\n                                for (Purchase purchase : purchases) {\r\n                                    skus.add(purchase.getSkus().get(i));\r\n                                    Log.v(&quot;CHECKBILLING&quot;, purchase.getSkus().get(i));\r\n                                    i++;\r\n                                }\r\n\r\n                                if (skus.contains(Config.all_month_id) ||\r\n                                        skus.contains(Config.all_threemonths_id) ||\r\n                                        skus.contains(Config.all_sixmonths_id) ||\r\n                                        skus.contains(Config.all_yearly_id)\r\n                                ) {\r\n                                    Config.all_subscription = true;\r\n                                } else {\r\n                                    Config.all_subscription = false;\r\n                                }\r\n                            }\r\n                            querySkuDetailsAsync(\r\n                                    BillingClient.SkuType.SUBS,\r\n                                    new ArrayList&lt;&gt;(allSubs));\r\n\r\n                            new CountDownTimer(8000, 4000) {\r\n\r\n                                @Override\r\n                                public void onTick(long millisUntilFinished) {\r\n                                    // Her saniye işlem yapılacaksa burada kod yazılabilir.\r\n                                    onResume();\r\n                                }\r\n\r\n                                @Override\r\n                                public void onFinish() {\r\n                                    onResume();\r\n                                }\r\n\r\n                            }.start();\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n        );\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\r\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n            trainers();\r\n            querySkuDetailsAsync(\r\n                    BillingClient.SkuType.SUBS,\r\n                    new ArrayList&lt;&gt;(allSubs));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBillingServiceDisconnected() {\r\n        connectToBillingService();\r\n    }\r\n\r\n    @Override\r\n    public void onPurchasesUpdated(@NonNull BillingResult billingResult, @Nullable List&lt;Purchase&gt; list) {\r\n        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\r\n            for(Purchase purchase: list) {\r\n                if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\r\n                        !purchase.isAcknowledged()) {\r\n                    verifyPurchase(purchase);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void querySkuDetailsAsync(@BillingClient.SkuType String skuType, List&lt;String&gt; skuList) {\r\n        SkuDetailsParams params = SkuDetailsParams\r\n                .newBuilder()\r\n                .setSkusList(skuList)\r\n                .setType(skuType)\r\n                .build();\r\n\r\n        billingClient.querySkuDetailsAsync(\r\n                params, (billingResult, skuDetailsList) -&gt; {\r\n                    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; skuDetailsList != null) {\r\n                        for (SkuDetails details : skuDetailsList) {\r\n                            skusWithSkuDetails.put(details.getSku(), details);\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n    private void purchase(SkuDetails skuDetails) {\r\n        BillingFlowParams params = BillingFlowParams\r\n                .newBuilder()\r\n                .setSkuDetails(skuDetails)\r\n                .build();\r\n\r\n        billingClient.launchBillingFlow(this, params);\r\n    }\r\n\r\n\r\n    @OnClick(R.id.all_pur)\r\n    void unlockAll() {\r\n        if (all_check.getValue() != null) {\r\n            SkuDetails skuDetails = null;\r\n\r\n            switch (all_check.getValue()) {\r\n                case 0:\r\n                    skuDetails = skusWithSkuDetails.get(Config.all_month_id);\r\n                    break;\r\n                case 1:\r\n                    skuDetails = skusWithSkuDetails.get(Config.all_threemonths_id);\r\n                    break;\r\n                case 2:\r\n                    skuDetails = skusWithSkuDetails.get(Config.all_sixmonths_id);\r\n                    break;\r\n                case 3:\r\n                    skuDetails = skusWithSkuDetails.get(Config.all_yearly_id);\r\n                    break;\r\n            }\r\n\r\n            if (skuDetails != null) purchase(skuDetails);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n````\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n52za.png","title":"Can&#39;t fix in-app purchase &quot;confirm plan&quot; issue (Acknowledge)","body":"<p>In-app purchase functionality available in my VPN App. But especially in android 10 version, subscription is not approved. A &quot;confirm the plan&quot; warning appears in the Play store and after a while the subscription is canceled by itself. On other android versions, &quot;confirm plan&quot; message sometimes pops up, but usually it's confirmed.Also, I added the acknowledge available in my app myself.\nPhoto firebase:<a href=\"https://prnt.sc/9ygv1S-LB8YY\" rel=\"nofollow noreferrer\">https://prnt.sc/9ygv1S-LB8YY</a> firebase working.</p>\n<p>`</p>\n<pre><code>package com.svpn.sec.Activities;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.CountDownTimer;\nimport android.util.Log;\nimport android.util.TypedValue;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.CompoundButton;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.ProgressBar;\nimport android.widget.RadioButton;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.cardview.widget.CardView;\nimport androidx.lifecycle.MutableLiveData;\nimport androidx.lifecycle.Observer;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.android.billingclient.api.AcknowledgePurchaseParams;\nimport com.android.billingclient.api.AcknowledgePurchaseResponseListener;\nimport com.android.billingclient.api.BillingClient;\nimport com.android.billingclient.api.BillingClientStateListener;\nimport com.android.billingclient.api.BillingFlowParams;\nimport com.android.billingclient.api.BillingResult;\nimport com.android.billingclient.api.ConsumeParams;\nimport com.android.billingclient.api.ConsumeResponseListener;\nimport com.android.billingclient.api.Purchase;\nimport com.android.billingclient.api.PurchasesResponseListener;\nimport com.android.billingclient.api.PurchasesUpdatedListener;\nimport com.android.billingclient.api.SkuDetails;\nimport com.android.billingclient.api.SkuDetailsParams;\nimport com.android.billingclient.api.SkuDetailsResponseListener;\nimport com.android.billingclient.api.PurchaseHistoryRecord;\n\nimport com.android.billingclient.api.BillingClient;\nimport com.android.billingclient.api.BillingClientStateListener;\nimport com.android.billingclient.api.BillingFlowParams;\nimport com.android.billingclient.api.BillingResult;\nimport com.android.billingclient.api.Purchase;\nimport com.android.billingclient.api.PurchasesUpdatedListener;\nimport com.android.billingclient.api.SkuDetails;\nimport com.android.billingclient.api.SkuDetailsParams;\nimport com.android.volley.Request;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\nimport com.bumptech.glide.Glide;\nimport com.svpn.sec.R;\nimport com.svpn.sec.Config;\nimport com.svpn.sec.Utils.Constants;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.zip.Inflater;\n\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\nimport butterknife.OnClick;\nimport pl.droidsonroids.gif.GifImageView;\n\npublic class UnlockAllActivity&lt;fun&gt; extends AppCompatActivity implements PurchasesUpdatedListener, BillingClientStateListener {\n\n\n    private BillingClient billingClient;\n    private Map&lt;String, SkuDetails&gt; skusWithSkuDetails = new HashMap&lt;&gt;();\n    private final List&lt;String&gt; allSubs = new ArrayList&lt;&gt;(Arrays.asList(\n            Config.all_month_id,\n            Config.all_threemonths_id,\n            Config.all_sixmonths_id,\n            Config.all_yearly_id));\n\n    private MutableLiveData&lt;Integer&gt; all_check = new MutableLiveData&lt;&gt;();\n    @BindView(R.id.one_month)\n    RadioButton oneMonth;\n    @BindView(R.id.three_month)\n    RadioButton threeMonth;\n    @BindView(R.id.six_month)\n    RadioButton sixMonth;\n    @BindView(R.id.one_year)\n    RadioButton oneYear;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        billingClient = BillingClient.newBuilder(this)\n                .enablePendingPurchases()\n                .setListener((billingResult, list) -&gt; {\n                    if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\n                        for(Purchase purchase: list) {\n                            if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\n                                    !purchase.isAcknowledged()) {\n                                verifyPurchase(purchase);\n                            }\n                        }\n                    }\n                }).build();\n        connectToBillingService();\n\n        setContentView(R.layout.activity_unlock_all_indratech);\n\n        LayoutInflater inflater = LayoutInflater.from(this);\n        View viewUnlockAll = inflater.inflate(R.layout.activity_unlock_all_indratech, null);\n        ViewGroup rootUnlockAll = (ViewGroup) viewUnlockAll.getRootView();\n        for(int i=0; i&lt;rootUnlockAll.getChildCount(); i++) {\n            View child = rootUnlockAll.getChildAt(i);\n            if (child instanceof TextView) {\n                TextView textView = (TextView) child;\n                float sizeInDp = 20;\n                float density = getResources().getDisplayMetrics().density;\n                int sizeInPx = (int) (sizeInDp * density);\n                textView.setLayoutParams(new ViewGroup.LayoutParams(\n                        ViewGroup.LayoutParams.WRAP_CONTENT,\n                        ViewGroup.LayoutParams.WRAP_CONTENT));\n                textView.setTextSize(TypedValue.COMPLEX_UNIT_PX, sizeInPx);\n            } else if (child instanceof ProgressBar) {\n                ProgressBar progressBar = (ProgressBar) child;\n                float sizeInDp = 20;\n                float density = getResources().getDisplayMetrics().density;\n                int sizeInPx = (int) (sizeInDp * density);\n                progressBar.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\n            } else if (child instanceof ImageView) {\n                ImageView imageView = (ImageView) child;\n                float sizeInDp = 20;\n                float density = getResources().getDisplayMetrics().density;\n                int sizeInPx = (int) (sizeInDp * density);\n                imageView.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\n            } else if (child instanceof CardView) {\n                CardView cardView = (CardView) child;\n                float radiusInDp = 10;\n                float density = getResources().getDisplayMetrics().density;\n                int radiusInPx = (int) (radiusInDp * density);\n                cardView.setRadius(radiusInPx);\n            } else if (child instanceof GifImageView) {\n                GifImageView gifImageView = (GifImageView) child;\n                float sizeInDp = 20;\n                float density = getResources().getDisplayMetrics().density;\n                int sizeInPx = (int) (sizeInDp * density);\n                gifImageView.setLayoutParams(new ViewGroup.LayoutParams(sizeInPx, sizeInPx));\n            } else if (child instanceof LinearLayout) {\n                LinearLayout linearLayout = (LinearLayout) child;\n                float paddingInDp = 10;\n                float density = getResources().getDisplayMetrics().density;\n                int paddingInPx = (int) (paddingInDp * density);\n                linearLayout.setPadding(paddingInPx, paddingInPx, paddingInPx, paddingInPx);\n\n            }\n\n        }\n\n\n        billingClient = BillingClient\n                .newBuilder(this)\n                .setListener(this)\n                .enablePendingPurchases()\n                .build();\n\n        connectToBillingService();\n\n        ButterKnife.bind(this);\n        all_check.setValue(-1);\n        all_check.observe(this, integer -&gt; {\n            switch (integer) {\n                case 0:\n                    threeMonth.setChecked(false);\n                    sixMonth.setChecked(false);\n                    oneYear.setChecked(false);\n                    break;\n                case 1:\n                    oneMonth.setChecked(false);\n                    sixMonth.setChecked(false);\n                    oneYear.setChecked(false);\n                    break;\n                case 2:\n                    threeMonth.setChecked(false);\n                    oneMonth.setChecked(false);\n                    oneYear.setChecked(false);\n                    break;\n                case 3:\n                    threeMonth.setChecked(false);\n                    sixMonth.setChecked(false);\n                    oneMonth.setChecked(false);\n                    break;\n\n            }\n\n            billingClient = BillingClient.newBuilder(this)\n                    .enablePendingPurchases()\n                    .setListener((billingResult, list) -&gt; {\n                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\n                            for(Purchase purchase: list) {\n                                if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\n                                        !purchase.isAcknowledged()) {\n                                    verifyPurchase(purchase);\n                                }\n                            }\n                        }\n                    }).build();\n            connectToBillingService();\n\n        });\n\n        oneMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            if (isChecked) all_check.postValue(0);\n        });\n        threeMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            if (isChecked) all_check.postValue(1);\n        });\n        sixMonth.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            if (isChecked) all_check.postValue(2);\n        });\n        oneYear.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            if (isChecked) all_check.postValue(3);\n        });\n\n    }\n\n    private void verifyPurchase(Purchase purchase) {\n        String requestUrl = &quot;https://us-central1-settrailvpn.cloudfunctions.net/verifyPurchases?&quot; +\n                &quot;purchaseToken=&quot; + purchase.getPurchaseToken() + &quot;&amp;&quot; +\n                &quot;purchaseTime=&quot; + purchase.getPurchaseTime() + &quot;&amp;&quot; +\n                &quot;orderId=&quot; + purchase.getOrderId();\n        Activity activity = UnlockAllActivity.this;\n\n        StringRequest stringRequest = new StringRequest(\n                Request.Method.POST,\n                requestUrl,\n                response -&gt; {\n                    try {\n                        JSONObject purchaseInfoFromServer = new JSONObject(response);\n                        if(purchaseInfoFromServer.getBoolean(&quot;isValid&quot;)) {\n\n                            AcknowledgePurchaseParams acknowledgePurchaseParams = AcknowledgePurchaseParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\n                            billingClient.acknowledgePurchase(\n                                    acknowledgePurchaseParams,\n                                    billingResult -&gt; {\n                                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                                            trainers();\n                                            querySkuDetailsAsync(\n                                                    BillingClient.SkuType.SUBS,\n                                                    new ArrayList&lt;&gt;(allSubs));\n                                        }\n                                    }\n                            );\n                            ConsumeParams consumeParams = ConsumeParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\n                            billingClient.consumeAsync(\n                                    consumeParams,\n                                    (billingResult, s) -&gt; {\n                                        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                                        }\n                                    }\n                            );\n                        }\n                    } catch (Exception err) {\n\n                    }\n                },\n                error -&gt; {\n\n                }\n        );\n\n        Volley.newRequestQueue(this).add(stringRequest);\n\n    }\n    protected void onResume() {\n        super.onResume();\n        Glide.with(this).resumeRequests();\n        billingClient.queryPurchasesAsync(\n                BillingClient.SkuType.INAPP,\n                (billingResult, list) -&gt; {\n                    if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                        for(Purchase purchase: list) {\n                            if(purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\n                                    !purchase.isAcknowledged()) {\n                                verifyPurchase(purchase);\n                            }\n                        }\n                    }\n                }\n        );\n    }\n\n\n\n\n\n    private void trainers() {\n        Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\n        List&lt;Purchase&gt; purchases = result.getPurchasesList();\n        List&lt;String&gt; skus = new ArrayList&lt;&gt;();\n\n        if (purchases != null) {\n            int i = 0;\n            for (Purchase purchase : purchases) {\n                skus.add(purchase.getSkus().get(i));\n                Log.v(&quot;CHECKBILLING&quot;, purchase.getSkus().get(i));\n                i++;\n            }\n\n            if (skus.contains(Config.all_month_id) ||\n                    skus.contains(Config.all_threemonths_id) ||\n                    skus.contains(Config.all_sixmonths_id) ||\n                    skus.contains(Config.all_yearly_id)\n            ) {\n                Config.all_subscription = true;\n            } else {\n                Config.all_subscription = false;\n            }\n        }\n    }\n\n\n\n\n    private void connectToBillingService(){\n        billingClient.startConnection(\n                new BillingClientStateListener() {\n                    @Override\n                    public void onBillingServiceDisconnected() {\n                        connectToBillingService();\n                    }\n\n                    @Override\n                    public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\n                        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                            Purchase.PurchasesResult result = billingClient.queryPurchases(BillingClient.SkuType.SUBS);\n                            List&lt;Purchase&gt; purchases = result.getPurchasesList();\n                            List&lt;String&gt; skus = new ArrayList&lt;&gt;();\n\n                            if (purchases != null) {\n                                int i = 0;\n                                for (Purchase purchase : purchases) {\n                                    skus.add(purchase.getSkus().get(i));\n                                    Log.v(&quot;CHECKBILLING&quot;, purchase.getSkus().get(i));\n                                    i++;\n                                }\n\n                                if (skus.contains(Config.all_month_id) ||\n                                        skus.contains(Config.all_threemonths_id) ||\n                                        skus.contains(Config.all_sixmonths_id) ||\n                                        skus.contains(Config.all_yearly_id)\n                                ) {\n                                    Config.all_subscription = true;\n                                } else {\n                                    Config.all_subscription = false;\n                                }\n                            }\n                            querySkuDetailsAsync(\n                                    BillingClient.SkuType.SUBS,\n                                    new ArrayList&lt;&gt;(allSubs));\n\n                            new CountDownTimer(8000, 4000) {\n\n                                @Override\n                                public void onTick(long millisUntilFinished) {\n                                    // Her saniye işlem yapılacaksa burada kod yazılabilir.\n                                    onResume();\n                                }\n\n                                @Override\n                                public void onFinish() {\n                                    onResume();\n                                }\n\n                            }.start();\n\n                        }\n\n                    }\n\n                }\n        );\n    }\n\n\n    @Override\n    public void onBillingSetupFinished(@NonNull BillingResult billingResult) {\n        if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n            trainers();\n            querySkuDetailsAsync(\n                    BillingClient.SkuType.SUBS,\n                    new ArrayList&lt;&gt;(allSubs));\n        }\n    }\n\n    @Override\n    public void onBillingServiceDisconnected() {\n        connectToBillingService();\n    }\n\n    @Override\n    public void onPurchasesUpdated(@NonNull BillingResult billingResult, @Nullable List&lt;Purchase&gt; list) {\n        if(billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; list != null) {\n            for(Purchase purchase: list) {\n                if (purchase.getPurchaseState() == Purchase.PurchaseState.PURCHASED &amp;&amp;\n                        !purchase.isAcknowledged()) {\n                    verifyPurchase(purchase);\n                }\n            }\n        }\n    }\n\n    private void querySkuDetailsAsync(@BillingClient.SkuType String skuType, List&lt;String&gt; skuList) {\n        SkuDetailsParams params = SkuDetailsParams\n                .newBuilder()\n                .setSkusList(skuList)\n                .setType(skuType)\n                .build();\n\n        billingClient.querySkuDetailsAsync(\n                params, (billingResult, skuDetailsList) -&gt; {\n                    if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK &amp;&amp; skuDetailsList != null) {\n                        for (SkuDetails details : skuDetailsList) {\n                            skusWithSkuDetails.put(details.getSku(), details);\n                        }\n                    }\n                }\n        );\n    }\n\n    private void purchase(SkuDetails skuDetails) {\n        BillingFlowParams params = BillingFlowParams\n                .newBuilder()\n                .setSkuDetails(skuDetails)\n                .build();\n\n        billingClient.launchBillingFlow(this, params);\n    }\n\n\n    @OnClick(R.id.all_pur)\n    void unlockAll() {\n        if (all_check.getValue() != null) {\n            SkuDetails skuDetails = null;\n\n            switch (all_check.getValue()) {\n                case 0:\n                    skuDetails = skusWithSkuDetails.get(Config.all_month_id);\n                    break;\n                case 1:\n                    skuDetails = skusWithSkuDetails.get(Config.all_threemonths_id);\n                    break;\n                case 2:\n                    skuDetails = skusWithSkuDetails.get(Config.all_sixmonths_id);\n                    break;\n                case 3:\n                    skuDetails = skusWithSkuDetails.get(Config.all_yearly_id);\n                    break;\n            }\n\n            if (skuDetails != null) purchase(skuDetails);\n        }\n\n    }\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","if-statement","conditional-operator"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1678876184,"post_id":75743442,"comment_id":133616647,"body_markdown":"There&#39;s nothing to optimize there. It&#39;s fine as it is and the conditional operator is meant to return a result, not for side effects.","body":"There&#39;s nothing to optimize there. It&#39;s fine as it is and the conditional operator is meant to return a result, not for side effects."},{"owner":{"account_id":9072254,"reputation":1014,"user_id":6754986,"display_name":"LinFelix"},"score":0,"creation_date":1678876214,"post_id":75743442,"comment_id":133616653,"body_markdown":"The complexity will stay the same, you could only play code golf","body":"The complexity will stay the same, you could only play code golf"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1678880784,"post_id":75743442,"comment_id":133617968,"body_markdown":"Something to be aware of: using a ternary can cause unintended promotion of arguments, e.g. `return true ? Integer.parseInt(0) : Double.parseInt(0)` would always return a `Double` (on a method with a `Number` return type, for instance).","body":"Something to be aware of: using a ternary can cause unintended promotion of arguments, e.g. <code>return true ? Integer.parseInt(0) : Double.parseInt(0)</code> would always return a <code>Double</code> (on a method with a <code>Number</code> return type, for instance)."}],"answers":[{"tags":[],"owner":{"account_id":17755377,"reputation":15,"user_id":12983404,"display_name":"Notlimitedwolf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678880302,"creation_date":1678880302,"answer_id":75744185,"question_id":75743442,"body_markdown":"Ternary operator is used to choose a value, not a variable.\r\n```java\r\npublic void someFunc(Boolean multiplied) {\r\n    Integer counter = multiplied?1:2; //chooses a value 1 or 2 depending on boolean\r\n}\r\n```\r\nSticking to common if-else is the best solution here. However, if you reallt want to go with a ternary operator (and I do not recommend doing this) you can do the following:\r\n\r\n```java\r\nboolean value = getResult();\r\nInteger[] counters = new Integer[] {0, 0};\r\ncounters[value?0:1]+=1;\r\n```","title":"Using ternary operators with boolean return function in java","body":"<p>Ternary operator is used to choose a value, not a variable.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void someFunc(Boolean multiplied) {\n    Integer counter = multiplied?1:2; //chooses a value 1 or 2 depending on boolean\n}\n</code></pre>\n<p>Sticking to common if-else is the best solution here. However, if you reallt want to go with a ternary operator (and I do not recommend doing this) you can do the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean value = getResult();\nInteger[] counters = new Integer[] {0, 0};\ncounters[value?0:1]+=1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678881316,"creation_date":1678881316,"answer_id":75744369,"question_id":75743442,"body_markdown":"In case your if statement grows and you have a great number of variables that you want to modify dynamically, look into the [Map](https://en.wikipedia.org/wiki/Associative_array) data structure, in Java specifically, the implementation you&#39;ll most likely end up using is [HashMap](https://www.baeldung.com/java-hashmap).\r\n\r\nHowever, in this case, using a Map is absolutely oversized and only reduces the safety of your code and readability.","title":"Using ternary operators with boolean return function in java","body":"<p>In case your if statement grows and you have a great number of variables that you want to modify dynamically, look into the <a href=\"https://en.wikipedia.org/wiki/Associative_array\" rel=\"nofollow noreferrer\">Map</a> data structure, in Java specifically, the implementation you'll most likely end up using is <a href=\"https://www.baeldung.com/java-hashmap\" rel=\"nofollow noreferrer\">HashMap</a>.</p>\n<p>However, in this case, using a Map is absolutely oversized and only reduces the safety of your code and readability.</p>\n"}],"owner":{"account_id":27474068,"reputation":33,"user_id":20962379,"display_name":"user20962379"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678881316,"creation_date":1678876091,"question_id":75743442,"body_markdown":"    boolean value = getResult();\r\n    if(value)\r\n    \tcount1++;\r\n    else\r\n    \tcount2++;\r\n\r\nHow to optimize it using ternary operator\r\n\r\nto reduce complexity\r\n","title":"Using ternary operators with boolean return function in java","body":"<pre><code>boolean value = getResult();\nif(value)\n    count1++;\nelse\n    count2++;\n</code></pre>\n<p>How to optimize it using ternary operator</p>\n<p>to reduce complexity</p>\n"},{"tags":["java","android","android-studio","dependency-injection","dagger-2"],"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":2,"creation_date":1542735618,"post_id":53391806,"comment_id":93672337,"body_markdown":"Sounds like Guava version mismatch. Can&#39;t tell you who&#39;s conflicting with who, though. Another possibility is that your &quot;image loader library&quot; if it is a library module, then it should specify Dagger as `api` instead of `implementation`.","body":"Sounds like Guava version mismatch. Can&#39;t tell you who&#39;s conflicting with who, though. Another possibility is that your &quot;image loader library&quot; if it is a library module, then it should specify Dagger as <code>api</code> instead of <code>implementation</code>."},{"owner":{"account_id":6855147,"reputation":2428,"user_id":5270947,"display_name":"Juanes30"},"score":0,"creation_date":1542746717,"post_id":53391806,"comment_id":93677675,"body_markdown":"Do you have additional dependencies to Dagger?","body":"Do you have additional dependencies to Dagger?"},{"owner":{"account_id":6893618,"reputation":1888,"user_id":5296262,"display_name":"Sajid Zeb"},"score":0,"creation_date":1542885754,"post_id":53391806,"comment_id":93733712,"body_markdown":"I just have these dagger dependencies in build.gradle. \n    implementation &quot;com.google.dagger:dagger:2.16&quot;\n    implementation &quot;com.google.dagger:dagger-android-support:2.16&quot;\n    annotationProcessor &quot;com.google.dagger:dagger-compiler:2.16&quot;\n    annotationProcessor &quot;com.google.dagger:dagger-android-processor:2.16&quot;","body":"I just have these dagger dependencies in build.gradle.      implementation &quot;com.google.dagger:dagger:2.16&quot;     implementation &quot;com.google.dagger:dagger-android-support:2.16&quot;     annotationProcessor &quot;com.google.dagger:dagger-compiler:2.16&quot;     annotationProcessor &quot;com.google.dagger:dagger-android-processor:2.16&quot;"},{"owner":{"account_id":6893618,"reputation":1888,"user_id":5296262,"display_name":"Sajid Zeb"},"score":1,"creation_date":1542887967,"post_id":53391806,"comment_id":93734945,"body_markdown":"@EpicPandaForce thanks for your suggestion. I just add guava api in my build.gradle file. and problem resolved. Thanks again","body":"@EpicPandaForce thanks for your suggestion. I just add guava api in my build.gradle file. and problem resolved. Thanks again"}],"answers":[{"tags":[],"owner":{"account_id":6893618,"reputation":1888,"user_id":5296262,"display_name":"Sajid Zeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1678881119,"creation_date":1542888152,"answer_id":53430599,"question_id":53391806,"body_markdown":"Dagger 2 needs Guava so I added Guava library in my `build.gradle` file and problem is resolved.\r\n\r\nAdd this line in `build.gradle`:\r\n\r\n     api &#39;com.google.guava:guava:24.1-android&#39;\r\n","title":"Failed resolution of: Lcom/google/common/collect/ImmutableMap; at com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(","body":"<p>Dagger 2 needs Guava so I added Guava library in my <code>build.gradle</code> file and problem is resolved.</p>\n<p>Add this line in <code>build.gradle</code>:</p>\n<pre><code> api 'com.google.guava:guava:24.1-android'\n</code></pre>\n"}],"owner":{"account_id":6893618,"reputation":1888,"user_id":5296262,"display_name":"Sajid Zeb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3061,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53430599,"answer_count":1,"score":2,"last_activity_date":1678881119,"creation_date":1542712525,"question_id":53391806,"body_markdown":"I am getting this issue after integrating Dagger 2 to implement dependency injection of ImageDownloader library while running the app.\r\n\r\nThis is what I did:\r\n\r\nIn build.gradle. I added these lines:\r\n\r\n    implementation &quot;com.google.dagger:dagger:2.16&quot;\r\n    implementation &quot;com.google.dagger:dagger-android-support:2.16&quot;\r\n    annotationProcessor &quot;com.google.dagger:dagger-compiler:2.16&quot;\r\n    annotationProcessor &quot;com.google.dagger:dagger-android-processor:2.16&quot;\r\n\r\nThis is my class API in which I wanted to separate dependencies from the activity class:\r\n\r\n    public class ImageDownloaderApi {\r\n\r\n        @Inject\r\n        public ImageDownloaderApi(){\r\n        }\r\n    \r\n        //some other methods here\r\n    }\r\n\r\nIn my `MainActivity` I added these lines:\r\n\r\n    public class MainActivity extends Activity {\r\n\r\n        @Inject\r\n        ImageDownloaderApi imageDownloaderApi;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            AndroidInjection.inject(this);\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    }\r\n\r\nThen created an `Application` object:\r\n\r\n    public class MyApplication extends Application {\r\n\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n        }\r\n    }\r\n\r\nThen registered the `Application` class via the manifest like this:\r\n\r\n    &lt;application\r\n        android:name=&quot;.MyApplication&quot;\r\n\r\nI created a module named `MyApplicationModule` like this:\r\n\r\n    @Module\r\n    public abstract class MyApplicationModule {\r\n        @ContributesAndroidInjector\r\n        abstract MainActivity contributeActivityInjector();\r\n    }\r\n\r\nI created an interface named `MyApplicationComponent`:\r\n\r\n    @Component(modules = { AndroidInjectionModule.class, MyApplicationModule.class})\r\n    public interface MyApplicationComponent extends AndroidInjector&lt;MyApplication&gt; {\r\n    }\r\n\r\n`MyApplication` class:\r\n\r\n    public class MyApplication extends Application implements HasActivityInjector {\r\n        @Inject\r\n        DispatchingAndroidInjector&lt;Activity&gt; dispatchingAndroidInjector;\r\n\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            DaggerMyApplicationComponent.create().inject(this);\r\n        }\r\n\r\n        @Override\r\n        public DispatchingAndroidInjector&lt;Activity&gt; activityInjector() {\r\n            return dispatchingAndroidInjector;\r\n        }\r\n    }\r\n\r\nNow after this implementation when I run the app in the emulator, the app crashes with the following logs:\r\n\r\n      --------- beginning of crash\r\n\t11-20 14:51:03.201 6745-6745/com.my.app E/AndroidRuntime: FATAL EXCEPTION: main\r\n\t    Process: com.my.app, PID: 6745\r\n\t    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/common/collect/ImmutableMap;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(DaggerMyApplicationComponent.java:36)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.getDispatchingAndroidInjectorOfActivity(DaggerMyApplicationComponent.java:42)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.injectMyApplication(DaggerMyApplicationComponent.java:68)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:62)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:16)\r\n\t\tat com.my.app.di.MyApplication.onCreate(MyApplication.java:19)\r\n\t\tat android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1012)\r\n\t\tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:4553)\r\n\t\tat android.app.ActivityThread.access$1500(ActivityThread.java:151)\r\n\t\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1364)\r\n\t\tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n\t\tat android.os.Looper.loop(Looper.java:135)\r\n\t\tat android.app.ActivityThread.main(ActivityThread.java:5254)\r\n\t\tat java.lang.reflect.Method.invoke(Native Method)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:372)\r\n\t\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n\t\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\r\n\t     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.common.collect.ImmutableMap&quot; on path: DexPathList[[zip file &quot;/data/app/com.my.app-1/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.my.app-1/lib/x86, /vendor/lib, /system/lib]]\r\n\t\tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n\t\tat java.lang.ClassLoader.loadClass(ClassLoader.java:511)\r\n\t\tat java.lang.ClassLoader.loadClass(ClassLoader.java:469)\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(DaggerMyApplicationComponent.java:36)&#160;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.getDispatchingAndroidInjectorOfActivity(DaggerMyApplicationComponent.java:42)&#160;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.injectMyApplication(DaggerMyApplicationComponent.java:68)&#160;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:62)&#160;\r\n\t\tat com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:16)&#160;\r\n\t\tat com.my.app.di.MyApplication.onCreate(MyApplication.java:19)&#160;\r\n\t\tat android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1012)&#160;\r\n\t\tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:4553)&#160;\r\n\t\tat android.app.ActivityThread.access$1500(ActivityThread.java:151)&#160;\r\n\t\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1364)&#160;\r\n\t\tat android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n\t\tat android.os.Looper.loop(Looper.java:135)&#160;\r\n\t\tat android.app.ActivityThread.main(ActivityThread.java:5254)&#160;\r\n\t\tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n\t\tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)&#160;\r\n\t\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)&#160;\r\n\t    \tSuppressed: java.lang.ClassNotFoundException: com.google.common.collect.ImmutableMap\r\n\t\tat java.lang.Class.classForName(Native Method)\r\n\t\tat java.lang.BootClassLoader.findClass(ClassLoader.java:781)\r\n\t\tat java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\r\n\t\tat java.lang.ClassLoader.loadClass(ClassLoader.java:504)\r\n\t\t\t\t... 18 more\r\n\t     Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available\r\n\r\n\r\n\r\nFor additional info. I am also getting this warning line before the logs i posted above\r\n\r\n    11-20 14:51:03.172 6745-6745/? E/libprocessgroup: failed to make and chown /acct/uid_10058: Read-only file system","title":"Failed resolution of: Lcom/google/common/collect/ImmutableMap; at com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(","body":"<p>I am getting this issue after integrating Dagger 2 to implement dependency injection of ImageDownloader library while running the app.</p>\n\n<p>This is what I did:</p>\n\n<p>In build.gradle. I added these lines:</p>\n\n<pre><code>implementation \"com.google.dagger:dagger:2.16\"\nimplementation \"com.google.dagger:dagger-android-support:2.16\"\nannotationProcessor \"com.google.dagger:dagger-compiler:2.16\"\nannotationProcessor \"com.google.dagger:dagger-android-processor:2.16\"\n</code></pre>\n\n<p>This is my class API in which I wanted to separate dependencies from the activity class:</p>\n\n<pre><code>public class ImageDownloaderApi {\n\n    @Inject\n    public ImageDownloaderApi(){\n    }\n\n    //some other methods here\n}\n</code></pre>\n\n<p>In my <code>MainActivity</code> I added these lines:</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    @Inject\n    ImageDownloaderApi imageDownloaderApi;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        AndroidInjection.inject(this);\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n\n<p>Then created an <code>Application</code> object:</p>\n\n<pre><code>public class MyApplication extends Application {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n}\n</code></pre>\n\n<p>Then registered the <code>Application</code> class via the manifest like this:</p>\n\n<pre><code>&lt;application\n    android:name=\".MyApplication\"\n</code></pre>\n\n<p>I created a module named <code>MyApplicationModule</code> like this:</p>\n\n<pre><code>@Module\npublic abstract class MyApplicationModule {\n    @ContributesAndroidInjector\n    abstract MainActivity contributeActivityInjector();\n}\n</code></pre>\n\n<p>I created an interface named <code>MyApplicationComponent</code>:</p>\n\n<pre><code>@Component(modules = { AndroidInjectionModule.class, MyApplicationModule.class})\npublic interface MyApplicationComponent extends AndroidInjector&lt;MyApplication&gt; {\n}\n</code></pre>\n\n<p><code>MyApplication</code> class:</p>\n\n<pre><code>public class MyApplication extends Application implements HasActivityInjector {\n    @Inject\n    DispatchingAndroidInjector&lt;Activity&gt; dispatchingAndroidInjector;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        DaggerMyApplicationComponent.create().inject(this);\n    }\n\n    @Override\n    public DispatchingAndroidInjector&lt;Activity&gt; activityInjector() {\n        return dispatchingAndroidInjector;\n    }\n}\n</code></pre>\n\n<p>Now after this implementation when I run the app in the emulator, the app crashes with the following logs:</p>\n\n<pre><code>  --------- beginning of crash\n11-20 14:51:03.201 6745-6745/com.my.app E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.my.app, PID: 6745\n    java.lang.NoClassDefFoundError: Failed resolution of: Lcom/google/common/collect/ImmutableMap;\n    at com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(DaggerMyApplicationComponent.java:36)\n    at com.my.app.di.DaggerMyApplicationComponent.getDispatchingAndroidInjectorOfActivity(DaggerMyApplicationComponent.java:42)\n    at com.my.app.di.DaggerMyApplicationComponent.injectMyApplication(DaggerMyApplicationComponent.java:68)\n    at com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:62)\n    at com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:16)\n    at com.my.app.di.MyApplication.onCreate(MyApplication.java:19)\n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1012)\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4553)\n    at android.app.ActivityThread.access$1500(ActivityThread.java:151)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1364)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:135)\n    at android.app.ActivityThread.main(ActivityThread.java:5254)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.google.common.collect.ImmutableMap\" on path: DexPathList[[zip file \"/data/app/com.my.app-1/base.apk\"],nativeLibraryDirectories=[/data/app/com.my.app-1/lib/x86, /vendor/lib, /system/lib]]\n    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:469)\n    at com.my.app.di.DaggerMyApplicationComponent.getMapOfClassOfAndProviderOfFactoryOf(DaggerMyApplicationComponent.java:36) \n    at com.my.app.di.DaggerMyApplicationComponent.getDispatchingAndroidInjectorOfActivity(DaggerMyApplicationComponent.java:42) \n    at com.my.app.di.DaggerMyApplicationComponent.injectMyApplication(DaggerMyApplicationComponent.java:68) \n    at com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:62) \n    at com.my.app.di.DaggerMyApplicationComponent.inject(DaggerMyApplicationComponent.java:16) \n    at com.my.app.di.MyApplication.onCreate(MyApplication.java:19) \n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1012) \n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4553) \n    at android.app.ActivityThread.access$1500(ActivityThread.java:151) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1364) \n    at android.os.Handler.dispatchMessage(Handler.java:102) \n    at android.os.Looper.loop(Looper.java:135) \n    at android.app.ActivityThread.main(ActivityThread.java:5254) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at java.lang.reflect.Method.invoke(Method.java:372) \n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) \n        Suppressed: java.lang.ClassNotFoundException: com.google.common.collect.ImmutableMap\n    at java.lang.Class.classForName(Native Method)\n    at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\n    at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:504)\n            ... 18 more\n     Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available\n</code></pre>\n\n<p>For additional info. I am also getting this warning line before the logs i posted above</p>\n\n<pre><code>11-20 14:51:03.172 6745-6745/? E/libprocessgroup: failed to make and chown /acct/uid_10058: Read-only file system\n</code></pre>\n"},{"tags":["java","azure-devops","azure-pipelines","sonatype","nexus-iq"],"comments":[{"owner":{"account_id":10291434,"reputation":3048,"user_id":7593083,"accept_rate":86,"display_name":"Maryann Atakpa"},"score":0,"creation_date":1662547659,"post_id":70218995,"comment_id":130029507,"body_markdown":"Did you find a solution to this?","body":"Did you find a solution to this?"},{"owner":{"account_id":17662980,"reputation":41,"user_id":12824396,"display_name":"alexis19apl"},"score":0,"creation_date":1667470946,"post_id":70218995,"comment_id":131176315,"body_markdown":"Hi @Emmac, yes, I did update the java version in our testing server to 14, that solved the issue, hope this helps you as well","body":"Hi @Emmac, yes, I did update the java version in our testing server to 14, that solved the issue, hope this helps you as well"},{"owner":{"account_id":10291434,"reputation":3048,"user_id":7593083,"accept_rate":86,"display_name":"Maryann Atakpa"},"score":0,"creation_date":1667476350,"post_id":70218995,"comment_id":131178153,"body_markdown":"Thanks Alexis. This was what worked for me also to resolve this issue.","body":"Thanks Alexis. This was what worked for me also to resolve this issue."}],"answers":[{"tags":[],"owner":{"account_id":17662980,"reputation":41,"user_id":12824396,"display_name":"alexis19apl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678880145,"creation_date":1678880145,"answer_id":75744154,"question_id":70218995,"body_markdown":"# Solution for this threat\r\nWe performed an update of the **java version** in our testing server to **version 14**, which solved the issue, hope this helps you all the community as well","title":"Azure DevOps NexusIQ task &#39;Error from CLI Command failed with exit code 1: java -jar&#39;","body":"<h1>Solution for this threat</h1>\n<p>We performed an update of the <strong>java version</strong> in our testing server to <strong>version 14</strong>, which solved the issue, hope this helps you all the community as well</p>\n"}],"owner":{"account_id":17662980,"reputation":41,"user_id":12824396,"display_name":"alexis19apl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75744154,"answer_count":1,"score":2,"last_activity_date":1678880894,"creation_date":1638555419,"question_id":70218995,"body_markdown":"# What do I want to accomplish? #\r\n&#39;*Hello to the incredible community of StackOverflow*&#39;\r\n\r\nScan the **packages** of our code with **NexusIQ Task**, in an **Azure DevOps Services Pipeline**\r\n\r\n## Environment ##\r\n\r\n 1. **Azure DevOps Services**--&gt;Pipelines--&gt;Task--&gt;**NexusIQ**\r\n \r\n 2. **NexusIQ Task Parameter(s)**:\r\n\r\n - **Service Connection** = Stablished and whitelisted\r\n\r\n - **Scan Targets** = `**/*.jar, **/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll`\r\n\r\n## Error output ##\r\nPerforming the **Scan** of our code the last bit throws the next error:\r\n\r\n`Error from CLI: Error: Command failed with exit code 1: java -jar`\r\n\r\n## Error log detailed ##\r\n`Error from CLI: Error: Command failed with exit code 1: java -jar F:\\AzureAgents\\Agent01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.19\\resources\\nexus-iq-cli-1.128.0-01.jar @F:\\AzureAgents\\Agent01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.19\\resources\\cli-params.txt\r\n`\r\n##  Troubleshooting details ##\r\n - I did test changing the **Scan Tartget** from `**/*.jar, **/*.war,\r\n   **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll` to `**/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll`\r\n - As can be seen above the `**/*.jar` **file extension** was removed but either way the error output remains the same:\r\n\r\n`Error from CLI: Error: Command failed with exit code 1: java -jar F:\\AzureServicesAgents\\AgentU01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.21\\resources\\nexus-iq-cli-1.128.0-01.jar @F:\\AzureServicesAgents\\AgentU01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.21\\resources\\cli-params.txt`\r\n\r\n","title":"Azure DevOps NexusIQ task &#39;Error from CLI Command failed with exit code 1: java -jar&#39;","body":"<h1>What do I want to accomplish?</h1>\n<p>'<em>Hello to the incredible community of StackOverflow</em>'</p>\n<p>Scan the <strong>packages</strong> of our code with <strong>NexusIQ Task</strong>, in an <strong>Azure DevOps Services Pipeline</strong></p>\n<h2>Environment</h2>\n<ol>\n<li><p><strong>Azure DevOps Services</strong>--&gt;Pipelines--&gt;Task--&gt;<strong>NexusIQ</strong></p>\n</li>\n<li><p><strong>NexusIQ Task Parameter(s)</strong>:</p>\n</li>\n</ol>\n<ul>\n<li><p><strong>Service Connection</strong> = Stablished and whitelisted</p>\n</li>\n<li><p><strong>Scan Targets</strong> = <code>**/*.jar, **/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll</code></p>\n</li>\n</ul>\n<h2>Error output</h2>\n<p>Performing the <strong>Scan</strong> of our code the last bit throws the next error:</p>\n<p><code>Error from CLI: Error: Command failed with exit code 1: java -jar</code></p>\n<h2>Error log detailed</h2>\n<p><code>Error from CLI: Error: Command failed with exit code 1: java -jar F:\\AzureAgents\\Agent01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.19\\resources\\nexus-iq-cli-1.128.0-01.jar @F:\\AzureAgents\\Agent01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.19\\resources\\cli-params.txt </code></p>\n<h2>Troubleshooting details</h2>\n<ul>\n<li>I did test changing the <strong>Scan Tartget</strong> from <code>**/*.jar, **/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll</code> to <code>**/*.war, **/*.ear, **/*.zip, **/*.tar.gz, **/*.dll</code></li>\n<li>As can be seen above the <code>**/*.jar</code> <strong>file extension</strong> was removed but either way the error output remains the same:</li>\n</ul>\n<p><code>Error from CLI: Error: Command failed with exit code 1: java -jar F:\\AzureServicesAgents\\AgentU01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.21\\resources\\nexus-iq-cli-1.128.0-01.jar @F:\\AzureServicesAgents\\AgentU01\\_work\\_tasks\\NexusIqPipelineTask_4f40d1a2-83b0-4ddc-9a77-e7f279eb1802\\1.3.21\\resources\\cli-params.txt</code></p>\n"},{"tags":["java","logging","spring-cloud-sleuth","zipkin"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676377817,"creation_date":1676377817,"answer_id":75447857,"question_id":75436884,"body_markdown":"There&#39;s nothing else there in Sleuth / Micrometer Tracing better than what you&#39;re currently doing as a custom solution","title":"How to propagate updated baggage key back to client from remote server? || spring cloud sleuth","body":"<p>There's nothing else there in Sleuth / Micrometer Tracing better than what you're currently doing as a custom solution</p>\n"},{"tags":[],"owner":{"account_id":4278417,"reputation":1,"user_id":3498496,"display_name":"Ramazan Guner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678880599,"creation_date":1678826034,"answer_id":75738125,"question_id":75436884,"body_markdown":"All services can use a filter class. If request has a baggage field, filter concats -&gt; and appRoute of current service. If there is no baggage field, filter sets appRoute of current service.\r\n\r\nFor example;\r\n&lt;br&gt;\r\nif A calls B and B calls C :\r\n&lt;br&gt;\r\n*A service output:*\r\n&lt;br&gt;\r\nRoute=A\r\n&lt;br&gt;\r\n*B service output:*\r\n&lt;br&gt;\r\nRoute=A-&gt;B\r\n&lt;br&gt;\r\n*C service output:*\r\nRoute:A-&gt;B-&gt;C\r\n&lt;br&gt;\r\n\r\napplication.yaml file for A service:\r\n-----------------------\r\n    spring:\r\n      application:\r\n        name: A-service\r\n      sleuth:\r\n        baggage:\r\n          remote-fields: app-route\r\n          correlation-enabled: true\r\n          correlation-fields: app-route\r\n    system:\r\n      app-route:\r\n       name: A\r\nOther services system.app-route.name value could be B and C\r\n\r\nConfiguration for injecting BaggageField\r\n------------------------------------------\r\n    @Configuration\r\n    public class SleuthConfiguration {\r\n\r\n         @Bean\r\n         BaggageField appRouteField() {\r\n            return BaggageField.create(&quot;app-route&quot;);\r\n         }\r\n    }\r\n\r\nFilter class for all services:\r\n------------------------------------------\r\n    public class LogFilter implements Filter {\r\n\r\n    @Autowired\r\n    private BaggageField appRouteBaggageField;\r\n\r\n    @Value(value = &quot;${system.app-route.name:}&quot;)\r\n    private String appRouteName;\r\n\r\n    @Value(value = &quot;${spring.application.name:-}&quot;)\r\n    private String applicationName;\r\n\r\n    private String appName;\r\n\r\n    @Override\r\n    public void init(FilterConfig filterConfig) {\r\n        appName = (appRouteName == null || appRouteName.isEmpty()) ? applicationName : appRouteName;\r\n    }\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) {\r\n        updateAppRouteBaggageField();\r\n        logger.info(&quot;Route={}&quot;,appRouteBaggageField.getValue());\r\n    }\r\n\r\n    private void updateAppRouteBaggageField() {\r\n        String appRouteBaggageFieldValue = appRouteBaggageField.getValue();\r\n        appRouteBaggageField.updateValue((appRouteBaggageFieldValue == null || appRouteBaggageFieldValue.isEmpty())\r\n                ? appName : (appRouteBaggageFieldValue + &quot;-&gt;&quot; + appName));\r\n    }\r\n    }\r\n\r\nbuild.gradle file:\r\n------------------\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-sleuth&#39;\r\n\r\n","title":"How to propagate updated baggage key back to client from remote server? || spring cloud sleuth","body":"<p>All services can use a filter class. If request has a baggage field, filter concats -&gt; and appRoute of current service. If there is no baggage field, filter sets appRoute of current service.</p>\n<p>For example;\n<br>\nif A calls B and B calls C :\n<br>\n<em>A service output:</em>\n<br>\nRoute=A\n<br>\n<em>B service output:</em>\n<br>\nRoute=A-&gt;B\n<br>\n<em>C service output:</em>\nRoute:A-&gt;B-&gt;C\n<br></p>\n<h2>application.yaml file for A service:</h2>\n<pre><code>spring:\n  application:\n    name: A-service\n  sleuth:\n    baggage:\n      remote-fields: app-route\n      correlation-enabled: true\n      correlation-fields: app-route\nsystem:\n  app-route:\n   name: A\n</code></pre>\n<p>Other services system.app-route.name value could be B and C</p>\n<h2>Configuration for injecting BaggageField</h2>\n<pre><code>@Configuration\npublic class SleuthConfiguration {\n\n     @Bean\n     BaggageField appRouteField() {\n        return BaggageField.create(&quot;app-route&quot;);\n     }\n}\n</code></pre>\n<h2>Filter class for all services:</h2>\n<pre><code>public class LogFilter implements Filter {\n\n@Autowired\nprivate BaggageField appRouteBaggageField;\n\n@Value(value = &quot;${system.app-route.name:}&quot;)\nprivate String appRouteName;\n\n@Value(value = &quot;${spring.application.name:-}&quot;)\nprivate String applicationName;\n\nprivate String appName;\n\n@Override\npublic void init(FilterConfig filterConfig) {\n    appName = (appRouteName == null || appRouteName.isEmpty()) ? applicationName : appRouteName;\n}\n\n@Override\npublic void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) {\n    updateAppRouteBaggageField();\n    logger.info(&quot;Route={}&quot;,appRouteBaggageField.getValue());\n}\n\nprivate void updateAppRouteBaggageField() {\n    String appRouteBaggageFieldValue = appRouteBaggageField.getValue();\n    appRouteBaggageField.updateValue((appRouteBaggageFieldValue == null || appRouteBaggageFieldValue.isEmpty())\n            ? appName : (appRouteBaggageFieldValue + &quot;-&gt;&quot; + appName));\n}\n}\n</code></pre>\n<h2>build.gradle file:</h2>\n<pre><code>implementation 'org.springframework.cloud:spring-cloud-starter-sleuth'\n</code></pre>\n"}],"owner":{"account_id":7843297,"reputation":117,"user_id":5929089,"display_name":"Adi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75447857,"answer_count":2,"score":0,"last_activity_date":1678880599,"creation_date":1676296983,"question_id":75436884,"body_markdown":"We are currently using spring cloud sleuth for trace context propagation throughout our microservices and it is working perfectly fine.\r\n\r\nI have one requirement where let us say we have three services **A,B and C** and for every request we receive, we create one custom [baggage key][1] at service A and propogate it through B and C.\r\n\r\nhere is the ask, the flow of any request is like **A-&gt;B-&gt;C**\r\n. \r\nI want to update the Baggage key in service B and propagate this update to A so that server A will start printing new Baggage key in its trace context once it receives response from B.\r\n\r\nAs a custom solution, we can receive this updated baggage key in the response header and set it on the trace context but I am looking for more clean approach to handle this through sping cloud sleuth.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/project-features.html#features-baggage","title":"How to propagate updated baggage key back to client from remote server? || spring cloud sleuth","body":"<p>We are currently using spring cloud sleuth for trace context propagation throughout our microservices and it is working perfectly fine.</p>\n<p>I have one requirement where let us say we have three services <strong>A,B and C</strong> and for every request we receive, we create one custom <a href=\"https://docs.spring.io/spring-cloud-sleuth/docs/current-SNAPSHOT/reference/html/project-features.html#features-baggage\" rel=\"nofollow noreferrer\">baggage key</a> at service A and propogate it through B and C.</p>\n<p>here is the ask, the flow of any request is like <strong>A-&gt;B-&gt;C</strong>\n.\nI want to update the Baggage key in service B and propagate this update to A so that server A will start printing new Baggage key in its trace context once it receives response from B.</p>\n<p>As a custom solution, we can receive this updated baggage key in the response header and set it on the trace context but I am looking for more clean approach to handle this through sping cloud sleuth.</p>\n"},{"tags":["java","jboss"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1678886010,"post_id":75744232,"comment_id":133619459,"body_markdown":"Are you storing these conf. files inside the exploded WAR file? Because if they need to be modifiable, that&#39;s a terrible practice. As you&#39;ve seen, every redeploy can cause the current contents to be replaced. Try storing the config files outside of the WAR file, and refer to the location using a system property defined in JBoss that the application can read.","body":"Are you storing these conf. files inside the exploded WAR file? Because if they need to be modifiable, that&#39;s a terrible practice. As you&#39;ve seen, every redeploy can cause the current contents to be replaced. Try storing the config files outside of the WAR file, and refer to the location using a system property defined in JBoss that the application can read."},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":0,"creation_date":1678886982,"post_id":75744232,"comment_id":133619775,"body_markdown":"When you restart your jboss, you have to deploy the application if you want to run it. If you want to remove the application from jboss - just remove the war. There is no way to have the application without deploying it","body":"When you restart your jboss, you have to deploy the application if you want to run it. If you want to remove the application from jboss - just remove the war. There is no way to have the application without deploying it"},{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1678888421,"post_id":75744232,"comment_id":133620280,"body_markdown":"The scanner can be set not to auto-deploy","body":"The scanner can be set not to auto-deploy"},{"owner":{"account_id":6782356,"reputation":66,"user_id":5222152,"display_name":"alexkidd"},"score":0,"creation_date":1678897936,"post_id":75744232,"comment_id":133623515,"body_markdown":"@ehsavoie ty for the reply, I tried to Scan Enabled = false. But at that time it&#39;s not auto-starting the application. You have to reach the management console and start the app yourself.\nI need a configuration that will not redeploy my .war file in cases where it is necessary to restart the server.","body":"@ehsavoie ty for the reply, I tried to Scan Enabled = false. But at that time it&#39;s not auto-starting the application. You have to reach the management console and start the app yourself. I need a configuration that will not redeploy my .war file in cases where it is necessary to restart the server."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1678984378,"post_id":75744232,"comment_id":133642901,"body_markdown":"Note that if your application is not deployed it won&#39;t work. There is a deployment process that occurs when a deployment is found. This can be disable, however the server will effectively not have the deployment.","body":"Note that if your application is not deployed it won&#39;t work. There is a deployment process that occurs when a deployment is found. This can be disable, however the server will effectively not have the deployment."}],"owner":{"account_id":6782356,"reputation":66,"user_id":5222152,"display_name":"alexkidd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678880574,"creation_date":1678880574,"question_id":75744232,"body_markdown":"I&#39;m using JBoss 7.2 eap (WIN10) for a project. Whenever I restart the JBoss for some reason, it redeploys my .war file. This situation causes rewrite my conf. files. I searched for some resources and questions about this topic. So I change the &quot;deployment scanner subsystem&quot; config default to this from standalone.xml. But it still redeploys my .war file after the restart. How can I solve this?\r\n\r\n**Auto Deploy Exploded**\r\n*false*\r\n\r\n**Auto Deploy Xml**\r\n*true*\r\n\r\n**Auto Deploy Zipped**\r\n*false*\r\n\r\n**Deployment Timeout**\r\n*600*\r\n\r\n**Path**\r\n*deployments*\r\n\r\n**Relative To**\r\n*jboss.server.base.dir*\r\n\r\n**Runtime Failure Causes Rollback**\r\n*${jboss.deployment.scanner.rollback.on.failure:false}*\r\n\r\n**Scan Enabled**\r\n*true*\r\n\r\n**Scan Interval** \r\n*5000*","title":"How to disable .war redeploy when JBoss 7.2 restart?","body":"<p>I'm using JBoss 7.2 eap (WIN10) for a project. Whenever I restart the JBoss for some reason, it redeploys my .war file. This situation causes rewrite my conf. files. I searched for some resources and questions about this topic. So I change the &quot;deployment scanner subsystem&quot; config default to this from standalone.xml. But it still redeploys my .war file after the restart. How can I solve this?</p>\n<p><strong>Auto Deploy Exploded</strong>\n<em>false</em></p>\n<p><strong>Auto Deploy Xml</strong>\n<em>true</em></p>\n<p><strong>Auto Deploy Zipped</strong>\n<em>false</em></p>\n<p><strong>Deployment Timeout</strong>\n<em>600</em></p>\n<p><strong>Path</strong>\n<em>deployments</em></p>\n<p><strong>Relative To</strong>\n<em>jboss.server.base.dir</em></p>\n<p><strong>Runtime Failure Causes Rollback</strong>\n<em>${jboss.deployment.scanner.rollback.on.failure:false}</em></p>\n<p><strong>Scan Enabled</strong>\n<em>true</em></p>\n<p><strong>Scan Interval</strong>\n<em>5000</em></p>\n"},{"tags":["java","spring","hibernate","lazydatamodel"],"owner":{"account_id":6678367,"reputation":1,"user_id":5152329,"display_name":"FATİH Okyay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678880473,"creation_date":1678873964,"question_id":75743037,"body_markdown":"The problem is that when a person&#39;s Doctorate school information changes, other school information also changes. İt has degree title, school and department values. For example, the Master&#39;s, Bachelor&#39;s, Associate&#39;s and high school information cannot be changed through the web interface until the doctorate values are changed. When Doctorate values changed, Master&#39;s, Bachelor&#39;s, Associate&#39;s and high school values changed in the same way as Doctorate values on website.\r\n\r\nI am new at Java and can&#39;t figure Hibernate or lazy model caused it.\r\n\r\n```\r\npublic boolean merge(EmployeeEducationInfo obj) {\r\n\tthis.highSchool.merge(obj.getHighSchool());\r\n\tthis.associate.merge(obj.getAssociate());\r\n\tthis.bachelor.merge(obj.getBachelor());\r\n\tthis.master.merge(obj.getMaster());\r\n\tthis.doctoral.merge(obj.getDoctoral());\r\n\r\n\tif(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\r\n\t     this.setEducationStatus(obj.getEducationStatus());\r\n\t}\r\n\tif(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\r\n\t     this.setShortDescription(obj.getShortDescription());\r\n\t}\r\n\tif(this.getDescription().compareTo(obj.getDescription()) != 0) {\r\n\t     this.setDescription(obj.getDescription());\r\n\t}\r\n    \r\n    return true;\r\n}\r\n```\r\nWhen I comment this line `this.doctoral.merge(obj.getDoctoral());` and enter new values on web site, Master&#39;s values now replace license and other values. When I comment the Master&#39;s` //this.master.merge(obj.getMaster());`, Bachelor&#39;s, Associate&#39;s and high school lines respectively by one by, all the values are corrected when I get rid of the comment line. but it only happens for one person, the same error is repeated for a new person on the website.\r\n\r\n```\r\n@With\r\n@Getter\r\n@AllArgsConstructor\r\n@Table(name = &quot;----&quot;, schema = &quot;---&quot;)\r\n@Entity(name = &quot;EmployeeEducationInfo&quot;)\r\n@EqualsAndHashCode(callSuper = false)\r\npublic class EmployeeEducationInfo extends BaseEntity {\r\n\r\n\tprivate static final long serialVersionUID = -1644326415323600803L;\r\n\r\n\t@NonNull\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;, unique = true)\r\n\t@GeneratedValue(generator = &quot;employeeEducationInfoSequence&quot;)\r\n\t@GenericGenerator(name = &quot;employeeEducationInfoSequence&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\r\n\t\t\t@Parameter(name = &quot;---&quot;, value = &quot;---&quot;),\r\n\t\t\t@Parameter(name = &quot;---&quot;, value = &quot;1000&quot;), @Parameter(name = &quot;---&quot;, value = &quot;1&quot;),\r\n\t\t\t@Parameter(name = &quot;---&quot;, value = &quot;---&quot;) })\r\n\tprivate Integer id;\r\n\r\n\tpublic EmployeeEducationInfo() {\r\n\t\tdescription = &quot; &quot;;\r\n\t\tshortDescription = &quot; &quot;;\r\n\t}\r\n\r\n\tpublic void setHighSchool(  EmployeeDegreeInfo newhighSchool) {\r\n\t    this. highSchool = newhighSchool;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;HIGH_SCHOOL_DEGREE_ID&quot;)\r\n\tprivate EmployeeDegreeInfo highSchool;\r\n\t\r\n\tpublic void setAssociate(EmployeeDegreeInfo newAssociate) {\r\n\t    this.associate = newAssociate;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;ASSOCIATE_DEGREE_ID&quot;)\r\n\tprivate EmployeeDegreeInfo associate;\r\n\t\r\n\tpublic void setBachelor(EmployeeDegreeInfo newBachelor) {\r\n\t    this.bachelor = newBachelor;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;BACHELOR_DEGREE_ID&quot;, nullable = false, unique = true)\r\n\tprivate EmployeeDegreeInfo bachelor;\r\n\t\r\n\tpublic void setMaster(EmployeeDegreeInfo newMaster) {\r\n\t    this.master = newMaster;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;MASTER_DEGREE_ID&quot;, nullable = false, unique = true)\r\n\tprivate EmployeeDegreeInfo master;\r\n\r\n\tpublic void setDoctoral(EmployeeDegreeInfo newDoctoral) {\r\n\t    this.doctoral = newDoctoral;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;DOCTORAL_DEGREE_ID&quot;, nullable = false, unique = true)\r\n\tprivate EmployeeDegreeInfo doctoral;\r\n\r\n\tpublic void setEducationStatus(EducationStatus newEducationStatus) {\r\n\t    this.educationStatus = newEducationStatus;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@OneToOne(targetEntity = EducationStatus.class, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;EDUCATION_STATUS_ID&quot;, nullable = false)\r\n\tprivate EducationStatus educationStatus;\r\n\r\n\tpublic int compareTo(EmployeeEducationInfo other) {\r\n\t\treturn this.description.compareTo(other.getDescription());\r\n\t}\r\n\r\n\tpublic EmployeeEducationInfo clone() {\r\n\t\tEmployeeEducationInfo clone = withId(getId());\r\n\r\n\t\tif (getHighSchool() != null) {\r\n\t\t\tclone.setHighSchool(getHighSchool());\r\n\t\t}\r\n\r\n\t\tif (getAssociate() != null) {\r\n\t\t\tclone.setAssociate(getAssociate());\r\n\t\t}\r\n\r\n\t\tif (getBachelor() != null) {\r\n\t\t\tclone.setBachelor(getBachelor());\r\n\t\t}\r\n\r\n\t\tif (getMaster() != null) {\r\n\t\t\tclone.setMaster(getMaster());\r\n\t\t}\r\n\r\n\t\tif (getDoctoral() != null) {\r\n\t\t\tclone.setDoctoral(getDoctoral());\r\n\t\t}\r\n\r\n\t\tif (getEducationStatus() != null) {\r\n\t\t\tclone.setEducationStatus(getEducationStatus());\r\n\t\t}\r\n\r\n\t\treturn clone;\r\n\t}\r\n\t\r\n\tpublic boolean haveDifference(EmployeeEducationInfo obj) {\r\n\t\treturn !(this.id.compareTo(obj.getId()) == 0\r\n\t\t\t\t&amp;&amp; this.educationStatus.getId().compareTo(obj.getEducationStatus().getId()) == 0\r\n\t\t\t\t&amp;&amp; this.shortDescription.compareTo(obj.getShortDescription()) == 0\r\n\t\t\t\t&amp;&amp; this.description.compareTo(obj.getDescription()) == 0);\r\n\t}\r\n\t\r\n\tpublic boolean merge(EmployeeEducationInfo obj) {\r\n//\t\tif(!haveDifference(obj)) {\r\n//\t\t\treturn false;\r\n//\t\t}\r\n\t\t\r\n\t\tthis.highSchool.merge(obj.getHighSchool());\r\n\t\tthis.associate.merge(obj.getAssociate());\r\n\t\tthis.bachelor.merge(obj.getBachelor());\r\n\t\tthis.master.merge(obj.getMaster());\r\n\t\tthis.doctoral.merge(obj.getDoctoral());\r\n\t\t\r\n\t\tif(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\r\n\t\t     this.setEducationStatus(obj.getEducationStatus());\r\n\t\t}\r\n\t\tif(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\r\n\t\t     this.setShortDescription(obj.getShortDescription());\r\n\t\t}\r\n\t\tif(this.getDescription().compareTo(obj.getDescription()) != 0) {\r\n\t\t     this.setDescription(obj.getDescription());\r\n\t\t}\r\n\t    \r\n\t    return true;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n@With\r\n@Getter \r\n@AllArgsConstructor\r\n@Table(name = &quot;---&quot;, schema = &quot;---&quot;)\r\n@Entity(name = &quot;-----&quot;)\r\n@EqualsAndHashCode(callSuper = false)\r\npublic class EmployeeDegreeInfo extends BaseEntity {\r\n\tprivate static final long serialVersionUID = -1644326415323600803L;\r\n\r\n\t@NonNull\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;, unique = true)\r\n\t@GenericGenerator(name = &quot;employeeDegreeInfoSequence&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\r\n\t    @Parameter(name = &quot;---&quot;, value = &quot;----&quot;),\r\n\t    @Parameter(name = &quot;---&quot;, value = &quot;1000&quot;),\r\n        @Parameter(name = &quot;-----&quot;, value = &quot;1&quot;),\r\n        @Parameter(name = &quot;-----&quot;, value = &quot;----&quot;)\r\n\t})\r\n\t@GeneratedValue(generator = &quot;employeeDegreeInfoSequence&quot;)\r\n\tprivate Integer id;\r\n\t\r\n\tpublic EmployeeDegreeInfo() {\r\n\t\tdescription      = &quot; &quot;;\r\n\t\tshortDescription = &quot; &quot;;\r\n\t}\r\n\t\r\n\tpublic void setGraduationDate(Date newGraduationDate) {\r\n\t    this.graduationDate = newGraduationDate;\r\n\t}\r\n\r\n\t@Temporal(TemporalType.DATE)\r\n\t@Column(name = &quot;GRADUATION_DATE&quot;)\r\n\tprivate Date graduationDate;\r\n\t\r\n\tpublic void setDegree( Degree newDegree) {\r\n\t    this.degree = newDegree;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;DEGREE_ID&quot;, nullable = false)\r\n\tprivate Degree degree;\r\n\t\r\n\tpublic void setDegreeTitle(DegreeTitle newDegreeTitle) {\r\n\t    this.degreeTitle = newDegreeTitle;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;DEGREE_TITLE_ID&quot;, nullable = false)\r\n\tprivate DegreeTitle degreeTitle;\r\n\t\r\n\tpublic void setSchool(School newSchool) {\r\n\t    this.school = newSchool;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;SCHOOL_ID&quot;)\r\n\tprivate School school;\r\n\t\r\n\tpublic void setEducationStatus(EducationStatus neweducationStatus) {\r\n\t    this.educationStatus = neweducationStatus;\r\n\t}\r\n\r\n\t@NonNull\r\n\t@ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;EDUCATION_STATUS_ID&quot;)\r\n\tprivate EducationStatus educationStatus;\r\n\t\r\n\tpublic int compareTo(EmployeeDegreeInfo other) {\r\n\t\treturn this.description.compareTo(other.getDescription());\r\n    }\r\n\t\r\n\tpublic EmployeeDegreeInfo clone() {\r\n\t\tEmployeeDegreeInfo clone = withId(getId());\r\n\t\t\r\n\t\tif(getDegree() != null) {\r\n\t\t\tclone.setDegree(getDegree());\r\n\t\t}\r\n\t\t\r\n\t\tif(getSchool() != null) {\r\n\t\t\tclone.setSchool(getSchool());\r\n\t\t}\r\n    \t\r\n\t\tif(getEducationStatus() != null) {\r\n\t\t\tclone.setEducationStatus(getEducationStatus().clone());\r\n\t\t}\r\n\t\t\r\n\t\treturn clone;\r\n\t}\r\n\t\r\n\tpublic boolean merge(EmployeeDegreeInfo obj) {\r\n\t\tif(compareDatesWithNullControl(this.graduationDate, obj.getGraduationDate()) != 0) {\r\n\t\t     this.setGraduationDate(obj.getGraduationDate());\r\n\t\t}\r\n\t\tif(this.getDegree().getId().compareTo(obj.getDegree().getId()) != 0) {\r\n\t\t     this.setDegree(obj.getDegree());\r\n\t\t}\r\n\t\tif(this.getDegreeTitle().getId().compareTo(obj.getDegreeTitle().getId()) != 0) {\r\n\t\t     this.setDegreeTitle(obj.getDegreeTitle());\r\n\t\t}\r\n\t\tif(this.getSchool().getId().compareTo(obj.getSchool().getId()) != 0) {\r\n\t\t     this.setSchool(obj.getSchool());\r\n\t\t}\r\n\t\tif(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\r\n\t\t     this.setEducationStatus(obj.getEducationStatus());\r\n\t\t}\r\n\t\tif(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\r\n\t\t     this.setShortDescription(obj.getShortDescription());\r\n\t\t}\r\n\t\tif(this.getDescription().compareTo(obj.getDescription()) != 0) {\r\n\t\t     this.setDescription(obj.getDescription());\r\n\t\t}\r\n\t    \r\n\t    return true;\r\n\t}\r\n}\r\n```\r\n\r\nOn these pages I tried to code setters instead of lazy model. İt doesn&#39;t work.","title":"The values of one object affect and change the values of other objects","body":"<p>The problem is that when a person's Doctorate school information changes, other school information also changes. İt has degree title, school and department values. For example, the Master's, Bachelor's, Associate's and high school information cannot be changed through the web interface until the doctorate values are changed. When Doctorate values changed, Master's, Bachelor's, Associate's and high school values changed in the same way as Doctorate values on website.</p>\n<p>I am new at Java and can't figure Hibernate or lazy model caused it.</p>\n<pre><code>public boolean merge(EmployeeEducationInfo obj) {\n    this.highSchool.merge(obj.getHighSchool());\n    this.associate.merge(obj.getAssociate());\n    this.bachelor.merge(obj.getBachelor());\n    this.master.merge(obj.getMaster());\n    this.doctoral.merge(obj.getDoctoral());\n\n    if(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\n         this.setEducationStatus(obj.getEducationStatus());\n    }\n    if(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\n         this.setShortDescription(obj.getShortDescription());\n    }\n    if(this.getDescription().compareTo(obj.getDescription()) != 0) {\n         this.setDescription(obj.getDescription());\n    }\n    \n    return true;\n}\n</code></pre>\n<p>When I comment this line <code>this.doctoral.merge(obj.getDoctoral());</code> and enter new values on web site, Master's values now replace license and other values. When I comment the Master's<code> //this.master.merge(obj.getMaster());</code>, Bachelor's, Associate's and high school lines respectively by one by, all the values are corrected when I get rid of the comment line. but it only happens for one person, the same error is repeated for a new person on the website.</p>\n<pre><code>@With\n@Getter\n@AllArgsConstructor\n@Table(name = &quot;----&quot;, schema = &quot;---&quot;)\n@Entity(name = &quot;EmployeeEducationInfo&quot;)\n@EqualsAndHashCode(callSuper = false)\npublic class EmployeeEducationInfo extends BaseEntity {\n\n    private static final long serialVersionUID = -1644326415323600803L;\n\n    @NonNull\n    @Id\n    @Column(name = &quot;ID&quot;, unique = true)\n    @GeneratedValue(generator = &quot;employeeEducationInfoSequence&quot;)\n    @GenericGenerator(name = &quot;employeeEducationInfoSequence&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\n            @Parameter(name = &quot;---&quot;, value = &quot;---&quot;),\n            @Parameter(name = &quot;---&quot;, value = &quot;1000&quot;), @Parameter(name = &quot;---&quot;, value = &quot;1&quot;),\n            @Parameter(name = &quot;---&quot;, value = &quot;---&quot;) })\n    private Integer id;\n\n    public EmployeeEducationInfo() {\n        description = &quot; &quot;;\n        shortDescription = &quot; &quot;;\n    }\n\n    public void setHighSchool(  EmployeeDegreeInfo newhighSchool) {\n        this. highSchool = newhighSchool;\n    }\n\n    @NonNull\n    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;HIGH_SCHOOL_DEGREE_ID&quot;)\n    private EmployeeDegreeInfo highSchool;\n    \n    public void setAssociate(EmployeeDegreeInfo newAssociate) {\n        this.associate = newAssociate;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;ASSOCIATE_DEGREE_ID&quot;)\n    private EmployeeDegreeInfo associate;\n    \n    public void setBachelor(EmployeeDegreeInfo newBachelor) {\n        this.bachelor = newBachelor;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;BACHELOR_DEGREE_ID&quot;, nullable = false, unique = true)\n    private EmployeeDegreeInfo bachelor;\n    \n    public void setMaster(EmployeeDegreeInfo newMaster) {\n        this.master = newMaster;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;MASTER_DEGREE_ID&quot;, nullable = false, unique = true)\n    private EmployeeDegreeInfo master;\n\n    public void setDoctoral(EmployeeDegreeInfo newDoctoral) {\n        this.doctoral = newDoctoral;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EmployeeDegreeInfo.class, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;DOCTORAL_DEGREE_ID&quot;, nullable = false, unique = true)\n    private EmployeeDegreeInfo doctoral;\n\n    public void setEducationStatus(EducationStatus newEducationStatus) {\n        this.educationStatus = newEducationStatus;\n    }\n\n    @NonNull\n    @OneToOne(targetEntity = EducationStatus.class, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;EDUCATION_STATUS_ID&quot;, nullable = false)\n    private EducationStatus educationStatus;\n\n    public int compareTo(EmployeeEducationInfo other) {\n        return this.description.compareTo(other.getDescription());\n    }\n\n    public EmployeeEducationInfo clone() {\n        EmployeeEducationInfo clone = withId(getId());\n\n        if (getHighSchool() != null) {\n            clone.setHighSchool(getHighSchool());\n        }\n\n        if (getAssociate() != null) {\n            clone.setAssociate(getAssociate());\n        }\n\n        if (getBachelor() != null) {\n            clone.setBachelor(getBachelor());\n        }\n\n        if (getMaster() != null) {\n            clone.setMaster(getMaster());\n        }\n\n        if (getDoctoral() != null) {\n            clone.setDoctoral(getDoctoral());\n        }\n\n        if (getEducationStatus() != null) {\n            clone.setEducationStatus(getEducationStatus());\n        }\n\n        return clone;\n    }\n    \n    public boolean haveDifference(EmployeeEducationInfo obj) {\n        return !(this.id.compareTo(obj.getId()) == 0\n                &amp;&amp; this.educationStatus.getId().compareTo(obj.getEducationStatus().getId()) == 0\n                &amp;&amp; this.shortDescription.compareTo(obj.getShortDescription()) == 0\n                &amp;&amp; this.description.compareTo(obj.getDescription()) == 0);\n    }\n    \n    public boolean merge(EmployeeEducationInfo obj) {\n//      if(!haveDifference(obj)) {\n//          return false;\n//      }\n        \n        this.highSchool.merge(obj.getHighSchool());\n        this.associate.merge(obj.getAssociate());\n        this.bachelor.merge(obj.getBachelor());\n        this.master.merge(obj.getMaster());\n        this.doctoral.merge(obj.getDoctoral());\n        \n        if(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\n             this.setEducationStatus(obj.getEducationStatus());\n        }\n        if(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\n             this.setShortDescription(obj.getShortDescription());\n        }\n        if(this.getDescription().compareTo(obj.getDescription()) != 0) {\n             this.setDescription(obj.getDescription());\n        }\n        \n        return true;\n    }\n}\n</code></pre>\n<pre><code>@With\n@Getter \n@AllArgsConstructor\n@Table(name = &quot;---&quot;, schema = &quot;---&quot;)\n@Entity(name = &quot;-----&quot;)\n@EqualsAndHashCode(callSuper = false)\npublic class EmployeeDegreeInfo extends BaseEntity {\n    private static final long serialVersionUID = -1644326415323600803L;\n\n    @NonNull\n    @Id\n    @Column(name = &quot;ID&quot;, unique = true)\n    @GenericGenerator(name = &quot;employeeDegreeInfoSequence&quot;, strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;, parameters = {\n        @Parameter(name = &quot;---&quot;, value = &quot;----&quot;),\n        @Parameter(name = &quot;---&quot;, value = &quot;1000&quot;),\n        @Parameter(name = &quot;-----&quot;, value = &quot;1&quot;),\n        @Parameter(name = &quot;-----&quot;, value = &quot;----&quot;)\n    })\n    @GeneratedValue(generator = &quot;employeeDegreeInfoSequence&quot;)\n    private Integer id;\n    \n    public EmployeeDegreeInfo() {\n        description      = &quot; &quot;;\n        shortDescription = &quot; &quot;;\n    }\n    \n    public void setGraduationDate(Date newGraduationDate) {\n        this.graduationDate = newGraduationDate;\n    }\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;GRADUATION_DATE&quot;)\n    private Date graduationDate;\n    \n    public void setDegree( Degree newDegree) {\n        this.degree = newDegree;\n    }\n\n    @NonNull\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;DEGREE_ID&quot;, nullable = false)\n    private Degree degree;\n    \n    public void setDegreeTitle(DegreeTitle newDegreeTitle) {\n        this.degreeTitle = newDegreeTitle;\n    }\n\n    @NonNull\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;DEGREE_TITLE_ID&quot;, nullable = false)\n    private DegreeTitle degreeTitle;\n    \n    public void setSchool(School newSchool) {\n        this.school = newSchool;\n    }\n\n    @NonNull\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;SCHOOL_ID&quot;)\n    private School school;\n    \n    public void setEducationStatus(EducationStatus neweducationStatus) {\n        this.educationStatus = neweducationStatus;\n    }\n\n    @NonNull\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;EDUCATION_STATUS_ID&quot;)\n    private EducationStatus educationStatus;\n    \n    public int compareTo(EmployeeDegreeInfo other) {\n        return this.description.compareTo(other.getDescription());\n    }\n    \n    public EmployeeDegreeInfo clone() {\n        EmployeeDegreeInfo clone = withId(getId());\n        \n        if(getDegree() != null) {\n            clone.setDegree(getDegree());\n        }\n        \n        if(getSchool() != null) {\n            clone.setSchool(getSchool());\n        }\n        \n        if(getEducationStatus() != null) {\n            clone.setEducationStatus(getEducationStatus().clone());\n        }\n        \n        return clone;\n    }\n    \n    public boolean merge(EmployeeDegreeInfo obj) {\n        if(compareDatesWithNullControl(this.graduationDate, obj.getGraduationDate()) != 0) {\n             this.setGraduationDate(obj.getGraduationDate());\n        }\n        if(this.getDegree().getId().compareTo(obj.getDegree().getId()) != 0) {\n             this.setDegree(obj.getDegree());\n        }\n        if(this.getDegreeTitle().getId().compareTo(obj.getDegreeTitle().getId()) != 0) {\n             this.setDegreeTitle(obj.getDegreeTitle());\n        }\n        if(this.getSchool().getId().compareTo(obj.getSchool().getId()) != 0) {\n             this.setSchool(obj.getSchool());\n        }\n        if(this.getEducationStatus().getId().compareTo(obj.getEducationStatus().getId()) != 0) {\n             this.setEducationStatus(obj.getEducationStatus());\n        }\n        if(this.getShortDescription().compareTo(obj.getShortDescription()) != 0) {\n             this.setShortDescription(obj.getShortDescription());\n        }\n        if(this.getDescription().compareTo(obj.getDescription()) != 0) {\n             this.setDescription(obj.getDescription());\n        }\n        \n        return true;\n    }\n}\n</code></pre>\n<p>On these pages I tried to code setters instead of lazy model. İt doesn't work.</p>\n"},{"tags":["java","arraylist","hashmap","set"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678867888,"post_id":75741797,"comment_id":133614455,"body_markdown":"as commented in code `// if all indices match, set allMismatch to false` - `&quot;cherry&quot;` does not match `&quot;cherries&quot;` -&gt; not all indices match -&gt; allMismatch is not set to false (BTW no CSV, no file related question)","body":"as commented in code <code>&#47;&#47; if all indices match, set allMismatch to false</code> - <code>&quot;cherry&quot;</code> does not match <code>&quot;cherries&quot;</code> -&gt; not all indices match -&gt; allMismatch is not set to false (BTW no CSV, no file related question)"},{"owner":{"account_id":22027676,"reputation":1,"user_id":16295416,"display_name":"Hariharan Murugan"},"score":0,"creation_date":1678868557,"post_id":75741797,"comment_id":133614630,"body_markdown":"@user16320675 thanks for your quick reply ! , yes in the above list only cherry is not matching with cherries where as the other two (apple and banana ) are matching so it shouldnt be considered as a missing list, it is a mismatchedata","body":"@user16320675 thanks for your quick reply ! , yes in the above list only cherry is not matching with cherries where as the other two (apple and banana ) are matching so it shouldnt be considered as a missing list, it is a mismatchedata"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1678869128,"post_id":75741797,"comment_id":133614800,"body_markdown":"Precisely define &quot;missing list&quot; and &quot;mistmatch data&quot; first, please. With the help of &quot;some match&quot;, &quot;all match&quot;, &quot;no match&quot; or alike at least.","body":"Precisely define &quot;missing list&quot; and &quot;mistmatch data&quot; first, please. With the help of &quot;some match&quot;, &quot;all match&quot;, &quot;no match&quot; or alike at least."},{"owner":{"account_id":22027676,"reputation":1,"user_id":16295416,"display_name":"Hariharan Murugan"},"score":0,"creation_date":1678870208,"post_id":75741797,"comment_id":133615084,"body_markdown":"@user16320675 if all the elements of prelist is not matched then it should be considered as missing list other wise it&#39;s a mistmatch. For example instead of cherries if it is a mango then also it should be considered as a mismatch not a missinglist","body":"@user16320675 if all the elements of prelist is not matched then it should be considered as missing list other wise it&#39;s a mistmatch. For example instead of cherries if it is a mango then also it should be considered as a mismatch not a missinglist"}],"answers":[{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678880296,"creation_date":1678880296,"answer_id":75744181,"question_id":75741797,"body_markdown":"Maybe someone else can resolve it by using stream to simplify your code, but anyway it works now and hopefully, it helps you to resolve the problem! Good luck \r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.function.Consumer;\r\n    \r\n    \r\n    public class CSVFileComparison {\r\n        public static void main(String[] args) {\r\n            List&lt;List&lt;String&gt;&gt; preCSV = new ArrayList&lt;&gt;();\r\n            List&lt;List&lt;String&gt;&gt; postCSV = new ArrayList&lt;&gt;();\r\n    \r\n            // Add data to preCSV\r\n            List&lt;String&gt; preList1 = new ArrayList&lt;&gt;();\r\n            preList1.add(&quot;apple&quot;);\r\n            preList1.add(&quot;cherries&quot;);\r\n            preList1.add(&quot;banana&quot;);\r\n            preCSV.add(preList1);\r\n    \r\n            List&lt;String&gt; preList2 = new ArrayList&lt;&gt;();\r\n            preList2.add(&quot;orange&quot;);\r\n            preList2.add(&quot;pear&quot;);\r\n            preList2.add(&quot;grape&quot;);\r\n            preCSV.add(preList2);\r\n    \r\n            List&lt;String&gt; preList3 = new ArrayList&lt;&gt;();\r\n            preList3.add(&quot;watermelon&quot;);\r\n            preList3.add(&quot;kiwi&quot;);\r\n            preList3.add(&quot;pineapple&quot;);\r\n            preCSV.add(preList3);\r\n    \r\n            // Add data to postCSV\r\n            List&lt;String&gt; postList1 = new ArrayList&lt;&gt;();\r\n            postList1.add(&quot;apple&quot;);\r\n            postList1.add(&quot;banana&quot;);\r\n            postList1.add(&quot;cherry&quot;);\r\n            postCSV.add(postList1);\r\n    \r\n            List&lt;String&gt; postList2 = new ArrayList&lt;&gt;();\r\n            postList2.add(&quot;orange&quot;);\r\n            postList2.add(&quot;pear&quot;);\r\n            postList2.add(&quot;grape&quot;);\r\n            postCSV.add(postList2);\r\n    \r\n            List&lt;List&lt;String&gt;&gt; missingLists = new ArrayList&lt;&gt;();\r\n            List&lt;List&lt;String&gt;&gt; mismatchedData= new ArrayList&lt;&gt;();\r\n    \r\n            Consumer&lt;List&lt;String&gt;&gt; searchList = element -&gt; {\r\n                boolean isfound = false;\r\n                boolean isEqual = false;\r\n                for (List&lt;String&gt; list : postCSV) {\r\n                    List&lt;String&gt; listCopy = new ArrayList&lt;&gt;(list);\r\n                    listCopy.retainAll(element);\r\n                    if (listCopy.size() &gt; 0 &amp;&amp; listCopy.size() != list.size()) {\r\n                        isfound = true;\r\n                    } else if (listCopy.size() == element.size()) {\r\n                        isEqual = true;\r\n                    }\r\n                }\r\n                if (isfound)\r\n                    mismatchedData.add(element);\r\n                else if (!isEqual)\r\n                    missingLists.add(element);\r\n            };\r\n    \r\n            preCSV.stream().forEach(searchList);\r\n    \r\n    \r\n    \r\n            System.out.println(missingLists); // Output: 1\r\n            System.out.println(mismatchedData); // Output: 1\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Compare two List&lt;List&lt;String&gt;&gt; in java and find the incorrect data and missing rows","body":"<p>Maybe someone else can resolve it by using stream to simplify your code, but anyway it works now and hopefully, it helps you to resolve the problem! Good luck</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Consumer;\n\n\npublic class CSVFileComparison {\n    public static void main(String[] args) {\n        List&lt;List&lt;String&gt;&gt; preCSV = new ArrayList&lt;&gt;();\n        List&lt;List&lt;String&gt;&gt; postCSV = new ArrayList&lt;&gt;();\n\n        // Add data to preCSV\n        List&lt;String&gt; preList1 = new ArrayList&lt;&gt;();\n        preList1.add(&quot;apple&quot;);\n        preList1.add(&quot;cherries&quot;);\n        preList1.add(&quot;banana&quot;);\n        preCSV.add(preList1);\n\n        List&lt;String&gt; preList2 = new ArrayList&lt;&gt;();\n        preList2.add(&quot;orange&quot;);\n        preList2.add(&quot;pear&quot;);\n        preList2.add(&quot;grape&quot;);\n        preCSV.add(preList2);\n\n        List&lt;String&gt; preList3 = new ArrayList&lt;&gt;();\n        preList3.add(&quot;watermelon&quot;);\n        preList3.add(&quot;kiwi&quot;);\n        preList3.add(&quot;pineapple&quot;);\n        preCSV.add(preList3);\n\n        // Add data to postCSV\n        List&lt;String&gt; postList1 = new ArrayList&lt;&gt;();\n        postList1.add(&quot;apple&quot;);\n        postList1.add(&quot;banana&quot;);\n        postList1.add(&quot;cherry&quot;);\n        postCSV.add(postList1);\n\n        List&lt;String&gt; postList2 = new ArrayList&lt;&gt;();\n        postList2.add(&quot;orange&quot;);\n        postList2.add(&quot;pear&quot;);\n        postList2.add(&quot;grape&quot;);\n        postCSV.add(postList2);\n\n        List&lt;List&lt;String&gt;&gt; missingLists = new ArrayList&lt;&gt;();\n        List&lt;List&lt;String&gt;&gt; mismatchedData= new ArrayList&lt;&gt;();\n\n        Consumer&lt;List&lt;String&gt;&gt; searchList = element -&gt; {\n            boolean isfound = false;\n            boolean isEqual = false;\n            for (List&lt;String&gt; list : postCSV) {\n                List&lt;String&gt; listCopy = new ArrayList&lt;&gt;(list);\n                listCopy.retainAll(element);\n                if (listCopy.size() &gt; 0 &amp;&amp; listCopy.size() != list.size()) {\n                    isfound = true;\n                } else if (listCopy.size() == element.size()) {\n                    isEqual = true;\n                }\n            }\n            if (isfound)\n                mismatchedData.add(element);\n            else if (!isEqual)\n                missingLists.add(element);\n        };\n\n        preCSV.stream().forEach(searchList);\n\n\n\n        System.out.println(missingLists); // Output: 1\n        System.out.println(mismatchedData); // Output: 1\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22027676,"reputation":1,"user_id":16295416,"display_name":"Hariharan Murugan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678880296,"creation_date":1678866486,"question_id":75741797,"body_markdown":"\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n        List&lt;List&lt;String&gt;&gt; preCSV = new ArrayList&lt;&gt;();\r\n        List&lt;List&lt;String&gt;&gt; postCSV = new ArrayList&lt;&gt;();\r\n\r\n        // Add data to preCSV\r\n        List&lt;String&gt; preList1 = new ArrayList&lt;&gt;();\r\n        preList1.add(&quot;apple&quot;);\r\n        preList1.add(&quot;banana&quot;);\r\n        preList1.add(&quot;cherries&quot;);\r\n        preCSV.add(preList1);\r\n\r\n        List&lt;String&gt; preList2 = new ArrayList&lt;&gt;();\r\n        preList2.add(&quot;orange&quot;);\r\n        preList2.add(&quot;pear&quot;);\r\n        preList2.add(&quot;grape&quot;);\r\n        preCSV.add(preList2);\r\n\r\n        List&lt;String&gt; preList3 = new ArrayList&lt;&gt;();\r\n        preList3.add(&quot;watermelon&quot;);\r\n        preList3.add(&quot;kiwi&quot;);\r\n        preList3.add(&quot;pineapple&quot;);\r\n        preCSV.add(preList3);\r\n\r\n       // Add data to postCSV\r\n        List&lt;String&gt; postList1 = new ArrayList&lt;&gt;();\r\n        postList1.add(&quot;apple&quot;);\r\n        postList1.add(&quot;banana&quot;);\r\n        postList1.add(&quot;cherry&quot;);\r\n        postCSV.add(postList1);\r\n\r\n        List&lt;String&gt; postList2 = new ArrayList&lt;&gt;();\r\n        postList2.add(&quot;orange&quot;);\r\n        postList2.add(&quot;pear&quot;);\r\n        postList2.add(&quot;grape&quot;);\r\n        postCSV.add(postList2);\r\n\r\n        List&lt;List&lt;String&gt;&gt; missingLists = new ArrayList&lt;&gt;();\r\n        List&lt;List&lt;String&gt;&gt; mismatchedData= new ArrayList&lt;&gt;();\r\n\r\n\r\n        for (int i = 0; i &lt; preCSV.size(); i++) {\r\n            List&lt;String&gt; preList = preCSV.get(i);\r\n            boolean rowFound = false;\r\n            for (List&lt;String&gt; postList : postCSV) {\r\n                if (preList.size() == postList.size() &amp;&amp; preList.equals(postList)) {\r\n                    rowFound = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!rowFound) {\r\n                boolean allMismatch = true; // assume all indices mismatch\r\n                for (int j = 0; j &lt; postCSV.size(); j++) {\r\n                    List&lt;String&gt; postList = postCSV.get(j);\r\n                    int mismatch = 0;\r\n                    if (preList.size() == postList.size()) {\r\n                        for (int k = 0; k &lt; preList.size(); k++) {\r\n                            if (!preList.get(k).equals(postList.get(k))) {\r\n                                mismatch++;\r\n                                break; // break as soon as a mismatch is found\r\n                            }\r\n                        }\r\n                        if (mismatch == 0) { // if all indices match, set allMismatch to false\r\n                            allMismatch = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (allMismatch) { // add preList to missingLists if all indices mismatch\r\n                    missingLists.add(preList);\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(missingLists.size()); // Output: 1\r\n        System.out.println(missingLists.get(0)+&quot; &quot;+ missingLists.get(1)); // Output should only contain [watermelon, kiwi, pineapple]\r\n\r\n\r\n    }\r\n\r\n```\r\n\r\n\r\nThe above code consider prelist1 as a missing list but it should not be considered as missinglist it should be a mismatched data\r\n\r\n\r\n**Actual Output:** missing contains [apple, banana, cherries] [watermelon, kiwi, pineapple]\r\n**Expected Output:**\r\nmissingLists = [watermelon, kiwi, pineapple]  and \r\nmismatchedData = [apple, banana, cherries]","title":"Compare two List&lt;List&lt;String&gt;&gt; in java and find the incorrect data and missing rows","body":"<pre><code>public static void main(String[] args) throws Exception {\n        List&lt;List&lt;String&gt;&gt; preCSV = new ArrayList&lt;&gt;();\n        List&lt;List&lt;String&gt;&gt; postCSV = new ArrayList&lt;&gt;();\n\n        // Add data to preCSV\n        List&lt;String&gt; preList1 = new ArrayList&lt;&gt;();\n        preList1.add(&quot;apple&quot;);\n        preList1.add(&quot;banana&quot;);\n        preList1.add(&quot;cherries&quot;);\n        preCSV.add(preList1);\n\n        List&lt;String&gt; preList2 = new ArrayList&lt;&gt;();\n        preList2.add(&quot;orange&quot;);\n        preList2.add(&quot;pear&quot;);\n        preList2.add(&quot;grape&quot;);\n        preCSV.add(preList2);\n\n        List&lt;String&gt; preList3 = new ArrayList&lt;&gt;();\n        preList3.add(&quot;watermelon&quot;);\n        preList3.add(&quot;kiwi&quot;);\n        preList3.add(&quot;pineapple&quot;);\n        preCSV.add(preList3);\n\n       // Add data to postCSV\n        List&lt;String&gt; postList1 = new ArrayList&lt;&gt;();\n        postList1.add(&quot;apple&quot;);\n        postList1.add(&quot;banana&quot;);\n        postList1.add(&quot;cherry&quot;);\n        postCSV.add(postList1);\n\n        List&lt;String&gt; postList2 = new ArrayList&lt;&gt;();\n        postList2.add(&quot;orange&quot;);\n        postList2.add(&quot;pear&quot;);\n        postList2.add(&quot;grape&quot;);\n        postCSV.add(postList2);\n\n        List&lt;List&lt;String&gt;&gt; missingLists = new ArrayList&lt;&gt;();\n        List&lt;List&lt;String&gt;&gt; mismatchedData= new ArrayList&lt;&gt;();\n\n\n        for (int i = 0; i &lt; preCSV.size(); i++) {\n            List&lt;String&gt; preList = preCSV.get(i);\n            boolean rowFound = false;\n            for (List&lt;String&gt; postList : postCSV) {\n                if (preList.size() == postList.size() &amp;&amp; preList.equals(postList)) {\n                    rowFound = true;\n                    break;\n                }\n            }\n            if (!rowFound) {\n                boolean allMismatch = true; // assume all indices mismatch\n                for (int j = 0; j &lt; postCSV.size(); j++) {\n                    List&lt;String&gt; postList = postCSV.get(j);\n                    int mismatch = 0;\n                    if (preList.size() == postList.size()) {\n                        for (int k = 0; k &lt; preList.size(); k++) {\n                            if (!preList.get(k).equals(postList.get(k))) {\n                                mismatch++;\n                                break; // break as soon as a mismatch is found\n                            }\n                        }\n                        if (mismatch == 0) { // if all indices match, set allMismatch to false\n                            allMismatch = false;\n                            break;\n                        }\n                    }\n                }\n                if (allMismatch) { // add preList to missingLists if all indices mismatch\n                    missingLists.add(preList);\n                }\n            }\n        }\n\n        System.out.println(missingLists.size()); // Output: 1\n        System.out.println(missingLists.get(0)+&quot; &quot;+ missingLists.get(1)); // Output should only contain [watermelon, kiwi, pineapple]\n\n\n    }\n\n</code></pre>\n<p>The above code consider prelist1 as a missing list but it should not be considered as missinglist it should be a mismatched data</p>\n<p><strong>Actual Output:</strong> missing contains [apple, banana, cherries] [watermelon, kiwi, pineapple]\n<strong>Expected Output:</strong>\nmissingLists = [watermelon, kiwi, pineapple]  and\nmismatchedData = [apple, banana, cherries]</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":1506669,"reputation":585,"user_id":1409896,"accept_rate":73,"display_name":"Prabhath"},"score":0,"creation_date":1427099165,"post_id":29205130,"comment_id":46622407,"body_markdown":"Grete.But i have question ,If i add test implementations, is it affect to original implementations when running the actual code ?.","body":"Grete.But i have question ,If i add test implementations, is it affect to original implementations when running the actual code ?."},{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1427108038,"post_id":29205130,"comment_id":46626900,"body_markdown":"@Prabhath No. The provider configuration for the test is (by default) independent from the code which will be in the packaged JAR file.","body":"@Prabhath No. The provider configuration for the test is (by default) independent from the code which will be in the packaged JAR file."},{"owner":{"account_id":8021623,"reputation":515,"user_id":6050113,"display_name":"Nasibulloh Yandashev"},"score":0,"creation_date":1602583200,"post_id":29205130,"comment_id":113759834,"body_markdown":"Hi. I did as you said @SubOptimal but, it did not help me. I wanted to test ServiceLoader stored class, but I got error &quot;Provider not found&quot;. Is there any other ways?","body":"Hi. I did as you said @SubOptimal but, it did not help me. I wanted to test ServiceLoader stored class, but I got error &quot;Provider not found&quot;. Is there any other ways?"}],"tags":[],"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1427096513,"creation_date":1427095981,"answer_id":29205130,"question_id":29204840,"body_markdown":"You need to copy the &quot;provider-configuration file&quot; into your test class directory.\r\n\r\nassuming your test class files are located at \r\n\r\n    test/classes/\r\n\r\nyou need to copy the &quot;provider-configuration file&quot; to \r\n\r\n    test/classes/META-INF/services/your.package.ContextPlugin\r\n\r\nHow to copy the files depend on your build tool (e.g. maven, gradle, ant, ...)\r\n\r\nAs example for maven you should store them in the test resources folder.\r\n\r\n    src/test/resources/META-INF/services/your.package.ContextPlugin","title":"Unit test ServiceLoader","body":"<p>You need to copy the \"provider-configuration file\" into your test class directory.</p>\n\n<p>assuming your test class files are located at </p>\n\n<pre><code>test/classes/\n</code></pre>\n\n<p>you need to copy the \"provider-configuration file\" to </p>\n\n<pre><code>test/classes/META-INF/services/your.package.ContextPlugin\n</code></pre>\n\n<p>How to copy the files depend on your build tool (e.g. maven, gradle, ant, ...)</p>\n\n<p>As example for maven you should store them in the test resources folder.</p>\n\n<pre><code>src/test/resources/META-INF/services/your.package.ContextPlugin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678880153,"creation_date":1678880153,"answer_id":75744158,"question_id":29204840,"body_markdown":"# One test configuration\r\nIf you have only one configuration to test, you can use a `test/resources/META-INF/services/mypackage.MyInterface` file, see @SubOptimal answer. However, if you need to test more than one configuration, this approach does not work. \r\n\r\n# Multiple test configurations\r\nTo test more than configuration, I&#39;m using a custom classloader which overrides the `META-INF/services/mypackage.MyInterface`. Basically, you use this classloader as parameter in `ServiceLoader.load(MyInterface.class, customClassLoader)`.\r\n\r\nThe advantage of this approach is that it does not rely on mocking libraries such as Mockito or Powermock.\r\n\r\nTo create a classloader without `META-INF/services/mypackage.MyInterface` file:\r\n\r\n    new ServiceLoaderTestClassLoader(MyInterface.class)\r\n\r\nTo create a classloader with a `META-INF/services/mypackage.MyInterface` file containing two lines with classes `SubClassOfMyInterface` and `OtherSubClassOfMyInterface`:\r\n\r\n    new ServiceLoaderTestClassLoader(MyInterface.class, SubClassOfMyInterface.class, OtherSubClassOfMyInterface.class) \r\n\r\nThis is the custom classloader source code:\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    import java.net.URLClassLoader;\r\n    import java.net.URLConnection;\r\n    import java.net.URLStreamHandler;\r\n    import java.util.Collections;\r\n    import java.util.Enumeration;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    /**\r\n     * Testing classloader for ServiceLoader.\r\n     * This classloader overrides the META-INF/services/&lt;interface&gt; file with a custom definition.\r\n     */\r\n    public class ServiceLoaderTestClassLoader extends URLClassLoader {\r\n        Class&lt;?&gt; metaInfInterface;\r\n        Class&lt;?&gt;[] implementingClasses;\r\n    \r\n        /**\r\n         * Constructs a classloader which has no META-INF/services/&lt;metaInfInterface&gt;.\r\n         *\r\n         * @param metaInfInterface ServiceLoader interface\r\n         */\r\n        public ServiceLoaderTestClassLoader(Class&lt;?&gt; metaInfInterface) {\r\n            this(metaInfInterface, (Class&lt;?&gt;[]) null);\r\n        }\r\n    \r\n        /**\r\n         * Constructs a fake META-INF/services/&lt;metaInfInterface&gt; file which contains the provided array of classes.\r\n         * When the implementingClasses array is null, the META-INF file will not be constructed.\r\n         * The classes from implementingClasses are not required to implement the metaInfInterface.\r\n         *\r\n         * @param metaInfInterface    ServiceLoader interface\r\n         * @param implementingClasses potential subclasses of the ServiceLoader metaInfInterface\r\n         */\r\n        public ServiceLoaderTestClassLoader(Class&lt;?&gt; metaInfInterface, Class&lt;?&gt;... implementingClasses) {\r\n            super(new URL[0], metaInfInterface.getClassLoader());\r\n            if (!metaInfInterface.isInterface()) {\r\n                throw new IllegalArgumentException(&quot;the META-INF service &quot; + metaInfInterface + &quot; should be an interface&quot;);\r\n            }\r\n            this.metaInfInterface = metaInfInterface;\r\n            this.implementingClasses = implementingClasses;\r\n        }\r\n    \r\n        @Override\r\n        public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\r\n            if (name.equals(&quot;META-INF/services/&quot; + metaInfInterface.getName())) {\r\n                if (implementingClasses == null) {\r\n                    return Collections.emptyEnumeration();\r\n                }\r\n                URL url = new URL(&quot;foo&quot;, &quot;bar&quot;, 99, &quot;/foobar&quot;, new URLStreamHandler() {\r\n                    @Override\r\n                    protected URLConnection openConnection(URL u) {\r\n                    return new URLConnection(u) {\r\n                        @Override\r\n                        public void connect() {\r\n                        }\r\n    \r\n                        @Override\r\n                        public InputStream getInputStream() throws IOException {\r\n                            return new ByteArrayInputStream(Stream.of(implementingClasses)\r\n                                    .map(Class::getName)\r\n                                    .collect(Collectors.joining(&quot;\\n&quot;))\r\n                                    .getBytes());\r\n                        }\r\n                    };\r\n                    }\r\n                });\r\n    \r\n                return new Enumeration&lt;&gt;() {\r\n                    boolean hasNext = true;\r\n    \r\n                    @Override\r\n                    public boolean hasMoreElements() {\r\n                        return hasNext;\r\n                    }\r\n    \r\n                    @Override\r\n                    public URL nextElement() {\r\n                        hasNext = false;\r\n                        return url;\r\n                    }\r\n                };\r\n            }\r\n            return super.getResources(name);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Unit test ServiceLoader","body":"<h1>One test configuration</h1>\n<p>If you have only one configuration to test, you can use a <code>test/resources/META-INF/services/mypackage.MyInterface</code> file, see @SubOptimal answer. However, if you need to test more than one configuration, this approach does not work.</p>\n<h1>Multiple test configurations</h1>\n<p>To test more than configuration, I'm using a custom classloader which overrides the <code>META-INF/services/mypackage.MyInterface</code>. Basically, you use this classloader as parameter in <code>ServiceLoader.load(MyInterface.class, customClassLoader)</code>.</p>\n<p>The advantage of this approach is that it does not rely on mocking libraries such as Mockito or Powermock.</p>\n<p>To create a classloader without <code>META-INF/services/mypackage.MyInterface</code> file:</p>\n<pre><code>new ServiceLoaderTestClassLoader(MyInterface.class)\n</code></pre>\n<p>To create a classloader with a <code>META-INF/services/mypackage.MyInterface</code> file containing two lines with classes <code>SubClassOfMyInterface</code> and <code>OtherSubClassOfMyInterface</code>:</p>\n<pre><code>new ServiceLoaderTestClassLoader(MyInterface.class, SubClassOfMyInterface.class, OtherSubClassOfMyInterface.class) \n</code></pre>\n<p>This is the custom classloader source code:</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.net.URLConnection;\nimport java.net.URLStreamHandler;\nimport java.util.Collections;\nimport java.util.Enumeration;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\n/**\n * Testing classloader for ServiceLoader.\n * This classloader overrides the META-INF/services/&lt;interface&gt; file with a custom definition.\n */\npublic class ServiceLoaderTestClassLoader extends URLClassLoader {\n    Class&lt;?&gt; metaInfInterface;\n    Class&lt;?&gt;[] implementingClasses;\n\n    /**\n     * Constructs a classloader which has no META-INF/services/&lt;metaInfInterface&gt;.\n     *\n     * @param metaInfInterface ServiceLoader interface\n     */\n    public ServiceLoaderTestClassLoader(Class&lt;?&gt; metaInfInterface) {\n        this(metaInfInterface, (Class&lt;?&gt;[]) null);\n    }\n\n    /**\n     * Constructs a fake META-INF/services/&lt;metaInfInterface&gt; file which contains the provided array of classes.\n     * When the implementingClasses array is null, the META-INF file will not be constructed.\n     * The classes from implementingClasses are not required to implement the metaInfInterface.\n     *\n     * @param metaInfInterface    ServiceLoader interface\n     * @param implementingClasses potential subclasses of the ServiceLoader metaInfInterface\n     */\n    public ServiceLoaderTestClassLoader(Class&lt;?&gt; metaInfInterface, Class&lt;?&gt;... implementingClasses) {\n        super(new URL[0], metaInfInterface.getClassLoader());\n        if (!metaInfInterface.isInterface()) {\n            throw new IllegalArgumentException(&quot;the META-INF service &quot; + metaInfInterface + &quot; should be an interface&quot;);\n        }\n        this.metaInfInterface = metaInfInterface;\n        this.implementingClasses = implementingClasses;\n    }\n\n    @Override\n    public Enumeration&lt;URL&gt; getResources(String name) throws IOException {\n        if (name.equals(&quot;META-INF/services/&quot; + metaInfInterface.getName())) {\n            if (implementingClasses == null) {\n                return Collections.emptyEnumeration();\n            }\n            URL url = new URL(&quot;foo&quot;, &quot;bar&quot;, 99, &quot;/foobar&quot;, new URLStreamHandler() {\n                @Override\n                protected URLConnection openConnection(URL u) {\n                return new URLConnection(u) {\n                    @Override\n                    public void connect() {\n                    }\n\n                    @Override\n                    public InputStream getInputStream() throws IOException {\n                        return new ByteArrayInputStream(Stream.of(implementingClasses)\n                                .map(Class::getName)\n                                .collect(Collectors.joining(&quot;\\n&quot;))\n                                .getBytes());\n                    }\n                };\n                }\n            });\n\n            return new Enumeration&lt;&gt;() {\n                boolean hasNext = true;\n\n                @Override\n                public boolean hasMoreElements() {\n                    return hasNext;\n                }\n\n                @Override\n                public URL nextElement() {\n                    hasNext = false;\n                    return url;\n                }\n            };\n        }\n        return super.getResources(name);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1506669,"reputation":585,"user_id":1409896,"accept_rate":73,"display_name":"Prabhath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5287,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":29205130,"answer_count":2,"score":13,"last_activity_date":1678880153,"creation_date":1427094522,"question_id":29204840,"body_markdown":"I have a method that uses `ServiceLoader` to load services using resources.\r\n    \r\n    public List&lt;String&gt; getContextData(int Id)\r\n    {\r\n      List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n      ServiceLoader&lt;ContextPlugin&gt; serviceLoader =  ServiceLoader.load(ContextPlugin.class);\r\n      for (Iterator&lt;ContextPlugin&gt; iterator = serviceLoader.iterator(); iterator.hasNext();)\r\n      {\r\n        list .addAll(iterator.next().getContextData(Id));\r\n      }\r\n      return list;\r\n    }\r\n\r\nHow should I unit test above method using Junit?","title":"Unit test ServiceLoader","body":"<p>I have a method that uses <code>ServiceLoader</code> to load services using resources.</p>\n\n<pre><code>public List&lt;String&gt; getContextData(int Id)\n{\n  List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n  ServiceLoader&lt;ContextPlugin&gt; serviceLoader =  ServiceLoader.load(ContextPlugin.class);\n  for (Iterator&lt;ContextPlugin&gt; iterator = serviceLoader.iterator(); iterator.hasNext();)\n  {\n    list .addAll(iterator.next().getContextData(Id));\n  }\n  return list;\n}\n</code></pre>\n\n<p>How should I unit test above method using Junit?</p>\n"},{"tags":["java","android-studio","android-fragments"],"owner":{"account_id":28007541,"reputation":1,"user_id":21390682,"display_name":"Sharmika Mahesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678879788,"creation_date":1678878452,"question_id":75743891,"body_markdown":"I want to implement just 3 fixed tabs in my application to profile fragment to tab layout fragment.\r\n\r\nIn my VPadapter class I&#39;m getting this error:\r\n\r\n```\r\nFragmentStatePagerAdapter(android.support.v4.app.FragmentManager)in android.support.v4.app.FragmentStatePagerAdapter cant be applied \r\n```\r\n\r\n`VPadapter class`\r\n\r\n```\r\npackage com.app.greenmoon;\r\n\r\nimport  android.support.v4.app.FragmentManager;\r\nimport android.support.v4.app.Fragment;\r\nimport android.support.v4.app.FragmentStatePagerAdapter;\r\n\r\npublic class VPAdapter extends FragmentStatePagerAdapter {\r\n    public VPAdapter(ProfileFragment fm) {\r\n        super(fm); // got error in this line\r\n    }\r\n\r\n    @Override\r\n    public Fragment getItem(int i) {\r\n        switch (i){\r\n            case 0:\r\n                return new ArticleFragment();\r\n            case 1:\r\n                return new SpeciesFragment();\r\n            case 2:\r\n                return new LikesFragment();\r\n            default:\r\n                return new SpeciesFragment();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return 3;\r\n    }\r\n}\r\n```\r\n\r\n**Why is that error caused and how to solve it?**","title":"How to solve this FragmentStatePagerAdapter(android.support.v4.app.FragmentManager)in android.support.v4.app.FragmentStatePagerAdapter cant be applied","body":"<p>I want to implement just 3 fixed tabs in my application to profile fragment to tab layout fragment.</p>\n<p>In my VPadapter class I'm getting this error:</p>\n<pre><code>FragmentStatePagerAdapter(android.support.v4.app.FragmentManager)in android.support.v4.app.FragmentStatePagerAdapter cant be applied \n</code></pre>\n<p><code>VPadapter class</code></p>\n<pre><code>package com.app.greenmoon;\n\nimport  android.support.v4.app.FragmentManager;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.app.FragmentStatePagerAdapter;\n\npublic class VPAdapter extends FragmentStatePagerAdapter {\n    public VPAdapter(ProfileFragment fm) {\n        super(fm); // got error in this line\n    }\n\n    @Override\n    public Fragment getItem(int i) {\n        switch (i){\n            case 0:\n                return new ArticleFragment();\n            case 1:\n                return new SpeciesFragment();\n            case 2:\n                return new LikesFragment();\n            default:\n                return new SpeciesFragment();\n        }\n    }\n\n    @Override\n    public int getCount() {\n        return 3;\n    }\n}\n</code></pre>\n<p><strong>Why is that error caused and how to solve it?</strong></p>\n"},{"tags":["java","spring","spring-boot","tomcat","keycloak"],"comments":[{"owner":{"account_id":2558390,"reputation":3993,"user_id":2219920,"accept_rate":71,"display_name":"Pulkit"},"score":0,"creation_date":1629462187,"post_id":68861416,"comment_id":121699641,"body_markdown":"can you share the keycloak configuration also.","body":"can you share the keycloak configuration also."}],"answers":[{"tags":[],"owner":{"account_id":22834154,"reputation":1,"user_id":16982151,"display_name":"ZZ_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632386713,"creation_date":1632385291,"answer_id":69296431,"question_id":68861416,"body_markdown":"I have the same problem as you.I found that I use tomcat keycloak adapter, but I also import the springboot-keycloak-adapter in `pom.xml`, I deleted this in my `pom.xml`, package again and `deploy.my` program works fine... Maybe you could check it out. ","title":"Keycloak error with Spring Boot: &quot;not a subtype&quot; on tomcat","body":"<p>I have the same problem as you.I found that I use tomcat keycloak adapter, but I also import the springboot-keycloak-adapter in <code>pom.xml</code>, I deleted this in my <code>pom.xml</code>, package again and <code>deploy.my</code> program works fine... Maybe you could check it out.</p>\n"},{"tags":[],"owner":{"account_id":21910001,"reputation":247,"user_id":16194563,"display_name":"Ramya Musunuru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678879770,"creation_date":1678879770,"answer_id":75744091,"question_id":68861416,"body_markdown":"org.keycloak.adapters.authorization.cip.ClaimsInformationPointProviderFactory **not a subtype**\r\n\r\nThis means that the class ClaimsInformationPointProviderFactory is loaded differently/conflicting in the tomcat and in your application.\r\n**Solution for this is to Check for the jar in tomcat/lib and delete it and restart the server**","title":"Keycloak error with Spring Boot: &quot;not a subtype&quot; on tomcat","body":"<p>org.keycloak.adapters.authorization.cip.ClaimsInformationPointProviderFactory <strong>not a subtype</strong></p>\n<p>This means that the class ClaimsInformationPointProviderFactory is loaded differently/conflicting in the tomcat and in your application.\n<strong>Solution for this is to Check for the jar in tomcat/lib and delete it and restart the server</strong></p>\n"}],"owner":{"account_id":2855339,"reputation":107,"user_id":2451717,"display_name":"bluen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1678879770,"creation_date":1629458557,"question_id":68861416,"body_markdown":"While developing a spring boot app we are using keycloak. When starting it with the embedded tomcat in vscode everything works as it should.\r\n\r\nOn time of deployment we want to put it on a standalone tomcat server, so we copy the war file over and the application gets started.\r\nWe get a redirect to the keycloak server and after completing the login the redirect back to the page works fine.\r\n\r\nUp on loading the page we get the following error:\r\n```\r\n20-Aug-2021 13:15:31.341 SCHWERWIEGEND [http-nio-8080-exec-10] org.apache.catalina.core.StandardHostValve.invoke Exception Processing /myapplicationpath/\r\n\tjava.util.ServiceConfigurationError: org.keycloak.adapters.authorization.ClaimInformationPointProviderFactory: org.keycloak.adapters.authorization.cip.ClaimsInformationPointProviderFactory not a subtype\r\n\t\tat java.base/java.util.ServiceLoader.fail(ServiceLoader.java:590)\r\n\t\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1237)\r\n\t\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1265)\r\n\t\tat java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300)\r\n\t\tat java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385)\r\n\t\tat org.keycloak.adapters.authorization.PolicyEnforcer.loadClaimInformationPointProviders(PolicyEnforcer.java:134)\r\n\t\tat org.keycloak.adapters.authorization.PolicyEnforcer.&lt;init&gt;(PolicyEnforcer.java:87)\r\n\t\tat org.keycloak.adapters.KeycloakDeploymentBuilder$1.call(KeycloakDeploymentBuilder.java:154)\r\n\t\tat org.keycloak.adapters.KeycloakDeploymentBuilder$1.call(KeycloakDeploymentBuilder.java:147)\r\n\t\tat org.keycloak.adapters.KeycloakDeployment.getPolicyEnforcer(KeycloakDeployment.java:537)\r\n\t\tat org.keycloak.adapters.AuthenticatedActionsHandler.isAuthorized(AuthenticatedActionsHandler.java:150)\r\n\t\tat org.keycloak.adapters.AuthenticatedActionsHandler.handledRequest(AuthenticatedActionsHandler.java:60)\r\n\t\tat org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve.invoke(AbstractAuthenticatedActionsValve.java:62)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:607)\r\n\t\tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:678)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:835)\r\n```\r\n\r\nThis is our current keycloak.json file:\r\n```\r\n{\r\n  &quot;realm&quot;: &quot;realmname&quot;,\r\n  &quot;auth-server-url&quot;: &quot;https://ourkeycloakserver.com/auth/&quot;,\r\n  &quot;ssl-required&quot;: &quot;none&quot;,\r\n  &quot;resource&quot;: &quot;clientname&quot;,\r\n  &quot;verify-token-audience&quot;: true,\r\n  &quot;credentials&quot;: {\r\n    &quot;secret&quot;: &quot;secret&quot;\r\n  },\r\n  &quot;use-resource-role-mappings&quot;: true,\r\n  &quot;confidential-port&quot;: 0,\r\n  &quot;policy-enforcer&quot;: {}\r\n}\r\n```\r\n\r\nAny idea what we should look at?\r\nThe keycloak configuration is in our application.properties of spring and works fine with embedded tomcat.","title":"Keycloak error with Spring Boot: &quot;not a subtype&quot; on tomcat","body":"<p>While developing a spring boot app we are using keycloak. When starting it with the embedded tomcat in vscode everything works as it should.</p>\n<p>On time of deployment we want to put it on a standalone tomcat server, so we copy the war file over and the application gets started.\nWe get a redirect to the keycloak server and after completing the login the redirect back to the page works fine.</p>\n<p>Up on loading the page we get the following error:</p>\n<pre><code>20-Aug-2021 13:15:31.341 SCHWERWIEGEND [http-nio-8080-exec-10] org.apache.catalina.core.StandardHostValve.invoke Exception Processing /myapplicationpath/\n    java.util.ServiceConfigurationError: org.keycloak.adapters.authorization.ClaimInformationPointProviderFactory: org.keycloak.adapters.authorization.cip.ClaimsInformationPointProviderFactory not a subtype\n        at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:590)\n        at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1237)\n        at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1265)\n        at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300)\n        at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385)\n        at org.keycloak.adapters.authorization.PolicyEnforcer.loadClaimInformationPointProviders(PolicyEnforcer.java:134)\n        at org.keycloak.adapters.authorization.PolicyEnforcer.&lt;init&gt;(PolicyEnforcer.java:87)\n        at org.keycloak.adapters.KeycloakDeploymentBuilder$1.call(KeycloakDeploymentBuilder.java:154)\n        at org.keycloak.adapters.KeycloakDeploymentBuilder$1.call(KeycloakDeploymentBuilder.java:147)\n        at org.keycloak.adapters.KeycloakDeployment.getPolicyEnforcer(KeycloakDeployment.java:537)\n        at org.keycloak.adapters.AuthenticatedActionsHandler.isAuthorized(AuthenticatedActionsHandler.java:150)\n        at org.keycloak.adapters.AuthenticatedActionsHandler.handledRequest(AuthenticatedActionsHandler.java:60)\n        at org.keycloak.adapters.tomcat.AbstractAuthenticatedActionsValve.invoke(AbstractAuthenticatedActionsValve.java:62)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:607)\n        at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:181)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:678)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:835)\n</code></pre>\n<p>This is our current keycloak.json file:</p>\n<pre><code>{\n  &quot;realm&quot;: &quot;realmname&quot;,\n  &quot;auth-server-url&quot;: &quot;https://ourkeycloakserver.com/auth/&quot;,\n  &quot;ssl-required&quot;: &quot;none&quot;,\n  &quot;resource&quot;: &quot;clientname&quot;,\n  &quot;verify-token-audience&quot;: true,\n  &quot;credentials&quot;: {\n    &quot;secret&quot;: &quot;secret&quot;\n  },\n  &quot;use-resource-role-mappings&quot;: true,\n  &quot;confidential-port&quot;: 0,\n  &quot;policy-enforcer&quot;: {}\n}\n</code></pre>\n<p>Any idea what we should look at?\nThe keycloak configuration is in our application.properties of spring and works fine with embedded tomcat.</p>\n"},{"tags":["java","sonarlint"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1649172446,"post_id":71754314,"comment_id":126806007,"body_markdown":"Note: If that bug (the presence of `RegieI18n.KEY_ACTION_EXECUTE`) is introduced, your approach won&#39;t prevent it, only conceal it. Existing code will be compiled against the superclass constant anyway.","body":"Note: If that bug (the presence of <code>RegieI18n.KEY_ACTION_EXECUTE</code>) is introduced, your approach won&#39;t prevent it, only conceal it. Existing code will be compiled against the superclass constant anyway."}],"answers":[{"comments":[{"owner":{"account_id":16365212,"reputation":21,"user_id":11819862,"display_name":"Micha&#235;l Droz-dit-Busset"},"score":0,"creation_date":1649225993,"post_id":71754576,"comment_id":126818767,"body_markdown":"Hi, thanks for your answer. In fact, we use i18n properties and every word is stored in a database, where it is extended with some informations (comments, use, creation date, etc.). `.properties` files are generated by a tool from this database. I better understand the idea of the rule now, as it&#39;s only for constants and I didn&#39;t know that they aren&#39;t overriden.","body":"Hi, thanks for your answer. In fact, we use i18n properties and every word is stored in a database, where it is extended with some informations (comments, use, creation date, etc.). <code>.properties</code> files are generated by a tool from this database. I better understand the idea of the rule now, as it&#39;s only for constants and I didn&#39;t know that they aren&#39;t overriden."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649172779,"creation_date":1649172779,"answer_id":71754576,"question_id":71754314,"body_markdown":"This is steering dangerously close to &#39;opinion&#39; which is beyond the scope of SO. Hence, not much opinion in this answer - just the objective basis on which S3252 is based.\r\n\r\nJava is generally called &#39;Object Oriented&#39; and as a consequence, most of its concepts are explained in terms of OO - and presumably your average java coder&#39;s instincts lie in the OO direction.\r\n\r\nThat&#39;s a problem in this case: `static` stuff __does not &quot;do&quot; OO. AT ALL.__ - for example, dynamic dispatch (where if you call `someAnimalRef.makeNoise()` will actually call the Dog class&#39;s `makeNoise()` method if the ref turns out to be referencing an instance of Dog, even though the variable `someAnimalRef` is typed `Animal`) - __does not apply to `static` at all__.\r\n\r\nIn other words, given that this is static stuff, `javac` decides which constant to use (and for an encore, if said constant is Compile Time Constant - i.e. a string or number literal or could have been derived using only baked-in math (no libraries) that involves only literals – then any refs to this variable are straight up replaced with the constant directly).\r\n\r\nThis could be confusing. The way you wrote it, you&#39;re still getting &#39;inheritance&#39; of sorts - but it&#39;s compile time inheritance. Specifically, if you have (store these 3 in separate files):\r\n\r\n```\r\ninterface CommonI18n {\r\n  String KEY_ACTION_EXECUTE = &quot;Execute&quot;;\r\n}\r\n\r\ninterface RegieI18N extends  CommonI18n {\r\n}\r\n\r\nclass Test {\r\n  public static void main(String[] args) {\r\n    System.out.println(RegieI18N.KEY_ACTION_EXECUTE);\r\n  }\r\n}\r\n```\r\n\r\nand run:\r\n\r\n```\r\njavac *.java; java Test\r\n```\r\n\r\nIt prints `Execute`, obviously. If you then edit `RegieI18N.java` to this and recompile __just it__:\r\n\r\n```\r\ninterface RegieI18N extends CommonI18n {\r\n  String KEY_ACTION_EXECUTE = &quot;Uitvoeren&quot;;\r\n}\r\n\r\n// and then on the command line:\r\n\r\njavac RegieI18N.java\r\njava Test\r\n```\r\n\r\nIt __still__ prints `Execute`, even though your intent was obviously that it should be printing `Uitvoeren` now. There are 2 separate reasons for this (and either one is sufficient): [A] Static stuff is resolved 100% by `javac`, so unless you&#39;re recompiling `Test.java`, it&#39;ll never work, and [B] constants like this are inlined.\r\n\r\nThat&#39;s what the underlying idea behind the warning: That this is confusing, and even if not, that this is hampering your future flexibility. You __cannot__ introduce/change any of the i18n stuff unless you recompile __the entire application__. Given that some &#39;incremental compilation&#39; tools will not recompile Test if `Test.class` is newer than `Test.java`, that&#39;s quite a big deal.\r\n\r\n## So to avoid this?\r\n\r\nSimple - don&#39;t use constants. Don&#39;t use `static` if you want the ability to &#39;override in a subtype&#39;. Java has i18n stuff baked in, where you put the data in properties files which you can then ship together with your class files (inside jars, if you want). This interface based strategy seems to have essentially no upside (I guess technically its more performant, but I doubt you could ever measure it, and given that i18n kinda implies &#39;strings that are meant for human eyeballs&#39;, and &#39;meant for human eyeballs&#39; kinda implies: The CPU is so not going to be the bottleneck, you can completely ignore it), the performance upside seems like a _farcically crazy_ misunderstanding of perspective here. Worrying about performance for this is completely wrong. Most likely - there are exceptions to every rule, of course.\r\n\r\nIf somehow you don&#39;t want to use java&#39;s stuff, a good first start is to invoke a method (static if you really need it to be) to get these strings; you don&#39;t want to write `RegieI18N.KEY_ACTION_EXECUTE`, you want to write something like `RegieI18N.getKeyActionExecute()`, or even `RegieI18n.KEY_ACTION_EXECUTE()` (note the parentheses at the end there). You can use code-gen to create these methods if you must. You now have the flexibility to write whatever you feel like in these, and the JVM will never inline or otherwise just eliminate such a call. If later on you decide you want that method to return something else, and you want to deploy it by recompiling _just_ RegieI18n, then now you can.\r\n\r\nYou&#39;re just reinventing wheels badly of course, but that gets rid of the primary concern that S3252 is trying to address.\r\n","title":"SonarLint rule Java:S3252 (&quot;static&quot; base class members should not be accessed via derived types)","body":"<p>This is steering dangerously close to 'opinion' which is beyond the scope of SO. Hence, not much opinion in this answer - just the objective basis on which S3252 is based.</p>\n<p>Java is generally called 'Object Oriented' and as a consequence, most of its concepts are explained in terms of OO - and presumably your average java coder's instincts lie in the OO direction.</p>\n<p>That's a problem in this case: <code>static</code> stuff <strong>does not &quot;do&quot; OO. AT ALL.</strong> - for example, dynamic dispatch (where if you call <code>someAnimalRef.makeNoise()</code> will actually call the Dog class's <code>makeNoise()</code> method if the ref turns out to be referencing an instance of Dog, even though the variable <code>someAnimalRef</code> is typed <code>Animal</code>) - <strong>does not apply to <code>static</code> at all</strong>.</p>\n<p>In other words, given that this is static stuff, <code>javac</code> decides which constant to use (and for an encore, if said constant is Compile Time Constant - i.e. a string or number literal or could have been derived using only baked-in math (no libraries) that involves only literals – then any refs to this variable are straight up replaced with the constant directly).</p>\n<p>This could be confusing. The way you wrote it, you're still getting 'inheritance' of sorts - but it's compile time inheritance. Specifically, if you have (store these 3 in separate files):</p>\n<pre><code>interface CommonI18n {\n  String KEY_ACTION_EXECUTE = &quot;Execute&quot;;\n}\n\ninterface RegieI18N extends  CommonI18n {\n}\n\nclass Test {\n  public static void main(String[] args) {\n    System.out.println(RegieI18N.KEY_ACTION_EXECUTE);\n  }\n}\n</code></pre>\n<p>and run:</p>\n<pre><code>javac *.java; java Test\n</code></pre>\n<p>It prints <code>Execute</code>, obviously. If you then edit <code>RegieI18N.java</code> to this and recompile <strong>just it</strong>:</p>\n<pre><code>interface RegieI18N extends CommonI18n {\n  String KEY_ACTION_EXECUTE = &quot;Uitvoeren&quot;;\n}\n\n// and then on the command line:\n\njavac RegieI18N.java\njava Test\n</code></pre>\n<p>It <strong>still</strong> prints <code>Execute</code>, even though your intent was obviously that it should be printing <code>Uitvoeren</code> now. There are 2 separate reasons for this (and either one is sufficient): [A] Static stuff is resolved 100% by <code>javac</code>, so unless you're recompiling <code>Test.java</code>, it'll never work, and [B] constants like this are inlined.</p>\n<p>That's what the underlying idea behind the warning: That this is confusing, and even if not, that this is hampering your future flexibility. You <strong>cannot</strong> introduce/change any of the i18n stuff unless you recompile <strong>the entire application</strong>. Given that some 'incremental compilation' tools will not recompile Test if <code>Test.class</code> is newer than <code>Test.java</code>, that's quite a big deal.</p>\n<h2>So to avoid this?</h2>\n<p>Simple - don't use constants. Don't use <code>static</code> if you want the ability to 'override in a subtype'. Java has i18n stuff baked in, where you put the data in properties files which you can then ship together with your class files (inside jars, if you want). This interface based strategy seems to have essentially no upside (I guess technically its more performant, but I doubt you could ever measure it, and given that i18n kinda implies 'strings that are meant for human eyeballs', and 'meant for human eyeballs' kinda implies: The CPU is so not going to be the bottleneck, you can completely ignore it), the performance upside seems like a <em>farcically crazy</em> misunderstanding of perspective here. Worrying about performance for this is completely wrong. Most likely - there are exceptions to every rule, of course.</p>\n<p>If somehow you don't want to use java's stuff, a good first start is to invoke a method (static if you really need it to be) to get these strings; you don't want to write <code>RegieI18N.KEY_ACTION_EXECUTE</code>, you want to write something like <code>RegieI18N.getKeyActionExecute()</code>, or even <code>RegieI18n.KEY_ACTION_EXECUTE()</code> (note the parentheses at the end there). You can use code-gen to create these methods if you must. You now have the flexibility to write whatever you feel like in these, and the JVM will never inline or otherwise just eliminate such a call. If later on you decide you want that method to return something else, and you want to deploy it by recompiling <em>just</em> RegieI18n, then now you can.</p>\n<p>You're just reinventing wheels badly of course, but that gets rid of the primary concern that S3252 is trying to address.</p>\n"}],"owner":{"account_id":16365212,"reputation":21,"user_id":11819862,"display_name":"Micha&#235;l Droz-dit-Busset"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2043,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1649172932,"accepted_answer_id":71754576,"answer_count":1,"score":1,"last_activity_date":1678879397,"creation_date":1649171747,"question_id":71754314,"body_markdown":"I&#39;ve installed SonarLint for STS a few days ago and I would like to ask a question about the rule [Java:S3252 (&quot;static&quot; base class members should not be accessed via derived types)][1].\r\n\r\nIn my code, for some reason (I&#39;m not the company&#39;s architect), there are interfaces containing i18n keys used across many programs. One of those interfaces is called `RegieI18n` and extends `CommonI18n`. When I need a key from `CommonI18n`, I use `RegieI18n` if the class concerns &quot;Regie&quot;, for example `RegieI18n.KEY_ACTION_EXECUTE`, instead of `CommonI18n.KEY_ACTION_EXECUTE`. The rule S3252 is not respected in that case.\r\n\r\nIn my mind, using `RegieI18n` (the child) is useful to prevent developers to re-write some code when, one day, someone decides to override `KEY_ACTION_EXECUTE` with another value for `RegieI18n`. The rule can also be applied to methods (in fact, all accessible members), please don&#39;t focus on the fact that we use i18n keys for the example.\r\n\r\nWhat could be the problem if I use `RegieI18n.KEY_ACTION_EXECUTE` instead of `CommonI18n.KEY_ACTION_EXECUTE`?\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-3252","title":"SonarLint rule Java:S3252 (&quot;static&quot; base class members should not be accessed via derived types)","body":"<p>I've installed SonarLint for STS a few days ago and I would like to ask a question about the rule <a href=\"https://rules.sonarsource.com/java/RSPEC-3252\" rel=\"nofollow noreferrer\">Java:S3252 (&quot;static&quot; base class members should not be accessed via derived types)</a>.</p>\n<p>In my code, for some reason (I'm not the company's architect), there are interfaces containing i18n keys used across many programs. One of those interfaces is called <code>RegieI18n</code> and extends <code>CommonI18n</code>. When I need a key from <code>CommonI18n</code>, I use <code>RegieI18n</code> if the class concerns &quot;Regie&quot;, for example <code>RegieI18n.KEY_ACTION_EXECUTE</code>, instead of <code>CommonI18n.KEY_ACTION_EXECUTE</code>. The rule S3252 is not respected in that case.</p>\n<p>In my mind, using <code>RegieI18n</code> (the child) is useful to prevent developers to re-write some code when, one day, someone decides to override <code>KEY_ACTION_EXECUTE</code> with another value for <code>RegieI18n</code>. The rule can also be applied to methods (in fact, all accessible members), please don't focus on the fact that we use i18n keys for the example.</p>\n<p>What could be the problem if I use <code>RegieI18n.KEY_ACTION_EXECUTE</code> instead of <code>CommonI18n.KEY_ACTION_EXECUTE</code>?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1678562022,"post_id":75707844,"comment_id":133559318,"body_markdown":"Duplicate? https://stackoverflow.com/questions/9475589/how-to-get-string-from-different-locales-in-android","body":"Duplicate? <a href=\"https://stackoverflow.com/questions/9475589/how-to-get-string-from-different-locales-in-android\" title=\"how to get string from different locales in android\">stackoverflow.com/questions/9475589/&hellip;</a>"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1678562555,"post_id":75707844,"comment_id":133559386,"body_markdown":"If you&#39;re looking for missing translations you could try the Translations Editor in Android Studio (https://developer.android.com/studio/write/translations-editor#correct)","body":"If you&#39;re looking for missing translations you could try the Translations Editor in Android Studio (<a href=\"https://developer.android.com/studio/write/translations-editor#correct\" rel=\"nofollow noreferrer\">developer.android.com/studio/write/translations-editor#corr&zwnj;&#8203;ect</a>)"}],"answers":[{"tags":[],"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678879283,"creation_date":1678879253,"answer_id":75744013,"question_id":75707844,"body_markdown":"From directory-tree expand the &quot;values&quot; folder and right click on the strings.xml.\r\nOpen Translator Editor. From there you can check all of your strings and their translations in different languages.","title":"Android how to identify the string is present in string.xml file?","body":"<p>From directory-tree expand the &quot;values&quot; folder and right click on the strings.xml.\nOpen Translator Editor. From there you can check all of your strings and their translations in different languages.</p>\n"}],"owner":{"account_id":3871229,"reputation":474,"user_id":3206452,"display_name":"mdroid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678879283,"creation_date":1678558670,"question_id":75707844,"body_markdown":"How to identify one string is present into string.xml file for one locale and not for other locale?","title":"Android how to identify the string is present in string.xml file?","body":"<p>How to identify one string is present into string.xml file for one locale and not for other locale?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9651,"page":574,"page_size":100}
