{"items":[{"tags":["java","spring","spring-cloud-gateway"],"owner":{"account_id":18961813,"reputation":1,"user_id":13837144,"display_name":"jfulg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695223204,"creation_date":1695223204,"question_id":77143877,"body_markdown":"I am using spring cloud gateway for my proxy application. I have a global filter which intercepts incoming requests and checks for certain headers and cookies. If it finds that one of the headers is missing, it will modify the exchange GATEWAY_ROUTE_ATTR and the request URL in order to redirect the request to an error controller in the same proxy application. I am using the yml based route configuration approach. The issue arises when redirecting the request. I modify the route attribute of the ServerWebExchange, but the filters of the old route are still getting applied. \r\n\r\n\r\nThis is the scenario:\r\n\r\n1. request comes in for http://some-domain.com/common-prefix/xyz (some downstream service serves this)\r\n\r\n2. This URL is matched to one of the routes configured in application.yml, and this route includes a stripPrefix = 1 filter \r\n\r\n\r\n```\r\n        - id: original_route\r\n          uri: http://some-domain.com/\r\n          predicates:\r\n            - Path=/common-prefix/xyz/**\r\n          filters:\r\n            - StripPrefix=1\r\n```\r\n\r\n3. The request is missing a header so the request URL is rewritten to http://my-proxy-domain/error\r\nThe GATEWAY_ROUTE_ATTR is also modified so that the matched route is now \r\n\r\n```\r\n        - id: error_redirect\r\n          uri: http://my-proxy-domain/\r\n          predicates:\r\n            - Path=/error\r\n          filters:\r\n            - RedirectTo=302, http://my-proxy-domain/error\r\n```\r\n\r\n4. I now expect the request to be sent to http://my-proxy-domain/error, where some error message will be put in the response body and a 4xx code is returned.\r\n\r\nwhat actually happens is that /error is stripped and the request is redirected to http://my-proxy-domain\r\n\r\nthis is the code that actually modifies the request and route\r\n\r\n```\r\n    private ServerWebExchange redirectToErrorController(String reason){\r\n        logger.error(reason);\r\n        String requestURI = request.getURI().toString();\r\n        logger.info(&quot;Original request URL: {}&quot;, requestURI);\r\n        addOriginalRequestUrl(exchange, request.getURI());\r\n        String url = UriComponentsBuilder\r\n                .fromHttpUrl(ProxyApplicationUtility.getDomainName(requestURI))\r\n                .path(&quot;/redirect&quot; + ERROR_PATH).build().toUriString();\r\n\r\n\r\n        logger.info(&quot;redirecting to {}&quot;,url );\r\n\r\n        ServerHttpRequest request1 = request.mutate().uri(URI.create(url)).build();\r\n        response.setStatusCode(HttpStatus.FOUND);\r\n        response.getHeaders().set(&quot;status&quot;, &quot;302&quot;);\r\n        response.getHeaders().add(&quot;Location&quot;, url);\r\n        exchange.getAttributes().put(GATEWAY_REQUEST_URL_ATTR, request.getURI());\r\n        exchange.getAttributes().put(GATEWAY_ROUTE_ATTR, getErrorRoute());\r\n        exchange = exchange.mutate().request(request1).response(response).build();\r\n        return exchange;\r\n\r\n    }\r\n\r\n//this method gets the error route from a RouteLocator bean that contains a list of defined routes //for the application\r\n    private Route getErrorRoute(){\r\n        Flux&lt;Route&gt; routeFlux = routeLocator.getRoutes();\r\n        List&lt;Route&gt; routeList = routeFlux.collectList().block();\r\n        for(Route route: routeList){\r\n            if(&quot;error_redirect&quot;.equals(route.getId())){\r\n                return route;\r\n            }\r\n        }\r\n\r\n        return null;\r\n\r\n    }\r\n```\r\n\r\n\r\nIt seems like the StripPrefix filter I have in the original_route is still being applied once the global filter is done with its processing and send the request on, even though I have changed the route being applied\r\n\r\nHow can I make sure that only the filters associated with my new route are being applied?","title":"Original route&#39;s filters are still applied to a request after changing the route attribute","body":"<p>I am using spring cloud gateway for my proxy application. I have a global filter which intercepts incoming requests and checks for certain headers and cookies. If it finds that one of the headers is missing, it will modify the exchange GATEWAY_ROUTE_ATTR and the request URL in order to redirect the request to an error controller in the same proxy application. I am using the yml based route configuration approach. The issue arises when redirecting the request. I modify the route attribute of the ServerWebExchange, but the filters of the old route are still getting applied.</p>\n<p>This is the scenario:</p>\n<ol>\n<li><p>request comes in for <a href=\"http://some-domain.com/common-prefix/xyz\" rel=\"nofollow noreferrer\">http://some-domain.com/common-prefix/xyz</a> (some downstream service serves this)</p>\n</li>\n<li><p>This URL is matched to one of the routes configured in application.yml, and this route includes a stripPrefix = 1 filter</p>\n</li>\n</ol>\n<pre><code>        - id: original_route\n          uri: http://some-domain.com/\n          predicates:\n            - Path=/common-prefix/xyz/**\n          filters:\n            - StripPrefix=1\n</code></pre>\n<ol start=\"3\">\n<li>The request is missing a header so the request URL is rewritten to http://my-proxy-domain/error\nThe GATEWAY_ROUTE_ATTR is also modified so that the matched route is now</li>\n</ol>\n<pre><code>        - id: error_redirect\n          uri: http://my-proxy-domain/\n          predicates:\n            - Path=/error\n          filters:\n            - RedirectTo=302, http://my-proxy-domain/error\n</code></pre>\n<ol start=\"4\">\n<li>I now expect the request to be sent to http://my-proxy-domain/error, where some error message will be put in the response body and a 4xx code is returned.</li>\n</ol>\n<p>what actually happens is that /error is stripped and the request is redirected to http://my-proxy-domain</p>\n<p>this is the code that actually modifies the request and route</p>\n<pre><code>    private ServerWebExchange redirectToErrorController(String reason){\n        logger.error(reason);\n        String requestURI = request.getURI().toString();\n        logger.info(&quot;Original request URL: {}&quot;, requestURI);\n        addOriginalRequestUrl(exchange, request.getURI());\n        String url = UriComponentsBuilder\n                .fromHttpUrl(ProxyApplicationUtility.getDomainName(requestURI))\n                .path(&quot;/redirect&quot; + ERROR_PATH).build().toUriString();\n\n\n        logger.info(&quot;redirecting to {}&quot;,url );\n\n        ServerHttpRequest request1 = request.mutate().uri(URI.create(url)).build();\n        response.setStatusCode(HttpStatus.FOUND);\n        response.getHeaders().set(&quot;status&quot;, &quot;302&quot;);\n        response.getHeaders().add(&quot;Location&quot;, url);\n        exchange.getAttributes().put(GATEWAY_REQUEST_URL_ATTR, request.getURI());\n        exchange.getAttributes().put(GATEWAY_ROUTE_ATTR, getErrorRoute());\n        exchange = exchange.mutate().request(request1).response(response).build();\n        return exchange;\n\n    }\n\n//this method gets the error route from a RouteLocator bean that contains a list of defined routes //for the application\n    private Route getErrorRoute(){\n        Flux&lt;Route&gt; routeFlux = routeLocator.getRoutes();\n        List&lt;Route&gt; routeList = routeFlux.collectList().block();\n        for(Route route: routeList){\n            if(&quot;error_redirect&quot;.equals(route.getId())){\n                return route;\n            }\n        }\n\n        return null;\n\n    }\n</code></pre>\n<p>It seems like the StripPrefix filter I have in the original_route is still being applied once the global filter is done with its processing and send the request on, even though I have changed the route being applied</p>\n<p>How can I make sure that only the filters associated with my new route are being applied?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":20135765,"reputation":1239,"user_id":14766808,"display_name":"Dren"},"score":0,"creation_date":1614642594,"post_id":66431306,"comment_id":117442664,"body_markdown":"Your code is fine, check if you run the right compilation package in eclipse","body":"Your code is fine, check if you run the right compilation package in eclipse"},{"owner":{"account_id":339133,"reputation":61,"user_id":668423,"display_name":"nitroflox"},"score":0,"creation_date":1614643715,"post_id":66431306,"comment_id":117442918,"body_markdown":"Sorry, I&#39;m rather new to eclipse. Could you point me in the right direction?","body":"Sorry, I&#39;m rather new to eclipse. Could you point me in the right direction?"},{"owner":{"account_id":20135765,"reputation":1239,"user_id":14766808,"display_name":"Dren"},"score":0,"creation_date":1614644168,"post_id":66431306,"comment_id":117443023,"body_markdown":"Run -&gt; Run Configurations ... -&gt; Select &quot;Java Appliction&quot; and click &quot;New&quot;.","body":"Run -&gt; Run Configurations ... -&gt; Select &quot;Java Appliction&quot; and click &quot;New&quot;."},{"owner":{"account_id":339133,"reputation":61,"user_id":668423,"display_name":"nitroflox"},"score":1,"creation_date":1614644170,"post_id":66431306,"comment_id":117443024,"body_markdown":"Never mind, it just doesn&#39;t let me run it from the default package. Had to create a separate animals package for it to work.\n\nThanks","body":"Never mind, it just doesn&#39;t let me run it from the default package. Had to create a separate animals package for it to work.  Thanks"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1614644262,"post_id":66431306,"comment_id":117443046,"body_markdown":"Show us the full error message.","body":"Show us the full error message."},{"owner":{"account_id":339133,"reputation":61,"user_id":668423,"display_name":"nitroflox"},"score":0,"creation_date":1614644346,"post_id":66431306,"comment_id":117443063,"body_markdown":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n\n\tat MammalInt.main(MammalInt.java:17)","body":"Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:   \tat MammalInt.main(MammalInt.java:17)"},{"owner":{"account_id":339133,"reputation":61,"user_id":668423,"display_name":"nitroflox"},"score":0,"creation_date":1614644804,"post_id":66431306,"comment_id":117443173,"body_markdown":"```main() is throwing\tError  (id=20)\t\n\tbacktrace\tObject[6]  (id=23)\t\n\tcause\tError  (id=20)\t\n\tdepth\t1\t\n\tdetailMessage\t&quot;Unresolved compilation problem: \\n&quot; (id=25)\t\n\tstackTrace\tStackTraceElement[0]  (id=31)\t\n\tsuppressedExceptions\tCollections$EmptyList&lt;E&gt;  (id=32)\n```","body":"<code>main() is throwing\tError  (id=20)\t \tbacktrace\tObject[6]  (id=23)\t \tcause\tError  (id=20)\t \tdepth\t1\t \tdetailMessage\t&quot;Unresolved compilation problem: \\n&quot; (id=25)\t \tstackTrace\tStackTraceElement[0]  (id=31)\t \tsuppressedExceptions\tCollections$EmptyList&lt;E&gt;  (id=32) </code>"}],"answers":[{"comments":[{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":1,"creation_date":1695382286,"post_id":77143849,"comment_id":136020420,"body_markdown":"People usually omit the package and import statement when sharing their code.","body":"People usually omit the package and import statement when sharing their code."}],"tags":[],"owner":{"account_id":29492614,"reputation":1,"user_id":22601368,"display_name":"Harshavardhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695223169,"creation_date":1695223069,"answer_id":77143849,"question_id":66431306,"body_markdown":"I too faced same problem when I tried to run my program in Eclipse.\r\nIt is nothing but you have to write &quot;package&quot; in your file. Check whether you&#39;ve written package otherwise write package details and it will run smoothly.","title":"Error while compiling java code in eclipse","body":"<p>I too faced same problem when I tried to run my program in Eclipse.\nIt is nothing but you have to write &quot;package&quot; in your file. Check whether you've written package otherwise write package details and it will run smoothly.</p>\n"}],"owner":{"account_id":339133,"reputation":61,"user_id":668423,"display_name":"nitroflox"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695223169,"creation_date":1614642298,"question_id":66431306,"body_markdown":"Is there a reason why when I try to compile the code with eclipse, it gives me an error with id=20 and when I compile it in DOS it works fine?\r\n\r\nI used the command line: javac -d . &#39;filename&#39; for both.\r\n\r\nHere&#39;s the code:\r\n```package animals;\r\n\r\npublic class MammalInt implements Animal {\r\n\t\r\n\tpublic void eat() {\r\n\t\tSystem.out.println(&quot;Mammal eats.&quot;);\r\n\t}\r\n\t\r\n\tpublic void travel() {\r\n\t\tSystem.out.println(&quot;Mammal travels&quot;);\r\n\t}\r\n\t\r\n\tpublic int noOfLegs() {\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMammalInt m = new MammalInt();\r\n\t\tm.eat();\r\n\t\tm.travel();\r\n\t}\r\n}\r\n```\r\nand Animal.java:\r\n```\r\npackage animals;\r\n\r\ninterface Animal {\r\n\tpublic void eat();\r\n\tpublic void travel();\r\n}\r\n```","title":"Error while compiling java code in eclipse","body":"<p>Is there a reason why when I try to compile the code with eclipse, it gives me an error with id=20 and when I compile it in DOS it works fine?</p>\n<p>I used the command line: javac -d . 'filename' for both.</p>\n<p>Here's the code:</p>\n<pre><code>\npublic class MammalInt implements Animal {\n    \n    public void eat() {\n        System.out.println(&quot;Mammal eats.&quot;);\n    }\n    \n    public void travel() {\n        System.out.println(&quot;Mammal travels&quot;);\n    }\n    \n    public int noOfLegs() {\n        return 0;\n    }\n\n    public static void main(String[] args) {\n        MammalInt m = new MammalInt();\n        m.eat();\n        m.travel();\n    }\n}\n</code></pre>\n<p>and Animal.java:</p>\n<pre><code>package animals;\n\ninterface Animal {\n    public void eat();\n    public void travel();\n}\n</code></pre>\n"},{"tags":["java","swift","windowbuilder"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1597252657,"post_id":63381381,"comment_id":112074925,"body_markdown":"Are you referring to this [WindowBuilder](https://www.eclipse.org/windowbuilder/)? If yes, then that is an _Eclipse_ plugin. You can &quot;open&quot; a file containing java source code in _WindowBuilder_. From what you posted in your question, it appears that _WindowBuilder_ cannot handle the file you are trying to open. Maybe you should [edit] your question and post the java source code in the file you are trying to open.","body":"Are you referring to this <a href=\"https://www.eclipse.org/windowbuilder/\" rel=\"nofollow noreferrer\">WindowBuilder</a>? If yes, then that is an <i>Eclipse</i> plugin. You can &quot;open&quot; a file containing java source code in <i>WindowBuilder</i>. From what you posted in your question, it appears that <i>WindowBuilder</i> cannot handle the file you are trying to open. Maybe you should <a href=\"https://stackoverflow.com/posts/63381381/edit\">edit</a> your question and post the java source code in the file you are trying to open."},{"owner":{"account_id":19283005,"reputation":59,"user_id":14094648,"display_name":"xtremethegamer"},"score":0,"creation_date":1597252815,"post_id":63381381,"comment_id":112074995,"body_markdown":"Done! Added the source code :)","body":"Done! Added the source code :)"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1597255068,"post_id":63381381,"comment_id":112075978,"body_markdown":"I downloaded [pircbot](http://www.jibble.org/pircbot.php) and I guessed the code for `MyBot`, since you didn&#39;t include it and your code wouldn&#39;t compile without it, and I managed to open your code in the &quot;design&quot; view of _WindowBuilder_. Did you try asking in the WindowBuilder [forum](https://www.eclipse.org/forums/index.php/f/214/)?","body":"I downloaded <a href=\"http://www.jibble.org/pircbot.php\" rel=\"nofollow noreferrer\">pircbot</a> and I guessed the code for <code>MyBot</code>, since you didn&#39;t include it and your code wouldn&#39;t compile without it, and I managed to open your code in the &quot;design&quot; view of <i>WindowBuilder</i>. Did you try asking in the WindowBuilder <a href=\"https://www.eclipse.org/forums/index.php/f/214/\" rel=\"nofollow noreferrer\">forum</a>?"},{"owner":{"account_id":19283005,"reputation":59,"user_id":14094648,"display_name":"xtremethegamer"},"score":0,"creation_date":1597255939,"post_id":63381381,"comment_id":112076347,"body_markdown":"MyBot&#39;s code is really long cause it handles in the onMessage method a bunch of commands, but pretty much it takes in the channel name and goes from there. It is a bit odd right now cause I was preparing a refactor to take into account the GUI but I can&#39;t build it :/ I even reinstalled Eclipse in a newer version, and reinstalled from the install software section of Eclipse the WindowBuilder, still no meaningful results","body":"MyBot&#39;s code is really long cause it handles in the onMessage method a bunch of commands, but pretty much it takes in the channel name and goes from there. It is a bit odd right now cause I was preparing a refactor to take into account the GUI but I can&#39;t build it :/ I even reinstalled Eclipse in a newer version, and reinstalled from the install software section of Eclipse the WindowBuilder, still no meaningful results"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1597256335,"post_id":63381381,"comment_id":112076510,"body_markdown":"You don&#39;t need to post all the code of `MyBot` class, just a [mcve].","body":"You don&#39;t need to post all the code of <code>MyBot</code> class, just a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":19283005,"reputation":59,"user_id":14094648,"display_name":"xtremethegamer"},"score":0,"creation_date":1597256473,"post_id":63381381,"comment_id":112076566,"body_markdown":"I think I found the solution. Apparently, the issue lies in the fact I didn&#39;t have SWT Design installed. I did so now and it looks like it works. I&#39;ll try a few things now to test it ^^","body":"I think I found the solution. Apparently, the issue lies in the fact I didn&#39;t have SWT Design installed. I did so now and it looks like it works. I&#39;ll try a few things now to test it ^^"}],"answers":[{"tags":[],"owner":{"account_id":1535286,"reputation":553,"user_id":1431510,"display_name":"Yaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601414198,"creation_date":1601414198,"answer_id":64127762,"question_id":63381381,"body_markdown":"You extend the SWT Composite which requires the SWT features of WindowBuilder. Maybe you only installed the Swing support features.\r\n\r\nThe best advice is to install WindowBuilder from the Eclipse Marketplace using the Help menu. Then accept all the proposed selections. Do not install XWT support.\r\n\r\nAfter restart, the GUI Toolkit should be recognized by the designer.","title":"WindowBuilder in Eclipse doesn&#39;t work even after importing libraries and installing all components","body":"<p>You extend the SWT Composite which requires the SWT features of WindowBuilder. Maybe you only installed the Swing support features.</p>\n<p>The best advice is to install WindowBuilder from the Eclipse Marketplace using the Help menu. Then accept all the proposed selections. Do not install XWT support.</p>\n<p>After restart, the GUI Toolkit should be recognized by the designer.</p>\n"},{"tags":[],"owner":{"account_id":26460461,"reputation":1,"user_id":20102719,"display_name":"Elishang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666662567,"creation_date":1666662567,"answer_id":74188374,"question_id":63381381,"body_markdown":"Quite late in responding but posting for anyone else who is searching for this solution still, as I see it many others have searched for the answer on other platforms including here.\r\n\r\nI had this issue where it would say &quot; Known GUI toolkit &quot; under the Design tab, also had several errors under the problems tab that mostly read &quot; jframe cannot be resolved to a type &quot; \r\n\r\nI was able to resolve this by removing module-info.java. I forgot where I read that it wasn&#39;t included in the product trying to be used, but it suggested entering something else. When that didn&#39;t work, I simply removed it, as the version I have is much more recent.\r\n\r\nIt was resolved instantly. ","title":"WindowBuilder in Eclipse doesn&#39;t work even after importing libraries and installing all components","body":"<p>Quite late in responding but posting for anyone else who is searching for this solution still, as I see it many others have searched for the answer on other platforms including here.</p>\n<p>I had this issue where it would say &quot; Known GUI toolkit &quot; under the Design tab, also had several errors under the problems tab that mostly read &quot; jframe cannot be resolved to a type &quot;</p>\n<p>I was able to resolve this by removing module-info.java. I forgot where I read that it wasn't included in the product trying to be used, but it suggested entering something else. When that didn't work, I simply removed it, as the version I have is much more recent.</p>\n<p>It was resolved instantly.</p>\n"},{"tags":[],"owner":{"account_id":8388148,"reputation":61,"user_id":6297816,"display_name":"loveofthecode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695223040,"creation_date":1695223040,"answer_id":77143845,"question_id":63381381,"body_markdown":"Note that one one to insure the WindowBuilder will recognize your newly\r\ncreated class is to derive it from an existing GUI Component such as\r\njavax.swing.JFrame, or javax.swing.JDialog;\r\n\r\nRegarding the inclusion/exclusion of module-info from an Eclipse project,\r\nhere is a good tutorial of what the module-info class does:\r\n[https://dev.java/learn/modules/intro/][1]\r\n\r\nIn brief, module-info is a declarative means to expose packages for\r\nyour project.  The tutorial will indicate that &quot;requires&quot; is used to\r\ndeclare that certain packages included in your project as libraries\r\nwill be visible for the classes you create in your project.\r\nThe tutorial will indicate as well the usage of &quot;uses&quot; and &quot;exposes&quot;.\r\n\r\n&quot;Exposes&quot; is the declarative means to make your classes visible \r\nwithin your project .\r\n\r\nNote that default packages under java.base module are by default\r\nalready accessible to your classes so created, and thus the default\r\npackage does not need to be listed using &quot;requires&quot;.\r\n","title":"WindowBuilder in Eclipse doesn&#39;t work even after importing libraries and installing all components","body":"<p>Note that one one to insure the WindowBuilder will recognize your newly\ncreated class is to derive it from an existing GUI Component such as\njavax.swing.JFrame, or javax.swing.JDialog;</p>\n<p>Regarding the inclusion/exclusion of module-info from an Eclipse project,\nhere is a good tutorial of what the module-info class does:\n[https://dev.java/learn/modules/intro/][1]</p>\n<p>In brief, module-info is a declarative means to expose packages for\nyour project.  The tutorial will indicate that &quot;requires&quot; is used to\ndeclare that certain packages included in your project as libraries\nwill be visible for the classes you create in your project.\nThe tutorial will indicate as well the usage of &quot;uses&quot; and &quot;exposes&quot;.</p>\n<p>&quot;Exposes&quot; is the declarative means to make your classes visible\nwithin your project .</p>\n<p>Note that default packages under java.base module are by default\nalready accessible to your classes so created, and thus the default\npackage does not need to be listed using &quot;requires&quot;.</p>\n"}],"owner":{"account_id":19283005,"reputation":59,"user_id":14094648,"display_name":"xtremethegamer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695223040,"creation_date":1597251583,"question_id":63381381,"body_markdown":"In my studies I have been just instructed about Swing and the Java GUI managment only very briefly, so I decided to take the matter into my own hands and trying to figure out how to build a good looking GUI using Java.\r\n\r\nIn doing so I came across WindowBuilder, and decided to add it to a project I had already built and currently works through User Input from the console (a Twitch Bot that makes use of the pIRCbot library). However, even after importing WindowBuilder into my project, extending Composite and doing what is shown in the first part of the official tutorial, I receive an error stating:\r\n\r\n&gt; Unknown GUI toolkit\r\nThe parser parsed the compilation unit, but can&#39;t identify any GUI toolkit, so WindowBuilder can&#39;t display any GUI to edit. This can be caused by one of the following reasons:\r\n\r\n&gt;This class is not an editable UI class and contains no UI components.\r\nWindowBuilder does not recognize the GUI toolkit or library used in this class.\r\nWindowBuilder does not understand this GUI type/pattern in a supported GUI toolkit.\r\nProblems exist with the classpath. For example, the compilation unit uses SWT classes, but the SWT/JFace libraries are not included into the classpath.\r\n\r\nThis is the stack trace:\r\n\r\n    org.eclipse.wb.internal.core.utils.exception.DesignerException: 103 (Unknown GUI toolkit). twitchChatBot.MyBotMain\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser.prepareParseContext(JavaInfoParser.java:1195)\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser.parse(JavaInfoParser.java:242)\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser.access$9(JavaInfoParser.java:238)\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser$1.runObject(JavaInfoParser.java:153)\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser$1.runObject(JavaInfoParser.java:1)\r\n\tat org.eclipse.wb.internal.core.utils.execution.ExecutionUtils.runDesignTime(ExecutionUtils.java:159)\r\n\tat org.eclipse.wb.internal.core.parser.JavaInfoParser.parse(JavaInfoParser.java:151)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF(DesignPage.java:534)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.access$9(DesignPage.java:522)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage$8$1.run(DesignPage.java:449)\r\n\tat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:236)\r\n\tat org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:146)\r\n\tat org.eclipse.swt.widgets.Display.syncExec(Display.java:5786)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage$8.run(DesignPage.java:446)\r\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:436)\r\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:352)\r\n\tat org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:469)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF_withProgress(DesignPage.java:465)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF(DesignPage.java:415)\r\n\tat org.eclipse.wb.internal.core.editor.UndoManager.refreshDesignerEditor(UndoManager.java:381)\r\n\tat org.eclipse.wb.internal.core.editor.UndoManager.activate(UndoManager.java:90)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.handleActiveState_True(DesignPage.java:263)\r\n\tat org.eclipse.wb.internal.core.editor.DesignPage.handleActiveState(DesignPage.java:241)\r\n\tat org.eclipse.wb.internal.core.editor.multi.DefaultMultiMode.showPage(DefaultMultiMode.java:125)\r\n\tat org.eclipse.wb.internal.core.editor.multi.DefaultMultiMode$1.widgetSelected(DefaultMultiMode.java:63)\r\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:5676)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1423)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1449)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1432)\r\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1221)\r\n\tat org.eclipse.swt.custom.CTabFolder.setSelection(CTabFolder.java:3193)\r\n\tat org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:1876)\r\n\tat org.eclipse.swt.custom.CTabFolder.lambda$0(CTabFolder.java:330)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:5676)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1423)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4935)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4429)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1160)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1049)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:660)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:559)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:154)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:150)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:137)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:107)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:657)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:594)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1465)\r\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1438)\r\n\r\nThis is the code of the class I&#39;m trying to open in WindowBuilder:\r\n\r\n        package twitchChatBot;\r\n    import java.io.IOException;\r\n    import org.eclipse.swt.widgets.Composite;\r\n    import org.jibble.pircbot.*;\r\n    \r\n    public class MyBotMain extends Composite {\r\n    \t\r\n    \tprivate String channel;\r\n    \t\r\n    \tpublic MyBotMain(Composite parent, int style) {\r\n    \t\tsuper(parent, style);\r\n    \t\t}\r\n    \t\r\n        public static void main(String[] args) {\r\n        \tdecideChannel();\r\n        \t}\r\n        \r\n        public static void decideChannel() {\r\n        \tconnectToChannel(&quot;&quot;);\r\n        }\r\n        \r\n        public static void connectToChannel(String channel) {\r\n       \t \tMyBot bot = new MyBot(channel);\r\n        \ttry {\r\n        \t\tbot.connect(&quot;irc.twitch.tv.&quot;, 6667, &quot;oauth:***&quot;);\r\n        \t}\r\n        \tcatch(NickAlreadyInUseException e) {\r\n        \t\tSystem.out.println(&quot;Username already in use!&quot;);\r\n        \t}\r\n        \tcatch(IrcException e) {\r\n        \t\tSystem.out.println(&quot;General error!&quot;);\r\n        \t}\r\n        \tcatch(IOException e) {\r\n        \t\tSystem.out.println(&quot;IO error!&quot;);\r\n        \t}\r\n       }\r\n        @SuppressWarnings(&quot;unused&quot;)\r\n    \tprivate void setChannel(String channel) {this.channel = channel;}\r\n        @SuppressWarnings(&quot;unused&quot;)\r\n    \tprivate String getChannel() {return this.channel;}\r\n        \r\n        @Override\r\n        protected void checkSubclass() {\r\n        \t\r\n        }\r\n        \r\n    }\r\n\r\n\r\nI tried  most of the fixes I could find but none seem to help me out. Anyone who knows what&#39;s going on?\r\n\r\nThanks in advance! :)\r\n\r\nEDIT 1: Added the source code as asked :)","title":"WindowBuilder in Eclipse doesn&#39;t work even after importing libraries and installing all components","body":"<p>In my studies I have been just instructed about Swing and the Java GUI managment only very briefly, so I decided to take the matter into my own hands and trying to figure out how to build a good looking GUI using Java.</p>\n<p>In doing so I came across WindowBuilder, and decided to add it to a project I had already built and currently works through User Input from the console (a Twitch Bot that makes use of the pIRCbot library). However, even after importing WindowBuilder into my project, extending Composite and doing what is shown in the first part of the official tutorial, I receive an error stating:</p>\n<blockquote>\n<p>Unknown GUI toolkit\nThe parser parsed the compilation unit, but can't identify any GUI toolkit, so WindowBuilder can't display any GUI to edit. This can be caused by one of the following reasons:</p>\n</blockquote>\n<blockquote>\n<p>This class is not an editable UI class and contains no UI components.\nWindowBuilder does not recognize the GUI toolkit or library used in this class.\nWindowBuilder does not understand this GUI type/pattern in a supported GUI toolkit.\nProblems exist with the classpath. For example, the compilation unit uses SWT classes, but the SWT/JFace libraries are not included into the classpath.</p>\n</blockquote>\n<p>This is the stack trace:</p>\n<pre><code>org.eclipse.wb.internal.core.utils.exception.DesignerException: 103 (Unknown GUI toolkit). twitchChatBot.MyBotMain\nat org.eclipse.wb.internal.core.parser.JavaInfoParser.prepareParseContext(JavaInfoParser.java:1195)\nat org.eclipse.wb.internal.core.parser.JavaInfoParser.parse(JavaInfoParser.java:242)\nat org.eclipse.wb.internal.core.parser.JavaInfoParser.access$9(JavaInfoParser.java:238)\nat org.eclipse.wb.internal.core.parser.JavaInfoParser$1.runObject(JavaInfoParser.java:153)\nat org.eclipse.wb.internal.core.parser.JavaInfoParser$1.runObject(JavaInfoParser.java:1)\nat org.eclipse.wb.internal.core.utils.execution.ExecutionUtils.runDesignTime(ExecutionUtils.java:159)\nat org.eclipse.wb.internal.core.parser.JavaInfoParser.parse(JavaInfoParser.java:151)\nat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF(DesignPage.java:534)\nat org.eclipse.wb.internal.core.editor.DesignPage.access$9(DesignPage.java:522)\nat org.eclipse.wb.internal.core.editor.DesignPage$8$1.run(DesignPage.java:449)\nat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:236)\nat org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:146)\nat org.eclipse.swt.widgets.Display.syncExec(Display.java:5786)\nat org.eclipse.wb.internal.core.editor.DesignPage$8.run(DesignPage.java:446)\nat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:436)\nat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:352)\nat org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:469)\nat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF_withProgress(DesignPage.java:465)\nat org.eclipse.wb.internal.core.editor.DesignPage.internal_refreshGEF(DesignPage.java:415)\nat org.eclipse.wb.internal.core.editor.UndoManager.refreshDesignerEditor(UndoManager.java:381)\nat org.eclipse.wb.internal.core.editor.UndoManager.activate(UndoManager.java:90)\nat org.eclipse.wb.internal.core.editor.DesignPage.handleActiveState_True(DesignPage.java:263)\nat org.eclipse.wb.internal.core.editor.DesignPage.handleActiveState(DesignPage.java:241)\nat org.eclipse.wb.internal.core.editor.multi.DefaultMultiMode.showPage(DefaultMultiMode.java:125)\nat org.eclipse.wb.internal.core.editor.multi.DefaultMultiMode$1.widgetSelected(DefaultMultiMode.java:63)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\nat org.eclipse.swt.widgets.Display.sendEvent(Display.java:5676)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1423)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1449)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1432)\nat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1221)\nat org.eclipse.swt.custom.CTabFolder.setSelection(CTabFolder.java:3193)\nat org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:1876)\nat org.eclipse.swt.custom.CTabFolder.lambda$0(CTabFolder.java:330)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\nat org.eclipse.swt.widgets.Display.sendEvent(Display.java:5676)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1423)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4935)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4429)\nat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1160)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\nat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1049)\nat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\nat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:660)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:559)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:154)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:150)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:137)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:107)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:657)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:594)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1465)\nat org.eclipse.equinox.launcher.Main.main(Main.java:1438)\n</code></pre>\n<p>This is the code of the class I'm trying to open in WindowBuilder:</p>\n<pre><code>    package twitchChatBot;\nimport java.io.IOException;\nimport org.eclipse.swt.widgets.Composite;\nimport org.jibble.pircbot.*;\n\npublic class MyBotMain extends Composite {\n    \n    private String channel;\n    \n    public MyBotMain(Composite parent, int style) {\n        super(parent, style);\n        }\n    \n    public static void main(String[] args) {\n        decideChannel();\n        }\n    \n    public static void decideChannel() {\n        connectToChannel(&quot;&quot;);\n    }\n    \n    public static void connectToChannel(String channel) {\n        MyBot bot = new MyBot(channel);\n        try {\n            bot.connect(&quot;irc.twitch.tv.&quot;, 6667, &quot;oauth:***&quot;);\n        }\n        catch(NickAlreadyInUseException e) {\n            System.out.println(&quot;Username already in use!&quot;);\n        }\n        catch(IrcException e) {\n            System.out.println(&quot;General error!&quot;);\n        }\n        catch(IOException e) {\n            System.out.println(&quot;IO error!&quot;);\n        }\n   }\n    @SuppressWarnings(&quot;unused&quot;)\n    private void setChannel(String channel) {this.channel = channel;}\n    @SuppressWarnings(&quot;unused&quot;)\n    private String getChannel() {return this.channel;}\n    \n    @Override\n    protected void checkSubclass() {\n        \n    }\n    \n}\n</code></pre>\n<p>I tried  most of the fixes I could find but none seem to help me out. Anyone who knows what's going on?</p>\n<p>Thanks in advance! :)</p>\n<p>EDIT 1: Added the source code as asked :)</p>\n"},{"tags":["java","spring-boot","spring-security","bcrypt"],"answers":[{"comments":[{"owner":{"account_id":9610566,"reputation":33,"user_id":7135056,"display_name":"stan3098"},"score":0,"creation_date":1695329304,"post_id":77143797,"comment_id":136013718,"body_markdown":"Thanks. This worked. Although I still have to figure out how to handle csrf issue during testing of POST apis but I tested this with GET api and totally worked. What I fail to understand is why is this required when I am using the default authentication with default username and password?","body":"Thanks. This worked. Although I still have to figure out how to handle csrf issue during testing of POST apis but I tested this with GET api and totally worked. What I fail to understand is why is this required when I am using the default authentication with default username and password?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695358295,"post_id":77143797,"comment_id":136016361,"body_markdown":"Have you tried to disable it yet ? Something like this `http.csrf(c -&gt; c.disable());`","body":"Have you tried to disable it yet ? Something like this <code>http.csrf(c -&gt; c.disable());</code>"},{"owner":{"account_id":9610566,"reputation":33,"user_id":7135056,"display_name":"stan3098"},"score":0,"creation_date":1695366092,"post_id":77143797,"comment_id":136017259,"body_markdown":"Yeah I have disabled it with `http.csrf(AbstractHttpConfigurer::disable);`.","body":"Yeah I have disabled it with <code>http.csrf(AbstractHttpConfigurer::disable);</code>."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695367419,"post_id":77143797,"comment_id":136017535,"body_markdown":"Have it solved the problem yet ?","body":"Have it solved the problem yet ?"},{"owner":{"account_id":9610566,"reputation":33,"user_id":7135056,"display_name":"stan3098"},"score":0,"creation_date":1695383856,"post_id":77143797,"comment_id":136020743,"body_markdown":"Yeah, that worked!","body":"Yeah, that worked!"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695222767,"creation_date":1695222767,"answer_id":77143797,"question_id":77143481,"body_markdown":"To test that if all work well with default implementation I recommend you to provide a `UserDetailsService` bean something like this:\r\nIt is a default one as example according to [documentation][1]\r\n\r\n      @Bean\r\n      public InMemoryUserDetailsManager users() {\r\n        return new InMemoryUserDetailsManager(\r\n            User.withUsername(&quot;myname&quot;)\r\n                .password(passwordEncoder().encode(&quot;password&quot;))\r\n                .authorities(&quot;read&quot;)\r\n                .build()\r\n        );\r\n      }\r\n    \r\n      @Bean\r\n      public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n      }\r\n\r\nSome details about `filterChain` also you should have something like this:\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authz) -&gt; authz\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .httpBasic(withDefaults());\r\n                .formLogin(Customizer.withDefaults())\r\n        return http.build();\r\n\r\n}\r\n\r\nNOW you can to try to login with `myname` as login and `password` as password. Something like this.\r\n\r\n\r\nBut in controller layer you also have a `registration` here i think you should analyze/read/try with documentation this one implementation. Here I just can add some good references aka **HOW TO**\r\n\r\n[JDBC Authentication][2]\r\n\r\n[Storage Mechanisms][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/in-memory.html\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/authentication/index.html\r\n  [3]: https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/storage.html","title":"API calls failing during Spring security default authentication","body":"<p>To test that if all work well with default implementation I recommend you to provide a <code>UserDetailsService</code> bean something like this:\nIt is a default one as example according to <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/in-memory.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n<pre><code>  @Bean\n  public InMemoryUserDetailsManager users() {\n    return new InMemoryUserDetailsManager(\n        User.withUsername(&quot;myname&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .authorities(&quot;read&quot;)\n            .build()\n    );\n  }\n\n  @Bean\n  public PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n  }\n</code></pre>\n<p>Some details about <code>filterChain</code> also you should have something like this:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http\n            .authorizeHttpRequests((authz) -&gt; authz\n                    .anyRequest().authenticated()\n            )\n            .httpBasic(withDefaults());\n            .formLogin(Customizer.withDefaults())\n    return http.build();\n</code></pre>\n<p>}</p>\n<p>NOW you can to try to login with <code>myname</code> as login and <code>password</code> as password. Something like this.</p>\n<p>But in controller layer you also have a <code>registration</code> here i think you should analyze/read/try with documentation this one implementation. Here I just can add some good references aka <strong>HOW TO</strong></p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/index.html\" rel=\"nofollow noreferrer\">JDBC Authentication</a></p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/storage.html\" rel=\"nofollow noreferrer\">Storage Mechanisms</a></p>\n"}],"owner":{"account_id":9610566,"reputation":33,"user_id":7135056,"display_name":"stan3098"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77143797,"answer_count":1,"score":0,"last_activity_date":1695222767,"creation_date":1695220268,"question_id":77143481,"body_markdown":"I am trying to incorporate password hashing using Bcrypt which required me to add spring security to my project. The issue that I am facing is that whenever I try to call any of my APIs I get the authentication like this:\r\n[![authentication screen](https://i.stack.imgur.com/urYMH.png)](https://i.stack.imgur.com/urYMH.png)\r\nand even when I enter correct username and password it fails with the logs:\r\n\r\n```\r\n2023-09-20T18:50:37.045+05:30 DEBUG 18632 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login\r\n2023-09-20T18:50:37.139+05:30  WARN 18632 --- [nio-8080-exec-4] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt\r\n2023-09-20T18:50:37.139+05:30 DEBUG 18632 --- [nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value\r\n2023-09-20T18:50:37.144+05:30 DEBUG 18632 --- [nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Failed to process authentication request\r\n\r\norg.springframework.security.authentication.BadCredentialsException: Bad credentials\r\n\tat org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:89) ~[spring-security-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:147) ~[spring-security-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:174) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n2023-09-20T18:50:37.158+05:30 DEBUG 18632 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\r\n2023-09-20T18:50:37.159+05:30 DEBUG 18632 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@30505025\r\n2023-09-20T18:50:37.171+05:30 DEBUG 18632 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n2023-09-20T18:50:37.174+05:30 DEBUG 18632 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-09-20T18:50:37.243+05:30 DEBUG 18632 --- [nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session\r\n2023-09-20T18:50:37.244+05:30 DEBUG 18632 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\r\n2023-09-20T18:50:37.244+05:30 DEBUG 18632 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@30505025\r\n```\r\n\r\nMy security config file is as follows:\r\n\r\n```\r\nimport org.springframework.boot.autoconfigure.security.reactive.PathRequest;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\nimport static org.springframework.security.config.Customizer.withDefaults;\r\n\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authz) -&gt; authz\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .httpBasic(withDefaults());\r\n        return http.build();\r\n    }\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.ignoring().requestMatchers(String.valueOf(PathRequest.toStaticResources().atCommonLocations()));\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\nand controller is as follows:\r\n\r\n```\r\nimport com.neighborly.origin.entity.UserRegister;\r\nimport com.neighborly.origin.model.UserLogin;\r\nimport com.neighborly.origin.model.UserRegistrationRequest;\r\nimport com.neighborly.origin.repository.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@RestController\r\npublic class UserController {\r\n    private final UserRepository userRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n    @Autowired\r\n    public UserController(UserRepository userRepository, PasswordEncoder passwordEncoder) {\r\n        this.userRepository = userRepository;\r\n        this.passwordEncoder = passwordEncoder;\r\n    }\r\n    @RequestMapping(&quot;/register&quot;)\r\n    public ResponseEntity registerUser(@RequestBody UserRegistrationRequest request) {\r\n        String username = request.getUsername();\r\n        String password = request.getPassword();\r\n        String email = request.getEmail();\r\n        String id = request.getId();\r\n\r\n        String hashedPassword = passwordEncoder.encode(password);\r\n\r\n        // TODO: Save the user to the database or perform other necessary operations\r\n        UserRegister userRegister = new UserRegister();\r\n        userRegister.setId(id);\r\n        userRegister.setUsername(username);\r\n        userRegister.setPassword(password);\r\n        userRegister.setEmail(email);\r\n        try {\r\n            userRepository.save(userRegister);\r\n        }\r\n        catch (Exception e){\r\n            return new ResponseEntity&lt;&gt;(e.toString(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(String.format(&quot;%s user registered successfully&quot;, username), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have tried with default username and password too but no difference. I am using Java 17 and spring 3.1.1\r\n","title":"API calls failing during Spring security default authentication","body":"<p>I am trying to incorporate password hashing using Bcrypt which required me to add spring security to my project. The issue that I am facing is that whenever I try to call any of my APIs I get the authentication like this:\n<a href=\"https://i.stack.imgur.com/urYMH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/urYMH.png\" alt=\"authentication screen\" /></a>\nand even when I enter correct username and password it fails with the logs:</p>\n<pre><code>2023-09-20T18:50:37.045+05:30 DEBUG 18632 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login\n2023-09-20T18:50:37.139+05:30  WARN 18632 --- [nio-8080-exec-4] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt\n2023-09-20T18:50:37.139+05:30 DEBUG 18632 --- [nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value\n2023-09-20T18:50:37.144+05:30 DEBUG 18632 --- [nio-8080-exec-4] o.s.s.w.a.www.BasicAuthenticationFilter  : Failed to process authentication request\n\norg.springframework.security.authentication.BadCredentialsException: Bad credentials\n    at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:89) ~[spring-security-core-6.1.1.jar:6.1.1]\n    at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:147) ~[spring-security-core-6.1.1.jar:6.1.1]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.1.1.jar:6.1.1]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:174) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.10.jar:6.0.10]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n2023-09-20T18:50:37.158+05:30 DEBUG 18632 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\n2023-09-20T18:50:37.159+05:30 DEBUG 18632 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@30505025\n2023-09-20T18:50:37.171+05:30 DEBUG 18632 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error\n2023-09-20T18:50:37.174+05:30 DEBUG 18632 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-09-20T18:50:37.243+05:30 DEBUG 18632 --- [nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/error?continue to session\n2023-09-20T18:50:37.244+05:30 DEBUG 18632 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\n2023-09-20T18:50:37.244+05:30 DEBUG 18632 --- [nio-8080-exec-4] s.w.a.DelegatingAuthenticationEntryPoint : No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@30505025\n</code></pre>\n<p>My security config file is as follows:</p>\n<pre><code>import org.springframework.boot.autoconfigure.security.reactive.PathRequest;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\nimport static org.springframework.security.config.Customizer.withDefaults;\n\n@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authz) -&gt; authz\n                        .anyRequest().authenticated()\n                )\n                .httpBasic(withDefaults());\n        return http.build();\n    }\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().requestMatchers(String.valueOf(PathRequest.toStaticResources().atCommonLocations()));\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>and controller is as follows:</p>\n<pre><code>import com.neighborly.origin.entity.UserRegister;\nimport com.neighborly.origin.model.UserLogin;\nimport com.neighborly.origin.model.UserRegistrationRequest;\nimport com.neighborly.origin.repository.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\npublic class UserController {\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n    @Autowired\n    public UserController(UserRepository userRepository, PasswordEncoder passwordEncoder) {\n        this.userRepository = userRepository;\n        this.passwordEncoder = passwordEncoder;\n    }\n    @RequestMapping(&quot;/register&quot;)\n    public ResponseEntity registerUser(@RequestBody UserRegistrationRequest request) {\n        String username = request.getUsername();\n        String password = request.getPassword();\n        String email = request.getEmail();\n        String id = request.getId();\n\n        String hashedPassword = passwordEncoder.encode(password);\n\n        // TODO: Save the user to the database or perform other necessary operations\n        UserRegister userRegister = new UserRegister();\n        userRegister.setId(id);\n        userRegister.setUsername(username);\n        userRegister.setPassword(password);\n        userRegister.setEmail(email);\n        try {\n            userRepository.save(userRegister);\n        }\n        catch (Exception e){\n            return new ResponseEntity&lt;&gt;(e.toString(), HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n        return new ResponseEntity&lt;&gt;(String.format(&quot;%s user registered successfully&quot;, username), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>I have tried with default username and password too but no difference. I am using Java 17 and spring 3.1.1</p>\n"},{"tags":["java","hibernate","jpa","pagination","criteria"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1695233264,"post_id":77143532,"comment_id":135998486,"body_markdown":"Turn on SQL logging and you&#39;ll be able to answer all your own questions. Performance differences we can offer are going to be meaningless opinions to you and your app as it will depend on a large number of variables that are specific to your application, data and database. The only way to determine what the performance differences would be with various options is to test with real world data in a real world system and compare.","body":"Turn on SQL logging and you&#39;ll be able to answer all your own questions. Performance differences we can offer are going to be meaningless opinions to you and your app as it will depend on a large number of variables that are specific to your application, data and database. The only way to determine what the performance differences would be with various options is to test with real world data in a real world system and compare."},{"owner":{"account_id":4231062,"reputation":63,"user_id":12329490,"display_name":"Adam"},"score":0,"creation_date":1695297371,"post_id":77143532,"comment_id":136007328,"body_markdown":"@Chris I disagree that all my questions can be answered by turning on SQL logging. Hibernate documentation doesn&#39;t provide much insight on this and I want to learn the best practices from people who have experience with this.","body":"@Chris I disagree that all my questions can be answered by turning on SQL logging. Hibernate documentation doesn&#39;t provide much insight on this and I want to learn the best practices from people who have experience with this."}],"owner":{"account_id":4231062,"reputation":63,"user_id":12329490,"display_name":"Adam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695222616,"creation_date":1695220653,"question_id":77143532,"body_markdown":"I have two entities: Page and Comment\r\n\r\n    public class Page{\r\n        private int     id;\r\n    \tprivate List&lt;Comment&gt; comments = new ArrayList&lt;&gt;();\r\n    \r\n        @OneToMany(mappedBy = &quot;page&quot;)\r\n    \tpublic List&lt;Comment&gt; getComments() { return comments }\r\n    }\r\n    \r\n    public class Comment {\r\n        private int     id;\r\n        private String  msgText;\r\n    \tprivate Page page;\r\n    \r\n        @ManyToOne\r\n    \t@JoinColumn(name=&quot;page_id&quot;)\r\n        public Page getPage() { return page }\r\n    }\r\n\r\nPage maintains a collection of comments. Every time I fetch a page, I want to have all the comments loaded together with it, so I need to use **FetchType.EAGER**.\r\nBy default, this uses FetchMode.JOIN\r\n\r\nThe problem is that JOIN messes up the pagination - when I set the limit to 5, I get the first post as well as 4 comments (or 5 comments, I forget). Instead, I should get the first 5 posts as well as all of their comments.\r\n\r\nSo instead I decided to use **FetchMode.SELECT**.\r\n\r\n\r\n**My questions**:\r\n 1. What is the difference in performance between FetchMode.SELECT together with FetchType.EAGER, and FetchMode.JOIN?\r\n 2. I know that FetchType.LAZY can lead to the N+1 queries problem. Does this problem occur when using FetchMode.SELECT with FetchType.EAGER? (ie - when I load a collection of pages, how many queries will it\r\n    take to immediately load all their associated comments?)\r\n 4. Does it have any effect to specify Batch Size when using FetchMode.SELECT with FetchType.EAGER?","title":"Performance of FetchMode.SELECT with FetchType.EAGER in Hibernate","body":"<p>I have two entities: Page and Comment</p>\n<pre><code>public class Page{\n    private int     id;\n    private List&lt;Comment&gt; comments = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;page&quot;)\n    public List&lt;Comment&gt; getComments() { return comments }\n}\n\npublic class Comment {\n    private int     id;\n    private String  msgText;\n    private Page page;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;page_id&quot;)\n    public Page getPage() { return page }\n}\n</code></pre>\n<p>Page maintains a collection of comments. Every time I fetch a page, I want to have all the comments loaded together with it, so I need to use <strong>FetchType.EAGER</strong>.\nBy default, this uses FetchMode.JOIN</p>\n<p>The problem is that JOIN messes up the pagination - when I set the limit to 5, I get the first post as well as 4 comments (or 5 comments, I forget). Instead, I should get the first 5 posts as well as all of their comments.</p>\n<p>So instead I decided to use <strong>FetchMode.SELECT</strong>.</p>\n<p><strong>My questions</strong>:</p>\n<ol>\n<li>What is the difference in performance between FetchMode.SELECT together with FetchType.EAGER, and FetchMode.JOIN?</li>\n<li>I know that FetchType.LAZY can lead to the N+1 queries problem. Does this problem occur when using FetchMode.SELECT with FetchType.EAGER? (ie - when I load a collection of pages, how many queries will it\ntake to immediately load all their associated comments?)</li>\n<li>Does it have any effect to specify Batch Size when using FetchMode.SELECT with FetchType.EAGER?</li>\n</ol>\n"},{"tags":["java","jwt"],"owner":{"account_id":28858201,"reputation":1,"user_id":22102557,"display_name":"Slowers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695222165,"creation_date":1694787933,"question_id":77113183,"body_markdown":"I have a problem and I don&#39;t know what to do, the problem is probably with the configuration, but this is my first spring project.\r\nI have a login method that generates a token, but when I want to perform some task as a logged-in user, there is an authorization problem.\r\n\r\nPostman: ```The request was a legal request, but the server is refusing to respond to it. Unlike a 401 Unauthorized response, authenticating will make no difference.```\r\n\r\nLogs:\r\n```\r\n2023-09-13T14:25:54.951+02:00 DEBUG 27392 --- [nio-8085-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /customer/login\r\n2023-09-13T14:25:54.980+02:00 DEBUG 27392 --- [nio-8085-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /customer/login\r\n2023-09-13T14:25:55.417+02:00 DEBUG 27392 --- [nio-8085-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-09-13T14:26:25.703+02:00 DEBUG 27392 --- [nio-8085-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /customer/loggedCustomer\r\n2023-09-13T14:26:25.715+02:00 DEBUG 27392 --- [nio-8085-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-09-13T14:26:25.717+02:00 DEBUG 27392 --- [nio-8085-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n2023-09-13T14:26:25.724+02:00 DEBUG 27392 --- [nio-8085-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /error\r\n2023-09-13T14:26:25.727+02:00 DEBUG 27392 --- [nio-8085-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n2023-09-13T14:26:25.728+02:00 DEBUG 27392 --- [nio-8085-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n```\r\nCode:\r\nLogin function and generate token:\r\n\r\n    @PermitAll\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;String&gt; loginCustomer(@RequestBody CustomerLogin customerLogin) {\r\n        CustomerLogin storedCustomerLogin = customerLoginService.findPasswordByEmail(customerLogin.getEmail());\r\n        if (storedCustomerLogin != null) {\r\n\r\n            String hashedPasswordFromDatabase = storedCustomerLogin.getPassword();\r\n            BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n            if (passwordEncoder.matches(customerLogin.getPassword(), hashedPasswordFromDatabase)) {\r\n\r\n                String token = jwtTokenService.generateJwtToken(customerLogin);\r\n\r\n                return new ResponseEntity&lt;&gt;(token, HttpStatus.OK);\r\n            } else {\r\n                logger.info(&quot;Attempting to log in customer with email: {}&quot;, customerLogin.getEmail());\r\n\r\n                return new ResponseEntity&lt;&gt;(&quot;Invalid credentials&quot;, HttpStatus.UNAUTHORIZED);\r\n            }\r\n        } else {\r\n            logger.error(&quot;Error during customer login for email: {}&quot;, customerLogin.getEmail());\r\n\r\n            return new ResponseEntity&lt;&gt;(&quot;User not found&quot;, HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n}\r\n\r\nConfiguration spring security: \r\n\r\n     @Configuration\r\n     @EnableWebSecurity\r\n     public class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf()\r\n                .ignoringRequestMatchers(&quot;/customer/register&quot;, &quot;/customer/login&quot;, &quot;/admin/**&quot;, &quot;/common/**&quot;, &quot;/customer/**&quot;)\r\n                .and()\r\n                .authorizeHttpRequests((authz) -&gt; authz\r\n                        .requestMatchers(&quot;/customer/register&quot;, &quot;/customer/login&quot;, &quot;/admin/**&quot;, &quot;/common/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                );\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n\r\nFunction jwt token:\r\n\r\n     @Service\r\n     public class JwtTokenServiceImpl {\r\n    CustomerService customerService;\r\n    SecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS256);\r\n\r\n    @Autowired\r\n    public JwtTokenServiceImpl(CustomerService customerService) {\r\n        this.customerService = customerService;\r\n    }\r\n\r\n    public String generateJwtToken(CustomerLogin customerLogin) {\r\n\r\n        return Jwts.builder()\r\n                .setSubject((customerLogin.getEmail()))\r\n                .signWith(key)\r\n                .compact();\r\n\r\n    }\r\n\r\n    public String extractEmailFromToken(String token) {\r\n        Claims claims = Jwts.parserBuilder()\r\n                .setSigningKey(key)\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n\r\n        return claims.getSubject();\r\n\r\n    }\r\n\r\n    public boolean isAuthenticated(String token) {\r\n        try {\r\n            Claims claims = Jwts.parserBuilder()\r\n                    .setSigningKey(key)\r\n                    .build()\r\n                    .parseClaimsJws(token)\r\n                    .getBody();\r\n            Date now = new Date();\r\n            return now.before(claims.getExpiration());\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nFunction display logged client data: \r\n\r\n    @GetMapping(&quot;/loggedCustomer&quot;)\r\n    public ResponseEntity&lt;Customer&gt; getDataLoggedCustomer(@RequestHeader(&quot;Authorization&quot;) String token) {\r\n\r\n        String email = jwtTokenService.extractEmailFromToken(token);\r\n\r\n        if (email != null) {\r\n            Customer loggedCustomer = customerService.findByEmail(email);\r\n            if (loggedCustomer != null) {\r\n                logger.info(&quot;The client with email address {} has been successfully authenticated.&quot;, email);\r\n\r\n                return new ResponseEntity&lt;&gt;(loggedCustomer, HttpStatus.OK);\r\n            }\r\n        }\r\n        logger.error(&quot;Error authenticating client with address e-mail: {}&quot;, token);\r\n\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\r\n\r\n    }\r\n\r\n","title":"What is wrong with my configuration Spring Security and token JWT?","body":"<p>I have a problem and I don't know what to do, the problem is probably with the configuration, but this is my first spring project.\nI have a login method that generates a token, but when I want to perform some task as a logged-in user, there is an authorization problem.</p>\n<p>Postman: <code>The request was a legal request, but the server is refusing to respond to it. Unlike a 401 Unauthorized response, authenticating will make no difference.</code></p>\n<p>Logs:</p>\n<pre><code>2023-09-13T14:25:54.951+02:00 DEBUG 27392 --- [nio-8085-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /customer/login\n2023-09-13T14:25:54.980+02:00 DEBUG 27392 --- [nio-8085-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /customer/login\n2023-09-13T14:25:55.417+02:00 DEBUG 27392 --- [nio-8085-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-09-13T14:26:25.703+02:00 DEBUG 27392 --- [nio-8085-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /customer/loggedCustomer\n2023-09-13T14:26:25.715+02:00 DEBUG 27392 --- [nio-8085-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-09-13T14:26:25.717+02:00 DEBUG 27392 --- [nio-8085-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\n2023-09-13T14:26:25.724+02:00 DEBUG 27392 --- [nio-8085-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /error\n2023-09-13T14:26:25.727+02:00 DEBUG 27392 --- [nio-8085-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-09-13T14:26:25.728+02:00 DEBUG 27392 --- [nio-8085-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\n</code></pre>\n<p>Code:\nLogin function and generate token:</p>\n<pre><code>@PermitAll\n@PostMapping(&quot;/login&quot;)\npublic ResponseEntity&lt;String&gt; loginCustomer(@RequestBody CustomerLogin customerLogin) {\n    CustomerLogin storedCustomerLogin = customerLoginService.findPasswordByEmail(customerLogin.getEmail());\n    if (storedCustomerLogin != null) {\n\n        String hashedPasswordFromDatabase = storedCustomerLogin.getPassword();\n        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n        if (passwordEncoder.matches(customerLogin.getPassword(), hashedPasswordFromDatabase)) {\n\n            String token = jwtTokenService.generateJwtToken(customerLogin);\n\n            return new ResponseEntity&lt;&gt;(token, HttpStatus.OK);\n        } else {\n            logger.info(&quot;Attempting to log in customer with email: {}&quot;, customerLogin.getEmail());\n\n            return new ResponseEntity&lt;&gt;(&quot;Invalid credentials&quot;, HttpStatus.UNAUTHORIZED);\n        }\n    } else {\n        logger.error(&quot;Error during customer login for email: {}&quot;, customerLogin.getEmail());\n\n        return new ResponseEntity&lt;&gt;(&quot;User not found&quot;, HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Configuration spring security:</p>\n<pre><code> @Configuration\n @EnableWebSecurity\n public class SecurityConfig {\n\n@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n            .csrf()\n            .ignoringRequestMatchers(&quot;/customer/register&quot;, &quot;/customer/login&quot;, &quot;/admin/**&quot;, &quot;/common/**&quot;, &quot;/customer/**&quot;)\n            .and()\n            .authorizeHttpRequests((authz) -&gt; authz\n                    .requestMatchers(&quot;/customer/register&quot;, &quot;/customer/login&quot;, &quot;/admin/**&quot;, &quot;/common/**&quot;).permitAll()\n                    .anyRequest().authenticated()\n            );\n    return http.build();\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>}</p>\n<p>Function jwt token:</p>\n<pre><code> @Service\n public class JwtTokenServiceImpl {\nCustomerService customerService;\nSecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS256);\n\n@Autowired\npublic JwtTokenServiceImpl(CustomerService customerService) {\n    this.customerService = customerService;\n}\n\npublic String generateJwtToken(CustomerLogin customerLogin) {\n\n    return Jwts.builder()\n            .setSubject((customerLogin.getEmail()))\n            .signWith(key)\n            .compact();\n\n}\n\npublic String extractEmailFromToken(String token) {\n    Claims claims = Jwts.parserBuilder()\n            .setSigningKey(key)\n            .build()\n            .parseClaimsJws(token)\n            .getBody();\n\n    return claims.getSubject();\n\n}\n\npublic boolean isAuthenticated(String token) {\n    try {\n        Claims claims = Jwts.parserBuilder()\n                .setSigningKey(key)\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n        Date now = new Date();\n        return now.before(claims.getExpiration());\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n<p>Function display logged client data:</p>\n<pre><code>@GetMapping(&quot;/loggedCustomer&quot;)\npublic ResponseEntity&lt;Customer&gt; getDataLoggedCustomer(@RequestHeader(&quot;Authorization&quot;) String token) {\n\n    String email = jwtTokenService.extractEmailFromToken(token);\n\n    if (email != null) {\n        Customer loggedCustomer = customerService.findByEmail(email);\n        if (loggedCustomer != null) {\n            logger.info(&quot;The client with email address {} has been successfully authenticated.&quot;, email);\n\n            return new ResponseEntity&lt;&gt;(loggedCustomer, HttpStatus.OK);\n        }\n    }\n    logger.error(&quot;Error authenticating client with address e-mail: {}&quot;, token);\n\n    return new ResponseEntity&lt;&gt;(HttpStatus.UNAUTHORIZED);\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","microservices"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1663867436,"post_id":73817697,"comment_id":130346203,"body_markdown":"You use JPA but have nothing database related configured hence it fails. Configure a datasource and include the proper driver dependency.","body":"You use JPA but have nothing database related configured hence it fails. Configure a datasource and include the proper driver dependency."}],"answers":[{"tags":[],"owner":{"account_id":19585505,"reputation":71,"user_id":14333706,"display_name":"nejlasahin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663865539,"creation_date":1663865539,"answer_id":73818229,"question_id":73817697,"body_markdown":"If you want to use mysql you have to add mysql driver:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"How to resolve &quot;Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured&quot;","body":"<p>If you want to use mysql you have to add mysql driver:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2038896,"reputation":134,"user_id":1820567,"display_name":"max de simone"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663876259,"creation_date":1663867903,"answer_id":73818663,"question_id":73817697,"body_markdown":"The spring-boot-starter-data-jpa artifact can integrate with H2 embedded database. Add the following dependencies to your POM.xml:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt; \r\n\r\nthen, add two script files into the `src/main/resources` folder:\r\n- `schema.sql` for creating the database \r\n- `data.sql` for populating the database\r\n\r\nNote that with spring data JPA you get a default configuration for embedded database. You do not need to add database configuration to the `application.properties` file.","title":"How to resolve &quot;Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured&quot;","body":"<p>The spring-boot-starter-data-jpa artifact can integrate with H2 embedded database. Add the following dependencies to your POM.xml:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt; \n</code></pre>\n<p>then, add two script files into the <code>src/main/resources</code> folder:</p>\n<ul>\n<li><code>schema.sql</code> for creating the database</li>\n<li><code>data.sql</code> for populating the database</li>\n</ul>\n<p>Note that with spring data JPA you get a default configuration for embedded database. You do not need to add database configuration to the <code>application.properties</code> file.</p>\n"},{"tags":[],"owner":{"account_id":27344998,"reputation":1,"user_id":20855032,"display_name":"Sakshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671969589,"creation_date":1671905205,"answer_id":74909471,"question_id":73817697,"body_markdown":"Add this version of derby in `pom.xml`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n    &lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n    &lt;version&gt;10.11.1.1&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n    \r\nAfter making changes in pom.xml, force update the maven project\r\n\r\nAnd add the following in `applications.properties` file:\r\n\r\n```yaml\r\n#JPA\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.database=default\r\nspring.jpa.show-sql=true\r\n\r\n#DATASOURCE\r\nspring.datasource.continue-on-error=false\r\nspring.datasource.generate-unique-name=false\r\nspring.datasource.username=app\r\n```\r\n\r\nMaybe problem with the earlier default derby jar dependency\r\n\r\nIt worked after making the above changes","title":"How to resolve &quot;Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured&quot;","body":"<p>Add this version of derby in <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n    &lt;artifactId&gt;derby&lt;/artifactId&gt;\n    &lt;version&gt;10.11.1.1&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After making changes in pom.xml, force update the maven project</p>\n<p>And add the following in <code>applications.properties</code> file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>#JPA\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.database=default\nspring.jpa.show-sql=true\n\n#DATASOURCE\nspring.datasource.continue-on-error=false\nspring.datasource.generate-unique-name=false\nspring.datasource.username=app\n</code></pre>\n<p>Maybe problem with the earlier default derby jar dependency</p>\n<p>It worked after making the above changes</p>\n"},{"tags":[],"owner":{"account_id":3186836,"reputation":81,"user_id":2692249,"display_name":"Amir Sharafkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695221585,"creation_date":1683716419,"answer_id":76217604,"question_id":73817697,"body_markdown":"the solution is easy!\r\n\r\nopen the pom.xml of project and right click and select &quot;Add as Maven Project&quot; and finally &quot;Reload project&quot;\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/mTYP3.png\r\n  [2]: https://i.stack.imgur.com/wLP9N.png","title":"How to resolve &quot;Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured&quot;","body":"<p>the solution is easy!</p>\n<p>open the pom.xml of project and right click and select &quot;Add as Maven Project&quot; and finally &quot;Reload project&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/mTYP3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mTYP3.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/wLP9N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wLP9N.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13582429,"reputation":11,"user_id":9797991,"display_name":"HMoussa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694533757,"creation_date":1694339041,"answer_id":77075562,"question_id":73817697,"body_markdown":"check the classpath of the resources in your IDE \r\nsometimes it exclude all, so that the `application.properties` files are not copied to the target folder","title":"How to resolve &quot;Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured&quot;","body":"<p>check the classpath of the resources in your IDE\nsometimes it exclude all, so that the <code>application.properties</code> files are not copied to the target folder</p>\n"}],"owner":{"account_id":15570901,"reputation":517,"user_id":11953250,"display_name":"Nitin Saini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14206,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1695221585,"creation_date":1663862732,"question_id":73817697,"body_markdown":"I am trying implement open-fiegn call from currrencyexchange module to currencyconversion but I am stuck at this error. Can anyone please help me with this. I have checked other answer and tried to add `#spring.datasource.driver-class-name=com.mysql.jdbc.Driver` but didn&#39;t work.\r\n\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-09-22 21:07:32.787 ERROR [currency-conversion-service,,] 261173 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider the following:\r\n    \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n    \tIf you have database settings to be loaded from a particular profile you may need to activate it (the profiles dev are currently active).\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.hashedin&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;currency-conversion-service&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;currency-conversion-service&lt;/name&gt;\r\n    \t&lt;description&gt;Currency Exchange Service template for HU SDE 22.3.2 Advanced Java track&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2021.0.1&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-openfeign --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.11&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\napplication-properties\r\n \r\n\r\n     spring.application.name=currency-conversion-service\r\n        #spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n        spring.profiles.active=dev\r\n        \r\n    server.port=8081\r\n    spring.cloud.config.enabled=false\r\n    eureka.client.serviceUrl.defaultZone=https://hu-22-java-adv-mastereureka-server-urtjok3rza-wl.a.run.app/eureka\r\n    eureka.instance.prefer-ip-address=true\r\n    eureka.instance.hostname=https://hu-22-java-adv-mastereureka-server-urtjok3rza-wl.a.run.app\r\n    \r\n    eureka.client.register-with-eureka=true\r\n    eureka.client.fetch-registry=true\r\n\r\n","title":"How to resolve &quot;Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured&quot;","body":"<p>I am trying implement open-fiegn call from currrencyexchange module to currencyconversion but I am stuck at this error. Can anyone please help me with this. I have checked other answer and tried to add <code>#spring.datasource.driver-class-name=com.mysql.jdbc.Driver</code> but didn't work.</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-09-22 21:07:32.787 ERROR [currency-conversion-service,,] 261173 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (the profiles dev are currently active).\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.hashedin&lt;/groupId&gt;\n    &lt;artifactId&gt;currency-conversion-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;currency-conversion-service&lt;/name&gt;\n    &lt;description&gt;Currency Exchange Service template for HU SDE 22.3.2 Advanced Java track&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-openfeign --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\n            &lt;version&gt;0.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7.3&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application-properties</p>\n<pre><code> spring.application.name=currency-conversion-service\n    #spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n    spring.profiles.active=dev\n    \nserver.port=8081\nspring.cloud.config.enabled=false\neureka.client.serviceUrl.defaultZone=https://hu-22-java-adv-mastereureka-server-urtjok3rza-wl.a.run.app/eureka\neureka.instance.prefer-ip-address=true\neureka.instance.hostname=https://hu-22-java-adv-mastereureka-server-urtjok3rza-wl.a.run.app\n\neureka.client.register-with-eureka=true\neureka.client.fetch-registry=true\n</code></pre>\n"},{"tags":["java","spring","spring-boot","redis","model"],"answers":[{"tags":[],"owner":{"account_id":19573912,"reputation":793,"user_id":14324416,"display_name":"jacky-neo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1603938082,"creation_date":1603938082,"answer_id":64584047,"question_id":64580468,"body_markdown":"Please use [Keyspaces][1] to do it. There two ways. I use one way to finish your requirement.\r\n``` java\r\n@Configuration\r\n@EnableRedisRepositories(keyspaceConfiguration = MyKeyspaceConfiguration.class)\r\npublic class ApplicationConfig {\r\n\r\n  @Value(&quot;${spring.redis.namespace}:Book&quot;)\r\n  String myKey;\r\n\r\n  //... RedisConnectionFactory and RedisTemplate Bean definitions omitted\r\n\r\n  public static class MyKeyspaceConfiguration extends KeyspaceConfiguration {\r\n\r\n    @Override\r\n    protected Iterable&lt;KeyspaceSettings&gt; initialConfiguration() {\r\n      return Collections.singleton(new KeyspaceSettings(Book.class, myKey));\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/redis/docs/2.0.3.RELEASE/reference/html/#redis.repositories.keyspaces","title":"Env variables in data class in Redis model annotation","body":"<p>Please use <a href=\"https://docs.spring.io/spring-data/redis/docs/2.0.3.RELEASE/reference/html/#redis.repositories.keyspaces\" rel=\"nofollow noreferrer\">Keyspaces</a> to do it. There two ways. I use one way to finish your requirement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableRedisRepositories(keyspaceConfiguration = MyKeyspaceConfiguration.class)\npublic class ApplicationConfig {\n\n  @Value(&quot;${spring.redis.namespace}:Book&quot;)\n  String myKey;\n\n  //... RedisConnectionFactory and RedisTemplate Bean definitions omitted\n\n  public static class MyKeyspaceConfiguration extends KeyspaceConfiguration {\n\n    @Override\n    protected Iterable&lt;KeyspaceSettings&gt; initialConfiguration() {\n      return Collections.singleton(new KeyspaceSettings(Book.class, myKey));\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2712341,"reputation":1106,"user_id":2340484,"display_name":"charlb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695221244,"creation_date":1695213699,"answer_id":77142550,"question_id":64580468,"body_markdown":"Remove value from @RedisHash annotation\r\n\r\n    @RedisHash\r\n    public class Book {}\r\n\r\n\r\nand then define keyspaces\r\n\r\n    @Configuration\r\n    @EnableRedisRepositories\r\n    @RequiredArgsConstructor\r\n    public class RedisConfig {\r\n\r\n      private static String staticBookKeyspace;\r\n\r\n      @Value(&quot;${spring.redis.namespace}:Book&quot;)\r\n      public void setBookKeyspaceStatic(String name){\r\n          RedisConfig.staticBookKeyspace = name;\r\n      }\r\n\r\n      @Bean\r\n      public RedisMappingContext keyValueMappingContext() {\r\n        return new RedisMappingContext(\r\n              new MappingConfiguration(new IndexConfiguration(), new MyKeyspaceConfiguration()));\r\n      }\r\n\r\n      public static class MyKeyspaceConfiguration extends KeyspaceConfiguration {\r\n        @Override\r\n        protected Iterable&lt;KeyspaceSettings&gt; initialConfiguration() {\r\n            return Collections.singleton(new KeyspaceSettings(Book.class, staticBookKeyspace));\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Env variables in data class in Redis model annotation","body":"<p>Remove value from @RedisHash annotation</p>\n<pre><code>@RedisHash\npublic class Book {}\n</code></pre>\n<p>and then define keyspaces</p>\n<pre><code>@Configuration\n@EnableRedisRepositories\n@RequiredArgsConstructor\npublic class RedisConfig {\n\n  private static String staticBookKeyspace;\n\n  @Value(&quot;${spring.redis.namespace}:Book&quot;)\n  public void setBookKeyspaceStatic(String name){\n      RedisConfig.staticBookKeyspace = name;\n  }\n\n  @Bean\n  public RedisMappingContext keyValueMappingContext() {\n    return new RedisMappingContext(\n          new MappingConfiguration(new IndexConfiguration(), new MyKeyspaceConfiguration()));\n  }\n\n  public static class MyKeyspaceConfiguration extends KeyspaceConfiguration {\n    @Override\n    protected Iterable&lt;KeyspaceSettings&gt; initialConfiguration() {\n        return Collections.singleton(new KeyspaceSettings(Book.class, staticBookKeyspace));\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3343299,"reputation":153,"user_id":3851668,"accept_rate":100,"display_name":"Edster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":770,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64584047,"answer_count":2,"score":2,"last_activity_date":1695221244,"creation_date":1603915366,"question_id":64580468,"body_markdown":"Troubling to specify dynamic env variable in the model class @Hashkey Redis annotation.\r\n\r\n\r\nModel: \r\n```\r\n@RedisHash(&quot;${spring.redis.namespace}:Book&quot;)\r\npublic class Book {\r\n    @Id\r\n    private String id;\r\n    private String name;\r\n}\r\n```\r\n\r\nMy application.properties file:\r\n```\r\nspring.redis.namespace=local\r\n```\r\n\r\nThe resulting key is &quot;${spring.redis.namespace}:Book&quot; instead of local:Book\r\n\r\nCould anyone help me with this?\r\n","title":"Env variables in data class in Redis model annotation","body":"<p>Troubling to specify dynamic env variable in the model class @Hashkey Redis annotation.</p>\n<p>Model:</p>\n<pre><code>@RedisHash(&quot;${spring.redis.namespace}:Book&quot;)\npublic class Book {\n    @Id\n    private String id;\n    private String name;\n}\n</code></pre>\n<p>My application.properties file:</p>\n<pre><code>spring.redis.namespace=local\n</code></pre>\n<p>The resulting key is &quot;${spring.redis.namespace}:Book&quot; instead of local:Book</p>\n<p>Could anyone help me with this?</p>\n"},{"tags":["java","android","flutter","replace","setuptools"],"comments":[{"owner":{"account_id":17292219,"reputation":146,"user_id":12523577,"display_name":"viethoang"},"score":0,"creation_date":1695280809,"post_id":77143570,"comment_id":136003937,"body_markdown":"https://stackoverflow.com/questions/25981156/tools-replace-not-replacing-in-android-manifest\nIt appears that we are encountering the same problem once more.","body":"<a href=\"https://stackoverflow.com/questions/25981156/tools-replace-not-replacing-in-android-manifest\" title=\"tools replace not replacing in android manifest\">stackoverflow.com/questions/25981156/&hellip;</a> It appears that we are encountering the same problem once more."}],"owner":{"account_id":29406323,"reputation":1,"user_id":22531315,"display_name":"Karan Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695220917,"creation_date":1695220917,"question_id":77143570,"body_markdown":"Running Gradle task &#39;assembleDebug&#39;...\r\nC:\\Users\\kumar\\Desktop\\Emart_V2.1_Source_Code\\apps\\eMart_Customer\\android\\app\\src\\debug\\AndroidManifest.xml:133:13-37 Error:\r\n\tAttribute receiver#com.razorpay.RzpTokenReceiver@exported value=(false) from AndroidManifest.xml:133:13-37\r\n\tis also present at [com.razorpay:checkout:1.6.34] AndroidManifest.xml:44:13-36 value=(true).\r\n\tSuggestion: add &#39;tools:replace=&quot;android:exported&quot;&#39; to &lt;receiver&gt; element at AndroidManifest.xml to override.\r\nC:\\Users\\kumar\\Desktop\\Emart_V2.1_Source_Code\\apps\\eMart_Customer\\android\\app\\src\\debug\\AndroidManifest.xml:130:13-36 Error:\r\n\tAttribute activity#com.razorpay.CheckoutActivity@exported value=(true) from AndroidManifest.xml:130:13-36\r\n\tis also present at [com.razorpay:checkout:1.6.34] AndroidManifest.xml:54:13-37 value=(false).\r\n\tSuggestion: add &#39;tools:replace=&quot;android:exported&quot;&#39; to &lt;activity&gt; element at AndroidManifest.xml to override.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:processDebugMainManifest&#39;.\r\n&gt; Manifest merger failed with multiple errors, see logs\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 48s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n","title":"&#39;tools:replace=&quot;android:exported&quot;&#39; to &lt;receiver&gt; element at AndroidManifest.xml to override","body":"<p>Running Gradle task 'assembleDebug'...\nC:\\Users\\kumar\\Desktop\\Emart_V2.1_Source_Code\\apps\\eMart_Customer\\android\\app\\src\\debug\\AndroidManifest.xml:133:13-37 Error:\nAttribute receiver#com.razorpay.RzpTokenReceiver@exported value=(false) from AndroidManifest.xml:133:13-37\nis also present at [com.razorpay:checkout:1.6.34] AndroidManifest.xml:44:13-36 value=(true).\nSuggestion: add 'tools:replace=&quot;android:exported&quot;' to  element at AndroidManifest.xml to override.\nC:\\Users\\kumar\\Desktop\\Emart_V2.1_Source_Code\\apps\\eMart_Customer\\android\\app\\src\\debug\\AndroidManifest.xml:130:13-36 Error:\nAttribute activity#com.razorpay.CheckoutActivity@exported value=(true) from AndroidManifest.xml:130:13-36\nis also present at [com.razorpay:checkout:1.6.34] AndroidManifest.xml:54:13-37 value=(false).\nSuggestion: add 'tools:replace=&quot;android:exported&quot;' to  element at AndroidManifest.xml to override.</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:processDebugMainManifest'.</li>\n</ul>\n<blockquote>\n<p>Manifest merger failed with multiple errors, see logs</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 48s\nException: Gradle task assembleDebug failed with exit code 1</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":2050027,"reputation":127,"user_id":1829230,"accept_rate":33,"display_name":"dascolagi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695220859,"creation_date":1695218559,"question_id":77143235,"body_markdown":"I&#39;m implementing a REST service with Spring Boot to upload a file making a Multipart POST request.\r\nI set a maximum file size in the application.yml as below:\r\n\r\n    spring:\r\n      servlet:\r\n        multipart:\r\n          enabled: true\r\n          max-file-size: 1MB\r\n          max-request-size: 1MB\r\n\r\nMy service also implements a CORS policy to allow requests from a client app hosted by a development React server:\r\n\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity\r\n    @Configuration\r\n    public class SecurityConfig implements WebMvcConfigurer {\r\n    \r\n        @Value(&quot;${security.cors-origin:}&quot;)\r\n        private String allowedOrigin;\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http, JwtDecoder decoder, HandlerMappingIntrospector introspector) throws Exception {\r\n    \r\n            return http\r\n                    .csrf(httpSecurityCsrfConfigurer -&gt; httpSecurityCsrfConfigurer.disable())\r\n                    .authorizeHttpRequests(authCustomizer -&gt; authCustomizer.requestMatchers(new MvcRequestMatcher(introspector, &quot;/actuator/**&quot;)).permitAll())\r\n                    .authorizeHttpRequests(authCustomizer -&gt; authCustomizer.requestMatchers(new MvcRequestMatcher(introspector, &quot;/integration/**&quot;)).permitAll())\r\n                    .authorizeHttpRequests(authCustomizer -&gt; authCustomizer.anyRequest().authenticated())\r\n                    .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt(jwt -&gt; jwt.decoder(decoder)))\r\n                    .sessionManagement(sessionCustomizer -&gt; sessionCustomizer.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                    .build();\r\n        }\r\n    \r\n        /**\r\n         * Add a specified host to the allowed origin for Cross-Origin Resource Sharing\r\n         *\r\n         * This is needed in development as the origin of the front-end (localhost:3000)\r\n         * is different to the origin of the back-end (localhost:8080)\r\n         *\r\n         * @param registry the CorsRegistry to use to add the allowed origin\r\n         */\r\n        @Override\r\n        @ConditionalOnProperty(prefix = &quot;security&quot;, name=&quot;cors-origin&quot;)\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;)\r\n                    .allowedOrigins(allowedOrigin)\r\n                    .allowCredentials(true)\r\n            ;\r\n        }\r\n    \r\n    }\r\n\r\nI also have a ControllerAdvice to handle exceptions thrown by controllers and Spring:\r\n\r\n        @RestControllerAdvice\r\n        @Slf4j\r\n        public class GlobalControllerExceptionHandler extends ResponseEntityExceptionHandler {\r\n        \r\n            @ExceptionHandler({ MaxUploadSizeExceededException.class })\r\n            @ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n            public FileUploadErrorMessage handleMaxUploadSizeExceededException(MaxUploadSizeExceededException ex, WebRequest request) {\r\n                FileUploadErrorMessage errorMessage = new FileUploadErrorMessage(&quot;inputValidation&quot;, &quot;invalid file&quot;);\r\n                ValidationResult validationResult = new ValidationResult(&quot;invalid.logo.size&quot;);\r\n                errorMessage.setErrors(new ArrayList&lt;&gt;(Collections.singleton(validationResult)));\r\n        \r\n                return  errorMessage;\r\n            }                                    \r\n    }\r\n\r\nThe problem is that with the MaxUploadSizeExceededException, Spring Web doesn&#39;t add the Access-Control-Allow-Origin header to the error response. It works fine for other (controllers thrown) exceptions.\r\nI thought it was because the request doesn&#39;t go through any controllers as it&#39;s blocked by the framework (which throws the exception), but the weird thing is that if I don&#39;t handle MaxUploadSizeExceededException in the above ControllerAdvice, Spring returns a 500 Internal error with a response body and the CORS header as well!\r\n\r\nCan anyone explain this behaviour and knows how to fix it?","title":"CORS not working with Spring Boot when MaxUploadSizeExceededException thrown","body":"<p>I'm implementing a REST service with Spring Boot to upload a file making a Multipart POST request.\nI set a maximum file size in the application.yml as below:</p>\n<pre><code>spring:\n  servlet:\n    multipart:\n      enabled: true\n      max-file-size: 1MB\n      max-request-size: 1MB\n</code></pre>\n<p>My service also implements a CORS policy to allow requests from a client app hosted by a development React server:</p>\n<pre><code>@EnableWebSecurity\n@EnableMethodSecurity\n@Configuration\npublic class SecurityConfig implements WebMvcConfigurer {\n\n    @Value(&quot;${security.cors-origin:}&quot;)\n    private String allowedOrigin;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http, JwtDecoder decoder, HandlerMappingIntrospector introspector) throws Exception {\n\n        return http\n                .csrf(httpSecurityCsrfConfigurer -&gt; httpSecurityCsrfConfigurer.disable())\n                .authorizeHttpRequests(authCustomizer -&gt; authCustomizer.requestMatchers(new MvcRequestMatcher(introspector, &quot;/actuator/**&quot;)).permitAll())\n                .authorizeHttpRequests(authCustomizer -&gt; authCustomizer.requestMatchers(new MvcRequestMatcher(introspector, &quot;/integration/**&quot;)).permitAll())\n                .authorizeHttpRequests(authCustomizer -&gt; authCustomizer.anyRequest().authenticated())\n                .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt(jwt -&gt; jwt.decoder(decoder)))\n                .sessionManagement(sessionCustomizer -&gt; sessionCustomizer.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .build();\n    }\n\n    /**\n     * Add a specified host to the allowed origin for Cross-Origin Resource Sharing\n     *\n     * This is needed in development as the origin of the front-end (localhost:3000)\n     * is different to the origin of the back-end (localhost:8080)\n     *\n     * @param registry the CorsRegistry to use to add the allowed origin\n     */\n    @Override\n    @ConditionalOnProperty(prefix = &quot;security&quot;, name=&quot;cors-origin&quot;)\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(allowedOrigin)\n                .allowCredentials(true)\n        ;\n    }\n\n}\n</code></pre>\n<p>I also have a ControllerAdvice to handle exceptions thrown by controllers and Spring:</p>\n<pre><code>    @RestControllerAdvice\n    @Slf4j\n    public class GlobalControllerExceptionHandler extends ResponseEntityExceptionHandler {\n    \n        @ExceptionHandler({ MaxUploadSizeExceededException.class })\n        @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n        public FileUploadErrorMessage handleMaxUploadSizeExceededException(MaxUploadSizeExceededException ex, WebRequest request) {\n            FileUploadErrorMessage errorMessage = new FileUploadErrorMessage(&quot;inputValidation&quot;, &quot;invalid file&quot;);\n            ValidationResult validationResult = new ValidationResult(&quot;invalid.logo.size&quot;);\n            errorMessage.setErrors(new ArrayList&lt;&gt;(Collections.singleton(validationResult)));\n    \n            return  errorMessage;\n        }                                    \n}\n</code></pre>\n<p>The problem is that with the MaxUploadSizeExceededException, Spring Web doesn't add the Access-Control-Allow-Origin header to the error response. It works fine for other (controllers thrown) exceptions.\nI thought it was because the request doesn't go through any controllers as it's blocked by the framework (which throws the exception), but the weird thing is that if I don't handle MaxUploadSizeExceededException in the above ControllerAdvice, Spring returns a 500 Internal error with a response body and the CORS header as well!</p>\n<p>Can anyone explain this behaviour and knows how to fix it?</p>\n"},{"tags":["java","selenium-webdriver","automation","datefield"],"owner":{"account_id":20677120,"reputation":11,"user_id":15181470,"display_name":"Yogesh Bhatt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695220855,"creation_date":1695216013,"question_id":77142867,"body_markdown":"I am trying to set date in date type input filed using selenium in java with chrome browser but on submit, date filled is getting reset and filled validation message gets displayed.\r\n\r\nInput field: \r\n````\r\n&lt;input class=&quot;date_range_input&quot; type=&quot;date&quot; placeholder=&quot;Select Date&quot; name=&quot;SelectDateFrom&quot; min=&quot;2023-09-14&quot; max=&quot;2023-09-20&quot; value=&quot;&quot;&gt;\r\n````\r\nCode: \r\n````  \r\nDriver driver = new ChromeDriver();\r\nJavascriptExecutor javascriptExecutor = (JavascriptExecutor) driver;\r\n````\r\nTried solutions:\r\n\r\n 1.  \r\n````\r\njavascriptExecutor.executeScript(&quot;document.querySelector(\\&quot;input[name=&#39;SelectDateFrom&#39;]\\&quot;).setAttribute(&#39;value&#39;, &#39;2023-09-20&#39;)&quot;);\r\n````\r\n 2. \r\n````\r\nWebElement fromDateInput = driver.findElement(By.cssSelector(&quot;input[name=&#39;SelectDateFrom&#39;]&quot;));\r\nfromDateInput.sendKey(&quot;2023-09-20&quot;);\r\nfromDateInput.click();\r\n````\r\n\r\nAbove solution able to set date in date field but when I submit form selenium code\r\n\r\n```java\r\nWebElement submitButton = driver.findElement(By.cssSelector(&quot;button[type=&#39;submit&#39;]&quot;));\r\nsubmitButton.submit();\r\n```\r\n\r\nso the field **SelectDateFrom** gets reset and filed validation message shown\r\n\r\nI want to set date in date input field of HTML using using selenium in java","title":"How to set date in date input field of HTML using Selenium Java","body":"<p>I am trying to set date in date type input filed using selenium in java with chrome browser but on submit, date filled is getting reset and filled validation message gets displayed.</p>\n<p>Input field:</p>\n<pre><code>&lt;input class=&quot;date_range_input&quot; type=&quot;date&quot; placeholder=&quot;Select Date&quot; name=&quot;SelectDateFrom&quot; min=&quot;2023-09-14&quot; max=&quot;2023-09-20&quot; value=&quot;&quot;&gt;\n</code></pre>\n<p>Code:</p>\n<pre><code>Driver driver = new ChromeDriver();\nJavascriptExecutor javascriptExecutor = (JavascriptExecutor) driver;\n</code></pre>\n<p>Tried solutions:</p>\n<p>1.</p>\n<pre><code>javascriptExecutor.executeScript(&quot;document.querySelector(\\&quot;input[name='SelectDateFrom']\\&quot;).setAttribute('value', '2023-09-20')&quot;);\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>WebElement fromDateInput = driver.findElement(By.cssSelector(&quot;input[name='SelectDateFrom']&quot;));\nfromDateInput.sendKey(&quot;2023-09-20&quot;);\nfromDateInput.click();\n</code></pre>\n<p>Above solution able to set date in date field but when I submit form selenium code</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement submitButton = driver.findElement(By.cssSelector(&quot;button[type='submit']&quot;));\nsubmitButton.submit();\n</code></pre>\n<p>so the field <strong>SelectDateFrom</strong> gets reset and filed validation message shown</p>\n<p>I want to set date in date input field of HTML using using selenium in java</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":4,"creation_date":1635446168,"post_id":55513960,"comment_id":123307641,"body_markdown":"This isn&#39;t complete code. What is `CustomNativeRepository` and how do you define it?","body":"This isn&#39;t complete code. What is <code>CustomNativeRepository</code> and how do you define it?"},{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1635447033,"post_id":55513960,"comment_id":123307950,"body_markdown":"Just an interface that has public Object runNativeQuery() method in this case","body":"Just an interface that has public Object runNativeQuery() method in this case"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":9,"creation_date":1635447393,"post_id":55513960,"comment_id":123308069,"body_markdown":"Would be better to add that simple snippet for completeness","body":"Would be better to add that simple snippet for completeness"},{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":2,"creation_date":1643877140,"post_id":55513960,"comment_id":125457193,"body_markdown":"Or better still, not have an interface.","body":"Or better still, not have an interface."},{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":5,"creation_date":1643877268,"post_id":55513960,"comment_id":125457246,"body_markdown":"Whilst this answer appears to be correct, I don&#39;t understand why Spring doesn&#39;t allow an interface with @ Repository on it and @ Query on the methods.","body":"Whilst this answer appears to be correct, I don&#39;t understand why Spring doesn&#39;t allow an interface with @ Repository on it and @ Query on the methods."}],"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":5,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1554374755,"creation_date":1554374755,"answer_id":55513960,"question_id":55513776,"body_markdown":"`CrudRepository` or `JpaRepository` were not designed to work without an `&lt;Entity,ID&gt;` pair.\r\n\r\nYou are better off creating a custom repo, inject EntityManager and query from there:\r\n\r\n      @Repository\r\n      public class CustomNativeRepositoryImpl implements CustomNativeRepository {\r\n      \r\n        @Autowired\r\n        private EntityManager entityManager;\r\n     \r\n        @Override\r\n        public Object runNativeQuery() {\r\n            entityManager.createNativeQuery(&quot;myNativeQuery&quot;)\r\n             .getSingleResult();\r\n        }\r\n    }","title":"Create spring repository without entity","body":"<p><code>CrudRepository</code> or <code>JpaRepository</code> were not designed to work without an <code>&lt;Entity,ID&gt;</code> pair.</p>\n\n<p>You are better off creating a custom repo, inject EntityManager and query from there:</p>\n\n<pre><code>  @Repository\n  public class CustomNativeRepositoryImpl implements CustomNativeRepository {\n\n    @Autowired\n    private EntityManager entityManager;\n\n    @Override\n    public Object runNativeQuery() {\n        entityManager.createNativeQuery(\"myNativeQuery\")\n         .getSingleResult();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4215774,"reputation":524,"user_id":3452039,"display_name":"Mehdi Benmesssaoud"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1554376146,"creation_date":1554376146,"answer_id":55514448,"question_id":55513776,"body_markdown":"You can just annotate your implementation with `@Repository`, and get an instance of EntityManager. \r\n\r\n\r\n \r\n\r\n    public interface ProductFilterRepository {\r\n        Page&lt;Product&gt; filter(FilterTO filter, Pageable pageable);\r\n    }\r\n\r\n \r\n\r\n    @Repository\r\n    @AllArgsConstructor\r\n    public class ProductFilterRepositoryImpl implements ProductFilterRepository {\r\n    \r\n        private final EntityManager em;\r\n    \r\n        @Override\r\n        public Page&lt;Product&gt; filter(FilterTO filter, Pageable pageable) {\r\n            CriteriaBuilder cb = em.getCriteriaBuilder();\r\n            CriteriaQuery&lt;Product&gt; cq = cb.createQuery(Product.class);\r\n            Root&lt;Product&gt; root = cq.from(Product.class);\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n    \r\n            if (filter.getPriceMin() != null) {\r\n                predicates.add(cb.ge(root.get(&quot;price&quot;), filter.getPriceMin()));\r\n            }\r\n            if (filter.getPriceMax() != null) {\r\n                predicates.add(cb.le(root.get(&quot;price&quot;), filter.getPriceMax()));\r\n            }\r\n            if (filter.getBrands() != null &amp;&amp; !filter.getBrands().isEmpty()) {\r\n                predicates.add(root.get(&quot;brand&quot;).in(filter.getBrands()));\r\n            }\r\n            if (filter.getCategories() != null &amp;&amp; !filter.getCategories().isEmpty()) {\r\n                predicates.add(root.get(&quot;category&quot;).in(filter.getCategories()));\r\n            }\r\n            cq.where(predicates.toArray(new Predicate[0]));\r\n            TypedQuery&lt;Product&gt; tq = em.createQuery(cq);\r\n            tq.setMaxResults(pageable.getPageSize());\r\n            tq.setFirstResult(pageable.getPageNumber() * pageable.getPageSize());\r\n    \r\n            CriteriaQuery&lt;Long&gt; countCq = cb.createQuery(Long.class);\r\n            countCq.select(cb.count(countCq.from(Product.class)));\r\n            countCq.where(predicates.toArray(new Predicate[0]));\r\n            TypedQuery&lt;Long&gt; countTq = em.createQuery(countCq);\r\n            Long count = countTq.getSingleResult();\r\n    \r\n            return new PageImpl&lt;&gt;(tq.getResultList(), pageable, count);\r\n        }\r\n    }","title":"Create spring repository without entity","body":"<p>You can just annotate your implementation with <code>@Repository</code>, and get an instance of EntityManager. </p>\n\n<pre><code>public interface ProductFilterRepository {\n    Page&lt;Product&gt; filter(FilterTO filter, Pageable pageable);\n}\n\n\n\n@Repository\n@AllArgsConstructor\npublic class ProductFilterRepositoryImpl implements ProductFilterRepository {\n\n    private final EntityManager em;\n\n    @Override\n    public Page&lt;Product&gt; filter(FilterTO filter, Pageable pageable) {\n        CriteriaBuilder cb = em.getCriteriaBuilder();\n        CriteriaQuery&lt;Product&gt; cq = cb.createQuery(Product.class);\n        Root&lt;Product&gt; root = cq.from(Product.class);\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n        if (filter.getPriceMin() != null) {\n            predicates.add(cb.ge(root.get(\"price\"), filter.getPriceMin()));\n        }\n        if (filter.getPriceMax() != null) {\n            predicates.add(cb.le(root.get(\"price\"), filter.getPriceMax()));\n        }\n        if (filter.getBrands() != null &amp;&amp; !filter.getBrands().isEmpty()) {\n            predicates.add(root.get(\"brand\").in(filter.getBrands()));\n        }\n        if (filter.getCategories() != null &amp;&amp; !filter.getCategories().isEmpty()) {\n            predicates.add(root.get(\"category\").in(filter.getCategories()));\n        }\n        cq.where(predicates.toArray(new Predicate[0]));\n        TypedQuery&lt;Product&gt; tq = em.createQuery(cq);\n        tq.setMaxResults(pageable.getPageSize());\n        tq.setFirstResult(pageable.getPageNumber() * pageable.getPageSize());\n\n        CriteriaQuery&lt;Long&gt; countCq = cb.createQuery(Long.class);\n        countCq.select(cb.count(countCq.from(Product.class)));\n        countCq.where(predicates.toArray(new Predicate[0]));\n        TypedQuery&lt;Long&gt; countTq = em.createQuery(countCq);\n        Long count = countTq.getSingleResult();\n\n        return new PageImpl&lt;&gt;(tq.getResultList(), pageable, count);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15626052,"reputation":41,"user_id":11273675,"display_name":"Jes&#250;s David L&#243;pez"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1554377405,"creation_date":1554377405,"answer_id":55514880,"question_id":55513776,"body_markdown":"If you are using JPA you need Entities. As previous answers you can create NativeQueries or use Criteria API directly from EntityManager.\r\n\r\nSome documentation about custom reports and common repo behaviour:\r\n\r\nhttps://docs.spring.io/spring-data/data-commons/docs/1.6.1.RELEASE/reference/html/repositories.html#repositories.custom-behaviour-for-all-repositories","title":"Create spring repository without entity","body":"<p>If you are using JPA you need Entities. As previous answers you can create NativeQueries or use Criteria API directly from EntityManager.</p>\n\n<p>Some documentation about custom reports and common repo behaviour:</p>\n\n<p><a href=\"https://docs.spring.io/spring-data/data-commons/docs/1.6.1.RELEASE/reference/html/repositories.html#repositories.custom-behaviour-for-all-repositories\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/data-commons/docs/1.6.1.RELEASE/reference/html/repositories.html#repositories.custom-behaviour-for-all-repositories</a></p>\n"},{"comments":[{"owner":{"account_id":1830863,"reputation":189,"user_id":1662291,"accept_rate":75,"display_name":"ioikka"},"score":1,"creation_date":1589989559,"post_id":61231149,"comment_id":109513140,"body_markdown":"That&#39;s some weird code. It won&#39;t even compile. A private modifier on a interface? OK, maybe it&#39;s a typo.  But even changing interface to class won&#39;t let your spring application run.","body":"That&#39;s some weird code. It won&#39;t even compile. A private modifier on a interface? OK, maybe it&#39;s a typo.  But even changing interface to class won&#39;t let your spring application run."},{"owner":{"account_id":4779952,"reputation":1434,"user_id":3862024,"accept_rate":100,"display_name":"gagarwa"},"score":0,"creation_date":1591262342,"post_id":61231149,"comment_id":109990779,"body_markdown":"Yes, it was a typo, it should work now.  If you are having issue, can you provide error message, or open another question?","body":"Yes, it was a typo, it should work now.  If you are having issue, can you provide error message, or open another question?"},{"owner":{"account_id":10872583,"reputation":143,"user_id":7993986,"display_name":"IHaveHandedInMyResignation"},"score":0,"creation_date":1694081004,"post_id":61231149,"comment_id":135845483,"body_markdown":"It  won&#39;t compile because of... 1. You need to change name of Repository Interface, because you have names conflict(interface and annotation have the same name) 2. If you have validation schema turned on(every good application has), then you will need to create table RootEnity in DB","body":"It  won&#39;t compile because of... 1. You need to change name of Repository Interface, because you have names conflict(interface and annotation have the same name) 2. If you have validation schema turned on(every good application has), then you will need to create table RootEnity in DB"},{"owner":{"account_id":4779952,"reputation":1434,"user_id":3862024,"accept_rate":100,"display_name":"gagarwa"},"score":0,"creation_date":1695221833,"post_id":61231149,"comment_id":135996059,"body_markdown":"If you want to use validation without an additional entity in table, you can use a filter as an alternative.  See https://stackoverflow.com/a/51740484/3862024 for more info.","body":"If you want to use validation without an additional entity in table, you can use a filter as an alternative.  See <a href=\"https://stackoverflow.com/a/51740484/3862024\">stackoverflow.com/a/51740484/3862024</a> for more info."}],"tags":[],"owner":{"account_id":4779952,"reputation":1434,"user_id":3862024,"accept_rate":100,"display_name":"gagarwa"},"comment_count":4,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1695220293,"creation_date":1586960538,"answer_id":61231149,"question_id":55513776,"body_markdown":"Currently there is no functionality in JPA to create repositories with only native or JPQL/HQL queries (using @Query notation).  To get around this, you can create a dummy object to insert into the extension interface like below:\r\n\r\n    @Entity\r\n    public class RootEntity {\r\n        @Id\r\n        private Integer id;\r\n    }\r\n\r\n    @Repository\r\n    public interface MyRepository extends JpaRepository&lt;RootEntity, Integer&gt; {\r\n    }","title":"Create spring repository without entity","body":"<p>Currently there is no functionality in JPA to create repositories with only native or JPQL/HQL queries (using @Query notation).  To get around this, you can create a dummy object to insert into the extension interface like below:</p>\n<pre><code>@Entity\npublic class RootEntity {\n    @Id\n    private Integer id;\n}\n\n@Repository\npublic interface MyRepository extends JpaRepository&lt;RootEntity, Integer&gt; {\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":1,"creation_date":1596716013,"post_id":61850197,"comment_id":111903865,"body_markdown":"It is a bad approach. For example, can you answer quickly for this question: how many transaction managers will be used for such mixed application?","body":"It is a bad approach. For example, can you answer quickly for this question: how many transaction managers will be used for such mixed application?"}],"tags":[],"owner":{"account_id":8156195,"reputation":888,"user_id":6812618,"display_name":"Manas"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589710735,"creation_date":1589710735,"answer_id":61850197,"question_id":55513776,"body_markdown":"I think that using JdbcTemplate can be considered as an alternative when you do not have a concrete entity class for the resultset of a native query. Querying data using JdbcTemplate requires a POJO class for the resultset and a mapper implementing the RowMapper interface for the POJO class.","title":"Create spring repository without entity","body":"<p>I think that using JdbcTemplate can be considered as an alternative when you do not have a concrete entity class for the resultset of a native query. Querying data using JdbcTemplate requires a POJO class for the resultset and a mapper implementing the RowMapper interface for the POJO class.</p>\n"},{"comments":[{"owner":{"account_id":18429188,"reputation":141,"user_id":13424742,"display_name":"Akankshit_98"},"score":1,"creation_date":1648540340,"post_id":66697752,"comment_id":126643197,"body_markdown":"In my case, it worked with @Repository annotation so I think it is needed.","body":"In my case, it worked with @Repository annotation so I think it is needed."},{"owner":{"account_id":3813392,"reputation":211,"user_id":3163475,"display_name":"NightEagle"},"score":1,"creation_date":1663845932,"post_id":66697752,"comment_id":130337771,"body_markdown":"`@Repository` is not needed. `@Component` will be enaugh @Akankshit_98","body":"<code>@Repository</code> is not needed. <code>@Component</code> will be enaugh @Akankshit_98"}],"tags":[],"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1668180361,"creation_date":1616095229,"answer_id":66697752,"question_id":55513776,"body_markdown":"This works for us.  See the entity manager\r\n\r\nhttps://www.baeldung.com/hibernate-entitymanager\r\n\r\n    @Repository\r\n    public class MyRepository {\r\n\r\n        @PersistenceContext\r\n        EntityManager entityManager;\r\n\r\n        public void doSomeQuery(){\r\n            Query query = entityManager.createNativeQuery(&quot;SELECT foo FROM bar&quot;);\r\n            query.getResultsList()\r\n            ...\r\n        }\r\n\r\n    }\r\n","title":"Create spring repository without entity","body":"<p>This works for us.  See the entity manager</p>\n<p><a href=\"https://www.baeldung.com/hibernate-entitymanager\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-entitymanager</a></p>\n<pre><code>@Repository\npublic class MyRepository {\n\n    @PersistenceContext\n    EntityManager entityManager;\n\n    public void doSomeQuery(){\n        Query query = entityManager.createNativeQuery(&quot;SELECT foo FROM bar&quot;);\n        query.getResultsList()\n        ...\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14252840,"reputation":551,"user_id":10296004,"display_name":"dramcio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54419,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"answer_count":6,"score":48,"last_activity_date":1695220293,"creation_date":1554374108,"question_id":55513776,"body_markdown":"I want to use spring data repository interface to execute native queries - I think this way is the simplest because of low complexity.\r\n\r\nBut when extending interface ex. `CrudRepository&lt;T, ID&gt;` I need to write T - my entity, which is not available.\r\n\r\nMy native queries does not return any concrete entity, so what is the best way to create spring repository without entity?\r\n\r\n","title":"Create spring repository without entity","body":"<p>I want to use spring data repository interface to execute native queries - I think this way is the simplest because of low complexity.</p>\n\n<p>But when extending interface ex. <code>CrudRepository&lt;T, ID&gt;</code> I need to write T - my entity, which is not available.</p>\n\n<p>My native queries does not return any concrete entity, so what is the best way to create spring repository without entity?</p>\n"},{"tags":["java","database","jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1695223843,"post_id":77143449,"comment_id":135996602,"body_markdown":"Well you&#39;re going to have to query the database for those values aren&#39;t you?","body":"Well you&#39;re going to have to query the database for those values aren&#39;t you?"}],"owner":{"account_id":26355334,"reputation":55,"user_id":20012406,"display_name":"xaso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695220064,"creation_date":1695220064,"question_id":77143449,"body_markdown":"i want write method for my app when username and email are not unique send massage and take input again .i give constraints unique in my table.\r\n\r\n     public void signUp() throws SQLException {\r\n        System.out.print(&quot;enter your name: &quot;);\r\n        String name = input.next();\r\n        System.out.print(&quot;enter your userName: &quot;);\r\n        String userName = input.next();\r\n        String email = &quot;&quot;;\r\n        boolean flag1 = true;\r\n        System.out.print(&quot;enter your email: &quot;);\r\n        while (flag1) {\r\n            email = input.next();\r\n            if (Validation.validateEmail(email)) {\r\n                flag1 = false;\r\n            } else {\r\n                System.out.println(&quot;enter valid email&quot;);\r\n            }\r\n        }\r\n        System.out.print(&quot;enter your password: &quot;);\r\n        String password = &quot;&quot;;\r\n        boolean flag = true;\r\n        while (flag) {\r\n            password = input.next();\r\n            if (Validation.isValidPassword(password)) {\r\n                flag = false;\r\n            } else {\r\n                System.out.println(&quot;please enter valid password&quot;);\r\n            }\r\n        }\r\n        User user = new User(name, userName, email, password);\r\n        userRepo.insert(user);\r\n    }","title":"How to write a log in system with uniqueness constraint using jdbc","body":"<p>i want write method for my app when username and email are not unique send massage and take input again .i give constraints unique in my table.</p>\n<pre><code> public void signUp() throws SQLException {\n    System.out.print(&quot;enter your name: &quot;);\n    String name = input.next();\n    System.out.print(&quot;enter your userName: &quot;);\n    String userName = input.next();\n    String email = &quot;&quot;;\n    boolean flag1 = true;\n    System.out.print(&quot;enter your email: &quot;);\n    while (flag1) {\n        email = input.next();\n        if (Validation.validateEmail(email)) {\n            flag1 = false;\n        } else {\n            System.out.println(&quot;enter valid email&quot;);\n        }\n    }\n    System.out.print(&quot;enter your password: &quot;);\n    String password = &quot;&quot;;\n    boolean flag = true;\n    while (flag) {\n        password = input.next();\n        if (Validation.isValidPassword(password)) {\n            flag = false;\n        } else {\n            System.out.println(&quot;please enter valid password&quot;);\n        }\n    }\n    User user = new User(name, userName, email, password);\n    userRepo.insert(user);\n}\n</code></pre>\n"},{"tags":["java","android-studio","google-sheets","google-sheets-api","spreadsheet"],"owner":{"account_id":16419304,"reputation":91,"user_id":11860941,"display_name":"ersa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695219952,"creation_date":1695135062,"question_id":77135648,"body_markdown":"Currently, I have this code to read data from Excel files.\r\nThe Excel files are located in Google Drive.\r\n\r\n    for (File excelFile : excelFiles) {                \r\n        String range = &quot;A3:E55&quot;;\r\n        ValueRange response = sheetsService.spreadsheets().values()\r\n                     .get(excelFile.getId(), range)\r\n                     .execute();\r\n        List&lt;List&lt;Object&gt;&gt; values = response.getValues();\r\n        // the rest of the code ...\r\n    }\r\n\r\n\r\nBecause I have ~100 files to read, it&#39;s taking a long time to read them all.\r\nI tried to use threads to make it faster, and it worked, but I got a quota error.\r\n\r\nIs there an option to get a list of responses with 1 command?\r\n","title":"Read multiple excel files from google drive using Java","body":"<p>Currently, I have this code to read data from Excel files.\nThe Excel files are located in Google Drive.</p>\n<pre><code>for (File excelFile : excelFiles) {                \n    String range = &quot;A3:E55&quot;;\n    ValueRange response = sheetsService.spreadsheets().values()\n                 .get(excelFile.getId(), range)\n                 .execute();\n    List&lt;List&lt;Object&gt;&gt; values = response.getValues();\n    // the rest of the code ...\n}\n</code></pre>\n<p>Because I have ~100 files to read, it's taking a long time to read them all.\nI tried to use threads to make it faster, and it worked, but I got a quota error.</p>\n<p>Is there an option to get a list of responses with 1 command?</p>\n"},{"tags":["java","android","shared-libraries","android-library"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":2,"creation_date":1695243534,"post_id":77143266,"comment_id":136000228,"body_markdown":"Java libraries are not designed to be installed, they are part of the app. So if you want to use application specific code you have to do that inside the library using conditional execution, but multiple versions don&#39;t work on Android, especially on the latest Android versions as Google wants to eliminate dynamic code loading for security reasons.","body":"Java libraries are not designed to be installed, they are part of the app. So if you want to use application specific code you have to do that inside the library using conditional execution, but multiple versions don&#39;t work on Android, especially on the latest Android versions as Google wants to eliminate dynamic code loading for security reasons."}],"owner":{"account_id":11346268,"reputation":116,"user_id":8318668,"display_name":"Simon Ackermann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695219933,"creation_date":1695218777,"question_id":77143266,"body_markdown":"**Context:**\r\n\r\nI am working on an android application that uses multiple libraries.\r\nOne of those libraries can vary depending on the device (implementation can differ)\r\nTo avoid having to build multiple version of the application the idea would be to have a unique version of the app that links to the said library on the device. The library will them use flavors to have variants\r\n\r\nIn my application manifest I have added this:\r\n```xml\r\n&lt;uses-library android:name=&quot;com.lib.package&quot;/&gt;\r\n```\r\n\r\nIn my build.gradle I have put this:\r\n```groovy\r\ndependencies {\r\n  // ...\r\n  compileOnly project(path: &quot;:path_to_lib&quot;)\r\n}\r\n```\r\n\r\nBy having compile only the compiler knows which class is available at compile time we intend to keep the exact same interfaces across flavors\r\n\r\n**Problem:**\r\n\r\nWhen I launch the application from Android studio it will not boot since the library is not available.\r\n\r\nSo far I have not found a way to install the library onto the device so that it can be linked dynamically to the app at install.\r\n\r\nIs what I am trying possible or am I totally of track ?\r\n","title":"Android shared java library","body":"<p><strong>Context:</strong></p>\n<p>I am working on an android application that uses multiple libraries.\nOne of those libraries can vary depending on the device (implementation can differ)\nTo avoid having to build multiple version of the application the idea would be to have a unique version of the app that links to the said library on the device. The library will them use flavors to have variants</p>\n<p>In my application manifest I have added this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-library android:name=&quot;com.lib.package&quot;/&gt;\n</code></pre>\n<p>In my build.gradle I have put this:</p>\n<pre><code>dependencies {\n  // ...\n  compileOnly project(path: &quot;:path_to_lib&quot;)\n}\n</code></pre>\n<p>By having compile only the compiler knows which class is available at compile time we intend to keep the exact same interfaces across flavors</p>\n<p><strong>Problem:</strong></p>\n<p>When I launch the application from Android studio it will not boot since the library is not available.</p>\n<p>So far I have not found a way to install the library onto the device so that it can be linked dynamically to the app at install.</p>\n<p>Is what I am trying possible or am I totally of track ?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":22372777,"reputation":41,"user_id":16587589,"display_name":"AA_20"},"score":0,"creation_date":1685900410,"post_id":76395961,"comment_id":134722278,"body_markdown":"https://docs.spring.io/spring-security/site/docs/6.0.x/api/org/springframework/security/core/context/DeferredSecurityContext.html, this is the class I was referring to. I was trying to understand the flow of authentication and the purpose of this class. There is no mention of it in the spring docs specifically.","body":"<a href=\"https://docs.spring.io/spring-security/site/docs/6.0.x/api/org/springframework/security/core/context/DeferredSecurityContext.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/6.0.x/api/org/&hellip;</a>, this is the class I was referring to. I was trying to understand the flow of authentication and the purpose of this class. There is no mention of it in the spring docs specifically."}],"answers":[{"tags":[],"owner":{"account_id":16421416,"reputation":1,"user_id":11925869,"display_name":"MrMango"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686801755,"creation_date":1686801755,"answer_id":76479024,"question_id":76395961,"body_markdown":"I&#39;ve been trying to find the answer for this too. Apparently from what I understood , it is used to save and persist context between requests. For instance , when you have to persist context information (uesr roles , authority , authenticated status, etc.) between requests. \r\n\r\nSeems like it&#39;s also brought as an alternative to the deprecated package called SecurityContextRepository. I think you would get a better idea if you read about that. Also refer [loadDefferedContext][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/context/SecurityContextRepository.html#loadDeferredContext(jakarta.servlet.http.HttpServletRequest)","title":"What is the use case of the deferred security context?","body":"<p>I've been trying to find the answer for this too. Apparently from what I understood , it is used to save and persist context between requests. For instance , when you have to persist context information (uesr roles , authority , authenticated status, etc.) between requests.</p>\n<p>Seems like it's also brought as an alternative to the deprecated package called SecurityContextRepository. I think you would get a better idea if you read about that. Also refer <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/context/SecurityContextRepository.html#loadDeferredContext(jakarta.servlet.http.HttpServletRequest)\" rel=\"nofollow noreferrer\">loadDefferedContext</a></p>\n"},{"tags":[],"owner":{"account_id":11699486,"reputation":226,"user_id":13751385,"display_name":"Aria"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695219688,"creation_date":1695213876,"answer_id":77142577,"question_id":76395961,"body_markdown":"This [GitHub issue][1] explains it best. To summarize:\r\n\r\n&gt; A benefit is that if it takes some work to obtain the SecurityContext, the(n) it is only looked up if necessary.\r\n&lt;br&gt;\r\nFor example, currently the `SecurityContext` is looked up from the `HttpSession` for every page. When using distributed sessions (i.e. `Spring Session` + `Redis`) this is a lot of unnecessary overhead for accessing public css, javascript, and images. With these changes Spring Security can avoid accessing the `HttpSession` for public resources like javascript, css, images, public html pages, etc.\r\n\r\n`AuthorizationManager` may not need to access the `SecurityContext` to authenticate (e.g. public invocation was allowed), in this case having a `Supplier` helps to skip the work needed to obtain the `SecurityContext`.\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/issues/10913","title":"What is the use case of the deferred security context?","body":"<p>This <a href=\"https://github.com/spring-projects/spring-security/issues/10913\" rel=\"nofollow noreferrer\">GitHub issue</a> explains it best. To summarize:</p>\n<blockquote>\n<p>A benefit is that if it takes some work to obtain the SecurityContext, the(n) it is only looked up if necessary.\n<br>\nFor example, currently the <code>SecurityContext</code> is looked up from the <code>HttpSession</code> for every page. When using distributed sessions (i.e. <code>Spring Session</code> + <code>Redis</code>) this is a lot of unnecessary overhead for accessing public css, javascript, and images. With these changes Spring Security can avoid accessing the <code>HttpSession</code> for public resources like javascript, css, images, public html pages, etc.</p>\n</blockquote>\n<p><code>AuthorizationManager</code> may not need to access the <code>SecurityContext</code> to authenticate (e.g. public invocation was allowed), in this case having a <code>Supplier</code> helps to skip the work needed to obtain the <code>SecurityContext</code>.</p>\n"}],"owner":{"account_id":22372777,"reputation":41,"user_id":16587589,"display_name":"AA_20"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1695219688,"creation_date":1685793305,"question_id":76395961,"body_markdown":"I have been going through the Spring Security docs and been playing around with basic authentication projects. I am confused as to what is the use of deferred context in authentication?\r\n\r\n\r\nI have gone through the [javadocs of the class](https://docs.spring.io/spring-security/site/docs/6.0.x/api/org/springframework/security/core/context/DeferredSecurityContext.html) and tried to see the flow of authentication, but am unable to figure out its purpose.","title":"What is the use case of the deferred security context?","body":"<p>I have been going through the Spring Security docs and been playing around with basic authentication projects. I am confused as to what is the use of deferred context in authentication?</p>\n<p>I have gone through the <a href=\"https://docs.spring.io/spring-security/site/docs/6.0.x/api/org/springframework/security/core/context/DeferredSecurityContext.html\" rel=\"nofollow noreferrer\">javadocs of the class</a> and tried to see the flow of authentication, but am unable to figure out its purpose.</p>\n"},{"tags":["java","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":1534619,"reputation":525,"user_id":1430989,"accept_rate":86,"display_name":"user1430989"},"score":0,"creation_date":1340311137,"post_id":11144717,"comment_id":14613225,"body_markdown":"Can you please let me know what is this xmlProps for XSSF?","body":"Can you please let me know what is this xmlProps for XSSF?"},{"owner":{"account_id":1534619,"reputation":525,"user_id":1430989,"accept_rate":86,"display_name":"user1430989"},"score":0,"creation_date":1340377518,"post_id":11144717,"comment_id":14633590,"body_markdown":"Hello Olivier Coilland, in the case of XSSF its working good. But in case of HSSF, SummaryInformation summaryInfo = workbook.getSummaryInformation(); summaryInfo is null.. and not working..","body":"Hello Olivier Coilland, in the case of XSSF its working good. But in case of HSSF, SummaryInformation summaryInfo = workbook.getSummaryInformation(); summaryInfo is null.. and not working.."},{"owner":{"account_id":1534619,"reputation":525,"user_id":1430989,"accept_rate":86,"display_name":"user1430989"},"score":1,"creation_date":1340379041,"post_id":11144717,"comment_id":14634402,"body_markdown":"When I execute SummaryInformation summaryInfo = workbook.getSummaryInformation(); summaryInfo returned as null, hence its throwing NullPointerException.. pls let me know what I&#39;m doing wrong here..","body":"When I execute SummaryInformation summaryInfo = workbook.getSummaryInformation(); summaryInfo returned as null, hence its throwing NullPointerException.. pls let me know what I&#39;m doing wrong here.."},{"owner":{"account_id":1543370,"reputation":3088,"user_id":1437486,"display_name":"Olivier Coilland"},"score":1,"creation_date":1340379042,"post_id":11144717,"comment_id":14634403,"body_markdown":"Have a look at PropertySetFactory.newSummaryInformation(); :)","body":"Have a look at PropertySetFactory.newSummaryInformation(); :)"},{"owner":{"account_id":407825,"reputation":22412,"user_id":778118,"accept_rate":67,"display_name":"jahroy"},"score":2,"creation_date":1369335333,"post_id":11144717,"comment_id":24075886,"body_markdown":"It may be straightforward, but it wasn&#39;t easy to find.  Thanks!","body":"It may be straightforward, but it wasn&#39;t easy to find.  Thanks!"},{"owner":{"account_id":1164178,"reputation":1598,"user_id":1143126,"accept_rate":80,"display_name":"RobertG"},"score":3,"creation_date":1416566984,"post_id":11144717,"comment_id":42633801,"body_markdown":"If the SummaryInforamtion is null, call createInformationProperties() on your POIDocument, it calls  PropertySetFactory.newSummaryInformation() internally","body":"If the SummaryInforamtion is null, call createInformationProperties() on your POIDocument, it calls  PropertySetFactory.newSummaryInformation() internally"}],"tags":[],"owner":{"account_id":1543370,"reputation":3088,"user_id":1437486,"display_name":"Olivier Coilland"},"comment_count":6,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1340311589,"creation_date":1340304183,"answer_id":11144717,"question_id":11143303,"body_markdown":"It&#39;s pretty straightforward:\r\n\r\n**HSSF:**\r\n\r\n    SummaryInformation summaryInfo = workbook.getSummaryInformation();\r\n    summaryInfo.setAuthor(author);\r\n\r\n**XSSF:**\r\n\r\n    POIXMLProperties xmlProps = workbook.getProperties();    \r\n    POIXMLProperties.CoreProperties coreProps =  xmlProps.getCoreProperties();\r\n    coreProps.setCreator(author);\r\n\r\nHave fun :)","title":"How to set Author name to excel file using poi","body":"<p>It's pretty straightforward:</p>\n\n<p><strong>HSSF:</strong></p>\n\n<pre><code>SummaryInformation summaryInfo = workbook.getSummaryInformation();\nsummaryInfo.setAuthor(author);\n</code></pre>\n\n<p><strong>XSSF:</strong></p>\n\n<pre><code>POIXMLProperties xmlProps = workbook.getProperties();    \nPOIXMLProperties.CoreProperties coreProps =  xmlProps.getCoreProperties();\ncoreProps.setCreator(author);\n</code></pre>\n\n<p>Have fun :)</p>\n"},{"tags":[],"owner":{"account_id":1072619,"reputation":2627,"user_id":1071526,"accept_rate":100,"display_name":"mfeineis"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1392044063,"creation_date":1392044063,"answer_id":21680397,"question_id":11143303,"body_markdown":"Not a direct answer but in case anyone needs to do this in NPOI (the .NET port of POI) here is the extension method I came up with ... it&#39;s basically what Olivier suggested - only implemented in C#:\r\n\r\n&lt;!-- language: c# --&gt;\r\n\r\n    /// &lt;summary&gt;\r\n    /// Sets the author of this workbook.\r\n    /// &lt;/summary&gt;\r\n    /// &lt;param name=&quot;workbook&quot;&gt;&lt;/param&gt;\r\n    /// &lt;param name=&quot;author&quot;&gt;&lt;/param&gt;\r\n    public static void SetAuthor(this IWorkbook workbook, string author)\r\n    {\r\n        if (workbook is NPOI.XSSF.UserModel.XSSFWorkbook)\r\n        {\r\n            var xssfWorkbook = workbook as NPOI.XSSF.UserModel.XSSFWorkbook;\r\n            var xmlProps = xssfWorkbook.GetProperties();\r\n            var coreProps = xmlProps.CoreProperties;\r\n            coreProps.Creator = author;\r\n            return;\r\n        }\r\n\r\n        if (workbook is NPOI.HSSF.UserModel.HSSFWorkbook)\r\n        {\r\n            var hssfWorkbook = workbook as NPOI.HSSF.UserModel.HSSFWorkbook;\r\n            var summaryInfo = hssfWorkbook.SummaryInformation;\r\n\r\n            if (summaryInfo != null)\r\n            {\r\n                summaryInfo.Author = author;\r\n                return;\r\n            }\r\n\r\n            var newDocInfo = NPOI.HPSF.PropertySetFactory.CreateDocumentSummaryInformation();\r\n\r\n            var newInfo = NPOI.HPSF.PropertySetFactory.CreateSummaryInformation();\r\n            newInfo.Author = author;\r\n\r\n            hssfWorkbook.DocumentSummaryInformation = newDocInfo;\r\n            hssfWorkbook.SummaryInformation = newInfo;\r\n               \r\n            return;\r\n        }\r\n    }","title":"How to set Author name to excel file using poi","body":"<p>Not a direct answer but in case anyone needs to do this in NPOI (the .NET port of POI) here is the extension method I came up with ... it's basically what Olivier suggested - only implemented in C#:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>/// &lt;summary&gt;\n/// Sets the author of this workbook.\n/// &lt;/summary&gt;\n/// &lt;param name=\"workbook\"&gt;&lt;/param&gt;\n/// &lt;param name=\"author\"&gt;&lt;/param&gt;\npublic static void SetAuthor(this IWorkbook workbook, string author)\n{\n    if (workbook is NPOI.XSSF.UserModel.XSSFWorkbook)\n    {\n        var xssfWorkbook = workbook as NPOI.XSSF.UserModel.XSSFWorkbook;\n        var xmlProps = xssfWorkbook.GetProperties();\n        var coreProps = xmlProps.CoreProperties;\n        coreProps.Creator = author;\n        return;\n    }\n\n    if (workbook is NPOI.HSSF.UserModel.HSSFWorkbook)\n    {\n        var hssfWorkbook = workbook as NPOI.HSSF.UserModel.HSSFWorkbook;\n        var summaryInfo = hssfWorkbook.SummaryInformation;\n\n        if (summaryInfo != null)\n        {\n            summaryInfo.Author = author;\n            return;\n        }\n\n        var newDocInfo = NPOI.HPSF.PropertySetFactory.CreateDocumentSummaryInformation();\n\n        var newInfo = NPOI.HPSF.PropertySetFactory.CreateSummaryInformation();\n        newInfo.Author = author;\n\n        hssfWorkbook.DocumentSummaryInformation = newDocInfo;\n        hssfWorkbook.SummaryInformation = newInfo;\n\n        return;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4534092,"reputation":41,"user_id":3683773,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695219302,"creation_date":1695219302,"answer_id":77143338,"question_id":11143303,"body_markdown":"I just wanted to provide an updated answer for XSSF, because the API changed in meantime for latest versions of POI.\r\n\r\n    var opcPackage = OPCPackage.open(inputStream);\t\r\n\topcPackage.getPackageProperties().setCreatorProperty(&quot;Author Name&quot;);\r\n\r\n\t// continue as know with XSSFWorkbook\r\n\tworkbook = new XSSFWorkbook(opcPackage);","title":"How to set Author name to excel file using poi","body":"<p>I just wanted to provide an updated answer for XSSF, because the API changed in meantime for latest versions of POI.</p>\n<pre><code>var opcPackage = OPCPackage.open(inputStream);  \nopcPackage.getPackageProperties().setCreatorProperty(&quot;Author Name&quot;);\n\n// continue as know with XSSFWorkbook\nworkbook = new XSSFWorkbook(opcPackage);\n</code></pre>\n"}],"owner":{"account_id":1534619,"reputation":525,"user_id":1430989,"accept_rate":86,"display_name":"user1430989"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17160,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":3,"score":23,"last_activity_date":1695219302,"creation_date":1340298833,"question_id":11143303,"body_markdown":"I&#39;m creating an excel (.xlsx) file using poi (java). After I create the excel file I see the excel file Author as &quot;Apache POI&quot;. Is there any way to change that?\r\n\r\nHere is the code I&#39;m using to create excel file...\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.Cell;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.usermodel.Sheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    public class CreateExcelFile {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t/** Name of excel file that we are going to create **/\r\n    \t\tString fileName = &quot;C:\\\\temp\\\\testPOIWrite.xlsx&quot;;\r\n    \t\twriteDataToExcelFile(fileName);\r\n    \t}\r\n    \r\n    \t/** This method writes data to new excel file **/\r\n    \tprivate static void writeDataToExcelFile(String fileName) {\r\n    \r\n    \t\tString[][] excelData = preapreDataToWriteToExcel();\r\n    \r\n    \t\tXSSFWorkbook myWorkBook = new XSSFWorkbook();\r\n    \t\tSheet mySheet = myWorkBook.createSheet();\r\n    \t\tRow myRow = null;\r\n    \t\tCell myCell = null;\r\n    \r\n    \t\tfor (int rowNum = 0; rowNum &lt; excelData[0].length; rowNum++) {\r\n    \t\t\tmyRow = mySheet.createRow(rowNum);\r\n    \r\n    \t\t\tfor (int cellNum = 0; cellNum &lt; 4; cellNum++) {\r\n    \t\t\t\tmyCell = myRow.createCell(cellNum);\r\n    \t\t\t\tmyCell.setCellValue(excelData[rowNum][cellNum]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tFileOutputStream out = new FileOutputStream(fileName);\r\n    \t\t\tmyWorkBook.write(out);\r\n    \t\t\tout.flush();\r\n    \t\t\tout.close();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t/** Prepare some demo data as excel file content **/\r\n    \tpublic static String[][] preapreDataToWriteToExcel() {\r\n    \t\tString[][] excelData = new String[4][4];\r\n    \t\texcelData[0][0] = &quot;First Name&quot;;\r\n    \t\texcelData[0][1] = &quot;Last Name&quot;;\r\n    \t\texcelData[0][2] = &quot;Telephone&quot;;\r\n    \t\texcelData[0][3] = &quot;Address&quot;;\r\n    \r\n    \t\texcelData[1][0] = &quot;Kushal&quot;;\r\n    \t\texcelData[1][1] = &quot;Paudyal&quot;;\r\n    \t\texcelData[1][2] = &quot;000-000-0000&quot;;\r\n    \t\texcelData[1][3] = &quot;IL,USA&quot;;\r\n    \r\n    \t\texcelData[2][0] = &quot;Randy&quot;;\r\n    \t\texcelData[2][1] = &quot;Ram Robinson&quot;;\r\n    \t\texcelData[2][2] = &quot;111-111-1111&quot;;\r\n    \t\texcelData[2][3] = &quot;TX, USA&quot;;\r\n    \r\n    \t\texcelData[3][0] = &quot;Phil&quot;;\r\n    \t\texcelData[3][1] = &quot;Collins&quot;;\r\n    \t\texcelData[3][2] = &quot;222-222-2222&quot;;\r\n    \t\texcelData[3][3] = &quot;NY, USA&quot;;\r\n    \r\n    \t\treturn excelData;\r\n    \r\n    \t}\r\n    }","title":"How to set Author name to excel file using poi","body":"<p>I'm creating an excel (.xlsx) file using poi (java). After I create the excel file I see the excel file Author as \"Apache POI\". Is there any way to change that?</p>\n\n<p>Here is the code I'm using to create excel file...</p>\n\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class CreateExcelFile {\n\n    public static void main(String[] args) {\n        /** Name of excel file that we are going to create **/\n        String fileName = \"C:\\\\temp\\\\testPOIWrite.xlsx\";\n        writeDataToExcelFile(fileName);\n    }\n\n    /** This method writes data to new excel file **/\n    private static void writeDataToExcelFile(String fileName) {\n\n        String[][] excelData = preapreDataToWriteToExcel();\n\n        XSSFWorkbook myWorkBook = new XSSFWorkbook();\n        Sheet mySheet = myWorkBook.createSheet();\n        Row myRow = null;\n        Cell myCell = null;\n\n        for (int rowNum = 0; rowNum &lt; excelData[0].length; rowNum++) {\n            myRow = mySheet.createRow(rowNum);\n\n            for (int cellNum = 0; cellNum &lt; 4; cellNum++) {\n                myCell = myRow.createCell(cellNum);\n                myCell.setCellValue(excelData[rowNum][cellNum]);\n            }\n        }\n\n        try {\n            FileOutputStream out = new FileOutputStream(fileName);\n            myWorkBook.write(out);\n            out.flush();\n            out.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    /** Prepare some demo data as excel file content **/\n    public static String[][] preapreDataToWriteToExcel() {\n        String[][] excelData = new String[4][4];\n        excelData[0][0] = \"First Name\";\n        excelData[0][1] = \"Last Name\";\n        excelData[0][2] = \"Telephone\";\n        excelData[0][3] = \"Address\";\n\n        excelData[1][0] = \"Kushal\";\n        excelData[1][1] = \"Paudyal\";\n        excelData[1][2] = \"000-000-0000\";\n        excelData[1][3] = \"IL,USA\";\n\n        excelData[2][0] = \"Randy\";\n        excelData[2][1] = \"Ram Robinson\";\n        excelData[2][2] = \"111-111-1111\";\n        excelData[2][3] = \"TX, USA\";\n\n        excelData[3][0] = \"Phil\";\n        excelData[3][1] = \"Collins\";\n        excelData[3][2] = \"222-222-2222\";\n        excelData[3][3] = \"NY, USA\";\n\n        return excelData;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","graphics","nvidia","amd-gpu"],"answers":[{"comments":[{"owner":{"account_id":18678697,"reputation":41,"user_id":13615792,"display_name":"aughhhhhhh"},"score":0,"creation_date":1609103270,"post_id":65428744,"comment_id":115749095,"body_markdown":"I asked for linux","body":"I asked for linux"}],"tags":[],"owner":{"account_id":13170665,"reputation":164,"user_id":9513183,"display_name":"Filip F."},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1608745947,"creation_date":1608745947,"answer_id":65428744,"question_id":65428632,"body_markdown":"On windows, you can try right click -&gt; Run with graphic processor, and than choose which processor you want to use.","title":"How to make a Java program run with my Nvidia GPU","body":"<p>On windows, you can try right click -&gt; Run with graphic processor, and than choose which processor you want to use.</p>\n"}],"owner":{"account_id":18678697,"reputation":41,"user_id":13615792,"display_name":"aughhhhhhh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695219259,"creation_date":1608745420,"question_id":65428632,"body_markdown":"I just want to run a java program but it is running with my AMD integrated GPU, how can I get this to run with my Nvidia GPU?","title":"How to make a Java program run with my Nvidia GPU","body":"<p>I just want to run a java program but it is running with my AMD integrated GPU, how can I get this to run with my Nvidia GPU?</p>\n"},{"tags":["java","linux","apache-camel","corba"],"answers":[{"tags":[],"owner":{"account_id":8945779,"reputation":145,"user_id":6673308,"display_name":"gshepherd7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695219023,"creation_date":1695219023,"answer_id":77143302,"question_id":77096332,"body_markdown":"Issue was a class loader problem related to two different jars having identical classes and which classes got loaded first based on the path.  Removing the unneeded jar fixed the issue.","title":"Apache Camel corba external connections fail under some Linux paths","body":"<p>Issue was a class loader problem related to two different jars having identical classes and which classes got loaded first based on the path.  Removing the unneeded jar fixed the issue.</p>\n"}],"owner":{"account_id":8945779,"reputation":145,"user_id":6673308,"display_name":"gshepherd7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77143302,"answer_count":1,"score":0,"last_activity_date":1695219023,"creation_date":1694601731,"question_id":77096332,"body_markdown":"I am using Apache Camel to connect to an external Corba name service. The system does have STIGs (Security Technical Implementation Guide) applied, SELinux and firewall policies in place. I can successfully connect to the Corba name service but only under some folders on the Linux machine. For instance, if I deploy my camel application under my home directory or /tmp it connects fine, but when I try under /opt or /usr it fails to connect. Also, if I make a copy of the /opt folder to /opts it connects fine.  I&#39;ve tried adjusting the SELinux labels, as well as disabling SELinux and iptables but the connection still fails under those folders.\r\n\r\nI am using OpenJDK 11 for my application but it is just the default installation without any security measures in place yet.\r\n\r\nAny ideas or things I can look at that may be causing this odd behavior with external corba connections under specific paths?","title":"Apache Camel corba external connections fail under some Linux paths","body":"<p>I am using Apache Camel to connect to an external Corba name service. The system does have STIGs (Security Technical Implementation Guide) applied, SELinux and firewall policies in place. I can successfully connect to the Corba name service but only under some folders on the Linux machine. For instance, if I deploy my camel application under my home directory or /tmp it connects fine, but when I try under /opt or /usr it fails to connect. Also, if I make a copy of the /opt folder to /opts it connects fine.  I've tried adjusting the SELinux labels, as well as disabling SELinux and iptables but the connection still fails under those folders.</p>\n<p>I am using OpenJDK 11 for my application but it is just the default installation without any security measures in place yet.</p>\n<p>Any ideas or things I can look at that may be causing this odd behavior with external corba connections under specific paths?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695218180,"post_id":77143137,"comment_id":135995121,"body_markdown":"Please use [code format](https://stackoverflow.com/editing-help#code) for code, errors and logs.","body":"Please use <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> for code, errors and logs."},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1695218224,"post_id":77143137,"comment_id":135995130,"body_markdown":"@aled, I don&#39;t think there is an error or any log to mention. OP has asked a real simple question","body":"@aled, I don&#39;t think there is an error or any log to mention. OP has asked a real simple question"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695218273,"post_id":77143137,"comment_id":135995145,"body_markdown":"There is code, small as it may be. Formatting makes it easier to read the question.","body":"There is code, small as it may be. Formatting makes it easier to read the question."},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1695218300,"post_id":77143137,"comment_id":135995155,"body_markdown":"Yes @aled, I totally agree with the formatting part :)","body":"Yes @aled, I totally agree with the formatting part :)"},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1695218336,"post_id":77143137,"comment_id":135995164,"body_markdown":"If you want to distinguish between `null` and `0`, you could just use `java.lang.Integer`","body":"If you want to distinguish between <code>null</code> and <code>0</code>, you could just use <code>java.lang.Integer</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1695218342,"post_id":77143137,"comment_id":135995165,"body_markdown":"Please format your code in your questions, regardless how small. This&#39;ll make it way better readable. This time I fix the formatting for you.","body":"Please format your code in your questions, regardless how small. This&#39;ll make it way better readable. This time I fix the formatting for you."}],"answers":[{"tags":[],"owner":{"account_id":22633544,"reputation":588,"user_id":16810646,"display_name":"Ananta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695218201,"creation_date":1695218201,"answer_id":77143177,"question_id":77143137,"body_markdown":"You just have to change field age to type Integer. If no paramater passed, it will be null.","title":"Java pojo setter return type is int but getter return type is string","body":"<p>You just have to change field age to type Integer. If no paramater passed, it will be null.</p>\n"},{"comments":[{"owner":{"account_id":21238440,"reputation":7,"user_id":15622306,"display_name":"Intekhab Alam"},"score":0,"creation_date":1695219073,"post_id":77143288,"comment_id":135995339,"body_markdown":"kiese, still i will get zero value, so my @NotNull validation won&#39;t work brother.","body":"kiese, still i will get zero value, so my @NotNull validation won&#39;t work brother."}],"tags":[],"owner":{"account_id":29009333,"reputation":19,"user_id":22221152,"display_name":"Kiese"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695218960,"creation_date":1695218960,"answer_id":77143288,"question_id":77143137,"body_markdown":"Try making a default constructor   \r\n\r\n    EmployeeRequest(String name){\r\n    this.name = name;\r\n    this.age = 0;\r\n    }\r\n\r\n","title":"Java pojo setter return type is int but getter return type is string","body":"<p>Try making a default constructor</p>\n<pre><code>EmployeeRequest(String name){\nthis.name = name;\nthis.age = 0;\n}\n</code></pre>\n"}],"owner":{"account_id":21238440,"reputation":7,"user_id":15622306,"display_name":"Intekhab Alam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1695218960,"creation_date":1695217845,"question_id":77143137,"body_markdown":"I am creating an API, \r\n\r\nMy controller is \r\n\r\n```java\r\npublic EmployeeResponse(@RequestBody EmployeeRequest reqPacket) { }\r\n```\r\n\r\nMy pojo class is\r\n\r\n```\r\nEmployeeRequest {\r\n    int age;\r\n    String name;\r\n}\r\n```\r\n\r\nSo basically my `getAge()` and and `setAge()` methods shall be dealing with int type only\r\n\r\nNow, if my request packet is \r\n\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;smith&quot;\r\n}\r\n```\r\n\r\nMeans age parameter is not there in request packet\r\n\r\nSo in my controller it shall be by default set by zero (because type is int)\r\n\r\nBut I want to know if i got age field in request packet or not.\r\n\r\nWhat is best solution for this?\r\n\r\nI can&#39;t even use `@NotNull` annotation.. because default value is zero for int type.. so it won&#39;t work..\r\n\r\nCan I make getter type as string and setter type again as int?\r\n\r\n","title":"Java pojo setter return type is int but getter return type is string","body":"<p>I am creating an API,</p>\n<p>My controller is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public EmployeeResponse(@RequestBody EmployeeRequest reqPacket) { }\n</code></pre>\n<p>My pojo class is</p>\n<pre><code>EmployeeRequest {\n    int age;\n    String name;\n}\n</code></pre>\n<p>So basically my <code>getAge()</code> and and <code>setAge()</code> methods shall be dealing with int type only</p>\n<p>Now, if my request packet is</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;smith&quot;\n}\n</code></pre>\n<p>Means age parameter is not there in request packet</p>\n<p>So in my controller it shall be by default set by zero (because type is int)</p>\n<p>But I want to know if i got age field in request packet or not.</p>\n<p>What is best solution for this?</p>\n<p>I can't even use <code>@NotNull</code> annotation.. because default value is zero for int type.. so it won't work..</p>\n<p>Can I make getter type as string and setter type again as int?</p>\n"},{"tags":["java","http","asynchronous"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691497268,"post_id":76859507,"comment_id":135497056,"body_markdown":"Because there&#39;s nothing that waits for that async call to complete","body":"Because there&#39;s nothing that waits for that async call to complete"}],"answers":[{"comments":[{"owner":{"account_id":21675058,"reputation":19,"user_id":15992163,"display_name":"Morgan Wolf"},"score":0,"creation_date":1695218322,"post_id":76859621,"comment_id":135995160,"body_markdown":"I understand what you mean but I know when the call is &quot;done&quot; because I&#39;m sending a request to my own server which logs a line when he get the request.\nIf I wait for the response with a get(), I need to wait the full time of the response, which might be long and I don&#39;t want that.","body":"I understand what you mean but I know when the call is &quot;done&quot; because I&#39;m sending a request to my own server which logs a line when he get the request. If I wait for the response with a get(), I need to wait the full time of the response, which might be long and I don&#39;t want that."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1695222885,"post_id":76859621,"comment_id":135996348,"body_markdown":"&quot;You knowing&quot; means nothing to the client software.  Anyway, you don&#39;t need to &quot;wait&quot;.  There are  other ways to deal with async operations.  But &quot;issue the request and forget about it&quot; is not one of them.","body":"&quot;You knowing&quot; means nothing to the client software.  Anyway, you don&#39;t need to &quot;wait&quot;.  There are  other ways to deal with async operations.  But &quot;issue the request and forget about it&quot; is not one of them."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1695223252,"post_id":76859621,"comment_id":135996461,"body_markdown":"If nothing else, replace your &#39;sleep&#39; by a [get with timeout](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#get-long-java.util.concurrent.TimeUnit-) on the Future.   Print a good message if it times out, rather than claiming &#39;request done&#39;.","body":"If nothing else, replace your &#39;sleep&#39; by a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#get-long-java.util.concurrent.TimeUnit-\" rel=\"nofollow noreferrer\">get with timeout</a> on the Future.   Print a good message if it times out, rather than claiming &#39;request done&#39;."}],"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691498371,"creation_date":1691498043,"answer_id":76859621,"question_id":76859507,"body_markdown":"The call is asynchronous. This means that it is executing independently of its calling thread.  You don&#39;t know that it is &#39;done&#39; unless and until you get a notification that it is done.\r\n\r\nGetting the notification is precisely why the &#39;sendAsync&#39; call returns a Future.  Wait on the Future in your callRequest method (via &#39;get&#39;, for example), don&#39;t just ignore it. \r\n\r\nI read that you don&#39;t need the response, but the API you&#39;ve chosen to use gives no way to know that the request has even left the local system, much less arrived in the remote server. Without some sort of response you cannot know if and when the server has seen the request; that is unknowable. (At the TCP level, an ack just means it&#39;s got as far as the remote TCP stack). Thus awaiting a response is the only way this can be made reliable.\r\n\r\n[Doc for CompleteableFuture](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html)\r\n\r\n\r\n ","title":"Using httpClient.sendAsync(...) do not send request if thread terminate too early","body":"<p>The call is asynchronous. This means that it is executing independently of its calling thread.  You don't know that it is 'done' unless and until you get a notification that it is done.</p>\n<p>Getting the notification is precisely why the 'sendAsync' call returns a Future.  Wait on the Future in your callRequest method (via 'get', for example), don't just ignore it.</p>\n<p>I read that you don't need the response, but the API you've chosen to use gives no way to know that the request has even left the local system, much less arrived in the remote server. Without some sort of response you cannot know if and when the server has seen the request; that is unknowable. (At the TCP level, an ack just means it's got as far as the remote TCP stack). Thus awaiting a response is the only way this can be made reliable.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">Doc for CompleteableFuture</a></p>\n"}],"owner":{"account_id":21675058,"reputation":19,"user_id":15992163,"display_name":"Morgan Wolf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695218214,"creation_date":1691497187,"question_id":76859507,"body_markdown":"I&#39;m using java.net.http.HttpClient to send some request and ignore the response but when I tried to test I noticed that the request are not sent if I don&#39;t wait a little.\r\n\r\nI have a very simple method:\r\n\r\n    public CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; getAsyncHttp(final String url) {\r\n        HttpClient httpClient = HttpClient.newHttpClient();\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n                .uri(URI.create(url))\r\n                .build();\r\n        System.out.println(&quot;Send request : &quot; + url);\r\n        return httpClient.sendAsync(request, HttpResponse.BodyHandlers.ofString());\r\n    }\r\n\r\nthat I call like so:\r\n\r\n    private static void callRequest(){\r\n        HttpAsyncRequest httpAsyncRequest = new HttpAsyncRequest();\r\n        String URL = &quot;http://localhost:3000/test&quot;;\r\n        httpAsyncRequest.getAsyncHttp(URL);\r\n        System.out.println(&quot;Request done.&quot;);\r\n        // we exit here basically\r\n    }\r\n\r\nI&#39;m just trying to send the http request and ignore the response on purpose but the request is not sent.\r\n\r\nHowever, If change my callRequest() method and add a thread sleep\r\n\r\n    private static void callRequest() throws InterruptedException {\r\n        HttpAsyncRequest httpAsyncRequest = new HttpAsyncRequest();\r\n        String URL = &quot;http://localhost:3000/test&quot;;\r\n        httpAsyncRequest.getAsyncHttp(URL);\r\n        Thread.sleep(100); // line added\r\n        System.out.println(&quot;Request done.&quot;);\r\n        // we exit here basically\r\n    }\r\n\r\nNow the request is sent but it is very weird to need to add a thread sleep when I am not waiting for the server since I&#39;m simply sending the request.\r\n\r\nCan people reproduce this issue or care to explain why it happens ?\r\n\r\nThank you.","title":"Using httpClient.sendAsync(...) do not send request if thread terminate too early","body":"<p>I'm using java.net.http.HttpClient to send some request and ignore the response but when I tried to test I noticed that the request are not sent if I don't wait a little.</p>\n<p>I have a very simple method:</p>\n<pre><code>public CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; getAsyncHttp(final String url) {\n    HttpClient httpClient = HttpClient.newHttpClient();\n    HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(url))\n            .build();\n    System.out.println(&quot;Send request : &quot; + url);\n    return httpClient.sendAsync(request, HttpResponse.BodyHandlers.ofString());\n}\n</code></pre>\n<p>that I call like so:</p>\n<pre><code>private static void callRequest(){\n    HttpAsyncRequest httpAsyncRequest = new HttpAsyncRequest();\n    String URL = &quot;http://localhost:3000/test&quot;;\n    httpAsyncRequest.getAsyncHttp(URL);\n    System.out.println(&quot;Request done.&quot;);\n    // we exit here basically\n}\n</code></pre>\n<p>I'm just trying to send the http request and ignore the response on purpose but the request is not sent.</p>\n<p>However, If change my callRequest() method and add a thread sleep</p>\n<pre><code>private static void callRequest() throws InterruptedException {\n    HttpAsyncRequest httpAsyncRequest = new HttpAsyncRequest();\n    String URL = &quot;http://localhost:3000/test&quot;;\n    httpAsyncRequest.getAsyncHttp(URL);\n    Thread.sleep(100); // line added\n    System.out.println(&quot;Request done.&quot;);\n    // we exit here basically\n}\n</code></pre>\n<p>Now the request is sent but it is very weird to need to add a thread sleep when I am not waiting for the server since I'm simply sending the request.</p>\n<p>Can people reproduce this issue or care to explain why it happens ?</p>\n<p>Thank you.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"owner":{"account_id":21939854,"reputation":27,"user_id":16220550,"display_name":"Kuroosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695217579,"creation_date":1695217579,"question_id":77143092,"body_markdown":"I have a strange problem with Google&#39;s new **Chrome for Testing** application. Suddenly all my mobile test failing, because at one point the view switches back from mobile to normal. Window size stayes untouched (390x844).\r\n\r\nIt happens after a button is pressed, whose href tag looks something like this: `href=&quot;/page/example/&quot;`, so it doesn&#39;t contains `&quot;/mobile&quot;`, some other buttons contain it. However, this cannot be the fault, because I tried it manually and it did not switch back like that, only when Selenium clicks it.\r\n\r\nHas anyone encountered a similar problem or have any ideas why this might be?","title":"Chrome for Testing: Website&#39;s mobile view testing switches back to basic","body":"<p>I have a strange problem with Google's new <strong>Chrome for Testing</strong> application. Suddenly all my mobile test failing, because at one point the view switches back from mobile to normal. Window size stayes untouched (390x844).</p>\n<p>It happens after a button is pressed, whose href tag looks something like this: <code>href=&quot;/page/example/&quot;</code>, so it doesn't contains <code>&quot;/mobile&quot;</code>, some other buttons contain it. However, this cannot be the fault, because I tried it manually and it did not switch back like that, only when Selenium clicks it.</p>\n<p>Has anyone encountered a similar problem or have any ideas why this might be?</p>\n"},{"tags":["java","css","spring-boot","intellij-idea","vaadin24"],"owner":{"account_id":169380,"reputation":1471,"user_id":395430,"accept_rate":100,"display_name":"tagtraeumer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695217197,"creation_date":1695026450,"question_id":77125651,"body_markdown":"i am migrating my spring boot application (might be unrelated, just happened to pop up now) to spring boot 3 (and vaadin 24) and next to other differences i encountered a strange behaviour that never happened to me before:\r\n\r\nwhen i run my application from IDE (normal spring boot application config with some custom environment variables) and call the website, a lot (but not all) static resources are not found (css, images).\r\nHere&#39;s some infos and things i found out:\r\n\r\n - all my static files are in /src/main/resource/static/**\r\n - when i check my /target folder, i can see ALL static files exist in /target/classes/static/**\r\n - However, for example /static/css/styleA.css will be loaded, while /static/css/styleB.css throws a 404 (**remember, BOTH exist in /target and are even in the exact same sub-folder**)\r\n - this also happens, when i call the URL directly (instead of calling a website/view that imports the stylesheet or images)\r\n - when i build the package with maven (mvn clean package spring-boot:repackage -Pproduction), and run the resulting war in console, all css and images can be loaded\r\n - i already cleared the intellij cache with no success\r\n - all my requests i did with developer options/network tab open and cache disabled\r\n - my security config is attached at the end (special filter to allow a third parameter - client - for login)\r\n - when i run\r\n&gt; getClass().getResource(&quot;/static/css/styleA.css&quot;); &lt;br&gt;\r\n&gt; getClass().getResource(&quot;/static/css/styleB.css&quot;);\r\n\r\nboth paths point to the /target/classes/** folder. \r\n\r\ni hope anyone can give me a hint or has an idea where this problem could come from. if you need more info just write into the comment, i try to deliver them as precisely as possible.\r\n\r\n            http.csrf(AbstractHttpConfigurer::disable)\r\n                .requestCache(c -&gt; c.requestCache(new CustomRequestCache()))\r\n                .addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class)\r\n                .authorizeHttpRequests(a -&gt;\r\n                        a.requestMatchers(SecurityUtils::isFrameworkInternalRequest,\r\n                                        antMatcher(&quot;/&quot;),\r\n                                        antMatcher(&quot;/login&quot;),\r\n                                        antMatcher(&quot;/icons/**&quot;),\r\n                                        antMatcher(&quot;/sw.js&quot;),\r\n                                        antMatcher(&quot;/manifest.webmanifest&quot;),\r\n                                        antMatcher(&quot;/static/**&quot;),\r\n                                        antMatcher(&quot;/healthy/**&quot;),\r\n                                        antMatcher(&quot;/VAADIN/**&quot;),\r\n                                        antMatcher(&quot;/frontend/**&quot;),\r\n                                        antMatcher(&quot;/frontend-es5/**&quot;),\r\n                                        antMatcher(&quot;/frontend-es6/**&quot;)).permitAll()\r\n                                .anyRequest().authenticated()\r\n                )\r\n                .formLogin(l -&gt; l.loginPage(&quot;/login&quot;).permitAll())\r\n                .headers(h -&gt; h.frameOptions(FrameOptionsConfig::sameOrigin))\r\n                .sessionManagement(m -&gt; m.sessionCreationPolicy(SessionCreationPolicy.ALWAYS))\r\n                .securityContext(c -&gt; c.securityContextRepository(securityContextRepository()));\r\n\r\n        return http.build();","title":"SOME css and images not loaded in spring boot run (IntelliJ)","body":"<p>i am migrating my spring boot application (might be unrelated, just happened to pop up now) to spring boot 3 (and vaadin 24) and next to other differences i encountered a strange behaviour that never happened to me before:</p>\n<p>when i run my application from IDE (normal spring boot application config with some custom environment variables) and call the website, a lot (but not all) static resources are not found (css, images).\nHere's some infos and things i found out:</p>\n<ul>\n<li>all my static files are in /src/main/resource/static/**</li>\n<li>when i check my /target folder, i can see ALL static files exist in /target/classes/static/**</li>\n<li>However, for example /static/css/styleA.css will be loaded, while /static/css/styleB.css throws a 404 (<strong>remember, BOTH exist in /target and are even in the exact same sub-folder</strong>)</li>\n<li>this also happens, when i call the URL directly (instead of calling a website/view that imports the stylesheet or images)</li>\n<li>when i build the package with maven (mvn clean package spring-boot:repackage -Pproduction), and run the resulting war in console, all css and images can be loaded</li>\n<li>i already cleared the intellij cache with no success</li>\n<li>all my requests i did with developer options/network tab open and cache disabled</li>\n<li>my security config is attached at the end (special filter to allow a third parameter - client - for login)</li>\n<li>when i run</li>\n</ul>\n<blockquote>\n<p>getClass().getResource(&quot;/static/css/styleA.css&quot;); <br>\ngetClass().getResource(&quot;/static/css/styleB.css&quot;);</p>\n</blockquote>\n<p>both paths point to the /target/classes/** folder.</p>\n<p>i hope anyone can give me a hint or has an idea where this problem could come from. if you need more info just write into the comment, i try to deliver them as precisely as possible.</p>\n<pre><code>        http.csrf(AbstractHttpConfigurer::disable)\n            .requestCache(c -&gt; c.requestCache(new CustomRequestCache()))\n            .addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class)\n            .authorizeHttpRequests(a -&gt;\n                    a.requestMatchers(SecurityUtils::isFrameworkInternalRequest,\n                                    antMatcher(&quot;/&quot;),\n                                    antMatcher(&quot;/login&quot;),\n                                    antMatcher(&quot;/icons/**&quot;),\n                                    antMatcher(&quot;/sw.js&quot;),\n                                    antMatcher(&quot;/manifest.webmanifest&quot;),\n                                    antMatcher(&quot;/static/**&quot;),\n                                    antMatcher(&quot;/healthy/**&quot;),\n                                    antMatcher(&quot;/VAADIN/**&quot;),\n                                    antMatcher(&quot;/frontend/**&quot;),\n                                    antMatcher(&quot;/frontend-es5/**&quot;),\n                                    antMatcher(&quot;/frontend-es6/**&quot;)).permitAll()\n                            .anyRequest().authenticated()\n            )\n            .formLogin(l -&gt; l.loginPage(&quot;/login&quot;).permitAll())\n            .headers(h -&gt; h.frameOptions(FrameOptionsConfig::sameOrigin))\n            .sessionManagement(m -&gt; m.sessionCreationPolicy(SessionCreationPolicy.ALWAYS))\n            .securityContext(c -&gt; c.securityContextRepository(securityContextRepository()));\n\n    return http.build();\n</code></pre>\n"},{"tags":["java","scheduled-tasks","quarkus","stopwatch"],"answers":[{"comments":[{"owner":{"account_id":29491235,"reputation":13,"user_id":22600216,"display_name":"Martin"},"score":0,"creation_date":1695283416,"post_id":77143034,"comment_id":136004439,"body_markdown":"Good morning. Can you explain me what are the main differences and advantages between your code and mine?\n\nI tried actually this: @Scheduled(every = maxLifetimeBearerToken+&quot;s&quot;, skipExecutionIf = TestPredicate.class)","body":"Good morning. Can you explain me what are the main differences and advantages between your code and mine?  I tried actually this: @Scheduled(every = maxLifetimeBearerToken+&quot;s&quot;, skipExecutionIf = TestPredicate.class)"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1695290135,"post_id":77143034,"comment_id":136005883,"body_markdown":"@MartinH The advantage of this approach is that you refresh the token with a single operation, while your current approach uses many operations. If the token is valid for  1 hour, you will do 3600 checks and all of them, except for the last one are simply not needed.","body":"@MartinH The advantage of this approach is that you refresh the token with a single operation, while your current approach uses many operations. If the token is valid for  1 hour, you will do 3600 checks and all of them, except for the last one are simply not needed."},{"owner":{"account_id":29491235,"reputation":13,"user_id":22600216,"display_name":"Martin"},"score":0,"creation_date":1695361109,"post_id":77143034,"comment_id":136016612,"body_markdown":"Thank you for your explanation and when I think about my solution, you are absolutely right. I will change it. Thank you very much and have a good start into the weekend.","body":"Thank you for your explanation and when I think about my solution, you are absolutely right. I will change it. Thank you very much and have a good start into the weekend."}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695217182,"creation_date":1695217182,"answer_id":77143034,"question_id":77142565,"body_markdown":"Since you know the lifetime of the token, you can schedule a one time task to refresh it at the right time. I&#39;ll use java&#39;s scheduler to demonstrate the logic, it should be fairly easy to translate to the framework you are using.\r\n```\r\n//get the token\r\nlong maxLifetimeBearerToken = //get validity from token\r\nScheduledExecutorService service = Executors.newSingleThreadScheduledExecutor();\r\nRunnable refreshTokenAction = () -&gt; {\r\n  //refresh the token\r\n  //register next task\r\n};\r\nservice.schedule(refreshTokenAction, maxLifetimeBearerToken, TimeUnit.MILLISECONDS);//or other timeunit, depending on what is maxLifetimeBearerToken\r\n```\r\nThis uses [ScheduledExecutorService.submit()][1] to register a task for single execution:\r\n\r\n&gt; Submits a one-shot task that becomes enabled after the given delay.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#schedule(java.lang.Runnable,long,java.util.concurrent.TimeUnit)","title":"Java permanently running Task to check time","body":"<p>Since you know the lifetime of the token, you can schedule a one time task to refresh it at the right time. I'll use java's scheduler to demonstrate the logic, it should be fairly easy to translate to the framework you are using.</p>\n<pre><code>//get the token\nlong maxLifetimeBearerToken = //get validity from token\nScheduledExecutorService service = Executors.newSingleThreadScheduledExecutor();\nRunnable refreshTokenAction = () -&gt; {\n  //refresh the token\n  //register next task\n};\nservice.schedule(refreshTokenAction, maxLifetimeBearerToken, TimeUnit.MILLISECONDS);//or other timeunit, depending on what is maxLifetimeBearerToken\n</code></pre>\n<p>This uses <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#schedule(java.lang.Runnable,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">ScheduledExecutorService.submit()</a> to register a task for single execution:</p>\n<blockquote>\n<p>Submits a one-shot task that becomes enabled after the given delay.</p>\n</blockquote>\n"}],"owner":{"account_id":29491235,"reputation":13,"user_id":22600216,"display_name":"Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77143034,"answer_count":1,"score":1,"last_activity_date":1695217182,"creation_date":1695213789,"question_id":77142565,"body_markdown":"I have written a task that runs as Scheduled (every Second). I need this scheduled method to monitor the lifetime of a bearer token.\r\n\r\nI&#39;m new to Java and wondering if there isn&#39;t a better, more elegant solution. I didn&#39;t find anything suitable using the search. Maybe I also used the wrong terms.\r\n\r\nI used: StopWatch (org.apache.commons commons-lang3 Version 3.13.0)\r\nTo build and test, I use Maven and Quarkus. (io.quarkus.scheduler.Scheduled)\r\n\r\nMy Scheduled Method:\r\n\r\n```\r\n@Scheduled(every = &quot;1s&quot;)\r\n    public void checkStopuhr() {\r\n        if (stopwatch.isStarted() &amp;&amp; (stopwatch.getTime() / 1000) &gt;= maxLifetimeBearerToken) {\r\n            try {\r\n                //System.out.println(&quot;Stopuhr vor reset: &quot; + stopwatch.getTime());\r\n                refreshBearer(clientAppId);\r\n            } catch (IOException e) {\r\n                logger.atError().log(&quot;Error Methode: ServiceTokenImpl.checkStopuhr(), Fehler beim Erstellen eines neuen Bearer-Tokens.&quot;);\r\n            }\r\n        } else if(stopwatch.isStarted() &amp;&amp; (stopwatch.getTime()/1000) &gt; (maxLifetimeBearerToken + 1)){\r\n            logger.atWarn().log(&quot;Die Stopuhr funktioniert nicht richtig. Sie wurde ausgel&#246;st bei {} Sekunden&quot;,stopwatch.getTime()/1000);\r\n\r\n        } else {\r\n            if(stopwatch.isStarted()){\r\n                System.out.println(&quot;verstrichene Zeit = &quot; +stopwatch.getTime()/1000);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nMaybe one of you has a good idea that is understandable for me as a beginner?","title":"Java permanently running Task to check time","body":"<p>I have written a task that runs as Scheduled (every Second). I need this scheduled method to monitor the lifetime of a bearer token.</p>\n<p>I'm new to Java and wondering if there isn't a better, more elegant solution. I didn't find anything suitable using the search. Maybe I also used the wrong terms.</p>\n<p>I used: StopWatch (org.apache.commons commons-lang3 Version 3.13.0)\nTo build and test, I use Maven and Quarkus. (io.quarkus.scheduler.Scheduled)</p>\n<p>My Scheduled Method:</p>\n<pre><code>@Scheduled(every = &quot;1s&quot;)\n    public void checkStopuhr() {\n        if (stopwatch.isStarted() &amp;&amp; (stopwatch.getTime() / 1000) &gt;= maxLifetimeBearerToken) {\n            try {\n                //System.out.println(&quot;Stopuhr vor reset: &quot; + stopwatch.getTime());\n                refreshBearer(clientAppId);\n            } catch (IOException e) {\n                logger.atError().log(&quot;Error Methode: ServiceTokenImpl.checkStopuhr(), Fehler beim Erstellen eines neuen Bearer-Tokens.&quot;);\n            }\n        } else if(stopwatch.isStarted() &amp;&amp; (stopwatch.getTime()/1000) &gt; (maxLifetimeBearerToken + 1)){\n            logger.atWarn().log(&quot;Die Stopuhr funktioniert nicht richtig. Sie wurde ausgelst bei {} Sekunden&quot;,stopwatch.getTime()/1000);\n\n        } else {\n            if(stopwatch.isStarted()){\n                System.out.println(&quot;verstrichene Zeit = &quot; +stopwatch.getTime()/1000);\n            }\n        }\n    }\n</code></pre>\n<p>Maybe one of you has a good idea that is understandable for me as a beginner?</p>\n"},{"tags":["java","amazon-web-services","jce","openjdk-11"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1569923759,"post_id":58182231,"comment_id":102744473,"body_markdown":"The stacktrace contains the full details of the exception. Use `e.printStackTrace()` so you don&#39;t lose the actual information you&#39;re interested in.","body":"The stacktrace contains the full details of the exception. Use <code>e.printStackTrace()</code> so you don&#39;t lose the actual information you&#39;re interested in."},{"owner":{"account_id":146274,"reputation":3851,"user_id":356629,"accept_rate":100,"display_name":"kenny_k"},"score":0,"creation_date":1569923863,"post_id":58182231,"comment_id":102744523,"body_markdown":"As @Kayaman said, please edit your question to include the full stracktrace, not just the first 2 lines.","body":"As @Kayaman said, please edit your question to include the full stracktrace, not just the first 2 lines."},{"owner":{"account_id":9966483,"reputation":157,"user_id":7374044,"display_name":"user7374044"},"score":0,"creation_date":1569925788,"post_id":58182231,"comment_id":102745523,"body_markdown":"@kenny_k changed - please now check","body":"@kenny_k changed - please now check"}],"answers":[{"comments":[{"owner":{"account_id":9966483,"reputation":157,"user_id":7374044,"display_name":"user7374044"},"score":0,"creation_date":1569938698,"post_id":58183460,"comment_id":102752702,"body_markdown":"Thank you - this solution worked for me! I&#39;ve redownloaded the amazon corretto JDK and copy to network share. After that - no problems.","body":"Thank you - this solution worked for me! I&#39;ve redownloaded the amazon corretto JDK and copy to network share. After that - no problems."}],"tags":[],"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1569928033,"creation_date":1569927665,"answer_id":58183460,"question_id":58182231,"body_markdown":"The clue is in last cause in your stack trace:&lt;br/&gt;\r\n`Caused by: java.lang.SecurityException: Can&#39;t read cryptographic policy directory: unlimited`\r\n\r\n&lt;h2&gt;down the rabit hole:&lt;/h2&gt;\r\n - Verify where your security policies are coming from by inspecting  `java.security.properties` from within running JVM:\r\n\r\n        System.getProperty(&quot;java.security.properties&quot;);\r\n\r\n It should be present and pointing at a file. Inspect that file and make sure it has the following property `crypto.policy=unlimited` and the folder called **unlimited** is available from where the policy file is. The policy file itself should explain where to look for this folder.\r\n\r\n For Coretto it is `&lt;jre_home&gt;/conf/security/policy/`\r\n&lt;br/&gt;\r\n\r\n - You can modify the location of the security policy by starting your JVM and passing it the location of the policy file:&lt;br/&gt; `java -Djava.security.properties==/conf/security/java.security`\r\n&lt;br/&gt;OR&lt;br/&gt;`java -Djava.security.properties=/conf/security/java.security`\r\n\r\n Additional `=`sign in the first case **will cause Java to use only properties in the file you pointing at**. &lt;br/&gt;The second option **will add / update the properties defined in the file**.\r\n&lt;br/&gt;\r\n - Lastly you have to dig around your **Correto 11** to find the policy file.&lt;br/&gt;\r\nThe paths above are taken from [amazon-corretto-11.0.3.7.1-linux-x64.tar.gz][1]\r\n\r\n\r\n  [1]: https://d3pxv6yz143wms.cloudfront.net/11.0.3.7.1/amazon-corretto-11.0.3.7.1-linux-x64.tar.gz","title":"OpenJDK 11 error &quot;Can not initialize cryptographic mechanism&quot;","body":"<p>The clue is in last cause in your stack trace:<br/>\n<code>Caused by: java.lang.SecurityException: Can't read cryptographic policy directory: unlimited</code></p>\n\n<h2>down the rabit hole:</h2>\n\n<ul>\n<li><p>Verify where your security policies are coming from by inspecting  <code>java.security.properties</code> from within running JVM:</p>\n\n<pre><code>System.getProperty(\"java.security.properties\");\n</code></pre>\n\n<p>It should be present and pointing at a file. Inspect that file and make sure it has the following property <code>crypto.policy=unlimited</code> and the folder called <strong>unlimited</strong> is available from where the policy file is. The policy file itself should explain where to look for this folder.</p>\n\n<p>For Coretto it is <code>&lt;jre_home&gt;/conf/security/policy/</code>\n<br/></p></li>\n<li><p>You can modify the location of the security policy by starting your JVM and passing it the location of the policy file:<br/> <code>java -Djava.security.properties==/conf/security/java.security</code>\n<br/>OR<br/><code>java -Djava.security.properties=/conf/security/java.security</code></p>\n\n<p>Additional <code>=</code>sign in the first case <strong>will cause Java to use only properties in the file you pointing at</strong>. <br/>The second option <strong>will add / update the properties defined in the file</strong>.\n<br/></p></li>\n<li>Lastly you have to dig around your <strong>Correto 11</strong> to find the policy file.<br/>\nThe paths above are taken from <a href=\"https://d3pxv6yz143wms.cloudfront.net/11.0.3.7.1/amazon-corretto-11.0.3.7.1-linux-x64.tar.gz\" rel=\"noreferrer\">amazon-corretto-11.0.3.7.1-linux-x64.tar.gz</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1816815,"reputation":178,"user_id":1651744,"display_name":"siddmuk2005"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695216977,"creation_date":1695216977,"answer_id":77143005,"question_id":58182231,"body_markdown":"Check the conf folder exist or not? if conf folder is not there then this issue comes most of the time. as conf folder contain security related policy.","title":"OpenJDK 11 error &quot;Can not initialize cryptographic mechanism&quot;","body":"<p>Check the conf folder exist or not? if conf folder is not there then this issue comes most of the time. as conf folder contain security related policy.</p>\n"}],"owner":{"account_id":9966483,"reputation":157,"user_id":7374044,"display_name":"user7374044"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13535,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1695216977,"creation_date":1569923414,"question_id":58182231,"body_markdown":"I have an app written with openJDK (Amazon Correto 11) and openJFX.\r\n\r\nWhen I run the app locally - everything works. \r\nBut when I execute the app from network share there is an Exception: \r\n```\r\njava.lang.ExceptionInInitializerError\r\n\tat java.base/javax.crypto.JceSecurityManager.&lt;clinit&gt;(JceSecurityManager.java:65)\r\n\tat java.base/javax.crypto.Cipher.getConfiguredPermission(Cipher.java:2624)\r\n\tat java.base/javax.crypto.Cipher.getMaxAllowedKeyLength(Cipher.java:2646)\r\n\tat java.base/sun.security.ssl.SSLCipher.isUnlimited(SSLCipher.java:540)\r\n\tat java.base/sun.security.ssl.SSLCipher.&lt;init&gt;(SSLCipher.java:472)\r\n\tat java.base/sun.security.ssl.SSLCipher.&lt;clinit&gt;(SSLCipher.java:174)\r\n\tat java.base/sun.security.ssl.CipherSuite.&lt;clinit&gt;(CipherSuite.java:67)\r\n\tat java.base/sun.security.ssl.SSLContextImpl.getApplicableSupportedCipherSuites(SSLContextImpl.java:348)\r\n\tat java.base/sun.security.ssl.SSLContextImpl$AbstractTLSContext.&lt;clinit&gt;(SSLContextImpl.java:579)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:315)\r\n\tat java.base/java.security.Provider$Service.getImplClass(Provider.java:1848)\r\n\tat java.base/java.security.Provider$Service.newInstance(Provider.java:1824)\r\n\tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\r\n\tat java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\r\n\tat java.base/javax.net.ssl.SSLContext.getInstance(SSLContext.java:168)\r\n\tat org.apache.http.ssl.SSLContexts.createDefault(SSLContexts.java:51)\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.getSocketFactory(SSLConnectionSocketFactory.java:194)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.getDefaultRegistry(PoolingHttpClientConnectionManager.java:115)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:122)\r\n\tat com.mashape.unirest.http.options.Options.refresh(Options.java:72)\r\n\tat com.mashape.unirest.http.options.Options.&lt;clinit&gt;(Options.java:46)\r\n\tat com.mashape.unirest.http.HttpClientHelper.prepareRequest(HttpClientHelper.java:151)\r\n\tat com.mashape.unirest.http.HttpClientHelper.request(HttpClientHelper.java:131)\r\n\tat com.mashape.unirest.request.BaseRequest.asString(BaseRequest.java:56)\r\n\tat myapp.util.MyTaxNumberValidator$3.run(MyTaxNumberValidator.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.SecurityException: Can not initialize cryptographic mechanism\r\n\tat java.base/javax.crypto.JceSecurity.&lt;clinit&gt;(JceSecurity.java:120)\r\n\t... 27 more\r\nCaused by: java.lang.SecurityException: Can&#39;t read cryptographic policy directory: unlimited\r\n\tat java.base/javax.crypto.JceSecurity.setupJurisdictionPolicies(JceSecurity.java:326)\r\n\tat java.base/javax.crypto.JceSecurity$1.run(JceSecurity.java:111)\r\n\tat java.base/javax.crypto.JceSecurity$1.run(JceSecurity.java:108)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/javax.crypto.JceSecurity.&lt;clinit&gt;(JceSecurity.java:107)\r\n\t... 27 more\r\n```\r\n\r\nI run an app using command:\r\n\r\n`\\\\\\some-network-share\\app\\jre\\bin\\javaw.exe -jar myapp.jar`\r\n\r\nbecause on this network share I&#39;ve copied Amazon Correto 11 JDK files and other libs I use for the app.\r\n\r\n\r\nI run get request in another thread and this thread throws an exception.\r\n\r\nHow can I overcome the problem? \r\n\r\nPlease help.\r\n\r\n\r\nI&#39;ve tried different libs: \r\n1. OkHttpClient\r\n2. Java Unirest\r\n\r\nbut in both the same error. \r\n\r\n```java\r\n\r\npublic class MyGetExecutor {\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Thread getThread = new Thread( new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\r\n\t\t\t\ttry {\r\n                    logMessage.add( &quot;Before request&quot; );\r\n                    com.mashape.unirest.http.HttpResponse&lt;String&gt; response = Unirest.get(&quot;https://myappserver.domain.com/api/v1/users/1&quot;)\r\n                    .header(&quot;User-Agent&quot;, &quot;PostmanRuntime/7.17.1&quot;)\r\n                    .header(&quot;Accept&quot;, &quot;*/*&quot;)\r\n                    .header(&quot;Cache-Control&quot;, &quot;no-cache&quot;)\r\n                    .header(&quot;Postman-Token&quot;, &quot;abf4b45d-a2c5-4f53-b4e3-1fa29643d616,e59130fc-5ce0-4b70-af48-ab3808362e36&quot;)\r\n                    .header(&quot;Host&quot;, &quot;wf01.cdprojektred.com&quot;)\r\n                    .header(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;)\r\n                    .header(&quot;Cookie&quot;, &quot;JSESSIONID=2C71F035C2EDFF145FED5C03C4887EF1&quot;)\r\n                    .header(&quot;Connection&quot;, &quot;keep-alive&quot;)\r\n                    .header(&quot;cache-control&quot;, &quot;no-cache&quot;)\r\n                    .asString();\r\n                    logMessage.add( &quot;After request&quot; );\r\n                } catch (Exception e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\tlogMessage.add( &quot;Exception in getThread: &quot; + e.getMessage() );\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}, &quot;Get-thread&quot;);\r\n\t\tgetThread.setUncaughtExceptionHandler(\r\n\t\t\t    new Thread.UncaughtExceptionHandler() {\r\n\t\t\t        @Override\r\n\t\t\t        public void uncaughtException(Thread t, Throwable e) {\r\n\t\t\t            logMessage.add( &quot;Error in thread: &quot; + e );\r\n\t\t\t            logMessage.add( &quot;Details: &quot; + e.getCause().getMessage() );\r\n\t\t\t        }\r\n\t\t\t    }\r\n\t\t\t);\r\n\t\tgetThread.start();\r\n\t\t\r\n\t\twhile( getThread.isAlive() ) {\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t\tlogMessage.add(&quot;Main thread sleeping...&quot;);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlogMessage.add(&quot;Exception in main thread...: &quot; + e.getMessage());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\r\n    }\r\n}\r\n```\r\n\r\n**EDIT 1** I&#39;ve added additional stacktrace - please check","title":"OpenJDK 11 error &quot;Can not initialize cryptographic mechanism&quot;","body":"<p>I have an app written with openJDK (Amazon Correto 11) and openJFX.</p>\n\n<p>When I run the app locally - everything works. \nBut when I execute the app from network share there is an Exception: </p>\n\n<pre><code>java.lang.ExceptionInInitializerError\n    at java.base/javax.crypto.JceSecurityManager.&lt;clinit&gt;(JceSecurityManager.java:65)\n    at java.base/javax.crypto.Cipher.getConfiguredPermission(Cipher.java:2624)\n    at java.base/javax.crypto.Cipher.getMaxAllowedKeyLength(Cipher.java:2646)\n    at java.base/sun.security.ssl.SSLCipher.isUnlimited(SSLCipher.java:540)\n    at java.base/sun.security.ssl.SSLCipher.&lt;init&gt;(SSLCipher.java:472)\n    at java.base/sun.security.ssl.SSLCipher.&lt;clinit&gt;(SSLCipher.java:174)\n    at java.base/sun.security.ssl.CipherSuite.&lt;clinit&gt;(CipherSuite.java:67)\n    at java.base/sun.security.ssl.SSLContextImpl.getApplicableSupportedCipherSuites(SSLContextImpl.java:348)\n    at java.base/sun.security.ssl.SSLContextImpl$AbstractTLSContext.&lt;clinit&gt;(SSLContextImpl.java:579)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:315)\n    at java.base/java.security.Provider$Service.getImplClass(Provider.java:1848)\n    at java.base/java.security.Provider$Service.newInstance(Provider.java:1824)\n    at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:236)\n    at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\n    at java.base/javax.net.ssl.SSLContext.getInstance(SSLContext.java:168)\n    at org.apache.http.ssl.SSLContexts.createDefault(SSLContexts.java:51)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.getSocketFactory(SSLConnectionSocketFactory.java:194)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.getDefaultRegistry(PoolingHttpClientConnectionManager.java:115)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:122)\n    at com.mashape.unirest.http.options.Options.refresh(Options.java:72)\n    at com.mashape.unirest.http.options.Options.&lt;clinit&gt;(Options.java:46)\n    at com.mashape.unirest.http.HttpClientHelper.prepareRequest(HttpClientHelper.java:151)\n    at com.mashape.unirest.http.HttpClientHelper.request(HttpClientHelper.java:131)\n    at com.mashape.unirest.request.BaseRequest.asString(BaseRequest.java:56)\n    at myapp.util.MyTaxNumberValidator$3.run(MyTaxNumberValidator.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.SecurityException: Can not initialize cryptographic mechanism\n    at java.base/javax.crypto.JceSecurity.&lt;clinit&gt;(JceSecurity.java:120)\n    ... 27 more\nCaused by: java.lang.SecurityException: Can't read cryptographic policy directory: unlimited\n    at java.base/javax.crypto.JceSecurity.setupJurisdictionPolicies(JceSecurity.java:326)\n    at java.base/javax.crypto.JceSecurity$1.run(JceSecurity.java:111)\n    at java.base/javax.crypto.JceSecurity$1.run(JceSecurity.java:108)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/javax.crypto.JceSecurity.&lt;clinit&gt;(JceSecurity.java:107)\n    ... 27 more\n</code></pre>\n\n<p>I run an app using command:</p>\n\n<p><code>\\\\\\some-network-share\\app\\jre\\bin\\javaw.exe -jar myapp.jar</code></p>\n\n<p>because on this network share I've copied Amazon Correto 11 JDK files and other libs I use for the app.</p>\n\n<p>I run get request in another thread and this thread throws an exception.</p>\n\n<p>How can I overcome the problem? </p>\n\n<p>Please help.</p>\n\n<p>I've tried different libs: \n1. OkHttpClient\n2. Java Unirest</p>\n\n<p>but in both the same error. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class MyGetExecutor {\n\n\n    public static void main(String[] args) {\n\n        Thread getThread = new Thread( new Runnable() {\n\n            @Override\n            public void run() {\n\n                try {\n                    logMessage.add( \"Before request\" );\n                    com.mashape.unirest.http.HttpResponse&lt;String&gt; response = Unirest.get(\"https://myappserver.domain.com/api/v1/users/1\")\n                    .header(\"User-Agent\", \"PostmanRuntime/7.17.1\")\n                    .header(\"Accept\", \"*/*\")\n                    .header(\"Cache-Control\", \"no-cache\")\n                    .header(\"Postman-Token\", \"abf4b45d-a2c5-4f53-b4e3-1fa29643d616,e59130fc-5ce0-4b70-af48-ab3808362e36\")\n                    .header(\"Host\", \"wf01.cdprojektred.com\")\n                    .header(\"Accept-Encoding\", \"gzip, deflate\")\n                    .header(\"Cookie\", \"JSESSIONID=2C71F035C2EDFF145FED5C03C4887EF1\")\n                    .header(\"Connection\", \"keep-alive\")\n                    .header(\"cache-control\", \"no-cache\")\n                    .asString();\n                    logMessage.add( \"After request\" );\n                } catch (Exception e) {\n                    // TODO Auto-generated catch block\n                    logMessage.add( \"Exception in getThread: \" + e.getMessage() );\n                }\n\n\n            }\n\n        }, \"Get-thread\");\n        getThread.setUncaughtExceptionHandler(\n                new Thread.UncaughtExceptionHandler() {\n                    @Override\n                    public void uncaughtException(Thread t, Throwable e) {\n                        logMessage.add( \"Error in thread: \" + e );\n                        logMessage.add( \"Details: \" + e.getCause().getMessage() );\n                    }\n                }\n            );\n        getThread.start();\n\n        while( getThread.isAlive() ) {\n\n            try {\n                Thread.sleep(1000);\n                logMessage.add(\"Main thread sleeping...\");\n            } catch (Exception e) {\n                logMessage.add(\"Exception in main thread...: \" + e.getMessage());\n            }\n\n\n\n        }\n\n    }\n}\n</code></pre>\n\n<p><strong>EDIT 1</strong> I've added additional stacktrace - please check</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1695140034,"post_id":77136246,"comment_id":135982931,"body_markdown":"The versions you mentioned don&#39;t match up with what is in your pom. Please double-check!","body":"The versions you mentioned don&#39;t match up with what is in your pom. Please double-check!"},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1695143415,"post_id":77136246,"comment_id":135983534,"body_markdown":"@S&#246;ren it should be fixed","body":"@S&#246;ren it should be fixed"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1695144451,"post_id":77136246,"comment_id":135983711,"body_markdown":"Nope. The versions you mention in the post are still ancient. Did you mix a Spring and Spring Boot?","body":"Nope. The versions you mention in the post are still ancient. Did you mix a Spring and Spring Boot?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1695144695,"post_id":77136246,"comment_id":135983760,"body_markdown":"Why on earth is spring boot your parent project, and not a dependency?","body":"Why on earth is spring boot your parent project, and not a dependency?"},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1695147119,"post_id":77136246,"comment_id":135984133,"body_markdown":"@Rogue that&#39;s how it generated on https://start.spring.io/;","body":"@Rogue that&#39;s how it generated on <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>;"},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1695147524,"post_id":77136246,"comment_id":135984189,"body_markdown":"@Rogue Also, understand that I&#39;m not the original author.","body":"@Rogue Also, understand that I&#39;m not the original author."},{"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"score":0,"creation_date":1695220080,"post_id":77136246,"comment_id":135995590,"body_markdown":"I have tried updating the `pom.xml` and fixing the version mismatches, please check it out.","body":"I have tried updating the <code>pom.xml</code> and fixing the version mismatches, please check it out."}],"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695216905,"creation_date":1695139821,"question_id":77136246,"body_markdown":"The Spring application is working fine on `2.6.4` but I need to use Spring `3.1.2` so I had to change all the deprecated syntax like `javax` to `jakarta` within my entity classes etc. However, this small change has caused the application to throw the follwoing exception like 20 minutes after runtime:\r\n```\r\n2023-09-14T10:34:20.197-04:00  INFO 8084 --- [  restartedMain] com.aegis.kyc.KycApplication             : Starting KycApplication using Java 20.0.2 with PID 8084 (C:\\Users\\Devopscrm\\Documents\\kyc\\target\\classes started by DevopsCRM in C:\\Users\\Devopscrm\\Documents\\kyc)\r\n2023-09-14T10:34:20.198-04:00  INFO 8084 --- [  restartedMain] com.aegis.kyc.KycApplication             : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-09-14T10:34:20.234-04:00  INFO 8084 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-09-14T10:34:20.234-04:00  INFO 8084 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-09-14T10:34:20.765-04:00  INFO 8084 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-09-14T10:34:20.867-04:00  INFO 8084 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 35 JPA repository interfaces.\r\n2023-09-14T10:34:21.312-04:00  INFO 8084 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https) 8080 (http)\r\n2023-09-14T10:34:21.320-04:00  INFO 8084 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-09-14T10:34:21.321-04:00  INFO 8084 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.12]\r\n2023-09-14T10:34:21.362-04:00  INFO 8084 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-09-14T10:34:21.364-04:00  INFO 8084 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1128 ms\r\n2023-09-14T10:34:21.490-04:00  INFO 8084 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-09-14T10:34:21.528-04:00  INFO 8084 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final\r\n2023-09-14T10:34:21.529-04:00  INFO 8084 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-09-14T10:34:21.612-04:00  INFO 8084 --- [  restartedMain] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true\r\n2023-09-14T10:34:21.626-04:00  INFO 8084 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-09-14T10:34:21.698-04:00  INFO 8084 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-09-14T10:34:21.710-04:00  INFO 8084 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-09-14T10:34:21.923-04:00  INFO 8084 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 13da464e-2c47-4c20-a774-aca6a0ab484f\r\n2023-09-14T10:34:21.924-04:00  INFO 8084 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-09-14T10:34:22.270-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.AccountStatus\r\n2023-09-14T10:34:22.271-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Associated\r\n2023-09-14T10:34:22.272-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.RevenueStream\r\n2023-09-14T10:34:22.272-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.CompanyBIRCorporation\r\n2023-09-14T10:34:22.273-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.BusinessType\r\n2023-09-14T10:34:22.273-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Affiliate\r\n2023-09-14T10:34:22.274-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Stationed\r\n2023-09-14T10:34:22.274-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.ContactType\r\n2023-09-14T10:34:22.274-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.SectionC\r\n2023-09-14T10:34:22.275-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Opportunity\r\n2023-09-14T10:34:22.275-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Assignment\r\n2023-09-14T10:34:22.275-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.SectionA\r\n2023-09-14T10:34:22.277-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Code\r\n2023-09-14T10:34:22.277-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.UserRole\r\n2023-09-14T10:34:22.277-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.SectionB\r\n2023-09-14T10:34:22.277-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.CodeType\r\n2023-09-14T10:34:22.278-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.PowersOfAttorney\r\n2023-09-14T10:34:22.278-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Address\r\n2023-09-14T10:34:22.278-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Document\r\n2023-09-14T10:34:22.278-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.UserAccount\r\n2023-09-14T10:34:22.278-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Form\r\n2023-09-14T10:34:22.279-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.OpportunityLineItem\r\n2023-09-14T10:34:22.279-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.PoliticallyExposed\r\n2023-09-14T10:34:22.279-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.FormSubSection\r\n2023-09-14T10:34:22.283-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.FormPerson\r\n2023-09-14T10:34:22.283-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Plus10PercentShareholder\r\n2023-09-14T10:34:22.283-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Director\r\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.AuthorizedSignatory\r\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.KYCForm\r\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Person\r\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Employee\r\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.ClientRep\r\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.TouchPoint\r\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.KeyFunctionaries\r\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Department\r\n2023-09-14T10:34:22.285-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.OpportunityComment\r\n2023-09-14T10:34:22.285-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Company\r\n2023-09-14T10:34:22.285-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Message\r\n2023-09-14T10:34:22.285-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.AffiliateRep\r\n2023-09-14T10:34:22.397-04:00  INFO 8084 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-09-14T10:52:22.901-04:00  WARN 8084 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Java heap space\r\n2023-09-14T10:52:22.904-04:00  INFO 8084 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-09-14T10:52:22.909-04:00  INFO 8084 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n2023-09-14T10:52:22.912-04:00  INFO 8084 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-09-14T10:52:22.930-04:00  INFO 8084 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-09-14T10:52:22.955-04:00 ERROR 8084 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Java heap space\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.3.jar:3.1.3]\r\n\tat com.aegis.kyc.KycApplication.main(KycApplication.java:34) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.3.jar:3.1.3]\r\nCaused by: java.lang.OutOfMemoryError: Java heap space\r\n\tat java.base/jdk.internal.misc.Unsafe.allocateInstance(Native Method) ~[na:na]\r\n\tat java.base/java.lang.invoke.DirectMethodHandle.allocateInstance(DirectMethodHandle.java:501) ~[na:na]\r\n\tat java.base/java.lang.invoke.DirectMethodHandle$Holder.newInvokeSpecial(DirectMethodHandle$Holder) ~[na:na]\r\n\tat java.base/java.lang.invoke.Invokers$Holder.linkToTargetMethod(Invokers$Holder) ~[na:na]\r\n\tat org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:196) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:171) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitColumnReference(AbstractSqlAstTranslator.java:6086) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.tree.expression.ColumnReference.accept(ColumnReference.java:222) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderExpressionAsClauseItem(AbstractSqlAstTranslator.java:5035) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderSelectExpression(AbstractSqlAstTranslator.java:5020) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelectExpression(AbstractSqlAstTranslator.java:5015) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelection(AbstractSqlAstTranslator.java:4997) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelections(AbstractSqlAstTranslator.java:4662) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.dialect.SQLServerSqlAstTranslator.visitSqlSelections(SQLServerSqlAstTranslator.java:311) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectClause(AbstractSqlAstTranslator.java:4563) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.dialect.SQLServerSqlAstTranslator.visitSelectClause(SQLServerSqlAstTranslator.java:287) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitQuerySpec(AbstractSqlAstTranslator.java:3031) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.dialect.SQLServerSqlAstTranslator.visitQuerySpec(SQLServerSqlAstTranslator.java:277) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.tree.select.QuerySpec.accept(QuerySpec.java:119) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectStatement(AbstractSqlAstTranslator.java:986) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translateSelect(AbstractSqlAstTranslator.java:849) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translate(AbstractSqlAstTranslator.java:799) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.loader.ast.internal.SingleIdLoadPlan.&lt;init&gt;(SingleIdLoadPlan.java:67) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.createLoadPlan(SingleIdEntityLoaderStandardImpl.java:197) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.prepare(SingleIdEntityLoaderStandardImpl.java:55) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.prepareLoader(AbstractEntityPersister.java:3447) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.postInstantiate(AbstractEntityPersister.java:3441) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:204) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:320) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:270) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\r\n\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\nThis is the where the console it stuck until the exception:\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.2)\r\n\r\n2023-09-19T11:55:56.710-04:00  INFO 800 --- [  restartedMain] com.aegis.kyc.KycApplication             : Starting KycApplication using Java 20.0.2 with PID 800 (C:\\Users\\Devopscrm\\Desktop\\New folder\\kyc\\target\\classes started by DevopsCRM in C:\\Users\\Devopscrm\\Desktop\\New folder\\kyc)\r\n2023-09-19T11:55:56.711-04:00  INFO 800 --- [  restartedMain] com.aegis.kyc.KycApplication             : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-09-19T11:55:56.752-04:00  INFO 800 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-09-19T11:55:56.753-04:00  INFO 800 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-09-19T11:55:57.263-04:00  INFO 800 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-09-19T11:55:57.357-04:00  INFO 800 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 90 ms. Found 35 JPA repository interfaces.\r\n2023-09-19T11:55:57.828-04:00  INFO 800 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https) 8080 (http)\r\n2023-09-19T11:55:57.836-04:00  INFO 800 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-09-19T11:55:57.836-04:00  INFO 800 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]\r\n2023-09-19T11:55:57.876-04:00  INFO 800 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-09-19T11:55:57.878-04:00  INFO 800 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1123 ms\r\n2023-09-19T11:55:57.991-04:00  INFO 800 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-09-19T11:55:58.039-04:00  INFO 800 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final\r\n2023-09-19T11:55:58.040-04:00  INFO 800 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-09-19T11:55:58.122-04:00  INFO 800 --- [  restartedMain] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true\r\n2023-09-19T11:55:58.137-04:00  INFO 800 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-09-19T11:55:58.218-04:00  INFO 800 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-09-19T11:55:58.229-04:00  INFO 800 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-09-19T11:55:58.447-04:00  INFO 800 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 3177f003-7ce9-4e36-b2a7-1f8e5044a8f5\r\n2023-09-19T11:55:58.448-04:00  INFO 800 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-09-19T11:55:58.831-04:00  INFO 800 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n\r\n```\r\n\r\nPreviously I added this to the `application.properties` file and the application did run, but it was on Spring `3.0.2` I was asked to try using `3.1.2` got the exception again:\r\n`spring.datasource.hikari.minimum-idle=2`\r\n\r\nThis is the `pom.xml`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.group&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;kyc&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;kyc&lt;/name&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;description&gt;TouchPoint Application&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring.boot.version&gt;3.1.2&lt;/spring.boot.version&gt;\r\n&lt;!--\t\t&lt;hibernate.validator.version&gt;your_version_here&lt;/hibernate.validator.version&gt;--&gt;\r\n\t\t&lt;hibernate.version&gt;6.1.6.Final&lt;/hibernate.version&gt;\r\n\t\t&lt;guava.version&gt;32.1.2-jre&lt;/guava.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- Spring Boot Starter Dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;version&gt;${hibernate.validator.version}&lt;/version&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;32.1.2-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.3.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n\t\t\t&lt;type&gt;maven-plugin&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;17&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;17&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nWhat am I missing?","title":"What is the cause of the &quot;Java heap space&quot; error related to the &#39;entityManagerFactory&#39; bean?","body":"<p>The Spring application is working fine on <code>2.6.4</code> but I need to use Spring <code>3.1.2</code> so I had to change all the deprecated syntax like <code>javax</code> to <code>jakarta</code> within my entity classes etc. However, this small change has caused the application to throw the follwoing exception like 20 minutes after runtime:</p>\n<pre><code>2023-09-14T10:34:20.197-04:00  INFO 8084 --- [  restartedMain] com.aegis.kyc.KycApplication             : Starting KycApplication using Java 20.0.2 with PID 8084 (C:\\Users\\Devopscrm\\Documents\\kyc\\target\\classes started by DevopsCRM in C:\\Users\\Devopscrm\\Documents\\kyc)\n2023-09-14T10:34:20.198-04:00  INFO 8084 --- [  restartedMain] com.aegis.kyc.KycApplication             : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-09-14T10:34:20.234-04:00  INFO 8084 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-09-14T10:34:20.234-04:00  INFO 8084 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-09-14T10:34:20.765-04:00  INFO 8084 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-09-14T10:34:20.867-04:00  INFO 8084 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 35 JPA repository interfaces.\n2023-09-14T10:34:21.312-04:00  INFO 8084 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https) 8080 (http)\n2023-09-14T10:34:21.320-04:00  INFO 8084 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-09-14T10:34:21.321-04:00  INFO 8084 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.12]\n2023-09-14T10:34:21.362-04:00  INFO 8084 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-09-14T10:34:21.364-04:00  INFO 8084 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1128 ms\n2023-09-14T10:34:21.490-04:00  INFO 8084 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-09-14T10:34:21.528-04:00  INFO 8084 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.7.Final\n2023-09-14T10:34:21.529-04:00  INFO 8084 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-09-14T10:34:21.612-04:00  INFO 8084 --- [  restartedMain] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true\n2023-09-14T10:34:21.626-04:00  INFO 8084 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-09-14T10:34:21.698-04:00  INFO 8084 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-09-14T10:34:21.710-04:00  INFO 8084 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-09-14T10:34:21.923-04:00  INFO 8084 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 13da464e-2c47-4c20-a774-aca6a0ab484f\n2023-09-14T10:34:21.924-04:00  INFO 8084 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-09-14T10:34:22.270-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.AccountStatus\n2023-09-14T10:34:22.271-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Associated\n2023-09-14T10:34:22.272-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.RevenueStream\n2023-09-14T10:34:22.272-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.CompanyBIRCorporation\n2023-09-14T10:34:22.273-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.BusinessType\n2023-09-14T10:34:22.273-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Affiliate\n2023-09-14T10:34:22.274-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Stationed\n2023-09-14T10:34:22.274-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.ContactType\n2023-09-14T10:34:22.274-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.SectionC\n2023-09-14T10:34:22.275-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Opportunity\n2023-09-14T10:34:22.275-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Assignment\n2023-09-14T10:34:22.275-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.SectionA\n2023-09-14T10:34:22.277-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Code\n2023-09-14T10:34:22.277-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.UserRole\n2023-09-14T10:34:22.277-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.SectionB\n2023-09-14T10:34:22.277-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.CodeType\n2023-09-14T10:34:22.278-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.PowersOfAttorney\n2023-09-14T10:34:22.278-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Address\n2023-09-14T10:34:22.278-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Document\n2023-09-14T10:34:22.278-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.UserAccount\n2023-09-14T10:34:22.278-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Form\n2023-09-14T10:34:22.279-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.OpportunityLineItem\n2023-09-14T10:34:22.279-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.PoliticallyExposed\n2023-09-14T10:34:22.279-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.FormSubSection\n2023-09-14T10:34:22.283-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.FormPerson\n2023-09-14T10:34:22.283-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Plus10PercentShareholder\n2023-09-14T10:34:22.283-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Director\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.AuthorizedSignatory\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.KYCForm\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Person\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Employee\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.ClientRep\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.TouchPoint\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.KeyFunctionaries\n2023-09-14T10:34:22.284-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Department\n2023-09-14T10:34:22.285-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.OpportunityComment\n2023-09-14T10:34:22.285-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Company\n2023-09-14T10:34:22.285-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.Message\n2023-09-14T10:34:22.285-04:00  INFO 8084 --- [  restartedMain] o.h.e.c.i.m.AuditMetadataGenerator       : Adding properties for entity: com.aegis.kyc.entity.AffiliateRep\n2023-09-14T10:34:22.397-04:00  INFO 8084 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-09-14T10:52:22.901-04:00  WARN 8084 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Java heap space\n2023-09-14T10:52:22.904-04:00  INFO 8084 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-09-14T10:52:22.909-04:00  INFO 8084 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2023-09-14T10:52:22.912-04:00  INFO 8084 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-09-14T10:52:22.930-04:00  INFO 8084 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-09-14T10:52:22.955-04:00 ERROR 8084 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Java heap space\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.3.jar:3.1.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.3.jar:3.1.3]\n    at com.aegis.kyc.KycApplication.main(KycApplication.java:34) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.3.jar:3.1.3]\nCaused by: java.lang.OutOfMemoryError: Java heap space\n    at java.base/jdk.internal.misc.Unsafe.allocateInstance(Native Method) ~[na:na]\n    at java.base/java.lang.invoke.DirectMethodHandle.allocateInstance(DirectMethodHandle.java:501) ~[na:na]\n    at java.base/java.lang.invoke.DirectMethodHandle$Holder.newInvokeSpecial(DirectMethodHandle$Holder) ~[na:na]\n    at java.base/java.lang.invoke.Invokers$Holder.linkToTargetMethod(Invokers$Holder) ~[na:na]\n    at org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:196) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.tree.expression.ColumnReference.appendReadExpression(ColumnReference.java:171) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitColumnReference(AbstractSqlAstTranslator.java:6086) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.tree.expression.ColumnReference.accept(ColumnReference.java:222) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderExpressionAsClauseItem(AbstractSqlAstTranslator.java:5035) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.renderSelectExpression(AbstractSqlAstTranslator.java:5020) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelectExpression(AbstractSqlAstTranslator.java:5015) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelection(AbstractSqlAstTranslator.java:4997) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSqlSelections(AbstractSqlAstTranslator.java:4662) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.dialect.SQLServerSqlAstTranslator.visitSqlSelections(SQLServerSqlAstTranslator.java:311) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectClause(AbstractSqlAstTranslator.java:4563) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.dialect.SQLServerSqlAstTranslator.visitSelectClause(SQLServerSqlAstTranslator.java:287) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitQuerySpec(AbstractSqlAstTranslator.java:3031) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.dialect.SQLServerSqlAstTranslator.visitQuerySpec(SQLServerSqlAstTranslator.java:277) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.tree.select.QuerySpec.accept(QuerySpec.java:119) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.visitSelectStatement(AbstractSqlAstTranslator.java:986) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translateSelect(AbstractSqlAstTranslator.java:849) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.sql.ast.spi.AbstractSqlAstTranslator.translate(AbstractSqlAstTranslator.java:799) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.loader.ast.internal.SingleIdLoadPlan.&lt;init&gt;(SingleIdLoadPlan.java:67) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.createLoadPlan(SingleIdEntityLoaderStandardImpl.java:197) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.prepare(SingleIdEntityLoaderStandardImpl.java:55) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.prepareLoader(AbstractEntityPersister.java:3447) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.postInstantiate(AbstractEntityPersister.java:3441) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:204) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.internal.SessionFactoryImpl.initializeMappingModel(SessionFactoryImpl.java:320) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:270) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.7.Final.jar:6.2.7.Final]\n\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>This is the where the console it stuck until the exception:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.2)\n\n2023-09-19T11:55:56.710-04:00  INFO 800 --- [  restartedMain] com.aegis.kyc.KycApplication             : Starting KycApplication using Java 20.0.2 with PID 800 (C:\\Users\\Devopscrm\\Desktop\\New folder\\kyc\\target\\classes started by DevopsCRM in C:\\Users\\Devopscrm\\Desktop\\New folder\\kyc)\n2023-09-19T11:55:56.711-04:00  INFO 800 --- [  restartedMain] com.aegis.kyc.KycApplication             : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-09-19T11:55:56.752-04:00  INFO 800 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-09-19T11:55:56.753-04:00  INFO 800 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-09-19T11:55:57.263-04:00  INFO 800 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-09-19T11:55:57.357-04:00  INFO 800 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 90 ms. Found 35 JPA repository interfaces.\n2023-09-19T11:55:57.828-04:00  INFO 800 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https) 8080 (http)\n2023-09-19T11:55:57.836-04:00  INFO 800 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-09-19T11:55:57.836-04:00  INFO 800 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]\n2023-09-19T11:55:57.876-04:00  INFO 800 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-09-19T11:55:57.878-04:00  INFO 800 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1123 ms\n2023-09-19T11:55:57.991-04:00  INFO 800 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-09-19T11:55:58.039-04:00  INFO 800 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final\n2023-09-19T11:55:58.040-04:00  INFO 800 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-09-19T11:55:58.122-04:00  INFO 800 --- [  restartedMain] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true\n2023-09-19T11:55:58.137-04:00  INFO 800 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-09-19T11:55:58.218-04:00  INFO 800 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-09-19T11:55:58.229-04:00  INFO 800 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-09-19T11:55:58.447-04:00  INFO 800 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 3177f003-7ce9-4e36-b2a7-1f8e5044a8f5\n2023-09-19T11:55:58.448-04:00  INFO 800 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-09-19T11:55:58.831-04:00  INFO 800 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n\n</code></pre>\n<p>Previously I added this to the <code>application.properties</code> file and the application did run, but it was on Spring <code>3.0.2</code> I was asked to try using <code>3.1.2</code> got the exception again:\n<code>spring.datasource.hikari.minimum-idle=2</code></p>\n<p>This is the <code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.group&lt;/groupId&gt;\n    &lt;artifactId&gt;kyc&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;kyc&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;description&gt;TouchPoint Application&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring.boot.version&gt;3.1.2&lt;/spring.boot.version&gt;\n&lt;!--        &lt;hibernate.validator.version&gt;your_version_here&lt;/hibernate.validator.version&gt;--&gt;\n        &lt;hibernate.version&gt;6.1.6.Final&lt;/hibernate.version&gt;\n        &lt;guava.version&gt;32.1.2-jre&lt;/guava.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Spring Boot Starter Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;${hibernate.validator.version}&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;32.1.2-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n            &lt;version&gt;6.1.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>What am I missing?</p>\n"},{"tags":["java","selenium-webdriver","popup","popupwindow"],"comments":[{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1504005733,"post_id":19403949,"comment_id":78833382,"body_markdown":"Take the list of windows by using driver.getWindowHandles().","body":"Take the list of windows by using driver.getWindowHandles()."}],"answers":[{"comments":[{"owner":{"account_id":3329341,"reputation":493,"user_id":2798616,"accept_rate":60,"display_name":"Niyati"},"score":0,"creation_date":1381986718,"post_id":19404394,"comment_id":28786924,"body_markdown":"I can&#39;&#39;t directly use email_id field as its in pop up window ..pls visit rediff.com as i want to write email address and password in sign in form of rediff.com. link: http://www.rediff.com/","body":"I can&#39;&#39;t directly use email_id field as its in pop up window ..pls visit rediff.com as i want to write email address and password in sign in form of rediff.com. link: <a href=\"http://www.rediff.com/\" rel=\"nofollow noreferrer\">rediff.com</a>"},{"owner":{"account_id":1696244,"reputation":2249,"user_id":1557584,"display_name":"HemChe"},"score":0,"creation_date":1381988075,"post_id":19404394,"comment_id":28787286,"body_markdown":"which browser are you using? Because i am not seeing any pop up window after clicking on sign-in. it is just another modal window (inside main window). i am using firefox23.","body":"which browser are you using? Because i am not seeing any pop up window after clicking on sign-in. it is just another modal window (inside main window). i am using firefox23."},{"owner":{"account_id":3329341,"reputation":493,"user_id":2798616,"accept_rate":60,"display_name":"Niyati"},"score":0,"creation_date":1381988302,"post_id":19404394,"comment_id":28787346,"body_markdown":"yeh i need to access that and signed in","body":"yeh i need to access that and signed in"},{"owner":{"account_id":1696244,"reputation":2249,"user_id":1557584,"display_name":"HemChe"},"score":0,"creation_date":1381988934,"post_id":19404394,"comment_id":28787550,"body_markdown":"what is error you are getting while clicking on `sign-in` link? Any permission error?","body":"what is error you are getting while clicking on <code>sign-in</code> link? Any permission error?"},{"owner":{"account_id":3329341,"reputation":493,"user_id":2798616,"accept_rate":60,"display_name":"Niyati"},"score":0,"creation_date":1381989589,"post_id":19404394,"comment_id":28787764,"body_markdown":"didn&#39;t get any error but not able to handle email address field","body":"didn&#39;t get any error but not able to handle email address field"},{"owner":{"account_id":1696244,"reputation":2249,"user_id":1557584,"display_name":"HemChe"},"score":0,"creation_date":1381989635,"post_id":19404394,"comment_id":28787780,"body_markdown":"Are you getting `no such element` exception ?","body":"Are you getting <code>no such element</code> exception ?"}],"tags":[],"owner":{"account_id":1696244,"reputation":2249,"user_id":1557584,"display_name":"HemChe"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1412176936,"creation_date":1381929104,"answer_id":19404394,"question_id":19403949,"body_markdown":"Do not make the situation complex. Use `ID` if they are available.\r\n\r\n    driver.get(&quot;http://www.rediff.com&quot;);\r\n\tWebElement sign = driver.findElement(By.linkText(&quot;Sign in&quot;));\r\n\tsign.click();\r\n\tWebElement email_id= driver.findElement(By.id(&quot;c_uname&quot;));\r\n\temail_id.sendKeys(&quot;hi&quot;);","title":"How to handle Pop-up in Selenium WebDriver using Java","body":"<p>Do not make the situation complex. Use <code>ID</code> if they are available.</p>\n\n<pre><code>driver.get(\"http://www.rediff.com\");\nWebElement sign = driver.findElement(By.linkText(\"Sign in\"));\nsign.click();\nWebElement email_id= driver.findElement(By.id(\"c_uname\"));\nemail_id.sendKeys(\"hi\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3329341,"reputation":493,"user_id":2798616,"accept_rate":60,"display_name":"Niyati"},"score":0,"creation_date":1381986571,"post_id":19409121,"comment_id":28786880,"body_markdown":"But i just need to handle only one window than i think so no meaning to use iterator ...do u have another way . i just need to write email address and password in sign in form of rediff.com .pls helm me in this .","body":"But i just need to handle only one window than i think so no meaning to use iterator ...do u have another way . i just need to write email address and password in sign in form of rediff.com .pls helm me in this ."},{"owner":{"account_id":1483810,"reputation":3590,"user_id":1392498,"accept_rate":76,"display_name":"LINGS"},"score":0,"creation_date":1381986883,"post_id":19409121,"comment_id":28786972,"body_markdown":"The above code will handle that. Once you switch to sub window which is your popup. Pick the webelements and fill in your email id, password and submit. Then switch back to your parent window.","body":"The above code will handle that. Once you switch to sub window which is your popup. Pick the webelements and fill in your email id, password and submit. Then switch back to your parent window."},{"owner":{"account_id":3329341,"reputation":493,"user_id":2798616,"accept_rate":60,"display_name":"Niyati"},"score":1,"creation_date":1381989528,"post_id":19409121,"comment_id":28787738,"body_markdown":"Tried but code is not working on link : rediff.com -&gt; click on sign in link and try to signed in","body":"Tried but code is not working on link : rediff.com -&gt; click on sign in link and try to signed in"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1497751916,"post_id":19409121,"comment_id":76208918,"body_markdown":"@Johnp2: please don&#39;t hijack the answer","body":"@Johnp2: please don&#39;t hijack the answer"}],"tags":[],"owner":{"account_id":1483810,"reputation":3590,"user_id":1392498,"accept_rate":76,"display_name":"LINGS"},"comment_count":4,"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1496511929,"creation_date":1381941993,"answer_id":19409121,"question_id":19403949,"body_markdown":"To switch to a popup window, you need to use `getWindowHandles()` and iterate through them.\r\n\r\nIn your code you are using `getWindowHandle()` which will give you the parent window itself.\r\n\r\n    String parentWindowHandler = driver.getWindowHandle(); // Store your parent window\r\n    String subWindowHandler = null;\r\n\r\n    Set&lt;String&gt; handles = driver.getWindowHandles(); // get all window handles\r\n    Iterator&lt;String&gt; iterator = handles.iterator();\r\n    while (iterator.hasNext()){\r\n        subWindowHandler = iterator.next();\r\n    }\r\n    driver.switchTo().window(subWindowHandler); // switch to popup window\r\n                                                \r\n    // Now you are in the popup window, perform necessary actions here\r\n\r\n    driver.switchTo().window(parentWindowHandler);  // switch back to parent window","title":"How to handle Pop-up in Selenium WebDriver using Java","body":"<p>To switch to a popup window, you need to use <code>getWindowHandles()</code> and iterate through them.</p>\n\n<p>In your code you are using <code>getWindowHandle()</code> which will give you the parent window itself.</p>\n\n<pre><code>String parentWindowHandler = driver.getWindowHandle(); // Store your parent window\nString subWindowHandler = null;\n\nSet&lt;String&gt; handles = driver.getWindowHandles(); // get all window handles\nIterator&lt;String&gt; iterator = handles.iterator();\nwhile (iterator.hasNext()){\n    subWindowHandler = iterator.next();\n}\ndriver.switchTo().window(subWindowHandler); // switch to popup window\n\n// Now you are in the popup window, perform necessary actions here\n\ndriver.switchTo().window(parentWindowHandler);  // switch back to parent window\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3329341,"reputation":493,"user_id":2798616,"accept_rate":60,"display_name":"Niyati"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1381995587,"creation_date":1381993705,"answer_id":19420344,"question_id":19403949,"body_markdown":"I found the solution for the above program, which had the goal of signing in to http://rediff.com\r\n\r\n    public class Handle_popupNAlert\r\n    {\r\n    \tpublic static void main(String[] args ) throws InterruptedException\r\n    \t{\r\n    \t\tWebDriver driver= new FirefoxDriver(); \r\n    \t\tdriver.get(&quot;http://www.rediff.com/&quot;);\r\n    \t\tWebElement sign = driver.findElement(By.xpath(&quot;//html/body/div[3]/div[3]/span[4]/span/a&quot;));\r\n    \t\tsign.click();\r\n    \r\n    \t\tSet&lt;String&gt; windowId = driver.getWindowHandles();    // get  window id of current window\r\n    \t\tIterator&lt;String&gt; itererator = windowId.iterator();   \r\n    \r\n    \t\tString mainWinID = itererator.next();\r\n    \t\tString  newAdwinID = itererator.next();\r\n    \r\n    \t\tdriver.switchTo().window(newAdwinID);\r\n    \t\tSystem.out.println(driver.getTitle());\r\n    \t\tThread.sleep(3000);\r\n    \t\tdriver.close();\r\n    \t\t\r\n    \t\tdriver.switchTo().window(mainWinID);\r\n    \t\tSystem.out.println(driver.getTitle());\r\n    \t\tThread.sleep(2000);\r\n    \t\t\r\n    \t\tWebElement email_id= driver.findElement(By.xpath(&quot;//*[@id=&#39;c_uname&#39;]&quot;));\r\n    \t\temail_id.sendKeys(&quot;hi&quot;);\r\n    \t\tThread.sleep(5000);\r\n    \r\n    \t\tdriver.close();\r\n    \t\tdriver.quit();\r\n    \t}  \r\n    }","title":"How to handle Pop-up in Selenium WebDriver using Java","body":"<p>I found the solution for the above program, which had the goal of signing in to <a href=\"http://rediff.com\">http://rediff.com</a></p>\n\n<pre><code>public class Handle_popupNAlert\n{\n    public static void main(String[] args ) throws InterruptedException\n    {\n        WebDriver driver= new FirefoxDriver(); \n        driver.get(\"http://www.rediff.com/\");\n        WebElement sign = driver.findElement(By.xpath(\"//html/body/div[3]/div[3]/span[4]/span/a\"));\n        sign.click();\n\n        Set&lt;String&gt; windowId = driver.getWindowHandles();    // get  window id of current window\n        Iterator&lt;String&gt; itererator = windowId.iterator();   \n\n        String mainWinID = itererator.next();\n        String  newAdwinID = itererator.next();\n\n        driver.switchTo().window(newAdwinID);\n        System.out.println(driver.getTitle());\n        Thread.sleep(3000);\n        driver.close();\n\n        driver.switchTo().window(mainWinID);\n        System.out.println(driver.getTitle());\n        Thread.sleep(2000);\n\n        WebElement email_id= driver.findElement(By.xpath(\"//*[@id='c_uname']\"));\n        email_id.sendKeys(\"hi\");\n        Thread.sleep(5000);\n\n        driver.close();\n        driver.quit();\n    }  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5134499,"reputation":49,"user_id":4113690,"display_name":"Satheesh kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1416483966,"creation_date":1416483966,"answer_id":27038825,"question_id":19403949,"body_markdown":"           //get the main handle and remove it\r\n           //whatever remains is the child pop up window handle\r\n          \r\n           String mainHandle = driver.getWindowHandle();\r\n\t\t   Set&lt;String&gt; allHandles = driver.getWindowHandles();\r\n\t\t   Iterator&lt;String&gt; iter = allHandles.iterator();\r\n\t\t   allHandles.remove(mainHandle);\r\n\t\t   String childHandle=iter.next();","title":"How to handle Pop-up in Selenium WebDriver using Java","body":"<pre><code>       //get the main handle and remove it\n       //whatever remains is the child pop up window handle\n\n       String mainHandle = driver.getWindowHandle();\n       Set&lt;String&gt; allHandles = driver.getWindowHandles();\n       Iterator&lt;String&gt; iter = allHandles.iterator();\n       allHandles.remove(mainHandle);\n       String childHandle=iter.next();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5647686,"reputation":125,"user_id":4469239,"display_name":"ER.swatantra"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1422689800,"creation_date":1422689064,"answer_id":28249295,"question_id":19403949,"body_markdown":"You can handle popup window or alert box:\r\n\r\n    Alert alert = driver.switchTo().alert();\r\n    alert.accept();\r\n\r\nYou can also decline the alert box:\r\n\r\n    Alert alert = driver.switchTo().alert();\r\n    alert().dismiss();\r\n","title":"How to handle Pop-up in Selenium WebDriver using Java","body":"<p>You can handle popup window or alert box:</p>\n\n<pre><code>Alert alert = driver.switchTo().alert();\nalert.accept();\n</code></pre>\n\n<p>You can also decline the alert box:</p>\n\n<pre><code>Alert alert = driver.switchTo().alert();\nalert().dismiss();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6696105,"reputation":1,"user_id":5164077,"display_name":"Sandip"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438073886,"creation_date":1438073886,"answer_id":31671694,"question_id":19403949,"body_markdown":"When the toastr message poped up on the screen of firefox. the below tag was displayed in fire bug. \r\n\r\n    &lt;div class=&quot;toast-message&quot;&gt;Invalid Credentials, Please check Password&lt;/div&gt;.\r\n\r\n \r\nI took the screenshot at that time.\r\nAnd did the below changes in selenium java code.\r\n \r\n\r\n    String alertText = &quot;&quot;;\r\n    WebDriverWait wait = new WebDriverWait(driver, 5);\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.className(&quot;toast-message&quot;)));\r\n    WebElement toast1 = driver.findElement(By.className(&quot;toast-message&quot;));  \r\n    alertText = toast1.getText();\r\n    System.out.println( alertText);\r\n\r\nAnd my issue of toastr popup got resolved.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/0TYaQ.png","title":"How to handle Pop-up in Selenium WebDriver using Java","body":"<p>When the toastr message poped up on the screen of firefox. the below tag was displayed in fire bug. </p>\n\n<pre><code>&lt;div class=\"toast-message\"&gt;Invalid Credentials, Please check Password&lt;/div&gt;.\n</code></pre>\n\n<p>I took the screenshot at that time.\nAnd did the below changes in selenium java code.</p>\n\n<pre><code>String alertText = \"\";\nWebDriverWait wait = new WebDriverWait(driver, 5);\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.className(\"toast-message\")));\nWebElement toast1 = driver.findElement(By.className(\"toast-message\"));  \nalertText = toast1.getText();\nSystem.out.println( alertText);\n</code></pre>\n\n<p>And my issue of toastr popup got resolved.</p>\n"},{"tags":[],"owner":{"account_id":7480633,"reputation":1,"user_id":5685465,"display_name":"ankush deol"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1450251981,"creation_date":1450251688,"answer_id":34306405,"question_id":19403949,"body_markdown":"    public void Test(){\r\n\t\t\r\n\t\t WebElement sign = fc.findElement(By.xpath(&quot;.//*[@id=&#39;login-scroll&#39;]/a&quot;));\r\n\t        sign.click();\r\n\t        WebElement LoginAsGuest=fc.findElement(By.xpath(&quot;.//*[@id=&#39;guest-login-option&#39;]&quot;));\r\n\t        LoginAsGuest.click();\r\n\t        WebElement email_id= fc.findElement(By.xpath(&quot;.//*[@id=&#39;guestemail&#39;]&quot;));\r\n\t        email_id.sendKeys(&quot;ankushdeoladore@gmail.com&quot;);\r\n\t        WebElement ContinueButton=fc.findElement(By.xpath(&quot;.//*[@id=&#39;contibutton&#39;]&quot;));\r\n\t        ContinueButton.click();\r\n\t        \r\n\t}","title":"How to handle Pop-up in Selenium WebDriver using Java","body":"<pre><code>public void Test(){\n\n     WebElement sign = fc.findElement(By.xpath(\".//*[@id='login-scroll']/a\"));\n        sign.click();\n        WebElement LoginAsGuest=fc.findElement(By.xpath(\".//*[@id='guest-login-option']\"));\n        LoginAsGuest.click();\n        WebElement email_id= fc.findElement(By.xpath(\".//*[@id='guestemail']\"));\n        email_id.sendKeys(\"ankushdeoladore@gmail.com\");\n        WebElement ContinueButton=fc.findElement(By.xpath(\".//*[@id='contibutton']\"));\n        ContinueButton.click();\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7827337,"reputation":51,"user_id":5918477,"display_name":"Manasis Mishra"},"score":0,"creation_date":1458899587,"post_id":36217575,"comment_id":60067056,"body_markdown":"You can use the above code inside your code when you get any web browser pop up alert message box.","body":"You can use the above code inside your code when you get any web browser pop up alert message box."}],"tags":[],"owner":{"account_id":7827337,"reputation":51,"user_id":5918477,"display_name":"Manasis Mishra"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1463380224,"creation_date":1458899237,"answer_id":36217575,"question_id":19403949,"body_markdown":"You can use the below code inside your code when you get any web browser pop-up alert message box.\r\n\r\n    // Accepts (Click on OK) Chrome Alert Browser for RESET button.\r\n\r\n    Alert alertOK = driver.switchTo().alert();\r\n    alertOK.accept();\r\n\r\n\r\n\r\n    //Rejects (Click on Cancel) Chrome Browser Alert for RESET button.\r\n    \r\n    Alert alertCancel = driver.switchTo().alert();\r\n    alertCancel.dismiss();","title":"How to handle Pop-up in Selenium WebDriver using Java","body":"<p>You can use the below code inside your code when you get any web browser pop-up alert message box.</p>\n\n<pre><code>// Accepts (Click on OK) Chrome Alert Browser for RESET button.\n\nAlert alertOK = driver.switchTo().alert();\nalertOK.accept();\n\n\n\n//Rejects (Click on Cancel) Chrome Browser Alert for RESET button.\n\nAlert alertCancel = driver.switchTo().alert();\nalertCancel.dismiss();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3795467,"reputation":1,"user_id":3150673,"display_name":"user3150673"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542423762,"creation_date":1542423604,"answer_id":53347806,"question_id":19403949,"body_markdown":"    String parentWindowHandler = driver.getWindowHandle(); // Store your parent window\r\n    String subWindowHandler = null;\r\n    \r\n    Set&lt;String&gt; handles = driver.getWindowHandles(); // get all window handles\r\n    Iterator&lt;String&gt; iterator = handles.iterator();\r\n    \r\n    subWindowHandler = iterator.next();\r\n    \r\n    driver.switchTo().window(subWindowHandler); // switch to popup window\r\n    \r\n    // Now you are in the popup window, perform necessary actions here\r\n    \r\n    driver.switchTo().window(parentWindowHandler);  // switch back to parent window","title":"How to handle Pop-up in Selenium WebDriver using Java","body":"<pre><code>String parentWindowHandler = driver.getWindowHandle(); // Store your parent window\nString subWindowHandler = null;\n\nSet&lt;String&gt; handles = driver.getWindowHandles(); // get all window handles\nIterator&lt;String&gt; iterator = handles.iterator();\n\nsubWindowHandler = iterator.next();\n\ndriver.switchTo().window(subWindowHandler); // switch to popup window\n\n// Now you are in the popup window, perform necessary actions here\n\ndriver.switchTo().window(parentWindowHandler);  // switch back to parent window\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1695116809,"post_id":77118968,"comment_id":135978062,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77118968/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26858468,"reputation":1,"user_id":20442395,"display_name":"Greg Harward"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695216690,"creation_date":1694887146,"answer_id":77118968,"question_id":19403949,"body_markdown":"# It isn&#39;t Java, but if the comparison helps, here is a simple Python solution in Chrome that handles the question in a single line.\r\n    from selenium import webdriver\r\n\r\n    driver = webdriver.Chrome()\r\n    driver.get(url)\r\n\r\n    # Save a list of all open window handles\r\n    window_handles = driver.window_handles\r\n\r\n    # Open new window with click() action - modify as needed.\r\n    get_element(driver, By.XPATH, &quot;//input[@title]&quot;).click()\r\n\r\n    # Get and switch to the pop-up window\r\n    new_popup_window = list(set(driver.window_handles) - set(window_handles))[0]\r\n    driver.switch_to.window(new_popup_window)","title":"How to handle Pop-up in Selenium WebDriver using Java","body":"<h1>It isn't Java, but if the comparison helps, here is a simple Python solution in Chrome that handles the question in a single line.</h1>\n<pre><code>from selenium import webdriver\n\ndriver = webdriver.Chrome()\ndriver.get(url)\n\n# Save a list of all open window handles\nwindow_handles = driver.window_handles\n\n# Open new window with click() action - modify as needed.\nget_element(driver, By.XPATH, &quot;//input[@title]&quot;).click()\n\n# Get and switch to the pop-up window\nnew_popup_window = list(set(driver.window_handles) - set(window_handles))[0]\ndriver.switch_to.window(new_popup_window)\n</code></pre>\n"}],"owner":{"account_id":3329341,"reputation":493,"user_id":2798616,"accept_rate":60,"display_name":"Niyati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287496,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":19409121,"answer_count":10,"score":24,"last_activity_date":1695216690,"creation_date":1381927956,"question_id":19403949,"body_markdown":"I want to handle sign-in part in rediff.com, but the below code doesn&#39;t work for that:\r\n\r\n    driver.get(&quot;http://www.rediff.com/&quot;);\r\n    WebElement sign = driver.findElement(By.xpath(&quot;//html/body/div[3]/div[3]/span[4]/span/a&quot;));\r\n\tsign.click();\r\n\tString myWindowHandle = driver.getWindowHandle();\r\n\tdriver.switchTo().window(myWindowHandle);\r\n\tWebElement email_id= driver.findElement(By.xpath(&quot;//*[@id=&#39;signin_info&#39;]/a[1]&quot;));\r\n\temail_id.sendKeys(&quot;hi&quot;);\r\n\r\nIf `myWindowHandle` is not the correct string, then let me know how to get the pop-up Window name, because I can&#39;t find the name of the pop-up window.","title":"How to handle Pop-up in Selenium WebDriver using Java","body":"<p>I want to handle sign-in part in rediff.com, but the below code doesn't work for that:</p>\n\n<pre><code>driver.get(\"http://www.rediff.com/\");\nWebElement sign = driver.findElement(By.xpath(\"//html/body/div[3]/div[3]/span[4]/span/a\"));\nsign.click();\nString myWindowHandle = driver.getWindowHandle();\ndriver.switchTo().window(myWindowHandle);\nWebElement email_id= driver.findElement(By.xpath(\"//*[@id='signin_info']/a[1]\"));\nemail_id.sendKeys(\"hi\");\n</code></pre>\n\n<p>If <code>myWindowHandle</code> is not the correct string, then let me know how to get the pop-up Window name, because I can't find the name of the pop-up window.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":10647346,"reputation":5559,"user_id":7839518,"display_name":"Tonnie"},"score":2,"creation_date":1677168322,"post_id":72806661,"comment_id":133288605,"body_markdown":"Have exactly the same set-up  and dependencies but facing the same error still.","body":"Have exactly the same set-up  and dependencies but facing the same error still."},{"owner":{"account_id":7384034,"reputation":143,"user_id":12582766,"display_name":"Marco Antonio"},"score":2,"creation_date":1677173447,"post_id":72806661,"comment_id":133290255,"body_markdown":"That fixed mine. It&#39;s sad to see two different compilers for hilt breaking your code, but I guess I&#39;m happy now","body":"That fixed mine. It&#39;s sad to see two different compilers for hilt breaking your code, but I guess I&#39;m happy now"},{"owner":{"account_id":6137419,"reputation":798,"user_id":4785772,"accept_rate":50,"display_name":"Tausif"},"score":0,"creation_date":1678705611,"post_id":72806661,"comment_id":133579162,"body_markdown":"@Tonnie,  if you are using multiple worker classes in your code, My answer would help you.","body":"@Tonnie,  if you are using multiple worker classes in your code, My answer would help you."},{"owner":{"account_id":5862301,"reputation":1262,"user_id":4617571,"accept_rate":75,"display_name":"Mojtaba Asgari"},"score":0,"creation_date":1698381047,"post_id":72806661,"comment_id":136400742,"body_markdown":"It&#39;s worked for me too, to everybody read: make sure you have the same hilt-compiler version.","body":"It&#39;s worked for me too, to everybody read: make sure you have the same hilt-compiler version."}],"tags":[],"owner":{"account_id":26776,"reputation":5358,"user_id":69966,"accept_rate":86,"display_name":"Chepech"},"comment_count":4,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1656529811,"creation_date":1656529811,"answer_id":72806661,"question_id":71618805,"body_markdown":"Two things you should check:\r\n\r\nCheck that you are using the [correct ***provider*** entry depending on the version][1] that you are using the AndroidManifest, this one worked for me:\r\n\r\n    &lt;provider\r\n        android:name=&quot;androidx.startup.InitializationProvider&quot;\r\n        android:authorities=&quot;${applicationId}.androidx-startup&quot;\r\n        tools:node=&quot;remove&quot;&gt;\r\n    &lt;/provider&gt;\r\n\r\nCheck that you have this two kapt dependencies on your build.gradle (this is not mentioned on the doc, and this was the cause for me having the same issue):\r\n\r\n    kapt &quot;com.google.dagger:hilt-android-compiler:2.42&quot;\r\n    kapt &quot;androidx.hilt:hilt-compiler:1.0.0&quot;\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/workmanager/advanced/custom-configuration","title":"Hilt and WorkManager error : java.lang.NoSuchMethodException:&lt;init&gt; [class android.content.Context, class androidx.work.WorkerParameters]","body":"<p>Two things you should check:</p>\n<p>Check that you are using the <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/advanced/custom-configuration\" rel=\"noreferrer\">correct <em><strong>provider</strong></em> entry depending on the version</a> that you are using the AndroidManifest, this one worked for me:</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.startup.InitializationProvider&quot;\n    android:authorities=&quot;${applicationId}.androidx-startup&quot;\n    tools:node=&quot;remove&quot;&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>Check that you have this two kapt dependencies on your build.gradle (this is not mentioned on the doc, and this was the cause for me having the same issue):</p>\n<pre><code>kapt &quot;com.google.dagger:hilt-android-compiler:2.42&quot;\nkapt &quot;androidx.hilt:hilt-compiler:1.0.0&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6137419,"reputation":798,"user_id":4785772,"accept_rate":50,"display_name":"Tausif"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678705427,"creation_date":1678705427,"answer_id":75721027,"question_id":71618805,"body_markdown":"In my project, I have used multiple worker class for different tasks. I also encountered the same issue and fixed this by adding   `android:multiprocess=&quot;true&quot;` in the manifest file &quot;provider&quot; tag. Sample code is given here :\r\n \r\n\r\n    &lt;provider\r\n                android:name=&quot;androidx.startup.InitializationProvider&quot;\r\n                android:authorities=&quot;${applicationId}.androidx-startup&quot;\r\n                android:multiprocess=&quot;true&quot;\r\n                tools:node=&quot;remove&quot;&gt;\r\n    &lt;/provider&gt;","title":"Hilt and WorkManager error : java.lang.NoSuchMethodException:&lt;init&gt; [class android.content.Context, class androidx.work.WorkerParameters]","body":"<p>In my project, I have used multiple worker class for different tasks. I also encountered the same issue and fixed this by adding   <code>android:multiprocess=&quot;true&quot;</code> in the manifest file &quot;provider&quot; tag. Sample code is given here :</p>\n<pre><code>&lt;provider\n            android:name=&quot;androidx.startup.InitializationProvider&quot;\n            android:authorities=&quot;${applicationId}.androidx-startup&quot;\n            android:multiprocess=&quot;true&quot;\n            tools:node=&quot;remove&quot;&gt;\n&lt;/provider&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8711625,"reputation":31,"user_id":6517630,"display_name":"Hemant Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683714399,"creation_date":1683714399,"answer_id":76217318,"question_id":71618805,"body_markdown":"I was also facing this error and I had done everything you mentioned.\r\nIn my case, the code for removing `androidx.work.impl.WorkManagerInitializer` was in the app module&#39;s `AndroidManifest.xml`. On moving that code to feature-specific `AndroidManifest.xml` I was able to fix the issue.\r\n","title":"Hilt and WorkManager error : java.lang.NoSuchMethodException:&lt;init&gt; [class android.content.Context, class androidx.work.WorkerParameters]","body":"<p>I was also facing this error and I had done everything you mentioned.\nIn my case, the code for removing <code>androidx.work.impl.WorkManagerInitializer</code> was in the app module's <code>AndroidManifest.xml</code>. On moving that code to feature-specific <code>AndroidManifest.xml</code> I was able to fix the issue.</p>\n"},{"tags":[],"owner":{"account_id":7247553,"reputation":588,"user_id":5604429,"accept_rate":100,"display_name":"bene25"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686065649,"creation_date":1686065649,"answer_id":76416235,"question_id":71618805,"body_markdown":"I know example already has this piece of code, anyway in my case adding this code resolved the issue\r\n\r\n    override fun getWorkManagerConfiguration() =\r\n          Configuration.Builder()\r\n                .setWorkerFactory(workerFactory)\r\n                .build()","title":"Hilt and WorkManager error : java.lang.NoSuchMethodException:&lt;init&gt; [class android.content.Context, class androidx.work.WorkerParameters]","body":"<p>I know example already has this piece of code, anyway in my case adding this code resolved the issue</p>\n<pre><code>override fun getWorkManagerConfiguration() =\n      Configuration.Builder()\n            .setWorkerFactory(workerFactory)\n            .build()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8876334,"reputation":831,"user_id":6628335,"display_name":"Mohamed Medhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693057524,"creation_date":1693057524,"answer_id":76983248,"question_id":71618805,"body_markdown":"For me, I was using hilt.  \r\nI was missing `@HiltWorker` annotation on my worker class.","title":"Hilt and WorkManager error : java.lang.NoSuchMethodException:&lt;init&gt; [class android.content.Context, class androidx.work.WorkerParameters]","body":"<p>For me, I was using hilt.<br />\nI was missing <code>@HiltWorker</code> annotation on my worker class.</p>\n"},{"tags":[],"owner":{"account_id":5599496,"reputation":306,"user_id":4436156,"display_name":"KursikS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695216474,"creation_date":1695216474,"answer_id":77142935,"question_id":71618805,"body_markdown":"Make sure you do not call WorkManager.initialize yourself\r\n\r\n    @Provides\r\n    @Singleton\r\n    override fun create(@ApplicationContext context: Context): WorkManager {\r\n        // val configuration = Configuration.Builder().build()\r\n        // WorkManager.initialize(context, configuration)\r\n        return WorkManager.getInstance(context)\r\n    }","title":"Hilt and WorkManager error : java.lang.NoSuchMethodException:&lt;init&gt; [class android.content.Context, class androidx.work.WorkerParameters]","body":"<p>Make sure you do not call WorkManager.initialize yourself</p>\n<pre><code>@Provides\n@Singleton\noverride fun create(@ApplicationContext context: Context): WorkManager {\n    // val configuration = Configuration.Builder().build()\n    // WorkManager.initialize(context, configuration)\n    return WorkManager.getInstance(context)\n}\n</code></pre>\n"}],"owner":{"account_id":18711928,"reputation":111,"user_id":13641837,"display_name":"adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4843,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":6,"score":9,"last_activity_date":1695216474,"creation_date":1648219375,"question_id":71618805,"body_markdown":"I am using work manager with Hilt but getting below error.\r\n\r\nI am referring Android tutorial https://developer.android.com/training/dependency-injection/hilt-jetpack\r\n\r\n**Error**\r\n\r\n    java.lang.NoSuchMethodException: com.debug.check.TestWorker.&lt;init&gt; [class android.content.Context, class androidx.work.WorkerParameters]\r\n            at java.lang.Class.getConstructor0(Class.java:2332)\r\n            at java.lang.Class.getDeclaredConstructor(Class.java:2170)\r\n            at androidx.work.WorkerFactory.createWorkerWithDefaultFallback(WorkerFactory.java:95)\r\n            at androidx.work.impl.WorkerWrapper.runWorker(WorkerWrapper.java:245)\r\n            at androidx.work.impl.WorkerWrapper.run(WorkerWrapper.java:137)\r\n            at androidx.work.impl.utils.SerialExecutor$Task.run(SerialExecutor.java:91)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n            at java.lang.Thread.run(Thread.java:929)\r\n\r\n **gradle version :**\r\n\r\n    implementation &#39;androidx.work:work-runtime-ktx:2.7.1&#39;\r\n        // When using Kotlin.\r\n    kapt(&quot;androidx.hilt:hilt-compiler:1.0.0&quot;)\r\n    implementation &#39;androidx.hilt:hilt-work:1.0.0&#39;\r\n\r\n**TestWorker**\r\n\r\n \r\n\r\n    @HiltWorker\r\n    class TestWorker @AssistedInject constructor(\r\n        @Assisted context: Context,\r\n        @Assisted chatParameters: WorkerParameters,\r\n        private val mainRepository: MainRepository\r\n    ) : CoroutineWorker(context, chatParameters) {\r\n    \r\n    \r\n        companion object {\r\n            const val KEY_RESULT = &quot;KEYRESULT&quot;\r\n        }\r\n    \r\n    \r\n        override suspend fun doWork(): Result = coroutineScope {\r\n            try {\r\n                println(&quot;test&quot;)\r\n                mainRepository.refreshMovies()\r\n            } catch (e: Exception) {\r\n                Result.failure()\r\n            }\r\n            Result.success()\r\n        }\r\n    }  \r\n\r\n**MyApplication**\r\n\r\n    @HiltAndroidApp\r\n    class MyApplication : Application(), Configuration.Provider {\r\n        @Inject\r\n        lateinit var workerFactory: HiltWorkerFactory\r\n    \r\n        override fun getWorkManagerConfiguration() =\r\n            Configuration.Builder()\r\n                .setWorkerFactory(workerFactory)\r\n                .build()\r\n        override fun onCreate() {\r\n            super.onCreate()\r\n           \r\n        }\r\n    }\r\n\r\n\r\n**MainActivity**\r\n \r\n   \r\n\r\n     @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main3);\r\n    \r\n            WorkManager workManager = WorkManager.getInstance(this);\r\n            PeriodicWorkRequest periodicWorkRequest = new PeriodicWorkRequest.Builder(TestChatWorker.class\r\n                    , 5, TimeUnit.SECONDS)\r\n                    .addTag(&quot;test&quot;)\r\n                    .build();\r\n    \r\n            workManager.enqueueUniquePeriodicWork(&quot;test&quot;, ExistingPeriodicWorkPolicy.KEEP, periodicWorkRequest);\r\n            workManager.getWorkInfoByIdLiveData(periodicWorkRequest.getId()).observe(this, new Observer&lt;WorkInfo&gt;() {\r\n                @Override\r\n                public void onChanged(WorkInfo workInfo) {\r\n                    if (workInfo != null) {\r\n                        if (workInfo.getState() == WorkInfo.State.SUCCEEDED) {\r\n                            String chatResult = workInfo.getOutputData().getString(TestWorker.KEY_RESULT);\r\n    \r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n*It continues to fail in the initiate part.*\r\nI tried to downgrade work manager to 2.6 but still not able to solve this issue.I already implemented in manifest.xml.\r\n\r\n     &lt;provider\r\n                android:name=&quot;androidx.startup.InitializationProvider&quot;\r\n                android:authorities=&quot;${applicationId}.androidx-startup&quot;\r\n                android:exported=&quot;false&quot;\r\n                tools:node=&quot;merge&quot;&gt;\r\n                &lt;!-- If you are using androidx.startup to initialize other components --&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;androidx.work.impl.WorkManagerInitializer&quot;\r\n                    android:value=&quot;androidx.startup&quot;\r\n                    tools:node=&quot;remove&quot; /&gt;\r\n            &lt;/provider&gt;\r\n\r\n","title":"Hilt and WorkManager error : java.lang.NoSuchMethodException:&lt;init&gt; [class android.content.Context, class androidx.work.WorkerParameters]","body":"<p>I am using work manager with Hilt but getting below error.</p>\n<p>I am referring Android tutorial <a href=\"https://developer.android.com/training/dependency-injection/hilt-jetpack\" rel=\"noreferrer\">https://developer.android.com/training/dependency-injection/hilt-jetpack</a></p>\n<p><strong>Error</strong></p>\n<pre><code>java.lang.NoSuchMethodException: com.debug.check.TestWorker.&lt;init&gt; [class android.content.Context, class androidx.work.WorkerParameters]\n        at java.lang.Class.getConstructor0(Class.java:2332)\n        at java.lang.Class.getDeclaredConstructor(Class.java:2170)\n        at androidx.work.WorkerFactory.createWorkerWithDefaultFallback(WorkerFactory.java:95)\n        at androidx.work.impl.WorkerWrapper.runWorker(WorkerWrapper.java:245)\n        at androidx.work.impl.WorkerWrapper.run(WorkerWrapper.java:137)\n        at androidx.work.impl.utils.SerialExecutor$Task.run(SerialExecutor.java:91)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:929)\n</code></pre>\n<p><strong>gradle version :</strong></p>\n<pre><code>implementation 'androidx.work:work-runtime-ktx:2.7.1'\n    // When using Kotlin.\nkapt(&quot;androidx.hilt:hilt-compiler:1.0.0&quot;)\nimplementation 'androidx.hilt:hilt-work:1.0.0'\n</code></pre>\n<p><strong>TestWorker</strong></p>\n<pre><code>@HiltWorker\nclass TestWorker @AssistedInject constructor(\n    @Assisted context: Context,\n    @Assisted chatParameters: WorkerParameters,\n    private val mainRepository: MainRepository\n) : CoroutineWorker(context, chatParameters) {\n\n\n    companion object {\n        const val KEY_RESULT = &quot;KEYRESULT&quot;\n    }\n\n\n    override suspend fun doWork(): Result = coroutineScope {\n        try {\n            println(&quot;test&quot;)\n            mainRepository.refreshMovies()\n        } catch (e: Exception) {\n            Result.failure()\n        }\n        Result.success()\n    }\n}  \n</code></pre>\n<p><strong>MyApplication</strong></p>\n<pre><code>@HiltAndroidApp\nclass MyApplication : Application(), Configuration.Provider {\n    @Inject\n    lateinit var workerFactory: HiltWorkerFactory\n\n    override fun getWorkManagerConfiguration() =\n        Configuration.Builder()\n            .setWorkerFactory(workerFactory)\n            .build()\n    override fun onCreate() {\n        super.onCreate()\n       \n    }\n}\n</code></pre>\n<p><strong>MainActivity</strong></p>\n<pre><code> @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main3);\n\n        WorkManager workManager = WorkManager.getInstance(this);\n        PeriodicWorkRequest periodicWorkRequest = new PeriodicWorkRequest.Builder(TestChatWorker.class\n                , 5, TimeUnit.SECONDS)\n                .addTag(&quot;test&quot;)\n                .build();\n\n        workManager.enqueueUniquePeriodicWork(&quot;test&quot;, ExistingPeriodicWorkPolicy.KEEP, periodicWorkRequest);\n        workManager.getWorkInfoByIdLiveData(periodicWorkRequest.getId()).observe(this, new Observer&lt;WorkInfo&gt;() {\n            @Override\n            public void onChanged(WorkInfo workInfo) {\n                if (workInfo != null) {\n                    if (workInfo.getState() == WorkInfo.State.SUCCEEDED) {\n                        String chatResult = workInfo.getOutputData().getString(TestWorker.KEY_RESULT);\n\n                    }\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p><em>It continues to fail in the initiate part.</em>\nI tried to downgrade work manager to 2.6 but still not able to solve this issue.I already implemented in manifest.xml.</p>\n<pre><code> &lt;provider\n            android:name=&quot;androidx.startup.InitializationProvider&quot;\n            android:authorities=&quot;${applicationId}.androidx-startup&quot;\n            android:exported=&quot;false&quot;\n            tools:node=&quot;merge&quot;&gt;\n            &lt;!-- If you are using androidx.startup to initialize other components --&gt;\n            &lt;meta-data\n                android:name=&quot;androidx.work.impl.WorkManagerInitializer&quot;\n                android:value=&quot;androidx.startup&quot;\n                tools:node=&quot;remove&quot; /&gt;\n        &lt;/provider&gt;\n</code></pre>\n"},{"tags":["java","time","timer","calendar","scheduler"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":5,"creation_date":1694688482,"post_id":77104155,"comment_id":135925548,"body_markdown":"Depending on your operating system it might be worth it exploring its scheduling facilities instead of doing it via code.","body":"Depending on your operating system it might be worth it exploring its scheduling facilities instead of doing it via code."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1694689692,"post_id":77104155,"comment_id":135925832,"body_markdown":"I agree with @FedericoklezCulloca. You have described a cron job. Get rid of the scheduling part of your code, and just focus on the `//method to be called`. Then, write a script or something that will execute your Java file, and then put that script on the crontab. Cron jobs are easy to make and maintain, and even though scheduling them is a bit tricky, there are a million resources on how to do so online.","body":"I agree with @FedericoklezCulloca. You have described a cron job. Get rid of the scheduling part of your code, and just focus on the <code>&#47;&#47;method to be called</code>. Then, write a script or something that will execute your Java file, and then put that script on the crontab. Cron jobs are easy to make and maintain, and even though scheduling them is a bit tricky, there are a million resources on how to do so online."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1694691689,"post_id":77104155,"comment_id":135926185,"body_markdown":"Using cron (or at) is the way to go if you aren&#39;t writing Java server code. If you are writing Java server code, [Quartz](https://www.quartz-scheduler.org/) *might* be worth investigating.","body":"Using cron (or at) is the way to go if you aren&#39;t writing Java server code. If you are writing Java server code, <a href=\"https://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz</a> <i>might</i> be worth investigating."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1694692549,"post_id":77104155,"comment_id":135926356,"body_markdown":"If you want to do it in Java, dont use `Calendar` and `Timer`, they are outdated and `Calendar` in particular is poorly designed and cumbersome to work with. Use `ZonedDateTime` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). And use [`ScheduledExecutorService`](https://www.baeldung.com/java-executor-service-tutorial).","body":"If you want to do it in Java, dont use <code>Calendar</code> and <code>Timer</code>, they are outdated and <code>Calendar</code> in particular is poorly designed and cumbersome to work with. Use <code>ZonedDateTime</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. And use <a href=\"https://www.baeldung.com/java-executor-service-tutorial\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1694692637,"post_id":77104155,"comment_id":135926376,"body_markdown":"Welcome to Stack Overflow. Please search before asking. Similar requirements are treated on a wealth of websites.","body":"Welcome to Stack Overflow. Please search before asking. Similar requirements are treated on a wealth of websites."}],"answers":[{"tags":[],"owner":{"account_id":29441321,"reputation":11,"user_id":22559387,"display_name":"Cristian Daramus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694691645,"creation_date":1694691645,"answer_id":77104543,"question_id":77104155,"body_markdown":"if you are using Spring along with Java one option is to use @Scheduled along with a cron expression. \r\n\r\nSomething like this:\r\n\r\n    @Scheduled(cron = &quot;0 0 21 * * ?&quot;, zone = &quot;Europe/Paris&quot;)\r\n\r\nYou can find more about @Scheduled here: https://www.baeldung.com/spring-scheduled-tasks.\r\n\r\nAnd you can play with cron expressions here: https://www.freeformatter.com/cron-expression-generator-quartz.html","title":"How to execute the method at desired time everyday","body":"<p>if you are using Spring along with Java one option is to use @Scheduled along with a cron expression.</p>\n<p>Something like this:</p>\n<pre><code>@Scheduled(cron = &quot;0 0 21 * * ?&quot;, zone = &quot;Europe/Paris&quot;)\n</code></pre>\n<p>You can find more about @Scheduled here: <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-scheduled-tasks</a>.</p>\n<p>And you can play with cron expressions here: <a href=\"https://www.freeformatter.com/cron-expression-generator-quartz.html\" rel=\"nofollow noreferrer\">https://www.freeformatter.com/cron-expression-generator-quartz.html</a></p>\n"}],"owner":{"account_id":29183303,"reputation":1,"user_id":22357008,"display_name":"sEul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694692687,"answer_count":1,"score":0,"last_activity_date":1695216417,"creation_date":1694688382,"question_id":77104155,"body_markdown":"I have a method which should be executed everyday indefinitely. If the time is missed (because of the machine/laptop being inactive) then it should be executed next day. This should be running all the time.","title":"How to execute the method at desired time everyday","body":"<p>I have a method which should be executed everyday indefinitely. If the time is missed (because of the machine/laptop being inactive) then it should be executed next day. This should be running all the time.</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":16626245,"reputation":31,"user_id":12015287,"display_name":"Chungyen Tsai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695216312,"creation_date":1695216312,"question_id":77142914,"body_markdown":"The idea is to have a class that, when executed, generates entities for every table in the database. \r\nTo do this, my idea was to generate entities using the Hibernate API with code. \r\nI&#39;ve been exploring a bit, and I&#39;ve come up with this, where metadata is not null. However, in exporter.start(), it fails in a place where metadata is requested, and it&#39;s null there.\r\nCurrently, the class looks like this:\r\n\r\n    public class Hibernate {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tFile outputPath = new File(&quot;src/main/java/com/yourcompany/invoicing/model/&quot;);\r\n    \r\n    \t\tConfiguration configuration = new Configuration().configure();\r\n    \t\tStandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder()\r\n    \t\t\t\t.applySettings(configuration.getProperties());\r\n    \t\tStandardServiceRegistry registry = builder.build();\r\n    \t\tMetadataSources sources = new MetadataSources(registry);\r\n    \t\tMetadata metadata = sources.buildMetadata();\r\n    \r\n    \t\tSystem.out.println(metadata == null); // &lt;&lt; false\r\n    \t\tSystem.out.println(metadata.getDatabase().getDialect()); // &lt;&lt; returns me mysql8 dialect\r\n    \r\n    \t\tPOJOExporter exporter = new POJOExporter();\r\n    \t\texporter.setOutputDirectory(outputPath);\r\n    \t\texporter.getProperties().setProperty(&quot;jdk5&quot;, &quot;true&quot;);\r\n    \t\texporter.getProperties().setProperty(&quot;ejb3&quot;, &quot;true&quot;);\r\n    \r\n    \t\texporter.start();\r\n    \r\n    \t\tStandardServiceRegistryBuilder.destroy(registry);\r\n    \t}\r\n    \r\n    }\r\n\r\nI have configured hibernate.cfg.xml in src/main/resources like this:\r\n\r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\r\n    \t\t&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.password&quot;&gt;r123456&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.default_schema&quot;&gt;reverse&lt;/property&gt;\r\n    \t&lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nThe hibernate.reveng.xml is also configured, although I&#39;m not sure if it&#39;s working.\r\n\r\n    &lt;hibernate-reverse-engineering&gt;\r\n        &lt;schema-selection match-schema=&quot;reverse&quot; /&gt;\r\n        &lt;table-filter match-name=&quot;.*&quot; package=&quot;com.yourcompany.invoicing.model&quot; /&gt;\r\n    &lt;/hibernate-reverse-engineering&gt;\r\n\r\nI&#39;m using the libraries in the pom.xml\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-tools&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.15.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.6.15.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nThe error is:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat org.hibernate.tool.hbm2x.AbstractExporter.buildMetadata(AbstractExporter.java:206)\r\n    \tat org.hibernate.tool.hbm2x.AbstractExporter.getMetadata(AbstractExporter.java:56)\r\n    \tat org.hibernate.tool.hbm2x.AbstractExporter.setupContext(AbstractExporter.java:177)\r\n    \tat org.hibernate.tool.hbm2x.POJOExporter.setupContext(POJOExporter.java:35)\r\n    \tat org.hibernate.tool.hbm2x.AbstractExporter.start(AbstractExporter.java:104)\r\n    \tat com.yourcompany.invoicing.run.Hibernate.main(Hibernate.java:35)\r\n\r\nWhere\r\n\r\n    (AbstractExporter.java:177) is the line if(getMetadata() != null)\r\n\r\n            if(getMetadata() != null) {\r\n            \t\tgetTemplateHelper().putInContext(&quot;md&quot;, metadata);\r\n            \t\tgetTemplateHelper().putInContext(&quot;props&quot;, getProperties());\r\n            \t\tgetTemplateHelper().putInContext(&quot;tables&quot;, metadata.collectTableMappings());\r\n            }\r\nand \r\n\r\n    (AbstractExporter.java:56) is the line metadata = buildMetadata();\r\n\r\n    \tpublic Metadata getMetadata() {\r\n    \t\tif (metadata == null) {\r\n    \t\t\tmetadata = buildMetadata();\r\n    \t\t}\r\n    \t\treturn metadata;\r\n    \t}","title":"Generate entities with Hibernate API in JAVA","body":"<p>The idea is to have a class that, when executed, generates entities for every table in the database.\nTo do this, my idea was to generate entities using the Hibernate API with code.\nI've been exploring a bit, and I've come up with this, where metadata is not null. However, in exporter.start(), it fails in a place where metadata is requested, and it's null there.\nCurrently, the class looks like this:</p>\n<pre><code>public class Hibernate {\n\n    public static void main(String[] args) {\n        File outputPath = new File(&quot;src/main/java/com/yourcompany/invoicing/model/&quot;);\n\n        Configuration configuration = new Configuration().configure();\n        StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder()\n                .applySettings(configuration.getProperties());\n        StandardServiceRegistry registry = builder.build();\n        MetadataSources sources = new MetadataSources(registry);\n        Metadata metadata = sources.buildMetadata();\n\n        System.out.println(metadata == null); // &lt;&lt; false\n        System.out.println(metadata.getDatabase().getDialect()); // &lt;&lt; returns me mysql8 dialect\n\n        POJOExporter exporter = new POJOExporter();\n        exporter.setOutputDirectory(outputPath);\n        exporter.getProperties().setProperty(&quot;jdk5&quot;, &quot;true&quot;);\n        exporter.getProperties().setProperty(&quot;ejb3&quot;, &quot;true&quot;);\n\n        exporter.start();\n\n        StandardServiceRegistryBuilder.destroy(registry);\n    }\n\n}\n</code></pre>\n<p>I have configured hibernate.cfg.xml in src/main/resources like this:</p>\n<pre><code>&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;r123456&lt;/property&gt;\n        &lt;property name=&quot;hibernate.default_schema&quot;&gt;reverse&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>The hibernate.reveng.xml is also configured, although I'm not sure if it's working.</p>\n<pre><code>&lt;hibernate-reverse-engineering&gt;\n    &lt;schema-selection match-schema=&quot;reverse&quot; /&gt;\n    &lt;table-filter match-name=&quot;.*&quot; package=&quot;com.yourcompany.invoicing.model&quot; /&gt;\n&lt;/hibernate-reverse-engineering&gt;\n</code></pre>\n<p>I'm using the libraries in the pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-tools&lt;/artifactId&gt;\n        &lt;version&gt;5.6.15.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.6.15.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;version&gt;8.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The error is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at org.hibernate.tool.hbm2x.AbstractExporter.buildMetadata(AbstractExporter.java:206)\n    at org.hibernate.tool.hbm2x.AbstractExporter.getMetadata(AbstractExporter.java:56)\n    at org.hibernate.tool.hbm2x.AbstractExporter.setupContext(AbstractExporter.java:177)\n    at org.hibernate.tool.hbm2x.POJOExporter.setupContext(POJOExporter.java:35)\n    at org.hibernate.tool.hbm2x.AbstractExporter.start(AbstractExporter.java:104)\n    at com.yourcompany.invoicing.run.Hibernate.main(Hibernate.java:35)\n</code></pre>\n<p>Where</p>\n<pre><code>(AbstractExporter.java:177) is the line if(getMetadata() != null)\n\n        if(getMetadata() != null) {\n                getTemplateHelper().putInContext(&quot;md&quot;, metadata);\n                getTemplateHelper().putInContext(&quot;props&quot;, getProperties());\n                getTemplateHelper().putInContext(&quot;tables&quot;, metadata.collectTableMappings());\n        }\n</code></pre>\n<p>and</p>\n<pre><code>(AbstractExporter.java:56) is the line metadata = buildMetadata();\n\n    public Metadata getMetadata() {\n        if (metadata == null) {\n            metadata = buildMetadata();\n        }\n        return metadata;\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","navigation","dependencies"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1695005323,"post_id":77124294,"comment_id":135961572,"body_markdown":"So did you try updating your `compileSdk` to 34?","body":"So did you try updating your <code>compileSdk</code> to 34?"}],"answers":[{"tags":[],"owner":{"account_id":29489127,"reputation":1,"user_id":22598423,"display_name":"DumontM4kePrompt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695216057,"creation_date":1695197721,"answer_id":77140544,"question_id":77124294,"body_markdown":"I had this mistake before when default colors (res/values/colors.xml) were replaced by me in android studio project. I worked with template Navigation Drawer Views Activity on the startup screen. By adding default colors into res/values/colors.xml I solved this problem\r\n\r\n    &lt;color name=&quot;purple_200&quot;&gt;#FFBB86FC&lt;/color&gt;\r\n    &lt;color name=&quot;purple_500&quot;&gt;#FF6200EE&lt;/color&gt;\r\n    &lt;color name=&quot;purple_700&quot;&gt;#FF3700B3&lt;/color&gt;\r\n    &lt;color name=&quot;teal_200&quot;&gt;#FF03DAC5&lt;/color&gt;\r\n    &lt;color name=&quot;teal_700&quot;&gt;#FF018786&lt;/color&gt;","title":"How to fix navigation component dependence ERROR?","body":"<p>I had this mistake before when default colors (res/values/colors.xml) were replaced by me in android studio project. I worked with template Navigation Drawer Views Activity on the startup screen. By adding default colors into res/values/colors.xml I solved this problem</p>\n<pre><code>&lt;color name=&quot;purple_200&quot;&gt;#FFBB86FC&lt;/color&gt;\n&lt;color name=&quot;purple_500&quot;&gt;#FF6200EE&lt;/color&gt;\n&lt;color name=&quot;purple_700&quot;&gt;#FF3700B3&lt;/color&gt;\n&lt;color name=&quot;teal_200&quot;&gt;#FF03DAC5&lt;/color&gt;\n&lt;color name=&quot;teal_700&quot;&gt;#FF018786&lt;/color&gt;\n</code></pre>\n"}],"owner":{"account_id":29040510,"reputation":1,"user_id":22245460,"display_name":"funny android"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695216057,"creation_date":1695004519,"question_id":77124294,"body_markdown":"When I sync, nothing is happen. But I run my app, having an error. This is my build.gradle(app)\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.newsapp&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.newsapp&quot;\r\n        minSdk 21\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation(&quot;androidx.fragment:fragment-ktx:1.6.1&quot;)\r\n    implementation(&quot;androidx.navigation:navigation-fragment-ktx:2.7.2&quot;)\r\n    implementation(&quot;androidx.navigation:navigation-ui-ktx:2.7.2&quot;)\r\n}\r\n```\r\n\r\nAnd this is my build.gradle (project)\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.2&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n}\r\n\r\n```\r\n\r\nWhen I run app, have this error:\r\n\r\n8 issues were found when checking AAR metadata:\r\n\r\n 1.  Dependency &#39;androidx.navigation:navigation-common:2.7.2&#39; requires libraries and applications that depend on it to compile against version 34 or later of the Android APIs.\r\n:app is currently compiled against android-33.\r\n\r\n      Also, the maximum recommended compile SDK version for Android Gradle\r\n      plugin 7.4.2 is 33.\r\n\r\n      Recommended action: Update this project&#39;s version of the Android Gradle\r\n      plugin to one that supports 34, then update this project to use\r\n      compileSdkVerion of at least 34.\r\n\r\n      Note that updating a library or application&#39;s compileSdkVersion (which\r\n      allows newer APIs to be used) can be done separately from updating\r\n      targetSdkVersion (which opts the app in to new runtime behavior) and\r\n      minSdkVersion (which determines which devices the app can be installed\r\n      on).\r\n\r\n  2.  Dependency &#39;androidx.navigation:navigation-common-ktx:2.7.2&#39; requires libraries and applications that\r\n      depend on it to compile against version 34 or later of the\r\n      Android APIs.\r\n\r\n      :app is currently compiled against android-33.\r\n\r\n      Also, the maximum recommended compile SDK version for Android Gradle\r\n      plugin 7.4.2 is 33.\r\n\r\n      Recommended action: Update this project&#39;s version of the Android Gradle\r\n      plugin to one that supports 34, then update this project to use\r\n      compileSdkVerion of at least 34.\r\n\r\n      Note that updating a library or application&#39;s compileSdkVersion (which\r\n      allows newer APIs to be used) can be done separately from updating\r\n      targetSdkVersion (which opts the app in to new runtime behavior) and\r\n      minSdkVersion (which determines which devices the app can be installed\r\n      on).\r\n\r\n  3.  Dependency &#39;androidx.navigation:navigation-runtime:2.7.2&#39; requires libraries and applications that\r\n      depend on it to compile against version 34 or later of the\r\n      Android APIs.\r\n\r\n      :app is currently compiled against android-33.\r\n\r\n      Also, the maximum recommended compile SDK version for Android Gradle\r\n      plugin 7.4.2 is 33.\r\n\r\n      Recommended action: Update this project&#39;s version of the Android Gradle\r\n      plugin to one that supports 34, then update this project to use\r\n      compileSdkVerion of at least 34.\r\n\r\n      Note that updating a library or application&#39;s compileSdkVersion (which\r\n      allows newer APIs to be used) can be done separately from updating\r\n      targetSdkVersion (which opts the app in to new runtime behavior) and\r\n      minSdkVersion (which determines which devices the app can be installed\r\n      on).\r\n\r\n  4.  Dependency &#39;androidx.navigation:navigation-runtime-ktx:2.7.2&#39; requires libraries and applications that\r\n      depend on it to compile against version 34 or later of the\r\n      Android APIs.\r\n\r\n      :app is currently compiled against android-33.\r\n\r\n      Also, the maximum recommended compile SDK version for Android Gradle\r\n      plugin 7.4.2 is 33.\r\n\r\n      Recommended action: Update this project&#39;s version of the Android Gradle\r\n      plugin to one that supports 34, then update this project to use\r\n      compileSdkVerion of at least 34.\r\n\r\n      Note that updating a library or application&#39;s compileSdkVersion (which\r\n      allows newer APIs to be used) can be done separately from updating\r\n      targetSdkVersion (which opts the app in to new runtime behavior) and\r\n      minSdkVersion (which determines which devices the app can be installed\r\n      on).\r\n\r\n  5.  Dependency &#39;androidx.navigation:navigation-fragment:2.7.2&#39; requires libraries and applications that\r\n      depend on it to compile against version 34 or later of the\r\n      Android APIs.\r\n\r\n      :app is currently compiled against android-33.\r\n\r\n      Also, the maximum recommended compile SDK version for Android Gradle\r\n      plugin 7.4.2 is 33.\r\n\r\n      Recommended action: Update this project&#39;s version of the Android Gradle\r\n      plugin to one that supports 34, then update this project to use\r\n      compileSdkVerion of at least 34.\r\n\r\n      Note that updating a library or application&#39;s compileSdkVersion (which\r\n      allows newer APIs to be used) can be done separately from updating\r\n      targetSdkVersion (which opts the app in to new runtime behavior) and\r\n      minSdkVersion (which determines which devices the app can be installed\r\n      on).\r\n\r\n  6.  Dependency &#39;androidx.navigation:navigation-fragment-ktx:2.7.2&#39; requires libraries and applications that\r\n      depend on it to compile against version 34 or later of the\r\n      Android APIs.\r\n\r\n      :app is currently compiled against android-33.\r\n\r\n      Also, the maximum recommended compile SDK version for Android Gradle\r\n      plugin 7.4.2 is 33.\r\n\r\n      Recommended action: Update this project&#39;s version of the Android Gradle\r\n      plugin to one that supports 34, then update this project to use\r\n      compileSdkVerion of at least 34.\r\n\r\n      Note that updating a library or application&#39;s compileSdkVersion (which\r\n      allows newer APIs to be used) can be done separately from updating\r\n      targetSdkVersion (which opts the app in to new runtime behavior) and\r\n      minSdkVersion (which determines which devices the app can be installed\r\n      on).\r\n\r\n  7.  Dependency &#39;androidx.navigation:navigation-ui-ktx:2.7.2&#39; requires libraries and applications that\r\n      depend on it to compile against version 34 or later of the\r\n      Android APIs.\r\n\r\n      :app is currently compiled against android-33.\r\n\r\n      Also, the maximum recommended compile SDK version for Android Gradle\r\n      plugin 7.4.2 is 33.\r\n\r\n      Recommended action: Update this project&#39;s version of the Android Gradle\r\n      plugin to one that supports 34, then update this project to use\r\n      compileSdkVerion of at least 34.\r\n\r\n      Note that updating a library or application&#39;s compileSdkVersion (which\r\n      allows newer APIs to be used) can be done separately from updating\r\n      targetSdkVersion (which opts the app in to new runtime behavior) and\r\n      minSdkVersion (which determines which devices the app can be installed\r\n      on).\r\n\r\n  8.  Dependency &#39;androidx.navigation:navigation-ui:2.7.2&#39; requires libraries and applications that\r\n      depend on it to compile against version 34 or later of the\r\n      Android APIs.\r\n\r\n      :app is currently compiled against android-33.\r\n\r\n      Also, the maximum recommended compile SDK version for Android Gradle\r\n      plugin 7.4.2 is 33.\r\n\r\n      Recommended action: Update this project&#39;s version of the Android Gradle\r\n      plugin to one that supports 34, then update this project to use\r\n      compileSdkVerion of at least 34.\r\n\r\n      Note that updating a library or application&#39;s compileSdkVersion (which\r\n      allows newer APIs to be used) can be done separately from updating\r\n      targetSdkVersion (which opts the app in to new runtime behavior) and\r\n      minSdkVersion (which determines which devices the app can be installed\r\n      on).\r\nHow to fix this error? Thanks.\r\n\r\n\r\nI want to fix this problem, I tried fix this but nothing is happen.","title":"How to fix navigation component dependence ERROR?","body":"<p>When I sync, nothing is happen. But I run my app, having an error. This is my build.gradle(app)</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n}\n\nandroid {\n    namespace 'com.example.newsapp'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.newsapp&quot;\n        minSdk 21\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation(&quot;androidx.fragment:fragment-ktx:1.6.1&quot;)\n    implementation(&quot;androidx.navigation:navigation-fragment-ktx:2.7.2&quot;)\n    implementation(&quot;androidx.navigation:navigation-ui-ktx:2.7.2&quot;)\n}\n</code></pre>\n<p>And this is my build.gradle (project)</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '7.4.2' apply false\n    id 'com.android.library' version '7.4.2' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n}\n\n</code></pre>\n<p>When I run app, have this error:</p>\n<p>8 issues were found when checking AAR metadata:</p>\n<ol>\n<li><p>Dependency 'androidx.navigation:navigation-common:2.7.2' requires libraries and applications that depend on it to compile against version 34 or later of the Android APIs.\n:app is currently compiled against android-33.</p>\n<p>Also, the maximum recommended compile SDK version for Android Gradle\nplugin 7.4.2 is 33.</p>\n<p>Recommended action: Update this project's version of the Android Gradle\nplugin to one that supports 34, then update this project to use\ncompileSdkVerion of at least 34.</p>\n<p>Note that updating a library or application's compileSdkVersion (which\nallows newer APIs to be used) can be done separately from updating\ntargetSdkVersion (which opts the app in to new runtime behavior) and\nminSdkVersion (which determines which devices the app can be installed\non).</p>\n</li>\n<li><p>Dependency 'androidx.navigation:navigation-common-ktx:2.7.2' requires libraries and applications that\ndepend on it to compile against version 34 or later of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Also, the maximum recommended compile SDK version for Android Gradle\nplugin 7.4.2 is 33.</p>\n<p>Recommended action: Update this project's version of the Android Gradle\nplugin to one that supports 34, then update this project to use\ncompileSdkVerion of at least 34.</p>\n<p>Note that updating a library or application's compileSdkVersion (which\nallows newer APIs to be used) can be done separately from updating\ntargetSdkVersion (which opts the app in to new runtime behavior) and\nminSdkVersion (which determines which devices the app can be installed\non).</p>\n</li>\n<li><p>Dependency 'androidx.navigation:navigation-runtime:2.7.2' requires libraries and applications that\ndepend on it to compile against version 34 or later of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Also, the maximum recommended compile SDK version for Android Gradle\nplugin 7.4.2 is 33.</p>\n<p>Recommended action: Update this project's version of the Android Gradle\nplugin to one that supports 34, then update this project to use\ncompileSdkVerion of at least 34.</p>\n<p>Note that updating a library or application's compileSdkVersion (which\nallows newer APIs to be used) can be done separately from updating\ntargetSdkVersion (which opts the app in to new runtime behavior) and\nminSdkVersion (which determines which devices the app can be installed\non).</p>\n</li>\n<li><p>Dependency 'androidx.navigation:navigation-runtime-ktx:2.7.2' requires libraries and applications that\ndepend on it to compile against version 34 or later of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Also, the maximum recommended compile SDK version for Android Gradle\nplugin 7.4.2 is 33.</p>\n<p>Recommended action: Update this project's version of the Android Gradle\nplugin to one that supports 34, then update this project to use\ncompileSdkVerion of at least 34.</p>\n<p>Note that updating a library or application's compileSdkVersion (which\nallows newer APIs to be used) can be done separately from updating\ntargetSdkVersion (which opts the app in to new runtime behavior) and\nminSdkVersion (which determines which devices the app can be installed\non).</p>\n</li>\n<li><p>Dependency 'androidx.navigation:navigation-fragment:2.7.2' requires libraries and applications that\ndepend on it to compile against version 34 or later of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Also, the maximum recommended compile SDK version for Android Gradle\nplugin 7.4.2 is 33.</p>\n<p>Recommended action: Update this project's version of the Android Gradle\nplugin to one that supports 34, then update this project to use\ncompileSdkVerion of at least 34.</p>\n<p>Note that updating a library or application's compileSdkVersion (which\nallows newer APIs to be used) can be done separately from updating\ntargetSdkVersion (which opts the app in to new runtime behavior) and\nminSdkVersion (which determines which devices the app can be installed\non).</p>\n</li>\n<li><p>Dependency 'androidx.navigation:navigation-fragment-ktx:2.7.2' requires libraries and applications that\ndepend on it to compile against version 34 or later of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Also, the maximum recommended compile SDK version for Android Gradle\nplugin 7.4.2 is 33.</p>\n<p>Recommended action: Update this project's version of the Android Gradle\nplugin to one that supports 34, then update this project to use\ncompileSdkVerion of at least 34.</p>\n<p>Note that updating a library or application's compileSdkVersion (which\nallows newer APIs to be used) can be done separately from updating\ntargetSdkVersion (which opts the app in to new runtime behavior) and\nminSdkVersion (which determines which devices the app can be installed\non).</p>\n</li>\n<li><p>Dependency 'androidx.navigation:navigation-ui-ktx:2.7.2' requires libraries and applications that\ndepend on it to compile against version 34 or later of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Also, the maximum recommended compile SDK version for Android Gradle\nplugin 7.4.2 is 33.</p>\n<p>Recommended action: Update this project's version of the Android Gradle\nplugin to one that supports 34, then update this project to use\ncompileSdkVerion of at least 34.</p>\n<p>Note that updating a library or application's compileSdkVersion (which\nallows newer APIs to be used) can be done separately from updating\ntargetSdkVersion (which opts the app in to new runtime behavior) and\nminSdkVersion (which determines which devices the app can be installed\non).</p>\n</li>\n<li><p>Dependency 'androidx.navigation:navigation-ui:2.7.2' requires libraries and applications that\ndepend on it to compile against version 34 or later of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Also, the maximum recommended compile SDK version for Android Gradle\nplugin 7.4.2 is 33.</p>\n<p>Recommended action: Update this project's version of the Android Gradle\nplugin to one that supports 34, then update this project to use\ncompileSdkVerion of at least 34.</p>\n<p>Note that updating a library or application's compileSdkVersion (which\nallows newer APIs to be used) can be done separately from updating\ntargetSdkVersion (which opts the app in to new runtime behavior) and\nminSdkVersion (which determines which devices the app can be installed\non).\nHow to fix this error? Thanks.</p>\n</li>\n</ol>\n<p>I want to fix this problem, I tried fix this but nothing is happen.</p>\n"},{"tags":["java","mysql","hibernate","hibernate-criteria"],"comments":[{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":1,"creation_date":1565512708,"post_id":57446747,"comment_id":101372529,"body_markdown":"You need another table where you can store multiple rows for each user, with one hobby per row. This is the way to store a many-to-many relationship in a relational database. Then you don&#39;t need to use FIND_IN_SET() or worry about which character separates hobbies.","body":"You need another table where you can store multiple rows for each user, with one hobby per row. This is the way to store a many-to-many relationship in a relational database. Then you don&#39;t need to use FIND_IN_SET() or worry about which character separates hobbies."},{"owner":{"account_id":9582832,"reputation":469,"user_id":7116745,"accept_rate":29,"display_name":"Srinivas Lakshman"},"score":0,"creation_date":1565609911,"post_id":57446747,"comment_id":101394257,"body_markdown":"Thank you Bill for the answer. Since having multiple tables is not an option, we are stuck with this. Not sure how to solve on this.","body":"Thank you Bill for the answer. Since having multiple tables is not an option, we are stuck with this. Not sure how to solve on this."},{"owner":{"account_id":4702873,"reputation":384,"user_id":3805978,"accept_rate":71,"display_name":"jfzr"},"score":0,"creation_date":1585353355,"post_id":57446747,"comment_id":107738750,"body_markdown":"@SrinivasLakshman any new on this?","body":"@SrinivasLakshman any new on this?"}],"answers":[{"comments":[{"owner":{"account_id":9582832,"reputation":469,"user_id":7116745,"accept_rate":29,"display_name":"Srinivas Lakshman"},"score":0,"creation_date":1565626311,"post_id":57448904,"comment_id":101402826,"body_markdown":"Hi @Konstantin. Unfortunately, we are still using Java-7 and not using FluentJPA. (Just regular Hibernate). Kindly let me know if you have any other suggestions.","body":"Hi @Konstantin. Unfortunately, we are still using Java-7 and not using FluentJPA. (Just regular Hibernate). Kindly let me know if you have any other suggestions."},{"owner":{"account_id":881423,"reputation":1631,"user_id":263116,"display_name":"Konstantin Triger"},"score":0,"creation_date":1565637278,"post_id":57448904,"comment_id":101407226,"body_markdown":"In this case Criteria API is probably the way to go","body":"In this case Criteria API is probably the way to go"}],"tags":[],"owner":{"account_id":881423,"reputation":1631,"user_id":263116,"display_name":"Konstantin Triger"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565620098,"creation_date":1565516435,"answer_id":57448904,"question_id":57446747,"body_markdown":"If your goal is building [query dynamically][1] and not using Criteria API, you may build it with [FluentJPA][2], like in this:\r\n\r\n```java\r\npublic List&lt;UserInfo&gt; filterByHobbies(List&lt;String&gt; hobbies) {\r\n\r\n    Function1&lt;UserInfo, Boolean&gt; dynamicFilter = buildOr(hobbies);\r\n\r\n    FluentQuery query = FluentJPA.SQL((UserInfo user) -&gt; {\r\n        SELECT(user);\r\n        FROM(user);\r\n\r\n        WHERE(dynamicFilter.apply(hobbies);\r\n    });\r\n\r\n    return query.createQuery(getEntityManager(), UserInfo.class).getResultList();\r\n}\r\n\r\nprivate Function1&lt;UserInfo, Boolean&gt; buildOr(List&lt;String&gt; hobbies) {\r\n    Function1&lt;UserInfo, Boolean&gt; criteria = Function1.FALSE();\r\n\r\n    for (String hobby : hobbies)\r\n        criteria = criteria.or(u -&gt; FIND_IN_SET(parameter(hobby),\r\n                                                u.getHobbies().replace(&#39;|&#39;, &#39;,&#39;)) &gt; 0);\r\n\r\n    return criteria;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/streamx-co/FluentJPA/wiki/Dynamic-Queries\r\n  [2]: https://github.com/streamx-co/FluentJPA\r\n  [3]: https://stackoverflow.com/a/57443936","title":"Hibernate Criteria using FIND_IN_SET","body":"<p>If your goal is building <a href=\"https://github.com/streamx-co/FluentJPA/wiki/Dynamic-Queries\" rel=\"nofollow noreferrer\">query dynamically</a> and not using Criteria API, you may build it with <a href=\"https://github.com/streamx-co/FluentJPA\" rel=\"nofollow noreferrer\">FluentJPA</a>, like in this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;UserInfo&gt; filterByHobbies(List&lt;String&gt; hobbies) {\n\n    Function1&lt;UserInfo, Boolean&gt; dynamicFilter = buildOr(hobbies);\n\n    FluentQuery query = FluentJPA.SQL((UserInfo user) -&gt; {\n        SELECT(user);\n        FROM(user);\n\n        WHERE(dynamicFilter.apply(hobbies);\n    });\n\n    return query.createQuery(getEntityManager(), UserInfo.class).getResultList();\n}\n\nprivate Function1&lt;UserInfo, Boolean&gt; buildOr(List&lt;String&gt; hobbies) {\n    Function1&lt;UserInfo, Boolean&gt; criteria = Function1.FALSE();\n\n    for (String hobby : hobbies)\n        criteria = criteria.or(u -&gt; FIND_IN_SET(parameter(hobby),\n                                                u.getHobbies().replace('|', ',')) &gt; 0);\n\n    return criteria;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10024548,"reputation":729,"user_id":7413086,"display_name":"kushal Baldev"},"score":0,"creation_date":1629971477,"post_id":60895696,"comment_id":121830511,"body_markdown":"I tried this solution but its not forming the order by clause so how to make a query by this in order by clause?","body":"I tried this solution but its not forming the order by clause so how to make a query by this in order by clause?"}],"tags":[],"owner":{"account_id":4702873,"reputation":384,"user_id":3805978,"accept_rate":71,"display_name":"jfzr"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585353484,"creation_date":1585353484,"answer_id":60895696,"question_id":57446747,"body_markdown":"This is an option in some cases:\r\n\r\n    xxxRepository.findAll((root, query, cb) -&gt; {\r\n   \r\n       List&lt;Predicate&gt; predicateList = new ArrayList&lt;&gt;();\r\n        if (StringUtils.isNotBlank(param)) {\r\n            Expression&lt;Integer&gt; findInSetFun = cb.function(&quot;FIND_IN_SET&quot;, Integer.class,             \r\n                                cb.literal(param), root.get(&quot;targetColName&quot;));\r\n \r\n            predicateList .add(cb.greaterThan(findInSetFun, 0));\r\n        }\r\n    }, pageable);\r\n\r\n","title":"Hibernate Criteria using FIND_IN_SET","body":"<p>This is an option in some cases:</p>\n\n<pre><code>xxxRepository.findAll((root, query, cb) -&gt; {\n\n   List&lt;Predicate&gt; predicateList = new ArrayList&lt;&gt;();\n    if (StringUtils.isNotBlank(param)) {\n        Expression&lt;Integer&gt; findInSetFun = cb.function(\"FIND_IN_SET\", Integer.class,             \n                            cb.literal(param), root.get(\"targetColName\"));\n\n        predicateList .add(cb.greaterThan(findInSetFun, 0));\n    }\n}, pageable);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664370662,"post_id":73839341,"comment_id":130456012,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/73839341/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26018697,"reputation":1,"user_id":19726685,"display_name":"Santosh Suryavanshi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664517845,"creation_date":1664041180,"answer_id":73839341,"question_id":57446747,"body_markdown":"```\r\nExpression&lt;Integer&gt; function = criteriaBuilder.function(&quot;find_in_set&quot;, Integer.class,\r\n                    criteriaBuilder.literal(warehouseList), root.get(&quot;sWarehouseIdList&quot;));\r\n            \r\nPredicate sWarehouseIdList = criteriaBuilder.greaterThan(function, 0);\r\n            predicateList.add(sWarehouseIdList);\r\n```","title":"Hibernate Criteria using FIND_IN_SET","body":"<pre><code>Expression&lt;Integer&gt; function = criteriaBuilder.function(&quot;find_in_set&quot;, Integer.class,\n                    criteriaBuilder.literal(warehouseList), root.get(&quot;sWarehouseIdList&quot;));\n            \nPredicate sWarehouseIdList = criteriaBuilder.greaterThan(function, 0);\n            predicateList.add(sWarehouseIdList);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11720630,"reputation":27,"user_id":8579706,"display_name":"Sharun"},"score":0,"creation_date":1695216081,"post_id":77142809,"comment_id":135994557,"body_markdown":"REPLACE function that allows you to replace occurrences of one substring with another within a string.\n**Please adapt the code to your specific use case and database system.**","body":"REPLACE function that allows you to replace occurrences of one substring with another within a string. <b>Please adapt the code to your specific use case and database system.</b>"}],"tags":[],"owner":{"account_id":11720630,"reputation":27,"user_id":8579706,"display_name":"Sharun"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695215955,"creation_date":1695215506,"answer_id":77142809,"question_id":57446747,"body_markdown":"    \r\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Entity&gt; cq = cb.createQuery(Entity.class);\r\n        Root&lt;Entity&gt; contentMediaRoot = cq.from(Entity.class);\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n                \r\n        predicates.add(cb.gt(cb.function(&quot;FIND_IN_SET&quot;,\r\n                                            Integer.class,\r\n                 criteriaBuilder.function(\r\n                &quot;REPLACE&quot;,\r\n                String.class,\r\n                cb.literal(searchDTO.getEnum().name()),\r\n                criteriaBuilder.literal(&quot;|&quot;),\r\n                criteriaBuilder.literal(&quot;,&quot;)),\r\n                 contentMediaRoot.get(&quot;hobbies&quot;)\r\n                     ), 0\r\n                  ));\r\n        cq.where(predicates.toArray(new Predicate[0]));\r\n        TypedQuery&lt;Entity&gt; query = entityManager.createQuery(cq);\r\n        List&lt;Entity&gt; contentMediaList = query.getResultList();\r\n\r\n\r\n\r\n&gt; The answer has already been provided above, but I believe it may not\r\n&gt; be complete. To provide a more comprehensive solution: I used a\r\n&gt; List&lt;Enum&gt; mapped to a varchar field in the database as a\r\n&gt; comma-separated string. However, it&#39;s advisable not to use this\r\n&gt; approach. Instead, consider saving the enum values in a separate table\r\n&gt; and establishing a mapping relation. This way, you can easily search\r\n&gt; within that mapping.\r\n\r\nMySQL FIND_IN_SET() function is a built-in MySQL string function responsible for discovering the position of a given specific string provided in a list of strings separated by a comma \r\nPLEASE NOTE: Please ensure that you adjust the SQL function and syntax to match your database system if you&#39;re not using MySQL, as different databases may have different functions for this purpose.","title":"Hibernate Criteria using FIND_IN_SET","body":"<pre><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;Entity&gt; cq = cb.createQuery(Entity.class);\n    Root&lt;Entity&gt; contentMediaRoot = cq.from(Entity.class);\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n            \n    predicates.add(cb.gt(cb.function(&quot;FIND_IN_SET&quot;,\n                                        Integer.class,\n             criteriaBuilder.function(\n            &quot;REPLACE&quot;,\n            String.class,\n            cb.literal(searchDTO.getEnum().name()),\n            criteriaBuilder.literal(&quot;|&quot;),\n            criteriaBuilder.literal(&quot;,&quot;)),\n             contentMediaRoot.get(&quot;hobbies&quot;)\n                 ), 0\n              ));\n    cq.where(predicates.toArray(new Predicate[0]));\n    TypedQuery&lt;Entity&gt; query = entityManager.createQuery(cq);\n    List&lt;Entity&gt; contentMediaList = query.getResultList();\n</code></pre>\n<blockquote>\n<p>The answer has already been provided above, but I believe it may not\nbe complete. To provide a more comprehensive solution: I used a\nList mapped to a varchar field in the database as a\ncomma-separated string. However, it's advisable not to use this\napproach. Instead, consider saving the enum values in a separate table\nand establishing a mapping relation. This way, you can easily search\nwithin that mapping.</p>\n</blockquote>\n<p>MySQL FIND_IN_SET() function is a built-in MySQL string function responsible for discovering the position of a given specific string provided in a list of strings separated by a comma\nPLEASE NOTE: Please ensure that you adjust the SQL function and syntax to match your database system if you're not using MySQL, as different databases may have different functions for this purpose.</p>\n"}],"owner":{"account_id":9582832,"reputation":469,"user_id":7116745,"accept_rate":29,"display_name":"Srinivas Lakshman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1695215955,"creation_date":1565487035,"question_id":57446747,"body_markdown":"I have a below requirement in my project:  \r\n  (1) Request object to an API which is off list type (of strings).  \r\n  (2) We are using Hibernate Criteria to fetch the resultSet from the mysql database.  \r\n  (3) One of the columns is having Pipe delimited values.  \r\n  (4) We have to fetch the rows against **each** of the request object&#39;s values.\r\n\r\n\r\n    Table: user_info  \r\n    -----------------------------------------------------------\r\n     user_id       user_name    .. .. .. ..   hobbies\r\n    -----------------------------------------------------------\r\n     101           johnSmith    .. .. .. ..   Traveling|Painting|Gardening\r\n     102           tomWatch     .. .. .. ..   Gardening|Reading|Fishing\r\n     103           robertPatt   .. .. .. ..   Dancing|Gardening|Swimming|Blogging\r\n     104           julieAdams   .. .. .. ..   Bicycling|Fishing|Socializing\r\n\r\n     JSON Request object:\r\n     {\r\n       searchParams : {\r\n           hobbies : [ \r\n             &quot;Gardening&quot;,\r\n             &quot;Fishing&quot;,\r\n             &quot;Reading&quot;\r\n           ],\r\n         ..\r\n         ..\r\n         ..\r\n       }\r\n      }\r\n\r\n\r\n      Java Code \r\n\r\n\r\n      if(!CollectionUtils.isEmpty(searchParams.getHobbies())) {\r\n            List&lt;String&gt; reqHobbies = searchParameters.getHobbies();\r\n            Disjunction disjunction = Restrictions.disjunction();\r\n            for(String hobby : reqHobbies) {\r\n                Criterion criterion = Restrictions.like(&quot;hobbies&quot;, &quot;|&quot; + hobby + &quot;|&quot;);\r\n                disjunction.add(criterion);\r\n            }\r\n            criteria.add(disjunction);\r\n        }\r\n\r\n   This query will not work as the starting of the value (from table) is not having &quot;|&quot; symbol..\r\n   \r\n   If I modify the critieria API to generate the query in the following fashion, \r\n\r\n    select * from user_info\r\n    where hobbies like &#39;%Gardening|%&#39; or hobbies like &#39;%Fishing|%&#39; or hobbies like &#39;%Reading|%&#39; \r\n     or hobbies like &#39;%|Gardening|%&#39; or hobbies like &#39;%|Fishing|%&#39; or hobbies like &#39;%|Reading|%&#39; \r\n     or hobbies like &#39;%|Gardening%&#39; or hobbies like &#39;%|Fishing%&#39; or hobbies like &#39;%|Reading%&#39;;\r\n\r\n   This design also has a flaw. The only way to solve this by using FIND_IN_SET. \r\n  \r\n   Mysql query:  \r\n   \r\n    select * from user_info \r\n    where hobbies find_in_set(&#39;Gardening&#39;, replace(hobbies, &#39;|&#39;, &#39;,&#39;)) \r\n    or hobbies find_in_set(&#39;Fishing&#39;, replace(hobbies, &#39;|&#39;, &#39;,&#39;))\r\n    or hobbies find_in_set(&#39;Reading&#39;, replace(hobbies, &#39;|&#39;, &#39;,&#39;));\r\n\r\n  How to create a find_in_set query using Hibernate Criteria? Using @Formula ?","title":"Hibernate Criteria using FIND_IN_SET","body":"<p>I have a below requirement in my project:<br>\n  (1) Request object to an API which is off list type (of strings).<br>\n  (2) We are using Hibernate Criteria to fetch the resultSet from the mysql database.<br>\n  (3) One of the columns is having Pipe delimited values.<br>\n  (4) We have to fetch the rows against <strong>each</strong> of the request object's values.</p>\n\n<pre><code>Table: user_info  \n-----------------------------------------------------------\n user_id       user_name    .. .. .. ..   hobbies\n-----------------------------------------------------------\n 101           johnSmith    .. .. .. ..   Traveling|Painting|Gardening\n 102           tomWatch     .. .. .. ..   Gardening|Reading|Fishing\n 103           robertPatt   .. .. .. ..   Dancing|Gardening|Swimming|Blogging\n 104           julieAdams   .. .. .. ..   Bicycling|Fishing|Socializing\n\n JSON Request object:\n {\n   searchParams : {\n       hobbies : [ \n         \"Gardening\",\n         \"Fishing\",\n         \"Reading\"\n       ],\n     ..\n     ..\n     ..\n   }\n  }\n\n\n  Java Code \n\n\n  if(!CollectionUtils.isEmpty(searchParams.getHobbies())) {\n        List&lt;String&gt; reqHobbies = searchParameters.getHobbies();\n        Disjunction disjunction = Restrictions.disjunction();\n        for(String hobby : reqHobbies) {\n            Criterion criterion = Restrictions.like(\"hobbies\", \"|\" + hobby + \"|\");\n            disjunction.add(criterion);\n        }\n        criteria.add(disjunction);\n    }\n</code></pre>\n\n<p>This query will not work as the starting of the value (from table) is not having \"|\" symbol..</p>\n\n<p>If I modify the critieria API to generate the query in the following fashion, </p>\n\n<pre><code>select * from user_info\nwhere hobbies like '%Gardening|%' or hobbies like '%Fishing|%' or hobbies like '%Reading|%' \n or hobbies like '%|Gardening|%' or hobbies like '%|Fishing|%' or hobbies like '%|Reading|%' \n or hobbies like '%|Gardening%' or hobbies like '%|Fishing%' or hobbies like '%|Reading%';\n</code></pre>\n\n<p>This design also has a flaw. The only way to solve this by using FIND_IN_SET. </p>\n\n<p>Mysql query:  </p>\n\n<pre><code>select * from user_info \nwhere hobbies find_in_set('Gardening', replace(hobbies, '|', ',')) \nor hobbies find_in_set('Fishing', replace(hobbies, '|', ','))\nor hobbies find_in_set('Reading', replace(hobbies, '|', ','));\n</code></pre>\n\n<p>How to create a find_in_set query using Hibernate Criteria? Using @Formula ?</p>\n"},{"tags":["java","oracle","plsql"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1694941833,"post_id":77121084,"comment_id":135955487,"body_markdown":"Of course, you started with a very simple &quot;Hello World&quot; test to check that you can successfully call Java code from PL/SQL?","body":"Of course, you started with a very simple &quot;Hello World&quot; test to check that you can successfully call Java code from PL/SQL?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1694941944,"post_id":77121084,"comment_id":135955497,"body_markdown":"And beware that Java `long` is an integer while Oracle `long` is a string!","body":"And beware that Java <code>long</code> is an integer while Oracle <code>long</code> is a string!"}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694944509,"creation_date":1694944509,"answer_id":77121309,"question_id":77121084,"body_markdown":"You want:\r\n\r\n - In Java, `long` is a numeric data-type but in Oracle `LONG` is a (legacy) text data-type; so in the Oracle function you want `NUMBER` not `LONG` as the data-type.\r\n - the final argument and the return type should be `java.lang.String` (note the capital letter) and not `string`.\r\n\r\nLike this:\r\n\r\n```lang-sql\r\nCREATE AND COMPILE JAVA SOURCE NAMED IdentifyFutronic AS\r\npublic class FPIdentifyFutronic {\r\n    public static String FPIdentify(\r\n      long FPtemplate,\r\n      long T1,\r\n      long T2,\r\n      long T3,\r\n      String username\r\n    ) {\r\n        return &quot;Do stuff&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThen:\r\n\r\n```lang-sql\r\nCREATE OR REPLACE FUNCTION identify_FP (\r\n  FPtemplate NUMBER,\r\n  T1         NUMBER,\r\n  T2         NUMBER,\r\n  T3         NUMBER,\r\n  username   VARCHAR2\r\n) RETURN VARCHAR2\r\n  AS LANGUAGE JAVA NAME\r\n    &#39;FPIdentifyFutronic.FPIdentify(\r\n      long,\r\n      long,\r\n      long,\r\n      long,\r\n      java.lang.String\r\n    ) return java.lang.String&#39;;\r\n/\r\n```\r\n\r\nThen:\r\n\r\n```lang-sql\r\ndeclare\r\n  vOut varchar2(4000);\r\nbegin\r\n  vOut := identify_FP(1, 2, 3, 4, &#39;testjs5&#39;);\r\n  dbms_output.put_line(vOut);\r\nend;\r\n/\r\n```\r\n\r\nOutputs:\r\n\r\n&gt; ```lang-none\r\n&gt; Do stuff\r\n&gt; ```\r\n\r\n[fiddle](https://dbfiddle.uk/y9gZblnB)","title":"Using fingerprint device in pl/sql by java","body":"<p>You want:</p>\n<ul>\n<li>In Java, <code>long</code> is a numeric data-type but in Oracle <code>LONG</code> is a (legacy) text data-type; so in the Oracle function you want <code>NUMBER</code> not <code>LONG</code> as the data-type.</li>\n<li>the final argument and the return type should be <code>java.lang.String</code> (note the capital letter) and not <code>string</code>.</li>\n</ul>\n<p>Like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE AND COMPILE JAVA SOURCE NAMED IdentifyFutronic AS\npublic class FPIdentifyFutronic {\n    public static String FPIdentify(\n      long FPtemplate,\n      long T1,\n      long T2,\n      long T3,\n      String username\n    ) {\n        return &quot;Do stuff&quot;;\n    }\n}\n</code></pre>\n<p>Then:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE OR REPLACE FUNCTION identify_FP (\n  FPtemplate NUMBER,\n  T1         NUMBER,\n  T2         NUMBER,\n  T3         NUMBER,\n  username   VARCHAR2\n) RETURN VARCHAR2\n  AS LANGUAGE JAVA NAME\n    'FPIdentifyFutronic.FPIdentify(\n      long,\n      long,\n      long,\n      long,\n      java.lang.String\n    ) return java.lang.String';\n/\n</code></pre>\n<p>Then:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>declare\n  vOut varchar2(4000);\nbegin\n  vOut := identify_FP(1, 2, 3, 4, 'testjs5');\n  dbms_output.put_line(vOut);\nend;\n/\n</code></pre>\n<p>Outputs:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Do stuff\n</code></pre>\n</blockquote>\n<p><a href=\"https://dbfiddle.uk/y9gZblnB\" rel=\"nofollow noreferrer\">fiddle</a></p>\n"}],"owner":{"account_id":28796662,"reputation":11,"user_id":22054648,"display_name":"nasim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695215809,"creation_date":1694940094,"question_id":77121084,"body_markdown":"I am trying to use fingerprint device in pl/sql.\r\nI was able to save the fingerprint in Oracle database, now I want to identify this fingerprint.\r\nFor this, the manufacturer has provided me with the sdk that I want to use its Java codes.\r\nFor this, I wrote a Java code as follows:\r\n\r\n    import java.sql.*;\r\n    import oracle.jdbc.*;\r\n    import java.awt.*;\r\n    import java.awt.image.*;\r\n    import java.io.*;\r\n    import javax.imageio.*;\r\n    import javax.swing.*;\r\n    import com.futronic.SDKHelper.*;\r\n    import java.util.Base64;\r\n    import java.util.Vector;\r\n    \r\n    \r\n    public class MainForm \r\n    {\r\n    \r\n        public static String OnGetBaseTemplateComplete(String FPtemplate)\r\n        {\r\n            StringBuffer szMessage = new StringBuffer();\r\n            \r\n            String StrTemplate = FPtemplate;\r\n            byte[] DecodeTemplate = Base64.getDecoder().decode(StrTemplate);\r\n            m_Operation = new FutronicIdentification();\r\n            ((FutronicIdentification) m_Operation).Farn(245);\r\n            ((FutronicIdentification) m_Operation).BaseTemplate(DecodeTemplate);    \r\n            \r\n    \r\n                Vector&lt;DbRecord&gt; Users = (Vector&lt;DbRecord&gt;)m_OperationObj;\r\n                FtrIdentifyRecord[] rgRecords = new FtrIdentifyRecord[ Users.size() ];\r\n                for( int iUsers = 0; iUsers &lt; Users.size(); iUsers++ )\r\n                    rgRecords[iUsers] = Users.get( iUsers ).getFtrIdentifyRecord();\r\n    \r\n                FtrIdentifyResult result = new FtrIdentifyResult();\r\n                \r\n                int nResult = ((FutronicIdentification)m_Operation).Identification(rgRecords, result);\r\n                if (nResult == FutronicSdkBase.RETCODE_OK)\r\n                {\r\n                    szMessage.append(&quot;Identification process complete. User: &quot;);\r\n                    if( result.m_Index != -1 )\r\n                        szMessage.append(Users.get( result.m_Index ).getUserName() );\r\n                    else\r\n                        szMessage.append(&quot;not found&quot;);\r\n                } else {\r\n                    szMessage.append( &quot;Identification failed.&quot; );\r\n                    szMessage.append( FutronicSdkBase.SdkRetCode2Message( nResult ) );\r\n                }\r\n    \r\n            \r\n            String StrMessage = szMessage.toString();\r\n            \r\n            return StrMessage;\r\n    \r\n        }\r\n    \r\n    \r\n        /**\r\n         * Contain reference for current operation object\r\n         */\r\n        private FutronicSdkBase m_Operation;\r\n        \r\n\r\n        private Object m_OperationObj;       \r\n    }\r\n\r\nBut the problem is with functions defined in other Java files and I don&#39;t know how to define this binding for PL/SQL.\r\nFor example code\r\n\r\n    FtrIdentifyResult result = new FtrIdentifyResult();\r\n\r\nFtrIdentifyResult itself is a separate Java file that has functions and this function is also defined. FutronicIdentification and Identification and... also.\r\n\r\nor in line\r\n\r\n    private FutronicSdkBase m_Operation\r\n\r\nA variable of type FutronicSdkBase is defined, where FutronicSdkBase is a separate Java file with functions. Now how do I define this for pl/sql?","title":"Using fingerprint device in pl/sql by java","body":"<p>I am trying to use fingerprint device in pl/sql.\nI was able to save the fingerprint in Oracle database, now I want to identify this fingerprint.\nFor this, the manufacturer has provided me with the sdk that I want to use its Java codes.\nFor this, I wrote a Java code as follows:</p>\n<pre><code>import java.sql.*;\nimport oracle.jdbc.*;\nimport java.awt.*;\nimport java.awt.image.*;\nimport java.io.*;\nimport javax.imageio.*;\nimport javax.swing.*;\nimport com.futronic.SDKHelper.*;\nimport java.util.Base64;\nimport java.util.Vector;\n\n\npublic class MainForm \n{\n\n    public static String OnGetBaseTemplateComplete(String FPtemplate)\n    {\n        StringBuffer szMessage = new StringBuffer();\n        \n        String StrTemplate = FPtemplate;\n        byte[] DecodeTemplate = Base64.getDecoder().decode(StrTemplate);\n        m_Operation = new FutronicIdentification();\n        ((FutronicIdentification) m_Operation).Farn(245);\n        ((FutronicIdentification) m_Operation).BaseTemplate(DecodeTemplate);    \n        \n\n            Vector&lt;DbRecord&gt; Users = (Vector&lt;DbRecord&gt;)m_OperationObj;\n            FtrIdentifyRecord[] rgRecords = new FtrIdentifyRecord[ Users.size() ];\n            for( int iUsers = 0; iUsers &lt; Users.size(); iUsers++ )\n                rgRecords[iUsers] = Users.get( iUsers ).getFtrIdentifyRecord();\n\n            FtrIdentifyResult result = new FtrIdentifyResult();\n            \n            int nResult = ((FutronicIdentification)m_Operation).Identification(rgRecords, result);\n            if (nResult == FutronicSdkBase.RETCODE_OK)\n            {\n                szMessage.append(&quot;Identification process complete. User: &quot;);\n                if( result.m_Index != -1 )\n                    szMessage.append(Users.get( result.m_Index ).getUserName() );\n                else\n                    szMessage.append(&quot;not found&quot;);\n            } else {\n                szMessage.append( &quot;Identification failed.&quot; );\n                szMessage.append( FutronicSdkBase.SdkRetCode2Message( nResult ) );\n            }\n\n        \n        String StrMessage = szMessage.toString();\n        \n        return StrMessage;\n\n    }\n\n\n    /**\n     * Contain reference for current operation object\n     */\n    private FutronicSdkBase m_Operation;\n    \n\n    private Object m_OperationObj;       \n}\n</code></pre>\n<p>But the problem is with functions defined in other Java files and I don't know how to define this binding for PL/SQL.\nFor example code</p>\n<pre><code>FtrIdentifyResult result = new FtrIdentifyResult();\n</code></pre>\n<p>FtrIdentifyResult itself is a separate Java file that has functions and this function is also defined. FutronicIdentification and Identification and... also.</p>\n<p>or in line</p>\n<pre><code>private FutronicSdkBase m_Operation\n</code></pre>\n<p>A variable of type FutronicSdkBase is defined, where FutronicSdkBase is a separate Java file with functions. Now how do I define this for pl/sql?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":26345002,"reputation":29,"user_id":20003532,"display_name":"javaLearnMushigi"},"score":0,"creation_date":1695140418,"post_id":77134059,"comment_id":135982998,"body_markdown":"@Kayar, can I use offset offset on the side of the cluster? Do not store this information in the application of the application?","body":"@Kayar, can I use offset offset on the side of the cluster? Do not store this information in the application of the application?"}],"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695122144,"creation_date":1695122144,"answer_id":77134059,"question_id":77133761,"body_markdown":"The Kafka consumer keeps track of offsets in-memory, without resorting to the offsets saved on the cluster. The cluster offsets are only used when the consumer is connecting (or otherwise doesn&#39;t know the offset).\r\n\r\nYou need to either retry in-memory, or manually `seek()` the consumer to the previous position.","title":"Use kafkaListener with syncCommit, but they not work","body":"<p>The Kafka consumer keeps track of offsets in-memory, without resorting to the offsets saved on the cluster. The cluster offsets are only used when the consumer is connecting (or otherwise doesn't know the offset).</p>\n<p>You need to either retry in-memory, or manually <code>seek()</code> the consumer to the previous position.</p>\n"},{"comments":[{"owner":{"account_id":26345002,"reputation":29,"user_id":20003532,"display_name":"javaLearnMushigi"},"score":0,"creation_date":1696441328,"post_id":77142830,"comment_id":136154605,"body_markdown":"1)I experimented, in version 2.7.7 the first repeated attempt worked after 45 minutes, and the second after 30, interesting)\nThank you, your answer and raising the version helped, now it works correctly. Unless the class that Extends Retrytopicconfigurationsuport came to add @enablesheDuling.\nIs there a restriction on the time of delay? Can I set 30 minutes, 1 hour, 4 hours to start repeated processing?\n\n2)So I thought about this, thanks for confiring my thought","body":"1)I experimented, in version 2.7.7 the first repeated attempt worked after 45 minutes, and the second after 30, interesting) Thank you, your answer and raising the version helped, now it works correctly. Unless the class that Extends Retrytopicconfigurationsuport came to add @enablesheDuling. Is there a restriction on the time of delay? Can I set 30 minutes, 1 hour, 4 hours to start repeated processing?  2)So I thought about this, thanks for confiring my thought"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1696441936,"post_id":77142830,"comment_id":136154719,"body_markdown":"When extending `Retrytopicconfigurationsupport` you can either add `@EnableScheduling` or add a `TaskScheduler` `@Bean`. When using non-blocking retries; there are no threads blocked, so you can set the delay to whatever you want; the container is simply paused for that time and we continue to poll the consumer, receiving no records. With blocking retries, the maximum delay must be less than `max.poll.interval.ms` to avoid a rebalance.","body":"When extending <code>Retrytopicconfigurationsupport</code> you can either add <code>@EnableScheduling</code> or add a <code>TaskScheduler</code> <code>@Bean</code>. When using non-blocking retries; there are no threads blocked, so you can set the delay to whatever you want; the container is simply paused for that time and we continue to poll the consumer, receiving no records. With blocking retries, the maximum delay must be less than <code>max.poll.interval.ms</code> to avoid a rebalance."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695215716,"creation_date":1695215716,"answer_id":77142830,"question_id":77133761,"body_markdown":"Throw an exception and the default error handler will perform the seek and redeliver the message; you can customize the retry count and delay between retries.\r\n\r\nSee https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling","title":"Use kafkaListener with syncCommit, but they not work","body":"<p>Throw an exception and the default error handler will perform the seek and redeliver the message; you can customize the retry count and delay between retries.</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling</a></p>\n"}],"owner":{"account_id":26345002,"reputation":29,"user_id":20003532,"display_name":"javaLearnMushigi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77134059,"answer_count":2,"score":0,"last_activity_date":1695215716,"creation_date":1695119358,"question_id":77133761,"body_markdown":"I have an application that listens to a **Kafka** topic and reads 1 message from it in 1 thread. After reading a message, there is a certain logic, during which there are two options - everything is successful and a commit occurs call method *...acknowledge()* to offset the offset and move on to the next message, or everything is unsuccessful and this message must be read again and the offset is not committed (*...acknowledge()* is not called)\r\nBut now for some reason I cant read the same message and always move on to the next one, although I dont call *...acknowledge()* and it seems like the offset for my *groupId* should be on the same message.\r\n\r\nI&#39;m using spring-kafka and the following settings are specified:\r\n\r\n    spring.kafka.consumer.enable-auto-commit=false\r\n    spring.kafka.consumer.auto-offset-reset=earliest\r\n    spring.kafka.consumer.max-poll-records=1\r\n\r\nAnd I programmatically set the settings:\r\n\r\n    ...setGroupId(&quot;test&quot;);\r\n    ...setSyncCommits(true);\r\n    ...setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n    ...setConcurrency(1);","title":"Use kafkaListener with syncCommit, but they not work","body":"<p>I have an application that listens to a <strong>Kafka</strong> topic and reads 1 message from it in 1 thread. After reading a message, there is a certain logic, during which there are two options - everything is successful and a commit occurs call method <em>...acknowledge()</em> to offset the offset and move on to the next message, or everything is unsuccessful and this message must be read again and the offset is not committed (<em>...acknowledge()</em> is not called)\nBut now for some reason I cant read the same message and always move on to the next one, although I dont call <em>...acknowledge()</em> and it seems like the offset for my <em>groupId</em> should be on the same message.</p>\n<p>I'm using spring-kafka and the following settings are specified:</p>\n<pre><code>spring.kafka.consumer.enable-auto-commit=false\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.max-poll-records=1\n</code></pre>\n<p>And I programmatically set the settings:</p>\n<pre><code>...setGroupId(&quot;test&quot;);\n...setSyncCommits(true);\n...setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n...setConcurrency(1);\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","recursive-query"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695215784,"post_id":77142558,"comment_id":135994477,"body_markdown":"can you also provide some test data ? i mean some `iam.ice_folder` rows, and also expected output","body":"can you also provide some test data ? i mean some <code>iam.ice_folder</code> rows, and also expected output"},{"owner":{"account_id":19610869,"reputation":39,"user_id":14353401,"display_name":"kunal"},"score":0,"creation_date":1695216743,"post_id":77142558,"comment_id":135994736,"body_markdown":"@AndreiLisa folderId=&quot;flrd-reer-werwer0werwerer&quot; and workspaceId =&quot;wrksp-reer-werwer0werwer=er&quot; and desired output is [&quot;flrd-reer-werwer0werweresdf&quot;, &quot;flrd-reer-wesdsrwerer&quot;]","body":"@AndreiLisa folderId=&quot;flrd-reer-werwer0werwerer&quot; and workspaceId =&quot;wrksp-reer-werwer0werwer=er&quot; and desired output is [&quot;flrd-reer-werwer0werweresdf&quot;, &quot;flrd-reer-wesdsrwerer&quot;]"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1695223105,"post_id":77142558,"comment_id":135996416,"body_markdown":"Just ditch hibernate, it&#39;s awful!. You and your team will be much happier.","body":"Just ditch hibernate, it&#39;s awful!. You and your team will be much happier."},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1695236417,"post_id":77142558,"comment_id":135999084,"body_markdown":"Which error excatly do you get?","body":"Which error excatly do you get?"},{"owner":{"account_id":19610869,"reputation":39,"user_id":14353401,"display_name":"kunal"},"score":0,"creation_date":1695271140,"post_id":77142558,"comment_id":136002691,"body_markdown":"@SveKamenska I&#39;m not getting any error but when I run the query directly in the database it works its giving 4 records as expected but when I put it in the code its giving empty list","body":"@SveKamenska I&#39;m not getting any error but when I run the query directly in the database it works its giving 4 records as expected but when I put it in the code its giving empty list"},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1695287529,"post_id":77142558,"comment_id":136005299,"body_markdown":"Have you debug which parameters are passed to the query? Also what is the value of WORKSPACE_ID ? It should be &quot;workspaceId&quot;","body":"Have you debug which parameters are passed to the query? Also what is the value of WORKSPACE_ID ? It should be &quot;workspaceId&quot;"},{"owner":{"account_id":19610869,"reputation":39,"user_id":14353401,"display_name":"kunal"},"score":0,"creation_date":1695288758,"post_id":77142558,"comment_id":136005568,"body_markdown":"@SveKamenska yes I&#39;ve checked, and everything is correct.","body":"@SveKamenska yes I&#39;ve checked, and everything is correct."},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1695318504,"post_id":77142558,"comment_id":136011909,"body_markdown":"Then another 2 questions: 1. Do you run query against the same DB you are checking directly? Because maybe in you settings you use another DB which is empty, for example. 2. Are you sure that list is converted correctly? By default the result is returned as type List&lt;Object[]&gt; not List&lt;String&gt;, so maybe it is not converted correctly","body":"Then another 2 questions: 1. Do you run query against the same DB you are checking directly? Because maybe in you settings you use another DB which is empty, for example. 2. Are you sure that list is converted correctly? By default the result is returned as type List&lt;Object[]&gt; not List&lt;String&gt;, so maybe it is not converted correctly"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1695490327,"post_id":77142558,"comment_id":136032643,"body_markdown":"Are you sure you executed exactly the same query directly in the database? A recursive query is supposed to use UNION ALL,  not simple UNION.","body":"Are you sure you executed exactly the same query directly in the database? A recursive query is supposed to use UNION ALL,  not simple UNION."}],"owner":{"account_id":19610869,"reputation":39,"user_id":14353401,"display_name":"kunal"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695215576,"creation_date":1695213751,"question_id":77142558,"body_markdown":"I want to write the below query in hibernate but not getting the desired output, can anybody help me out on this?\r\n\r\n    with recursive FolderHierarchy as (\r\n    select\r\n    \tfolder_id\r\n    from\r\n    \tiam.ice_folder\r\n    where\r\n    \tworkspace_id = &#39;wksc-5cc9a319-86bf-5569-beb8-76f1e9dfc886&#39;\r\n    \tand is_deleted = 0\r\n    \tand folder_id = &#39;fldr-4935a498-322d-5efa-bf2c-790b15b0c5f4&#39;\r\n    union\r\n    select\r\n    \tf.folder_id\r\n    from\r\n    \tiam.ice_folder f\r\n    join FolderHierarchy fh on\r\n    \tf.parent_folder = fh.folder_id\r\n    )\r\n    select\r\n    \tfolder_id\r\n    from\r\n    \tFolderHierarchy;\r\n\r\nThe code I tried is the below but its not working\r\n\r\n    public List&lt;String&gt; getAllNestedFolderIds(String folderId, String workspaceId) {\r\n        String sqlQuery =\r\n            &quot;with recursive FolderHierarchy as (select folder_id from iam.ice_folder where workspace_id = :workspaceId and is_deleted = 0 and folder_id = :folderId union select f.folder_id from iam.ice_folder f join FolderHierarchy fh on f.parent_folder = fh.folder_id) select folder_id from FolderHierarchy&quot;;\r\n        Query query =\r\n            entityManager\r\n                .createNativeQuery(sqlQuery)\r\n                .setParameter(WORKSPACE_ID, workspaceId)\r\n                .setParameter(QueryAttributes.FOLDER_ID, folderId);\r\n        return query.getResultList();\r\n      }","title":"recursion query in hibernate","body":"<p>I want to write the below query in hibernate but not getting the desired output, can anybody help me out on this?</p>\n<pre><code>with recursive FolderHierarchy as (\nselect\n    folder_id\nfrom\n    iam.ice_folder\nwhere\n    workspace_id = 'wksc-5cc9a319-86bf-5569-beb8-76f1e9dfc886'\n    and is_deleted = 0\n    and folder_id = 'fldr-4935a498-322d-5efa-bf2c-790b15b0c5f4'\nunion\nselect\n    f.folder_id\nfrom\n    iam.ice_folder f\njoin FolderHierarchy fh on\n    f.parent_folder = fh.folder_id\n)\nselect\n    folder_id\nfrom\n    FolderHierarchy;\n</code></pre>\n<p>The code I tried is the below but its not working</p>\n<pre><code>public List&lt;String&gt; getAllNestedFolderIds(String folderId, String workspaceId) {\n    String sqlQuery =\n        &quot;with recursive FolderHierarchy as (select folder_id from iam.ice_folder where workspace_id = :workspaceId and is_deleted = 0 and folder_id = :folderId union select f.folder_id from iam.ice_folder f join FolderHierarchy fh on f.parent_folder = fh.folder_id) select folder_id from FolderHierarchy&quot;;\n    Query query =\n        entityManager\n            .createNativeQuery(sqlQuery)\n            .setParameter(WORKSPACE_ID, workspaceId)\n            .setParameter(QueryAttributes.FOLDER_ID, folderId);\n    return query.getResultList();\n  }\n</code></pre>\n"},{"tags":["java","spring","dependency-injection","annotations","spring-annotations"],"comments":[{"owner":{"account_id":6168842,"reputation":6596,"user_id":4807777,"accept_rate":100,"display_name":"Laurentiu L."},"score":0,"creation_date":1433670376,"post_id":30691949,"comment_id":49442934,"body_markdown":"You will need to use spring expression language. A similar question which used list (https://stackoverflow.com/questions/27390363/spring-how-to-inject-an-inline-list-of-strings-using-value-annotation). I am not sure you can do what you want out of the box. This question https://stackoverflow.com/questions/28369458/how-to-fill-hashmap-from-java-property-file-with-spring-value is a bit more to your point. Uses a custom property mapper","body":"You will need to use spring expression language. A similar question which used list (<a href=\"https://stackoverflow.com/questions/27390363/spring-how-to-inject-an-inline-list-of-strings-using-value-annotation\" title=\"spring how to inject an inline list of strings using value annotation\">stackoverflow.com/questions/27390363/&hellip;</a>). I am not sure you can do what you want out of the box. This question <a href=\"https://stackoverflow.com/questions/28369458/how-to-fill-hashmap-from-java-property-file-with-spring-value\" title=\"how to fill hashmap from java property file with spring value\">stackoverflow.com/questions/28369458/&hellip;</a> is a bit more to your point. Uses a custom property mapper"},{"owner":{"account_id":186532,"reputation":13518,"user_id":423991,"accept_rate":91,"display_name":"K Erlandsson"},"score":0,"creation_date":1433670497,"post_id":30691949,"comment_id":49442960,"body_markdown":"What exactly do you want in your map? It seems you also expect some type converstion to a `Pattern`? What kind of `Pattern` class is that?","body":"What exactly do you want in your map? It seems you also expect some type converstion to a <code>Pattern</code>? What kind of <code>Pattern</code> class is that?"},{"owner":{"account_id":1672649,"reputation":5729,"user_id":1538815,"accept_rate":57,"display_name":"yathirigan"},"score":0,"creation_date":1433698464,"post_id":30691949,"comment_id":49451175,"body_markdown":"@Erlandsson this is a RegEx pattern, we will define valid regex pattern strings in the value","body":"@Erlandsson this is a RegEx pattern, we will define valid regex pattern strings in the value"},{"owner":{"account_id":1672649,"reputation":5729,"user_id":1538815,"accept_rate":57,"display_name":"yathirigan"},"score":1,"creation_date":1433699464,"post_id":30691949,"comment_id":49451512,"body_markdown":"@LaurentuiL uin Spring boot, i am able to directly inject a map if the map matches the prefix described at class level but,my problem is the prefix at class level and this attribute level is different","body":"@LaurentuiL uin Spring boot, i am able to directly inject a map if the map matches the prefix described at class level but,my problem is the prefix at class level and this attribute level is different"}],"answers":[{"comments":[{"owner":{"account_id":1672649,"reputation":5729,"user_id":1538815,"accept_rate":57,"display_name":"yathirigan"},"score":0,"creation_date":1433698767,"post_id":30692388,"comment_id":49451279,"body_markdown":"We have used Spring Cloud Config server to provide the configurations, hence class path approach might not work. And we don&#39;t use XMLs","body":"We have used Spring Cloud Config server to provide the configurations, hence class path approach might not work. And we don&#39;t use XMLs"},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1585392041,"post_id":30692388,"comment_id":107745659,"body_markdown":"@Arpit - Could you please guide me here : https://stackoverflow.com/questions/60899860/spring-spel-expression-language-to-create-map-of-string-and-custom-object?","body":"@Arpit - Could you please guide me here : <a href=\"https://stackoverflow.com/questions/60899860/spring-spel-expression-language-to-create-map-of-string-and-custom-object\" title=\"spring spel expression language to create map of string and custom object\">stackoverflow.com/questions/60899860/&hellip;</a>?"}],"tags":[],"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1433672275,"creation_date":1433672275,"answer_id":30692388,"question_id":30691949,"body_markdown":"You can inject `.properties` as a map in your class using `@Resource` annotation.\r\n\r\nIf you are working with **`XML based configuration`,** then add below bean in your spring configuration file:\r\n   \r\n\r\n     &lt;bean id=&quot;myProperties&quot; class=&quot;org.springframework.beans.factory.config.PropertiesFactoryBean&quot;&gt;\r\n          &lt;property name=&quot;location&quot; value=&quot;classpath:your.properties&quot;/&gt;\r\n     &lt;/bean&gt;\r\n\r\n**For, Annotation based:**\r\n\r\n    @Bean(name = &quot;myProperties&quot;)\r\n    public static PropertiesFactoryBean mapper() {\r\n            PropertiesFactoryBean bean = new PropertiesFactoryBean();\r\n            bean.setLocation(new ClassPathResource(\r\n                    &quot;your.properties&quot;));\r\n            return bean;\r\n    }\r\n\r\nThen you can pick them up in your application as a Map:\r\n\r\n    @Resource(name = &quot;myProperties&quot;)\r\n    private Map&lt;String, String&gt; myProperties;","title":"How to inject a Map using the @Value Spring Annotation?","body":"<p>You can inject <code>.properties</code> as a map in your class using <code>@Resource</code> annotation.</p>\n\n<p>If you are working with <strong><code>XML based configuration</code>,</strong> then add below bean in your spring configuration file:</p>\n\n<pre><code> &lt;bean id=\"myProperties\" class=\"org.springframework.beans.factory.config.PropertiesFactoryBean\"&gt;\n      &lt;property name=\"location\" value=\"classpath:your.properties\"/&gt;\n &lt;/bean&gt;\n</code></pre>\n\n<p><strong>For, Annotation based:</strong></p>\n\n<pre><code>@Bean(name = \"myProperties\")\npublic static PropertiesFactoryBean mapper() {\n        PropertiesFactoryBean bean = new PropertiesFactoryBean();\n        bean.setLocation(new ClassPathResource(\n                \"your.properties\"));\n        return bean;\n}\n</code></pre>\n\n<p>Then you can pick them up in your application as a Map:</p>\n\n<pre><code>@Resource(name = \"myProperties\")\nprivate Map&lt;String, String&gt; myProperties;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1672649,"reputation":5729,"user_id":1538815,"accept_rate":57,"display_name":"yathirigan"},"score":0,"creation_date":1433698641,"post_id":30693052,"comment_id":49451231,"body_markdown":"yes but, my problem is.. The Test class has its own @ConfigurationProperties prefix. So i want to use a diff prefix for this member variable alone . how can i do that ?","body":"yes but, my problem is.. The Test class has its own @ConfigurationProperties prefix. So i want to use a diff prefix for this member variable alone . how can i do that ?"},{"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"score":1,"creation_date":1433699583,"post_id":30693052,"comment_id":49451560,"body_markdown":"hmm, I missed that. So I would create separate two beans with @ConfiguraitonProperties annotation and autowire them into test class.","body":"hmm, I missed that. So I would create separate two beans with @ConfiguraitonProperties annotation and autowire them into test class."},{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":0,"creation_date":1481668849,"post_id":30693052,"comment_id":69467913,"body_markdown":"may have worked for the OP, but question didn&#39;t specify boot, and this problem doesn&#39;t work for general Spring, without boot.","body":"may have worked for the OP, but question didn&#39;t specify boot, and this problem doesn&#39;t work for general Spring, without boot."},{"owner":{"account_id":5149696,"reputation":606,"user_id":4124628,"display_name":"Mukul Anand"},"score":13,"creation_date":1529930030,"post_id":30693052,"comment_id":89039609,"body_markdown":"the question is how to inject to a map using @Value annotation, but you are telling all sort of things rather than giving the answer to the question. Alternatives are okay but please stick to the answer as well","body":"the question is how to inject to a map using @Value annotation, but you are telling all sort of things rather than giving the answer to the question. Alternatives are okay but please stick to the answer as well"}],"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"comment_count":4,"down_vote_count":5,"up_vote_count":29,"is_accepted":true,"score":24,"last_activity_date":1433680130,"creation_date":1433676974,"answer_id":30693052,"question_id":30691949,"body_markdown":"I believe Spring Boot supports loading properties maps out of the box with [@ConfigurationProperties][1] annotation.\r\n\r\nAccording that docs you can load properties:\r\n\r\n    my.servers[0]=dev.bar.com\r\n    my.servers[1]=foo.bar.com\r\n\r\ninto bean like this:\r\n\r\n    @ConfigurationProperties(prefix=&quot;my&quot;)\r\n    public class Config {\r\n    \r\n        private List&lt;String&gt; servers = new ArrayList&lt;String&gt;();\r\n    \r\n        public List&lt;String&gt; getServers() {\r\n            return this.servers;\r\n        }\r\n    }\r\n\r\nI used @ConfigurationProperties feature before, but without loading into map. You need to use [@EnableConfigurationProperties annotation][2] to enable this feature. \r\n\r\nCool stuff about this feature is that you can [validate your properties][3].\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/htmlsingle/#boot-features-external-config-loading-yaml\r\n  [2]: http://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/htmlsingle/#boot-features-external-config-typesafe-configuration-properties\r\n  [3]: http://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/htmlsingle/#boot-features-external-config-validation\r\n","title":"How to inject a Map using the @Value Spring Annotation?","body":"<p>I believe Spring Boot supports loading properties maps out of the box with <a href=\"http://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/htmlsingle/#boot-features-external-config-loading-yaml\">@ConfigurationProperties</a> annotation.</p>\n\n<p>According that docs you can load properties:</p>\n\n<pre><code>my.servers[0]=dev.bar.com\nmy.servers[1]=foo.bar.com\n</code></pre>\n\n<p>into bean like this:</p>\n\n<pre><code>@ConfigurationProperties(prefix=\"my\")\npublic class Config {\n\n    private List&lt;String&gt; servers = new ArrayList&lt;String&gt;();\n\n    public List&lt;String&gt; getServers() {\n        return this.servers;\n    }\n}\n</code></pre>\n\n<p>I used @ConfigurationProperties feature before, but without loading into map. You need to use <a href=\"http://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/htmlsingle/#boot-features-external-config-typesafe-configuration-properties\">@EnableConfigurationProperties annotation</a> to enable this feature. </p>\n\n<p>Cool stuff about this feature is that you can <a href=\"http://docs.spring.io/spring-boot/docs/1.2.3.RELEASE/reference/htmlsingle/#boot-features-external-config-validation\">validate your properties</a>.</p>\n"},{"comments":[{"owner":{"account_id":2826656,"reputation":13236,"user_id":2429176,"accept_rate":80,"display_name":"dustin.schultz"},"score":1,"creation_date":1462112739,"post_id":36794304,"comment_id":61491029,"body_markdown":"values must be quotes, else I get a `SpelEvaluationException`","body":"values must be quotes, else I get a <code>SpelEvaluationException</code>"},{"owner":{"account_id":492994,"reputation":3705,"user_id":1271412,"accept_rate":78,"display_name":"petertc"},"score":12,"creation_date":1473298495,"post_id":36794304,"comment_id":66090255,"body_markdown":"How to set default value if the property is absent to prevent exception occurred?","body":"How to set default value if the property is absent to prevent exception occurred?"},{"owner":{"account_id":1487709,"reputation":301,"user_id":1395576,"accept_rate":43,"display_name":"partTimeNinja"},"score":0,"creation_date":1473602950,"post_id":36794304,"comment_id":66196224,"body_markdown":"If you want to use strings with whitespaces ( e.g _USB Camera 0xfd120000046d0819_ ) as keys, use single quotes as for values.","body":"If you want to use strings with whitespaces ( e.g <i>USB Camera 0xfd120000046d0819</i> ) as keys, use single quotes as for values."},{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":0,"creation_date":1481739692,"post_id":36794304,"comment_id":69501300,"body_markdown":"what if there&#39;s a `:` in the key?","body":"what if there&#39;s a <code>:</code> in the key?"},{"owner":{"account_id":5133083,"reputation":1697,"user_id":4112645,"display_name":"PeterK"},"score":3,"creation_date":1506009362,"post_id":36794304,"comment_id":79656950,"body_markdown":"Also seems to do type conversions e.g.: `@Value(&quot;#{${double.map}}&quot;) final Map&lt;String, Double&gt; doubleMap`","body":"Also seems to do type conversions e.g.: <code>@Value(&quot;#{${double.map}}&quot;) final Map&lt;String, Double&gt; doubleMap</code>"},{"owner":{"account_id":8466053,"reputation":738,"user_id":6350191,"accept_rate":69,"display_name":"emanuel07"},"score":0,"creation_date":1528019227,"post_id":36794304,"comment_id":88340129,"body_markdown":"How to set default value ?","body":"How to set default value ?"},{"owner":{"account_id":5149696,"reputation":606,"user_id":4124628,"display_name":"Mukul Anand"},"score":8,"creation_date":1529932700,"post_id":36794304,"comment_id":89041291,"body_markdown":"How to specify the same in a yml file","body":"How to specify the same in a yml file"},{"owner":{"account_id":1920687,"reputation":776,"user_id":1732287,"display_name":"joemat"},"score":6,"creation_date":1538117751,"post_id":36794304,"comment_id":92038688,"body_markdown":"@MukulAnand in yaml it looks like this\n`propertyname : &gt;\n       {\n          key1:&#39;value&#39;,\n          key2:&#39;value&#39;\n       }`\n\nSorry, I&#39;m not able to format the linebreaks correct","body":"@MukulAnand in yaml it looks like this <code>propertyname : &gt;        {           key1:&#39;value&#39;,           key2:&#39;value&#39;        }</code>  Sorry, I&#39;m not able to format the linebreaks correct"},{"owner":{"account_id":8179843,"reputation":1731,"user_id":6157415,"display_name":"Mike D3ViD Tyson"},"score":1,"creation_date":1541505633,"post_id":36794304,"comment_id":93232534,"body_markdown":"_&quot;Note the hashtag as part of the annotation...&quot;_","body":"<i>&quot;Note the hashtag as part of the annotation...&quot;</i>"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1554298771,"post_id":36794304,"comment_id":97700234,"body_markdown":"Is it actually possible to do this?  I&#39;m trying to use SPeL in code to do the same thing, but it just says &quot;No converter found capable of converting from type [java.lang.String] to type [java.util.Map&lt;java.lang.String, java.lang.String&gt;]&quot;.","body":"Is it actually possible to do this?  I&#39;m trying to use SPeL in code to do the same thing, but it just says &quot;No converter found capable of converting from type [java.lang.String] to type [java.util.Map&lt;java.lang.String, java.lang.String&gt;]&quot;."},{"owner":{"account_id":3026387,"reputation":440,"user_id":2566304,"accept_rate":0,"display_name":"Andrey M. Stepanov"},"score":9,"creation_date":1555364839,"post_id":36794304,"comment_id":98077618,"body_markdown":"pattern &quot;propertyname: {key1:&#39;value1&#39;,key2:&#39;value2&#39;,....}&quot; does not work when injecting map from .yaml :  java.lang.IllegalArgumentException: Could not resolve placeholder","body":"pattern &quot;propertyname: {key1:&#39;value1&#39;,key2:&#39;value2&#39;,....}&quot; does not work when injecting map from .yaml :  java.lang.IllegalArgumentException: Could not resolve placeholder"},{"owner":{"account_id":5524210,"reputation":633,"user_id":4386227,"accept_rate":67,"display_name":"Woland"},"score":0,"creation_date":1573823304,"post_id":36794304,"comment_id":104022781,"body_markdown":"What if value has SpEL expression with `&#39;`? :(","body":"What if value has SpEL expression with <code>&#39;</code>? :("},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":2,"creation_date":1575628265,"post_id":36794304,"comment_id":104639219,"body_markdown":"**Be aware**, this isn&#39;t the same as using `propertyname.key1=...` and `propertyname.key2=...`. In stead, it uses a single property called `propertyname`. The equivalent in **YAML** is to **treat it as a string** as well and by **wrapping it in quotes**, such as: `&quot;{key1:&#39;value1&#39;,key2:&#39;value2&#39;,....}&quot;`. For more infor, check [this question](https://stackoverflow.com/q/59210260/1915448).","body":"<b>Be aware</b>, this isn&#39;t the same as using <code>propertyname.key1=...</code> and <code>propertyname.key2=...</code>. In stead, it uses a single property called <code>propertyname</code>. The equivalent in <b>YAML</b> is to <b>treat it as a string</b> as well and by <b>wrapping it in quotes</b>, such as: <code>&quot;{key1:&#39;value1&#39;,key2:&#39;value2&#39;,....}&quot;</code>. For more infor, check <a href=\"https://stackoverflow.com/q/59210260/1915448\">this question</a>."},{"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"score":0,"creation_date":1585391138,"post_id":36794304,"comment_id":107745441,"body_markdown":"@MikeD3ViDTyson - Could you please guide me here: https://stackoverflow.com/questions/60899860/spring-spel-expression-language-to-create-map-of-string-and-custom-object ?","body":"@MikeD3ViDTyson - Could you please guide me here: <a href=\"https://stackoverflow.com/questions/60899860/spring-spel-expression-language-to-create-map-of-string-and-custom-object\" title=\"spring spel expression language to create map of string and custom object\">stackoverflow.com/questions/60899860/&hellip;</a> ?"},{"owner":{"account_id":6459481,"reputation":121,"user_id":12418358,"display_name":"Brunke"},"score":1,"creation_date":1592590742,"post_id":36794304,"comment_id":110490431,"body_markdown":"Thank you for answering the actual question that was asked!!! The chosen answer may have been what the OP wanted to know. But, this answer actually answered the question THAT WAS ASKED!! Huge help!!! Thanks!","body":"Thank you for answering the actual question that was asked!!! The chosen answer may have been what the OP wanted to know. But, this answer actually answered the question THAT WAS ASKED!! Huge help!!! Thanks!"},{"owner":{"account_id":95465,"reputation":1155,"user_id":259988,"display_name":"Francois Marot"},"score":2,"creation_date":1601542917,"post_id":36794304,"comment_id":113442488,"body_markdown":"you can set the default value like this for an empty map: @Value(&quot;#{${tomcat.oleaconfig:{:}}}&quot;)","body":"you can set the default value like this for an empty map: @Value(&quot;#{${tomcat.oleaconfig:{:}}}&quot;)"},{"owner":{"account_id":10110007,"reputation":963,"user_id":7471307,"accept_rate":57,"display_name":"Artanis Zeratul"},"score":0,"creation_date":1616207198,"post_id":36794304,"comment_id":117937967,"body_markdown":"how about Map&lt;String, List&lt;String&gt;&gt;? Is this possible?","body":"how about Map&lt;String, List&lt;String&gt;&gt;? Is this possible?"},{"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"score":0,"creation_date":1659703109,"post_id":36794304,"comment_id":129363499,"body_markdown":"Is injecting Linkedhashmap possible ?","body":"Is injecting Linkedhashmap possible ?"},{"owner":{"account_id":16696811,"reputation":111,"user_id":12067782,"display_name":"Michal"},"score":0,"creation_date":1701170679,"post_id":36794304,"comment_id":136739540,"body_markdown":"I tried  to inject   @Value(&quot;#{${x.y.z.Toggles}}&quot;)\n    private Map&lt;String, Boolean&gt; Toggles; but got: exception is org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;lcurly({)&#39; can u plz help me?","body":"I tried  to inject   @Value(&quot;#{${x.y.z.Toggles}}&quot;)     private Map&lt;String, Boolean&gt; Toggles; but got: exception is org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;lcurly({)&#39; can u plz help me?"}],"tags":[],"owner":{"account_id":200623,"reputation":1931,"user_id":4320274,"display_name":"Michael Rahenkamp"},"comment_count":19,"down_vote_count":0,"up_vote_count":193,"is_accepted":false,"score":193,"last_activity_date":1466773485,"creation_date":1461329335,"answer_id":36794304,"question_id":30691949,"body_markdown":"You can inject values into a Map from the properties file using the `@Value` annotation like this.\r\n\r\nThe property in the properties file.\r\n\r\n    propertyname={key1:&#39;value1&#39;,key2:&#39;value2&#39;,....}\r\n\r\nIn your code.\r\n\r\n    @Value(&quot;#{${propertyname}}&quot;)  private Map&lt;String,String&gt; propertyname;\r\n\r\nNote the hashtag as part of the annotation.","title":"How to inject a Map using the @Value Spring Annotation?","body":"<p>You can inject values into a Map from the properties file using the <code>@Value</code> annotation like this.</p>\n\n<p>The property in the properties file.</p>\n\n<pre><code>propertyname={key1:'value1',key2:'value2',....}\n</code></pre>\n\n<p>In your code.</p>\n\n<pre><code>@Value(\"#{${propertyname}}\")  private Map&lt;String,String&gt; propertyname;\n</code></pre>\n\n<p>Note the hashtag as part of the annotation.</p>\n"},{"tags":[],"owner":{"account_id":290097,"reputation":420,"user_id":591451,"display_name":"Neil Han"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1533744217,"creation_date":1533744217,"answer_id":51751123,"question_id":30691949,"body_markdown":"Here is how we did it. \r\nTwo sample classes as follow:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.annotation.EnableKafka;\r\n    @EnableKafka\r\n    @Configuration\r\n    @EnableConfigurationProperties(KafkaConsumerProperties.class)\r\n    public class KafkaContainerConfig {\r\n\r\n        @Autowired\r\n        protected KafkaConsumerProperties kafkaConsumerProperties;\r\n\r\n        @Bean\r\n        public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(kafkaConsumerProperties.getKafkaConsumerConfig());\r\n        }\r\n    ...\r\n\r\n    @Configuration\r\n    @ConfigurationProperties\r\n    public class KafkaConsumerProperties {\r\n        protected Map&lt;String, Object&gt; kafkaConsumerConfig = new HashMap&lt;&gt;();\r\n\r\n        @ConfigurationProperties(&quot;kafkaConsumerConfig&quot;)\r\n        public Map&lt;String, Object&gt; getKafkaConsumerConfig() {\r\n            return (kafkaConsumerConfig);\r\n        }\r\n    ...\r\nTo provide the kafkaConsumer config from a properties file, you can use: mapname[key]=value\r\n\r\n    //application.properties\r\n    kafkaConsumerConfig[bootstrap.servers]=localhost:9092, localhost:9093, localhost:9094\r\n    kafkaConsumerConfig[group.id]=test-consumer-group-local\r\n    kafkaConsumerConfig[value.deserializer]=org.apache.kafka.common.serialization.StringDeserializer\r\n    kafkaConsumerConfig[key.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n\r\nTo provide the kafkaConsumer config from a yaml file, you can use &quot;[key]&quot;: value\r\nIn application.yml file:\r\n\r\n    kafkaConsumerConfig:\r\n      &quot;[bootstrap.servers]&quot;: localhost:9092, localhost:9093, localhost:9094\r\n      &quot;[group.id]&quot;: test-consumer-group-local\r\n      &quot;[value.deserializer]&quot;: org.apache.kafka.common.serialization.StringDeserializer\r\n      &quot;[key.deserializer]&quot;: org.apache.kafka.common.serialization.StringDeserializer\r\n\r\n\r\n","title":"How to inject a Map using the @Value Spring Annotation?","body":"<p>Here is how we did it. \nTwo sample classes as follow:</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\n@EnableKafka\n@Configuration\n@EnableConfigurationProperties(KafkaConsumerProperties.class)\npublic class KafkaContainerConfig {\n\n    @Autowired\n    protected KafkaConsumerProperties kafkaConsumerProperties;\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(kafkaConsumerProperties.getKafkaConsumerConfig());\n    }\n...\n\n@Configuration\n@ConfigurationProperties\npublic class KafkaConsumerProperties {\n    protected Map&lt;String, Object&gt; kafkaConsumerConfig = new HashMap&lt;&gt;();\n\n    @ConfigurationProperties(\"kafkaConsumerConfig\")\n    public Map&lt;String, Object&gt; getKafkaConsumerConfig() {\n        return (kafkaConsumerConfig);\n    }\n...\n</code></pre>\n\n<p>To provide the kafkaConsumer config from a properties file, you can use: mapname[key]=value</p>\n\n<pre><code>//application.properties\nkafkaConsumerConfig[bootstrap.servers]=localhost:9092, localhost:9093, localhost:9094\nkafkaConsumerConfig[group.id]=test-consumer-group-local\nkafkaConsumerConfig[value.deserializer]=org.apache.kafka.common.serialization.StringDeserializer\nkafkaConsumerConfig[key.deserializer=org.apache.kafka.common.serialization.StringDeserializer\n</code></pre>\n\n<p>To provide the kafkaConsumer config from a yaml file, you can use \"[key]\": value\nIn application.yml file:</p>\n\n<pre><code>kafkaConsumerConfig:\n  \"[bootstrap.servers]\": localhost:9092, localhost:9093, localhost:9094\n  \"[group.id]\": test-consumer-group-local\n  \"[value.deserializer]\": org.apache.kafka.common.serialization.StringDeserializer\n  \"[key.deserializer]\": org.apache.kafka.common.serialization.StringDeserializer\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5705567,"reputation":360,"user_id":4509247,"display_name":"rslj"},"score":1,"creation_date":1562336385,"post_id":53554102,"comment_id":100354227,"body_markdown":"I think your definition for the bean mongoConfig is incorrect. The method should be defined like this.                                                                        \npublic Map&lt;String, String&gt; mongoConfig() {\n    return new HashMap();\n}","body":"I think your definition for the bean mongoConfig is incorrect. The method should be defined like this.                                                                         public Map&lt;String, String&gt; mongoConfig() {     return new HashMap(); }"},{"owner":{"account_id":230261,"reputation":791,"user_id":493759,"display_name":"Agoston Horvath"},"score":0,"creation_date":1579186503,"post_id":53554102,"comment_id":105688220,"body_markdown":"this is probably the most elegant way if you simply want to inject a map from application.yml","body":"this is probably the most elegant way if you simply want to inject a map from application.yml"}],"tags":[],"owner":{"account_id":13742022,"reputation":241,"user_id":9916861,"display_name":"liuxun"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1561389415,"creation_date":1543567608,"answer_id":53554102,"question_id":30691949,"body_markdown":"I had a simple code for Spring Cloud Config \n\nlike this:\n\nIn application.properties\n\n&gt; spring.data.mongodb.db1=mongodb://test@test1.com\n&gt;\n&gt; spring.data.mongodb.db2=mongodb://test@test2.com\n\n## read\n\n    @Bean(name = &quot;mongoConfig&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.data.mongodb&quot;)\n    public Map&lt;String, Map&lt;String, String&gt;&gt; mongoConfig() {\n        return new HashMap();\n    }\n\n## use\n\n    @Autowired\n    @Qualifier(value = &quot;mongoConfig&quot;)\n    private Map&lt;String, String&gt; mongoConfig;\n    \n    @Bean(name = &quot;mongoTemplates&quot;)\n    public HashMap&lt;String, MongoTemplate&gt; mongoTemplateMap() throws UnknownHostException {\n        HashMap&lt;String, MongoTemplate&gt; mongoTemplates = new HashMap&lt;&gt;();\n        for (Map.Entry&lt;String, String&gt;&gt; entry : mongoConfig.entrySet()) {\n            String k = entry.getKey();\n            String v = entry.getValue();\n            MongoTemplate template = new MongoTemplate(new SimpleMongoDbFactory(new MongoClientURI(v)));\n            mongoTemplates.put(k, template);\n        }\n        return mongoTemplates;\n    }","title":"How to inject a Map using the @Value Spring Annotation?","body":"<p>I had a simple code for Spring Cloud Config</p>\n<p>like this:</p>\n<p>In application.properties</p>\n<blockquote>\n<p>spring.data.mongodb.db1=mongodb://test@test1.com</p>\n<p>spring.data.mongodb.db2=mongodb://test@test2.com</p>\n</blockquote>\n<h2>read</h2>\n<pre><code>@Bean(name = &quot;mongoConfig&quot;)\n@ConfigurationProperties(prefix = &quot;spring.data.mongodb&quot;)\npublic Map&lt;String, Map&lt;String, String&gt;&gt; mongoConfig() {\n    return new HashMap();\n}\n</code></pre>\n<h2>use</h2>\n<pre><code>@Autowired\n@Qualifier(value = &quot;mongoConfig&quot;)\nprivate Map&lt;String, String&gt; mongoConfig;\n\n@Bean(name = &quot;mongoTemplates&quot;)\npublic HashMap&lt;String, MongoTemplate&gt; mongoTemplateMap() throws UnknownHostException {\n    HashMap&lt;String, MongoTemplate&gt; mongoTemplates = new HashMap&lt;&gt;();\n    for (Map.Entry&lt;String, String&gt;&gt; entry : mongoConfig.entrySet()) {\n        String k = entry.getKey();\n        String v = entry.getValue();\n        MongoTemplate template = new MongoTemplate(new SimpleMongoDbFactory(new MongoClientURI(v)));\n        mongoTemplates.put(k, template);\n    }\n    return mongoTemplates;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1329278,"reputation":2885,"user_id":1273497,"accept_rate":91,"display_name":"wild_nothing"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1695215473,"creation_date":1557250576,"answer_id":56027837,"question_id":30691949,"body_markdown":"To get this working with YAML, do this:\r\n\r\n    property-name: &#39;{\r\n      key1: &quot;value1&quot;,\r\n      key2: &quot;value2&quot;\r\n    }&#39;\r\n    ","title":"How to inject a Map using the @Value Spring Annotation?","body":"<p>To get this working with YAML, do this:</p>\n<pre><code>property-name: '{\n  key1: &quot;value1&quot;,\n  key2: &quot;value2&quot;\n}'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"score":0,"creation_date":1636444357,"post_id":61674515,"comment_id":123551676,"body_markdown":"how to make proper fallback to empty map if property is not found? otherwise context won&#39;t be initialized.","body":"how to make proper fallback to empty map if property is not found? otherwise context won&#39;t be initialized."},{"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":""},"score":0,"creation_date":1663300634,"post_id":61674515,"comment_id":130211629,"body_markdown":"it works five for application.yml","body":"it works five for application.yml"}],"tags":[],"owner":{"account_id":7353522,"reputation":171,"user_id":5598915,"display_name":"ShareYourWisdom"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1588924914,"creation_date":1588924256,"answer_id":61674515,"question_id":30691949,"body_markdown":"Following worked for me:\r\n\r\nSpingBoot 2.1.7.RELEASE\r\n\r\nYAML Property (Notice value sourrounded by single quotes)\r\n```\r\nproperty:\r\n   name: &#39;{&quot;key1&quot;: false, &quot;key2&quot;: false, &quot;key3&quot;: true}&#39;\r\n```\r\n\r\nIn Java/Kotlin annotate field with (Notice use of #) (For java no need to escape &#39;$&#39; with &#39;\\&#39;)\r\n```\r\n@Value(&quot;#{\\${property.name}}&quot;)\r\n```","title":"How to inject a Map using the @Value Spring Annotation?","body":"<p>Following worked for me:</p>\n\n<p>SpingBoot 2.1.7.RELEASE</p>\n\n<p>YAML Property (Notice value sourrounded by single quotes)</p>\n\n<pre><code>property:\n   name: '{\"key1\": false, \"key2\": false, \"key3\": true}'\n</code></pre>\n\n<p>In Java/Kotlin annotate field with (Notice use of #) (For java no need to escape '$' with '\\')</p>\n\n<pre><code>@Value(\"#{\\${property.name}}\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1733872,"reputation":2893,"user_id":1586864,"display_name":"Harsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647329991,"creation_date":1647329991,"answer_id":71478498,"question_id":30691949,"body_markdown":"You can use below code.\r\n\r\nBelow code for `application.yml`\r\n\r\n    my:\r\n      mapValues:\r\n        dbData: &#39;{\r\n          &quot;connectionURL&quot;: &quot;http://tesst:3306&quot;,\r\n            &quot;userName&quot;: &quot;myUser&quot;,\r\n            &quot;password&quot;: &quot;password123&quot;\r\n        }&#39;\r\n\r\nto access these key and values using `@Value` annotation use below java code.\r\n\r\n    @Value(&quot;#{${my.mapValues.dbData}}&quot;)\r\n    private Map&lt;String,String&gt; dbValues;","title":"How to inject a Map using the @Value Spring Annotation?","body":"<p>You can use below code.</p>\n<p>Below code for <code>application.yml</code></p>\n<pre><code>my:\n  mapValues:\n    dbData: '{\n      &quot;connectionURL&quot;: &quot;http://tesst:3306&quot;,\n        &quot;userName&quot;: &quot;myUser&quot;,\n        &quot;password&quot;: &quot;password123&quot;\n    }'\n</code></pre>\n<p>to access these key and values using <code>@Value</code> annotation use below java code.</p>\n<pre><code>@Value(&quot;#{${my.mapValues.dbData}}&quot;)\nprivate Map&lt;String,String&gt; dbValues;\n</code></pre>\n"}],"owner":{"account_id":1672649,"reputation":5729,"user_id":1538815,"accept_rate":57,"display_name":"yathirigan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188652,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"accepted_answer_id":30693052,"answer_count":8,"score":105,"last_activity_date":1695215473,"creation_date":1433669099,"question_id":30691949,"body_markdown":"How can I inject values into a Map from the properties file using the @Value annotation in Spring?\r\n\r\nMy Spring Java class is and I tried using the $, but got the following error message:\r\n\r\n&gt; Could not autowire field: private java.util.Map Test.standard; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;com.test.standard&#39; in string value &quot;${com.test.standard}&quot;\r\n\r\n    @ConfigurationProperty(&quot;com.hello.foo&quot;)\r\n    public class Test {\r\n    \r\n       @Value(&quot;${com.test.standard}&quot;)\r\n       private Map&lt;String,Pattern&gt; standard = new LinkedHashMap&lt;String,Pattern&gt;\r\n\r\n       private String enabled;\r\n    \r\n    }\r\n\r\nI have the following properties in a .properties file\r\n\r\n    com.test.standard.name1=Pattern1\r\n    com.test.standard.name2=Pattern2\r\n    com.test.standard.name3=Pattern3\r\n    com.hello.foo.enabled=true","title":"How to inject a Map using the @Value Spring Annotation?","body":"<p>How can I inject values into a Map from the properties file using the @Value annotation in Spring?</p>\n<p>My Spring Java class is and I tried using the $, but got the following error message:</p>\n<blockquote>\n<p>Could not autowire field: private java.util.Map Test.standard; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'com.test.standard' in string value &quot;${com.test.standard}&quot;</p>\n</blockquote>\n<pre><code>@ConfigurationProperty(&quot;com.hello.foo&quot;)\npublic class Test {\n\n   @Value(&quot;${com.test.standard}&quot;)\n   private Map&lt;String,Pattern&gt; standard = new LinkedHashMap&lt;String,Pattern&gt;\n\n   private String enabled;\n\n}\n</code></pre>\n<p>I have the following properties in a .properties file</p>\n<pre><code>com.test.standard.name1=Pattern1\ncom.test.standard.name2=Pattern2\ncom.test.standard.name3=Pattern3\ncom.hello.foo.enabled=true\n</code></pre>\n"},{"tags":["java","hibernate","datetime","jpa","timezone"],"comments":[{"owner":{"account_id":3775541,"reputation":4682,"user_id":3136474,"accept_rate":83,"display_name":"Dinei"},"score":1,"creation_date":1493995950,"post_id":508019,"comment_id":74655007,"body_markdown":"[Vlad Mihalcea&#39;s answer](http://stackoverflow.com/a/40438746/3136474) provides an updated answer (for Hibernate 5.2+)","body":"<a href=\"http://stackoverflow.com/a/40438746/3136474\">Vlad Mihalcea&#39;s answer</a> provides an updated answer (for Hibernate 5.2+)"}],"answers":[{"comments":[{"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"score":6,"creation_date":1289417999,"post_id":508377,"comment_id":4475584,"body_markdown":"mitchnull, your solution won&#39;t work in all cases because Hibernate delegates setting dates to the JDBC driver and each JDBC driver handles dates and time zones differently.  see http://stackoverflow.com/questions/4123534/before-writing-a-java-date-to-an-sql-timestamp-column-does-jdbc-translate-the-da/4124620#4124620.","body":"mitchnull, your solution won&#39;t work in all cases because Hibernate delegates setting dates to the JDBC driver and each JDBC driver handles dates and time zones differently.  see <a href=\"http://stackoverflow.com/questions/4123534/before-writing-a-java-date-to-an-sql-timestamp-column-does-jdbc-translate-the-da/4124620#4124620\" title=\"before writing a java date to an sql timestamp column does jdbc translate the da\">stackoverflow.com/questions/4123534/&hellip;</a>."},{"owner":{"account_id":39603,"reputation":2007,"user_id":114308,"accept_rate":50,"display_name":"rafa.ferreira"},"score":2,"creation_date":1305840897,"post_id":508377,"comment_id":7022241,"body_markdown":"But if I start my app informing to the JVM &quot;-Duser.timezone=+00:00&quot; property, is not the same behave?","body":"But if I start my app informing to the JVM &quot;-Duser.timezone=+00:00&quot; property, is not the same behave?"},{"owner":{"account_id":65816,"reputation":4229,"user_id":193435,"display_name":"Shane"},"score":8,"creation_date":1316334578,"post_id":508377,"comment_id":9025344,"body_markdown":"As far as I can tell, it will work in all cases except when the JVM and the database server are in different time zones.","body":"As far as I can tell, it will work in all cases except when the JVM and the database server are in different time zones."},{"owner":{"account_id":83424,"reputation":2889,"user_id":233906,"accept_rate":88,"display_name":"Cerber"},"score":0,"creation_date":1335104341,"post_id":508377,"comment_id":13204771,"body_markdown":"stevekuo and @mitchnull see divestoclimb solution below which is far more better _and_ side-effect proof http://stackoverflow.com/a/3430957/233906","body":"stevekuo and @mitchnull see divestoclimb solution below which is far more better <i>and</i> side-effect proof <a href=\"http://stackoverflow.com/a/3430957/233906\">stackoverflow.com/a/3430957/233906</a>"},{"owner":{"account_id":62450,"reputation":10263,"user_id":185565,"accept_rate":91,"display_name":"Whome"},"score":0,"creation_date":1366764181,"post_id":508377,"comment_id":23131734,"body_markdown":"Do HibernateJPA support &quot;@Factory&quot; and &quot;@Externalizer&quot; annotation, it&#39;s how I do datetime utc handling in OpenJPA library. http://stackoverflow.com/questions/10819862/how-to-store-date-and-time-with-jpa-in-oracle/15658215#15658215","body":"Do HibernateJPA support &quot;@Factory&quot; and &quot;@Externalizer&quot; annotation, it&#39;s how I do datetime utc handling in OpenJPA library. <a href=\"http://stackoverflow.com/questions/10819862/how-to-store-date-and-time-with-jpa-in-oracle/15658215#15658215\" title=\"how to store date and time with jpa in oracle\">stackoverflow.com/questions/10819862/&hellip;</a>"},{"owner":{"account_id":426907,"reputation":1181,"user_id":808396,"accept_rate":71,"display_name":"Tony Chemit"},"score":0,"creation_date":1497264462,"post_id":508377,"comment_id":75988094,"body_markdown":"This does not work when jvm does not use the same time zone as told by @Shane. The simple next response solve all the pb.","body":"This does not work when jvm does not use the same time zone as told by @Shane. The simple next response solve all the pb."},{"owner":{"account_id":2883613,"reputation":143,"user_id":2473948,"accept_rate":100,"display_name":"stranger"},"score":0,"creation_date":1630755362,"post_id":508377,"comment_id":122045720,"body_markdown":"Also add this in ur properties.file to make sure your db entries also happen in UTC\nspring.jpa.properties.hibernate.jdbc.time_zone=UTC","body":"Also add this in ur properties.file to make sure your db entries also happen in UTC spring.jpa.properties.hibernate.jdbc.time_zone=UTC"}],"tags":[],"owner":{"account_id":9974,"reputation":6191,"user_id":18645,"display_name":"mitchnull"},"comment_count":7,"down_vote_count":4,"up_vote_count":63,"is_accepted":false,"score":59,"last_activity_date":1460430001,"creation_date":1233686672,"answer_id":508377,"question_id":508019,"body_markdown":"To the best of my knowledge, you need to put your entire Java app in UTC timezone (so that Hibernate will store dates in UTC), and you&#39;ll need to convert to whatever timezone desired when you display stuff (at least we do it this way).\r\n\r\nAt startup, we do:\r\n\r\n    TimeZone.setDefault(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n\r\nAnd set the desired timezone to the DateFormat:\r\n\r\n    fmt.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Budapest&quot;))","title":"How to store date/time and timestamps in UTC time zone with JPA and Hibernate","body":"<p>To the best of my knowledge, you need to put your entire Java app in UTC timezone (so that Hibernate will store dates in UTC), and you'll need to convert to whatever timezone desired when you display stuff (at least we do it this way).</p>\n\n<p>At startup, we do:</p>\n\n<pre><code>TimeZone.setDefault(TimeZone.getTimeZone(\"Etc/UTC\"));\n</code></pre>\n\n<p>And set the desired timezone to the DateFormat:</p>\n\n<pre><code>fmt.setTimeZone(TimeZone.getTimeZone(\"Europe/Budapest\"))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19067,"reputation":5283,"user_id":44355,"display_name":"david a."},"score":1,"creation_date":1234897955,"post_id":557891,"comment_id":369587,"body_markdown":"Shame on me! You were right and the link from your post explains it well. Now I guess my answer deserves some negative reputation :)","body":"Shame on me! You were right and the link from your post explains it well. Now I guess my answer deserves some negative reputation :)"},{"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"score":1,"creation_date":1234995328,"post_id":557891,"comment_id":374379,"body_markdown":"Not at all.  you encouraged me to post a very explicit example of why this is a problem.","body":"Not at all.  you encouraged me to post a very explicit example of why this is a problem."},{"owner":{"account_id":8182,"reputation":2150,"user_id":14591,"accept_rate":60,"display_name":"John K"},"score":4,"creation_date":1271434337,"post_id":557891,"comment_id":2670809,"body_markdown":"I was able to persist times correctly using the Calendar object so that they are stored in the DB as UTC as you suggested. However, when reading persisted entities back from the database, Hibernate assumes they&#39;re in the local time zone and the Calendar object is incorrect!","body":"I was able to persist times correctly using the Calendar object so that they are stored in the DB as UTC as you suggested. However, when reading persisted entities back from the database, Hibernate assumes they&#39;re in the local time zone and the Calendar object is incorrect!"},{"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"score":1,"creation_date":1289130275,"post_id":557891,"comment_id":4434931,"body_markdown":"John K, in order to resolve this `Calendar` read problem, I think Hibernate or JPA should provide some way to specify, for each mapping, the time zone to which Hibernate should translate the date that it reads and writes to a `TIMESTAMP` column.","body":"John K, in order to resolve this <code>Calendar</code> read problem, I think Hibernate or JPA should provide some way to specify, for each mapping, the time zone to which Hibernate should translate the date that it reads and writes to a <code>TIMESTAMP</code> column."},{"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"score":0,"creation_date":1289418284,"post_id":557891,"comment_id":4475653,"body_markdown":"joekutner, after reading http://stackoverflow.com/questions/4123534/before-writing-a-java-date-to-an-sql-timestamp-column-does-jdbc-translate-the-da/4124620#4124620, I&#39;ve come to share your opinion that we should store milliseconds since the Epoch in the database rather than a `Timestamp` since we can&#39;t necessarily trust the JDBC driver to store dates as we would expect.","body":"joekutner, after reading <a href=\"http://stackoverflow.com/questions/4123534/before-writing-a-java-date-to-an-sql-timestamp-column-does-jdbc-translate-the-da/4124620#4124620\" title=\"before writing a java date to an sql timestamp column does jdbc translate the da\">stackoverflow.com/questions/4123534/&hellip;</a>, I&#39;ve come to share your opinion that we should store milliseconds since the Epoch in the database rather than a <code>Timestamp</code> since we can&#39;t necessarily trust the JDBC driver to store dates as we would expect."},{"owner":{"account_id":39603,"reputation":2007,"user_id":114308,"accept_rate":50,"display_name":"rafa.ferreira"},"score":0,"creation_date":1305904697,"post_id":557891,"comment_id":7034709,"body_markdown":"@John K - Could you explain how you could store date in UTC on db? Did you set your JVM to startup on UTC? This is the unique solution that I have found.","body":"@John K - Could you explain how you could store date in UTC on db? Did you set your JVM to startup on UTC? This is the unique solution that I have found."}],"tags":[],"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"comment_count":6,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1234896848,"creation_date":1234892031,"answer_id":557891,"question_id":508019,"body_markdown":"You would think this common problem would be taken care of by Hibernate.  But its not!  There are a few &quot;hacks&quot; to get it right.  \r\n\r\nThe one I use is to store the Date as a Long in the database.  So I am always working with milliseconds after 1/1/70. I then have getters and setters on my Class that return/accept only Dates.  So the API remains the same. The down side is that I have longs in the database.  SO with SQL I can pretty much only do &lt;,&gt;,= comparisons -- not fancy date operators.  \r\n\r\nAnother approach is to user a custom mapping type as described here:\r\nhttp://www.hibernate.org/100.html\r\n\r\nI think the correct way to deal with this is to use a Calendar instead of a Date though.  With the Calendar you can set the TimeZone before persisting.  \r\n\r\nNOTE: Silly stackoverflow won&#39;t let me comment, so here is a response to david a.\r\n\r\nIf you create this object in Chicago:\r\n\r\n    new Date(0);\r\n\r\nHibernate persists it as &quot;12/31/1969 18:00:00&quot;.  Dates should be devoid of timezone, so I&#39;m not sure why the adjustment would be made.","title":"How to store date/time and timestamps in UTC time zone with JPA and Hibernate","body":"<p>You would think this common problem would be taken care of by Hibernate.  But its not!  There are a few \"hacks\" to get it right.  </p>\n\n<p>The one I use is to store the Date as a Long in the database.  So I am always working with milliseconds after 1/1/70. I then have getters and setters on my Class that return/accept only Dates.  So the API remains the same. The down side is that I have longs in the database.  SO with SQL I can pretty much only do &lt;,>,= comparisons -- not fancy date operators.  </p>\n\n<p>Another approach is to user a custom mapping type as described here:\n<a href=\"http://www.hibernate.org/100.html\" rel=\"noreferrer\">http://www.hibernate.org/100.html</a></p>\n\n<p>I think the correct way to deal with this is to use a Calendar instead of a Date though.  With the Calendar you can set the TimeZone before persisting.  </p>\n\n<p>NOTE: Silly stackoverflow won't let me comment, so here is a response to david a.</p>\n\n<p>If you create this object in Chicago:</p>\n\n<pre><code>new Date(0);\n</code></pre>\n\n<p>Hibernate persists it as \"12/31/1969 18:00:00\".  Dates should be devoid of timezone, so I'm not sure why the adjustment would be made.</p>\n"},{"tags":[],"owner":{"display_name":"Time Master"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1237834956,"creation_date":1237834956,"answer_id":674785,"question_id":508019,"body_markdown":"Date is not in any time zone (it is a millisecond office from a defined moment in time same for everyone), but underlying (R)DBs generally store timestamps in political format (year, month, day, hour, minute, second, ...) that is time-zone sensitive.\r\n\r\nTo be serious, Hibernate *MUST* be allow being told within some form of mapping that the DB date is in such-and-such timezone so that when it loads or stores it it does not assume its own...\r\n","title":"How to store date/time and timestamps in UTC time zone with JPA and Hibernate","body":"<p>Date is not in any time zone (it is a millisecond office from a defined moment in time same for everyone), but underlying (R)DBs generally store timestamps in political format (year, month, day, hour, minute, second, ...) that is time-zone sensitive.</p>\n\n<p>To be serious, Hibernate <em>MUST</em> be allow being told within some form of mapping that the DB date is in such-and-such timezone so that when it loads or stores it it does not assume its own...</p>\n"},{"tags":[],"owner":{"account_id":613160,"reputation":81,"user_id":330139,"display_name":"Chris Pheby"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1304374537,"creation_date":1272728145,"answer_id":2750527,"question_id":508019,"body_markdown":"Please take a look at my project on Sourceforge which has user types for standard SQL Date and Time types as well as JSR 310 and Joda Time. All of the types try to address the offsetting issue. See http://sourceforge.net/projects/usertype/\r\n\r\nEDIT: In response to Derek Mahar&#39;s question attached to this comment: \t\r\n\r\n&quot;Chris, do your user types work with Hibernate 3 or greater?  Derek Mahar Nov 7 &#39;10 at 12:30&quot;\r\n\r\nYes these types support Hibernate 3.x versions including Hibernate 3.6. ","title":"How to store date/time and timestamps in UTC time zone with JPA and Hibernate","body":"<p>Please take a look at my project on Sourceforge which has user types for standard SQL Date and Time types as well as JSR 310 and Joda Time. All of the types try to address the offsetting issue. See <a href=\"http://sourceforge.net/projects/usertype/\" rel=\"nofollow noreferrer\">http://sourceforge.net/projects/usertype/</a></p>\n\n<p>EDIT: In response to Derek Mahar's question attached to this comment:   </p>\n\n<p>\"Chris, do your user types work with Hibernate 3 or greater?  Derek Mahar Nov 7 '10 at 12:30\"</p>\n\n<p>Yes these types support Hibernate 3.x versions including Hibernate 3.6. </p>\n"},{"comments":[{"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"score":3,"creation_date":1289130009,"post_id":3430957,"comment_id":4434908,"body_markdown":"How do you tell Hibernate to use your custom `UtcTimestampType`?","body":"How do you tell Hibernate to use your custom <code>UtcTimestampType</code>?"},{"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"score":0,"creation_date":1289416611,"post_id":3430957,"comment_id":4475323,"body_markdown":"divestoclimb, with which version of Hibernate is `UtcTimestampType` compatible?","body":"divestoclimb, with which version of Hibernate is <code>UtcTimestampType</code> compatible?"},{"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"score":2,"creation_date":1289417060,"post_id":3430957,"comment_id":4475416,"body_markdown":"&quot;ResultSet.getTimestamp and PreparedStatement.setTimestamp both say in their docs that they transform dates to/from the current JVM timezone by default when reading and writing from/to the database.&quot; Do you have a reference? I don&#39;t see any mention of this in the Java 6 Javadocs for these methods.  According to http://stackoverflow.com/questions/4123534/before-writing-a-java-date-to-an-sql-timestamp-column-does-jdbc-translate-the-da/4124620#4124620, how these methods apply the time zone to a given `Date` or `Timestamp` is JDBC driver dependent.","body":"&quot;ResultSet.getTimestamp and PreparedStatement.setTimestamp both say in their docs that they transform dates to/from the current JVM timezone by default when reading and writing from/to the database.&quot; Do you have a reference? I don&#39;t see any mention of this in the Java 6 Javadocs for these methods.  According to <a href=\"http://stackoverflow.com/questions/4123534/before-writing-a-java-date-to-an-sql-timestamp-column-does-jdbc-translate-the-da/4124620#4124620\" title=\"before writing a java date to an sql timestamp column does jdbc translate the da\">stackoverflow.com/questions/4123534/&hellip;</a>, how these methods apply the time zone to a given <code>Date</code> or <code>Timestamp</code> is JDBC driver dependent."},{"owner":{"account_id":180506,"reputation":783,"user_id":413862,"display_name":"divestoclimb"},"score":1,"creation_date":1310483466,"post_id":3430957,"comment_id":7882201,"body_markdown":"I could have sworn I read that about using the JVM timezone last year, but now I can&#39;t find it. I might have found it on the docs for a specific JDBC driver and generalized.","body":"I could have sworn I read that about using the JVM timezone last year, but now I can&#39;t find it. I might have found it on the docs for a specific JDBC driver and generalized."},{"owner":{"account_id":109500,"reputation":626,"user_id":290095,"accept_rate":100,"display_name":"Shaun Stone"},"score":2,"creation_date":1342132979,"post_id":3430957,"comment_id":15130006,"body_markdown":"To get the 3.6 version of your example to work i had to create a new type which was basically a wrapper around the TimeStampType then set that type on the field.","body":"To get the 3.6 version of your example to work i had to create a new type which was basically a wrapper around the TimeStampType then set that type on the field."},{"owner":{"account_id":2515170,"reputation":1590,"user_id":2186777,"accept_rate":83,"display_name":"fl4l"},"score":0,"creation_date":1401810674,"post_id":3430957,"comment_id":37023098,"body_markdown":"@divestoclimb, I have an application with Hibernate 3.6. I tried TimestampTypeDescriptor, how can I apply that descriptor to a single entity field? I tried to map my entity with `@Type(type=&quot;path.to.UtcTimestampTypeDescriptor&quot;)` but throws an _SQLGrammarException: could not execute query_","body":"@divestoclimb, I have an application with Hibernate 3.6. I tried TimestampTypeDescriptor, how can I apply that descriptor to a single entity field? I tried to map my entity with <code>@Type(type=&quot;path.to.UtcTimestampTypeDescriptor&quot;)</code> but throws an <i>SQLGrammarException: could not execute query</i>"},{"owner":{"account_id":148631,"reputation":488,"user_id":360557,"accept_rate":27,"display_name":"Mike Stoddart"},"score":0,"creation_date":1464877128,"post_id":3430957,"comment_id":62673817,"body_markdown":"On Hibernate 4.3.11.Final, your UtcTimestampTypeDescriptor class has two compilation errors: &quot;The type new BasicExtractor&lt;X&gt;(){} must implement the inherited abstract method BasicExtractor&lt;X&gt;.doExtract(CallableStatement, int, WrapperOptions)\tUtcTimestampTypeDescriptor.java&quot; and &quot;The type new BasicExtractor&lt;X&gt;(){} must implement the inherited abstract method BasicExtractor&lt;X&gt;.doExtract(CallableStatement, String, WrapperOptions)&quot;. Apologies if this comment isn&#39;t too readable.","body":"On Hibernate 4.3.11.Final, your UtcTimestampTypeDescriptor class has two compilation errors: &quot;The type new BasicExtractor&lt;X&gt;(){} must implement the inherited abstract method BasicExtractor&lt;X&gt;.doExtract(CallableStatement, int, WrapperOptions)\tUtcTimestampTypeDescriptor.java&quot; and &quot;The type new BasicExtractor&lt;X&gt;(){} must implement the inherited abstract method BasicExtractor&lt;X&gt;.doExtract(CallableStatement, String, WrapperOptions)&quot;. Apologies if this comment isn&#39;t too readable."}],"tags":[],"owner":{"account_id":180506,"reputation":783,"user_id":413862,"display_name":"divestoclimb"},"comment_count":7,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1472472735,"creation_date":1281194984,"answer_id":3430957,"question_id":508019,"body_markdown":"Hibernate is ignorant of time zone stuff in Dates (because there isn&#39;t any), but it&#39;s actually the JDBC layer that&#39;s causing problems. `ResultSet.getTimestamp` and `PreparedStatement.setTimestamp` both say in their docs that they transform dates to/from the current JVM timezone by default when reading and writing from/to the database.\r\n\r\nI came up with a solution to this in Hibernate 3.5 by subclassing `org.hibernate.type.TimestampType` that forces these JDBC methods to use UTC instead of the local time zone:\r\n\r\n    public class UtcTimestampType extends TimestampType {\r\n\r\n        private static final long serialVersionUID = 8088663383676984635L;\r\n\r\n        private static final TimeZone UTC = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n \r\n        @Override\r\n        public Object get(ResultSet rs, String name) throws SQLException {\r\n            return rs.getTimestamp(name, Calendar.getInstance(UTC));\r\n        }\r\n\r\n        @Override\r\n        public void set(PreparedStatement st, Object value, int index) throws SQLException {\r\n            Timestamp ts;\r\n            if(value instanceof Timestamp) {\r\n                ts = (Timestamp) value;\r\n            } else {\r\n                ts = new Timestamp(((java.util.Date) value).getTime());\r\n            }\r\n            st.setTimestamp(index, ts, Calendar.getInstance(UTC));\r\n        }\r\n    }\r\n\r\nThe same thing should be done to fix TimeType and DateType if you use those types. The downside is you&#39;ll have to manually specify that these types are to be used instead of the defaults on every Date field in your POJOs (and also breaks pure JPA compatibility), unless someone knows of a more general override method.\r\n\r\nUPDATE: Hibernate 3.6 has changed the types API. In 3.6, I wrote a class UtcTimestampTypeDescriptor to implement this.\r\n\r\n    public class UtcTimestampTypeDescriptor extends TimestampTypeDescriptor {\r\n    \tpublic static final UtcTimestampTypeDescriptor INSTANCE = new UtcTimestampTypeDescriptor();\r\n    \t\r\n    \tprivate static final TimeZone UTC = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n    \r\n    \tpublic &lt;X&gt; ValueBinder&lt;X&gt; getBinder(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\r\n    \t\treturn new BasicBinder&lt;X&gt;( javaTypeDescriptor, this ) {\r\n    \t\t\t@Override\r\n    \t\t\tprotected void doBind(PreparedStatement st, X value, int index, WrapperOptions options) throws SQLException {\r\n    \t\t\t\tst.setTimestamp( index, javaTypeDescriptor.unwrap( value, Timestamp.class, options ), Calendar.getInstance(UTC) );\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \r\n    \tpublic &lt;X&gt; ValueExtractor&lt;X&gt; getExtractor(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\r\n    \t\treturn new BasicExtractor&lt;X&gt;( javaTypeDescriptor, this ) {\r\n    \t\t\t@Override\r\n    \t\t\tprotected X doExtract(ResultSet rs, String name, WrapperOptions options) throws SQLException {\r\n    \t\t\t\treturn javaTypeDescriptor.wrap( rs.getTimestamp( name, Calendar.getInstance(UTC) ), options );\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\nNow when the app starts, if you set TimestampTypeDescriptor.INSTANCE to an instance of UtcTimestampTypeDescriptor, all timestamps will be stored and treated as being in UTC without having to change the annotations on POJOs. [I haven&#39;t tested this yet]","title":"How to store date/time and timestamps in UTC time zone with JPA and Hibernate","body":"<p>Hibernate is ignorant of time zone stuff in Dates (because there isn't any), but it's actually the JDBC layer that's causing problems. <code>ResultSet.getTimestamp</code> and <code>PreparedStatement.setTimestamp</code> both say in their docs that they transform dates to/from the current JVM timezone by default when reading and writing from/to the database.</p>\n\n<p>I came up with a solution to this in Hibernate 3.5 by subclassing <code>org.hibernate.type.TimestampType</code> that forces these JDBC methods to use UTC instead of the local time zone:</p>\n\n<pre><code>public class UtcTimestampType extends TimestampType {\n\n    private static final long serialVersionUID = 8088663383676984635L;\n\n    private static final TimeZone UTC = TimeZone.getTimeZone(\"UTC\");\n\n    @Override\n    public Object get(ResultSet rs, String name) throws SQLException {\n        return rs.getTimestamp(name, Calendar.getInstance(UTC));\n    }\n\n    @Override\n    public void set(PreparedStatement st, Object value, int index) throws SQLException {\n        Timestamp ts;\n        if(value instanceof Timestamp) {\n            ts = (Timestamp) value;\n        } else {\n            ts = new Timestamp(((java.util.Date) value).getTime());\n        }\n        st.setTimestamp(index, ts, Calendar.getInstance(UTC));\n    }\n}\n</code></pre>\n\n<p>The same thing should be done to fix TimeType and DateType if you use those types. The downside is you'll have to manually specify that these types are to be used instead of the defaults on every Date field in your POJOs (and also breaks pure JPA compatibility), unless someone knows of a more general override method.</p>\n\n<p>UPDATE: Hibernate 3.6 has changed the types API. In 3.6, I wrote a class UtcTimestampTypeDescriptor to implement this.</p>\n\n<pre><code>public class UtcTimestampTypeDescriptor extends TimestampTypeDescriptor {\n    public static final UtcTimestampTypeDescriptor INSTANCE = new UtcTimestampTypeDescriptor();\n\n    private static final TimeZone UTC = TimeZone.getTimeZone(\"UTC\");\n\n    public &lt;X&gt; ValueBinder&lt;X&gt; getBinder(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\n        return new BasicBinder&lt;X&gt;( javaTypeDescriptor, this ) {\n            @Override\n            protected void doBind(PreparedStatement st, X value, int index, WrapperOptions options) throws SQLException {\n                st.setTimestamp( index, javaTypeDescriptor.unwrap( value, Timestamp.class, options ), Calendar.getInstance(UTC) );\n            }\n        };\n    }\n\n    public &lt;X&gt; ValueExtractor&lt;X&gt; getExtractor(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\n        return new BasicExtractor&lt;X&gt;( javaTypeDescriptor, this ) {\n            @Override\n            protected X doExtract(ResultSet rs, String name, WrapperOptions options) throws SQLException {\n                return javaTypeDescriptor.wrap( rs.getTimestamp( name, Calendar.getInstance(UTC) ), options );\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>Now when the app starts, if you set TimestampTypeDescriptor.INSTANCE to an instance of UtcTimestampTypeDescriptor, all timestamps will be stored and treated as being in UTC without having to change the annotations on POJOs. [I haven't tested this yet]</p>\n"},{"tags":[],"owner":{"account_id":642074,"reputation":57,"user_id":422102,"display_name":"joobik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578941915,"creation_date":1291836413,"answer_id":4391438,"question_id":508019,"body_markdown":"Hibernate does not allow for specifying time zones by annotation or any other means. If you use Calendar instead of date, you can implement a workaround using HIbernate property AccessType and implementing the mapping yourself. The more advanced solution is to implement a custom UserType to map your Date or Calendar. Both solutions are explained in my blog post here: [http://www.joobik.com/2010/11/mapping-dates-and-time-zones-with.html][1]\r\n\r\n\r\n  [1]: http://www.joobik.com/2010/11/mapping-dates-and-time-zones-with.html","title":"How to store date/time and timestamps in UTC time zone with JPA and Hibernate","body":"<p>Hibernate does not allow for specifying time zones by annotation or any other means. If you use Calendar instead of date, you can implement a workaround using HIbernate property AccessType and implementing the mapping yourself. The more advanced solution is to implement a custom UserType to map your Date or Calendar. Both solutions are explained in my blog post here: <a href=\"http://www.joobik.com/2010/11/mapping-dates-and-time-zones-with.html\" rel=\"nofollow noreferrer\">http://www.joobik.com/2010/11/mapping-dates-and-time-zones-with.html</a></p>\n"},{"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1328033187,"post_id":4433502,"comment_id":11406664,"body_markdown":"&quot;Hibernate/JPA has a severe design deficiency&quot; I&#39;d say it is a deficiency in SQL, which traditionally has allowed the time-zone to be implicit, and therefore potentially anything. Silly SQL.","body":"&quot;Hibernate/JPA has a severe design deficiency&quot; I&#39;d say it is a deficiency in SQL, which traditionally has allowed the time-zone to be implicit, and therefore potentially anything. Silly SQL."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":3,"creation_date":1340639411,"post_id":4433502,"comment_id":14689980,"body_markdown":"Actually, instead of always storing the timezone, you can also standardize on one timezone (usually UTC), and convert everything to this timezone when persisting (and back when reading). This is what we usually do. However, JDBC does not support that directly either :-/.","body":"Actually, instead of always storing the timezone, you can also standardize on one timezone (usually UTC), and convert everything to this timezone when persisting (and back when reading). This is what we usually do. However, JDBC does not support that directly either :-/."}],"tags":[],"owner":{"account_id":684720,"reputation":81,"user_id":541082,"display_name":"Moa"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1292274465,"creation_date":1292274465,"answer_id":4433502,"question_id":508019,"body_markdown":"There are several timezones in operation here:\r\n\r\n 1. Java&#39;s Date classes (util and sql), which have implicit timezones\r\n    of UTC \r\n 2. The timezone your JVM is running in, and\r\n 3. the default timezone of your database server.\r\n\r\nAll of these can be different. Hibernate/JPA has a severe design deficiency in that a user cannot easily ensure that timezone information is preserved in the database server (which allows reconstruction of correct times and dates in the JVM). \r\n\r\nWithout the ability to (easily) store timezone using JPA/Hibernate then information is lost and once information is lost it becomes expensive to construct it (if at all possible).\r\n\r\nI would argue that it is better to always store timezone information (should be the default) and users should then have the optional ability to optimize the timezone away (although it only really affects display, there is still an implicit timezone in any date).\r\n\r\nSorry, this post doesn&#39;t provide a work-around (that&#39;s been answered elsewhere) but it is a rationalization of why always storing timezone information around is important. Unfortunately it seems many Computer Scientists and programming practitioners argue against the need for timezones simply because they don&#39;t appreciate the &quot;loss of information&quot; perspective and how that makes things like internationalization very difficult - which is very important these days with web sites accessible by clients and people in your organization as they move around the world.","title":"How to store date/time and timestamps in UTC time zone with JPA and Hibernate","body":"<p>There are several timezones in operation here:</p>\n\n<ol>\n<li>Java's Date classes (util and sql), which have implicit timezones\nof UTC </li>\n<li>The timezone your JVM is running in, and</li>\n<li>the default timezone of your database server.</li>\n</ol>\n\n<p>All of these can be different. Hibernate/JPA has a severe design deficiency in that a user cannot easily ensure that timezone information is preserved in the database server (which allows reconstruction of correct times and dates in the JVM). </p>\n\n<p>Without the ability to (easily) store timezone using JPA/Hibernate then information is lost and once information is lost it becomes expensive to construct it (if at all possible).</p>\n\n<p>I would argue that it is better to always store timezone information (should be the default) and users should then have the optional ability to optimize the timezone away (although it only really affects display, there is still an implicit timezone in any date).</p>\n\n<p>Sorry, this post doesn't provide a work-around (that's been answered elsewhere) but it is a rationalization of why always storing timezone information around is important. Unfortunately it seems many Computer Scientists and programming practitioners argue against the need for timezones simply because they don't appreciate the \"loss of information\" perspective and how that makes things like internationalization very difficult - which is very important these days with web sites accessible by clients and people in your organization as they move around the world.</p>\n"},{"comments":[{"owner":{"account_id":467627,"reputation":5922,"user_id":873139,"accept_rate":64,"display_name":"Aubergine"},"score":6,"creation_date":1381879305,"post_id":16955113,"comment_id":28743272,"body_markdown":"Would be great to see the solution for JPA and Spring Configuration.","body":"Would be great to see the solution for JPA and Spring Configuration."},{"owner":{"account_id":53529,"reputation":1203,"user_id":160056,"accept_rate":50,"display_name":"Nigel"},"score":2,"creation_date":1389744896,"post_id":16955113,"comment_id":31791171,"body_markdown":"A note regarding using this approach with native queries within Hibernate. To have these overridden types be used you must set the value with query.setParameter(int pos, Object value), not query.setParameter(int pos, Date value, TemporalType temporalType). If you use the latter then Hibernate will use its original type implementations, as they are hard coded.","body":"A note regarding using this approach with native queries within Hibernate. To have these overridden types be used you must set the value with query.setParameter(int pos, Object value), not query.setParameter(int pos, Date value, TemporalType temporalType). If you use the latter then Hibernate will use its original type implementations, as they are hard coded."},{"owner":{"account_id":1316907,"reputation":3571,"user_id":1263556,"accept_rate":60,"display_name":"Stony"},"score":0,"creation_date":1392999734,"post_id":16955113,"comment_id":33235289,"body_markdown":"Where should I call the statement configuration.registerTypeOverride(new UtcTimestampType()); ?","body":"Where should I call the statement configuration.registerTypeOverride(new UtcTimestampType()); ?"},{"owner":{"account_id":65816,"reputation":4229,"user_id":193435,"display_name":"Shane"},"score":0,"creation_date":1393011803,"post_id":16955113,"comment_id":33242766,"body_markdown":"@Stony Wherever you initialize your Hibernate configuration. If you have a HibernateUtil (most do), it&#39;ll be in there.","body":"@Stony Wherever you initialize your Hibernate configuration. If you have a HibernateUtil (most do), it&#39;ll be in there."},{"owner":{"account_id":2076966,"reputation":3921,"user_id":1850043,"accept_rate":71,"display_name":"krzakov"},"score":0,"creation_date":1427211974,"post_id":16955113,"comment_id":46680090,"body_markdown":"any chance to apply this on hibernate integrated with spring data jpa?","body":"any chance to apply this on hibernate integrated with spring data jpa?"},{"owner":{"account_id":125163,"reputation":2985,"user_id":320761,"display_name":"Lukasz Frankowski"},"score":1,"creation_date":1428498109,"post_id":16955113,"comment_id":47186179,"body_markdown":"It works, but after checking it I realized that it&#39;s not required for postgres server working in timezone=&quot;UTC&quot; and with all default types of timestamps as &quot;timestamp with time zone&quot; (it&#39;s done automatically then). But, here is fixed version for Hibernate 4.3.5 GA as complete single class and overridding spring factory bean http://pastebin.com/tT4ACXn6","body":"It works, but after checking it I realized that it&#39;s not required for postgres server working in timezone=&quot;UTC&quot; and with all default types of timestamps as &quot;timestamp with time zone&quot; (it&#39;s done automatically then). But, here is fixed version for Hibernate 4.3.5 GA as complete single class and overridding spring factory bean <a href=\"http://pastebin.com/tT4ACXn6\" rel=\"nofollow noreferrer\">pastebin.com/tT4ACXn6</a>"},{"owner":{"account_id":1136732,"reputation":743,"user_id":1121659,"accept_rate":50,"display_name":"rohith"},"score":0,"creation_date":1461969363,"post_id":16955113,"comment_id":61455538,"body_markdown":"one way i could get this to work is by adding  @Type(type=&quot;xx.xx.UtcTimestampType&quot;) on the Date field. I am not sure how to register this new type with configuration.","body":"one way i could get this to work is by adding  @Type(type=&quot;xx.xx.UtcTimestampType&quot;) on the Date field. I am not sure how to register this new type with configuration."},{"owner":{"account_id":1136732,"reputation":743,"user_id":1121659,"accept_rate":50,"display_name":"rohith"},"score":0,"creation_date":1465240469,"post_id":16955113,"comment_id":62808727,"body_markdown":"Also, you could use @TypeDef to avoid hard coding of class name. If you think this type is used across multiple entity classes in the same package, then create package-info.java like discussed here: http://vard-lokkur.blogspot.com/2013/04/jpa-hibernate-type-mapping-on-package.html","body":"Also, you could use @TypeDef to avoid hard coding of class name. If you think this type is used across multiple entity classes in the same package, then create package-info.java like discussed here: <a href=\"http://vard-lokkur.blogspot.com/2013/04/jpa-hibernate-type-mapping-on-package.html\" rel=\"nofollow noreferrer\">vard-lokkur.blogspot.com/2013/04/&hellip;</a>"}],"tags":[],"owner":{"account_id":65816,"reputation":4229,"user_id":193435,"display_name":"Shane"},"comment_count":8,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1370500094,"creation_date":1370500094,"answer_id":16955113,"question_id":508019,"body_markdown":"Adding an answer that&#39;s **completely** based on and indebted to divestoclimb with a hint from Shaun Stone. Just wanted to spell it out in detail since it&#39;s a common problem and the solution is a bit confusing.\r\n\r\nThis is using Hibernate 4.1.4.Final, though I suspect anything after 3.6 will work.\r\n\r\nFirst, create divestoclimb&#39;s UtcTimestampTypeDescriptor\r\n\r\n    public class UtcTimestampTypeDescriptor extends TimestampTypeDescriptor {\r\n        public static final UtcTimestampTypeDescriptor INSTANCE = new UtcTimestampTypeDescriptor();\r\n\r\n        private static final TimeZone UTC = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n\r\n        public &lt;X&gt; ValueBinder&lt;X&gt; getBinder(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\r\n            return new BasicBinder&lt;X&gt;( javaTypeDescriptor, this ) {\r\n                @Override\r\n                protected void doBind(PreparedStatement st, X value, int index, WrapperOptions options) throws SQLException {\r\n                    st.setTimestamp( index, javaTypeDescriptor.unwrap( value, Timestamp.class, options ), Calendar.getInstance(UTC) );\r\n                }\r\n            };\r\n        }\r\n\r\n        public &lt;X&gt; ValueExtractor&lt;X&gt; getExtractor(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\r\n            return new BasicExtractor&lt;X&gt;( javaTypeDescriptor, this ) {\r\n                @Override\r\n                protected X doExtract(ResultSet rs, String name, WrapperOptions options) throws SQLException {\r\n                    return javaTypeDescriptor.wrap( rs.getTimestamp( name, Calendar.getInstance(UTC) ), options );\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nThen create UtcTimestampType, which uses UtcTimestampTypeDescriptor instead of TimestampTypeDescriptor as the SqlTypeDescriptor in the super constructor call but otherwise delegates everything to TimestampType:\r\n\r\n    public class UtcTimestampType\r\n            extends AbstractSingleColumnStandardBasicType&lt;Date&gt;\r\n            implements VersionType&lt;Date&gt;, LiteralType&lt;Date&gt; {\r\n        public static final UtcTimestampType INSTANCE = new UtcTimestampType();\r\n    \r\n        public UtcTimestampType() {\r\n            super( UtcTimestampTypeDescriptor.INSTANCE, JdbcTimestampTypeDescriptor.INSTANCE );\r\n        }\r\n    \r\n        public String getName() {\r\n            return TimestampType.INSTANCE.getName();\r\n        }\r\n    \r\n        @Override\r\n        public String[] getRegistrationKeys() {\r\n            return TimestampType.INSTANCE.getRegistrationKeys();\r\n        }\r\n    \r\n        public Date next(Date current, SessionImplementor session) {\r\n            return TimestampType.INSTANCE.next(current, session);\r\n        }\r\n    \r\n        public Date seed(SessionImplementor session) {\r\n            return TimestampType.INSTANCE.seed(session);\r\n        }\r\n    \r\n        public Comparator&lt;Date&gt; getComparator() {\r\n            return TimestampType.INSTANCE.getComparator();        \r\n        }\r\n    \r\n        public String objectToSQLString(Date value, Dialect dialect) throws Exception {\r\n            return TimestampType.INSTANCE.objectToSQLString(value, dialect);\r\n        }\r\n    \r\n        public Date fromStringValue(String xml) throws HibernateException {\r\n            return TimestampType.INSTANCE.fromStringValue(xml);\r\n        }\r\n    }\r\n\r\nFinally, when you initialize your Hibernate configuration, register UtcTimestampType as a type override:\r\n\r\n    configuration.registerTypeOverride(new UtcTimestampType());\r\n\r\nNow timestamps shouldn&#39;t be concerned with the JVM&#39;s time zone on their way to and from the database. HTH.","title":"How to store date/time and timestamps in UTC time zone with JPA and Hibernate","body":"<p>Adding an answer that's <strong>completely</strong> based on and indebted to divestoclimb with a hint from Shaun Stone. Just wanted to spell it out in detail since it's a common problem and the solution is a bit confusing.</p>\n\n<p>This is using Hibernate 4.1.4.Final, though I suspect anything after 3.6 will work.</p>\n\n<p>First, create divestoclimb's UtcTimestampTypeDescriptor</p>\n\n<pre><code>public class UtcTimestampTypeDescriptor extends TimestampTypeDescriptor {\n    public static final UtcTimestampTypeDescriptor INSTANCE = new UtcTimestampTypeDescriptor();\n\n    private static final TimeZone UTC = TimeZone.getTimeZone(\"UTC\");\n\n    public &lt;X&gt; ValueBinder&lt;X&gt; getBinder(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\n        return new BasicBinder&lt;X&gt;( javaTypeDescriptor, this ) {\n            @Override\n            protected void doBind(PreparedStatement st, X value, int index, WrapperOptions options) throws SQLException {\n                st.setTimestamp( index, javaTypeDescriptor.unwrap( value, Timestamp.class, options ), Calendar.getInstance(UTC) );\n            }\n        };\n    }\n\n    public &lt;X&gt; ValueExtractor&lt;X&gt; getExtractor(final JavaTypeDescriptor&lt;X&gt; javaTypeDescriptor) {\n        return new BasicExtractor&lt;X&gt;( javaTypeDescriptor, this ) {\n            @Override\n            protected X doExtract(ResultSet rs, String name, WrapperOptions options) throws SQLException {\n                return javaTypeDescriptor.wrap( rs.getTimestamp( name, Calendar.getInstance(UTC) ), options );\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>Then create UtcTimestampType, which uses UtcTimestampTypeDescriptor instead of TimestampTypeDescriptor as the SqlTypeDescriptor in the super constructor call but otherwise delegates everything to TimestampType:</p>\n\n<pre><code>public class UtcTimestampType\n        extends AbstractSingleColumnStandardBasicType&lt;Date&gt;\n        implements VersionType&lt;Date&gt;, LiteralType&lt;Date&gt; {\n    public static final UtcTimestampType INSTANCE = new UtcTimestampType();\n\n    public UtcTimestampType() {\n        super( UtcTimestampTypeDescriptor.INSTANCE, JdbcTimestampTypeDescriptor.INSTANCE );\n    }\n\n    public String getName() {\n        return TimestampType.INSTANCE.getName();\n    }\n\n    @Override\n    public String[] getRegistrationKeys() {\n        return TimestampType.INSTANCE.getRegistrationKeys();\n    }\n\n    public Date next(Date current, SessionImplementor session) {\n        return TimestampType.INSTANCE.next(current, session);\n    }\n\n    public Date seed(SessionImplementor session) {\n        return TimestampType.INSTANCE.seed(session);\n    }\n\n    public Comparator&lt;Date&gt; getComparator() {\n        return TimestampType.INSTANCE.getComparator();        \n    }\n\n    public String objectToSQLString(Date value, Dialect dialect) throws Exception {\n        return TimestampType.INSTANCE.objectToSQLString(value, dialect);\n    }\n\n    public Date fromStringValue(String xml) throws HibernateException {\n        return TimestampType.INSTANCE.fromStringValue(xml);\n    }\n}\n</code></pre>\n\n<p>Finally, when you initialize your Hibernate configuration, register UtcTimestampType as a type override:</p>\n\n<pre><code>configuration.registerTypeOverride(new UtcTimestampType());\n</code></pre>\n\n<p>Now timestamps shouldn't be concerned with the JVM's time zone on their way to and from the database. HTH.</p>\n"},{"comments":[{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":29,"creation_date":1493996167,"post_id":40438746,"comment_id":74655147,"body_markdown":"I wrote that one too :D Now, guess who added support for this feature in Hibernate?","body":"I wrote that one too :D Now, guess who added support for this feature in Hibernate?"},{"owner":{"account_id":3775541,"reputation":4682,"user_id":3136474,"accept_rate":83,"display_name":"Dinei"},"score":0,"creation_date":1493996961,"post_id":40438746,"comment_id":74655700,"body_markdown":"Oh, just now I realized the name and picture are the same in your profile and those articles... Good job Vlad :)","body":"Oh, just now I realized the name and picture are the same in your profile and those articles... Good job Vlad :)"},{"owner":{"account_id":5967997,"reputation":3627,"user_id":4691230,"accept_rate":40,"display_name":"The Coder"},"score":1,"creation_date":1539457711,"post_id":40438746,"comment_id":92512717,"body_markdown":"@VladMihalcea if it&#39;s for Mysql, one need to tell MySql to use timezone by using `useTimezone=true` in the connection string. Then only setting property `hibernate.jdbc.time_zone` will work","body":"@VladMihalcea if it&#39;s for Mysql, one need to tell MySql to use timezone by using <code>useTimezone=true</code> in the connection string. Then only setting property <code>hibernate.jdbc.time_zone</code> will work"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1539459564,"post_id":40438746,"comment_id":92513178,"body_markdown":"Actually, you need to set `useLegacyDatetimeCode` to false","body":"Actually, you need to set <code>useLegacyDatetimeCode</code> to false"},{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":5,"creation_date":1556497608,"post_id":40438746,"comment_id":98447773,"body_markdown":"hibernate.jdbc.time_zone appears to be ignored or has no effect when used with PostgreSQL","body":"hibernate.jdbc.time_zone appears to be ignored or has no effect when used with PostgreSQL"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1556504783,"post_id":40438746,"comment_id":98448804,"body_markdown":"Check out [my High-Performance Java Persistence GitHub repositor](https://github.com/vladmihalcea/high-performance-java-persistence). There&#39;s a test case you can run on PostgreSQL and shows that the property works just fine.","body":"Check out <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence\" rel=\"nofollow noreferrer\">my High-Performance Java Persistence GitHub repositor</a>. There&#39;s a test case you can run on PostgreSQL and shows that the property works just fine."},{"owner":{"account_id":282141,"reputation":5676,"user_id":578855,"accept_rate":30,"display_name":"muasif80"},"score":0,"creation_date":1595908153,"post_id":40438746,"comment_id":111629238,"body_markdown":"I stored just a date 1985-06-01 in column type of date in postgres. When I retrieve it it gives me 1985-05-31. The timezone are EST for Java and Postgres. Does it mean jpa automatically converts the date using EST?","body":"I stored just a date 1985-06-01 in column type of date in postgres. When I retrieve it it gives me 1985-05-31. The timezone are EST for Java and Postgres. Does it mean jpa automatically converts the date using EST?"},{"owner":{"account_id":282141,"reputation":5676,"user_id":578855,"accept_rate":30,"display_name":"muasif80"},"score":0,"creation_date":1595908267,"post_id":40438746,"comment_id":111629252,"body_markdown":"If I set this property timezone to utc what would happen to the existing data?","body":"If I set this property timezone to utc what would happen to the existing data?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1595910897,"post_id":40438746,"comment_id":111629730,"body_markdown":"Adding this to a legacy product requires evaluating whether the existing timestamps won&#39;t drift. So, it all depends on how you saved data previously.","body":"Adding this to a legacy product requires evaluating whether the existing timestamps won&#39;t drift. So, it all depends on how you saved data previously."},{"owner":{"account_id":1522907,"reputation":1475,"user_id":1422098,"display_name":"Mr. Anderson"},"score":0,"creation_date":1612720272,"post_id":40438746,"comment_id":116849063,"body_markdown":"If you use **Quarkus**, you can make use of [quarkus property directly](https://quarkus.io/guides/all-config#quarkus-hibernate-orm_quarkus.hibernate-orm.jdbc.timezone).","body":"If you use <b>Quarkus</b>, you can make use of <a href=\"https://quarkus.io/guides/all-config#quarkus-hibernate-orm_quarkus.hibernate-orm.jdbc.timezone\" rel=\"nofollow noreferrer\">quarkus property directly</a>."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":10,"down_vote_count":0,"up_vote_count":113,"is_accepted":true,"score":113,"last_activity_date":1630963911,"creation_date":1478352273,"answer_id":40438746,"question_id":508019,"body_markdown":"Since Hibernate 5.2, you can now force the UTC time zone by adding the following configuration property into the `properties.xml` JPA configuration file:\r\n\r\n    &lt;property name=&quot;hibernate.jdbc.time_zone&quot; value=&quot;UTC&quot;/&gt;\r\n\r\nIf you&#39;re using Spring Boot, then add this property to your `application.properties` file:\r\n\r\n    spring.jpa.properties.hibernate.jdbc.time_zone=UTC","title":"How to store date/time and timestamps in UTC time zone with JPA and Hibernate","body":"<p>Since Hibernate 5.2, you can now force the UTC time zone by adding the following configuration property into the <code>properties.xml</code> JPA configuration file:</p>\n<pre><code>&lt;property name=&quot;hibernate.jdbc.time_zone&quot; value=&quot;UTC&quot;/&gt;\n</code></pre>\n<p>If you're using Spring Boot, then add this property to your <code>application.properties</code> file:</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.time_zone=UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2541333,"reputation":143,"user_id":2207078,"accept_rate":73,"display_name":"orim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478611892,"creation_date":1478611892,"answer_id":40488244,"question_id":508019,"body_markdown":"I encountered just the same problem when I wanted to store the dates in the DB as UTC and avoid using `varchar` and explicit `String &lt;-&gt; java.util.Date` conversions, or setting my whole Java app in the UTC time zone (because this could lead to another unexpected issues, if the JVM is shared across many applications). \r\n\r\nSo, there is an open source project `DbAssist`, which allows you to easily fix the read/write as UTC date from the database. Since you are using JPA Annotations to map the fields in the entity, all you have to do is to include the following dependency to your Maven `pom` file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.montrosesoftware&lt;/groupId&gt;\r\n        &lt;artifactId&gt;DbAssist-5.2.2&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen you apply the fix (for Hibernate + Spring Boot example) by adding `@EnableAutoConfiguration` annotation before the Spring application class. For other setups installation instructions and more use examples, just refer to the project&#39;s [github](https://github.com/montrosesoftware/DbAssist).\r\n\r\nThe good thing is that you don&#39;t have to modify the entities at all; you can leave their `java.util.Date` fields as they are.\r\n\r\n`5.2.2` has to correspond to the Hibernate version you are using. I am not sure, which version you are using in your project, but the full list of provided fixes is available on the wiki page of the project&#39;s [github](https://github.com/montrosesoftware/DbAssist/wiki#add-the-dependency). The reason why the fix is different for various Hibernate versions is because Hibernate creators changed the API a couple of times between the releases.\r\n\r\nInternally, the fix uses hints from divestoclimb, Shane and a few other sources in order to create a custom `UtcDateType`. Then it maps the standard `java.util.Date` with the custom `UtcDateType` which handles all the necessary time zone handling. \r\nThe mapping of the types is achieved using `@Typedef` annotation in the provided `package-info.java` file.\r\n\r\n    @TypeDef(name = &quot;UtcDateType&quot;, defaultForType = Date.class, typeClass = UtcDateType.class),\r\n    package com.montrosesoftware.dbassist.types;\r\n\r\nYou can find an article [here](http://blog.montrosesoftware.com/2016/11/08/dates-and-times-in-java-unexpected-timezone-shift/) which explains why such a time shift occurs at all and what are the approaches to solve it.","title":"How to store date/time and timestamps in UTC time zone with JPA and Hibernate","body":"<p>I encountered just the same problem when I wanted to store the dates in the DB as UTC and avoid using <code>varchar</code> and explicit <code>String &lt;-&gt; java.util.Date</code> conversions, or setting my whole Java app in the UTC time zone (because this could lead to another unexpected issues, if the JVM is shared across many applications). </p>\n\n<p>So, there is an open source project <code>DbAssist</code>, which allows you to easily fix the read/write as UTC date from the database. Since you are using JPA Annotations to map the fields in the entity, all you have to do is to include the following dependency to your Maven <code>pom</code> file:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.montrosesoftware&lt;/groupId&gt;\n    &lt;artifactId&gt;DbAssist-5.2.2&lt;/artifactId&gt;\n    &lt;version&gt;1.0-RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then you apply the fix (for Hibernate + Spring Boot example) by adding <code>@EnableAutoConfiguration</code> annotation before the Spring application class. For other setups installation instructions and more use examples, just refer to the project's <a href=\"https://github.com/montrosesoftware/DbAssist\" rel=\"nofollow noreferrer\">github</a>.</p>\n\n<p>The good thing is that you don't have to modify the entities at all; you can leave their <code>java.util.Date</code> fields as they are.</p>\n\n<p><code>5.2.2</code> has to correspond to the Hibernate version you are using. I am not sure, which version you are using in your project, but the full list of provided fixes is available on the wiki page of the project's <a href=\"https://github.com/montrosesoftware/DbAssist/wiki#add-the-dependency\" rel=\"nofollow noreferrer\">github</a>. The reason why the fix is different for various Hibernate versions is because Hibernate creators changed the API a couple of times between the releases.</p>\n\n<p>Internally, the fix uses hints from divestoclimb, Shane and a few other sources in order to create a custom <code>UtcDateType</code>. Then it maps the standard <code>java.util.Date</code> with the custom <code>UtcDateType</code> which handles all the necessary time zone handling. \nThe mapping of the types is achieved using <code>@Typedef</code> annotation in the provided <code>package-info.java</code> file.</p>\n\n<pre><code>@TypeDef(name = \"UtcDateType\", defaultForType = Date.class, typeClass = UtcDateType.class),\npackage com.montrosesoftware.dbassist.types;\n</code></pre>\n\n<p>You can find an article <a href=\"http://blog.montrosesoftware.com/2016/11/08/dates-and-times-in-java-unexpected-timezone-shift/\" rel=\"nofollow noreferrer\">here</a> which explains why such a time shift occurs at all and what are the approaches to solve it.</p>\n"},{"comments":[{"owner":{"account_id":478986,"reputation":356,"user_id":891388,"accept_rate":33,"display_name":"tiennv"},"score":0,"creation_date":1640096188,"post_id":55381561,"comment_id":124510680,"body_markdown":"It&#39;s work for me with \n```\nprivate Date lastUpdatedAt;\n```","body":"It&#39;s work for me with  ``` private Date lastUpdatedAt; ```"},{"owner":{"account_id":9845601,"reputation":77,"user_id":7293248,"display_name":"Josean Mu&#241;oz"},"score":1,"creation_date":1646355658,"post_id":55381561,"comment_id":126109015,"body_markdown":"I love you so much","body":"I love you so much"},{"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"score":0,"creation_date":1675669799,"post_id":55381561,"comment_id":132971160,"body_markdown":"You should not use LocalDateTime in entities, but rather use OffsetDateTime (=defaults to UTC). LocalDateTime is using your local timezone settings, and it also will give you &quot;wrong&quot; datetime when you use datetimes before 1899.","body":"You should not use LocalDateTime in entities, but rather use OffsetDateTime (=defaults to UTC). LocalDateTime is using your local timezone settings, and it also will give you &quot;wrong&quot; datetime when you use datetimes before 1899."}],"tags":[],"owner":{"account_id":10147386,"reputation":475,"user_id":7495124,"display_name":"JavaGeek"},"comment_count":3,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1553702299,"creation_date":1553702299,"answer_id":55381561,"question_id":508019,"body_markdown":"With Spring Boot JPA, use the below code in your application.properties file and obviously you can modify timezone to your choice\r\n\r\n    spring.jpa.properties.hibernate.jdbc.time_zone = UTC\r\n\r\nThen in your Entity class file, \r\n\r\n    @Column\r\n    private LocalDateTime created;","title":"How to store date/time and timestamps in UTC time zone with JPA and Hibernate","body":"<p>With Spring Boot JPA, use the below code in your application.properties file and obviously you can modify timezone to your choice</p>\n\n<pre><code>spring.jpa.properties.hibernate.jdbc.time_zone = UTC\n</code></pre>\n\n<p>Then in your Entity class file, </p>\n\n<pre><code>@Column\nprivate LocalDateTime created;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1675624456,"post_id":75354188,"comment_id":132964889,"body_markdown":"Still better than setting `user.timezone` is writing your code in a way that is independent of the JVMs default time zone.","body":"Still better than setting <code>user.timezone</code> is writing your code in a way that is independent of the JVMs default time zone."}],"tags":[],"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675752232,"creation_date":1675618301,"answer_id":75354188,"question_id":508019,"body_markdown":"Here is the complete checklist for storing dates in your database in a proper way: \r\n\r\n - first, make sure your OS timezone is st properly: either set *TZ* env variable in your Dockerfile or start your Java application with *-Duser.timezone=UTC*.\r\n - As mentioned earlier: also set the timezone for JPA with *hibernate.jdbc.time_zone = UTC*\r\n - Use *OffsetDateTime* for storing dates as UTC in your entities. Dont use *Date, Calendar &amp; ZonedDateTime* !","title":"How to store date/time and timestamps in UTC time zone with JPA and Hibernate","body":"<p>Here is the complete checklist for storing dates in your database in a proper way:</p>\n<ul>\n<li>first, make sure your OS timezone is st properly: either set <em>TZ</em> env variable in your Dockerfile or start your Java application with <em>-Duser.timezone=UTC</em>.</li>\n<li>As mentioned earlier: also set the timezone for JPA with <em>hibernate.jdbc.time_zone = UTC</em></li>\n<li>Use <em>OffsetDateTime</em> for storing dates as UTC in your entities. Dont use <em>Date, Calendar &amp; ZonedDateTime</em> !</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695215198,"creation_date":1695215198,"answer_id":77142765,"question_id":508019,"body_markdown":"It is now 2023. What you want to store from a Java perspecitive is an `Instant`, right?\r\n\r\nSo just do that:\r\n\r\n```java\r\npublic class Event {\r\n    @Id\r\n    public int id;\r\n\r\n    @Column(&quot;event_timestamp&quot;)\r\n    public Instant eventTimestamp;\r\n}\r\n\r\n```\r\n\r\nThis will work with Hibernate 5.2 or later.  You can find many tales on the Internet of having to set `hibernate.jdbc.time_zone` system property to `UTC`. This is not necessary with the above, at least not with Hibernate 6. The reason is that Hibernate can see your intent (you specify `Instant`, not any of the other JSR-310 types), so it knows it has to use a static UTC_CAL when reading or writing the values from/to the database. It will work regardless of your JVM timezone or the timezone of the database server.\r\n\r\nThe world is luckily much simpler (now) than the other answers on this page leads you to believe.","title":"How to store date/time and timestamps in UTC time zone with JPA and Hibernate","body":"<p>It is now 2023. What you want to store from a Java perspecitive is an <code>Instant</code>, right?</p>\n<p>So just do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Event {\n    @Id\n    public int id;\n\n    @Column(&quot;event_timestamp&quot;)\n    public Instant eventTimestamp;\n}\n\n</code></pre>\n<p>This will work with Hibernate 5.2 or later.  You can find many tales on the Internet of having to set <code>hibernate.jdbc.time_zone</code> system property to <code>UTC</code>. This is not necessary with the above, at least not with Hibernate 6. The reason is that Hibernate can see your intent (you specify <code>Instant</code>, not any of the other JSR-310 types), so it knows it has to use a static UTC_CAL when reading or writing the values from/to the database. It will work regardless of your JVM timezone or the timezone of the database server.</p>\n<p>The world is luckily much simpler (now) than the other answers on this page leads you to believe.</p>\n"}],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222722,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":40438746,"answer_count":13,"score":126,"last_activity_date":1695215198,"creation_date":1233681351,"question_id":508019,"body_markdown":"How can I configure JPA/Hibernate to store a date/time in the database as UTC (GMT) time zone? Consider this annotated JPA entity:\r\n\r\n    public class Event {\r\n        @Id\r\n        public int id;\r\n    \r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        public java.util.Date date;\r\n    }\r\n\r\nIf the date is 2008-Feb-03 9:30am Pacific Standard Time (PST), then I want the UTC time of 2008-Feb-03 5:30pm stored in the database. Likewise, when the date is retrieved from the database, I want it interpreted as UTC. So in this case 530pm is 530pm UTC. When it&#39;s displayed it will be formatted as 9:30am PST.\r\n\r\n","title":"How to store date/time and timestamps in UTC time zone with JPA and Hibernate","body":"<p>How can I configure JPA/Hibernate to store a date/time in the database as UTC (GMT) time zone? Consider this annotated JPA entity:</p>\n\n<pre><code>public class Event {\n    @Id\n    public int id;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    public java.util.Date date;\n}\n</code></pre>\n\n<p>If the date is 2008-Feb-03 9:30am Pacific Standard Time (PST), then I want the UTC time of 2008-Feb-03 5:30pm stored in the database. Likewise, when the date is retrieved from the database, I want it interpreted as UTC. So in this case 530pm is 530pm UTC. When it's displayed it will be formatted as 9:30am PST.</p>\n"},{"tags":["java","spring-rest"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":1,"creation_date":1641187383,"post_id":70561948,"comment_id":124734289,"body_markdown":"you can send GET with body https://stackoverflow.com/questions/978061/http-get-with-request-body","body":"you can send GET with body <a href=\"https://stackoverflow.com/questions/978061/http-get-with-request-body\" title=\"http get with request body\">stackoverflow.com/questions/978061/http-get-with-request-bod&zwnj;&#8203;y</a>"}],"answers":[{"comments":[{"owner":{"account_id":9289570,"reputation":125,"user_id":6898377,"display_name":"nonder"},"score":0,"creation_date":1641363115,"post_id":70562025,"comment_id":124782632,"body_markdown":"Thanks for the answer. But this was not what I meant. I added an example to the question to be more clear.","body":"Thanks for the answer. But this was not what I meant. I added an example to the question to be more clear."}],"tags":[],"owner":{"account_id":18975310,"reputation":68,"user_id":13847924,"display_name":"Mohan k"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641200783,"creation_date":1641188101,"answer_id":70562025,"question_id":70561948,"body_markdown":"You can read queryParam/Request HTTP header as below:\r\n    \r\n    @GetMapping(value = &quot;{URL}&quot;)\r\n    public ResponseEntity getMethod(@RequestParam(&quot;consumes&quot;) String consumes) {\r\n            return ResponseEntity.ok().build();\r\n    }","title":"Why does @GetMapping have a &#39;consumes&#39; attribute?","body":"<p>You can read queryParam/Request HTTP header as below:</p>\n<pre><code>@GetMapping(value = &quot;{URL}&quot;)\npublic ResponseEntity getMethod(@RequestParam(&quot;consumes&quot;) String consumes) {\n        return ResponseEntity.ok().build();\n}\n</code></pre>\n"}],"owner":{"account_id":9289570,"reputation":125,"user_id":6898377,"display_name":"nonder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":1,"score":4,"last_activity_date":1695215116,"creation_date":1641187247,"question_id":70561948,"body_markdown":"In spring framework, @GetMapping doesn&#39;t have a body. But it has a &#39;consumes&#39; attribute. So how does it use this attribute without a body?\r\n\r\nexample: \r\n\r\n    @GetMapping(value = &quot;/methodA&quot;, consumes = &quot;application/json&quot;)","title":"Why does @GetMapping have a &#39;consumes&#39; attribute?","body":"<p>In spring framework, @GetMapping doesn't have a body. But it has a 'consumes' attribute. So how does it use this attribute without a body?</p>\n<p>example:</p>\n<pre><code>@GetMapping(value = &quot;/methodA&quot;, consumes = &quot;application/json&quot;)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1685462270,"post_id":76366440,"comment_id":134661966,"body_markdown":"About grouping logically related records see my solution at https://stackoverflow.com/a/46346438/685806 but it does not use `RepositoryItemReader`.","body":"About grouping logically related records see my solution at <a href=\"https://stackoverflow.com/a/46346438/685806\">stackoverflow.com/a/46346438/685806</a> but it does not use <code>RepositoryItemReader</code>."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1685463741,"post_id":76366440,"comment_id":134662340,"body_markdown":"@Pino I need to group the records based on a database column, and NOT database rows.","body":"@Pino I need to group the records based on a database column, and NOT database rows."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685468952,"post_id":76366440,"comment_id":134663409,"body_markdown":"Not sure if I got your point but a simple `order by bookingId` clause added to the SQL statement of JdbcItemReader should do the trick.","body":"Not sure if I got your point but a simple <code>order by bookingId</code> clause added to the SQL statement of JdbcItemReader should do the trick."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1685469102,"post_id":76366440,"comment_id":134663443,"body_markdown":"@Mar-Z \ncan you explain how this would work? when we order it by `bookingId`, how to ensure that the processor gets the list of records that has only a particular `bookingId` (list containing all same) ?  I need to ensure that the next execution of processor should take a list with different `bookingId`","body":"@Mar-Z  can you explain how this would work? when we order it by <code>bookingId</code>, how to ensure that the processor gets the list of records that has only a particular <code>bookingId</code> (list containing all same) ?  I need to ensure that the next execution of processor should take a list with different <code>bookingId</code>"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685470469,"post_id":76366440,"comment_id":134663711,"body_markdown":"The processor doesn&#39;t work on a list of items. It takes a single item (= database row) from the reader. Only the writer works on a list of items gathered in a chunk. My proposal of ordering was to process items in a desired sequence.","body":"The processor doesn&#39;t work on a list of items. It takes a single item (= database row) from the reader. Only the writer works on a list of items gathered in a chunk. My proposal of ordering was to process items in a desired sequence."},{"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"score":0,"creation_date":1685508832,"post_id":76366440,"comment_id":134668207,"body_markdown":"@Mar-Z I want one bookingId records to be executed in one thread/execution clubbed as a group. I do not want the same bookingId to be executed across multiple threads.","body":"@Mar-Z I want one bookingId records to be executed in one thread/execution clubbed as a group. I do not want the same bookingId to be executed across multiple threads."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1685546617,"post_id":76366440,"comment_id":134676175,"body_markdown":"Rahul, my solution groups records having the same valute on one or more db column, just like you want. Read it better.","body":"Rahul, my solution groups records having the same valute on one or more db column, just like you want. Read it better."}],"answers":[{"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1685546720,"post_id":76370656,"comment_id":134676206,"body_markdown":"I don&#39;t agree, see my solution at https://stackoverflow.com/a/46346438/685806","body":"I don&#39;t agree, see my solution at <a href=\"https://stackoverflow.com/a/46346438/685806\">stackoverflow.com/a/46346438/685806</a>"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1685553655,"post_id":76370656,"comment_id":134677751,"body_markdown":"@Pino That solution falls in the &quot;abusing the model for a use case that is was not designed for&quot; category, and has a few issues: 1) it requires the input to be sorted (as documented, but this is a hard constraint), 2) it returns a list of items and not individual items and 3) one could end up with a chunk of lists of items from different groups (for example, with a chunkSize=2 I can have one list of 10 items with groupId=x and another list of 50 items of gropupId=y) which is not what the OP asked for in : &quot;the writer should write output group by group.&quot;.","body":"@Pino That solution falls in the &quot;abusing the model for a use case that is was not designed for&quot; category, and has a few issues: 1) it requires the input to be sorted (as documented, but this is a hard constraint), 2) it returns a list of items and not individual items and 3) one could end up with a chunk of lists of items from different groups (for example, with a chunkSize=2 I can have one list of 10 items with groupId=x and another list of 50 items of gropupId=y) which is not what the OP asked for in : &quot;the writer should write output group by group.&quot;."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1685553763,"post_id":76370656,"comment_id":134677778,"body_markdown":"Again, and as mentioned in the answer, while it is technically possible to implement grouping/aggregation with that model, the model itself is not suitable for such use cases.","body":"Again, and as mentioned in the answer, while it is technically possible to implement grouping/aggregation with that model, the model itself is not suitable for such use cases."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1685645014,"post_id":76370656,"comment_id":134693241,"body_markdown":"About &quot;abusing the model&quot;, I think it could be said of any class that extends a given class to add a new feature. About chunkSize, with my solution it refers to the collecting objects, not to the underlying records.","body":"About &quot;abusing the model&quot;, I think it could be said of any class that extends a given class to add a new feature. About chunkSize, with my solution it refers to the collecting objects, not to the underlying records."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685513917,"creation_date":1685513917,"answer_id":76370656,"question_id":76366440,"body_markdown":"The chunk-oriented processing model is **not** suitable for this use case. No matter how you group items in your query (sql `group by` for instance) , items from the same group could span multiple chunks when returned from the reader. Therefore, it is impossible to have a chunk per group.\r\n\r\nOf course it is technically possible to abuse the pattern and find a way to implement that requirement, but every solution would not be clean as it would use a model for use case that is was not designed for.\r\n\r\nThe &quot;cleanest&quot; way I see to address this is to use a partitioned step, where partitions are created by the grouping criteria (`bookingId` in your case).","title":"How to group the records in spring batch 5.x so that every thread/execution is dedicated for one group of records","body":"<p>The chunk-oriented processing model is <strong>not</strong> suitable for this use case. No matter how you group items in your query (sql <code>group by</code> for instance) , items from the same group could span multiple chunks when returned from the reader. Therefore, it is impossible to have a chunk per group.</p>\n<p>Of course it is technically possible to abuse the pattern and find a way to implement that requirement, but every solution would not be clean as it would use a model for use case that is was not designed for.</p>\n<p>The &quot;cleanest&quot; way I see to address this is to use a partitioned step, where partitions are created by the grouping criteria (<code>bookingId</code> in your case).</p>\n"},{"comments":[{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":1,"creation_date":1695382606,"post_id":77142746,"comment_id":136020502,"body_markdown":"It looks more of a comment than an answer to the question","body":"It looks more of a comment than an answer to the question"}],"tags":[],"owner":{"account_id":29491517,"reputation":1,"user_id":22600442,"display_name":"Shuvam Karmakar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695215084,"creation_date":1695215084,"answer_id":77142746,"question_id":76366440,"body_markdown":"@Pino&#39;s solution has to be modified a little bit with usage of SingleItemPeekableItemReader to peek to the next record outside the original chunk  to handle the concerns raised by @Mahmoud Ben Hassine regarding chunking but it is not the &quot;cleanest&quot; solution.","title":"How to group the records in spring batch 5.x so that every thread/execution is dedicated for one group of records","body":"<p>@Pino's solution has to be modified a little bit with usage of SingleItemPeekableItemReader to peek to the next record outside the original chunk  to handle the concerns raised by @Mahmoud Ben Hassine regarding chunking but it is not the &quot;cleanest&quot; solution.</p>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695215084,"creation_date":1685460841,"question_id":76366440,"body_markdown":"I&#39;m using Spring batch 5 &amp; I have a usecase where I need to group the input records (from database) based on `bookingId`. Now the processor should pick the records group by group from the reader output. Also, the writer should write output group by group. \r\n\r\nHow can we achieve this with `RepositoryItemReader`. I&#39;m struggling to find a sample code for Spring Batch 5. It&#39;s a shame that there are no enough samples on this standard usecase. I would appreciate your help in this, in case you have worked on similar usecases. \r\n","title":"How to group the records in spring batch 5.x so that every thread/execution is dedicated for one group of records","body":"<p>I'm using Spring batch 5 &amp; I have a usecase where I need to group the input records (from database) based on <code>bookingId</code>. Now the processor should pick the records group by group from the reader output. Also, the writer should write output group by group.</p>\n<p>How can we achieve this with <code>RepositoryItemReader</code>. I'm struggling to find a sample code for Spring Batch 5. It's a shame that there are no enough samples on this standard usecase. I would appreciate your help in this, in case you have worked on similar usecases.</p>\n"},{"tags":["python","java","java-native-interface","apk","native"],"comments":[{"owner":{"account_id":1113934,"reputation":663,"user_id":1103781,"display_name":"Zach B."},"score":0,"creation_date":1695215109,"post_id":77142161,"comment_id":135994282,"body_markdown":"Native android libraries are not windows DLLs. I don&#39;t believe you can load a native android library on windows the way you are trying. https://developer.android.com/ndk/guides  if you&#39;re trying to port this to python, is it possible for you to remove the calls to the native library and replace them with a comparable python library?","body":"Native android libraries are not windows DLLs. I don&#39;t believe you can load a native android library on windows the way you are trying. <a href=\"https://developer.android.com/ndk/guides\" rel=\"nofollow noreferrer\">developer.android.com/ndk/guides</a>  if you&#39;re trying to port this to python, is it possible for you to remove the calls to the native library and replace them with a comparable python library?"}],"answers":[{"comments":[{"owner":{"account_id":14936234,"reputation":1,"user_id":10784154,"display_name":"Drew"},"score":0,"creation_date":1695255277,"post_id":77142716,"comment_id":136001392,"body_markdown":"I have a x86 and x64 environment libbtap.so which should be compatible with my laptop. Can you please guide me on what I need to do?","body":"I have a x86 and x64 environment libbtap.so which should be compatible with my laptop. Can you please guide me on what I need to do?"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1695286577,"post_id":77142716,"comment_id":136005080,"body_markdown":"Still the same, except you can use your native environment and JVM now.","body":"Still the same, except you can use your native environment and JVM now."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1695287181,"post_id":77142716,"comment_id":136005215,"body_markdown":"Anyway, the quickest way forward is to add a `main` function to that jnibridge class which creates an instance of the class and calls `performAction` with some parameters. You can then compile the Java file and run it as usual. I would not be surprised if it bombs out because it is missing several other classes, so you will need to make those available as well.","body":"Anyway, the quickest way forward is to add a <code>main</code> function to that jnibridge class which creates an instance of the class and calls <code>performAction</code> with some parameters. You can then compile the Java file and run it as usual. I would not be surprised if it bombs out because it is missing several other classes, so you will need to make those available as well."}],"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695214928,"creation_date":1695214928,"answer_id":77142716,"question_id":77142161,"body_markdown":"You cannot simply load a library compiled for a completely different processor and expect it to work. You will need to set up an armeabi-v7a environment using, say, QEMU so you have a host process that can load the DLL.\r\n\r\nBut that is not all! The very first thing this `performAction` function will do is call into the JVM function pointer table (also called `JNIEnv*`) to retrieve information the supplied String object. Very probably that is not the *only* JVM call it will make. So you will also need to load this DLL from a JVM that has a sufficiently similar environment that the native code does not encounter a missing class or method.\r\n\r\nIn summary, you need **far** more tooling than just Python.","title":"Is there a way to run a class of a decompiled apk in python without actually running the application?","body":"<p>You cannot simply load a library compiled for a completely different processor and expect it to work. You will need to set up an armeabi-v7a environment using, say, QEMU so you have a host process that can load the DLL.</p>\n<p>But that is not all! The very first thing this <code>performAction</code> function will do is call into the JVM function pointer table (also called <code>JNIEnv*</code>) to retrieve information the supplied String object. Very probably that is not the <em>only</em> JVM call it will make. So you will also need to load this DLL from a JVM that has a sufficiently similar environment that the native code does not encounter a missing class or method.</p>\n<p>In summary, you need <strong>far</strong> more tooling than just Python.</p>\n"}],"owner":{"account_id":14936234,"reputation":1,"user_id":10784154,"display_name":"Drew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695214928,"creation_date":1695210911,"question_id":77142161,"body_markdown":"I have decompiled an apk using jadx-gui and I notice the app uses a native library inside one of the classes. I just want to see how I can run a method in a class without actually running the apk file in an android emulator. I want to write a script in python that runs that class method and returns me with the result.\r\n\r\nClass code of the decompiled apk is below:\r\n\r\n```\r\npackage com.test.bap;\r\n\r\nimport java.util.Base64;\r\nimport kotlin.jvm.internal.Intrinsics;\r\n\r\n/* loaded from: classes.dex */\r\npublic final class JniBridge {\r\n    static {\r\n        if (&quot;btap&quot;.length() &gt; 0) {\r\n            System.loadLibrary(&quot;btap&quot;);\r\n        }\r\n    }\r\n\r\n    private final native byte[] performAction(int i, String str);\r\n\r\n    public final String a(String... params) {\r\n        String encodeToString = Base64.getEncoder().withoutPadding().encodeToString(performAction(12345, params[0]));\r\n        return encodeToString;\r\n    }\r\n}\r\n```\r\n\r\nI have tried to load the library using the following code but it doesn&#39;t work.\r\n\r\n```\r\nfrom ctypes import *\r\nlibc = CDLL(r&quot;C:\\Program Files (x86)\\Nox\\bin\\1\\recompile\\resources\\lib\\armeabi-v7a\\libbtap.so&quot;)\r\nprint(type(libc))\r\n```\r\n\r\nbut get the error:\r\n\r\n```\r\n  File &quot;C:\\Python311\\Lib\\ctypes\\__init__.py&quot;, line 376, in __init__\r\n    self._handle = _dlopen(self._name, mode)\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^\r\nOSError: [WinError 193] %1 is not a valid Win32 application\r\n\r\n\r\n```\r\nI have been able to hook to the application in an android emulator and see the input arguments and return value using objection hooking watch method. However, I want to code this in Python and I don&#39;t want to run the app in an android emulator. I just want to use replicate that class code in Python.\r\nCan someone please guide me with how I can achieve this?\r\nThanks for your help.","title":"Is there a way to run a class of a decompiled apk in python without actually running the application?","body":"<p>I have decompiled an apk using jadx-gui and I notice the app uses a native library inside one of the classes. I just want to see how I can run a method in a class without actually running the apk file in an android emulator. I want to write a script in python that runs that class method and returns me with the result.</p>\n<p>Class code of the decompiled apk is below:</p>\n<pre><code>package com.test.bap;\n\nimport java.util.Base64;\nimport kotlin.jvm.internal.Intrinsics;\n\n/* loaded from: classes.dex */\npublic final class JniBridge {\n    static {\n        if (&quot;btap&quot;.length() &gt; 0) {\n            System.loadLibrary(&quot;btap&quot;);\n        }\n    }\n\n    private final native byte[] performAction(int i, String str);\n\n    public final String a(String... params) {\n        String encodeToString = Base64.getEncoder().withoutPadding().encodeToString(performAction(12345, params[0]));\n        return encodeToString;\n    }\n}\n</code></pre>\n<p>I have tried to load the library using the following code but it doesn't work.</p>\n<pre><code>from ctypes import *\nlibc = CDLL(r&quot;C:\\Program Files (x86)\\Nox\\bin\\1\\recompile\\resources\\lib\\armeabi-v7a\\libbtap.so&quot;)\nprint(type(libc))\n</code></pre>\n<p>but get the error:</p>\n<pre><code>  File &quot;C:\\Python311\\Lib\\ctypes\\__init__.py&quot;, line 376, in __init__\n    self._handle = _dlopen(self._name, mode)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^\nOSError: [WinError 193] %1 is not a valid Win32 application\n\n\n</code></pre>\n<p>I have been able to hook to the application in an android emulator and see the input arguments and return value using objection hooking watch method. However, I want to code this in Python and I don't want to run the app in an android emulator. I just want to use replicate that class code in Python.\nCan someone please guide me with how I can achieve this?\nThanks for your help.</p>\n"},{"tags":["java","docker","datadog"],"comments":[{"owner":{"account_id":7531505,"reputation":311,"user_id":5719502,"display_name":"Zombro"},"score":0,"creation_date":1695227317,"post_id":77142488,"comment_id":135997342,"body_markdown":"how are you running your docker container ? \n\ni would recommend containerizing a datadog agent and linking it to your java container, with something like a docker-compose file, and configuring datadog in java mode","body":"how are you running your docker container ?   i would recommend containerizing a datadog agent and linking it to your java container, with something like a docker-compose file, and configuring datadog in java mode"},{"owner":{"account_id":2607022,"reputation":99,"user_id":2257986,"accept_rate":43,"display_name":"Ricardo"},"score":0,"creation_date":1695285210,"post_id":77142488,"comment_id":136004795,"body_markdown":"If Datadog is in Java mode, how to deal with the outputs that are not Java, like docker or system logs? (Agent is running as a service o VM right now)","body":"If Datadog is in Java mode, how to deal with the outputs that are not Java, like docker or system logs? (Agent is running as a service o VM right now)"}],"owner":{"account_id":2607022,"reputation":99,"user_id":2257986,"accept_rate":43,"display_name":"Ricardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695214598,"creation_date":1695213297,"question_id":77142488,"body_markdown":"I have an Java application running on a container in the same VM that my DataDog agent is running, the agent, with a very basic and general configuration, is capture all logs and send them to Datadog site.\r\n\r\nThe issue is that they are being sent to DataDog it seems that the source is the docker image name and it causes the logs not being matched to a pipeline.\r\n\r\nSo, two questions regarding this:\r\n\r\n1 - Considering that this is a Java application on a Docker container, should the source be Java or Docker? If I pick Java some system logs will not be parsed correctly e.g. docker or OpenJDK initialization. If I pick Docker, then my application logs will not be correct. What is the recommended approach?\r\n\r\n2 - Where is the best place to configure the source? I was trying to find examples of this on the agent configuration file, but I can only find examples of log processing rules using FILE (and they are very basic).\r\n\r\nThanks in advance.","title":"Capture logs on DataDog agent from a Java application running on a Docker container","body":"<p>I have an Java application running on a container in the same VM that my DataDog agent is running, the agent, with a very basic and general configuration, is capture all logs and send them to Datadog site.</p>\n<p>The issue is that they are being sent to DataDog it seems that the source is the docker image name and it causes the logs not being matched to a pipeline.</p>\n<p>So, two questions regarding this:</p>\n<p>1 - Considering that this is a Java application on a Docker container, should the source be Java or Docker? If I pick Java some system logs will not be parsed correctly e.g. docker or OpenJDK initialization. If I pick Docker, then my application logs will not be correct. What is the recommended approach?</p>\n<p>2 - Where is the best place to configure the source? I was trying to find examples of this on the agent configuration file, but I can only find examples of log processing rules using FILE (and they are very basic).</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","intellij-idea","sdk","option-type"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1673865535,"post_id":75132606,"comment_id":132585070,"body_markdown":"Try to close the project (File | Close Project), close the IDE, open the project in OS file manager and delete the .idea directory. Re-import the project as per https://www.jetbrains.com/help/idea/import-project-or-module-wizard.html#open-project and configure JDK from scratch under (File | Project Structure | SDKs) and (File | Project Structure | Project)","body":"Try to close the project (File | Close Project), close the IDE, open the project in OS file manager and delete the .idea directory. Re-import the project as per <a href=\"https://www.jetbrains.com/help/idea/import-project-or-module-wizard.html#open-project\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a> and configure JDK from scratch under (File | Project Structure | SDKs) and (File | Project Structure | Project)"},{"owner":{"account_id":27541541,"reputation":21,"user_id":21018204,"display_name":"Zaitis"},"score":0,"creation_date":1673867601,"post_id":75132606,"comment_id":132585693,"body_markdown":"You are awesome! Now i can run my project! Thanks","body":"You are awesome! Now i can run my project! Thanks"},{"owner":{"account_id":3901102,"reputation":91,"user_id":3228950,"display_name":"slaman"},"score":0,"creation_date":1676663734,"post_id":75132606,"comment_id":133189995,"body_markdown":"It is possible the Run/Debug Configuration settings (copied from another computer?) don&#39;t match the project settings","body":"It is possible the Run/Debug Configuration settings (copied from another computer?) don&#39;t match the project settings"}],"answers":[{"comments":[{"owner":{"account_id":27541541,"reputation":21,"user_id":21018204,"display_name":"Zaitis"},"score":1,"creation_date":1673864821,"post_id":75132715,"comment_id":132584865,"body_markdown":"I have choosed SDK on 18. I was trying change to another java version, but I still have this same problem.","body":"I have choosed SDK on 18. I was trying change to another java version, but I still have this same problem."}],"tags":[],"owner":{"account_id":3878753,"reputation":312,"user_id":3211953,"accept_rate":25,"display_name":"Bar Hoshen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673863690,"creation_date":1673863690,"answer_id":75132715,"question_id":75132606,"body_markdown":"Your Intellij is set to use the SDK but your project isn&#39;t.\r\nFile -&gt; Project structure -&gt; Project -&gt; Project SDK\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Fpy7.png","title":"Failed to resolve SDK","body":"<p>Your Intellij is set to use the SDK but your project isn't.\nFile -&gt; Project structure -&gt; Project -&gt; Project SDK\n<a href=\"https://i.stack.imgur.com/4Fpy7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Fpy7.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1695214430,"post_id":75884885,"comment_id":135994072,"body_markdown":"Oh man, that&#39;s silly. This is the accepted answer for me.","body":"Oh man, that&#39;s silly. This is the accepted answer for me."}],"tags":[],"owner":{"account_id":28163882,"reputation":161,"user_id":21523331,"display_name":"louiskun"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1691142069,"creation_date":1680158611,"answer_id":75884885,"question_id":75132606,"body_markdown":"I encountered the same problem as you. My solution is to click Edit Configurations on the left side of the run button, and select to modify jdk in the pop-up interface.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aV96I.png","title":"Failed to resolve SDK","body":"<p>I encountered the same problem as you. My solution is to click Edit Configurations on the left side of the run button, and select to modify jdk in the pop-up interface.</p>\n<p><img src=\"https://i.stack.imgur.com/aV96I.png\" alt=\"enter image description here\" /></p>\n"},{"comments":[{"owner":{"account_id":2271742,"reputation":3871,"user_id":1998950,"display_name":"Harinath"},"score":0,"creation_date":1686210798,"post_id":76119320,"comment_id":134768743,"body_markdown":"Remove .idea folder, rebuild the project and try again.","body":"Remove .idea folder, rebuild the project and try again."}],"tags":[],"owner":{"account_id":4993801,"reputation":997,"user_id":4015129,"display_name":"Prashant Sahoo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682591037,"creation_date":1682591037,"answer_id":76119320,"question_id":75132606,"body_markdown":"I was getting the same message while running the Flink java project in InteliiJ Idea.\r\nI deleted the .idea folder from project and rebuild the project. Then it resolved.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tBw5N.png","title":"Failed to resolve SDK","body":"<p>I was getting the same message while running the Flink java project in InteliiJ Idea.\nI deleted the .idea folder from project and rebuild the project. Then it resolved.</p>\n<p><a href=\"https://i.stack.imgur.com/tBw5N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tBw5N.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1687814223,"post_id":76535751,"comment_id":134986609,"body_markdown":"How can it be opened? Please add a little more detail.","body":"How can it be opened? Please add a little more detail."}],"tags":[],"owner":{"account_id":28876580,"reputation":11,"user_id":22116976,"display_name":"divya k"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687618945,"creation_date":1687469284,"answer_id":76535751,"question_id":75132606,"body_markdown":"Check the path on Run/debug configuration dialog:\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/ce6Gx.png","title":"Failed to resolve SDK","body":"<p>Check the path on Run/debug configuration dialog:\n<a href=\"https://i.stack.imgur.com/ce6Gx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ce6Gx.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27541541,"reputation":21,"user_id":21018204,"display_name":"Zaitis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5523,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1695214383,"creation_date":1673863226,"question_id":75132606,"body_markdown":"On my first post I am using Inteliij and I have problem with my project. I was make project in Spring Boot. All works fine on this computer. Today when I copy this project from my computer to another I have a trouble when i try run project with &quot;Failed to resolve SDK try to Find SDK&quot;. When i click on blue link, it dosn&#39;t work.\r\n\r\n![information about problem](https://i.stack.imgur.com/pUZvG.png). \r\n\r\n\r\n\r\n\r\n\r\n\r\nI am checking Settings=&gt;build..=&gt;compiler=&gt;java compiler.[java compiler](https://i.stack.imgur.com/GCw27.png) and project structure=&gt;SDKs. [SDK](https://i.stack.imgur.com/rdAOA.png)All looks like good. I don&#39;t have any idea why this dosn&#39;t work. Maybe someone have similar problem and You know how to solve this issue.\r\n\r\nThanks.\r\n\r\nEDIT:\r\n[GatePass][1]\r\n\r\n  [1]: https://i.stack.imgur.com/vpKck.png","title":"Failed to resolve SDK","body":"<p>On my first post I am using Inteliij and I have problem with my project. I was make project in Spring Boot. All works fine on this computer. Today when I copy this project from my computer to another I have a trouble when i try run project with &quot;Failed to resolve SDK try to Find SDK&quot;. When i click on blue link, it dosn't work.</p>\n<p><img src=\"https://i.stack.imgur.com/pUZvG.png\" alt=\"information about problem\" />.</p>\n<p>I am checking Settings=&gt;build..=&gt;compiler=&gt;java compiler.<a href=\"https://i.stack.imgur.com/GCw27.png\" rel=\"nofollow noreferrer\">java compiler</a> and project structure=&gt;SDKs. <a href=\"https://i.stack.imgur.com/rdAOA.png\" rel=\"nofollow noreferrer\">SDK</a>All looks like good. I don't have any idea why this dosn't work. Maybe someone have similar problem and You know how to solve this issue.</p>\n<p>Thanks.</p>\n<p>EDIT:\n<a href=\"https://i.stack.imgur.com/vpKck.png\" rel=\"nofollow noreferrer\">GatePass</a></p>\n"},{"tags":["java","maven","installation"],"answers":[{"comments":[{"owner":{"account_id":14945761,"reputation":45,"user_id":10791083,"display_name":"Josko de Boer"},"score":0,"creation_date":1571044880,"post_id":58373500,"comment_id":103096601,"body_markdown":"And that solved it. Thank you so much, I used https://stackoverflow.com/questions/9566620/include-jaxb-using-maven to add jaxb dependencies and now it finally works.","body":"And that solved it. Thank you so much, I used <a href=\"https://stackoverflow.com/questions/9566620/include-jaxb-using-maven\" title=\"include jaxb using maven\">stackoverflow.com/questions/9566620/include-jaxb-using-maven</a> to add jaxb dependencies and now it finally works."}],"tags":[],"owner":{"account_id":10298373,"reputation":148,"user_id":7597798,"display_name":"S Manikandan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1571044203,"creation_date":1571044203,"answer_id":58373500,"question_id":58373147,"body_markdown":"from java 11 jaxb annoations has been removed and jaxb dependency to your project","title":"XmlElement annotation not found","body":"<p>from java 11 jaxb annoations has been removed and jaxb dependency to your project</p>\n"},{"tags":[],"owner":{"account_id":6360561,"reputation":2582,"user_id":4936193,"display_name":"jurl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695214355,"creation_date":1695214355,"answer_id":77142645,"question_id":58373147,"body_markdown":"For me it happened after a sudden update of `jakarta.xml.bind:jakarta.xml.bind-api:4.0.0` from another package I import.\r\n\r\nI added this strictly annotation and it solved my runtime exception:\r\n\r\n```gradle\r\nimplementation (group: &#39;jakarta.xml.bind&#39;, name: &#39;jakarta.xml.bind-api&#39;) {\r\n    version {\r\n        // Fix NoClassDefFoundError: javax/xml/bind/annotation/XmlElement\r\n        strictly &#39;2.3.3&#39;\r\n    }\r\n}\r\n```\r\n\r\nI didn&#39;t add `javax.xml.bind:jaxb-api` again because it was just updated to the newer jakarta version which replaces it.","title":"XmlElement annotation not found","body":"<p>For me it happened after a sudden update of <code>jakarta.xml.bind:jakarta.xml.bind-api:4.0.0</code> from another package I import.</p>\n<p>I added this strictly annotation and it solved my runtime exception:</p>\n<pre><code>implementation (group: 'jakarta.xml.bind', name: 'jakarta.xml.bind-api') {\n    version {\n        // Fix NoClassDefFoundError: javax/xml/bind/annotation/XmlElement\n        strictly '2.3.3'\n    }\n}\n</code></pre>\n<p>I didn't add <code>javax.xml.bind:jaxb-api</code> again because it was just updated to the newer jakarta version which replaces it.</p>\n"}],"owner":{"account_id":14945761,"reputation":45,"user_id":10791083,"display_name":"Josko de Boer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2895,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58373500,"answer_count":2,"score":2,"last_activity_date":1695214355,"creation_date":1571043030,"question_id":58373147,"body_markdown":"Apparently, the XMLElement annotation class can&#39;t be found. The project builds and deploys successfully on another computer, which makes me think this is an installation issue. However, I can&#39;t find any way of fixing this. \r\n\r\nI&#39;ve already switched by installation to run on oracle JDK:\r\n\r\n    @:~/$ java --version\r\n        java 11.0.4 2019-07-16 LTS\r\n        Java(TM) SE Runtime Environment 18.9 (build 11.0.4+10-LTS)\r\n        Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.4+10-LTS, mixed mode)\r\n    @:~/$ javac --version\r\n        javac 11.0.4\r\n\r\n\r\nThe error:\r\n   \r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlElement\r\n        at java.net.URLClassLoader.findClass (URLClassLoader.java:436)\r\n        at java.lang.ClassLoader.loadClass (ClassLoader.java:588)\r\n        at java.lang.ClassLoader.loadClass (ClassLoader.java:521)\r\n        at com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector.&lt;init&gt; (JaxbAnnotationIntrospector.java:139)\r\n        at com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector.&lt;init&gt; (JaxbAnnotationIntrospector.java:126)\r\n        at com.fasterxml.jackson.module.jaxb.JaxbAnnotationModule.setupModule (JaxbAnnotationModule.java:90)\r\n        at com.fasterxml.jackson.databind.ObjectMapper.registerModule (ObjectMapper.java:751)\r\n        at com.fasterxml.jackson.databind.ObjectMapper.registerModules (ObjectMapper.java:951)\r\n        at org.apache.beam.sdk.options.PipelineOptionsFactory.&lt;clinit&gt; (PipelineOptionsFactory.java:468)\r\n        at com.spilgames.dataflow.portal.flows.PortalEvents.main (PortalEvents.java:73)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:567)\r\n        at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n        at java.lang.Thread.run (Thread.java:830)\r\n\r\n\r\nIt seems that one of the dependencies (codehaus.mojo) is referencing to it, but it doesn&#39;t exist:\r\n\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project dwh-dataflow-portal: An exception occured while executing the Java class. javax/xml/bind/annotation/XmlElement: javax.xml.bind.annotation.XmlElement -&gt; [Help 1]\r\n        org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project dwh-dataflow-portal: An exception occured while executing the Java class. javax/xml/bind/annotation/XmlElement\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n            at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n            at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n            at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n            at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n            at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\r\n            at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n            at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke (Method.java:567)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)","title":"XmlElement annotation not found","body":"<p>Apparently, the XMLElement annotation class can't be found. The project builds and deploys successfully on another computer, which makes me think this is an installation issue. However, I can't find any way of fixing this. </p>\n\n<p>I've already switched by installation to run on oracle JDK:</p>\n\n<pre><code>@:~/$ java --version\n    java 11.0.4 2019-07-16 LTS\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.4+10-LTS)\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.4+10-LTS, mixed mode)\n@:~/$ javac --version\n    javac 11.0.4\n</code></pre>\n\n<p>The error:</p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlElement\n    at java.net.URLClassLoader.findClass (URLClassLoader.java:436)\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:588)\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:521)\n    at com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector.&lt;init&gt; (JaxbAnnotationIntrospector.java:139)\n    at com.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector.&lt;init&gt; (JaxbAnnotationIntrospector.java:126)\n    at com.fasterxml.jackson.module.jaxb.JaxbAnnotationModule.setupModule (JaxbAnnotationModule.java:90)\n    at com.fasterxml.jackson.databind.ObjectMapper.registerModule (ObjectMapper.java:751)\n    at com.fasterxml.jackson.databind.ObjectMapper.registerModules (ObjectMapper.java:951)\n    at org.apache.beam.sdk.options.PipelineOptionsFactory.&lt;clinit&gt; (PipelineOptionsFactory.java:468)\n    at com.spilgames.dataflow.portal.flows.PortalEvents.main (PortalEvents.java:73)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:567)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\n    at java.lang.Thread.run (Thread.java:830)\n</code></pre>\n\n<p>It seems that one of the dependencies (codehaus.mojo) is referencing to it, but it doesn't exist:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project dwh-dataflow-portal: An exception occured while executing the Java class. javax/xml/bind/annotation/XmlElement: javax.xml.bind.annotation.XmlElement -&gt; [Help 1]\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project dwh-dataflow-portal: An exception occured while executing the Java class. javax/xml/bind/annotation/XmlElement\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke (Method.java:567)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n</code></pre>\n"},{"tags":["java","string","exception"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1694991527,"post_id":77123847,"comment_id":135960650,"body_markdown":"Don&#39;t do `userInputScanner.close();` - this will also close the underlying `System.in`, preventing any further possibility of getting input","body":"Don&#39;t do <code>userInputScanner.close();</code> - this will also close the underlying <code>System.in</code>, preventing any further possibility of getting input"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694991714,"post_id":77123847,"comment_id":135960659,"body_markdown":"I&#39;d also consider making use of regular expression capture groups, something like `&lt;(\\d*\\.?\\d*),( )?(\\d*\\.?\\d*)&gt;` as a rudimentary/rough starting point","body":"I&#39;d also consider making use of regular expression capture groups, something like <code>&lt;(\\d*\\.?\\d*),( )?(\\d*\\.?\\d*)&gt;</code> as a rudimentary/rough starting point"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694992076,"post_id":77123847,"comment_id":135960680,"body_markdown":"I&#39;d also make use of [try-catch-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) rather then relying on all the `if-else` statements","body":"I&#39;d also make use of <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-catch-with-resources</a> rather then relying on all the <code>if-else</code> statements"},{"owner":{"account_id":29468521,"reputation":1,"user_id":22581585,"display_name":"Colin Baumgartner"},"score":0,"creation_date":1694992627,"post_id":77123847,"comment_id":135960727,"body_markdown":"Thank you for the help, I also think I might&#39;ve neglected to mention that the scanner buffer is empty (&quot;&quot;), I&#39;m really not sure if it&#39;s a delimiter issue or","body":"Thank you for the help, I also think I might&#39;ve neglected to mention that the scanner buffer is empty (&quot;&quot;), I&#39;m really not sure if it&#39;s a delimiter issue or"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1694993184,"post_id":77123847,"comment_id":135960765,"body_markdown":"Honestly, I don&#39;t think `Scanner`, in this case, is the best choice, but&#39;s just my opinion","body":"Honestly, I don&#39;t think <code>Scanner</code>, in this case, is the best choice, but&#39;s just my opinion"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694995821,"creation_date":1694992807,"answer_id":77123945,"question_id":77123847,"body_markdown":"&gt; _&#39;... This program takes input from the user in the form of a vector `&lt;xcoord,ycoord&gt;`. ...&#39;_\r\n\r\nIf the parse is simple enough, just use _String_ methods.\r\n\r\nHere is an example.\r\n\r\n```java\r\nString s = &quot;&lt;1, 2&gt;&quot;;\r\nint n = s.length() - 1, i;\r\nif (s.charAt(0) != &#39;&lt;&#39;) throw new Exception(&quot;Missing the first arrow&quot;);\r\nif (s.charAt(n) != &#39;&gt;&#39;) throw new Exception(&quot;Missing the end arrow&quot;);\r\ns = s.substring(1, n);\r\nif ((i = s.indexOf(&#39;,&#39;)) == -1) throw new Exception(&quot;Missing the middle comma&quot;);\r\nif (s.lastIndexOf(&#39;,&#39;) != i) throw new Exception(&quot;Extra comma&quot;);\r\nString[] v = s.split(&quot;, +&quot;);\r\nif (v[0].isEmpty()) throw new Exception(&quot;Missing the x coord&quot;);\r\nif (v[1].isEmpty()) throw new Exception(&quot;Missing the y coord&quot;);\r\n\r\nSystem.out.println(&quot;s = &quot; + s);\r\nSystem.out.println(&quot;v[0] = &quot; + v[0].trim());\r\nSystem.out.println(&quot;v[1] = &quot; + v[1].trim());\r\n```\r\n\r\nOutput\r\n\r\n```none\r\ns = 1, 2\r\nv[0] = 1\r\nv[1] = 2\r\n```","title":"Issue with reading user input in Java (Delimiter/Pattern issue)","body":"<blockquote>\n<p><em>'... This program takes input from the user in the form of a vector <code>&lt;xcoord,ycoord&gt;</code>. ...'</em></p>\n</blockquote>\n<p>If the parse is simple enough, just use <em>String</em> methods.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;&lt;1, 2&gt;&quot;;\nint n = s.length() - 1, i;\nif (s.charAt(0) != '&lt;') throw new Exception(&quot;Missing the first arrow&quot;);\nif (s.charAt(n) != '&gt;') throw new Exception(&quot;Missing the end arrow&quot;);\ns = s.substring(1, n);\nif ((i = s.indexOf(',')) == -1) throw new Exception(&quot;Missing the middle comma&quot;);\nif (s.lastIndexOf(',') != i) throw new Exception(&quot;Extra comma&quot;);\nString[] v = s.split(&quot;, +&quot;);\nif (v[0].isEmpty()) throw new Exception(&quot;Missing the x coord&quot;);\nif (v[1].isEmpty()) throw new Exception(&quot;Missing the y coord&quot;);\n\nSystem.out.println(&quot;s = &quot; + s);\nSystem.out.println(&quot;v[0] = &quot; + v[0].trim());\nSystem.out.println(&quot;v[1] = &quot; + v[1].trim());\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>s = 1, 2\nv[0] = 1\nv[1] = 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695213864,"creation_date":1695213864,"answer_id":77142575,"question_id":77123847,"body_markdown":"I don&#39;t think the **Scanner#useDelimiter()** is really what you want to use for this sort of thing. You are expecting the User to enter in vector data then you want to validate that entry to ensure it is in the correct format. If it isn&#39;t then provide a relatively detailed reason why it&#39;s not valid. \r\n\r\nTo be honest, entry mistakes will always be done especially if it involves more that one character but, the User will have far greater success with his/her entries if....they know exactly what they are expected to enter. Throw the User a bone and let them know before you toss out a prompt like: `&quot;Please enter your vector&quot;`. You would find that if an entry error is made, then just an `Invalid Entry! (34.4, 55.1&gt;) - Try again...` message should pretty much suffice. The User can see exactly where the problem is and then make a correct attempt. \r\n\r\nTo validate the a User&#39;s entry, the [String#matches()](https://www.tutorialspoint.com/java/java_string_matches.htm) method can be used along with a [Regular Expression](https://www.vogella.com/tutorials/JavaRegularExpressions/article.html) (regex), for *example*:\r\n\r\n```\r\nString commandLine = &quot;&quot;;\r\nwhile (commandLine.isEmpty()) {\r\n    System.out.print(&quot;Please enter your vector data (q to quit): -&gt; &quot;);\r\n    commandLine = userInputScanner.nextLine().trim();\r\n\r\n    /* Validate Entry - If the entry does NOT match the regex \r\n       then inform User and allow him/her to try again.    */\r\n    if (!commandLine.matches(&quot;^(\\\\&lt;(-?\\\\d+(\\\\.\\\\d+)?),\\\\s?(-?\\\\d+(\\\\.\\\\d+)?)\\\\&gt;)$&quot;)) {\r\n        System.out.println(&quot;Invalid Vector Entry Supplied! (&quot; + commandLine + &quot;) - Try again...&quot; );\r\n        commandLine = &quot;&quot;;  // Empty `commandLine` to ensure re-loop.\r\n    }\r\n}\r\nVectorCoordinate vc = VectorCalculator.parseVectorString(commandLine);\r\n```\r\n\r\n**What does the regex passed to the [String#matches()](https://www.tutorialspoint.com/java/java_string_matches.htm) method mean?**\r\n \r\n\r\n - `^` Asserts position at start of the String;\r\n - `\\\\&lt;` The first literal character must be the Less-Than (&lt;) character;\r\n - `(-?\\\\d+(\\\\.\\\\d+)?)` Next must be a string representation of a signed\r\n   or unsigned Integer or Floating Point value;\r\n - `,` The supplied numerical value must be followed by a comma (,);\r\n - `\\\\s?` The comma may or may not be followed by a single white-space;\r\n - `(-?\\\\d+(\\\\.\\\\d+)?)` The comma (or comma + white-space) must be followed by a string\r\n   representation of a signed or unsigned Integer or Floating Point\r\n   value;\r\n - `\\\\&gt;` The last literal character must be the Greater-Than (&gt;)\r\n   character;\r\n - `$` Asserts position at the end of the String.\r\n\r\nBelow is a runnable which *similarly* puts the above code into practice. The application consists of three classes, the **MainStartClass** class, the **VectorCalculator** class, and the **VectoCoordinate** class. The User supplied Vector data is placed into an instance of VectorCoordinate which will hold the `x` and `y` coordintes supplied. The User can continuously supply vector coordinates until &#39;q&#39; for quit is entered. All VectorCoordinate instances are stored within a List Interface of VectorCoordinate which can be displayed when the User quits. Please be sure to read all the comments in code:\r\n\r\n----------\r\n\r\n**The MainStartClass class:**\r\n\r\n```\r\npublic class MainStartClass {\r\n\r\n    /**\r\n     * First (and ONLY) Scanner object for `System.in`:&lt;br&gt;\r\n     * Do Not close this resource unless you are absolutely sure\r\n     * you will not need it again during your application run. If\r\n     * you do, you will need to restart your application in order\r\n     * to use `System.in` again. The JVM will automatically close \r\n     * this resource when the application ends. This object can be \r\n     * used globally:                 \r\n    */\r\n    public final static java.util.Scanner userInputScanner = new java.util.Scanner(System.in); \r\n    \r\n    /**\r\n     * A List Interface object of VectorCoordinate to store \r\n     * valid User supplied vector data: (see VectorCoordinate\r\n     * class). This object can be used globally:   \r\n    */\r\n    public static java.util.List&lt;VectorCoordinate&gt; coordsList = new java.util.ArrayList&lt;&gt;();\r\n    \r\n    /**\r\n     * Not all Terminal or Console windows utilize the same newline \r\n     * character sequence. This ensures that the `newline` character \r\n     * sequence complies with the Operating System this application \r\n     * is run in. This object can be used globally: \r\n     */\r\n    public static final String LS = System.lineSeparator();\r\n    \r\n    \r\n    // Application entry point:\r\n    public static void main(String[] args) {\r\n        /* App started this way to avoid the need for statics \r\n           (unless we actually want them):        */\r\n        new MainStartClass().startApp(args);\r\n    }\r\n    \r\n    private void startApp(String[] args) {\r\n        /* Inform what application is about. Give Users a fighting chance\r\n           towards a proper entry. Let them know what is expected of them:  */\r\n        System.out.println(&quot;Welcome to the Vector Calculator:&quot; + LS \r\n                         + &quot;=================================&quot; + LS\r\n                         + &quot;You will be prompted to enter vector data which will ultimately&quot; + LS \r\n                         + &quot;get parsed into X and Y Coordinates. All supplied coordinates&quot; + LS \r\n                         + &quot;are to be enclosed within Chevron Brackets (&lt; &gt;) and delimited&quot; + LS \r\n                         + &quot;with a comma (,). Both Integer and or Floating Point values can&quot; + LS \r\n                         + &quot;be supplied. The Integer values will be auto-converted to double&quot; + LS \r\n                         + &quot;type. Here is an example entry: -  &lt;26, 67.8&gt;&quot; + LS \r\n                         + &quot;----------------------------------------------------------------&quot; + LS); \r\n        \r\n        // Prompt #1 - Prompt for User to enter in Vector data:\r\n        String commandLine = &quot;&quot;;\r\n        \r\n        // Continually ask User for vector data unless &#39;q&#39; was supplied to quit:\r\n        while (commandLine.isEmpty()) {\r\n            System.out.print(&quot;Please enter your vector data (q to quit): -&gt; &quot;); \r\n            commandLine = userInputScanner.nextLine().trim(); \r\n            \r\n            // Was &#39;q&#39; supplied to quit?\r\n            if (commandLine.equalsIgnoreCase(&quot;q&quot;)) {\r\n                // Is quit really desired (see the `quit()` method)?\r\n                if(!quit()) {\r\n                    // No...Empty `commandLine` so to ensure re-loop:\r\n                    commandLine = &quot;&quot;;\r\n                }\r\n                // Otherwise...\r\n                continue; // Because `commandLine` is not empty, this will exit the `while` loop\r\n            }\r\n            \r\n            /* Parse the supplied vector string and print out values.\r\n               If `vc` does not equal null, then the User entry is valid \r\n               and is stored as `VectorCoordinate` (see the VectorCoordinate \r\n               Class - Also see the `VectorCalculator` class `parseVectorString()`\r\n               method):                                               */\r\n            VectorCoordinate vc = VectorCalculator.parseVectorString(commandLine); \r\n            if (vc != null) {\r\n                coordsList.add(vc);  // Add valid entry to List.\r\n                System.out.println(&quot;X Coordinate = &quot; + vc.getX() + &quot;  |  Y Coordinate = &quot; + vc.getY());\r\n            }\r\n            // Otherwise...\r\n            commandLine = &quot;&quot;;       // Empty `commandLine` so to ensure re-loop.\r\n            System.out.println();   // Display a blank line for aesthetics.\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * This method prompts the User to ensure that he/she truly wants to \r\n     * quit the application. \r\n     * &lt;p&gt;\r\n     * If `n` (no) is supplied, then boolean false is returned and this \r\n     * then gets interpreted that quit is not desired and the application \r\n     * continues to prompt for, and accept, Vector entries.\r\n     * &lt;p&gt;\r\n     * If `y` (yes) is supplied then the User is confronted with yet \r\n     * another prompt which asks if he/she wants to display the stored \r\n     * Vector entries. If at this point `n` (no) is supplied then the \r\n     * application will simply return boolean true which is later interpreted \r\n     * as a desire to quit. If however, `y` (yes) is supplied, then \r\n     * the User is displayed all the stored vector entries and then the \r\n     * application simply returns true which is also later interpreted as \r\n     * a desire to quit.&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * @return (boolean) \r\n     */\r\n    private boolean quit() {\r\n        boolean res = false;\r\n        // Prompt #2 - Prompt for `Are You Sure...`:\r\n        String yn = &quot;&quot;;\r\n        while (yn.isEmpty()) {\r\n            System.out.print(&quot;Are you sure you want to quit (y/n)? -&gt; &quot;);\r\n            yn = userInputScanner.nextLine().trim();\r\n            if (!yn.matches(&quot;(?i)[yn]&quot;)) {\r\n                System.err.println(&quot;Invalid Entry Response! Try again...&quot; + LS);\r\n                yn = &quot;&quot;;\r\n            }\r\n        }\r\n        if (yn.equalsIgnoreCase(&quot;y&quot;)) {\r\n            // Prompt #3 - Prompt to display store Vector entries but only if there are any: \r\n            yn = &quot;&quot;;\r\n            while (yn.isEmpty() &amp;&amp; !coordsList.isEmpty()) {\r\n                System.out.print(&quot;Do you want to display all User Entered Vectors first? -&gt; &quot;);\r\n                yn = userInputScanner.nextLine().trim();\r\n                if (!yn.matches(&quot;(?i)[yn]&quot;)) {\r\n                    System.err.println(&quot;Invalid Entry Response! Try again...&quot; + LS);\r\n                    yn = &quot;&quot;;\r\n                }\r\n            }\r\n            if (yn.equalsIgnoreCase(&quot;y&quot;)) {\r\n                System.out.println(LS + &quot;Vectors Entered By User:&quot; + LS +\r\n                                        &quot;------------------------&quot;);\r\n                for (VectorCoordinate c : coordsList) {\r\n                    System.out.printf(&quot;X = %-10s Y = %-10s%n&quot;, c.getX(), c.getY());\r\n                }\r\n                System.out.println(&quot;------------------------&quot;);\r\n            }\r\n            System.out.println(LS + &quot;Quiting - Bye Bye.&quot; + LS);\r\n            res = true;\r\n        }\r\n        return res;\r\n    }\r\n}\r\n```\r\n\r\n**The VectorCalculator class:**\r\n\r\n```\r\n/**\r\n * Used for validating and parsing supplied vector coordinate strings\r\n * from User.\r\n */\r\npublic class VectorCalculator {\r\n\r\n    /**\r\n     * Used for validating and parsing supplied vector coordinate strings.&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * @param commandLine (String) Vector data in the format: {@code &quot;&lt;n, n&gt;&quot;}.&lt;br&gt;\r\n     * @return \r\n     */\r\n    public static VectorCoordinate parseVectorString(String commandLine) {\r\n        double x = 0.0d;    // To hold the Vector X Coordinate:\r\n        double y = 0.0d;    // To hold the Vector Y Coordinate:\r\n        \r\n        /* Validate supplied commandLine string:\r\n           Is the supplied string in `commandLine` valid?     */\r\n        if (!commandLine.matches(&quot;^(\\\\&lt;(-?\\\\d+(\\\\.\\\\d+)?),\\\\s?(-?\\\\d+(\\\\.\\\\d+)?)\\\\&gt;)$&quot;)) {\r\n            // No... Determine what is wrong with it and display that info:\r\n            /* Copy commandLine into `cl` but first, remove any possible double \r\n               (or more) white-spacing from within the vector string and make \r\n               them single spaced. Also trim of any leading or trailing white-\r\n            spaces:                    */\r\n            String cl = commandLine.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;).trim();\r\n            \r\n            // Prepare for error messaging. All errors found are concantenated together:\r\n            StringBuilder errMsg = new StringBuilder(&quot;&quot;);\r\n            \r\n            // Is the supplied vector string empty?\r\n            if (cl.isEmpty()) { errMsg.append(&quot;The supplied Vector string can not be empty! &quot;); }\r\n            \r\n            // If the supplied string doesn&#39;t start with the &#39;&lt;&#39; character:\r\n            if (!cl.startsWith(&quot;&lt;&quot;)) { errMsg.append(&quot;Missing Opening Bracket (&lt;)! &quot;); }\r\n            \r\n            // If the supplied string doesn&#39;t end with the &#39;&gt;&#39; character:\r\n            if (!cl.endsWith(&quot;&gt;&quot;)) { errMsg.append(&quot;Missing Closing Bracket (&gt;)! &quot;); }\r\n            \r\n            // Remove the brackets from the suppliec vector string:\r\n            cl = cl.replaceAll(&quot;[&lt;&gt;]&quot;, &quot;&quot;);\r\n            \r\n            // If the current vector string does not contain a comma (,).\r\n            if (!cl.contains(&quot;,&quot;)) { errMsg.append(&quot;Missing comma (,) delimiter between coordinates! &quot;); }\r\n            \r\n            // Otherwise...split the coordinate values and validate them:\r\n            else {\r\n                /* Split the coordinate values based on a comma delimter \r\n                   and 0 to unlimited number of spaces after the comma.  */\r\n                String[] coords = cl.split(&quot;,\\\\s*&quot;);\r\n                \r\n                // If the length of coords = 0 then no coordinate values were supplied!\r\n                if (coords.length == 0) { errMsg.append(&quot;Missing the X/Y Coordinates!&quot;); }\r\n                \r\n                // If the length of coords = 1 then there was no `y` coordinate value supplied!\r\n                else if (coords.length == 1) { errMsg.append(&quot;Missing the Y Coordinate!&quot;); }\r\n                \r\n                // If `coords[0]` is empty then there is no `x` coordinate value supplied!\r\n                else if (coords[0].isEmpty()) { errMsg.append(&quot;Missing the X Coordinate!&quot;); }\r\n            }\r\n            \r\n            // Inform User of all the problems and return `null`:\r\n            System.err.println(&quot;Vector Parse Error! - Invalid Vector Data Supplied (&quot; \r\n                               + commandLine + &quot;)! - &quot; + errMsg.toString());\r\n            return null;\r\n        }\r\n        \r\n        // Yes...The supplied Vector String appears to be valid!\r\n        /* Remove the brackets (using the `String#substring()` method) \r\n           and split the coordinate values into a String[] arrays based \r\n           on a comma delimter and 0 to unlimited number of spaces after \r\n           the comma (if any):               */\r\n        String[] xy_coords = commandLine.substring(1, commandLine.length() - 1).split(&quot;,\\\\s*&quot;);\r\n        \r\n         /* Convert the above array x and y coordinate string numerical values \r\n            to double type values:           */\r\n        x = Double.parseDouble(xy_coords[0]);\r\n        y = Double.parseDouble(xy_coords[1]);\r\n        \r\n        // Create a new VectorCoordinate and return it.\r\n        return new VectorCoordinate(x, y);\r\n    }\r\n}\r\n```\r\n\r\n**The VectorCoordinate class:**\r\n\r\n```\r\npublic class VectorCoordinate {\r\n    \r\n    double x;\r\n    double y;\r\n    \r\n    /**\r\n     * There are no Setters for `x` and `y`, only Getters. Typical setting of \r\n     * `x` and `y` would be through this constructor.&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * @param x (double)\r\n     * \r\n     * @param y (double)\r\n     */\r\n    public VectorCoordinate(double x, double y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public double getX() {\r\n        return this.x;\r\n    }\r\n\r\n    public double getY() {\r\n        return this.y;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return this.x + &quot;, &quot; + this.y;\r\n    }\r\n}\r\n```","title":"Issue with reading user input in Java (Delimiter/Pattern issue)","body":"<p>I don't think the <strong>Scanner#useDelimiter()</strong> is really what you want to use for this sort of thing. You are expecting the User to enter in vector data then you want to validate that entry to ensure it is in the correct format. If it isn't then provide a relatively detailed reason why it's not valid.</p>\n<p>To be honest, entry mistakes will always be done especially if it involves more that one character but, the User will have far greater success with his/her entries if....they know exactly what they are expected to enter. Throw the User a bone and let them know before you toss out a prompt like: <code>&quot;Please enter your vector&quot;</code>. You would find that if an entry error is made, then just an <code>Invalid Entry! (34.4, 55.1&gt;) - Try again...</code> message should pretty much suffice. The User can see exactly where the problem is and then make a correct attempt.</p>\n<p>To validate the a User's entry, the <a href=\"https://www.tutorialspoint.com/java/java_string_matches.htm\" rel=\"nofollow noreferrer\">String#matches()</a> method can be used along with a <a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">Regular Expression</a> (regex), for <em>example</em>:</p>\n<pre><code>String commandLine = &quot;&quot;;\nwhile (commandLine.isEmpty()) {\n    System.out.print(&quot;Please enter your vector data (q to quit): -&gt; &quot;);\n    commandLine = userInputScanner.nextLine().trim();\n\n    /* Validate Entry - If the entry does NOT match the regex \n       then inform User and allow him/her to try again.    */\n    if (!commandLine.matches(&quot;^(\\\\&lt;(-?\\\\d+(\\\\.\\\\d+)?),\\\\s?(-?\\\\d+(\\\\.\\\\d+)?)\\\\&gt;)$&quot;)) {\n        System.out.println(&quot;Invalid Vector Entry Supplied! (&quot; + commandLine + &quot;) - Try again...&quot; );\n        commandLine = &quot;&quot;;  // Empty `commandLine` to ensure re-loop.\n    }\n}\nVectorCoordinate vc = VectorCalculator.parseVectorString(commandLine);\n</code></pre>\n<p><strong>What does the regex passed to the <a href=\"https://www.tutorialspoint.com/java/java_string_matches.htm\" rel=\"nofollow noreferrer\">String#matches()</a> method mean?</strong></p>\n<ul>\n<li><code>^</code> Asserts position at start of the String;</li>\n<li><code>\\\\&lt;</code> The first literal character must be the Less-Than (&lt;) character;</li>\n<li><code>(-?\\\\d+(\\\\.\\\\d+)?)</code> Next must be a string representation of a signed\nor unsigned Integer or Floating Point value;</li>\n<li><code>,</code> The supplied numerical value must be followed by a comma (,);</li>\n<li><code>\\\\s?</code> The comma may or may not be followed by a single white-space;</li>\n<li><code>(-?\\\\d+(\\\\.\\\\d+)?)</code> The comma (or comma + white-space) must be followed by a string\nrepresentation of a signed or unsigned Integer or Floating Point\nvalue;</li>\n<li><code>\\\\&gt;</code> The last literal character must be the Greater-Than (&gt;)\ncharacter;</li>\n<li><code>$</code> Asserts position at the end of the String.</li>\n</ul>\n<p>Below is a runnable which <em>similarly</em> puts the above code into practice. The application consists of three classes, the <strong>MainStartClass</strong> class, the <strong>VectorCalculator</strong> class, and the <strong>VectoCoordinate</strong> class. The User supplied Vector data is placed into an instance of VectorCoordinate which will hold the <code>x</code> and <code>y</code> coordintes supplied. The User can continuously supply vector coordinates until 'q' for quit is entered. All VectorCoordinate instances are stored within a List Interface of VectorCoordinate which can be displayed when the User quits. Please be sure to read all the comments in code:</p>\n<hr />\n<p><strong>The MainStartClass class:</strong></p>\n<pre><code>public class MainStartClass {\n\n    /**\n     * First (and ONLY) Scanner object for `System.in`:&lt;br&gt;\n     * Do Not close this resource unless you are absolutely sure\n     * you will not need it again during your application run. If\n     * you do, you will need to restart your application in order\n     * to use `System.in` again. The JVM will automatically close \n     * this resource when the application ends. This object can be \n     * used globally:                 \n    */\n    public final static java.util.Scanner userInputScanner = new java.util.Scanner(System.in); \n    \n    /**\n     * A List Interface object of VectorCoordinate to store \n     * valid User supplied vector data: (see VectorCoordinate\n     * class). This object can be used globally:   \n    */\n    public static java.util.List&lt;VectorCoordinate&gt; coordsList = new java.util.ArrayList&lt;&gt;();\n    \n    /**\n     * Not all Terminal or Console windows utilize the same newline \n     * character sequence. This ensures that the `newline` character \n     * sequence complies with the Operating System this application \n     * is run in. This object can be used globally: \n     */\n    public static final String LS = System.lineSeparator();\n    \n    \n    // Application entry point:\n    public static void main(String[] args) {\n        /* App started this way to avoid the need for statics \n           (unless we actually want them):        */\n        new MainStartClass().startApp(args);\n    }\n    \n    private void startApp(String[] args) {\n        /* Inform what application is about. Give Users a fighting chance\n           towards a proper entry. Let them know what is expected of them:  */\n        System.out.println(&quot;Welcome to the Vector Calculator:&quot; + LS \n                         + &quot;=================================&quot; + LS\n                         + &quot;You will be prompted to enter vector data which will ultimately&quot; + LS \n                         + &quot;get parsed into X and Y Coordinates. All supplied coordinates&quot; + LS \n                         + &quot;are to be enclosed within Chevron Brackets (&lt; &gt;) and delimited&quot; + LS \n                         + &quot;with a comma (,). Both Integer and or Floating Point values can&quot; + LS \n                         + &quot;be supplied. The Integer values will be auto-converted to double&quot; + LS \n                         + &quot;type. Here is an example entry: -  &lt;26, 67.8&gt;&quot; + LS \n                         + &quot;----------------------------------------------------------------&quot; + LS); \n        \n        // Prompt #1 - Prompt for User to enter in Vector data:\n        String commandLine = &quot;&quot;;\n        \n        // Continually ask User for vector data unless 'q' was supplied to quit:\n        while (commandLine.isEmpty()) {\n            System.out.print(&quot;Please enter your vector data (q to quit): -&gt; &quot;); \n            commandLine = userInputScanner.nextLine().trim(); \n            \n            // Was 'q' supplied to quit?\n            if (commandLine.equalsIgnoreCase(&quot;q&quot;)) {\n                // Is quit really desired (see the `quit()` method)?\n                if(!quit()) {\n                    // No...Empty `commandLine` so to ensure re-loop:\n                    commandLine = &quot;&quot;;\n                }\n                // Otherwise...\n                continue; // Because `commandLine` is not empty, this will exit the `while` loop\n            }\n            \n            /* Parse the supplied vector string and print out values.\n               If `vc` does not equal null, then the User entry is valid \n               and is stored as `VectorCoordinate` (see the VectorCoordinate \n               Class - Also see the `VectorCalculator` class `parseVectorString()`\n               method):                                               */\n            VectorCoordinate vc = VectorCalculator.parseVectorString(commandLine); \n            if (vc != null) {\n                coordsList.add(vc);  // Add valid entry to List.\n                System.out.println(&quot;X Coordinate = &quot; + vc.getX() + &quot;  |  Y Coordinate = &quot; + vc.getY());\n            }\n            // Otherwise...\n            commandLine = &quot;&quot;;       // Empty `commandLine` so to ensure re-loop.\n            System.out.println();   // Display a blank line for aesthetics.\n        }\n    }\n    \n    /**\n     * This method prompts the User to ensure that he/she truly wants to \n     * quit the application. \n     * &lt;p&gt;\n     * If `n` (no) is supplied, then boolean false is returned and this \n     * then gets interpreted that quit is not desired and the application \n     * continues to prompt for, and accept, Vector entries.\n     * &lt;p&gt;\n     * If `y` (yes) is supplied then the User is confronted with yet \n     * another prompt which asks if he/she wants to display the stored \n     * Vector entries. If at this point `n` (no) is supplied then the \n     * application will simply return boolean true which is later interpreted \n     * as a desire to quit. If however, `y` (yes) is supplied, then \n     * the User is displayed all the stored vector entries and then the \n     * application simply returns true which is also later interpreted as \n     * a desire to quit.&lt;br&gt;&lt;br&gt;\n     * \n     * @return (boolean) \n     */\n    private boolean quit() {\n        boolean res = false;\n        // Prompt #2 - Prompt for `Are You Sure...`:\n        String yn = &quot;&quot;;\n        while (yn.isEmpty()) {\n            System.out.print(&quot;Are you sure you want to quit (y/n)? -&gt; &quot;);\n            yn = userInputScanner.nextLine().trim();\n            if (!yn.matches(&quot;(?i)[yn]&quot;)) {\n                System.err.println(&quot;Invalid Entry Response! Try again...&quot; + LS);\n                yn = &quot;&quot;;\n            }\n        }\n        if (yn.equalsIgnoreCase(&quot;y&quot;)) {\n            // Prompt #3 - Prompt to display store Vector entries but only if there are any: \n            yn = &quot;&quot;;\n            while (yn.isEmpty() &amp;&amp; !coordsList.isEmpty()) {\n                System.out.print(&quot;Do you want to display all User Entered Vectors first? -&gt; &quot;);\n                yn = userInputScanner.nextLine().trim();\n                if (!yn.matches(&quot;(?i)[yn]&quot;)) {\n                    System.err.println(&quot;Invalid Entry Response! Try again...&quot; + LS);\n                    yn = &quot;&quot;;\n                }\n            }\n            if (yn.equalsIgnoreCase(&quot;y&quot;)) {\n                System.out.println(LS + &quot;Vectors Entered By User:&quot; + LS +\n                                        &quot;------------------------&quot;);\n                for (VectorCoordinate c : coordsList) {\n                    System.out.printf(&quot;X = %-10s Y = %-10s%n&quot;, c.getX(), c.getY());\n                }\n                System.out.println(&quot;------------------------&quot;);\n            }\n            System.out.println(LS + &quot;Quiting - Bye Bye.&quot; + LS);\n            res = true;\n        }\n        return res;\n    }\n}\n</code></pre>\n<p><strong>The VectorCalculator class:</strong></p>\n<pre><code>/**\n * Used for validating and parsing supplied vector coordinate strings\n * from User.\n */\npublic class VectorCalculator {\n\n    /**\n     * Used for validating and parsing supplied vector coordinate strings.&lt;br&gt;&lt;br&gt;\n     * \n     * @param commandLine (String) Vector data in the format: {@code &quot;&lt;n, n&gt;&quot;}.&lt;br&gt;\n     * @return \n     */\n    public static VectorCoordinate parseVectorString(String commandLine) {\n        double x = 0.0d;    // To hold the Vector X Coordinate:\n        double y = 0.0d;    // To hold the Vector Y Coordinate:\n        \n        /* Validate supplied commandLine string:\n           Is the supplied string in `commandLine` valid?     */\n        if (!commandLine.matches(&quot;^(\\\\&lt;(-?\\\\d+(\\\\.\\\\d+)?),\\\\s?(-?\\\\d+(\\\\.\\\\d+)?)\\\\&gt;)$&quot;)) {\n            // No... Determine what is wrong with it and display that info:\n            /* Copy commandLine into `cl` but first, remove any possible double \n               (or more) white-spacing from within the vector string and make \n               them single spaced. Also trim of any leading or trailing white-\n            spaces:                    */\n            String cl = commandLine.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;).trim();\n            \n            // Prepare for error messaging. All errors found are concantenated together:\n            StringBuilder errMsg = new StringBuilder(&quot;&quot;);\n            \n            // Is the supplied vector string empty?\n            if (cl.isEmpty()) { errMsg.append(&quot;The supplied Vector string can not be empty! &quot;); }\n            \n            // If the supplied string doesn't start with the '&lt;' character:\n            if (!cl.startsWith(&quot;&lt;&quot;)) { errMsg.append(&quot;Missing Opening Bracket (&lt;)! &quot;); }\n            \n            // If the supplied string doesn't end with the '&gt;' character:\n            if (!cl.endsWith(&quot;&gt;&quot;)) { errMsg.append(&quot;Missing Closing Bracket (&gt;)! &quot;); }\n            \n            // Remove the brackets from the suppliec vector string:\n            cl = cl.replaceAll(&quot;[&lt;&gt;]&quot;, &quot;&quot;);\n            \n            // If the current vector string does not contain a comma (,).\n            if (!cl.contains(&quot;,&quot;)) { errMsg.append(&quot;Missing comma (,) delimiter between coordinates! &quot;); }\n            \n            // Otherwise...split the coordinate values and validate them:\n            else {\n                /* Split the coordinate values based on a comma delimter \n                   and 0 to unlimited number of spaces after the comma.  */\n                String[] coords = cl.split(&quot;,\\\\s*&quot;);\n                \n                // If the length of coords = 0 then no coordinate values were supplied!\n                if (coords.length == 0) { errMsg.append(&quot;Missing the X/Y Coordinates!&quot;); }\n                \n                // If the length of coords = 1 then there was no `y` coordinate value supplied!\n                else if (coords.length == 1) { errMsg.append(&quot;Missing the Y Coordinate!&quot;); }\n                \n                // If `coords[0]` is empty then there is no `x` coordinate value supplied!\n                else if (coords[0].isEmpty()) { errMsg.append(&quot;Missing the X Coordinate!&quot;); }\n            }\n            \n            // Inform User of all the problems and return `null`:\n            System.err.println(&quot;Vector Parse Error! - Invalid Vector Data Supplied (&quot; \n                               + commandLine + &quot;)! - &quot; + errMsg.toString());\n            return null;\n        }\n        \n        // Yes...The supplied Vector String appears to be valid!\n        /* Remove the brackets (using the `String#substring()` method) \n           and split the coordinate values into a String[] arrays based \n           on a comma delimter and 0 to unlimited number of spaces after \n           the comma (if any):               */\n        String[] xy_coords = commandLine.substring(1, commandLine.length() - 1).split(&quot;,\\\\s*&quot;);\n        \n         /* Convert the above array x and y coordinate string numerical values \n            to double type values:           */\n        x = Double.parseDouble(xy_coords[0]);\n        y = Double.parseDouble(xy_coords[1]);\n        \n        // Create a new VectorCoordinate and return it.\n        return new VectorCoordinate(x, y);\n    }\n}\n</code></pre>\n<p><strong>The VectorCoordinate class:</strong></p>\n<pre><code>public class VectorCoordinate {\n    \n    double x;\n    double y;\n    \n    /**\n     * There are no Setters for `x` and `y`, only Getters. Typical setting of \n     * `x` and `y` would be through this constructor.&lt;br&gt;&lt;br&gt;\n     * \n     * @param x (double)\n     * \n     * @param y (double)\n     */\n    public VectorCoordinate(double x, double y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public double getX() {\n        return this.x;\n    }\n\n    public double getY() {\n        return this.y;\n    }\n\n    @Override\n    public String toString() {\n        return this.x + &quot;, &quot; + this.y;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29468521,"reputation":1,"user_id":22581585,"display_name":"Colin Baumgartner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695213864,"creation_date":1694990035,"question_id":77123847,"body_markdown":"This program takes input from the user in the form of a vector `&lt;xcoord,ycoord&gt;`. I have successfully got the buffer from the user. \r\n\r\nI&#39;ve debugged this and found out the `.hasNext()` part of this isn&#39;t detecting the first `&lt;` in my code and it outputs the `&quot;Missing the first arrow&quot;` exception. Any help on this?\r\n\r\nMy code:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    System.out.println(&quot;Welcome to the Vector Calculator!&quot;); //display messages to the user&#39;\r\n    System.out.println(&quot;Please enter your vector&quot;); //display messages to the user&#39;\r\n    Scanner userInputScanner = new Scanner(System.in); //first scanner\r\n    String commandLine = userInputScanner.nextLine(); //buffer is read in correctly\r\n    userInputScanner.close();\r\n    VectorCalculator.parseVectorString(commandLine); //parse vector string and print out values.**\r\n    }\r\n}\r\n```\r\n\r\nThen to this method (important code commented with ****):\r\n\r\n```\r\npublic boolean read(String commandLine) throws Exception {\r\n\r\n     Scanner scanner = new Scanner(commandLine); // ****\r\n\r\n     Pattern originalPattern = scanner.delimiter(); //retain original delimiters for scanner\r\n     scanner.useDelimiter(&quot;[&quot; + originalPattern + &quot;,]&quot;); // add comma to delimiters\r\n     scanner.useDelimiter(&quot; &quot;);\r\n     if(scanner.hasNext(&quot;&lt;&quot;)){ //\r\n         scanner.next(&quot;&lt;&quot;); //gobble up the &#39;&lt;&#39;\r\n         if(scanner.hasNextDouble()) {\r\n             xCoord = scanner.nextDouble(); //capture the x coordinate\r\n             //scanner.useDelimiter(originalPattern); //restore original delimiters\r\n             if(scanner.hasNext(&quot;,&quot;)){\r\n                 scanner.next(&quot;,&quot;); //gobble up the comma\r\n                 if(scanner.hasNextDouble()){\r\n                     yCoord = scanner.nextDouble(); //capture the y coordinate\r\n                     //scanner.useDelimiter(originalPattern); //restore original delimiters\r\n                     if(scanner.hasNext(&quot;&gt;&quot;)){\r\n                         scanner.next(&quot;&gt;&quot;);\r\n                         scanner.close();\r\n                         return true;\r\n                     } else {\r\n                         scanner.close();\r\n                         throw new Exception(&quot;Missing the end arrow&quot;);\r\n                     }\r\n                 } else {\r\n                     scanner.close();\r\n                     throw new Exception(&quot;Missing the y coord&quot;);\r\n                 }\r\n             } else {\r\n                 scanner.close();\r\n                 throw new Exception(&quot;Missing the middle comma&quot;);\r\n             }\r\n         } else {\r\n             scanner.close();\r\n             throw new Exception(&quot;Missing the x coord&quot;);\r\n         }\r\n     } else {\r\n         scanner.close();\r\n         throw new Exception(&quot;Missing the first arrow&quot;);\r\n     }\r\n}\r\n```\r\n","title":"Issue with reading user input in Java (Delimiter/Pattern issue)","body":"<p>This program takes input from the user in the form of a vector <code>&lt;xcoord,ycoord&gt;</code>. I have successfully got the buffer from the user.</p>\n<p>I've debugged this and found out the <code>.hasNext()</code> part of this isn't detecting the first <code>&lt;</code> in my code and it outputs the <code>&quot;Missing the first arrow&quot;</code> exception. Any help on this?</p>\n<p>My code:</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(&quot;Welcome to the Vector Calculator!&quot;); //display messages to the user'\n    System.out.println(&quot;Please enter your vector&quot;); //display messages to the user'\n    Scanner userInputScanner = new Scanner(System.in); //first scanner\n    String commandLine = userInputScanner.nextLine(); //buffer is read in correctly\n    userInputScanner.close();\n    VectorCalculator.parseVectorString(commandLine); //parse vector string and print out values.**\n    }\n}\n</code></pre>\n<p>Then to this method (important code commented with ****):</p>\n<pre><code>public boolean read(String commandLine) throws Exception {\n\n     Scanner scanner = new Scanner(commandLine); // ****\n\n     Pattern originalPattern = scanner.delimiter(); //retain original delimiters for scanner\n     scanner.useDelimiter(&quot;[&quot; + originalPattern + &quot;,]&quot;); // add comma to delimiters\n     scanner.useDelimiter(&quot; &quot;);\n     if(scanner.hasNext(&quot;&lt;&quot;)){ //\n         scanner.next(&quot;&lt;&quot;); //gobble up the '&lt;'\n         if(scanner.hasNextDouble()) {\n             xCoord = scanner.nextDouble(); //capture the x coordinate\n             //scanner.useDelimiter(originalPattern); //restore original delimiters\n             if(scanner.hasNext(&quot;,&quot;)){\n                 scanner.next(&quot;,&quot;); //gobble up the comma\n                 if(scanner.hasNextDouble()){\n                     yCoord = scanner.nextDouble(); //capture the y coordinate\n                     //scanner.useDelimiter(originalPattern); //restore original delimiters\n                     if(scanner.hasNext(&quot;&gt;&quot;)){\n                         scanner.next(&quot;&gt;&quot;);\n                         scanner.close();\n                         return true;\n                     } else {\n                         scanner.close();\n                         throw new Exception(&quot;Missing the end arrow&quot;);\n                     }\n                 } else {\n                     scanner.close();\n                     throw new Exception(&quot;Missing the y coord&quot;);\n                 }\n             } else {\n                 scanner.close();\n                 throw new Exception(&quot;Missing the middle comma&quot;);\n             }\n         } else {\n             scanner.close();\n             throw new Exception(&quot;Missing the x coord&quot;);\n         }\n     } else {\n         scanner.close();\n         throw new Exception(&quot;Missing the first arrow&quot;);\n     }\n}\n</code></pre>\n"},{"tags":["java","parsing","antlr","logical-operators","conditional-operator"],"comments":[{"owner":{"account_id":27375673,"reputation":87,"user_id":20881060,"display_name":"Berc07"},"score":1,"creation_date":1694708185,"post_id":77106698,"comment_id":135930092,"body_markdown":"Try putting a &#39;\\&#39; (backslash) before the special character.","body":"Try putting a &#39;\\&#39; (backslash) before the special character."},{"owner":{"account_id":13988272,"reputation":13,"user_id":10102838,"display_name":"User1512"},"score":0,"creation_date":1694709447,"post_id":77106698,"comment_id":135930318,"body_markdown":"Unfortunately I can&#39;t pass backslash in the input as it might affect the requirement :(","body":"Unfortunately I can&#39;t pass backslash in the input as it might affect the requirement :("},{"owner":{"account_id":50123,"reputation":365473,"user_id":149392,"display_name":"sepp2k"},"score":1,"creation_date":1694718911,"post_id":77106698,"comment_id":135931950,"body_markdown":"Where in your grammar are you trying to accept commas?","body":"Where in your grammar are you trying to accept commas?"}],"answers":[{"comments":[{"owner":{"account_id":13988272,"reputation":13,"user_id":10102838,"display_name":"User1512"},"score":0,"creation_date":1694806252,"post_id":77107965,"comment_id":135944543,"body_markdown":"thanks for your answer. I&#39;m still getting exception &quot;error(122): Filter.g4:7:0: rule expression: must label all alternatives or none&quot;. By the way I would like to pass other special characters as well, as its user input and any values can have special characters in it. Will it be possible for me to provide a grammar for accepting special characters anywhere within a given expression?","body":"thanks for your answer. I&#39;m still getting exception &quot;error(122): Filter.g4:7:0: rule expression: must label all alternatives or none&quot;. By the way I would like to pass other special characters as well, as its user input and any values can have special characters in it. Will it be possible for me to provide a grammar for accepting special characters anywhere within a given expression?"},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1694873509,"post_id":77107965,"comment_id":135950146,"body_markdown":"Then you did not do as I suggested :)","body":"Then you did not do as I suggested :)"},{"owner":{"account_id":13988272,"reputation":13,"user_id":10102838,"display_name":"User1512"},"score":0,"creation_date":1695213750,"post_id":77107965,"comment_id":135993897,"body_markdown":"I added the same statement as you mentioned but somehow it was throwing exception. Now it&#39;s working fine :)","body":"I added the same statement as you mentioned but somehow it was throwing exception. Now it&#39;s working fine :)"},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1695229612,"post_id":77107965,"comment_id":135997780,"body_markdown":"You forgot to add `#multipleExpression` at the end of the alternative (which I suggested you do). If it now works, you probably just added it. The error can&#39;t miraculously have disappeared :)","body":"You forgot to add <code>#multipleExpression</code> at the end of the alternative (which I suggested you do). If it now works, you probably just added it. The error can&#39;t miraculously have disappeared :)"}],"tags":[],"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694940786,"creation_date":1694720751,"answer_id":77107965,"question_id":77106698,"body_markdown":"Add `expression ( &#39;,&#39; expression )+` at the start of the `expression` rule:\r\n\r\n```\r\nexpression\r\n : expression ( &#39;,&#39; expression )+ #multipleExpression\r\n | ...\r\n ;\r\n```\r\n\r\n### EDIT\r\n\r\nAfter adding the rule above:\r\n\r\n```\r\ngrammar SimpleBoolean;\r\n\r\nparse\r\n : expression EOF\r\n ;\r\n\r\nexpression\r\n : expression ( &#39;,&#39; expression )+                 #multipleExpression\r\n | LPAREN expression RPAREN                       #parenExpression\r\n | NOT expression                                 #notExpression\r\n | left=expression op=comparator right=expression #comparatorExpression\r\n | left=expression op=binary right=expression     #binaryExpression\r\n | bool                                           #boolExpression\r\n | IDENTIFIER                                     #identifierExpression\r\n | DECIMAL                                        #decimalExpression\r\n ;\r\n\r\ncomparator\r\n : GT | GE | LT | LE | EQ | NE | IN | NOTIN | STARTSWITH | ENDSWITH | NULL | NOTNULL\r\n ;\r\n\r\nbinary\r\n : AND | OR\r\n ;\r\n\r\nbool\r\n : TRUE | FALSE\r\n ;\r\n\r\nAND        : &#39;AND&#39; ;\r\nOR         : &#39;OR&#39; ;\r\nNOT        : &#39;NOT&#39;;\r\nTRUE       : &#39;TRUE&#39; ;\r\nFALSE      : &#39;FALSE&#39; ;\r\nGT         : &#39;&gt;&#39; ;\r\nGE         : &#39;&gt;=&#39; ;\r\nLT         : &#39;&lt;&#39; ;\r\nLE         : &#39;&lt;=&#39; ;\r\nEQ         : &#39;=&#39; ;\r\nNE         : &#39;!=&#39; ;\r\nIN         : &#39;IN&#39; ;\r\nNOTIN      : &#39;NOTIN&#39; ;\r\nSTARTSWITH : &#39;STARTSWITH&#39; ;\r\nENDSWITH   : &#39;ENDSWITH&#39; ;\r\nNULL       : &#39;NULL&#39; ;\r\nNOTNULL    : &#39;NOTNULL&#39; ;\r\nLPAREN     : &#39;(&#39; ;\r\nRPAREN     : &#39;)&#39; ;\r\nDECIMAL    : &#39;-&#39;? [0-9]+ ( &#39;.&#39; [0-9]+ )? ;\r\nIDENTIFIER : [a-zA-Z_] [a-zA-Z_0-9]* ;\r\nWS         : [ \\r\\t\\u000C\\n]+ -&gt; skip;\r\n```\r\n\r\nyour example input `9355560 = 9355560 AND NOT ( comments = comments AND system IN system,admin,developer )` gets parsed as follows (without errors!):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tPJFn.png","title":"ANTLR accepting special characters like . (dot) and , (comma) in identifier or expression","body":"<p>Add <code>expression ( ',' expression )+</code> at the start of the <code>expression</code> rule:</p>\n<pre><code>expression\n : expression ( ',' expression )+ #multipleExpression\n | ...\n ;\n</code></pre>\n<h3>EDIT</h3>\n<p>After adding the rule above:</p>\n<pre><code>grammar SimpleBoolean;\n\nparse\n : expression EOF\n ;\n\nexpression\n : expression ( ',' expression )+                 #multipleExpression\n | LPAREN expression RPAREN                       #parenExpression\n | NOT expression                                 #notExpression\n | left=expression op=comparator right=expression #comparatorExpression\n | left=expression op=binary right=expression     #binaryExpression\n | bool                                           #boolExpression\n | IDENTIFIER                                     #identifierExpression\n | DECIMAL                                        #decimalExpression\n ;\n\ncomparator\n : GT | GE | LT | LE | EQ | NE | IN | NOTIN | STARTSWITH | ENDSWITH | NULL | NOTNULL\n ;\n\nbinary\n : AND | OR\n ;\n\nbool\n : TRUE | FALSE\n ;\n\nAND        : 'AND' ;\nOR         : 'OR' ;\nNOT        : 'NOT';\nTRUE       : 'TRUE' ;\nFALSE      : 'FALSE' ;\nGT         : '&gt;' ;\nGE         : '&gt;=' ;\nLT         : '&lt;' ;\nLE         : '&lt;=' ;\nEQ         : '=' ;\nNE         : '!=' ;\nIN         : 'IN' ;\nNOTIN      : 'NOTIN' ;\nSTARTSWITH : 'STARTSWITH' ;\nENDSWITH   : 'ENDSWITH' ;\nNULL       : 'NULL' ;\nNOTNULL    : 'NOTNULL' ;\nLPAREN     : '(' ;\nRPAREN     : ')' ;\nDECIMAL    : '-'? [0-9]+ ( '.' [0-9]+ )? ;\nIDENTIFIER : [a-zA-Z_] [a-zA-Z_0-9]* ;\nWS         : [ \\r\\t\\u000C\\n]+ -&gt; skip;\n</code></pre>\n<p>your example input <code>9355560 = 9355560 AND NOT ( comments = comments AND system IN system,admin,developer )</code> gets parsed as follows (without errors!):</p>\n<p><a href=\"https://i.stack.imgur.com/tPJFn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tPJFn.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13988272,"reputation":13,"user_id":10102838,"display_name":"User1512"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77107965,"answer_count":1,"score":1,"last_activity_date":1695213840,"creation_date":1694707809,"question_id":77106698,"body_markdown":"I&#39;m trying to execute dynamic expressions for the input data (Map) using ANTLR and using the answer of @Bart Kiers from the [stackoverflow&#39;s post](https://stackoverflow.com/questions/30976962/nested-boolean-expression-parser-using-antlr) I was able to do it.\r\n\r\nI tried to add `IN`, `STARTSWITH`, `ENDSWITH `condition with in the grammer and trying to add the logic for it from the java end. For the case of `IN `function I&#39;m trying to split a set of string using a special character preferably` , (comma)`. But when I add them in my expression I get an error as follows\r\n```\r\nline 1:64 token recognition error at: &#39;,&#39;\r\n```\r\n\r\n\r\n\r\nLet me know how to allow special characters within the expression.\r\n\r\n**The grammer file I used**\r\n\r\n    grammar SimpleBoolean;\r\n    \r\n    parse\r\n     : expression EOF\r\n     ;\r\n    \r\n    expression\r\n     : LPAREN expression RPAREN                       #parenExpression\r\n     | NOT expression                                 #notExpression\r\n     | left=expression op=comparator right=expression #comparatorExpression\r\n     | left=expression op=binary right=expression     #binaryExpression\r\n     | bool                                           #boolExpression\r\n     | IDENTIFIER                                     #identifierExpression\r\n     | DECIMAL                                        #decimalExpression\r\n     ;\r\n    \r\n    comparator\r\n     : GT | GE | LT | LE | EQ | NE | IN | NOTIN | STARTSWITH | ENDSWITH | NULL | NOTNULL\r\n     ;\r\n    \r\n    binary\r\n     : AND | OR\r\n     ;\r\n    \r\n    bool\r\n     : TRUE | FALSE\r\n     ;\r\n    \r\n    AND        : &#39;AND&#39; ;\r\n    OR         : &#39;OR&#39; ;\r\n    NOT        : &#39;NOT&#39;;\r\n    TRUE       : &#39;TRUE&#39; ;\r\n    FALSE      : &#39;FALSE&#39; ;\r\n    GT         : &#39;&gt;&#39; ;\r\n    GE         : &#39;&gt;=&#39; ;\r\n    LT         : &#39;&lt;&#39; ;\r\n    LE         : &#39;&lt;=&#39; ;\r\n    EQ         : &#39;=&#39; ;\r\n    NE         : &#39;!=&#39; ;\r\n    IN         : &#39;IN&#39; ;\r\n    NOTIN      : &#39;NOTIN&#39; ;\r\n    STARTSWITH : &#39;STARTSWITH&#39; ;\r\n    ENDSWITH   : &#39;ENDSWITH&#39; ;\r\n    NULL       : &#39;NULL&#39; ;\r\n    NOTNULL    : &#39;NOTNULL&#39; ;\r\n    LPAREN     : &#39;(&#39; ;\r\n    RPAREN     : &#39;)&#39; ;\r\n    DECIMAL    : &#39;-&#39;? [0-9]+ ( &#39;.&#39; [0-9]+ )? ;\r\n    IDENTIFIER : [a-zA-Z_] [a-zA-Z_0-9]* ;\r\n    WS         : [ \\r\\t\\u000C\\n]+ -&gt; skip;\r\n\r\nModified **EvalVisitor.class**\r\n\r\nAdded the below lines\r\n\r\n    if (ctx.op.EQ() != null) {\r\n    \t      return this.visit(ctx.left).equals(this.visit(ctx.right));\r\n    \t    }\r\n    \t    else if (ctx.op.IN() != null) {\r\n    \t    \tString checkVal[] = this.visit(ctx.right).toString().split(&quot;,&quot;);\r\n        \t\tboolean valuePresent = false;\r\n        \t\t\r\n        \t\tfor(String value : checkVal) {\r\n                    if(value.equals(this.visit(ctx.left).toString()))\r\n                    \tvaluePresent = true;\r\n                }\r\n        \t\treturn valuePresent;\r\n    \t\t}\r\n\r\nThe **Expression** I passed,\r\n\r\n    ID = ID AND NOT ( comments = comments AND system IN system,admin,developer )","title":"ANTLR accepting special characters like . (dot) and , (comma) in identifier or expression","body":"<p>I'm trying to execute dynamic expressions for the input data (Map) using ANTLR and using the answer of @Bart Kiers from the <a href=\"https://stackoverflow.com/questions/30976962/nested-boolean-expression-parser-using-antlr\">stackoverflow's post</a> I was able to do it.</p>\n<p>I tried to add <code>IN</code>, <code>STARTSWITH</code>, <code>ENDSWITH </code>condition with in the grammer and trying to add the logic for it from the java end. For the case of <code>IN </code>function I'm trying to split a set of string using a special character preferably<code> , (comma)</code>. But when I add them in my expression I get an error as follows</p>\n<pre><code>line 1:64 token recognition error at: ','\n</code></pre>\n<p>Let me know how to allow special characters within the expression.</p>\n<p><strong>The grammer file I used</strong></p>\n<pre><code>grammar SimpleBoolean;\n\nparse\n : expression EOF\n ;\n\nexpression\n : LPAREN expression RPAREN                       #parenExpression\n | NOT expression                                 #notExpression\n | left=expression op=comparator right=expression #comparatorExpression\n | left=expression op=binary right=expression     #binaryExpression\n | bool                                           #boolExpression\n | IDENTIFIER                                     #identifierExpression\n | DECIMAL                                        #decimalExpression\n ;\n\ncomparator\n : GT | GE | LT | LE | EQ | NE | IN | NOTIN | STARTSWITH | ENDSWITH | NULL | NOTNULL\n ;\n\nbinary\n : AND | OR\n ;\n\nbool\n : TRUE | FALSE\n ;\n\nAND        : 'AND' ;\nOR         : 'OR' ;\nNOT        : 'NOT';\nTRUE       : 'TRUE' ;\nFALSE      : 'FALSE' ;\nGT         : '&gt;' ;\nGE         : '&gt;=' ;\nLT         : '&lt;' ;\nLE         : '&lt;=' ;\nEQ         : '=' ;\nNE         : '!=' ;\nIN         : 'IN' ;\nNOTIN      : 'NOTIN' ;\nSTARTSWITH : 'STARTSWITH' ;\nENDSWITH   : 'ENDSWITH' ;\nNULL       : 'NULL' ;\nNOTNULL    : 'NOTNULL' ;\nLPAREN     : '(' ;\nRPAREN     : ')' ;\nDECIMAL    : '-'? [0-9]+ ( '.' [0-9]+ )? ;\nIDENTIFIER : [a-zA-Z_] [a-zA-Z_0-9]* ;\nWS         : [ \\r\\t\\u000C\\n]+ -&gt; skip;\n</code></pre>\n<p>Modified <strong>EvalVisitor.class</strong></p>\n<p>Added the below lines</p>\n<pre><code>if (ctx.op.EQ() != null) {\n          return this.visit(ctx.left).equals(this.visit(ctx.right));\n        }\n        else if (ctx.op.IN() != null) {\n            String checkVal[] = this.visit(ctx.right).toString().split(&quot;,&quot;);\n            boolean valuePresent = false;\n            \n            for(String value : checkVal) {\n                if(value.equals(this.visit(ctx.left).toString()))\n                    valuePresent = true;\n            }\n            return valuePresent;\n        }\n</code></pre>\n<p>The <strong>Expression</strong> I passed,</p>\n<pre><code>ID = ID AND NOT ( comments = comments AND system IN system,admin,developer )\n</code></pre>\n"},{"tags":["java","android","kotlin","android-navigation-graph"],"owner":{"account_id":7544172,"reputation":417,"user_id":5727849,"display_name":"Thang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695213014,"creation_date":1695213014,"question_id":77142459,"body_markdown":"I don&#39;t have any idea for this request yet: Can anyone help me with an idea? I would be very grateful.\r\nI have a request like this. On my android screen.  There can be many levels of menus. For example If there was only 1 menu level it would look like the first image. And when I click on the area I drew in red, it will display the content on the right side.\r\nBut if my menu has 2 levels it will look like the 2nd image.\r\nOn the contrary, if my menu has more than 2 levels, the next level will replace the previous level. it&#39;s like from 2nd image to 3rd image.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/OrkIj.jpg)](https://i.stack.imgur.com/OrkIj.jpg)\r\n\r\nI have no ideal for now.","title":"How to do Sub Menu with Mutiple Level in Android Kotlin","body":"<p>I don't have any idea for this request yet: Can anyone help me with an idea? I would be very grateful.\nI have a request like this. On my android screen.  There can be many levels of menus. For example If there was only 1 menu level it would look like the first image. And when I click on the area I drew in red, it will display the content on the right side.\nBut if my menu has 2 levels it will look like the 2nd image.\nOn the contrary, if my menu has more than 2 levels, the next level will replace the previous level. it's like from 2nd image to 3rd image.</p>\n<p><a href=\"https://i.stack.imgur.com/OrkIj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OrkIj.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I have no ideal for now.</p>\n"},{"tags":["java","string","reflection","velocity","string-interpolation"],"comments":[{"owner":{"account_id":34651,"reputation":3177,"user_id":97992,"accept_rate":80,"display_name":"Droo"},"score":2,"creation_date":1283828191,"post_id":3655424,"comment_id":3844898,"body_markdown":"Replace where? A class? A JSP?  String has a format method if you just: `String.format(&quot;Hello %s&quot;, username);`","body":"Replace where? A class? A JSP?  String has a format method if you just: <code>String.format(&quot;Hello %s&quot;, username);</code>"},{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":3,"creation_date":1283828525,"post_id":3655424,"comment_id":3844917,"body_markdown":"@Droo: In the example, string is like `Hello ${user.name}`, not like, `Hello %s` or `Hello {0}`.","body":"@Droo: In the example, string is like <code>Hello ${user.name}</code>, not like, <code>Hello %s</code> or <code>Hello {0}</code>."},{"owner":{"account_id":10611,"reputation":110117,"user_id":20128,"accept_rate":73,"display_name":"serg"},"score":3,"creation_date":1283828549,"post_id":3655424,"comment_id":3844918,"body_markdown":"If you need something that looks like velocity and smells like velocity, maybe it is velocity? :)","body":"If you need something that looks like velocity and smells like velocity, maybe it is velocity? :)"},{"owner":{"account_id":145429,"reputation":3296,"user_id":355231,"accept_rate":94,"display_name":"Sastrija"},"score":0,"creation_date":1283828798,"post_id":3655424,"comment_id":3844933,"body_markdown":"@Droo: Its not a class. I&#39;ve the above text in a &quot;String&quot; variable and wants to replace all the occurrences of the strings inside ${} with values in the corresponding objects. for example replace all ${user.name} with name property in &quot;user&quot; object.","body":"@Droo: Its not a class. I&#39;ve the above text in a &quot;String&quot; variable and wants to replace all the occurrences of the strings inside ${} with values in the corresponding objects. for example replace all ${user.name} with name property in &quot;user&quot; object."},{"owner":{"account_id":145429,"reputation":3296,"user_id":355231,"accept_rate":94,"display_name":"Sastrija"},"score":0,"creation_date":1283828876,"post_id":3655424,"comment_id":3844941,"body_markdown":"@serg: Yes it is a velocity code. and I wants to remove the velocity from my code.","body":"@serg: Yes it is a velocity code. and I wants to remove the velocity from my code."},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1429449096,"post_id":3655424,"comment_id":47594052,"body_markdown":"Possible duplicate to: http://stackoverflow.com/q/772988/435605","body":"Possible duplicate to: <a href=\"http://stackoverflow.com/q/772988/435605\">stackoverflow.com/q/772988/435605</a>"},{"owner":{"account_id":145429,"reputation":3296,"user_id":355231,"accept_rate":94,"display_name":"Sastrija"},"score":0,"creation_date":1433698521,"post_id":3655424,"comment_id":49451195,"body_markdown":"@AlikElzin-kilaka This is not a duplicate, since both posts have its own differences in requirement(though both are string replacements). Please refer the accepted answer to know what I meant.","body":"@AlikElzin-kilaka This is not a duplicate, since both posts have its own differences in requirement(though both are string replacements). Please refer the accepted answer to know what I meant."},{"owner":{"account_id":438750,"reputation":550,"user_id":827225,"display_name":"Vishnoo Rath"},"score":0,"creation_date":1509439737,"post_id":3655424,"comment_id":81008770,"body_markdown":"Maybe a bit late, but please see jeval.sourceforge.net.  I have used this in a Grails application. It is a Java library. Very useful and covers more use cases than you need. It is a Formula evaluator as well.","body":"Maybe a bit late, but please see jeval.sourceforge.net.  I have used this in a Grails application. It is a Java library. Very useful and covers more use cases than you need. It is a Formula evaluator as well."}],"answers":[{"comments":[{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":1,"creation_date":1283831556,"post_id":3655460,"comment_id":3845122,"body_markdown":"Heh, just saw this answer.  It is identical to mine.  Please let me know what you think of my implementation.","body":"Heh, just saw this answer.  It is identical to mine.  Please let me know what you think of my implementation."}],"tags":[],"owner":{"account_id":160931,"reputation":69901,"user_id":381345,"accept_rate":57,"display_name":"casablanca"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1283828465,"creation_date":1283828465,"answer_id":3655460,"question_id":3655424,"body_markdown":"Here&#39;s an outline of how you could go about doing this. It should be relatively straightforward to implement it as actual code.\r\n\r\n1. Create a map of all the objects that will be referenced in the template.\r\n2. Use a regular expression to find variable references in the template and replace them with their values (see step 3). The [Matcher](http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html) class will come in handy for find-and-replace.\r\n3. Split the variable name at the dot. `user.name` would become `user` and `name`. Look up `user` in your map to get the object and use [reflection](http://download.oracle.com/javase/tutorial/reflect/member/index.html) to obtain the value of `name` from the object. Assuming your objects have standard getters, you will look for a method `getName` and invoke it.","title":"String replacement in java, similar to a velocity template","body":"<p>Here's an outline of how you could go about doing this. It should be relatively straightforward to implement it as actual code.</p>\n\n<ol>\n<li>Create a map of all the objects that will be referenced in the template.</li>\n<li>Use a regular expression to find variable references in the template and replace them with their values (see step 3). The <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Matcher.html\" rel=\"noreferrer\">Matcher</a> class will come in handy for find-and-replace.</li>\n<li>Split the variable name at the dot. <code>user.name</code> would become <code>user</code> and <code>name</code>. Look up <code>user</code> in your map to get the object and use <a href=\"http://download.oracle.com/javase/tutorial/reflect/member/index.html\" rel=\"noreferrer\">reflection</a> to obtain the value of <code>name</code> from the object. Assuming your objects have standard getters, you will look for a method <code>getName</code> and invoke it.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1611435,"reputation":2587,"user_id":1490220,"accept_rate":82,"display_name":"Joe M"},"score":10,"creation_date":1390180528,"post_id":3655472,"comment_id":31968173,"body_markdown":"Thanks! I knew java should have an inbuilt way to do this without having to use are freaking template engine to do such a simple thing!","body":"Thanks! I knew java should have an inbuilt way to do this without having to use are freaking template engine to do such a simple thing!"},{"owner":{"account_id":379606,"reputation":5664,"user_id":733092,"accept_rate":86,"display_name":"Noumenon"},"score":5,"creation_date":1511364497,"post_id":3655472,"comment_id":81831325,"body_markdown":"Seems like String.format can do anything this can do -- https://stackoverflow.com/questions/2809633/difference-between-messageformat-format-and-string-format-in-jdk1-5","body":"Seems like String.format can do anything this can do -- <a href=\"https://stackoverflow.com/questions/2809633/difference-between-messageformat-format-and-string-format-in-jdk1-5\" title=\"difference between messageformat format and string format in jdk1 5\">stackoverflow.com/questions/2809633/&hellip;</a>"},{"owner":{"account_id":1086954,"reputation":29057,"user_id":1082449,"accept_rate":71,"display_name":"davnicwil"},"score":10,"creation_date":1517512663,"post_id":3655472,"comment_id":84136683,"body_markdown":"+1. Be aware `format` also takes an `Object...` varargs so you can use this more terse syntax where preferable `format(&quot;{0} world {1}&quot;, &quot;Hello&quot;, &quot;!&quot;);`","body":"+1. Be aware <code>format</code> also takes an <code>Object...</code> varargs so you can use this more terse syntax where preferable <code>format(&quot;{0} world {1}&quot;, &quot;Hello&quot;, &quot;!&quot;);</code>"},{"owner":{"account_id":1936750,"reputation":651,"user_id":1744034,"accept_rate":100,"display_name":"Marnes"},"score":1,"creation_date":1565179631,"post_id":3655472,"comment_id":101269802,"body_markdown":"It should be noted that `MessageFormat` can only be reliably used for its namesake, display messages, not for output where technical formatting matters. Numbers for example will be formatted per locale settings, rendering them invalid for technical uses.","body":"It should be noted that <code>MessageFormat</code> can only be reliably used for its namesake, display messages, not for output where technical formatting matters. Numbers for example will be formatted per locale settings, rendering them invalid for technical uses."}],"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"comment_count":4,"down_vote_count":0,"up_vote_count":154,"is_accepted":false,"score":154,"last_activity_date":1298734666,"creation_date":1283828657,"answer_id":3655472,"question_id":3655424,"body_markdown":"Take a look at the [`java.text.MessageFormat`][1] class, MessageFormat takes a set of objects, formats them, then inserts the formatted strings into the pattern at the appropriate places. \r\n\r\n    Object[] params = new Object[]{&quot;hello&quot;, &quot;!&quot;};\r\n    String msg = MessageFormat.format(&quot;{0} world {1}&quot;, params);\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/text/MessageFormat.html","title":"String replacement in java, similar to a velocity template","body":"<p>Take a look at the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/text/MessageFormat.html\" rel=\"noreferrer\"><code>java.text.MessageFormat</code></a> class, MessageFormat takes a set of objects, formats them, then inserts the formatted strings into the pattern at the appropriate places. </p>\n\n<pre><code>Object[] params = new Object[]{\"hello\", \"!\"};\nString msg = MessageFormat.format(\"{0} world {1}\", params);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":145429,"reputation":3296,"user_id":355231,"accept_rate":94,"display_name":"Sastrija"},"score":0,"creation_date":1283834327,"post_id":3655604,"comment_id":3845335,"body_markdown":"This is what I was looking for. Thank you for giving an implementation. I was trying for it and getting incorrect results. :D. Anyway it solved my problem.","body":"This is what I was looking for. Thank you for giving an implementation. I was trying for it and getting incorrect results. :D. Anyway it solved my problem."},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":2,"creation_date":1283834525,"post_id":3655604,"comment_id":3845349,"body_markdown":"@Joe, glad I could help.  It was a good excuse for me to finally practice writing some code that uses reflection in Java.","body":"@Joe, glad I could help.  It was a good excuse for me to finally practice writing some code that uses reflection in Java."},{"owner":{"account_id":12917647,"reputation":1226,"user_id":9341311,"display_name":"Ari Singh"},"score":1,"creation_date":1629055233,"post_id":3655604,"comment_id":121579749,"body_markdown":"Nice Utility. Since java 9, you can now inline the map and pass the populated map as parameter e.g. Map.of (&quot;user&quot;, user, &quot;site&quot;, site), instead of creating the map separately. This will further simplify calling the &quot;format&quot; method.","body":"Nice Utility. Since java 9, you can now inline the map and pass the populated map as parameter e.g. Map.of (&quot;user&quot;, user, &quot;site&quot;, site), instead of creating the map separately. This will further simplify calling the &quot;format&quot; method."}],"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":3,"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1283833206,"creation_date":1283830776,"answer_id":3655604,"question_id":3655424,"body_markdown":"I threw together a small test implementation of this.  The basic idea is to call `format` and pass in the format string, and a map of objects, and the names that they have locally.\r\n\r\nThe output of the following is:\r\n\r\n &gt; My dog is named fido, and Jane Doe owns him.\r\n\r\n\r\n    public class StringFormatter {\r\n    \r\n        private static final String fieldStart = &quot;\\\\$\\\\{&quot;;\r\n        private static final String fieldEnd = &quot;\\\\}&quot;;\r\n    \r\n        private static final String regex = fieldStart + &quot;([^}]+)&quot; + fieldEnd;\r\n        private static final Pattern pattern = Pattern.compile(regex);\r\n    \r\n        public static String format(String format, Map&lt;String, Object&gt; objects) {\r\n            Matcher m = pattern.matcher(format);\r\n            String result = format;\r\n            while (m.find()) {\r\n                String[] found = m.group(1).split(&quot;\\\\.&quot;);\r\n                Object o = objects.get(found[0]);\r\n                Field f = o.getClass().getField(found[1]);\r\n                String newVal = f.get(o).toString();\r\n                result = result.replaceFirst(regex, newVal);\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        static class Dog {\r\n            public String name;\r\n            public String owner;\r\n            public String gender;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Dog d = new Dog();\r\n            d.name = &quot;fido&quot;;\r\n            d.owner = &quot;Jane Doe&quot;;\r\n            d.gender = &quot;him&quot;;\r\n            Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n            map.put(&quot;d&quot;, d);\r\n            System.out.println(\r\n               StringFormatter.format(\r\n                    &quot;My dog is named ${d.name}, and ${d.owner} owns ${d.gender}.&quot;, \r\n                    map));\r\n        }\r\n    }\r\n\r\n*Note: This doesn&#39;t compile due to unhandled exceptions.  But it makes the code much easier to read.*\r\n\r\nAlso, I don&#39;t like that you have to construct the map yourself in the code, but I don&#39;t know how to get the names of the local variables programatically.  The best way to do it, is to remember to put the object in the map as soon as you create it.\r\n\r\nThe following example produces the results that you want from your example:\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n        Site site = new Site();\r\n        map.put(&quot;site&quot;, site);\r\n        site.name = &quot;StackOverflow.com&quot;;\r\n        User user = new User();\r\n        map.put(&quot;user&quot;, user);\r\n        user.name = &quot;jjnguy&quot;;\r\n        System.out.println(\r\n             format(&quot;Hello ${user.name},\\n\\tWelcome to ${site.name}. &quot;, map));\r\n    }\r\n\r\n&lt;sub&gt;*I should also mention that I have no idea what Velocity is, so I hope this answer is relevant.*&lt;/sub&gt;","title":"String replacement in java, similar to a velocity template","body":"<p>I threw together a small test implementation of this.  The basic idea is to call <code>format</code> and pass in the format string, and a map of objects, and the names that they have locally.</p>\n\n<p>The output of the following is:</p>\n\n<blockquote>\n  <p>My dog is named fido, and Jane Doe owns him.</p>\n</blockquote>\n\n<pre><code>public class StringFormatter {\n\n    private static final String fieldStart = \"\\\\$\\\\{\";\n    private static final String fieldEnd = \"\\\\}\";\n\n    private static final String regex = fieldStart + \"([^}]+)\" + fieldEnd;\n    private static final Pattern pattern = Pattern.compile(regex);\n\n    public static String format(String format, Map&lt;String, Object&gt; objects) {\n        Matcher m = pattern.matcher(format);\n        String result = format;\n        while (m.find()) {\n            String[] found = m.group(1).split(\"\\\\.\");\n            Object o = objects.get(found[0]);\n            Field f = o.getClass().getField(found[1]);\n            String newVal = f.get(o).toString();\n            result = result.replaceFirst(regex, newVal);\n        }\n        return result;\n    }\n\n    static class Dog {\n        public String name;\n        public String owner;\n        public String gender;\n    }\n\n    public static void main(String[] args) {\n        Dog d = new Dog();\n        d.name = \"fido\";\n        d.owner = \"Jane Doe\";\n        d.gender = \"him\";\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n        map.put(\"d\", d);\n        System.out.println(\n           StringFormatter.format(\n                \"My dog is named ${d.name}, and ${d.owner} owns ${d.gender}.\", \n                map));\n    }\n}\n</code></pre>\n\n<p><em>Note: This doesn't compile due to unhandled exceptions.  But it makes the code much easier to read.</em></p>\n\n<p>Also, I don't like that you have to construct the map yourself in the code, but I don't know how to get the names of the local variables programatically.  The best way to do it, is to remember to put the object in the map as soon as you create it.</p>\n\n<p>The following example produces the results that you want from your example:</p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n    Site site = new Site();\n    map.put(\"site\", site);\n    site.name = \"StackOverflow.com\";\n    User user = new User();\n    map.put(\"user\", user);\n    user.name = \"jjnguy\";\n    System.out.println(\n         format(\"Hello ${user.name},\\n\\tWelcome to ${site.name}. \", map));\n}\n</code></pre>\n\n<p><sub><em>I should also mention that I have no idea what Velocity is, so I hope this answer is relevant.</em></sub></p>\n"},{"tags":[],"owner":{"account_id":197167,"reputation":4011,"user_id":441063,"accept_rate":100,"display_name":"Mike Milkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1283831732,"creation_date":1283831732,"answer_id":3655662,"question_id":3655424,"body_markdown":"There is nothing out of the box that is comparable to velocity since velocity was written to solve exactly that problem.  The closest thing you can try is looking into the Formatter\r\n\r\nhttp://cupi2.uniandes.edu.co/site/images/recursos/javadoc/j2se/1.5.0/docs/api/java/util/Formatter.html\r\n\r\nHowever the formatter as far as I know was created to provide C like formatting options in Java so it may not scratch exactly your itch but you are welcome to try :).\r\n","title":"String replacement in java, similar to a velocity template","body":"<p>There is nothing out of the box that is comparable to velocity since velocity was written to solve exactly that problem.  The closest thing you can try is looking into the Formatter</p>\n\n<p><a href=\"http://cupi2.uniandes.edu.co/site/images/recursos/javadoc/j2se/1.5.0/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">http://cupi2.uniandes.edu.co/site/images/recursos/javadoc/j2se/1.5.0/docs/api/java/util/Formatter.html</a></p>\n\n<p>However the formatter as far as I know was created to provide C like formatting options in Java so it may not scratch exactly your itch but you are welcome to try :).</p>\n"},{"comments":[{"owner":{"account_id":290153,"reputation":142,"user_id":591537,"display_name":"Paul"},"score":4,"creation_date":1305695843,"post_id":3655963,"comment_id":6986866,"body_markdown":"Javadoc for StrSubstitutor http://commons.apache.org/lang/api-release/org/apache/commons/lang/text/StrSubstitutor.html","body":"Javadoc for StrSubstitutor <a href=\"http://commons.apache.org/lang/api-release/org/apache/commons/lang/text/StrSubstitutor.html\" rel=\"nofollow noreferrer\">commons.apache.org/lang/api-release/org/apache/commons/lang/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":393707,"reputation":1831,"user_id":755720,"accept_rate":75,"display_name":"andrewrjones"},"score":1,"creation_date":1377080524,"post_id":3655963,"comment_id":26945735,"body_markdown":"Should be `Map&lt;String, String&gt; valuesMap = new HashMap&lt;String, String&gt;();`.","body":"Should be <code>Map&lt;String, String&gt; valuesMap = new HashMap&lt;String, String&gt;();</code>."},{"owner":{"account_id":1329585,"reputation":380,"user_id":1273755,"accept_rate":50,"display_name":"Lukuluba"},"score":4,"creation_date":1507546173,"post_id":3655963,"comment_id":80238252,"body_markdown":"`StrSubstitutor` is now deprecated in [https://commons.apache.org/proper/commons-lang/](https://commons.apache.org/proper/commons-lang/). User [https://commons.apache.org/proper/commons-text/](https://commons.apache.org/proper/commons-text/) instead","body":"<code>StrSubstitutor</code> is now deprecated in <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/</a>. User <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-text/</a> instead"},{"owner":{"account_id":6363541,"reputation":611,"user_id":4938251,"accept_rate":67,"display_name":"Yurii Rabeshko"},"score":7,"creation_date":1538054364,"post_id":3655963,"comment_id":92015254,"body_markdown":"`StrSubstitutor` deprecated as of 1.3, use `StringSubstitutor` instead. This class will be removed in 2.0. Gradle dependency for importing `StringSubstitutor` is `org.apache.commons:commons-text:1.4`","body":"<code>StrSubstitutor</code> deprecated as of 1.3, use <code>StringSubstitutor</code> instead. This class will be removed in 2.0. Gradle dependency for importing <code>StringSubstitutor</code> is <code>org.apache.commons:commons-text:1.4</code>"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1548918851,"post_id":3655963,"comment_id":95718456,"body_markdown":"does it allow condition based substitution?","body":"does it allow condition based substitution?"},{"owner":{"account_id":5144135,"reputation":2717,"user_id":4120583,"accept_rate":29,"display_name":"Hikaru Shindo"},"score":0,"creation_date":1596621247,"post_id":3655963,"comment_id":111867811,"body_markdown":"I got an error The import java.util.HashMap cannot be resolved","body":"I got an error The import java.util.HashMap cannot be resolved"},{"owner":{"account_id":4788690,"reputation":877,"user_id":3868454,"accept_rate":60,"display_name":"Nick Legend"},"score":0,"creation_date":1620593650,"post_id":3655963,"comment_id":119240554,"body_markdown":"Just a remark. `StringSubstitutor` instance is created with a substitution map and then parses template strings with its `replace` method. That means it cannot pre-parse the template string, so processing the same template with different substitution maps may be less efficient.","body":"Just a remark. <code>StringSubstitutor</code> instance is created with a substitution map and then parses template strings with its <code>replace</code> method. That means it cannot pre-parse the template string, so processing the same template with different substitution maps may be less efficient."},{"owner":{"account_id":4788690,"reputation":877,"user_id":3868454,"accept_rate":60,"display_name":"Nick Legend"},"score":0,"creation_date":1620601649,"post_id":3655963,"comment_id":119241976,"body_markdown":"See [this answer](https://stackoverflow.com/a/67462268/10815638) for more details.","body":"See <a href=\"https://stackoverflow.com/a/67462268/10815638\">this answer</a> for more details."}],"tags":[],"owner":{"account_id":32462,"reputation":4177,"user_id":90138,"accept_rate":60,"display_name":"JH."},"comment_count":8,"down_vote_count":1,"up_vote_count":193,"is_accepted":true,"score":192,"last_activity_date":1673963673,"creation_date":1283836633,"answer_id":3655963,"question_id":3655424,"body_markdown":"Use `StringSubstitutor` from [Apache Commons Text](https://commons.apache.org/proper/commons-text/).\r\n\r\n## Dependency import\r\nImport the Apache commons text dependency using maven as bellow:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n    &lt;version&gt;1.10.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n## Example\r\n```java\r\nMap&lt;String, String&gt; valuesMap = new HashMap&lt;String, String&gt;();\r\nvaluesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\r\nvaluesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\r\nString templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\r\nStringSubstitutor sub = new StringSubstitutor(valuesMap);\r\nString resolvedString = sub.replace(templateString);\r\n```","title":"String replacement in java, similar to a velocity template","body":"<p>Use <code>StringSubstitutor</code> from <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"noreferrer\">Apache Commons Text</a>.</p>\n<h2>Dependency import</h2>\n<p>Import the Apache commons text dependency using maven as bellow:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n    &lt;version&gt;1.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h2>Example</h2>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; valuesMap = new HashMap&lt;String, String&gt;();\nvaluesMap.put(&quot;animal&quot;, &quot;quick brown fox&quot;);\nvaluesMap.put(&quot;target&quot;, &quot;lazy dog&quot;);\nString templateString = &quot;The ${animal} jumped over the ${target}.&quot;;\nStringSubstitutor sub = new StringSubstitutor(valuesMap);\nString resolvedString = sub.replace(templateString);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5952929,"reputation":8862,"user_id":4680436,"accept_rate":50,"display_name":"aristotll"},"score":0,"creation_date":1612420071,"post_id":3656134,"comment_id":116762185,"body_markdown":"all links are dead","body":"all links are dead"},{"owner":{"account_id":21094,"reputation":1458,"user_id":51016,"accept_rate":100,"display_name":"Christoffer Soop"},"score":1,"creation_date":1641775091,"post_id":3656134,"comment_id":124887667,"body_markdown":"Well, the answer was given over 10 years ago and I just updated the only dead link... :-)","body":"Well, the answer was given over 10 years ago and I just updated the only dead link... :-)"}],"tags":[],"owner":{"account_id":21094,"reputation":1458,"user_id":51016,"accept_rate":100,"display_name":"Christoffer Soop"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641775055,"creation_date":1283839447,"answer_id":3656134,"question_id":3655424,"body_markdown":"There are a couple of Expression Language implementations out there that does this for you, could be preferable to using your own implementation as or if your requirments grow, see for example [JUEL][1] and [MVEL][2]\r\n\r\nI like and have successfully used MVEL in at least one project.\r\n\r\nAlso see the Stackflow post [JSTL/JSP EL (Expression Language) in a non JSP (standalone) context][3]\r\n\r\n\r\n  [1]: http://juel.sourceforge.net/\r\n  [2]: https://github.com/codehaus/mvel\r\n  [3]: https://stackoverflow.com/questions/91692/jstl-jsp-el-expression-language-in-a-non-jsp-standalone-context","title":"String replacement in java, similar to a velocity template","body":"<p>There are a couple of Expression Language implementations out there that does this for you, could be preferable to using your own implementation as or if your requirments grow, see for example <a href=\"http://juel.sourceforge.net/\" rel=\"nofollow noreferrer\">JUEL</a> and <a href=\"https://github.com/codehaus/mvel\" rel=\"nofollow noreferrer\">MVEL</a></p>\n<p>I like and have successfully used MVEL in at least one project.</p>\n<p>Also see the Stackflow post <a href=\"https://stackoverflow.com/questions/91692/jstl-jsp-el-expression-language-in-a-non-jsp-standalone-context\">JSTL/JSP EL (Expression Language) in a non JSP (standalone) context</a></p>\n"},{"comments":[{"owner":{"account_id":2294678,"reputation":5598,"user_id":2016436,"accept_rate":74,"display_name":"asherbret"},"score":6,"creation_date":1590322252,"post_id":54088735,"comment_id":109631337,"body_markdown":"This is less useful when you need to repeat the same argument more than once. E.g.: `String.format(&quot;Hello! My name is %s, I&#39;m %s. Why is my name %s you ask? Well I&#39;m only %s years old so I don&#39;t know&quot;, name, age, name, age);`. Other answers here require specifying each argument only once.","body":"This is less useful when you need to repeat the same argument more than once. E.g.: <code>String.format(&quot;Hello! My name is %s, I&#39;m %s. Why is my name %s you ask? Well I&#39;m only %s years old so I don&#39;t know&quot;, name, age, name, age);</code>. Other answers here require specifying each argument only once."},{"owner":{"account_id":1434979,"reputation":1429,"user_id":2192641,"accept_rate":100,"display_name":"jazzpi"},"score":32,"creation_date":1596453975,"post_id":54088735,"comment_id":111806771,"body_markdown":"@asherbar you can use argument index specifiers in the format string, e.g. `String.format(&quot;Hello! My name is %1$s, I&#39;m %2$s. Why is my name %1$s you ask? Well I&#39;m only %2$s years old so I don&#39;t know&quot;, name, age)`","body":"@asherbar you can use argument index specifiers in the format string, e.g. <code>String.format(&quot;Hello! My name is %1$s, I&#39;m %2$s. Why is my name %1$s you ask? Well I&#39;m only %2$s years old so I don&#39;t know&quot;, name, age)</code>"},{"owner":{"account_id":2294678,"reputation":5598,"user_id":2016436,"accept_rate":74,"display_name":"asherbret"},"score":4,"creation_date":1596455226,"post_id":54088735,"comment_id":111807279,"body_markdown":"@jazzpi I never knew that. Thanks!","body":"@jazzpi I never knew that. Thanks!"},{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":0,"creation_date":1648051708,"post_id":54088735,"comment_id":126527953,"body_markdown":"Very similar to MessageFormat.format","body":"Very similar to MessageFormat.format"},{"owner":{"account_id":2833171,"reputation":577,"user_id":2434307,"display_name":"Jose Quijada"},"score":0,"creation_date":1658881918,"post_id":54088735,"comment_id":129160665,"body_markdown":"Amen. The less external dependencies, the better.","body":"Amen. The less external dependencies, the better."},{"owner":{"account_id":80571,"reputation":11247,"user_id":227755,"accept_rate":90,"display_name":"nurettin"},"score":0,"creation_date":1702354921,"post_id":54088735,"comment_id":136882953,"body_markdown":"This gives me a warning in andriod studio saying &quot;implicitly using default locale is a common source of bugs&quot;\n\nI did `String.format(Locale.US, ...);` to prevent that.","body":"This gives me a warning in andriod studio saying &quot;implicitly using default locale is a common source of bugs&quot;  I did <code>String.format(Locale.US, ...);</code> to prevent that."}],"tags":[],"owner":{"account_id":1370042,"reputation":3162,"user_id":1344421,"accept_rate":87,"display_name":"artgrohe"},"comment_count":6,"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1571138329,"creation_date":1546939563,"answer_id":54088735,"question_id":3655424,"body_markdown":"My preferred way is **`String.format()`** because its a oneliner and doesn&#39;t require third party libraries:\r\n\r\n    String message = String.format(&quot;Hello! My name is %s, I&#39;m %s.&quot;, name, age); \r\n\r\nI use this regularly, e.g. in exception messages like:\r\n\r\n    throw new Exception(String.format(&quot;Unable to login with email: %s&quot;, email));\r\n\r\nHint: You can put in as many variables as you like because `format()` uses [Varargs][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-varargs","title":"String replacement in java, similar to a velocity template","body":"<p>My preferred way is <strong><code>String.format()</code></strong> because its a oneliner and doesn't require third party libraries:</p>\n\n<pre><code>String message = String.format(\"Hello! My name is %s, I'm %s.\", name, age); \n</code></pre>\n\n<p>I use this regularly, e.g. in exception messages like:</p>\n\n<pre><code>throw new Exception(String.format(\"Unable to login with email: %s\", email));\n</code></pre>\n\n<p>Hint: You can put in as many variables as you like because <code>format()</code> uses <a href=\"https://www.baeldung.com/java-varargs\" rel=\"noreferrer\">Varargs</a></p>\n"},{"tags":[],"owner":{"account_id":7025832,"reputation":53,"user_id":5383240,"display_name":"Kan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561457059,"creation_date":1561457059,"answer_id":56751525,"question_id":3655424,"body_markdown":"I use GroovyShell in java to parse template with Groovy GString:\r\n\r\n    Binding binding = new Binding();\r\n    GroovyShell gs = new GroovyShell(binding);\r\n    // this JSONObject can also be replaced by any Java Object\r\n    JSONObject obj = new JSONObject();\r\n    obj.put(&quot;key&quot;, &quot;value&quot;);\r\n    binding.setProperty(&quot;obj&quot;, obj)\r\n    String str = &quot;${obj.key}&quot;;\r\n    String exp = String.format(&quot;\\&quot;%s\\&quot;.toString()&quot;, str);\r\n    String res = (String) gs.evaluate(exp);\r\n    // value\r\n    System.out.println(str);\r\n\r\n","title":"String replacement in java, similar to a velocity template","body":"<p>I use GroovyShell in java to parse template with Groovy GString:</p>\n\n<pre><code>Binding binding = new Binding();\nGroovyShell gs = new GroovyShell(binding);\n// this JSONObject can also be replaced by any Java Object\nJSONObject obj = new JSONObject();\nobj.put(\"key\", \"value\");\nbinding.setProperty(\"obj\", obj)\nString str = \"${obj.key}\";\nString exp = String.format(\"\\\"%s\\\".toString()\", str);\nString res = (String) gs.evaluate(exp);\n// value\nSystem.out.println(str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615731149,"creation_date":1615731149,"answer_id":66625510,"question_id":3655424,"body_markdown":"I created this utility that uses vanilla Java.  It combines two formats... `{}` and `%s` style from String.format.... into one method call.  Please note it only replaces empty `{}` brackets, not `{someWord}`.\r\n\r\n    public class LogUtils {\r\n    \r\n        public static String populate(String log, Object... objects) {\r\n            log = log.replaceAll(&quot;\\\\{\\\\}&quot;, &quot;%s&quot;);\r\n            return String.format(log, objects);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(populate(&quot;x = %s, y ={}&quot;, 5, 4));;\r\n        }\r\n    \r\n    }","title":"String replacement in java, similar to a velocity template","body":"<p>I created this utility that uses vanilla Java.  It combines two formats... <code>{}</code> and <code>%s</code> style from String.format.... into one method call.  Please note it only replaces empty <code>{}</code> brackets, not <code>{someWord}</code>.</p>\n<pre><code>public class LogUtils {\n\n    public static String populate(String log, Object... objects) {\n        log = log.replaceAll(&quot;\\\\{\\\\}&quot;, &quot;%s&quot;);\n        return String.format(log, objects);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(populate(&quot;x = %s, y ={}&quot;, 5, 4));;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1631543343,"creation_date":1631543343,"answer_id":69164457,"question_id":3655424,"body_markdown":"Handlebars.java might be a better option in terms of a Velocity-like syntax with other server-side templating features.\r\n\r\nhttp://jknack.github.io/handlebars.java/\r\n\r\n    Handlebars handlebars = new Handlebars();\r\n    Template template = handlebars.compileInline(&quot;Hello {{this}}!&quot;);\r\n    System.out.println(template.apply(&quot;Handlebars.java&quot;));\r\n\r\n\r\n","title":"String replacement in java, similar to a velocity template","body":"<p>Handlebars.java might be a better option in terms of a Velocity-like syntax with other server-side templating features.</p>\n<p><a href=\"http://jknack.github.io/handlebars.java/\" rel=\"nofollow noreferrer\">http://jknack.github.io/handlebars.java/</a></p>\n<pre><code>Handlebars handlebars = new Handlebars();\nTemplate template = handlebars.compileInline(&quot;Hello {{this}}!&quot;);\nSystem.out.println(template.apply(&quot;Handlebars.java&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178797,"reputation":1794,"user_id":3402449,"display_name":"Ahmad Shahwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665844521,"creation_date":1663859835,"answer_id":73817077,"question_id":3655424,"body_markdown":"Since Java 15 you have the method `String.formatted()` (see [documentation][1]).\r\n\r\n`str.formatted(args)` is the equivalent of `String.format(str, args)` with less ceremony.\r\n\r\nFor the example mentioned in the question, the method could be used as follows:\r\n\r\n```java\r\n&quot;Hello %s, Welcome to %s.&quot;.formatted(user.getName(), site.getName())\r\n``` \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)","title":"String replacement in java, similar to a velocity template","body":"<p>Since Java 15 you have the method <code>String.formatted()</code> (see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"nofollow noreferrer\">documentation</a>).</p>\n<p><code>str.formatted(args)</code> is the equivalent of <code>String.format(str, args)</code> with less ceremony.</p>\n<p>For the example mentioned in the question, the method could be used as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;Hello %s, Welcome to %s.&quot;.formatted(user.getName(), site.getName())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695212496,"creation_date":1670932671,"answer_id":74784516,"question_id":3655424,"body_markdown":"Java now has string templates (from version **21**, as a preview feature).\r\n\r\nSee [the string templates proposal (JEP 430) here](https://openjdk.org/jeps/430).\r\n\r\nIt is something along the lines of this:\r\n\r\n```java\r\nString name = &quot;John&quot;;\r\nString info = STR.&quot;I am \\{name}&quot;;\r\nSystem.out.println(info); // I am John\r\n```\r\n---\r\n\r\nP.S. [Kotlin][1] is 100% interoperable with Java. It supports cleaner string templates out of the box:\r\n\r\n```kotlin\r\nval name = &quot;John&quot;\r\nval info = &quot;I am $name&quot;\r\nprintln(info) // I am John\r\n```\r\n\r\nCombined with [extension functions][2], you can achieve the same thing the Java template processors (e.g. `STR`) will do.\r\n\r\n\r\n  [1]: https://kotlinlang.org/\r\n  [2]: https://kotlinlang.org/docs/extensions.html","title":"String replacement in java, similar to a velocity template","body":"<p>Java now has string templates (from version <strong>21</strong>, as a preview feature).</p>\n<p>See <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">the string templates proposal (JEP 430) here</a>.</p>\n<p>It is something along the lines of this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;John&quot;;\nString info = STR.&quot;I am \\{name}&quot;;\nSystem.out.println(info); // I am John\n</code></pre>\n<hr />\n<p>P.S. <a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">Kotlin</a> is 100% interoperable with Java. It supports cleaner string templates out of the box:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val name = &quot;John&quot;\nval info = &quot;I am $name&quot;\nprintln(info) // I am John\n</code></pre>\n<p>Combined with <a href=\"https://kotlinlang.org/docs/extensions.html\" rel=\"nofollow noreferrer\">extension functions</a>, you can achieve the same thing the Java template processors (e.g. <code>STR</code>) will do.</p>\n"}],"owner":{"account_id":145429,"reputation":3296,"user_id":355231,"accept_rate":94,"display_name":"Sastrija"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193418,"favorite_count":0,"down_vote_count":2,"up_vote_count":144,"accepted_answer_id":3655963,"answer_count":12,"score":142,"last_activity_date":1695212496,"creation_date":1283827726,"question_id":3655424,"body_markdown":"Is there any `String` replacement mechanism in Java, where I can pass objects with a text, and it replaces the string as it occurs?\r\nFor example, the text is:\r\n\r\n```raw\r\nHello ${user.name},\r\nWelcome to ${site.name}. \r\n```\r\n\r\nThe objects I have are `user` and `site`. I want to replace the strings given inside `${}` with its equivalent values from the objects. This is same as we replace objects in a [velocity][1] template.\r\n\r\n\r\n  [1]: https://github.com/apache/velocity-engine","title":"String replacement in java, similar to a velocity template","body":"<p>Is there any <code>String</code> replacement mechanism in Java, where I can pass objects with a text, and it replaces the string as it occurs?\nFor example, the text is:</p>\n<pre><code>Hello ${user.name},\nWelcome to ${site.name}. \n</code></pre>\n<p>The objects I have are <code>user</code> and <code>site</code>. I want to replace the strings given inside <code>${}</code> with its equivalent values from the objects. This is same as we replace objects in a <a href=\"https://github.com/apache/velocity-engine\" rel=\"noreferrer\">velocity</a> template.</p>\n"},{"tags":["java","image","image-resizing"],"comments":[{"owner":{"account_id":482279,"reputation":7803,"user_id":896588,"accept_rate":85,"display_name":"Andr&#233; Stannek"},"score":0,"creation_date":1357090498,"post_id":14115950,"comment_id":19536360,"body_markdown":"In what way is the quality lower? Can you post example images?","body":"In what way is the quality lower? Can you post example images?"},{"owner":{"account_id":274704,"reputation":4540,"user_id":567091,"accept_rate":100,"display_name":"NYCdotNet"},"score":0,"creation_date":1357090736,"post_id":14115950,"comment_id":19536410,"body_markdown":"Are you sure it&#39;s the resizing and not that you&#39;re saving it as a JPG and perhaps the default JPG compression is too high?  Have you tried saving it as an uncompressed format first?","body":"Are you sure it&#39;s the resizing and not that you&#39;re saving it as a JPG and perhaps the default JPG compression is too high?  Have you tried saving it as an uncompressed format first?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1357095371,"post_id":14115950,"comment_id":19537213,"body_markdown":"1) For better help sooner, post an [SSCCE](http://sscce.org/). 2) JPG is inherently lossy.  The compression/quality can be set at time of creation, as seen in [this answer](http://stackoverflow.com/a/11861821/418556). 3) The uploaded images appear identical to me.  It also is not an image I would see as being well suited to resizing, given the pale contrast of the &#39;white good&#39; appliance against a white BG.","body":"1) For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>. 2) JPG is inherently lossy.  The compression/quality can be set at time of creation, as seen in <a href=\"http://stackoverflow.com/a/11861821/418556\">this answer</a>. 3) The uploaded images appear identical to me.  It also is not an image I would see as being well suited to resizing, given the pale contrast of the &#39;white good&#39; appliance against a white BG."},{"owner":{"account_id":2196177,"reputation":273,"user_id":1941778,"display_name":"dutchman191"},"score":0,"creation_date":1357101132,"post_id":14115950,"comment_id":19538136,"body_markdown":"To me the images look very different, more just the smoothness of the thumb in the first one.  I need it to be closer to that level of quality.  Working on setting the compression quality now.","body":"To me the images look very different, more just the smoothness of the thumb in the first one.  I need it to be closer to that level of quality.  Working on setting the compression quality now."},{"owner":{"account_id":4060,"reputation":301924,"user_id":5987,"accept_rate":55,"display_name":"Mark Ransom"},"score":0,"creation_date":1360994576,"post_id":14115950,"comment_id":20911684,"body_markdown":"Have you tried `VALUE_INTERPOLATION_BICUBIC` instead of `VALUE_INTERPOLATION_BILINEAR`? According to the documentation bilinear only considers a 4x4 sample from the input while it&#39;s less specific about bicubic. Proper resizing requires a larger sampling window as the ratio of output to input gets smaller.","body":"Have you tried <code>VALUE_INTERPOLATION_BICUBIC</code> instead of <code>VALUE_INTERPOLATION_BILINEAR</code>? According to the documentation bilinear only considers a 4x4 sample from the input while it&#39;s less specific about bicubic. Proper resizing requires a larger sampling window as the ratio of output to input gets smaller."},{"owner":{"account_id":1231534,"reputation":2502,"user_id":1766868,"display_name":"le3th4x0rbot"},"score":1,"creation_date":1405881854,"post_id":14115950,"comment_id":38594125,"body_markdown":"The Java resized image has severe aliasing.  Claiming the sized versions look the same is some form of denial.  I worked around this problem using an ImageMagick integration.","body":"The Java resized image has severe aliasing.  Claiming the sized versions look the same is some form of denial.  I worked around this problem using an ImageMagick integration."}],"answers":[{"comments":[{"owner":{"account_id":2196177,"reputation":273,"user_id":1941778,"display_name":"dutchman191"},"score":0,"creation_date":1357100313,"post_id":14116752,"comment_id":19537991,"body_markdown":"Shall have a crack at stepping it down instead of going in one step.","body":"Shall have a crack at stepping it down instead of going in one step."},{"owner":{"account_id":2196177,"reputation":273,"user_id":1941778,"display_name":"dutchman191"},"score":0,"creation_date":1357105259,"post_id":14116752,"comment_id":19539042,"body_markdown":"Have decided to go with either java-image-scaling or Scalr to quickly scale the image down.  Thanks for the input though, definitely a good point.","body":"Have decided to go with either java-image-scaling or Scalr to quickly scale the image down.  Thanks for the input though, definitely a good point."},{"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"score":3,"creation_date":1357161031,"post_id":14116752,"comment_id":19560910,"body_markdown":"+1 very nice mad, I think this too would be a good read for OP [The Perils of Image.getScaledInstance()](http://today.java.net/pub/a/today/2007/04/03/perils-of-image-getscaledinstance.html) as it does show solutions for scaling images very small","body":"+1 very nice mad, I think this too would be a good read for OP <a href=\"http://today.java.net/pub/a/today/2007/04/03/perils-of-image-getscaledinstance.html\" rel=\"nofollow noreferrer\">The Perils of Image.getScaledInstance()</a> as it does show solutions for scaling images very small"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1604075717,"creation_date":1357099620,"answer_id":14116752,"question_id":14115950,"body_markdown":"Scaling an image down over a large range is inherently dangerous (from the point of view of quality), especially using a single step.\r\n\r\nThe recommended method is to use a divide and conquer method.  Basically, you scale the image down in steps of 50% until you reach your desired size.\r\n\r\nSo, I took the original image of 650x748 and scaled it down to fit within a 60x60 region (52x60).\r\n\r\n![enter image description here][1]\r\n\r\nDivide and conquer compared to one step...\r\n\r\n![enter image description here][2]![enter image description here][3]\r\n\r\n\tpublic class TestImageResize {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew TestImageResize();\r\n\t\t}\r\n\r\n\t\tpublic TestImageResize() {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (Exception ex) {\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.setLayout(new BorderLayout());\r\n\t\t\t\t\tframe.add(new ScalePane());\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic class ScalePane extends JPanel {\r\n\r\n\t\t\tprivate BufferedImage original;\r\n\t\t\tprivate BufferedImage scaled;\r\n\r\n\t\t\tpublic ScalePane() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\toriginal = ImageIO.read(new File(&quot;path/to/master.jpg&quot;));\r\n\t\t\t\t\tscaled = getScaledInstanceToFit(original, new Dimension(60, 60));\r\n\t\t\t\t\tImageIO.write(scaled, &quot;jpg&quot;, new File(&quot;scaled.jpg&quot;));\r\n\r\n\t\t\t\t\tBufferedImage image = new BufferedImage(52, 60, BufferedImage.TYPE_INT_RGB);\r\n\t\t\t\t\tGraphics2D g2d = image.createGraphics();\r\n\t\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n\t\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n\t\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t\t\t\tg2d.drawImage(original, 0, 0, 52, 60, this);\r\n\t\t\t\t\tg2d.dispose();\r\n\r\n\t\t\t\t\tImageIO.write(image, &quot;jpg&quot;, new File(&quot;test.jpg&quot;));\r\n\r\n\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Dimension getPreferredSize() {\r\n\r\n\t\t\t\tDimension size = super.getPreferredSize();\r\n\t\t\t\tif (original != null) {\r\n\t\t\t\t\tif (scaled != null) {\r\n\t\t\t\t\t\tsize.width = original.getWidth() + scaled.getWidth();\r\n\t\t\t\t\t\tsize.height = original.getHeight();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsize.width = original.getWidth();\r\n\t\t\t\t\t\tsize.height = original.getHeight();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn size;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void paintComponent(Graphics g) {\r\n\t\t\t\tsuper.paintComponent(g);\r\n\t\t\t\tGraphics2D g2d = (Graphics2D) g.create();\r\n\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n\t\t\t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n\t\t\t\tif (original != null) {\r\n\t\t\t\t\tint x = 0;\r\n\t\t\t\t\tint y = (getHeight() - original.getHeight()) / 2;;\r\n\t\t\t\t\tif (scaled != null) {\r\n\t\t\t\t\t\tx = (getWidth() - (original.getWidth() + scaled.getWidth())) / 2;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tx = (getWidth() - original.getWidth()) / 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tg2d.drawImage(original, x, y, this);\r\n\r\n\t\t\t\t\tif (scaled != null) {\r\n\t\t\t\t\t\tx += original.getWidth();\r\n\t\t\t\t\t\ty = (getHeight() - scaled.getHeight()) / 2;\r\n\t\t\t\t\t\tg2d.drawImage(scaled, x, y, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tg2d.dispose();\r\n\t\t\t}\r\n\r\n\t\t\tpublic BufferedImage getScaledInstanceToFit(BufferedImage img, Dimension size) {\r\n\t\t\t\tfloat scaleFactor = getScaleFactorToFit(img, size);\r\n\t\t\t\treturn getScaledInstance(img, scaleFactor);\r\n\t\t\t}\r\n\r\n\t\t\tpublic float getScaleFactorToFit(BufferedImage img, Dimension size) {\r\n\t\t\t\tfloat scale = 1f;\r\n\t\t\t\tif (img != null) {\r\n\t\t\t\t\tint imageWidth = img.getWidth();\r\n\t\t\t\t\tint imageHeight = img.getHeight();\r\n\t\t\t\t\tscale = getScaleFactorToFit(new Dimension(imageWidth, imageHeight), size);\r\n\t\t\t\t}\r\n\t\t\t\treturn scale;\r\n\t\t\t}\r\n\r\n\t\t\tpublic float getScaleFactorToFit(Dimension original, Dimension toFit) {\r\n\t\t\t\tfloat scale = 1f;\r\n\t\t\t\tif (original != null &amp;&amp; toFit != null) {\r\n\t\t\t\t\tfloat dScaleWidth = getScaleFactor(original.width, toFit.width);\r\n\t\t\t\t\tfloat dScaleHeight = getScaleFactor(original.height, toFit.height);\r\n\t\t\t\t\tscale = Math.min(dScaleHeight, dScaleWidth);\r\n\t\t\t\t}\r\n\t\t\t\treturn scale;\r\n\t\t\t}\r\n\r\n\t\t\tpublic float getScaleFactor(int iMasterSize, int iTargetSize) {\r\n\t\t\t\tfloat scale = 1;\r\n\t\t\t\tif (iMasterSize &gt; iTargetSize) {\r\n\t\t\t\t\tscale = (float) iTargetSize / (float) iMasterSize;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tscale = (float) iTargetSize / (float) iMasterSize;\r\n\t\t\t\t}\r\n\t\t\t\treturn scale;\r\n\t\t\t}\r\n\r\n\t\t\tpublic BufferedImage getScaledInstance(BufferedImage img, double dScaleFactor) {\r\n\t\t\t\tBufferedImage imgBuffer = null;\r\n\t\t\t\timgBuffer = getScaledInstance(img, dScaleFactor, RenderingHints.VALUE_INTERPOLATION_BILINEAR, true);\r\n\t\t\t\treturn imgBuffer;\r\n\t\t\t}\r\n\r\n\t\t\tprotected BufferedImage getScaledInstance(BufferedImage img, double dScaleFactor, Object hint, boolean higherQuality) {\r\n\r\n\t\t\t\tint targetWidth = (int) Math.round(img.getWidth() * dScaleFactor);\r\n\t\t\t\tint targetHeight = (int) Math.round(img.getHeight() * dScaleFactor);\r\n\r\n\t\t\t\tint type = (img.getTransparency() == Transparency.OPAQUE)\r\n\t\t\t\t\t\t\t\t? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB;\r\n\r\n\t\t\t\tBufferedImage ret = (BufferedImage) img;\r\n\r\n\t\t\t\tif (targetHeight &gt; 0 || targetWidth &gt; 0) {\r\n\t\t\t\t\tint w, h;\r\n\t\t\t\t\tif (higherQuality) {\r\n\t\t\t\t\t\tw = img.getWidth();\r\n\t\t\t\t\t\th = img.getHeight();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tw = targetWidth;\r\n\t\t\t\t\t\th = targetHeight;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tif (higherQuality &amp;&amp; w &gt; targetWidth) {\r\n\t\t\t\t\t\t\tw /= 2;\r\n\t\t\t\t\t\t\tif (w &lt; targetWidth) {\r\n\t\t\t\t\t\t\t\tw = targetWidth;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (higherQuality &amp;&amp; h &gt; targetHeight) {\r\n\t\t\t\t\t\t\th /= 2;\r\n\t\t\t\t\t\t\tif (h &lt; targetHeight) {\r\n\t\t\t\t\t\t\t\th = targetHeight;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tBufferedImage tmp = new BufferedImage(Math.max(w, 1), Math.max(h, 1), type);\r\n\t\t\t\t\t\tGraphics2D g2 = tmp.createGraphics();\r\n\t\t\t\t\t\tg2.setRenderingHint(RenderingHints.KEY_INTERPOLATION, hint);\r\n\t\t\t\t\t\tg2.drawImage(ret, 0, 0, w, h, null);\r\n\t\t\t\t\t\tg2.dispose();\r\n\r\n\t\t\t\t\t\tret = tmp;\r\n\t\t\t\t\t} while (w != targetWidth || h != targetHeight);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tret = new BufferedImage(1, 1, type);\r\n\t\t\t\t}\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nYou may, also, find [The Perils of Image.getScaledInstance()](https://web.archive.org/web/20150518194337/http://today.java.net/pub/a/today/2007/04/03/perils-of-image-getscaledinstance.html) of interest.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/vWsrq.png\r\n  [2]: http://i.stack.imgur.com/MCoU2.jpg\r\n  [3]: http://i.stack.imgur.com/sl9zQ.jpg","title":"Quality of Image after resize very low -- Java","body":"<p>Scaling an image down over a large range is inherently dangerous (from the point of view of quality), especially using a single step.</p>\n<p>The recommended method is to use a divide and conquer method.  Basically, you scale the image down in steps of 50% until you reach your desired size.</p>\n<p>So, I took the original image of 650x748 and scaled it down to fit within a 60x60 region (52x60).</p>\n<p><img src=\"https://i.stack.imgur.com/vWsrq.png\" alt=\"enter image description here\" /></p>\n<p>Divide and conquer compared to one step...</p>\n<p><img src=\"https://i.stack.imgur.com/MCoU2.jpg\" alt=\"enter image description here\" /><img src=\"https://i.stack.imgur.com/sl9zQ.jpg\" alt=\"enter image description here\" /></p>\n<pre><code>public class TestImageResize {\n\n    public static void main(String[] args) {\n        new TestImageResize();\n    }\n\n    public TestImageResize() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (Exception ex) {\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new BorderLayout());\n                frame.add(new ScalePane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class ScalePane extends JPanel {\n\n        private BufferedImage original;\n        private BufferedImage scaled;\n\n        public ScalePane() {\n            try {\n                original = ImageIO.read(new File(&quot;path/to/master.jpg&quot;));\n                scaled = getScaledInstanceToFit(original, new Dimension(60, 60));\n                ImageIO.write(scaled, &quot;jpg&quot;, new File(&quot;scaled.jpg&quot;));\n\n                BufferedImage image = new BufferedImage(52, 60, BufferedImage.TYPE_INT_RGB);\n                Graphics2D g2d = image.createGraphics();\n                g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n                g2d.drawImage(original, 0, 0, 52, 60, this);\n                g2d.dispose();\n\n                ImageIO.write(image, &quot;jpg&quot;, new File(&quot;test.jpg&quot;));\n\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n\n            Dimension size = super.getPreferredSize();\n            if (original != null) {\n                if (scaled != null) {\n                    size.width = original.getWidth() + scaled.getWidth();\n                    size.height = original.getHeight();\n                } else {\n                    size.width = original.getWidth();\n                    size.height = original.getHeight();\n                }\n            }\n\n            return size;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n            if (original != null) {\n                int x = 0;\n                int y = (getHeight() - original.getHeight()) / 2;;\n                if (scaled != null) {\n                    x = (getWidth() - (original.getWidth() + scaled.getWidth())) / 2;\n                } else {\n                    x = (getWidth() - original.getWidth()) / 2;\n                }\n                g2d.drawImage(original, x, y, this);\n\n                if (scaled != null) {\n                    x += original.getWidth();\n                    y = (getHeight() - scaled.getHeight()) / 2;\n                    g2d.drawImage(scaled, x, y, this);\n                }\n            }\n            g2d.dispose();\n        }\n\n        public BufferedImage getScaledInstanceToFit(BufferedImage img, Dimension size) {\n            float scaleFactor = getScaleFactorToFit(img, size);\n            return getScaledInstance(img, scaleFactor);\n        }\n\n        public float getScaleFactorToFit(BufferedImage img, Dimension size) {\n            float scale = 1f;\n            if (img != null) {\n                int imageWidth = img.getWidth();\n                int imageHeight = img.getHeight();\n                scale = getScaleFactorToFit(new Dimension(imageWidth, imageHeight), size);\n            }\n            return scale;\n        }\n\n        public float getScaleFactorToFit(Dimension original, Dimension toFit) {\n            float scale = 1f;\n            if (original != null &amp;&amp; toFit != null) {\n                float dScaleWidth = getScaleFactor(original.width, toFit.width);\n                float dScaleHeight = getScaleFactor(original.height, toFit.height);\n                scale = Math.min(dScaleHeight, dScaleWidth);\n            }\n            return scale;\n        }\n\n        public float getScaleFactor(int iMasterSize, int iTargetSize) {\n            float scale = 1;\n            if (iMasterSize &gt; iTargetSize) {\n                scale = (float) iTargetSize / (float) iMasterSize;\n            } else {\n                scale = (float) iTargetSize / (float) iMasterSize;\n            }\n            return scale;\n        }\n\n        public BufferedImage getScaledInstance(BufferedImage img, double dScaleFactor) {\n            BufferedImage imgBuffer = null;\n            imgBuffer = getScaledInstance(img, dScaleFactor, RenderingHints.VALUE_INTERPOLATION_BILINEAR, true);\n            return imgBuffer;\n        }\n\n        protected BufferedImage getScaledInstance(BufferedImage img, double dScaleFactor, Object hint, boolean higherQuality) {\n\n            int targetWidth = (int) Math.round(img.getWidth() * dScaleFactor);\n            int targetHeight = (int) Math.round(img.getHeight() * dScaleFactor);\n\n            int type = (img.getTransparency() == Transparency.OPAQUE)\n                            ? BufferedImage.TYPE_INT_RGB : BufferedImage.TYPE_INT_ARGB;\n\n            BufferedImage ret = (BufferedImage) img;\n\n            if (targetHeight &gt; 0 || targetWidth &gt; 0) {\n                int w, h;\n                if (higherQuality) {\n                    w = img.getWidth();\n                    h = img.getHeight();\n                } else {\n                    w = targetWidth;\n                    h = targetHeight;\n                }\n\n                do {\n                    if (higherQuality &amp;&amp; w &gt; targetWidth) {\n                        w /= 2;\n                        if (w &lt; targetWidth) {\n                            w = targetWidth;\n                        }\n                    }\n\n                    if (higherQuality &amp;&amp; h &gt; targetHeight) {\n                        h /= 2;\n                        if (h &lt; targetHeight) {\n                            h = targetHeight;\n                        }\n                    }\n\n                    BufferedImage tmp = new BufferedImage(Math.max(w, 1), Math.max(h, 1), type);\n                    Graphics2D g2 = tmp.createGraphics();\n                    g2.setRenderingHint(RenderingHints.KEY_INTERPOLATION, hint);\n                    g2.drawImage(ret, 0, 0, w, h, null);\n                    g2.dispose();\n\n                    ret = tmp;\n                } while (w != targetWidth || h != targetHeight);\n            } else {\n                ret = new BufferedImage(1, 1, type);\n            }\n            return ret;\n        }\n    }\n}\n</code></pre>\n<p>You may, also, find <a href=\"https://web.archive.org/web/20150518194337/http://today.java.net/pub/a/today/2007/04/03/perils-of-image-getscaledinstance.html\" rel=\"nofollow noreferrer\">The Perils of Image.getScaledInstance()</a> of interest.</p>\n"},{"comments":[{"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"score":1,"creation_date":1357102780,"post_id":14116909,"comment_id":19538467,"body_markdown":"As can be seen at http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6500894, there is no lanczos support for these routines you are using. But, as you can find in http://code.google.com/p/java-image-scaling/ (http://code.google.com/p/java-image-scaling/source/browse/trunk/src/main/java/com/mortennobel/imagescaling/Lanczos3Filter.java), implementing Lanczos is particularly easy.","body":"As can be seen at <a href=\"http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6500894\" rel=\"nofollow noreferrer\">bugs.sun.com/bugdatabase/view_bug.do?bug_id=6500894</a>, there is no lanczos support for these routines you are using. But, as you can find in <a href=\"http://code.google.com/p/java-image-scaling/\" rel=\"nofollow noreferrer\">code.google.com/p/java-image-scaling</a> (<a href=\"http://code.google.com/p/java-image-scaling/source/browse/trunk/src/main/java/com/mortennobel/imagescaling/Lanczos3Filter.java\" rel=\"nofollow noreferrer\">code.google.com/p/java-image-scaling/source/browse/trunk/sr&zwnj;&#8203;c/&hellip;</a>), implementing Lanczos is particularly easy."},{"owner":{"account_id":2196177,"reputation":273,"user_id":1941778,"display_name":"dutchman191"},"score":4,"creation_date":1357105133,"post_id":14116909,"comment_id":19539005,"body_markdown":"I have just gotten the Scalr library working with ULTRA_QUALITY which has turned up a pretty decent result with still quite small image size.  Will have to do a comparison between the two.","body":"I have just gotten the Scalr library working with ULTRA_QUALITY which has turned up a pretty decent result with still quite small image size.  Will have to do a comparison between the two."},{"owner":{"account_id":266126,"reputation":10632,"user_id":553524,"accept_rate":82,"display_name":"Riyad Kalla"},"score":0,"creation_date":1357142448,"post_id":14116909,"comment_id":19552989,"body_markdown":"Ah woops -- just replied about imgscalr, didn&#39;t see this comment. Hope it works well for you, either library is a great choice!","body":"Ah woops -- just replied about imgscalr, didn&#39;t see this comment. Hope it works well for you, either library is a great choice!"},{"owner":{"account_id":1151383,"reputation":36217,"user_id":1133011,"accept_rate":96,"display_name":"David Kroukamp"},"score":0,"creation_date":1357161086,"post_id":14116909,"comment_id":19560933,"body_markdown":"+1 and all those bad mentioned is all that Java has :( (natively atleast)","body":"+1 and all those bad mentioned is all that Java has :( (natively atleast)"}],"tags":[],"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1357101617,"creation_date":1357101617,"answer_id":14116909,"question_id":14115950,"body_markdown":"The issue you are seeing is actually related to the resampling filter used for downscaling. Obviously, the one used by your library is a bad one for the situation. Nearest neighbor, bilinear and bicubic are typical bad examples to be used when downscaling. I don&#39;t know the exact resampling filter Photoshop uses, but I used 3-lobed lanczos and got the following result:\r\n\r\n![enter image description here][1]\r\n\r\nSo, to solve your problem, you need to use a smarter resampling filter.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Ois0x.png","title":"Quality of Image after resize very low -- Java","body":"<p>The issue you are seeing is actually related to the resampling filter used for downscaling. Obviously, the one used by your library is a bad one for the situation. Nearest neighbor, bilinear and bicubic are typical bad examples to be used when downscaling. I don't know the exact resampling filter Photoshop uses, but I used 3-lobed lanczos and got the following result:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Ois0x.png\" alt=\"enter image description here\"></p>\n\n<p>So, to solve your problem, you need to use a smarter resampling filter.</p>\n"},{"comments":[{"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"score":1,"creation_date":1357151851,"post_id":14125088,"comment_id":19557094,"body_markdown":"Let us hope that research on resampling stops forever, so you don&#39;t have to create a `SUPERMEGABLASTER_QUALITY` constant. Seriously, why is it called like that ?","body":"Let us hope that research on resampling stops forever, so you don&#39;t have to create a <code>SUPERMEGABLASTER_QUALITY</code> constant. Seriously, why is it called like that ?"},{"owner":{"account_id":2196177,"reputation":273,"user_id":1941778,"display_name":"dutchman191"},"score":0,"creation_date":1357165214,"post_id":14125088,"comment_id":19562725,"body_markdown":"@Riyad, is there also a function to plug it onto a white background?\nI am converting images to fit within a 60x60 but then I want to extend the canvas around it to 70x70, so picture is 60x60 and whitespace all around the image to 70x70.","body":"@Riyad, is there also a function to plug it onto a white background? I am converting images to fit within a 60x60 but then I want to extend the canvas around it to 70x70, so picture is 60x60 and whitespace all around the image to 70x70."},{"owner":{"account_id":2196177,"reputation":273,"user_id":1941778,"display_name":"dutchman191"},"score":0,"creation_date":1357170921,"post_id":14125088,"comment_id":19564548,"body_markdown":"I found the pad method, however is their one to do padding on certain sides? As in 5px top and bottom and 10px on the right and left.","body":"I found the pad method, however is their one to do padding on certain sides? As in 5px top and bottom and 10px on the right and left."},{"owner":{"account_id":266126,"reputation":10632,"user_id":553524,"accept_rate":82,"display_name":"Riyad Kalla"},"score":1,"creation_date":1357242038,"post_id":14125088,"comment_id":19590737,"body_markdown":"@dutchman191 There is not a pad method that accepts the 4 params, I just filed that as a feature request.","body":"@dutchman191 There is not a pad method that accepts the 4 params, I just filed that as a feature request."},{"owner":{"account_id":266126,"reputation":10632,"user_id":553524,"accept_rate":82,"display_name":"Riyad Kalla"},"score":0,"creation_date":1357242097,"post_id":14125088,"comment_id":19590762,"body_markdown":"@mmgp If you have a constructive recommendation please let me know.","body":"@mmgp If you have a constructive recommendation please let me know."},{"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"score":1,"creation_date":1357242522,"post_id":14125088,"comment_id":19590974,"body_markdown":"@RiyadKalla name the constant based on the algorithm used. But now you will have to deal with backward compatibility, so for some time (years maybe) the new constant name will live along the deprecated ULTRA_QUALITY constant.","body":"@RiyadKalla name the constant based on the algorithm used. But now you will have to deal with backward compatibility, so for some time (years maybe) the new constant name will live along the deprecated ULTRA_QUALITY constant."},{"owner":{"account_id":266126,"reputation":10632,"user_id":553524,"accept_rate":82,"display_name":"Riyad Kalla"},"score":3,"creation_date":1357332829,"post_id":14125088,"comment_id":19624400,"body_markdown":"@mmgp What&#39;s funny is I was researching other algorithms last night (thinking about what to add for 5.0) and realized how my name-selection early on was problomatic for exactly this reason. I always opted for the library to hide details and be &quot;dead simple&quot; to use, exposing names like &quot;bilinear&quot; and &quot;bicubic&quot; and concepts like &quot;kernels&quot; is terrible for new users. I don&#39;t think I&#39;ve necessarily made a mistake, but your point is well taken :)","body":"@mmgp What&#39;s funny is I was researching other algorithms last night (thinking about what to add for 5.0) and realized how my name-selection early on was problomatic for exactly this reason. I always opted for the library to hide details and be &quot;dead simple&quot; to use, exposing names like &quot;bilinear&quot; and &quot;bicubic&quot; and concepts like &quot;kernels&quot; is terrible for new users. I don&#39;t think I&#39;ve necessarily made a mistake, but your point is well taken :)"},{"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"score":1,"creation_date":1357333137,"post_id":14125088,"comment_id":19624509,"body_markdown":"@RiyadKalla if that is the case in fact, then I would suggest to create an alias between constants. Then, for example, the documentation would say that `ULTRA_QUALITY` is always the best resampling method available in the library (according to some criteria), and its implementation might change in future versions, but in this version it is an alias to `METHOD_X`. But that is just something I would prefer if I were using the library.","body":"@RiyadKalla if that is the case in fact, then I would suggest to create an alias between constants. Then, for example, the documentation would say that <code>ULTRA_QUALITY</code> is always the best resampling method available in the library (according to some criteria), and its implementation might change in future versions, but in this version it is an alias to <code>METHOD_X</code>. But that is just something I would prefer if I were using the library."},{"owner":{"account_id":266126,"reputation":10632,"user_id":553524,"accept_rate":82,"display_name":"Riyad Kalla"},"score":0,"creation_date":1357511566,"post_id":14125088,"comment_id":19665611,"body_markdown":"@mmgp Good call on the aliases -- agree that is the right approach moving forward. Thanks for the feedback.","body":"@mmgp Good call on the aliases -- agree that is the right approach moving forward. Thanks for the feedback."},{"owner":{"account_id":5959675,"reputation":110,"user_id":5472526,"accept_rate":80,"display_name":"Areg Hovhannisyan"},"score":0,"creation_date":1545592304,"post_id":14125088,"comment_id":94657307,"body_markdown":"Ahh, saved the day. Thank you for creating this awesome library!","body":"Ahh, saved the day. Thank you for creating this awesome library!"}],"tags":[],"owner":{"account_id":266126,"reputation":10632,"user_id":553524,"accept_rate":82,"display_name":"Riyad Kalla"},"comment_count":10,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1695211908,"creation_date":1357142369,"answer_id":14125088,"question_id":14115950,"body_markdown":"dutchman, this is why I maintain the &quot;imgscalr library&quot; -- to make this kind of stuff painfully easy.\r\n\r\nIn your example, a single method call would do the trick, right after your first ImageIO.read line:\r\n\r\n    origImage = ImageIO.read(new File(sourceImg));\r\n\r\nyou can do the following to get what you want ([javadoc for this method][2]):\r\n\r\n    origImage = Scalr.resize(origImage, Method.ULTRA_QUALITY, 60);\r\n\r\nand if that still looked a little jagged (because you are removing so much information from the image, you can add the following OP to the command to apply a light anti-aliasing filter to the image so it looks smoother):\r\n\r\n    origImage = Scalr.resize(origImage, Method.ULTRA_QUALITY, 60, Scalr.OP_ANTIALIAS);\r\n\r\nThat will replace all the remainder of the code logic you have. The only other thing I would recommend is saving out your really small samples as PNG&#39;s so there is no more compression/lossy conversion done on the image OR make sure you use little to none compression on the JPG if you really want it in JPG format. (Here is [an article][3] on how to do it; it utilizes the [ImageWriteParam][4] class)\r\n\r\nimgscalr is licensed under an Apache 2 license and hosted on [GitHub][5] so you can do what you want with it; it also includes [asynchronous scaling support][6] if you are using the library in a server-side app and queuing up huge numbers of scaling operations and don&#39;t want to kill the server.\r\n\r\n  [2]: http://www.thebuzzmedia.com/downloads/software/imgscalr/javadoc/org/imgscalr/Scalr.html#resize%28java.awt.image.BufferedImage,%20org.imgscalr.Scalr.Method,%20int,%20java.awt.image.BufferedImageOp...%29\r\n  [3]: http://blog.carsoncheng.ca/2011/02/how-to-change-jpeg-compression-in-java.html\r\n  [4]: http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageWriteParam.html\r\n  [5]: https://github.com/thebuzzmedia/imgscalr\r\n  [6]: http://www.thebuzzmedia.com/downloads/software/imgscalr/javadoc/org/imgscalr/AsyncScalr.html","title":"Quality of Image after resize very low -- Java","body":"<p>dutchman, this is why I maintain the &quot;imgscalr library&quot; -- to make this kind of stuff painfully easy.</p>\n<p>In your example, a single method call would do the trick, right after your first ImageIO.read line:</p>\n<pre><code>origImage = ImageIO.read(new File(sourceImg));\n</code></pre>\n<p>you can do the following to get what you want (<a href=\"http://www.thebuzzmedia.com/downloads/software/imgscalr/javadoc/org/imgscalr/Scalr.html#resize%28java.awt.image.BufferedImage,%20org.imgscalr.Scalr.Method,%20int,%20java.awt.image.BufferedImageOp...%29\" rel=\"nofollow noreferrer\">javadoc for this method</a>):</p>\n<pre><code>origImage = Scalr.resize(origImage, Method.ULTRA_QUALITY, 60);\n</code></pre>\n<p>and if that still looked a little jagged (because you are removing so much information from the image, you can add the following OP to the command to apply a light anti-aliasing filter to the image so it looks smoother):</p>\n<pre><code>origImage = Scalr.resize(origImage, Method.ULTRA_QUALITY, 60, Scalr.OP_ANTIALIAS);\n</code></pre>\n<p>That will replace all the remainder of the code logic you have. The only other thing I would recommend is saving out your really small samples as PNG's so there is no more compression/lossy conversion done on the image OR make sure you use little to none compression on the JPG if you really want it in JPG format. (Here is <a href=\"http://blog.carsoncheng.ca/2011/02/how-to-change-jpeg-compression-in-java.html\" rel=\"nofollow noreferrer\">an article</a> on how to do it; it utilizes the <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageWriteParam.html\" rel=\"nofollow noreferrer\">ImageWriteParam</a> class)</p>\n<p>imgscalr is licensed under an Apache 2 license and hosted on <a href=\"https://github.com/thebuzzmedia/imgscalr\" rel=\"nofollow noreferrer\">GitHub</a> so you can do what you want with it; it also includes <a href=\"http://www.thebuzzmedia.com/downloads/software/imgscalr/javadoc/org/imgscalr/AsyncScalr.html\" rel=\"nofollow noreferrer\">asynchronous scaling support</a> if you are using the library in a server-side app and queuing up huge numbers of scaling operations and don't want to kill the server.</p>\n"},{"comments":[{"owner":{"account_id":3178118,"reputation":311,"user_id":2685490,"display_name":"affhendrawan"},"score":0,"creation_date":1472363313,"post_id":36320292,"comment_id":65717676,"body_markdown":"thanks for providing this benchmark, really helpfull","body":"thanks for providing this benchmark, really helpfull"}],"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1475954063,"creation_date":1459374240,"answer_id":36320292,"question_id":14115950,"body_markdown":"As already stated, Java&#39;s Graphics2D does not provide a very good algorithm for down-scaling. If you don&#39;t want to implement a sophisticated algorithm yourself you could try out the current open source libs specialized for this: [Thumbnailator][1], [imgscalr][2] and a Java interface for [ImageMagick][3].\r\n\r\nWhile researching for a private project I tried them out (except ImageMagick) and here are the visual results with Photoshop as reference:\r\n\r\n[![comparison][1]][1]\r\n\r\n&gt;  A. **Thumbnailator** 0.4.8 with default settings (no additional internal resizing)  \r\n&gt; B. **imgscalr** 4.2 with ULTRA_QUALTY setting  \r\n&gt; C. **Photoshop** CS5 bicubic filter (save for web)  \r\n&gt; D. **Graphics2d** with all HQ render hints\r\n\r\n[*Here is the used code*][2]\r\n\r\nThumbnailator and PS create similar results, while imgscalr seems to be softer. It is subjective which one of the libs creates the preferable results. Another point to consider though is the performance. While Thumbnailator and Graphics2d have similar runtime, imgscalr is considerably slower (with ULTRA_QUALITY) [in my benchmarks][3].\r\n\r\n[For more info, read this post providing more detail on this matter][3].\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/hH8C3.png\r\n  [2]: https://gist.github.com/patrickfav/a147ecd26a385ce4f6d8c373356454c4\r\n  [3]: https://stackoverflow.com/a/36295066/774398","title":"Quality of Image after resize very low -- Java","body":"<p>As already stated, Java's Graphics2D does not provide a very good algorithm for down-scaling. If you don't want to implement a sophisticated algorithm yourself you could try out the current open source libs specialized for this: <a href=\"https://i.stack.imgur.com/hH8C3.png\" rel=\"noreferrer\">Thumbnailator</a>, <a href=\"https://gist.github.com/patrickfav/a147ecd26a385ce4f6d8c373356454c4\" rel=\"noreferrer\">imgscalr</a> and a Java interface for <a href=\"https://stackoverflow.com/a/36295066/774398\">ImageMagick</a>.</p>\n\n<p>While researching for a private project I tried them out (except ImageMagick) and here are the visual results with Photoshop as reference:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hH8C3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hH8C3.png\" alt=\"comparison\"></a></p>\n\n<blockquote>\n  <p>A. <strong>Thumbnailator</strong> 0.4.8 with default settings (no additional internal resizing)<br>\n  B. <strong>imgscalr</strong> 4.2 with ULTRA_QUALTY setting<br>\n  C. <strong>Photoshop</strong> CS5 bicubic filter (save for web)<br>\n  D. <strong>Graphics2d</strong> with all HQ render hints</p>\n</blockquote>\n\n<p><a href=\"https://gist.github.com/patrickfav/a147ecd26a385ce4f6d8c373356454c4\" rel=\"noreferrer\"><em>Here is the used code</em></a></p>\n\n<p>Thumbnailator and PS create similar results, while imgscalr seems to be softer. It is subjective which one of the libs creates the preferable results. Another point to consider though is the performance. While Thumbnailator and Graphics2d have similar runtime, imgscalr is considerably slower (with ULTRA_QUALITY) <a href=\"https://stackoverflow.com/a/36295066/774398\">in my benchmarks</a>.</p>\n\n<p><a href=\"https://stackoverflow.com/a/36295066/774398\">For more info, read this post providing more detail on this matter</a>.</p>\n"}],"owner":{"account_id":2196177,"reputation":273,"user_id":1941778,"display_name":"dutchman191"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22535,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":14116909,"answer_count":4,"score":27,"last_activity_date":1695211908,"creation_date":1357090321,"question_id":14115950,"body_markdown":"In the script it is going from around the 300x300 mark down to 60x60.  Need to improve the overall image quality as it is coming out very poorly at the moment.\r\n\r\n    public static Boolean resizeImage(String sourceImg, String destImg, Integer Width, Integer Height, Integer whiteSpaceAmount) \r\n    {\r\n        BufferedImage origImage;\r\n        \r\n        try \r\n        {\r\n            origImage = ImageIO.read(new File(sourceImg));\r\n            int type = origImage.getType() == 0? BufferedImage.TYPE_INT_ARGB : origImage.getType();\r\n            int fHeight = Height;\r\n            int fWidth = Width;\r\n            int whiteSpace = Height + whiteSpaceAmount; //Formatting all to squares so don&#39;t need two whiteSpace calcs..\r\n            double aspectRatio;\r\n\r\n            //Work out the resized dimensions\r\n            if (origImage.getHeight() &gt; origImage.getWidth()) //If the pictures height is greater than the width then scale appropriately.\r\n            {\r\n                fHeight = Height; //Set the height to 60 as it is the biggest side.\r\n\r\n                aspectRatio = (double)origImage.getWidth() / (double)origImage.getHeight(); //Get the aspect ratio of the picture.\r\n                fWidth = (int)Math.round(Width * aspectRatio); //Sets the width as created via the aspect ratio.\r\n            }\r\n            else if (origImage.getHeight() &lt; origImage.getWidth()) //If the pictures width is greater than the height scale appropriately.\r\n            {\r\n                fWidth = Width; //Set the height to 60 as it is the biggest side.\r\n\r\n                aspectRatio = (double)origImage.getHeight() / (double)origImage.getWidth(); //Get the aspect ratio of the picture.\r\n                fHeight = (int)Math.round(Height * aspectRatio); //Sets the height as created via the aspect ratio.\r\n            }\r\n\r\n            int extraHeight = whiteSpace - fHeight;\r\n            int extraWidth = whiteSpace - fWidth;\r\n\r\n            BufferedImage resizedImage = new BufferedImage(whiteSpace, whiteSpace, type);\r\n            Graphics2D g = resizedImage.createGraphics();\r\n            g.setColor(Color.white);\r\n            g.fillRect(0, 0, whiteSpace, whiteSpace);\r\n            \r\n            g.setComposite(AlphaComposite.Src);\r\n            g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n            g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n            g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            \r\n            g.drawImage(origImage, extraWidth/2, extraHeight/2, fWidth, fHeight, null);\r\n            g.dispose();\r\n\r\n            ImageIO.write(resizedImage, &quot;jpg&quot;, new File(destImg));\r\n        } \r\n        catch (IOException ex) \r\n        {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\nReally just need to know if their is something I can plug in that will bump up the quality or if I need to look at something else entirely.\r\n\r\n\r\nEDIT: Picture comparison.\r\n\r\nSource, just picked a random washing machine from google.\r\n&lt;img&gt;http://www.essexappliances.co.uk/images/categories/washing-machine.jpg&lt;/img&gt;\r\n\r\n![Washing Machine][1]\r\n\r\nThe same picture converted in Photoshop to what I need it to be.\r\nhttps://i.stack.imgur.com/Nn6S0.jpg\r\n\r\n![Good resize in Paint shop][2]\r\n\r\nWhat it looks like being converted like this.\r\nhttps://i.stack.imgur.com/uXZMD.jpg\r\n\r\n![Bad resize][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xKZsO.jpg\r\n  [2]: https://i.stack.imgur.com/TRKij.jpg\r\n  [3]: https://i.stack.imgur.com/wkD8O.jpg","title":"Quality of Image after resize very low -- Java","body":"<p>In the script it is going from around the 300x300 mark down to 60x60.  Need to improve the overall image quality as it is coming out very poorly at the moment.</p>\n\n<pre><code>public static Boolean resizeImage(String sourceImg, String destImg, Integer Width, Integer Height, Integer whiteSpaceAmount) \n{\n    BufferedImage origImage;\n\n    try \n    {\n        origImage = ImageIO.read(new File(sourceImg));\n        int type = origImage.getType() == 0? BufferedImage.TYPE_INT_ARGB : origImage.getType();\n        int fHeight = Height;\n        int fWidth = Width;\n        int whiteSpace = Height + whiteSpaceAmount; //Formatting all to squares so don't need two whiteSpace calcs..\n        double aspectRatio;\n\n        //Work out the resized dimensions\n        if (origImage.getHeight() &gt; origImage.getWidth()) //If the pictures height is greater than the width then scale appropriately.\n        {\n            fHeight = Height; //Set the height to 60 as it is the biggest side.\n\n            aspectRatio = (double)origImage.getWidth() / (double)origImage.getHeight(); //Get the aspect ratio of the picture.\n            fWidth = (int)Math.round(Width * aspectRatio); //Sets the width as created via the aspect ratio.\n        }\n        else if (origImage.getHeight() &lt; origImage.getWidth()) //If the pictures width is greater than the height scale appropriately.\n        {\n            fWidth = Width; //Set the height to 60 as it is the biggest side.\n\n            aspectRatio = (double)origImage.getHeight() / (double)origImage.getWidth(); //Get the aspect ratio of the picture.\n            fHeight = (int)Math.round(Height * aspectRatio); //Sets the height as created via the aspect ratio.\n        }\n\n        int extraHeight = whiteSpace - fHeight;\n        int extraWidth = whiteSpace - fWidth;\n\n        BufferedImage resizedImage = new BufferedImage(whiteSpace, whiteSpace, type);\n        Graphics2D g = resizedImage.createGraphics();\n        g.setColor(Color.white);\n        g.fillRect(0, 0, whiteSpace, whiteSpace);\n\n        g.setComposite(AlphaComposite.Src);\n        g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n        g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n        g.drawImage(origImage, extraWidth/2, extraHeight/2, fWidth, fHeight, null);\n        g.dispose();\n\n        ImageIO.write(resizedImage, \"jpg\", new File(destImg));\n    } \n    catch (IOException ex) \n    {\n        return false;\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>Really just need to know if their is something I can plug in that will bump up the quality or if I need to look at something else entirely.</p>\n\n<p>EDIT: Picture comparison.</p>\n\n<p>Source, just picked a random washing machine from google.\n<a href=\"http://www.essexappliances.co.uk/images/categories/washing-machine.jpg\" rel=\"noreferrer\">http://www.essexappliances.co.uk/images/categories/washing-machine.jpg</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/xKZsO.jpg\" alt=\"Washing Machine\"></p>\n\n<p>The same picture converted in Photoshop to what I need it to be.\n<a href=\"https://i.stack.imgur.com/Nn6S0.jpg\" rel=\"noreferrer\">https://i.stack.imgur.com/Nn6S0.jpg</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/TRKij.jpg\" alt=\"Good resize in Paint shop\"></p>\n\n<p>What it looks like being converted like this.\n<a href=\"https://i.stack.imgur.com/uXZMD.jpg\" rel=\"noreferrer\">https://i.stack.imgur.com/uXZMD.jpg</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/wkD8O.jpg\" alt=\"Bad resize\"></p>\n"},{"tags":["java","android","flutter"],"comments":[{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1695191238,"post_id":77139350,"comment_id":135989213,"body_markdown":"You can provide gradient background to the progressbar and if you don&#39;t find any other solution then you can go with the Stack and use container with gradient like this and then put the transparent progressbar above that. Ultimately if nothing works then you can use the image as well.","body":"You can provide gradient background to the progressbar and if you don&#39;t find any other solution then you can go with the Stack and use container with gradient like this and then put the transparent progressbar above that. Ultimately if nothing works then you can use the image as well."}],"owner":{"account_id":29487699,"reputation":11,"user_id":22597245,"display_name":"yogesh kahar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1695211876,"creation_date":1695185121,"question_id":77139350,"body_markdown":"I want to make multi color progress bar with indicator in flutter, but I am not find any type of package.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAbove image tell you, which I want design.\r\nif any one have solution about problem tell me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8StrY.png","title":"multi color progress indicator","body":"<p>I want to make multi color progress bar with indicator in flutter, but I am not find any type of package.</p>\n<p><a href=\"https://i.stack.imgur.com/8StrY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8StrY.png\" alt=\"enter image description here\" /></a></p>\n<p>Above image tell you, which I want design.\nif any one have solution about problem tell me.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2934859,"reputation":1622,"user_id":2514069,"display_name":"Nikolay Hristov"},"score":0,"creation_date":1688281385,"post_id":76339307,"comment_id":135051169,"body_markdown":"Take a look at Danvega example here https://github.com/danvega/jwt\nIt helped me to understand the new changes a lot.","body":"Take a look at Danvega example here <a href=\"https://github.com/danvega/jwt\" rel=\"nofollow noreferrer\">github.com/danvega/jwt</a> It helped me to understand the new changes a lot."}],"answers":[{"comments":[{"owner":{"account_id":42916,"reputation":22357,"user_id":125212,"accept_rate":52,"display_name":"Jackie"},"score":0,"creation_date":1694361423,"post_id":76340012,"comment_id":135878176,"body_markdown":"&#39;jwt()&#39; is deprecated and marked for removal","body":"&#39;jwt()&#39; is deprecated and marked for removal"}],"tags":[],"owner":{"account_id":2555978,"reputation":1482,"user_id":2217962,"display_name":"schrom"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1685106930,"creation_date":1685097684,"answer_id":76340012,"question_id":76339307,"body_markdown":"Spring&#39;s general advice is to migrate to Spring 5.8 first, and to 6.0 later, to have a smoother transition to the new features.\r\n\r\nAs stated in [Spring Security 5.8 documentation][1]:\r\n\r\n&gt; In Spring Security 5.8, the antMatchers, mvcMatchers, and regexMatchers methods were deprecated in favor of new requestMatchers methods\r\n\r\nAs far as I know `http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)` should still work, it is even mentioned in the [Spring Security 6.0 documentation about JWT][2]:\r\n\r\nUsually Spring classes have a great documentation about deprecated methods, i.e. the JavaDoc often is giving hints which class or method to use instead.\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\r\n  [2]: https://docs.spring.io/spring-security/reference/6.0/servlet/oauth2/resource-server/jwt.html","title":"Spring Security deprecated issue","body":"<p>Spring's general advice is to migrate to Spring 5.8 first, and to 6.0 later, to have a smoother transition to the new features.</p>\n<p>As stated in <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/config.html\" rel=\"noreferrer\">Spring Security 5.8 documentation</a>:</p>\n<blockquote>\n<p>In Spring Security 5.8, the antMatchers, mvcMatchers, and regexMatchers methods were deprecated in favor of new requestMatchers methods</p>\n</blockquote>\n<p>As far as I know <code>http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt)</code> should still work, it is even mentioned in the <a href=\"https://docs.spring.io/spring-security/reference/6.0/servlet/oauth2/resource-server/jwt.html\" rel=\"noreferrer\">Spring Security 6.0 documentation about JWT</a>:</p>\n<p>Usually Spring classes have a great documentation about deprecated methods, i.e. the JavaDoc often is giving hints which class or method to use instead.</p>\n"},{"tags":[],"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1685107402,"creation_date":1685107402,"answer_id":76341223,"question_id":76339307,"body_markdown":"In addition to @schrom answer and more related to the deprecation of `OAuth2ResourceServerConfigurer#jwt`, Spring Security deprecated the methods that return its own configurer in favor of the ones that return `HttpSecurity`, and deprecated the `.and()` method from the `HttpSecurity`.\r\n\r\nFor example, `httpBasic()` is deprecated in favor of `httpBasic(Customizer)`. Those deprecations were done to have only one way to configure the security DSL, which is using lambdas. Take a look [at the documentation][1].\r\n\r\nSo, for JWT configuration, you&#39;d have to do:\r\n\r\n```java\r\noauth2ResourceServer((oauth2) -&gt; oauth2\r\n    .jwt(Customizer.withDefaults())\r\n)\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/migration-7/configuration.html#_use_the_lambda_dsl","title":"Spring Security deprecated issue","body":"<p>In addition to @schrom answer and more related to the deprecation of <code>OAuth2ResourceServerConfigurer#jwt</code>, Spring Security deprecated the methods that return its own configurer in favor of the ones that return <code>HttpSecurity</code>, and deprecated the <code>.and()</code> method from the <code>HttpSecurity</code>.</p>\n<p>For example, <code>httpBasic()</code> is deprecated in favor of <code>httpBasic(Customizer)</code>. Those deprecations were done to have only one way to configure the security DSL, which is using lambdas. Take a look <a href=\"https://docs.spring.io/spring-security/reference/migration-7/configuration.html#_use_the_lambda_dsl\" rel=\"noreferrer\">at the documentation</a>.</p>\n<p>So, for JWT configuration, you'd have to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>oauth2ResourceServer((oauth2) -&gt; oauth2\n    .jwt(Customizer.withDefaults())\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685607447,"creation_date":1685607447,"answer_id":76379935,"question_id":76339307,"body_markdown":"Try this like:\r\n\r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n                http\r\n                        // Other stuff\r\n                        .oauth2ResourceServer((rs) -&gt;\r\n                                rs.jwt((jwt) -&gt;jwt.decoder(jwtDecoder()))\r\n                        );\r\n                return http.build();\r\n        }\r\n\r\n        @Bean\r\n        public JwtDecoder jwtDecoder() {\r\n                // return your JWTdecoder\r\n        }","title":"Spring Security deprecated issue","body":"<p>Try this like:</p>\n<pre><code>    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n            http\n                    // Other stuff\n                    .oauth2ResourceServer((rs) -&gt;\n                            rs.jwt((jwt) -&gt;jwt.decoder(jwtDecoder()))\n                    );\n            return http.build();\n    }\n\n    @Bean\n    public JwtDecoder jwtDecoder() {\n            // return your JWTdecoder\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25470907,"reputation":1,"user_id":19269101,"display_name":"lazyInferno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689861497,"creation_date":1689861257,"answer_id":76730620,"question_id":76339307,"body_markdown":"I guess you are looking to configure the Customizer for the various HTTPSecurity settings, you can take a cue from below:\r\n\r\n````\r\n    @Value(&quot;${jwksUri}&quot;)\r\n    private String jwksUri;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.oauth2ResourceServer( server -&gt; server.jwt(jwtConfigurer -&gt; jwtConfigurer.jwkSetUri(jwksUri)));\r\n\r\n        http.oauth2ResourceServer( server -&gt; server.jwt(jwtConfigurer -&gt; jwtConfigurer.decoder( myDecoder )));\r\n\r\n        http.authorizeHttpRequests(auth -&gt; auth.anyRequest().authenticated());\r\n\r\n        return http.build();\r\n\r\n    }\r\n````","title":"Spring Security deprecated issue","body":"<p>I guess you are looking to configure the Customizer for the various HTTPSecurity settings, you can take a cue from below:</p>\n<pre><code>    @Value(&quot;${jwksUri}&quot;)\n    private String jwksUri;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n        http.oauth2ResourceServer( server -&gt; server.jwt(jwtConfigurer -&gt; jwtConfigurer.jwkSetUri(jwksUri)));\n\n        http.oauth2ResourceServer( server -&gt; server.jwt(jwtConfigurer -&gt; jwtConfigurer.decoder( myDecoder )));\n\n        http.authorizeHttpRequests(auth -&gt; auth.anyRequest().authenticated());\n\n        return http.build();\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15668947,"reputation":2198,"user_id":11306005,"display_name":"helpper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695211433,"creation_date":1695211433,"answer_id":77142239,"question_id":76339307,"body_markdown":"Just for the Kotlin devs looking in here \r\n```kotlin\r\nfun filterChain(http: HttpSecurity): SecurityFilterChain {\r\n        http.authorizeHttpRequests { auth -&gt;\r\n            auth.requestMatchers(&quot;/myendpoint/**&quot;).authenticated()\r\n        }\r\n        .oauth2ResourceServer { oauth2 -&gt; oauth2.jwt(Customizer.withDefaults()) }\r\n\r\n        return http.build()\r\n    }","title":"Spring Security deprecated issue","body":"<p>Just for the Kotlin devs looking in here</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun filterChain(http: HttpSecurity): SecurityFilterChain {\n        http.authorizeHttpRequests { auth -&gt;\n            auth.requestMatchers(&quot;/myendpoint/**&quot;).authenticated()\n        }\n        .oauth2ResourceServer { oauth2 -&gt; oauth2.jwt(Customizer.withDefaults()) }\n\n        return http.build()\n    }\n</code></pre>\n"}],"owner":{"account_id":20831010,"reputation":187,"user_id":15300325,"display_name":"Yogesh Rao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23011,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":76341223,"answer_count":5,"score":18,"last_activity_date":1695211433,"creation_date":1685092035,"question_id":76339307,"body_markdown":"Trying to configure JWT configuration. Seems like JWT is deprecated. How can I use `OAuth2ResourceServerConfigurer::jwt` now? \r\n\r\nMy code: \r\n\r\n```java\r\n@Bean\r\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http.authorizeHttpRequests((requests) -&gt; requests.anyRequest().authenticated());\r\n    http.sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n    //http.formLogin(withDefaults());\r\n    http.httpBasic(Customizer.withDefaults());\r\n    http.csrf(csrf -&gt; csrf.disable());\r\n    http.headers(headers -&gt; headers.frameOptions(frameOptionsConfig -&gt; frameOptionsConfig.sameOrigin()));\r\n    http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n    return http.build();\r\n}\r\n```\r\n\r\nAlso, in Spring Security 6.0, `antMatchers()` as well as other configuration methods for securing requests (namely `mvcMatchers()` and `regexMatchers()`) have been removed from the API.","title":"Spring Security deprecated issue","body":"<p>Trying to configure JWT configuration. Seems like JWT is deprecated. How can I use <code>OAuth2ResourceServerConfigurer::jwt</code> now?</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests((requests) -&gt; requests.anyRequest().authenticated());\n    http.sessionManagement((session) -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n    //http.formLogin(withDefaults());\n    http.httpBasic(Customizer.withDefaults());\n    http.csrf(csrf -&gt; csrf.disable());\n    http.headers(headers -&gt; headers.frameOptions(frameOptionsConfig -&gt; frameOptionsConfig.sameOrigin()));\n    http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n    return http.build();\n}\n</code></pre>\n<p>Also, in Spring Security 6.0, <code>antMatchers()</code> as well as other configuration methods for securing requests (namely <code>mvcMatchers()</code> and <code>regexMatchers()</code>) have been removed from the API.</p>\n"},{"tags":["java","spring","unit-testing","testing","junit"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632240400,"post_id":69270197,"comment_id":122436792,"body_markdown":"Does anyone else have ever create unit test for caching in Java?","body":"Does anyone else have ever create unit test for caching in Java?"}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632469028,"post_id":69281769,"comment_id":122505240,"body_markdown":"**#1** Thanks a lot, I have just found time to have a look at. First, yes I already used `@Cacheable()` in my service method, but did not add to the code in question. On the other hand, I am not sure if I have to use `CacheConfig` to test caching in my Unit Test. Normally it is good, but we did not use it and if I do not need for testing, I do not want to add it.","body":"<b>#1</b> Thanks a lot, I have just found time to have a look at. First, yes I already used <code>@Cacheable()</code> in my service method, but did not add to the code in question. On the other hand, I am not sure if I have to use <code>CacheConfig</code> to test caching in my Unit Test. Normally it is good, but we did not use it and if I do not need for testing, I do not want to add it."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632469161,"post_id":69281769,"comment_id":122505290,"body_markdown":"**#2** ** Does `@ImportAutoConfiguration(classes = { CacheAutoConfiguration.class, RedisAutoConfiguration.class })` make the default settings (config) for the part you post in the `CacheConfig` ? I think if we do not use `CacheConfig` class, we may use `@ImportAutoConfiguration()` annotation. Am I wrong?","body":"<b>#2</b> ** Does <code>@ImportAutoConfiguration(classes = { CacheAutoConfiguration.class, RedisAutoConfiguration.class })</code> make the default settings (config) for the part you post in the <code>CacheConfig</code> ? I think if we do not use <code>CacheConfig</code> class, we may use <code>@ImportAutoConfiguration()</code> annotation. Am I wrong?"},{"owner":{"account_id":346385,"reputation":5794,"user_id":679879,"accept_rate":90,"display_name":"Mustafa"},"score":0,"creation_date":1632480213,"post_id":69281769,"comment_id":122509865,"body_markdown":"@Robert, the `ImportAutoConfiguration` stuff is being done automatically by springboot based on the classes in your classpath. You add it here for the test. The `CacheConfig` stuff is customizing the defaults. If your caching works without this customization the you can do without it.","body":"@Robert, the <code>ImportAutoConfiguration</code> stuff is being done automatically by springboot based on the classes in your classpath. You add it here for the test. The <code>CacheConfig</code> stuff is customizing the defaults. If your caching works without this customization the you can do without it."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1632480856,"post_id":69281769,"comment_id":122510119,"body_markdown":"Yes, I realized that on the page that you suggested (Spring Boot Cache with Redis) and I also followed that example for my implementation. However, I cannot perform the caching. There is a mistake that I can still not fix. Could you please have a look at **[Cannot test Spring Caching in Unit Test](https://stackoverflow.com/questions/69313791/cannot-test-spring-caching-in-unit-test)**?","body":"Yes, I realized that on the page that you suggested (Spring Boot Cache with Redis) and I also followed that example for my implementation. However, I cannot perform the caching. There is a mistake that I can still not fix. Could you please have a look at <b><a href=\"https://stackoverflow.com/questions/69313791/cannot-test-spring-caching-in-unit-test\">Cannot test Spring Caching in Unit Test</a></b>?"}],"tags":[],"owner":{"account_id":346385,"reputation":5794,"user_id":679879,"accept_rate":90,"display_name":"Mustafa"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632303724,"creation_date":1632303724,"answer_id":69281769,"question_id":69270197,"body_markdown":"You need to annotate the service class method with `@Cacheable`. Try to follow the code in [this tutorial][1]. The following test code works as expected\r\n\r\n```java\r\n@Import({CacheConfig.class, DemoServiceImpl.class})\r\n@ExtendWith(SpringExtension.class)\r\n@EnableCaching\r\n@ImportAutoConfiguration(classes = {\r\n    CacheAutoConfiguration.class,\r\n    RedisAutoConfiguration.class\r\n})\r\nclass DemoServiceImplTest {\r\n\r\n  @MockBean\r\n  private LabelRepository labelRepository;\r\n\r\n  @Autowired\r\n  private DemoServiceImpl demoService;\r\n\r\n  @Autowired\r\n  private CacheManager cacheManager;\r\n\r\n  @TestConfiguration\r\n  static class EmbeddedRedisConfiguration {\r\n\r\n    private final RedisServer redisServer;\r\n\r\n    public EmbeddedRedisConfiguration() {\r\n      this.redisServer = new RedisServer();\r\n    }\r\n\r\n    @PostConstruct\r\n    public void startRedis() {\r\n      redisServer.start();\r\n    }\r\n\r\n    @PreDestroy\r\n    public void stopRedis() {\r\n      this.redisServer.stop();\r\n    }\r\n  }\r\n\r\n  @Test\r\n  void givenRedisCaching_whenFindItemById_thenItemReturnedFromCache() {\r\n    UUID id = UUID.randomUUID();\r\n    Label aLabel = new Label(id, &quot;label&quot;);\r\n\r\n    Mockito.when(labelRepository.findById(id)).thenReturn(Optional.of(aLabel));\r\n\r\n    Label labelCacheMiss = demoService.findByUuid(id);\r\n    Label labelCacheHit = demoService.findByUuid(id);\r\n\r\n    Mockito.verify(labelRepository, Mockito.times(1)).findById(id);\r\n  }\r\n}\r\n```\r\nWith this service class code:\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\n@EnableCaching\r\npublic class DemoServiceImpl {\r\n\r\n  public static final String CACHE_NAME = &quot;demoCache&quot;;\r\n\r\n  private final LabelRepository labelRepository;\r\n\r\n  @Cacheable(value = CACHE_NAME)\r\n  public Label findByUuid(UUID uuid) {\r\n    return labelRepository.findById(uuid)\r\n        .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found.&quot;));\r\n  }\r\n}\r\n```\r\nAnd this `CacheConfig`:\r\n\r\n```java\r\n@Configuration\r\npublic class CacheConfig {\r\n\r\n  @Bean\r\n  public RedisCacheManagerBuilderCustomizer redisCacheManagerBuilderCustomizer() {\r\n    return (builder) -&gt; builder\r\n        .withCacheConfiguration(DemoServiceImpl.CACHE_NAME,\r\n            RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(10)));\r\n  }\r\n\r\n  @Bean\r\n  public RedisCacheConfiguration cacheConfiguration() {\r\n    return RedisCacheConfiguration.defaultCacheConfig()\r\n        .entryTtl(Duration.ofMinutes(60))\r\n        .disableCachingNullValues()\r\n        .serializeValuesWith(\r\n            RedisSerializationContext.SerializationPair.fromSerializer(\r\n                new GenericJackson2JsonRedisSerializer()));\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-redis-cache","title":"Unit Test for Redis cache in Java","body":"<p>You need to annotate the service class method with <code>@Cacheable</code>. Try to follow the code in <a href=\"https://www.baeldung.com/spring-boot-redis-cache\" rel=\"nofollow noreferrer\">this tutorial</a>. The following test code works as expected</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Import({CacheConfig.class, DemoServiceImpl.class})\n@ExtendWith(SpringExtension.class)\n@EnableCaching\n@ImportAutoConfiguration(classes = {\n    CacheAutoConfiguration.class,\n    RedisAutoConfiguration.class\n})\nclass DemoServiceImplTest {\n\n  @MockBean\n  private LabelRepository labelRepository;\n\n  @Autowired\n  private DemoServiceImpl demoService;\n\n  @Autowired\n  private CacheManager cacheManager;\n\n  @TestConfiguration\n  static class EmbeddedRedisConfiguration {\n\n    private final RedisServer redisServer;\n\n    public EmbeddedRedisConfiguration() {\n      this.redisServer = new RedisServer();\n    }\n\n    @PostConstruct\n    public void startRedis() {\n      redisServer.start();\n    }\n\n    @PreDestroy\n    public void stopRedis() {\n      this.redisServer.stop();\n    }\n  }\n\n  @Test\n  void givenRedisCaching_whenFindItemById_thenItemReturnedFromCache() {\n    UUID id = UUID.randomUUID();\n    Label aLabel = new Label(id, &quot;label&quot;);\n\n    Mockito.when(labelRepository.findById(id)).thenReturn(Optional.of(aLabel));\n\n    Label labelCacheMiss = demoService.findByUuid(id);\n    Label labelCacheHit = demoService.findByUuid(id);\n\n    Mockito.verify(labelRepository, Mockito.times(1)).findById(id);\n  }\n}\n</code></pre>\n<p>With this service class code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\n@EnableCaching\npublic class DemoServiceImpl {\n\n  public static final String CACHE_NAME = &quot;demoCache&quot;;\n\n  private final LabelRepository labelRepository;\n\n  @Cacheable(value = CACHE_NAME)\n  public Label findByUuid(UUID uuid) {\n    return labelRepository.findById(uuid)\n        .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found.&quot;));\n  }\n}\n</code></pre>\n<p>And this <code>CacheConfig</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CacheConfig {\n\n  @Bean\n  public RedisCacheManagerBuilderCustomizer redisCacheManagerBuilderCustomizer() {\n    return (builder) -&gt; builder\n        .withCacheConfiguration(DemoServiceImpl.CACHE_NAME,\n            RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(10)));\n  }\n\n  @Bean\n  public RedisCacheConfiguration cacheConfiguration() {\n    return RedisCacheConfiguration.defaultCacheConfig()\n        .entryTtl(Duration.ofMinutes(60))\n        .disableCachingNullValues()\n        .serializeValuesWith(\n            RedisSerializationContext.SerializationPair.fromSerializer(\n                new GenericJackson2JsonRedisSerializer()));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8910,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695211375,"creation_date":1632232759,"question_id":69270197,"body_markdown":"**Note:** I already look at and tried some approaches on SO e.g. [How to test Spring&#39;s declarative caching support on Spring Data repositories?](https://stackoverflow.com/questions/24221569/how-to-test-springs-declarative-caching-support-on-spring-data-repositories), but as most of them old, I cannot make them work properly and I need a solution with the latest library versions. So, I would be appreciated if you have a look at the question and help.\r\n\r\n\r\n\r\n\r\n```\r\n@Service\r\n@EnableCaching\r\n@RequiredArgsConstructor\r\npublic class DemoServiceImpl implements DemoService {\r\n\r\n    private static final String CACHE_NAME = &quot;demoCache&quot;;\r\n\r\n    private final LabelRepository labelRepository;\r\n    private final LabelTranslatableRepository translatableRepository;\r\n    private final LanguageService languageService;\r\n\r\n\r\n    @Override\r\n    public LabelDTO findByUuid(UUID uuid) {\r\n        final Label label = labelRepository.findByUuid(uuid)\r\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found.&quot;));\r\n        final List&lt;LabelTranslatable&gt; translatableList = translatableRepository.findAllByEntityUuid(uuid);\r\n        return new LabelDTO(Pair.of(label.getUuid(), label.getKey()), translatableList);\r\n    }\r\n}\r\n```\r\n\r\nI created the following Unit Test to test caching for the nethod above:\r\n\r\n```\r\n@EnableCaching\r\n@ImportAutoConfiguration(classes = {\r\n        CacheAutoConfiguration.class,\r\n        RedisAutoConfiguration.class\r\n})\r\n@ExtendWith(MockitoExtension.class)\r\nclass TextLabelServiceImpl_deneme_Test {\r\n\r\n    @Autowired\r\n    private CacheManager cacheManager;\r\n\r\n    @InjectMocks\r\n    private LabelService labelService;\r\n\r\n    @Mock\r\n    private LabelRepository labelRepository;\r\n\r\n    @Mock\r\n    private LabelTranslatableRepository translatableRepository;\r\n\r\n    @Test\r\n    void test_Cache() {\r\n        UUID uuid = UUID.randomUUID();\r\n        final TextLabel textLabel = new TextLabel();\r\n        textLabel.setId(1);\r\n        textLabel.setKey(&quot;key1&quot;);\r\n\r\n        TextLabelTranslatable textLabelTranslatable = new TextLabelTranslatable();\r\n        textLabelTranslatable.setEntityUuid(uuid);\r\n        textLabelTranslatable.setLanguage(SupportedLanguage.fr);\r\n        textLabelTranslatable.setValue(&quot;value1&quot;);\r\n\r\n        final List&lt;TextLabelTranslatable&gt; translatableList = new ArrayList&lt;&gt;();\r\n        translatableList.add(textLabelTranslatable);\r\n\r\n        when(labelRepository.findByUuid(uuid)).thenReturn(Optional.of(textLabel));\r\n        when(translatableRepository.findAllByEntityUuid(uuid)).thenReturn(translatableList);\r\n\r\n        TextLabelDTO result1 = labelService.findByUuid(uuid);\r\n        TextLabelDTO result2 = labelService.findByUuid(uuid);\r\n\r\n        assertEquals(result1, result2);\r\n        Mockito.verify(translatableRepository, Mockito.times(1)).findAllByEntityUuid(uuid);\r\n    }\r\n```\r\n\r\nI am not sure if there is a missing part in my test, but at the last line (`Mockito.verify()`), it returns 2 instead of 1 that means caching not works. But it is working properly and there is a problem in my test I think. How should I complete the unit test to check the caching properly? ","title":"Unit Test for Redis cache in Java","body":"<p><strong>Note:</strong> I already look at and tried some approaches on SO e.g. <a href=\"https://stackoverflow.com/questions/24221569/how-to-test-springs-declarative-caching-support-on-spring-data-repositories\">How to test Spring's declarative caching support on Spring Data repositories?</a>, but as most of them old, I cannot make them work properly and I need a solution with the latest library versions. So, I would be appreciated if you have a look at the question and help.</p>\n<pre><code>@Service\n@EnableCaching\n@RequiredArgsConstructor\npublic class DemoServiceImpl implements DemoService {\n\n    private static final String CACHE_NAME = &quot;demoCache&quot;;\n\n    private final LabelRepository labelRepository;\n    private final LabelTranslatableRepository translatableRepository;\n    private final LanguageService languageService;\n\n\n    @Override\n    public LabelDTO findByUuid(UUID uuid) {\n        final Label label = labelRepository.findByUuid(uuid)\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found.&quot;));\n        final List&lt;LabelTranslatable&gt; translatableList = translatableRepository.findAllByEntityUuid(uuid);\n        return new LabelDTO(Pair.of(label.getUuid(), label.getKey()), translatableList);\n    }\n}\n</code></pre>\n<p>I created the following Unit Test to test caching for the nethod above:</p>\n<pre><code>@EnableCaching\n@ImportAutoConfiguration(classes = {\n        CacheAutoConfiguration.class,\n        RedisAutoConfiguration.class\n})\n@ExtendWith(MockitoExtension.class)\nclass TextLabelServiceImpl_deneme_Test {\n\n    @Autowired\n    private CacheManager cacheManager;\n\n    @InjectMocks\n    private LabelService labelService;\n\n    @Mock\n    private LabelRepository labelRepository;\n\n    @Mock\n    private LabelTranslatableRepository translatableRepository;\n\n    @Test\n    void test_Cache() {\n        UUID uuid = UUID.randomUUID();\n        final TextLabel textLabel = new TextLabel();\n        textLabel.setId(1);\n        textLabel.setKey(&quot;key1&quot;);\n\n        TextLabelTranslatable textLabelTranslatable = new TextLabelTranslatable();\n        textLabelTranslatable.setEntityUuid(uuid);\n        textLabelTranslatable.setLanguage(SupportedLanguage.fr);\n        textLabelTranslatable.setValue(&quot;value1&quot;);\n\n        final List&lt;TextLabelTranslatable&gt; translatableList = new ArrayList&lt;&gt;();\n        translatableList.add(textLabelTranslatable);\n\n        when(labelRepository.findByUuid(uuid)).thenReturn(Optional.of(textLabel));\n        when(translatableRepository.findAllByEntityUuid(uuid)).thenReturn(translatableList);\n\n        TextLabelDTO result1 = labelService.findByUuid(uuid);\n        TextLabelDTO result2 = labelService.findByUuid(uuid);\n\n        assertEquals(result1, result2);\n        Mockito.verify(translatableRepository, Mockito.times(1)).findAllByEntityUuid(uuid);\n    }\n</code></pre>\n<p>I am not sure if there is a missing part in my test, but at the last line (<code>Mockito.verify()</code>), it returns 2 instead of 1 that means caching not works. But it is working properly and there is a problem in my test I think. How should I complete the unit test to check the caching properly?</p>\n"},{"tags":["java","gradle","intellij-idea","upgrade"],"comments":[{"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"score":1,"creation_date":1694996590,"post_id":77124032,"comment_id":135960969,"body_markdown":"I don&#39;t know if you are using a version control system, but once you solve this issue, you should use different branches for different java versions","body":"I don&#39;t know if you are using a version control system, but once you solve this issue, you should use different branches for different java versions"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1694996708,"post_id":77124032,"comment_id":135960976,"body_markdown":"Please check https://stackoverflow.com/q/69637244/18157","body":"Please check <a href=\"https://stackoverflow.com/q/69637244/18157\">stackoverflow.com/q/69637244/18157</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1694996805,"post_id":77124032,"comment_id":135960980,"body_markdown":"Why downgrade Gradle? Why not keep the latest Gradle but target your build for Java 8?","body":"Why downgrade Gradle? Why not keep the latest Gradle but target your build for Java 8?"},{"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"score":0,"creation_date":1694997060,"post_id":77124032,"comment_id":135960992,"body_markdown":"@MauricioGraciaGutierrez - yes I will keep difference branches fo different java versions after this is solved.","body":"@MauricioGraciaGutierrez - yes I will keep difference branches fo different java versions after this is solved."},{"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"score":0,"creation_date":1694997124,"post_id":77124032,"comment_id":135960997,"body_markdown":"@JimGarrison - In the link shared- we are adding a lib, think - switching back should not be dependent on adding any libs.","body":"@JimGarrison - In the link shared- we are adding a lib, think - switching back should not be dependent on adding any libs."},{"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"score":0,"creation_date":1694997166,"post_id":77124032,"comment_id":135960999,"body_markdown":"@BasilBourque - That is a separate repository all together. Hence setting up java 8 with the code compatible.","body":"@BasilBourque - That is a separate repository all together. Hence setting up java 8 with the code compatible."},{"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"score":0,"creation_date":1694997231,"post_id":77124032,"comment_id":135961003,"body_markdown":"Also i observed that this particular project is still running on java 17 but i have updated all the settings.  cxo-dashboards-war % java -version\njava version &quot;17.0.8&quot; 2023-07-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.8+9-LTS-211)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.8+9-LTS-211, mixed mode, sharing)","body":"Also i observed that this particular project is still running on java 17 but i have updated all the settings.  cxo-dashboards-war % java -version java version &quot;17.0.8&quot; 2023-07-18 LTS Java(TM) SE Runtime Environment (build 17.0.8+9-LTS-211) Java HotSpot(TM) 64-Bit Server VM (build 17.0.8+9-LTS-211, mixed mode, sharing)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1694998790,"post_id":77124032,"comment_id":135961103,"body_markdown":"*&quot;Also i observed that this particular project is still running on java 17 but i have updated all the settings.&quot;* - The implication of &quot;still running on Java 17&quot; AND Jim Garrison&#39;s answer is that (in fact) you haven&#39;t updated all of the relevant settings ... or you haven&#39;t updated them correctly, or in all of the places that they need to be updated.","body":"<i>&quot;Also i observed that this particular project is still running on java 17 but i have updated all the settings.&quot;</i> - The implication of &quot;still running on Java 17&quot; AND Jim Garrison&#39;s answer is that (in fact) you haven&#39;t updated all of the relevant settings ... or you haven&#39;t updated them correctly, or in all of the places that they need to be updated."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1695000064,"post_id":77124032,"comment_id":135961217,"body_markdown":"If you are running gradle from the command line ... did you update the environment variables?  See https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_environment_variables","body":"If you are running gradle from the command line ... did you update the environment variables?  See <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_environment_variables\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"score":0,"creation_date":1694998712,"post_id":77124069,"comment_id":135961100,"body_markdown":"Thank you. Yes, as stated in the question - This is for Java 8. So 4.7 should be okay. This is all the existing code and works fine in the machine where it has only Java 8 and they didn&#39;t try to upgrade to Java 17 and again move back to JAVA 8 in the same workspace. I am also checking .","body":"Thank you. Yes, as stated in the question - This is for Java 8. So 4.7 should be okay. This is all the existing code and works fine in the machine where it has only Java 8 and they didn&#39;t try to upgrade to Java 17 and again move back to JAVA 8 in the same workspace. I am also checking ."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1694999899,"post_id":77124069,"comment_id":135961200,"body_markdown":"&quot;I am switching back to Java 8 again&quot; Your issue is that you have not switched back to Java 8.","body":"&quot;I am switching back to Java 8 again&quot; Your issue is that you have not switched back to Java 8."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1695244747,"post_id":77124069,"comment_id":136000381,"body_markdown":"@MauricioGraciaGutierrez the title says &quot;after switching...&quot; but certainly the context &quot;Now I am switching back to Java 8 again&quot; implies that the error message is after the OP believes they have made the switch. As English is often to not the first language of SO users one needs to use context and common sense in interpreting questions.","body":"@MauricioGraciaGutierrez the title says &quot;after switching...&quot; but certainly the context &quot;Now I am switching back to Java 8 again&quot; implies that the error message is after the OP believes they have made the switch. As English is often to not the first language of SO users one needs to use context and common sense in interpreting questions."}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694997681,"creation_date":1694997681,"answer_id":77124069,"question_id":77124032,"body_markdown":"When you read an exception message, always look for the final `Caused by:` message. This is the root cause, and the other parts of the stack trace show you why the code that throws that exception is being called.\r\n\r\nYour root cause is:\r\n```\r\nCaused by: java.lang.NoSuchMethodError: &#39;java.lang.Class sun.misc.Unsafe.defineClass(java.lang.String, byte[], int, int, java.lang.ClassLoader, java.security.ProtectionDomain)&#39;\r\n        at org.gradle.internal.classloader.ClassLoaderUtils.define(ClassLoaderUtils.java:104)\r\n        at org.gradle.model.internal.asm.AsmClassGenerator.define(AsmClassGenerator.java:58)\r\n```\r\nSo the version of gradle you are using is trying to call a method which doesn&#39;t exist in the version of Java you are running with.\r\n\r\nAs the question Jim Garrison linked to points out, that method was removed in Java 11 (https://bugs.openjdk.org/browse/JDK-8193033).\r\n\r\nSo if you want to use grade 4.7 (I don&#39;t know why you&#39;d use such an old version) you will need to use Java 10 or earlier. ","title":"Issue after Switching back from Java 17 to Java 8","body":"<p>When you read an exception message, always look for the final <code>Caused by:</code> message. This is the root cause, and the other parts of the stack trace show you why the code that throws that exception is being called.</p>\n<p>Your root cause is:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: 'java.lang.Class sun.misc.Unsafe.defineClass(java.lang.String, byte[], int, int, java.lang.ClassLoader, java.security.ProtectionDomain)'\n        at org.gradle.internal.classloader.ClassLoaderUtils.define(ClassLoaderUtils.java:104)\n        at org.gradle.model.internal.asm.AsmClassGenerator.define(AsmClassGenerator.java:58)\n</code></pre>\n<p>So the version of gradle you are using is trying to call a method which doesn't exist in the version of Java you are running with.</p>\n<p>As the question Jim Garrison linked to points out, that method was removed in Java 11 (<a href=\"https://bugs.openjdk.org/browse/JDK-8193033\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8193033</a>).</p>\n<p>So if you want to use grade 4.7 (I don't know why you'd use such an old version) you will need to use Java 10 or earlier.</p>\n"},{"tags":[],"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695211213,"creation_date":1695211213,"answer_id":77142203,"question_id":77124032,"body_markdown":"This entire series of problems happened due to the gradle version download and the &quot;.cache&quot; folder created by gradle pertaining to that workspace. In my case - there were two problems.\r\n1. Multiple gradle version downloads for the same workspace: For Java 8, the downloaded gradle version was 4x and for Java 17 - the downloaded gradle version was 7x in the same workspace along with the &quot;.cache&quot; folder which created the version compatibility issues\r\n2. Updating the Environmental variables: When there was only one Java version, it was automatically picked up but since now we have two different versions in the same path, we would need to update the environment variables based on the Java version we want to use.\r\n\r\nSo by creating a new workspace W1 on Java 8 and another Workspace W2 on Java17 separately but updating the environment variables based on the Workspace we chose to work on, I was able to proceed.\r\n\r\nThanks, everyone for the input. Appreciate for sharing your suggestions.","title":"Issue after Switching back from Java 17 to Java 8","body":"<p>This entire series of problems happened due to the gradle version download and the &quot;.cache&quot; folder created by gradle pertaining to that workspace. In my case - there were two problems.</p>\n<ol>\n<li>Multiple gradle version downloads for the same workspace: For Java 8, the downloaded gradle version was 4x and for Java 17 - the downloaded gradle version was 7x in the same workspace along with the &quot;.cache&quot; folder which created the version compatibility issues</li>\n<li>Updating the Environmental variables: When there was only one Java version, it was automatically picked up but since now we have two different versions in the same path, we would need to update the environment variables based on the Java version we want to use.</li>\n</ol>\n<p>So by creating a new workspace W1 on Java 8 and another Workspace W2 on Java17 separately but updating the environment variables based on the Workspace we chose to work on, I was able to proceed.</p>\n<p>Thanks, everyone for the input. Appreciate for sharing your suggestions.</p>\n"}],"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77142203,"answer_count":2,"score":1,"last_activity_date":1695211213,"creation_date":1694996279,"question_id":77124032,"body_markdown":"My Current workspace was running with Java 8 with the Gradle version -&quot;4.7&quot;. Later I upgraded to Java 17 in the same workspace with an upgrade in gradle 7x version with other libraries. Now I am switching back to Java 8 again on the gradle version - &quot;4.7&quot; and hitting with below issue. I understand some class file or some lib settings has been disturbed.  Can someone please assist with this? \r\nI have already done the &quot;invalidate caches&quot;, removed the .gradle, .idea, and build folders. \r\n\r\n\r\n./gradlew npmInstallDefault --stacktrace\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not create service of type ScriptPluginFactory using BuildScopeServices.createScriptPluginFactory().\r\n\r\nCould not create service of type PluginResolutionStrategyInternal using BuildScopeServices.createPluginResolutionStrategy().\r\n\r\n* Exception is:\r\n\r\n```\r\norg.gradle.internal.service.ServiceCreationException: Could not create service of type ScriptPluginFactory using BuildScopeServices.createScriptPluginFactory().\r\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:816)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.create(DefaultServiceRegistry.java:767)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:571)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:628)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:780)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.create(DefaultServiceRegistry.java:766)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:571)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:628)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:780)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.create(DefaultServiceRegistry.java:766)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:571)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:628)\r\n        at org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:295)\r\n        at org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:284)\r\n        at org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:279)\r\n        at org.gradle.initialization.DefaultGradleLauncherFactory.doNewInstance(DefaultGradleLauncherFactory.java:179)\r\n        at org.gradle.initialization.DefaultGradleLauncherFactory.newInstance(DefaultGradleLauncherFactory.java:108)\r\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:40)\r\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\r\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\r\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\r\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\r\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\r\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:61)\r\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:34)\r\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\r\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\r\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\r\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\r\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:46)\r\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\r\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\r\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\r\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\r\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\r\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\nCaused by: org.gradle.internal.service.ServiceCreationException: Could not create service of type PluginResolutionStrategyInternal using BuildScopeServices.createPluginResolutionStrategy().\r\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:816)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.create(DefaultServiceRegistry.java:767)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:571)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:628)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:780)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.create(DefaultServiceRegistry.java:766)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:571)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:628)\r\n        at org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:295)\r\n        at org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:284)\r\n        at org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:279)\r\n        at org.gradle.internal.service.scopes.BuildScopeServices.defaultScriptPluginFactory(BuildScopeServices.java:301)\r\n        at org.gradle.internal.service.scopes.BuildScopeServices.createScriptPluginFactory(BuildScopeServices.java:293)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n        at org.gradle.internal.service.ReflectionBasedServiceMethod.invoke(ReflectionBasedServiceMethod.java:35)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:814)\r\n        ... 61 more\r\nCaused by: org.gradle.api.GradleException: Could not generate a proxy class for class org.gradle.plugin.management.internal.DefaultPluginResolutionStrategy.\r\n        at org.gradle.api.internal.AbstractClassGenerator.generateUnderLock(AbstractClassGenerator.java:228)\r\n        at org.gradle.api.internal.AbstractClassGenerator.generate(AbstractClassGenerator.java:80)\r\n        at org.gradle.api.internal.ClassGeneratorBackedInstantiator.newInstance(ClassGeneratorBackedInstantiator.java:36)\r\n        at org.gradle.plugin.internal.PluginUsePluginServiceRegistry$BuildScopeServices.createPluginResolutionStrategy(PluginUsePluginServiceRegistry.java:106)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n        at org.gradle.internal.service.ReflectionBasedServiceMethod.invoke(ReflectionBasedServiceMethod.java:35)\r\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:814)\r\n        ... 79 more\r\nCaused by: java.lang.NoSuchMethodError: &#39;java.lang.Class sun.misc.Unsafe.defineClass(java.lang.String, byte[], int, int, java.lang.ClassLoader, java.security.ProtectionDomain)&#39;\r\n        at org.gradle.internal.classloader.ClassLoaderUtils.define(ClassLoaderUtils.java:104)\r\n        at org.gradle.model.internal.asm.AsmClassGenerator.define(AsmClassGenerator.java:58)\r\n        at org.gradle.model.internal.asm.AsmClassGenerator.define(AsmClassGenerator.java:54)\r\n        at org.gradle.api.internal.AsmBackedClassGenerator$ClassBuilderImpl.generate(AsmBackedClassGenerator.java:967)\r\n        at org.gradle.api.internal.AbstractClassGenerator.generateUnderLock(AbstractClassGenerator.java:226)\r\n        ... 88 more\r\n```\r\n\r\nThank you in advance.","title":"Issue after Switching back from Java 17 to Java 8","body":"<p>My Current workspace was running with Java 8 with the Gradle version -&quot;4.7&quot;. Later I upgraded to Java 17 in the same workspace with an upgrade in gradle 7x version with other libraries. Now I am switching back to Java 8 again on the gradle version - &quot;4.7&quot; and hitting with below issue. I understand some class file or some lib settings has been disturbed.  Can someone please assist with this?\nI have already done the &quot;invalidate caches&quot;, removed the .gradle, .idea, and build folders.</p>\n<p>./gradlew npmInstallDefault --stacktrace</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCould not create service of type ScriptPluginFactory using BuildScopeServices.createScriptPluginFactory().</li>\n</ul>\n<p>Could not create service of type PluginResolutionStrategyInternal using BuildScopeServices.createPluginResolutionStrategy().</p>\n<ul>\n<li>Exception is:</li>\n</ul>\n<pre><code>org.gradle.internal.service.ServiceCreationException: Could not create service of type ScriptPluginFactory using BuildScopeServices.createScriptPluginFactory().\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:816)\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.create(DefaultServiceRegistry.java:767)\n        at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:571)\n        at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:628)\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:780)\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.create(DefaultServiceRegistry.java:766)\n        at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:571)\n        at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:628)\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:780)\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.create(DefaultServiceRegistry.java:766)\n        at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:571)\n        at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:628)\n        at org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:295)\n        at org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:284)\n        at org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:279)\n        at org.gradle.initialization.DefaultGradleLauncherFactory.doNewInstance(DefaultGradleLauncherFactory.java:179)\n        at org.gradle.initialization.DefaultGradleLauncherFactory.newInstance(DefaultGradleLauncherFactory.java:108)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:40)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:61)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:34)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:46)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.internal.service.ServiceCreationException: Could not create service of type PluginResolutionStrategyInternal using BuildScopeServices.createPluginResolutionStrategy().\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:816)\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.create(DefaultServiceRegistry.java:767)\n        at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:571)\n        at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:628)\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:780)\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.create(DefaultServiceRegistry.java:766)\n        at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:571)\n        at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:628)\n        at org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:295)\n        at org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:284)\n        at org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:279)\n        at org.gradle.internal.service.scopes.BuildScopeServices.defaultScriptPluginFactory(BuildScopeServices.java:301)\n        at org.gradle.internal.service.scopes.BuildScopeServices.createScriptPluginFactory(BuildScopeServices.java:293)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n        at org.gradle.internal.service.ReflectionBasedServiceMethod.invoke(ReflectionBasedServiceMethod.java:35)\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:814)\n        ... 61 more\nCaused by: org.gradle.api.GradleException: Could not generate a proxy class for class org.gradle.plugin.management.internal.DefaultPluginResolutionStrategy.\n        at org.gradle.api.internal.AbstractClassGenerator.generateUnderLock(AbstractClassGenerator.java:228)\n        at org.gradle.api.internal.AbstractClassGenerator.generate(AbstractClassGenerator.java:80)\n        at org.gradle.api.internal.ClassGeneratorBackedInstantiator.newInstance(ClassGeneratorBackedInstantiator.java:36)\n        at org.gradle.plugin.internal.PluginUsePluginServiceRegistry$BuildScopeServices.createPluginResolutionStrategy(PluginUsePluginServiceRegistry.java:106)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n        at org.gradle.internal.service.ReflectionBasedServiceMethod.invoke(ReflectionBasedServiceMethod.java:35)\n        at org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:814)\n        ... 79 more\nCaused by: java.lang.NoSuchMethodError: 'java.lang.Class sun.misc.Unsafe.defineClass(java.lang.String, byte[], int, int, java.lang.ClassLoader, java.security.ProtectionDomain)'\n        at org.gradle.internal.classloader.ClassLoaderUtils.define(ClassLoaderUtils.java:104)\n        at org.gradle.model.internal.asm.AsmClassGenerator.define(AsmClassGenerator.java:58)\n        at org.gradle.model.internal.asm.AsmClassGenerator.define(AsmClassGenerator.java:54)\n        at org.gradle.api.internal.AsmBackedClassGenerator$ClassBuilderImpl.generate(AsmBackedClassGenerator.java:967)\n        at org.gradle.api.internal.AbstractClassGenerator.generateUnderLock(AbstractClassGenerator.java:226)\n        ... 88 more\n</code></pre>\n<p>Thank you in advance.</p>\n"},{"tags":["java","gis","geospatial","openstreetmap","geotools"],"answers":[{"comments":[{"owner":{"account_id":10976043,"reputation":700,"user_id":8064710,"display_name":"Siva"},"score":0,"creation_date":1695200134,"post_id":77140257,"comment_id":135990973,"body_markdown":"Can you give me some sample code or documents on using geopackage for my usecase , I need to visualize in swing applet","body":"Can you give me some sample code or documents on using geopackage for my usecase , I need to visualize in swing applet"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1695202252,"post_id":77140257,"comment_id":135991412,"body_markdown":"Datastores are abstracted so you just create a GeoPackage datastore the same way as a shapefile datastore, if you have a swing app then there is no need to save anything to display it - work through some of the tutorials to make sure you understand the basics","body":"Datastores are abstracted so you just create a GeoPackage datastore the same way as a shapefile datastore, if you have a swing app then there is no need to save anything to display it - work through some of the tutorials to make sure you understand the basics"}],"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695195279,"creation_date":1695195279,"answer_id":77140257,"question_id":77138209,"body_markdown":"**LT;DR;** It can&#39;t be done.\r\n\r\nA Shapefile (which is a very old and obsolete format) can only store one type of geometry. So you can&#39;t save both points and polygons in a single shapefile. So, you will either need two shapefiles or, better, use a GeoPackage and store two tables with in it (you could store both in one table but it will just cause problems later with styling).\r\n\r\nFinally, rather than rolling your own distance code you should make use of the [`GeodeticCalculator.getOrthodromicDistance()`][1] which will return the distance in metres between two lat/lon points directly.\r\n\r\n\r\n  [1]: https://docs.geotools.org/stable/javadocs/org/geotools/referencing/GeodeticCalculator.html#getOrthodromicDistance()","title":"Modifying an existing shapefile by adding polygons and points using GeoTools in Java","body":"<p><strong>LT;DR;</strong> It can't be done.</p>\n<p>A Shapefile (which is a very old and obsolete format) can only store one type of geometry. So you can't save both points and polygons in a single shapefile. So, you will either need two shapefiles or, better, use a GeoPackage and store two tables with in it (you could store both in one table but it will just cause problems later with styling).</p>\n<p>Finally, rather than rolling your own distance code you should make use of the <a href=\"https://docs.geotools.org/stable/javadocs/org/geotools/referencing/GeodeticCalculator.html#getOrthodromicDistance()\" rel=\"nofollow noreferrer\"><code>GeodeticCalculator.getOrthodromicDistance()</code></a> which will return the distance in metres between two lat/lon points directly.</p>\n"}],"owner":{"account_id":10976043,"reputation":700,"user_id":8064710,"display_name":"Siva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695211108,"creation_date":1695161291,"question_id":77138209,"body_markdown":"I am working on a Java project where I need to modify an existing shapefile by adding new polygons and points to it using the GeoTools library. I have managed to create the polygons and points separately and display them individually, but I&#39;m struggling to combine and saving them to the existing shapefile. Here&#39;s a simplified version of my code:\r\n\r\n```java\r\npublic class CRSLab {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tCRSLab lab = new CRSLab();\r\n\t\tlab.displayShapefile();\r\n\t}\r\n\r\n\tprivate void displayShapefile() throws Exception {\r\n\t\tList&lt;PolygonPoint&gt; locations = new ArrayList&lt;&gt;();\r\n\t\tinitData(locations);\r\n\r\n\t\tSimpleFeatureTypeBuilder builder = new SimpleFeatureTypeBuilder();\r\n\t\tbuilder.setName(&quot;polygonFeature&quot;);\r\n\t\tbuilder.add(&quot;the_geom&quot;, Polygon.class);\r\n\t\tSimpleFeatureType POLYGON = builder.buildFeatureType();\r\n\t\tGeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory(null);\r\n\r\n\t\tSimpleFeature simpleFeature = toFeature(locations, POLYGON, geometryFactory);\r\n\r\n\t\tSimpleFeatureTypeBuilder pointBuilder = new SimpleFeatureTypeBuilder();\r\n\t\tbuilder.setName(&quot;pointFeature&quot;);\r\n\t\tbuilder.add(&quot;the_geom&quot;, Point.class);\r\n\r\n\t\tSimpleFeatureType pointFeatureType = builder.buildFeatureType();\r\n\r\n\t\tSimpleFeature simpleFeaturePoint1 = toFeaturePoint(46.45d, -72.15d, pointFeatureType, geometryFactory);\r\n\t\tSimpleFeature simpleFeaturePoint2 = toFeaturePoint(47.15d, -72.15d, pointFeatureType, geometryFactory);\r\n\t\tSimpleFeature simpleFeaturePoint3 = toFeaturePoint(48.25d, -72.15d, pointFeatureType, geometryFactory);\r\n\t\tSimpleFeature simpleFeaturePoint4 = toFeaturePoint(49.35d, -72.15d, pointFeatureType, geometryFactory);\r\n\r\n\t\tDefaultFeatureCollection collection = new DefaultFeatureCollection();\r\n\t\tcollection.add(simpleFeature);\r\n\t\tcollection.add(simpleFeaturePoint1);\r\n\t\tcollection.add(simpleFeaturePoint2);\r\n\t\tcollection.add(simpleFeaturePoint3);\r\n\t\tcollection.add(simpleFeaturePoint4);\r\n\r\n\t\tFile shapeFile = new File(new File(&quot;src/main/resources/&quot;).getAbsolutePath() + &quot;example_shapefile_1.shp&quot;);\r\n\t\tMap&lt;String, Serializable&gt; params = new HashMap&lt;&gt;();\r\n\t\tparams.put(&quot;url&quot;, shapeFile.toURI().toURL());\r\n\r\n\t\tShapefileDataStoreFactory dataStoreFactory = new ShapefileDataStoreFactory();\r\n\r\n\t\tShapefileDataStore dataStore = (ShapefileDataStore) dataStoreFactory.createNewDataStore(params);\r\n\t\tdataStore.createSchema(POLYGON);\r\n\r\n\t\tTransaction polygonTransaction = new DefaultTransaction(&quot;create&quot;);\r\n\r\n\t\tString typeName = dataStore.getTypeNames()[0];\r\n\t\tSimpleFeatureSource featureSource = dataStore.getFeatureSource(typeName);\r\n\r\n\t\tif (featureSource instanceof SimpleFeatureStore) {\r\n\t\t\tSimpleFeatureStore featureStore = (SimpleFeatureStore) featureSource;\r\n\t\t\tfeatureStore.setTransaction(polygonTransaction);\r\n\t\t\ttry {\r\n\t\t\t\tfeatureStore.addFeatures(collection);\r\n\t\t\t\tpolygonTransaction.commit();\r\n\r\n\t\t\t} catch (Exception problem) {\r\n\t\t\t\tpolygonTransaction.rollback();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Create a map content and add our shapefile to it\r\n\t\tMapContent map = new MapContent();\r\n\t\tmap.setTitle(&quot;Quickstart&quot;);\r\n\t\tStyle style = SLD.createSimpleStyle(featureSource.getSchema(), Color.RED);\r\n\r\n\t\tLayer layer = new FeatureLayer(featureSource, style);\r\n\t\tmap.addLayer(layer);\r\n\r\n\t\t// Now display the map\r\n\t\tJMapFrame.showMap(map);\r\n\t}\r\n\r\n\tprivate static SimpleFeature toFeature(List&lt;PolygonPoint&gt; locations, SimpleFeatureType POLYGON,\r\n\t\t\tGeometryFactory geometryFactory) {\r\n\t\tCoordinate[] coords = new Coordinate[locations.size()];\r\n\r\n\t\tint i = 0;\r\n\t\tfor (PolygonPoint location : locations) {\r\n\t\t\tCoordinate coord = new Coordinate(location.x, location.y, 0);\r\n\t\t\tcoords[i] = (coord);\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\tPolygon polygon = geometryFactory.createPolygon(coords);\r\n\r\n\t\tSystem.out.println(polygon.toString());\r\n\r\n\t\tSimpleFeatureBuilder featureBuilder = new SimpleFeatureBuilder(POLYGON);\r\n\t\tfeatureBuilder.add(polygon);\r\n\t\treturn featureBuilder.buildFeature(null);\r\n\t}\r\n\r\n\tprivate static SimpleFeature toFeaturePoint(Double latitude, Double longitude, SimpleFeatureType pointFeatureType,\r\n\t\t\tGeometryFactory geometryFactory) {\r\n\t\tCoordinate coord = new Coordinate(latitude, longitude, 0);\r\n\t\tPoint point = geometryFactory.createPoint(coord);\r\n\t\tSimpleFeatureBuilder featureBuilder = new SimpleFeatureBuilder(pointFeatureType);\r\n\t\tfeatureBuilder.add(point);\r\n\t\treturn featureBuilder.buildFeature(null);\r\n\t}\r\n\r\n\tstatic class PolygonPoint {\r\n\t\tpublic double x;\r\n\t\tpublic double y;\r\n\r\n\t\tpublic PolygonPoint(double x, double y) {\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void initData(List&lt;PolygonPoint&gt; locations) {\r\n\t\tlocations.add(new PolygonPoint(40.0, -75.0));\r\n\t\tlocations.add(new PolygonPoint(42.5, -70.0));\r\n\t\tlocations.add(new PolygonPoint(45.0, -75.0));\r\n\t\tlocations.add(new PolygonPoint(42.5, -80.0));\r\n\t\tlocations.add(new PolygonPoint(40.0, -75.0));\r\n\t}\r\n\r\n\tpublic static double calculateDistanceInMeters(double x1, double y1, double x2, double y2) {\r\n\t\tdouble deltaX = x2 - x1;\r\n\t\tdouble deltaY = y2 - y1;\r\n\t\tdouble distanceSquared = (deltaX * deltaX) + (deltaY * deltaY);\r\n\t\treturn Math.sqrt(distanceSquared);\r\n\t}\r\n\r\n\tpublic static double distance(double lat1, double lon1, double lat2, double lon2) {\r\n\t\t// The math module contains a function\r\n\t\t// named toRadians which converts from\r\n\t\t// degrees to radians.\r\n\r\n\t\tlon1 = Math.toRadians(lon1);\r\n\t\tlon2 = Math.toRadians(lon2);\r\n\t\tlat1 = Math.toRadians(lat1);\r\n\t\tlat2 = Math.toRadians(lat2);\r\n\r\n\t\t// Haversine formula\r\n\r\n\t\tdouble dlon = lon2 - lon1;\r\n\t\tdouble dlat = lat2 - lat1;\r\n\t\tdouble a = Math.pow(Math.sin(dlat / 2), 2) + Math.cos(lat1) * Math.cos(lat2) * Math.pow(Math.sin(dlon / 2), 2);\r\n\r\n\t\tdouble c = 2 * Math.asin(Math.sqrt(a));\r\n\r\n\t\t// Radius of earth in kilometers. Use 3956\r\n\t\t// for miles\r\n\r\n\t\tdouble r = 6371;\r\n\r\n\t\t// calculate the result\r\n\r\n\t\treturn (c * r);\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;m using GeoTools version 30. My goal is to add the collection of points and polygon to the existing shapefile and save it. However, I&#39;m not sure how to do this correctly. Could someone provide guidance on how to achieve this using GeoTools?","title":"Modifying an existing shapefile by adding polygons and points using GeoTools in Java","body":"<p>I am working on a Java project where I need to modify an existing shapefile by adding new polygons and points to it using the GeoTools library. I have managed to create the polygons and points separately and display them individually, but I'm struggling to combine and saving them to the existing shapefile. Here's a simplified version of my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CRSLab {\n\n    public static void main(String[] args) throws Exception {\n        CRSLab lab = new CRSLab();\n        lab.displayShapefile();\n    }\n\n    private void displayShapefile() throws Exception {\n        List&lt;PolygonPoint&gt; locations = new ArrayList&lt;&gt;();\n        initData(locations);\n\n        SimpleFeatureTypeBuilder builder = new SimpleFeatureTypeBuilder();\n        builder.setName(&quot;polygonFeature&quot;);\n        builder.add(&quot;the_geom&quot;, Polygon.class);\n        SimpleFeatureType POLYGON = builder.buildFeatureType();\n        GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory(null);\n\n        SimpleFeature simpleFeature = toFeature(locations, POLYGON, geometryFactory);\n\n        SimpleFeatureTypeBuilder pointBuilder = new SimpleFeatureTypeBuilder();\n        builder.setName(&quot;pointFeature&quot;);\n        builder.add(&quot;the_geom&quot;, Point.class);\n\n        SimpleFeatureType pointFeatureType = builder.buildFeatureType();\n\n        SimpleFeature simpleFeaturePoint1 = toFeaturePoint(46.45d, -72.15d, pointFeatureType, geometryFactory);\n        SimpleFeature simpleFeaturePoint2 = toFeaturePoint(47.15d, -72.15d, pointFeatureType, geometryFactory);\n        SimpleFeature simpleFeaturePoint3 = toFeaturePoint(48.25d, -72.15d, pointFeatureType, geometryFactory);\n        SimpleFeature simpleFeaturePoint4 = toFeaturePoint(49.35d, -72.15d, pointFeatureType, geometryFactory);\n\n        DefaultFeatureCollection collection = new DefaultFeatureCollection();\n        collection.add(simpleFeature);\n        collection.add(simpleFeaturePoint1);\n        collection.add(simpleFeaturePoint2);\n        collection.add(simpleFeaturePoint3);\n        collection.add(simpleFeaturePoint4);\n\n        File shapeFile = new File(new File(&quot;src/main/resources/&quot;).getAbsolutePath() + &quot;example_shapefile_1.shp&quot;);\n        Map&lt;String, Serializable&gt; params = new HashMap&lt;&gt;();\n        params.put(&quot;url&quot;, shapeFile.toURI().toURL());\n\n        ShapefileDataStoreFactory dataStoreFactory = new ShapefileDataStoreFactory();\n\n        ShapefileDataStore dataStore = (ShapefileDataStore) dataStoreFactory.createNewDataStore(params);\n        dataStore.createSchema(POLYGON);\n\n        Transaction polygonTransaction = new DefaultTransaction(&quot;create&quot;);\n\n        String typeName = dataStore.getTypeNames()[0];\n        SimpleFeatureSource featureSource = dataStore.getFeatureSource(typeName);\n\n        if (featureSource instanceof SimpleFeatureStore) {\n            SimpleFeatureStore featureStore = (SimpleFeatureStore) featureSource;\n            featureStore.setTransaction(polygonTransaction);\n            try {\n                featureStore.addFeatures(collection);\n                polygonTransaction.commit();\n\n            } catch (Exception problem) {\n                polygonTransaction.rollback();\n            }\n        }\n\n        // Create a map content and add our shapefile to it\n        MapContent map = new MapContent();\n        map.setTitle(&quot;Quickstart&quot;);\n        Style style = SLD.createSimpleStyle(featureSource.getSchema(), Color.RED);\n\n        Layer layer = new FeatureLayer(featureSource, style);\n        map.addLayer(layer);\n\n        // Now display the map\n        JMapFrame.showMap(map);\n    }\n\n    private static SimpleFeature toFeature(List&lt;PolygonPoint&gt; locations, SimpleFeatureType POLYGON,\n            GeometryFactory geometryFactory) {\n        Coordinate[] coords = new Coordinate[locations.size()];\n\n        int i = 0;\n        for (PolygonPoint location : locations) {\n            Coordinate coord = new Coordinate(location.x, location.y, 0);\n            coords[i] = (coord);\n            i++;\n        }\n\n        Polygon polygon = geometryFactory.createPolygon(coords);\n\n        System.out.println(polygon.toString());\n\n        SimpleFeatureBuilder featureBuilder = new SimpleFeatureBuilder(POLYGON);\n        featureBuilder.add(polygon);\n        return featureBuilder.buildFeature(null);\n    }\n\n    private static SimpleFeature toFeaturePoint(Double latitude, Double longitude, SimpleFeatureType pointFeatureType,\n            GeometryFactory geometryFactory) {\n        Coordinate coord = new Coordinate(latitude, longitude, 0);\n        Point point = geometryFactory.createPoint(coord);\n        SimpleFeatureBuilder featureBuilder = new SimpleFeatureBuilder(pointFeatureType);\n        featureBuilder.add(point);\n        return featureBuilder.buildFeature(null);\n    }\n\n    static class PolygonPoint {\n        public double x;\n        public double y;\n\n        public PolygonPoint(double x, double y) {\n            this.x = x;\n            this.y = y;\n        }\n    }\n\n    private static void initData(List&lt;PolygonPoint&gt; locations) {\n        locations.add(new PolygonPoint(40.0, -75.0));\n        locations.add(new PolygonPoint(42.5, -70.0));\n        locations.add(new PolygonPoint(45.0, -75.0));\n        locations.add(new PolygonPoint(42.5, -80.0));\n        locations.add(new PolygonPoint(40.0, -75.0));\n    }\n\n    public static double calculateDistanceInMeters(double x1, double y1, double x2, double y2) {\n        double deltaX = x2 - x1;\n        double deltaY = y2 - y1;\n        double distanceSquared = (deltaX * deltaX) + (deltaY * deltaY);\n        return Math.sqrt(distanceSquared);\n    }\n\n    public static double distance(double lat1, double lon1, double lat2, double lon2) {\n        // The math module contains a function\n        // named toRadians which converts from\n        // degrees to radians.\n\n        lon1 = Math.toRadians(lon1);\n        lon2 = Math.toRadians(lon2);\n        lat1 = Math.toRadians(lat1);\n        lat2 = Math.toRadians(lat2);\n\n        // Haversine formula\n\n        double dlon = lon2 - lon1;\n        double dlat = lat2 - lat1;\n        double a = Math.pow(Math.sin(dlat / 2), 2) + Math.cos(lat1) * Math.cos(lat2) * Math.pow(Math.sin(dlon / 2), 2);\n\n        double c = 2 * Math.asin(Math.sqrt(a));\n\n        // Radius of earth in kilometers. Use 3956\n        // for miles\n\n        double r = 6371;\n\n        // calculate the result\n\n        return (c * r);\n    }\n}\n</code></pre>\n<p>I'm using GeoTools version 30. My goal is to add the collection of points and polygon to the existing shapefile and save it. However, I'm not sure how to do this correctly. Could someone provide guidance on how to achieve this using GeoTools?</p>\n"},{"tags":["java","fibonacci"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1695142526,"post_id":77136473,"comment_id":135983374,"body_markdown":"all numbers can be represented by `x = w^3-1` ?! that is, `w = (x+1)^(1/3)` - you probably forgot to add that `w` must be an integer - anyway the question, as posted, is not clear || BTW posted code is not complete, neither method is being called... maybe a [mre] would be appropriate","body":"all numbers can be represented by <code>x = w^3-1</code> ?! that is, <code>w = (x+1)^(1&#47;3)</code> - you probably forgot to add that <code>w</code> must be an integer - anyway the question, as posted, is not clear || BTW posted code is not complete, neither method is being called... maybe a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be appropriate"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1695143013,"post_id":77136473,"comment_id":135983454,"body_markdown":"Note that the 93rd Fibonacci number is too large to fit in a long. You might have better luck using BigInteger.","body":"Note that the 93rd Fibonacci number is too large to fit in a long. You might have better luck using BigInteger."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1695143120,"post_id":77136473,"comment_id":135983472,"body_markdown":"Use two sets - one for the fib numbers and one for the x^3-1 numbers, then call Set.retainAll","body":"Use two sets - one for the fib numbers and one for the x^3-1 numbers, then call Set.retainAll"},{"owner":{"account_id":27703902,"reputation":77,"user_id":21147982,"display_name":"mary"},"score":0,"creation_date":1695153239,"post_id":77136473,"comment_id":135985063,"body_markdown":"yes, i used Set.retainAll, but still the result is only 0. Then i think it is true though","body":"yes, i used Set.retainAll, but still the result is only 0. Then i think it is true though"},{"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"score":0,"creation_date":1695214310,"post_id":77136473,"comment_id":135994040,"body_markdown":"I would also post it on MathExchange. But as to prove you that there are other numbers than 0 which satisfy your condition. As I understand, you are looking for **Fn = (w^3) - 1**\n\nSomeone will prove it using induction or something","body":"I would also post it on MathExchange. But as to prove you that there are other numbers than 0 which satisfy your condition. As I understand, you are looking for <b>Fn = (w^3) - 1</b>  Someone will prove it using induction or something"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695210974,"creation_date":1695178258,"answer_id":77139003,"question_id":77136473,"body_markdown":"You might find this [article](https://www.researchgate.net/publication/228934007_Fibonacci_numbers_at_most_one_away_from_a_perfect_power) interesting. Here is the abstract.\r\n\r\n&gt; The famous problem of determining all perfect powers in the Fibonacci sequence and the Lucas sequence has recently been resolved by three of the present authors. We sketch the proof of this result, and we apply it to show that the only Fibonacci numbers `Fn` such that `Fn &#177; 1` is a perfect power are `0, 1, 2, 3, 5 and 8`. The proof of the Fibonacci Perfect Powers Theorem involves very deep mathematics, combining the modular approach used in the proof of Fermat&#39;s Last Theorem with Baker&#39;s Theory. By contrast, using the knowledge of the all perfect powers in the Fibonacci and Lucas sequences, the determination of the perfect powers among the numbers Fn &#177; 1 is quite elementary.\r\n\r\nFor the first `1000` values I only came up with `0`. Since `BigDecimal` has no fractional power or cbrt method (like `Math.cbrt`) .  I used `Newton&#39;s method` to  compute the cube roots along with the fact that the recursive sums of the digits of candidate under test must be `0,1,8,or 9` for the number to be a perfect cube. (e.g.  19683 -&gt; 1 + 9 + 6 + 8 + 3 = 27 -&gt; 9 so it **may be** a perfect cube (in fact it is). The latter was used to eliminate candidates.\r\n\r\nThis was more a math problem than a programming problem. So you may want to check out the [MathExchange](https://math.stackexchange.com/) for more info.\r\n","title":"which numbers among the first N Fibonacci numbers can be given in the form (1 less than a certain cube)?","body":"<p>You might find this <a href=\"https://www.researchgate.net/publication/228934007_Fibonacci_numbers_at_most_one_away_from_a_perfect_power\" rel=\"nofollow noreferrer\">article</a> interesting. Here is the abstract.</p>\n<blockquote>\n<p>The famous problem of determining all perfect powers in the Fibonacci sequence and the Lucas sequence has recently been resolved by three of the present authors. We sketch the proof of this result, and we apply it to show that the only Fibonacci numbers <code>Fn</code> such that <code>Fn  1</code> is a perfect power are <code>0, 1, 2, 3, 5 and 8</code>. The proof of the Fibonacci Perfect Powers Theorem involves very deep mathematics, combining the modular approach used in the proof of Fermat's Last Theorem with Baker's Theory. By contrast, using the knowledge of the all perfect powers in the Fibonacci and Lucas sequences, the determination of the perfect powers among the numbers Fn  1 is quite elementary.</p>\n</blockquote>\n<p>For the first <code>1000</code> values I only came up with <code>0</code>. Since <code>BigDecimal</code> has no fractional power or cbrt method (like <code>Math.cbrt</code>) .  I used <code>Newton's method</code> to  compute the cube roots along with the fact that the recursive sums of the digits of candidate under test must be <code>0,1,8,or 9</code> for the number to be a perfect cube. (e.g.  19683 -&gt; 1 + 9 + 6 + 8 + 3 = 27 -&gt; 9 so it <strong>may be</strong> a perfect cube (in fact it is). The latter was used to eliminate candidates.</p>\n<p>This was more a math problem than a programming problem. So you may want to check out the <a href=\"https://math.stackexchange.com/\">MathExchange</a> for more info.</p>\n"}],"owner":{"account_id":27703902,"reputation":77,"user_id":21147982,"display_name":"mary"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695210974,"creation_date":1695141947,"question_id":77136473,"body_markdown":"I have the task to determine all numbers among the first N Fibonacci numbers that can be given in such a form: w^3 - 1.\r\n\r\nFor example, i have such a simple part of the program:\r\n\r\n    public static List&lt;Long&gt; generateFibonacciNumbers(int N) {\r\n        List&lt;Long&gt; fibonacciNumbers = new ArrayList&lt;&gt;();\r\n        long a = 0, b = 1;\r\n        fibonacciNumbers.add(a);\r\n        fibonacciNumbers.add(b);\r\n\r\n        for (int i = 2; i &lt; N; i++) {\r\n            long c = a + b;\r\n            fibonacciNumbers.add(c);\r\n            a = b;\r\n            b = c;\r\n        }\r\n\r\n        return fibonacciNumbers;\r\n    }\r\n\r\n    public static boolean isW3Minus1(long num) {\r\n        long w = (long) Math.cbrt(num + 1);\r\n        return w * w * w - 1 == num;\r\n    }\r\n\r\nThe problem is that the result of this program is 0 and nothing else. I also checked manually to find such numbers, but could not do it. So i started to think that there are no such numbers except 0, but anyway, i wanted to check here too.","title":"which numbers among the first N Fibonacci numbers can be given in the form (1 less than a certain cube)?","body":"<p>I have the task to determine all numbers among the first N Fibonacci numbers that can be given in such a form: w^3 - 1.</p>\n<p>For example, i have such a simple part of the program:</p>\n<pre><code>public static List&lt;Long&gt; generateFibonacciNumbers(int N) {\n    List&lt;Long&gt; fibonacciNumbers = new ArrayList&lt;&gt;();\n    long a = 0, b = 1;\n    fibonacciNumbers.add(a);\n    fibonacciNumbers.add(b);\n\n    for (int i = 2; i &lt; N; i++) {\n        long c = a + b;\n        fibonacciNumbers.add(c);\n        a = b;\n        b = c;\n    }\n\n    return fibonacciNumbers;\n}\n\npublic static boolean isW3Minus1(long num) {\n    long w = (long) Math.cbrt(num + 1);\n    return w * w * w - 1 == num;\n}\n</code></pre>\n<p>The problem is that the result of this program is 0 and nothing else. I also checked manually to find such numbers, but could not do it. So i started to think that there are no such numbers except 0, but anyway, i wanted to check here too.</p>\n"},{"tags":["java","build.gradle","owasp-dependency-check"],"owner":{"account_id":1522315,"reputation":71,"user_id":1421658,"display_name":"FARSiM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695210675,"creation_date":1695210675,"question_id":77142130,"body_markdown":"OWASP dependency checker found an issue in the **snakeyaml** library version 1.3. Since this was included in the project as a transitive dependency of spring-boot-starter which is also automatically included as a dependency of spring-boot library. \r\nSo, I forced version 2.0 of snakeyaml in the *build.gradle* file. \r\n```\r\nconfigurations {    \r\n    all {\r\n        resolutionStrategy {           \r\n            force &#39;org.yaml:snakeyaml:2.0&#39;\r\n        }\r\n    }\r\n}\r\n```\r\nNow, I can see in the external library list, snakeyaml version 2.0 is present. But after running the dependency checker again, I can see it&#39;s reporting snakeyaml 1.3 version again, but from the **gradle cache location**. \r\n\r\nI removed the cache, but reloading gradle reinstates the older version along with version 2.3.  \r\n\r\nQ1. Is there any way we can configure OWASP dependency checker not to omit the libraries in the cache, only look for used libraries? \r\nQ2. Is there any other way to handle the situation?","title":"WASP dependency checker reporting security issue from cache for a library that is forced to a later version","body":"<p>OWASP dependency checker found an issue in the <strong>snakeyaml</strong> library version 1.3. Since this was included in the project as a transitive dependency of spring-boot-starter which is also automatically included as a dependency of spring-boot library.\nSo, I forced version 2.0 of snakeyaml in the <em>build.gradle</em> file.</p>\n<pre><code>configurations {    \n    all {\n        resolutionStrategy {           \n            force 'org.yaml:snakeyaml:2.0'\n        }\n    }\n}\n</code></pre>\n<p>Now, I can see in the external library list, snakeyaml version 2.0 is present. But after running the dependency checker again, I can see it's reporting snakeyaml 1.3 version again, but from the <strong>gradle cache location</strong>.</p>\n<p>I removed the cache, but reloading gradle reinstates the older version along with version 2.3.</p>\n<p>Q1. Is there any way we can configure OWASP dependency checker not to omit the libraries in the cache, only look for used libraries?\nQ2. Is there any other way to handle the situation?</p>\n"},{"tags":["java","redis"],"comments":[{"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"score":0,"creation_date":1695224506,"post_id":77140718,"comment_id":135996754,"body_markdown":"Please add the code of how you&#39;re connection and the code that&#39;s generating the error. Also add a bit more detailed error.","body":"Please add the code of how you&#39;re connection and the code that&#39;s generating the error. Also add a bit more detailed error."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695230355,"post_id":77140718,"comment_id":135997921,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"owner":{"account_id":7918872,"reputation":1,"user_id":5980484,"display_name":"Adam"},"score":0,"creation_date":1695222605,"post_id":77142129,"comment_id":135996271,"body_markdown":"Thanks for the reply... when i try that i get the same error:  redis.clients.jedis.exceptions.JedisMovedDataException: MOVED 12867 127.0.0.1:7002","body":"Thanks for the reply... when i try that i get the same error:  redis.clients.jedis.exceptions.JedisMovedDataException: MOVED 12867 127.0.0.1:7002"}],"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695210675,"creation_date":1695210675,"answer_id":77142129,"question_id":77140718,"body_markdown":"The node you are connecting to does not contain the key of the command to be executed or is not the master node containing the key.\r\n\r\nThe solution is to execute the command to the proper node which is `127.0.0.1:7002`.","title":"Issue with Redis CLuster &quot;MovedDataException&quot;","body":"<p>The node you are connecting to does not contain the key of the command to be executed or is not the master node containing the key.</p>\n<p>The solution is to execute the command to the proper node which is <code>127.0.0.1:7002</code>.</p>\n"}],"owner":{"account_id":7918872,"reputation":1,"user_id":5980484,"display_name":"Adam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695210675,"creation_date":1695199288,"question_id":77140718,"body_markdown":"I have a Redis cluster setup and working.\r\n\r\na specific call is returning this error:\r\n\r\n\r\n```\r\nredis.clients.jedis.exceptions.JedisMovedDataException: MOVED 12867 127.0.0.1:7002\r\n\r\n```\r\n\r\n\r\n\r\nany ideas folks ?\r\n\r\na\r\n\r\n\r\nI cant work it out.. i see connections being accepted into the cluster and Redis reports the cluster is ok.","title":"Issue with Redis CLuster &quot;MovedDataException&quot;","body":"<p>I have a Redis cluster setup and working.</p>\n<p>a specific call is returning this error:</p>\n<pre><code>redis.clients.jedis.exceptions.JedisMovedDataException: MOVED 12867 127.0.0.1:7002\n\n</code></pre>\n<p>any ideas folks ?</p>\n<p>a</p>\n<p>I cant work it out.. i see connections being accepted into the cluster and Redis reports the cluster is ok.</p>\n"},{"tags":["java","xml","spring","string"],"answers":[{"comments":[{"owner":{"account_id":28348722,"reputation":35,"user_id":21680516,"display_name":"Rassermann"},"score":0,"creation_date":1694947098,"post_id":77121241,"comment_id":135955967,"body_markdown":"THanks Michael. How to use it in Java? It is an existing xml that I get from some other program and I am supposed to either overwrite those 2 tags in specific places or overwrite value inside them with new value","body":"THanks Michael. How to use it in Java? It is an existing xml that I get from some other program and I am supposed to either overwrite those 2 tags in specific places or overwrite value inside them with new value"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1694975930,"post_id":77121241,"comment_id":135959086,"body_markdown":"There&#39;s a choice of XSLT processors available to the Java programmer. The one that&#39;s bundled with the JDK supports XSLT 1.0, and later versions are supported in third party libraries such as my own company&#39;s product Saxon. For an introduction to the API for executing XSLT from Java, see https://saxonica.com/documentation12/index.html#!using-xsl/embedding","body":"There&#39;s a choice of XSLT processors available to the Java programmer. The one that&#39;s bundled with the JDK supports XSLT 1.0, and later versions are supported in third party libraries such as my own company&#39;s product Saxon. For an introduction to the API for executing XSLT from Java, see <a href=\"https://saxonica.com/documentation12/index.html#!using-xsl/embedding\" rel=\"nofollow noreferrer\">saxonica.com/documentation12/index.html#!using-xsl/embedding</a>"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1694976000,"post_id":77121241,"comment_id":135959095,"body_markdown":"Note, like most powerful technologies, XSLT does have a learning curve associated with it. But the benefits of doing XML transformations in XSLT rather than in low-level Java code are immense.","body":"Note, like most powerful technologies, XSLT does have a learning curve associated with it. But the benefits of doing XML transformations in XSLT rather than in low-level Java code are immense."},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1694987926,"post_id":77121241,"comment_id":135960375,"body_markdown":"@MichaelKay I agree that XSLT is a powerful tool when dealing with XML. But in this case XSLT is like using a sledgehammer cracking a nut. Even the code for calling the XSLT with parameters exceeds the few lines using XPath directly. Another question is which implementation to use. XSLT 1.0 is for free use, 2+ implementations are either free but restricted in functionality or do cost lots of money.","body":"@MichaelKay I agree that XSLT is a powerful tool when dealing with XML. But in this case XSLT is like using a sledgehammer cracking a nut. Even the code for calling the XSLT with parameters exceeds the few lines using XPath directly. Another question is which implementation to use. XSLT 1.0 is for free use, 2+ implementations are either free but restricted in functionality or do cost lots of money."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1694993347,"post_id":77121241,"comment_id":135960778,"body_markdown":"Personally, I think that manipulating XML using DOM APIs is the sledgehammer. But of course everyone can have their own views, and it does depend on your project constraints.","body":"Personally, I think that manipulating XML using DOM APIs is the sledgehammer. But of course everyone can have their own views, and it does depend on your project constraints."},{"owner":{"account_id":28348722,"reputation":35,"user_id":21680516,"display_name":"Rassermann"},"score":0,"creation_date":1695210454,"post_id":77121241,"comment_id":135993133,"body_markdown":"THanks Everyone. This was solved using JSoup","body":"THanks Everyone. This was solved using JSoup"}],"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694943176,"creation_date":1694943176,"answer_id":77121241,"question_id":77120829,"body_markdown":"It just needs a couple of lines of XSLT:\r\n\r\n    &lt;xsl:template match=&quot;trade_qty[.=$oldprice]&quot;&gt;\r\n      &lt;xsl:copy&gt;{$newprice}&lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\nwhere $oldprice and $newprice are parameters to the stylesheet.\r\n\r\nI&#39;ve used XSLT 3.0 syntax here for brevity but if you prefer to use an XSLT 1.0 processor it&#39;s perfectly feasible, just a bit more verbose.","title":"Replace xml tag along with value in xml request string","body":"<p>It just needs a couple of lines of XSLT:</p>\n<pre><code>&lt;xsl:template match=&quot;trade_qty[.=$oldprice]&quot;&gt;\n  &lt;xsl:copy&gt;{$newprice}&lt;/xsl:copy&gt;\n&lt;/xsl:template&gt;\n</code></pre>\n<p>where $oldprice and $newprice are parameters to the stylesheet.</p>\n<p>I've used XSLT 3.0 syntax here for brevity but if you prefer to use an XSLT 1.0 processor it's perfectly feasible, just a bit more verbose.</p>\n"},{"comments":[{"owner":{"account_id":28348722,"reputation":35,"user_id":21680516,"display_name":"Rassermann"},"score":0,"creation_date":1694956584,"post_id":77121640,"comment_id":135956815,"body_markdown":"Thanks Karsten, will give it a go. In case of fixed_price, it comes in the xml multiple times, but I need to replace only the tag that comes under &lt;TermPriceList&gt;... &lt;/TermPriceList&gt; tags. i.e., not all occurrences are to be replaced, What can be done in this case?","body":"Thanks Karsten, will give it a go. In case of fixed_price, it comes in the xml multiple times, but I need to replace only the tag that comes under &lt;TermPriceList&gt;... &lt;/TermPriceList&gt; tags. i.e., not all occurrences are to be replaced, What can be done in this case?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1694957287,"post_id":77121640,"comment_id":135956891,"body_markdown":"Since Rassermann receives the XML as a string, you probably want `new StreamSource(new StringReader(xml))` rather than using getResourceAsStream.  Simlarly, you may want to return the new XML using a StreamResult that wraps a StringWriter.","body":"Since Rassermann receives the XML as a string, you probably want <code>new StreamSource(new StringReader(xml))</code> rather than using getResourceAsStream.  Simlarly, you may want to return the new XML using a StreamResult that wraps a StringWriter."},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1694959806,"post_id":77121640,"comment_id":135957160,"body_markdown":"I made bad experiences putting XML documents into strings. I recommend using byte arrays or you will get encoding problems sometime.","body":"I made bad experiences putting XML documents into strings. I recommend using byte arrays or you will get encoding problems sometime."},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1694986858,"post_id":77121640,"comment_id":135960287,"body_markdown":"See the edit. I hope this answers your question.","body":"See the edit. I hope this answers your question."},{"owner":{"account_id":28348722,"reputation":35,"user_id":21680516,"display_name":"Rassermann"},"score":0,"creation_date":1695210490,"post_id":77121640,"comment_id":135993147,"body_markdown":"Thanks Everyone. This was solved using JSoup.","body":"Thanks Everyone. This was solved using JSoup."}],"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694986814,"creation_date":1694951190,"answer_id":77121640,"question_id":77120829,"body_markdown":"Using XSLT for this problem in Java is possible but gets awkward if your replacements differ for various input values. Using XPath and DOM-API is much easier.\r\n\r\nGiven an input XML document like this:\r\n```\r\n&lt;container&gt;\r\n\t&lt;trade_qty&gt;&lt;![CDATA[123]]&gt;&lt;/trade_qty&gt;\r\n\t&lt;trade_qty&gt;&lt;![CDATA[234]]&gt;&lt;/trade_qty&gt;\r\n\t&lt;fixed_price&gt;&lt;![CDATA[345.67]]&gt;&lt;/fixed_price&gt;\r\n\t&lt;fixed_price&gt;&lt;![CDATA[456.78]]&gt;&lt;/fixed_price&gt;\r\n&lt;/container&gt;\r\n```\r\n\r\n```\r\n@Test\r\nvoid testReplace() throws Exception {\r\n    // Just for reading the source XML document\r\n    var r = new DOMResult();\r\n    try(InputStream is = getClass().getResourceAsStream(&quot;/replace.xml&quot;)) {\r\n        TransformerFactory.newInstance().newTransformer().transform(new StreamSource(is), r);\r\n    }\r\n    \r\n    Node doc = r.getNode(); // This is your XML document as a DOM-Node\r\n    \r\n    // REPLACEMENT BEGIN\r\n    var xPath = XPathFactory.newInstance().newXPath(); // We want to use XPath to find the ocurrences of trade_qty and fixed_price\r\n    \r\n    // Replace trade_qty ...\r\n    var nodes = (NodeList)xPath.evaluate(&quot;container/trade_qty&quot;, doc, XPathConstants.NODESET);\r\n    for(int i = 0; i &lt; nodes.getLength(); i++) {\r\n        nodes.item(i).setTextContent(&quot;100&quot;); // Replace with new content.\r\n    }\r\n    // The same for container/fixed_price. Omitted for simplicity.\r\n    \r\n    // REPLACEMENT end\r\n    \r\n    // Just for checking the output\r\n    try(ByteArrayOutputStream os = new ByteArrayOutputStream()) {\r\n        TransformerFactory.newInstance().newTransformer().transform(new DOMSource(doc), new StreamResult(os));\r\n        System.out.println(os.toString());\r\n    }\r\n}\r\n```\r\nNote that a CDATA section is just a representation for a text node in XML where you don&#39;t have to escape some special characters (e.g. &lt; and &amp;). Thus `&lt;trade_qty&gt;&lt;!CDATA[123]]&gt;&lt;/trade_qty&gt;` and `&lt;trade_qty&gt;123&lt;/trade_qty&gt;` are the same.\r\n\r\n# Edit\r\n\r\nSome useful XPaths:\r\n\r\n1. `//trade_qty` selects any trade_qty element in your XML document.\r\n2. `//TermPriceList/fixed_price` selects any fixed_price element that is a child of TermPriceList.","title":"Replace xml tag along with value in xml request string","body":"<p>Using XSLT for this problem in Java is possible but gets awkward if your replacements differ for various input values. Using XPath and DOM-API is much easier.</p>\n<p>Given an input XML document like this:</p>\n<pre><code>&lt;container&gt;\n    &lt;trade_qty&gt;&lt;![CDATA[123]]&gt;&lt;/trade_qty&gt;\n    &lt;trade_qty&gt;&lt;![CDATA[234]]&gt;&lt;/trade_qty&gt;\n    &lt;fixed_price&gt;&lt;![CDATA[345.67]]&gt;&lt;/fixed_price&gt;\n    &lt;fixed_price&gt;&lt;![CDATA[456.78]]&gt;&lt;/fixed_price&gt;\n&lt;/container&gt;\n</code></pre>\n<pre><code>@Test\nvoid testReplace() throws Exception {\n    // Just for reading the source XML document\n    var r = new DOMResult();\n    try(InputStream is = getClass().getResourceAsStream(&quot;/replace.xml&quot;)) {\n        TransformerFactory.newInstance().newTransformer().transform(new StreamSource(is), r);\n    }\n    \n    Node doc = r.getNode(); // This is your XML document as a DOM-Node\n    \n    // REPLACEMENT BEGIN\n    var xPath = XPathFactory.newInstance().newXPath(); // We want to use XPath to find the ocurrences of trade_qty and fixed_price\n    \n    // Replace trade_qty ...\n    var nodes = (NodeList)xPath.evaluate(&quot;container/trade_qty&quot;, doc, XPathConstants.NODESET);\n    for(int i = 0; i &lt; nodes.getLength(); i++) {\n        nodes.item(i).setTextContent(&quot;100&quot;); // Replace with new content.\n    }\n    // The same for container/fixed_price. Omitted for simplicity.\n    \n    // REPLACEMENT end\n    \n    // Just for checking the output\n    try(ByteArrayOutputStream os = new ByteArrayOutputStream()) {\n        TransformerFactory.newInstance().newTransformer().transform(new DOMSource(doc), new StreamResult(os));\n        System.out.println(os.toString());\n    }\n}\n</code></pre>\n<p>Note that a CDATA section is just a representation for a text node in XML where you don't have to escape some special characters (e.g. &lt; and &amp;). Thus <code>&lt;trade_qty&gt;&lt;!CDATA[123]]&gt;&lt;/trade_qty&gt;</code> and <code>&lt;trade_qty&gt;123&lt;/trade_qty&gt;</code> are the same.</p>\n<h1>Edit</h1>\n<p>Some useful XPaths:</p>\n<ol>\n<li><code>//trade_qty</code> selects any trade_qty element in your XML document.</li>\n<li><code>//TermPriceList/fixed_price</code> selects any fixed_price element that is a child of TermPriceList.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28348722,"reputation":35,"user_id":21680516,"display_name":"Rassermann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695210638,"creation_date":1695210638,"answer_id":77142121,"question_id":77120829,"body_markdown":"This was solved using Jsoup\r\n\r\n    public String transformXML(String tradeDataXML, Double newQty, Double newPrice)\r\n    {\r\n        String newXML = &quot;&quot;;\r\n        org.jsoup.nodes.Document doc = Jsoup.parse(tradeDataXML, &quot;&quot;, Parser.xmlParser());\r\n\r\n        CDataNode trade_qty = (CDataNode) doc.selectFirst(&quot;SwapTermList trade_qty&quot;).childNode(0);\r\n        CDataNode fixed_price = (CDataNode) doc.selectFirst(&quot;SwapTermList TermPriceList fixed_price&quot;).childNode(0);\r\n\r\n        if(trade_qty != null &amp;&amp; fixed_price != null) {\r\n            logger.info(&quot;original values of trade_qty and fixed_price: &quot; + trade_qty.text() + SPACE_AND_COMMA + fixed_price.text());\r\n        }\r\n\r\n        if(trade_qty != null) trade_qty.text((newQty == null)?&quot;&quot;:newQty.toString());\r\n        if(fixed_price != null) fixed_price.text((newPrice == null)?&quot;&quot;:newPrice.toString());\r\n\r\n        if(trade_qty != null &amp;&amp; fixed_price != null) {\r\n            logger.info(&quot;Replaced values of trade_qty and fixed_price: &quot; + trade_qty.text() + SPACE_AND_COMMA + fixed_price.text());\r\n        }\r\n\r\n        doc.outputSettings().prettyPrint(false);\r\n        newXML = doc.outerHtml();\r\n        return newXML;\r\n    }","title":"Replace xml tag along with value in xml request string","body":"<p>This was solved using Jsoup</p>\n<pre><code>public String transformXML(String tradeDataXML, Double newQty, Double newPrice)\n{\n    String newXML = &quot;&quot;;\n    org.jsoup.nodes.Document doc = Jsoup.parse(tradeDataXML, &quot;&quot;, Parser.xmlParser());\n\n    CDataNode trade_qty = (CDataNode) doc.selectFirst(&quot;SwapTermList trade_qty&quot;).childNode(0);\n    CDataNode fixed_price = (CDataNode) doc.selectFirst(&quot;SwapTermList TermPriceList fixed_price&quot;).childNode(0);\n\n    if(trade_qty != null &amp;&amp; fixed_price != null) {\n        logger.info(&quot;original values of trade_qty and fixed_price: &quot; + trade_qty.text() + SPACE_AND_COMMA + fixed_price.text());\n    }\n\n    if(trade_qty != null) trade_qty.text((newQty == null)?&quot;&quot;:newQty.toString());\n    if(fixed_price != null) fixed_price.text((newPrice == null)?&quot;&quot;:newPrice.toString());\n\n    if(trade_qty != null &amp;&amp; fixed_price != null) {\n        logger.info(&quot;Replaced values of trade_qty and fixed_price: &quot; + trade_qty.text() + SPACE_AND_COMMA + fixed_price.text());\n    }\n\n    doc.outputSettings().prettyPrint(false);\n    newXML = doc.outerHtml();\n    return newXML;\n}\n</code></pre>\n"}],"owner":{"account_id":28348722,"reputation":35,"user_id":21680516,"display_name":"Rassermann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77142121,"answer_count":3,"score":0,"last_activity_date":1695210638,"creation_date":1694934680,"question_id":77120829,"body_markdown":"I want to replace following String in an xml request where ever it occurs (occurs multiple time)\r\n\r\n```\r\n&lt;trade_qty&gt;&lt;![CDATA[OLDQTY]]&gt;&lt;/trade_qty&gt;\r\n```\r\nWith\r\n```\r\n&lt;trade_qty&gt;&lt;![CDATA[NEWQTY]]&gt;&lt;/trade_qty&gt;\r\n```\r\n\r\nWhere I will be specifying the NEWQTY from my code\r\n\r\nSimilarly, I want to replace the LAST OCCURRENCE of following String\r\n\r\n```\r\n&lt;fixed_price&gt;&lt;![CDATA[OLDPRICE]]&gt;&lt;/fixed_price&gt;\r\n```\r\nwith\r\n```\r\n&lt;fixed_price&gt;&lt;![CDATA[NEWPRICE]]&gt;&lt;/fixed_price&gt;\r\n```\r\n\r\nWhere I will specifying the NEWPRICE from my code.\r\n\r\nPlease Help!\r\n\r\nWe can also skip the CDATA part if required, in the resultant string:\r\n\r\nviz., `&lt;fixed_price&gt;NEWPRICE&lt;/fixed_price&gt;` and `&lt;trade_qty&gt;NEWQTY&lt;/trade_qty&gt;`\r\n\r\nI tried this from ([https://www.logicbig.com/how-to/java-string/replace-between-two-strings.html](https://stackoverflow.com))\r\nBut it didn&#39;t help","title":"Replace xml tag along with value in xml request string","body":"<p>I want to replace following String in an xml request where ever it occurs (occurs multiple time)</p>\n<pre><code>&lt;trade_qty&gt;&lt;![CDATA[OLDQTY]]&gt;&lt;/trade_qty&gt;\n</code></pre>\n<p>With</p>\n<pre><code>&lt;trade_qty&gt;&lt;![CDATA[NEWQTY]]&gt;&lt;/trade_qty&gt;\n</code></pre>\n<p>Where I will be specifying the NEWQTY from my code</p>\n<p>Similarly, I want to replace the LAST OCCURRENCE of following String</p>\n<pre><code>&lt;fixed_price&gt;&lt;![CDATA[OLDPRICE]]&gt;&lt;/fixed_price&gt;\n</code></pre>\n<p>with</p>\n<pre><code>&lt;fixed_price&gt;&lt;![CDATA[NEWPRICE]]&gt;&lt;/fixed_price&gt;\n</code></pre>\n<p>Where I will specifying the NEWPRICE from my code.</p>\n<p>Please Help!</p>\n<p>We can also skip the CDATA part if required, in the resultant string:</p>\n<p>viz., <code>&lt;fixed_price&gt;NEWPRICE&lt;/fixed_price&gt;</code> and <code>&lt;trade_qty&gt;NEWQTY&lt;/trade_qty&gt;</code></p>\n<p>I tried this from (<a href=\"https://stackoverflow.com\">https://www.logicbig.com/how-to/java-string/replace-between-two-strings.html</a>)\nBut it didn't help</p>\n"},{"tags":["java","testng","bazel","bazel-rules"],"owner":{"account_id":1302546,"reputation":2286,"user_id":1252174,"accept_rate":39,"display_name":"ken4ward"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695210252,"creation_date":1695210252,"question_id":77142075,"body_markdown":"I have a test project, it is configured with maven and TestNG, it works perfectly fine with it. \r\nI want to use Bazel to run the same project. I have created WORKSPACE and BUILD files for each directory, which builds perfectly fine. \r\nI want to run the test using the &#39;testng_regressions.xml&#39; in this direcotry: src/test/resources/testrunners/testng_regressions.xml\r\n\r\nThis is the BUILD file for &#39;testng_regressions.xml&#39;, \r\n\r\n    load(&quot;@rules_java//java:defs.bzl&quot;, &quot;java_test&quot;)\r\n    \r\n    java_library(\r\n        name = &quot;main_project_files&quot;,\r\n        srcs = glob([&#39;src/main/java/**/*.java&#39;]),\r\n        runtime_deps = [\r\n            &quot;//Web/src/main/java/io/package/com/constants:app_constants&quot;,\r\n            &quot;//Web/src/main/java/io/package/com/factory:playwright_factory&quot;,\r\n            &quot;//Web/src/main/java/io/package/com/listeners:extent_report_listener&quot;,\r\n            &quot;//Web/src/main/java/io/package/com/pages:login_page&quot;,\r\n            &quot;//Web/src/main/java/io/package/com/steps:login_steps&quot;,\r\n        ],\r\n    )\r\n    \r\n    java_library(\r\n        name = &quot;test_project_files&quot;,\r\n        srcs = glob([&#39;src/test/java/**/*.java&#39;]),\r\n        runtime_deps = [&quot;:main_project_files&quot;,\r\n                &quot;//Web/src/test/java/io/package/com/base:base_test&quot;,\r\n                &quot;//Web/src/test/java/io/package/com/tests:project_test_files&quot;],\r\n    )\r\n    #\r\n    java_test(\r\n        name = &quot;testng_regressions&quot;,\r\n        size = &quot;small&quot;,\r\n        timeout = &quot;short&quot;,\r\n        tags = [&quot;regression&quot;],\r\n        runtime_deps = [\r\n            &quot;:main_project_files&quot;,\r\n            &quot;:test_project_files&quot;\r\n        ],\r\n        use_testrunner = False,\r\n        main_class=&#39;org.testng.TestNG&#39;,\r\n        args=[&#39;-testjar&#39;,&#39;libtest_project_files.jar&#39;,&#39;-verbose&#39;,&#39;2&#39;],\r\n    )\r\n\r\nThis is the content of the testNG file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    \r\n    &lt;suite name=&quot;Open Cart Test Regression PW Suite&quot; thread-count=&quot;5&quot;\r\n    \t   parallel=&quot;tests&quot; verbose=&quot;4&quot;&gt;\r\n    \t&lt;listeners&gt;\r\n    \t\t&lt;listener class-name=&quot;io.christdoes.com.listeners.ExtentReportListener&quot; /&gt;\r\n    \t&lt;/listeners&gt;\r\n    \t&lt;test name=&quot;Open Cart Home Page Test_chrome&quot;&gt;\r\n    \t\t&lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot; /&gt;\r\n    \t\t&lt;parameter name=&quot;language&quot; value=&quot;en&quot; /&gt;\r\n    \t\t&lt;classes&gt;\r\n    \t\t\t&lt;class name=&quot;io.christdoes.com.tests.HomePageTest&quot; /&gt;\r\n    \t\t&lt;/classes&gt;\r\n    \t&lt;/test&gt;\r\n    \t&lt;test name=&quot;Open Cart Login Page Test_safari&quot;&gt;\r\n    \t\t&lt;parameter name=&quot;browser&quot; value=&quot;safari&quot; /&gt;\r\n    \t\t&lt;parameter name=&quot;language&quot; value=&quot;nl&quot; /&gt;\r\n    \t\t&lt;classes&gt;\r\n    \t\t\t&lt;class name=&quot;io.christdoes.com.tests.HomePageTest&quot; /&gt;\r\n    \t\t&lt;/classes&gt;\r\n    \t&lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\nWhen I run the test, it always give a non-detailed error\r\n\r\n    FAIL: //Web/src/test/resources/testrunners:testng_regressions (see /private/var/tmp/_bazel_christdoes/44565daf5d57f20e3e02fd7160ffadab/execroot/__main__/bazel-out/darwin-fastbuild/testlogs/Web/src/test/resources/testrunners/testng_regressions/test.log)\r\n    INFO: Elapsed time: 91.557s, Critical Path: 31.65s\r\n    INFO: 17 processes: 3 internal, 6 darwin-sandbox, 8 worker.\r\n    INFO: Build completed, 1 test FAILED, 17 total actions\r\n    //Web/src/test/resources/testrunners:testng_regressions                  FAILED in 2.1s\r\n      /private/var/tmp/_bazel_user/44565daf5d57f20e3e02fd7160ffadab/execroot/__main__/bazel-out/darwin-fastbuild/testlogs/Web/src/test/resources/testrunners/testng_regressions/test.log\r\n    \r\n    Executed 1 out of 1 test: 1 fails locally.\r\nHow do I run the test using testNG?\r\n\r\n\r\n","title":"Runnig TestNG test with Bazel","body":"<p>I have a test project, it is configured with maven and TestNG, it works perfectly fine with it.\nI want to use Bazel to run the same project. I have created WORKSPACE and BUILD files for each directory, which builds perfectly fine.\nI want to run the test using the 'testng_regressions.xml' in this direcotry: src/test/resources/testrunners/testng_regressions.xml</p>\n<p>This is the BUILD file for 'testng_regressions.xml',</p>\n<pre><code>load(&quot;@rules_java//java:defs.bzl&quot;, &quot;java_test&quot;)\n\njava_library(\n    name = &quot;main_project_files&quot;,\n    srcs = glob(['src/main/java/**/*.java']),\n    runtime_deps = [\n        &quot;//Web/src/main/java/io/package/com/constants:app_constants&quot;,\n        &quot;//Web/src/main/java/io/package/com/factory:playwright_factory&quot;,\n        &quot;//Web/src/main/java/io/package/com/listeners:extent_report_listener&quot;,\n        &quot;//Web/src/main/java/io/package/com/pages:login_page&quot;,\n        &quot;//Web/src/main/java/io/package/com/steps:login_steps&quot;,\n    ],\n)\n\njava_library(\n    name = &quot;test_project_files&quot;,\n    srcs = glob(['src/test/java/**/*.java']),\n    runtime_deps = [&quot;:main_project_files&quot;,\n            &quot;//Web/src/test/java/io/package/com/base:base_test&quot;,\n            &quot;//Web/src/test/java/io/package/com/tests:project_test_files&quot;],\n)\n#\njava_test(\n    name = &quot;testng_regressions&quot;,\n    size = &quot;small&quot;,\n    timeout = &quot;short&quot;,\n    tags = [&quot;regression&quot;],\n    runtime_deps = [\n        &quot;:main_project_files&quot;,\n        &quot;:test_project_files&quot;\n    ],\n    use_testrunner = False,\n    main_class='org.testng.TestNG',\n    args=['-testjar','libtest_project_files.jar','-verbose','2'],\n)\n</code></pre>\n<p>This is the content of the testNG file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n\n&lt;suite name=&quot;Open Cart Test Regression PW Suite&quot; thread-count=&quot;5&quot;\n       parallel=&quot;tests&quot; verbose=&quot;4&quot;&gt;\n    &lt;listeners&gt;\n        &lt;listener class-name=&quot;io.christdoes.com.listeners.ExtentReportListener&quot; /&gt;\n    &lt;/listeners&gt;\n    &lt;test name=&quot;Open Cart Home Page Test_chrome&quot;&gt;\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot; /&gt;\n        &lt;parameter name=&quot;language&quot; value=&quot;en&quot; /&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;io.christdoes.com.tests.HomePageTest&quot; /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;Open Cart Login Page Test_safari&quot;&gt;\n        &lt;parameter name=&quot;browser&quot; value=&quot;safari&quot; /&gt;\n        &lt;parameter name=&quot;language&quot; value=&quot;nl&quot; /&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;io.christdoes.com.tests.HomePageTest&quot; /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>When I run the test, it always give a non-detailed error</p>\n<pre><code>FAIL: //Web/src/test/resources/testrunners:testng_regressions (see /private/var/tmp/_bazel_christdoes/44565daf5d57f20e3e02fd7160ffadab/execroot/__main__/bazel-out/darwin-fastbuild/testlogs/Web/src/test/resources/testrunners/testng_regressions/test.log)\nINFO: Elapsed time: 91.557s, Critical Path: 31.65s\nINFO: 17 processes: 3 internal, 6 darwin-sandbox, 8 worker.\nINFO: Build completed, 1 test FAILED, 17 total actions\n//Web/src/test/resources/testrunners:testng_regressions                  FAILED in 2.1s\n  /private/var/tmp/_bazel_user/44565daf5d57f20e3e02fd7160ffadab/execroot/__main__/bazel-out/darwin-fastbuild/testlogs/Web/src/test/resources/testrunners/testng_regressions/test.log\n\nExecuted 1 out of 1 test: 1 fails locally.\n</code></pre>\n<p>How do I run the test using testNG?</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1695200693,"post_id":77139365,"comment_id":135991087,"body_markdown":"`then it cannot be authenticated` i have absolutely no idea what you mean by this statement, authenticated when doing what? what is it? the user? a client? Also, enable DEBUG logs and update your question with the full debug logs so that we can actually see what it is you are trying to do. Your question header is suggesting that it is Spring Security that is authenticating? Spring security is a library, it cant authenticate itself. Users or clients authenticate themselves, not libraries.","body":"<code>then it cannot be authenticated</code> i have absolutely no idea what you mean by this statement, authenticated when doing what? what is it? the user? a client? Also, enable DEBUG logs and update your question with the full debug logs so that we can actually see what it is you are trying to do. Your question header is suggesting that it is Spring Security that is authenticating? Spring security is a library, it cant authenticate itself. Users or clients authenticate themselves, not libraries."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695228116,"post_id":77139365,"comment_id":135997476,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695209977,"creation_date":1695209977,"answer_id":77142037,"question_id":77139365,"body_markdown":"`user.isEnabled()` might be a possible error. Try this\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }","title":"Spring Security cannot be authenticated","body":"<p><code>user.isEnabled()</code> might be a possible error. Try this</p>\n<pre><code>@Override\npublic boolean isEnabled() {\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":8575185,"reputation":11,"user_id":6424528,"display_name":"Roberto Ambrosio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695209977,"creation_date":1695185389,"question_id":77139365,"body_markdown":"When the loadUserByUsername function return ShopmeUserDetails(user), then it cannot be authenticated. But when return the User details it works without issue.\r\n\r\n\r\nBelow not work, which return the new ShopmeUserDetails(user):\r\n\r\n```\r\npackage co.ichat.ichatweb.impl;\r\n\r\nimport java.util.Optional;\r\nimport java.util.stream.Collectors;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport co.ichat.ichatweb.model.ShopmeUserDetails;\r\nimport co.ichat.ichatweb.model.User;\r\nimport co.ichat.ichatweb.repository.UserRepository;\r\nimport co.ichat.ichatweb.service.IUserService;\r\n\r\n@Service\r\npublic class UserServiceImpl implements IUserService, UserDetailsService{\r\n\t\r\n\t@Autowired\r\n\tprivate UserRepository userRepo;\r\n\t\r\n\t@Autowired\r\n\tprivate BCryptPasswordEncoder passwordEncoder;\r\n\r\n\t@Override\r\n\tpublic Integer saveUser(User user) {\r\n\t\tString passwd= user.getPassword();\r\n\t\tString encodedPasswod = passwordEncoder.encode(passwd);\r\n\t\tuser.setPassword(encodedPasswod);\r\n\t\tuser = userRepo.save(user);\r\n\t\treturn user.getId();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String email) \r\n\t\t\tthrows UsernameNotFoundException {\r\n\t\t\r\n\t\tOptional&lt;User&gt; opt = userRepo.findUserByEmail(email);\r\n\t\t\r\n\t\tif(opt.isEmpty())\r\n\t\t{\r\n\t\t\t\t\r\n\t\t\tthrow new UsernameNotFoundException(&quot;User with email: &quot; +email +&quot; not found !&quot;);\r\n\t\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tUser user = opt.get();\r\n\t\t\t// return new org.springframework.security.core.userdetails.User(\r\n\t\t\t// \t\tuser.getEmail(),\r\n\t\t\t// \t\tuser.getPassword(),\r\n\t\t\t// \t\tuser.getRoles()\r\n\t\t\t// \t\t.stream()\r\n\t\t\t// \t\t.map(role-&gt; new SimpleGrantedAuthority(role))\r\n\t\t\t// \t\t.collect(Collectors.toSet())\r\n\t\t    // );\r\n\t\t\treturn new ShopmeUserDetails(user);\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nAnd below work:\r\n\r\n```\r\npackage co.ichat.ichatweb.impl;\r\n\r\nimport java.util.Optional;\r\nimport java.util.stream.Collectors;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport co.ichat.ichatweb.model.ShopmeUserDetails;\r\nimport co.ichat.ichatweb.model.User;\r\nimport co.ichat.ichatweb.repository.UserRepository;\r\nimport co.ichat.ichatweb.service.IUserService;\r\n\r\n@Service\r\npublic class UserServiceImpl implements IUserService, UserDetailsService{\r\n\t\r\n\t@Autowired\r\n\tprivate UserRepository userRepo;\r\n\t\r\n\t@Autowired\r\n\tprivate BCryptPasswordEncoder passwordEncoder;\r\n\r\n\t@Override\r\n\tpublic Integer saveUser(User user) {\r\n\t\tString passwd= user.getPassword();\r\n\t\tString encodedPasswod = passwordEncoder.encode(passwd);\r\n\t\tuser.setPassword(encodedPasswod);\r\n\t\tuser = userRepo.save(user);\r\n\t\treturn user.getId();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String email) \r\n\t\t\tthrows UsernameNotFoundException {\r\n\t\t\r\n\t\tOptional&lt;User&gt; opt = userRepo.findUserByEmail(email);\r\n\t\t\r\n\t\tif(opt.isEmpty())\r\n\t\t{\r\n\t\t\t\t\r\n\t\t\tthrow new UsernameNotFoundException(&quot;User with email: &quot; +email +&quot; not found !&quot;);\r\n\t\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\tUser user = opt.get();\r\n\t\t\treturn new org.springframework.security.core.userdetails.User(\r\n\t\t\t\t\tuser.getEmail(),\r\n\t\t\t\t\tuser.getPassword(),\r\n\t\t\t\t\tuser.getRoles()\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.map(role-&gt; new SimpleGrantedAuthority(role))\r\n\t\t\t\t\t.collect(Collectors.toSet())\r\n\t\t    );\r\n\t\t\t//return new ShopmeUserDetails(user);\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n```\r\nAnd below is the ShopmeUserDetails class:\r\n```\r\n\r\npackage co.ichat.ichatweb.model;\r\n\r\nimport java.util.\\*;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\npublic class ShopmeUserDetails implements UserDetails {\r\nprivate User user;\r\n\r\n    public ShopmeUserDetails(User user) {\r\n        this.user = user;\r\n    }\r\n    \r\n    //Issue with below function\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        List&lt;String&gt; roles = user.getRoles();\r\n        List&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n    \r\n        for (String role : roles) {\r\n            authorities.add(new SimpleGrantedAuthority(role));\r\n        }\r\n        return authorities;\r\n    }\r\n    \r\n    @Override\r\n    public String getPassword() {\r\n        return user.getPassword();\r\n    }\r\n    \r\n    @Override\r\n    public String getUsername() {\r\n        return user.getEmail();\r\n    }\r\n    \r\n    \r\n    public String getEmail() {\r\n        return user.getEmail();\r\n    }\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n    \r\n    public int getId() {\r\n        return user.getId();\r\n    }\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n    \r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n    \r\n    @Override\r\n    public boolean isEnabled() {\r\n        return user.isEnabled();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nWhy it cannot be authenticated when we return ShopmeUserDetails(user)\r\n```","title":"Spring Security cannot be authenticated","body":"<p>When the loadUserByUsername function return ShopmeUserDetails(user), then it cannot be authenticated. But when return the User details it works without issue.</p>\n<p>Below not work, which return the new ShopmeUserDetails(user):</p>\n<pre><code>package co.ichat.ichatweb.impl;\n\nimport java.util.Optional;\nimport java.util.stream.Collectors;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport co.ichat.ichatweb.model.ShopmeUserDetails;\nimport co.ichat.ichatweb.model.User;\nimport co.ichat.ichatweb.repository.UserRepository;\nimport co.ichat.ichatweb.service.IUserService;\n\n@Service\npublic class UserServiceImpl implements IUserService, UserDetailsService{\n    \n    @Autowired\n    private UserRepository userRepo;\n    \n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n\n    @Override\n    public Integer saveUser(User user) {\n        String passwd= user.getPassword();\n        String encodedPasswod = passwordEncoder.encode(passwd);\n        user.setPassword(encodedPasswod);\n        user = userRepo.save(user);\n        return user.getId();\n    }\n    \n    @Override\n    public UserDetails loadUserByUsername(String email) \n            throws UsernameNotFoundException {\n        \n        Optional&lt;User&gt; opt = userRepo.findUserByEmail(email);\n        \n        if(opt.isEmpty())\n        {\n                \n            throw new UsernameNotFoundException(&quot;User with email: &quot; +email +&quot; not found !&quot;);\n                \n        }\n        else {\n            User user = opt.get();\n            // return new org.springframework.security.core.userdetails.User(\n            //      user.getEmail(),\n            //      user.getPassword(),\n            //      user.getRoles()\n            //      .stream()\n            //      .map(role-&gt; new SimpleGrantedAuthority(role))\n            //      .collect(Collectors.toSet())\n            // );\n            return new ShopmeUserDetails(user);\n        }\n        \n    }\n}\n</code></pre>\n<p>And below work:</p>\n<pre><code>package co.ichat.ichatweb.impl;\n\nimport java.util.Optional;\nimport java.util.stream.Collectors;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport co.ichat.ichatweb.model.ShopmeUserDetails;\nimport co.ichat.ichatweb.model.User;\nimport co.ichat.ichatweb.repository.UserRepository;\nimport co.ichat.ichatweb.service.IUserService;\n\n@Service\npublic class UserServiceImpl implements IUserService, UserDetailsService{\n    \n    @Autowired\n    private UserRepository userRepo;\n    \n    @Autowired\n    private BCryptPasswordEncoder passwordEncoder;\n\n    @Override\n    public Integer saveUser(User user) {\n        String passwd= user.getPassword();\n        String encodedPasswod = passwordEncoder.encode(passwd);\n        user.setPassword(encodedPasswod);\n        user = userRepo.save(user);\n        return user.getId();\n    }\n    \n    @Override\n    public UserDetails loadUserByUsername(String email) \n            throws UsernameNotFoundException {\n        \n        Optional&lt;User&gt; opt = userRepo.findUserByEmail(email);\n        \n        if(opt.isEmpty())\n        {\n                \n            throw new UsernameNotFoundException(&quot;User with email: &quot; +email +&quot; not found !&quot;);\n                \n        }\n        else {\n            User user = opt.get();\n            return new org.springframework.security.core.userdetails.User(\n                    user.getEmail(),\n                    user.getPassword(),\n                    user.getRoles()\n                    .stream()\n                    .map(role-&gt; new SimpleGrantedAuthority(role))\n                    .collect(Collectors.toSet())\n            );\n            //return new ShopmeUserDetails(user);\n        }\n        \n    }\n}\n</code></pre>\n<p>And below is the ShopmeUserDetails class:</p>\n<pre><code>\npackage co.ichat.ichatweb.model;\n\nimport java.util.\\*;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\npublic class ShopmeUserDetails implements UserDetails {\nprivate User user;\n\n    public ShopmeUserDetails(User user) {\n        this.user = user;\n    }\n    \n    //Issue with below function\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        List&lt;String&gt; roles = user.getRoles();\n        List&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n    \n        for (String role : roles) {\n            authorities.add(new SimpleGrantedAuthority(role));\n        }\n        return authorities;\n    }\n    \n    @Override\n    public String getPassword() {\n        return user.getPassword();\n    }\n    \n    @Override\n    public String getUsername() {\n        return user.getEmail();\n    }\n    \n    \n    public String getEmail() {\n        return user.getEmail();\n    }\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n    \n    public int getId() {\n        return user.getId();\n    }\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n    \n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n    \n    @Override\n    public boolean isEnabled() {\n        return user.isEnabled();\n    }\n\n}\n\n</code></pre>\n<p>Why it cannot be authenticated when we return ShopmeUserDetails(user)</p>\n<pre><code></code></pre>\n"},{"tags":["java","spring","cron","scheduler"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1695209476,"post_id":77141859,"comment_id":135992924,"body_markdown":"I guess the `${random.int[0,5]}` will only called once where the sceduler is created, If you start your application a gain, it wil generate a new random value","body":"I guess the <code>${random.int[0,5]}</code> will only called once where the sceduler is created, If you start your application a gain, it wil generate a new random value"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1695209813,"post_id":77141859,"comment_id":135992995,"body_markdown":"Do you want the executions to be at 01:05, then 02:03, then 03:04 and so on? Or do you want executions like 01:09, then 02:09, with the minute being random, decided once on startup?","body":"Do you want the executions to be at 01:05, then 02:03, then 03:04 and so on? Or do you want executions like 01:09, then 02:09, with the minute being random, decided once on startup?"},{"owner":{"account_id":2712341,"reputation":1106,"user_id":2340484,"display_name":"charlb"},"score":1,"creation_date":1695217702,"post_id":77141859,"comment_id":135994984,"body_markdown":"If you have 4 instances, don&#39;t you want one of the pods to execute the job every hour instead of randomizing the execution? You can achieve that with e.g. shedlock","body":"If you have 4 instances, don&#39;t you want one of the pods to execute the job every hour instead of randomizing the execution? You can achieve that with e.g. shedlock"}],"answers":[{"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695209108,"creation_date":1695209108,"answer_id":77141925,"question_id":77141859,"body_markdown":"Maybe give this a try:\r\n\r\n```\r\n0 $(expr $RANDOM \\% 11) * * * *\r\n\r\n```\r\n\r\n***$(expr $RANDOM \\% 11)*** generates a random number between 0 and 10. *$RANDOM* is a built-in shell variable in Unix-like systems that generates a random integer\r\n\r\nGood Luck!","title":"Spring random cron expression","body":"<p>Maybe give this a try:</p>\n<pre><code>0 $(expr $RANDOM \\% 11) * * * *\n\n</code></pre>\n<p><em><strong>$(expr $RANDOM % 11)</strong></em> generates a random number between 0 and 10. <em>$RANDOM</em> is a built-in shell variable in Unix-like systems that generates a random integer</p>\n<p>Good Luck!</p>\n"}],"owner":{"account_id":3944976,"reputation":613,"user_id":3257991,"accept_rate":100,"display_name":"Oussama"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77141925,"answer_count":1,"score":0,"last_activity_date":1695209108,"creation_date":1695208557,"question_id":77141859,"body_markdown":"I want to have a job executed each 1 hour.\r\nI have 4 pods running in kubernetes and I&#39;m using this expression: `0 0 */1 * * *`\r\n\r\nCurrent situation is that all pods execute the job the first minute of each hour.\r\n\r\nI want to randomize the expression so that each pod will execute the job each hour but at random minute between 0-10. \r\n\r\nIn spring there is a random.int function so I used it: `0 ${random.int[0,5]} */1 * * *` but it executed the job each 2 minutes. ","title":"Spring random cron expression","body":"<p>I want to have a job executed each 1 hour.\nI have 4 pods running in kubernetes and I'm using this expression: <code>0 0 */1 * * *</code></p>\n<p>Current situation is that all pods execute the job the first minute of each hour.</p>\n<p>I want to randomize the expression so that each pod will execute the job each hour but at random minute between 0-10.</p>\n<p>In spring there is a random.int function so I used it: <code>0 ${random.int[0,5]} */1 * * *</code> but it executed the job each 2 minutes.</p>\n"},{"tags":["java","spring","spring-boot","itext","html-to-pdf"],"answers":[{"tags":[],"owner":{"account_id":8891655,"reputation":25,"user_id":8680946,"display_name":"fmut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615458659,"creation_date":1615373234,"answer_id":66563133,"question_id":66555404,"body_markdown":"i resolved with this code .\r\n\r\n    FontProvider fontProvider = new DefaultFontProvider(false, false, false);\r\n    fontProvider.addFont(FONT);\r\n    properties.setFontProvider(fontProvider);\r\n\r\nbut I couldn&#39;t make my font bold","title":"Can&#39;t add font when converting from html to pdf with iText Library.Using spring boot","body":"<p>i resolved with this code .</p>\n<pre><code>FontProvider fontProvider = new DefaultFontProvider(false, false, false);\nfontProvider.addFont(FONT);\nproperties.setFontProvider(fontProvider);\n</code></pre>\n<p>but I couldn't make my font bold</p>\n"},{"tags":[],"owner":{"account_id":7667393,"reputation":121,"user_id":5810752,"accept_rate":100,"display_name":"tiempo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695208879,"creation_date":1695197853,"answer_id":77140560,"question_id":66555404,"body_markdown":"Using the following gradle dependencies:\r\n\r\n```\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-thymeleaf&#39;\r\n    implementation group: &#39;com.itextpdf&#39;, name: &#39;itext7-core&#39;, version: &#39;7.2.5&#39;\r\n    implementation group: &#39;com.itextpdf&#39;, name: &#39;html2pdf&#39;, version: &#39;5.0.0&#39;\r\n    implementation group: &#39;ognl&#39;, name: &#39;ognl&#39;, version: &#39;3.1.12&#39;\r\n```\r\n\r\nI am attaching the solution that worked for me:\r\n\r\n\r\n```\r\n    // file is inside resources at the path specified here\r\n    public static final String FONT = &quot;templates/fonts/Sans-Serif-Medium.ttf&quot;;\r\n\r\n    // font set up\r\n    FontProvider fontProvider = new DefaultFontProvider(false, false, false);\r\n    FontProgram fontProgram = FontProgramFactory.createFont(FONT);\r\n    fontProvider.addFont(fontProgram);\r\n    converterProperties.setFontProvider(fontProvider);\r\n```\r\n\r\nBold does not work unfortunately.\r\n\r\n**EDIT**\r\n\r\nIn order for bold to work, you need to add the bold font. So the code working for bold is the following:\r\n\r\n```\r\n    public static final String FONT = &quot;templates/fonts/arial.ttf&quot;;\r\n    public static final String FONT_BOLD = &quot;templates/fonts/arial-bold.ttf&quot;;\r\n\r\n    // font set up\r\n    FontProvider fontProvider = new DefaultFontProvider(false, false, false);\r\n    FontProgram fontProgram = FontProgramFactory.createFont(FONT);\r\n    FontProgram fontProgramBold = FontProgramFactory.createFont(FONT_BOLD);\r\n    fontProvider.addFont(fontProgram);\r\n    ontProvider.addFont(fontProgramBold);\r\n    converterProperties.setFontProvider(fontProvider);\r\n```","title":"Can&#39;t add font when converting from html to pdf with iText Library.Using spring boot","body":"<p>Using the following gradle dependencies:</p>\n<pre><code>    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-thymeleaf'\n    implementation group: 'com.itextpdf', name: 'itext7-core', version: '7.2.5'\n    implementation group: 'com.itextpdf', name: 'html2pdf', version: '5.0.0'\n    implementation group: 'ognl', name: 'ognl', version: '3.1.12'\n</code></pre>\n<p>I am attaching the solution that worked for me:</p>\n<pre><code>    // file is inside resources at the path specified here\n    public static final String FONT = &quot;templates/fonts/Sans-Serif-Medium.ttf&quot;;\n\n    // font set up\n    FontProvider fontProvider = new DefaultFontProvider(false, false, false);\n    FontProgram fontProgram = FontProgramFactory.createFont(FONT);\n    fontProvider.addFont(fontProgram);\n    converterProperties.setFontProvider(fontProvider);\n</code></pre>\n<p>Bold does not work unfortunately.</p>\n<p><strong>EDIT</strong></p>\n<p>In order for bold to work, you need to add the bold font. So the code working for bold is the following:</p>\n<pre><code>    public static final String FONT = &quot;templates/fonts/arial.ttf&quot;;\n    public static final String FONT_BOLD = &quot;templates/fonts/arial-bold.ttf&quot;;\n\n    // font set up\n    FontProvider fontProvider = new DefaultFontProvider(false, false, false);\n    FontProgram fontProgram = FontProgramFactory.createFont(FONT);\n    FontProgram fontProgramBold = FontProgramFactory.createFont(FONT_BOLD);\n    fontProvider.addFont(fontProgram);\n    ontProvider.addFont(fontProgramBold);\n    converterProperties.setFontProvider(fontProvider);\n</code></pre>\n"}],"owner":{"account_id":8891655,"reputation":25,"user_id":8680946,"display_name":"fmut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":971,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695208879,"creation_date":1615327225,"question_id":66555404,"body_markdown":"&gt; i am using itext library for convert html to pdf. i can convert properly, but can&#39;t add the font.My converter code is here\r\n\r\n```\r\nConfiguration cfg = new Configuration(Configuration.DEFAULT_INCOMPATIBLE_IMPROVEMENTS);\r\ncfg.setObjectWrapper(new DefaultObjectWrapper(Configuration.DEFAULT_INCOMPATIBLE_IMPROVEMENTS));\r\nTemplate t = new Template(&quot;templateName&quot;, new StringReader(templateHTML), cfg);\r\nWriter out = new FileWriter(new File(TARGET + documentName + &quot;.html&quot;));\r\nt.process(model, out);\r\nout.close();\r\n\r\nConverterProperties properties = new ConverterProperties();\r\nproperties.setBaseUri(TARGET);\r\nFile output = new File(TARGET + documentName + &quot;.pdf&quot;);\r\n\r\nFontProvider fontProvider = new DefaultFontProvider();\r\nFontProgram fontProgram = FontProgramFactory.createFont(FONT);\r\nfontProvider.addFont(fontProgram);\r\nproperties.setFontProvider(fontProvider);\r\nHtmlConverter.convertToPdf(\r\n    new FileInputStream(TARGET + documentName + &quot;.html&quot;),\r\n    new FileOutputStream(TARGET + documentName + &quot;.pdf&quot;),\r\n    properties);\r\n```\r\n\r\n&gt; My Target and Font is here\r\n```\r\n  public static String TARGET = &quot;target/classes/documentsTemplate/&quot;;\r\n  public static final String FONT = &quot;./src/main/resources/fonts/special.ttf&quot;;\r\n```\r\n&gt; I also tried adding font to html like this\r\n\r\n```\r\n* {\r\n    font-family: myFirstFont;\r\n    src: local(&quot;C:/font/special.ttf&quot;);\r\n}\r\n\r\n.text-font {\r\n    font-family: &quot;myFirstFont&quot;;\r\n}\r\n```","title":"Can&#39;t add font when converting from html to pdf with iText Library.Using spring boot","body":"<blockquote>\n<p>i am using itext library for convert html to pdf. i can convert properly, but can't add the font.My converter code is here</p>\n</blockquote>\n<pre><code>Configuration cfg = new Configuration(Configuration.DEFAULT_INCOMPATIBLE_IMPROVEMENTS);\ncfg.setObjectWrapper(new DefaultObjectWrapper(Configuration.DEFAULT_INCOMPATIBLE_IMPROVEMENTS));\nTemplate t = new Template(&quot;templateName&quot;, new StringReader(templateHTML), cfg);\nWriter out = new FileWriter(new File(TARGET + documentName + &quot;.html&quot;));\nt.process(model, out);\nout.close();\n\nConverterProperties properties = new ConverterProperties();\nproperties.setBaseUri(TARGET);\nFile output = new File(TARGET + documentName + &quot;.pdf&quot;);\n\nFontProvider fontProvider = new DefaultFontProvider();\nFontProgram fontProgram = FontProgramFactory.createFont(FONT);\nfontProvider.addFont(fontProgram);\nproperties.setFontProvider(fontProvider);\nHtmlConverter.convertToPdf(\n    new FileInputStream(TARGET + documentName + &quot;.html&quot;),\n    new FileOutputStream(TARGET + documentName + &quot;.pdf&quot;),\n    properties);\n</code></pre>\n<blockquote>\n<p>My Target and Font is here</p>\n</blockquote>\n<pre><code>  public static String TARGET = &quot;target/classes/documentsTemplate/&quot;;\n  public static final String FONT = &quot;./src/main/resources/fonts/special.ttf&quot;;\n</code></pre>\n<blockquote>\n<p>I also tried adding font to html like this</p>\n</blockquote>\n<pre><code>* {\n    font-family: myFirstFont;\n    src: local(&quot;C:/font/special.ttf&quot;);\n}\n\n.text-font {\n    font-family: &quot;myFirstFont&quot;;\n}\n</code></pre>\n"},{"tags":["java","parsing","jackson","yaml"],"answers":[{"comments":[{"owner":{"account_id":10388927,"reputation":540,"user_id":7660935,"accept_rate":80,"display_name":"Namoz"},"score":0,"creation_date":1507733178,"post_id":46691196,"comment_id":80330149,"body_markdown":"I though it would work because Jackson YAML module seems to use SnakeYAML according to https://github.com/FasterXML/jackson-dataformats-text/tree/master/yaml","body":"I though it would work because Jackson YAML module seems to use SnakeYAML according to <a href=\"https://github.com/FasterXML/jackson-dataformats-text/tree/master/yaml\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-dataformats-text/tree/master/ya&zwnj;&#8203;ml</a>"},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":1,"creation_date":1507735948,"post_id":46691196,"comment_id":80332093,"body_markdown":"Yes, but it may use the low-level interface which does not resolve aliases yet.","body":"Yes, but it may use the low-level interface which does not resolve aliases yet."},{"owner":{"account_id":10388927,"reputation":540,"user_id":7660935,"accept_rate":80,"display_name":"Namoz"},"score":0,"creation_date":1507737908,"post_id":46691196,"comment_id":80333370,"body_markdown":"I think you are right, so I used YAMLBeans instead, and it works fine.","body":"I think you are right, so I used YAMLBeans instead, and it works fine."}],"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1695208817,"creation_date":1507733004,"answer_id":46691196,"question_id":46689801,"body_markdown":"`&lt;&lt;` is not a core YAML feature and has only been specified as an optional tag to outdated YAML 1.1 (see [here](http://yaml.org/type/merge.html)). Therefore, Jackson has every right not to support it. Instead, it tries to parse `&lt;&lt;` as a field name, which obviously fails because there is no such field.\r\n\r\nYour second approach is more appropriate because it only uses core YAML features. The error you get is because Jackson is [known not to support anchors and aliases](https://github.com/FasterXML/jackson-dataformats-text/issues/98) and incorrectly treats the alias `*a` as a String instead of resolving it.\r\n\r\nNow you call Jackson a *YAML parser* in your question which it is not. It merely uses SnakeYaml as parser. SnakeYaml can load YAML to user-defined classes by itself, so you may be better of to directly use the [SnakeYaml API](https://bitbucket.org/asomov/snakeyaml/wiki/Documentation). Afaik it handles aliases correctly.","title":"YAML Jackson - Anchor keys of Array","body":"<p><code>&lt;&lt;</code> is not a core YAML feature and has only been specified as an optional tag to outdated YAML 1.1 (see <a href=\"http://yaml.org/type/merge.html\" rel=\"nofollow noreferrer\">here</a>). Therefore, Jackson has every right not to support it. Instead, it tries to parse <code>&lt;&lt;</code> as a field name, which obviously fails because there is no such field.</p>\n<p>Your second approach is more appropriate because it only uses core YAML features. The error you get is because Jackson is <a href=\"https://github.com/FasterXML/jackson-dataformats-text/issues/98\" rel=\"nofollow noreferrer\">known not to support anchors and aliases</a> and incorrectly treats the alias <code>*a</code> as a String instead of resolving it.</p>\n<p>Now you call Jackson a <em>YAML parser</em> in your question which it is not. It merely uses SnakeYaml as parser. SnakeYaml can load YAML to user-defined classes by itself, so you may be better of to directly use the <a href=\"https://bitbucket.org/asomov/snakeyaml/wiki/Documentation\" rel=\"nofollow noreferrer\">SnakeYaml API</a>. Afaik it handles aliases correctly.</p>\n"}],"owner":{"account_id":10388927,"reputation":540,"user_id":7660935,"accept_rate":80,"display_name":"Namoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2208,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46691196,"answer_count":1,"score":2,"last_activity_date":1695208817,"creation_date":1507729376,"question_id":46689801,"body_markdown":"I am trying to parse a YAML file into an object.\r\n\r\nEven though Online YAML Parser tells me that it is parsable the way I want, Jackson YAML parser refuses to give me what I want.\r\n\r\nHere is the YAML File :\r\n\r\n    - nom: &quot;service1&quot;\r\n      etats : &amp;e1s1\r\n        - nom: &quot;e1&quot;\r\n          childs:\r\n            - nom: &quot;e2&quot;\r\n              childs:\r\n                - nom: &quot;e3&quot;\r\n                  childs:\r\n                  - &amp;a\r\n                    nom: &quot;e5&quot;\r\n            - nom: &quot;e4&quot;\r\n              childs:\r\n                - &lt;&lt;: *a\r\n\r\nOnline YAML Parser tells me that &quot;e4&quot; and &quot;e3&quot; have &quot;e5&quot; as a child.\r\n\r\nHowever when I try to parse this with Jackson, I get the following error :\r\n\r\n    com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;&lt;&lt;&quot; (class Etat), not marked as ignorable (4 known properties: &quot;dependsOnAnotherService&quot;, &quot;nom&quot;, &quot;hasToken&quot;, &quot;childs&quot;])\r\n    at [Source: (File); line: 13, column: 21] (through reference chain: java.lang.Object[][0]-&gt;Service[&quot;etats&quot;]-&gt;java.util.ArrayList[0]-&gt;Etat[&quot;childs&quot;]-&gt;java.util.ArrayList[1]-&gt;Etat[&quot;childs&quot;]-&gt;java.util.ArrayList[0]-&gt;Etat[&quot;&lt;&lt;&quot;])\r\n\r\n\r\nSo, I&#39;d like to know if anybody have a way to do this where Jackson will accept it ?\r\n\r\n**Update**\r\n\r\nI also tried this :\r\n\r\n    - nom: &quot;service1&quot;\r\n      etats : &amp;e1s1\r\n        - nom: &quot;e1&quot;\r\n          childs:\r\n            - nom: &quot;e2&quot;\r\n              childs:\r\n                - nom: &quot;e3&quot;\r\n                  childs:\r\n                  - &amp;a\r\n                    nom: &quot;e5&quot;\r\n            - nom: &quot;e4&quot;\r\n              childs:\r\n                - *a\r\n\r\nBut get :\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `Etat` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;a&#39;)\r\n    at [Source: (File); line: 13, column: 15] (through reference chain: java.lang.Object[][0]-&gt;Service[&quot;etats&quot;]-&gt;java.util.ArrayList[0]-&gt;Etat[&quot;childs&quot;]-&gt;java.util.ArrayList[1]-&gt;Etat[&quot;childs&quot;]-&gt;java.util.ArrayList[0])\r\n","title":"YAML Jackson - Anchor keys of Array","body":"<p>I am trying to parse a YAML file into an object.</p>\n\n<p>Even though Online YAML Parser tells me that it is parsable the way I want, Jackson YAML parser refuses to give me what I want.</p>\n\n<p>Here is the YAML File :</p>\n\n<pre><code>- nom: \"service1\"\n  etats : &amp;e1s1\n    - nom: \"e1\"\n      childs:\n        - nom: \"e2\"\n          childs:\n            - nom: \"e3\"\n              childs:\n              - &amp;a\n                nom: \"e5\"\n        - nom: \"e4\"\n          childs:\n            - &lt;&lt;: *a\n</code></pre>\n\n<p>Online YAML Parser tells me that \"e4\" and \"e3\" have \"e5\" as a child.</p>\n\n<p>However when I try to parse this with Jackson, I get the following error :</p>\n\n<pre><code>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field \"&lt;&lt;\" (class Etat), not marked as ignorable (4 known properties: \"dependsOnAnotherService\", \"nom\", \"hasToken\", \"childs\"])\nat [Source: (File); line: 13, column: 21] (through reference chain: java.lang.Object[][0]-&gt;Service[\"etats\"]-&gt;java.util.ArrayList[0]-&gt;Etat[\"childs\"]-&gt;java.util.ArrayList[1]-&gt;Etat[\"childs\"]-&gt;java.util.ArrayList[0]-&gt;Etat[\"&lt;&lt;\"])\n</code></pre>\n\n<p>So, I'd like to know if anybody have a way to do this where Jackson will accept it ?</p>\n\n<p><strong>Update</strong></p>\n\n<p>I also tried this :</p>\n\n<pre><code>- nom: \"service1\"\n  etats : &amp;e1s1\n    - nom: \"e1\"\n      childs:\n        - nom: \"e2\"\n          childs:\n            - nom: \"e3\"\n              childs:\n              - &amp;a\n                nom: \"e5\"\n        - nom: \"e4\"\n          childs:\n            - *a\n</code></pre>\n\n<p>But get :</p>\n\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `Etat` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('a')\nat [Source: (File); line: 13, column: 15] (through reference chain: java.lang.Object[][0]-&gt;Service[\"etats\"]-&gt;java.util.ArrayList[0]-&gt;Etat[\"childs\"]-&gt;java.util.ArrayList[1]-&gt;Etat[\"childs\"]-&gt;java.util.ArrayList[0])\n</code></pre>\n"},{"tags":["java","security","ssl","micronaut","tls1.3"],"owner":{"account_id":1346130,"reputation":33,"user_id":1286847,"display_name":"Hut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695208387,"creation_date":1695208387,"question_id":77141833,"body_markdown":"I can not find anything in the micronaut docs about how to whitelist/blacklist  \r\ndifferent Cipher suites. Does anyone know how to do this?\r\n\r\nMy Goal is to accept only suites included in TLSv1.3.\r\n\r\nAlso i can not find anything on how to specify CRLs...\r\n\r\nAny help would be greatly appreciated ;-)\r\n\r\nI have looked through the documentation at https://micronaut.io/,\r\nbut i could not find anything regarding CRLs and Cipher suite configuration...","title":"Restrict Micronaut to TLSv1.3 only","body":"<p>I can not find anything in the micronaut docs about how to whitelist/blacklist<br />\ndifferent Cipher suites. Does anyone know how to do this?</p>\n<p>My Goal is to accept only suites included in TLSv1.3.</p>\n<p>Also i can not find anything on how to specify CRLs...</p>\n<p>Any help would be greatly appreciated ;-)</p>\n<p>I have looked through the documentation at <a href=\"https://micronaut.io/\" rel=\"nofollow noreferrer\">https://micronaut.io/</a>,\nbut i could not find anything regarding CRLs and Cipher suite configuration...</p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":130,"is_accepted":true,"score":130,"last_activity_date":1695208142,"creation_date":1439479316,"answer_id":31992391,"question_id":31992290,"body_markdown":"Basically, you want to concatenate all the nested streams into one flat stream, without affecting the members themselves. You&#39;ll use\r\n\r\n    objectStreams.flatMap(Function.identity());\r\n\r\nbecause you must provide _some_ mapping function for each stream member, and in this case it is the identity function.\r\n\r\n---\r\n\r\nUsually we end up with the nested streams because we apply a function that maps an item to a stream:\r\n\r\n```\r\nStream&lt;Stream&lt;Object&gt;&gt; objectStreams = srcStream.map(itemToStreamFunction);\r\n```\r\n\r\nIf this is your case, just change `map` to `flatMap`:\r\n\r\n```\r\nStream&lt;Object&gt; flatMappedStream = srcStream.flatMap(itemToStreamFunction);\r\n```\r\n","title":"How to flatmap a stream of streams in Java?","body":"<p>Basically, you want to concatenate all the nested streams into one flat stream, without affecting the members themselves. You'll use</p>\n<pre><code>objectStreams.flatMap(Function.identity());\n</code></pre>\n<p>because you must provide <em>some</em> mapping function for each stream member, and in this case it is the identity function.</p>\n<hr />\n<p>Usually we end up with the nested streams because we apply a function that maps an item to a stream:</p>\n<pre><code>Stream&lt;Stream&lt;Object&gt;&gt; objectStreams = srcStream.map(itemToStreamFunction);\n</code></pre>\n<p>If this is your case, just change <code>map</code> to <code>flatMap</code>:</p>\n<pre><code>Stream&lt;Object&gt; flatMappedStream = srcStream.flatMap(itemToStreamFunction);\n</code></pre>\n"}],"owner":{"account_id":4226501,"reputation":13504,"user_id":3459910,"accept_rate":73,"display_name":"winklerrr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53018,"favorite_count":0,"down_vote_count":1,"up_vote_count":76,"closed_date":1439479384,"accepted_answer_id":31992391,"answer_count":1,"score":75,"last_activity_date":1695208142,"creation_date":1439479053,"question_id":31992290,"body_markdown":"I want to transform the stream of streams of objects to a single stream of objects. I know that I have to use the `flatMap` method, but I&#39;m not able to achieve that, look at:\r\n\r\n    Stream&lt;Stream&lt;Object&gt;&gt; objectStreams = ...\r\n    Stream&lt;Object&gt; flatMappedStream = objectStreams.flatMap( ... );\r\n\r\nCould anyone please help me?\r\n\r\n","title":"How to flatmap a stream of streams in Java?","body":"<p>I want to transform the stream of streams of objects to a single stream of objects. I know that I have to use the <code>flatMap</code> method, but I'm not able to achieve that, look at:</p>\n\n<pre><code>Stream&lt;Stream&lt;Object&gt;&gt; objectStreams = ...\nStream&lt;Object&gt; flatMappedStream = objectStreams.flatMap( ... );\n</code></pre>\n\n<p>Could anyone please help me?</p>\n"},{"tags":["java","android","c++","java-native-interface"],"comments":[{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":2,"creation_date":1695202156,"post_id":77140914,"comment_id":135991396,"body_markdown":"You have to use CallBooleanMethod not CallVoidMethod.","body":"You have to use CallBooleanMethod not CallVoidMethod."},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":2,"creation_date":1695202328,"post_id":77140914,"comment_id":135991429,"body_markdown":"Also the signature ()V is wrong. See this: https://docs.oracle.com/en/java/javase/21/docs/specs/jni/types.html","body":"Also the signature ()V is wrong. See this: <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/jni/types.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/21/docs/specs/jni/types.html</a>"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":2,"creation_date":1695204336,"post_id":77140914,"comment_id":135991868,"body_markdown":"The error could not be clearer: you are using a JNIEnv from a different thread. This is an error. You should use the `AttachCurrentThread` invocation API instead to get a `JNIEnv*`. Also note that non-main threads cannot use `FindClass`, this is a [FAQ](https://developer.android.com/training/articles/perf-jni.html#faq:-why-didnt-findclass-find-my-class)","body":"The error could not be clearer: you are using a JNIEnv from a different thread. This is an error. You should use the <code>AttachCurrentThread</code> invocation API instead to get a <code>JNIEnv*</code>. Also note that non-main threads cannot use <code>FindClass</code>, this is a <a href=\"https://developer.android.com/training/articles/perf-jni.html#faq:-why-didnt-findclass-find-my-class\" rel=\"nofollow noreferrer\">FAQ</a>"}],"answers":[{"tags":[],"owner":{"account_id":9506410,"reputation":97,"user_id":7065776,"accept_rate":50,"display_name":"Isla"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1695205664,"creation_date":1695205664,"answer_id":77141515,"question_id":77140914,"body_markdown":"The error you&#39;re encountering typically occurs when you&#39;re trying to use a JNIEnv pointer obtained from one thread in another thread. The JNIEnv is specific to the thread it is obtained in and should not be used in a different thread.\r\n\r\nIn your &quot;callJavaFun&quot; function, you&#39;re passing the jniEnv parameter, which is presumably obtained in another thread, to jniEnv-&gt;FindClass(&quot;com/test/testQ/Yolov8Ncnn&quot;) and subsequently trying to use it to find the class and call a method in a different thread. This is not allowed in JNI.\r\n\r\nIf you need to call JNI functions from another thread, you should obtain a new JNIEnv pointer specifically for that thread using JavaVM functions like AttachCurrentThread and DetachCurrentThread. AttachCurrentThread is used to obtain a JNIEnv pointer for the current thread, perform the JNI operations, and then DetachCurrentThread is used to release the JNIEnv when we&#39;re done. This ensures that you&#39;re using the JNIEnv in a thread-safe manner. Here&#39;s an example of how you can modify your code to correctly call JNI functions in another thread:\r\n\r\n    void callJavaFun(\r\n            JNIEnv *jniEnv,\r\n            jobject thiz,\r\n            JavaVM *jniGvm,\r\n            jmethodID methodID,\r\n            jclass globalClass,\r\n            cv::Mat &amp;rgb\r\n    ) {\r\n        JNIEnv *threadEnv = nullptr;\r\n        if (jniGvm-&gt;AttachCurrentThread(&amp;threadEnv, NULL) == JNI_OK) {\r\n            jclass clazz = threadEnv-&gt;FindClass(&quot;com/test/testQ/Yolov8Ncnn&quot;);\r\n            jmethodID methodID = threadEnv-&gt;GetMethodID(clazz, &quot;test&quot;, &quot;()V&quot;);\r\n            if (methodID != NULL) {\r\n                threadEnv-&gt;CallVoidMethod(thiz, methodID);\r\n            }\r\n    \r\n            jniGvm-&gt;DetachCurrentThread();\r\n        }\r\n    }","title":"JNI DETECTED ERROR IN APPLICATION: Thread using JNIEnv* from different thread","body":"<p>The error you're encountering typically occurs when you're trying to use a JNIEnv pointer obtained from one thread in another thread. The JNIEnv is specific to the thread it is obtained in and should not be used in a different thread.</p>\n<p>In your &quot;callJavaFun&quot; function, you're passing the jniEnv parameter, which is presumably obtained in another thread, to jniEnv-&gt;FindClass(&quot;com/test/testQ/Yolov8Ncnn&quot;) and subsequently trying to use it to find the class and call a method in a different thread. This is not allowed in JNI.</p>\n<p>If you need to call JNI functions from another thread, you should obtain a new JNIEnv pointer specifically for that thread using JavaVM functions like AttachCurrentThread and DetachCurrentThread. AttachCurrentThread is used to obtain a JNIEnv pointer for the current thread, perform the JNI operations, and then DetachCurrentThread is used to release the JNIEnv when we're done. This ensures that you're using the JNIEnv in a thread-safe manner. Here's an example of how you can modify your code to correctly call JNI functions in another thread:</p>\n<pre><code>void callJavaFun(\n        JNIEnv *jniEnv,\n        jobject thiz,\n        JavaVM *jniGvm,\n        jmethodID methodID,\n        jclass globalClass,\n        cv::Mat &amp;rgb\n) {\n    JNIEnv *threadEnv = nullptr;\n    if (jniGvm-&gt;AttachCurrentThread(&amp;threadEnv, NULL) == JNI_OK) {\n        jclass clazz = threadEnv-&gt;FindClass(&quot;com/test/testQ/Yolov8Ncnn&quot;);\n        jmethodID methodID = threadEnv-&gt;GetMethodID(clazz, &quot;test&quot;, &quot;()V&quot;);\n        if (methodID != NULL) {\n            threadEnv-&gt;CallVoidMethod(thiz, methodID);\n        }\n\n        jniGvm-&gt;DetachCurrentThread();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20937041,"reputation":323,"user_id":15381986,"display_name":"Mustafa Maden"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695208025,"creation_date":1695200815,"question_id":77140914,"body_markdown":"When I try to call the function in the java class, I get the following error.\r\n\r\n    ava_vm_ext.cc:579] JNI DETECTED ERROR IN APPLICATION: thread Thread[21,tid=15479,Native,Thread*=0x7d932413a0,peer=0x12f00038,&quot;ImageReader-640x480f23u3m2-15444-0&quot;] using JNIEnv* from thread Thread[1,tid=15444,Runnable,Thread*=0x7d931f4be0,peer=0x71d8ae98,&quot;main&quot;]\r\n                                                                                                      java_vm_ext.cc:579]     in call to FindClass.\r\n\r\n\r\nCode;\r\n\r\n    void callJavaFun(\r\n            JNIEnv *jniEnv,\r\n            jobject thiz,\r\n            JavaVM *jniGvm,\r\n            jmethodID methodID,\r\n            jclass globalClass,\r\n            cv::Mat &amp;rgb\r\n    ) {\r\n        jclass clazz = jniEnv-&gt;FindClass(&quot;com/test/testQ/Yolov8Ncnn&quot;);\r\n        jmethodID methodID = jniEnv-&gt;GetMethodID(clazz, &quot;test&quot;, &quot;()V&quot;);\r\n        if (methodID != NULL) {\r\n            jniEnv-&gt;CallVoidMethod(thiz, methodID);\r\n        }\r\n    }\r\n\r\nWhen I run the code in the following line of code I don&#39;t have any problem.\r\n\r\n    JNIEXPORT jboolean JNICALL\r\n    Java_com_test_testQ_Yolov8Ncnn_test(JNIEnv *env, jobject thiz, jobject surface) {\r\n        ...\r\n        return JNI_TRUE;\r\n    }\r\n\r\nWhat is the reason?","title":"JNI DETECTED ERROR IN APPLICATION: Thread using JNIEnv* from different thread","body":"<p>When I try to call the function in the java class, I get the following error.</p>\n<pre><code>ava_vm_ext.cc:579] JNI DETECTED ERROR IN APPLICATION: thread Thread[21,tid=15479,Native,Thread*=0x7d932413a0,peer=0x12f00038,&quot;ImageReader-640x480f23u3m2-15444-0&quot;] using JNIEnv* from thread Thread[1,tid=15444,Runnable,Thread*=0x7d931f4be0,peer=0x71d8ae98,&quot;main&quot;]\n                                                                                                  java_vm_ext.cc:579]     in call to FindClass.\n</code></pre>\n<p>Code;</p>\n<pre><code>void callJavaFun(\n        JNIEnv *jniEnv,\n        jobject thiz,\n        JavaVM *jniGvm,\n        jmethodID methodID,\n        jclass globalClass,\n        cv::Mat &amp;rgb\n) {\n    jclass clazz = jniEnv-&gt;FindClass(&quot;com/test/testQ/Yolov8Ncnn&quot;);\n    jmethodID methodID = jniEnv-&gt;GetMethodID(clazz, &quot;test&quot;, &quot;()V&quot;);\n    if (methodID != NULL) {\n        jniEnv-&gt;CallVoidMethod(thiz, methodID);\n    }\n}\n</code></pre>\n<p>When I run the code in the following line of code I don't have any problem.</p>\n<pre><code>JNIEXPORT jboolean JNICALL\nJava_com_test_testQ_Yolov8Ncnn_test(JNIEnv *env, jobject thiz, jobject surface) {\n    ...\n    return JNI_TRUE;\n}\n</code></pre>\n<p>What is the reason?</p>\n"},{"tags":["java","android","background-process"],"answers":[{"comments":[{"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"score":0,"creation_date":1516965152,"post_id":48460009,"comment_id":83913228,"body_markdown":"It&#39;s working but giving error on `this` at `BackgroundMail.newBuilder(this)`","body":"It&#39;s working but giving error on <code>this</code> at <code>BackgroundMail.newBuilder(this)</code>"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1516965241,"post_id":48460009,"comment_id":83913271,"body_markdown":"@MrFaisal try `SomeActivity.this` or `getContext()` ...you need to pass some kind of `Context` class (that example on GitHub just assumes, that the code runs within some Activity class).","body":"@MrFaisal try <code>SomeActivity.this</code> or <code>getContext()</code> ...you need to pass some kind of <code>Context</code> class (that example on GitHub just assumes, that the code runs within some Activity class)."}],"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1522272004,"creation_date":1516964287,"answer_id":48460009,"question_id":48459894,"body_markdown":"you also need to add the corresponding repository into the project&#39;s `build.gradle`:\r\n    \r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n            google()\r\n            maven { url &quot;https://jitpack.io&quot; } // that&#39;s the one missing.\r\n        }\r\n    }\r\n\r\n[GmailBackground][1]\r\n\r\n\r\n  [1]: https://github.com/yesidlazaro/GmailBackground","title":"Error while adding Gmail Background dependency","body":"<p>you also need to add the corresponding repository into the project's <code>build.gradle</code>:</p>\n\n<pre><code>allprojects {\n    repositories {\n        jcenter()\n        google()\n        maven { url \"https://jitpack.io\" } // that's the one missing.\n    }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/yesidlazaro/GmailBackground\" rel=\"nofollow noreferrer\">GmailBackground</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1695117767,"post_id":77122627,"comment_id":135978272,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77122627/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29432948,"reputation":13,"user_id":22552276,"display_name":"DavidDev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695207995,"creation_date":1694966515,"answer_id":77122627,"question_id":48459894,"body_markdown":"Try to change &quot;compile&quot; by &quot;implementation&quot; as explained in the [documentation][1]\r\n\r\n&gt; The compile and runtime configurations have been removed with Gradle\r\n&gt; 7.0. Please refer to the upgrade guide how to migrate to implementation and api configurations`.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_separation","title":"Error while adding Gmail Background dependency","body":"<p>Try to change &quot;compile&quot; by &quot;implementation&quot; as explained in the <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_separation\" rel=\"nofollow noreferrer\">documentation</a></p>\n<blockquote>\n<p>The compile and runtime configurations have been removed with Gradle\n7.0. Please refer to the upgrade guide how to migrate to implementation and api configurations`.</p>\n</blockquote>\n"}],"owner":{"account_id":2113491,"reputation":536,"user_id":6854117,"accept_rate":72,"display_name":"Moeez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":846,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48460009,"answer_count":2,"score":1,"last_activity_date":1695207995,"creation_date":1516963809,"question_id":48459894,"body_markdown":"I want to send an email in background in my android app. For this I am using [Gmail Background][1]. \r\n\r\nBut when I try to add ` compile &#39;com.github.yesidlazaro:GmailBackground:1.2.0&#39;` in dependencies it gives me error \r\n\r\n&gt; Error:(41, 13) Failed to resolve: com.github.yesidlazaro:GmailBackground:1.2.0\r\n\r\nWhat should I do to resolve this error ? \r\n\r\nAny help would be highly appreciated.\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/yesidlazaro/GmailBackground","title":"Error while adding Gmail Background dependency","body":"<p>I want to send an email in background in my android app. For this I am using <a href=\"https://github.com/yesidlazaro/GmailBackground\" rel=\"nofollow noreferrer\">Gmail Background</a>. </p>\n\n<p>But when I try to add <code>compile 'com.github.yesidlazaro:GmailBackground:1.2.0'</code> in dependencies it gives me error </p>\n\n<blockquote>\n  <p>Error:(41, 13) Failed to resolve: com.github.yesidlazaro:GmailBackground:1.2.0</p>\n</blockquote>\n\n<p>What should I do to resolve this error ? </p>\n\n<p>Any help would be highly appreciated.</p>\n"},{"tags":["java","jenkins","command-line-interface","jenkins-plugins","jenkins-cli"],"answers":[{"tags":[],"owner":{"account_id":27274165,"reputation":154,"user_id":20795061,"display_name":"Nguyn Tri Mn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695033291,"creation_date":1695033291,"answer_id":77126463,"question_id":77096022,"body_markdown":"I found another workaround solution is using REST api to install specific Jenkins plugin version (downgrade/upgrade Jenkins plugin version)\r\n\r\n    curl -vu user:token -F &quot;filename=plugin-name&quot; -F &quot;pluginUrl=https://updates.jenkins.io/download/plugins/plugin-name/plugin-version/plugin-name.hpi&quot; http://jenkins-url/manage/pluginManager/uploadPlugin\r\n\r\nE.g:\r\n\r\n    curl -vu admin:11ba4f5453eed5ea3aa7d3c5307199e3e9 -F &quot;filename=thinBackup&quot; -F &quot;pluginUrl=https://updates.jenkins.io/download/plugins/thinBackup/1.15/thinBackup.hpi&quot; http://localhost:8080/manage/pluginManager/uploadPlugin\r\n\r\nThen restart Jenkins [![enter image description here][1]][1]\r\n\r\nTada!!! the result [![enter image description here][2]][2]\r\n\r\nP/S: I want to use REST api instead of using GUI because with REST api we can write an automation script to install plugins versions list list as per requirement.\r\n\r\n  [1]: https://i.stack.imgur.com/pn6tf.png\r\n  [2]: https://i.stack.imgur.com/1NHOc.png","title":"Jenkins CLI to install Jenkins plugins - error UnknownHostException","body":"<p>I found another workaround solution is using REST api to install specific Jenkins plugin version (downgrade/upgrade Jenkins plugin version)</p>\n<pre><code>curl -vu user:token -F &quot;filename=plugin-name&quot; -F &quot;pluginUrl=https://updates.jenkins.io/download/plugins/plugin-name/plugin-version/plugin-name.hpi&quot; http://jenkins-url/manage/pluginManager/uploadPlugin\n</code></pre>\n<p>E.g:</p>\n<pre><code>curl -vu admin:11ba4f5453eed5ea3aa7d3c5307199e3e9 -F &quot;filename=thinBackup&quot; -F &quot;pluginUrl=https://updates.jenkins.io/download/plugins/thinBackup/1.15/thinBackup.hpi&quot; http://localhost:8080/manage/pluginManager/uploadPlugin\n</code></pre>\n<p>Then restart Jenkins <a href=\"https://i.stack.imgur.com/pn6tf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pn6tf.png\" alt=\"enter image description here\" /></a></p>\n<p>Tada!!! the result <a href=\"https://i.stack.imgur.com/1NHOc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1NHOc.png\" alt=\"enter image description here\" /></a></p>\n<p>P/S: I want to use REST api instead of using GUI because with REST api we can write an automation script to install plugins versions list list as per requirement.</p>\n"},{"tags":[],"owner":{"account_id":27274165,"reputation":154,"user_id":20795061,"display_name":"Nguyn Tri Mn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695207713,"creation_date":1695207713,"answer_id":77141751,"question_id":77096022,"body_markdown":"This url is outdate: https://updates.jenkins.io/download/plugins and it migrate to the new url: https://get.jenkins.io/plugins\r\n\r\nPlease try the new url","title":"Jenkins CLI to install Jenkins plugins - error UnknownHostException","body":"<p>This url is outdate: <a href=\"https://updates.jenkins.io/download/plugins\" rel=\"nofollow noreferrer\">https://updates.jenkins.io/download/plugins</a> and it migrate to the new url: <a href=\"https://get.jenkins.io/plugins\" rel=\"nofollow noreferrer\">https://get.jenkins.io/plugins</a></p>\n<p>Please try the new url</p>\n"}],"owner":{"account_id":27274165,"reputation":154,"user_id":20795061,"display_name":"Nguyn Tri Mn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77141751,"answer_count":2,"score":0,"last_activity_date":1695207713,"creation_date":1694599105,"question_id":77096022,"body_markdown":"I&#39;m trying to use Jenkins CLI to install a Jenkins plugin with command:\r\n```\r\njava -jar jenkins-cli.jar -s http://localhost:8080 -auth @cred install-plugin https://updates.jenkins.io/download/plugins/htmlpublisher/1.31/htmlpublisher.hpi\r\n```\r\nand got the error\r\n\r\n```\r\nInstalling a plugin from https://updates.jenkins.io/download/plugins/htmlpublisher/1.31/htmlpublisher.hpi\r\n\r\nERROR: Unexpected exception occurred while performing install-plugin command.\r\njava.net.UnknownHostException: updates.jenkins.io\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:229)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n        at java.base/java.net.Socket.connect(Socket.java:609)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:305)\r\n        at java.base/sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:173)\r\n        at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)\r\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:507)\r\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:602)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:373)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:207)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:193)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1592)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)\r\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:250)\r\n        at java.base/java.net.URL.openStream(URL.java:1165)\r\n        at org.apache.commons.io.FileUtils.copyURLToFile(FileUtils.java:1068)\r\n        at hudson.cli.InstallPluginCommand.run(InstallPluginCommand.java:110)\r\n        at hudson.cli.CLICommand.main(CLICommand.java:251)\r\n        at hudson.cli.CLIAction$ServerSideImpl.run(CLIAction.java:299)\r\n        at hudson.cli.CLIAction$1.lambda$opened$0(CLIAction.java:154)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n\r\nWhat I have tried out:\r\n- Using another server: \r\n**java -jar jenkins-cli.jar -s http://localhost:8080 -auth @cred install-plugin https://get.jenkins.io/plugins/htmlpublisher/1.31/htmlpublisher.hpi** and got the same error\r\n- Install a similar plugin from the Jenkins UI and this worked successfully.\r\n\r\nJenkins version: Jenkins 2.401.2\r\n\r\nAppreciate for your help.","title":"Jenkins CLI to install Jenkins plugins - error UnknownHostException","body":"<p>I'm trying to use Jenkins CLI to install a Jenkins plugin with command:</p>\n<pre><code>java -jar jenkins-cli.jar -s http://localhost:8080 -auth @cred install-plugin https://updates.jenkins.io/download/plugins/htmlpublisher/1.31/htmlpublisher.hpi\n</code></pre>\n<p>and got the error</p>\n<pre><code>Installing a plugin from https://updates.jenkins.io/download/plugins/htmlpublisher/1.31/htmlpublisher.hpi\n\nERROR: Unexpected exception occurred while performing install-plugin command.\njava.net.UnknownHostException: updates.jenkins.io\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:229)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n        at java.base/java.net.Socket.connect(Socket.java:609)\n        at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:305)\n        at java.base/sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:173)\n        at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:507)\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:602)\n        at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\n        at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:373)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:207)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1187)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:193)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1592)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:250)\n        at java.base/java.net.URL.openStream(URL.java:1165)\n        at org.apache.commons.io.FileUtils.copyURLToFile(FileUtils.java:1068)\n        at hudson.cli.InstallPluginCommand.run(InstallPluginCommand.java:110)\n        at hudson.cli.CLICommand.main(CLICommand.java:251)\n        at hudson.cli.CLIAction$ServerSideImpl.run(CLIAction.java:299)\n        at hudson.cli.CLIAction$1.lambda$opened$0(CLIAction.java:154)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>What I have tried out:</p>\n<ul>\n<li>Using another server:\n<strong>java -jar jenkins-cli.jar -s http://localhost:8080 -auth @cred install-plugin <a href=\"https://get.jenkins.io/plugins/htmlpublisher/1.31/htmlpublisher.hpi\" rel=\"nofollow noreferrer\">https://get.jenkins.io/plugins/htmlpublisher/1.31/htmlpublisher.hpi</a></strong> and got the same error</li>\n<li>Install a similar plugin from the Jenkins UI and this worked successfully.</li>\n</ul>\n<p>Jenkins version: Jenkins 2.401.2</p>\n<p>Appreciate for your help.</p>\n"},{"tags":["java","android","android-actionbar"],"answers":[{"comments":[{"owner":{"account_id":773362,"reputation":17857,"user_id":812303,"accept_rate":71,"display_name":"Tomer"},"score":2,"creation_date":1382540855,"post_id":19545450,"comment_id":29000675,"body_markdown":"I can&#39;t use `getActionBar` as the activity is not inheriting from `ActionBarActivity`","body":"I can&#39;t use <code>getActionBar</code> as the activity is not inheriting from <code>ActionBarActivity</code>"},{"owner":{"account_id":773362,"reputation":17857,"user_id":812303,"accept_rate":71,"display_name":"Tomer"},"score":0,"creation_date":1382541015,"post_id":19545450,"comment_id":29000771,"body_markdown":"if i use `&lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;` wouldn&#39;t that hide it on all screens?","body":"if i use <code>&lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;&#47;item&gt;</code> wouldn&#39;t that hide it on all screens?"},{"owner":{"account_id":445336,"reputation":9179,"user_id":837722,"accept_rate":87,"display_name":"Si8"},"score":0,"creation_date":1382541330,"post_id":19545450,"comment_id":29000996,"body_markdown":"Update my answer which should be more suitable for your need.","body":"Update my answer which should be more suitable for your need."}],"tags":[],"owner":{"account_id":445336,"reputation":9179,"user_id":837722,"accept_rate":87,"display_name":"Si8"},"comment_count":3,"down_vote_count":3,"up_vote_count":147,"is_accepted":true,"score":144,"last_activity_date":1650801607,"creation_date":1382540647,"answer_id":19545450,"question_id":19545370,"body_markdown":"Apply the following in your Theme for the Activity in `AndroidManifest.xml`:\r\n\r\n    &lt;activity android:name=&quot;.Activity&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@android:style/Theme.NoTitleBar&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;","title":"Android: how to hide ActionBar on certain activities","body":"<p>Apply the following in your Theme for the Activity in <code>AndroidManifest.xml</code>:</p>\n<pre><code>&lt;activity android:name=&quot;.Activity&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:theme=&quot;@android:style/Theme.NoTitleBar&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":773362,"reputation":17857,"user_id":812303,"accept_rate":71,"display_name":"Tomer"},"score":0,"creation_date":1382541552,"post_id":19545488,"comment_id":29001168,"body_markdown":"+1 for introducing me to this :), i&#39;ll check @SiKni8 solution first as i prefer non coding solution","body":"+1 for introducing me to this :), i&#39;ll check @SiKni8 solution first as i prefer non coding solution"},{"owner":{"account_id":971023,"reputation":6146,"user_id":993600,"accept_rate":87,"display_name":"TMH"},"score":1,"creation_date":1382541644,"post_id":19545488,"comment_id":29001256,"body_markdown":"No problem, I found it really useful for displaying a full screen map in my app, works really well for me.","body":"No problem, I found it really useful for displaying a full screen map in my app, works really well for me."}],"tags":[],"owner":{"account_id":971023,"reputation":6146,"user_id":993600,"accept_rate":87,"display_name":"TMH"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1492443542,"creation_date":1382540743,"answer_id":19545488,"question_id":19545370,"body_markdown":"You can use Low Profile mode\r\n[See here][1]\r\n\r\n\r\n  [1]: http://developer.android.com/about/versions/android-4.0.html\r\n\r\nJust search for `SYSTEM_UI_FLAG_LOW_PROFILE` that also dims the navigation buttons if they are present of screen.","title":"Android: how to hide ActionBar on certain activities","body":"<p>You can use Low Profile mode\n<a href=\"http://developer.android.com/about/versions/android-4.0.html\" rel=\"nofollow noreferrer\">See here</a></p>\n\n<p>Just search for <code>SYSTEM_UI_FLAG_LOW_PROFILE</code> that also dims the navigation buttons if they are present of screen.</p>\n"},{"tags":[],"owner":{"account_id":3045528,"reputation":18505,"user_id":2581314,"accept_rate":82,"display_name":"erluxman"},"comment_count":0,"down_vote_count":0,"up_vote_count":168,"is_accepted":false,"score":168,"last_activity_date":1554251619,"creation_date":1394580251,"answer_id":22338837,"question_id":19545370,"body_markdown":"As you are asking about how to **hide** in a **certain activity**, this is what you need :\r\n\r\n    getSupportActionBar().hide(); \r\n\r\n   ","title":"Android: how to hide ActionBar on certain activities","body":"<p>As you are asking about how to <strong>hide</strong> in a <strong>certain activity</strong>, this is what you need :</p>\n\n<pre><code>getSupportActionBar().hide(); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2828018,"reputation":2311,"user_id":2430217,"accept_rate":100,"display_name":"Ihab Shoully"},"score":9,"creation_date":1413320048,"post_id":26165331,"comment_id":41397414,"body_markdown":"I use : `getSupportActionBar().hide();`\n\nin ActionBarActivity","body":"I use : <code>getSupportActionBar().hide();</code>  in ActionBarActivity"}],"tags":[],"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"comment_count":1,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1582035186,"creation_date":1412267615,"answer_id":26165331,"question_id":19545370,"body_markdown":"The `ActionBar` usually exists along `Fragments` so from the `Activity` you can hide it\r\n\r\n    getActionBar().hide();\r\n    getActionBar().show();\r\n\r\nand from the `Fragment` you can do it    \r\n\r\n    getActivity().getActionBar().hide();\r\n    getActivity().getActionBar().show();","title":"Android: how to hide ActionBar on certain activities","body":"<p>The <code>ActionBar</code> usually exists along <code>Fragments</code> so from the <code>Activity</code> you can hide it</p>\n\n<pre><code>getActionBar().hide();\ngetActionBar().show();\n</code></pre>\n\n<p>and from the <code>Fragment</code> you can do it    </p>\n\n<pre><code>getActivity().getActionBar().hide();\ngetActivity().getActionBar().show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5374207,"reputation":3969,"user_id":4281711,"accept_rate":63,"display_name":"Prateek Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1435720699,"creation_date":1435720699,"answer_id":31151988,"question_id":19545370,"body_markdown":"1.Go to your `manifest.xml` file.\r\n\r\n2.`Find` the `activity tag` for which you want to hide your ActionBar and then `add` ,\r\n\r\n&gt;  android:theme=&quot;@style/Theme.AppCompat.NoActionBar&quot;\r\n\r\n               &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:theme=&quot;@style/Theme.AppCompat.NoActionBar&quot;\r\n                &gt;","title":"Android: how to hide ActionBar on certain activities","body":"<p>1.Go to your <code>manifest.xml</code> file.</p>\n\n<p>2.<code>Find</code> the <code>activity tag</code> for which you want to hide your ActionBar and then <code>add</code> ,</p>\n\n<blockquote>\n  <p>android:theme=\"@style/Theme.AppCompat.NoActionBar\"</p>\n</blockquote>\n\n<pre><code>           &lt;activity\n            android:name=\".MainActivity\"\n            android:theme=\"@style/Theme.AppCompat.NoActionBar\"\n            &gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1753695,"reputation":4626,"user_id":1602207,"accept_rate":81,"display_name":"joshgoldeneagle"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1436480875,"creation_date":1436480875,"answer_id":31329359,"question_id":19545370,"body_markdown":"If you were using Theme.AppCompat.Light, a better equivalent would be Theme.AppCompat.Light.NoActionBar.\r\n\r\nI found that using Theme.AppCompat.NoTitleBar caused my button text to be invisible so I am using Theme.AppCompat.Light.NoActionBar.\r\n\r\n    &lt;activity android:name=&quot;.Activity&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@android:style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n","title":"Android: how to hide ActionBar on certain activities","body":"<p>If you were using Theme.AppCompat.Light, a better equivalent would be Theme.AppCompat.Light.NoActionBar.</p>\n\n<p>I found that using Theme.AppCompat.NoTitleBar caused my button text to be invisible so I am using Theme.AppCompat.Light.NoActionBar.</p>\n\n<pre><code>&lt;activity android:name=\".Activity\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@android:style/Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n        &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3066037,"reputation":6018,"user_id":2597706,"accept_rate":50,"display_name":"reza.cse08"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1446822080,"creation_date":1446822080,"answer_id":33569646,"question_id":19545370,"body_markdown":"If you want to get full screen without actionBar and Title.\r\n\r\nAdd it in style.xml\r\n\r\n    &lt;style name=&quot;AppTheme.NoActionBar&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n          &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n          &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n          &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nand use the style at activity of manifest.xml.\r\n\r\n    &lt;activity ....\r\n          android:theme=&quot;@style/AppTheme.NoActionBar&quot; &gt; ......\r\n    &lt;/activity&gt; ","title":"Android: how to hide ActionBar on certain activities","body":"<p>If you want to get full screen without actionBar and Title.</p>\n\n<p>Add it in style.xml</p>\n\n<pre><code>&lt;style name=\"AppTheme.NoActionBar\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n      &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n      &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n      &lt;item name=\"android:windowFullscreen\"&gt;true&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>and use the style at activity of manifest.xml.</p>\n\n<pre><code>&lt;activity ....\n      android:theme=\"@style/AppTheme.NoActionBar\" &gt; ......\n&lt;/activity&gt; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4308351,"reputation":210,"user_id":3520157,"accept_rate":60,"display_name":"BlueLeaf"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1448552405,"creation_date":1448552405,"answer_id":33942383,"question_id":19545370,"body_markdown":"The above answers would help with the ActionBar thing. To add to it, use the following code in case you are using the Splash Screen:\r\nUse this before you set the content view:\r\n\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\nJust to clarify, here&#39;s how you do it:\r\n\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;\r\n        setContentView(R.layout.activity_main);\r\n\r\nThis would make your screen a full screen, i.e remove the top bar where you see the network bar, etc","title":"Android: how to hide ActionBar on certain activities","body":"<p>The above answers would help with the ActionBar thing. To add to it, use the following code in case you are using the Splash Screen:\nUse this before you set the content view:</p>\n\n<pre><code>    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n</code></pre>\n\n<p>Just to clarify, here's how you do it:</p>\n\n<pre><code>    super.onCreate(savedInstanceState);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); \n    setContentView(R.layout.activity_main);\n</code></pre>\n\n<p>This would make your screen a full screen, i.e remove the top bar where you see the network bar, etc</p>\n"},{"tags":[],"owner":{"account_id":4838224,"reputation":3812,"user_id":3904109,"accept_rate":71,"display_name":"DragonFire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516248708,"creation_date":1516248708,"answer_id":48313727,"question_id":19545370,"body_markdown":"This works in API 27\r\n\r\nIn the styles.xml replace code to the following....\r\n\r\n    &lt;resources&gt;\r\n        &lt;!-- No Action Bar --&gt;\r\n        &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n            &lt;!-- Customize your theme here. --&gt;\r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n            &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\nThen in the files (eg. activity_list.xml) in which you do want to have a toolbar put the following code.\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n    android:id=&quot;@+id/toolbar&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:background=&quot;@color/colorPrimary&quot;/&gt;\r\n\r\nIf you have problems switch to linear layout (because that is what this code is tested on)","title":"Android: how to hide ActionBar on certain activities","body":"<p>This works in API 27</p>\n\n<p>In the styles.xml replace code to the following....</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;!-- No Action Bar --&gt;\n    &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Then in the files (eg. activity_list.xml) in which you do want to have a toolbar put the following code.</p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\nandroid:id=\"@+id/toolbar\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_width=\"match_parent\"\nandroid:background=\"@color/colorPrimary\"/&gt;\n</code></pre>\n\n<p>If you have problems switch to linear layout (because that is what this code is tested on)</p>\n"},{"tags":[],"owner":{"account_id":10225897,"reputation":551,"user_id":7548514,"display_name":"Kyo Huu"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1521512301,"creation_date":1521512301,"answer_id":49375355,"question_id":19545370,"body_markdown":"This works for me! Put this in your Activity in manifests\r\n\r\n    &lt;activity\r\n       // ...\r\n       android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\r\n       // ...\r\n       &lt;/activity&gt;\r\n\r\nYou can also make your custom theme in styles.xml like this:\r\n\r\n    &lt;style name=&quot;Theme.MyCustomTheme&quot; parent=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n            &lt;item name = &quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\r\n            &lt;item name = &quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n            // more custom...\r\n        &lt;/style&gt;\r\n  \r\nHope this help.","title":"Android: how to hide ActionBar on certain activities","body":"<p>This works for me! Put this in your Activity in manifests</p>\n\n<pre><code>&lt;activity\n   // ...\n   android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"\n   // ...\n   &lt;/activity&gt;\n</code></pre>\n\n<p>You can also make your custom theme in styles.xml like this:</p>\n\n<pre><code>&lt;style name=\"Theme.MyCustomTheme\" parent=\"@style/Theme.AppCompat.Light.NoActionBar\"&gt;\n        &lt;item name = \"android:windowActionBar\"&gt;false&lt;/item&gt;\n        &lt;item name = \"android:windowNoTitle\"&gt;true&lt;/item&gt;\n        // more custom...\n    &lt;/style&gt;\n</code></pre>\n\n<p>Hope this help.</p>\n"},{"tags":[],"owner":{"account_id":2847174,"reputation":1500,"user_id":2445273,"accept_rate":75,"display_name":"LoMaPh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528339443,"creation_date":1528339443,"answer_id":50732250,"question_id":19545370,"body_markdown":"From [here][1]:\n\n&gt; Beginning with Android 3.0 (API level 11), all activities that use the default theme have an ActionBar as an app bar. However, app bar features have gradually been added to the native ActionBar over various Android releases. As a result, **the native ActionBar behaves differently depending on what version of the Android system a device may be using**. By contrast, the most recent features are added to the support library&#39;s version of **Toolbar**, and they are available on any device that can use the support library. \n\nSo one option is to disable ActionBar completely (in the app manifest.xml file) and then add Toolbar in every page that needs an ActionBar.\n\n(follow the above link for step-by-step explanation)\n\n  [1]: https://developer.android.com/training/appbar/setting-up","title":"Android: how to hide ActionBar on certain activities","body":"<p>From <a href=\"https://developer.android.com/training/appbar/setting-up\" rel=\"nofollow noreferrer\">here</a>:</p>\n<blockquote>\n<p>Beginning with Android 3.0 (API level 11), all activities that use the default theme have an ActionBar as an app bar. However, app bar features have gradually been added to the native ActionBar over various Android releases. As a result, <strong>the native ActionBar behaves differently depending on what version of the Android system a device may be using</strong>. By contrast, the most recent features are added to the support library's version of <strong>Toolbar</strong>, and they are available on any device that can use the support library.</p>\n</blockquote>\n<p>So one option is to disable ActionBar completely (in the app manifest.xml file) and then add Toolbar in every page that needs an ActionBar.</p>\n<p>(follow the above link for step-by-step explanation)</p>\n"},{"comments":[{"owner":{"account_id":9645325,"reputation":199,"user_id":7158300,"display_name":"serif"},"score":0,"creation_date":1650142528,"post_id":54332710,"comment_id":127048352,"body_markdown":"&quot;.NoActionBar&quot; save my time thanks.","body":"&quot;.NoActionBar&quot; save my time thanks."}],"tags":[],"owner":{"account_id":15176308,"reputation":59,"user_id":10950955,"display_name":"Kanaiyalal Badal"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1548264884,"creation_date":1548264884,"answer_id":54332710,"question_id":19545370,"body_markdown":"Apply the following in your Theme for the Activity in AndroidManifest.xml:\r\n\r\n    &lt;activity android:name=&quot;.DashboardActivity&quot;\r\n            android:theme=&quot;@style/AppFullScreenTheme&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\nThen Apply the following in your Style in style.xml\r\n\r\n    &lt;style name=&quot;AppFullScreenTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n    &lt;/style&gt;","title":"Android: how to hide ActionBar on certain activities","body":"<p>Apply the following in your Theme for the Activity in AndroidManifest.xml:</p>\n\n<pre><code>&lt;activity android:name=\".DashboardActivity\"\n        android:theme=\"@style/AppFullScreenTheme\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>Then Apply the following in your Style in style.xml</p>\n\n<pre><code>&lt;style name=\"AppFullScreenTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;item name=\"android:windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowActionBar\"&gt;false&lt;/item&gt;\n    &lt;item name=\"android:windowFullscreen\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowContentOverlay\"&gt;@null&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7675309,"reputation":137,"user_id":5816379,"display_name":"Tarik Billa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559072015,"creation_date":1559072015,"answer_id":56348964,"question_id":19545370,"body_markdown":"Replace AndroidManifest.xml\r\n\r\n    android:theme=&quot;@style/FullscreenTheme&quot;\r\nto \r\n\r\n    android:theme=&quot;@style/Theme.Design.NoActionBar&quot;","title":"Android: how to hide ActionBar on certain activities","body":"<p>Replace AndroidManifest.xml</p>\n\n<pre><code>android:theme=\"@style/FullscreenTheme\"\n</code></pre>\n\n<p>to </p>\n\n<pre><code>android:theme=\"@style/Theme.Design.NoActionBar\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17197010,"reputation":11,"user_id":12449525,"display_name":"Suraj Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574914028,"creation_date":1574914028,"answer_id":59081621,"question_id":19545370,"body_markdown":"Add New Style in your style.xml\r\n\r\n&lt;resources&gt;\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    \r\n    &lt;style name=&quot;LoginTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n&lt;/resources&gt;\r\n\r\n\r\n\r\nand then add following line in your manifest\r\n\r\n\r\n    &lt;activity android:name=&quot;.Login&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/LoginTheme&quot;\r\n            &gt;","title":"Android: how to hide ActionBar on certain activities","body":"<p>Add New Style in your style.xml</p>\n\n<p></p>\n\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"LoginTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p></p>\n\n<p>and then add following line in your manifest</p>\n\n<pre><code>&lt;activity android:name=\".Login\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/LoginTheme\"\n        &gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17226471,"reputation":1,"user_id":12471986,"display_name":"Aravindhan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575350103,"creation_date":1575349880,"answer_id":59150528,"question_id":19545370,"body_markdown":"Check for padding attribute if the issue still exists after changing theme. \r\n\r\nPadding Issue creating a white space on top of fragment window / app window\r\n\r\n![Padding Issue creating a white space on top of fragment window / app window][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4dfOi.png\r\n\r\nOnce you remove the padding - top value automatically the white space is removed.","title":"Android: how to hide ActionBar on certain activities","body":"<p>Check for padding attribute if the issue still exists after changing theme. </p>\n\n<p>Padding Issue creating a white space on top of fragment window / app window</p>\n\n<p><img src=\"https://i.stack.imgur.com/4dfOi.png\" alt=\"Padding Issue creating a white space on top of fragment window / app window\"></p>\n\n<p>Once you remove the padding - top value automatically the white space is removed.</p>\n"},{"tags":[],"owner":{"account_id":16484644,"reputation":149,"user_id":11910379,"display_name":"AJAY KACHHIYAPATEL"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1607270724,"creation_date":1593355121,"answer_id":62623997,"question_id":19545370,"body_markdown":"To hide the ActionBar add this code into java file.\r\n\r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.hide();","title":"Android: how to hide ActionBar on certain activities","body":"<p>To hide the ActionBar add this code into java file.</p>\n<pre><code>    ActionBar actionBar = getSupportActionBar();\n    actionBar.hide();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18179556,"reputation":17,"user_id":13227609,"display_name":"Monirul Islam Prince"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607550057,"creation_date":1607550057,"answer_id":65225320,"question_id":19545370,"body_markdown":"First cheek MainActivity for activity tag,Like -\r\n\r\n&gt; public class MainActivity extends **AppCompatActivity**\r\n\r\nThen goto menifest xml file and write-\r\n\r\n&gt; android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\r\n\r\nin activity tag","title":"Android: how to hide ActionBar on certain activities","body":"<p>First cheek MainActivity for activity tag,Like -</p>\n<blockquote>\n<p>public class MainActivity extends <strong>AppCompatActivity</strong></p>\n</blockquote>\n<p>Then goto menifest xml file and write-</p>\n<blockquote>\n<p>android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;</p>\n</blockquote>\n<p>in activity tag</p>\n"},{"comments":[{"owner":{"account_id":18253181,"reputation":450,"user_id":13287734,"display_name":"UNREAL"},"score":0,"creation_date":1660955711,"post_id":66266093,"comment_id":129663492,"body_markdown":"why last line , I use on first line , is any problem?","body":"why last line , I use on first line , is any problem?"}],"tags":[],"owner":{"account_id":6088315,"reputation":321,"user_id":4751508,"display_name":"an0nym0use"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613673372,"creation_date":1613673372,"answer_id":66266093,"question_id":19545370,"body_markdown":"For selectively hiding Actionbar in activities:\r\n\r\nAdd the following code to onCreate (preferably on the last line of the function)\r\n\r\nKotlin:\r\n\r\n`supportActionBar?.hide()`\r\n\r\nJava:\r\n\r\n`getSupportActionBar().hide(); `\r\n\r\n","title":"Android: how to hide ActionBar on certain activities","body":"<p>For selectively hiding Actionbar in activities:</p>\n<p>Add the following code to onCreate (preferably on the last line of the function)</p>\n<p>Kotlin:</p>\n<p><code>supportActionBar?.hide()</code></p>\n<p>Java:</p>\n<p><code>getSupportActionBar().hide(); </code></p>\n"},{"tags":[],"owner":{"account_id":15231136,"reputation":101,"user_id":10990241,"display_name":"nanaboison"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617257043,"creation_date":1617257043,"answer_id":66899173,"question_id":19545370,"body_markdown":"If you activity extends **AppCompatActivity** then you can add this line\r\n**super.getSupportActionBar().hide();** before **setContentView()**","title":"Android: how to hide ActionBar on certain activities","body":"<p>If you activity extends <strong>AppCompatActivity</strong> then you can add this line\n<strong>super.getSupportActionBar().hide();</strong> before <strong>setContentView()</strong></p>\n"},{"tags":[],"owner":{"account_id":20360698,"reputation":51,"user_id":14935110,"display_name":"Abdulkerim Yldrm"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619389359,"creation_date":1619389359,"answer_id":67258797,"question_id":19545370,"body_markdown":"    @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n            getSupportActionBar().hide();\r\n        }\r\n    \r\n        @Override\r\n        public void onStop() {\r\n            super.onStop();\r\n            getSupportActionBar().show();\r\n        }","title":"Android: how to hide ActionBar on certain activities","body":"<pre><code>@Override\n    public void onResume() {\n        super.onResume();\n        getSupportActionBar().hide();\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        getSupportActionBar().show();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27627442,"reputation":31,"user_id":21087148,"display_name":"ilaiyaraja MCA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695207293,"creation_date":1695207293,"answer_id":77141696,"question_id":19545370,"body_markdown":"**getsupportactionbar.hide();**\r\n\r\n100% it&#39;s will work any version android studio based on java language.","title":"Android: how to hide ActionBar on certain activities","body":"<p><strong>getsupportactionbar.hide();</strong></p>\n<p>100% it's will work any version android studio based on java language.</p>\n"}],"owner":{"account_id":773362,"reputation":17857,"user_id":812303,"accept_rate":71,"display_name":"Tomer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229039,"favorite_count":0,"down_vote_count":0,"up_vote_count":128,"accepted_answer_id":19545450,"answer_count":21,"score":128,"last_activity_date":1695207293,"creation_date":1382540467,"question_id":19545370,"body_markdown":"I&#39;ve developed a simple demo application with a splash screen a map and some regular screens.\r\n\r\nI have an action bar at the top that contains a logo. It all looks fine on my phone (Galaxy s1 I9000 V2.3) but when i test it on Galaxy s2 v4 the action bar appears also in the splash screen and in the map screen.\r\n\r\nThe spalsh and map activity are not even inheriting from ActionBarActivity so how is that possible and how can i make it go away?\r\n\r\nManifest:\r\n\r\n    &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.Light&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;.HomeActivity&quot;\r\n                android:icon=&quot;@drawable/android_logo&quot;\r\n                android:label=&quot;&quot;\r\n                android:logo=&quot;@drawable/android_logo&quot; &gt;\r\n    \r\n                &lt;!--\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n                --&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MapActivity&quot;\r\n                android:label=&quot;&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.PackageActivity&quot;\r\n                android:icon=&quot;@drawable/android_logo&quot;\r\n                android:label=&quot;&quot;\r\n                android:logo=&quot;@drawable/android_logo&quot; &gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.SplashActivity&quot;\r\n                android:label=&quot;&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n        &lt;/application&gt;\r\n\r\nMapActivity definition (it&#39;s a long one so i included just the definition):\r\n\r\n    public class MapActivity extends FragmentActivity implements LocationListener\r\n\r\nSplash Activity:\r\n\r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    import android.support.v7.app.ActionBar;\r\n    import android.support.v7.app.ActionBarActivity;\r\n    \r\n    public class SplashActivity extends Activity{\r\n    \r\n    \tprivate static final long SPLASH_DISPLAY_LENGTH = 2000;\r\n    \r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_splash);\r\n    \t\t\r\n            new Handler().postDelayed(new Runnable(){\r\n                @Override\r\n                public void run() {\r\n                    Intent mainIntent = new Intent(SplashActivity.this,HomeActivity.class);\r\n                    SplashActivity.this.startActivity(mainIntent);\r\n                    SplashActivity.this.finish();\r\n                }\r\n            }, SPLASH_DISPLAY_LENGTH);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"Android: how to hide ActionBar on certain activities","body":"<p>I've developed a simple demo application with a splash screen a map and some regular screens.</p>\n\n<p>I have an action bar at the top that contains a logo. It all looks fine on my phone (Galaxy s1 I9000 V2.3) but when i test it on Galaxy s2 v4 the action bar appears also in the splash screen and in the map screen.</p>\n\n<p>The spalsh and map activity are not even inheriting from ActionBarActivity so how is that possible and how can i make it go away?</p>\n\n<p>Manifest:</p>\n\n<pre><code>&lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@drawable/ic_launcher\"\n        android:theme=\"@style/Theme.AppCompat.Light\" &gt;\n        &lt;activity\n            android:name=\".HomeActivity\"\n            android:icon=\"@drawable/android_logo\"\n            android:label=\"\"\n            android:logo=\"@drawable/android_logo\" &gt;\n\n            &lt;!--\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n            --&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".MapActivity\"\n            android:label=\"\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".PackageActivity\"\n            android:icon=\"@drawable/android_logo\"\n            android:label=\"\"\n            android:logo=\"@drawable/android_logo\" &gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".SplashActivity\"\n            android:label=\"\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n</code></pre>\n\n<p>MapActivity definition (it's a long one so i included just the definition):</p>\n\n<pre><code>public class MapActivity extends FragmentActivity implements LocationListener\n</code></pre>\n\n<p>Splash Activity:</p>\n\n<pre><code>import android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.support.v7.app.ActionBar;\nimport android.support.v7.app.ActionBarActivity;\n\npublic class SplashActivity extends Activity{\n\n    private static final long SPLASH_DISPLAY_LENGTH = 2000;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_splash);\n\n        new Handler().postDelayed(new Runnable(){\n            @Override\n            public void run() {\n                Intent mainIntent = new Intent(SplashActivity.this,HomeActivity.class);\n                SplashActivity.this.startActivity(mainIntent);\n                SplashActivity.this.finish();\n            }\n        }, SPLASH_DISPLAY_LENGTH);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","char"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":3,"creation_date":1695168005,"post_id":77138565,"comment_id":135987171,"body_markdown":"If you have a string, and you need to discard the first and last character, just use [the `substring` method](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#substring-int-int-)?","body":"If you have a string, and you need to discard the first and last character, just use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#substring-int-int-\" rel=\"nofollow noreferrer\">the <code>substring</code> method</a>?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1695168116,"post_id":77138565,"comment_id":135987182,"body_markdown":"Or `StringBuilder#deleteCharAt`","body":"Or <code>StringBuilder#deleteCharAt</code>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1695168118,"post_id":77138565,"comment_id":135987183,"body_markdown":"`str = str.replaceAll(&quot;.(.)(.)(.).&quot;, &quot;$3$2$1&quot;)`","body":"<code>str = str.replaceAll(&quot;.(.)(.)(.).&quot;, &quot;$3$2$1&quot;)</code>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695169341,"post_id":77138565,"comment_id":135987294,"body_markdown":"_s = s.substring(1, 4)_.","body":"<i>s = s.substring(1, 4)</i>."}],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1695196064,"post_id":77140256,"comment_id":135990128,"body_markdown":"StringBuilder#subString returns a String, so no need to call toString","body":"StringBuilder#subString returns a String, so no need to call toString"}],"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695197914,"creation_date":1695195270,"answer_id":77140256,"question_id":77138565,"body_markdown":"You can use StringBuilder.substring method:\r\n    \r\n        String str = &quot;Hello&quot;;\r\n        str = new StringBuilder(str)\r\n                .reverse()\r\n                .substring(1, str.length() - 1);\r\n        System.out.println(str);\r\n\r\ncheck the str length before executing it to prevent from exceptions. The reason to use StringBuilder is because it makes string manipulation efficient - less copying and whats most important less memory allocations.","title":"How to remove the first and last character out of a 5 character String","body":"<p>You can use StringBuilder.substring method:</p>\n<pre><code>    String str = &quot;Hello&quot;;\n    str = new StringBuilder(str)\n            .reverse()\n            .substring(1, str.length() - 1);\n    System.out.println(str);\n</code></pre>\n<p>check the str length before executing it to prevent from exceptions. The reason to use StringBuilder is because it makes string manipulation efficient - less copying and whats most important less memory allocations.</p>\n"},{"tags":[],"owner":{"account_id":29490259,"reputation":1,"user_id":22599374,"display_name":"FLUFFY_BIRD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695207268,"creation_date":1695207095,"answer_id":77141676,"question_id":77138565,"body_markdown":"String is immutable so you cant change it, but you can remove first and last characters by creating new String with:\r\n\r\n    String name = &quot;Anna&quot;;\r\n    String newName = name.substring(1, name.length()-1));\r\n\r\nResult is going to be: &quot;nn&quot;","title":"How to remove the first and last character out of a 5 character String","body":"<p>String is immutable so you cant change it, but you can remove first and last characters by creating new String with:</p>\n<pre><code>String name = &quot;Anna&quot;;\nString newName = name.substring(1, name.length()-1));\n</code></pre>\n<p>Result is going to be: &quot;nn&quot;</p>\n"}],"owner":{"account_id":29486294,"reputation":1,"user_id":22596128,"display_name":"Felipe Ramirez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1695207268,"creation_date":1695167916,"question_id":77138565,"body_markdown":"I am creating a program in which you recieve a 5 character String from the user and not only do you turn it around, but you also remove both the first and last character of said String. I&#39;ve gotten it to turn around, but I can figure out how to remove the characters, can anyone help please?\r\n\r\nI tried multiple options, from using arrays, from other methods but nothing seems to delete them","title":"How to remove the first and last character out of a 5 character String","body":"<p>I am creating a program in which you recieve a 5 character String from the user and not only do you turn it around, but you also remove both the first and last character of said String. I've gotten it to turn around, but I can figure out how to remove the characters, can anyone help please?</p>\n<p>I tried multiple options, from using arrays, from other methods but nothing seems to delete them</p>\n"},{"tags":["java","eclipse","user-interface"],"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1695207382,"post_id":77141654,"comment_id":135992471,"body_markdown":"Use Alt+Shift+X then J (for running the Java build)","body":"Use Alt+Shift+X then J (for running the Java build)"},{"owner":{"account_id":29490412,"reputation":1,"user_id":22599515,"display_name":"CaptainBread42"},"score":0,"creation_date":1695207710,"post_id":77141654,"comment_id":135992545,"body_markdown":"It still comes up with the error, it might have something to do with WindowBuilder as I&#39;m using that to make the Gui","body":"It still comes up with the error, it might have something to do with WindowBuilder as I&#39;m using that to make the Gui"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1695208788,"post_id":77141654,"comment_id":135992776,"body_markdown":"It works fine for me. Not sure why you get the error. Let me also try using WindowBuilder and see if that causes an error","body":"It works fine for me. Not sure why you get the error. Let me also try using WindowBuilder and see if that causes an error"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1695219835,"post_id":77141654,"comment_id":135995528,"body_markdown":"Please prove with a screenshot that the code is in a source folder of a Java project without errors and opened in the active editor.","body":"Please prove with a screenshot that the code is in a source folder of a Java project without errors and opened in the active editor."}],"owner":{"account_id":29490412,"reputation":1,"user_id":22599515,"display_name":"CaptainBread42"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695206881,"creation_date":1695206881,"question_id":77141654,"body_markdown":"I have a main class in the code but it comes up with the error &#39;Editor does not contain main class&#39; , I have written the code again in a separate file but it still does not seem to work.\r\n(I am making a game where 2 players roll 2 die and after 5 rounds the player with the highest score wins)\r\nHere is my code below:             \r\n```\r\npackage game;\r\n\r\nimport java.awt.EventQueue;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport java.awt.Font;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.JButton;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ActionEvent;\r\n\r\npublic class GUI {\r\n\r\n\tprivate JFrame frame;\r\n\tprivate JTextField textField;\r\n\r\n\t// Launch the application.\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tGUI window = new GUI();\r\n\t\t\t\t\twindow.frame.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// Create the application.\r\n\r\n\tpublic GUI() {\r\n\t\tinitialize();\r\n\t}\r\n\r\n\t//Initialise the contents of the frame.\r\n\tprivate void initialize() {\r\n\t\tframe = new JFrame();\r\n\t\tframe.setBounds(100, 100, 589, 402);\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.getContentPane().setLayout(null);\r\n\t\t\r\n\t\tJLabel enterName = new JLabel(&quot;Player1 enter your name&quot;);\r\n\t\tenterName.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 32));\r\n\t\tenterName.setBounds(76, 11, 387, 93);\r\n\t\tframe.getContentPane().add(enterName);\r\n\t\t\r\n\t\ttextField = new JTextField();\r\n\t\ttextField.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\r\n\t\ttextField.setBounds(86, 99, 381, 35);\r\n\t\tframe.getContentPane().add(textField);\r\n\t\ttextField.setColumns(10);\r\n\t\t\r\n\t\tJButton confirmButton = new JButton(&quot;Confirm name&quot;);\r\n\t\tconfirmButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tString p1 = &quot; &quot;;\r\n\t\t\t\tString p2 = &quot; &quot;;\r\n\t\t\t\tint count = 0;\r\n\t\t\t\tif (count == 0) {\r\n\t\t\t\t\tp1 = textField.getText();\r\n\t\t\t\t\ttextField.setText(&quot;&quot;);\r\n\t\t\t\t\tSystem.out.println(p1);\r\n\t\t\t\t}\r\n\t\t\t\tif (count &gt; 1) {\r\n\t\t\t\t\tp2 = textField.getText();\r\n\t\t\t\t\tSystem.out.println(p2);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(p1 + p2);\r\n\t\t\t\tenterName.setText(&quot;Player2 enter your name&quot;);\r\n\t\t\t\tcount = count+1;\r\n\t\t\t}\r\n\t\t});\r\n\t\tconfirmButton.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\r\n\t\tconfirmButton.setBounds(184, 145, 185, 35);\r\n\t\tframe.getContentPane().add(confirmButton);\r\n\t\t\r\n\t\tJLabel winnerText = new JLabel(&quot;&quot;);\r\n\t\twinnerText.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 38));\r\n\t\twinnerText.setBounds(76, 191, 468, 38);\r\n\t\tframe.getContentPane().add(winnerText);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI ran the code to see if the GUI would appear and function correctly but every time I just got the same error, I have restarted Eclipse multiple times and it did not fix the issue, I have searched for a fix online but have yet to find one that works.","title":"&#39;Editor does not contain main class&#39; error appears when I run my GUI code to test if it functions correctly","body":"<p>I have a main class in the code but it comes up with the error 'Editor does not contain main class' , I have written the code again in a separate file but it still does not seem to work.\n(I am making a game where 2 players roll 2 die and after 5 rounds the player with the highest score wins)\nHere is my code below:</p>\n<pre><code>package game;\n\nimport java.awt.EventQueue;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport java.awt.Font;\nimport javax.swing.JTextField;\nimport javax.swing.JButton;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\n\npublic class GUI {\n\n    private JFrame frame;\n    private JTextField textField;\n\n    // Launch the application.\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    GUI window = new GUI();\n                    window.frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    // Create the application.\n\n    public GUI() {\n        initialize();\n    }\n\n    //Initialise the contents of the frame.\n    private void initialize() {\n        frame = new JFrame();\n        frame.setBounds(100, 100, 589, 402);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().setLayout(null);\n        \n        JLabel enterName = new JLabel(&quot;Player1 enter your name&quot;);\n        enterName.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 32));\n        enterName.setBounds(76, 11, 387, 93);\n        frame.getContentPane().add(enterName);\n        \n        textField = new JTextField();\n        textField.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\n        textField.setBounds(86, 99, 381, 35);\n        frame.getContentPane().add(textField);\n        textField.setColumns(10);\n        \n        JButton confirmButton = new JButton(&quot;Confirm name&quot;);\n        confirmButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                String p1 = &quot; &quot;;\n                String p2 = &quot; &quot;;\n                int count = 0;\n                if (count == 0) {\n                    p1 = textField.getText();\n                    textField.setText(&quot;&quot;);\n                    System.out.println(p1);\n                }\n                if (count &gt; 1) {\n                    p2 = textField.getText();\n                    System.out.println(p2);\n                }\n                System.out.println(p1 + p2);\n                enterName.setText(&quot;Player2 enter your name&quot;);\n                count = count+1;\n            }\n        });\n        confirmButton.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 20));\n        confirmButton.setBounds(184, 145, 185, 35);\n        frame.getContentPane().add(confirmButton);\n        \n        JLabel winnerText = new JLabel(&quot;&quot;);\n        winnerText.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 38));\n        winnerText.setBounds(76, 191, 468, 38);\n        frame.getContentPane().add(winnerText);\n    }\n}\n\n</code></pre>\n<p>I ran the code to see if the GUI would appear and function correctly but every time I just got the same error, I have restarted Eclipse multiple times and it did not fix the issue, I have searched for a fix online but have yet to find one that works.</p>\n"},{"tags":["java","linked-list"],"answers":[{"tags":[],"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428388974,"creation_date":1428388974,"answer_id":29485401,"question_id":29485351,"body_markdown":"Because `removeFirst` is a method defined by the exact implementation of the interface `List` in the class `LinkedList` and is not part of the methods beeing defined in the interface. If you are saving the Object `LinkedList` in a more general variable of the type `List`, then you are allowed to use all the methods that the interface `List` does know, which `removeFirst` is not part of.","title":"How to remove first element from the Linked List?","body":"<p>Because <code>removeFirst</code> is a method defined by the exact implementation of the interface <code>List</code> in the class <code>LinkedList</code> and is not part of the methods beeing defined in the interface. If you are saving the Object <code>LinkedList</code> in a more general variable of the type <code>List</code>, then you are allowed to use all the methods that the interface <code>List</code> does know, which <code>removeFirst</code> is not part of.</p>\n"},{"tags":[],"owner":{"account_id":6070815,"reputation":146,"user_id":4739715,"display_name":"Frank Andres"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1428389126,"creation_date":1428389126,"answer_id":29485447,"question_id":29485351,"body_markdown":"`removeFirst()` is defined for `LinkedList` which implements `List` but it is not defined in the `interface` `List`. In the first approach it works because servers is defined as a `LinkedList`. In the second approach it can not work because servers could be any `List` for example `ArrayList` for which `removeFirst()` is not defined.","title":"How to remove first element from the Linked List?","body":"<p><code>removeFirst()</code> is defined for <code>LinkedList</code> which implements <code>List</code> but it is not defined in the <code>interface</code> <code>List</code>. In the first approach it works because servers is defined as a <code>LinkedList</code>. In the second approach it can not work because servers could be any <code>List</code> for example <code>ArrayList</code> for which <code>removeFirst()</code> is not defined.</p>\n"},{"tags":[],"owner":{"account_id":2540468,"reputation":443,"user_id":2206374,"accept_rate":20,"display_name":"Musaddique"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428389970,"creation_date":1428389970,"answer_id":29485669,"question_id":29485351,"body_markdown":"LinkedList implement List interface. In List interface removeFirst(0 method is not define. removeFirst() is define and implemented in LinkedList class only. so when you create Object like\r\n\r\nList&lt;&gt; list=new LinkedList&lt;&gt;();\r\n\r\nthen list will access only those method that are declared in List Interface.\r\nso you are unable to access removeFirst() by using list.\r\n\r\nif you required all methods of LinkedList then used below format:\r\n\r\n**LinkedList&lt;&gt; lList =  new LinkedList&lt;&gt;();**\r\n\r\n    import java.util.*;\r\n    \r\n    public class MyClass\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            // Create a linked list object:\r\n            LinkedList lList =  new LinkedList();\r\n    \r\n            // Add some elements:\r\n            lList.add(&quot;Isabella&quot;);\r\n            lList.add(&quot;Angelina&quot;);\r\n            lList.add(&quot;Pille&quot;);\r\n            lList.add(&quot;Anabella&quot;);\r\n    \r\n            // Display the elements:\r\n            System.out.println(&quot;The old list:&quot;);\r\n            for (int i=0; i&lt;lList.size(); i++)\r\n                System.out.println(i + &quot; = &quot; + lList.get(i));\r\n    \r\n            // Remove the first element:\r\n               System.out.println(\r\n                      &quot;\\nThe following element has been removed: &quot;\r\n                      + lList.removeFirst());\r\n    \r\n            // Display the new elements:\r\n            System.out.println(&quot;\\nThe new list:&quot;);\r\n            for (int i=0; i&lt;lList.size(); i++)\r\n                System.out.println(i + &quot; = &quot; + lList.get(i));\r\n        }\r\n    }\r\n\r\n","title":"How to remove first element from the Linked List?","body":"<p>LinkedList implement List interface. In List interface removeFirst(0 method is not define. removeFirst() is define and implemented in LinkedList class only. so when you create Object like</p>\n\n<p>List&lt;> list=new LinkedList&lt;>();</p>\n\n<p>then list will access only those method that are declared in List Interface.\nso you are unable to access removeFirst() by using list.</p>\n\n<p>if you required all methods of LinkedList then used below format:</p>\n\n<p><strong>LinkedList&lt;> lList =  new LinkedList&lt;>();</strong></p>\n\n<pre><code>import java.util.*;\n\npublic class MyClass\n{\n    public static void main(String[] args)\n    {\n        // Create a linked list object:\n        LinkedList lList =  new LinkedList();\n\n        // Add some elements:\n        lList.add(\"Isabella\");\n        lList.add(\"Angelina\");\n        lList.add(\"Pille\");\n        lList.add(\"Anabella\");\n\n        // Display the elements:\n        System.out.println(\"The old list:\");\n        for (int i=0; i&lt;lList.size(); i++)\n            System.out.println(i + \" = \" + lList.get(i));\n\n        // Remove the first element:\n           System.out.println(\n                  \"\\nThe following element has been removed: \"\n                  + lList.removeFirst());\n\n        // Display the new elements:\n        System.out.println(\"\\nThe new list:\");\n        for (int i=0; i&lt;lList.size(); i++)\n            System.out.println(i + \" = \" + lList.get(i));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1922396,"reputation":1,"user_id":1733549,"display_name":"Shivsagar Mitkari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428400414,"creation_date":1428391039,"answer_id":29485958,"question_id":29485351,"body_markdown":"in the second approach if u have to use removeFirst() method of LinkedList for List, u have to cast list as follows: \r\n\r\n    List&lt;String&gt; servers = new LinkedList&lt;String&gt;();\r\n    ((LinkedList&lt;String&gt;) servers).removeFirst();\r\n\r\nelse to achieve same can use remove() method\r\n\r\n    servers.remove(0);","title":"How to remove first element from the Linked List?","body":"<p>in the second approach if u have to use removeFirst() method of LinkedList for List, u have to cast list as follows: </p>\n\n<pre><code>List&lt;String&gt; servers = new LinkedList&lt;String&gt;();\n((LinkedList&lt;String&gt;) servers).removeFirst();\n</code></pre>\n\n<p>else to achieve same can use remove() method</p>\n\n<pre><code>servers.remove(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9376049,"reputation":3355,"user_id":7643517,"display_name":"Nolequen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695205726,"creation_date":1695205726,"answer_id":77141521,"question_id":29485351,"body_markdown":"Since Java 21 there is a [SequencedCollection][1] interface, a superinteface for `List`. Among other it provides `removeFirst()` method:\r\n\r\n    List.of(1, 2, 3, 4, 5).removeFirst()\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/431","title":"How to remove first element from the Linked List?","body":"<p>Since Java 21 there is a <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">SequencedCollection</a> interface, a superinteface for <code>List</code>. Among other it provides <code>removeFirst()</code> method:</p>\n<pre><code>List.of(1, 2, 3, 4, 5).removeFirst()\n</code></pre>\n"}],"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5691,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29485447,"answer_count":5,"score":1,"last_activity_date":1695205726,"creation_date":1428388817,"question_id":29485351,"body_markdown":"I am trying to remove first element from the LinkedList. Below are the two options. I can see only one works but with the other I see compilation error in my eclipse -\r\n\r\n**First Approach:**\r\nThis works fine\r\n\r\n    LinkedList&lt;String&gt; servers = new LinkedList&lt;String&gt;();\r\n    ....\r\n    String firstServerName = servers.removeFirst();\r\n\r\n**Second Approach**\r\nIn this, I get compilation error in my eclipse as - \r\n\r\n&gt; The method removeFirst() is undefined for the type List&lt;String&gt;\r\n\r\n    List&lt;String&gt; servers = new LinkedList&lt;String&gt;();\r\n    ....\r\n    String firstServerName = servers.removeFirst();\r\n\r\nWhat is the difference between the above two? And why first one works but not the second one? \r\n\r\nAlso what is the most efficient way to remove first element from the linked list in Java? I need to do this operation more frequently on my LinkedList.","title":"How to remove first element from the Linked List?","body":"<p>I am trying to remove first element from the LinkedList. Below are the two options. I can see only one works but with the other I see compilation error in my eclipse -</p>\n\n<p><strong>First Approach:</strong>\nThis works fine</p>\n\n<pre><code>LinkedList&lt;String&gt; servers = new LinkedList&lt;String&gt;();\n....\nString firstServerName = servers.removeFirst();\n</code></pre>\n\n<p><strong>Second Approach</strong>\nIn this, I get compilation error in my eclipse as - </p>\n\n<blockquote>\n  <p>The method removeFirst() is undefined for the type List</p>\n</blockquote>\n\n<pre><code>List&lt;String&gt; servers = new LinkedList&lt;String&gt;();\n....\nString firstServerName = servers.removeFirst();\n</code></pre>\n\n<p>What is the difference between the above two? And why first one works but not the second one? </p>\n\n<p>Also what is the most efficient way to remove first element from the linked list in Java? I need to do this operation more frequently on my LinkedList.</p>\n"},{"tags":["java","spring","web-services","soap"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1411981189,"post_id":26095881,"comment_id":40893763,"body_markdown":"Can you add the implementation of your `UserDao` class? Is that annotated as `Reporitory`?","body":"Can you add the implementation of your <code>UserDao</code> class? Is that annotated as <code>Reporitory</code>?"},{"owner":{"account_id":3145069,"reputation":1190,"user_id":2659694,"accept_rate":42,"display_name":"user2659694"},"score":0,"creation_date":1411981803,"post_id":26095881,"comment_id":40894061,"body_markdown":"Sorry, I missed to attach implementation for Dao . I updated as above.","body":"Sorry, I missed to attach implementation for Dao . I updated as above."},{"owner":{"account_id":103314,"reputation":4147,"user_id":276783,"accept_rate":71,"display_name":"Nilesh"},"score":1,"creation_date":1411982061,"post_id":26095881,"comment_id":40894213,"body_markdown":"Please add Repository annotation as requested by @Jens. Also make an entry in the mapping file.","body":"Please add Repository annotation as requested by @Jens. Also make an entry in the mapping file."},{"owner":{"account_id":3145069,"reputation":1190,"user_id":2659694,"accept_rate":42,"display_name":"user2659694"},"score":0,"creation_date":1411982258,"post_id":26095881,"comment_id":40894322,"body_markdown":"+nILESH:I added implementation method. Please check again.","body":"+nILESH:I added implementation method. Please check again."},{"owner":{"account_id":3441337,"reputation":16524,"user_id":2883245,"accept_rate":88,"display_name":"erip"},"score":0,"creation_date":1443020123,"post_id":26095881,"comment_id":53326649,"body_markdown":"@user2659694 Did you figure this out? I&#39;m having a similar problem.","body":"@user2659694 Did you figure this out? I&#39;m having a similar problem."},{"owner":{"account_id":6375963,"reputation":351,"user_id":4946904,"display_name":"bzzhuh"},"score":1,"creation_date":1465969914,"post_id":26095881,"comment_id":73034504,"body_markdown":"Sorry piggybacking off this google result to say: if you&#39;re having trouble figuring out where the problem is after you&#39;ve refactored some stuff around, check to make sure that you haven&#39;t maybe moved a method that called a service... into that same service. Then if you&#39;re tired enough maybe you made the mistake of trying to autowire that service into itself.","body":"Sorry piggybacking off this google result to say: if you&#39;re having trouble figuring out where the problem is after you&#39;ve refactored some stuff around, check to make sure that you haven&#39;t maybe moved a method that called a service... into that same service. Then if you&#39;re tired enough maybe you made the mistake of trying to autowire that service into itself."}],"answers":[{"tags":[],"owner":{"account_id":103314,"reputation":4147,"user_id":276783,"accept_rate":71,"display_name":"Nilesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1524532096,"creation_date":1411981083,"answer_id":26096034,"question_id":26095881,"body_markdown":"You seems to be missing implementation for interface UserDao. If you look at the exception closely it says \r\n\r\n\r\n&gt; No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for\r\n&gt; dependency:\r\n\r\n\r\nThe way `@Autowired` works is that it would automatically look for implementation of a dependency you inject via an interface. In this case since there is no valid implementation of interface UserDao you get the error.Ensure you have a valid implementation for this class and your error should go.\r\n\r\nHope that helps.\r\n\r\n","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>You seems to be missing implementation for interface UserDao. If you look at the exception closely it says </p>\n\n<blockquote>\n  <p>No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for\n  dependency:</p>\n</blockquote>\n\n<p>The way <code>@Autowired</code> works is that it would automatically look for implementation of a dependency you inject via an interface. In this case since there is no valid implementation of interface UserDao you get the error.Ensure you have a valid implementation for this class and your error should go.</p>\n\n<p>Hope that helps.</p>\n"},{"comments":[{"owner":{"account_id":3145069,"reputation":1190,"user_id":2659694,"accept_rate":42,"display_name":"user2659694"},"score":0,"creation_date":1411983008,"post_id":26096450,"comment_id":40894703,"body_markdown":"I tried as your suggestion but it&#39;s not good.The trace log as below Error creating bean with name &#39;userDaoImpl&#39;: Injection of autowired dependencies failed; nested exception isorg.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.orm.hibernate4.LocalSessionFactoryBean edu.java.spring.ws.dao.impl.UserDaoImpl.sessionFactory; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [edu.java.spring.ws.dao.UserDaoImpl] for bean with name &#39;userDao&#39;","body":"I tried as your suggestion but it&#39;s not good.The trace log as below Error creating bean with name &#39;userDaoImpl&#39;: Injection of autowired dependencies failed; nested exception isorg.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.orm.hibernate4.LocalSessionFactoryBean edu.java.spring.ws.dao.impl.UserDaoImpl.sessionFactory; nested exception is org.springframework.beans.factory.CannotLoadBeanClassExcepti&zwnj;&#8203;on: Cannot find class [edu.java.spring.ws.dao.UserDaoImpl] for bean with name &#39;userDao&#39;"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1411983581,"post_id":26096450,"comment_id":40894977,"body_markdown":"@user2659694 look [here](http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/orm.html) maybe this helps.","body":"@user2659694 look <a href=\"http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/orm.html\" rel=\"nofollow noreferrer\">here</a> maybe this helps."}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":2,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1420403200,"creation_date":1411982355,"answer_id":26096450,"question_id":26095881,"body_markdown":"Add the annotation `@Repository` to the implementation of `UserDaoImpl`\r\n\r\n\r\n    @Repository\r\n    public class UserDaoImpl implements UserDao {\r\n        private static Log log = LogFactory.getLog(UserDaoImpl.class);\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;sessionFactory&quot;)\r\n        private LocalSessionFactoryBean sessionFactory;\r\n        \r\n        //...\r\n\r\n    }","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>Add the annotation <code>@Repository</code> to the implementation of <code>UserDaoImpl</code></p>\n\n<pre><code>@Repository\npublic class UserDaoImpl implements UserDao {\n    private static Log log = LogFactory.getLog(UserDaoImpl.class);\n\n    @Autowired\n    @Qualifier(\"sessionFactory\")\n    private LocalSessionFactoryBean sessionFactory;\n\n    //...\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3145069,"reputation":1190,"user_id":2659694,"accept_rate":42,"display_name":"user2659694"},"score":0,"creation_date":1411983180,"post_id":26096574,"comment_id":40894782,"body_markdown":"I really created a bean in xml file. Please check again to help me.Thanks","body":"I really created a bean in xml file. Please check again to help me.Thanks"},{"owner":{"account_id":2610591,"reputation":3597,"user_id":2260761,"accept_rate":69,"display_name":"diegomtassis"},"score":1,"creation_date":1411983791,"post_id":26096574,"comment_id":40895097,"body_markdown":"If you add the definition of the bean explicitly in the xml file then it has to be placed before the component scan that creates the dependent bean. I will improve the answer.","body":"If you add the definition of the bean explicitly in the xml file then it has to be placed before the component scan that creates the dependent bean. I will improve the answer."}],"tags":[],"owner":{"account_id":2610591,"reputation":3597,"user_id":2260761,"accept_rate":69,"display_name":"diegomtassis"},"comment_count":2,"down_vote_count":2,"up_vote_count":73,"is_accepted":false,"score":71,"last_activity_date":1411984114,"creation_date":1411982730,"answer_id":26096574,"question_id":26095881,"body_markdown":"Look at the exception:\r\n\r\n    No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency\r\n\r\nThis means that there&#39;s no bean available to fulfill that dependency. Yes, you have an implementation of the interface, but you haven&#39;t created a bean for that implementation. You have two options:\r\n\r\n - Annotate `UserDaoImpl` with `@Component` or `@Repository`, and let the component scan do the work for you, exactly as you have done with `UserService`.\r\n - Add the bean manually to your xml file, the same you have done with `UserBoImpl`.\r\n\r\nRemember that if you create the bean explicitly you need to put the definition before the component scan. In this case the order is important.","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>Look at the exception:</p>\n\n<pre><code>No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency\n</code></pre>\n\n<p>This means that there's no bean available to fulfill that dependency. Yes, you have an implementation of the interface, but you haven't created a bean for that implementation. You have two options:</p>\n\n<ul>\n<li>Annotate <code>UserDaoImpl</code> with <code>@Component</code> or <code>@Repository</code>, and let the component scan do the work for you, exactly as you have done with <code>UserService</code>.</li>\n<li>Add the bean manually to your xml file, the same you have done with <code>UserBoImpl</code>.</li>\n</ul>\n\n<p>Remember that if you create the bean explicitly you need to put the definition before the component scan. In this case the order is important.</p>\n"},{"comments":[{"owner":{"account_id":103314,"reputation":4147,"user_id":276783,"accept_rate":71,"display_name":"Nilesh"},"score":7,"creation_date":1411984443,"post_id":26097053,"comment_id":40895433,"body_markdown":"I disaggree with that answer! Please revisit and see what all things you added.","body":"I disaggree with that answer! Please revisit and see what all things you added."},{"owner":{"account_id":3145069,"reputation":1190,"user_id":2659694,"accept_rate":42,"display_name":"user2659694"},"score":0,"creation_date":1411984727,"post_id":26097053,"comment_id":40895616,"body_markdown":"Please wait for me check again.","body":"Please wait for me check again."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1454049631,"post_id":26097053,"comment_id":57878860,"body_markdown":"Your BO isn&#39;t a Controller!","body":"Your BO isn&#39;t a Controller!"},{"owner":{"account_id":1249256,"reputation":10253,"user_id":1242842,"accept_rate":70,"display_name":"Alexander Suraphel"},"score":4,"creation_date":1458629958,"post_id":26097053,"comment_id":59933524,"body_markdown":"Don&#39;t mark an answer as &quot;accepted&quot; just because it&#39;s yours. Find the best answer and accept it.","body":"Don&#39;t mark an answer as &quot;accepted&quot; just because it&#39;s yours. Find the best answer and accept it."}],"tags":[],"owner":{"account_id":3145069,"reputation":1190,"user_id":2659694,"accept_rate":42,"display_name":"user2659694"},"comment_count":4,"down_vote_count":6,"up_vote_count":3,"is_accepted":false,"score":-3,"last_activity_date":1490098290,"creation_date":1411984265,"answer_id":26097053,"question_id":26095881,"body_markdown":"I missed to add \r\n\r\n    @Controller(&quot;userBo&quot;) into UserBoImpl class.\r\nThe solution for this is adding this controller into Impl class.","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>I missed to add </p>\n\n<pre><code>@Controller(\"userBo\") into UserBoImpl class.\n</code></pre>\n\n<p>The solution for this is adding this controller into Impl class.</p>\n"},{"tags":[],"owner":{"account_id":4964617,"reputation":185,"user_id":3994426,"display_name":"Kumar Gaurav Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497010212,"creation_date":1497010212,"answer_id":44457496,"question_id":26095881,"body_markdown":"Add repository annotation before your DAO Implementation Class.\r\nexample:\r\n\r\n    @Repository\r\n    public class EmpDAOImpl extends BaseNamedParameterJdbcDaoSupportUAM \r\n    implements EmpDAO{ \r\n    }","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>Add repository annotation before your DAO Implementation Class.\nexample:</p>\n\n<pre><code>@Repository\npublic class EmpDAOImpl extends BaseNamedParameterJdbcDaoSupportUAM \nimplements EmpDAO{ \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7998057,"reputation":362,"user_id":6033741,"display_name":"Georgi Georgiev"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1500277698,"creation_date":1500277698,"answer_id":45138655,"question_id":26095881,"body_markdown":"I added `@Service` before impl class and the error is gone.\r\n\r\n    @Service\r\n    public class FCSPAnalysisImpl implements FCSPAnalysis\r\n    {}","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>I added <code>@Service</code> before impl class and the error is gone.</p>\n\n<pre><code>@Service\npublic class FCSPAnalysisImpl implements FCSPAnalysis\n{}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1608053,"reputation":141,"user_id":1487697,"display_name":"Jitendra Nandre"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1506690793,"creation_date":1506690793,"answer_id":46489590,"question_id":26095881,"body_markdown":"**We face this issue but had different reason, here is the reason:**\r\n\r\nIn our project found multiple bean entry with same bean name. 1 in applicationcontext.xml &amp; 1 in dispatcherServlet.xml\r\n\r\n**Example:** \r\n\r\n    &lt;bean name=&quot;dataService&quot; class=&quot;com.app.DataServiceImpl&quot;&gt;\r\n    &lt;bean name=&quot;dataService&quot; class=&quot;com.app.DataServiceController&quot;&gt;\r\n\r\n&amp; \r\nwe are trying to autowired by dataService name.\r\n\r\n**Solution:**\r\nwe changed the bean name &amp; its solved.","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p><strong>We face this issue but had different reason, here is the reason:</strong></p>\n\n<p>In our project found multiple bean entry with same bean name. 1 in applicationcontext.xml &amp; 1 in dispatcherServlet.xml</p>\n\n<p><strong>Example:</strong> </p>\n\n<pre><code>&lt;bean name=\"dataService\" class=\"com.app.DataServiceImpl\"&gt;\n&lt;bean name=\"dataService\" class=\"com.app.DataServiceController\"&gt;\n</code></pre>\n\n<p>&amp; \nwe are trying to autowired by dataService name.</p>\n\n<p><strong>Solution:</strong>\nwe changed the bean name &amp; its solved.</p>\n"},{"comments":[{"owner":{"account_id":1914880,"reputation":11452,"user_id":1839777,"display_name":"vonbrand"},"score":0,"creation_date":1525272680,"post_id":50133748,"comment_id":87293379,"body_markdown":"Please explain a bit.","body":"Please explain a bit."},{"owner":{"account_id":1074771,"reputation":1324,"user_id":1073157,"accept_rate":50,"display_name":"Dan Rayson"},"score":1,"creation_date":1537879814,"post_id":50133748,"comment_id":91937739,"body_markdown":"Adding @Service onto my class solved it, my class is now automatically picked up by the spring injection framework.  But, I don&#39;t understand *why* :(   p.s.  Adding `atComponent` works too!  It&#39;s a lower-level class so I&#39;d use that instead.","body":"Adding @Service onto my class solved it, my class is now automatically picked up by the spring injection framework.  But, I don&#39;t understand <i>why</i> :(   p.s.  Adding <code>atComponent</code> works too!  It&#39;s a lower-level class so I&#39;d use that instead."}],"tags":[],"owner":{"account_id":10932492,"reputation":105,"user_id":8035169,"display_name":"OAM"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550839681,"creation_date":1525260939,"answer_id":50133748,"question_id":26095881,"body_markdown":"In my case I had to move the `@Service` annotation from the interface to the implementation class.","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>In my case I had to move the <code>@Service</code> annotation from the interface to the implementation class.</p>\n"},{"comments":[{"owner":{"account_id":12614412,"reputation":179,"user_id":9320220,"display_name":"korayguney"},"score":0,"creation_date":1665688710,"post_id":53611584,"comment_id":130763832,"body_markdown":"That was the answer I was looking for!","body":"That was the answer I was looking for!"}],"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1543921659,"creation_date":1543921659,"answer_id":53611584,"question_id":26095881,"body_markdown":"In my case, the application context is not loaded because I add `@DataJpaTest` annotation. When I change it to `@SpringBootTest` it works.\r\n\r\n`@DataJpaTest` only loads the JPA part of a Spring Boot application. In the JavaDoc: \r\n\r\n&gt; Annotation that can be used in combination with `@RunWith(SpringRunner.class)` for a typical JPA test. Can be used when a test focuses **only** on JPA components.\r\nUsing this annotation will disable full auto-configuration and instead apply only configuration relevant to JPA tests.\r\n\r\n&gt; By default, tests annotated with `@DataJpaTest` will use an embedded in-memory database (replacing any explicit or usually auto-configured DataSource). The `@AutoConfigureTestDatabase` annotation can be used to override these settings.\r\nIf you are looking to load your full application configuration, but use an embedded database, you should consider `@SpringBootTest` combined with `@AutoConfigureTestDatabase` rather than this annotation.","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>In my case, the application context is not loaded because I add <code>@DataJpaTest</code> annotation. When I change it to <code>@SpringBootTest</code> it works.</p>\n\n<p><code>@DataJpaTest</code> only loads the JPA part of a Spring Boot application. In the JavaDoc: </p>\n\n<blockquote>\n  <p>Annotation that can be used in combination with <code>@RunWith(SpringRunner.class)</code> for a typical JPA test. Can be used when a test focuses <strong>only</strong> on JPA components.\n  Using this annotation will disable full auto-configuration and instead apply only configuration relevant to JPA tests.</p>\n  \n  <p>By default, tests annotated with <code>@DataJpaTest</code> will use an embedded in-memory database (replacing any explicit or usually auto-configured DataSource). The <code>@AutoConfigureTestDatabase</code> annotation can be used to override these settings.\n  If you are looking to load your full application configuration, but use an embedded database, you should consider <code>@SpringBootTest</code> combined with <code>@AutoConfigureTestDatabase</code> rather than this annotation.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14699788,"reputation":1019,"user_id":10616141,"display_name":"kris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569317572,"creation_date":1569317572,"answer_id":58077253,"question_id":26095881,"body_markdown":"Could me multiple reason for this. But you want might forget to add as @Bean for component which you have did @Autowired.\r\n\r\nIn my case, i have forgot to decorate with @Bean which causing this issue.","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>Could me multiple reason for this. But you want might forget to add as @Bean for component which you have did @Autowired.</p>\n\n<p>In my case, i have forgot to decorate with @Bean which causing this issue.</p>\n"},{"tags":[],"owner":{"account_id":4900434,"reputation":3375,"user_id":3948917,"display_name":"Marcin T.P. uczyski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583765952,"creation_date":1583765952,"answer_id":60603196,"question_id":26095881,"body_markdown":"In my case, I had the following structure of a project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I was running the test, I kept receiving problems with auro-wiring both *facade* and *kafka* attributes - error came back with information about missing instances, even though the test and the API classes reside in the very same package. Apparently those were not scanned.\r\n\r\nWhat actually helped was **adding *@Import* annotation** bringing the missing classes to Spring classpath and making them being instantiated.\r\n\r\n  [1]: https://i.stack.imgur.com/0Pmyd.png","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>In my case, I had the following structure of a project:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0Pmyd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Pmyd.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I was running the test, I kept receiving problems with auro-wiring both <em>facade</em> and <em>kafka</em> attributes - error came back with information about missing instances, even though the test and the API classes reside in the very same package. Apparently those were not scanned.</p>\n\n<p>What actually helped was <strong>adding <em>@Import</em> annotation</strong> bringing the missing classes to Spring classpath and making them being instantiated.</p>\n"},{"tags":[],"owner":{"account_id":4602432,"reputation":193,"user_id":3732766,"accept_rate":43,"display_name":"Jack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591042573,"creation_date":1591042573,"answer_id":62140330,"question_id":26095881,"body_markdown":"When you use @DataJpaTest you need to load classes using @Import explicitly. It wouldn&#39;t load you for auto.","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>When you use @DataJpaTest you need to load classes using @Import explicitly. It wouldn't load you for auto.</p>\n"},{"comments":[{"owner":{"account_id":7291436,"reputation":875,"user_id":5557698,"accept_rate":45,"display_name":"IllegalSkillsException"},"score":2,"creation_date":1638817792,"post_id":65137777,"comment_id":124183930,"body_markdown":"Stumbled upon you answer after spending good 7 hours ! Thanks.","body":"Stumbled upon you answer after spending good 7 hours ! Thanks."}],"tags":[],"owner":{"account_id":4323208,"reputation":2481,"user_id":3530707,"display_name":"julianm"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1607054663,"creation_date":1607054663,"answer_id":65137777,"question_id":26095881,"body_markdown":"I just **solved this error happening in my tests.**   \r\n\r\nJust make sure your test class has all dependencies in the attributes of the class being tested annotated with `@MockBean` so SpringBoot test context can wire your classes correctly.\r\n\r\n**Only** if you are testing controller: you need also **class annotations** to load the Controller context propertly.  \r\n\r\n**Check it out:**\r\n\r\n    @DisplayName(&quot;UserController Adapter Test&quot;)\r\n    @WebMvcTest(UserController.class)\r\n    @AutoConfigureMockMvc(addFilters = false)\r\n    @Import(TestConfig.class)\r\n    public class UserControllerTest {\r\n    \r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @MockBean\r\n    private CreateUserCommand createUserCommand;\r\n\r\n    @MockBean\r\n    private GetUserListQuery getUserListQuery;\r\n\r\n    @MockBean\r\n    private GetUserQuery getUserQuery;\r\n\r\n\r\n\r\n\r\n","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>I just <strong>solved this error happening in my tests.</strong></p>\n<p>Just make sure your test class has all dependencies in the attributes of the class being tested annotated with <code>@MockBean</code> so SpringBoot test context can wire your classes correctly.</p>\n<p><strong>Only</strong> if you are testing controller: you need also <strong>class annotations</strong> to load the Controller context propertly.</p>\n<p><strong>Check it out:</strong></p>\n<pre><code>@DisplayName(&quot;UserController Adapter Test&quot;)\n@WebMvcTest(UserController.class)\n@AutoConfigureMockMvc(addFilters = false)\n@Import(TestConfig.class)\npublic class UserControllerTest {\n\n@Autowired\nprivate MockMvc mockMvc;\n\n@Autowired\nprivate ObjectMapper objectMapper;\n\n@MockBean\nprivate CreateUserCommand createUserCommand;\n\n@MockBean\nprivate GetUserListQuery getUserListQuery;\n\n@MockBean\nprivate GetUserQuery getUserQuery;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3077176,"reputation":178,"user_id":2606228,"display_name":"nikhil2000"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619535306,"creation_date":1619535306,"answer_id":67285525,"question_id":26095881,"body_markdown":"for me, the culprit was the size of dependencies.\r\n\r\nsome of the project related dependencies were not downloaded properly, and it caused this error. checked with a teammate with similar setup and added the jars again.","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>for me, the culprit was the size of dependencies.</p>\n<p>some of the project related dependencies were not downloaded properly, and it caused this error. checked with a teammate with similar setup and added the jars again.</p>\n"},{"tags":[],"owner":{"account_id":13603498,"reputation":188,"user_id":9813464,"display_name":"Ash"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1631721420,"creation_date":1631721420,"answer_id":69196375,"question_id":26095881,"body_markdown":"In my case, I solved it by importing all the autowired dependencies (with @Autowired annotation) from the controller class with @MockBean annotator in the test class. Ex.:\r\n\r\n**Controller.java**\r\n\r\n    @Autowired\r\n    private Service service\r\n\r\n    @Autowired\r\n    private Dao daoService\r\n\r\n**ControllerTest.java**\r\n\r\n    @MockBean\r\n    private Service service\r\n    \r\n    @MockBean\r\n    private Dao daoService\r\n\r\nKeep in mind that this is only needed if you have tests focusing on classes rather than the entire app. Another approach to avoid this error is by loading the entire app at once with @SprintTest instead of @WebMvcTest(Controller.class). This [guide][1] has some more info on testing basics that could help.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-testing","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>In my case, I solved it by importing all the autowired dependencies (with @Autowired annotation) from the controller class with @MockBean annotator in the test class. Ex.:</p>\n<p><strong>Controller.java</strong></p>\n<pre><code>@Autowired\nprivate Service service\n\n@Autowired\nprivate Dao daoService\n</code></pre>\n<p><strong>ControllerTest.java</strong></p>\n<pre><code>@MockBean\nprivate Service service\n\n@MockBean\nprivate Dao daoService\n</code></pre>\n<p>Keep in mind that this is only needed if you have tests focusing on classes rather than the entire app. Another approach to avoid this error is by loading the entire app at once with @SprintTest instead of @WebMvcTest(Controller.class). This <a href=\"https://www.baeldung.com/spring-boot-testing\" rel=\"nofollow noreferrer\">guide</a> has some more info on testing basics that could help.</p>\n"},{"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645056011,"creation_date":1645056011,"answer_id":71150819,"question_id":26095881,"body_markdown":"I&#39;ve encountered similar issue in multi-module project w/ `expected at least 1 bean which qualifies as autowire candidate` like:\r\n\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.stockclient.repository.StockPriceRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\nAnd in my use case the cause of issue was missing annotation `@EnableJpaRepositories`, which is used for enabling auto configuration support for `Spring Data JPA` required to know the path of `JPA` repositories. \r\n\r\nBy default, it will scan only the main application package and its sub packages for detecting the `JPA` repositories.\r\n\r\nFor more details you can refer, for instance, to this [article][1].\r\n\r\n  [1]: https://chathurangat.wordpress.com/2017/11/13/what-are-the-uses-of-entityscan-and-enablejparepositories-annotations/","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>I've encountered similar issue in multi-module project w/ <code>expected at least 1 bean which qualifies as autowire candidate</code> like:</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.stockclient.repository.StockPriceRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n<p>And in my use case the cause of issue was missing annotation <code>@EnableJpaRepositories</code>, which is used for enabling auto configuration support for <code>Spring Data JPA</code> required to know the path of <code>JPA</code> repositories.</p>\n<p>By default, it will scan only the main application package and its sub packages for detecting the <code>JPA</code> repositories.</p>\n<p>For more details you can refer, for instance, to this <a href=\"https://chathurangat.wordpress.com/2017/11/13/what-are-the-uses-of-entityscan-and-enablejparepositories-annotations/\" rel=\"nofollow noreferrer\">article</a>.</p>\n"},{"tags":[],"owner":{"account_id":7027585,"reputation":305,"user_id":5384491,"display_name":"Arutsudar Arut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695205644,"creation_date":1695205644,"answer_id":77141512,"question_id":26095881,"body_markdown":"If this issue happens for an interface which extends JpaRepository, then, make sure you don&#39;t have `@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})` in the main Application class.","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>If this issue happens for an interface which extends JpaRepository, then, make sure you don't have <code>@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})</code> in the main Application class.</p>\n"}],"owner":{"account_id":3145069,"reputation":1190,"user_id":2659694,"accept_rate":42,"display_name":"user2659694"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586745,"favorite_count":0,"down_vote_count":1,"up_vote_count":94,"answer_count":17,"score":93,"last_activity_date":1695205644,"creation_date":1411980562,"question_id":26095881,"body_markdown":"I am trying to write a SOAP service using Spring, however I receive a Dependency Injection issue. I&#39;m having problems using `@Autowired` through the Service like this:\r\n\r\n        public interface UserDao {\r\n    \tUser getUser(String username);\r\n    }\r\n\r\nImplementation for Dao as below:\r\n\r\n  \r\n\r\n      @Controller(&quot;userDao&quot;)\r\n        public class UserDaoImpl implements UserDao {\r\n    \tprivate static Log log = LogFactory.getLog(UserDaoImpl.class);\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;sessionFactory&quot;)\r\n    \tprivate LocalSessionFactoryBean sessionFactory;\r\n    \r\n    \t@Override\r\n    \tpublic User getUser(String username) {\r\n    \t\tSession session = sessionFactory.getObject().openSession();\r\n    \t\t// Criteria query = session.createCriteria(Student.class);\r\n    \t\tQuery query = session\r\n    \t\t\t\t.createQuery(&quot;from User where username = :username&quot;);\r\n    \t\tquery.setParameter(&quot;username&quot;, username);\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;\\n Load Student by ID query is running...&quot;);\r\n    \t\t\t/*\r\n    \t\t\t * query.add(Restrictions.like(&quot;id&quot;, &quot;%&quot; + id + &quot;%&quot;,\r\n    \t\t\t * MatchMode.ANYWHERE)); return (Student) query.list();\r\n    \t\t\t */\r\n    \t\t\treturn (User) query.uniqueResult();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// TODO: handle exception\r\n    \t\t\tlog.info(e.toString());\r\n    \t\t} finally {\r\n    \t\t\tsession.close();\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    }\r\n\r\nand \r\n\r\n    \r\n\r\n    public interface UserBo {\r\n    \tUser loadUser(String username);\r\n    }\r\n\r\nand \r\n\r\n    public class UserBoImpl implements UserBo {\r\n    \t@Autowired\r\n    \tprivate UserDao userDao;\r\n    \r\n    \t@Override\r\n    \tpublic User loadUser(String username) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treturn userDao.getUser(username);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n    @WebService\r\n    @Component\r\n    public class UserService {\r\n    \r\n    \t@Autowired\r\n    \tprivate UserBo userBo;\r\n    \r\n    \t@WebMethod(operationName = &quot;say&quot;)\r\n    \tpublic String sayHello(String name) {\r\n    \t\treturn (&quot;Hello Java to &quot; + name);\r\n    \t}\r\n    \r\n    \t@WebMethod(operationName = &quot;getUser&quot;)\r\n    \tpublic User getUser(String username) {\r\n    \t\treturn userBo.loadUser(username);\r\n    \t}\r\n    }\r\n\r\n\r\nThe below is xml mapping file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:ws=&quot;http://jax-ws.dev.java.net/spring/core&quot;\r\n    \txmlns:wss=&quot;http://jax-ws.dev.java.net/spring/servlet&quot;\r\n    \txsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans \r\n        http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\r\n        http://jax-ws.dev.java.net/spring/core\r\n        http://jax-ws.java.net/spring/core.xsd\r\n        http://jax-ws.dev.java.net/spring/servlet\r\n        http://jax-ws.java.net/spring/servlet.xsd\r\n        \r\n        http://www.springframework.org/schema/context \r\n        http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&gt;\r\n    \t&lt;context:annotation-config /&gt;\r\n    \t\r\n    \t&lt;context:component-scan base-package=&quot;edu.java.spring.ws&quot;&gt;&lt;/context:component-scan&gt;\r\n    \t&lt;context:component-scan base-package=&quot;edu.java.spring.ws.dao&quot;&gt;&lt;/context:component-scan&gt;\r\n\t    &lt;bean id=&quot;userDao&quot; class=&quot;edu.java.spring.ws.dao.UserDaoImpl&quot;&gt;&lt;/bean&gt;\r\n    \t&lt;!-- &lt;context:component-scan base-package=&quot;edu.java.spring.ws.bo&quot;&gt;&lt;/context:component-scan&gt;\r\n    \t --&gt;\r\n    \t&lt;wss:binding url=&quot;/user&quot;&gt;\r\n    \t\t&lt;wss:service&gt;\r\n    \t\t\t&lt;ws:service bean=&quot;#userService&quot; /&gt;\r\n    \t\t&lt;/wss:service&gt;\r\n    \t&lt;/wss:binding&gt;\r\n    \t&lt;bean id=&quot;userBo&quot; class=&quot;edu.java.spring.ws.bo.impl.UserBoImpl&quot;&gt;&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/contentdb&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;123456&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;edu.java.spring.ws.model&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\n**And the error thrown when deploying is:\r\nHere is the updated stack trace:**\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;com.sun.xml.ws.transport.http.servlet.SpringBinding#0&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Cannot create inner bean &#39;(inner bean)#538071ba&#39; of type [org.jvnet.jax_ws_commons.spring.SpringService] while setting bean property &#39;service&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#538071ba&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Cannot resolve reference to bean &#39;userService&#39; while setting bean property &#39;bean&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.bo.UserBo edu.java.spring.ws.UserService.userBo; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userBo&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.dao.UserDao edu.java.spring.ws.bo.impl.UserBoImpl.userDao; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:290)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1456)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1197)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:703)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:760)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4992)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5490)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#538071ba&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Cannot resolve reference to bean &#39;userService&#39; while setting bean property &#39;bean&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.bo.UserBo edu.java.spring.ws.UserService.userBo; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userBo&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.dao.UserDao edu.java.spring.ws.bo.impl.UserBoImpl.userDao; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:336)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1456)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1197)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:276)\r\n    \t... 24 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.bo.UserBo edu.java.spring.ws.UserService.userBo; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userBo&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.dao.UserDao edu.java.spring.ws.bo.impl.UserBoImpl.userDao; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:292)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1185)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328)\r\n    \t... 30 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.bo.UserBo edu.java.spring.ws.UserService.userBo; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userBo&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.dao.UserDao edu.java.spring.ws.bo.impl.UserBoImpl.userDao; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:508)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\r\n    \t... 38 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userBo&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.dao.UserDao edu.java.spring.ws.bo.impl.UserBoImpl.userDao; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:292)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1185)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1017)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:960)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:858)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:480)\r\n    \t... 40 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.dao.UserDao edu.java.spring.ws.bo.impl.UserBoImpl.userDao; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:508)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\r\n    \t... 51 more\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoSuchBeanDefinitionException(DefaultListableBeanFactory.java:1103)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:963)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:858)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:480)\r\n    \t... 53 more\r\n\r\n\r\n","title":"No found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations:","body":"<p>I am trying to write a SOAP service using Spring, however I receive a Dependency Injection issue. I'm having problems using <code>@Autowired</code> through the Service like this:</p>\n\n<pre><code>    public interface UserDao {\n    User getUser(String username);\n}\n</code></pre>\n\n<p>Implementation for Dao as below:</p>\n\n<pre><code>  @Controller(\"userDao\")\n    public class UserDaoImpl implements UserDao {\n    private static Log log = LogFactory.getLog(UserDaoImpl.class);\n\n    @Autowired\n    @Qualifier(\"sessionFactory\")\n    private LocalSessionFactoryBean sessionFactory;\n\n    @Override\n    public User getUser(String username) {\n        Session session = sessionFactory.getObject().openSession();\n        // Criteria query = session.createCriteria(Student.class);\n        Query query = session\n                .createQuery(\"from User where username = :username\");\n        query.setParameter(\"username\", username);\n        try {\n            System.out.println(\"\\n Load Student by ID query is running...\");\n            /*\n             * query.add(Restrictions.like(\"id\", \"%\" + id + \"%\",\n             * MatchMode.ANYWHERE)); return (Student) query.list();\n             */\n            return (User) query.uniqueResult();\n        } catch (Exception e) {\n            // TODO: handle exception\n            log.info(e.toString());\n        } finally {\n            session.close();\n        }\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>public interface UserBo {\n    User loadUser(String username);\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>public class UserBoImpl implements UserBo {\n    @Autowired\n    private UserDao userDao;\n\n    @Override\n    public User loadUser(String username) {\n        // TODO Auto-generated method stub\n        return userDao.getUser(username);\n    }\n\n}\n\n\n@WebService\n@Component\npublic class UserService {\n\n    @Autowired\n    private UserBo userBo;\n\n    @WebMethod(operationName = \"say\")\n    public String sayHello(String name) {\n        return (\"Hello Java to \" + name);\n    }\n\n    @WebMethod(operationName = \"getUser\")\n    public User getUser(String username) {\n        return userBo.loadUser(username);\n    }\n}\n</code></pre>\n\n<p>The below is xml mapping file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:ws=\"http://jax-ws.dev.java.net/spring/core\"\n    xmlns:wss=\"http://jax-ws.dev.java.net/spring/servlet\"\n    xsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\n    http://jax-ws.dev.java.net/spring/core\n    http://jax-ws.java.net/spring/core.xsd\n    http://jax-ws.dev.java.net/spring/servlet\n    http://jax-ws.java.net/spring/servlet.xsd\n\n    http://www.springframework.org/schema/context \n    http://www.springframework.org/schema/context/spring-context-4.0.xsd\"&gt;\n    &lt;context:annotation-config /&gt;\n\n    &lt;context:component-scan base-package=\"edu.java.spring.ws\"&gt;&lt;/context:component-scan&gt;\n    &lt;context:component-scan base-package=\"edu.java.spring.ws.dao\"&gt;&lt;/context:component-scan&gt;\n    &lt;bean id=\"userDao\" class=\"edu.java.spring.ws.dao.UserDaoImpl\"&gt;&lt;/bean&gt;\n    &lt;!-- &lt;context:component-scan base-package=\"edu.java.spring.ws.bo\"&gt;&lt;/context:component-scan&gt;\n     --&gt;\n    &lt;wss:binding url=\"/user\"&gt;\n        &lt;wss:service&gt;\n            &lt;ws:service bean=\"#userService\" /&gt;\n        &lt;/wss:service&gt;\n    &lt;/wss:binding&gt;\n    &lt;bean id=\"userBo\" class=\"edu.java.spring.ws.bo.impl.UserBoImpl\"&gt;&lt;/bean&gt;\n    &lt;bean id=\"dataSource\"\n        class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n        &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/contentdb\" /&gt;\n        &lt;property name=\"username\" value=\"root\" /&gt;\n        &lt;property name=\"password\" value=\"123456\" /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"sessionFactory\"\n        class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"&gt;&lt;/property&gt;\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n                &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n        &lt;property name=\"packagesToScan\" value=\"edu.java.spring.ws.model\" /&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p><strong>And the error thrown when deploying is:\nHere is the updated stack trace:</strong></p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.sun.xml.ws.transport.http.servlet.SpringBinding#0' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Cannot create inner bean '(inner bean)#538071ba' of type [org.jvnet.jax_ws_commons.spring.SpringService] while setting bean property 'service'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#538071ba' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Cannot resolve reference to bean 'userService' while setting bean property 'bean'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.bo.UserBo edu.java.spring.ws.UserService.userBo; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userBo': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.dao.UserDao edu.java.spring.ws.bo.impl.UserBoImpl.userDao; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:290)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1456)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1197)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:703)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:760)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4992)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5490)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#538071ba' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Cannot resolve reference to bean 'userService' while setting bean property 'bean'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.bo.UserBo edu.java.spring.ws.UserService.userBo; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userBo': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.dao.UserDao edu.java.spring.ws.bo.impl.UserBoImpl.userDao; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:336)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1456)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1197)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:276)\n    ... 24 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.bo.UserBo edu.java.spring.ws.UserService.userBo; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userBo': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.dao.UserDao edu.java.spring.ws.bo.impl.UserBoImpl.userDao; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:292)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1185)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:328)\n    ... 30 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.bo.UserBo edu.java.spring.ws.UserService.userBo; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userBo': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.dao.UserDao edu.java.spring.ws.bo.impl.UserBoImpl.userDao; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:508)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\n    ... 38 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userBo': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.dao.UserDao edu.java.spring.ws.bo.impl.UserBoImpl.userDao; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:292)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1185)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1017)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:960)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:858)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:480)\n    ... 40 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private edu.java.spring.ws.dao.UserDao edu.java.spring.ws.bo.impl.UserBoImpl.userDao; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:508)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:289)\n    ... 51 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [edu.java.spring.ws.dao.UserDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoSuchBeanDefinitionException(DefaultListableBeanFactory.java:1103)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:963)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:858)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:480)\n    ... 53 more\n</code></pre>\n"},{"tags":["java","eclipse","maven","tomcat","pom.xml"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1695196038,"post_id":77139967,"comment_id":135990123,"body_markdown":"If you have a Maven-based applicaton don&#39;t modify &quot;Java Build Path&quot; manually in Eclipse: it must be managed by Maven.","body":"If you have a Maven-based applicaton don&#39;t modify &quot;Java Build Path&quot; manually in Eclipse: it must be managed by Maven."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1695196162,"post_id":77139967,"comment_id":135990147,"body_markdown":"&quot;Eclipse deploys the application somewhere&quot; is too vague.  Configure a Tomcat instance in Eclipse so that Eclipse uses it.","body":"&quot;Eclipse deploys the application somewhere&quot; is too vague.  Configure a Tomcat instance in Eclipse so that Eclipse uses it."},{"owner":{"account_id":25616696,"reputation":11,"user_id":19389194,"display_name":"kortex"},"score":0,"creation_date":1695204592,"post_id":77139967,"comment_id":135991929,"body_markdown":"&quot;somewhere&quot;: sorry for the confusion\nI wanted to say:\n  - I configured a Tomcat instance in Eclipse\n  - the directories used by Eclipse and/or Tomcat are managed by Eclipse and/or Tomcat: I don&#39;t fix them\n--&gt; the app is deployed in the right directory automatically :)","body":"&quot;somewhere&quot;: sorry for the confusion I wanted to say:   - I configured a Tomcat instance in Eclipse   - the directories used by Eclipse and/or Tomcat are managed by Eclipse and/or Tomcat: I don&#39;t fix them --&gt; the app is deployed in the right directory automatically :)"}],"answers":[{"tags":[],"owner":{"account_id":25616696,"reputation":11,"user_id":19389194,"display_name":"kortex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695204476,"creation_date":1695204476,"answer_id":77141377,"question_id":77139967,"body_markdown":"I found a solution which work for the moment.\r\n\r\nIn the pom.xml of myLibrary, I had this:\r\n\r\n```\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;revision&gt;${revision}&lt;/revision&gt;\r\n[...]\r\n    &lt;/properties&gt;\r\n```\r\n\r\nThe solution was to replace the variable ${revision} with a hardcoded value:\r\n\r\n```\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;revision&gt;1.0&lt;/revision&gt;\r\n[...]\r\n    &lt;/properties&gt;\r\n```\r\n\r\nAnd now it seems it works.","title":"NoClassDefFoundError when we execute a Java Web application within Eclipse","body":"<p>I found a solution which work for the moment.</p>\n<p>In the pom.xml of myLibrary, I had this:</p>\n<pre><code>    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;revision&gt;${revision}&lt;/revision&gt;\n[...]\n    &lt;/properties&gt;\n</code></pre>\n<p>The solution was to replace the variable ${revision} with a hardcoded value:</p>\n<pre><code>    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;revision&gt;1.0&lt;/revision&gt;\n[...]\n    &lt;/properties&gt;\n</code></pre>\n<p>And now it seems it works.</p>\n"}],"owner":{"account_id":25616696,"reputation":11,"user_id":19389194,"display_name":"kortex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695204476,"creation_date":1695192849,"question_id":77139967,"body_markdown":"I have a problem to submit because I&#39;m pretty sure it exist a simple solution.\r\n\r\nPrecisions:\r\n- I am a system administrator\r\n- I publish this message because I tried to help my colleagues developers without success for the moment\r\n\r\nWe have a homemade shared library we will call &quot;myLibrary&quot;: it is a Java library (a JAR when builded) we share between many of standalone applications (not modular applications).\r\n\r\nThis library provides, for example, a homemade abstract class to connect to MongoDB.\r\nIn its pom.xml:\r\n- we have many dependencies\r\n- one of these dependencies is mongodb-driver-sync:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n    &lt;version&gt;4.9.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nOne of our application is a Java web server:\r\n- we will call it &quot;myApplication&quot;\r\n- in production we deploy the application within a Tomcat server\r\n\r\nIn the pom.xml of myApplication:\r\n- we have many dependencies explicitely declared\r\n- we have a dependency on &quot;myLibrary&quot; explicitely declared\r\n\r\nWhen we build the WAR (with Eclipse thanks to the &#39;Maven Build&#39; feature and/or through our CI/CD pipeline), we got a WAR which contain:\r\n- all the dependencies explicitely declared\r\n- the library myLibrary explicitely declared\r\n- and implicitely we got the dependencies of myLibrary: thefore, in WEB-INF/lib, we have the JAR files for mongodb-driver-sync\r\n\r\nAt this level, it works perfectly.\r\n\r\nBut we have a problem when we try to execute this application directly in Eclipse (live development session/debug).\r\n\r\nIn this context, we got an error NoClassDefFoundError related to MongoDB.\r\nWe analysed a lot and the result is this one:\r\n- when we execute the application in Eclipse, Eclipse deploys the application somewhere. We found the directory in which the application was deployed:\r\n  - this directory contains a directory WEB-INF/lib\r\n    - this WEB-INF/lib directory contains only the dependencies declared explicitely in pom.xml of myApplication: the dependencies of myLibrary are not embedded\r\n    - if we add manually the missing JAR (example: MongoDB driver): it works\r\n\r\nWe tested many things but nothing seems to work except if we add explicitely the dependency in the pom.xml of myApplication:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n    &lt;version&gt;4.9.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWe would like to avoid this for many reasons.\r\n\r\nDetails about our environment:\r\n- Eclipse: 2023-03\r\n- JDK: 1.8\r\n- Maven : 3.8.7\r\n\r\nIs someone has an idea to suggest please?\r\n\r\nThank you very much.\r\n\r\nWe tried to execute mvn [...] eclipse:eclipse but it failed + we broke our project in Eclipse.\r\n\r\nWe tried to play with the feature &quot;Java Build Path&quot;:\r\n- adding &quot;Maven Dependencies&quot;\r\n- removing &quot;Maven Dependencies&quot;\r\n-&gt; it failed but maybe we missed something\r\n\r\nWe tried to play with the feature &quot;Deployment Assembly&quot;:\r\n- adding &quot;myLibrary&quot;\r\n- removing &quot;myLibrary&quot;\r\n-&gt; it failed but maybe we missed something","title":"NoClassDefFoundError when we execute a Java Web application within Eclipse","body":"<p>I have a problem to submit because I'm pretty sure it exist a simple solution.</p>\n<p>Precisions:</p>\n<ul>\n<li>I am a system administrator</li>\n<li>I publish this message because I tried to help my colleagues developers without success for the moment</li>\n</ul>\n<p>We have a homemade shared library we will call &quot;myLibrary&quot;: it is a Java library (a JAR when builded) we share between many of standalone applications (not modular applications).</p>\n<p>This library provides, for example, a homemade abstract class to connect to MongoDB.\nIn its pom.xml:</p>\n<ul>\n<li>we have many dependencies</li>\n<li>one of these dependencies is mongodb-driver-sync:</li>\n</ul>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n    &lt;version&gt;4.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>One of our application is a Java web server:</p>\n<ul>\n<li>we will call it &quot;myApplication&quot;</li>\n<li>in production we deploy the application within a Tomcat server</li>\n</ul>\n<p>In the pom.xml of myApplication:</p>\n<ul>\n<li>we have many dependencies explicitely declared</li>\n<li>we have a dependency on &quot;myLibrary&quot; explicitely declared</li>\n</ul>\n<p>When we build the WAR (with Eclipse thanks to the 'Maven Build' feature and/or through our CI/CD pipeline), we got a WAR which contain:</p>\n<ul>\n<li>all the dependencies explicitely declared</li>\n<li>the library myLibrary explicitely declared</li>\n<li>and implicitely we got the dependencies of myLibrary: thefore, in WEB-INF/lib, we have the JAR files for mongodb-driver-sync</li>\n</ul>\n<p>At this level, it works perfectly.</p>\n<p>But we have a problem when we try to execute this application directly in Eclipse (live development session/debug).</p>\n<p>In this context, we got an error NoClassDefFoundError related to MongoDB.\nWe analysed a lot and the result is this one:</p>\n<ul>\n<li>when we execute the application in Eclipse, Eclipse deploys the application somewhere. We found the directory in which the application was deployed:\n<ul>\n<li>this directory contains a directory WEB-INF/lib\n<ul>\n<li>this WEB-INF/lib directory contains only the dependencies declared explicitely in pom.xml of myApplication: the dependencies of myLibrary are not embedded</li>\n<li>if we add manually the missing JAR (example: MongoDB driver): it works</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>We tested many things but nothing seems to work except if we add explicitely the dependency in the pom.xml of myApplication:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n    &lt;version&gt;4.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We would like to avoid this for many reasons.</p>\n<p>Details about our environment:</p>\n<ul>\n<li>Eclipse: 2023-03</li>\n<li>JDK: 1.8</li>\n<li>Maven : 3.8.7</li>\n</ul>\n<p>Is someone has an idea to suggest please?</p>\n<p>Thank you very much.</p>\n<p>We tried to execute mvn [...] eclipse:eclipse but it failed + we broke our project in Eclipse.</p>\n<p>We tried to play with the feature &quot;Java Build Path&quot;:</p>\n<ul>\n<li>adding &quot;Maven Dependencies&quot;</li>\n<li>removing &quot;Maven Dependencies&quot;\n-&gt; it failed but maybe we missed something</li>\n</ul>\n<p>We tried to play with the feature &quot;Deployment Assembly&quot;:</p>\n<ul>\n<li>adding &quot;myLibrary&quot;</li>\n<li>removing &quot;myLibrary&quot;\n-&gt; it failed but maybe we missed something</li>\n</ul>\n"},{"tags":["java","google-chrome","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581199859,"creation_date":1524583999,"answer_id":50005648,"question_id":50005248,"body_markdown":"This error message...\r\n\r\n\torg.openqa.selenium.NoSuchSessionException: no such session\r\n\r\n...implies that the _chromedriver=2.38_ wasn&#39;t able to initiate an active session with the WebClient i.e _Chrome_ browser.\r\n\r\nYour main issue is the **version compatibility** between the binaries you are using as follows :\r\n\r\n - Though you are using latest _Selenium Client_ version **3.11.0**, _Chrome Driver_ version _2.38_ and _Chrome_ version _v66.0_.\r\n - Your _JDK version_ is **1.8.0_144** which is pretty **ancient**.\r\n\r\n\r\n----------\r\n\r\n\r\n \r\nSolution\r\n--------\r\n - Upgrade _JDK_ to  recent levels [JDK 8u241](https://www.oracle.com/technetwork/java/javase/downloads/index.html).\r\n - _Clean_ your _Project Workspace_ through your _IDE_ and _Rebuild_ your project with required dependencies only.\r\n - If your base _Web Client_ version is too old, then uninstall it and install a recent GA and released version of _Web Client_.\r\n - Take a _System Reboot_.\r\n - Execute your `@Test`.","title":"org.openqa.selenium.NoSuchSessionException: no such session","body":"<p>This error message...</p>\n\n<pre><code>org.openqa.selenium.NoSuchSessionException: no such session\n</code></pre>\n\n<p>...implies that the <em>chromedriver=2.38</em> wasn't able to initiate an active session with the WebClient i.e <em>Chrome</em> browser.</p>\n\n<p>Your main issue is the <strong>version compatibility</strong> between the binaries you are using as follows :</p>\n\n<ul>\n<li>Though you are using latest <em>Selenium Client</em> version <strong>3.11.0</strong>, <em>Chrome Driver</em> version <em>2.38</em> and <em>Chrome</em> version <em>v66.0</em>.</li>\n<li>Your <em>JDK version</em> is <strong>1.8.0_144</strong> which is pretty <strong>ancient</strong>.</li>\n</ul>\n\n<hr>\n\n<h2>Solution</h2>\n\n<ul>\n<li>Upgrade <em>JDK</em> to  recent levels <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">JDK 8u241</a>.</li>\n<li><em>Clean</em> your <em>Project Workspace</em> through your <em>IDE</em> and <em>Rebuild</em> your project with required dependencies only.</li>\n<li>If your base <em>Web Client</em> version is too old, then uninstall it and install a recent GA and released version of <em>Web Client</em>.</li>\n<li>Take a <em>System Reboot</em>.</li>\n<li>Execute your <code>@Test</code>.</li>\n</ul>\n"}],"owner":{"account_id":10221888,"reputation":471,"user_id":7545818,"display_name":"Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10069,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695204430,"creation_date":1524582989,"question_id":50005248,"body_markdown":"Getting &quot;No Such Session&quot; exception while accessing the below method in selenium. I know there are lot of same questions with different answers online but none seems to be worked out in my case. Any assistance?\r\n\r\nChrome Driver Version:- 2.38\r\nChrome version:-66.0.3359.117\r\n\r\nException message is:-\r\n\r\n    org.openqa.selenium.NoSuchSessionException: no such session\r\n      (Driver info: chromedriver=2.38.552522 (437e6fbedfa8762dec75e2c5b3ddb86763dc9dcb),platform=Windows NT 10.0.10240 x86_64) (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 0 milliseconds\r\n    Build info: version: &#39;3.11.0&#39;, revision: &#39;e59cfb3&#39;, time: &#39;2018-03-11T20:26:55.152Z&#39;\r\n    System info: host: &#39;XXYYXX&#39;, ip: &#39;XXYYXX&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_144&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Capabilities {acceptInsecureCerts: false, acceptSslCerts: false, applicationCacheEnabled: false, browserConnectionEnabled: false, browserName: chrome, chrome: {chromedriverVersion: 2.38.552522 (437e6fbedfa876..., userDataDir: C:\\Users\\XXYYXX\\AppData\\L...}, cssSelectorsEnabled: true, databaseEnabled: false, handlesAlerts: true, hasTouchScreen: false, javascriptEnabled: true, locationContextEnabled: true, mobileEmulationEnabled: false, nativeEvents: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, rotatable: false, setWindowRect: true, takesHeapSnapshot: true, takesScreenshot: true, unexpectedAlertBehaviour: , unhandledPromptBehavior: , version: 66.0.3359.117, webStorageEnabled: true}\r\n    Session ID: 6db82d5d19891c00f783fd9b7cebd234\r\n    *** Element info: {Using=xpath, value=html/body/div[1]/div/div/div[2]/div/div[2]/div/div/p}\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:214)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:166)\r\n    \tat org.openqa.selenium.remote.http.JsonHttpResponseCodec.reconstructValue(JsonHttpResponseCodec.java:40)\r\n    \tat org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:80)\r\n    \tat org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:44)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:545)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElements(RemoteWebDriver.java:346)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElementsByXPath(RemoteWebDriver.java:425)\r\n    \tat org.openqa.selenium.By$ByXPath.findElements(By.java:356)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElements(RemoteWebDriver.java:307)\r\n    \tat org.openqa.selenium.support.ui.ExpectedConditions.findElement(ExpectedConditions.java:895)\r\n    \tat org.openqa.selenium.support.ui.ExpectedConditions.access$000(ExpectedConditions.java:44)\r\n    \tat org.openqa.selenium.support.ui.ExpectedConditions$7.apply(ExpectedConditions.java:206)\r\n    \tat org.openqa.selenium.support.ui.ExpectedConditions$7.apply(ExpectedConditions.java:202)\r\n    \tat org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:248)\r\n    \tat UserInterfaceTesting.LoginValidator.validation(LoginValidator.java:31)\r\n    \tat HybridFrameWork.test1.validation_of_server_response_at_something_page(test1.java:41)\r\n    \tat ?.And Validation of server response at &quot;Login&quot; Page(Userlogin.feature:14)\r\n\r\nMy Program:-\r\n\r\n     else if (CommonObjRepository.getMessage().contentEquals(&quot;Login&quot;)) {\r\n    \t\t\t\r\n    \r\n    // This is where exception is being thrown //\r\n    \t\t\tString Message = wait\r\n    \t\t\t\t\t.until(ExpectedConditions\r\n    \t\t\t\t\t\t\t.visibilityOfElementLocated(By.xpath(&quot;html/body/div[1]/div/div/div[2]/div/div[2]/div/div/p&quot;)))\r\n    \t\t\t\t\t.getText();\r\n    \r\n    \t\t\tassertEquals(ReadProperties.GetConstant(&quot;XXTTX&quot;), Message);\r\n    \t\t\tCommonObjRepository.getLog().info(&quot;***** XXXYYYZZZ *****&quot;);\r\n    \r\n    \t\t}","title":"org.openqa.selenium.NoSuchSessionException: no such session","body":"<p>Getting \"No Such Session\" exception while accessing the below method in selenium. I know there are lot of same questions with different answers online but none seems to be worked out in my case. Any assistance?</p>\n\n<p>Chrome Driver Version:- 2.38\nChrome version:-66.0.3359.117</p>\n\n<p>Exception message is:-</p>\n\n<pre><code>org.openqa.selenium.NoSuchSessionException: no such session\n  (Driver info: chromedriver=2.38.552522 (437e6fbedfa8762dec75e2c5b3ddb86763dc9dcb),platform=Windows NT 10.0.10240 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 0 milliseconds\nBuild info: version: '3.11.0', revision: 'e59cfb3', time: '2018-03-11T20:26:55.152Z'\nSystem info: host: 'XXYYXX', ip: 'XXYYXX', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_144'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities {acceptInsecureCerts: false, acceptSslCerts: false, applicationCacheEnabled: false, browserConnectionEnabled: false, browserName: chrome, chrome: {chromedriverVersion: 2.38.552522 (437e6fbedfa876..., userDataDir: C:\\Users\\XXYYXX\\AppData\\L...}, cssSelectorsEnabled: true, databaseEnabled: false, handlesAlerts: true, hasTouchScreen: false, javascriptEnabled: true, locationContextEnabled: true, mobileEmulationEnabled: false, nativeEvents: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, rotatable: false, setWindowRect: true, takesHeapSnapshot: true, takesScreenshot: true, unexpectedAlertBehaviour: , unhandledPromptBehavior: , version: 66.0.3359.117, webStorageEnabled: true}\nSession ID: 6db82d5d19891c00f783fd9b7cebd234\n*** Element info: {Using=xpath, value=html/body/div[1]/div/div/div[2]/div/div[2]/div/div/p}\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:214)\n    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:166)\n    at org.openqa.selenium.remote.http.JsonHttpResponseCodec.reconstructValue(JsonHttpResponseCodec.java:40)\n    at org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:80)\n    at org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:44)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:545)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElements(RemoteWebDriver.java:346)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElementsByXPath(RemoteWebDriver.java:425)\n    at org.openqa.selenium.By$ByXPath.findElements(By.java:356)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElements(RemoteWebDriver.java:307)\n    at org.openqa.selenium.support.ui.ExpectedConditions.findElement(ExpectedConditions.java:895)\n    at org.openqa.selenium.support.ui.ExpectedConditions.access$000(ExpectedConditions.java:44)\n    at org.openqa.selenium.support.ui.ExpectedConditions$7.apply(ExpectedConditions.java:206)\n    at org.openqa.selenium.support.ui.ExpectedConditions$7.apply(ExpectedConditions.java:202)\n    at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:248)\n    at UserInterfaceTesting.LoginValidator.validation(LoginValidator.java:31)\n    at HybridFrameWork.test1.validation_of_server_response_at_something_page(test1.java:41)\n    at ?.And Validation of server response at \"Login\" Page(Userlogin.feature:14)\n</code></pre>\n\n<p>My Program:-</p>\n\n<pre><code> else if (CommonObjRepository.getMessage().contentEquals(\"Login\")) {\n\n\n// This is where exception is being thrown //\n            String Message = wait\n                    .until(ExpectedConditions\n                            .visibilityOfElementLocated(By.xpath(\"html/body/div[1]/div/div/div[2]/div/div[2]/div/div/p\")))\n                    .getText();\n\n            assertEquals(ReadProperties.GetConstant(\"XXTTX\"), Message);\n            CommonObjRepository.getLog().info(\"***** XXXYYYZZZ *****\");\n\n        }\n</code></pre>\n"},{"tags":["java","rest","jersey","multipartform-data","jersey-2.0"],"answers":[{"comments":[{"owner":{"account_id":6223839,"reputation":51,"user_id":4842750,"display_name":"Quentin Moreaux"},"score":0,"creation_date":1430293585,"post_id":29932427,"comment_id":47996337,"body_markdown":"Thank you, it almost fixed my problem !\nHowever, now, I have another exception which is\njava.lang.ClassNotFoundException: org.glassfish.jersey.internal.inject.AbstractBinder\n\nI know it has something to do with the classpath, but I can&#39;t find what is wrong, since I included jersey-medi-multipart-2.0-m11.jar to my project.\n\nAny idea ?","body":"Thank you, it almost fixed my problem ! However, now, I have another exception which is java.lang.ClassNotFoundException: org.glassfish.jersey.internal.inject.AbstractBinder  I know it has something to do with the classpath, but I can&#39;t find what is wrong, since I included jersey-medi-multipart-2.0-m11.jar to my project.  Any idea ?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1430294194,"post_id":29932427,"comment_id":47996701,"body_markdown":"Down load the JAX-RS RI bundle from [here](https://jersey.java.net/download.html). Remove all the jars you currently have, and add _all_ the jars from this bundle. There are jars in different directories. Add them all. Then you need the multipart support. See [this post](http://stackoverflow.com/a/29227044/2587435). Get the multipart jar you&#39;&#39;re currently using, but 2.17. Then get the two jars from the post I linked to. Add all those and you should be set","body":"Down load the JAX-RS RI bundle from <a href=\"https://jersey.java.net/download.html\" rel=\"nofollow noreferrer\">here</a>. Remove all the jars you currently have, and add <i>all</i> the jars from this bundle. There are jars in different directories. Add them all. Then you need the multipart support. See <a href=\"http://stackoverflow.com/a/29227044/2587435\">this post</a>. Get the multipart jar you&#39;&#39;re currently using, but 2.17. Then get the two jars from the post I linked to. Add all those and you should be set"},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":0,"creation_date":1469006829,"post_id":29932427,"comment_id":64357302,"body_markdown":"For those whom are using spring-boot, you need to register the `MultiePartFeature` class in your JerseyConfig.","body":"For those whom are using spring-boot, you need to register the <code>MultiePartFeature</code> class in your JerseyConfig."}],"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1430268257,"creation_date":1430268257,"answer_id":29932427,"question_id":29923938,"body_markdown":"You need to register the `MultiPartFeature` in your web.xml. You can simply add an `&lt;init-param&gt;` to the Jersey servlet\r\n\r\n    &lt;init-param&gt;\r\n        &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\r\n        &lt;param-value&gt;org.glassfish.jersey.media.multipart.MultiPartFeature&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n\r\n* See explanation of problem [here](https://stackoverflow.com/a/29406656/2587435)\r\n\r\n* See other configuring options [here](https://stackoverflow.com/a/29534950/2587435)","title":"Problem with my Servlet and @FormDataParam Jersey","body":"<p>You need to register the <code>MultiPartFeature</code> in your web.xml. You can simply add an <code>&lt;init-param&gt;</code> to the Jersey servlet</p>\n\n<pre><code>&lt;init-param&gt;\n    &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\n    &lt;param-value&gt;org.glassfish.jersey.media.multipart.MultiPartFeature&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n\n<ul>\n<li><p>See explanation of problem <a href=\"https://stackoverflow.com/a/29406656/2587435\">here</a></p></li>\n<li><p>See other configuring options <a href=\"https://stackoverflow.com/a/29534950/2587435\">here</a></p></li>\n</ul>\n"}],"owner":{"account_id":6223839,"reputation":51,"user_id":4842750,"display_name":"Quentin Moreaux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1839,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":29932427,"answer_count":1,"score":3,"last_activity_date":1695204428,"creation_date":1430235915,"question_id":29923938,"body_markdown":"I have a problem with my web-services using Jersey. I have a form composed of two inputs, one of type &quot;file&quot; and one of type &quot;text&quot;.\r\n\r\nThe problem is that when I only use the input of type &quot;file&quot;, everything works fine, but when I add the second one, of type &quot;text&quot;, my servlet can&#39;t even start properly.\r\n\r\nHere is the exception I have when I start my servlet:\r\n```\r\n    avr. 28, 2015 5:16:17 PM org.apache.catalina.core.StandardContext loadOnStartup\r\n    GRAVE: La servlet /SemRecSysWS a g&#233;n&#233;r&#233; une exception &quot;load()&quot;\r\n    org.glassfish.jersey.server.model.ModelValidationException: Validation of the application resource model has failed during application initialization.\r\n    [[FATAL] No injection source found for a parameter of type public java.lang.String fr.checksem.semrecsys.Gestion.insertSKOS(java.io.InputStream,org.openrdf.rio.RDFFormat) at index 0.; source=&#39;ResourceMethod{httpMethod=POST, consumedTypes=[multipart/form-data], producedTypes=[text/plain; charset=utf-8], suspended=false, suspendTimeout=0, suspendTimeoutUnit=MILLISECONDS, invocable=Invocable{handler=ClassBasedMethodHandler{handlerClass=class fr.checksem.semrecsys.Gestion, handlerConstructors=[org.glassfish.jersey.server.model.HandlerConstructor@1a533161]}, definitionMethod=public java.lang.String fr.checksem.semrecsys.Gestion.insertSKOS(java.io.InputStream,org.openrdf.rio.RDFFormat), parameters=[Parameter [type=class java.io.InputStream, source=fichier, defaultValue=null], Parameter [type=class org.openrdf.rio.RDFFormat, source=Format, defaultValue=null]], responseType=class java.lang.String}, nameBindings=[]}&#39;]\r\n\tat org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:500)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:167)\r\n\tat org.glassfish.jersey.server.ApplicationHandler$3.run(ApplicationHandler.java:327)\r\n\tat org.glassfish.jersey.internal.Errors$2.call(Errors.java:289)\r\n\tat org.glassfish.jersey.internal.Errors$2.call(Errors.java:286)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n\tat org.glassfish.jersey.internal.Errors.processWithException(Errors.java:286)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:324)\r\n\tat org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:315)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:358)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\r\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)\r\n\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5176)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5460)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.StandardContext.reload(StandardContext.java:3954)\r\n\tat org.apache.catalina.loader.WebappLoader.backgroundProcess(WebappLoader.java:426)\r\n\tat org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1345)\r\n\tat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1530)\r\n\tat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1540)\r\n\tat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1540)\r\n\tat org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1519)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n```\r\n\r\nHere is the function where I try to access to the file and the text\r\n\r\n    @POST\r\n\t@Path(&quot;/initSKOS&quot;)\r\n\t@Consumes(MediaType.MULTIPART_FORM_DATA)\r\n\t@Produces(MediaType.TEXT_PLAIN + &quot;;charset=utf-8&quot;)\t\r\n\tpublic String insertSKOS(@FormDataParam(&quot;fichier&quot;) InputStream uploadedInputStream, @FormDataParam(&quot;Format&quot;) RDFFormat format) {\r\n    ....\r\n    }\r\n\r\nI have tried with every type for my variable format, but that doesn&#39;t change anything.\r\n\r\nAnd here is my web.xml file :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;SemRecSysWS&quot; version=&quot;3.0&quot;&gt;\r\n        &lt;display-name&gt;RecWS&lt;/display-name&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;fr.checksem.semrecsys.TestWS&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n                &lt;param-value&gt;fr.checksem.semrecsys&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;fr.checksem.semrecsys.TestWS&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nI don&#39;t know if you completely understood my problem, I tried to be as clear as possible.","title":"Problem with my Servlet and @FormDataParam Jersey","body":"<p>I have a problem with my web-services using Jersey. I have a form composed of two inputs, one of type &quot;file&quot; and one of type &quot;text&quot;.</p>\n<p>The problem is that when I only use the input of type &quot;file&quot;, everything works fine, but when I add the second one, of type &quot;text&quot;, my servlet can't even start properly.</p>\n<p>Here is the exception I have when I start my servlet:</p>\n<pre><code>    avr. 28, 2015 5:16:17 PM org.apache.catalina.core.StandardContext loadOnStartup\n    GRAVE: La servlet /SemRecSysWS a gnr une exception &quot;load()&quot;\n    org.glassfish.jersey.server.model.ModelValidationException: Validation of the application resource model has failed during application initialization.\n    [[FATAL] No injection source found for a parameter of type public java.lang.String fr.checksem.semrecsys.Gestion.insertSKOS(java.io.InputStream,org.openrdf.rio.RDFFormat) at index 0.; source='ResourceMethod{httpMethod=POST, consumedTypes=[multipart/form-data], producedTypes=[text/plain; charset=utf-8], suspended=false, suspendTimeout=0, suspendTimeoutUnit=MILLISECONDS, invocable=Invocable{handler=ClassBasedMethodHandler{handlerClass=class fr.checksem.semrecsys.Gestion, handlerConstructors=[org.glassfish.jersey.server.model.HandlerConstructor@1a533161]}, definitionMethod=public java.lang.String fr.checksem.semrecsys.Gestion.insertSKOS(java.io.InputStream,org.openrdf.rio.RDFFormat), parameters=[Parameter [type=class java.io.InputStream, source=fichier, defaultValue=null], Parameter [type=class org.openrdf.rio.RDFFormat, source=Format, defaultValue=null]], responseType=class java.lang.String}, nameBindings=[]}']\n    at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:500)\n    at org.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:167)\n    at org.glassfish.jersey.server.ApplicationHandler$3.run(ApplicationHandler.java:327)\n    at org.glassfish.jersey.internal.Errors$2.call(Errors.java:289)\n    at org.glassfish.jersey.internal.Errors$2.call(Errors.java:286)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    at org.glassfish.jersey.internal.Errors.processWithException(Errors.java:286)\n    at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:324)\n    at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:315)\n    at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)\n    at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:358)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:160)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5176)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5460)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardContext.reload(StandardContext.java:3954)\n    at org.apache.catalina.loader.WebappLoader.backgroundProcess(WebappLoader.java:426)\n    at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1345)\n    at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1530)\n    at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1540)\n    at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1540)\n    at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1519)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>Here is the function where I try to access to the file and the text</p>\n<pre><code>@POST\n@Path(&quot;/initSKOS&quot;)\n@Consumes(MediaType.MULTIPART_FORM_DATA)\n@Produces(MediaType.TEXT_PLAIN + &quot;;charset=utf-8&quot;)  \npublic String insertSKOS(@FormDataParam(&quot;fichier&quot;) InputStream uploadedInputStream, @FormDataParam(&quot;Format&quot;) RDFFormat format) {\n....\n}\n</code></pre>\n<p>I have tried with every type for my variable format, but that doesn't change anything.</p>\n<p>And here is my web.xml file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;SemRecSysWS&quot; version=&quot;3.0&quot;&gt;\n    &lt;display-name&gt;RecWS&lt;/display-name&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;fr.checksem.semrecsys.TestWS&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n            &lt;param-value&gt;fr.checksem.semrecsys&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;fr.checksem.semrecsys.TestWS&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>I don't know if you completely understood my problem, I tried to be as clear as possible.</p>\n"},{"tags":["java","greenfoot"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1695194614,"post_id":77140159,"comment_id":135989836,"body_markdown":"Don&#39;t juts reverse the motion. Also move the ball to a point where it&#39;s not hitting the walls/paddle anymore.","body":"Don&#39;t juts reverse the motion. Also move the ball to a point where it&#39;s not hitting the walls/paddle anymore."},{"owner":{"account_id":15654001,"reputation":11419,"user_id":11294831,"display_name":"the busybee"},"score":2,"creation_date":1695195026,"post_id":77140159,"comment_id":135989914,"body_markdown":"Did you try to include the direction of move into the detection of touch? (I&#39;m running a &quot;SIG computer science&quot; in a high school, and we had this issue multiple times.)","body":"Did you try to include the direction of move into the detection of touch? (I&#39;m running a &quot;SIG computer science&quot; in a high school, and we had this issue multiple times.)"},{"owner":{"account_id":15654001,"reputation":11419,"user_id":11294831,"display_name":"the busybee"},"score":0,"creation_date":1695210625,"post_id":77140159,"comment_id":135993178,"body_markdown":"Please take the [tour] to learn how this site works. Then come back and [edit] your question and separate the solution into an actual answer.","body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how this site works. Then come back and <a href=\"https://stackoverflow.com/posts/77140159/edit\">edit</a> your question and separate the solution into an actual answer."}],"owner":{"account_id":29488739,"reputation":31,"user_id":22598090,"display_name":"D R O P"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1695204203,"creation_date":1695194481,"question_id":77140159,"body_markdown":"My classmates and I are making a pong game and we have run into a problem.\r\nThe bug is that when the pong ball intersects with either the walls or player paddles, the ball will sometimes collide multiple times so that it looks like the ball is gliding on the paddle.\r\nIf anyone has run into this same problem or has any knowledge of what causes this I would much appreciate the help.\r\n\r\nWe found a solution to the problem which is putting a cooldown on the ball after hitting an object (wall and or paddle) that way it won&#39;t get that weird gliding bug, thank you everyone for posting suggestions and helping us out ;)\r\n\r\n```\r\nimport greenfoot.*;\r\nimport java.awt.*;\r\n\r\n/**\r\n * A Ball is a thing that bounces of walls and paddles (or at least i should).\r\n * \r\n * @author The teachers \r\n * @version 1\r\n */\r\npublic class Ball extends Actor\r\n{\r\n    private static final int BALL_SIZE = 50;\r\n    private static final int BOUNCE_DEVIANCE_MAX = 5;\r\n    private static final int STARTING_ANGLE_WIDTH = 90;\r\n    private static final int DELAY_TIME = 200;\r\n\r\n    private int speed;\r\n    private boolean hasBouncedHorizontally;\r\n    private boolean hasBouncedVertically;\r\n    private int delay;\r\n    private int touchCounter;\r\n\r\n    /**\r\n     * Contructs the ball and sets it in motion!\r\n     */\r\n    public Ball()\r\n    {\r\n        // createImage();\r\n        init();\r\n    }\r\n\r\n    /**\r\n     * Creates and sets an image of a black ball to this actor.\r\n     */\r\n    /*\r\n    private void createImage()\r\n    {\r\n        GreenfootImage ballImage = new GreenfootImage(BALL_SIZE,BALL_SIZE);\r\n        ballImage.setColor(Color.RED);\r\n        ballImage.fillOval(0, 0, BALL_SIZE, BALL_SIZE);\r\n        setImage(ballImage);\r\n    }\r\n    */\r\n\r\n    /**\r\n     * Act - do whatever the Ball wants to do. This method is called whenever\r\n     * the &#39;Act&#39; or &#39;Run&#39; button gets pressed in the environment.\r\n     */\r\n    public void act() \r\n    {\r\n        if (delay &gt; 0)\r\n        {\r\n            delay--;\r\n        }\r\n        else\r\n        {\r\n            move(speed);\r\n            checkBounceOffWalls();\r\n            checkBounceOffCeiling();\r\n            checkRestart();\r\n            bounceOffPaddles();\r\n        }\r\n    }    \r\n\r\n    /**\r\n     * Returns true if the ball is touching one of the side walls.\r\n     */\r\n    private boolean isTouchingSides()\r\n    {\r\n        return getX() &lt;= BALL_SIZE/2 || getX() &gt;= getWorld().getWidth() - BALL_SIZE/2;\r\n    }\r\n\r\n    /**\r\n     * Returns true if the ball is touching the ceiling.\r\n     */\r\n    private boolean isTouchingCeiling()\r\n    {\r\n        return (getY() &lt;= BALL_SIZE/2);\r\n    }\r\n\r\n    /**\r\n     * Returns true if the ball is touching the floor.\r\n     */\r\n    private boolean isTouchingFloor()\r\n    { \r\n        return (getY() &gt;= getWorld().getHeight() - BALL_SIZE/2);\r\n    }\r\n\r\n    /**\r\n     * Check to see if the ball should bounce off one of the walls.\r\n     * If touching one of the walls, the ball is bouncing off.\r\n     */\r\n    private void checkBounceOffWalls()\r\n    {\r\n        if (isTouchingSides())\r\n        {\r\n            if (! hasBouncedHorizontally)\r\n            {\r\n                revertHorizontally();\r\n            }\r\n        }\r\n        else\r\n        {\r\n            hasBouncedHorizontally = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check to see if the ball should bounce off the ceiling.\r\n     * If touching the ceiling the ball is bouncing off.\r\n     */\r\n    private void checkBounceOffCeiling()\r\n    {\r\n        if (isTouchingCeiling())\r\n        {\r\n            if (! hasBouncedVertically)\r\n            {\r\n                revertVertically();\r\n            }\r\n        }\r\n        // Removed for purpose of solving Task 3\r\n        /*\r\n        else\r\n        {\r\n            hasBouncedVertically = false;\r\n        }\r\n        */\r\n    }\r\n\r\n    /**\r\n     * Check to see if the ball should be restarted.\r\n     * If touching the floor the ball is restarted in initial position and speed.\r\n     */\r\n    private void checkRestart()\r\n    {\r\n        if (isTouchingFloor())\r\n        {\r\n            PingWorld theWorld = (PingWorld) getWorld();\r\n            theWorld.resetGameLevel();\r\n            init();\r\n            setLocation(getWorld().getWidth() / 2, getWorld().getHeight() / 2);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Bounces the ball back from a vertical surface.\r\n     */\r\n    private void revertHorizontally()\r\n    {\r\n        int randomness = Greenfoot.getRandomNumber(BOUNCE_DEVIANCE_MAX)- BOUNCE_DEVIANCE_MAX / 2;\r\n        setRotation((180 - getRotation()+ randomness + 360) % 360);\r\n        Greenfoot.playSound(&quot;pewsoundeffect.mp3&quot;);\r\n        hasBouncedHorizontally = true;\r\n    }\r\n\r\n    /**\r\n     * Bounces the bal back from a horizontal surface.\r\n     */\r\n    private void revertVertically()\r\n    {\r\n        int randomness = Greenfoot.getRandomNumber(BOUNCE_DEVIANCE_MAX)- BOUNCE_DEVIANCE_MAX / 2;\r\n        setRotation((360 - getRotation()+ randomness + 360) % 360);\r\n        Greenfoot.playSound(&quot;pewsoundeffect.mp3&quot;);\r\n        hasBouncedVertically = true;\r\n    }\r\n    \r\n    // Checking for the paddles if they intersect with the ball, if touching, revert vertically.\r\n    public void bounceOffPaddles() \r\n    {\r\n        Actor paddle = getOneIntersectingObject(Paddle.class);\r\n        Actor enemyPaddle = getOneIntersectingObject(EnemyPaddle.class);\r\n        \r\n        if (paddle != null) {\r\n            revertVertically();\r\n            hasBouncedVertically = false;\r\n            speedIncreaser();\r\n        }\r\n        if (hasBouncedVertically == false &amp;&amp; enemyPaddle != null) {\r\n            revertVertically();\r\n        }\r\n    }\r\n    \r\n    // Increases speed\r\n    public void speedIncreaser() {\r\n        touchCounter++;\r\n            if (touchCounter == 10) {\r\n                speed++;\r\n                PingWorld theWorld = (PingWorld) getWorld();\r\n                theWorld.increaseGameLevel();\r\n                touchCounter = 0;\r\n            }\r\n    }\r\n\r\n    /**\r\n     * Initialize the ball settings.\r\n     */\r\n    private void init()\r\n    {\r\n        speed = 2;\r\n        delay = DELAY_TIME;\r\n        hasBouncedHorizontally = false;\r\n        hasBouncedVertically = false;\r\n        setRotation(Greenfoot.getRandomNumber(STARTING_ANGLE_WIDTH)+STARTING_ANGLE_WIDTH/2);\r\n    }\r\n\r\n}      else\r\n        {\r\n            hasBouncedVertically = false;\r\n        }\r\n        */\r\n    }\r\n\r\n    /**\r\n     * Check to see if the ball should be restarted.\r\n     * If touching the floor the ball is restarted in initial position and speed.\r\n     */\r\n    private void checkRestart()\r\n    {\r\n        if (isTouchingFloor())\r\n        {\r\n            PingWorld theWorld = (PingWorld) getWorld();\r\n            theWorld.resetGameLevel();\r\n            init();\r\n            setLocation(getWorld().getWidth() / 2, getWorld().getHeight() / 2);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Bounces the ball back from a vertical surface.\r\n     */\r\n    private void revertHorizontally()\r\n    {\r\n        int randomness = Greenfoot.getRandomNumber(BOUNCE_DEVIANCE_MAX)- BOUNCE_DEVIANCE_MAX / 2;\r\n        setRotation((180 - getRotation()+ randomness + 360) % 360);\r\n        Greenfoot.playSound(&quot;pewsoundeffect.mp3&quot;);\r\n        hasBouncedHorizontally = true;\r\n    }\r\n\r\n    /**\r\n     * Bounces the bal back from a horizontal surface.\r\n     */\r\n    private void revertVertically()\r\n    {\r\n        int randomness = Greenfoot.getRandomNumber(BOUNCE_DEVIANCE_MAX)- BOUNCE_DEVIANCE_MAX / 2;\r\n        setRotation((360 - getRotation()+ randomness + 360) % 360);\r\n        Greenfoot.playSound(&quot;pewsoundeffect.mp3&quot;);\r\n        hasBouncedVertically = true;\r\n    }\r\n    \r\n    // Checking for the paddles if they intersect with the ball, if touching, revert vertically.\r\n    public void bounceOffPaddles() \r\n    {\r\n        Actor paddle = getOneIntersectingObject(Paddle.class);\r\n        Actor enemyPaddle = getOneIntersectingObject(EnemyPaddle.class);\r\n        \r\n        if (paddle != null) {\r\n            revertVertically();\r\n            hasBouncedVertically = false;\r\n            speedIncreaser();\r\n        }\r\n        if (hasBouncedVertically == false &amp;&amp; enemyPaddle != null) {\r\n            revertVertically();\r\n        }\r\n    }\r\n    \r\n    // Increases speed\r\n    public void speedIncreaser() {\r\n        touchCounter++;\r\n            if (touchCounter == 10) {\r\n                speed++;\r\n                PingWorld theWorld = (PingWorld) getWorld();\r\n                theWorld.increaseGameLevel();\r\n                touchCounter = 0;\r\n            }\r\n    }\r\n\r\n    /**\r\n     * Initialize the ball settings.\r\n     */\r\n    private void init()\r\n    {\r\n        speed = 2;\r\n        delay = DELAY_TIME;\r\n        hasBouncedHorizontally = false;\r\n        hasBouncedVertically = false;\r\n        setRotation(Greenfoot.getRandomNumber(STARTING_ANGLE_WIDTH)+STARTING_ANGLE_WIDTH/2);\r\n    }\r\n\r\n}\r\n```","title":"Java Pong ball gliding on the paddles","body":"<p>My classmates and I are making a pong game and we have run into a problem.\nThe bug is that when the pong ball intersects with either the walls or player paddles, the ball will sometimes collide multiple times so that it looks like the ball is gliding on the paddle.\nIf anyone has run into this same problem or has any knowledge of what causes this I would much appreciate the help.</p>\n<p>We found a solution to the problem which is putting a cooldown on the ball after hitting an object (wall and or paddle) that way it won't get that weird gliding bug, thank you everyone for posting suggestions and helping us out ;)</p>\n<pre><code>import greenfoot.*;\nimport java.awt.*;\n\n/**\n * A Ball is a thing that bounces of walls and paddles (or at least i should).\n * \n * @author The teachers \n * @version 1\n */\npublic class Ball extends Actor\n{\n    private static final int BALL_SIZE = 50;\n    private static final int BOUNCE_DEVIANCE_MAX = 5;\n    private static final int STARTING_ANGLE_WIDTH = 90;\n    private static final int DELAY_TIME = 200;\n\n    private int speed;\n    private boolean hasBouncedHorizontally;\n    private boolean hasBouncedVertically;\n    private int delay;\n    private int touchCounter;\n\n    /**\n     * Contructs the ball and sets it in motion!\n     */\n    public Ball()\n    {\n        // createImage();\n        init();\n    }\n\n    /**\n     * Creates and sets an image of a black ball to this actor.\n     */\n    /*\n    private void createImage()\n    {\n        GreenfootImage ballImage = new GreenfootImage(BALL_SIZE,BALL_SIZE);\n        ballImage.setColor(Color.RED);\n        ballImage.fillOval(0, 0, BALL_SIZE, BALL_SIZE);\n        setImage(ballImage);\n    }\n    */\n\n    /**\n     * Act - do whatever the Ball wants to do. This method is called whenever\n     * the 'Act' or 'Run' button gets pressed in the environment.\n     */\n    public void act() \n    {\n        if (delay &gt; 0)\n        {\n            delay--;\n        }\n        else\n        {\n            move(speed);\n            checkBounceOffWalls();\n            checkBounceOffCeiling();\n            checkRestart();\n            bounceOffPaddles();\n        }\n    }    \n\n    /**\n     * Returns true if the ball is touching one of the side walls.\n     */\n    private boolean isTouchingSides()\n    {\n        return getX() &lt;= BALL_SIZE/2 || getX() &gt;= getWorld().getWidth() - BALL_SIZE/2;\n    }\n\n    /**\n     * Returns true if the ball is touching the ceiling.\n     */\n    private boolean isTouchingCeiling()\n    {\n        return (getY() &lt;= BALL_SIZE/2);\n    }\n\n    /**\n     * Returns true if the ball is touching the floor.\n     */\n    private boolean isTouchingFloor()\n    { \n        return (getY() &gt;= getWorld().getHeight() - BALL_SIZE/2);\n    }\n\n    /**\n     * Check to see if the ball should bounce off one of the walls.\n     * If touching one of the walls, the ball is bouncing off.\n     */\n    private void checkBounceOffWalls()\n    {\n        if (isTouchingSides())\n        {\n            if (! hasBouncedHorizontally)\n            {\n                revertHorizontally();\n            }\n        }\n        else\n        {\n            hasBouncedHorizontally = false;\n        }\n    }\n\n    /**\n     * Check to see if the ball should bounce off the ceiling.\n     * If touching the ceiling the ball is bouncing off.\n     */\n    private void checkBounceOffCeiling()\n    {\n        if (isTouchingCeiling())\n        {\n            if (! hasBouncedVertically)\n            {\n                revertVertically();\n            }\n        }\n        // Removed for purpose of solving Task 3\n        /*\n        else\n        {\n            hasBouncedVertically = false;\n        }\n        */\n    }\n\n    /**\n     * Check to see if the ball should be restarted.\n     * If touching the floor the ball is restarted in initial position and speed.\n     */\n    private void checkRestart()\n    {\n        if (isTouchingFloor())\n        {\n            PingWorld theWorld = (PingWorld) getWorld();\n            theWorld.resetGameLevel();\n            init();\n            setLocation(getWorld().getWidth() / 2, getWorld().getHeight() / 2);\n        }\n    }\n\n    /**\n     * Bounces the ball back from a vertical surface.\n     */\n    private void revertHorizontally()\n    {\n        int randomness = Greenfoot.getRandomNumber(BOUNCE_DEVIANCE_MAX)- BOUNCE_DEVIANCE_MAX / 2;\n        setRotation((180 - getRotation()+ randomness + 360) % 360);\n        Greenfoot.playSound(&quot;pewsoundeffect.mp3&quot;);\n        hasBouncedHorizontally = true;\n    }\n\n    /**\n     * Bounces the bal back from a horizontal surface.\n     */\n    private void revertVertically()\n    {\n        int randomness = Greenfoot.getRandomNumber(BOUNCE_DEVIANCE_MAX)- BOUNCE_DEVIANCE_MAX / 2;\n        setRotation((360 - getRotation()+ randomness + 360) % 360);\n        Greenfoot.playSound(&quot;pewsoundeffect.mp3&quot;);\n        hasBouncedVertically = true;\n    }\n    \n    // Checking for the paddles if they intersect with the ball, if touching, revert vertically.\n    public void bounceOffPaddles() \n    {\n        Actor paddle = getOneIntersectingObject(Paddle.class);\n        Actor enemyPaddle = getOneIntersectingObject(EnemyPaddle.class);\n        \n        if (paddle != null) {\n            revertVertically();\n            hasBouncedVertically = false;\n            speedIncreaser();\n        }\n        if (hasBouncedVertically == false &amp;&amp; enemyPaddle != null) {\n            revertVertically();\n        }\n    }\n    \n    // Increases speed\n    public void speedIncreaser() {\n        touchCounter++;\n            if (touchCounter == 10) {\n                speed++;\n                PingWorld theWorld = (PingWorld) getWorld();\n                theWorld.increaseGameLevel();\n                touchCounter = 0;\n            }\n    }\n\n    /**\n     * Initialize the ball settings.\n     */\n    private void init()\n    {\n        speed = 2;\n        delay = DELAY_TIME;\n        hasBouncedHorizontally = false;\n        hasBouncedVertically = false;\n        setRotation(Greenfoot.getRandomNumber(STARTING_ANGLE_WIDTH)+STARTING_ANGLE_WIDTH/2);\n    }\n\n}      else\n        {\n            hasBouncedVertically = false;\n        }\n        */\n    }\n\n    /**\n     * Check to see if the ball should be restarted.\n     * If touching the floor the ball is restarted in initial position and speed.\n     */\n    private void checkRestart()\n    {\n        if (isTouchingFloor())\n        {\n            PingWorld theWorld = (PingWorld) getWorld();\n            theWorld.resetGameLevel();\n            init();\n            setLocation(getWorld().getWidth() / 2, getWorld().getHeight() / 2);\n        }\n    }\n\n    /**\n     * Bounces the ball back from a vertical surface.\n     */\n    private void revertHorizontally()\n    {\n        int randomness = Greenfoot.getRandomNumber(BOUNCE_DEVIANCE_MAX)- BOUNCE_DEVIANCE_MAX / 2;\n        setRotation((180 - getRotation()+ randomness + 360) % 360);\n        Greenfoot.playSound(&quot;pewsoundeffect.mp3&quot;);\n        hasBouncedHorizontally = true;\n    }\n\n    /**\n     * Bounces the bal back from a horizontal surface.\n     */\n    private void revertVertically()\n    {\n        int randomness = Greenfoot.getRandomNumber(BOUNCE_DEVIANCE_MAX)- BOUNCE_DEVIANCE_MAX / 2;\n        setRotation((360 - getRotation()+ randomness + 360) % 360);\n        Greenfoot.playSound(&quot;pewsoundeffect.mp3&quot;);\n        hasBouncedVertically = true;\n    }\n    \n    // Checking for the paddles if they intersect with the ball, if touching, revert vertically.\n    public void bounceOffPaddles() \n    {\n        Actor paddle = getOneIntersectingObject(Paddle.class);\n        Actor enemyPaddle = getOneIntersectingObject(EnemyPaddle.class);\n        \n        if (paddle != null) {\n            revertVertically();\n            hasBouncedVertically = false;\n            speedIncreaser();\n        }\n        if (hasBouncedVertically == false &amp;&amp; enemyPaddle != null) {\n            revertVertically();\n        }\n    }\n    \n    // Increases speed\n    public void speedIncreaser() {\n        touchCounter++;\n            if (touchCounter == 10) {\n                speed++;\n                PingWorld theWorld = (PingWorld) getWorld();\n                theWorld.increaseGameLevel();\n                touchCounter = 0;\n            }\n    }\n\n    /**\n     * Initialize the ball settings.\n     */\n    private void init()\n    {\n        speed = 2;\n        delay = DELAY_TIME;\n        hasBouncedHorizontally = false;\n        hasBouncedVertically = false;\n        setRotation(Greenfoot.getRandomNumber(STARTING_ANGLE_WIDTH)+STARTING_ANGLE_WIDTH/2);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","xml","kotlin","user-interface"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695070105,"post_id":77125693,"comment_id":135972465,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1695106167,"post_id":77125693,"comment_id":135975894,"body_markdown":"look for chat bubble that are kind of v shaped from top left or right corners but you can play with the code and try to create the shape you want see this **https://stackoverflow.com/questions/7974847/android-drawable-speech-bubble**","body":"look for chat bubble that are kind of v shaped from top left or right corners but you can play with the code and try to create the shape you want see this <b><a href=\"https://stackoverflow.com/questions/7974847/android-drawable-speech-bubble\" title=\"android drawable speech bubble\">stackoverflow.com/questions/7974847/&hellip;</a></b>"},{"owner":{"account_id":12705507,"reputation":21,"user_id":9230940,"display_name":"Angel"},"score":0,"creation_date":1695113201,"post_id":77125693,"comment_id":135977303,"body_markdown":"@SarmadAli Thanks a lot, it really helps with the drawings and I really appreciate it but I need to be able to move that v shape to the top of the achor ( for example if someone clicks one of the other bottom nav options in the picture, I need the v to stick to top of that option ). I know the popup menus in flutter work that way but in kotlin/java I couldn&#39;t find any equivalant, got any idea for that too?","body":"@SarmadAli Thanks a lot, it really helps with the drawings and I really appreciate it but I need to be able to move that v shape to the top of the achor ( for example if someone clicks one of the other bottom nav options in the picture, I need the v to stick to top of that option ). I know the popup menus in flutter work that way but in kotlin/java I couldn&#39;t find any equivalant, got any idea for that too?"}],"answers":[{"comments":[{"owner":{"account_id":12705507,"reputation":21,"user_id":9230940,"display_name":"Angel"},"score":0,"creation_date":1695155346,"post_id":77137617,"comment_id":135985453,"body_markdown":"Thanks a lot, it&#39;s a good way for the background drawing, I updated the question to make the problem more clear. I&#39;d greatly apprecite any ideas for attaching the small &quot;V&quot; to the popup anchor (or popup caller button) too.","body":"Thanks a lot, it&#39;s a good way for the background drawing, I updated the question to make the problem more clear. I&#39;d greatly apprecite any ideas for attaching the small &quot;V&quot; to the popup anchor (or popup caller button) too."}],"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695153422,"creation_date":1695153422,"answer_id":77137617,"question_id":77125693,"body_markdown":"You can draw a custom drawable for the background, and set is a background of the root view that holds the layout.\r\n\r\nDrawable-Code \r\n\r\nPS. The drawable doesn&#39;t look right, but when you set is as background it looks like required.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:bottom=&quot;12dp&quot;\r\n        android:gravity=&quot;bottom|center_horizontal&quot;&gt;\r\n        &lt;rotate\r\n            android:fromDegrees=&quot;45&quot;\r\n            android:pivotX=&quot;50%&quot;\r\n            android:pivotY=&quot;50%&quot;&gt;\r\n            &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n                &lt;size\r\n                    android:width=&quot;60dp&quot;\r\n                    android:height=&quot;60dp&quot; /&gt;\r\n                &lt;corners android:bottomRightRadius=&quot;2dp&quot; /&gt;\r\n                &lt;solid android:color=&quot;@color/black&quot; /&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/rotate&gt;\r\n    &lt;/item&gt;\r\n\r\n    &lt;item android:bottom=&quot;14dp&quot;&gt;\r\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n            &lt;solid android:color=&quot;@color/black&quot; /&gt;\r\n            &lt;corners\r\n                android:topLeftRadius=&quot;12dp&quot;\r\n                android:topRightRadius=&quot;12dp&quot; /&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n&lt;/layer-list&gt;\r\n```\r\n\r\nCreate your layout : I have used a `LinearLayout` and set its background to the above drawable. I have put `TextView` inside the `LinearLayout`, you can use other as per requirements.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;64dp&quot;\r\n        android:background=&quot;@drawable/background&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:paddingTop=&quot;16dp&quot;\r\n        android:paddingBottom=&quot;32dp&quot;\r\n        android:paddingHorizontal=&quot;16dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;TextView 1&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;22sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;TextView 2&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;22sp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;TextView 3&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;22sp&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\nSample Outputs:\r\n\r\nDrawable shape\r\n\r\n[![Drawable shape][1]][1]\r\n\r\nLayout with drawable background\r\n\r\n[![Layout with drawable background][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c6aq4.png\r\n  [2]: https://i.stack.imgur.com/uiOYZ.png","title":"Custom popup menu android","body":"<p>You can draw a custom drawable for the background, and set is a background of the root view that holds the layout.</p>\n<p>Drawable-Code</p>\n<p>PS. The drawable doesn't look right, but when you set is as background it looks like required.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:bottom=&quot;12dp&quot;\n        android:gravity=&quot;bottom|center_horizontal&quot;&gt;\n        &lt;rotate\n            android:fromDegrees=&quot;45&quot;\n            android:pivotX=&quot;50%&quot;\n            android:pivotY=&quot;50%&quot;&gt;\n            &lt;shape android:shape=&quot;rectangle&quot;&gt;\n                &lt;size\n                    android:width=&quot;60dp&quot;\n                    android:height=&quot;60dp&quot; /&gt;\n                &lt;corners android:bottomRightRadius=&quot;2dp&quot; /&gt;\n                &lt;solid android:color=&quot;@color/black&quot; /&gt;\n            &lt;/shape&gt;\n        &lt;/rotate&gt;\n    &lt;/item&gt;\n\n    &lt;item android:bottom=&quot;14dp&quot;&gt;\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\n            &lt;solid android:color=&quot;@color/black&quot; /&gt;\n            &lt;corners\n                android:topLeftRadius=&quot;12dp&quot;\n                android:topRightRadius=&quot;12dp&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n<p>Create your layout : I have used a <code>LinearLayout</code> and set its background to the above drawable. I have put <code>TextView</code> inside the <code>LinearLayout</code>, you can use other as per requirements.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;64dp&quot;\n        android:background=&quot;@drawable/background&quot;\n        android:orientation=&quot;vertical&quot;\n        android:paddingTop=&quot;16dp&quot;\n        android:paddingBottom=&quot;32dp&quot;\n        android:paddingHorizontal=&quot;16dp&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;TextView 1&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;22sp&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;TextView 2&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;22sp&quot; /&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;TextView 3&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;22sp&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Sample Outputs:</p>\n<p>Drawable shape</p>\n<p><a href=\"https://i.stack.imgur.com/c6aq4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c6aq4.png\" alt=\"Drawable shape\" /></a></p>\n<p>Layout with drawable background</p>\n<p><a href=\"https://i.stack.imgur.com/uiOYZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uiOYZ.png\" alt=\"Layout with drawable background\" /></a></p>\n"},{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695204032,"creation_date":1695204032,"answer_id":77141333,"question_id":77125693,"body_markdown":"One way to do this is manually changing the background drawable, whenever the selected item changes. You can create a custom view for easy handling. You can follow [this site][1] for more information on custom views. \r\n\r\nYou can create a separate drawable for the `V` shaped indicator, since it changes and the curved background of the pop-menu remains same.\r\nCreate the required drawable.\r\n```\r\n&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:width=&quot;40dp&quot;\r\n    android:height=&quot;40dp&quot;\r\n    android:viewportWidth=&quot;100&quot;\r\n    android:viewportHeight=&quot;100&quot;&gt;\r\n    &lt;path\r\n        android:fillColor=&quot;@color/black&quot;\r\n        android:pathData=&quot;m 50,100 l 50,-100 -100,0 z&quot; /&gt;\r\n&lt;/vector&gt;\r\n```\r\n[![Triangle Drawable][2]][2]\r\n\r\n\r\nCreate a custom view layout. Here I have used `LinearLayout` with five views for the five options, you can change padding and margins according to you.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;merge xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:paddingHorizontal=&quot;12dp&quot;&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/option1&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginHorizontal=&quot;20dp&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/option2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginHorizontal=&quot;20dp&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/option3&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginHorizontal=&quot;20dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:background=&quot;@drawable/triangle_indicator&quot; /&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/option4&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginHorizontal=&quot;20dp&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/option5&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginHorizontal=&quot;20dp&quot;\r\n            android:layout_weight=&quot;1&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n&lt;/merge&gt;\r\n```\r\n\r\n[![Custom Indicator Layout][3]][3]\r\n\r\nCreate a custom view for based on the layout\r\n```\r\nimport android.content.Context;\r\nimport android.util.AttributeSet;\r\nimport android.view.View;\r\nimport android.widget.LinearLayout;\r\n\r\npublic class CustomIndicator extends LinearLayout {\r\n    private final View option1, option2, option3, option4, option5;\r\n    private int selectedOption = 3;\r\n    private final int indicatorBackground;\r\n    public CustomIndicator(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        inflate(context, R.layout.custom_indicator, this);\r\n        option1 = findViewById(R.id.option1);\r\n        option2 = findViewById(R.id.option2);\r\n        option3 = findViewById(R.id.option3);\r\n        option4 = findViewById(R.id.option4);\r\n        option5 = findViewById(R.id.option5);\r\n        indicatorBackground = R.drawable.triangle_indicator;\r\n    }\r\n\r\n    public CustomIndicator(Context context) {\r\n        this(context, null);\r\n    }\r\n\r\n    public void setSelectedIndex(int index){\r\n        // expose a public method to update the index of selected view\r\n        selectedOption = index;\r\n        updateSelection();\r\n    }\r\n\r\n    private void updateSelection(){\r\n        // sets the background to selected view index\r\n        option1.setBackground(null);\r\n        option2.setBackground(null);\r\n        option3.setBackground(null);\r\n        option4.setBackground(null);\r\n        option5.setBackground(null);\r\n\r\n        switch (selectedOption){\r\n            case 1: option1.setBackgroundResource(indicatorBackground); break;\r\n            case 2: option2.setBackgroundResource(indicatorBackground); break;\r\n            case 3: option3.setBackgroundResource(indicatorBackground); break;\r\n            case 4: option4.setBackgroundResource(indicatorBackground); break;\r\n            case 5: option5.setBackgroundResource(indicatorBackground); break;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nUse the custom view in your layout, you may have to change dimens of layout file and height of the view according to your needs\r\n```\r\n&lt;com.example.motionlayoutexample.CustomIndicator\r\n        android:id=&quot;@+id/custom_indicator&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:layout_height=&quot;40dp&quot;/&gt;\r\n```\r\nUpdate the selection whenever the selection of bottom navigation bar changes.\r\n```\r\n// Whenever the selection of bottom navigation changes update the index here.\r\ncustomIndicator = findViewById(R.id.custom_indicator)\r\ncustomIndicator.setSelectedIndex(4)\r\n```\r\nNOTE : \r\n\r\n - You may want to use proper names instead of option1, option2... for layout ID. \r\n - You should also use enum class for selection instead of `int` for better code quality.\r\n\r\n  [1]: https://www.vogella.com/tutorials/AndroidCustomViews/article.html\r\n  [2]: https://i.stack.imgur.com/HiHkL.png\r\n  [3]: https://i.stack.imgur.com/OuVz5.png","title":"Custom popup menu android","body":"<p>One way to do this is manually changing the background drawable, whenever the selected item changes. You can create a custom view for easy handling. You can follow <a href=\"https://www.vogella.com/tutorials/AndroidCustomViews/article.html\" rel=\"nofollow noreferrer\">this site</a> for more information on custom views.</p>\n<p>You can create a separate drawable for the <code>V</code> shaped indicator, since it changes and the curved background of the pop-menu remains same.\nCreate the required drawable.</p>\n<pre><code>&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:width=&quot;40dp&quot;\n    android:height=&quot;40dp&quot;\n    android:viewportWidth=&quot;100&quot;\n    android:viewportHeight=&quot;100&quot;&gt;\n    &lt;path\n        android:fillColor=&quot;@color/black&quot;\n        android:pathData=&quot;m 50,100 l 50,-100 -100,0 z&quot; /&gt;\n&lt;/vector&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HiHkL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HiHkL.png\" alt=\"Triangle Drawable\" /></a></p>\n<p>Create a custom view layout. Here I have used <code>LinearLayout</code> with five views for the five options, you can change padding and margins according to you.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;merge xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:paddingHorizontal=&quot;12dp&quot;&gt;\n\n        &lt;View\n            android:id=&quot;@+id/option1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginHorizontal=&quot;20dp&quot;\n            android:layout_weight=&quot;1&quot; /&gt;\n\n        &lt;View\n            android:id=&quot;@+id/option2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginHorizontal=&quot;20dp&quot;\n            android:layout_weight=&quot;1&quot; /&gt;\n\n        &lt;View\n            android:id=&quot;@+id/option3&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginHorizontal=&quot;20dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:background=&quot;@drawable/triangle_indicator&quot; /&gt;\n\n        &lt;View\n            android:id=&quot;@+id/option4&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginHorizontal=&quot;20dp&quot;\n            android:layout_weight=&quot;1&quot; /&gt;\n\n        &lt;View\n            android:id=&quot;@+id/option5&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginHorizontal=&quot;20dp&quot;\n            android:layout_weight=&quot;1&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/merge&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OuVz5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OuVz5.png\" alt=\"Custom Indicator Layout\" /></a></p>\n<p>Create a custom view for based on the layout</p>\n<pre><code>import android.content.Context;\nimport android.util.AttributeSet;\nimport android.view.View;\nimport android.widget.LinearLayout;\n\npublic class CustomIndicator extends LinearLayout {\n    private final View option1, option2, option3, option4, option5;\n    private int selectedOption = 3;\n    private final int indicatorBackground;\n    public CustomIndicator(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        inflate(context, R.layout.custom_indicator, this);\n        option1 = findViewById(R.id.option1);\n        option2 = findViewById(R.id.option2);\n        option3 = findViewById(R.id.option3);\n        option4 = findViewById(R.id.option4);\n        option5 = findViewById(R.id.option5);\n        indicatorBackground = R.drawable.triangle_indicator;\n    }\n\n    public CustomIndicator(Context context) {\n        this(context, null);\n    }\n\n    public void setSelectedIndex(int index){\n        // expose a public method to update the index of selected view\n        selectedOption = index;\n        updateSelection();\n    }\n\n    private void updateSelection(){\n        // sets the background to selected view index\n        option1.setBackground(null);\n        option2.setBackground(null);\n        option3.setBackground(null);\n        option4.setBackground(null);\n        option5.setBackground(null);\n\n        switch (selectedOption){\n            case 1: option1.setBackgroundResource(indicatorBackground); break;\n            case 2: option2.setBackgroundResource(indicatorBackground); break;\n            case 3: option3.setBackgroundResource(indicatorBackground); break;\n            case 4: option4.setBackgroundResource(indicatorBackground); break;\n            case 5: option5.setBackgroundResource(indicatorBackground); break;\n        }\n    }\n}\n\n</code></pre>\n<p>Use the custom view in your layout, you may have to change dimens of layout file and height of the view according to your needs</p>\n<pre><code>&lt;com.example.motionlayoutexample.CustomIndicator\n        android:id=&quot;@+id/custom_indicator&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:layout_height=&quot;40dp&quot;/&gt;\n</code></pre>\n<p>Update the selection whenever the selection of bottom navigation bar changes.</p>\n<pre><code>// Whenever the selection of bottom navigation changes update the index here.\ncustomIndicator = findViewById(R.id.custom_indicator)\ncustomIndicator.setSelectedIndex(4)\n</code></pre>\n<p>NOTE :</p>\n<ul>\n<li>You may want to use proper names instead of option1, option2... for layout ID.</li>\n<li>You should also use enum class for selection instead of <code>int</code> for better code quality.</li>\n</ul>\n"}],"owner":{"account_id":12705507,"reputation":21,"user_id":9230940,"display_name":"Angel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695204032,"creation_date":1695026837,"question_id":77125693,"body_markdown":"Is it possible to make such custom popup Menu in android studio? (not flutter) \r\nMy actual problem is making that small &quot;v&quot; attach to the button as anchor. [![The background is blurred but it doesn&#39;t matter that much if it doesn&#39;t look like that, thing is that I just want to to stick a &quot;v&quot; shaped type of thing at bottom to the anchor](https://i.stack.imgur.com/LFbZY.png)](https://i.stack.imgur.com/LFbZY.png)\r\n\r\nI tried anything I found on the internet and I can do the background color and shape with defining a style but can&#39;t implement the bottom &quot;v&quot; kinda thing. The background is blurred but it doesn&#39;t matter that much if it doesn&#39;t look like that, thing is that I just want to to stick a &quot;v&quot; shaped type of thing at bottom to the anchor\r\nAny help would be appreciated and thanks in advance !\r\n\r\n**EDIT :**\r\n\r\n**The actual problem is attaching the small &quot;V&quot; shape to any of the options or buttons down there.** The drawable can be made using layer-list as dear Pawan also mentioned is his answer. Here&#39;s another example: If someone clicks the services button, the  popupMenu should look like this: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Re3Ye.png\r\n\r\nAs you can see, the background is the same, but **the little &quot;V&quot; is gone to the location of the services item/button.** I tried using popupWindow but then again some of these popup menu items have sub-menus (as shown in the first picture) and that causes some difficulties. ","title":"Custom popup menu android","body":"<p>Is it possible to make such custom popup Menu in android studio? (not flutter)\nMy actual problem is making that small &quot;v&quot; attach to the button as anchor. <a href=\"https://i.stack.imgur.com/LFbZY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LFbZY.png\" alt=\"The background is blurred but it doesn't matter that much if it doesn't look like that, thing is that I just want to to stick a &quot;v&quot; shaped type of thing at bottom to the anchor\" /></a></p>\n<p>I tried anything I found on the internet and I can do the background color and shape with defining a style but can't implement the bottom &quot;v&quot; kinda thing. The background is blurred but it doesn't matter that much if it doesn't look like that, thing is that I just want to to stick a &quot;v&quot; shaped type of thing at bottom to the anchor\nAny help would be appreciated and thanks in advance !</p>\n<p><strong>EDIT :</strong></p>\n<p><strong>The actual problem is attaching the small &quot;V&quot; shape to any of the options or buttons down there.</strong> The drawable can be made using layer-list as dear Pawan also mentioned is his answer. Here's another example: If someone clicks the services button, the  popupMenu should look like this: <a href=\"https://i.stack.imgur.com/Re3Ye.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Re3Ye.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, the background is the same, but <strong>the little &quot;V&quot; is gone to the location of the services item/button.</strong> I tried using popupWindow but then again some of these popup menu items have sub-menus (as shown in the first picture) and that causes some difficulties.</p>\n"},{"tags":["java","testing","mockito"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1695203963,"post_id":77141282,"comment_id":135991772,"body_markdown":"It is only necessary in the second test  not in the first test. So move the stubbing to the related tests","body":"It is only necessary in the second test  not in the first test. So move the stubbing to the related tests"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1695204294,"post_id":77141282,"comment_id":135991851,"body_markdown":"The way the unnecessary stubbing detection works is by, for each test case, calculating which stubbings were provided and which were required. If those 2 things are different, it will throw. You seem to be under the impression that Mockito should understand which stubbings were specifically provided in `setup`, and consider them separately. I suppose it could do that, but it doesn&#39;t.","body":"The way the unnecessary stubbing detection works is by, for each test case, calculating which stubbings were provided and which were required. If those 2 things are different, it will throw. You seem to be under the impression that Mockito should understand which stubbings were specifically provided in <code>setup</code>, and consider them separately. I suppose it could do that, but it doesn&#39;t."}],"answers":[{"comments":[{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695212323,"post_id":77141327,"comment_id":135993542,"body_markdown":"Thank you! But why is Mockito making such a big deal out of &quot;unused stubbings&quot;?","body":"Thank you! But why is Mockito making such a big deal out of &quot;unused stubbings&quot;?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1695212530,"post_id":77141327,"comment_id":135993587,"body_markdown":"I guess, &quot;unused stubbing&quot; makes it very hard to read the tests","body":"I guess, &quot;unused stubbing&quot; makes it very hard to read the tests"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695212966,"post_id":77141327,"comment_id":135993697,"body_markdown":"Also, why does it work if I simply replace `@ExtendsWith` with `@SpringBootTest`?","body":"Also, why does it work if I simply replace <code>@ExtendsWith</code> with <code>@SpringBootTest</code>?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1695214763,"post_id":77141327,"comment_id":135994169,"body_markdown":"I gues in spring they use the lenient approach see https://github.com/spring-projects/spring-boot/issues/19383","body":"I gues in spring they use the lenient approach see <a href=\"https://github.com/spring-projects/spring-boot/issues/19383\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/19383</a>"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695204006,"creation_date":1695204006,"answer_id":77141327,"question_id":77141282,"body_markdown":"The stubbings are only related to one of both tests, so for the otherone is unneccesary, thats why you get the error.\r\nSo move the stubbing to the related tests or use `@MockitoSettings(strictness = Strictness.LENIENT)`\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class RoleServiceImplTest {\r\n        @InjectMocks\r\n        RoleServiceImpl roleService;\r\n        @Mock\r\n        RoleDao roleDao;\r\n        static final String USER = &quot;USER&quot;;\r\n        static final String ADMIN = &quot;ADMIN&quot;;\r\n    \r\n        @Test\r\n        void getRoleByName() {\r\n            when(roleDao.findByAuthority(USER)).thenReturn(new Role(USER));\r\n            assertThat(roleService.getRoleByName(USER)).extracting(Role::getAuthority).isEqualTo(USER);\r\n            verify(roleDao, times(1)).findByAuthority(USER);\r\n        }\r\n    \r\n        @Test\r\n        void getAdminRoleSet() {\r\n            when(roleDao.findByAuthorityOrAuthority(USER, ADMIN))\r\n                    .thenReturn(List.of(new Role(USER), new Role(ADMIN)));\r\n            var adminRoles = roleService.getAdminRoleSet().stream()\r\n                    .map(Role::getAuthority)\r\n                    .toList();\r\n            assertThat(adminRoles.size()).isEqualTo(2);\r\n            assertThat(adminRoles).asList().contains(ADMIN, USER);\r\n            verify(roleDao, times(1)).findByAuthorityOrAuthority(USER, ADMIN);\r\n        }\r\n    }\r\n\r\nor \r\n\r\n    @MockitoSettings(strictness = Strictness.LENIENT)\r\n    class RoleServiceImplTest {\r\n","title":"UnnecessaryStubbingException: Unnecessary stubbings detected","body":"<p>The stubbings are only related to one of both tests, so for the otherone is unneccesary, thats why you get the error.\nSo move the stubbing to the related tests or use <code>@MockitoSettings(strictness = Strictness.LENIENT)</code></p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass RoleServiceImplTest {\n    @InjectMocks\n    RoleServiceImpl roleService;\n    @Mock\n    RoleDao roleDao;\n    static final String USER = &quot;USER&quot;;\n    static final String ADMIN = &quot;ADMIN&quot;;\n\n    @Test\n    void getRoleByName() {\n        when(roleDao.findByAuthority(USER)).thenReturn(new Role(USER));\n        assertThat(roleService.getRoleByName(USER)).extracting(Role::getAuthority).isEqualTo(USER);\n        verify(roleDao, times(1)).findByAuthority(USER);\n    }\n\n    @Test\n    void getAdminRoleSet() {\n        when(roleDao.findByAuthorityOrAuthority(USER, ADMIN))\n                .thenReturn(List.of(new Role(USER), new Role(ADMIN)));\n        var adminRoles = roleService.getAdminRoleSet().stream()\n                .map(Role::getAuthority)\n                .toList();\n        assertThat(adminRoles.size()).isEqualTo(2);\n        assertThat(adminRoles).asList().contains(ADMIN, USER);\n        verify(roleDao, times(1)).findByAuthorityOrAuthority(USER, ADMIN);\n    }\n}\n</code></pre>\n<p>or</p>\n<pre><code>@MockitoSettings(strictness = Strictness.LENIENT)\nclass RoleServiceImplTest {\n</code></pre>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77141327,"answer_count":1,"score":-1,"last_activity_date":1695204006,"creation_date":1695203701,"question_id":77141282,"body_markdown":"I tried to test this:\r\n```java\r\npackage pp.spring_bootstrap.service;\r\n\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport pp.spring_bootstrap.dao.RoleDao;\r\nimport pp.spring_bootstrap.models.Role;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Service\r\n@Transactional(readOnly = true)\r\npublic class RoleServiceImpl implements RoleService {\r\n    private final RoleDao roleDao;\r\n\r\n    public RoleServiceImpl(RoleDao roleDao) {\r\n        this.roleDao = roleDao;\r\n    }\r\n\r\n    @Override\r\n    public Role getRoleByName(String name) {\r\n        return roleDao.findByAuthority(name);\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Role&gt; getAdminRoleSet() {\r\n        return new HashSet&lt;&gt;(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;));\r\n    }\r\n}\r\n```\r\nHere&#39;s my test:\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\nclass RoleServiceImplTest {\r\n    @InjectMocks\r\n    RoleServiceImpl roleService;\r\n    @Mock\r\n    RoleDao roleDao;\r\n    static final String USER = &quot;USER&quot;;\r\n    static final String ADMIN = &quot;ADMIN&quot;;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        when(roleDao.findByAuthority(USER)).thenReturn(new Role(USER));\r\n        when(roleDao.findByAuthorityOrAuthority(USER, ADMIN))\r\n                .thenReturn(List.of(new Role(USER), new Role(ADMIN)));\r\n    }\r\n\r\n    @Test\r\n    void getRoleByName() {\r\n        assertThat(roleService.getRoleByName(USER)).extracting(Role::getAuthority).isEqualTo(USER);\r\n        verify(roleDao, times(1)).findByAuthority(USER);\r\n    }\r\n\r\n    @Test\r\n    void getAdminRoleSet() {\r\n        var adminRoles = roleService.getAdminRoleSet().stream()\r\n                .map(Role::getAuthority)\r\n                .toList();\r\n        assertThat(adminRoles.size()).isEqualTo(2);\r\n        assertThat(adminRoles).asList().contains(ADMIN, USER);\r\n        verify(roleDao, times(1)).findByAuthorityOrAuthority(USER, ADMIN);\r\n    }\r\n}\r\n```\r\nThe tests don&#39;t pass due to this exception:\r\n```\r\norg.mockito.exceptions.misusing.UnnecessaryStubbingException: \r\nUnnecessary stubbings detected.\r\nClean &amp; maintainable test code requires zero unnecessary code.\r\nFollowing stubbings are unnecessary (click to navigate to relevant line of code):\r\n  1. -&gt; at pp.spring_bootstrap.service.RoleServiceImplTest.setUp(RoleServiceImplTest.java:29)\r\nPlease remove unnecessary stubbings or use &#39;lenient&#39; strictness. More info: javadoc for UnnecessaryStubbingException class.\r\n```\r\nLine 29 is the first `when()` invocation:\r\n```java\r\n    @BeforeEach\r\n    void setUp() {\r\n        when(roleDao.findByAuthority(USER)).thenReturn(new Role(USER)); // this is line 29\r\n        when(roleDao.findByAuthorityOrAuthority(USER, ADMIN))\r\n                .thenReturn(List.of(new Role(USER), new Role(ADMIN)));\r\n    }\r\n```\r\nI don&#39;t see anything unnecessary about it since it&#39;s required for the `getRoleByName()` test. As you may see in the code snippet, the class method indeed invokes it\r\n\r\nWhat is the reason for this unusual behavior and what should I do to fix it?","title":"UnnecessaryStubbingException: Unnecessary stubbings detected","body":"<p>I tried to test this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package pp.spring_bootstrap.service;\n\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\nimport pp.spring_bootstrap.dao.RoleDao;\nimport pp.spring_bootstrap.models.Role;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Service\n@Transactional(readOnly = true)\npublic class RoleServiceImpl implements RoleService {\n    private final RoleDao roleDao;\n\n    public RoleServiceImpl(RoleDao roleDao) {\n        this.roleDao = roleDao;\n    }\n\n    @Override\n    public Role getRoleByName(String name) {\n        return roleDao.findByAuthority(name);\n    }\n\n    @Override\n    public Set&lt;Role&gt; getAdminRoleSet() {\n        return new HashSet&lt;&gt;(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;));\n    }\n}\n</code></pre>\n<p>Here's my test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\nclass RoleServiceImplTest {\n    @InjectMocks\n    RoleServiceImpl roleService;\n    @Mock\n    RoleDao roleDao;\n    static final String USER = &quot;USER&quot;;\n    static final String ADMIN = &quot;ADMIN&quot;;\n\n    @BeforeEach\n    void setUp() {\n        when(roleDao.findByAuthority(USER)).thenReturn(new Role(USER));\n        when(roleDao.findByAuthorityOrAuthority(USER, ADMIN))\n                .thenReturn(List.of(new Role(USER), new Role(ADMIN)));\n    }\n\n    @Test\n    void getRoleByName() {\n        assertThat(roleService.getRoleByName(USER)).extracting(Role::getAuthority).isEqualTo(USER);\n        verify(roleDao, times(1)).findByAuthority(USER);\n    }\n\n    @Test\n    void getAdminRoleSet() {\n        var adminRoles = roleService.getAdminRoleSet().stream()\n                .map(Role::getAuthority)\n                .toList();\n        assertThat(adminRoles.size()).isEqualTo(2);\n        assertThat(adminRoles).asList().contains(ADMIN, USER);\n        verify(roleDao, times(1)).findByAuthorityOrAuthority(USER, ADMIN);\n    }\n}\n</code></pre>\n<p>The tests don't pass due to this exception:</p>\n<pre><code>org.mockito.exceptions.misusing.UnnecessaryStubbingException: \nUnnecessary stubbings detected.\nClean &amp; maintainable test code requires zero unnecessary code.\nFollowing stubbings are unnecessary (click to navigate to relevant line of code):\n  1. -&gt; at pp.spring_bootstrap.service.RoleServiceImplTest.setUp(RoleServiceImplTest.java:29)\nPlease remove unnecessary stubbings or use 'lenient' strictness. More info: javadoc for UnnecessaryStubbingException class.\n</code></pre>\n<p>Line 29 is the first <code>when()</code> invocation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @BeforeEach\n    void setUp() {\n        when(roleDao.findByAuthority(USER)).thenReturn(new Role(USER)); // this is line 29\n        when(roleDao.findByAuthorityOrAuthority(USER, ADMIN))\n                .thenReturn(List.of(new Role(USER), new Role(ADMIN)));\n    }\n</code></pre>\n<p>I don't see anything unnecessary about it since it's required for the <code>getRoleByName()</code> test. As you may see in the code snippet, the class method indeed invokes it</p>\n<p>What is the reason for this unusual behavior and what should I do to fix it?</p>\n"},{"tags":["java","android","gradle"],"answers":[{"comments":[{"owner":{"account_id":16280277,"reputation":91,"user_id":11756439,"display_name":"Archiee"},"score":0,"creation_date":1666492776,"post_id":74168173,"comment_id":130949184,"body_markdown":"if you checked the repository you will find what you suggested in the &#39;build.gradle&#39; under app folder!!! apply plugin: &#39;com.android.application&#39; like soo.","body":"if you checked the repository you will find what you suggested in the &#39;build.gradle&#39; under app folder!!! apply plugin: &#39;com.android.application&#39; like soo."},{"owner":{"account_id":16280277,"reputation":91,"user_id":11756439,"display_name":"Archiee"},"score":0,"creation_date":1666493330,"post_id":74168173,"comment_id":130949233,"body_markdown":"What i understood from what your referring to is i have to cd to app folder and the run `./gradlew run` , but i use `./gradlew` for commands,located outside the app folder!!","body":"What i understood from what your referring to is i have to cd to app folder and the run <code>.&#47;gradlew run</code> , but i use <code>.&#47;gradlew</code> for commands,located outside the app folder!!"},{"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"score":1,"creation_date":1666518793,"post_id":74168173,"comment_id":130952073,"body_markdown":"Have you tried to add it to the root `build.gradle` file?","body":"Have you tried to add it to the root <code>build.gradle</code> file?"},{"owner":{"account_id":16280277,"reputation":91,"user_id":11756439,"display_name":"Archiee"},"score":0,"creation_date":1666529578,"post_id":74168173,"comment_id":130954098,"body_markdown":"i haven&#39;t, yet:! i thought about this, but what&#39;s the point from having two similar plugins? haven&#39;t found any post state this. Overall i&#39;ll try that and get back!!","body":"i haven&#39;t, yet:! i thought about this, but what&#39;s the point from having two similar plugins? haven&#39;t found any post state this. Overall i&#39;ll try that and get back!!"},{"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"score":0,"creation_date":1666538759,"post_id":74168173,"comment_id":130956003,"body_markdown":"Usually, the `build.gradle` file is placed in the root, so that should be the cause for your problem since it says that the `run` task could not be found. If you found my answer helpful, please consider marking it as &#39;Accepted&#39;, thank you! :)","body":"Usually, the <code>build.gradle</code> file is placed in the root, so that should be the cause for your problem since it says that the <code>run</code> task could not be found. If you found my answer helpful, please consider marking it as &#39;Accepted&#39;, thank you! :)"}],"tags":[],"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666489374,"creation_date":1666488964,"answer_id":74168173,"question_id":74168118,"body_markdown":"Just add this code to your `build.gradle` file:\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39; \r\n}\r\n```\r\nThe `com.android.application` plugin already includes the task `run`, so your error should be fixed.\r\n\r\nFor more information regarding this plugin, read the official documentation [here][1] (Android), and [here][2].\r\n\r\n\r\n  [1]: https://developer.android.com/studio/build#module-level\r\n  [2]: https://docs.gradle.org/current/userguide/application_plugin.html","title":"gradlew run in terminal gives Run Task not Found","body":"<p>Just add this code to your <code>build.gradle</code> file:</p>\n<pre><code>plugins {\n    id 'com.android.application' \n}\n</code></pre>\n<p>The <code>com.android.application</code> plugin already includes the task <code>run</code>, so your error should be fixed.</p>\n<p>For more information regarding this plugin, read the official documentation <a href=\"https://developer.android.com/studio/build#module-level\" rel=\"nofollow noreferrer\">here</a> (Android), and <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":16280277,"reputation":91,"user_id":11756439,"display_name":"Archiee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695203258,"creation_date":1667296094,"answer_id":74274056,"question_id":74168118,"body_markdown":"This is the plugin needed to have `run ` task available ! \r\n\r\n```\r\n// root build.gradle\r\nplugins {\r\n    id(&#39;application&#39;)\r\n}\r\n```\r\n\r\n- Now re-running `./gradlew build` does add the **run** task, provided by the plugin above . \r\n\r\n","title":"gradlew run in terminal gives Run Task not Found","body":"<p>This is the plugin needed to have <code>run </code> task available !</p>\n<pre><code>// root build.gradle\nplugins {\n    id('application')\n}\n</code></pre>\n<ul>\n<li>Now re-running <code>./gradlew build</code> does add the <strong>run</strong> task, provided by the plugin above .</li>\n</ul>\n"}],"owner":{"account_id":16280277,"reputation":91,"user_id":11756439,"display_name":"Archiee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74274056,"answer_count":2,"score":0,"last_activity_date":1695203258,"creation_date":1666488045,"question_id":74168118,"body_markdown":"I am currently experimenting with a mobile java Project, it&#39;s a google ar core , you can check it&#39;s Git Repository here   :\r\n [GoogleArcore][1]\r\n\r\n\r\n  [1]: https://github.com/google-ar/arcore-android-sdk/tree/master/samples/augmented_faces_java\r\n\r\n\r\nI managed to run the app successfully while using android studio. \r\n\r\n\r\nI cloned this project and opened it with ***vscode***, \r\nand run \r\n\r\n`./gradlew clean build` \r\n\r\nthis goes as expected!! \r\n\r\n***Problem:***  : running `./gradelw run`  gives bellow error :    \r\n\r\n\r\n ***run task is not found in the root project*** \r\n\r\n\r\nany approach to solving this !!?\r\n","title":"gradlew run in terminal gives Run Task not Found","body":"<p>I am currently experimenting with a mobile java Project, it's a google ar core , you can check it's Git Repository here   :\n<a href=\"https://github.com/google-ar/arcore-android-sdk/tree/master/samples/augmented_faces_java\" rel=\"nofollow noreferrer\">GoogleArcore</a></p>\n<p>I managed to run the app successfully while using android studio.</p>\n<p>I cloned this project and opened it with <em><strong>vscode</strong></em>,\nand run</p>\n<p><code>./gradlew clean build</code></p>\n<p>this goes as expected!!</p>\n<p><em><strong>Problem:</strong></em>  : running <code>./gradelw run</code>  gives bellow error :</p>\n<p><em><strong>run task is not found in the root project</strong></em></p>\n<p>any approach to solving this !!?</p>\n"},{"tags":["java","ffmpeg","javacv","bytedeco-javacv"],"comments":[{"owner":{"account_id":1117539,"reputation":2100,"user_id":1106547,"accept_rate":63,"display_name":"mortalis"},"score":0,"creation_date":1695316538,"post_id":77141166,"comment_id":136011549,"body_markdown":"What is line 31 in imageToVideo.java?","body":"What is line 31 in imageToVideo.java?"},{"owner":{"account_id":1117539,"reputation":2100,"user_id":1106547,"accept_rate":63,"display_name":"mortalis"},"score":0,"creation_date":1695316897,"post_id":77141166,"comment_id":136011623,"body_markdown":"There&#39;s `PacketRecorderTest.java` in the samples of the bytedeco-javacv library. Try to start from there, first with a video to video conversion (with `frameRecord()`). Then change input to a wav audio. Does it give the same error?","body":"There&#39;s <code>PacketRecorderTest.java</code> in the samples of the bytedeco-javacv library. Try to start from there, first with a video to video conversion (with <code>frameRecord()</code>). Then change input to a wav audio. Does it give the same error?"},{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1695466235,"post_id":77141166,"comment_id":136030215,"body_markdown":"Try to call `recorder.setAudioChannels(grabber.getAudioChannels())` after `grabber.start()` but before `recorder.start()`.","body":"Try to call <code>recorder.setAudioChannels(grabber.getAudioChannels())</code> after <code>grabber.start()</code> but before <code>recorder.start()</code>."}],"owner":{"account_id":25047248,"reputation":21,"user_id":18903536,"display_name":"Lazzza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695202740,"creation_date":1695202740,"question_id":77141166,"body_markdown":"I am attempting to combine an Audio source with Buffered images to create a video like so:\r\n```java\r\npublic static void compileVideo(BufferedImage[] bufferedImages, String audioPath , String savePath) throws FFmpegFrameRecorder.Exception, FrameGrabber.Exception {\r\n        FrameGrabber grabber = new FFmpegFrameGrabber(audioPath); // need this for audio\r\n        FFmpegFrameRecorder recorder = new FFmpegFrameRecorder(savePath, 316, 100, grabber.getAudioChannels());\r\n        FFmpegLogCallback.set();\r\n\r\n        \r\n        //grabber.setAudioChannels(grabber.getAudioChannels());\r\n        System.out.println(grabber.getAudioChannels());\r\n        // set up the recorder video info\r\n        recorder.setFrameRate(60);\r\n        recorder.setFormat(&quot;mp4&quot;);\r\n        recorder.setVideoQuality(0); // highest quality\r\n\r\n        // set recorder audio info\r\n        recorder.setSampleFormat(grabber.getSampleFormat());\r\n        recorder.setSampleRate(grabber.getSampleRate());\r\n        recorder.setAudioQuality(0); // highest quality\r\n        \r\n        grabber.start();\r\n        recorder.start();\r\n\r\n        for (BufferedImage image: bufferedImages) {\r\n            recorder.record(Java2DFrameUtils.toFrame(image)); // convert buffered image to frame and record it\r\n            recorder.record(grabber.grabFrame()); //TODO: Grab multiple audio frames because there are more audio frames than video frames (BufferedImages)\r\n        }\r\n        recorder.stop();\r\n        grabber.stop();\r\n    }\r\n```\r\n\r\nHowever, it throws the following error:\r\n```\r\nException in thread &quot;main&quot; org.bytedeco.javacv.FFmpegFrameRecorder$Exception: No audio output stream (Is audioChannels &gt; 0 and has start() been called?) (For more details, make sure FFmpegLogCallback.set() has been called.)\r\n\tat org.bytedeco.javacv.FFmpegFrameRecorder.recordSamples(FFmpegFrameRecorder.java:1154)\r\n\tat org.bytedeco.javacv.FFmpegFrameRecorder.record(FFmpegFrameRecorder.java:1021)\r\n\tat org.bytedeco.javacv.FFmpegFrameRecorder.record(FFmpegFrameRecorder.java:1010)\r\n\tat com.Lazzza.imageToVideo.compileVideo(imageToVideo.java:31)\r\n\tat com.Lazzza.Main.main(Main.java:22)\r\n```\r\n```grabber.getAudioChannels``` returns 2.\r\nWill also note that the file format I am using is .wav\r\n\r\nAny help would be appreciated thanks\r\n\t","title":"Error recording audio with FFmpegFrameGrabber","body":"<p>I am attempting to combine an Audio source with Buffered images to create a video like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void compileVideo(BufferedImage[] bufferedImages, String audioPath , String savePath) throws FFmpegFrameRecorder.Exception, FrameGrabber.Exception {\n        FrameGrabber grabber = new FFmpegFrameGrabber(audioPath); // need this for audio\n        FFmpegFrameRecorder recorder = new FFmpegFrameRecorder(savePath, 316, 100, grabber.getAudioChannels());\n        FFmpegLogCallback.set();\n\n        \n        //grabber.setAudioChannels(grabber.getAudioChannels());\n        System.out.println(grabber.getAudioChannels());\n        // set up the recorder video info\n        recorder.setFrameRate(60);\n        recorder.setFormat(&quot;mp4&quot;);\n        recorder.setVideoQuality(0); // highest quality\n\n        // set recorder audio info\n        recorder.setSampleFormat(grabber.getSampleFormat());\n        recorder.setSampleRate(grabber.getSampleRate());\n        recorder.setAudioQuality(0); // highest quality\n        \n        grabber.start();\n        recorder.start();\n\n        for (BufferedImage image: bufferedImages) {\n            recorder.record(Java2DFrameUtils.toFrame(image)); // convert buffered image to frame and record it\n            recorder.record(grabber.grabFrame()); //TODO: Grab multiple audio frames because there are more audio frames than video frames (BufferedImages)\n        }\n        recorder.stop();\n        grabber.stop();\n    }\n</code></pre>\n<p>However, it throws the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.bytedeco.javacv.FFmpegFrameRecorder$Exception: No audio output stream (Is audioChannels &gt; 0 and has start() been called?) (For more details, make sure FFmpegLogCallback.set() has been called.)\n    at org.bytedeco.javacv.FFmpegFrameRecorder.recordSamples(FFmpegFrameRecorder.java:1154)\n    at org.bytedeco.javacv.FFmpegFrameRecorder.record(FFmpegFrameRecorder.java:1021)\n    at org.bytedeco.javacv.FFmpegFrameRecorder.record(FFmpegFrameRecorder.java:1010)\n    at com.Lazzza.imageToVideo.compileVideo(imageToVideo.java:31)\n    at com.Lazzza.Main.main(Main.java:22)\n</code></pre>\n<p><code>grabber.getAudioChannels</code> returns 2.\nWill also note that the file format I am using is .wav</p>\n<p>Any help would be appreciated thanks</p>\n"},{"tags":["java","spring-boot","graalvm-native-image"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":1,"creation_date":1678085436,"post_id":75634047,"comment_id":133457974,"body_markdown":"Try setting `GRAALVM_HOME` and/or setting `JAVA_HOME` to point to GraalVM rather than plain JDK","body":"Try setting <code>GRAALVM_HOME</code> and/or setting <code>JAVA_HOME</code> to point to GraalVM rather than plain JDK"},{"owner":{"account_id":27200213,"reputation":41,"user_id":20732552,"display_name":"ImaginativeGoldfish"},"score":0,"creation_date":1678167477,"post_id":75634047,"comment_id":133476327,"body_markdown":"@peterz I just tried setting my GRAALVM_HOME and my JAVA_HOME (which is already set for local and global), but still the same issue. For the record, I also tried this on linux with a different graalvm setup and had the same issue.","body":"@peterz I just tried setting my GRAALVM_HOME and my JAVA_HOME (which is already set for local and global), but still the same issue. For the record, I also tried this on linux with a different graalvm setup and had the same issue."}],"answers":[{"tags":[],"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682325449,"creation_date":1682325449,"answer_id":76090066,"question_id":75634047,"body_markdown":"The `gu.cmd` must be in your `PATH` environment variable.\r\n\r\nTo do so, you need to add the `GRAALVM_HOME/bin` folder to your `PATH` variable.","title":"Issue Compiling Spring Boot to Native Image","body":"<p>The <code>gu.cmd</code> must be in your <code>PATH</code> environment variable.</p>\n<p>To do so, you need to add the <code>GRAALVM_HOME/bin</code> folder to your <code>PATH</code> variable.</p>\n"}],"owner":{"account_id":27200213,"reputation":41,"user_id":20732552,"display_name":"ImaginativeGoldfish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3601,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695202612,"creation_date":1677911178,"question_id":75634047,"body_markdown":"I would like to preface this with how I&#39;m relatively new to Spring Boot and GraalVM, and have been having issues with it. (I set it up using spring intializer). Whenever I try to use the Spring Boot native image to make my program into a native image, it gives me the following error (when running `mvn clean package -Pnative`):\r\n\r\n\r\n```\r\n&#39;gu.cmd&#39; tool wasn&#39;t found. This probably means that JDK at isn&#39;t a GraalVM distribution.\r\n```\r\n\r\n\r\nAdditionally, if this helps at all I would like to generate a native image to be able to run locally or on a deployment server since I&#39;m building an API.\r\n\r\nSo far, I&#39;ve tried reinstalling GraalVM and the required plugins (I&#39;m on Windows). I have installed the native-image in GraalVM using gu, and used the Spring Initializer to set up my project. Below are some outputs you may find useful:\r\n\r\nHere&#39;s java version:\r\n\r\n```\r\nopenjdk 19.0.2 2023-01-17\r\nOpenJDK Runtime Environment GraalVM CE 22.3.1 (build 19.0.2+7-jvmci-22.3-b12)\r\nOpenJDK 64-Bit Server VM GraalVM CE 22.3.1 (build 19.0.2+7-jvmci-22.3-b12, mixed mode, sharing)\r\n```\r\n\r\nHere&#39;s my output when running `native-image --version`\r\n\r\n```\r\nGraalVM 22.3.1 Java 19 CE (Java Version 19.0.2+7-jvmci-22.3-b12)\r\n```\r\n\r\n\r\nHere&#39;s my pom.xml:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;org.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;peoplegeneratorapi&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;peoplegeneratorapi&lt;/name&gt;\r\n\t&lt;description&gt;People generator API with Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;generate-docs&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;process-asciidoc&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;backend&gt;html&lt;/backend&gt;\r\n\t\t\t\t\t\t\t&lt;doctype&gt;book&lt;/doctype&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${spring-restdocs.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;native&lt;/id&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;build-native&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;compile-no-fork&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAnd here&#39;s a working `mvn spring-boot:start` if this helps any:\r\n\r\n```\r\nC:\\Users\\XX\\.jdks\\graalvm-ce-19\\bin\\java.exe -Dmaven.multiModuleProjectDirectory=C:\\Users\\XX\\Documents\\Code\\peoplegeneratorapi -Djansi.passthrough=true -Dmaven.home=C:\\Users\\XX\\.m2\\wrapper\\dists\\apache-maven-3.8.7-bin\\1ktonn2lleg549uah6ngl1r74r\\apache-maven-3.8.7 -Dclassworlds.conf=C:\\Users\\XX\\.m2\\wrapper\\dists\\apache-maven-3.8.7-bin\\1ktonn2lleg549uah6ngl1r74r\\apache-maven-3.8.7\\bin\\m2.conf &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.3.2\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.3.2\\lib\\idea_rt.jar=65445:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.3.2\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\\Users\\XX\\.m2\\wrapper\\dists\\apache-maven-3.8.7-bin\\1ktonn2lleg549uah6ngl1r74r\\apache-maven-3.8.7\\boot\\plexus-classworlds-2.6.0.jar;C:\\Users\\XX\\.m2\\wrapper\\dists\\apache-maven-3.8.7-bin\\1ktonn2lleg549uah6ngl1r74r\\apache-maven-3.8.7\\boot\\plexus-classworlds.license org.codehaus.classworlds.Launcher -Didea.version=2022.3.2 spring-boot:start\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ---------------&lt; org.example:peoplegeneratorapi &gt;---------------\r\n[INFO] Building peoplegeneratorapi 0.0.1-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- spring-boot-maven-plugin:3.0.4:start (default-cli) @ peoplegeneratorapi ---\r\n[INFO] Attaching agents: []\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.4)\r\n\r\n2023-03-04T12:15:52.890+05:30  INFO 12652 --- [  restartedMain] o.example.peoplegenerator.Main   : Starting Main using Java 19.0.2 with PID 12652 (C:\\Users\\XX\\Documents\\Code\\peoplegeneratorapi\\target\\classes started by XX in C:\\Users\\XX\\Documents\\Code\\peoplegeneratorapi)\r\n2023-03-04T12:15:52.893+05:30  INFO 12652 --- [  restartedMain] o.example.peoplegenerator.Main   : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-03-04T12:15:52.959+05:30  INFO 12652 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-03-04T12:15:52.959+05:30  INFO 12652 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-03-04T12:15:53.826+05:30  INFO 12652 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-03-04T12:15:53.835+05:30  INFO 12652 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-03-04T12:15:53.835+05:30  INFO 12652 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\r\n2023-03-04T12:15:53.889+05:30  INFO 12652 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-03-04T12:15:53.889+05:30  INFO 12652 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 929 ms\r\n2023-03-04T12:15:54.229+05:30  INFO 12652 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2023-03-04T12:15:54.254+05:30  INFO 12652 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-03-04T12:15:54.263+05:30  INFO 12652 --- [  restartedMain] o.example.peoplegenerator.Main   : Started Main in 1.741 seconds (process running for 21.409)\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  23.047 s\r\n[INFO] Finished at: 2023-03-04T12:15:54+05:30\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n```\r\n\r\nAnd the output when running `mvn clean package -Pnative`:\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  22.665 s\r\n[INFO] Finished at: 2023-03-04T12:40:38+05:30\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.graalvm.buildtools:native-maven-plugin:0.9.20:compile-no-fork (build-native) on project peoplegeneratorapi: &#39;gu.cmd&#39; tool wasn&#39;t found. This probably means that JDK at isn&#39;t a GraalVM distribution. -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nEdit: I&#39;m not too sure how I might give a minimal reproducible example for this, so I tried my best to describe the issue as descriptively as possible.","title":"Issue Compiling Spring Boot to Native Image","body":"<p>I would like to preface this with how I'm relatively new to Spring Boot and GraalVM, and have been having issues with it. (I set it up using spring intializer). Whenever I try to use the Spring Boot native image to make my program into a native image, it gives me the following error (when running <code>mvn clean package -Pnative</code>):</p>\n<pre><code>'gu.cmd' tool wasn't found. This probably means that JDK at isn't a GraalVM distribution.\n</code></pre>\n<p>Additionally, if this helps at all I would like to generate a native image to be able to run locally or on a deployment server since I'm building an API.</p>\n<p>So far, I've tried reinstalling GraalVM and the required plugins (I'm on Windows). I have installed the native-image in GraalVM using gu, and used the Spring Initializer to set up my project. Below are some outputs you may find useful:</p>\n<p>Here's java version:</p>\n<pre><code>openjdk 19.0.2 2023-01-17\nOpenJDK Runtime Environment GraalVM CE 22.3.1 (build 19.0.2+7-jvmci-22.3-b12)\nOpenJDK 64-Bit Server VM GraalVM CE 22.3.1 (build 19.0.2+7-jvmci-22.3-b12, mixed mode, sharing)\n</code></pre>\n<p>Here's my output when running <code>native-image --version</code></p>\n<pre><code>GraalVM 22.3.1 Java 19 CE (Java Version 19.0.2+7-jvmci-22.3-b12)\n</code></pre>\n<p>Here's my pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;peoplegeneratorapi&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;peoplegeneratorapi&lt;/name&gt;\n    &lt;description&gt;People generator API with Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n            &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n            &lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\n                &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-docs&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process-asciidoc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;backend&gt;html&lt;/backend&gt;\n                            &lt;doctype&gt;book&lt;/doctype&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;\n                        &lt;version&gt;${spring-restdocs.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;native&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                        &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;build-native&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;compile-no-fork&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>And here's a working <code>mvn spring-boot:start</code> if this helps any:</p>\n<pre><code>C:\\Users\\XX\\.jdks\\graalvm-ce-19\\bin\\java.exe -Dmaven.multiModuleProjectDirectory=C:\\Users\\XX\\Documents\\Code\\peoplegeneratorapi -Djansi.passthrough=true -Dmaven.home=C:\\Users\\XX\\.m2\\wrapper\\dists\\apache-maven-3.8.7-bin\\1ktonn2lleg549uah6ngl1r74r\\apache-maven-3.8.7 -Dclassworlds.conf=C:\\Users\\XX\\.m2\\wrapper\\dists\\apache-maven-3.8.7-bin\\1ktonn2lleg549uah6ngl1r74r\\apache-maven-3.8.7\\bin\\m2.conf &quot;-Dmaven.ext.class.path=C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.3.2\\plugins\\maven\\lib\\maven-event-listener.jar&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.3.2\\lib\\idea_rt.jar=65445:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2022.3.2\\bin&quot; -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath C:\\Users\\XX\\.m2\\wrapper\\dists\\apache-maven-3.8.7-bin\\1ktonn2lleg549uah6ngl1r74r\\apache-maven-3.8.7\\boot\\plexus-classworlds-2.6.0.jar;C:\\Users\\XX\\.m2\\wrapper\\dists\\apache-maven-3.8.7-bin\\1ktonn2lleg549uah6ngl1r74r\\apache-maven-3.8.7\\boot\\plexus-classworlds.license org.codehaus.classworlds.Launcher -Didea.version=2022.3.2 spring-boot:start\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ---------------&lt; org.example:peoplegeneratorapi &gt;---------------\n[INFO] Building peoplegeneratorapi 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- spring-boot-maven-plugin:3.0.4:start (default-cli) @ peoplegeneratorapi ---\n[INFO] Attaching agents: []\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.4)\n\n2023-03-04T12:15:52.890+05:30  INFO 12652 --- [  restartedMain] o.example.peoplegenerator.Main   : Starting Main using Java 19.0.2 with PID 12652 (C:\\Users\\XX\\Documents\\Code\\peoplegeneratorapi\\target\\classes started by XX in C:\\Users\\XX\\Documents\\Code\\peoplegeneratorapi)\n2023-03-04T12:15:52.893+05:30  INFO 12652 --- [  restartedMain] o.example.peoplegenerator.Main   : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-03-04T12:15:52.959+05:30  INFO 12652 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-03-04T12:15:52.959+05:30  INFO 12652 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-03-04T12:15:53.826+05:30  INFO 12652 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-03-04T12:15:53.835+05:30  INFO 12652 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-03-04T12:15:53.835+05:30  INFO 12652 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\n2023-03-04T12:15:53.889+05:30  INFO 12652 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-03-04T12:15:53.889+05:30  INFO 12652 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 929 ms\n2023-03-04T12:15:54.229+05:30  INFO 12652 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-03-04T12:15:54.254+05:30  INFO 12652 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-03-04T12:15:54.263+05:30  INFO 12652 --- [  restartedMain] o.example.peoplegenerator.Main   : Started Main in 1.741 seconds (process running for 21.409)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  23.047 s\n[INFO] Finished at: 2023-03-04T12:15:54+05:30\n[INFO] ------------------------------------------------------------------------\n\n</code></pre>\n<p>And the output when running <code>mvn clean package -Pnative</code>:</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  22.665 s\n[INFO] Finished at: 2023-03-04T12:40:38+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.graalvm.buildtools:native-maven-plugin:0.9.20:compile-no-fork (build-native) on project peoplegeneratorapi: 'gu.cmd' tool wasn't found. This probably means that JDK at isn't a GraalVM distribution. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>Edit: I'm not too sure how I might give a minimal reproducible example for this, so I tried my best to describe the issue as descriptively as possible.</p>\n"},{"tags":["java","activemq","failover"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1695129519,"post_id":77133599,"comment_id":135980490,"body_markdown":"What version of ActiveMQ are you using?","body":"What version of ActiveMQ are you using?"}],"answers":[{"comments":[{"owner":{"account_id":4112149,"reputation":1,"user_id":21115947,"display_name":"user61815"},"score":0,"creation_date":1695364985,"post_id":77134909,"comment_id":136017068,"body_markdown":"Thanks Justin, tried without // but still the same. I do not get any error message but no messages are read.  I&#39;m running two microservices in parallel, one with single IP in broker URL and one with the failover URL. that&#39;s how I know when new messages arrive.","body":"Thanks Justin, tried without // but still the same. I do not get any error message but no messages are read.  I&#39;m running two microservices in parallel, one with single IP in broker URL and one with the failover URL. that&#39;s how I know when new messages arrive."}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695129480,"creation_date":1695129480,"answer_id":77134909,"question_id":77133599,"body_markdown":"It appears you have an extra `//` in the failover URL. Try using this instead:\r\n```java\r\nprivate static String url = &quot;failover:(tcp://1.2.2.4:61616,tcp://17.3.2.50:61616,tcp://14.3.8.6:61616,tcp://2.3.0.4:61616,tcp://7.2.2.5:61616,tcp://32.33.1.6:61616)?randomize=false&quot;;\r\n```","title":"ActiveMQ failover connection not working but works with single IP","body":"<p>It appears you have an extra <code>//</code> in the failover URL. Try using this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String url = &quot;failover:(tcp://1.2.2.4:61616,tcp://17.3.2.50:61616,tcp://14.3.8.6:61616,tcp://2.3.0.4:61616,tcp://7.2.2.5:61616,tcp://32.33.1.6:61616)?randomize=false&quot;;\n</code></pre>\n"}],"owner":{"account_id":4112149,"reputation":1,"user_id":21115947,"display_name":"user61815"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695202409,"creation_date":1695117886,"question_id":77133599,"body_markdown":"I&#39;m new to Java and writing a microservice that connects to an ActiveMQ cluster. I can connect to the cluster and read messages successfully when I use one single broker IP address. However, the connection doesn&#39;t work when I pass all IP&#39;s as a failover config.\r\n\r\nWorking config:\r\n```java\r\n    private static String url = &quot;tcp://1.2.3.4:61616&quot;;\r\n    ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\r\n    connectionFactory.setUserName(&quot;abc@abc&quot;);\r\n    connectionFactory.setPassword(&quot;abc&quot;);\r\n    connectionFactory.setClientID(&quot;testingClient&quot;);\r\n```\r\nFailed config:\r\n```java\r\n    private static String url = &quot;failover://(tcp://1.2.2.4:61616,tcp://17.3.2.50:61616,tcp://14.3.8.6:61616,tcp://2.3.0.4:61616,tcp://7.2.2.5:61616,tcp://32.33.1.6:61616)?randomize=false&quot;;\r\n    ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\r\n    connectionFactory.setUserName(&quot;abc@abc&quot;);\r\n    connectionFactory.setPassword(&quot;abc&quot;);\r\n    connectionFactory.setClientID(&quot;testingClient&quot;); \r\n```","title":"ActiveMQ failover connection not working but works with single IP","body":"<p>I'm new to Java and writing a microservice that connects to an ActiveMQ cluster. I can connect to the cluster and read messages successfully when I use one single broker IP address. However, the connection doesn't work when I pass all IP's as a failover config.</p>\n<p>Working config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static String url = &quot;tcp://1.2.3.4:61616&quot;;\n    ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\n    connectionFactory.setUserName(&quot;abc@abc&quot;);\n    connectionFactory.setPassword(&quot;abc&quot;);\n    connectionFactory.setClientID(&quot;testingClient&quot;);\n</code></pre>\n<p>Failed config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static String url = &quot;failover://(tcp://1.2.2.4:61616,tcp://17.3.2.50:61616,tcp://14.3.8.6:61616,tcp://2.3.0.4:61616,tcp://7.2.2.5:61616,tcp://32.33.1.6:61616)?randomize=false&quot;;\n    ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\n    connectionFactory.setUserName(&quot;abc@abc&quot;);\n    connectionFactory.setPassword(&quot;abc&quot;);\n    connectionFactory.setClientID(&quot;testingClient&quot;); \n</code></pre>\n"},{"tags":["java","microservices","circuit-breaker","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":2012119,"reputation":485,"user_id":1800319,"display_name":"Raghvendra Garg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695202155,"creation_date":1695202155,"answer_id":77141082,"question_id":76940489,"body_markdown":"according to Resilience4j Doc.\r\n\r\n&gt; The fallback method mechanism works like a try/catch block. If a fallback method is configured, every exception is forwarded to a fallback method executor. The fallback method executor is searching for the best matching fallback method that can handle the exception. Similar to a catch block. The fallback is executed independently of the current state of the circuit breaker.\r\n\r\nYour fallback method will be invoked when `createNotificationsAboutUpcomingDeadlines` throws a RuntimeException and since ConnectException is not a runtime exception so fallback is not getting invoked, if you want to catch all Exceptions change the fallback method like below.\r\n\r\n    public void fallbackMethod(Exception exception) {\r\n        System.out.println(&quot;Not working&quot;);\r\n    }","title":"Spring boot resilience4j circuit breaker fallback method not being called","body":"<p>according to Resilience4j Doc.</p>\n<blockquote>\n<p>The fallback method mechanism works like a try/catch block. If a fallback method is configured, every exception is forwarded to a fallback method executor. The fallback method executor is searching for the best matching fallback method that can handle the exception. Similar to a catch block. The fallback is executed independently of the current state of the circuit breaker.</p>\n</blockquote>\n<p>Your fallback method will be invoked when <code>createNotificationsAboutUpcomingDeadlines</code> throws a RuntimeException and since ConnectException is not a runtime exception so fallback is not getting invoked, if you want to catch all Exceptions change the fallback method like below.</p>\n<pre><code>public void fallbackMethod(Exception exception) {\n    System.out.println(&quot;Not working&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":23142893,"reputation":5,"user_id":17246090,"display_name":"StuckyBoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695202155,"creation_date":1692551058,"question_id":76940489,"body_markdown":"In my project, I followed instructions from tutorial and ended up with a not working circuit breaker. Here is the code: \r\n**application.properties**\r\n```\r\n## circuit breaker\r\nmanagement.endpoints.web.exposure.include=*\r\nmanagement.endpoint.health.show-details=always\r\nmanagement.health.circuitbreakers.enabled=true\r\n\r\nresilience4j.circuitbreaker.instances.reservation.failure-rate-threshold=50\r\nresilience4j.circuitbreaker.instances.reservation.minimum-number-of-calls=5\r\nresilience4j.circuitbreaker.instances.reservation.automatic-transition-from-open-to-half-open-enabled=true\r\nresilience4j.circuitbreaker.instances.reservation.wait-duration-in-open-state=5s\r\nresilience4j.circuitbreaker.instances.reservation.permitted-number-of-calls-in-half-open-state=3\r\nresilience4j.circuitbreaker.instances.reservation.sliding-window-size=10\r\nresilience4j.circuitbreaker.instances.reservation.sliding-window-type=count_based\r\nresilience4j.circuitbreaker.configs.default.registerHealthIndicator=true\r\n```\r\n\r\n**NotificationController.java**\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/notification&quot;)\r\npublic class NotificationApiController {\r\n\r\n    @Autowired\r\n    private NotificationService notificationService;\r\n\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.OK)\r\n    @CircuitBreaker(name = &quot;reservation&quot;, fallbackMethod = &quot;fallbackMethod&quot;)\r\n    public void createNotificationsAboutUpcomingDeadlines() {\r\n        notificationService.createNotificationsAboutUpcomingDeadlines();\r\n    }\r\n\r\n    public void fallbackMethod(RuntimeException runtimeException) {\r\n        System.out.println(&quot;Not working&quot;);\r\n    }\r\n}\r\n```\r\n\r\nand the fragment of **NotificationService** that is calling another microservice:\r\n\r\n```\r\n    private List&lt;BookDto&gt; queryCatalogServiceForItemsDetails(List&lt;ReservationDto&gt; reservationItemDtoList){\r\n        List&lt;Integer&gt; bookIsbnList = reservationItemDtoList.stream()\r\n                .flatMap(reservation -&gt; reservation.getReservationItemList().stream())\r\n                .map(ReservationItemDto::getBookIsbn)\r\n                .collect(Collectors.toList());\r\n\r\n        Object[] x = webClientBuilder.build().get()\r\n                .uri(String.format(&quot;http://catalogService/api/catalog?ids=%s&quot;, bookIsbnList.stream()\r\n                        .map(Object::toString)\r\n                        .collect(Collectors.joining(&quot;, &quot;))))\r\n                .retrieve()\r\n                .bodyToMono(Object[].class)\r\n                .block();\r\n        return Arrays.stream(x)\r\n                .map(object -&gt; mapper.convertValue(object, BookDto.class))\r\n                .collect(Collectors.toList());\r\n    }\r\n```\r\n\r\nThe problem is that when the catalogService is down, the notificationService ends up with:\r\n```java.net.ConnectException: Connection refused: no further information``` \r\nInstead of triggering fallback method. Any ideas why? ","title":"Spring boot resilience4j circuit breaker fallback method not being called","body":"<p>In my project, I followed instructions from tutorial and ended up with a not working circuit breaker. Here is the code:\n<strong>application.properties</strong></p>\n<pre><code>## circuit breaker\nmanagement.endpoints.web.exposure.include=*\nmanagement.endpoint.health.show-details=always\nmanagement.health.circuitbreakers.enabled=true\n\nresilience4j.circuitbreaker.instances.reservation.failure-rate-threshold=50\nresilience4j.circuitbreaker.instances.reservation.minimum-number-of-calls=5\nresilience4j.circuitbreaker.instances.reservation.automatic-transition-from-open-to-half-open-enabled=true\nresilience4j.circuitbreaker.instances.reservation.wait-duration-in-open-state=5s\nresilience4j.circuitbreaker.instances.reservation.permitted-number-of-calls-in-half-open-state=3\nresilience4j.circuitbreaker.instances.reservation.sliding-window-size=10\nresilience4j.circuitbreaker.instances.reservation.sliding-window-type=count_based\nresilience4j.circuitbreaker.configs.default.registerHealthIndicator=true\n</code></pre>\n<p><strong>NotificationController.java</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/notification&quot;)\npublic class NotificationApiController {\n\n    @Autowired\n    private NotificationService notificationService;\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.OK)\n    @CircuitBreaker(name = &quot;reservation&quot;, fallbackMethod = &quot;fallbackMethod&quot;)\n    public void createNotificationsAboutUpcomingDeadlines() {\n        notificationService.createNotificationsAboutUpcomingDeadlines();\n    }\n\n    public void fallbackMethod(RuntimeException runtimeException) {\n        System.out.println(&quot;Not working&quot;);\n    }\n}\n</code></pre>\n<p>and the fragment of <strong>NotificationService</strong> that is calling another microservice:</p>\n<pre><code>    private List&lt;BookDto&gt; queryCatalogServiceForItemsDetails(List&lt;ReservationDto&gt; reservationItemDtoList){\n        List&lt;Integer&gt; bookIsbnList = reservationItemDtoList.stream()\n                .flatMap(reservation -&gt; reservation.getReservationItemList().stream())\n                .map(ReservationItemDto::getBookIsbn)\n                .collect(Collectors.toList());\n\n        Object[] x = webClientBuilder.build().get()\n                .uri(String.format(&quot;http://catalogService/api/catalog?ids=%s&quot;, bookIsbnList.stream()\n                        .map(Object::toString)\n                        .collect(Collectors.joining(&quot;, &quot;))))\n                .retrieve()\n                .bodyToMono(Object[].class)\n                .block();\n        return Arrays.stream(x)\n                .map(object -&gt; mapper.convertValue(object, BookDto.class))\n                .collect(Collectors.toList());\n    }\n</code></pre>\n<p>The problem is that when the catalogService is down, the notificationService ends up with:\n<code>java.net.ConnectException: Connection refused: no further information</code>\nInstead of triggering fallback method. Any ideas why?</p>\n"},{"tags":["java","android","android-recyclerview","android-mvp","bottomsheetdialogfragment"],"owner":{"account_id":26226531,"reputation":1,"user_id":19903153,"display_name":"Aysha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695201909,"creation_date":1695201909,"question_id":77141048,"body_markdown":"I have a bottomsheet fragment and I have implemented two recyclerviews in it. The bottomsheet takes the argument of a arraylist of a custom datatype &quot;UserMedicalData&quot;. This custom type has an argument of type boolean .If the boolean is true it should be added to the dataset of recyclerview b and should be check marked in recyclerview A. if we click on an item in recyclerview A , it should change it&#39;s boolean status . If the boolean is true it should be added to the recyclerview B anmd should be marked checked in recyclerview A. If it was already marked checked , it should tutn its boolean status to false, uncheck itself and remove itself from the recyclerview B. \r\nAlso if the item is clicked in recyclerview B ,it should turn its boolean status to false and delete itself from recyclerview B&#39;s dataset and uncheck itslef from the recyclerview A.\r\nIn simple terms , if the item&#39;s boolean is true it should be added to recyclerview B , iof not it should be removed from recyclerview B. In all cases, the boolean status should be reflected in the recyclerview A. I have implemented a soultion , please help me optimize it .Here are the files\r\n\r\nThe bottomsheet fragment:\r\n```\r\npublic class DiseasesBottomSheetFragment  extends BottomSheetDialogFragment implements SelectDiseaseBottomSheetView, View.OnTouchListener, TextWatcher, View.OnClickListener  {\r\n\r\n    private SelectDiseaseBottomSheetViewHolder holder;\r\n    private SelectDiseaseBottomSheetPresenter presenter;\r\n\r\n    private AllDiseasesAdapter adapter;\r\n    private SelectedDiseaseBottomSheetAdapter selectedDiseasesAdapter;\r\n    private DiseaseFragmentCallback callback;\r\n    private BottomSheetBehavior&lt;View&gt; bottomSheetBehavior;\r\n\r\n\r\n    public DiseasesBottomSheetFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        WindowManager windowManager = requireActivity().getWindowManager();\r\n        DisplayMetrics displayMetrics = new DisplayMetrics();\r\n        windowManager.getDefaultDisplay().getMetrics(displayMetrics);\r\n        int screenHeight = displayMetrics.heightPixels;\r\n        int desiredHeight = (int) (screenHeight * 0.94);\r\n\r\n\r\n        CoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams) ((View) view.getParent()).getLayoutParams();\r\n        bottomSheetBehavior = (BottomSheetBehavior&lt;View&gt;) params.getBehavior();\r\n        assert bottomSheetBehavior != null;\r\n        bottomSheetBehavior.setPeekHeight(desiredHeight);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_diseases_bottom_sheet, container, false);\r\n        initGui(view);\r\n        initVariables();\r\n        recieveArguments();\r\n        setItemsForAllDiseasesRV();\r\n        setItemsForSelectedDiseasesRV();\r\n        setListeners();\r\n        return view;\r\n    }\r\n    private void setItemsForSelectedDiseasesRV() {\r\n        if (!getSelectedItems().isEmpty()){\r\n            setSelectedDiseasesRV(presenter.getItems());\r\n        }\r\n    }\r\n    private void setItemsForAllDiseasesRV() {\r\n        if (Objects.requireNonNull(holder.getSearchEditText().getText()).toString().isEmpty()){\r\n            if (!presenter.getAllDiseasesList().isEmpty()){\r\n                setAllDiseasesRV(presenter.getAllDiseasesList());\r\n            }\r\n            else{\r\n                Toast.makeText(getContext(), &quot;Please retry again later.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n        else{\r\n            setUpFilteredRV();\r\n        }\r\n    }\r\n\r\n    private void setUpFilteredRV() {\r\n    }\r\n\r\n    private void recieveArguments() {\r\n        // Retrieve arguments\r\n        Bundle args = getArguments();\r\n        if (args != null) {\r\n            presenter.ProcessArguments(args);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void addToSelectedItems(int position) {\r\n        if (!getSelectedItems().contains(getAllItems().get(position))){\r\n            getSelectedItems().add(getAllItems().get(position));\r\n        }\r\n    }\r\n\r\n    private void setListeners() {\r\n        holder.getDoneButton().setOnClickListener(this);\r\n        holder.getSearchEditText().setOnTouchListener(this);\r\n        holder.getSearchEditText().addTextChangedListener(this);\r\n\r\n    }\r\n    private void initGui(View view) {\r\n        holder = new SelectDiseaseBottomSheetViewHolder(view);\r\n    }\r\n    private void initVariables() {presenter = new SelectDiseaseBottomSheetPresenter( this, getContext());}\r\n\r\n    private AdpaterViewItemClickedListener adpaterViewItemClickedListener = new AdpaterViewItemClickedListener() {\r\n        @Override\r\n        public void onAdatviewItemClicked(int position) {}\r\n\r\n        @Override\r\n        public void onAdatviewItemClicked(int position, int requestID) {\r\n            if (requestID == AppConstants.DISEASE_CLICKED_TO_ADD_TO_LIST) {\r\n                getAllItems().get(position).setSelected(true);\r\n                if (!getSelectedItems().contains(getAllItems().get(position))){\r\n                    addToSelectedItems(position);\r\n                    if (!getSelectedItems().isEmpty()){\r\n                        setItemsForSelectedDiseasesRV();\r\n                        selectedDiseasesAdapter.notifyDataSetChanged();\r\n                    }\r\n                }\r\n            }\r\n            if (requestID == AppConstants.DISEASE_CLICKED_TO_REMOVE_FROM_LIST) {\r\n                getAllItems().get(position).setSelected(false);\r\n                if (!getSelectedItems().isEmpty() &amp;&amp; getSelectedItems().contains(getAllItems().get(position))){\r\n                    getSelectedItems().remove(getAllItems().get(position));\r\n                    selectedDiseasesAdapter.notifyDataSetChanged();\r\n                }\r\n\r\n            }\r\n            if (requestID == AppConstants.SELECTED_DISEASE_CLICKED) {\r\n                try {\r\n                    if(getSelectedItems() != null &amp;&amp; getSelectedItems().size() &gt; 0) {\r\n                        uncheckRemovedItemFromAllItemList(getSelectedItems().get(position).getId());\r\n                    }\r\n                    getSelectedItems().remove(getSelectedItems().get(position));\r\n                    selectedDiseasesAdapter.notifyItemRemoved(position);\r\n                } catch (IndexOutOfBoundsException e) {\r\n                    System.out.println(&quot;Disease already deleted&quot;);\r\n                }\r\n            }\r\n        }\r\n        public void uncheckRemovedItemFromAllItemList(int removedItemId) {\r\n            for(int i=0; i&lt;getAllItems().size(); i++) {\r\n                if(getAllItems().get(i).getId() == removedItemId) {\r\n                    getAllItems().get(i).setSelected(false);\r\n                    adapter.notifyItemChanged(i);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onAdatviewItemClicked(int position, int requestID, String s) {}\r\n\r\n        @Override\r\n        public void onAdatviewItemClicked(UserMedicalData userMedicalData, int requestID) {\r\n            if (requestID == AppConstants.DISEASE_CLICKED_TO_ADD_TO_LIST) {\r\n                for (int i=0; i&lt;=getAllItems().size();i++){\r\n                    if (getAllItems().get(i).getId()==userMedicalData.getId()){\r\n                        getAllItems().get(i).setSelected(true);\r\n                        addToSelectedItems(i);\r\n                        if (!getSelectedItems().isEmpty()){\r\n                            setItemsForSelectedDiseasesRV();\r\n                            selectedDiseasesAdapter.notifyDataSetChanged();\r\n                        }\r\n\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if (requestID == AppConstants.DISEASE_CLICKED_TO_REMOVE_FROM_LIST) {\r\n                for (int i=0; i&lt;=getAllItems().size();i++){\r\n                    if (getAllItems().get(i).getId()==userMedicalData.getId()){\r\n                        getAllItems().get(i).setSelected(false);\r\n                        if (!getSelectedItems().isEmpty() &amp;&amp; getSelectedItems().contains(getAllItems().get(i))){\r\n                            getSelectedItems().remove(getAllItems().get(i));\r\n                            selectedDiseasesAdapter.notifyDataSetChanged();\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    @Override\r\n    public void filterList() {\r\n        if (presenter.getFilteredArrayList() != null) {\r\n            if (adapter != null) {\r\n                adapter.filter(presenter.getFilteredArrayList());\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void setNoRecordsVisibility(boolean isVisible) {\r\n        if (isVisible){\r\n            holder.getNoRecordsFound().setVisibility(View.VISIBLE);\r\n        }else {\r\n            holder.getNoRecordsFound().setVisibility(View.GONE);\r\n        }\r\n    }\r\n    @Override\r\n    public void onClick(View view) {\r\n        switch (view.getId()) {\r\n            case R.id.search_text_view:\r\n                break;\r\n            case R.id.done_button:\r\n                sendDataToActivity();\r\n                dismiss();\r\n                break;\r\n        }\r\n    }\r\n    @Override\r\n    public void onDismiss(@NonNull DialogInterface dialog) {\r\n        Bundle args = new Bundle();\r\n        args.putParcelableArrayList(&quot;selectedArray&quot;,new ArrayList&lt;&gt;(getSelectedItems()));\r\n        setArguments(args);\r\n        super.onDismiss(dialog);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;UserMedicalData&gt; getAllItems() {return presenter.getAllDiseasesList();}\r\n\r\n    @Override\r\n    public List&lt;UserMedicalData&gt; getSelectedItems() {return presenter.getItems();}\r\n\r\n    @Override\r\n    public void setAllDiseasesRV(List&lt;UserMedicalData&gt; data) {\r\n        if (!data.isEmpty()) {\r\n            adapter = new AllDiseasesAdapter(getContext(),adpaterViewItemClickedListener, data);\r\n            holder.getAllDiseasesRV().setAdapter(adapter);\r\n        }\r\n    }\r\n    @Override\r\n    public void setSelectedDiseasesRV(List&lt;UserMedicalData&gt; items) {\r\n        if (!items.isEmpty()) {\r\n            selectedDiseasesAdapter = new SelectedDiseaseBottomSheetAdapter(getContext(), items,adpaterViewItemClickedListener);\r\n            holder.getSelectedDiseasesRV().setAdapter(selectedDiseasesAdapter);\r\n        }\r\n    }\r\n    @Override\r\n    public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {}\r\n    @Override\r\n    public boolean onTouch(View view, MotionEvent motionEvent) {\r\n        view.setFocusable(true);\r\n        view.setFocusableInTouchMode(true);\r\n        return false;\r\n    }\r\n    @Override\r\n    public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {}\r\n    @Override\r\n    public void afterTextChanged(Editable editable) {\r\n        if (editable != null) {\r\n            presenter.filter(editable.toString());\r\n        }\r\n        InputMethodManager imm = (InputMethodManager) getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\r\n        if (imm != null) {\r\n            imm.toggleSoftInput(0, InputMethodManager.HIDE_IMPLICIT_ONLY);\r\n        }\r\n    }\r\n    @Override\r\n    public void onAttach(Context context) {\r\n        super.onAttach(context);\r\n        if (context instanceof DiseaseFragmentCallback) {\r\n            callback = (DiseaseFragmentCallback) context;\r\n        } else {\r\n            throw new RuntimeException(context.toString()\r\n                    + &quot; must implement FragmentCallback&quot;);\r\n        }\r\n    }\r\n    private void sendDataToActivity() {\r\n        if (callback != null) {\r\n            callback.onDataReceived(presenter.getItems());\r\n        }\r\n    }\r\n}\r\n```\r\nIt&#39;s presenter:\r\n\r\n```\r\npublic class SelectDiseaseBottomSheetPresenter implements ServerConnectListener {\r\n\r\n    private SelectDiseaseBottomSheetView view;\r\n    private Context context;\r\n    private List&lt;UserMedicalData&gt; allDiseasesList;\r\n    private List&lt;UserMedicalData&gt; items = new ArrayList&lt;&gt;();\r\n    private List&lt;UserMedicalData&gt; filteredArrayList = new ArrayList&lt;&gt;();\r\n\r\n    public SelectDiseaseBottomSheetPresenter(SelectDiseaseBottomSheetView view, Context context) {\r\n        this.view = view;\r\n        this.context = context;\r\n    }\r\n\r\n    public Context getContext() {\r\n        return context;\r\n    }\r\n\r\n    public void setContext(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    public List&lt;UserMedicalData&gt; getAllDiseasesList() {\r\n        return allDiseasesList;\r\n    }\r\n\r\n    public void setAllDiseasesList(List&lt;UserMedicalData&gt; allDiseasesList) {\r\n        this.allDiseasesList = allDiseasesList;\r\n    }\r\n\r\n    public List&lt;UserMedicalData&gt; getItems() {\r\n        return items;\r\n    }\r\n\r\n    public void setItems(List&lt;UserMedicalData&gt; items) {\r\n        this.items = items;\r\n    }\r\n\r\n    public List&lt;UserMedicalData&gt; getFilteredArrayList() {\r\n        return filteredArrayList;\r\n    }\r\n\r\n    public void setFilteredArrayList(List&lt;UserMedicalData&gt; filteredArrayList) {\r\n        this.filteredArrayList = filteredArrayList;\r\n    }\r\n\r\n    public void filter(String toString) {\r\n        filteredArrayList = new ArrayList&lt;&gt;();\r\n        for (UserMedicalData item : view.getAllItems()) {\r\n            if (item.getTitle().toLowerCase().contains(toString.toLowerCase())) {\r\n                view.setNoRecordsVisibility(false);\r\n                filteredArrayList.add(item);\r\n            }\r\n        }\r\n        if (filteredArrayList.size() == 0) {\r\n            view.setNoRecordsVisibility(true);\r\n        }else {\r\n            view.setNoRecordsVisibility(false);\r\n        }\r\n        view.filterList();\r\n    }\r\n\r\n    public void ProcessArguments(Bundle args){\r\n        if (args.containsKey(&quot;all_items_array&quot;)){\r\n            allDiseasesList = args.getParcelableArrayList(&quot;all_items_array&quot;);\r\n            for (int i = 0; i &lt; allDiseasesList.size(); i++){\r\n                if (allDiseasesList.get(i).getSelected()){\r\n                    view.addToSelectedItems(i);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    @Override\r\n    public void onSuccess(ServerResponse response) {\r\n\r\n    }\r\n    @Override\r\n    public void onFailure(ServerResponse response) {\r\n\r\n    }\r\n    @Override\r\n    public void onSessionExpiry(ServerResponse response) {\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\nIt&#39;s view interface:\r\n```\r\npublic interface SelectDiseaseBottomSheetView {\r\n    List&lt;UserMedicalData&gt; getAllItems();\r\n    List&lt;UserMedicalData&gt; getSelectedItems();\r\n    void setAllDiseasesRV(List&lt;UserMedicalData&gt; items);\r\n    void setSelectedDiseasesRV(List&lt;UserMedicalData&gt; items);\r\n    void filterList();\r\n    void setNoRecordsVisibility(boolean isVisible);\r\n    void addToSelectedItems(int position);\r\n}\r\n```\r\nThe adatViewClickListener interface:\r\n\r\n```\r\npublic interface AdpaterViewItemClickedListener {\r\n\r\n    void onAdatviewItemClicked(int position);\r\n\r\n    void onAdatviewItemClicked(int position, int requestID);\r\n\r\n    void onAdatviewItemClicked(int position, int requestID, String s);\r\n    default void onAdatviewItemClicked(UserMedicalData userMedicalData, int requestID){\r\n\r\n    }\r\n\r\n}\r\n```\r\nThe AllDiseases Adapter for recyclerview A:\r\n\r\n```\r\npublic class AllDiseasesAdapter extends RecyclerView.Adapter&lt;AllDiseasesViewHolder&gt;{\r\n\r\n    private Context context;\r\n    private AdpaterViewItemClickedListener listener;\r\n    private List&lt;UserMedicalData&gt; data;\r\n\r\n    public AllDiseasesAdapter(Context context, AdpaterViewItemClickedListener listener, List&lt;UserMedicalData&gt; data) {\r\n        this.context = context;\r\n        this.listener = listener;\r\n        this.data = data;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public AllDiseasesViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.items_with_checkbox_layout, parent, false);\r\n        return new AllDiseasesViewHolder(view, listener, context);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull AllDiseasesViewHolder holder, int position) {\r\n        holder.getItemText().setText(data.get(position).getTitle());\r\n        holder.bindData(data.get(position));\r\n        if (data.get(position).getSelected()){\r\n            holder.getCheckBox().setChecked(data.get(position).getSelected());\r\n        }else{\r\n            holder.getCheckBox().setChecked(false);\r\n\r\n        }\r\n    }\r\n    public void filter(List&lt;UserMedicalData&gt; filteredArrayList) {\r\n        data = new ArrayList&lt;&gt;();\r\n        if (filteredArrayList != null) {\r\n            data = filteredArrayList;\r\n            notifyDataSetChanged();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return data.size();\r\n    }\r\n}\r\n\r\n```\r\nIt&#39;s viewholder:\r\n\r\n\r\n```\r\npublic class AllDiseasesViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n    private AdpaterViewItemClickedListener listener;\r\n    private Context context;\r\n    public ConstraintLayout itemLayout;\r\n    public TextView itemText;\r\n    public CheckBox checkBox;\r\n    public UserMedicalData userMedicalData;\r\n\r\n    public AllDiseasesViewHolder(@NonNull View view, AdpaterViewItemClickedListener listener, Context context) {\r\n        super(view);\r\n        initGui(view);\r\n        initVariables(listener, context);\r\n        setListeners();\r\n    }\r\n\r\n    private void initVariables(AdpaterViewItemClickedListener listener, Context context) {\r\n        this.listener = listener;\r\n        this.context = context;\r\n    }\r\n\r\n    public TextView getItemText() {\r\n        return itemText;\r\n    }\r\n\r\n    public CheckBox getCheckBox() {\r\n        return checkBox;\r\n    }\r\n\r\n    private void initGui(View view) {\r\n        itemLayout = view.findViewById(R.id.item_layout);\r\n        itemText = view.findViewById(R.id.text);\r\n        checkBox = view.findViewById(R.id.checkbox);\r\n    }\r\n\r\n    private void setListeners() {\r\n        itemLayout.setOnClickListener(this);\r\n    }\r\n\r\n    public void bindData(UserMedicalData userMedicalData){\r\n        this.userMedicalData=userMedicalData;\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        int viewId = view.getId();\r\n        if (viewId == itemLayout.getId()) {\r\n            if (getCheckBox().isChecked()){\r\n                listener.onAdatviewItemClicked(userMedicalData, AppConstants.DISEASE_CLICKED_TO_REMOVE_FROM_LIST);\r\n                getCheckBox().setChecked(false);\r\n            }\r\n            else{\r\n                listener.onAdatviewItemClicked(userMedicalData, AppConstants.DISEASE_CLICKED_TO_ADD_TO_LIST);\r\n                getCheckBox().setChecked(true);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nThe selecteddisease Adapter for recyclerview B:\r\n\r\n```\r\npublic class SelectedDiseaseBottomSheetAdapter extends RecyclerView.Adapter&lt;SelectedDiseaseViewHolder&gt; {\r\n\r\n    private List&lt;UserMedicalData&gt; data;\r\n    private Context context;\r\n    private AdpaterViewItemClickedListener listener;\r\n\r\n\r\n    public SelectedDiseaseBottomSheetAdapter(Context context, List&lt;UserMedicalData&gt; data, AdpaterViewItemClickedListener listener) {\r\n        this.context = context;\r\n        this.data = data;\r\n        this.listener = listener;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public SelectedDiseaseViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.selected_disease_bottomsheet_layout, parent, false);\r\n        return new SelectedDiseaseViewHolder(view, listener, context);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull SelectedDiseaseViewHolder holder, int position) {\r\n        holder.getItemText().setText(data.get(position).getTitle());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return data.size();\r\n    }\r\n}\r\n```\r\nAnd it&#39;s viewholder:\r\n\r\n```\r\npublic class SelectedDiseaseViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\r\n\r\n    public TextView itemText;\r\n    private AdpaterViewItemClickedListener listener;\r\n    private Context context;\r\n\r\n    public SelectedDiseaseViewHolder(@NonNull View view, AdpaterViewItemClickedListener listener, Context context) {\r\n        super(view);\r\n        initGui(view);\r\n        initVariables(listener, context);\r\n        setListeners();\r\n    }\r\n\r\n    private void initVariables(AdpaterViewItemClickedListener listener, Context context) {\r\n        this.listener = listener;\r\n        this.context = context;\r\n    }\r\n\r\n    public TextView getItemText() {\r\n        return itemText;\r\n    }\r\n\r\n    private void initGui(View view) {\r\n        itemText = view.findViewById(R.id.text);\r\n    }\r\n\r\n    private void setListeners() {\r\n        itemText.setOnClickListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        int viewId = view.getId();\r\n        if (viewId == itemText.getId()) {\r\n            listener.onAdatviewItemClicked(getAbsoluteAdapterPosition(), AppConstants.SELECTED_DISEASE_CLICKED);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nLastly here is the datamodel for the items of the arraylist set as dataset of these recyclerviews:\r\n\r\n\r\n```\r\n@Keep\r\npublic class UserMedicalData implements Parcelable {\r\n    private int id;\r\n    private String title;\r\n    private String type;\r\n    private boolean selected;\r\n\r\n    protected UserMedicalData(Parcel in) {\r\n        id = in.readInt();\r\n        title = in.readString();\r\n        type = in.readString();\r\n        selected = in.readByte() != 0;\r\n    }\r\n\r\n    public static final Creator&lt;UserMedicalData&gt; CREATOR = new Creator&lt;UserMedicalData&gt;() {\r\n        @Override\r\n        public UserMedicalData createFromParcel(Parcel in) {\r\n            return new UserMedicalData(in);\r\n        }\r\n\r\n        @Override\r\n        public UserMedicalData[] newArray(int size) {\r\n            return new UserMedicalData[size];\r\n        }\r\n    };\r\n\r\n    public int getId () {return id;}\r\n\r\n    public void setId (int id) {this.id = id;}\r\n\r\n    public String getTitle () {return title;}\r\n\r\n    public void setTitle (String title) {this.title = title;}\r\n\r\n    public String getType () {return type;}\r\n\r\n    public void setType (String type) {this.type = type;}\r\n\r\n    public boolean getSelected () {return selected;}\r\n\r\n    public void setSelected (boolean selected) {this.selected = selected;}\r\n\r\n    @Override\r\n    public int describeContents() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public void writeToParcel(Parcel parcel, int i) {\r\n        parcel.writeInt(id);\r\n        parcel.writeString(title);\r\n        parcel.writeString(type);\r\n        parcel.writeByte((byte) (selected ? 1 : 0));\r\n    }\r\n}\r\n```\r\nThis solution works fine for toggling the views and Booleans , but I want to know if there is a simpler more concise method to do so.\r\nSometimes ,using the filter on recyclerview A and toggling between data , triggers some data&#39;s booleans to turn true automatically . I have tried various ways to debug this issue and handle it but it&#39;s to no avail working for me. Please let me know if I am doing something wrong or if anything can be improved for the best .\r\n\r\nI have tried toggling the Booleans and updating dataset using &quot;notifyDataSetChanged&quot; and &quot;notifyItemRemoved&quot; and &quot;notifyItemAdded&quot; methods to update the recyclerviews but during robust testing , the main recyclerview shows weird behavior that I am unable to debug or resolve.","title":"Syncing Data Between Two RecyclerViews in Android BottomsheetDialogueFragment","body":"<p>I have a bottomsheet fragment and I have implemented two recyclerviews in it. The bottomsheet takes the argument of a arraylist of a custom datatype &quot;UserMedicalData&quot;. This custom type has an argument of type boolean .If the boolean is true it should be added to the dataset of recyclerview b and should be check marked in recyclerview A. if we click on an item in recyclerview A , it should change it's boolean status . If the boolean is true it should be added to the recyclerview B anmd should be marked checked in recyclerview A. If it was already marked checked , it should tutn its boolean status to false, uncheck itself and remove itself from the recyclerview B.\nAlso if the item is clicked in recyclerview B ,it should turn its boolean status to false and delete itself from recyclerview B's dataset and uncheck itslef from the recyclerview A.\nIn simple terms , if the item's boolean is true it should be added to recyclerview B , iof not it should be removed from recyclerview B. In all cases, the boolean status should be reflected in the recyclerview A. I have implemented a soultion , please help me optimize it .Here are the files</p>\n<p>The bottomsheet fragment:</p>\n<pre><code>public class DiseasesBottomSheetFragment  extends BottomSheetDialogFragment implements SelectDiseaseBottomSheetView, View.OnTouchListener, TextWatcher, View.OnClickListener  {\n\n    private SelectDiseaseBottomSheetViewHolder holder;\n    private SelectDiseaseBottomSheetPresenter presenter;\n\n    private AllDiseasesAdapter adapter;\n    private SelectedDiseaseBottomSheetAdapter selectedDiseasesAdapter;\n    private DiseaseFragmentCallback callback;\n    private BottomSheetBehavior&lt;View&gt; bottomSheetBehavior;\n\n\n    public DiseasesBottomSheetFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        WindowManager windowManager = requireActivity().getWindowManager();\n        DisplayMetrics displayMetrics = new DisplayMetrics();\n        windowManager.getDefaultDisplay().getMetrics(displayMetrics);\n        int screenHeight = displayMetrics.heightPixels;\n        int desiredHeight = (int) (screenHeight * 0.94);\n\n\n        CoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams) ((View) view.getParent()).getLayoutParams();\n        bottomSheetBehavior = (BottomSheetBehavior&lt;View&gt;) params.getBehavior();\n        assert bottomSheetBehavior != null;\n        bottomSheetBehavior.setPeekHeight(desiredHeight);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_diseases_bottom_sheet, container, false);\n        initGui(view);\n        initVariables();\n        recieveArguments();\n        setItemsForAllDiseasesRV();\n        setItemsForSelectedDiseasesRV();\n        setListeners();\n        return view;\n    }\n    private void setItemsForSelectedDiseasesRV() {\n        if (!getSelectedItems().isEmpty()){\n            setSelectedDiseasesRV(presenter.getItems());\n        }\n    }\n    private void setItemsForAllDiseasesRV() {\n        if (Objects.requireNonNull(holder.getSearchEditText().getText()).toString().isEmpty()){\n            if (!presenter.getAllDiseasesList().isEmpty()){\n                setAllDiseasesRV(presenter.getAllDiseasesList());\n            }\n            else{\n                Toast.makeText(getContext(), &quot;Please retry again later.&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n        else{\n            setUpFilteredRV();\n        }\n    }\n\n    private void setUpFilteredRV() {\n    }\n\n    private void recieveArguments() {\n        // Retrieve arguments\n        Bundle args = getArguments();\n        if (args != null) {\n            presenter.ProcessArguments(args);\n        }\n    }\n\n    @Override\n    public void addToSelectedItems(int position) {\n        if (!getSelectedItems().contains(getAllItems().get(position))){\n            getSelectedItems().add(getAllItems().get(position));\n        }\n    }\n\n    private void setListeners() {\n        holder.getDoneButton().setOnClickListener(this);\n        holder.getSearchEditText().setOnTouchListener(this);\n        holder.getSearchEditText().addTextChangedListener(this);\n\n    }\n    private void initGui(View view) {\n        holder = new SelectDiseaseBottomSheetViewHolder(view);\n    }\n    private void initVariables() {presenter = new SelectDiseaseBottomSheetPresenter( this, getContext());}\n\n    private AdpaterViewItemClickedListener adpaterViewItemClickedListener = new AdpaterViewItemClickedListener() {\n        @Override\n        public void onAdatviewItemClicked(int position) {}\n\n        @Override\n        public void onAdatviewItemClicked(int position, int requestID) {\n            if (requestID == AppConstants.DISEASE_CLICKED_TO_ADD_TO_LIST) {\n                getAllItems().get(position).setSelected(true);\n                if (!getSelectedItems().contains(getAllItems().get(position))){\n                    addToSelectedItems(position);\n                    if (!getSelectedItems().isEmpty()){\n                        setItemsForSelectedDiseasesRV();\n                        selectedDiseasesAdapter.notifyDataSetChanged();\n                    }\n                }\n            }\n            if (requestID == AppConstants.DISEASE_CLICKED_TO_REMOVE_FROM_LIST) {\n                getAllItems().get(position).setSelected(false);\n                if (!getSelectedItems().isEmpty() &amp;&amp; getSelectedItems().contains(getAllItems().get(position))){\n                    getSelectedItems().remove(getAllItems().get(position));\n                    selectedDiseasesAdapter.notifyDataSetChanged();\n                }\n\n            }\n            if (requestID == AppConstants.SELECTED_DISEASE_CLICKED) {\n                try {\n                    if(getSelectedItems() != null &amp;&amp; getSelectedItems().size() &gt; 0) {\n                        uncheckRemovedItemFromAllItemList(getSelectedItems().get(position).getId());\n                    }\n                    getSelectedItems().remove(getSelectedItems().get(position));\n                    selectedDiseasesAdapter.notifyItemRemoved(position);\n                } catch (IndexOutOfBoundsException e) {\n                    System.out.println(&quot;Disease already deleted&quot;);\n                }\n            }\n        }\n        public void uncheckRemovedItemFromAllItemList(int removedItemId) {\n            for(int i=0; i&lt;getAllItems().size(); i++) {\n                if(getAllItems().get(i).getId() == removedItemId) {\n                    getAllItems().get(i).setSelected(false);\n                    adapter.notifyItemChanged(i);\n                    break;\n                }\n            }\n        }\n\n        @Override\n        public void onAdatviewItemClicked(int position, int requestID, String s) {}\n\n        @Override\n        public void onAdatviewItemClicked(UserMedicalData userMedicalData, int requestID) {\n            if (requestID == AppConstants.DISEASE_CLICKED_TO_ADD_TO_LIST) {\n                for (int i=0; i&lt;=getAllItems().size();i++){\n                    if (getAllItems().get(i).getId()==userMedicalData.getId()){\n                        getAllItems().get(i).setSelected(true);\n                        addToSelectedItems(i);\n                        if (!getSelectedItems().isEmpty()){\n                            setItemsForSelectedDiseasesRV();\n                            selectedDiseasesAdapter.notifyDataSetChanged();\n                        }\n\n                        break;\n                    }\n                }\n            }\n            if (requestID == AppConstants.DISEASE_CLICKED_TO_REMOVE_FROM_LIST) {\n                for (int i=0; i&lt;=getAllItems().size();i++){\n                    if (getAllItems().get(i).getId()==userMedicalData.getId()){\n                        getAllItems().get(i).setSelected(false);\n                        if (!getSelectedItems().isEmpty() &amp;&amp; getSelectedItems().contains(getAllItems().get(i))){\n                            getSelectedItems().remove(getAllItems().get(i));\n                            selectedDiseasesAdapter.notifyDataSetChanged();\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n\n\n    @Override\n    public void filterList() {\n        if (presenter.getFilteredArrayList() != null) {\n            if (adapter != null) {\n                adapter.filter(presenter.getFilteredArrayList());\n            }\n        }\n    }\n\n    @Override\n    public void setNoRecordsVisibility(boolean isVisible) {\n        if (isVisible){\n            holder.getNoRecordsFound().setVisibility(View.VISIBLE);\n        }else {\n            holder.getNoRecordsFound().setVisibility(View.GONE);\n        }\n    }\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.search_text_view:\n                break;\n            case R.id.done_button:\n                sendDataToActivity();\n                dismiss();\n                break;\n        }\n    }\n    @Override\n    public void onDismiss(@NonNull DialogInterface dialog) {\n        Bundle args = new Bundle();\n        args.putParcelableArrayList(&quot;selectedArray&quot;,new ArrayList&lt;&gt;(getSelectedItems()));\n        setArguments(args);\n        super.onDismiss(dialog);\n    }\n\n    @Override\n    public List&lt;UserMedicalData&gt; getAllItems() {return presenter.getAllDiseasesList();}\n\n    @Override\n    public List&lt;UserMedicalData&gt; getSelectedItems() {return presenter.getItems();}\n\n    @Override\n    public void setAllDiseasesRV(List&lt;UserMedicalData&gt; data) {\n        if (!data.isEmpty()) {\n            adapter = new AllDiseasesAdapter(getContext(),adpaterViewItemClickedListener, data);\n            holder.getAllDiseasesRV().setAdapter(adapter);\n        }\n    }\n    @Override\n    public void setSelectedDiseasesRV(List&lt;UserMedicalData&gt; items) {\n        if (!items.isEmpty()) {\n            selectedDiseasesAdapter = new SelectedDiseaseBottomSheetAdapter(getContext(), items,adpaterViewItemClickedListener);\n            holder.getSelectedDiseasesRV().setAdapter(selectedDiseasesAdapter);\n        }\n    }\n    @Override\n    public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {}\n    @Override\n    public boolean onTouch(View view, MotionEvent motionEvent) {\n        view.setFocusable(true);\n        view.setFocusableInTouchMode(true);\n        return false;\n    }\n    @Override\n    public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {}\n    @Override\n    public void afterTextChanged(Editable editable) {\n        if (editable != null) {\n            presenter.filter(editable.toString());\n        }\n        InputMethodManager imm = (InputMethodManager) getContext().getSystemService(Context.INPUT_METHOD_SERVICE);\n        if (imm != null) {\n            imm.toggleSoftInput(0, InputMethodManager.HIDE_IMPLICIT_ONLY);\n        }\n    }\n    @Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n        if (context instanceof DiseaseFragmentCallback) {\n            callback = (DiseaseFragmentCallback) context;\n        } else {\n            throw new RuntimeException(context.toString()\n                    + &quot; must implement FragmentCallback&quot;);\n        }\n    }\n    private void sendDataToActivity() {\n        if (callback != null) {\n            callback.onDataReceived(presenter.getItems());\n        }\n    }\n}\n</code></pre>\n<p>It's presenter:</p>\n<pre><code>public class SelectDiseaseBottomSheetPresenter implements ServerConnectListener {\n\n    private SelectDiseaseBottomSheetView view;\n    private Context context;\n    private List&lt;UserMedicalData&gt; allDiseasesList;\n    private List&lt;UserMedicalData&gt; items = new ArrayList&lt;&gt;();\n    private List&lt;UserMedicalData&gt; filteredArrayList = new ArrayList&lt;&gt;();\n\n    public SelectDiseaseBottomSheetPresenter(SelectDiseaseBottomSheetView view, Context context) {\n        this.view = view;\n        this.context = context;\n    }\n\n    public Context getContext() {\n        return context;\n    }\n\n    public void setContext(Context context) {\n        this.context = context;\n    }\n\n    public List&lt;UserMedicalData&gt; getAllDiseasesList() {\n        return allDiseasesList;\n    }\n\n    public void setAllDiseasesList(List&lt;UserMedicalData&gt; allDiseasesList) {\n        this.allDiseasesList = allDiseasesList;\n    }\n\n    public List&lt;UserMedicalData&gt; getItems() {\n        return items;\n    }\n\n    public void setItems(List&lt;UserMedicalData&gt; items) {\n        this.items = items;\n    }\n\n    public List&lt;UserMedicalData&gt; getFilteredArrayList() {\n        return filteredArrayList;\n    }\n\n    public void setFilteredArrayList(List&lt;UserMedicalData&gt; filteredArrayList) {\n        this.filteredArrayList = filteredArrayList;\n    }\n\n    public void filter(String toString) {\n        filteredArrayList = new ArrayList&lt;&gt;();\n        for (UserMedicalData item : view.getAllItems()) {\n            if (item.getTitle().toLowerCase().contains(toString.toLowerCase())) {\n                view.setNoRecordsVisibility(false);\n                filteredArrayList.add(item);\n            }\n        }\n        if (filteredArrayList.size() == 0) {\n            view.setNoRecordsVisibility(true);\n        }else {\n            view.setNoRecordsVisibility(false);\n        }\n        view.filterList();\n    }\n\n    public void ProcessArguments(Bundle args){\n        if (args.containsKey(&quot;all_items_array&quot;)){\n            allDiseasesList = args.getParcelableArrayList(&quot;all_items_array&quot;);\n            for (int i = 0; i &lt; allDiseasesList.size(); i++){\n                if (allDiseasesList.get(i).getSelected()){\n                    view.addToSelectedItems(i);\n                }\n            }\n        }\n    }\n    @Override\n    public void onSuccess(ServerResponse response) {\n\n    }\n    @Override\n    public void onFailure(ServerResponse response) {\n\n    }\n    @Override\n    public void onSessionExpiry(ServerResponse response) {\n\n    }\n}\n\n\n</code></pre>\n<p>It's view interface:</p>\n<pre><code>public interface SelectDiseaseBottomSheetView {\n    List&lt;UserMedicalData&gt; getAllItems();\n    List&lt;UserMedicalData&gt; getSelectedItems();\n    void setAllDiseasesRV(List&lt;UserMedicalData&gt; items);\n    void setSelectedDiseasesRV(List&lt;UserMedicalData&gt; items);\n    void filterList();\n    void setNoRecordsVisibility(boolean isVisible);\n    void addToSelectedItems(int position);\n}\n</code></pre>\n<p>The adatViewClickListener interface:</p>\n<pre><code>public interface AdpaterViewItemClickedListener {\n\n    void onAdatviewItemClicked(int position);\n\n    void onAdatviewItemClicked(int position, int requestID);\n\n    void onAdatviewItemClicked(int position, int requestID, String s);\n    default void onAdatviewItemClicked(UserMedicalData userMedicalData, int requestID){\n\n    }\n\n}\n</code></pre>\n<p>The AllDiseases Adapter for recyclerview A:</p>\n<pre><code>public class AllDiseasesAdapter extends RecyclerView.Adapter&lt;AllDiseasesViewHolder&gt;{\n\n    private Context context;\n    private AdpaterViewItemClickedListener listener;\n    private List&lt;UserMedicalData&gt; data;\n\n    public AllDiseasesAdapter(Context context, AdpaterViewItemClickedListener listener, List&lt;UserMedicalData&gt; data) {\n        this.context = context;\n        this.listener = listener;\n        this.data = data;\n    }\n\n    @NonNull\n    @Override\n    public AllDiseasesViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.items_with_checkbox_layout, parent, false);\n        return new AllDiseasesViewHolder(view, listener, context);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull AllDiseasesViewHolder holder, int position) {\n        holder.getItemText().setText(data.get(position).getTitle());\n        holder.bindData(data.get(position));\n        if (data.get(position).getSelected()){\n            holder.getCheckBox().setChecked(data.get(position).getSelected());\n        }else{\n            holder.getCheckBox().setChecked(false);\n\n        }\n    }\n    public void filter(List&lt;UserMedicalData&gt; filteredArrayList) {\n        data = new ArrayList&lt;&gt;();\n        if (filteredArrayList != null) {\n            data = filteredArrayList;\n            notifyDataSetChanged();\n        }\n    }\n\n    @Override\n    public int getItemCount() {\n        return data.size();\n    }\n}\n\n</code></pre>\n<p>It's viewholder:</p>\n<pre><code>public class AllDiseasesViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n    private AdpaterViewItemClickedListener listener;\n    private Context context;\n    public ConstraintLayout itemLayout;\n    public TextView itemText;\n    public CheckBox checkBox;\n    public UserMedicalData userMedicalData;\n\n    public AllDiseasesViewHolder(@NonNull View view, AdpaterViewItemClickedListener listener, Context context) {\n        super(view);\n        initGui(view);\n        initVariables(listener, context);\n        setListeners();\n    }\n\n    private void initVariables(AdpaterViewItemClickedListener listener, Context context) {\n        this.listener = listener;\n        this.context = context;\n    }\n\n    public TextView getItemText() {\n        return itemText;\n    }\n\n    public CheckBox getCheckBox() {\n        return checkBox;\n    }\n\n    private void initGui(View view) {\n        itemLayout = view.findViewById(R.id.item_layout);\n        itemText = view.findViewById(R.id.text);\n        checkBox = view.findViewById(R.id.checkbox);\n    }\n\n    private void setListeners() {\n        itemLayout.setOnClickListener(this);\n    }\n\n    public void bindData(UserMedicalData userMedicalData){\n        this.userMedicalData=userMedicalData;\n\n    }\n\n\n    @Override\n    public void onClick(View view) {\n        int viewId = view.getId();\n        if (viewId == itemLayout.getId()) {\n            if (getCheckBox().isChecked()){\n                listener.onAdatviewItemClicked(userMedicalData, AppConstants.DISEASE_CLICKED_TO_REMOVE_FROM_LIST);\n                getCheckBox().setChecked(false);\n            }\n            else{\n                listener.onAdatviewItemClicked(userMedicalData, AppConstants.DISEASE_CLICKED_TO_ADD_TO_LIST);\n                getCheckBox().setChecked(true);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>The selecteddisease Adapter for recyclerview B:</p>\n<pre><code>public class SelectedDiseaseBottomSheetAdapter extends RecyclerView.Adapter&lt;SelectedDiseaseViewHolder&gt; {\n\n    private List&lt;UserMedicalData&gt; data;\n    private Context context;\n    private AdpaterViewItemClickedListener listener;\n\n\n    public SelectedDiseaseBottomSheetAdapter(Context context, List&lt;UserMedicalData&gt; data, AdpaterViewItemClickedListener listener) {\n        this.context = context;\n        this.data = data;\n        this.listener = listener;\n    }\n\n    @NonNull\n    @Override\n    public SelectedDiseaseViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.selected_disease_bottomsheet_layout, parent, false);\n        return new SelectedDiseaseViewHolder(view, listener, context);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull SelectedDiseaseViewHolder holder, int position) {\n        holder.getItemText().setText(data.get(position).getTitle());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return data.size();\n    }\n}\n</code></pre>\n<p>And it's viewholder:</p>\n<pre><code>public class SelectedDiseaseViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\n\n    public TextView itemText;\n    private AdpaterViewItemClickedListener listener;\n    private Context context;\n\n    public SelectedDiseaseViewHolder(@NonNull View view, AdpaterViewItemClickedListener listener, Context context) {\n        super(view);\n        initGui(view);\n        initVariables(listener, context);\n        setListeners();\n    }\n\n    private void initVariables(AdpaterViewItemClickedListener listener, Context context) {\n        this.listener = listener;\n        this.context = context;\n    }\n\n    public TextView getItemText() {\n        return itemText;\n    }\n\n    private void initGui(View view) {\n        itemText = view.findViewById(R.id.text);\n    }\n\n    private void setListeners() {\n        itemText.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n        int viewId = view.getId();\n        if (viewId == itemText.getId()) {\n            listener.onAdatviewItemClicked(getAbsoluteAdapterPosition(), AppConstants.SELECTED_DISEASE_CLICKED);\n        }\n    }\n}\n</code></pre>\n<p>Lastly here is the datamodel for the items of the arraylist set as dataset of these recyclerviews:</p>\n<pre><code>@Keep\npublic class UserMedicalData implements Parcelable {\n    private int id;\n    private String title;\n    private String type;\n    private boolean selected;\n\n    protected UserMedicalData(Parcel in) {\n        id = in.readInt();\n        title = in.readString();\n        type = in.readString();\n        selected = in.readByte() != 0;\n    }\n\n    public static final Creator&lt;UserMedicalData&gt; CREATOR = new Creator&lt;UserMedicalData&gt;() {\n        @Override\n        public UserMedicalData createFromParcel(Parcel in) {\n            return new UserMedicalData(in);\n        }\n\n        @Override\n        public UserMedicalData[] newArray(int size) {\n            return new UserMedicalData[size];\n        }\n    };\n\n    public int getId () {return id;}\n\n    public void setId (int id) {this.id = id;}\n\n    public String getTitle () {return title;}\n\n    public void setTitle (String title) {this.title = title;}\n\n    public String getType () {return type;}\n\n    public void setType (String type) {this.type = type;}\n\n    public boolean getSelected () {return selected;}\n\n    public void setSelected (boolean selected) {this.selected = selected;}\n\n    @Override\n    public int describeContents() {\n        return 0;\n    }\n\n    @Override\n    public void writeToParcel(Parcel parcel, int i) {\n        parcel.writeInt(id);\n        parcel.writeString(title);\n        parcel.writeString(type);\n        parcel.writeByte((byte) (selected ? 1 : 0));\n    }\n}\n</code></pre>\n<p>This solution works fine for toggling the views and Booleans , but I want to know if there is a simpler more concise method to do so.\nSometimes ,using the filter on recyclerview A and toggling between data , triggers some data's booleans to turn true automatically . I have tried various ways to debug this issue and handle it but it's to no avail working for me. Please let me know if I am doing something wrong or if anything can be improved for the best .</p>\n<p>I have tried toggling the Booleans and updating dataset using &quot;notifyDataSetChanged&quot; and &quot;notifyItemRemoved&quot; and &quot;notifyItemAdded&quot; methods to update the recyclerviews but during robust testing , the main recyclerview shows weird behavior that I am unable to debug or resolve.</p>\n"},{"tags":["java","performance","reflection","methodhandle"],"comments":[{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":2,"creation_date":1695155879,"post_id":77137831,"comment_id":135985543,"body_markdown":"Not sure it will change but your `methodHandle()` and `methodHandleInvokeExact()` both returns  Number, which imply a cast from `Number` to `Object`: you are not exactly testing the same thing.","body":"Not sure it will change but your <code>methodHandle()</code> and <code>methodHandleInvokeExact()</code> both returns  Number, which imply a cast from <code>Number</code> to <code>Object</code>: you are not exactly testing the same thing."},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":3,"creation_date":1695155962,"post_id":77137831,"comment_id":135985557,"body_markdown":"Note: reflection was reimplemented to use method handles in [Java 18](https://openjdk.org/jeps/416)","body":"Note: reflection was reimplemented to use method handles in <a href=\"https://openjdk.org/jeps/416\" rel=\"nofollow noreferrer\">Java 18</a>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1695156074,"post_id":77137831,"comment_id":135985580,"body_markdown":"Didnt you ask this earlier?","body":"Didnt you ask this earlier?"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1695156340,"post_id":77137831,"comment_id":135985620,"body_markdown":"@DaveNewton that was about primitives - where it turned out my benchmark was wrong and the code was right. But this scenario the benchmark is right (I think!) and I still have an unexpected result.","body":"@DaveNewton that was about primitives - where it turned out my benchmark was wrong and the code was right. But this scenario the benchmark is right (I think!) and I still have an unexpected result."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1695156352,"post_id":77137831,"comment_id":135985623,"body_markdown":"@NoDataFound good spot, fixed. Same results though.","body":"@NoDataFound good spot, fixed. Same results though."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1695156907,"post_id":77137831,"comment_id":135985731,"body_markdown":"Can I ask why you want to call a method by reflection in the first place?","body":"Can I ask why you want to call a method by reflection in the first place?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1695161630,"post_id":77137831,"comment_id":135986420,"body_markdown":"The difference between these times is not even 1 _nanosecond_. Does it really matter? Choose the API that provides what you need and is easier to use. Plus, as noted, reflection uses method handles under the hood in Java 18+.","body":"The difference between these times is not even 1 <i>nanosecond</i>. Does it really matter? Choose the API that provides what you need and is easier to use. Plus, as noted, reflection uses method handles under the hood in Java 18+."}],"answers":[{"comments":[{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1695156920,"post_id":77137922,"comment_id":135985733,"body_markdown":"Thanks - I&#39;m aware `static final` would help, but in my application they are instance fields of an object so this wouldn&#39;t help. I&#39;d still expect it to be faster than reflection though?","body":"Thanks - I&#39;m aware <code>static final</code> would help, but in my application they are instance fields of an object so this wouldn&#39;t help. I&#39;d still expect it to be faster than reflection though?"},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1695158369,"post_id":77137922,"comment_id":135985938,"body_markdown":"I did find this [SO question](https://stackoverflow.com/questions/25937872/combining-methodhandles-publiclookup-with-method-setaccessibletrue) which used `publicLookup()` instead. I&#39;m unsure if `setAccessible(true)` makes any difference or not.","body":"I did find this <a href=\"https://stackoverflow.com/questions/25937872/combining-methodhandles-publiclookup-with-method-setaccessibletrue\">SO question</a> which used <code>publicLookup()</code> instead. I&#39;m unsure if <code>setAccessible(true)</code> makes any difference or not."},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1695159028,"post_id":77137922,"comment_id":135986048,"body_markdown":"Does just `final` make any difference?","body":"Does just <code>final</code> make any difference?"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1695165621,"post_id":77137922,"comment_id":135986912,"body_markdown":"Thats also a really interesting link, Thankyou","body":"Thats also a really interesting link, Thankyou"}],"tags":[],"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695156750,"creation_date":1695156750,"answer_id":77137922,"question_id":77137831,"body_markdown":"You need to make your method handles `static final` so that they can be constant folded (apparently).\r\n\r\nSee this article [Java Reflection, but much faster](https://www.optaplanner.org/blog/2018/01/09/JavaReflectionButMuchFaster.html#_static_methodhandles_update_on_2018_01_11), which explores reflection vs. method handle performance as you want.","title":"`MethodHandle` slower than Reflection when accessing Object","body":"<p>You need to make your method handles <code>static final</code> so that they can be constant folded (apparently).</p>\n<p>See this article <a href=\"https://www.optaplanner.org/blog/2018/01/09/JavaReflectionButMuchFaster.html#_static_methodhandles_update_on_2018_01_11\" rel=\"nofollow noreferrer\">Java Reflection, but much faster</a>, which explores reflection vs. method handle performance as you want.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695201720,"creation_date":1695199075,"answer_id":77140693,"question_id":77137831,"body_markdown":"See answer by scrhartley. Two additional benchmarks for direct call, and with lookup method handle directly as static final field (not via reflection) shows better results:\r\n\r\n    /** Test POJO directly */\r\n    @Benchmark\r\n    public Number direct() throws Throwable {\r\n        return source.getNumber();\r\n    }\r\n    private static final Lookup     LOOKUP = MethodHandles.lookup();\r\n    /** Lookup details of an instance method handle on a Java class */\r\n    static MethodHandle findInstanceMH(Class&lt;?&gt; cls, String callback, MethodType methodType) {\r\n        try {\r\n            return LOOKUP.findVirtual(cls, callback, methodType);\r\n        } catch (NoSuchMethodException | IllegalAccessException e) {\r\n            throw new Error(&quot;Not found callback: &quot;+callback);\r\n        }\r\n    }\r\n    private static final MethodHandle MH  = findInstanceMH(POJO.class, &quot;getNumber&quot;, MethodType.methodType(AtomicInteger.class));\r\n    private static final MethodHandle MHN = MH.asType(MH.type().changeReturnType(Number.class));\r\n\r\n    /** Test static final MethodHandle obtained by MH lookup */\r\n    @Benchmark\r\n    public Number methodHandleNormal() throws Throwable {\r\n        return  (Number) MHN.invokeExact(source);\r\n    }\r\n\r\nWith the new benchmarks you should see method handle version much quicker than reflection and compares well with direct call:\r\n\r\n    Benchmark                                  Mode   Cnt   Score   Error  Units\r\n    AccessorBenchmark.direct                   avgt  1000   4.925 &#177; 0.047  ns/op\r\n    AccessorBenchmark.methodHandle             avgt  1000  10.327 &#177; 0.066  ns/op\r\n    AccessorBenchmark.methodHandleInvokeExact  avgt  1000   9.478 &#177; 0.066  ns/op\r\n    AccessorBenchmark.methodHandleNormal       avgt  1000   5.063 &#177; 0.054  ns/op\r\n    AccessorBenchmark.reflection               avgt  1000  17.477 &#177; 0.116  ns/op\r\n","title":"`MethodHandle` slower than Reflection when accessing Object","body":"<p>See answer by scrhartley. Two additional benchmarks for direct call, and with lookup method handle directly as static final field (not via reflection) shows better results:</p>\n<pre><code>/** Test POJO directly */\n@Benchmark\npublic Number direct() throws Throwable {\n    return source.getNumber();\n}\nprivate static final Lookup     LOOKUP = MethodHandles.lookup();\n/** Lookup details of an instance method handle on a Java class */\nstatic MethodHandle findInstanceMH(Class&lt;?&gt; cls, String callback, MethodType methodType) {\n    try {\n        return LOOKUP.findVirtual(cls, callback, methodType);\n    } catch (NoSuchMethodException | IllegalAccessException e) {\n        throw new Error(&quot;Not found callback: &quot;+callback);\n    }\n}\nprivate static final MethodHandle MH  = findInstanceMH(POJO.class, &quot;getNumber&quot;, MethodType.methodType(AtomicInteger.class));\nprivate static final MethodHandle MHN = MH.asType(MH.type().changeReturnType(Number.class));\n\n/** Test static final MethodHandle obtained by MH lookup */\n@Benchmark\npublic Number methodHandleNormal() throws Throwable {\n    return  (Number) MHN.invokeExact(source);\n}\n</code></pre>\n<p>With the new benchmarks you should see method handle version much quicker than reflection and compares well with direct call:</p>\n<pre><code>Benchmark                                  Mode   Cnt   Score   Error  Units\nAccessorBenchmark.direct                   avgt  1000   4.925  0.047  ns/op\nAccessorBenchmark.methodHandle             avgt  1000  10.327  0.066  ns/op\nAccessorBenchmark.methodHandleInvokeExact  avgt  1000   9.478  0.066  ns/op\nAccessorBenchmark.methodHandleNormal       avgt  1000   5.063  0.054  ns/op\nAccessorBenchmark.reflection               avgt  1000  17.477  0.116  ns/op\n</code></pre>\n"}],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695201720,"creation_date":1695155700,"question_id":77137831,"body_markdown":"I would like to call a method via reflection in the most performant way possible.\r\n\r\nThe method returns an Object.\r\n\r\nI&#39;ve implemented this using both reflection and MethodHandles, I was expecting MethodHandle to be faster - but that&#39;s not what I&#39;m seeing (~20-40% slower).\r\n\r\nTake the following JMH benchmark:\r\n\r\n```\r\nimport org.openjdk.jmh.annotations.*;\r\nimport java.lang.invoke.MethodHandle;\r\nimport java.lang.invoke.MethodHandles;\r\nimport java.lang.reflect.Method;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\n@BenchmarkMode(Mode.AverageTime)\r\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n@Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\r\n@Measurement(iterations = 200, time = 10, timeUnit = TimeUnit.MILLISECONDS)\r\n@State(Scope.Benchmark)\r\npublic class AccessorBenchmark {\r\n    private static final Object[] EMPTY_ARGS = new Object[0];\r\n\r\n    private POJO source;\r\n    private Method method;\r\n    private MethodHandle methodHandle;\r\n    private MethodHandle methodHandleModifiedReturnType;\r\n\r\n    @Setup\r\n    public void setup() throws ReflectiveOperationException {\r\n        source = new POJO();\r\n\r\n        method = source.getClass().getDeclaredMethod(&quot;getNumber&quot;);\r\n        \r\n        methodHandle = MethodHandles.lookup().unreflect(method);\r\n        methodHandleModifiedReturnType = methodHandle.asType(methodHandle.type().changeReturnType(Number.class));\r\n    }\r\n\r\n    @Benchmark\r\n    public Number reflection() throws Throwable {\r\n        return (Number) method.invoke(source, EMPTY_ARGS);\r\n    }\r\n\r\n    @Benchmark\r\n    public Number methodHandle() throws Throwable {\r\n        return (Number) methodHandle.invoke(source);\r\n    }\r\n\r\n    @Benchmark\r\n    public Number methodHandleInvokeExact() throws Throwable {\r\n        return  (Number) methodHandleModifiedReturnType.invokeExact(source);\r\n    }\r\n\r\n    public class POJO {\r\n        private final AtomicInteger counter = new AtomicInteger();\r\n\r\n        public AtomicInteger getNumber() {\r\n            return counter;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe following result is returned with Java 17:\r\n\r\n```\r\nBenchmark                                     Mode   Cnt   Score    Error   Units\r\nAccessorBenchmark.methodHandle                avgt  1000   2.856 &#177;  0.004   ns/op\r\nAccessorBenchmark.methodHandleInvokeExact     avgt  1000   2.359 &#177;  0.003   ns/op\r\nAccessorBenchmark.reflection                  avgt  1000   2.017 &#177;  0.002   ns/op\r\n```\r\n\r\nAny ideas?","title":"`MethodHandle` slower than Reflection when accessing Object","body":"<p>I would like to call a method via reflection in the most performant way possible.</p>\n<p>The method returns an Object.</p>\n<p>I've implemented this using both reflection and MethodHandles, I was expecting MethodHandle to be faster - but that's not what I'm seeing (~20-40% slower).</p>\n<p>Take the following JMH benchmark:</p>\n<pre><code>import org.openjdk.jmh.annotations.*;\nimport java.lang.invoke.MethodHandle;\nimport java.lang.invoke.MethodHandles;\nimport java.lang.reflect.Method;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.atomic.AtomicInteger;\n\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 200, time = 10, timeUnit = TimeUnit.MILLISECONDS)\n@State(Scope.Benchmark)\npublic class AccessorBenchmark {\n    private static final Object[] EMPTY_ARGS = new Object[0];\n\n    private POJO source;\n    private Method method;\n    private MethodHandle methodHandle;\n    private MethodHandle methodHandleModifiedReturnType;\n\n    @Setup\n    public void setup() throws ReflectiveOperationException {\n        source = new POJO();\n\n        method = source.getClass().getDeclaredMethod(&quot;getNumber&quot;);\n        \n        methodHandle = MethodHandles.lookup().unreflect(method);\n        methodHandleModifiedReturnType = methodHandle.asType(methodHandle.type().changeReturnType(Number.class));\n    }\n\n    @Benchmark\n    public Number reflection() throws Throwable {\n        return (Number) method.invoke(source, EMPTY_ARGS);\n    }\n\n    @Benchmark\n    public Number methodHandle() throws Throwable {\n        return (Number) methodHandle.invoke(source);\n    }\n\n    @Benchmark\n    public Number methodHandleInvokeExact() throws Throwable {\n        return  (Number) methodHandleModifiedReturnType.invokeExact(source);\n    }\n\n    public class POJO {\n        private final AtomicInteger counter = new AtomicInteger();\n\n        public AtomicInteger getNumber() {\n            return counter;\n        }\n    }\n}\n</code></pre>\n<p>The following result is returned with Java 17:</p>\n<pre><code>Benchmark                                     Mode   Cnt   Score    Error   Units\nAccessorBenchmark.methodHandle                avgt  1000   2.856   0.004   ns/op\nAccessorBenchmark.methodHandleInvokeExact     avgt  1000   2.359   0.003   ns/op\nAccessorBenchmark.reflection                  avgt  1000   2.017   0.002   ns/op\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","spring","testing"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1695201966,"post_id":77140967,"comment_id":135991355,"body_markdown":"&quot;How was RoleServiceImpl obtained then?&quot; Do you noticed any particular annotation on that field?","body":"&quot;How was RoleServiceImpl obtained then?&quot; Do you noticed any particular annotation on that field?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1695202062,"post_id":77140967,"comment_id":135991379,"body_markdown":"You want to switch to `@MockBean` and `@Autowire` so less questions will be asked in the future.","body":"You want to switch to <code>@MockBean</code> and <code>@Autowire</code> so less questions will be asked in the future."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695202469,"post_id":77140967,"comment_id":135991448,"body_markdown":"Spring Boot enables support for Mockito, so mockito. However this test doesn&#39;t make sense and would work the same with a simple `@ExtendWith(MockitoExtension.class)` instead and it would run much faster as well.","body":"Spring Boot enables support for Mockito, so mockito. However this test doesn&#39;t make sense and would work the same with a simple <code>@ExtendWith(MockitoExtension.class)</code> instead and it would run much faster as well."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695202479,"post_id":77140967,"comment_id":135991451,"body_markdown":"@Antoniossss actually, that would be less preferable since it&#39;s a unit test. I don&#39;t want my service test to fail just because the DAO is acting up","body":"@Antoniossss actually, that would be less preferable since it&#39;s a unit test. I don&#39;t want my service test to fail just because the DAO is acting up"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695202512,"post_id":77140967,"comment_id":135991455,"body_markdown":"@Michael `@InjectMocks` doesn&#39;t tell me who creates the instance","body":"@Michael <code>@InjectMocks</code> doesn&#39;t tell me who creates the instance"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1695202551,"post_id":77140967,"comment_id":135991468,"body_markdown":"@JoreJoh no it is not, it is `@springboot` test and as such it is far from unit. (unless something changed that I am not aware of)","body":"@JoreJoh no it is not, it is <code>@springboot</code> test and as such it is far from unit. (unless something changed that I am not aware of)"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695202611,"post_id":77140967,"comment_id":135991486,"body_markdown":"@M.Deinum `@ExtendWith(MockitoExtension.class)` gives an exception: `org.mockito.exceptions.misusing.UnnecessaryStubbingException: \nUnnecessary stubbings detected.\nClean &amp; maintainable test code requires zero unnecessary code.\nFollowing stubbings are unnecessary (click to navigate to relevant line of code):\n  1. -&gt; at pp.spring_bootstrap.service.RoleServiceImplTest.setUp(RoleServiceImplTest.java:29)\nPlease remove unnecessary stubbings or use &#39;lenient&#39; strictness. More info: javadoc for UnnecessaryStubbingException class.`","body":"@M.Deinum <code>@ExtendWith(MockitoExtension.class)</code> gives an exception: <code>org.mockito.exceptions.misusing.UnnecessaryStubbingException&zwnj;&#8203;:  Unnecessary stubbings detected. Clean &amp; maintainable test code requires zero unnecessary code. Following stubbings are unnecessary (click to navigate to relevant line of code):   1. -&gt; at pp.spring_bootstrap.service.RoleServiceImplTest.setUp(RoleSe&zwnj;&#8203;rviceImplTest.java:2&zwnj;&#8203;9) Please remove unnecessary stubbings or use &#39;lenient&#39; strictness. More info: javadoc for UnnecessaryStubbingException class.</code>"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695202724,"post_id":77140967,"comment_id":135991508,"body_markdown":"@Antoniossss I understand what you mean, but the purpose of the test is to test the service. I haven&#39;t removed `@SpringBootTest` because the test doesn&#39;t work without it","body":"@Antoniossss I understand what you mean, but the purpose of the test is to test the service. I haven&#39;t removed <code>@SpringBootTest</code> because the test doesn&#39;t work without it"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1695202750,"post_id":77140967,"comment_id":135991512,"body_markdown":"&quot;*@InjectMocks doesn&#39;t tell me who creates the instance*&quot; Please, read the linked question. &quot;**@InjectMocks creates an instance of the class**&quot;","body":"&quot;<i>@InjectMocks doesn&#39;t tell me who creates the instance</i>&quot; Please, read the linked question. &quot;<b>@InjectMocks creates an instance of the class</b>&quot;"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1695202772,"post_id":77140967,"comment_id":135991515,"body_markdown":"Remove `SpringBootTest` and run it as plain junit tests if you want it to be real unit test(with Mockito extension so test actually will care about your mockito annotattion). Otherwise it will try to boot full spring context which you will not even use.","body":"Remove <code>SpringBootTest</code> and run it as plain junit tests if you want it to be real unit test(with Mockito extension so test actually will care about your mockito annotattion). Otherwise it will try to boot full spring context which you will not even use."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695203718,"post_id":77140967,"comment_id":135991724,"body_markdown":"@Michael then why doesn&#39;t it work without the annotation? See [this question](https://stackoverflow.com/questions/77141282/unnecessarystubbingexception-unnecessary-stubbings-detected) for more info","body":"@Michael then why doesn&#39;t it work without the annotation? See <a href=\"https://stackoverflow.com/questions/77141282/unnecessarystubbingexception-unnecessary-stubbings-detected\">this question</a> for more info"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695203830,"post_id":77140967,"comment_id":135991750,"body_markdown":"@Antoniossss I [tried](https://stackoverflow.com/questions/77141282/unnecessarystubbingexception-unnecessary-stubbings-detected)","body":"@Antoniossss I <a href=\"https://stackoverflow.com/questions/77141282/unnecessarystubbingexception-unnecessary-stubbings-detected\">tried</a>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1695204642,"post_id":77140967,"comment_id":135991942,"body_markdown":"And you have unused stubbing excetpion which is &quot;fine&quot; in terms of this post.","body":"And you have unused stubbing excetpion which is &quot;fine&quot; in terms of this post."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695219342,"post_id":77140967,"comment_id":135995390,"body_markdown":"The error from mockito is due to setting to much behavior which isn&#39;t used. Spring Boot will by default create lenient mocks (it configures mockito that way) which doesn&#39;t throw an exception.","body":"The error from mockito is due to setting to much behavior which isn&#39;t used. Spring Boot will by default create lenient mocks (it configures mockito that way) which doesn&#39;t throw an exception."}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695202007,"answer_count":0,"score":0,"last_activity_date":1695201644,"creation_date":1695201268,"question_id":77140967,"body_markdown":"I tried to test this:\r\n```java\r\npackage pp.spring_bootstrap.service;\r\n\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\nimport pp.spring_bootstrap.dao.RoleDao;\r\nimport pp.spring_bootstrap.models.Role;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Service\r\n@Transactional(readOnly = true)\r\npublic class RoleServiceImpl implements RoleService {\r\n    private final RoleDao roleDao;\r\n\r\n    public RoleServiceImpl(RoleDao roleDao) {\r\n        this.roleDao = roleDao;\r\n    }\r\n\r\n    @Override\r\n    public Role getRoleByName(String name) {\r\n        return roleDao.findByAuthority(name);\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Role&gt; getAdminRoleSet() {\r\n        return new HashSet&lt;&gt;(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;));\r\n    }\r\n}\r\n```\r\nHere&#39;s my test:\r\n```java\r\n@SpringBootTest\r\nclass RoleServiceImplTest {\r\n    @InjectMocks\r\n    RoleServiceImpl roleService;\r\n    @Mock\r\n    RoleDao roleDao;\r\n    static final String USER = &quot;USER&quot;;\r\n    static final String ADMIN = &quot;ADMIN&quot;;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        when(roleDao.findByAuthority(USER)).thenReturn(new Role(USER));\r\n        when(roleDao.findByAuthorityOrAuthority(USER, ADMIN))\r\n                .thenReturn(List.of(new Role(USER), new Role(ADMIN)));\r\n    }\r\n\r\n    @Test\r\n    void getRoleByName() {\r\n        assertThat(roleService.getRoleByName(USER)).extracting(Role::getAuthority).isEqualTo(USER);\r\n        verify(roleDao, times(1)).findByAuthority(USER);\r\n    }\r\n\r\n    @Test\r\n    void getAdminRoleSet() {\r\n        var adminRoles = roleService.getAdminRoleSet().stream()\r\n                .map(Role::getAuthority)\r\n                .toList();\r\n        assertThat(adminRoles.size()).isEqualTo(2);\r\n        assertThat(adminRoles).asList().contains(ADMIN, USER);\r\n        verify(roleDao, times(1)).findByAuthorityOrAuthority(USER, ADMIN);\r\n    }\r\n}\r\n```\r\nIt passes, but there&#39;s something wrong. For instance, notice I didn&#39;t explicitly autowire test fields. Nevertheless, I didn&#39;t get any NPEs. **1) How was `RoleServiceImpl` obtained then?** Since I didn&#39;t autowire anything, not explicity at least, it seems it was created by Mockito using a regular `new` (as opposed to being received from a Spring container). However, if I remove `@SpringBootTest`, I start to get NPEs. **2) Does `@SpringBootTest` implicitly autowire my fields?**\r\n\r\n[This answer][1] may be useful, but doesn&#39;t address the questions I have\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66388593/22186847","title":"Who creates instances I inject mocks into: Mockito or Spring?","body":"<p>I tried to test this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package pp.spring_bootstrap.service;\n\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\nimport pp.spring_bootstrap.dao.RoleDao;\nimport pp.spring_bootstrap.models.Role;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Service\n@Transactional(readOnly = true)\npublic class RoleServiceImpl implements RoleService {\n    private final RoleDao roleDao;\n\n    public RoleServiceImpl(RoleDao roleDao) {\n        this.roleDao = roleDao;\n    }\n\n    @Override\n    public Role getRoleByName(String name) {\n        return roleDao.findByAuthority(name);\n    }\n\n    @Override\n    public Set&lt;Role&gt; getAdminRoleSet() {\n        return new HashSet&lt;&gt;(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;));\n    }\n}\n</code></pre>\n<p>Here's my test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass RoleServiceImplTest {\n    @InjectMocks\n    RoleServiceImpl roleService;\n    @Mock\n    RoleDao roleDao;\n    static final String USER = &quot;USER&quot;;\n    static final String ADMIN = &quot;ADMIN&quot;;\n\n    @BeforeEach\n    void setUp() {\n        when(roleDao.findByAuthority(USER)).thenReturn(new Role(USER));\n        when(roleDao.findByAuthorityOrAuthority(USER, ADMIN))\n                .thenReturn(List.of(new Role(USER), new Role(ADMIN)));\n    }\n\n    @Test\n    void getRoleByName() {\n        assertThat(roleService.getRoleByName(USER)).extracting(Role::getAuthority).isEqualTo(USER);\n        verify(roleDao, times(1)).findByAuthority(USER);\n    }\n\n    @Test\n    void getAdminRoleSet() {\n        var adminRoles = roleService.getAdminRoleSet().stream()\n                .map(Role::getAuthority)\n                .toList();\n        assertThat(adminRoles.size()).isEqualTo(2);\n        assertThat(adminRoles).asList().contains(ADMIN, USER);\n        verify(roleDao, times(1)).findByAuthorityOrAuthority(USER, ADMIN);\n    }\n}\n</code></pre>\n<p>It passes, but there's something wrong. For instance, notice I didn't explicitly autowire test fields. Nevertheless, I didn't get any NPEs. <strong>1) How was <code>RoleServiceImpl</code> obtained then?</strong> Since I didn't autowire anything, not explicity at least, it seems it was created by Mockito using a regular <code>new</code> (as opposed to being received from a Spring container). However, if I remove <code>@SpringBootTest</code>, I start to get NPEs. <strong>2) Does <code>@SpringBootTest</code> implicitly autowire my fields?</strong></p>\n<p><a href=\"https://stackoverflow.com/a/66388593/22186847\">This answer</a> may be useful, but doesn't address the questions I have</p>\n"},{"tags":["java","spring","resilience4j","bulkhead"],"answers":[{"tags":[],"owner":{"account_id":2012119,"reputation":485,"user_id":1800319,"display_name":"Raghvendra Garg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695201581,"creation_date":1695201581,"answer_id":77141004,"question_id":76966352,"body_markdown":"Resilience4j uses spring-aop to manage aspects which means when invoked from the same class will not result in invoking the aspect code. in your case code in @Bulkhead aspect does not comes into picture when invoking from the same class but when you invoke from another bean it comes into play.\r\nHere is the excerpt from Spring documentation\r\n\r\n&gt; The key thing to understand here is that the client code inside the main(..) of the Main class has a reference to the proxy. This means that method calls on that object reference will be calls on the proxy, and as such the proxy will be able to delegate to all of the interceptors (advice) that are relevant to that particular method call. However, once the call has finally reached the target object, the SimplePojo reference in this case, any method calls that it may make on itself, such as this.bar() or this.foo(), are going to be invoked against the this reference, and not the proxy. This has important implications. It means that self-invocation is not going to result in the advice associated with a method invocation getting a chance to execute.\r\n\r\nhttps://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies\r\n\r\n ","title":"Why @Bulkhead method not working when I call it from the same class","body":"<p>Resilience4j uses spring-aop to manage aspects which means when invoked from the same class will not result in invoking the aspect code. in your case code in @Bulkhead aspect does not comes into picture when invoking from the same class but when you invoke from another bean it comes into play.\nHere is the excerpt from Spring documentation</p>\n<blockquote>\n<p>The key thing to understand here is that the client code inside the main(..) of the Main class has a reference to the proxy. This means that method calls on that object reference will be calls on the proxy, and as such the proxy will be able to delegate to all of the interceptors (advice) that are relevant to that particular method call. However, once the call has finally reached the target object, the SimplePojo reference in this case, any method calls that it may make on itself, such as this.bar() or this.foo(), are going to be invoked against the this reference, and not the proxy. This has important implications. It means that self-invocation is not going to result in the advice associated with a method invocation getting a chance to execute.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies</a></p>\n"}],"owner":{"account_id":15579574,"reputation":17,"user_id":11239777,"display_name":"myfidan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77141004,"answer_count":1,"score":0,"last_activity_date":1695201581,"creation_date":1692853795,"question_id":76966352,"body_markdown":"I have a @Bulkhead method like this\r\n\r\n    @GetMapping(&quot;/bulkhead&quot;)\r\n    @Bulkhead(name = USER_SERVICE, fallbackMethod = &quot;bulkheadDefault&quot;)\r\n    public ResponseEntity&lt;String&gt; testBulkhead(){\r\n        logger.info(&quot;call &quot; + Thread.currentThread().getName());\r\n        String response = restTemplate.getForObject(BASEURL_BULKHEAD, String.class);\r\n        logger.info(LocalTime.now() + &quot; Call processing finished = &quot; + Thread.currentThread().getName());\r\n        return ResponseEntity.ok(response);\r\n    }\r\n\r\nWhen I call this method from another class by creating 10 threads it works fine\r\n\r\n    for (int i=0; i&lt;10; i++)\r\n            new Thread(()-&gt; userServiceApplication.testBulkhead()).start();\r\n\r\nBut when I call it like above in the same class all threads call bulkhead method sequentially.\r\nAnyone can explain why this is happening?","title":"Why @Bulkhead method not working when I call it from the same class","body":"<p>I have a @Bulkhead method like this</p>\n<pre><code>@GetMapping(&quot;/bulkhead&quot;)\n@Bulkhead(name = USER_SERVICE, fallbackMethod = &quot;bulkheadDefault&quot;)\npublic ResponseEntity&lt;String&gt; testBulkhead(){\n    logger.info(&quot;call &quot; + Thread.currentThread().getName());\n    String response = restTemplate.getForObject(BASEURL_BULKHEAD, String.class);\n    logger.info(LocalTime.now() + &quot; Call processing finished = &quot; + Thread.currentThread().getName());\n    return ResponseEntity.ok(response);\n}\n</code></pre>\n<p>When I call this method from another class by creating 10 threads it works fine</p>\n<pre><code>for (int i=0; i&lt;10; i++)\n        new Thread(()-&gt; userServiceApplication.testBulkhead()).start();\n</code></pre>\n<p>But when I call it like above in the same class all threads call bulkhead method sequentially.\nAnyone can explain why this is happening?</p>\n"},{"tags":["java","azure","azure-blob-storage"],"comments":[{"owner":{"account_id":9273165,"reputation":3381,"user_id":6886501,"display_name":"Markus Meyer"},"score":0,"creation_date":1695197169,"post_id":77140432,"comment_id":135990367,"body_markdown":"Are you using [Azure Blob Storage client library for Java](https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell%2Cmanaged-identity%2Croles-azure-portal%2Csign-in-azure-cli#code-examples)? Can you please share your current code?","body":"Are you using <a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell%2Cmanaged-identity%2Croles-azure-portal%2Csign-in-azure-cli#code-examples\" rel=\"nofollow noreferrer\">Azure Blob Storage client library for Java</a>? Can you please share your current code?"},{"owner":{"account_id":14548690,"reputation":11,"user_id":10508252,"display_name":"Jelena"},"score":0,"creation_date":1695200498,"post_id":77140432,"comment_id":135991043,"body_markdown":"I&#39;ve updated the question with the code.","body":"I&#39;ve updated the question with the code."}],"answers":[{"comments":[{"owner":{"account_id":14548690,"reputation":11,"user_id":10508252,"display_name":"Jelena"},"score":0,"creation_date":1695200670,"post_id":77140775,"comment_id":135991084,"body_markdown":"I already have this in place, but my question is how can I check which data a specific block contains? Because these files can be large, I&#39;m trying to figure out how can I split them and track which block is processed (I&#39;m sending the data to data center) and which not. If that can be done.","body":"I already have this in place, but my question is how can I check which data a specific block contains? Because these files can be large, I&#39;m trying to figure out how can I split them and track which block is processed (I&#39;m sending the data to data center) and which not. If that can be done."}],"tags":[],"owner":{"account_id":8001335,"reputation":570,"user_id":6036058,"display_name":"Florian Vuillemot"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695199693,"creation_date":1695199693,"answer_id":77140775,"question_id":77140432,"body_markdown":"You can use the `downloadToFile` method of the [BlobClientBase][1] class.\r\n\r\n[Here an example][3] from the [Markus][2] documentation link.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.specialized.blobclientbase?view=azure-java-stable\r\n  [2]: https://stackoverflow.com/users/6886501/markus-meyer\r\n  [3]: https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell%2Cmanaged-identity%2Croles-azure-portal%2Csign-in-azure-cli#download-blobs","title":"How to read data from specific block in azure blob?","body":"<p>You can use the <code>downloadToFile</code> method of the <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.specialized.blobclientbase?view=azure-java-stable\" rel=\"nofollow noreferrer\">BlobClientBase</a> class.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell%2Cmanaged-identity%2Croles-azure-portal%2Csign-in-azure-cli#download-blobs\" rel=\"nofollow noreferrer\">Here an example</a> from the <a href=\"https://stackoverflow.com/users/6886501/markus-meyer\">Markus</a> documentation link.</p>\n"}],"owner":{"account_id":14548690,"reputation":11,"user_id":10508252,"display_name":"Jelena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695217281,"answer_count":1,"score":0,"last_activity_date":1695201424,"creation_date":1695196861,"question_id":77140432,"body_markdown":"Is there a way to read data from specific block in azure blob using Java?\r\n\r\nCan someone help me with this?\r\n\r\nI managed to read the whole blob and to list the blocks in it, but cannot find a way to read data from the specific block.\r\n\r\n\r\n   \r\n\r\n     public class App2 {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            DefaultAzureCredential defaultCredential = new DefaultAzureCredentialBuilder().build();\r\n    \r\n            BlobServiceClient blobServiceClient = new BlobServiceClientBuilder()\r\n                    .endpoint(&quot;https://{storage-account}.blob.core.windows.net/&quot;)\r\n                    .credential(defaultCredential)\r\n                    .buildClient();\r\n    \r\n            BlobContainerClient blobContainerClient = blobServiceClient.getBlobContainerClient(&quot;insights-logs-networksecuritygroupflowevent&quot;);\r\n    \r\n            for (BlobItem blobItem : blobContainerClient.listBlobs()) {\r\n                BlobClient blobClient = blobContainerClient.getBlobClient(blobItem.getName());\r\n    \r\n                BlockBlobClient blockBlobClient = blobClient.getBlockBlobClient();\r\n                List&lt;Block&gt; list = blockBlobClient.listBlocks(BlockListType.COMMITTED).getCommittedBlocks();\r\n    \r\n                list.forEach(block -&gt; {\r\n                    System.out.println(block.getName() + &quot;, &quot; + block.getSizeLong());\r\n                });\r\n    \r\n                blobClient.downloadToFile(&quot;blob&quot; + UUID.randomUUID() + &quot;.json&quot;);\r\n            }\r\n        }\r\n    \r\n    }","title":"How to read data from specific block in azure blob?","body":"<p>Is there a way to read data from specific block in azure blob using Java?</p>\n<p>Can someone help me with this?</p>\n<p>I managed to read the whole blob and to list the blocks in it, but cannot find a way to read data from the specific block.</p>\n<pre><code> public class App2 {\n\n    public static void main(String[] args) {\n\n        DefaultAzureCredential defaultCredential = new DefaultAzureCredentialBuilder().build();\n\n        BlobServiceClient blobServiceClient = new BlobServiceClientBuilder()\n                .endpoint(&quot;https://{storage-account}.blob.core.windows.net/&quot;)\n                .credential(defaultCredential)\n                .buildClient();\n\n        BlobContainerClient blobContainerClient = blobServiceClient.getBlobContainerClient(&quot;insights-logs-networksecuritygroupflowevent&quot;);\n\n        for (BlobItem blobItem : blobContainerClient.listBlobs()) {\n            BlobClient blobClient = blobContainerClient.getBlobClient(blobItem.getName());\n\n            BlockBlobClient blockBlobClient = blobClient.getBlockBlobClient();\n            List&lt;Block&gt; list = blockBlobClient.listBlocks(BlockListType.COMMITTED).getCommittedBlocks();\n\n            list.forEach(block -&gt; {\n                System.out.println(block.getName() + &quot;, &quot; + block.getSizeLong());\n            });\n\n            blobClient.downloadToFile(&quot;blob&quot; + UUID.randomUUID() + &quot;.json&quot;);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","protocol-buffers","grpc","protoc"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1594638235,"post_id":62874455,"comment_id":111185073,"body_markdown":"&quot;I am not sure why its checking for &quot;csharp_namespace&quot;&quot; Because that&#39;s in the timestamp.proto file.","body":"&quot;I am not sure why its checking for &quot;csharp_namespace&quot;&quot; Because that&#39;s in the timestamp.proto file."},{"owner":{"account_id":5199414,"reputation":1366,"user_id":4159389,"accept_rate":0,"display_name":"Rahul Vedpathak"},"score":0,"creation_date":1594638371,"post_id":62874455,"comment_id":111185134,"body_markdown":"Yeah but why its looking for that. And I dont want to generate any classes for csharp. So how to get rid of this error ?","body":"Yeah but why its looking for that. And I dont want to generate any classes for csharp. So how to get rid of this error ?"},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1594661758,"post_id":62874455,"comment_id":111197371,"body_markdown":"I suspect it&#39;s red-herring and the issue is really `&quot;google.protobuf.Timestamp&quot; is not defined`. You&#39;ll want to reference `google/protobuf/timestamp.proto` in your `--proto_path` when you generate your source. Timestamp is bundled with protoc in `./include/google/protobuf/timestamp.proto`. And then you&#39;ll want to import [Timestamps](https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/util/Timestamps) in your implementation.","body":"I suspect it&#39;s red-herring and the issue is really <code>&quot;google.protobuf.Timestamp&quot; is not defined</code>. You&#39;ll want to reference <code>google&#47;protobuf&#47;timestamp.proto</code> in your <code>--proto_path</code> when you generate your source. Timestamp is bundled with protoc in <code>.&#47;include&#47;google&#47;protobuf&#47;timestamp.proto</code>. And then you&#39;ll want to import <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/util/Timestamps\" rel=\"nofollow noreferrer\">Timestamps</a> in your implementation."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1594725286,"post_id":62874455,"comment_id":111219985,"body_markdown":"@RahulVedpathak it is importing the file you asked it to import, via the import statement. That file contains things that may or may not be relevant to you, but all are processed, because there is no way to know that they are not relevant to you.","body":"@RahulVedpathak it is importing the file you asked it to import, via the import statement. That file contains things that may or may not be relevant to you, but all are processed, because there is no way to know that they are not relevant to you."}],"answers":[{"tags":[],"owner":{"account_id":17343428,"reputation":310,"user_id":12563520,"display_name":"Austin Pe&#241;a"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1648642880,"creation_date":1595971186,"answer_id":63142927,"question_id":62874455,"body_markdown":"If you want protoc to automatically import something, it needs to be in an /include folder next to your protoc binary.\r\n\r\n[Reference][1]\r\n\r\n&gt; If I remember correctly, protoc looks for includes relative to the protoc binary. So if protoc is in /usr/local/bin, then it will look in /usr/local/include.\r\n\r\nThis worked perfectly for me on Windows to solve:\r\n\r\n```\r\nImport &quot;google/protobuf/wrappers.proto&quot; was not found or had errors.\r\n```\r\n\r\n\r\n  [1]: https://github.com/golang/protobuf/issues/694#issuecomment-431522402","title":"Import &quot;google/protobuf/timestamp.proto&quot; was not found or had errors","body":"<p>If you want protoc to automatically import something, it needs to be in an /include folder next to your protoc binary.</p>\n<p><a href=\"https://github.com/golang/protobuf/issues/694#issuecomment-431522402\" rel=\"nofollow noreferrer\">Reference</a></p>\n<blockquote>\n<p>If I remember correctly, protoc looks for includes relative to the protoc binary. So if protoc is in /usr/local/bin, then it will look in /usr/local/include.</p>\n</blockquote>\n<p>This worked perfectly for me on Windows to solve:</p>\n<pre><code>Import &quot;google/protobuf/wrappers.proto&quot; was not found or had errors.\n</code></pre>\n"}],"owner":{"account_id":5199414,"reputation":1366,"user_id":4159389,"accept_rate":0,"display_name":"Rahul Vedpathak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11560,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63142927,"answer_count":1,"score":2,"last_activity_date":1695200999,"creation_date":1594638104,"question_id":62874455,"body_markdown":"I am trying to use Timestamp and have imported it in protobuf message - \r\n\r\n    import &quot;google/protobuf/timestamp.proto&quot;;\r\n\r\n    message TriggerDataMsg {\r\n        google.protobuf.Timestamp start_time = 1;\r\n        google.protobuf.Timestamp end_time = 2;\r\n        google.protobuf.Timestamp next_fire_time = 3;\r\n        google.protobuf.Timestamp previous_fire_time = 4;\r\n        sint32 priority = 13;\r\n    }\r\n\r\n\r\nWhen trying to compile with protoc compiler to generate Java classes, its failing with the below error - \r\n\r\n     [echo] compiling proto sources...\r\n     [exec] google/protobuf/timestamp.proto:35:8: Option &quot;csharp_namespace&quot; unknown.\r\n     [exec] com/vmware/nsx/management/backup/model/trigger_data.proto: Import &quot;google/protobuf/timestamp.proto&quot; was not found or had errors.\r\n     [exec] com/vmware/nsx/management/backup/model/trigger_data.proto:24:5: &quot;google.protobuf.Timestamp&quot; is not defined.\r\n     [exec] com/vmware/nsx/management/backup/model/trigger_data.proto:25:5: &quot;google.protobuf.Timestamp&quot; is not defined.\r\n     [exec] com/vmware/nsx/management/backup/model/trigger_data.proto:26:5: &quot;google.protobuf.Timestamp&quot; is not defined.\r\n     [exec] com/vmware/nsx/management/backup/model/trigger_data.proto:27:5: &quot;google.protobuf.Timestamp&quot; is not defined.\r\n\r\n\r\nI am not sure why its checking for &quot;csharp_namespace&quot; even though I am generating Java classes.\r\nAny workaround which I can try to get rid of this error ?","title":"Import &quot;google/protobuf/timestamp.proto&quot; was not found or had errors","body":"<p>I am trying to use Timestamp and have imported it in protobuf message -</p>\n<pre><code>import &quot;google/protobuf/timestamp.proto&quot;;\n\nmessage TriggerDataMsg {\n    google.protobuf.Timestamp start_time = 1;\n    google.protobuf.Timestamp end_time = 2;\n    google.protobuf.Timestamp next_fire_time = 3;\n    google.protobuf.Timestamp previous_fire_time = 4;\n    sint32 priority = 13;\n}\n</code></pre>\n<p>When trying to compile with protoc compiler to generate Java classes, its failing with the below error -</p>\n<pre><code> [echo] compiling proto sources...\n [exec] google/protobuf/timestamp.proto:35:8: Option &quot;csharp_namespace&quot; unknown.\n [exec] com/vmware/nsx/management/backup/model/trigger_data.proto: Import &quot;google/protobuf/timestamp.proto&quot; was not found or had errors.\n [exec] com/vmware/nsx/management/backup/model/trigger_data.proto:24:5: &quot;google.protobuf.Timestamp&quot; is not defined.\n [exec] com/vmware/nsx/management/backup/model/trigger_data.proto:25:5: &quot;google.protobuf.Timestamp&quot; is not defined.\n [exec] com/vmware/nsx/management/backup/model/trigger_data.proto:26:5: &quot;google.protobuf.Timestamp&quot; is not defined.\n [exec] com/vmware/nsx/management/backup/model/trigger_data.proto:27:5: &quot;google.protobuf.Timestamp&quot; is not defined.\n</code></pre>\n<p>I am not sure why its checking for &quot;csharp_namespace&quot; even though I am generating Java classes.\nAny workaround which I can try to get rid of this error ?</p>\n"},{"tags":["java","selenium-webdriver","google-chrome-headless"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1691101798,"post_id":76830379,"comment_id":135450278,"body_markdown":"At which line are you exactly stuck?","body":"At which line are you exactly stuck?"},{"owner":{"account_id":12444331,"reputation":11,"user_id":11066850,"display_name":"Orgest Likaj"},"score":0,"creation_date":1691137671,"post_id":76830379,"comment_id":135453998,"body_markdown":"@undetectedSelenium I am stuck at the line where I have to get the link from the clipboard which becomes unavailable in headless mode.\n\nString dynamicLink = getLinkFromClipboard();\n    driver.get(dynamicLink);","body":"@undetectedSelenium I am stuck at the line where I have to get the link from the clipboard which becomes unavailable in headless mode.  String dynamicLink = getLinkFromClipboard();     driver.get(dynamicLink);"}],"answers":[{"tags":[],"owner":{"account_id":12444331,"reputation":11,"user_id":11066850,"display_name":"Orgest Likaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695200641,"creation_date":1695200641,"answer_id":77140891,"question_id":76830379,"body_markdown":"Found the answer!\r\nWhile you work in headless mode your clipboard becomes unavailable, so I created a method to copy the link and one a new tab.","title":"How to click on a dynamic link using Selenium Webdriver + Java in headless mode","body":"<p>Found the answer!\nWhile you work in headless mode your clipboard becomes unavailable, so I created a method to copy the link and one a new tab.</p>\n"}],"owner":{"account_id":12444331,"reputation":11,"user_id":11066850,"display_name":"Orgest Likaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695200641,"creation_date":1691083909,"question_id":76830379,"body_markdown":"**I am trying to click a dynamic link with Selenium where when I run the tests in GUI they are perfectly fine because I am using a method where I copy the link from the clipboard but in headless mode the usage of the clipboard is not possible.\r\n\r\nI am using several options but so far I haven&#39;t been successful. Any hint I would appreciate it\r\n\r\n\r\n\r\n\r\n\r\n        WebElement dynamicLinkElement = driver.findElement(By.cssSelector(&quot;button[data-test-share-portal-url]&quot;));\r\n        dynamicLinkElement.click();\r\n        Thread.sleep(1000);\r\n\r\n        ((JavascriptExecutor) driver).executeScript(&quot;window.open()&quot;);\r\n\r\n        ArrayList&lt;String&gt; tabs1 = new ArrayList&lt;&gt;(driver.getWindowHandles());\r\n        driver.switchTo().window(tabs1.get(1));\r\n\r\n        String dynamicLink = getLinkFromClipboard();\r\n        driver.get(dynamicLink);\r\n        Thread.sleep(5000);\r\n\r\n        int retryCount = 0;\r\n\r\n        // Define the maximum number of retries\r\n        int maxRetries = 10; // Adjust this value as needed\r\n\r\n        // Define the URL to check for &quot;not found&quot;\r\n\r\n        System.out.println(driver.getCurrentUrl());\r\n\r\n        // Retry until the URL is no longer &quot;not found&quot; or the maximum retries are reached\r\n        while (driver.getCurrentUrl().contains(&quot;not-found&quot;) &amp;&amp; (retryCount &lt; maxRetries)) {\r\n            // Wait for 5 seconds before the next retry\r\n            // Refresh the page to try again\r\n            driver.get(dynamicLink);\r\n\r\n            Thread.sleep(5000);\r\n\r\n            // Increment the retry count\r\n            retryCount++;\r\n        }\r\n\r\n        ArrayList&lt;String&gt; tabs0 = new ArrayList&lt;&gt;(driver.getWindowHandles());\r\n        driver.switchTo().window(tabs0.get(0));\r\n\r\n        Thread.sleep(3000);\r\n    }\r\n\r\n\r\n\r\n*******************************************************************************************************************************************\r\n\r\n\r\n     WebElement dynamicLinkElement = driver.findElement(By.cssSelector(&quot;button[data-test-share-portal-url]&quot;));\r\n        dynamicLinkElement.click();\r\n        Thread.sleep(1000);\r\n\r\n        // Open a new tab using JavaScript\r\n        ((JavascriptExecutor) driver).executeScript(&quot;window.open()&quot;);\r\n\r\n        ArrayList&lt;String&gt; tabs = new ArrayList&lt;&gt;(driver.getWindowHandles());\r\n        driver.switchTo().window(tabs.get(1)); // Switch to the new tab\r\n\r\n\r\n        // Parse the HTML content of the new tab to extract the dynamic link\r\n        String dynamicLink = extractDynamicLinkFromPageSource(driver.getPageSource());\r\n\r\n        if (dynamicLink != null) {\r\n            driver.get(dynamicLink);\r\n            Thread.sleep(5000);\r\n\r\n            // Rest of your retry and assertion logic\r\n        } else {\r\n            // Handle the case where dynamicLink is not found\r\n        }\r\n\r\n        Thread.sleep(3000);\r\n    }\r\n\r\n    private String extractDynamicLinkFromPageSource(String pageSource) {\r\n        Document document = Jsoup.parse(pageSource);\r\n\r\n        // Modify this selector based on your actual HTML structure\r\n        Elements linkElements = document.select(&quot;a[data-test-share-portal-url]&quot;);\r\n\r\n        if (!linkElements.isEmpty()) {\r\n            Element linkElement = linkElements.first();\r\n            String dynamicLink = linkElement.attr(&quot;href&quot;);\r\n            return dynamicLink;\r\n        }\r\n\r\n        return null;\r\n    }","title":"How to click on a dynamic link using Selenium Webdriver + Java in headless mode","body":"<p>**I am trying to click a dynamic link with Selenium where when I run the tests in GUI they are perfectly fine because I am using a method where I copy the link from the clipboard but in headless mode the usage of the clipboard is not possible.</p>\n<p>I am using several options but so far I haven't been successful. Any hint I would appreciate it</p>\n<pre><code>    WebElement dynamicLinkElement = driver.findElement(By.cssSelector(&quot;button[data-test-share-portal-url]&quot;));\n    dynamicLinkElement.click();\n    Thread.sleep(1000);\n\n    ((JavascriptExecutor) driver).executeScript(&quot;window.open()&quot;);\n\n    ArrayList&lt;String&gt; tabs1 = new ArrayList&lt;&gt;(driver.getWindowHandles());\n    driver.switchTo().window(tabs1.get(1));\n\n    String dynamicLink = getLinkFromClipboard();\n    driver.get(dynamicLink);\n    Thread.sleep(5000);\n\n    int retryCount = 0;\n\n    // Define the maximum number of retries\n    int maxRetries = 10; // Adjust this value as needed\n\n    // Define the URL to check for &quot;not found&quot;\n\n    System.out.println(driver.getCurrentUrl());\n\n    // Retry until the URL is no longer &quot;not found&quot; or the maximum retries are reached\n    while (driver.getCurrentUrl().contains(&quot;not-found&quot;) &amp;&amp; (retryCount &lt; maxRetries)) {\n        // Wait for 5 seconds before the next retry\n        // Refresh the page to try again\n        driver.get(dynamicLink);\n\n        Thread.sleep(5000);\n\n        // Increment the retry count\n        retryCount++;\n    }\n\n    ArrayList&lt;String&gt; tabs0 = new ArrayList&lt;&gt;(driver.getWindowHandles());\n    driver.switchTo().window(tabs0.get(0));\n\n    Thread.sleep(3000);\n}\n</code></pre>\n<hr />\n<pre><code> WebElement dynamicLinkElement = driver.findElement(By.cssSelector(&quot;button[data-test-share-portal-url]&quot;));\n    dynamicLinkElement.click();\n    Thread.sleep(1000);\n\n    // Open a new tab using JavaScript\n    ((JavascriptExecutor) driver).executeScript(&quot;window.open()&quot;);\n\n    ArrayList&lt;String&gt; tabs = new ArrayList&lt;&gt;(driver.getWindowHandles());\n    driver.switchTo().window(tabs.get(1)); // Switch to the new tab\n\n\n    // Parse the HTML content of the new tab to extract the dynamic link\n    String dynamicLink = extractDynamicLinkFromPageSource(driver.getPageSource());\n\n    if (dynamicLink != null) {\n        driver.get(dynamicLink);\n        Thread.sleep(5000);\n\n        // Rest of your retry and assertion logic\n    } else {\n        // Handle the case where dynamicLink is not found\n    }\n\n    Thread.sleep(3000);\n}\n\nprivate String extractDynamicLinkFromPageSource(String pageSource) {\n    Document document = Jsoup.parse(pageSource);\n\n    // Modify this selector based on your actual HTML structure\n    Elements linkElements = document.select(&quot;a[data-test-share-portal-url]&quot;);\n\n    if (!linkElements.isEmpty()) {\n        Element linkElement = linkElements.first();\n        String dynamicLink = linkElement.attr(&quot;href&quot;);\n        return dynamicLink;\n    }\n\n    return null;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","velocity"],"owner":{"account_id":29483963,"reputation":1,"user_id":22594306,"display_name":"yosr ben daly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695200630,"creation_date":1695200630,"question_id":77140889,"body_markdown":"I have email template .vm which contains msg with message key from messages_en.properties:\r\n\r\n```\r\n#msg(&quot;email-ePwdReminder-salutation&quot;)\r\n```\r\nand created the velocity context as follow:\r\n```\r\nVelocityContext context = new VelocityContext();\r\ncontext.put(&quot;email-ePwdReminder-salutation&quot;,messageSource.getMessage(&quot;email.ePwdReminder.salutation&quot;,null,locale));\r\nMerge the template with the context to generate the HTML body\r\nStringWriter writer = new StringWriter();\r\n\r\nReplace with logic to fetch the correct template\r\nTemplate template = velocityEngine.getTemplate(templateName);\r\ntemplate.process();\r\ntemplate.merge(context, writer);\r\n\r\nString htmlBody = writer.toString();\r\n```\r\n\r\n**#msg** seems not be a predefined directive for velocity engine, so how can I create a custom directive **#msg** and be able to replace **email.ePwdReminder.salutation** variable in the email template.","title":"Velocity template - message key #msg","body":"<p>I have email template .vm which contains msg with message key from messages_en.properties:</p>\n<pre><code>#msg(&quot;email-ePwdReminder-salutation&quot;)\n</code></pre>\n<p>and created the velocity context as follow:</p>\n<pre><code>VelocityContext context = new VelocityContext();\ncontext.put(&quot;email-ePwdReminder-salutation&quot;,messageSource.getMessage(&quot;email.ePwdReminder.salutation&quot;,null,locale));\nMerge the template with the context to generate the HTML body\nStringWriter writer = new StringWriter();\n\nReplace with logic to fetch the correct template\nTemplate template = velocityEngine.getTemplate(templateName);\ntemplate.process();\ntemplate.merge(context, writer);\n\nString htmlBody = writer.toString();\n</code></pre>\n<p><strong>#msg</strong> seems not be a predefined directive for velocity engine, so how can I create a custom directive <strong>#msg</strong> and be able to replace <strong>email.ePwdReminder.salutation</strong> variable in the email template.</p>\n"},{"tags":["java","spring-boot","spring-batch","batch-processing","spring-batch-tasklet"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1694008257,"post_id":77035530,"comment_id":135834819,"body_markdown":"With Spring Boot 3, adding `@EnableBatchProcessing` makes the batch auto-configuration to back-off (properties under `spring.batch.*` are not taken into account). That said, since you have added `@EnableBatchProcessing`, the job should not start automatically. Therefore, there is something running it automatically which you did not share. Please provide a [minimal complete example](https://stackoverflow.com/help/minimal-reproducible-example) that reproduces the issue to be able to help you efficiently.","body":"With Spring Boot 3, adding <code>@EnableBatchProcessing</code> makes the batch auto-configuration to back-off (properties under <code>spring.batch.*</code> are not taken into account). That said, since you have added <code>@EnableBatchProcessing</code>, the job should not start automatically. Therefore, there is something running it automatically which you did not share. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal complete example</a> that reproduces the issue to be able to help you efficiently."}],"answers":[{"tags":[],"owner":{"account_id":29033046,"reputation":11,"user_id":22239522,"display_name":"vaibhav burgute"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695200551,"creation_date":1695200551,"answer_id":77140882,"question_id":77035530,"body_markdown":"@MahmoudBenHassine Thank you for your comment, Actually we can use @StepScope over Processor, because all queries declared in processor and @Bean responsible for configuring it and running my job. That helped me.","title":"How to stop Spring Batch job Executing automatically","body":"<p>@MahmoudBenHassine Thank you for your comment, Actually we can use @StepScope over Processor, because all queries declared in processor and @Bean responsible for configuring it and running my job. That helped me.</p>\n"}],"owner":{"account_id":29033046,"reputation":11,"user_id":22239522,"display_name":"vaibhav burgute"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695200551,"creation_date":1693809188,"question_id":77035530,"body_markdown":"```java\r\n@ComponentScan({\r\n  &quot;com.&quot;\r\n})@Configuration@EnableBatchProcessing\r\npublic class InterestDateUpdationConfiguration {@Autowired\r\n  private DataSource dataSource;\r\n\r\n  @Autowired\r\n  private JdbcTemplate jdbcTemplate;\r\n\r\n  @Bean\r\n  public Job runJob(Step step1, JobRepository jobRepository) {\r\n    System.out.println(&quot;Runner&quot;);\r\n    return new JobBuilder(&quot;job&quot;, jobRepository).incrementer(new RunIdIncrementer()).flow(step1).end().build();\r\n  }\r\n\r\n  @Bean\r\n  public Step step1(JobRepository jobRepository, PlatformTransactionManager transactionManager, JdbcBatchItemWriter &lt; InterestDateUpdationEntity &gt; writer) {\r\n    System.out.println(&quot;Step&quot;);\r\n    return new StepBuilder(&quot;step1&quot;, jobRepository). &lt; InterestDateUpdationEntity,\r\n    InterestDateUpdationEntity &gt; chunk(10, transactionManager).reader(JdbcCursorItemReader(dataSource)).processor(processor()).writer(writer).build();\r\n  }\r\n\r\n  @Bean\r\n  public ItemReader &lt; InterestDateUpdationEntity &gt; JdbcCursorItemReader(DataSource dataSource) {\r\n    System.out.println(&quot;reader&quot;);\r\n    JdbcCursorItemReader &lt; InterestDateUpdationEntity &gt; itemReader = new JdbcCursorItemReader &lt; &gt;();\r\n    itemReader.setDataSource(dataSource);\r\n    itemReader.setSql(&quot;SELECT SYSDATE FROM DUAL&quot;);\r\n    itemReader.setRowMapper(new InterestDateUpdationRowMapper());\r\n    return itemReader;\r\n  }\r\n\r\n  @Bean\r\n  public JdbcBatchItemWriter &lt; InterestDateUpdationEntity &gt; jdbcBatchItemWriter() {\r\n    JdbcBatchItemWriter &lt; InterestDateUpdationEntity &gt; itemWriter = new JdbcBatchItemWriter &lt; &gt;();\r\n    itemWriter.setDataSource(dataSource);\r\n    itemWriter.setSql(&quot;SELECT SYSDATE FROM DUAL&quot;);\r\n    itemWriter.setItemPreparedStatementSetter(new ItemPreparedStatementSetter &lt; InterestDateUpdationEntity &gt; () {@Override\r\n      public void setValues(InterestDateUpdationEntity item, PreparedStatement ps) throws SQLException {}\r\n    });\r\n    return itemWriter;\r\n  }\r\n\r\n  @Bean\r\n  public JobExecutionListener listener() {\r\n    return new JobExecutionListener() {@Override\r\n      public void beforeJob(JobExecution jobExecution) {\r\n        System.out.println(&quot;Started date and time&quot; + new Date());\r\n        System.out.println(&quot;Batch Status&quot; + jobExecution.getStatus());\r\n      }@Override\r\n      public void afterJob(JobExecution jobExecution) {\r\n        System.out.println(&quot;Ended date and time&quot; + new Date());\r\n        System.out.println(&quot;Batch Status&quot; + jobExecution.getStatus());\r\n      }\r\n    };\r\n  }\r\n\r\n  @Bean\r\n  public ItemProcessor &lt; InterestDateUpdationEntity,\r\n  InterestDateUpdationEntity &gt; processor() {\r\n    String insertSql = &quot;INSERT INTO MT_INSTRUMENT_TEMP_VAIBHAV (select I.INSTR_CODE, I.FREQ_CODE, I.INSTR_FST_PYMT_DT, I.NEXT_PAY_DATE, I.LAST_PYMT_DATE, I.ISSUE_DATE,I.MATURE_DT, I.INSTR_INT_RATE,&#39;&#39; from MT_INSTRUMENT I where I.FREQ_CODE IS NOT NULL AND I.INSTR_FST_PYMT_DT IS NOT NULL AND I.MATURE_DT IS NOT NULL AND I.NEXT_PAY_DATE IS NOT NULL AND I.FREQ_CODE != &#39;X&#39; AND I.NEXT_PAY_DATE &lt;= (SELECT SYS_DATE FROM PRO_SYS_DATE))&quot;;\r\n    String updateSql = &quot;UPDATE MT_INSTRUMENT_TEMP_VAIBHAV SET NEXT_PAY_DATE_NEW = ADD_MONTHS(NEXT_PAY_DATE ,(CASE FREQ_CODE WHEN &#39;A&#39; THEN 12 WHEN &#39;M&#39; THEN 1 WHEN &#39;Q&#39; THEN 3 WHEN &#39;S&#39; THEN 6 ELSE 0   END ))&quot;;\r\n    String updateByFirstDate = &quot;update MT_INSTRUMENT_TEMP_VAIBHAV set NEXT_PAY_DATE_NEW = to_date(SUBSTR(INSTR_FST_PYMT_DT,0,2) ||SUBSTR(NEXT_PAY_DATE_NEW,3),&#39;dd/mm/yyyy hh24:mi:ss&#39;) where to_number(SUBSTR(INSTR_FST_PYMT_DT,0,2)) &lt; to_number(SUBSTR(NEXT_PAY_DATE_NEW,0,2))&quot;;\r\n    String updateByInstrDetails = &quot;UPDATE MT_INSTRUMENT_TEMP_VAIBHAV A SET A.NEXT_PAY_DATE_NEW = ( SELECT INTEREST_DATE FROM MT_INSTRUMENT_DETAILS B WHERE A.INSTR_CODE = B.INSTR_CODE ) WHERE EXISTS ( SELECT * FROM MT_INSTRUMENT_DETAILS B WHERE A.INSTR_CODE = B.INSTR_CODE)&quot;;\r\n    String updateByMatureDate = &quot;UPDATE MT_INSTRUMENT_TEMP_VAIBHAV SET NEXT_PAY_DATE_NEW = CASE WHEN NEXT_PAY_DATE_NEW &gt; MATURE_DT THEN MATURE_DT ELSE NEXT_PAY_DATE_NEW END&quot;;\r\n    String mergerSql = &quot;MERGE INTO MT_INSTRUMENT_VAIBHAV_BACKUP A USING MT_INSTRUMENT_TEMP_VAIBHAV B ON (A.INSTR_CODE = B.INSTR_CODE) WHEN MATCHED THEN UPDATE SET A.LAST_INCOM_RT = B.INSTR_INT_RATE, A.NEXT_PAY_DATE = B.NEXT_PAY_DATE_NEW, A.OLD_LST_PAYDT = B.LAST_PYMT_DATE, A.LAST_PYMT_DATE = B.NEXT_PAY_DATE, A.MOD_LAST_PAYDT = &#39;Y&#39; &quot;;\r\n    jdbcTemplate.update(insertSql);\r\n    jdbcTemplate.update(updateSql);\r\n    jdbcTemplate.update(updateByFirstDate);\r\n    jdbcTemplate.update(updateByInstrDetails);\r\n    jdbcTemplate.update(updateByMatureDate);\r\n    jdbcTemplate.update(mergerSql);\r\n    return null;\r\n  }\r\n}`\r\n\r\npackage com;\r\nimport org.springframework.batch.core.Job;@RestController@RequestMapping(&quot;/api/job&quot;)\r\npublic class InterestDateUpdationController {\r\n\r\n  @Autowired\r\n  private JobLauncher jobLauncher;\r\n\r\n  @Autowired\r\n  private Job runJob;\r\n\r\n  @PostMapping(&quot;/run-job&quot;)\r\n  public ResponseEntity &lt; String &gt; runJob() {\r\n    try {\r\n      JobParameters jobParameters = new JobParametersBuilder().addLong(&quot;time&quot;, System.currentTimeMillis()).toJobParameters();\r\n\r\n      jobLauncher.run(runJob, jobParameters);\r\n      return ResponseEntity.ok(&quot;Job executed successfully&quot;);\r\n    } catch(Exception e) {\r\n      return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Failed to execute job&quot;);\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n\r\nMy Batch job is triggering automatically even if I have set `spring.batch.job.enabled=false`. Also, I am not using any Job Runner but at the time of running application it&#39;s saving data into the database by executing Reader, writer and processor.\r\n\r\nI have tried to set `spring.batch.job.enabled=false`, and I have commented all `Runner` related code including `CommandLineRunner`.","title":"How to stop Spring Batch job Executing automatically","body":"<pre class=\"lang-java prettyprint-override\"><code>@ComponentScan({\n  &quot;com.&quot;\n})@Configuration@EnableBatchProcessing\npublic class InterestDateUpdationConfiguration {@Autowired\n  private DataSource dataSource;\n\n  @Autowired\n  private JdbcTemplate jdbcTemplate;\n\n  @Bean\n  public Job runJob(Step step1, JobRepository jobRepository) {\n    System.out.println(&quot;Runner&quot;);\n    return new JobBuilder(&quot;job&quot;, jobRepository).incrementer(new RunIdIncrementer()).flow(step1).end().build();\n  }\n\n  @Bean\n  public Step step1(JobRepository jobRepository, PlatformTransactionManager transactionManager, JdbcBatchItemWriter &lt; InterestDateUpdationEntity &gt; writer) {\n    System.out.println(&quot;Step&quot;);\n    return new StepBuilder(&quot;step1&quot;, jobRepository). &lt; InterestDateUpdationEntity,\n    InterestDateUpdationEntity &gt; chunk(10, transactionManager).reader(JdbcCursorItemReader(dataSource)).processor(processor()).writer(writer).build();\n  }\n\n  @Bean\n  public ItemReader &lt; InterestDateUpdationEntity &gt; JdbcCursorItemReader(DataSource dataSource) {\n    System.out.println(&quot;reader&quot;);\n    JdbcCursorItemReader &lt; InterestDateUpdationEntity &gt; itemReader = new JdbcCursorItemReader &lt; &gt;();\n    itemReader.setDataSource(dataSource);\n    itemReader.setSql(&quot;SELECT SYSDATE FROM DUAL&quot;);\n    itemReader.setRowMapper(new InterestDateUpdationRowMapper());\n    return itemReader;\n  }\n\n  @Bean\n  public JdbcBatchItemWriter &lt; InterestDateUpdationEntity &gt; jdbcBatchItemWriter() {\n    JdbcBatchItemWriter &lt; InterestDateUpdationEntity &gt; itemWriter = new JdbcBatchItemWriter &lt; &gt;();\n    itemWriter.setDataSource(dataSource);\n    itemWriter.setSql(&quot;SELECT SYSDATE FROM DUAL&quot;);\n    itemWriter.setItemPreparedStatementSetter(new ItemPreparedStatementSetter &lt; InterestDateUpdationEntity &gt; () {@Override\n      public void setValues(InterestDateUpdationEntity item, PreparedStatement ps) throws SQLException {}\n    });\n    return itemWriter;\n  }\n\n  @Bean\n  public JobExecutionListener listener() {\n    return new JobExecutionListener() {@Override\n      public void beforeJob(JobExecution jobExecution) {\n        System.out.println(&quot;Started date and time&quot; + new Date());\n        System.out.println(&quot;Batch Status&quot; + jobExecution.getStatus());\n      }@Override\n      public void afterJob(JobExecution jobExecution) {\n        System.out.println(&quot;Ended date and time&quot; + new Date());\n        System.out.println(&quot;Batch Status&quot; + jobExecution.getStatus());\n      }\n    };\n  }\n\n  @Bean\n  public ItemProcessor &lt; InterestDateUpdationEntity,\n  InterestDateUpdationEntity &gt; processor() {\n    String insertSql = &quot;INSERT INTO MT_INSTRUMENT_TEMP_VAIBHAV (select I.INSTR_CODE, I.FREQ_CODE, I.INSTR_FST_PYMT_DT, I.NEXT_PAY_DATE, I.LAST_PYMT_DATE, I.ISSUE_DATE,I.MATURE_DT, I.INSTR_INT_RATE,'' from MT_INSTRUMENT I where I.FREQ_CODE IS NOT NULL AND I.INSTR_FST_PYMT_DT IS NOT NULL AND I.MATURE_DT IS NOT NULL AND I.NEXT_PAY_DATE IS NOT NULL AND I.FREQ_CODE != 'X' AND I.NEXT_PAY_DATE &lt;= (SELECT SYS_DATE FROM PRO_SYS_DATE))&quot;;\n    String updateSql = &quot;UPDATE MT_INSTRUMENT_TEMP_VAIBHAV SET NEXT_PAY_DATE_NEW = ADD_MONTHS(NEXT_PAY_DATE ,(CASE FREQ_CODE WHEN 'A' THEN 12 WHEN 'M' THEN 1 WHEN 'Q' THEN 3 WHEN 'S' THEN 6 ELSE 0   END ))&quot;;\n    String updateByFirstDate = &quot;update MT_INSTRUMENT_TEMP_VAIBHAV set NEXT_PAY_DATE_NEW = to_date(SUBSTR(INSTR_FST_PYMT_DT,0,2) ||SUBSTR(NEXT_PAY_DATE_NEW,3),'dd/mm/yyyy hh24:mi:ss') where to_number(SUBSTR(INSTR_FST_PYMT_DT,0,2)) &lt; to_number(SUBSTR(NEXT_PAY_DATE_NEW,0,2))&quot;;\n    String updateByInstrDetails = &quot;UPDATE MT_INSTRUMENT_TEMP_VAIBHAV A SET A.NEXT_PAY_DATE_NEW = ( SELECT INTEREST_DATE FROM MT_INSTRUMENT_DETAILS B WHERE A.INSTR_CODE = B.INSTR_CODE ) WHERE EXISTS ( SELECT * FROM MT_INSTRUMENT_DETAILS B WHERE A.INSTR_CODE = B.INSTR_CODE)&quot;;\n    String updateByMatureDate = &quot;UPDATE MT_INSTRUMENT_TEMP_VAIBHAV SET NEXT_PAY_DATE_NEW = CASE WHEN NEXT_PAY_DATE_NEW &gt; MATURE_DT THEN MATURE_DT ELSE NEXT_PAY_DATE_NEW END&quot;;\n    String mergerSql = &quot;MERGE INTO MT_INSTRUMENT_VAIBHAV_BACKUP A USING MT_INSTRUMENT_TEMP_VAIBHAV B ON (A.INSTR_CODE = B.INSTR_CODE) WHEN MATCHED THEN UPDATE SET A.LAST_INCOM_RT = B.INSTR_INT_RATE, A.NEXT_PAY_DATE = B.NEXT_PAY_DATE_NEW, A.OLD_LST_PAYDT = B.LAST_PYMT_DATE, A.LAST_PYMT_DATE = B.NEXT_PAY_DATE, A.MOD_LAST_PAYDT = 'Y' &quot;;\n    jdbcTemplate.update(insertSql);\n    jdbcTemplate.update(updateSql);\n    jdbcTemplate.update(updateByFirstDate);\n    jdbcTemplate.update(updateByInstrDetails);\n    jdbcTemplate.update(updateByMatureDate);\n    jdbcTemplate.update(mergerSql);\n    return null;\n  }\n}`\n\npackage com;\nimport org.springframework.batch.core.Job;@RestController@RequestMapping(&quot;/api/job&quot;)\npublic class InterestDateUpdationController {\n\n  @Autowired\n  private JobLauncher jobLauncher;\n\n  @Autowired\n  private Job runJob;\n\n  @PostMapping(&quot;/run-job&quot;)\n  public ResponseEntity &lt; String &gt; runJob() {\n    try {\n      JobParameters jobParameters = new JobParametersBuilder().addLong(&quot;time&quot;, System.currentTimeMillis()).toJobParameters();\n\n      jobLauncher.run(runJob, jobParameters);\n      return ResponseEntity.ok(&quot;Job executed successfully&quot;);\n    } catch(Exception e) {\n      return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Failed to execute job&quot;);\n    }\n  }\n\n}\n</code></pre>\n<p>My Batch job is triggering automatically even if I have set <code>spring.batch.job.enabled=false</code>. Also, I am not using any Job Runner but at the time of running application it's saving data into the database by executing Reader, writer and processor.</p>\n<p>I have tried to set <code>spring.batch.job.enabled=false</code>, and I have commented all <code>Runner</code> related code including <code>CommandLineRunner</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"score":2,"creation_date":1423652545,"post_id":28452599,"comment_id":45232498,"body_markdown":"Can you show us the code you are trying to attach the file ?","body":"Can you show us the code you are trying to attach the file ?"}],"answers":[{"tags":[],"owner":{"account_id":2756352,"reputation":10990,"user_id":2374302,"accept_rate":86,"display_name":"Axel Amthor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423652582,"creation_date":1423652582,"answer_id":28452719,"question_id":28452599,"body_markdown":"MIME Headers (like `Subject` or `Content-Disposition`) must be mime-encoded, if they contain non-ascii chars.\r\n\r\nEncoding is either &quot;`quoted printable`&quot; or &quot;`base64`&quot;. I recommend for `quoted-printable`.\r\n\r\nSee here: https://stackoverflow.com/questions/21574745/java-encode-string-in-quoted-printable","title":"JavaMail - Attachment filename not displaying UTF-8 characters correctly","body":"<p>MIME Headers (like <code>Subject</code> or <code>Content-Disposition</code>) must be mime-encoded, if they contain non-ascii chars.</p>\n\n<p>Encoding is either \"<code>quoted printable</code>\" or \"<code>base64</code>\". I recommend for <code>quoted-printable</code>.</p>\n\n<p>See here: <a href=\"https://stackoverflow.com/questions/21574745/java-encode-string-in-quoted-printable\">Java: Encode String in quoted-printable</a></p>\n"}],"owner":{"account_id":5770919,"reputation":131,"user_id":4554384,"display_name":"Tonia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9562,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":1,"score":13,"last_activity_date":1695200470,"creation_date":1423652242,"question_id":28452599,"body_markdown":"I am trying to send mails that may contain UTF-8 characters in subject, message body and in the attachment file name.\r\n\r\nI am able to send UTF-8 characters as a part of Subject as well as Mesage body. However when I am sending an attachment having UTF-8 characters as a attachment file name, it is not displaying it correctly.\r\n\r\nSo my question is how can I set attachement filename as UTF-8?\r\n\r\nHere is part of my code:\r\n\r\n    MimeBodyPart pdfPart = new MimeBodyPart();\r\n    pdfPart.setDataHandler(new DataHandler(ds));\r\n    pdfPart.setFileName(filename);\r\n    mimeMultipart.addBodyPart(pdfPart);\r\n\r\n\r\n  Later edit: \r\n\r\nI replaced \r\n\r\n    pdfPart.setFileName(filename);\r\n\r\nwith\r\n\r\n    pdfPart.setFileName(MimeUtility.encodeText(filename, &quot;UTF-8&quot;, null));\r\n\r\nand it is working perfectly. \r\nThanks all.\r\n\r\n\r\n","title":"JavaMail - Attachment filename not displaying UTF-8 characters correctly","body":"<p>I am trying to send mails that may contain UTF-8 characters in subject, message body and in the attachment file name.</p>\n\n<p>I am able to send UTF-8 characters as a part of Subject as well as Mesage body. However when I am sending an attachment having UTF-8 characters as a attachment file name, it is not displaying it correctly.</p>\n\n<p>So my question is how can I set attachement filename as UTF-8?</p>\n\n<p>Here is part of my code:</p>\n\n<pre><code>MimeBodyPart pdfPart = new MimeBodyPart();\npdfPart.setDataHandler(new DataHandler(ds));\npdfPart.setFileName(filename);\nmimeMultipart.addBodyPart(pdfPart);\n</code></pre>\n\n<p>Later edit: </p>\n\n<p>I replaced </p>\n\n<pre><code>pdfPart.setFileName(filename);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>pdfPart.setFileName(MimeUtility.encodeText(filename, \"UTF-8\", null));\n</code></pre>\n\n<p>and it is working perfectly. \nThanks all.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":2003270,"reputation":939,"user_id":1793799,"accept_rate":62,"display_name":"Woody"},"score":0,"creation_date":1382350517,"post_id":19491231,"comment_id":28910469,"body_markdown":"Post your tried code.","body":"Post your tried code."},{"owner":{"account_id":310816,"reputation":9919,"user_id":624003,"display_name":"Sankumarsingh"},"score":1,"creation_date":1382353869,"post_id":19491231,"comment_id":28912382,"body_markdown":"@AAA: Your code seems correct... what you are getting in this case... default it is showing 64 on my end...","body":"@AAA: Your code seems correct... what you are getting in this case... default it is showing 64 on my end..."},{"owner":{"account_id":1431512,"reputation":348,"user_id":1353830,"accept_rate":27,"display_name":"AAA"},"score":0,"creation_date":1382355459,"post_id":19491231,"comment_id":28913260,"body_markdown":"@Sankumarsingh I am also getting 64 which is AUTOMATIC Color code it doesn&#39;t make any sense while your workbook is having some different color.","body":"@Sankumarsingh I am also getting 64 which is AUTOMATIC Color code it doesn&#39;t make any sense while your workbook is having some different color."},{"owner":{"account_id":310816,"reputation":9919,"user_id":624003,"display_name":"Sankumarsingh"},"score":0,"creation_date":1382355561,"post_id":19491231,"comment_id":28913306,"body_markdown":"but try this \n`cell.getCellStyle().setFillForegroundColor(HSSFColor.GOLD.index);`\n\t\t\t`System.out.println(cell.getCellStyle().getFillForegroundColor());`\n\nWill give you 51... means it&#39;s working and changing as per the color it gets.","body":"but try this  <code>cell.getCellStyle().setFillForegroundColor(HSSFColor.GOLD.in&zwnj;&#8203;dex);</code> \t\t\t<code>System.out.println(cell.getCellStyle().getFillForegroundC&zwnj;&#8203;olor());</code>  Will give you 51... means it&#39;s working and changing as per the color it gets."},{"owner":{"account_id":1431512,"reputation":348,"user_id":1353830,"accept_rate":27,"display_name":"AAA"},"score":0,"creation_date":1382359336,"post_id":19491231,"comment_id":28915667,"body_markdown":"@Sankumarsingh I tried this one also I am able to get other values other than 64 but if I set in Excel using any tool but not POI I am not able to fetch the background color. The excel files I am using are not made through POI but tool like Microsoft Excel.","body":"@Sankumarsingh I tried this one also I am able to get other values other than 64 but if I set in Excel using any tool but not POI I am not able to fetch the background color. The excel files I am using are not made through POI but tool like Microsoft Excel."},{"owner":{"account_id":1864114,"reputation":764,"user_id":1688064,"display_name":"Larsen"},"score":0,"creation_date":1586061543,"post_id":19491231,"comment_id":107984342,"body_markdown":"Did you find an answer for this?","body":"Did you find an answer for this?"}],"answers":[{"comments":[{"owner":{"account_id":1431512,"reputation":348,"user_id":1353830,"accept_rate":27,"display_name":"AAA"},"score":0,"creation_date":1382355352,"post_id":19492694,"comment_id":28913192,"body_markdown":"If you will check every time and for different background  colors it will give you value 64 Which is `Automatic` color","body":"If you will check every time and for different background  colors it will give you value 64 Which is <code>Automatic</code> color"},{"owner":{"account_id":1864114,"reputation":764,"user_id":1688064,"display_name":"Larsen"},"score":1,"creation_date":1586026773,"post_id":19492694,"comment_id":107976311,"body_markdown":"Yes, 64 refers Automatic. But how do we get actual color?","body":"Yes, 64 refers Automatic. But how do we get actual color?"}],"tags":[],"owner":{"account_id":2825145,"reputation":2520,"user_id":2427937,"accept_rate":56,"display_name":"YoBre"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382353199,"creation_date":1382353199,"answer_id":19492694,"question_id":19491231,"body_markdown":"I&#39;m working in scala but it&#39;s the same. Your code is right.\r\n\r\nThis is my, see if you can find differences:\r\n\r\n    val wb = new XSSFWorkbook(path)\r\n    for (id &lt;- 0.until(sheetTot)) {\r\n        val sh = wb.getSheetAt(id)    \r\n        print(sh.rowIterator().next().cellIterator().next().getCellStyle().getFillBackgroundColor())\r\n    }\r\n\r\nin my case the result is 64","title":"How to get cell&#39;s background color using apache poi?","body":"<p>I'm working in scala but it's the same. Your code is right.</p>\n\n<p>This is my, see if you can find differences:</p>\n\n<pre><code>val wb = new XSSFWorkbook(path)\nfor (id &lt;- 0.until(sheetTot)) {\n    val sh = wb.getSheetAt(id)    \n    print(sh.rowIterator().next().cellIterator().next().getCellStyle().getFillBackgroundColor())\n}\n</code></pre>\n\n<p>in my case the result is 64</p>\n"},{"comments":[{"owner":{"account_id":1864114,"reputation":764,"user_id":1688064,"display_name":"Larsen"},"score":0,"creation_date":1586026883,"post_id":20835582,"comment_id":107976348,"body_markdown":"What does palette refer to?","body":"What does palette refer to?"},{"owner":{"account_id":1864114,"reputation":764,"user_id":1688064,"display_name":"Larsen"},"score":0,"creation_date":1586061510,"post_id":20835582,"comment_id":107984333,"body_markdown":"How would this work when cellStyle.getFillForegroundColor() or cellStyle.getFillBackgroundColor() always return default values?","body":"How would this work when cellStyle.getFillForegroundColor() or cellStyle.getFillBackgroundColor() always return default values?"}],"tags":[],"owner":{"account_id":989232,"reputation":422,"user_id":1006964,"display_name":"Kartik Narayana Maringanti"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1388390120,"creation_date":1388390120,"answer_id":20835582,"question_id":19491231,"body_markdown":"Checkout this URL:\r\n\r\nhttps://issues.apache.org/bugzilla/show_bug.cgi?id=45492\r\n\r\n\r\n\r\n    Cell cell = row.getCell(1);\r\n    \t\t\tCellStyle cellStyle = cell.getCellStyle();\t\t\t\r\n    \t\t\tSystem.out.println(&quot;color = &quot; + getColorPattern(cellStyle.getFillForegroundColor()));\r\n\r\n\t\t\r\n\r\n\r\n    private short[] getColorPattern(short colorIdx){\t\t\r\n\t\tshort[] triplet = null;\r\n\t\tHSSFColor color = palette.getColor(colorIdx);\r\n\t\ttriplet = color.getTriplet();\t\t\r\n\t\tSystem.out.println(&quot;color : &quot; + triplet[0] +&quot;,&quot; + triplet[1] + &quot;,&quot; + triplet[2]);\r\n\t\treturn triplet;\r\n\t}\r\n\r\n\r\nThis returns the RGB codes but not exact ones. But its more or less the same color returned when compared with the actual color code in the XLS custom color picker.\r\n","title":"How to get cell&#39;s background color using apache poi?","body":"<p>Checkout this URL:</p>\n\n<p><a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=45492\" rel=\"nofollow\">https://issues.apache.org/bugzilla/show_bug.cgi?id=45492</a></p>\n\n<pre><code>Cell cell = row.getCell(1);\n            CellStyle cellStyle = cell.getCellStyle();          \n            System.out.println(\"color = \" + getColorPattern(cellStyle.getFillForegroundColor()));\n\n\n\n\nprivate short[] getColorPattern(short colorIdx){        \n    short[] triplet = null;\n    HSSFColor color = palette.getColor(colorIdx);\n    triplet = color.getTriplet();       \n    System.out.println(\"color : \" + triplet[0] +\",\" + triplet[1] + \",\" + triplet[2]);\n    return triplet;\n}\n</code></pre>\n\n<p>This returns the RGB codes but not exact ones. But its more or less the same color returned when compared with the actual color code in the XLS custom color picker.</p>\n"},{"tags":[],"owner":{"account_id":25389,"reputation":14608,"user_id":65230,"accept_rate":84,"display_name":"Ascalonian"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1419345085,"creation_date":1419343593,"answer_id":27621997,"question_id":19491231,"body_markdown":"Try this:\r\n\r\n    row.getCell(0).getCellStyle().getFillForegroundColorColor().getARGBHex()\r\n\r\nNotice that `Color` is used twice","title":"How to get cell&#39;s background color using apache poi?","body":"<p>Try this:</p>\n\n<pre><code>row.getCell(0).getCellStyle().getFillForegroundColorColor().getARGBHex()\n</code></pre>\n\n<p>Notice that <code>Color</code> is used twice</p>\n"},{"tags":[],"owner":{"account_id":1854856,"reputation":160,"user_id":1680670,"accept_rate":80,"display_name":"Anthony Holland"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444128055,"creation_date":1444128055,"answer_id":32967910,"question_id":19491231,"body_markdown":"The following is in Scala but it does show exactly how to get the colour from the object model. I wanted to instantiate a java.awt.Color object from the actual rgb values (which is useful partly because my debugger displays for me the actual colour of the object when I stop at breakpoints, and partly because this is for export to systems that have nothing to do with Excel). I&#39;m ignoring the colour&#39;s alpha value and my Scala may be a bit naive. I&#39;d suggest that if this doesn&#39;t work for you, you should set a break-point and examine the result of closely related method calls such as getFillBackgroundColorColor()\r\n\r\n    val rgb: Array[Byte] = cell.getCellStyle.getFillForegroundColorColor.getRgb\r\n    def toInt(b: Byte): Int = {\r\n      if (b&lt;0) 256+b else b\r\n    }\r\n    val rgbInts = rgb.map(toInt)\r\n    val color = new Color(rgbInts(0),rgbInts(1),rgbInts(2))","title":"How to get cell&#39;s background color using apache poi?","body":"<p>The following is in Scala but it does show exactly how to get the colour from the object model. I wanted to instantiate a java.awt.Color object from the actual rgb values (which is useful partly because my debugger displays for me the actual colour of the object when I stop at breakpoints, and partly because this is for export to systems that have nothing to do with Excel). I'm ignoring the colour's alpha value and my Scala may be a bit naive. I'd suggest that if this doesn't work for you, you should set a break-point and examine the result of closely related method calls such as getFillBackgroundColorColor()</p>\n\n<pre><code>val rgb: Array[Byte] = cell.getCellStyle.getFillForegroundColorColor.getRgb\ndef toInt(b: Byte): Int = {\n  if (b&lt;0) 256+b else b\n}\nval rgbInts = rgb.map(toInt)\nval color = new Color(rgbInts(0),rgbInts(1),rgbInts(2))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1864114,"reputation":764,"user_id":1688064,"display_name":"Larsen"},"score":0,"creation_date":1586026703,"post_id":51926002,"comment_id":107976282,"body_markdown":"The same happens for me.","body":"The same happens for me."}],"tags":[],"owner":{"account_id":13654018,"reputation":25,"user_id":9851070,"display_name":"shivaji"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534750488,"creation_date":1534750488,"answer_id":51926002,"question_id":19491231,"body_markdown":"All the time its giving me no 64 \r\nthis is my code\r\n\r\n       for(Row r : my_sheet) {\r\n            for (Cell c : r) {\r\n\r\n                System.out.println(c.getCellStyle().getFillBackgroundColor() );\r\n                //if foreground filter color is not green then hide the record\r\n                if ( c.getColumnIndex()==1  &amp;&amp; c.getCellStyle().getFillBackgroundColor() !=17){\r\n                    r1=(XSSFRow) c.getRow();\r\n                    if (r1.getRowNum()!=0) { /* Ignore top row */\r\n                        /* Hide Row that does not meet Filter Criteria */\r\n                        r1.getCTRow().setHidden(true); }\r\n                }\r\n            }\r\n        }\r\n","title":"How to get cell&#39;s background color using apache poi?","body":"<p>All the time its giving me no 64 \nthis is my code</p>\n\n<pre><code>   for(Row r : my_sheet) {\n        for (Cell c : r) {\n\n            System.out.println(c.getCellStyle().getFillBackgroundColor() );\n            //if foreground filter color is not green then hide the record\n            if ( c.getColumnIndex()==1  &amp;&amp; c.getCellStyle().getFillBackgroundColor() !=17){\n                r1=(XSSFRow) c.getRow();\n                if (r1.getRowNum()!=0) { /* Ignore top row */\n                    /* Hide Row that does not meet Filter Criteria */\n                    r1.getCTRow().setHidden(true); }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":658880,"reputation":6056,"user_id":1354879,"display_name":"Balazs Zsoldos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658729743,"creation_date":1658729743,"answer_id":73104715,"question_id":19491231,"body_markdown":"There seem to be several options of getting the background color. When the color of the cell is specified in the following way:\r\n\r\n[![Background color selection in excel][1]][1]\r\n\r\nThe following returns the color code:\r\n\r\n    public static String getBackgroundColor(XSSFCell cell) {\r\n      byte[] rgbWithTint = cell.getCellStyle().getFillForegroundColorColor().getRGBWithTint();\r\n      if (rgbWithTint == null) {\r\n        return null;\r\n      }\r\n      return Hex.encodeHexString(rgbWithTint);\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uGodi.png","title":"How to get cell&#39;s background color using apache poi?","body":"<p>There seem to be several options of getting the background color. When the color of the cell is specified in the following way:</p>\n<p><a href=\"https://i.stack.imgur.com/uGodi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uGodi.png\" alt=\"Background color selection in excel\" /></a></p>\n<p>The following returns the color code:</p>\n<pre><code>public static String getBackgroundColor(XSSFCell cell) {\n  byte[] rgbWithTint = cell.getCellStyle().getFillForegroundColorColor().getRGBWithTint();\n  if (rgbWithTint == null) {\n    return null;\n  }\n  return Hex.encodeHexString(rgbWithTint);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714591,"reputation":490,"user_id":5176800,"accept_rate":80,"display_name":"Filou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695200465,"creation_date":1695200465,"answer_id":77140870,"question_id":19491231,"body_markdown":"I also had the problem to only get the color index **64** every time I tried to read a color from a cell.\r\n\r\nAfter a lot of try-and-error I found out, that the worksheet had _conditionally coloring_ activated. It seems that you can not read the background color by `cell.getCellStyle().getFillForegroundColorColor()` if that is the case.\r\n\r\nAfter this realization, in my use case, I simply looked at the conditions the color is based on and extracted the information I needed. So I had no need to read the actual color I only needed to distinguish between states. \r\n\r\nAnyway I am sure that there is a possibility to read such a conditionally filled color with Apache POI. A good starting point might be the [ Quick-Guide to conditionally coloring][1].\r\n\r\n\r\n  [1]: https://poi.apache.org/components/spreadsheet/quick-guide.html#ConditionalFormatting","title":"How to get cell&#39;s background color using apache poi?","body":"<p>I also had the problem to only get the color index <strong>64</strong> every time I tried to read a color from a cell.</p>\n<p>After a lot of try-and-error I found out, that the worksheet had <em>conditionally coloring</em> activated. It seems that you can not read the background color by <code>cell.getCellStyle().getFillForegroundColorColor()</code> if that is the case.</p>\n<p>After this realization, in my use case, I simply looked at the conditions the color is based on and extracted the information I needed. So I had no need to read the actual color I only needed to distinguish between states.</p>\n<p>Anyway I am sure that there is a possibility to read such a conditionally filled color with Apache POI. A good starting point might be the <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html#ConditionalFormatting\" rel=\"nofollow noreferrer\"> Quick-Guide to conditionally coloring</a>.</p>\n"}],"owner":{"account_id":1431512,"reputation":348,"user_id":1353830,"accept_rate":27,"display_name":"AAA"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13522,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":7,"score":10,"last_activity_date":1695200465,"creation_date":1382349059,"question_id":19491231,"body_markdown":"How do we get `background color` of a `XSSFCell`. I tried using `XSSFCellStyle` but no luck.\r\n\r\n    FileInputStream fis = new FileInputStream(fileName);\r\n    XSSFWorkbook book = new XSSFWorkbook(fis);\r\n    XSSFSheet sheet = book.getSheetAt(0);\r\n    XSSFRow row = sheet.getRow(0);\r\n\t\t\r\n    System.out.println(row.getCell(0).getCellStyle().getFillForegroundColor());\r\n\r\nUsing these steps I am not able to get background color representation in `Short` type.","title":"How to get cell&#39;s background color using apache poi?","body":"<p>How do we get <code>background color</code> of a <code>XSSFCell</code>. I tried using <code>XSSFCellStyle</code> but no luck.</p>\n\n<pre><code>FileInputStream fis = new FileInputStream(fileName);\nXSSFWorkbook book = new XSSFWorkbook(fis);\nXSSFSheet sheet = book.getSheetAt(0);\nXSSFRow row = sheet.getRow(0);\n\nSystem.out.println(row.getCell(0).getCellStyle().getFillForegroundColor());\n</code></pre>\n\n<p>Using these steps I am not able to get background color representation in <code>Short</code> type.</p>\n"},{"tags":["java","visitor-pattern","compareto","double-dispatch"],"answers":[{"tags":[],"owner":{"account_id":14335361,"reputation":1220,"user_id":10355015,"display_name":"Dmitry Barskov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613147244,"creation_date":1613147244,"answer_id":66175475,"question_id":66175231,"body_markdown":"I&#39;m afraid visitor pattern is not applicable here, since it requires 2 interfaces (parent types/classes): Visitor and Element. But you have only one parent type.\r\n\r\nIn your case you can just create an integer number property `size` and use it for comparison.","title":"How to use a Double Dispatch with compareTo in JAVA?","body":"<p>I'm afraid visitor pattern is not applicable here, since it requires 2 interfaces (parent types/classes): Visitor and Element. But you have only one parent type.</p>\n<p>In your case you can just create an integer number property <code>size</code> and use it for comparison.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1613155581,"creation_date":1613148751,"answer_id":66175873,"question_id":66175231,"body_markdown":"The [Answer by Barskov][1] is correct and wise. Probably the best solution for your scenario is to simply add a final static `relativeSize` field to each of the four classes. \r\n\r\nFor fun, lets look at an alternative approach using an upcoming Java feature.\r\n\r\n\r\n# Sealed classes\r\n\r\nThe new [sealed classes][2] feature being [previewed][3] in [Java 16][4] makes this simpler. \r\n\r\nWhen all your allowed concrete types are known at compile-time, you can communicate that fact to the compiler. Mark the class or interface as `sealed`. Add `permits` with the names of implementing/extending classes. The compiler then enforces your claim, verifying that *all* the designated classes, and *only* the designated classes, extend/implement the sealed class/interface.\r\n\r\nWe also use [default methods][5]. Modern Java allows an interface to have code, as a `default` method to be run if the implementing classes lack that method.\r\n\r\n\r\nHere is some example code.\r\n\r\nNotice the keywords: `sealed`, `permits`, and `default`. \r\n\r\n```java\r\npackage work.basil.example.animalkingdom;\r\n\r\nimport java.util.List;\r\n\r\npublic sealed interface Animal                    // &#129092; sealed\r\n        extends Comparable &lt; Animal &gt;\r\n        permits Mouse, Bunny, Cat, Dog            // &#129092; permits\r\n{\r\n    void makeSound ( );\r\n\r\n    @Override\r\n    default public int compareTo ( Animal o )     // &#129092; default\r\n    {\r\n        List &lt; Class &gt; animalClasses = List.of( Mouse.class , Bunny.class , Cat.class , Dog.class );\r\n        return\r\n                Integer.compare\r\n                        (\r\n                                animalClasses.indexOf( this.getClass() ) ,\r\n                                animalClasses.indexOf( o.getClass() )\r\n                        )\r\n                ;\r\n    }\r\n}\r\n```\r\n\r\nThe concrete classes look like the following. We use `record` here, where the compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`. You could just as well use a conventional class.\r\n\r\n```java\r\npackage work.basil.example.animalkingdom;\r\n\r\nfinal public record Mouse(String name) implements Animal\r\n{\r\n    @Override\r\n    public void makeSound ( )\r\n    {\r\n        System.out.println( &quot;Squeak.&quot; );\r\n    }\r\n}\r\n```\r\n\r\nSee that in action.\r\n\r\n```java\r\npackage work.basil.example.animalkingdom;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        List &lt; Animal &gt; animals =\r\n                new ArrayList &lt;&gt;(\r\n                        List.of(\r\n                                new Mouse( &quot;Alice&quot; ) ,\r\n                                new Bunny( &quot;Bob&quot; ) ,\r\n                                new Cat( &quot;Carol&quot; ) ,\r\n                                new Dog( &quot;David&quot; ) ,\r\n                                new Mouse( &quot;Erin&quot; ) ,\r\n                                new Bunny( &quot;Frank&quot; ) ,\r\n                                new Cat( &quot;Grace&quot; ) ,\r\n                                new Dog( &quot;Heidi&quot; )\r\n                        )\r\n                );\r\n        System.out.println( &quot;animals = &quot; + animals );\r\n\r\n        Collections.sort( animals );\r\n        System.out.println( &quot;animals = &quot; + animals );\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nanimals = [Mouse[name=Alice], Bunny[name=Bob], Cat[name=Carol], Dog[name=David], Mouse[name=Erin], Bunny[name=Frank], Cat[name=Grace], Dog[name=Heidi]]\r\nanimals = [Mouse[name=Alice], Mouse[name=Erin], Bunny[name=Bob], Bunny[name=Frank], Cat[name=Carol], Cat[name=Grace], Dog[name=David], Dog[name=Heidi]]\r\n```\r\n\r\n## Do not use mere class comparison as built-in `compareTo`\r\n\r\nThe above code works, and was fun to try. But in real work you should not do this, not build-in such a `compareTo` implementation that merely looks at class only. \r\n\r\nRead the [`Comparable`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html) Javadoc. You will see a discussion of how the `compareTo` method should be *consistent with `equals`*. \r\n\r\nYou would not consider two `Bunny` instances to be equal merely because they are both of the same class. You would also compare their content, the state of their contained data. In the case of a `record`, the default implementation of `equals` (and `hashCode`) examines each and every member field. In a conventional class, you would implement something similar, examining an `id` field or a `name` field or some such. \r\n\r\nWhen you do want to compare solely by class, use an external [`Comparator`][6] rather than implementing [`Comparable`][7] internally. Something like this:\r\n\r\n```java\r\npackage work.basil.example.animalkingdom;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        List &lt; Animal &gt; animals =\r\n                new ArrayList &lt;&gt;(\r\n                        List.of(\r\n                                new Mouse( &quot;Alice&quot; ) ,\r\n                                new Bunny( &quot;Bob&quot; ) ,\r\n                                new Cat( &quot;Carol&quot; ) ,\r\n                                new Dog( &quot;David&quot; ) ,\r\n                                new Mouse( &quot;Erin&quot; ) ,\r\n                                new Bunny( &quot;Frank&quot; ) ,\r\n                                new Cat( &quot;Grace&quot; ) ,\r\n                                new Dog( &quot;Heidi&quot; )\r\n                        )\r\n                );\r\n        System.out.println( &quot;animals = &quot; + animals );\r\n\r\n        Collections.sort(\r\n                animals ,\r\n                new Comparator &lt; Animal &gt;()\r\n                {\r\n                    @Override\r\n                    public int compare ( Animal o1 , Animal o2 )\r\n                    {\r\n                        List &lt; Class &gt; animalClasses = List.of( Mouse.class , Bunny.class , Cat.class , Dog.class );\r\n                        return\r\n                                Integer.compare\r\n                                        (\r\n                                                animalClasses.indexOf( o1.getClass() ) ,\r\n                                                animalClasses.indexOf( o2.getClass() )\r\n                                        )\r\n                                ;\r\n                    }\r\n                } );\r\n        System.out.println( &quot;animals = &quot; + animals );\r\n    }\r\n}\r\n``` \r\n\r\nOr use the shorter lambda syntax.\r\n\r\n```java\r\n        Collections.sort(\r\n                animals ,\r\n                ( o1 , o2 ) -&gt; {\r\n                    List &lt; Class &gt; animalClasses = List.of( Mouse.class , Bunny.class , Cat.class , Dog.class );\r\n                    return\r\n                            Integer.compare\r\n                                    (\r\n                                            animalClasses.indexOf( o1.getClass() ) ,\r\n                                            animalClasses.indexOf( o2.getClass() )\r\n                                    )\r\n                            ;\r\n                } );\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66175475/642706\r\n  [2]: https://openjdk.java.net/jeps/397\r\n  [3]: https://openjdk.java.net/jeps/12\r\n  [4]: https://en.m.wikipedia.org/wiki/Java_version_history#Java_SE_16\r\n  [5]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html","title":"How to use a Double Dispatch with compareTo in JAVA?","body":"<p>The <a href=\"https://stackoverflow.com/a/66175475/642706\">Answer by Barskov</a> is correct and wise. Probably the best solution for your scenario is to simply add a final static <code>relativeSize</code> field to each of the four classes.</p>\n<p>For fun, lets look at an alternative approach using an upcoming Java feature.</p>\n<h1>Sealed classes</h1>\n<p>The new <a href=\"https://openjdk.java.net/jeps/397\" rel=\"nofollow noreferrer\">sealed classes</a> feature being <a href=\"https://openjdk.java.net/jeps/12\" rel=\"nofollow noreferrer\">previewed</a> in <a href=\"https://en.m.wikipedia.org/wiki/Java_version_history#Java_SE_16\" rel=\"nofollow noreferrer\">Java 16</a> makes this simpler.</p>\n<p>When all your allowed concrete types are known at compile-time, you can communicate that fact to the compiler. Mark the class or interface as <code>sealed</code>. Add <code>permits</code> with the names of implementing/extending classes. The compiler then enforces your claim, verifying that <em>all</em> the designated classes, and <em>only</em> the designated classes, extend/implement the sealed class/interface.</p>\n<p>We also use <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\">default methods</a>. Modern Java allows an interface to have code, as a <code>default</code> method to be run if the implementing classes lack that method.</p>\n<p>Here is some example code.</p>\n<p>Notice the keywords: <code>sealed</code>, <code>permits</code>, and <code>default</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.animalkingdom;\n\nimport java.util.List;\n\npublic sealed interface Animal                    //  sealed\n        extends Comparable &lt; Animal &gt;\n        permits Mouse, Bunny, Cat, Dog            //  permits\n{\n    void makeSound ( );\n\n    @Override\n    default public int compareTo ( Animal o )     //  default\n    {\n        List &lt; Class &gt; animalClasses = List.of( Mouse.class , Bunny.class , Cat.class , Dog.class );\n        return\n                Integer.compare\n                        (\n                                animalClasses.indexOf( this.getClass() ) ,\n                                animalClasses.indexOf( o.getClass() )\n                        )\n                ;\n    }\n}\n</code></pre>\n<p>The concrete classes look like the following. We use <code>record</code> here, where the compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>. You could just as well use a conventional class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.animalkingdom;\n\nfinal public record Mouse(String name) implements Animal\n{\n    @Override\n    public void makeSound ( )\n    {\n        System.out.println( &quot;Squeak.&quot; );\n    }\n}\n</code></pre>\n<p>See that in action.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.animalkingdom;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        List &lt; Animal &gt; animals =\n                new ArrayList &lt;&gt;(\n                        List.of(\n                                new Mouse( &quot;Alice&quot; ) ,\n                                new Bunny( &quot;Bob&quot; ) ,\n                                new Cat( &quot;Carol&quot; ) ,\n                                new Dog( &quot;David&quot; ) ,\n                                new Mouse( &quot;Erin&quot; ) ,\n                                new Bunny( &quot;Frank&quot; ) ,\n                                new Cat( &quot;Grace&quot; ) ,\n                                new Dog( &quot;Heidi&quot; )\n                        )\n                );\n        System.out.println( &quot;animals = &quot; + animals );\n\n        Collections.sort( animals );\n        System.out.println( &quot;animals = &quot; + animals );\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>animals = [Mouse[name=Alice], Bunny[name=Bob], Cat[name=Carol], Dog[name=David], Mouse[name=Erin], Bunny[name=Frank], Cat[name=Grace], Dog[name=Heidi]]\nanimals = [Mouse[name=Alice], Mouse[name=Erin], Bunny[name=Bob], Bunny[name=Frank], Cat[name=Carol], Cat[name=Grace], Dog[name=David], Dog[name=Heidi]]\n</code></pre>\n<h2>Do not use mere class comparison as built-in <code>compareTo</code></h2>\n<p>The above code works, and was fun to try. But in real work you should not do this, not build-in such a <code>compareTo</code> implementation that merely looks at class only.</p>\n<p>Read the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> Javadoc. You will see a discussion of how the <code>compareTo</code> method should be <em>consistent with <code>equals</code></em>.</p>\n<p>You would not consider two <code>Bunny</code> instances to be equal merely because they are both of the same class. You would also compare their content, the state of their contained data. In the case of a <code>record</code>, the default implementation of <code>equals</code> (and <code>hashCode</code>) examines each and every member field. In a conventional class, you would implement something similar, examining an <code>id</code> field or a <code>name</code> field or some such.</p>\n<p>When you do want to compare solely by class, use an external <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> rather than implementing <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> internally. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.animalkingdom;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        List &lt; Animal &gt; animals =\n                new ArrayList &lt;&gt;(\n                        List.of(\n                                new Mouse( &quot;Alice&quot; ) ,\n                                new Bunny( &quot;Bob&quot; ) ,\n                                new Cat( &quot;Carol&quot; ) ,\n                                new Dog( &quot;David&quot; ) ,\n                                new Mouse( &quot;Erin&quot; ) ,\n                                new Bunny( &quot;Frank&quot; ) ,\n                                new Cat( &quot;Grace&quot; ) ,\n                                new Dog( &quot;Heidi&quot; )\n                        )\n                );\n        System.out.println( &quot;animals = &quot; + animals );\n\n        Collections.sort(\n                animals ,\n                new Comparator &lt; Animal &gt;()\n                {\n                    @Override\n                    public int compare ( Animal o1 , Animal o2 )\n                    {\n                        List &lt; Class &gt; animalClasses = List.of( Mouse.class , Bunny.class , Cat.class , Dog.class );\n                        return\n                                Integer.compare\n                                        (\n                                                animalClasses.indexOf( o1.getClass() ) ,\n                                                animalClasses.indexOf( o2.getClass() )\n                                        )\n                                ;\n                    }\n                } );\n        System.out.println( &quot;animals = &quot; + animals );\n    }\n}\n</code></pre>\n<p>Or use the shorter lambda syntax.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Collections.sort(\n                animals ,\n                ( o1 , o2 ) -&gt; {\n                    List &lt; Class &gt; animalClasses = List.of( Mouse.class , Bunny.class , Cat.class , Dog.class );\n                    return\n                            Integer.compare\n                                    (\n                                            animalClasses.indexOf( o1.getClass() ) ,\n                                            animalClasses.indexOf( o2.getClass() )\n                                    )\n                            ;\n                } );\n</code></pre>\n"}],"owner":{"account_id":9750085,"reputation":164,"user_id":8035528,"display_name":"user140536"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66175873,"answer_count":2,"score":1,"last_activity_date":1695200253,"creation_date":1613146329,"question_id":66175231,"body_markdown":"A beginner of Java... I&#39;m a bit confused by how to apply double dispatch (and visitor pattern) together with the compareTo method in JAVA.  \r\n\r\nExample Scenario:  \r\nLet&#39;s say I have an `Animal` interface where I will implement 4 classes: *dog, cat, mouse, and bunny*.  \r\nI want to make sure that if I sort a list of these animals, mouse &lt; bunny &lt; cat &lt; dog.  \r\nWondering how I shall achieve it?  \r\nRight now the best I can think of is adding some if-elseif into the compareTo... but this is obviously not dispatchy...\r\nThanks!  \r\n\r\nThe `Animal` interface\r\n```\r\npackage animals;\r\n\r\npublic interface Animal extends Comparable&lt;Animal&gt; {\r\n  void makeSound();\r\n}\r\n\r\n```\r\n\r\nThe `Dog` class\r\n```\r\npackage animals;\r\n\r\npublic class Dog implements Animal {\r\n  @Override public void makeSound() {\r\n    System.out.println(&quot;wow&quot;);\r\n  }\r\n\r\n  @Override public int compareTo(Animal o) {\r\n    return 0; // ???? if (o instanceof Cat) {return 1}\r\n  }\r\n}\r\n\r\n```\r\n\r\n","title":"How to use a Double Dispatch with compareTo in JAVA?","body":"<p>A beginner of Java... I'm a bit confused by how to apply double dispatch (and visitor pattern) together with the compareTo method in JAVA.</p>\n<p>Example Scenario:<br />\nLet's say I have an <code>Animal</code> interface where I will implement 4 classes: <em>dog, cat, mouse, and bunny</em>.<br />\nI want to make sure that if I sort a list of these animals, mouse &lt; bunny &lt; cat &lt; dog.<br />\nWondering how I shall achieve it?<br />\nRight now the best I can think of is adding some if-elseif into the compareTo... but this is obviously not dispatchy...\nThanks!</p>\n<p>The <code>Animal</code> interface</p>\n<pre><code>package animals;\n\npublic interface Animal extends Comparable&lt;Animal&gt; {\n  void makeSound();\n}\n\n</code></pre>\n<p>The <code>Dog</code> class</p>\n<pre><code>package animals;\n\npublic class Dog implements Animal {\n  @Override public void makeSound() {\n    System.out.println(&quot;wow&quot;);\n  }\n\n  @Override public int compareTo(Animal o) {\n    return 0; // ???? if (o instanceof Cat) {return 1}\n  }\n}\n\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695198201,"post_id":77140515,"comment_id":135990588,"body_markdown":"Post complete stacktrace please of the exception.","body":"Post complete stacktrace please of the exception."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695198260,"post_id":77140515,"comment_id":135990604,"body_markdown":"Are you saying a video file is created?","body":"Are you saying a video file is created?"},{"owner":{"account_id":26002491,"reputation":1,"user_id":19712762,"display_name":"Priyabrata Nayak"},"score":0,"creation_date":1695199743,"post_id":77140515,"comment_id":135990889,"body_markdown":"@blackapps Yes the file is created","body":"@blackapps Yes the file is created"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695199810,"post_id":77140515,"comment_id":135990903,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695200425,"post_id":77140515,"comment_id":135991029,"body_markdown":"The file can be created but what is its size? 0 bytes? As `java.lang.RuntimeException: start failed.` would imply that no recording is done. Can you play that file?","body":"The file can be created but what is its size? 0 bytes? As <code>java.lang.RuntimeException: start failed.</code> would imply that no recording is done. Can you play that file?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695200700,"post_id":77140515,"comment_id":135991090,"body_markdown":"`the app crashes with a RuntimeException: ` Catch that exception and display a toast() to the user to inform.","body":"<code>the app crashes with a RuntimeException: </code> Catch that exception and display a toast() to the user to inform."},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1695201270,"post_id":77140515,"comment_id":135991192,"body_markdown":"This question has already been asked here: https://stackoverflow.com/questions/47266765/mediarecorder-start-failed-22","body":"This question has already been asked here: <a href=\"https://stackoverflow.com/questions/47266765/mediarecorder-start-failed-22\" title=\"mediarecorder start failed 22\">stackoverflow.com/questions/47266765/&hellip;</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695204485,"post_id":77140515,"comment_id":135991907,"body_markdown":"`start failed: -22` find out what error code -22 means.","body":"<code>start failed: -22</code> find out what error code -22 means."},{"owner":{"account_id":26002491,"reputation":1,"user_id":19712762,"display_name":"Priyabrata Nayak"},"score":0,"creation_date":1695211197,"post_id":77140515,"comment_id":135993305,"body_markdown":"@blackapps The file size is 0 bytes only. And for the error code -22 I searched on internet a lot but not able to find anywhere.","body":"@blackapps The file size is 0 bytes only. And for the error code -22 I searched on internet a lot but not able to find anywhere."},{"owner":{"account_id":26002491,"reputation":1,"user_id":19712762,"display_name":"Priyabrata Nayak"},"score":0,"creation_date":1695211267,"post_id":77140515,"comment_id":135993323,"body_markdown":"@zomega Yeah but the answer is not there","body":"@zomega Yeah but the answer is not there"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695216557,"post_id":77140515,"comment_id":135994690,"body_markdown":"Yes the answer is there and also the error code description for -22.","body":"Yes the answer is there and also the error code description for -22."}],"answers":[{"comments":[{"owner":{"account_id":26002491,"reputation":1,"user_id":19712762,"display_name":"Priyabrata Nayak"},"score":0,"creation_date":1695199927,"post_id":77140583,"comment_id":135990935,"body_markdown":"Thanks. But I am using Android Oreo and my video file is created also.","body":"Thanks. But I am using Android Oreo and my video file is created also."}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695198011,"creation_date":1695198011,"answer_id":77140583,"question_id":77140515,"body_markdown":"&gt;&gt;        String outputFilePath = Environment.getExternalStorageDirectory() + &quot;/my_video.mp4&quot;;\r\n\r\nIn Android 11+ devices your app cannot create files in root of external storage.\r\n\r\n(You could have tried just to create that file yourself to see that it does not go).\r\n\r\nInstead use one of the public directories on external storage that are already there like Movies of Videos. (have a look first which is available)\r\n\r\nAnd try to create a file there yourself for a test.","title":"Android Application using java which can record the video and audio with just one click of a button","body":"<blockquote>\n<blockquote>\n<pre><code>   String outputFilePath = Environment.getExternalStorageDirectory() + &quot;/my_video.mp4&quot;;\n</code></pre>\n</blockquote>\n</blockquote>\n<p>In Android 11+ devices your app cannot create files in root of external storage.</p>\n<p>(You could have tried just to create that file yourself to see that it does not go).</p>\n<p>Instead use one of the public directories on external storage that are already there like Movies of Videos. (have a look first which is available)</p>\n<p>And try to create a file there yourself for a test.</p>\n"}],"owner":{"account_id":26002491,"reputation":1,"user_id":19712762,"display_name":"Priyabrata Nayak"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695200142,"creation_date":1695197562,"question_id":77140515,"body_markdown":"I am working on a project which can record the video with just single click of a button. I am able to record the audio easily but when I try to record the video the app crashes with a RuntimeException: start failed -22. Please help me on this.\r\n\r\n\r\nBelow is my code. Thanks for support\r\n\r\n\r\nactivity_video_recorder.xml\r\n```\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/recordButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Start Recording&quot;\r\n        android:layout_centerInParent=&quot;true&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n```\r\n\r\n\r\n\r\nVideoRecorderActivity.java\r\n```\r\npackage com.pns.loginregisterapp;\r\n\r\nimport android.Manifest;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.widget.Button;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\npublic class VideoRecorderActivity extends AppCompatActivity {\r\n\r\n    private static final int REQUEST_PERMISSIONS = 1;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_video_recorder);\r\n\r\n        Button recordButton = findViewById(R.id.recordButton);\r\n        recordButton.setOnClickListener(view -&gt;{\r\n                VideoRecorder videoRecorder = new VideoRecorder();\r\n                videoRecorder.startRecording();\r\n\r\n                // Stop recording after 10sec\r\n                Handler handler = new Handler();\r\n                handler.postDelayed(() -&gt; videoRecorder.stopRecording(), 10000);\r\n        });\r\n\r\n        if (!hasPermissions()) {\r\n            requestPermissions();\r\n        }\r\n    }\r\n\r\n    private boolean hasPermissions() {\r\n        return ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED\r\n                &amp;&amp; ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED\r\n                &amp;&amp; ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED;\r\n    }\r\n\r\n    private void requestPermissions() {\r\n        ActivityCompat.requestPermissions(this,\r\n                new String[]{Manifest.permission.RECORD_AUDIO, Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                REQUEST_PERMISSIONS);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\nVideoRecorder.java\r\n```\r\npackage com.pns.loginregisterapp;\r\n\r\nimport android.media.MediaRecorder;\r\nimport android.os.Environment;\r\nimport android.util.Log;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class VideoRecorder {\r\n\r\n    private MediaRecorder mediaRecorder;\r\n    private boolean isRecording = false;\r\n\r\n    public void startRecording() {\r\n        if (isRecording) {\r\n            Log.e(&quot;VideoRecorder&quot;, &quot;Already recording.&quot;);\r\n            return;\r\n        }\r\n        \r\n        mediaRecorder = new MediaRecorder();\r\n        mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\r\n        mediaRecorder.setVideoSource(MediaRecorder.VideoSource.CAMERA);\r\n        mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\r\n        mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);\r\n        mediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.DEFAULT);\r\n//        mediaRecorder.setVideoFrameRate(30);\r\n//        mediaRecorder.setVideoSize(1280,720);\r\n\r\n\r\n        String outputFilePath = Environment.getExternalStorageDirectory() + &quot;/my_video.mp4&quot;;\r\n        Log.e(&quot;TAG&quot;,outputFilePath);\r\n        mediaRecorder.setOutputFile(outputFilePath);\r\n\r\n        try {\r\n            mediaRecorder.prepare();\r\n            mediaRecorder.start();\r\n            isRecording = true;\r\n            Log.d(&quot;VideoRecorder&quot;, &quot;Recording started.&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            Log.e(&quot;VideoRecorder&quot;, &quot;startRecording() failed: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    public void stopRecording() {\r\n        if (!isRecording) {\r\n            Log.e(&quot;VideoRecorder&quot;, &quot;Not recording.&quot;);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            mediaRecorder.stop();\r\n            mediaRecorder.release();\r\n            isRecording = false;\r\n            Log.d(&quot;VideoRecorder&quot;, &quot;Recording stopped.&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            Log.e(&quot;VideoRecorder&quot;, &quot;stopRecording() failed: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nEdit:\r\nDetailed Logcat\r\n```\r\n---------------------------- PROCESS STARTED (19819) for package com.pns.loginregisterapp ----------------------------\r\n--------- beginning of system\r\n--------- beginning of main\r\n2023-09-20 14:18:06.268 19819-19819 zygote64                com.pns.loginregisterapp             I  Late-enabling -Xcheck:jni\r\n2023-09-20 14:18:07.033 19819-19819 AppCompatDelegate       com.pns.loginregisterapp             D  Checking for metadata for AppLocalesMetadataHolderService : Service not found\r\n2023-09-20 14:18:07.077 19819-19819 FtBuild                 com.pns.loginregisterapp             I  getRomVersion mRomVer=4.0\r\n2023-09-20 14:18:07.235 19819-19819 DecorView               com.pns.loginregisterapp             I  setWindowBackground mBackgroundPadding = Rect(0, 0 - 0, 0), mFramePadding = Rect(0, 0 - 0, 0), pkg = com.pns.loginregisterapp\r\n2023-09-20 14:18:07.462 19819-19904 OpenGLRenderer          com.pns.loginregisterapp             D  HWUI GL Pipeline\r\n2023-09-20 14:18:07.501 19819-19819 TouchMotionHandler      com.pns.loginregisterapp             I  handler onAttached\r\n2023-09-20 14:18:07.582 19819-19904 Adreno-EGL              com.pns.loginregisterapp             I  &lt;qeglDrvAPI_eglInitialize:379&gt;: QUALCOMM Build: 11/14/18, f979681, I4e9dba44e5\r\n2023-09-20 14:18:07.593 19819-19904 zygote64                com.pns.loginregisterapp             I  android::hardware::configstore::V1_0::ISurfaceFlingerConfigs::hasWideColorDisplay retrieved: 0\r\n2023-09-20 14:18:07.594 19819-19904 OpenGLRenderer          com.pns.loginregisterapp             I  Initialized EGL, version 1.4\r\n2023-09-20 14:18:07.594 19819-19904 OpenGLRenderer          com.pns.loginregisterapp             D  Swap behavior 1\r\n2023-09-20 14:18:07.595 19819-19819 RenderThread            com.pns.loginregisterapp             W  type=1400 audit(0.0:582): avc: denied { search } for name=&quot;kgsl-3d0&quot; dev=&quot;sysfs&quot; ino=22816 scontext=u:r:untrusted_app:s0:c512,c768 tcontext=u:object_r:sysfs_kgsl:s0 tclass=dir permissive=0\r\n2023-09-20 14:18:07.596 19819-19904 Adreno-ES20             com.pns.loginregisterapp             W  &lt;get_gpu_clk:229&gt;: open failed: errno 13\r\n2023-09-20 14:18:07.598 19819-19904 Adreno-EGL              com.pns.loginregisterapp             W  &lt;qeglDrvAPI_eglGetConfigAttrib:612&gt;: EGL_BAD_ATTRIBUTE\r\n2023-09-20 14:18:07.613 19819-19904 Adreno-EGL              com.pns.loginregisterapp             W  &lt;qeglDrvAPI_eglGetConfigAttrib:612&gt;: EGL_BAD_ATTRIBUTE\r\n2023-09-20 14:18:17.001 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  constructor\r\n2023-09-20 14:18:17.003 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  doCleanUp\r\n2023-09-20 14:18:17.003 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setListener\r\n2023-09-20 14:18:17.003 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setClientName\r\n2023-09-20 14:18:17.004 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setAudioSource(1)\r\n2023-09-20 14:18:17.004 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  Call init() since the media recorder is not initialized yet\r\n2023-09-20 14:18:17.004 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  init\r\n2023-09-20 14:18:17.009 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setVideoSource(1)\r\n2023-09-20 14:18:17.010 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setOutputFormat(2)\r\n2023-09-20 14:18:17.011 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setAudioEncoder(3)\r\n2023-09-20 14:18:17.012 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setVideoEncoder(0)\r\n2023-09-20 14:18:17.015 19819-19819 TAG                     com.pns.loginregisterapp             E  /storage/emulated/0/my_video.mp4\r\n2023-09-20 14:18:17.017 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setOutputFile(57)\r\n2023-09-20 14:18:17.018 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  prepare\r\n2023-09-20 14:18:17.018 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  start\r\n2023-09-20 14:18:17.371 19819-19819 MediaRecorder           com.pns.loginregisterapp             E  start failed: -22\r\n--------- beginning of crash\r\n2023-09-20 14:18:17.372 19819-19819 AndroidRuntime          com.pns.loginregisterapp             D  Shutting down VM\r\n2023-09-20 14:18:17.377 19819-19819 AndroidRuntime          com.pns.loginregisterapp             E  FATAL EXCEPTION: main\r\n                                                                                                    Process: com.pns.loginregisterapp, PID: 19819\r\n                                                                                                    java.lang.RuntimeException: start failed.\r\n                                                                                                    \tat android.media.MediaRecorder.start(Native Method)\r\n                                                                                                    \tat com.pns.loginregisterapp.VideoRecorder.startRecording(VideoRecorder.java:36)\r\n                                                                                                    \tat com.pns.loginregisterapp.VideoRecorderActivity.lambda$onCreate$1(VideoRecorderActivity.java:26)\r\n                                                                                                    \tat com.pns.loginregisterapp.VideoRecorderActivity$$ExternalSyntheticLambda0.onClick(Unknown Source:0)\r\n                                                                                                    \tat android.view.View.performClick(View.java:6319)\r\n                                                                                                    \tat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1131)\r\n                                                                                                    \tat android.view.View$PerformClick.run(View.java:24955)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:790)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:192)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:6702)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:549)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:826)\r\n---------------------------- PROCESS ENDED (19819) for package com.pns.loginregisterapp ----------------------------\r\n2023-09-20 14:18:17.421 19819-19819 Process                 com.pns.loginregisterapp             I  Sending signal. PID: 19819 SIG: 9\r\n\r\n```\r\n\r\n\r\nI am trying to get both video and audio in a MP4 file but able to record only audio","title":"Android Application using java which can record the video and audio with just one click of a button","body":"<p>I am working on a project which can record the video with just single click of a button. I am able to record the audio easily but when I try to record the video the app crashes with a RuntimeException: start failed -22. Please help me on this.</p>\n<p>Below is my code. Thanks for support</p>\n<p>activity_video_recorder.xml</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/recordButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Start Recording&quot;\n        android:layout_centerInParent=&quot;true&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n\n</code></pre>\n<p>VideoRecorderActivity.java</p>\n<pre><code>package com.pns.loginregisterapp;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.widget.Button;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\npublic class VideoRecorderActivity extends AppCompatActivity {\n\n    private static final int REQUEST_PERMISSIONS = 1;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_video_recorder);\n\n        Button recordButton = findViewById(R.id.recordButton);\n        recordButton.setOnClickListener(view -&gt;{\n                VideoRecorder videoRecorder = new VideoRecorder();\n                videoRecorder.startRecording();\n\n                // Stop recording after 10sec\n                Handler handler = new Handler();\n                handler.postDelayed(() -&gt; videoRecorder.stopRecording(), 10000);\n        });\n\n        if (!hasPermissions()) {\n            requestPermissions();\n        }\n    }\n\n    private boolean hasPermissions() {\n        return ContextCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) == PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED;\n    }\n\n    private void requestPermissions() {\n        ActivityCompat.requestPermissions(this,\n                new String[]{Manifest.permission.RECORD_AUDIO, Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                REQUEST_PERMISSIONS);\n    }\n}\n\n\n</code></pre>\n<p>VideoRecorder.java</p>\n<pre><code>package com.pns.loginregisterapp;\n\nimport android.media.MediaRecorder;\nimport android.os.Environment;\nimport android.util.Log;\n\nimport java.io.IOException;\n\npublic class VideoRecorder {\n\n    private MediaRecorder mediaRecorder;\n    private boolean isRecording = false;\n\n    public void startRecording() {\n        if (isRecording) {\n            Log.e(&quot;VideoRecorder&quot;, &quot;Already recording.&quot;);\n            return;\n        }\n        \n        mediaRecorder = new MediaRecorder();\n        mediaRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);\n        mediaRecorder.setVideoSource(MediaRecorder.VideoSource.CAMERA);\n        mediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\n        mediaRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AAC);\n        mediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.DEFAULT);\n//        mediaRecorder.setVideoFrameRate(30);\n//        mediaRecorder.setVideoSize(1280,720);\n\n\n        String outputFilePath = Environment.getExternalStorageDirectory() + &quot;/my_video.mp4&quot;;\n        Log.e(&quot;TAG&quot;,outputFilePath);\n        mediaRecorder.setOutputFile(outputFilePath);\n\n        try {\n            mediaRecorder.prepare();\n            mediaRecorder.start();\n            isRecording = true;\n            Log.d(&quot;VideoRecorder&quot;, &quot;Recording started.&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n            Log.e(&quot;VideoRecorder&quot;, &quot;startRecording() failed: &quot; + e.getMessage());\n        }\n    }\n\n    public void stopRecording() {\n        if (!isRecording) {\n            Log.e(&quot;VideoRecorder&quot;, &quot;Not recording.&quot;);\n            return;\n        }\n\n        try {\n            mediaRecorder.stop();\n            mediaRecorder.release();\n            isRecording = false;\n            Log.d(&quot;VideoRecorder&quot;, &quot;Recording stopped.&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n            Log.e(&quot;VideoRecorder&quot;, &quot;stopRecording() failed: &quot; + e.getMessage());\n        }\n    }\n}\n\n</code></pre>\n<p>Edit:\nDetailed Logcat</p>\n<pre><code>---------------------------- PROCESS STARTED (19819) for package com.pns.loginregisterapp ----------------------------\n--------- beginning of system\n--------- beginning of main\n2023-09-20 14:18:06.268 19819-19819 zygote64                com.pns.loginregisterapp             I  Late-enabling -Xcheck:jni\n2023-09-20 14:18:07.033 19819-19819 AppCompatDelegate       com.pns.loginregisterapp             D  Checking for metadata for AppLocalesMetadataHolderService : Service not found\n2023-09-20 14:18:07.077 19819-19819 FtBuild                 com.pns.loginregisterapp             I  getRomVersion mRomVer=4.0\n2023-09-20 14:18:07.235 19819-19819 DecorView               com.pns.loginregisterapp             I  setWindowBackground mBackgroundPadding = Rect(0, 0 - 0, 0), mFramePadding = Rect(0, 0 - 0, 0), pkg = com.pns.loginregisterapp\n2023-09-20 14:18:07.462 19819-19904 OpenGLRenderer          com.pns.loginregisterapp             D  HWUI GL Pipeline\n2023-09-20 14:18:07.501 19819-19819 TouchMotionHandler      com.pns.loginregisterapp             I  handler onAttached\n2023-09-20 14:18:07.582 19819-19904 Adreno-EGL              com.pns.loginregisterapp             I  &lt;qeglDrvAPI_eglInitialize:379&gt;: QUALCOMM Build: 11/14/18, f979681, I4e9dba44e5\n2023-09-20 14:18:07.593 19819-19904 zygote64                com.pns.loginregisterapp             I  android::hardware::configstore::V1_0::ISurfaceFlingerConfigs::hasWideColorDisplay retrieved: 0\n2023-09-20 14:18:07.594 19819-19904 OpenGLRenderer          com.pns.loginregisterapp             I  Initialized EGL, version 1.4\n2023-09-20 14:18:07.594 19819-19904 OpenGLRenderer          com.pns.loginregisterapp             D  Swap behavior 1\n2023-09-20 14:18:07.595 19819-19819 RenderThread            com.pns.loginregisterapp             W  type=1400 audit(0.0:582): avc: denied { search } for name=&quot;kgsl-3d0&quot; dev=&quot;sysfs&quot; ino=22816 scontext=u:r:untrusted_app:s0:c512,c768 tcontext=u:object_r:sysfs_kgsl:s0 tclass=dir permissive=0\n2023-09-20 14:18:07.596 19819-19904 Adreno-ES20             com.pns.loginregisterapp             W  &lt;get_gpu_clk:229&gt;: open failed: errno 13\n2023-09-20 14:18:07.598 19819-19904 Adreno-EGL              com.pns.loginregisterapp             W  &lt;qeglDrvAPI_eglGetConfigAttrib:612&gt;: EGL_BAD_ATTRIBUTE\n2023-09-20 14:18:07.613 19819-19904 Adreno-EGL              com.pns.loginregisterapp             W  &lt;qeglDrvAPI_eglGetConfigAttrib:612&gt;: EGL_BAD_ATTRIBUTE\n2023-09-20 14:18:17.001 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  constructor\n2023-09-20 14:18:17.003 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  doCleanUp\n2023-09-20 14:18:17.003 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setListener\n2023-09-20 14:18:17.003 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setClientName\n2023-09-20 14:18:17.004 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setAudioSource(1)\n2023-09-20 14:18:17.004 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  Call init() since the media recorder is not initialized yet\n2023-09-20 14:18:17.004 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  init\n2023-09-20 14:18:17.009 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setVideoSource(1)\n2023-09-20 14:18:17.010 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setOutputFormat(2)\n2023-09-20 14:18:17.011 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setAudioEncoder(3)\n2023-09-20 14:18:17.012 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setVideoEncoder(0)\n2023-09-20 14:18:17.015 19819-19819 TAG                     com.pns.loginregisterapp             E  /storage/emulated/0/my_video.mp4\n2023-09-20 14:18:17.017 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  setOutputFile(57)\n2023-09-20 14:18:17.018 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  prepare\n2023-09-20 14:18:17.018 19819-19819 MediaRecorder           com.pns.loginregisterapp             V  start\n2023-09-20 14:18:17.371 19819-19819 MediaRecorder           com.pns.loginregisterapp             E  start failed: -22\n--------- beginning of crash\n2023-09-20 14:18:17.372 19819-19819 AndroidRuntime          com.pns.loginregisterapp             D  Shutting down VM\n2023-09-20 14:18:17.377 19819-19819 AndroidRuntime          com.pns.loginregisterapp             E  FATAL EXCEPTION: main\n                                                                                                    Process: com.pns.loginregisterapp, PID: 19819\n                                                                                                    java.lang.RuntimeException: start failed.\n                                                                                                        at android.media.MediaRecorder.start(Native Method)\n                                                                                                        at com.pns.loginregisterapp.VideoRecorder.startRecording(VideoRecorder.java:36)\n                                                                                                        at com.pns.loginregisterapp.VideoRecorderActivity.lambda$onCreate$1(VideoRecorderActivity.java:26)\n                                                                                                        at com.pns.loginregisterapp.VideoRecorderActivity$$ExternalSyntheticLambda0.onClick(Unknown Source:0)\n                                                                                                        at android.view.View.performClick(View.java:6319)\n                                                                                                        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1131)\n                                                                                                        at android.view.View$PerformClick.run(View.java:24955)\n                                                                                                        at android.os.Handler.handleCallback(Handler.java:790)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                                                        at android.os.Looper.loop(Looper.java:192)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:6702)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:549)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:826)\n---------------------------- PROCESS ENDED (19819) for package com.pns.loginregisterapp ----------------------------\n2023-09-20 14:18:17.421 19819-19819 Process                 com.pns.loginregisterapp             I  Sending signal. PID: 19819 SIG: 9\n\n</code></pre>\n<p>I am trying to get both video and audio in a MP4 file but able to record only audio</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":34938,"reputation":604,"user_id":98804,"accept_rate":71,"display_name":"xenodevil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695200083,"creation_date":1695200083,"answer_id":77140833,"question_id":77133105,"body_markdown":"While submitting the Spark application, you can include files to distribute. These files are submitted and placed on each worker&#39;s working directory. Obviously this isn&#39;t a good approach with large files; only small files should be distributed this way which aren&#39;t well suited for storage on HDFS or an equivalent storage.\r\n\r\nI couldn&#39;t find the full list of arguments that are available with `spark-submit` from the official docs in a hurry, but I found a link from [CDP docs][1].\r\n\r\n    spark-submit ./bin/spark-submit \\\r\n      --class &lt;main-class&gt; \\\r\n      --master &lt;master-url&gt; \\\r\n      --deploy-mode &lt;deploy-mode&gt; \\\r\n      --conf &lt;key&gt;=&lt;value&gt; \\\r\n      ... # other options, here you can place --files &lt;filepath/name&gt;\r\n      &lt;application-jar&gt; \\\r\n      [application-arguments]\r\n\r\n\r\n  [1]: https://docs.cloudera.com/runtime/7.2.7/running-spark-applications/topics/spark-submit-options.html","title":"Spark worker node doesn&#39;t see added files","body":"<p>While submitting the Spark application, you can include files to distribute. These files are submitted and placed on each worker's working directory. Obviously this isn't a good approach with large files; only small files should be distributed this way which aren't well suited for storage on HDFS or an equivalent storage.</p>\n<p>I couldn't find the full list of arguments that are available with <code>spark-submit</code> from the official docs in a hurry, but I found a link from <a href=\"https://docs.cloudera.com/runtime/7.2.7/running-spark-applications/topics/spark-submit-options.html\" rel=\"nofollow noreferrer\">CDP docs</a>.</p>\n<pre><code>spark-submit ./bin/spark-submit \\\n  --class &lt;main-class&gt; \\\n  --master &lt;master-url&gt; \\\n  --deploy-mode &lt;deploy-mode&gt; \\\n  --conf &lt;key&gt;=&lt;value&gt; \\\n  ... # other options, here you can place --files &lt;filepath/name&gt;\n  &lt;application-jar&gt; \\\n  [application-arguments]\n</code></pre>\n"}],"owner":{"account_id":12250053,"reputation":9,"user_id":8940701,"display_name":"P. Kobdza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695200083,"creation_date":1695113892,"question_id":77133105,"body_markdown":"i have problem in running Java Spark application on my local machine. I&#39;m running Spark master and 1 spark worker node as docker images with below config:\r\n```\r\nversion: &#39;2.2&#39;\r\n\r\nservices:\r\n  spark:\r\n    image: docker.io/bitnami/spark:latest\r\n    environment:\r\n      - SPARK_MODE=master\r\n      - SPARK_RPC_AUTHENTICATION_ENABLED=no\r\n      - SPARK_RPC_ENCRYPTION_ENABLED=no\r\n      - SPARK_LOCAL_STORAGE_ENCRYPTION_ENABLED=no\r\n      - SPARK_SSL_ENABLED=no\r\n      - SPARK_USER=spark\r\n    ports:\r\n      - &#39;8010:8080&#39;\r\n      - &#39;7077:7077&#39;\r\n    network_mode: bridge\r\n  spark-worker:\r\n    image: docker.io/bitnami/spark:latest\r\n    environment:\r\n      - SPARK_MODE=worker\r\n      - SPARK_MASTER_URL=spark://172.17.0.2:7077\r\n      - SPARK_WORKER_MEMORY=8G\r\n      - SPARK_WORKER_CORES=4\r\n      - SPARK_RPC_AUTHENTICATION_ENABLED=no\r\n      - SPARK_RPC_ENCRYPTION_ENABLED=no\r\n      - SPARK_LOCAL_STORAGE_ENCRYPTION_ENABLED=no\r\n      - SPARK_SSL_ENABLED=no\r\n      - SPARK_USER=spark\r\n    ports:\r\n      - &#39;8081:8081&#39;\r\n      - &#39;65040:65040&#39;\r\n    network_mode: bridge\r\n```\r\n\r\nMy local java app which is driver itself is configured as below:\r\n \r\n```\r\n SparkConf conf =\r\n                new SparkConf()\r\n                        .setAppName(&quot;Simple Application&quot;)\r\n                        .set(&quot;spark.driver.port&quot;, &quot;65040&quot;)\r\n                        .set(&quot;spark.driver.host&quot;, &quot;192.168.18.15&quot;)\r\n                        .set(&quot;spark.files.overwrite&quot;, &quot;true&quot;)\r\n                        .setMaster(&quot;spark://localhost:7077&quot;);\r\n\r\n        sparkContext = new SparkContext(conf);\r\n        String path = getClass().getResource(&quot;/addresses.csv&quot;).getPath();\r\n\r\n        sparkContext.addFile(path);\r\n        sparkContext.addedFiles();\r\n        spark = new SparkSession(sparkContext);\r\n        \r\n        Dataset&lt;Row&gt; csv = spark.read().csv(SparkFiles.get(&quot;addresses.csv&quot;));\r\n```\r\nmaster/workers and local app are communicating without problems, but there is problem with accessing `addresses.csv` file on workers, they are trying to access it using my local machine path, as in worker logs bellow:\r\n`23/09/19 08:44:09 ERROR Executor: Exception in task 0.3 in stage 0.0 (TID 3)\r\norg.apache.spark.SparkFileNotFoundException: File file:/C:/Users/patry/AppData/Local/Temp/spark-fc24a898-45ad-47fe-bf10-41c109a8c46c/userFiles-ab6c8b5c-fc69-4f75-9627-7639860df8bf/addresses.csv does not exist\r\n` \r\nAny idea how i can upload and process my file at worker node without using HDFS?\r\n\r\nI&#39;ve tried to use different paths, ways of passing file to app, but without success","title":"Spark worker node doesn&#39;t see added files","body":"<p>i have problem in running Java Spark application on my local machine. I'm running Spark master and 1 spark worker node as docker images with below config:</p>\n<pre><code>version: '2.2'\n\nservices:\n  spark:\n    image: docker.io/bitnami/spark:latest\n    environment:\n      - SPARK_MODE=master\n      - SPARK_RPC_AUTHENTICATION_ENABLED=no\n      - SPARK_RPC_ENCRYPTION_ENABLED=no\n      - SPARK_LOCAL_STORAGE_ENCRYPTION_ENABLED=no\n      - SPARK_SSL_ENABLED=no\n      - SPARK_USER=spark\n    ports:\n      - '8010:8080'\n      - '7077:7077'\n    network_mode: bridge\n  spark-worker:\n    image: docker.io/bitnami/spark:latest\n    environment:\n      - SPARK_MODE=worker\n      - SPARK_MASTER_URL=spark://172.17.0.2:7077\n      - SPARK_WORKER_MEMORY=8G\n      - SPARK_WORKER_CORES=4\n      - SPARK_RPC_AUTHENTICATION_ENABLED=no\n      - SPARK_RPC_ENCRYPTION_ENABLED=no\n      - SPARK_LOCAL_STORAGE_ENCRYPTION_ENABLED=no\n      - SPARK_SSL_ENABLED=no\n      - SPARK_USER=spark\n    ports:\n      - '8081:8081'\n      - '65040:65040'\n    network_mode: bridge\n</code></pre>\n<p>My local java app which is driver itself is configured as below:</p>\n<pre><code> SparkConf conf =\n                new SparkConf()\n                        .setAppName(&quot;Simple Application&quot;)\n                        .set(&quot;spark.driver.port&quot;, &quot;65040&quot;)\n                        .set(&quot;spark.driver.host&quot;, &quot;192.168.18.15&quot;)\n                        .set(&quot;spark.files.overwrite&quot;, &quot;true&quot;)\n                        .setMaster(&quot;spark://localhost:7077&quot;);\n\n        sparkContext = new SparkContext(conf);\n        String path = getClass().getResource(&quot;/addresses.csv&quot;).getPath();\n\n        sparkContext.addFile(path);\n        sparkContext.addedFiles();\n        spark = new SparkSession(sparkContext);\n        \n        Dataset&lt;Row&gt; csv = spark.read().csv(SparkFiles.get(&quot;addresses.csv&quot;));\n</code></pre>\n<p>master/workers and local app are communicating without problems, but there is problem with accessing <code>addresses.csv</code> file on workers, they are trying to access it using my local machine path, as in worker logs bellow:\n<code>23/09/19 08:44:09 ERROR Executor: Exception in task 0.3 in stage 0.0 (TID 3) org.apache.spark.SparkFileNotFoundException: File file:/C:/Users/patry/AppData/Local/Temp/spark-fc24a898-45ad-47fe-bf10-41c109a8c46c/userFiles-ab6c8b5c-fc69-4f75-9627-7639860df8bf/addresses.csv does not exist </code>\nAny idea how i can upload and process my file at worker node without using HDFS?</p>\n<p>I've tried to use different paths, ways of passing file to app, but without success</p>\n"},{"tags":["java","android","kotlin","realm"],"answers":[{"comments":[{"owner":{"account_id":202133,"reputation":4754,"user_id":449007,"accept_rate":86,"display_name":"yozhik"},"score":0,"creation_date":1643668508,"post_id":60895217,"comment_id":125397645,"body_markdown":"https://github.com/realm/realm-java/issues/6727","body":"<a href=\"https://github.com/realm/realm-java/issues/6727\" rel=\"nofollow noreferrer\">github.com/realm/realm-java/issues/6727</a>"},{"owner":{"account_id":202133,"reputation":4754,"user_id":449007,"accept_rate":86,"display_name":"yozhik"},"score":0,"creation_date":1643668539,"post_id":60895217,"comment_id":125397655,"body_markdown":"On what version of realm do you have that? Have you tried to upgrade to the latest version?\\","body":"On what version of realm do you have that? Have you tried to upgrade to the latest version?\\"}],"tags":[],"owner":{"account_id":7929014,"reputation":1086,"user_id":5987537,"display_name":"Cristofer"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1695200071,"creation_date":1585349921,"answer_id":60895217,"question_id":60895216,"body_markdown":"Note: It is appear again if i&#39;m using proguard on my release buildTypes\r\n\r\n[I am just posting why Realm said:][1]\r\n\r\n**Couldnt load `librealm-jni.so`**\r\nIf your app uses other native libraries that dont ship with support for 64-bit architectures, Android will fail to load Realms librealm-jni.so file on ARM64 devices. This is because Android cannot load 32-bit and 64-bit native libraries concurrently. The best solution would be to have all libraries provide the same set of supported ABIs, but sometimes that may not be doable if you are using a 3rd-party library. See VLC and Realm Library conflicts.\r\n\r\nThe workaround to this issue is to exclude Realms ARM64 library from the APK file by adding the following code to the apps build.gradle. You can refer to Mixing 32- and 64-bit Dependencies in Android for more information.\r\n\r\n    android {\r\n        //...\r\n        packagingOptions {\r\n            exclude &quot;lib/arm64-v8a/librealm-jni.so&quot;\r\n        }\r\n        //...\r\n    }\r\n\r\nAlso, there is a bug with Android Gradle Plugin 1.4.0 betas that leads it to improperly pack .so files included in jar files (see Realm Java issue 1421). To solve this problem, you can revert to Android Gradle Plugin 1.3.0 or use Android Gradle Plugin 1.5.0+.\r\n\r\nWe are aware of a number of 3rd party libraries, frameworks and management apps which do not have 64-bit support yet:\r\n\r\nParallel Space  but you can advice your users to install the 64 bit version instead.\r\nRenderScriptNDK r14 will probably support 64 bit.\r\nUnity3d.\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/realm/sdk/java/test-and-debug/troubleshooting/","title":"com.getkeepsafe.relinker.MissingLibraryException: librealm-jni.so","body":"<p>Note: It is appear again if i'm using proguard on my release buildTypes</p>\n<p><a href=\"https://www.mongodb.com/docs/realm/sdk/java/test-and-debug/troubleshooting/\" rel=\"nofollow noreferrer\">I am just posting why Realm said:</a></p>\n<p><strong>Couldnt load <code>librealm-jni.so</code></strong>\nIf your app uses other native libraries that dont ship with support for 64-bit architectures, Android will fail to load Realms librealm-jni.so file on ARM64 devices. This is because Android cannot load 32-bit and 64-bit native libraries concurrently. The best solution would be to have all libraries provide the same set of supported ABIs, but sometimes that may not be doable if you are using a 3rd-party library. See VLC and Realm Library conflicts.</p>\n<p>The workaround to this issue is to exclude Realms ARM64 library from the APK file by adding the following code to the apps build.gradle. You can refer to Mixing 32- and 64-bit Dependencies in Android for more information.</p>\n<pre><code>android {\n    //...\n    packagingOptions {\n        exclude &quot;lib/arm64-v8a/librealm-jni.so&quot;\n    }\n    //...\n}\n</code></pre>\n<p>Also, there is a bug with Android Gradle Plugin 1.4.0 betas that leads it to improperly pack .so files included in jar files (see Realm Java issue 1421). To solve this problem, you can revert to Android Gradle Plugin 1.3.0 or use Android Gradle Plugin 1.5.0+.</p>\n<p>We are aware of a number of 3rd party libraries, frameworks and management apps which do not have 64-bit support yet:</p>\n<p>Parallel Space  but you can advice your users to install the 64 bit version instead.\nRenderScriptNDK r14 will probably support 64 bit.\nUnity3d.</p>\n"}],"owner":{"account_id":7929014,"reputation":1086,"user_id":5987537,"display_name":"Cristofer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5577,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1695200071,"creation_date":1585349921,"question_id":60895216,"body_markdown":"I sent a new version to the store and when i was opening it was crashing. In debug mode did not happen but in relese buildtype I can reproduce it.\r\n\r\nThe exception was:\r\n\r\n    Fatal Exception: java.lang.RuntimeException: Unable to create application asd.esa.persistent.ESApp: com.getkeepsafe.relinker.MissingLibraryException: librealm-jni.so\r\n           at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6123)\r\n           at android.app.ActivityThread.access$1200(ActivityThread.java:213)\r\n           at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1807)\r\n           at android.os.Handler.dispatchMessage(Handler.java:106)\r\n           at android.os.Looper.loop(Looper.java:193)\r\n           at android.app.ActivityThread.main(ActivityThread.java:6923)\r\n           at java.lang.reflect.Method.invoke(Method.java)\r\n           at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:870)","title":"com.getkeepsafe.relinker.MissingLibraryException: librealm-jni.so","body":"<p>I sent a new version to the store and when i was opening it was crashing. In debug mode did not happen but in relese buildtype I can reproduce it.</p>\n\n<p>The exception was:</p>\n\n<pre><code>Fatal Exception: java.lang.RuntimeException: Unable to create application asd.esa.persistent.ESApp: com.getkeepsafe.relinker.MissingLibraryException: librealm-jni.so\n       at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6123)\n       at android.app.ActivityThread.access$1200(ActivityThread.java:213)\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1807)\n       at android.os.Handler.dispatchMessage(Handler.java:106)\n       at android.os.Looper.loop(Looper.java:193)\n       at android.app.ActivityThread.main(ActivityThread.java:6923)\n       at java.lang.reflect.Method.invoke(Method.java)\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:870)\n</code></pre>\n"},{"tags":["java","complexity-theory"],"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":2,"creation_date":1695200136,"post_id":77140811,"comment_id":135990975,"body_markdown":"See https://stackoverflow.com/questions/2759256/what-is-the-time-complexity-of-treeset-iteration. Since you can implement toString with a single iteration, it is also O(n).","body":"See <a href=\"https://stackoverflow.com/questions/2759256/what-is-the-time-complexity-of-treeset-iteration\" title=\"what is the time complexity of treeset iteration\">stackoverflow.com/questions/2759256/&hellip;</a>. Since you can implement toString with a single iteration, it is also O(n)."},{"owner":{"account_id":19958876,"reputation":1,"user_id":14626955,"display_name":"Oleguito Swagbucks"},"score":0,"creation_date":1695200511,"post_id":77140811,"comment_id":135991045,"body_markdown":"yeah hurry to tag this question duplicate. great job.","body":"yeah hurry to tag this question duplicate. great job."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1695215620,"post_id":77140811,"comment_id":135994426,"body_markdown":"I wouldn&#39;t argue that this is definitely a duplicate, but let me know if my comment does not answer the question sufficiently.","body":"I wouldn&#39;t argue that this is definitely a duplicate, but let me know if my comment does not answer the question sufficiently."}],"owner":{"account_id":19958876,"reputation":1,"user_id":14626955,"display_name":"Oleguito Swagbucks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695200176,"answer_count":0,"score":0,"last_activity_date":1695199918,"creation_date":1695199918,"question_id":77140811,"body_markdown":"I was thinking, since it is a tree and it must traverse it all in sorted order, then it means the algorithm goes log(n) n times, making complexity n log(n). Am I right??\r\n\r\ni asked someone and they couldn&#39;t respond, i also googled and didn&#39;t find answer","title":"What is computational complexity of toString method of an object of TreeSet class","body":"<p>I was thinking, since it is a tree and it must traverse it all in sorted order, then it means the algorithm goes log(n) n times, making complexity n log(n). Am I right??</p>\n<p>i asked someone and they couldn't respond, i also googled and didn't find answer</p>\n"},{"tags":["java","spring-boot","neo4j","spring-data-neo4j"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1647476325,"post_id":71505607,"comment_id":126383870,"body_markdown":"So *have* you ensured that?","body":"So <i>have</i> you ensured that?"},{"owner":{"account_id":24526125,"reputation":21,"user_id":18438558,"display_name":"Maha Messaoud"},"score":0,"creation_date":1647476477,"post_id":71505607,"comment_id":126383891,"body_markdown":"@user207421 yes","body":"@user207421 yes"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1647479937,"post_id":71505607,"comment_id":126384419,"body_markdown":"Where is the evidence of that?","body":"Where is the evidence of that?"},{"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"score":0,"creation_date":1647528215,"post_id":71505607,"comment_id":126397963,"body_markdown":"Could you please specify the database and Spring Data Neo4j version, you are using?","body":"Could you please specify the database and Spring Data Neo4j version, you are using?"}],"answers":[{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695199644,"creation_date":1695182103,"answer_id":77139195,"question_id":71505607,"body_markdown":"I have same issue and I was solve it by these steps. (There may be another approach as well but this works for me).\r\n\r\n1. Created new database(local) in Neo4j\r\n2. Set the password for the database\r\n3. Use the database name in connection, username as &quot;neo4j&quot; and the password which is used to create a project.\r\n\r\nAfter these steps I am able to connect to the Neo4j DB.\r\n\r\nThanks,\r\n\r\nAtul","title":"Cannot connect to database with Neo4j","body":"<p>I have same issue and I was solve it by these steps. (There may be another approach as well but this works for me).</p>\n<ol>\n<li>Created new database(local) in Neo4j</li>\n<li>Set the password for the database</li>\n<li>Use the database name in connection, username as &quot;neo4j&quot; and the password which is used to create a project.</li>\n</ol>\n<p>After these steps I am able to connect to the Neo4j DB.</p>\n<p>Thanks,</p>\n<p>Atul</p>\n"}],"owner":{"account_id":24526125,"reputation":21,"user_id":18438558,"display_name":"Maha Messaoud"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":570,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1695199644,"creation_date":1647475391,"question_id":71505607,"body_markdown":"im trying to make a java springboot project using Neo4j in DataBase , when i try to execute and test my Api in postman this error it diplayed to me :\r\n\r\n    Connection to the database terminated. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0.\r\n\r\ni had verified what it want for the encryption by adding this line in the **application.properties**:\r\n\r\n    spring.data.neo4j.uri=bolt://localhost:7687\r\n    spring.data.neo4j.username=Example1\r\n    spring.data.neo4j.password=secret\r\n    spring.data.neo4j.database =stud\r\n    org.neo4j.driver.config.encrypted=true\r\n\r\nhow can i find a solution for my problem \r\n**Thanks**","title":"Cannot connect to database with Neo4j","body":"<p>im trying to make a java springboot project using Neo4j in DataBase , when i try to execute and test my Api in postman this error it diplayed to me :</p>\n<pre><code>Connection to the database terminated. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0.\n</code></pre>\n<p>i had verified what it want for the encryption by adding this line in the <strong>application.properties</strong>:</p>\n<pre><code>spring.data.neo4j.uri=bolt://localhost:7687\nspring.data.neo4j.username=Example1\nspring.data.neo4j.password=secret\nspring.data.neo4j.database =stud\norg.neo4j.driver.config.encrypted=true\n</code></pre>\n<p>how can i find a solution for my problem\n<strong>Thanks</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9960,"page":174,"page_size":100}
