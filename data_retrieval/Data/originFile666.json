{"items":[{"tags":["java","apache-kafka","header","apache-camel","spring-camel"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1679781878,"post_id":75379744,"comment_id":133783194,"body_markdown":"What Camel version do you use? And can you point out what is the fully classname for that `DefaultKafkaHeaderMapper` you talk about?","body":"What Camel version do you use? And can you point out what is the fully classname for that <code>DefaultKafkaHeaderMapper</code> you talk about?"},{"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"score":0,"creation_date":1679870932,"post_id":75379744,"comment_id":133793810,"body_markdown":"Camel is the dependency: camel-spring-boot-starter version 3.20.2.\nThe class for the header instead is org.springframework.kafka.support.DefaultKafkaHeaderMapper.\nI think the header spring_json_header_types is somehow generated using this class","body":"Camel is the dependency: camel-spring-boot-starter version 3.20.2. The class for the header instead is org.springframework.kafka.support.DefaultKafkaHeaderMapper. I think the header spring_json_header_types is somehow generated using this class"},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1679919341,"post_id":75379744,"comment_id":133801579,"body_markdown":"Okay so I assume its spring specific with that header - its metadata that they send along, so if you use spring on the &quot;other side&quot; then it can know what types the headers are. (Kafka seems to lack such metdata out of the box)","body":"Okay so I assume its spring specific with that header - its metadata that they send along, so if you use spring on the &quot;other side&quot; then it can know what types the headers are. (Kafka seems to lack such metdata out of the box)"},{"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"score":0,"creation_date":1680023983,"post_id":75379744,"comment_id":133825036,"body_markdown":"Yes, I think in kafka the headers format is always an array of byte.","body":"Yes, I think in kafka the headers format is always an array of byte."},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1680063490,"post_id":75379744,"comment_id":133831425,"body_markdown":"I created a ticket: https://issues.apache.org/jira/browse/CAMEL-19215","body":"I created a ticket: <a href=\"https://issues.apache.org/jira/browse/CAMEL-19215\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/CAMEL-19215</a>"}],"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675809996,"creation_date":1675809996,"question_id":75379744,"body_markdown":"In my Springboot Camel application I&#39;m using the Kafka integration to produce message on a topic.\r\nI compared message produced by Camel Kafka integration with message produced by Kafka Spring integration and I noticed one little difference:\r\nin OffsetExplorer, messages produced by Spring Kafka uses an Header &quot;spring_json_header_types&quot; with the class of all other headers, and header Long or Integer are correctly showed and serialized.\r\nWith Camel instead, if I set an header not String, in OffsetExplorer it is represented with the square char.\r\nI did my research and found that Spring Kafka uses the DefaultKafkaHeaderMapper to create this header, and this help the inbound process to know how to deserialize the other header.\r\nHow can I use it in my Camel Kafka Producer?\r\nHere my code:\r\n\r\n    @Component\r\n    public class KafkaProducerRoute extends RouteBuilder {\r\n        @Override\r\n        public void configure() throws Exception {        \r\n            from(&quot;timer:myTimer?period=10000&quot;)\r\n            .process(new Processor() {\r\n                @Override\r\n                public void process(Exchange exchange) throws Exception {\r\n                    Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\r\n                    headers.put(&quot;TIMER_COUNTER_1&quot;, exchange.getProperty(Exchange.TIMER_COUNTER, Long.class));\r\n                    headers.put(&quot;TIMER_COUNTER_2&quot;, String.valueOf(exchange.getProperty(Exchange.TIMER_COUNTER, Long.class)));\r\n                    exchange.getIn().setHeaders(headers);\r\n                }\r\n            })\r\n            .to(&quot;kafka:topic1?brokers=localhost:9092&quot;);\r\n        }\r\n    }","title":"Produce Long Kafka Header with Apache Camel","body":"<p>In my Springboot Camel application I'm using the Kafka integration to produce message on a topic.\nI compared message produced by Camel Kafka integration with message produced by Kafka Spring integration and I noticed one little difference:\nin OffsetExplorer, messages produced by Spring Kafka uses an Header &quot;spring_json_header_types&quot; with the class of all other headers, and header Long or Integer are correctly showed and serialized.\nWith Camel instead, if I set an header not String, in OffsetExplorer it is represented with the square char.\nI did my research and found that Spring Kafka uses the DefaultKafkaHeaderMapper to create this header, and this help the inbound process to know how to deserialize the other header.\nHow can I use it in my Camel Kafka Producer?\nHere my code:</p>\n<pre><code>@Component\npublic class KafkaProducerRoute extends RouteBuilder {\n    @Override\n    public void configure() throws Exception {        \n        from(&quot;timer:myTimer?period=10000&quot;)\n        .process(new Processor() {\n            @Override\n            public void process(Exchange exchange) throws Exception {\n                Map&lt;String, Object&gt; headers = new HashMap&lt;&gt;();\n                headers.put(&quot;TIMER_COUNTER_1&quot;, exchange.getProperty(Exchange.TIMER_COUNTER, Long.class));\n                headers.put(&quot;TIMER_COUNTER_2&quot;, String.valueOf(exchange.getProperty(Exchange.TIMER_COUNTER, Long.class)));\n                exchange.getIn().setHeaders(headers);\n            }\n        })\n        .to(&quot;kafka:topic1?brokers=localhost:9092&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1675814488,"post_id":75379589,"comment_id":133008888,"body_markdown":"Eclipse Kepler SR2 is 9 years and 23 releases behind. Of course, it cannot recognize a Java 17 or 19 JDK released years after Eclipse Kepler. [Make sure to use the current version of Eclipse which is currently 2022-12](https://www.eclipse.org/downloads/packages/).","body":"Eclipse Kepler SR2 is 9 years and 23 releases behind. Of course, it cannot recognize a Java 17 or 19 JDK released years after Eclipse Kepler. <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">Make sure to use the current version of Eclipse which is currently 2022-12</a>."},{"owner":{"account_id":25937004,"reputation":15,"user_id":19657086,"display_name":"PillagingProgrammer"},"score":0,"creation_date":1675823203,"post_id":75379589,"comment_id":133009993,"body_markdown":"@howlger I installed Eclipse `Version: 2022-12 (4.26.0)`, `Build id: 20221201-1913`. I can now `Maven Install`. However, I am unable to `Maven Build`: https://ibb.co/17dm0dC (my first time with Maven, I have no idea what I need to do to make it buildable). I also receive this if I run `mvn -version` in cmd: https://ibb.co/smq4VJh","body":"@howlger I installed Eclipse <code>Version: 2022-12 (4.26.0)</code>, <code>Build id: 20221201-1913</code>. I can now <code>Maven Install</code>. However, I am unable to <code>Maven Build</code>: <a href=\"https://ibb.co/17dm0dC\" rel=\"nofollow noreferrer\">ibb.co/17dm0dC</a> (my first time with Maven, I have no idea what I need to do to make it buildable). I also receive this if I run <code>mvn -version</code> in cmd: <a href=\"https://ibb.co/smq4VJh\" rel=\"nofollow noreferrer\">ibb.co/smq4VJh</a>"},{"owner":{"account_id":25937004,"reputation":15,"user_id":19657086,"display_name":"PillagingProgrammer"},"score":0,"creation_date":1675823565,"post_id":75379589,"comment_id":133010029,"body_markdown":"I should also mention: I&#39;ve followed this guide https://phoenixnap.com/kb/install-maven-windows and still getting the &quot;&#39;mvn&#39; is not recognized as an internal or external command, operable program or batch file.&quot; error in cmd","body":"I should also mention: I&#39;ve followed this guide <a href=\"https://phoenixnap.com/kb/install-maven-windows\" rel=\"nofollow noreferrer\">phoenixnap.com/kb/install-maven-windows</a> and still getting the &quot;&#39;mvn&#39; is not recognized as an internal or external command, operable program or batch file.&quot; error in cmd"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1675839801,"post_id":75379589,"comment_id":133012088,"body_markdown":"Eclipse 2022-12 comes with an embedded Maven, so you don&#39;t need to install Maven into your system (but if you do, the guide you followed is misleading: the `PATH` has to be extended with the `bin` directory of your Maven installation, e.g. by adding something like `;C:\\Program Files\\apache-maven-3.9.0\\bin` to the end). Your question is still about Kepler which is pretty outdated. Please fix this. [Please show also your `pom.xml` and your Maven run configuration](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Eclipse 2022-12 comes with an embedded Maven, so you don&#39;t need to install Maven into your system (but if you do, the guide you followed is misleading: the <code>PATH</code> has to be extended with the <code>bin</code> directory of your Maven installation, e.g. by adding something like <code>;C:\\Program Files\\apache-maven-3.9.0\\bin</code> to the end). Your question is still about Kepler which is pretty outdated. Please fix this. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Please show also your <code>pom.xml</code> and your Maven run configuration</a>."}],"answers":[{"tags":[],"owner":{"account_id":6841915,"reputation":31,"user_id":5262018,"display_name":"julianhs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675809812,"creation_date":1675809812,"answer_id":75379723,"question_id":75379589,"body_markdown":"Make sure you are adding the correct location for the JDK home in the &quot;Installed JREs&quot; section. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nFor instance, I am using JDK 8 and selecting the **JDK as the default** as below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMake sure you are also changing the compiler version to use the one matching your JDK.  Other side, like your are using maven clean install to build your project, then make sure the maven distribution is using the correct JAVA_HOME.\r\n\r\nIn Eclipse, go to again Window / Preferences / Maven / **Installations**\r\n\r\nSelect your local maven distribution instead of using the embed version with Eclipse, for instance:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nYou can check if your maven distribution is using the correct JDK by typing in a cmd :  `mvn -version`, for example in my Windows I am using JDK 11 like you can see in the below output:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hUkpW.png\r\n  [2]: https://i.stack.imgur.com/lfNI1.png\r\n  [3]: https://i.stack.imgur.com/K7UAZ.png\r\n  [4]: https://i.stack.imgur.com/5CD2Y.png\r\n\r\nHope this can help.  Please let me know.","title":"Unable to &#39;Maven Build&#39; my Java Project in Eclipse IDE","body":"<p>Make sure you are adding the correct location for the JDK home in the &quot;Installed JREs&quot; section.</p>\n<p><a href=\"https://i.stack.imgur.com/hUkpW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hUkpW.png\" alt=\"enter image description here\" /></a></p>\n<p>For instance, I am using JDK 8 and selecting the <strong>JDK as the default</strong> as below:</p>\n<p><a href=\"https://i.stack.imgur.com/lfNI1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lfNI1.png\" alt=\"enter image description here\" /></a></p>\n<p>Make sure you are also changing the compiler version to use the one matching your JDK.  Other side, like your are using maven clean install to build your project, then make sure the maven distribution is using the correct JAVA_HOME.</p>\n<p>In Eclipse, go to again Window / Preferences / Maven / <strong>Installations</strong></p>\n<p>Select your local maven distribution instead of using the embed version with Eclipse, for instance:</p>\n<p><a href=\"https://i.stack.imgur.com/K7UAZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K7UAZ.png\" alt=\"enter image description here\" /></a></p>\n<p>You can check if your maven distribution is using the correct JDK by typing in a cmd :  <code>mvn -version</code>, for example in my Windows I am using JDK 11 like you can see in the below output:</p>\n<p><a href=\"https://i.stack.imgur.com/5CD2Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5CD2Y.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope this can help.  Please let me know.</p>\n"}],"owner":{"account_id":25937004,"reputation":15,"user_id":19657086,"display_name":"PillagingProgrammer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675809812,"creation_date":1675808599,"question_id":75379589,"body_markdown":"I have a working Java Project (literally just 2 JAVA files) that need to be built in either Maven or Gradle. Since I wrote my Java Project in **Eclipse IDE for Java Delopers** (`Kepler Service Release 2`, `20140224-0627`), [I found this article to add Maven to my Java Project.][1]\r\n\r\nAfter adding Maven to my project, [I had to follow this SO answer][2] to allow myself to Right Click the Project -&gt; `Maven` -&gt; `Update Project...` properly. If I Right Click the Project -&gt; `Run As` -&gt; `Maven Clean`, I get a `BUILD SUCCESS` ([thanks to this SO answer][3]). But now when I Right Click the Project -&gt; `Run As` -&gt; `Maven Install`, I get the following:\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n[INFO] Scanning for projects...\r\n[INFO]                                                                         \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Building AMC 0.0.1-SNAPSHOT\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ RobTillmanProject ---\r\n[debug] execute contextualize\r\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n[INFO] skip non existing resourceDirectory D:\\Users\\names\\workspace\\paging-mission-control\\AMC\\src\\main\\resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ RobTillmanProject ---\r\n[INFO] Changes detected - recompiling the module!\r\n[WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\r\n[INFO] Compiling 2 source files to D:\\Users\\names\\workspace\\paging-mission-control\\AMC\\target\\classes\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] COMPILATION ERROR : \r\n[INFO] -------------------------------------------------------------\r\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\r\n[INFO] 1 error\r\n[INFO] -------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 1.050s\r\n[INFO] Finished at: Tue Feb 07 16:35:15 EST 2023\r\n[INFO] Final Memory: 8M/245M\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project RobTillmanProject: Compilation failure\r\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n```\r\n\r\nAs per the error, it looks like I need to add a JDK to the `Installed JREs` list ([just as this SO answer suggests][4]).\r\n\r\nIn Eclipse IDE, `Windows` -&gt; `Preferences` -&gt; `Java` -&gt; `Installed JREs`, I have `jre1.8.0_333 (default)` installed. On my PC, in my `C:\\Program Files\\Java` folder, I&#39;ve installed `jdk-17`, `jdk-17.0.6` and `jdk-19.0.2`. However, when I go to add any one of the JDKs (I&#39;ve tried JRE Type `Standard 1.1x VM` and `Standard VM`), I get the error message `Target is not a JDK root. System library was not found.`\r\n\r\nI&#39;m running Eclipse IDE on Windows 10.\r\n\r\nAny suggestions?\r\n\r\n  [1]: https://crunchify.com/how-to-convert-existing-java-project-to-maven-in-eclipse/\r\n  [2]: https://stackoverflow.com/questions/59763531/maven-dependencies-are-failing-with-a-501-error/59781316#59781316\r\n  [3]: https://stackoverflow.com/questions/71732779/apache-jena-slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/71737848#71737848\r\n  [4]: https://stackoverflow.com/a/21099229/19657086","title":"Unable to &#39;Maven Build&#39; my Java Project in Eclipse IDE","body":"<p>I have a working Java Project (literally just 2 JAVA files) that need to be built in either Maven or Gradle. Since I wrote my Java Project in <strong>Eclipse IDE for Java Delopers</strong> (<code>Kepler Service Release 2</code>, <code>20140224-0627</code>), <a href=\"https://crunchify.com/how-to-convert-existing-java-project-to-maven-in-eclipse/\" rel=\"nofollow noreferrer\">I found this article to add Maven to my Java Project.</a></p>\n<p>After adding Maven to my project, <a href=\"https://stackoverflow.com/questions/59763531/maven-dependencies-are-failing-with-a-501-error/59781316#59781316\">I had to follow this SO answer</a> to allow myself to Right Click the Project -&gt; <code>Maven</code> -&gt; <code>Update Project...</code> properly. If I Right Click the Project -&gt; <code>Run As</code> -&gt; <code>Maven Clean</code>, I get a <code>BUILD SUCCESS</code> (<a href=\"https://stackoverflow.com/questions/71732779/apache-jena-slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder/71737848#71737848\">thanks to this SO answer</a>). But now when I Right Click the Project -&gt; <code>Run As</code> -&gt; <code>Maven Install</code>, I get the following:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building AMC 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ RobTillmanProject ---\n[debug] execute contextualize\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory D:\\Users\\names\\workspace\\paging-mission-control\\AMC\\src\\main\\resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ RobTillmanProject ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\n[INFO] Compiling 2 source files to D:\\Users\\names\\workspace\\paging-mission-control\\AMC\\target\\classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.050s\n[INFO] Finished at: Tue Feb 07 16:35:15 EST 2023\n[INFO] Final Memory: 8M/245M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project RobTillmanProject: Compilation failure\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>As per the error, it looks like I need to add a JDK to the <code>Installed JREs</code> list (<a href=\"https://stackoverflow.com/a/21099229/19657086\">just as this SO answer suggests</a>).</p>\n<p>In Eclipse IDE, <code>Windows</code> -&gt; <code>Preferences</code> -&gt; <code>Java</code> -&gt; <code>Installed JREs</code>, I have <code>jre1.8.0_333 (default)</code> installed. On my PC, in my <code>C:\\Program Files\\Java</code> folder, I've installed <code>jdk-17</code>, <code>jdk-17.0.6</code> and <code>jdk-19.0.2</code>. However, when I go to add any one of the JDKs (I've tried JRE Type <code>Standard 1.1x VM</code> and <code>Standard VM</code>), I get the error message <code>Target is not a JDK root. System library was not found.</code></p>\n<p>I'm running Eclipse IDE on Windows 10.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1675806586,"post_id":75379324,"comment_id":133007352,"body_markdown":"`avg` is an `int` and the `%f` specifier is for `float`. You can change `int avg = 0;` to `float avg = 0;` and don&#39;t forget to change to `avg = (float)total / (count-1);` otherwise you will have integer division.","body":"<code>avg</code> is an <code>int</code> and the <code>%f</code> specifier is for <code>float</code>. You can change <code>int avg = 0;</code> to <code>float avg = 0;</code> and don&#39;t forget to change to <code>avg = (float)total &#47; (count-1);</code> otherwise you will have integer division."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1675806930,"post_id":75379324,"comment_id":133007431,"body_markdown":"Side note: if the user only enters a single negative number then `avg = total/(count-1);` will result in a divide by zero exception.","body":"Side note: if the user only enters a single negative number then <code>avg = total&#47;(count-1);</code> will result in a divide by zero exception."}],"answers":[{"tags":[],"owner":{"account_id":27727251,"reputation":3,"user_id":21166522,"display_name":"WildTooth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675808257,"creation_date":1675808099,"answer_id":75379531,"question_id":75379324,"body_markdown":"What you are trying to do is almost correct. The only things, you would need to change for this to work are these:\r\n\r\n    int avg = 0; // The type of avg should be a float\r\nThe reason for this is that what you&#39;re printing is a float but before these changes, you are providing it with an int. \r\n       \r\n    // The number you are providing avg with should be cast to a float value\r\n    avg = total/(count-1);\r\nThis is because if you didn&#39;t, you would have integer division.\r\n    \r\n    // It would look like this\r\n    float avg = 0;\r\n\r\n    avg = (float)total/(count-1);\r\n","title":"Java - Varied amount of input data- specific format of output","body":"<p>What you are trying to do is almost correct. The only things, you would need to change for this to work are these:</p>\n<pre><code>int avg = 0; // The type of avg should be a float\n</code></pre>\n<p>The reason for this is that what you're printing is a float but before these changes, you are providing it with an int.</p>\n<pre><code>// The number you are providing avg with should be cast to a float value\navg = total/(count-1);\n</code></pre>\n<p>This is because if you didn't, you would have integer division.</p>\n<pre><code>// It would look like this\nfloat avg = 0;\n\navg = (float)total/(count-1);\n</code></pre>\n"}],"owner":{"account_id":27729592,"reputation":9,"user_id":21168382,"display_name":"Littlephoenix12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675808257,"creation_date":1675806383,"question_id":75379324,"body_markdown":"Instructions;\r\n&gt;Statistics are often calculated with varying amounts of input data. Write a program that takes any number of non-negative integers as input, and outputs the max and average. A negative integer ends the input and is not included in the statistics. Assume the input contains at least one non-negative integer.\r\n&gt;\r\n&gt;Output the average with two digits after the decimal point followed by a newline, which can be achieved as follows:\r\n`System.out.printf(&quot;%.2f\\n&quot;, average);`\r\n&gt;\r\n&gt;Ex: When the input is:  \r\n`15 20 0 3 -1`  \r\nthe output is:  \r\n`20 9.50`\r\n\r\n\r\n\r\nI have tried a few different ways to convert the int avg into a string but somehow keep messing up.. What am I not doing?? Example code below\r\n```\r\nimport java.util.Scanner; \r\n\r\npublic class LabProgram {\r\n   public static void main(String[] args) {\r\n\r\n      Scanner scnr = new Scanner (System.in);\r\n      int num = 0;\r\n      int count = 0;\r\n      int max = 0;\r\n      int total = 0;\r\n      int avg = 0;\r\n      String s=Integer.toString(avg);\r\n\r\n     do {\r\n\r\n         total += num;\r\n         num = scnr.nextInt();\r\n         count = ++count;\r\n\r\n\r\n         if (num &gt;= max) {\r\n            max = num;\r\n         }\r\n\r\n      } while (num &gt;= 0);\r\n\r\n     avg = total/(count-1);\r\n\r\n      System.out.printf(&quot;%.2f\\n&quot;, avg);\r\n\r\n\r\n   }\r\n}\r\n```","title":"Java - Varied amount of input data- specific format of output","body":"<p>Instructions;</p>\n<blockquote>\n<p>Statistics are often calculated with varying amounts of input data. Write a program that takes any number of non-negative integers as input, and outputs the max and average. A negative integer ends the input and is not included in the statistics. Assume the input contains at least one non-negative integer.</p>\n<p>Output the average with two digits after the decimal point followed by a newline, which can be achieved as follows:\n<code>System.out.printf(&quot;%.2f\\n&quot;, average);</code></p>\n<p>Ex: When the input is:<br />\n<code>15 20 0 3 -1</code><br />\nthe output is:<br />\n<code>20 9.50</code></p>\n</blockquote>\n<p>I have tried a few different ways to convert the int avg into a string but somehow keep messing up.. What am I not doing?? Example code below</p>\n<pre><code>import java.util.Scanner; \n\npublic class LabProgram {\n   public static void main(String[] args) {\n\n      Scanner scnr = new Scanner (System.in);\n      int num = 0;\n      int count = 0;\n      int max = 0;\n      int total = 0;\n      int avg = 0;\n      String s=Integer.toString(avg);\n\n     do {\n\n         total += num;\n         num = scnr.nextInt();\n         count = ++count;\n\n\n         if (num &gt;= max) {\n            max = num;\n         }\n\n      } while (num &gt;= 0);\n\n     avg = total/(count-1);\n\n      System.out.printf(&quot;%.2f\\n&quot;, avg);\n\n\n   }\n}\n</code></pre>\n"},{"tags":["java","udp"],"answers":[{"tags":[],"owner":{"account_id":15168313,"reputation":69,"user_id":10945188,"display_name":"Brongs Gaming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675807082,"creation_date":1675807082,"answer_id":75379407,"question_id":75379259,"body_markdown":"Such output is received because you are attempting to print an instance of a class (`DatagramPacket`) that does not override the `toString()` method (which is defined in the superclass `java.lang.Object`). Instead, you could use the byte array (`recibidos`), a reference to which was provided to the DatagramPacket constructor (so we consider after executing the `receive()` method it contains some useful data), instantiate a new String instance representing this byte array in a human-readable format and print it to the console:\r\n\r\n    byte[] recibidos = new byte[1024];\r\n    DatagramPacket recibo = new DatagramPacket(recibidos, recibidos.length);\r\n    clienteSocket.receive(recibo);\r\n    System.out.println(&quot;Socket Cliente esperando Datagrama del Socket Servidor ..........&quot;);\r\n    System.out.println(&quot;IP &quot; + ipAd + &quot; en binario: &quot; + (new String(recibidos))); // not using the &quot;recibo&quot; variable anymore","title":"Java UDP Client Server Receiving Package wrong result","body":"<p>Such output is received because you are attempting to print an instance of a class (<code>DatagramPacket</code>) that does not override the <code>toString()</code> method (which is defined in the superclass <code>java.lang.Object</code>). Instead, you could use the byte array (<code>recibidos</code>), a reference to which was provided to the DatagramPacket constructor (so we consider after executing the <code>receive()</code> method it contains some useful data), instantiate a new String instance representing this byte array in a human-readable format and print it to the console:</p>\n<pre><code>byte[] recibidos = new byte[1024];\nDatagramPacket recibo = new DatagramPacket(recibidos, recibidos.length);\nclienteSocket.receive(recibo);\nSystem.out.println(&quot;Socket Cliente esperando Datagrama del Socket Servidor ..........&quot;);\nSystem.out.println(&quot;IP &quot; + ipAd + &quot; en binario: &quot; + (new String(recibidos))); // not using the &quot;recibo&quot; variable anymore\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16281382,"reputation":1,"user_id":11757187,"display_name":"WaleedAhmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675807642,"creation_date":1675807642,"answer_id":75379477,"question_id":75379259,"body_markdown":"You are receiving the packet and printing it as it is (instance). Try replacing a line in your client server file from:\r\n\r\n    System.out.println(&quot;IP &quot; + ipAd + &quot; en binario: &quot; + recibo)\r\n\r\nTo:\r\n\r\n    String msg = new String(recibo.getData(), recibo.getOffset(), recibo.getLength());\r\n    System.out.print(msg);","title":"Java UDP Client Server Receiving Package wrong result","body":"<p>You are receiving the packet and printing it as it is (instance). Try replacing a line in your client server file from:</p>\n<pre><code>System.out.println(&quot;IP &quot; + ipAd + &quot; en binario: &quot; + recibo)\n</code></pre>\n<p>To:</p>\n<pre><code>String msg = new String(recibo.getData(), recibo.getOffset(), recibo.getLength());\nSystem.out.print(msg);\n</code></pre>\n"}],"owner":{"account_id":23694523,"reputation":11,"user_id":17718436,"display_name":"Tuan Do"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75379407,"answer_count":2,"score":0,"last_activity_date":1675807642,"creation_date":1675805945,"question_id":75379259,"body_markdown":"i am writing a program that receive an IP address from Client then send this IP address to Server, Server will receive the address and convert the address to binary and send back to client to show in the console. I already have the first half but when server send back the Ip address in binary to client I got the wrong result. For example i put put 2.3.4.5 the result is like this\r\n\r\n\r\n&gt; IP 2.3.4.5 en binario: java.net.DatagramPacket@12d4bf7e\r\n\r\nHow can I fix this error. Thank you.\r\n\r\nClass Client\r\n\r\n    public class SocketUDPClientIP {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        DatagramSocket clienteSocket = new DatagramSocket();\r\n        InetAddress ipServidor = InetAddress.getLocalHost();\r\n        int puerto = 6666;\r\n        System.out.println(&quot;PROGRAMA CLIENTE INICIADO....&quot;);\r\n\r\n        while (scanner.hasNext()) {\r\n            System.out.println(&quot;Introduzca una IP en formato decimal:&quot;);\r\n            String ipAd = scanner.nextLine();\r\n            System.out.println(&quot;Socket Cliente env&#237;a IP &quot; + ipAd);\r\n\r\n            byte[] enviados = new byte[1024];\r\n            enviados = ipAd.getBytes();\r\n            // Enviar\r\n            DatagramPacket envio = new DatagramPacket(enviados, enviados.length, ipServidor, puerto);\r\n            clienteSocket.send(envio);\r\n          \r\n            byte[] recibidos = new byte[1024];\r\n            DatagramPacket recibo = new DatagramPacket(recibidos, recibidos.length);\r\n            clienteSocket.receive(recibo);\r\n            System.out.println(&quot;Socket Cliente esperando Datagrama del Socket Servidor ..........&quot;);\r\n            System.out.println(&quot;IP &quot; + ipAd + &quot; en binario: &quot; + recibo);\r\n           \r\n            if (ipAd.equals(&quot;0.0.0.0&quot;)) {\r\n                break;\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\nClass Server\r\n\r\n    public class SocketUDPServerIP {\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        DatagramSocket socket = new DatagramSocket(6666);\r\n        System.out.println(&quot;Servido esperando al cliente.....&quot;);\r\n\r\n        do {\r\n            DatagramPacket recibo;\r\n            byte[] buffer = new byte[1024];\r\n            recibo = new DatagramPacket(buffer, buffer.length);\r\n            socket.receive(recibo);\r\n            String ipAd = new String(recibo.getData()).trim();\r\n            System.out.println(&quot;Recibiendo del CLIENTE: \\n\\t&quot; + ipAd);\r\n\r\n            String[] ipAdS = ipAd.split(&quot;\\\\.&quot;);\r\n            int ipAd1 = Integer.parseInt(ipAdS[0]);\r\n            int ipAd2 = Integer.parseInt(ipAdS[1]);\r\n            int ipAd3 = Integer.parseInt(ipAdS[2]);\r\n            int ipAd4 = Integer.parseInt(ipAdS[3]);\r\n\r\n            String ipAdBinary = &quot;&quot;;\r\n            if (ipAd1 &lt; 256 &amp;&amp; ipAd2 &lt; 256 &amp;&amp; ipAd3 &lt; 256 &amp;&amp; ipAd4 &lt; 256) {\r\n                String ipad1S = Integer.toBinaryString(ipAd1);\r\n                String ipad2S = Integer.toBinaryString(ipAd2);\r\n                String ipad3S = Integer.toBinaryString(ipAd3);\r\n                String ipad4S = Integer.toBinaryString(ipAd4);\r\n\r\n                ipAdBinary = ipad1S + &quot;.&quot; + ipad2S + &quot;.&quot; + ipad3S + &quot;.&quot; + ipad4S;\r\n                System.out.println(ipAdBinary);\r\n            } else {\r\n                ipAdBinary = &quot;El IP &quot; + ipAd + &quot; es un IP no valida, introduzca otra IP&quot;;\r\n                System.out.println(ipAdBinary);\r\n            }\r\n            InetAddress IPOrigen = recibo.getAddress();\r\n            int puerto = recibo.getPort();\r\n            DatagramPacket envio = new DatagramPacket(ipAdBinary.getBytes(),ipAdBinary.length(),IPOrigen,puerto);\r\n            socket.send(envio);\r\n\r\n        } while (true);\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n","title":"Java UDP Client Server Receiving Package wrong result","body":"<p>i am writing a program that receive an IP address from Client then send this IP address to Server, Server will receive the address and convert the address to binary and send back to client to show in the console. I already have the first half but when server send back the Ip address in binary to client I got the wrong result. For example i put put 2.3.4.5 the result is like this</p>\n<blockquote>\n<p>IP 2.3.4.5 en binario: java.net.DatagramPacket@12d4bf7e</p>\n</blockquote>\n<p>How can I fix this error. Thank you.</p>\n<p>Class Client</p>\n<pre><code>public class SocketUDPClientIP {\n\npublic static void main(String[] args) throws IOException {\n\n    Scanner scanner = new Scanner(System.in);\n    DatagramSocket clienteSocket = new DatagramSocket();\n    InetAddress ipServidor = InetAddress.getLocalHost();\n    int puerto = 6666;\n    System.out.println(&quot;PROGRAMA CLIENTE INICIADO....&quot;);\n\n    while (scanner.hasNext()) {\n        System.out.println(&quot;Introduzca una IP en formato decimal:&quot;);\n        String ipAd = scanner.nextLine();\n        System.out.println(&quot;Socket Cliente envía IP &quot; + ipAd);\n\n        byte[] enviados = new byte[1024];\n        enviados = ipAd.getBytes();\n        // Enviar\n        DatagramPacket envio = new DatagramPacket(enviados, enviados.length, ipServidor, puerto);\n        clienteSocket.send(envio);\n      \n        byte[] recibidos = new byte[1024];\n        DatagramPacket recibo = new DatagramPacket(recibidos, recibidos.length);\n        clienteSocket.receive(recibo);\n        System.out.println(&quot;Socket Cliente esperando Datagrama del Socket Servidor ..........&quot;);\n        System.out.println(&quot;IP &quot; + ipAd + &quot; en binario: &quot; + recibo);\n       \n        if (ipAd.equals(&quot;0.0.0.0&quot;)) {\n            break;\n        }\n\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Class Server</p>\n<pre><code>public class SocketUDPServerIP {\npublic static void main(String[] args) throws IOException {\n\n    DatagramSocket socket = new DatagramSocket(6666);\n    System.out.println(&quot;Servido esperando al cliente.....&quot;);\n\n    do {\n        DatagramPacket recibo;\n        byte[] buffer = new byte[1024];\n        recibo = new DatagramPacket(buffer, buffer.length);\n        socket.receive(recibo);\n        String ipAd = new String(recibo.getData()).trim();\n        System.out.println(&quot;Recibiendo del CLIENTE: \\n\\t&quot; + ipAd);\n\n        String[] ipAdS = ipAd.split(&quot;\\\\.&quot;);\n        int ipAd1 = Integer.parseInt(ipAdS[0]);\n        int ipAd2 = Integer.parseInt(ipAdS[1]);\n        int ipAd3 = Integer.parseInt(ipAdS[2]);\n        int ipAd4 = Integer.parseInt(ipAdS[3]);\n\n        String ipAdBinary = &quot;&quot;;\n        if (ipAd1 &lt; 256 &amp;&amp; ipAd2 &lt; 256 &amp;&amp; ipAd3 &lt; 256 &amp;&amp; ipAd4 &lt; 256) {\n            String ipad1S = Integer.toBinaryString(ipAd1);\n            String ipad2S = Integer.toBinaryString(ipAd2);\n            String ipad3S = Integer.toBinaryString(ipAd3);\n            String ipad4S = Integer.toBinaryString(ipAd4);\n\n            ipAdBinary = ipad1S + &quot;.&quot; + ipad2S + &quot;.&quot; + ipad3S + &quot;.&quot; + ipad4S;\n            System.out.println(ipAdBinary);\n        } else {\n            ipAdBinary = &quot;El IP &quot; + ipAd + &quot; es un IP no valida, introduzca otra IP&quot;;\n            System.out.println(ipAdBinary);\n        }\n        InetAddress IPOrigen = recibo.getAddress();\n        int puerto = recibo.getPort();\n        DatagramPacket envio = new DatagramPacket(ipAdBinary.getBytes(),ipAdBinary.length(),IPOrigen,puerto);\n        socket.send(envio);\n\n    } while (true);\n\n\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","sql","querydsl"],"answers":[{"tags":[],"owner":{"account_id":92092,"reputation":21904,"user_id":252552,"accept_rate":81,"display_name":"Timo Westk&#228;mper"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1415126998,"creation_date":1415126998,"answer_id":26742755,"question_id":26723376,"body_markdown":"transform combined groupBy is meant to construct tree structures out of flat result sets. What you need can be easier expressed as\r\n\r\n    query.from(application)\r\n         .groupBy(application.category)\r\n         .list(application.category, application.category.count())","title":"querydsl transformer group by count","body":"<p>transform combined groupBy is meant to construct tree structures out of flat result sets. What you need can be easier expressed as</p>\n\n<pre><code>query.from(application)\n     .groupBy(application.category)\n     .list(application.category, application.category.count())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1492670,"reputation":1291,"user_id":1399395,"accept_rate":83,"display_name":"SputNick"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1444745013,"creation_date":1444745013,"answer_id":33104797,"question_id":26723376,"body_markdown":"Note that as of **Querydsl 4.x**, the accepted answer by Timo Westk&#228;mper is no longer valid. [Breaking changes in Querydsl 4.0 have removed the query.list() method][1].\r\n\r\nA solution working with Querydsl 4.0+ would now be:\r\n\r\n    query.from(application)\r\n         .groupBy(application.category)\r\n         .select(application.category, application.category.count())\r\n         .fetch();\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/33103432/1399395","title":"querydsl transformer group by count","body":"<p>Note that as of <strong>Querydsl 4.x</strong>, the accepted answer by Timo Westkämper is no longer valid. <a href=\"https://stackoverflow.com/a/33103432/1399395\">Breaking changes in Querydsl 4.0 have removed the query.list() method</a>.</p>\n\n<p>A solution working with Querydsl 4.0+ would now be:</p>\n\n<pre><code>query.from(application)\n     .groupBy(application.category)\n     .select(application.category, application.category.count())\n     .fetch();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2003722,"reputation":1287,"user_id":1794155,"display_name":"nclord"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1538485209,"creation_date":1538485209,"answer_id":52608866,"question_id":26723376,"body_markdown":"If using 4.1.4, you may need to use a **JPAQueryFactory** instead of **JPAQuery**\r\n\r\nIf using JPAQuery, there is no select() or fetch() on the return from groupBy.\r\n\r\n    JPAQueryFactory queryFactory = new JPAQueryFactory(entityManager);\r\n\r\n    queryFactory\r\n         .select(application.category, application.category.count())\r\n         .from(application)\r\n         .groupBy(application.category)\r\n         .fetch();\r\n\r\n\r\n","title":"querydsl transformer group by count","body":"<p>If using 4.1.4, you may need to use a <strong>JPAQueryFactory</strong> instead of <strong>JPAQuery</strong></p>\n\n<p>If using JPAQuery, there is no select() or fetch() on the return from groupBy.</p>\n\n<pre><code>JPAQueryFactory queryFactory = new JPAQueryFactory(entityManager);\n\nqueryFactory\n     .select(application.category, application.category.count())\n     .from(application)\n     .groupBy(application.category)\n     .fetch();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5626834,"reputation":1,"user_id":8722734,"display_name":"Jallow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675807390,"creation_date":1675807390,"answer_id":75379445,"question_id":26723376,"body_markdown":"In QueryDSL 4.4.0:\r\n\r\n    query.from(application)\r\n       .groupBy(application.category)\r\n       .transform(GroupBy.groupBy(application.category)).as(application.category.count()))\r\n\r\nLearn more on: https://www.tabnine.com/code/java/methods/com.querydsl.jpa.JPQLQuery/transform","title":"querydsl transformer group by count","body":"<p>In QueryDSL 4.4.0:</p>\n<pre><code>query.from(application)\n   .groupBy(application.category)\n   .transform(GroupBy.groupBy(application.category)).as(application.category.count()))\n</code></pre>\n<p>Learn more on: <a href=\"https://www.tabnine.com/code/java/methods/com.querydsl.jpa.JPQLQuery/transform\" rel=\"nofollow noreferrer\">https://www.tabnine.com/code/java/methods/com.querydsl.jpa.JPQLQuery/transform</a></p>\n"}],"owner":{"account_id":3491584,"reputation":442,"user_id":2921131,"accept_rate":83,"display_name":"Wouter Willems"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25046,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":26742755,"answer_count":4,"score":12,"last_activity_date":1675807390,"creation_date":1415049492,"question_id":26723376,"body_markdown":"I am stuck trying to get a query (QueryDSL) to work that gives me a count of distinct categories. \r\nFor example, what I am trying to achieve:\r\n\r\n    categoryA -&gt; 10 entries\r\n    categoryB -&gt; 20 entries\r\n\r\nThis is what i have so far:\r\n\r\n    query().from(application)\r\n\t\t\t\t.transform(groupBy(application.category).as(list(application)));\r\n\r\nHowever, this gives me for each category a list of all whole entries, I just want to get a count of this.\r\n\r\nI tried messing around with `count()` but no luck.\r\n\r\nAnybody know how to do this?\r\n","title":"querydsl transformer group by count","body":"<p>I am stuck trying to get a query (QueryDSL) to work that gives me a count of distinct categories. \nFor example, what I am trying to achieve:</p>\n\n<pre><code>categoryA -&gt; 10 entries\ncategoryB -&gt; 20 entries\n</code></pre>\n\n<p>This is what i have so far:</p>\n\n<pre><code>query().from(application)\n            .transform(groupBy(application.category).as(list(application)));\n</code></pre>\n\n<p>However, this gives me for each category a list of all whole entries, I just want to get a count of this.</p>\n\n<p>I tried messing around with <code>count()</code> but no luck.</p>\n\n<p>Anybody know how to do this?</p>\n"},{"tags":["java","annotation-processing","package-info"],"owner":{"account_id":1697621,"reputation":3812,"user_id":1558654,"display_name":"Marten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675807368,"creation_date":1675804034,"question_id":75378997,"body_markdown":"I&#39;m writing a Java annotation processor that creates `package-info` for packages in a Java project.\r\n\r\nThe code to actually generate the source file looks somewhat like this:\r\n\r\n```java\r\nJavaFileObject builderFile = filer.createSourceFile(packageName + &quot;.package-info&quot;);\r\n\r\ntry (PrintWriter out = new PrintWriter(builderFile.openWriter()))\r\n{\r\n    out.println(&quot;... file content ...&quot;);\r\n}\r\n```\r\n\r\nUnfortunately, this code crashes when there already is a `package-info` for the given package, either in the source code or generated by a previous round.\r\n\r\nNormally, I would just skip the generation if a `package-info` already exists, but I couldn&#39;t find any way to test for the existence of a `package-info`.\r\n\r\n```java\r\nprocessingEnv.getElementUtils().getPackageElement(packageName)\r\n```\r\n\r\nAlways returns a `PackageElement`, regardless of whether there is a `package-info` or not, which seams reasonable, because the package exists with or without the `package-info`.\r\n\r\nThere also doesn&#39;t seem to be an `ElementKind` for `package-info` either and `PackageElement.getEnclosedElements()` only returns the top level classes and interfaces in that package.\r\n\r\nIn lack of a better solution, I&#39;m currently catching and ignoring the `IOException` thrown by `Filer.createSourceFile(String)` in case the `package-info` already exists.\r\n\r\nIs there a way to check if a certain package already contains a `package-info`?\r\n\r\nEdit:\r\n\r\nFWIW, the source file can be found [on Github](https://github.com/dmfs/srcless/blob/main/nullless-processors/src/main/java/org/dmfs/nullless/processors/nullless/NullLessProcessor.java#L70-L83)","title":"Detect package-info in Java Annotation Processor","body":"<p>I'm writing a Java annotation processor that creates <code>package-info</code> for packages in a Java project.</p>\n<p>The code to actually generate the source file looks somewhat like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JavaFileObject builderFile = filer.createSourceFile(packageName + &quot;.package-info&quot;);\n\ntry (PrintWriter out = new PrintWriter(builderFile.openWriter()))\n{\n    out.println(&quot;... file content ...&quot;);\n}\n</code></pre>\n<p>Unfortunately, this code crashes when there already is a <code>package-info</code> for the given package, either in the source code or generated by a previous round.</p>\n<p>Normally, I would just skip the generation if a <code>package-info</code> already exists, but I couldn't find any way to test for the existence of a <code>package-info</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>processingEnv.getElementUtils().getPackageElement(packageName)\n</code></pre>\n<p>Always returns a <code>PackageElement</code>, regardless of whether there is a <code>package-info</code> or not, which seams reasonable, because the package exists with or without the <code>package-info</code>.</p>\n<p>There also doesn't seem to be an <code>ElementKind</code> for <code>package-info</code> either and <code>PackageElement.getEnclosedElements()</code> only returns the top level classes and interfaces in that package.</p>\n<p>In lack of a better solution, I'm currently catching and ignoring the <code>IOException</code> thrown by <code>Filer.createSourceFile(String)</code> in case the <code>package-info</code> already exists.</p>\n<p>Is there a way to check if a certain package already contains a <code>package-info</code>?</p>\n<p>Edit:</p>\n<p>FWIW, the source file can be found <a href=\"https://github.com/dmfs/srcless/blob/main/nullless-processors/src/main/java/org/dmfs/nullless/processors/nullless/NullLessProcessor.java#L70-L83\" rel=\"nofollow noreferrer\">on Github</a></p>\n"},{"tags":["java","spring-boot","spring-security","openapi","springdoc-openapi-ui"],"answers":[{"tags":[],"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675806203,"creation_date":1660925393,"answer_id":73419522,"question_id":73419419,"body_markdown":"You can use `/swagger-ui/**` instead of `/swagger-ui.html` in web security configuration:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.ignoring()\r\n                           .antMatchers(&quot;/api/auth/**&quot;)\r\n                           .antMatchers(&quot;/v3/api-docs/**&quot;)\r\n                           .antMatchers(&quot;configuration/**&quot;)\r\n                           .antMatchers(&quot;/swagger*/**&quot;)\r\n                           .antMatchers(&quot;/webjars/**&quot;)\r\n                           .antMatchers(&quot;/swagger-ui/**&quot;);\r\n    }\r\n\r\nDid you put `springdoc.swagger-ui.path` in your application property file? ","title":"403 Forbidden for OpenApiSwagger in Spring Boot Security","body":"<p>You can use <code>/swagger-ui/**</code> instead of <code>/swagger-ui.html</code> in web security configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic WebSecurityCustomizer webSecurityCustomizer() {\n    return (web) -&gt; web.ignoring()\n                       .antMatchers(&quot;/api/auth/**&quot;)\n                       .antMatchers(&quot;/v3/api-docs/**&quot;)\n                       .antMatchers(&quot;configuration/**&quot;)\n                       .antMatchers(&quot;/swagger*/**&quot;)\n                       .antMatchers(&quot;/webjars/**&quot;)\n                       .antMatchers(&quot;/swagger-ui/**&quot;);\n}\n</code></pre>\n<p>Did you put <code>springdoc.swagger-ui.path</code> in your application property file?</p>\n"}],"owner":{"account_id":15991228,"reputation":669,"user_id":12091152,"display_name":"Artur Vartanyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73419522,"answer_count":1,"score":1,"last_activity_date":1675806325,"creation_date":1660924877,"question_id":73419419,"body_markdown":"I have Spring Boot application with Spring Security. After configure configuration-class localhost-Swagger return 403 Forbidden. I can&#39;t figure out what could be the problem.\r\n\r\nhttp://localhost:8080/swagger-ui.html#/ - 403 Forbidden\r\n\r\nSecurityConfiguration:\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SessionRegistry sessionRegistry() {\r\n        return new SessionRegistryImpl();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\r\n            throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        http.authorizeRequests()\r\n            .antMatchers(&quot;/api/user/login&quot;).permitAll()\r\n            .anyRequest().authenticated();\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.ignoring()\r\n                           .antMatchers(&quot;/api/user/auth&quot;)\r\n                           .antMatchers(&quot;/v3/api-docs&quot;)\r\n                           .antMatchers(&quot;/swagger-resources/**&quot;)\r\n                           .antMatchers(&quot;/swagger-ui.html&quot;)\r\n                           .antMatchers(&quot;/configuration/**&quot;)\r\n                           .antMatchers(&quot;/webjars/**&quot;)\r\n                           .antMatchers(&quot;/public&quot;);\r\n    }\r\n}\r\n```\r\n\r\nbuild.gradle:\r\n```java\r\ndependencies {\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;, version: &#39;2.7.2&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-jdbc&#39;, version: &#39;2.7.2&#39;\r\n    implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-security&#39;, version: &#39;2.7.2&#39;\r\n\r\n    implementation group: &#39;com.microsoft.sqlserver&#39;, name: &#39;mssql-jdbc&#39;, version: &#39;9.4.1.jre16&#39;\r\n\r\n    implementation group: &#39;org.json&#39;, name: &#39;json&#39;, version: &#39;20220320&#39;\r\n\r\n    implementation group: &#39;org.springdoc&#39;, name: &#39;springdoc-openapi-ui&#39;, version: &#39;1.6.9&#39;\r\n\r\n    implementation group: &#39;javax.xml.bind&#39;, name: &#39;jaxb-api&#39;, version: &#39;2.3.1&#39;\r\n\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.24&#39;\r\n}\r\n```\r\n\r\nP.S. Please do not suggest to inherit the class from WebSecurityConfigurerAdapter as it is deprecated in my version of Spring Security.","title":"403 Forbidden for OpenApiSwagger in Spring Boot Security","body":"<p>I have Spring Boot application with Spring Security. After configure configuration-class localhost-Swagger return 403 Forbidden. I can't figure out what could be the problem.</p>\n<p>http://localhost:8080/swagger-ui.html#/ - 403 Forbidden</p>\n<p>SecurityConfiguration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public SessionRegistry sessionRegistry() {\n        return new SessionRegistryImpl();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration)\n            throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.authorizeRequests()\n            .antMatchers(&quot;/api/user/login&quot;).permitAll()\n            .anyRequest().authenticated();\n\n        return http.build();\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring()\n                           .antMatchers(&quot;/api/user/auth&quot;)\n                           .antMatchers(&quot;/v3/api-docs&quot;)\n                           .antMatchers(&quot;/swagger-resources/**&quot;)\n                           .antMatchers(&quot;/swagger-ui.html&quot;)\n                           .antMatchers(&quot;/configuration/**&quot;)\n                           .antMatchers(&quot;/webjars/**&quot;)\n                           .antMatchers(&quot;/public&quot;);\n    }\n}\n</code></pre>\n<p>build.gradle:</p>\n<pre class=\"lang-java prettyprint-override\"><code>dependencies {\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '2.7.2'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-jdbc', version: '2.7.2'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-security', version: '2.7.2'\n\n    implementation group: 'com.microsoft.sqlserver', name: 'mssql-jdbc', version: '9.4.1.jre16'\n\n    implementation group: 'org.json', name: 'json', version: '20220320'\n\n    implementation group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '1.6.9'\n\n    implementation group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.1'\n\n    compileOnly 'org.projectlombok:lombok:1.18.24'\n\n    annotationProcessor 'org.projectlombok:lombok:1.18.24'\n}\n</code></pre>\n<p>P.S. Please do not suggest to inherit the class from WebSecurityConfigurerAdapter as it is deprecated in my version of Spring Security.</p>\n"},{"tags":["java","spring-boot","h2","dbeaver"],"answers":[{"tags":[],"owner":{"account_id":27729574,"reputation":11,"user_id":21168367,"display_name":"Andrei Tetka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675806320,"creation_date":1675806320,"answer_id":75379314,"question_id":67595867,"body_markdown":"You can connect only on local machine. \r\n\r\nFor that choose in Connect by URL and enter your url there. For connect on server you can use only with browser console http://www.h2database.com/html/features.html#auto_mixed_mode\r\n\r\n[DBeaver image. How to connect to local machine][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pJUks.png","title":"H2 Mixed Mode and DBeaver","body":"<p>You can connect only on local machine.</p>\n<p>For that choose in Connect by URL and enter your url there. For connect on server you can use only with browser console <a href=\"http://www.h2database.com/html/features.html#auto_mixed_mode\" rel=\"nofollow noreferrer\">http://www.h2database.com/html/features.html#auto_mixed_mode</a></p>\n<p><a href=\"https://i.stack.imgur.com/pJUks.png\" rel=\"nofollow noreferrer\">DBeaver image. How to connect to local machine</a></p>\n"}],"owner":{"account_id":18065804,"reputation":27,"user_id":13131727,"display_name":"Matias Boccardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1169,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675806320,"creation_date":1621388498,"question_id":67595867,"body_markdown":"I am trying to connect to a local database in a Spring application, which puts H2 in mixed mode. I am trying to connect to Dbeaver, but I get the following message:\r\n\r\n    org.h2.jdbc.JdbcSQLInvalidAuthorizationSpecException: Nombre de usuario &#243; password incorrecto\r\n    Wrong user name or password [28000-200]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:461)\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:429)\r\n    \tat org.h2.message.DbException.get(DbException.java:205)\r\n    \tat org.h2.message.DbException.get(DbException.java:181)\r\n    \tat org.h2.message.DbException.get(DbException.java:170)\r\n    \tat org.h2.server.TcpServer.checkKeyAndGetDatabaseName(TcpServer.java:527)\r\n    \tat org.h2.server.TcpServerThread.run(TcpServerThread.java:137)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:832)\r\n    \r\n    Nombre de usuario &#243; password incorrecto\r\n    Wrong user name or password [28000-200]\r\n\r\nDBeaver:\r\n\r\n[Parameters and URL][1]\r\n\r\n\r\nProperties in Spring:\r\n\r\n    server.port = 8080\r\n    spring.datasource.url=jdbc:h2:file:./data/demo;AUTO_SERVER=TRUE;AUTO_SERVER_PORT=9090;DB_CLOSE_DELAY=-1;PASSWORD=password;USER=sa\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=password\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.h2.console.enabled=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nI tried various things and I can&#39;t connect from DBeaver. Did anyone have a similar problem? Thank you very much to all!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dH5WF.png","title":"H2 Mixed Mode and DBeaver","body":"<p>I am trying to connect to a local database in a Spring application, which puts H2 in mixed mode. I am trying to connect to Dbeaver, but I get the following message:</p>\n<pre><code>org.h2.jdbc.JdbcSQLInvalidAuthorizationSpecException: Nombre de usuario ó password incorrecto\nWrong user name or password [28000-200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:461)\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)\n    at org.h2.message.DbException.get(DbException.java:205)\n    at org.h2.message.DbException.get(DbException.java:181)\n    at org.h2.message.DbException.get(DbException.java:170)\n    at org.h2.server.TcpServer.checkKeyAndGetDatabaseName(TcpServer.java:527)\n    at org.h2.server.TcpServerThread.run(TcpServerThread.java:137)\n    at java.base/java.lang.Thread.run(Thread.java:832)\n\nNombre de usuario ó password incorrecto\nWrong user name or password [28000-200]\n</code></pre>\n<p>DBeaver:</p>\n<p><a href=\"https://i.stack.imgur.com/dH5WF.png\" rel=\"nofollow noreferrer\">Parameters and URL</a></p>\n<p>Properties in Spring:</p>\n<pre><code>server.port = 8080\nspring.datasource.url=jdbc:h2:file:./data/demo;AUTO_SERVER=TRUE;AUTO_SERVER_PORT=9090;DB_CLOSE_DELAY=-1;PASSWORD=password;USER=sa\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>I tried various things and I can't connect from DBeaver. Did anyone have a similar problem? Thank you very much to all!</p>\n"},{"tags":["java","list","java-8"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675234537,"post_id":75306514,"comment_id":132882142,"body_markdown":"why use java8 features do this?looks cool?But that doesn&#39;t give you an idea of ​​how the data behaves when you actually loop through it, it seems, you just need a nice looking answer","body":"why use java8 features do this?looks cool?But that doesn&#39;t give you an idea of ​​how the data behaves when you actually loop through it, it seems, you just need a nice looking answer"},{"owner":{"account_id":7471369,"reputation":152,"user_id":5679270,"accept_rate":67,"display_name":"Ali Ansari"},"score":0,"creation_date":1675234992,"post_id":75306514,"comment_id":132882241,"body_markdown":"What do you want in your result? Unique objects with the latest version?","body":"What do you want in your result? Unique objects with the latest version?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675235127,"post_id":75306514,"comment_id":132882272,"body_markdown":"yes Unique Object with latest version","body":"yes Unique Object with latest version"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1675236110,"post_id":75306514,"comment_id":132882471,"body_markdown":"I&#39;d recommend you try something first using a json parser (Jackson, Gson, javax.json, ...) and a `Map&lt;String, YourObject&gt;` where the key would be the name. Then you just keep the version with the highest version encountered so far for each name in the map. This can be done with earlier Java versions too but if you&#39;re looking for Java 8 features have a look at `Map.merge(...)`.","body":"I&#39;d recommend you try something first using a json parser (Jackson, Gson, javax.json, ...) and a <code>Map&lt;String, YourObject&gt;</code> where the key would be the name. Then you just keep the version with the highest version encountered so far for each name in the map. This can be done with earlier Java versions too but if you&#39;re looking for Java 8 features have a look at <code>Map.merge(...)</code>."}],"answers":[{"tags":[],"owner":{"account_id":25339479,"reputation":71,"user_id":19158062,"display_name":"dustbin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675239159,"creation_date":1675239159,"answer_id":75307198,"question_id":75306514,"body_markdown":"i think two solutions\r\n1. you can use stream to solve the problem.first,group by the name field;then,get the bigger version.\r\n2. you can use the map,when put a object to map,judge the version field.if the version is bigger,you can put it in map.","title":"Getting List of objects with max version property from list of objects Java 8","body":"<p>i think two solutions</p>\n<ol>\n<li>you can use stream to solve the problem.first,group by the name field;then,get the bigger version.</li>\n<li>you can use the map,when put a object to map,judge the version field.if the version is bigger,you can put it in map.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675805958,"creation_date":1675805958,"answer_id":75379261,"question_id":75306514,"body_markdown":"Assuming you have a POJO class like this:\r\n```java\r\nclass YourObject {\r\n  private String name;\r\n  private int version;\r\n  // setters &amp; getters\r\n}\r\n```\r\nthis should do the trick:\r\n```\r\nimport static java.util.Comparator.comparing;\r\nimport static java.util.function.BinaryOperator.maxBy;\r\nimport static java.util.function.Function.identity;\r\nimport static java.util.stream.Collectors.toMap;\r\n\r\n// ...\r\n\r\nList&lt;YourObject&gt; list = ...\r\n\r\n// ...\r\n\r\nList&lt;YourObject&gt; maxVersions = new ArrayList&lt;&gt;(\r\n       list.stream()\r\n           .collect(toMap(YourObject::getName, identity(),\r\n                          maxBy(comparing(YourObject::getVersion))))\r\n           .values()\r\n);\r\n\r\n```\r\n\r\n","title":"Getting List of objects with max version property from list of objects Java 8","body":"<p>Assuming you have a POJO class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class YourObject {\n  private String name;\n  private int version;\n  // setters &amp; getters\n}\n</code></pre>\n<p>this should do the trick:</p>\n<pre><code>import static java.util.Comparator.comparing;\nimport static java.util.function.BinaryOperator.maxBy;\nimport static java.util.function.Function.identity;\nimport static java.util.stream.Collectors.toMap;\n\n// ...\n\nList&lt;YourObject&gt; list = ...\n\n// ...\n\nList&lt;YourObject&gt; maxVersions = new ArrayList&lt;&gt;(\n       list.stream()\n           .collect(toMap(YourObject::getName, identity(),\n                          maxBy(comparing(YourObject::getVersion))))\n           .values()\n);\n\n</code></pre>\n"}],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1675805958,"creation_date":1675233913,"question_id":75306514,"body_markdown":"I have a list of object. Object contain name and version now in the List we have different names with version and same name with different version.&lt;br/&gt;\r\neg:\r\n\r\n    [\r\n    {\r\n    &quot;name&quot;: &quot;ss&quot;,\r\n    &quot;version&quot;: 1\r\n    },\r\n    {\r\n    &quot;name&quot;: &quot;ss&quot;,\r\n    &quot;version&quot;: 2\r\n    },\r\n    {\r\n    &quot;name&quot;: &quot;sam&quot;,\r\n    &quot;version&quot;: 1\r\n    },\r\n    {\r\n    &quot;name&quot;: &quot;sam&quot;,\r\n    &quot;version&quot;: 2\r\n    },\r\n    {\r\n    &quot;name&quot;: &quot;sim&quot;,\r\n    &quot;version&quot;: 1\r\n    }\r\n    ]\r\nNow in the response i need something like below\r\n\r\n    [\r\n    {\r\n    &quot;name&quot;: &quot;ss&quot;,\r\n    &quot;version&quot;: 2\r\n    },\r\n    {\r\n    &quot;name&quot;: &quot;sam&quot;,\r\n    &quot;version&quot;: 2\r\n    },\r\n    {\r\n    &quot;name&quot;: &quot;sim&quot;,\r\n    &quot;version&quot;: 1\r\n    }\r\n    ]\r\n\r\nCan we do this using java8 features?","title":"Getting List of objects with max version property from list of objects Java 8","body":"<p>I have a list of object. Object contain name and version now in the List we have different names with version and same name with different version.<br/>\neg:</p>\n<pre><code>[\n{\n&quot;name&quot;: &quot;ss&quot;,\n&quot;version&quot;: 1\n},\n{\n&quot;name&quot;: &quot;ss&quot;,\n&quot;version&quot;: 2\n},\n{\n&quot;name&quot;: &quot;sam&quot;,\n&quot;version&quot;: 1\n},\n{\n&quot;name&quot;: &quot;sam&quot;,\n&quot;version&quot;: 2\n},\n{\n&quot;name&quot;: &quot;sim&quot;,\n&quot;version&quot;: 1\n}\n]\n</code></pre>\n<p>Now in the response i need something like below</p>\n<pre><code>[\n{\n&quot;name&quot;: &quot;ss&quot;,\n&quot;version&quot;: 2\n},\n{\n&quot;name&quot;: &quot;sam&quot;,\n&quot;version&quot;: 2\n},\n{\n&quot;name&quot;: &quot;sim&quot;,\n&quot;version&quot;: 1\n}\n]\n</code></pre>\n<p>Can we do this using java8 features?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1675754917,"post_id":75370067,"comment_id":132991407,"body_markdown":"Those aren&#39;t `null` elements (if they were `null` you would be seeing the word &quot;null&quot; in the output). Likely they&#39;re empty `String`s. Doing something like `words.removeIf(String::isEmpty)` might work for you.","body":"Those aren&#39;t <code>null</code> elements (if they were <code>null</code> you would be seeing the word &quot;null&quot; in the output). Likely they&#39;re empty <code>String</code>s. Doing something like <code>words.removeIf(String::isEmpty)</code> might work for you."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1675754985,"post_id":75370067,"comment_id":132991426,"body_markdown":"One problem is that after you&#39;ve removed (say) element 3, you&#39;re still incrementing `i` (to 4) but the *previous* element 4 is now element 3, and you&#39;re not checking it. The typical ways of fixing that are either to decrement `i` after calling `words.remove(i)`, or go from the *end* of the list towards the start (so `for (int i = words.size() - 1; i &gt;= 0; i--)`).","body":"One problem is that after you&#39;ve removed (say) element 3, you&#39;re still incrementing <code>i</code> (to 4) but the <i>previous</i> element 4 is now element 3, and you&#39;re not checking it. The typical ways of fixing that are either to decrement <code>i</code> after calling <code>words.remove(i)</code>, or go from the <i>end</i> of the list towards the start (so <code>for (int i = words.size() - 1; i &gt;= 0; i--)</code>)."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675754951,"creation_date":1675754951,"answer_id":75370093,"question_id":75370067,"body_markdown":"Try looping backwards:\r\n\r\n            for (int i = words.size(); --i &gt;= 0; ) {\r\n                if (words.get(i) == null)\r\n                {\r\n                    words.remove(i);\r\n                }\r\n            }\r\n","title":"How do I remove null elements from an ArrayList in Java?","body":"<p>Try looping backwards:</p>\n<pre><code>        for (int i = words.size(); --i &gt;= 0; ) {\n            if (words.get(i) == null)\n            {\n                words.remove(i);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675778040,"creation_date":1675756060,"answer_id":75370283,"question_id":75370067,"body_markdown":"You have two problems:\r\n\r\n1. Your list doesn&#39;t contain any `null` elements. If there were `null` elements in the list, then you&#39;d be seeing output like this:\r\n\r\n    ```lang-none\r\n    [10, years, null, null, 3, Lec, null, null, 3, Lab, null, null, null, Coordinating, Board, Academic, Approval, Number, 1102015707, null]    \r\n    ```\r\n\r\n    What you&#39;re most likely seeing is _empty_ strings (`&quot;&quot;`), or possibly _blank_ strings (i.e., strings that contain only whitespace).\r\n\r\n2. You&#39;re incrementing `i` even when you remove an element. The problem with this is explained in [John Skeet&#39;s comment under your question][1]:\r\n\r\n    &gt; One problem is that after you&#39;ve removed (say) element 3, you&#39;re still incrementing `i` (to 4) but the _previous_ element 4 is now element 3, and you&#39;re not checking it. The typical ways of fixing that are either to decrement `i` after calling `words.remove(i)`, or go from the end of the list towards the start (so `for (int i = words.size() - 1; i &gt;= 0; i--)`).\r\n\r\nThere are a few approaches you could use to fix the problem. All the code below tests if a string is blank via [`String#isBlank()`][2] (instead of testing for nulls). \r\n\r\n**Loop Backwards**\r\n\r\n```lang-java\r\nfor (int i = words.size() - 1; i &gt;= 0; i--) {\r\n    if (words.get(i).isBlank()) {\r\n        words.remove(i);\r\n    }\r\n}\r\n```\r\n\r\n**Use an Iterator**\r\n\r\n```lang-java\r\n// for-loop version\r\nfor (Iterator&lt;String&gt; itr = words.iterator(); itr.hasNext(); ) {\r\n    if (itr.next().isBlank()) {\r\n        itr.remove();\r\n    }\r\n}\r\n\r\n// while-loop version\r\nIterator&lt;String&gt; itr = words.iterator();\r\nwhile (itr.hasNext()) {\r\n    if (itr.next().isBlank()) {\r\n        itr.remove();\r\n    }\r\n}\r\n```\r\n\r\n**Use [`removeIf`][3], passing a [`Predicate`][4]**\r\n\r\n```lang-java\r\n// anonymous class version\r\nwords.removeIf(new Predicate&lt;&gt;() {\r\n    @Override public boolean test(String word) {\r\n        return word.isBlank();\r\n    }\r\n});\r\n\r\n// lambda &quot;block&quot; version\r\nwords.removeIf(word -&gt; {\r\n    return word.isBlank();\r\n});\r\n\r\n// single-expression lambda version\r\nwords.removeIf(word -&gt; word.isBlank());\r\n\r\n// method reference version\r\nwords.removeIf(String::isBlank);\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75370067/how-do-i-remove-null-elements-from-an-arraylist-in-java#comment132991426_75370067\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#isBlank()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html","title":"How do I remove null elements from an ArrayList in Java?","body":"<p>You have two problems:</p>\n<ol>\n<li><p>Your list doesn't contain any <code>null</code> elements. If there were <code>null</code> elements in the list, then you'd be seeing output like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[10, years, null, null, 3, Lec, null, null, 3, Lab, null, null, null, Coordinating, Board, Academic, Approval, Number, 1102015707, null]    \n</code></pre>\n<p>What you're most likely seeing is <em>empty</em> strings (<code>&quot;&quot;</code>), or possibly <em>blank</em> strings (i.e., strings that contain only whitespace).</p>\n</li>\n<li><p>You're incrementing <code>i</code> even when you remove an element. The problem with this is explained in <a href=\"https://stackoverflow.com/questions/75370067/how-do-i-remove-null-elements-from-an-arraylist-in-java#comment132991426_75370067\">John Skeet's comment under your question</a>:</p>\n<blockquote>\n<p>One problem is that after you've removed (say) element 3, you're still incrementing <code>i</code> (to 4) but the <em>previous</em> element 4 is now element 3, and you're not checking it. The typical ways of fixing that are either to decrement <code>i</code> after calling <code>words.remove(i)</code>, or go from the end of the list towards the start (so <code>for (int i = words.size() - 1; i &gt;= 0; i--)</code>).</p>\n</blockquote>\n</li>\n</ol>\n<p>There are a few approaches you could use to fix the problem. All the code below tests if a string is blank via <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#isBlank()\" rel=\"nofollow noreferrer\"><code>String#isBlank()</code></a> (instead of testing for nulls).</p>\n<p><strong>Loop Backwards</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = words.size() - 1; i &gt;= 0; i--) {\n    if (words.get(i).isBlank()) {\n        words.remove(i);\n    }\n}\n</code></pre>\n<p><strong>Use an Iterator</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// for-loop version\nfor (Iterator&lt;String&gt; itr = words.iterator(); itr.hasNext(); ) {\n    if (itr.next().isBlank()) {\n        itr.remove();\n    }\n}\n\n// while-loop version\nIterator&lt;String&gt; itr = words.iterator();\nwhile (itr.hasNext()) {\n    if (itr.next().isBlank()) {\n        itr.remove();\n    }\n}\n</code></pre>\n<p><strong>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>removeIf</code></a>, passing a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\"><code>Predicate</code></a></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// anonymous class version\nwords.removeIf(new Predicate&lt;&gt;() {\n    @Override public boolean test(String word) {\n        return word.isBlank();\n    }\n});\n\n// lambda &quot;block&quot; version\nwords.removeIf(word -&gt; {\n    return word.isBlank();\n});\n\n// single-expression lambda version\nwords.removeIf(word -&gt; word.isBlank());\n\n// method reference version\nwords.removeIf(String::isBlank);\n</code></pre>\n"}],"owner":{"account_id":25950530,"reputation":19,"user_id":19668644,"display_name":"mtzsouza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1675863379,"answer_count":2,"score":-2,"last_activity_date":1675805333,"creation_date":1675754774,"question_id":75370067,"body_markdown":"I have been trying to remove null entries from an ArrayList without success.\r\n\r\nFirst, I store all words from a file into an ArrayList using specific delimiters (punctuation and whitespace).\r\n\r\nThen I attempt to remove null entries from the ArrayList.\r\n\r\nWhen I print the whole list, the null entries are still there.\r\n\r\nHow can I solve this?\r\n\r\n```\r\n            ArrayList&lt;String&gt; words = new ArrayList&lt;String&gt;();\r\n            while (scanner.hasNext()) {\r\n                words.add(scanner.next());\r\n            }\r\n\r\n            for (int i = 0; i &lt; words.size(); i++) {\r\n                if (words.get(i) == null)\r\n                {\r\n                    words.remove(i);\r\n                }\r\n            }\r\n```\r\n\r\nExample of current output:\r\n\r\n```\r\n[10, years, , , 3, Lec, , , 3, Lab, , , , Coordinating, Board, Academic, Approval, Number, 1102015707, ]\r\n```\r\n\r\nExample of desired output:\r\n\r\n```\r\n[10, years, 3, Lec, 3, Lab, Coordinating, Board, Academic, Approval, Number, 1102015707]\r\n```","title":"How do I remove null elements from an ArrayList in Java?","body":"<p>I have been trying to remove null entries from an ArrayList without success.</p>\n<p>First, I store all words from a file into an ArrayList using specific delimiters (punctuation and whitespace).</p>\n<p>Then I attempt to remove null entries from the ArrayList.</p>\n<p>When I print the whole list, the null entries are still there.</p>\n<p>How can I solve this?</p>\n<pre><code>            ArrayList&lt;String&gt; words = new ArrayList&lt;String&gt;();\n            while (scanner.hasNext()) {\n                words.add(scanner.next());\n            }\n\n            for (int i = 0; i &lt; words.size(); i++) {\n                if (words.get(i) == null)\n                {\n                    words.remove(i);\n                }\n            }\n</code></pre>\n<p>Example of current output:</p>\n<pre><code>[10, years, , , 3, Lec, , , 3, Lab, , , , Coordinating, Board, Academic, Approval, Number, 1102015707, ]\n</code></pre>\n<p>Example of desired output:</p>\n<pre><code>[10, years, 3, Lec, 3, Lab, Coordinating, Board, Academic, Approval, Number, 1102015707]\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","database-connection","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1676017309,"post_id":75370597,"comment_id":133056066,"body_markdown":"In general, querying with the condition &#39;last 5 mins&#39; is not a robust strategy.\nA common strategy, I think, is to create another table and save the ID of the last retrieved row after the SELECT.\nYou should be able to SELECT rows that are inserted after the last query by using the saved ID.\nThere won&#39;t be any data loss if the SELECT and UPDATE (that saves the ID) are executed in the same transaction.","body":"In general, querying with the condition &#39;last 5 mins&#39; is not a robust strategy. A common strategy, I think, is to create another table and save the ID of the last retrieved row after the SELECT. You should be able to SELECT rows that are inserted after the last query by using the saved ID. There won&#39;t be any data loss if the SELECT and UPDATE (that saves the ID) are executed in the same transaction."}],"owner":{"account_id":27716616,"reputation":13,"user_id":21158186,"display_name":"learner-newfeatures"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675803947,"creation_date":1675758043,"question_id":75370597,"body_markdown":"I have table in my PostgresSQLDB which gets updated every minute. I am trying to fetch records from this DB basing on a column for every 5 minutes \r\n\r\nTestDBCustomMapper.java\r\n\r\n   `&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n                                                &lt;select id=&quot;getDataIn5minInterval&quot; returnType=&quot;List&quot;&gt;select * from test_table where col_updated_date between current_timestamp::timestamp without time zone - INTERVAL &#39;5 minutes&#39; and current_timestamp::timestamp without time zone\r\n&lt;/select&gt;`\r\n\r\nTestDBServiceImpl.java\r\n\r\n    `List&lt;Records&gt; myList=testDBMapper.getDataIn5minInterval()`\r\n\r\n\r\n\r\n\r\n Now there might be chance that the DB connection might be lost due to network failure or anyother scenarios. If the connection failure is lets say more than 15 min , I might loose 15 min of data since my query fetches the recent 5 min data. How do I ensure that I get continuous updates considering this usecase.\r\n\r\nI have tried to keep the two time ranges in two variables such that when there is connection issue the exception is thrown. if the exception is thrown, the range of timings should be reset. But how do I know when the DB is reconnected once again.","title":"How to reconnect a DB automatically to fetch 5 min interval data continuously without losing the data","body":"<p>I have table in my PostgresSQLDB which gets updated every minute. I am trying to fetch records from this DB basing on a column for every 5 minutes</p>\n<p>TestDBCustomMapper.java</p>\n<p><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;select id=&quot;getDataIn5minInterval&quot; returnType=&quot;List&quot;&gt;select * from test_table where col_updated_date between current_timestamp::timestamp without time zone - INTERVAL '5 minutes' and current_timestamp::timestamp without time zone &lt;/select&gt;</code></p>\n<p>TestDBServiceImpl.java</p>\n<pre><code>`List&lt;Records&gt; myList=testDBMapper.getDataIn5minInterval()`\n</code></pre>\n<p>Now there might be chance that the DB connection might be lost due to network failure or anyother scenarios. If the connection failure is lets say more than 15 min , I might loose 15 min of data since my query fetches the recent 5 min data. How do I ensure that I get continuous updates considering this usecase.</p>\n<p>I have tried to keep the two time ranges in two variables such that when there is connection issue the exception is thrown. if the exception is thrown, the range of timings should be reset. But how do I know when the DB is reconnected once again.</p>\n"},{"tags":["java","mysql","jdbc","jdbi","jdbi3"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675803768,"creation_date":1675803768,"answer_id":75378944,"question_id":75377182,"body_markdown":"One approach (there are others, also) is to use the JDBI `@Nested` annotation with a [bean mapper](https://jdbi.org/#_beanmapper). The annotation:\r\n\r\n&gt; &quot;...creates a mapper for the nested bean.&quot;\r\n\r\nPlace the annotation on the relevant setter (or getter). So, in your case that would be like this:\r\n\r\n\r\n```java\r\nimport org.jdbi.v3.core.mapper.Nested;\r\nimport org.jdbi.v3.core.mapper.reflect.ColumnName;\r\n\r\npublic class B {\r\n\r\n    private long id; // auto-increment primary key\r\n    private A a; // actual object of class A\r\n    private String bAttribute;\r\n\r\n    @ColumnName(&quot;b_id&quot;)\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public A getA() {\r\n        return a;\r\n    }\r\n\r\n    @Nested\r\n    public void setA(A a) {\r\n        this.a = a;\r\n    }\r\n\r\n    @ColumnName(&quot;b_attribute&quot;)\r\n    public String getBAttribute() {\r\n        return bAttribute;\r\n    }\r\n\r\n    public void setBAttribute(String bAttribute) {\r\n        this.bAttribute = bAttribute;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have also added `@ColumnName` annotations to disambiguate the otherwise identical column names between the two objects (and, presumably, the tables).  \r\n\r\nHere is class A:\r\n\r\n```java\r\npackage com.northcoder.jdbidemo;\r\n\r\nimport org.jdbi.v3.core.mapper.reflect.ColumnName;\r\n\r\npublic class A {\r\n\r\n    private long id; // auto-increment primary key\r\n    private String aAttribute;\r\n\r\n    @ColumnName(&quot;a_id&quot;)\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @ColumnName(&quot;a_attribute&quot;)\r\n    public String getAAttribute() {\r\n        return aAttribute;\r\n    }\r\n\r\n    public void setAAttribute(String aAttribute) {\r\n        this.aAttribute = aAttribute;\r\n    }\r\n\r\n}\r\n```\r\n\r\nA query therefore needs to use column aliases to match these annotations:\r\n\r\n```java\r\nString sql = &quot;&quot;&quot;\r\n             select b.id as b_id, b.bAttribute as b_attribute, a.id as a_id, a.aAttribute as a_attribute\r\n             from your_db.a as a\r\n             inner join your_db.b as b\r\n             on a.id = b.a_id;\r\n             &quot;&quot;&quot;;\r\n\r\njdbi.useHandle(handle -&gt; {\r\n    List&lt;B&gt; bees = handle\r\n            .select(sql)\r\n            .mapToBean(B.class)\r\n            .list();\r\n});\r\n```\r\n\r\nEach instance of class B in the resulting list will contain an instance of A (assuming the data exists in the database).","title":"How to map foreign key attribute to record in Java with JDBI","body":"<p>One approach (there are others, also) is to use the JDBI <code>@Nested</code> annotation with a <a href=\"https://jdbi.org/#_beanmapper\" rel=\"nofollow noreferrer\">bean mapper</a>. The annotation:</p>\n<blockquote>\n<p>&quot;...creates a mapper for the nested bean.&quot;</p>\n</blockquote>\n<p>Place the annotation on the relevant setter (or getter). So, in your case that would be like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.jdbi.v3.core.mapper.Nested;\nimport org.jdbi.v3.core.mapper.reflect.ColumnName;\n\npublic class B {\n\n    private long id; // auto-increment primary key\n    private A a; // actual object of class A\n    private String bAttribute;\n\n    @ColumnName(&quot;b_id&quot;)\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public A getA() {\n        return a;\n    }\n\n    @Nested\n    public void setA(A a) {\n        this.a = a;\n    }\n\n    @ColumnName(&quot;b_attribute&quot;)\n    public String getBAttribute() {\n        return bAttribute;\n    }\n\n    public void setBAttribute(String bAttribute) {\n        this.bAttribute = bAttribute;\n    }\n\n}\n</code></pre>\n<p>I have also added <code>@ColumnName</code> annotations to disambiguate the otherwise identical column names between the two objects (and, presumably, the tables).</p>\n<p>Here is class A:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.northcoder.jdbidemo;\n\nimport org.jdbi.v3.core.mapper.reflect.ColumnName;\n\npublic class A {\n\n    private long id; // auto-increment primary key\n    private String aAttribute;\n\n    @ColumnName(&quot;a_id&quot;)\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    @ColumnName(&quot;a_attribute&quot;)\n    public String getAAttribute() {\n        return aAttribute;\n    }\n\n    public void setAAttribute(String aAttribute) {\n        this.aAttribute = aAttribute;\n    }\n\n}\n</code></pre>\n<p>A query therefore needs to use column aliases to match these annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql = &quot;&quot;&quot;\n             select b.id as b_id, b.bAttribute as b_attribute, a.id as a_id, a.aAttribute as a_attribute\n             from your_db.a as a\n             inner join your_db.b as b\n             on a.id = b.a_id;\n             &quot;&quot;&quot;;\n\njdbi.useHandle(handle -&gt; {\n    List&lt;B&gt; bees = handle\n            .select(sql)\n            .mapToBean(B.class)\n            .list();\n});\n</code></pre>\n<p>Each instance of class B in the resulting list will contain an instance of A (assuming the data exists in the database).</p>\n"}],"owner":{"account_id":16935487,"reputation":313,"user_id":12248597,"display_name":"EzyHoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75378944,"answer_count":1,"score":0,"last_activity_date":1675803768,"creation_date":1675792385,"question_id":75377182,"body_markdown":"Say my DB looks like this, presenting using POJO:\r\n\r\n````\r\nclass A {\r\n   long id; // auto-increment primary key\r\n   String aAttribute;\r\n}\r\n````\r\n\r\n````\r\nclass B {\r\n   long id; // auto-increment primary key\r\n   long aId; // foreign key of class A\r\n   String bAttribute;     \r\n}\r\n````\r\n\r\nHow could I naturally map the DB records to class B using JDBI so the class B could contain the actual object of A instead of a foreign key to A:\r\n\r\n````\r\nclass B {\r\n   long id; // auto-increment primary key\r\n   A a; // actual object of class A\r\n   String bAttribute;    \r\n}\r\n````\r\n\r\n","title":"How to map foreign key attribute to record in Java with JDBI","body":"<p>Say my DB looks like this, presenting using POJO:</p>\n<pre><code>class A {\n   long id; // auto-increment primary key\n   String aAttribute;\n}\n</code></pre>\n<pre><code>class B {\n   long id; // auto-increment primary key\n   long aId; // foreign key of class A\n   String bAttribute;     \n}\n</code></pre>\n<p>How could I naturally map the DB records to class B using JDBI so the class B could contain the actual object of A instead of a foreign key to A:</p>\n<pre><code>class B {\n   long id; // auto-increment primary key\n   A a; // actual object of class A\n   String bAttribute;    \n}\n</code></pre>\n"},{"tags":["java","json","junit","mockito","mockmvc"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1675707990,"post_id":75356808,"comment_id":132982878,"body_markdown":"Does `User` class extend `equals` method? Could you show the code of the tested controller method?","body":"Does <code>User</code> class extend <code>equals</code> method? Could you show the code of the tested controller method?"},{"owner":{"account_id":9741779,"reputation":1,"user_id":9743705,"display_name":"David Macias Mata"},"score":0,"creation_date":1675803315,"post_id":75356808,"comment_id":133006520,"body_markdown":"I guess I&#39;m having trouble understanding how to get the body results from the ResponseEntity.status(HttpStatus.CREATED).body(authService.register(created))","body":"I guess I&#39;m having trouble understanding how to get the body results from the ResponseEntity.status(HttpStatus.CREATED).body(authService.r&zwnj;&#8203;egister(created))"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1675837591,"post_id":75356808,"comment_id":133011711,"body_markdown":"Does `User` class extend `equals` method?","body":"Does <code>User</code> class extend <code>equals</code> method?"},{"owner":{"account_id":9741779,"reputation":1,"user_id":9743705,"display_name":"David Macias Mata"},"score":0,"creation_date":1675893779,"post_id":75356808,"comment_id":133028652,"body_markdown":"It does not, but I finally figured it out!\n\nThe big was in the given function. I fixed it with\n\ngiven(authService.register(any())).willReturn(testUser1);","body":"It does not, but I finally figured it out!  The big was in the given function. I fixed it with  given(authService.register(any())).willReturn(testUser1);"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1675921492,"post_id":75356808,"comment_id":133032713,"body_markdown":"`any()` matcher accepts any value as the name states. You might want to use some other method of matching - see this answer for more details: https://stackoverflow.com/a/73745189/3305737","body":"<code>any()</code> matcher accepts any value as the name states. You might want to use some other method of matching - see this answer for more details: <a href=\"https://stackoverflow.com/a/73745189/3305737\">stackoverflow.com/a/73745189/3305737</a>"}],"owner":{"account_id":9741779,"reputation":1,"user_id":9743705,"display_name":"David Macias Mata"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675802964,"creation_date":1675649683,"question_id":75356808,"body_markdown":"So I have been doing some testing for a server and I keep getting this error \r\n&quot;java.lang.AssertionError: No value at JSON path &quot;$.id&quot;\r\n\r\nThis is the code that I have used. Not sure why it&#39;s not reading the jSon correctly, as it doesn&#39;t do this with all the other code written.\r\n\r\n```\r\n@Test\r\n    public void registerSuccessful() throws Exception {\r\n        User testUser1 = new User(&quot;test.com&quot;, &quot;password&quot;, &quot;John&quot;, &quot;Doe&quot;, &quot;JDoe&quot;);\r\n        testUser1.setId(1);\r\n        given(authService.register(testUser1)).willReturn(testUser1);\r\n\r\n        String requestBody = objectMapper.writeValueAsString(testUser1);\r\n        this.mockMvc.perform(post(&quot;/auth/register&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .content(requestBody))\r\n                .andExpect(status().is(201)).andDo(print())\r\n                .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.id&quot;, is(1)))\r\n                .andExpect(jsonPath(&quot;$.email&quot;, is(&quot;test.com&quot;)))\r\n                .andExpect(jsonPath(&quot;$.password&quot;, is(testUser1.getPassword())))\r\n                .andExpect(jsonPath(&quot;$.firstName&quot;, is(testUser1.getFirstName())))\r\n                .andExpect(jsonPath(&quot;$.lastName&quot;, is(testUser1.getLastName())))\r\n                .andExpect(jsonPath(&quot;$.username&quot;, is(testUser1.getUsername())))\r\n                .andExpect(jsonPath(&quot;$.imageUrl&quot;, is(testUser1.getImageUrl())));\r\n    }\r\n```\r\n\r\n\r\nHere is the AuthController\r\n```\r\n @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;User&gt; register(@RequestBody RegisterRequest registerRequest) {\r\n        User created = new User(\r\n                registerRequest.getEmail(),\r\n                registerRequest.getPassword(),\r\n                registerRequest.getFirstName(),\r\n                registerRequest.getLastName(),\r\n                registerRequest.getUsername());\r\n\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(authService.register(created));\r\n    }\r\n```","title":"java.lang.AssertionError: No value at JSON path &quot;$.id&quot;","body":"<p>So I have been doing some testing for a server and I keep getting this error\n&quot;java.lang.AssertionError: No value at JSON path &quot;$.id&quot;</p>\n<p>This is the code that I have used. Not sure why it's not reading the jSon correctly, as it doesn't do this with all the other code written.</p>\n<pre><code>@Test\n    public void registerSuccessful() throws Exception {\n        User testUser1 = new User(&quot;test.com&quot;, &quot;password&quot;, &quot;John&quot;, &quot;Doe&quot;, &quot;JDoe&quot;);\n        testUser1.setId(1);\n        given(authService.register(testUser1)).willReturn(testUser1);\n\n        String requestBody = objectMapper.writeValueAsString(testUser1);\n        this.mockMvc.perform(post(&quot;/auth/register&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .content(requestBody))\n                .andExpect(status().is(201)).andDo(print())\n                .andExpect(MockMvcResultMatchers.jsonPath(&quot;$.id&quot;, is(1)))\n                .andExpect(jsonPath(&quot;$.email&quot;, is(&quot;test.com&quot;)))\n                .andExpect(jsonPath(&quot;$.password&quot;, is(testUser1.getPassword())))\n                .andExpect(jsonPath(&quot;$.firstName&quot;, is(testUser1.getFirstName())))\n                .andExpect(jsonPath(&quot;$.lastName&quot;, is(testUser1.getLastName())))\n                .andExpect(jsonPath(&quot;$.username&quot;, is(testUser1.getUsername())))\n                .andExpect(jsonPath(&quot;$.imageUrl&quot;, is(testUser1.getImageUrl())));\n    }\n</code></pre>\n<p>Here is the AuthController</p>\n<pre><code> @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;User&gt; register(@RequestBody RegisterRequest registerRequest) {\n        User created = new User(\n                registerRequest.getEmail(),\n                registerRequest.getPassword(),\n                registerRequest.getFirstName(),\n                registerRequest.getLastName(),\n                registerRequest.getUsername());\n\n        return ResponseEntity.status(HttpStatus.CREATED).body(authService.register(created));\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","lombok"],"comments":[{"owner":{"account_id":3311159,"reputation":3521,"user_id":3839716,"display_name":"CodeShadow"},"score":0,"creation_date":1525765717,"post_id":17729384,"comment_id":87474175,"body_markdown":"My answer here: https://stackoverflow.com/a/42809311/3839716","body":"My answer here: <a href=\"https://stackoverflow.com/a/42809311/3839716\">stackoverflow.com/a/42809311/3839716</a>"},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1631029759,"post_id":17729384,"comment_id":122111250,"body_markdown":"Adding one more info which i tried as comment for people looking for answers after every trick they tried.\n\nPlease invalidate your lib cache-&gt;delete .m2 folder and build the project again.","body":"Adding one more info which i tried as comment for people looking for answers after every trick they tried.  Please invalidate your lib cache-&gt;delete .m2 folder and build the project again."}],"answers":[{"tags":[],"owner":{"account_id":1064249,"reputation":4160,"user_id":1367948,"accept_rate":62,"display_name":"Don Quixote"},"down_vote_count":1,"up_vote_count":188,"is_accepted":true,"score":187,"last_activity_date":1554445953,"creation_date":1374166603,"answer_id":17729637,"question_id":17729384,"body_markdown":"I fixed it by ticking the &quot;Enable annotation processing&quot; checkbox in Settings-&gt;Compiler-&gt;Annotation Processors.\r\n\r\nAlong with this you might also need to install `lombok` plugin as mentioned in [@X.Chen&#39;s answer][1] for new versions of IntelliJ Idea. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/31084929/1610034","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>I fixed it by ticking the \"Enable annotation processing\" checkbox in Settings->Compiler->Annotation Processors.</p>\n\n<p>Along with this you might also need to install <code>lombok</code> plugin as mentioned in <a href=\"https://stackoverflow.com/a/31084929/1610034\">@X.Chen's answer</a> for new versions of IntelliJ Idea. </p>\n"},{"tags":[],"owner":{"account_id":3441111,"reputation":1,"user_id":2883070,"display_name":"user2883070"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435379985,"creation_date":1386860862,"answer_id":20547041,"question_id":17729384,"body_markdown":"I fixed it by following steps:\r\n\r\n 1. Installed previous version of Idea(12.16) and start it(idea 13 was launched)\r\n 2. then i switch on window with idea 13 (it proposed to reread some config files. I agreed and restart my IDE). And then everithing became ok with tha latest version of IDEA","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>I fixed it by following steps:</p>\n\n<ol>\n<li>Installed previous version of Idea(12.16) and start it(idea 13 was launched)</li>\n<li>then i switch on window with idea 13 (it proposed to reread some config files. I agreed and restart my IDE). And then everithing became ok with tha latest version of IDEA</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5589101,"reputation":3449,"user_id":4428861,"display_name":"X.Chen"},"down_vote_count":0,"up_vote_count":331,"is_accepted":false,"score":331,"last_activity_date":1556105783,"creation_date":1435376731,"answer_id":31084929,"question_id":17729384,"body_markdown":"You need to install the Lombok plugin for IDEA. Open the Settings panel (Ctrl + Alt + S). Search for &quot;Plugins&quot;, then search for &quot;Lombok&quot; in the plugins. Find the plugin and install it. Finally, restart your IDEA. Then everything will be OK!","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>You need to install the Lombok plugin for IDEA. Open the Settings panel (Ctrl + Alt + S). Search for \"Plugins\", then search for \"Lombok\" in the plugins. Find the plugin and install it. Finally, restart your IDEA. Then everything will be OK!</p>\n"},{"tags":[],"owner":{"account_id":7194833,"reputation":1229,"user_id":5493986,"accept_rate":100,"display_name":"Blawless"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1487765064,"creation_date":1487765064,"answer_id":42390952,"question_id":17729384,"body_markdown":"It is a combination of \r\n\r\n - Ticking the &quot;**Enable annotation processing**&quot; checkbox in\r\n Settings-&gt;Compiler-&gt;Annotation Processors.\r\n\r\n and\r\n\r\n - Install the **plugin of Lombok** for idea and restart for change to take effect.\r\n\r\n","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>It is a combination of </p>\n\n<ul>\n<li><p>Ticking the \"<strong>Enable annotation processing</strong>\" checkbox in\nSettings->Compiler->Annotation Processors.</p>\n\n<p>and</p></li>\n<li><p>Install the <strong>plugin of Lombok</strong> for idea and restart for change to take effect.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10587049,"reputation":59,"user_id":7799029,"display_name":"Jatin Gera"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1490983155,"creation_date":1490983155,"answer_id":43146933,"question_id":17729384,"body_markdown":"1.\tGo to File &gt; Settings &gt; Plugins.\r\n\t2.\tClick on Browse repositories...\r\n\t3.\tSearch for Lombok Plugin.\r\n\t4.\tClick on Install plugin.\r\n\t5.\tRestart Android Studio.","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<ol>\n<li>Go to File > Settings > Plugins.\n\n<ol start=\"2\">\n<li>Click on Browse repositories...</li>\n<li>Search for Lombok Plugin.</li>\n<li>Click on Install plugin.</li>\n<li>Restart Android Studio.</li>\n</ol></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1518754273,"creation_date":1517005040,"answer_id":48470371,"question_id":17729384,"body_markdown":"If you are on `Mac`, make sure you enable annotation processing (tick the checkbox) at these 2 places.\n\n&gt; 1.) Intellij IDEA -&gt; Preferences -&gt; Compiler -&gt; Annotation Processors\n&gt; \n&gt; 2.) File -&gt; Other Settings -&gt; Default Settings -&gt; Compiler -&gt; Annotation Processors\n\nAnd then \n\n&gt; 3.) Intellij IDEA -&gt; Preferences -&gt; Plugins -&gt;Browse Repositories-&gt; Search for &quot;Lombok&quot;-&gt; install plugin -&gt; Apply and restart IDEA\n&gt;\n&gt; 4.) And then probably restart Intellij IDEA.\n\nThis is my IntelliJ IDEA and Mac Version - IntelliJ IDEA 2017.1.5 Build #IU-171.4694.70   --- Mac OS X 10.12\n\n\n","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>If you are on <code>Mac</code>, make sure you enable annotation processing (tick the checkbox) at these 2 places.</p>\n<blockquote>\n<p>1.) Intellij IDEA -&gt; Preferences -&gt; Compiler -&gt; Annotation Processors</p>\n<p>2.) File -&gt; Other Settings -&gt; Default Settings -&gt; Compiler -&gt; Annotation Processors</p>\n</blockquote>\n<p>And then</p>\n<blockquote>\n<p>3.) Intellij IDEA -&gt; Preferences -&gt; Plugins -&gt;Browse Repositories-&gt; Search for &quot;Lombok&quot;-&gt; install plugin -&gt; Apply and restart IDEA</p>\n<p>4.) And then probably restart Intellij IDEA.</p>\n</blockquote>\n<p>This is my IntelliJ IDEA and Mac Version - IntelliJ IDEA 2017.1.5 Build #IU-171.4694.70   --- Mac OS X 10.12</p>\n"},{"tags":[],"owner":{"account_id":10073392,"reputation":169,"user_id":7446304,"display_name":"greencrest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522918042,"creation_date":1522917246,"answer_id":49667724,"question_id":17729384,"body_markdown":"In my case it was migrating from idea 2017 to 2018 and Lombok plugin was already there. \r\nAll I did is added &quot;Enable annotation processing options&quot;\r\n[entering preferences][3]\r\nand [check the box][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LIpJl.png\r\n  [3]: https://i.stack.imgur.com/KNvsL.png","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>In my case it was migrating from idea 2017 to 2018 and Lombok plugin was already there. \nAll I did is added \"Enable annotation processing options\"\n<a href=\"https://i.stack.imgur.com/KNvsL.png\" rel=\"nofollow noreferrer\">entering preferences</a>\nand <a href=\"https://i.stack.imgur.com/LIpJl.png\" rel=\"nofollow noreferrer\">check the box</a></p>\n"},{"tags":[],"owner":{"account_id":9615566,"reputation":5188,"user_id":7138492,"accept_rate":100,"display_name":"Sergey Emeliyanov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1523554265,"creation_date":1523554265,"answer_id":49802717,"question_id":17729384,"body_markdown":"It&#39;s possible that you already have the `Lombok` plugin, and still the generated methods are not recognised by `Android Studio`. In such case the plugin might be out of date, so the solution is to simply update it. \r\n\r\nPreferences -&gt; Plugins -&gt; Lombok Plugin -&gt; **Update Plugin**","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>It's possible that you already have the <code>Lombok</code> plugin, and still the generated methods are not recognised by <code>Android Studio</code>. In such case the plugin might be out of date, so the solution is to simply update it. </p>\n\n<p>Preferences -> Plugins -> Lombok Plugin -> <strong>Update Plugin</strong></p>\n"},{"tags":[],"owner":{"account_id":7450965,"reputation":1416,"user_id":5665753,"display_name":"Jason Slobotski"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1523555516,"creation_date":1523555516,"answer_id":49803033,"question_id":17729384,"body_markdown":"I had both the Lombok plugin installed and Annotation Processing enabled within IntelliJ and my syntax highlighting still wasn&#39;t working properly. This could have been due to the 2017 to 2018 IDEA upgrade. I was getting warnings &quot;access exceeds rights&quot; on private fields within classes I had used @Getter and @Setter on.\r\n\r\nI had to uninstall the Lombok plugin, restart IntelliJ, then reinstall the plugin, and restart IntelliJ once more.\r\n\r\nEverything is working good now.\r\n","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>I had both the Lombok plugin installed and Annotation Processing enabled within IntelliJ and my syntax highlighting still wasn't working properly. This could have been due to the 2017 to 2018 IDEA upgrade. I was getting warnings \"access exceeds rights\" on private fields within classes I had used @Getter and @Setter on.</p>\n\n<p>I had to uninstall the Lombok plugin, restart IntelliJ, then reinstall the plugin, and restart IntelliJ once more.</p>\n\n<p>Everything is working good now.</p>\n"},{"tags":[],"owner":{"account_id":4060161,"reputation":1370,"user_id":3336921,"display_name":"rahulnikhare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537275297,"creation_date":1537275297,"answer_id":52387089,"question_id":17729384,"body_markdown":"Goto Setting-&gt;Plugin-&gt;Search for &quot;Lombok Plugin&quot; -&gt; It will show results. Install Lombok Plugin from the list and Restart Intellij","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>Goto Setting->Plugin->Search for \"Lombok Plugin\" -> It will show results. Install Lombok Plugin from the list and Restart Intellij</p>\n"},{"tags":[],"owner":{"account_id":4403145,"reputation":614,"user_id":3588217,"accept_rate":55,"display_name":"greenhorn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573113578,"creation_date":1573113578,"answer_id":58744274,"question_id":17729384,"body_markdown":"Go to **settings-&gt;Plugins-&gt;Browse repositories** and search for **Lombok** it will display the Lombok plugin also you will see the install option on the right side panel. Please install it. Then restart your intelliJ IDE. This has solved my issue. ","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>Go to <strong>settings->Plugins->Browse repositories</strong> and search for <strong>Lombok</strong> it will display the Lombok plugin also you will see the install option on the right side panel. Please install it. Then restart your intelliJ IDE. This has solved my issue. </p>\n"},{"tags":[],"owner":{"account_id":1201601,"reputation":21929,"user_id":1172155,"accept_rate":45,"display_name":"App Work"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584342019,"creation_date":1584341614,"answer_id":60701496,"question_id":17729384,"body_markdown":"In IDEA 2019.3.3 community on mac (  catalina)\r\n\r\n    IntelliJ IDEA =&gt; preferences\r\n\r\n\r\n    Build,Execution,Deployment=&gt;Compiler=&gt;Annotation Processors:\r\n\r\nCheck `Enable annotation Processing`\r\n\r\n","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>In IDEA 2019.3.3 community on mac (  catalina)</p>\n\n<pre><code>IntelliJ IDEA =&gt; preferences\n\n\nBuild,Execution,Deployment=&gt;Compiler=&gt;Annotation Processors:\n</code></pre>\n\n<p>Check <code>Enable annotation Processing</code></p>\n"},{"tags":[],"owner":{"account_id":18139988,"reputation":91,"user_id":13193945,"display_name":"Manzil"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1635341250,"creation_date":1589976516,"answer_id":61912747,"question_id":17729384,"body_markdown":"i had this issue, just make sure\r\n\r\n 1. Lombok plugin is added.\r\n 2. Annotation processor is ticked.\r\n 3. In your build.gradle/ pom.xml, you have set lombok to be the annotation processor.\r\n\r\nEg. for gradle-&gt;\r\n\r\n&gt;     annotationProcessor &#39;org.projectlombok:lombok:1.18.12&#39;\r\n\r\n","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>i had this issue, just make sure</p>\n<ol>\n<li>Lombok plugin is added.</li>\n<li>Annotation processor is ticked.</li>\n<li>In your build.gradle/ pom.xml, you have set lombok to be the annotation processor.</li>\n</ol>\n<p>Eg. for gradle-&gt;</p>\n<blockquote>\n<pre><code>annotationProcessor 'org.projectlombok:lombok:1.18.12'\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19257570,"reputation":1,"user_id":14074124,"display_name":"felipes10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596971424,"creation_date":1596954180,"answer_id":63323139,"question_id":17729384,"body_markdown":"Actually the lombok is working (if you run the project even with the IDE red alerts, you will see the project will run without error), but the IDE is not recognizing all the resources generated by the lombok annotations. So you have to install the lombok plugin, that&#39;s all!","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>Actually the lombok is working (if you run the project even with the IDE red alerts, you will see the project will run without error), but the IDE is not recognizing all the resources generated by the lombok annotations. So you have to install the lombok plugin, that's all!</p>\n"},{"tags":[],"owner":{"account_id":7068406,"reputation":1404,"user_id":5410940,"accept_rate":100,"display_name":"Error Hunter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598612689,"creation_date":1598612689,"answer_id":63632563,"question_id":17729384,"body_markdown":"In my case, \r\n1. Lombok plugin was installed ✅\r\n2. Annotation processor was checked ✅\r\n\r\nbut still I was getting the error as lombok is incompatible and getter and setters was not recognized. \r\nwith further checking I found that recently my intelliJ version got upgraded and the old Lombok plugin is not compatible. \r\n\r\n\r\nGo to Preference  -&gt; Plugins -&gt; Search lombok and update \r\n\r\nOR \r\n\r\nGo to Preference  -&gt; Plugins -&gt; Search lombok-&gt; Uninstall restart IDE and install again from MarketPlace\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8eQ28.png","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>In my case,</p>\n<ol>\n<li>Lombok plugin was installed ✅</li>\n<li>Annotation processor was checked ✅</li>\n</ol>\n<p>but still I was getting the error as lombok is incompatible and getter and setters was not recognized.\nwith further checking I found that recently my intelliJ version got upgraded and the old Lombok plugin is not compatible.</p>\n<p>Go to Preference  -&gt; Plugins -&gt; Search lombok and update</p>\n<p>OR</p>\n<p>Go to Preference  -&gt; Plugins -&gt; Search lombok-&gt; Uninstall restart IDE and install again from MarketPlace</p>\n<p><a href=\"https://i.stack.imgur.com/8eQ28.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8eQ28.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599119826,"creation_date":1599119826,"answer_id":63719230,"question_id":17729384,"body_markdown":"Complete steps to fix or configure lombok.\r\n\r\n***1. Add dependency***\r\n\r\n&gt;     &lt;dependency&gt;\r\n&gt;     \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n&gt;     \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n&gt;     \t\t\t&lt;version&gt;1.18.8&lt;/version&gt;\r\n&gt;     \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n&gt;     \t\t&lt;/dependency&gt;\r\n\r\n***2. Install the plugin of Lombok for ide.***\r\nFile &gt; Settings &gt; Plugins &gt; Search (lombok) &gt; install\r\n\r\n***3.Ticking the &quot;Enable annotation processing&quot; checkbox using below steps:-***\r\n Settings-&gt;Compiler-&gt;Annotation Processors\r\n\r\n***4.Restart for change to take effect.***\r\n","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>Complete steps to fix or configure lombok.</p>\n<p><em><strong>1. Add dependency</strong></em></p>\n<blockquote>\n<pre><code>&lt;dependency&gt;\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n          &lt;version&gt;1.18.8&lt;/version&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<p><em><strong>2. Install the plugin of Lombok for ide.</strong></em>\nFile &gt; Settings &gt; Plugins &gt; Search (lombok) &gt; install</p>\n<p><em><strong>3.Ticking the &quot;Enable annotation processing&quot; checkbox using below steps:-</strong></em>\nSettings-&gt;Compiler-&gt;Annotation Processors</p>\n<p><em><strong>4.Restart for change to take effect.</strong></em></p>\n"},{"tags":[],"owner":{"account_id":14843816,"reputation":837,"user_id":10719720,"display_name":"saurabhshcs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608770577,"creation_date":1608770577,"answer_id":65432652,"question_id":17729384,"body_markdown":"In MacBook press command+, and then go to plug-in and search for Lombok and then install it. \r\n\r\nIt will work without restarting IntelliJ IDEA IDE if doesn&#39;t work then please try with restart.\r\n\r\nMany thanks","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>In MacBook press command+, and then go to plug-in and search for Lombok and then install it.</p>\n<p>It will work without restarting IntelliJ IDEA IDE if doesn't work then please try with restart.</p>\n<p>Many thanks</p>\n"},{"tags":[],"owner":{"account_id":3965515,"reputation":2640,"user_id":3271600,"accept_rate":27,"display_name":"GvSharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618726230,"creation_date":1618726230,"answer_id":67145652,"question_id":17729384,"body_markdown":"Two ways:\r\n 1. Check EnableAnnotationProcessing under setting=&gt;compiler\r\n 2. install lombok from plugins and restart IDE","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>Two ways:</p>\n<ol>\n<li>Check EnableAnnotationProcessing under setting=&gt;compiler</li>\n<li>install lombok from plugins and restart IDE</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14858535,"reputation":13,"user_id":10730219,"display_name":"venkat stark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629972479,"creation_date":1629972479,"answer_id":68936547,"question_id":17729384,"body_markdown":"In Linux,\r\n\r\nIf you&#39;re using gradle to add your Lombok dependency in IntelliJ, you might still face the issue even after following the two steps that others suggesting like,\r\n\r\n1. Enabling the **Enable annotation processing**, in **File**-&gt; **Settings**-&gt; **Build, Execution, Deployment**-&gt; **Compiler(Expand)**-&gt; **Annotation processors**.  \r\n2. Installing or Enabling(If already installed) Lombok in **File**-&gt; **Settings**-&gt; **Plugins**.\r\n\r\nAlong with this also add the following dependency in your **build.gradle** script under the dependency along with Lombok dependency.\r\n\r\n    dependency{\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.20&#39;\r\n    }\r\n\r\nChange the dependency version since this is the latest version as I&#39;m posting this.\r\n\r\n","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>In Linux,</p>\n<p>If you're using gradle to add your Lombok dependency in IntelliJ, you might still face the issue even after following the two steps that others suggesting like,</p>\n<ol>\n<li>Enabling the <strong>Enable annotation processing</strong>, in <strong>File</strong>-&gt; <strong>Settings</strong>-&gt; <strong>Build, Execution, Deployment</strong>-&gt; <strong>Compiler(Expand)</strong>-&gt; <strong>Annotation processors</strong>.</li>\n<li>Installing or Enabling(If already installed) Lombok in <strong>File</strong>-&gt; <strong>Settings</strong>-&gt; <strong>Plugins</strong>.</li>\n</ol>\n<p>Along with this also add the following dependency in your <strong>build.gradle</strong> script under the dependency along with Lombok dependency.</p>\n<pre><code>dependency{\n    annotationProcessor 'org.projectlombok:lombok:1.18.20'\n}\n</code></pre>\n<p>Change the dependency version since this is the latest version as I'm posting this.</p>\n"},{"tags":[],"owner":{"account_id":4431178,"reputation":121,"user_id":3608314,"display_name":"user3608314"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1645114442,"creation_date":1645113998,"answer_id":71161541,"question_id":17729384,"body_markdown":"I&#39;m using IntelliJ with Spring boot 2.5.9. Here are the following things I did:\r\n\r\n1. Added the Lombok Plugin \r\n2. Enabled annotation processing \r\n3. Add lombok dependency and annotationProcessor tag in build.gradle file or maven file. (*It worked for me after this step*)\r\n\r\nHere is my build.gradle file:\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.5.9&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>I'm using IntelliJ with Spring boot 2.5.9. Here are the following things I did:</p>\n<ol>\n<li>Added the Lombok Plugin</li>\n<li>Enabled annotation processing</li>\n<li>Add lombok dependency and annotationProcessor tag in build.gradle file or maven file. (<em>It worked for me after this step</em>)</li>\n</ol>\n<p>Here is my build.gradle file:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.9'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2640300,"reputation":1317,"user_id":2284107,"accept_rate":60,"display_name":"kAmol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659415265,"creation_date":1659415265,"answer_id":73202060,"question_id":17729384,"body_markdown":"In my case, plugin was installed and also the compiler preferences were set accordingly. I had to go to `Refactor (in toolbar, in line to file, edit etc) -&gt; Lombok menu -&gt; Default @Data` then `Build` or internally `mvn clean install&#39;.","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>In my case, plugin was installed and also the compiler preferences were set accordingly. I had to go to <code>Refactor (in toolbar, in line to file, edit etc) -&gt; Lombok menu -&gt; Default @Data</code> then <code>Build</code> or internally `mvn clean install'.</p>\n"},{"tags":[],"owner":{"account_id":3576183,"reputation":8143,"user_id":2985377,"accept_rate":75,"display_name":"Jason D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675802495,"creation_date":1675802495,"answer_id":75378780,"question_id":17729384,"body_markdown":"Similar to the accepted answers here, I found there was a bug in Lombok that only appeared in IntelliJ where it didn&#39;t generate the getters and setters for annotated fields; even when Lombok Annotations in IntelliJ were enabled. \r\n\r\nWhat worked for me was\r\n\r\n1) Update to Lombok 1.18 or higher\r\n\r\n2) Make a new file in project root with the value ```lombok.addLombokGeneratedAnnotations=true```\r\n\r\n3) Invalidate caches and restart, re-enable Lombok Annotations on the project if it&#39;s turned off on restart.\r\n\r\nAfter that, the project rebuilt and ran in the IDE successfully.","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>Similar to the accepted answers here, I found there was a bug in Lombok that only appeared in IntelliJ where it didn't generate the getters and setters for annotated fields; even when Lombok Annotations in IntelliJ were enabled.</p>\n<p>What worked for me was</p>\n<ol>\n<li><p>Update to Lombok 1.18 or higher</p>\n</li>\n<li><p>Make a new file in project root with the value <code>lombok.addLombokGeneratedAnnotations=true</code></p>\n</li>\n<li><p>Invalidate caches and restart, re-enable Lombok Annotations on the project if it's turned off on restart.</p>\n</li>\n</ol>\n<p>After that, the project rebuilt and ran in the IDE successfully.</p>\n"}],"owner":{"account_id":1064249,"reputation":4160,"user_id":1367948,"accept_rate":62,"display_name":"Don Quixote"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201044,"favorite_count":0,"down_vote_count":0,"up_vote_count":195,"accepted_answer_id":17729637,"answer_count":22,"score":195,"last_activity_date":1675802495,"creation_date":1374165817,"question_id":17729384,"body_markdown":"I am using IntelliJ IDEA on ubuntu. I added *lombok.jar* into my project and installed the Lombok plugin for IDEA. I have access to the annotations but the `getters` and `setters` aren&#39;t generated. I get the same errors I would get if I tried accessing a getter or setter method that doesn&#39;t exist. What could I be missing?","title":"Lombok added but getters and setters not recognized in Intellij IDEA","body":"<p>I am using IntelliJ IDEA on ubuntu. I added <em>lombok.jar</em> into my project and installed the Lombok plugin for IDEA. I have access to the annotations but the <code>getters</code> and <code>setters</code> aren't generated. I get the same errors I would get if I tried accessing a getter or setter method that doesn't exist. What could I be missing?</p>\n"},{"tags":["java","multithreading","spring-boot","hibernate","scheduled-tasks"],"answers":[{"tags":[],"owner":{"account_id":175912,"reputation":283,"user_id":406264,"display_name":"domgom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675802480,"creation_date":1675802480,"answer_id":75378778,"question_id":75377221,"body_markdown":"You could use a method annotated with @PreDestroy to invoke executorService.shutdown(). I wouldn&#39;t bother about the Parking State, you probably want those threads to be ready for the next invocation, so not really harmful that they are parked.\r\nNothing wrong with the code.","title":"How to close the thread after @Scheduled execution (Spring boot)","body":"<p>You could use a method annotated with @PreDestroy to invoke executorService.shutdown(). I wouldn't bother about the Parking State, you probably want those threads to be ready for the next invocation, so not really harmful that they are parked.\nNothing wrong with the code.</p>\n"}],"owner":{"account_id":20573497,"reputation":81,"user_id":15101302,"display_name":"Michael Bat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675802480,"creation_date":1675792580,"question_id":75377221,"body_markdown":"I have a project which executes multiple scheduled method at start up. \r\nI remarked that after scheduled methods are executed, the opened threads do not close, but remain in a &#39;parking&#39; state. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TQu2Z.png\r\n\r\nIs this a normal behavior ? \r\nAren&#39;t the threads suppose to close after method is executed ? (Because keeping multiple threads open just slows down the application and consumes more RAM.)\r\n\r\nHere are my code configurations: \r\n\r\n    @EnableScheduling\r\n    @Configuration\r\n    @ConditionalOnProperty(name = &quot;scheduling.enabled&quot;, matchIfMissing = true)\r\n    public class SchedulingConfiguration implements SchedulingConfigurer {\r\n    }\r\n\r\nHere is an example of method called in service: \r\n\r\n    @Scheduled(cron = &quot;0 0 4 * * *&quot;)\r\n    protected void updateExchangeRates() {\r\n        if (enablePostConstruct) {\r\n            countryService.updateCountryExchangeRates();\r\n        }\r\n    }\r\n\r\nI would like to run the scheduled methods asynchronously, with a max thread pool consumed between 10-15 threads. And after execution, the thread to close and reopen in case it got to the point when it needs to be executed again. \r\n\r\nCan you guide me please how this can be achieved ? \r\nI tried to implement **SchedulingConfigurer** and perform executorService.shutdown(), but it did not work. \r\n","title":"How to close the thread after @Scheduled execution (Spring boot)","body":"<p>I have a project which executes multiple scheduled method at start up.\nI remarked that after scheduled methods are executed, the opened threads do not close, but remain in a 'parking' state.</p>\n<p><a href=\"https://i.stack.imgur.com/TQu2Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TQu2Z.png\" alt=\"enter image description here\" /></a></p>\n<p>Is this a normal behavior ?\nAren't the threads suppose to close after method is executed ? (Because keeping multiple threads open just slows down the application and consumes more RAM.)</p>\n<p>Here are my code configurations:</p>\n<pre><code>@EnableScheduling\n@Configuration\n@ConditionalOnProperty(name = &quot;scheduling.enabled&quot;, matchIfMissing = true)\npublic class SchedulingConfiguration implements SchedulingConfigurer {\n}\n</code></pre>\n<p>Here is an example of method called in service:</p>\n<pre><code>@Scheduled(cron = &quot;0 0 4 * * *&quot;)\nprotected void updateExchangeRates() {\n    if (enablePostConstruct) {\n        countryService.updateCountryExchangeRates();\n    }\n}\n</code></pre>\n<p>I would like to run the scheduled methods asynchronously, with a max thread pool consumed between 10-15 threads. And after execution, the thread to close and reopen in case it got to the point when it needs to be executed again.</p>\n<p>Can you guide me please how this can be achieved ?\nI tried to implement <strong>SchedulingConfigurer</strong> and perform executorService.shutdown(), but it did not work.</p>\n"},{"tags":["java","angular","security","spring-security","session-cookies"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675802276,"creation_date":1675629747,"answer_id":75355369,"question_id":75354647,"body_markdown":"&gt; Edit: I assume that sending the session directly into Angular (in REST, not in cookie) is really unsafe, right? I currently rely on cookies.\r\n\r\nYou are right, this is a bad idea. For sessions in an application running in a browser, only use cookies with those two flag raised (value=`true`):\r\n- `secure` (exchanged only over https)\r\n- `http-only` (hidden from Javascript).\r\n\r\nThis means that cookies should not be accessible to the Angular code but automatically set by the browser before sending requests to the backend.\r\n\r\nYou should also implement CSRF protection (which is the default in spring-security).\r\n\r\n&gt; Edit 2: ffs, I&#39;m sick of it, I&#39;m just going to do oauth2 authentication.\r\n\r\nGood idea. This is much better for security, user experience (SSO), and developper experience: most OIDC providers, either on premise (like Keycloak), or in the cloud (like Auth0, Cognito, and many others), already provide with login forms (including **M**ulti **F**actor **A**uthentication), user registration, profile edition, administration screens (like clients declaration, user roles assignement, etc.). For that: \r\n- configure your Spring REST API as a resource-server. I have written tutorials for this [there][1]\r\n- configure your Angular app either as: \r\n  * an OAuth2 client. My favorite certified lib for Angular is [angular-auth-oidc-client][2]\r\n  * a BFF client. **B**ackend **F**or **F**rontend is a pattern where a server-side middleware serves as the only OAuth2 client to hide tokens from the browser. Angular app won&#39;t be OAuth2: it will be secured with sessions (haha! your devil is back ;-), the middleware (something like spring-cloud-gateway with `tokenRelay` filter) will keep this session, associate tokens to it and replace sessions with tokens before forwarding requests to resource-server. [Tutorial there][3].\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\r\n  [2]: https://github.com/damienbod/angular-auth-oidc-client\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff","title":"How to authenticate via session in the Spring Security from Angular?","body":"<blockquote>\n<p>Edit: I assume that sending the session directly into Angular (in REST, not in cookie) is really unsafe, right? I currently rely on cookies.</p>\n</blockquote>\n<p>You are right, this is a bad idea. For sessions in an application running in a browser, only use cookies with those two flag raised (value=<code>true</code>):</p>\n<ul>\n<li><code>secure</code> (exchanged only over https)</li>\n<li><code>http-only</code> (hidden from Javascript).</li>\n</ul>\n<p>This means that cookies should not be accessible to the Angular code but automatically set by the browser before sending requests to the backend.</p>\n<p>You should also implement CSRF protection (which is the default in spring-security).</p>\n<blockquote>\n<p>Edit 2: ffs, I'm sick of it, I'm just going to do oauth2 authentication.</p>\n</blockquote>\n<p>Good idea. This is much better for security, user experience (SSO), and developper experience: most OIDC providers, either on premise (like Keycloak), or in the cloud (like Auth0, Cognito, and many others), already provide with login forms (including <strong>M</strong>ulti <strong>F</strong>actor <strong>A</strong>uthentication), user registration, profile edition, administration screens (like clients declaration, user roles assignement, etc.). For that:</p>\n<ul>\n<li>configure your Spring REST API as a resource-server. I have written tutorials for this <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">there</a></li>\n<li>configure your Angular app either as:\n<ul>\n<li>an OAuth2 client. My favorite certified lib for Angular is <a href=\"https://github.com/damienbod/angular-auth-oidc-client\" rel=\"nofollow noreferrer\">angular-auth-oidc-client</a></li>\n<li>a BFF client. <strong>B</strong>ackend <strong>F</strong>or <strong>F</strong>rontend is a pattern where a server-side middleware serves as the only OAuth2 client to hide tokens from the browser. Angular app won't be OAuth2: it will be secured with sessions (haha! your devil is back ;-), the middleware (something like spring-cloud-gateway with <code>tokenRelay</code> filter) will keep this session, associate tokens to it and replace sessions with tokens before forwarding requests to resource-server. <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff\" rel=\"nofollow noreferrer\">Tutorial there</a>.</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":25671794,"reputation":3,"user_id":19435911,"display_name":"JustZed32"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75355369,"answer_count":1,"score":0,"last_activity_date":1675802276,"creation_date":1675622479,"question_id":75354647,"body_markdown":"So I have an Angular frontend application, and a Spring backend. Currently, it seems that I have a cookie of JSessionId on my application (which I receive only on login, and not on register, for whatever reason)\r\n[(cookies)](https://i.stack.imgur.com/YVeKm.png)\r\n\r\nI assume it sends those cookies back to the server. (though that&#39;s only an assumption)\r\n\r\nNow, when I am making a request to the protected server, the only thing I get is this &quot;Please login&quot; popup.\r\n[Login popup](https://i.stack.imgur.com/SEH5z.png)\r\n\r\nWhen I log in, my [UserService](https://i.stack.imgur.com/Fvt38.png) logs a user with such details:\r\n\r\n```\r\nUsernamePasswordAuthenticationToken [Principal=User(userId=1, name=Maksym Riabov, username=MRiabov, password={bcrypt}$2a$10$W0XJRQdfxV5XXORkr2bTluIHvFetIVBzmVp51l39T5zLCQk12RV1i, company=null, enabled=true), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]\r\n```\r\n\r\n\r\nAnd what I&#39;ve noticed is that the sessionId is null there. Why could that be?\r\n\r\n\r\nTo answer some of the questions forward:\r\n\r\n- Yes, I&#39;ve pasted {withCredentials: true} to every request. (specific to Angular)\r\n- Yes, I&#39;ve read documentation - I&#39;ve even tried pasting all the code from it and it seems that it didn&#39;t work.\r\n\r\n\r\n\r\nMy login controller:\r\n\r\n```\r\n@GetMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;String&gt; login() {\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n        return ResponseEntity.ok(&quot;123123&quot;);\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;Map&lt;String, String&gt;&gt; register(@RequestBody UserRegisterDto userDto) {\r\n        //todo check if name taken\r\n        User user = userMapper.toEntity2(userDto);\r\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\r\n        user.setEnabled(true);\r\n        //todo remove\r\n        Authority authority = authorityRepository.save(new Authority(&quot;ADMIN&quot;));\r\n        user.setAuthorities(Set.of(authority));\r\n        //todo REMOVE!!!!\r\n\r\n        User savedUser = userRepository.save(user);\r\n        System.out.println(&quot;registration works!&quot;);\r\n\r\n        return ResponseEntity.ok(Map.of(&quot;result&quot;,authority.getAuthority().getAuthority()));\r\n    }\r\n```\r\nNow, I am sending a request to the backend (which puts the popup above) like this one:\r\n```\r\n@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n    @GetMapping(&quot;/create&quot;)\r\n    public ResponseEntity&lt;OnboardingPathDto&gt; createOnboardingPath() {\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n        // erased a bit of code here\r\n        return ResponseEntity.ok().build();\r\n```\r\n\r\n\r\nAnd as you see I have a method security, which throws the request for auth.\r\n\r\nAnd, the cherry at the top:\r\n\r\n\r\n```\r\n@Component\r\n@EnableWebSecurity\r\n@EnableMethodSecurity(securedEnabled = true, jsr250Enabled = true)\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http, UserDetailsService userDetailsService) throws Exception {\r\n        http\r\n                .csrf().disable().cors().disable()\r\n                .authorizeHttpRequests() \r\n                .anyRequest().permitAll() //todo this is unsafe\r\n                .and().sessionManagement(session -&gt; session.\r\n                        sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\r\n                        .maximumSessions(1))//to force only one session per user\r\n     //here I tried sessionManagement to do something, but did it do something?\r\n                .rememberMe((rememberMe) -&gt; rememberMe.userDetailsService(userDetailsService))\r\n                .httpBasic(); \r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(DaoAuthenticationProvider daoAuthenticationProvider) throws Exception {\r\n        return new ProviderManager(daoAuthenticationProvider);\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider prov(PasswordEncoder passwordEncoder, UserDetailsService userDetailService) throws Exception {\r\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\r\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder);\r\n        daoAuthenticationProvider.setUserDetailsService(userDetailService);\r\n        return daoAuthenticationProvider;\r\n    }\r\n    \r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public HttpSessionEventPublisher httpSessionEventPublisher() {//to force only one session per user\r\n        return new HttpSessionEventPublisher();\r\n    }\r\n```\r\n\r\nI&#39;ve read through the Spring Security documentation far and wide, and even have taken a course in it, but I still couldn&#39;t manage to get it working.\r\n \r\nSo, what I&#39;m struggling with:\r\n\r\n- Why can&#39;t Spring authenticate through the session even though it is configured to do so? Where is my error?\r\n  -\r\n\r\nEdit: I assume that sending the session directly into Angular (in REST, not in cookie) is really unsafe, right? I currently rely on cookies.\r\n\r\nEdit 2: ffs, I&#39;m sick of it, I&#39;m just going to do oauth2 authentication.\r\n","title":"How to authenticate via session in the Spring Security from Angular?","body":"<p>So I have an Angular frontend application, and a Spring backend. Currently, it seems that I have a cookie of JSessionId on my application (which I receive only on login, and not on register, for whatever reason)\n<a href=\"https://i.stack.imgur.com/YVeKm.png\" rel=\"nofollow noreferrer\">(cookies)</a></p>\n<p>I assume it sends those cookies back to the server. (though that's only an assumption)</p>\n<p>Now, when I am making a request to the protected server, the only thing I get is this &quot;Please login&quot; popup.\n<a href=\"https://i.stack.imgur.com/SEH5z.png\" rel=\"nofollow noreferrer\">Login popup</a></p>\n<p>When I log in, my <a href=\"https://i.stack.imgur.com/Fvt38.png\" rel=\"nofollow noreferrer\">UserService</a> logs a user with such details:</p>\n<pre><code>UsernamePasswordAuthenticationToken [Principal=User(userId=1, name=Maksym Riabov, username=MRiabov, password={bcrypt}$2a$10$W0XJRQdfxV5XXORkr2bTluIHvFetIVBzmVp51l39T5zLCQk12RV1i, company=null, enabled=true), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]\n</code></pre>\n<p>And what I've noticed is that the sessionId is null there. Why could that be?</p>\n<p>To answer some of the questions forward:</p>\n<ul>\n<li>Yes, I've pasted {withCredentials: true} to every request. (specific to Angular)</li>\n<li>Yes, I've read documentation - I've even tried pasting all the code from it and it seems that it didn't work.</li>\n</ul>\n<p>My login controller:</p>\n<pre><code>@GetMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;String&gt; login() {\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        return ResponseEntity.ok(&quot;123123&quot;);\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;Map&lt;String, String&gt;&gt; register(@RequestBody UserRegisterDto userDto) {\n        //todo check if name taken\n        User user = userMapper.toEntity2(userDto);\n        user.setPassword(passwordEncoder.encode(user.getPassword()));\n        user.setEnabled(true);\n        //todo remove\n        Authority authority = authorityRepository.save(new Authority(&quot;ADMIN&quot;));\n        user.setAuthorities(Set.of(authority));\n        //todo REMOVE!!!!\n\n        User savedUser = userRepository.save(user);\n        System.out.println(&quot;registration works!&quot;);\n\n        return ResponseEntity.ok(Map.of(&quot;result&quot;,authority.getAuthority().getAuthority()));\n    }\n</code></pre>\n<p>Now, I am sending a request to the backend (which puts the popup above) like this one:</p>\n<pre><code>@PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n    @GetMapping(&quot;/create&quot;)\n    public ResponseEntity&lt;OnboardingPathDto&gt; createOnboardingPath() {\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        // erased a bit of code here\n        return ResponseEntity.ok().build();\n</code></pre>\n<p>And as you see I have a method security, which throws the request for auth.</p>\n<p>And, the cherry at the top:</p>\n<pre><code>@Component\n@EnableWebSecurity\n@EnableMethodSecurity(securedEnabled = true, jsr250Enabled = true)\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http, UserDetailsService userDetailsService) throws Exception {\n        http\n                .csrf().disable().cors().disable()\n                .authorizeHttpRequests() \n                .anyRequest().permitAll() //todo this is unsafe\n                .and().sessionManagement(session -&gt; session.\n                        sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\n                        .maximumSessions(1))//to force only one session per user\n     //here I tried sessionManagement to do something, but did it do something?\n                .rememberMe((rememberMe) -&gt; rememberMe.userDetailsService(userDetailsService))\n                .httpBasic(); \n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(DaoAuthenticationProvider daoAuthenticationProvider) throws Exception {\n        return new ProviderManager(daoAuthenticationProvider);\n    }\n\n    @Bean\n    public DaoAuthenticationProvider prov(PasswordEncoder passwordEncoder, UserDetailsService userDetailService) throws Exception {\n        DaoAuthenticationProvider daoAuthenticationProvider = new DaoAuthenticationProvider();\n        daoAuthenticationProvider.setPasswordEncoder(passwordEncoder);\n        daoAuthenticationProvider.setUserDetailsService(userDetailService);\n        return daoAuthenticationProvider;\n    }\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\n    }\n\n    @Bean\n    public HttpSessionEventPublisher httpSessionEventPublisher() {//to force only one session per user\n        return new HttpSessionEventPublisher();\n    }\n</code></pre>\n<p>I've read through the Spring Security documentation far and wide, and even have taken a course in it, but I still couldn't manage to get it working.</p>\n<p>So, what I'm struggling with:</p>\n<ul>\n<li><h2>Why can't Spring authenticate through the session even though it is configured to do so? Where is my error?</h2>\n</li>\n</ul>\n<p>Edit: I assume that sending the session directly into Angular (in REST, not in cookie) is really unsafe, right? I currently rely on cookies.</p>\n<p>Edit 2: ffs, I'm sick of it, I'm just going to do oauth2 authentication.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1524001645,"post_id":49887953,"comment_id":86792008,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1524033097,"creation_date":1524001992,"answer_id":49888055,"question_id":49887953,"body_markdown":"    listOfData.stream()\r\n              .flatMap(e -&gt; e.entrySet().stream())\r\n              .collect(Collectors.groupingBy(Map.Entry::getKey, \r\n                             Collectors.mapping(Map.Entry::getValue, \r\n                                        Collectors.toList())));\r\n\r\n**update:**\r\n\r\nSlightly different variant to [`user1692342`&#39;s][1] answer for completeness. \r\n\r\n    list.stream()\r\n        .map(e -&gt; Arrays.asList(e.get(&quot;Role&quot;), e.get(&quot;Name&quot;)))\r\n        .collect(Collectors.groupingBy(e -&gt; e.get(0),\r\n                 Collectors.mapping(e -&gt; e.get(1), Collectors.toList())));\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/49887953/java-8-stream-to-collect-a-map-of-list-of-items/49889657#49889657","title":"Java 8 stream to collect a Map of List of items","body":"<pre><code>listOfData.stream()\n          .flatMap(e -&gt; e.entrySet().stream())\n          .collect(Collectors.groupingBy(Map.Entry::getKey, \n                         Collectors.mapping(Map.Entry::getValue, \n                                    Collectors.toList())));\n</code></pre>\n\n<p><strong>update:</strong></p>\n\n<p>Slightly different variant to <a href=\"https://stackoverflow.com/questions/49887953/java-8-stream-to-collect-a-map-of-list-of-items/49889657#49889657\"><code>user1692342</code>'s</a> answer for completeness. </p>\n\n<pre><code>list.stream()\n    .map(e -&gt; Arrays.asList(e.get(\"Role\"), e.get(\"Name\")))\n    .collect(Collectors.groupingBy(e -&gt; e.get(0),\n             Collectors.mapping(e -&gt; e.get(1), Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1869832,"reputation":5089,"user_id":1692342,"accept_rate":61,"display_name":"user1692342"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1524014118,"creation_date":1524014118,"answer_id":49889657,"question_id":49887953,"body_markdown":"Based on the idea given by Aomine:\r\n\r\n    list.stream()\r\n        .map(e -&gt; new AbstractMap.SimpleEntry&lt;&gt;(e.get(&quot;Role&quot;), e.get(&quot;Name&quot;)))\r\n        .collect(Collectors.groupingBy(Map.Entry::getKey,\r\n                        Collectors.mapping(Map.Entry::getValue, Collectors.toList())));","title":"Java 8 stream to collect a Map of List of items","body":"<p>Based on the idea given by Aomine:</p>\n\n<pre><code>list.stream()\n    .map(e -&gt; new AbstractMap.SimpleEntry&lt;&gt;(e.get(\"Role\"), e.get(\"Name\")))\n    .collect(Collectors.groupingBy(Map.Entry::getKey,\n                    Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17685171,"reputation":141,"user_id":12838225,"display_name":"user12838225"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1612444499,"creation_date":1580810533,"answer_id":60054920,"question_id":49887953,"body_markdown":"The [Collectors](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html) class provides convenience methods in the form of i.e. [groupingBy](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-) which allow to group similar objects by a certain classifier. The classifier method is the input to that particular grouping function. This function will generate a Map with the respective classifier methods value as key and a list of objects that share the same classifier method value as value.\r\n\r\nTherefore a code like\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Map&lt;String, List&lt;Person&gt;&gt; roles2Persons = \r\n        lis.stream().collect(Collectors.groupingBy(Person::getRole));\r\n\r\nwill generate a mapping for the respective roles `Person` objects may fulfill to a list of `Person` objects that share the same role as the key in the map.\r\n\r\nAfter the above collector was applied the resulting map will contain the desired form of\r\n\r\n    key1: Batsman, values: List(Player1, Player2)\r\n    key2: Bowler, values: List(Player3)","title":"Java 8 stream to collect a Map of List of items","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"noreferrer\">Collectors</a> class provides convenience methods in the form of i.e. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-\" rel=\"noreferrer\">groupingBy</a> which allow to group similar objects by a certain classifier. The classifier method is the input to that particular grouping function. This function will generate a Map with the respective classifier methods value as key and a list of objects that share the same classifier method value as value.</p>\n<p>Therefore a code like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;Person&gt;&gt; roles2Persons = \n    lis.stream().collect(Collectors.groupingBy(Person::getRole));\n</code></pre>\n<p>will generate a mapping for the respective roles <code>Person</code> objects may fulfill to a list of <code>Person</code> objects that share the same role as the key in the map.</p>\n<p>After the above collector was applied the resulting map will contain the desired form of</p>\n<pre><code>key1: Batsman, values: List(Player1, Player2)\nkey2: Bowler, values: List(Player3)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675802243,"creation_date":1675791518,"answer_id":75377044,"question_id":49887953,"body_markdown":"Here is a generic approach to this problem. The `groupBy` method below takes 2 to 3 arguments.\r\n\r\n1. A `collection` of type `List&lt;E&gt;`\r\n2. A `keyFn` (key) of type `Function&lt;E, K&gt;`\r\n3. (Optional) A `valueFn` (value) of type `Function&lt;E, V&gt;` or simply `E`\r\n\r\nI included some unit tests below.\r\n\r\n## CollectionUtils.java\r\n\r\n```java\r\npackage org.example.util;\r\n\r\nimport static java.util.Collections.unmodifiableMap;\r\nimport static java.util.stream.Collectors.*;\r\n\r\nimport java.util.*;\r\nimport java.util.AbstractMap.SimpleEntry;\r\nimport java.util.Map.Entry;\r\nimport java.util.function.Function;\r\n\r\npublic class CollectionUtils {\r\n  public static &lt;E, K, V&gt; Map&lt;K, List&lt;V&gt;&gt; groupBy(\r\n      Collection&lt;E&gt; collection, Function&lt;E, K&gt; keyFn, Function&lt;E, V&gt; valueFn) {\r\n    return collection.stream()\r\n        .map(item -&gt; new SimpleEntry&lt;K, V&gt;(keyFn.apply(item), valueFn.apply(item)))\r\n        .collect(groupingBy(Entry::getKey, mapping(Entry::getValue, toList())));\r\n  }\r\n\r\n  public static &lt;E, K&gt; Map&lt;K, List&lt;E&gt;&gt; groupBy(Collection&lt;E&gt; collection, Function&lt;E, K&gt; keyFn) {\r\n    return groupBy(collection, keyFn, Function.identity());\r\n  }\r\n\r\n  public static &lt;K, V&gt; Map&lt;K, V&gt; immutableMapOf(K k1, V v1, K k2, V v2) {\r\n    Map&lt;K, V&gt; mutableMap = new HashMap&lt;&gt;();\r\n    mutableMap.put(k1, v1);\r\n    mutableMap.put(k2, v2);\r\n    return unmodifiableMap(mutableMap);\r\n  }\r\n}\r\n```\r\n\r\n## CollectionUtilsTest.java\r\n\r\n```java\r\npackage org.example.util;\r\n\r\nimport static java.util.Arrays.asList;\r\nimport static org.example.util.CollectionUtils.*;\r\nimport static org.junit.Assert.*;\r\n\r\nimport java.util.*;\r\nimport org.junit.Test;\r\nimport org.slf4j.*;\r\n\r\npublic class CollectionUtilsTest {\r\n\r\n  private static final Logger logger = LoggerFactory.getLogger(CollectionUtilsTest.class);\r\n\r\n  private static final List&lt;Map&lt;String, String&gt;&gt; data =\r\n      asList(\r\n          immutableMapOf(&quot;Username&quot;, &quot;Batman&quot;, &quot;Role&quot;, &quot;Leader&quot;),\r\n          immutableMapOf(&quot;Username&quot;, &quot;Robin&quot;, &quot;Role&quot;, &quot;Subordinate&quot;),\r\n          immutableMapOf(&quot;Username&quot;, &quot;Superman&quot;, &quot;Role&quot;, &quot;Leader&quot;));\r\n\r\n  @Test\r\n  public void testGroupBy() {\r\n    logger.info(&quot;Test groupBy(Collection&lt;E&gt;, Function&lt;E, K&gt;, Function&lt;E, V&gt;)&quot;);\r\n    Map&lt;String, List&lt;String&gt;&gt; grouped = groupBy(data, m -&gt; m.get(&quot;Role&quot;), m -&gt; m.get(&quot;Username&quot;));\r\n\r\n    logger.info(&quot;Checking keys...&quot;);\r\n    assertNotNull(grouped.get(&quot;Leader&quot;));\r\n    assertNotNull(grouped.get(&quot;Subordinate&quot;));\r\n\r\n    logger.info(&quot;Checking values...&quot;);\r\n    assertEquals(&quot;Batman&quot;, grouped.get(&quot;Leader&quot;).get(0));\r\n    assertEquals(&quot;Superman&quot;, grouped.get(&quot;Leader&quot;).get(1));\r\n    assertEquals(&quot;Robin&quot;, grouped.get(&quot;Subordinate&quot;).get(0));\r\n  }\r\n\r\n  @Test\r\n  public void testGroupBySimple() {\r\n    logger.info(&quot;Test groupBy(Collection&lt;E&gt;, Function&lt;E, K&gt;)&quot;);\r\n    Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; grouped = groupBy(data, m -&gt; m.get(&quot;Role&quot;));\r\n\r\n    logger.info(&quot;Checking keys...&quot;);\r\n    assertNotNull(grouped.get(&quot;Leader&quot;));\r\n    assertNotNull(grouped.get(&quot;Subordinate&quot;));\r\n\r\n    logger.info(&quot;Checking values...&quot;);\r\n    assertEquals(&quot;Batman&quot;, grouped.get(&quot;Leader&quot;).get(0).get(&quot;Username&quot;));\r\n    assertEquals(&quot;Superman&quot;, grouped.get(&quot;Leader&quot;).get(1).get(&quot;Username&quot;));\r\n    assertEquals(&quot;Robin&quot;, grouped.get(&quot;Subordinate&quot;).get(0).get(&quot;Username&quot;));\r\n  }\r\n}\r\n```","title":"Java 8 stream to collect a Map of List of items","body":"<p>Here is a generic approach to this problem. The <code>groupBy</code> method below takes 2 to 3 arguments.</p>\n<ol>\n<li>A <code>collection</code> of type <code>List&lt;E&gt;</code></li>\n<li>A <code>keyFn</code> (key) of type <code>Function&lt;E, K&gt;</code></li>\n<li>(Optional) A <code>valueFn</code> (value) of type <code>Function&lt;E, V&gt;</code> or simply <code>E</code></li>\n</ol>\n<p>I included some unit tests below.</p>\n<h2>CollectionUtils.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.util;\n\nimport static java.util.Collections.unmodifiableMap;\nimport static java.util.stream.Collectors.*;\n\nimport java.util.*;\nimport java.util.AbstractMap.SimpleEntry;\nimport java.util.Map.Entry;\nimport java.util.function.Function;\n\npublic class CollectionUtils {\n  public static &lt;E, K, V&gt; Map&lt;K, List&lt;V&gt;&gt; groupBy(\n      Collection&lt;E&gt; collection, Function&lt;E, K&gt; keyFn, Function&lt;E, V&gt; valueFn) {\n    return collection.stream()\n        .map(item -&gt; new SimpleEntry&lt;K, V&gt;(keyFn.apply(item), valueFn.apply(item)))\n        .collect(groupingBy(Entry::getKey, mapping(Entry::getValue, toList())));\n  }\n\n  public static &lt;E, K&gt; Map&lt;K, List&lt;E&gt;&gt; groupBy(Collection&lt;E&gt; collection, Function&lt;E, K&gt; keyFn) {\n    return groupBy(collection, keyFn, Function.identity());\n  }\n\n  public static &lt;K, V&gt; Map&lt;K, V&gt; immutableMapOf(K k1, V v1, K k2, V v2) {\n    Map&lt;K, V&gt; mutableMap = new HashMap&lt;&gt;();\n    mutableMap.put(k1, v1);\n    mutableMap.put(k2, v2);\n    return unmodifiableMap(mutableMap);\n  }\n}\n</code></pre>\n<h2>CollectionUtilsTest.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.util;\n\nimport static java.util.Arrays.asList;\nimport static org.example.util.CollectionUtils.*;\nimport static org.junit.Assert.*;\n\nimport java.util.*;\nimport org.junit.Test;\nimport org.slf4j.*;\n\npublic class CollectionUtilsTest {\n\n  private static final Logger logger = LoggerFactory.getLogger(CollectionUtilsTest.class);\n\n  private static final List&lt;Map&lt;String, String&gt;&gt; data =\n      asList(\n          immutableMapOf(&quot;Username&quot;, &quot;Batman&quot;, &quot;Role&quot;, &quot;Leader&quot;),\n          immutableMapOf(&quot;Username&quot;, &quot;Robin&quot;, &quot;Role&quot;, &quot;Subordinate&quot;),\n          immutableMapOf(&quot;Username&quot;, &quot;Superman&quot;, &quot;Role&quot;, &quot;Leader&quot;));\n\n  @Test\n  public void testGroupBy() {\n    logger.info(&quot;Test groupBy(Collection&lt;E&gt;, Function&lt;E, K&gt;, Function&lt;E, V&gt;)&quot;);\n    Map&lt;String, List&lt;String&gt;&gt; grouped = groupBy(data, m -&gt; m.get(&quot;Role&quot;), m -&gt; m.get(&quot;Username&quot;));\n\n    logger.info(&quot;Checking keys...&quot;);\n    assertNotNull(grouped.get(&quot;Leader&quot;));\n    assertNotNull(grouped.get(&quot;Subordinate&quot;));\n\n    logger.info(&quot;Checking values...&quot;);\n    assertEquals(&quot;Batman&quot;, grouped.get(&quot;Leader&quot;).get(0));\n    assertEquals(&quot;Superman&quot;, grouped.get(&quot;Leader&quot;).get(1));\n    assertEquals(&quot;Robin&quot;, grouped.get(&quot;Subordinate&quot;).get(0));\n  }\n\n  @Test\n  public void testGroupBySimple() {\n    logger.info(&quot;Test groupBy(Collection&lt;E&gt;, Function&lt;E, K&gt;)&quot;);\n    Map&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; grouped = groupBy(data, m -&gt; m.get(&quot;Role&quot;));\n\n    logger.info(&quot;Checking keys...&quot;);\n    assertNotNull(grouped.get(&quot;Leader&quot;));\n    assertNotNull(grouped.get(&quot;Subordinate&quot;));\n\n    logger.info(&quot;Checking values...&quot;);\n    assertEquals(&quot;Batman&quot;, grouped.get(&quot;Leader&quot;).get(0).get(&quot;Username&quot;));\n    assertEquals(&quot;Superman&quot;, grouped.get(&quot;Leader&quot;).get(1).get(&quot;Username&quot;));\n    assertEquals(&quot;Robin&quot;, grouped.get(&quot;Subordinate&quot;).get(0).get(&quot;Username&quot;));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1869832,"reputation":5089,"user_id":1692342,"accept_rate":61,"display_name":"user1692342"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56186,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":49889657,"answer_count":4,"score":30,"last_activity_date":1675802243,"creation_date":1524001494,"question_id":49887953,"body_markdown":"I have a List of Maps which stores the roles and the names of people. For ex:\r\n\r\n    List&lt;Map&lt;String, String&gt;&gt; listOfData\r\n\r\n    1) Role:  Batsman\r\n       Name:  Player1\r\n    \r\n    2)Role:  Batsman\r\n       Name:  Player2\r\n    \r\n    3)Role:  Bowler\r\n       Name:  Player3\r\n\r\n\r\nRole and Name are the Keys of the map.\r\nI want to convert this into a `Map&lt;String, List&lt;String&gt;&gt; result`, which will give me a list of names for each role, i.e\r\n\r\n    k1: Batsman  v1: [Player1, Player2]\r\n    k2: Bowler   v2: [Player3]\r\n\r\n\r\n    listOfData\r\n    \t.stream()\r\n    \t.map(entry -&gt; new AbstractMap.SimpleEntry&lt;&gt;(entry.get(&quot;Role&quot;), entry.get(&quot;Name&quot;))\r\n    \t.collect(Collectors.toList());\r\n\r\nDoing this way will not give me a list of names for the role, it will give me a single name. How do i keep collecting the elements of the list and then add it to a key ?\r\n\r\nJava code to create base structure:\r\n\r\n    Map&lt;String, String&gt; x1 = ImmutableMap.of(&quot;Role&quot;, &quot;Batsman&quot;, &quot;Name&quot;, &quot;Player1&quot;);\r\n    \r\n            Map&lt;String, String&gt; y1 = ImmutableMap.of(&quot;Role&quot;, &quot;Batsman&quot;, &quot;Name&quot;, &quot;Player2&quot;);\r\n    \r\n            Map&lt;String, String&gt; z1 = ImmutableMap.of(&quot;Role&quot;, &quot;Bowler&quot;, &quot;Name&quot;, &quot;Player3&quot;);\r\n    \r\n    \r\n            List&lt;Map&lt;String, String&gt;&gt; list = ImmutableList.of(x1, y1, z1);\r\n            Map&lt;String, List&lt;String&gt;&gt; z = list.stream()\r\n                        .flatMap(e -&gt; e.entrySet().stream())\r\n                        .collect(Collectors.groupingBy(Map.Entry::getKey,\r\n                                Collectors.mapping(Map.Entry::getValue, Collectors.toList())));","title":"Java 8 stream to collect a Map of List of items","body":"<p>I have a List of Maps which stores the roles and the names of people. For ex:</p>\n\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; listOfData\n\n1) Role:  Batsman\n   Name:  Player1\n\n2)Role:  Batsman\n   Name:  Player2\n\n3)Role:  Bowler\n   Name:  Player3\n</code></pre>\n\n<p>Role and Name are the Keys of the map.\nI want to convert this into a <code>Map&lt;String, List&lt;String&gt;&gt; result</code>, which will give me a list of names for each role, i.e</p>\n\n<pre><code>k1: Batsman  v1: [Player1, Player2]\nk2: Bowler   v2: [Player3]\n\n\nlistOfData\n    .stream()\n    .map(entry -&gt; new AbstractMap.SimpleEntry&lt;&gt;(entry.get(\"Role\"), entry.get(\"Name\"))\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>Doing this way will not give me a list of names for the role, it will give me a single name. How do i keep collecting the elements of the list and then add it to a key ?</p>\n\n<p>Java code to create base structure:</p>\n\n<pre><code>Map&lt;String, String&gt; x1 = ImmutableMap.of(\"Role\", \"Batsman\", \"Name\", \"Player1\");\n\n        Map&lt;String, String&gt; y1 = ImmutableMap.of(\"Role\", \"Batsman\", \"Name\", \"Player2\");\n\n        Map&lt;String, String&gt; z1 = ImmutableMap.of(\"Role\", \"Bowler\", \"Name\", \"Player3\");\n\n\n        List&lt;Map&lt;String, String&gt;&gt; list = ImmutableList.of(x1, y1, z1);\n        Map&lt;String, List&lt;String&gt;&gt; z = list.stream()\n                    .flatMap(e -&gt; e.entrySet().stream())\n                    .collect(Collectors.groupingBy(Map.Entry::getKey,\n                            Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\n</code></pre>\n"},{"tags":["java","spring","esapi"],"comments":[{"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"score":0,"creation_date":1676932417,"post_id":75378715,"comment_id":133233238,"body_markdown":"Before I attempt to answer, why are you using ESAPI&#39;s Encoder.encodeForSQL() here rather than just using PreparedStatement and bound parameterized types? That&#39;s the preferred way. The encodeForSQL() method is a last resort. See the javadoc at https://www.javadoc.io/doc/org.owasp.esapi/esapi/latest/org/owasp/esapi/Encoder.html#encodeForSQL-org.owasp.esapi.codecs.Codec-java.lang.String-","body":"Before I attempt to answer, why are you using ESAPI&#39;s Encoder.encodeForSQL() here rather than just using PreparedStatement and bound parameterized types? That&#39;s the preferred way. The encodeForSQL() method is a last resort. See the javadoc at <a href=\"https://www.javadoc.io/doc/org.owasp.esapi/esapi/latest/org/owasp/esapi/Encoder.html#encodeForSQL-org.owasp.esapi.codecs.Codec-java.lang.String-\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.owasp.esapi/esapi/latest/org/owasp/esapi/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"score":0,"creation_date":1676932570,"post_id":75378715,"comment_id":133233268,"body_markdown":"Also, assuming there&#39;s a reason way PreparedStatement won&#39;t work, in order for us to diagnose this, we will need the COMPLETE exception stack trace. There&#39;s likely to be a &#39;Caused by&#39; that is missing and that contains important information that we&#39;re missing. E.g., it may be similar to this: https://stackoverflow.com/questions/68305702/esapi-getting-classnotfoundexception-with-esapi-2-2-3-1/68332784#68332784","body":"Also, assuming there&#39;s a reason way PreparedStatement won&#39;t work, in order for us to diagnose this, we will need the COMPLETE exception stack trace. There&#39;s likely to be a &#39;Caused by&#39; that is missing and that contains important information that we&#39;re missing. E.g., it may be similar to this: <a href=\"https://stackoverflow.com/questions/68305702/esapi-getting-classnotfoundexception-with-esapi-2-2-3-1/68332784#68332784\" title=\"esapi getting classnotfoundexception with esapi 2 2 3 1\">stackoverflow.com/questions/68305702/&hellip;</a>"}],"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675802029,"creation_date":1675802029,"question_id":75378715,"body_markdown":"I am using ESAPI to encode the string, when using with Oracle JDBC. I Get following error even though i have ESAPI.Properties in my project.\r\n\r\n     final var queryString =\r\n                    String.format(&quot;SELECT * FROM %1$s WHERE %2$s = &#39;%3$s&#39;&quot;,\r\n                            ESAPI.encoder().encodeForSQL(new OracleCodec(),tableName),\r\n                            ESAPI.encoder().encodeForSQL(new OracleCodec(),columnName),\r\n                            ESAPI.encoder().encodeForSQL(new OracleCodec(),columnValue));\r\n\r\n\r\n\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.owasp.encoder.esapi.ESAPIEncoder\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:375)\r\n    \tat org.owasp.esapi.util.ObjFactory.loadClassByStringName(ObjFactory.java:158)\r\n    \tat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:81)\r\n    \t... 108 common frames omitted\r\n\r\nHere is my project structure.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nVersion:\r\n\r\n     implementation &#39;org.owasp.esapi:esapi:2.2.1.1&#39;\r\n\r\nhere is my ESAPI.properties file\r\n\r\n    # Properties based on ESAPI 2.2.1.1&#39;s configuration/esapi/ESAPI.properties file.\r\n    \r\n    ESAPI.Encoder=org.owasp.encoder.esapi.ESAPIEncoder\r\n    \r\n    # Log4JFactory Requires log4j.xml or log4j.properties in classpath - http://www.laliluna.de/log4j-tutorial.html\r\n    # Note that this is now considered deprecated!\r\n    #ESAPI.Logger=org.owasp.esapi.logging.log4j.Log4JLogFactory\r\n    \r\n    # To use JUL, you need to obtain ESAPI&#39;s esapi-java-logging.properties and drop\r\n    # it somewhere into your class path. You can get it from the ESAPI configuration\r\n    # jar. (See Release 2.2.1.1 under GitHub for ESAPI/esapi-java-legacy.)\r\n    ESAPI.Logger=org.owasp.esapi.logging.java.JavaLogFactory\r\n    \r\n    # To use the new SLF4J logger in ESAPI (see GitHub issue #129), set\r\n    #ESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory\r\n    # and do whatever other normal SLF4J configuration that you normally would do for your application.\r\n    \r\n    # Note: The uncommented out ones are those needed for SLF4J. Others may be\r\n    # needed if you change the ESAPI logger.\r\n    #===========================================================================\r\n    # ESAPI Logging\r\n    # Set the application name if these logs are combined with other applications\r\n    Logger.ApplicationName=sql-service\r\n    # If you use an HTML log viewer that does not properly HTML escape log data, you can set LogEncodingRequired to true\r\n    Logger.LogEncodingRequired=false\r\n    # Determines whether ESAPI should log the application name. This might be clutter in some single-server/single-app environments.\r\n    Logger.LogApplicationName=true\r\n    # Determines whether ESAPI should log the server IP and port. This might be clutter in some single-server environments.\r\n    Logger.LogServerIP=false\r\n    # LogFileName, the name of the logging file. Provide a full directory path (e.g., C:\\\\ESAPI\\\\ESAPI_logging_file) if you\r\n    # want to place it in a specific directory.\r\n    #Logger.LogFileName=ESAPI_logging_file\r\n    # MaxLogFileSize, the max size (in bytes) of a single log file before it cuts over to a new one (default is 10,000,000)\r\n    #Logger.MaxLogFileSize=10000000\r\n    # Determines whether ESAPI should log the user info.\r\n    Logger.UserInfo=false\r\n    # Determines whether ESAPI should log the session id and client IP\r\n    Logger.ClientInfo=false\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r6nny.png\r\n\r\nAny Help would be appreciated.","title":"ESAPI:java.lang.ClassNotFoundException: org.owasp.encoder.esapi.ESAPIEncoder Encoder class","body":"<p>I am using ESAPI to encode the string, when using with Oracle JDBC. I Get following error even though i have ESAPI.Properties in my project.</p>\n<pre><code> final var queryString =\n                String.format(&quot;SELECT * FROM %1$s WHERE %2$s = '%3$s'&quot;,\n                        ESAPI.encoder().encodeForSQL(new OracleCodec(),tableName),\n                        ESAPI.encoder().encodeForSQL(new OracleCodec(),columnName),\n                        ESAPI.encoder().encodeForSQL(new OracleCodec(),columnValue));\n\n\n\n\nCaused by: java.lang.ClassNotFoundException: org.owasp.encoder.esapi.ESAPIEncoder\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:375)\n    at org.owasp.esapi.util.ObjFactory.loadClassByStringName(ObjFactory.java:158)\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:81)\n    ... 108 common frames omitted\n</code></pre>\n<p>Here is my project structure.</p>\n<p><a href=\"https://i.stack.imgur.com/r6nny.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r6nny.png\" alt=\"enter image description here\" /></a></p>\n<p>Version:</p>\n<pre><code> implementation 'org.owasp.esapi:esapi:2.2.1.1'\n</code></pre>\n<p>here is my ESAPI.properties file</p>\n<pre><code># Properties based on ESAPI 2.2.1.1's configuration/esapi/ESAPI.properties file.\n\nESAPI.Encoder=org.owasp.encoder.esapi.ESAPIEncoder\n\n# Log4JFactory Requires log4j.xml or log4j.properties in classpath - http://www.laliluna.de/log4j-tutorial.html\n# Note that this is now considered deprecated!\n#ESAPI.Logger=org.owasp.esapi.logging.log4j.Log4JLogFactory\n\n# To use JUL, you need to obtain ESAPI's esapi-java-logging.properties and drop\n# it somewhere into your class path. You can get it from the ESAPI configuration\n# jar. (See Release 2.2.1.1 under GitHub for ESAPI/esapi-java-legacy.)\nESAPI.Logger=org.owasp.esapi.logging.java.JavaLogFactory\n\n# To use the new SLF4J logger in ESAPI (see GitHub issue #129), set\n#ESAPI.Logger=org.owasp.esapi.logging.slf4j.Slf4JLogFactory\n# and do whatever other normal SLF4J configuration that you normally would do for your application.\n\n# Note: The uncommented out ones are those needed for SLF4J. Others may be\n# needed if you change the ESAPI logger.\n#===========================================================================\n# ESAPI Logging\n# Set the application name if these logs are combined with other applications\nLogger.ApplicationName=sql-service\n# If you use an HTML log viewer that does not properly HTML escape log data, you can set LogEncodingRequired to true\nLogger.LogEncodingRequired=false\n# Determines whether ESAPI should log the application name. This might be clutter in some single-server/single-app environments.\nLogger.LogApplicationName=true\n# Determines whether ESAPI should log the server IP and port. This might be clutter in some single-server environments.\nLogger.LogServerIP=false\n# LogFileName, the name of the logging file. Provide a full directory path (e.g., C:\\\\ESAPI\\\\ESAPI_logging_file) if you\n# want to place it in a specific directory.\n#Logger.LogFileName=ESAPI_logging_file\n# MaxLogFileSize, the max size (in bytes) of a single log file before it cuts over to a new one (default is 10,000,000)\n#Logger.MaxLogFileSize=10000000\n# Determines whether ESAPI should log the user info.\nLogger.UserInfo=false\n# Determines whether ESAPI should log the session id and client IP\nLogger.ClientInfo=false\n</code></pre>\n<p>Any Help would be appreciated.</p>\n"},{"tags":["java","android","kotlin","android-intent","broadcastreceiver"],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675801888,"creation_date":1675728473,"question_id":75367780,"body_markdown":"I would like to listen to intent that is broadcasted due to specific code. \r\n\r\n```kotlin\r\nregisterReceiver(PhoneStateReceiver(), IntentFilter(ACTION_PHONE_STATE_CHANGED))\r\ntelecomManager.placeCall(uri, null)\r\n```\r\nIs it guaranteed that if I ``registerReceiver()`` just before the call to ``placeCall()``, I will not miss the intent that placing a call will broadcast?\r\n\r\nI guess this would be the same as asking if the registration is done synchronously.\r\n\r\nOf course I can try, but that will not mean that it is guaranteed.\r\nAlso, I can register on the activity lifecycle, and use a flag in PhoneStateReceiver(), but that would be less straightforward and more bug-prone.","title":"Does registerReceiver() listen immediately?","body":"<p>I would like to listen to intent that is broadcasted due to specific code.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>registerReceiver(PhoneStateReceiver(), IntentFilter(ACTION_PHONE_STATE_CHANGED))\ntelecomManager.placeCall(uri, null)\n</code></pre>\n<p>Is it guaranteed that if I <code>registerReceiver()</code> just before the call to <code>placeCall()</code>, I will not miss the intent that placing a call will broadcast?</p>\n<p>I guess this would be the same as asking if the registration is done synchronously.</p>\n<p>Of course I can try, but that will not mean that it is guaranteed.\nAlso, I can register on the activity lifecycle, and use a flag in PhoneStateReceiver(), but that would be less straightforward and more bug-prone.</p>\n"},{"tags":["java","spring","validation","spring-mvc"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":2,"creation_date":1458722625,"post_id":36173332,"comment_id":59982625,"body_markdown":"Might be interesting: http://stackoverflow.com/questions/18911154/how-to-specify-validation-group-for-valid","body":"Might be interesting: <a href=\"http://stackoverflow.com/questions/18911154/how-to-specify-validation-group-for-valid\" title=\"how to specify validation group for valid\">stackoverflow.com/questions/18911154/&hellip;</a>"},{"owner":{"account_id":2468965,"reputation":26450,"user_id":2151351,"display_name":"a better oliver"},"score":4,"creation_date":1458723061,"post_id":36173332,"comment_id":59982852,"body_markdown":"_&quot;supporting the specification of validation groups&quot;_ is a very explicit statement.","body":"<i>&quot;supporting the specification of validation groups&quot;</i> is a very explicit statement."},{"owner":{"account_id":339454,"reputation":2681,"user_id":668951,"accept_rate":88,"display_name":"Atul"},"score":0,"creation_date":1458723246,"post_id":36173332,"comment_id":59982968,"body_markdown":"I should think that Valid is tightly coupled with JSR 303 validations (NotNull, etc). Whereas you can create other validation/groups and have them checked in Validated.","body":"I should think that Valid is tightly coupled with JSR 303 validations (NotNull, etc). Whereas you can create other validation/groups and have them checked in Validated."},{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1458724766,"post_id":36173332,"comment_id":59983888,"body_markdown":"@zeroflagL, true, but since I have never used it, I missed the point and fixated instead on the “not JSR-303 specific” part. Now it&#39;s clear.","body":"@zeroflagL, true, but since I have never used it, I missed the point and fixated instead on the “not JSR-303 specific” part. Now it&#39;s clear."}],"answers":[{"tags":[],"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"down_vote_count":0,"up_vote_count":118,"is_accepted":true,"score":118,"last_activity_date":1458724435,"creation_date":1458724357,"answer_id":36173922,"question_id":36173332,"body_markdown":"As you quoted from the documentation, `@Validated` was added to support &quot;validation groups&quot;, i.e. group of fields in the validated bean. This can be used in multi step forms where you may validate name, email, etc.. in first step and then other fields in following step(s).\r\n\r\nThe reason why this wasn&#39;t added into `@Valid` annotation is because that it is standardized using the java community process (JSR-303), which takes time and Spring developers wanted to allow people to use this functionality sooner.\r\n\r\nGo to [this jira ticket][1] to see how the annotation came into existence.\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-6373","title":"Difference between @Valid and @Validated in Spring","body":"<p>As you quoted from the documentation, <code>@Validated</code> was added to support \"validation groups\", i.e. group of fields in the validated bean. This can be used in multi step forms where you may validate name, email, etc.. in first step and then other fields in following step(s).</p>\n\n<p>The reason why this wasn't added into <code>@Valid</code> annotation is because that it is standardized using the java community process (JSR-303), which takes time and Spring developers wanted to allow people to use this functionality sooner.</p>\n\n<p>Go to <a href=\"https://jira.spring.io/browse/SPR-6373\">this jira ticket</a> to see how the annotation came into existence.</p>\n"},{"tags":[],"owner":{"account_id":8128289,"reputation":4229,"user_id":6122411,"accept_rate":0,"display_name":"zhuhang.jasper"},"down_vote_count":1,"up_vote_count":203,"is_accepted":false,"score":202,"last_activity_date":1535619554,"creation_date":1535619554,"answer_id":52092984,"question_id":36173332,"body_markdown":"A more straight forward answer. \r\nFor those who still don&#39;t know what on earth is ***&quot;validation group&quot;***.\r\n\r\n**Usage for `@Valid` Validation**\r\n\r\nController:\r\n\r\n    @RequestMapping(value = &quot;createAccount&quot;)\r\n    public String stepOne(@Valid Account account) {...}\r\n\r\nForm object:\r\n\r\n    public class Account {\r\n\r\n        @NotBlank\r\n        private String username;\r\n\r\n        @Email\r\n        @NotBlank\r\n        private String email;\r\n\r\n    }\r\n    \r\n&lt;hr&gt;\r\n\r\n**Usage for `@Validated` Validation Group**&lt;br&gt;\r\nSource: http://blog.codeleak.pl/2014/08/validation-groups-in-spring-mvc.html\r\n\r\nController:\r\n\r\n    @RequestMapping(value = &quot;stepOne&quot;)\r\n    public String stepOne(@Validated(Account.ValidationStepOne.class) Account account) {...}\r\n\r\n    @RequestMapping(value = &quot;stepTwo&quot;)\r\n    public String stepTwo(@Validated(Account.ValidationStepTwo.class) Account account) {...}\r\n\r\nForm object:\r\n\r\n    public class Account {\r\n\r\n        @NotBlank(groups = {ValidationStepOne.class})\r\n        private String username;\r\n\r\n        @Email(groups = {ValidationStepOne.class})\r\n        @NotBlank(groups = {ValidationStepOne.class})\r\n        private String email;\r\n\r\n        @NotBlank(groups = {ValidationStepTwo.class})\r\n        @StrongPassword(groups = {ValidationStepTwo.class})\r\n        private String password;\r\n\r\n        @NotBlank(groups = {ValidationStepTwo.class})\r\n        private String confirmedPassword;\r\n        \r\n    }\r\n\r\n","title":"Difference between @Valid and @Validated in Spring","body":"<p>A more straight forward answer. \nFor those who still don't know what on earth is <strong><em>\"validation group\"</em></strong>.</p>\n\n<p><strong>Usage for <code>@Valid</code> Validation</strong></p>\n\n<p>Controller:</p>\n\n<pre><code>@RequestMapping(value = \"createAccount\")\npublic String stepOne(@Valid Account account) {...}\n</code></pre>\n\n<p>Form object:</p>\n\n<pre><code>public class Account {\n\n    @NotBlank\n    private String username;\n\n    @Email\n    @NotBlank\n    private String email;\n\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Usage for <code>@Validated</code> Validation Group</strong><br>\nSource: <a href=\"http://blog.codeleak.pl/2014/08/validation-groups-in-spring-mvc.html\" rel=\"noreferrer\">http://blog.codeleak.pl/2014/08/validation-groups-in-spring-mvc.html</a></p>\n\n<p>Controller:</p>\n\n<pre><code>@RequestMapping(value = \"stepOne\")\npublic String stepOne(@Validated(Account.ValidationStepOne.class) Account account) {...}\n\n@RequestMapping(value = \"stepTwo\")\npublic String stepTwo(@Validated(Account.ValidationStepTwo.class) Account account) {...}\n</code></pre>\n\n<p>Form object:</p>\n\n<pre><code>public class Account {\n\n    @NotBlank(groups = {ValidationStepOne.class})\n    private String username;\n\n    @Email(groups = {ValidationStepOne.class})\n    @NotBlank(groups = {ValidationStepOne.class})\n    private String email;\n\n    @NotBlank(groups = {ValidationStepTwo.class})\n    @StrongPassword(groups = {ValidationStepTwo.class})\n    private String password;\n\n    @NotBlank(groups = {ValidationStepTwo.class})\n    private String confirmedPassword;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16154304,"reputation":31,"user_id":11661836,"display_name":"Zelin Zhu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1560827504,"creation_date":1560824799,"answer_id":56641001,"question_id":36173332,"body_markdown":"besides above, you can only apply `@Valid` on a domain/field for nested validation, not with a `@validated`.","title":"Difference between @Valid and @Validated in Spring","body":"<p>besides above, you can only apply <code>@Valid</code> on a domain/field for nested validation, not with a <code>@validated</code>.</p>\n"},{"tags":[],"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1567007536,"creation_date":1567007536,"answer_id":57696133,"question_id":36173332,"body_markdown":"In the example code snippets of the question, `@Valid` and `@Validated` make no difference. But if the `@RequestBody` is annotated with a `List` object, or is a string value annotated by `@RequestParam`, the validation will not take effect.\r\n\r\nWe can use the `@Validated`&#39;s method-level validation capability to make it work. To achieve this, the key point is to place `@Validated` on the class. This may be another important difference between `@Valid` and `@Validated` in spring framework.\r\n\r\nRefrence \r\n\r\n- [Spring boot docs](https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-validation.html)","title":"Difference between @Valid and @Validated in Spring","body":"<p>In the example code snippets of the question, <code>@Valid</code> and <code>@Validated</code> make no difference. But if the <code>@RequestBody</code> is annotated with a <code>List</code> object, or is a string value annotated by <code>@RequestParam</code>, the validation will not take effect.</p>\n\n<p>We can use the <code>@Validated</code>'s method-level validation capability to make it work. To achieve this, the key point is to place <code>@Validated</code> on the class. This may be another important difference between <code>@Valid</code> and <code>@Validated</code> in spring framework.</p>\n\n<p>Refrence </p>\n\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-validation.html\" rel=\"noreferrer\">Spring boot docs</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1629114059,"creation_date":1629114059,"answer_id":68802207,"question_id":36173332,"body_markdown":"`@Validated` can be used for a class:\r\n\r\n    @Validated\r\n    public class Person {\r\n        @Size(min=3)\r\n        private String name;\r\n    ...\r\n\r\n","title":"Difference between @Valid and @Validated in Spring","body":"<p><code>@Validated</code> can be used for a class:</p>\n<pre><code>@Validated\npublic class Person {\n    @Size(min=3)\n    private String name;\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1675801816,"creation_date":1658511068,"answer_id":73084057,"question_id":36173332,"body_markdown":"Just for simplifying:\r\n\r\n&gt;`@Validated` annotation is a class-level annotation that we can use to tell `Spring` to validate parameters that are passed into a method of the annotated class.\r\n\r\nand \r\n\r\n&gt;`@Valid` annotation on method parameters and fields to tell `Spring` that we want a method parameter or field to be validated. \r\n","title":"Difference between @Valid and @Validated in Spring","body":"<p>Just for simplifying:</p>\n<blockquote>\n<p><code>@Validated</code> annotation is a class-level annotation that we can use to tell <code>Spring</code> to validate parameters that are passed into a method of the annotated class.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p><code>@Valid</code> annotation on method parameters and fields to tell <code>Spring</code> that we want a method parameter or field to be validated.</p>\n</blockquote>\n"}],"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136226,"favorite_count":0,"down_vote_count":1,"up_vote_count":181,"accepted_answer_id":36173922,"answer_count":6,"score":180,"last_activity_date":1675801816,"creation_date":1458722468,"question_id":36173332,"body_markdown":"Spring supports two different validation methods: Spring validation and JSR-303 bean validation. Both can be used by defining a Spring validator that delegates to other delegators including the bean validator. So far so good.\r\n\r\nBut when annotating methods to actually request validation, it&#39;s another story. I can annotate like this\r\n\r\n\t@RequestMapping(value = &quot;/object&quot;, method = RequestMethod.POST)\r\n\tpublic @ResponseBody TestObject create(@Valid @RequestBody TestObject obj, BindingResult result) {\r\n\r\nor like this\r\n\r\n\t@RequestMapping(value = &quot;/object&quot;, method = RequestMethod.POST)\r\n\tpublic @ResponseBody TestObject create(@Validated @RequestBody TestObject obj, BindingResult result) {\r\n\r\nHere, @Valid is [javax.validation.Valid][1], and @Validated is [org.springframework.validation.annotation.Validated][2]. The docs for the latter say\r\n\r\n&gt; Variant of JSR-303&#39;s Valid, supporting the specification of validation\r\n&gt; groups. Designed for convenient use with Spring&#39;s JSR-303 support but\r\n&gt; not JSR-303 specific.\r\n\r\nwhich doesn&#39;t help much because it doesn&#39;t tell exactly how it&#39;s different. If at all. Both seem to be working pretty fine for me.\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/validation/Valid.html\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html","title":"Difference between @Valid and @Validated in Spring","body":"<p>Spring supports two different validation methods: Spring validation and JSR-303 bean validation. Both can be used by defining a Spring validator that delegates to other delegators including the bean validator. So far so good.</p>\n\n<p>But when annotating methods to actually request validation, it's another story. I can annotate like this</p>\n\n<pre><code>@RequestMapping(value = \"/object\", method = RequestMethod.POST)\npublic @ResponseBody TestObject create(@Valid @RequestBody TestObject obj, BindingResult result) {\n</code></pre>\n\n<p>or like this</p>\n\n<pre><code>@RequestMapping(value = \"/object\", method = RequestMethod.POST)\npublic @ResponseBody TestObject create(@Validated @RequestBody TestObject obj, BindingResult result) {\n</code></pre>\n\n<p>Here, @Valid is <a href=\"http://docs.oracle.com/javaee/7/api/javax/validation/Valid.html\">javax.validation.Valid</a>, and @Validated is <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/annotation/Validated.html\">org.springframework.validation.annotation.Validated</a>. The docs for the latter say</p>\n\n<blockquote>\n  <p>Variant of JSR-303's Valid, supporting the specification of validation\n  groups. Designed for convenient use with Spring's JSR-303 support but\n  not JSR-303 specific.</p>\n</blockquote>\n\n<p>which doesn't help much because it doesn't tell exactly how it's different. If at all. Both seem to be working pretty fine for me.</p>\n"},{"tags":["java",".net","sql-server","sql-server-2016","tls1.2"],"comments":[{"owner":{"account_id":2399674,"reputation":2691,"user_id":2097675,"display_name":"JJF"},"score":1,"creation_date":1519400354,"post_id":48834528,"comment_id":84909332,"body_markdown":"That link you refer to says you have to have 1.0 and 1.1 disabled in the registry for the server in order for 1.2 to work.  Rather than using the IISCrypto tool why don&#39;t you check the actual registry settings for the server and verify 1.0 and 1.1 are disabled and 1.2 is enabled?","body":"That link you refer to says you have to have 1.0 and 1.1 disabled in the registry for the server in order for 1.2 to work.  Rather than using the IISCrypto tool why don&#39;t you check the actual registry settings for the server and verify 1.0 and 1.1 are disabled and 1.2 is enabled?"},{"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"score":0,"creation_date":1538398260,"post_id":48834528,"comment_id":92117744,"body_markdown":"@RanPaul Could you please try the approach given in my answer below and let me know if it works? Thanks in advance..","body":"@RanPaul Could you please try the approach given in my answer below and let me know if it works? Thanks in advance.."},{"owner":{"account_id":6049972,"reputation":361,"user_id":5574962,"display_name":"3per"},"score":0,"creation_date":1607405305,"post_id":48834528,"comment_id":115255261,"body_markdown":"@RanPaul, Is there an answer already?","body":"@RanPaul, Is there an answer already?"}],"answers":[{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1675801781,"creation_date":1519744270,"answer_id":49011963,"question_id":48834528,"body_markdown":"Microsoft Windows Server stores information about different security-enhanced channel protocols that Windows Server supports. This information is stored in the following registry key:\r\n\r\n&gt;HKey_Local_Machine\\System\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\r\n\r\nTypically, this key contains the following subkeys:\r\n&gt;PCT 1.0, SSL 2.0, SSL 3.0, TLS 1.0 ...\r\n\r\nEach key holds information about the protocol for the key. Any one of these protocols can be enabled at the server. To do this, you create a new DWORDvalue in the server subkey of the protocol. You set the DWORDvalue to &quot;1&quot;.\r\n\r\nImportant: Back up the registry before you modify it. Then, you can restore the registry if a problem occurs. \r\n\r\nTo enable the TLS 1.x protocol follow these steps:\r\n\r\nClick Start, click Run, type regedt32 or type regedit, and then click OK.\r\nIn Registry Editor, locate the following registry key:\r\n\r\n&gt;HKey_Local_Machine\\System\\CurrentControlSet\\Control\\SecurityProviders \\SCHANNEL\\Protocols\\TLS 1.x\\Server\r\n\r\nOn the Edit menu, click Add Value.\r\nIn the Data Type list, click DWORD.\r\nIn the Value Name box, type Enabled, and then click OK.\r\n\r\nNote If this value is present, double-click the value to edit its current value.\r\n\r\nType 11111111 in Binary Editor to set the value of the new key equal to &quot;1&quot;.\r\nClick OK. Restart the computer.\r\n\r\n","title":"Sql Server 2016: Enable TLS 1.2 for SQL Server Connection","body":"<p>Microsoft Windows Server stores information about different security-enhanced channel protocols that Windows Server supports. This information is stored in the following registry key:</p>\n<blockquote>\n<p>HKey_Local_Machine\\System\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols</p>\n</blockquote>\n<p>Typically, this key contains the following subkeys:</p>\n<blockquote>\n<p>PCT 1.0, SSL 2.0, SSL 3.0, TLS 1.0 ...</p>\n</blockquote>\n<p>Each key holds information about the protocol for the key. Any one of these protocols can be enabled at the server. To do this, you create a new DWORDvalue in the server subkey of the protocol. You set the DWORDvalue to &quot;1&quot;.</p>\n<p>Important: Back up the registry before you modify it. Then, you can restore the registry if a problem occurs.</p>\n<p>To enable the TLS 1.x protocol follow these steps:</p>\n<p>Click Start, click Run, type regedt32 or type regedit, and then click OK.\nIn Registry Editor, locate the following registry key:</p>\n<blockquote>\n<p>HKey_Local_Machine\\System\\CurrentControlSet\\Control\\SecurityProviders \\SCHANNEL\\Protocols\\TLS 1.x\\Server</p>\n</blockquote>\n<p>On the Edit menu, click Add Value.\nIn the Data Type list, click DWORD.\nIn the Value Name box, type Enabled, and then click OK.</p>\n<p>Note If this value is present, double-click the value to edit its current value.</p>\n<p>Type 11111111 in Binary Editor to set the value of the new key equal to &quot;1&quot;.\nClick OK. Restart the computer.</p>\n"},{"tags":[],"owner":{"account_id":13036106,"reputation":199,"user_id":9420968,"display_name":"toornt"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1519843006,"creation_date":1519843006,"answer_id":49036358,"question_id":48834528,"body_markdown":"Check the involved certificates. One may be invalid.\r\n\r\nIf the machines validate their certificates, try:\r\n\r\nRegistry Script for disabling stupid encryptions:\r\nSave this as .reg\r\n\r\n    Windows Registry Editor Version 5.00\r\n    [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\SSL 2.0\\Client]\r\n    &quot;Enabled&quot;=dword:00000000\r\n    &quot;DisabledByDefault&quot;=dword:00000001\r\n    [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\SSL 2.0\\Server]\r\n    &quot;Enabled&quot;=dword:00000000\r\n    &quot;DisabledByDefault&quot;=dword:00000001\r\n    [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\SSL 3.0\\Client]\r\n    &quot;Enabled&quot;=dword:00000000\r\n    &quot;DisabledByDefault&quot;=dword:00000001\r\n    [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\SSL 3.0\\Server]\r\n    &quot;Enabled&quot;=dword:00000000\r\n    &quot;DisabledByDefault&quot;=dword:00000001\r\n    [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.0\\Client]\r\n    &quot;Enabled&quot;=dword:00000000\r\n    &quot;DisabledByDefault&quot;=dword:00000001\r\n    [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.0\\Server]\r\n    &quot;Enabled&quot;=dword:00000000\r\n    &quot;DisabledByDefault&quot;=dword:00000001\r\n    [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Client]\r\n    &quot;Enabled&quot;=dword:00000000\r\n    &quot;DisabledByDefault&quot;=dword:00000001\r\n    [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Server]\r\n    &quot;Enabled&quot;=dword:00000000\r\n    &quot;DisabledByDefault&quot;=dword:00000001\r\n    [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.2\\Client]\r\n    &quot;Enabled&quot;=dword:00000001\r\n    &quot;DisabledByDefault&quot;=dword:00000000\r\n    [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.2\\Server]\r\n    &quot;Enabled&quot;=dword:00000001\r\n    &quot;DisabledByDefault&quot;=dword:00000000\r\n    \r\n    [HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\.NETFramework\\v4.0.30319]\r\n    &quot;SchUseStrongCrypto&quot;=dword:00000001\r\n    \r\n    [HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\.NETFramework\\v4.0.30319]\r\n    &quot;SchUseStrongCrypto&quot;=dword:00000001\r\n\r\nYou&#39;ll have to adjust your .NET Framework. If you are actually using .Net 2.0 (old!) the last two Keys should be\r\n\r\n    [HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\.NETFramework\\v2.0.50727]\r\n    &quot;SystemDefaultTlsVersions&quot;=dword:00000001\r\n    \r\n    [HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\.NETFramework\\v2.0.50727]\r\n    &quot;SystemDefaultTlsVersions&quot;=dword:00000001 \r\n\r\nHere is a .ps1 by Chris Duck to check enabled encryptions\r\n\r\n        &lt;#\r\n     .DESCRIPTION\r\n       Outputs the SSL protocols that the client is able to successfully use to connect to a server.\r\n     \r\n     .NOTES\r\n     \r\n       Copyright 2014 Chris Duck\r\n       http://blog.whatsupduck.net\r\n     \r\n       Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n       you may not use this file except in compliance with the License.\r\n       You may obtain a copy of the License at\r\n     \r\n         http://www.apache.org/licenses/LICENSE-2.0\r\n     \r\n       Unless required by applicable law or agreed to in writing, software\r\n       distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n       WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n       See the License for the specific language governing permissions and\r\n       limitations under the License.\r\n     \r\n     .PARAMETER ComputerName\r\n       The name of the remote computer to connect to.\r\n     \r\n     .PARAMETER Port\r\n       The remote port to connect to. The default is 443.\r\n     \r\n     .EXAMPLE\r\n       Test-SslProtocols -ComputerName &quot;www.google.com&quot;\r\n       \r\n       ComputerName       : www.google.com\r\n       Port               : 443\r\n       KeyLength          : 2048\r\n       SignatureAlgorithm : rsa-sha1\r\n       Ssl2               : False\r\n       Ssl3               : True\r\n       Tls                : True\r\n       Tls11              : True\r\n       Tls12              : True\r\n     #&gt;\r\n     function Test-SslProtocols {\r\n       param(\r\n         [Parameter(Mandatory=$true,ValueFromPipelineByPropertyName=$true,ValueFromPipeline=$true)]\r\n         $ComputerName,\r\n         \r\n         [Parameter(ValueFromPipelineByPropertyName=$true)]\r\n         [int]$Port = 443\r\n       )\r\n       begin {\r\n         $ProtocolNames = [System.Security.Authentication.SslProtocols] | gm -static -MemberType Property | ?{$_.Name -notin @(&quot;Default&quot;,&quot;None&quot;)} | %{$_.Name}\r\n       }\r\n       process {\r\n         $ProtocolStatus = [Ordered]@{}\r\n         $ProtocolStatus.Add(&quot;ComputerName&quot;, $ComputerName)\r\n         $ProtocolStatus.Add(&quot;Port&quot;, $Port)\r\n         $ProtocolStatus.Add(&quot;KeyLength&quot;, $null)\r\n         $ProtocolStatus.Add(&quot;SignatureAlgorithm&quot;, $null)\r\n         \r\n         $ProtocolNames | %{\r\n           $ProtocolName = $_\r\n           $Socket = New-Object System.Net.Sockets.Socket([System.Net.Sockets.SocketType]::Stream, [System.Net.Sockets.ProtocolType]::Tcp)\r\n           $Socket.Connect($ComputerName, $Port)\r\n           try {\r\n             $NetStream = New-Object System.Net.Sockets.NetworkStream($Socket, $true)\r\n             $SslStream = New-Object System.Net.Security.SslStream($NetStream, $true)\r\n             $SslStream.AuthenticateAsClient($ComputerName,  $null, $ProtocolName, $false )\r\n             $RemoteCertificate = [System.Security.Cryptography.X509Certificates.X509Certificate2]$SslStream.RemoteCertificate\r\n             $ProtocolStatus[&quot;KeyLength&quot;] = $RemoteCertificate.PublicKey.Key.KeySize\r\n             $ProtocolStatus[&quot;SignatureAlgorithm&quot;] = $RemoteCertificate.SignatureAlgorithm.FriendlyName\r\n             $ProtocolStatus[&quot;Certificate&quot;] = $RemoteCertificate\r\n             $ProtocolStatus.Add($ProtocolName, $true)\r\n           } catch  {\r\n             $ProtocolStatus.Add($ProtocolName, $false)\r\n           } finally {\r\n             $SslStream.Close()\r\n           }\r\n         }\r\n         [PSCustomObject]$ProtocolStatus\r\n       }\r\n     }\r\n\r\n","title":"Sql Server 2016: Enable TLS 1.2 for SQL Server Connection","body":"<p>Check the involved certificates. One may be invalid.</p>\n\n<p>If the machines validate their certificates, try:</p>\n\n<p>Registry Script for disabling stupid encryptions:\nSave this as .reg</p>\n\n<pre><code>Windows Registry Editor Version 5.00\n[HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\SSL 2.0\\Client]\n\"Enabled\"=dword:00000000\n\"DisabledByDefault\"=dword:00000001\n[HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\SSL 2.0\\Server]\n\"Enabled\"=dword:00000000\n\"DisabledByDefault\"=dword:00000001\n[HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\SSL 3.0\\Client]\n\"Enabled\"=dword:00000000\n\"DisabledByDefault\"=dword:00000001\n[HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\SSL 3.0\\Server]\n\"Enabled\"=dword:00000000\n\"DisabledByDefault\"=dword:00000001\n[HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.0\\Client]\n\"Enabled\"=dword:00000000\n\"DisabledByDefault\"=dword:00000001\n[HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.0\\Server]\n\"Enabled\"=dword:00000000\n\"DisabledByDefault\"=dword:00000001\n[HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Client]\n\"Enabled\"=dword:00000000\n\"DisabledByDefault\"=dword:00000001\n[HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.1\\Server]\n\"Enabled\"=dword:00000000\n\"DisabledByDefault\"=dword:00000001\n[HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.2\\Client]\n\"Enabled\"=dword:00000001\n\"DisabledByDefault\"=dword:00000000\n[HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\SecurityProviders\\SCHANNEL\\Protocols\\TLS 1.2\\Server]\n\"Enabled\"=dword:00000001\n\"DisabledByDefault\"=dword:00000000\n\n[HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\.NETFramework\\v4.0.30319]\n\"SchUseStrongCrypto\"=dword:00000001\n\n[HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\.NETFramework\\v4.0.30319]\n\"SchUseStrongCrypto\"=dword:00000001\n</code></pre>\n\n<p>You'll have to adjust your .NET Framework. If you are actually using .Net 2.0 (old!) the last two Keys should be</p>\n\n<pre><code>[HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\.NETFramework\\v2.0.50727]\n\"SystemDefaultTlsVersions\"=dword:00000001\n\n[HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft\\.NETFramework\\v2.0.50727]\n\"SystemDefaultTlsVersions\"=dword:00000001 \n</code></pre>\n\n<p>Here is a .ps1 by Chris Duck to check enabled encryptions</p>\n\n<pre><code>    &lt;#\n .DESCRIPTION\n   Outputs the SSL protocols that the client is able to successfully use to connect to a server.\n\n .NOTES\n\n   Copyright 2014 Chris Duck\n   http://blog.whatsupduck.net\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n     http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n .PARAMETER ComputerName\n   The name of the remote computer to connect to.\n\n .PARAMETER Port\n   The remote port to connect to. The default is 443.\n\n .EXAMPLE\n   Test-SslProtocols -ComputerName \"www.google.com\"\n\n   ComputerName       : www.google.com\n   Port               : 443\n   KeyLength          : 2048\n   SignatureAlgorithm : rsa-sha1\n   Ssl2               : False\n   Ssl3               : True\n   Tls                : True\n   Tls11              : True\n   Tls12              : True\n #&gt;\n function Test-SslProtocols {\n   param(\n     [Parameter(Mandatory=$true,ValueFromPipelineByPropertyName=$true,ValueFromPipeline=$true)]\n     $ComputerName,\n\n     [Parameter(ValueFromPipelineByPropertyName=$true)]\n     [int]$Port = 443\n   )\n   begin {\n     $ProtocolNames = [System.Security.Authentication.SslProtocols] | gm -static -MemberType Property | ?{$_.Name -notin @(\"Default\",\"None\")} | %{$_.Name}\n   }\n   process {\n     $ProtocolStatus = [Ordered]@{}\n     $ProtocolStatus.Add(\"ComputerName\", $ComputerName)\n     $ProtocolStatus.Add(\"Port\", $Port)\n     $ProtocolStatus.Add(\"KeyLength\", $null)\n     $ProtocolStatus.Add(\"SignatureAlgorithm\", $null)\n\n     $ProtocolNames | %{\n       $ProtocolName = $_\n       $Socket = New-Object System.Net.Sockets.Socket([System.Net.Sockets.SocketType]::Stream, [System.Net.Sockets.ProtocolType]::Tcp)\n       $Socket.Connect($ComputerName, $Port)\n       try {\n         $NetStream = New-Object System.Net.Sockets.NetworkStream($Socket, $true)\n         $SslStream = New-Object System.Net.Security.SslStream($NetStream, $true)\n         $SslStream.AuthenticateAsClient($ComputerName,  $null, $ProtocolName, $false )\n         $RemoteCertificate = [System.Security.Cryptography.X509Certificates.X509Certificate2]$SslStream.RemoteCertificate\n         $ProtocolStatus[\"KeyLength\"] = $RemoteCertificate.PublicKey.Key.KeySize\n         $ProtocolStatus[\"SignatureAlgorithm\"] = $RemoteCertificate.SignatureAlgorithm.FriendlyName\n         $ProtocolStatus[\"Certificate\"] = $RemoteCertificate\n         $ProtocolStatus.Add($ProtocolName, $true)\n       } catch  {\n         $ProtocolStatus.Add($ProtocolName, $false)\n       } finally {\n         $SslStream.Close()\n       }\n     }\n     [PSCustomObject]$ProtocolStatus\n   }\n }\n</code></pre>\n"}],"owner":{"account_id":1310600,"reputation":3828,"user_id":1258669,"accept_rate":73,"display_name":"OTUser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33074,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1675801781,"creation_date":1518813560,"question_id":48834528,"body_markdown":"I&#39;ve `SQL server 2016` running on `windows 2012 R2` and I applied the patch for TLSv1.2 support and rebooted the VM, https://support.microsoft.com/en-us/help/3135244/tls-1-2-support-for-microsoft-sql-server I do see TLS 1.2 being enabled using `IISCrypto` tool on the SQL Server VM\r\n\r\nWe have Java 8 web application and we&#39;ve forced the web application to use only TLS1.2 using JVM argument `-Djdk.tls.client.protocols=&quot;TLSv1.2&quot;` (If I remove this JVM argument application connects to sql server fine), but we are seeing below error though `TLSv1.2` is enabled for SQL server\r\n\r\n\torg.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;Server chose TLSv1, but that protocol version is not enabled or not supported by the client.&quot;. ClientConnectionId:7564b6a1-60c0-4a24-8baa-7bd21f9512cf)  \r\n\r\nWe also have a `.Net 2.0` windows service (only TLSv1.2 is enabled in registry) which is also failing to connect to `SQL Server 2016`\r\n\r\n\tSystem.Data.OleDb.OleDbException: [DBNETLIB][ConnectionOpen (SECCreateCredentials()).]SSL Security error.\r\n    at System.Data.OleDb.OleDbConnectionInternal..ctor(OleDbConnectionString constr, OleDbConnection connection)\r\n    at System.Data.OleDb.OleDbConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningObject)\r\n    at System.Data.ProviderBase.DbConnectionFactory.CreateNonPooledConnection(DbConnection owningConnection, DbConnectionPoolGroup poolGroup)\r\n    at System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection)\r\n    at System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory)\r\n    at System.Data.OleDb.OleDbConnection.Open()\r\n\r\nBut if I enable SSL3 and TLS1.0 in the registry, `.Net 2.0` windows service connects to SQL Server 2016 fine.\r\n\r\nI suspect, the issue is SQL Server not using `TLSv1.2` though `TLSv1.2` is enabled on the SQL Server VM, Can someone please help me if there anymore config or patches needs to be applied for SQL Server to support `TLSv1.2` ?\r\n    \r\n","title":"Sql Server 2016: Enable TLS 1.2 for SQL Server Connection","body":"<p>I've <code>SQL server 2016</code> running on <code>windows 2012 R2</code> and I applied the patch for TLSv1.2 support and rebooted the VM, <a href=\"https://support.microsoft.com/en-us/help/3135244/tls-1-2-support-for-microsoft-sql-server\" rel=\"noreferrer\">https://support.microsoft.com/en-us/help/3135244/tls-1-2-support-for-microsoft-sql-server</a> I do see TLS 1.2 being enabled using <code>IISCrypto</code> tool on the SQL Server VM</p>\n\n<p>We have Java 8 web application and we've forced the web application to use only TLS1.2 using JVM argument <code>-Djdk.tls.client.protocols=\"TLSv1.2\"</code> (If I remove this JVM argument application connects to sql server fine), but we are seeing below error though <code>TLSv1.2</code> is enabled for SQL server</p>\n\n<pre><code>org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: \"Server chose TLSv1, but that protocol version is not enabled or not supported by the client.\". ClientConnectionId:7564b6a1-60c0-4a24-8baa-7bd21f9512cf)  \n</code></pre>\n\n<p>We also have a <code>.Net 2.0</code> windows service (only TLSv1.2 is enabled in registry) which is also failing to connect to <code>SQL Server 2016</code></p>\n\n<pre><code>System.Data.OleDb.OleDbException: [DBNETLIB][ConnectionOpen (SECCreateCredentials()).]SSL Security error.\nat System.Data.OleDb.OleDbConnectionInternal..ctor(OleDbConnectionString constr, OleDbConnection connection)\nat System.Data.OleDb.OleDbConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningObject)\nat System.Data.ProviderBase.DbConnectionFactory.CreateNonPooledConnection(DbConnection owningConnection, DbConnectionPoolGroup poolGroup)\nat System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection)\nat System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory)\nat System.Data.OleDb.OleDbConnection.Open()\n</code></pre>\n\n<p>But if I enable SSL3 and TLS1.0 in the registry, <code>.Net 2.0</code> windows service connects to SQL Server 2016 fine.</p>\n\n<p>I suspect, the issue is SQL Server not using <code>TLSv1.2</code> though <code>TLSv1.2</code> is enabled on the SQL Server VM, Can someone please help me if there anymore config or patches needs to be applied for SQL Server to support <code>TLSv1.2</code> ?</p>\n"},{"tags":["java","amazon-web-services","aws-sdk","aws-java-sdk","amazon-cloudwatchlogs"],"answers":[{"tags":[],"owner":{"account_id":406181,"reputation":25183,"user_id":775544,"accept_rate":100,"display_name":"Anthony Neace"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1479921453,"creation_date":1479921141,"answer_id":40770502,"question_id":40601580,"body_markdown":"**Pseudocode: Validate that a log group&#39;s log stream exists**\r\n\r\n1. Build [describeLogStreamsRequest][1]:\r\n  * Pass in your given log group name on the constructor, or on the request&#39;s `withLogGroupName` setter.\r\n  * Pass in log stream name in on the request&#39;s `withLogStreamNamePrefix` setter.\r\n4. Call [describeLogStreams][2].\r\n5. Inspect the resulting log streams on the [DescribeLogStreamsResult][3] object. If the list isn&#39;t empty, you&#39;re safe to further operate on that stream. \r\n\r\n**Java: Validate that a log group&#39;s log stream exists** (*note: untested*)\r\n\r\n    AWSLogsClient logs = new AWSLogsClient();\r\n\r\n    DescribeLogStreamsRequest req = new DescribeLogStreamsRequest(&quot;myLogGroupName&quot;)\r\n        .withLogStreamNamePrefix(&quot;myLogStreamName&quot;);\r\n\r\n    DescribeLogStreamsResult res = logs.describeLogStreams(req);\r\n\r\n    if(res != null &amp;&amp; res.getLogStreams() != null &amp;&amp; !res.getLogStreams().isEmpty())\r\n    {\r\n      // Log Stream exists, do work here\r\n    }\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/logs/model/DescribeLogStreamsRequest.html\r\n  [2]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/logs/AWSLogsClient.html#describeLogStreams-com.amazonaws.services.logs.model.DescribeLogStreamsRequest-\r\n  [3]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/logs/model/DescribeLogStreamsResult.html","title":"How do I validate that a Cloudwatch Log Group and Log Stream exists?","body":"<p><strong>Pseudocode: Validate that a log group's log stream exists</strong></p>\n\n<ol>\n<li>Build <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/logs/model/DescribeLogStreamsRequest.html\" rel=\"nofollow noreferrer\">describeLogStreamsRequest</a>:\n\n<ul>\n<li>Pass in your given log group name on the constructor, or on the request's <code>withLogGroupName</code> setter.</li>\n<li>Pass in log stream name in on the request's <code>withLogStreamNamePrefix</code> setter.</li>\n</ul></li>\n<li>Call <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/logs/AWSLogsClient.html#describeLogStreams-com.amazonaws.services.logs.model.DescribeLogStreamsRequest-\" rel=\"nofollow noreferrer\">describeLogStreams</a>.</li>\n<li>Inspect the resulting log streams on the <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/logs/model/DescribeLogStreamsResult.html\" rel=\"nofollow noreferrer\">DescribeLogStreamsResult</a> object. If the list isn't empty, you're safe to further operate on that stream. </li>\n</ol>\n\n<p><strong>Java: Validate that a log group's log stream exists</strong> (<em>note: untested</em>)</p>\n\n<pre><code>AWSLogsClient logs = new AWSLogsClient();\n\nDescribeLogStreamsRequest req = new DescribeLogStreamsRequest(\"myLogGroupName\")\n    .withLogStreamNamePrefix(\"myLogStreamName\");\n\nDescribeLogStreamsResult res = logs.describeLogStreams(req);\n\nif(res != null &amp;&amp; res.getLogStreams() != null &amp;&amp; !res.getLogStreams().isEmpty())\n{\n  // Log Stream exists, do work here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":400389,"reputation":3658,"user_id":766328,"accept_rate":90,"display_name":"Trein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514486636,"creation_date":1514486636,"answer_id":48012733,"question_id":40601580,"body_markdown":"In reality, a call to `AWSLogsClient#describeLogStreams` with a `logGroupName` that does not exist will generate a `ResourceNotFoundException`. For that reason, you should check for:\r\n\r\n1. Absence of `ResourceNotFoundException`.\r\n2. Existence of a single entry in `DescribeLogStreamsResult#getLogStreams` matching the `logStreamName` provided.\r\n\r\nCode snippet of a method that will do that:\r\n\r\n    private boolean doesLogStreamExist() {\r\n        DescribeLogStreamsRequest request = new DescribeLogStreamsRequest()\r\n            .withLogGroupName(logGroupName)\r\n            .withLogStreamNamePrefix(logStreamName);\r\n        try {\r\n            return client.describeLogStreams(request).getLogStreams()\r\n                .stream()\r\n                .anyMatch(it -&gt; it.getLogStreamName().equals(logStreamName));\r\n        } catch (ResourceNotFoundException e) {\r\n            // log group does not exist\r\n            return false;\r\n        }\r\n    }\r\n","title":"How do I validate that a Cloudwatch Log Group and Log Stream exists?","body":"<p>In reality, a call to <code>AWSLogsClient#describeLogStreams</code> with a <code>logGroupName</code> that does not exist will generate a <code>ResourceNotFoundException</code>. For that reason, you should check for:</p>\n\n<ol>\n<li>Absence of <code>ResourceNotFoundException</code>.</li>\n<li>Existence of a single entry in <code>DescribeLogStreamsResult#getLogStreams</code> matching the <code>logStreamName</code> provided.</li>\n</ol>\n\n<p>Code snippet of a method that will do that:</p>\n\n<pre><code>private boolean doesLogStreamExist() {\n    DescribeLogStreamsRequest request = new DescribeLogStreamsRequest()\n        .withLogGroupName(logGroupName)\n        .withLogStreamNamePrefix(logStreamName);\n    try {\n        return client.describeLogStreams(request).getLogStreams()\n            .stream()\n            .anyMatch(it -&gt; it.getLogStreamName().equals(logStreamName));\n    } catch (ResourceNotFoundException e) {\n        // log group does not exist\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":266740,"reputation":1895,"user_id":554481,"accept_rate":43,"display_name":"user554481"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675801459,"creation_date":1675801459,"answer_id":75378632,"question_id":40601580,"body_markdown":"I know this question asks for a Java solution, but this was the top-ranked question on Google when I had the same question for Python. The `boto3` documentation doesn&#39;t seem to directly support a &quot;does this log group exist?&quot; function as of today, so here is what I wrote instead. I use the paginator because by default the `boto3` API only lets you pull 50 log groups at a time. The paginator will keep fetching log group names until it goes through all of your log groups.\r\n\r\n```\r\nimport boto3\r\n\r\n\r\ndef log_group_exists(log_group_name):\r\n    client = boto3.client(&#39;logs&#39;)\r\n    paginator = client.get_paginator(&#39;describe_log_groups&#39;)\r\n    for page in paginator.paginate():\r\n        for group in page[&#39;logGroups&#39;]:\r\n            if group[&#39;logGroupName&#39;].lower() == log_group_name.lower():\r\n                return True\r\n    return False\r\n```","title":"How do I validate that a Cloudwatch Log Group and Log Stream exists?","body":"<p>I know this question asks for a Java solution, but this was the top-ranked question on Google when I had the same question for Python. The <code>boto3</code> documentation doesn't seem to directly support a &quot;does this log group exist?&quot; function as of today, so here is what I wrote instead. I use the paginator because by default the <code>boto3</code> API only lets you pull 50 log groups at a time. The paginator will keep fetching log group names until it goes through all of your log groups.</p>\n<pre><code>import boto3\n\n\ndef log_group_exists(log_group_name):\n    client = boto3.client('logs')\n    paginator = client.get_paginator('describe_log_groups')\n    for page in paginator.paginate():\n        for group in page['logGroups']:\n            if group['logGroupName'].lower() == log_group_name.lower():\n                return True\n    return False\n</code></pre>\n"}],"owner":{"account_id":5725404,"reputation":2915,"user_id":4522512,"accept_rate":43,"display_name":"Shivkumar Mallesappa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6751,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1675801459,"creation_date":1479181018,"question_id":40601580,"body_markdown":"Is there any method in java to check whether a given Log Group and Log Stream exists, before getting log events from the Log Group?","title":"How do I validate that a Cloudwatch Log Group and Log Stream exists?","body":"<p>Is there any method in java to check whether a given Log Group and Log Stream exists, before getting log events from the Log Group?</p>\n"},{"tags":["java","security","ssl","https"],"comments":[{"owner":{"display_name":"user5266804"},"score":0,"creation_date":1441761353,"post_id":32466407,"comment_id":52800771,"body_markdown":"does `SSLContext.getInstance(&quot;TLSv1.2&quot;)` work?","body":"does <code>SSLContext.getInstance(&quot;TLSv1.2&quot;)</code> work?"},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1537588951,"post_id":32466407,"comment_id":91849768,"body_markdown":"@user5266804 No, it does not. The `SSLContext.getInstance` method basically takes either `SSL` or `TLS` as an argument. I&#39;ll bet that under the covers, the Sun provider doesn&#39;t even care what string you pass in: you always get &quot;the TLS engine&quot; provided by JSSE.","body":"@user5266804 No, it does not. The <code>SSLContext.getInstance</code> method basically takes either <code>SSL</code> or <code>TLS</code> as an argument. I&#39;ll bet that under the covers, the Sun provider doesn&#39;t even care what string you pass in: you always get &quot;the TLS engine&quot; provided by JSSE."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1636137840,"post_id":32466407,"comment_id":123485575,"body_markdown":"sysprop `htts.protocols` didn&#39;t work because it (and `https.cipherSuites`) only affects _outgoing_ connections using `HttpsURLConnection` -- not incoming, nor direct use of `SSL[Server]Socket` or `SSLEngine`. @ChristopherSchultz: JCA lookup only accepts (ignoring case) strings predefined by the provider, which for j7 JSSE are `Default SSL SSLv3 TLS TLSv1 TLSv1.1 TLSv1.2` -- the latter two differ in what protocols are enabled _initially_ but all do use the same code and can enable any subset of the implemented protocols except those in `disabledAlgorithms` secprop","body":"sysprop <code>htts.protocols</code> didn&#39;t work because it (and <code>https.cipherSuites</code>) only affects <i>outgoing</i> connections using <code>HttpsURLConnection</code> -- not incoming, nor direct use of <code>SSL[Server]Socket</code> or <code>SSLEngine</code>. @ChristopherSchultz: JCA lookup only accepts (ignoring case) strings predefined by the provider, which for j7 JSSE are <code>Default SSL SSLv3 TLS TLSv1 TLSv1.1 TLSv1.2</code> -- the latter two differ in what protocols are enabled <i>initially</i> but all do use the same code and can enable any subset of the implemented protocols except those in <code>disabledAlgorithms</code> secprop"}],"answers":[{"tags":[],"owner":{"account_id":3094771,"reputation":975,"user_id":2620252,"accept_rate":75,"display_name":"PankajSays"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1604500705,"creation_date":1441913227,"answer_id":32510141,"question_id":32466407,"body_markdown":"I found a solution for this. I set the \r\n\r\n    jdk.tls.disabledAlgorithms= SSLv2Hello, SSLv3, TLSv1, TLSv1.1\r\n\r\nin the file `jre/lib/security/java.security` on the server.\r\n\r\nAfter setting this, server only accepts the TLS1.2 connection and reject lower security protocol versions.","title":"How to force java server to accept only tls 1.2 and reject tls 1.0 and tls 1.1 connections","body":"<p>I found a solution for this. I set the</p>\n<pre><code>jdk.tls.disabledAlgorithms= SSLv2Hello, SSLv3, TLSv1, TLSv1.1\n</code></pre>\n<p>in the file <code>jre/lib/security/java.security</code> on the server.</p>\n<p>After setting this, server only accepts the TLS1.2 connection and reject lower security protocol versions.</p>\n"},{"tags":[],"owner":{"account_id":7324117,"reputation":21,"user_id":5579085,"display_name":"TyGp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464688440,"creation_date":1448098660,"answer_id":33841856,"question_id":32466407,"body_markdown":"Just a small remark; \r\n\r\nIn the question you stated that you generated a 2048 size certificate with MD5. But in the cert path alg you disabled MD5 so this normally should not work. Secondly Server certificates generated with a MD5 hash are banned from modern browsers such as Internet Explorer 10/Edge. \r\n\r\nI would like to advice you to generate your Server certificate at least with a SHA256 or &lt; hash. ","title":"How to force java server to accept only tls 1.2 and reject tls 1.0 and tls 1.1 connections","body":"<p>Just a small remark; </p>\n\n<p>In the question you stated that you generated a 2048 size certificate with MD5. But in the cert path alg you disabled MD5 so this normally should not work. Secondly Server certificates generated with a MD5 hash are banned from modern browsers such as Internet Explorer 10/Edge. </p>\n\n<p>I would like to advice you to generate your Server certificate at least with a SHA256 or &lt; hash. </p>\n"},{"tags":[],"owner":{"account_id":150823,"reputation":31,"user_id":9818877,"display_name":"Abhimanyu Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642150535,"creation_date":1528964336,"answer_id":50852774,"question_id":32466407,"body_markdown":"I have also done the same changes in `&quot;/java/jdk1.7.0_79/jre/lib/security&quot;-java.security` file but some of the clients are still able to call my services with SSL protocol.\r\n\r\nChanges: \r\n```\r\njdk.tls.disabledAlgorithms=SSL,SSLv2,SSLv3, TLSv1, TLSv1.1,MD5, SSLv3, DSA, RSA keySize &lt; 2048\r\n```","title":"How to force java server to accept only tls 1.2 and reject tls 1.0 and tls 1.1 connections","body":"<p>I have also done the same changes in <code>&quot;/java/jdk1.7.0_79/jre/lib/security&quot;-java.security</code> file but some of the clients are still able to call my services with SSL protocol.</p>\n<p>Changes:</p>\n<pre><code>jdk.tls.disabledAlgorithms=SSL,SSLv2,SSLv3, TLSv1, TLSv1.1,MD5, SSLv3, DSA, RSA keySize &lt; 2048\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636126846,"creation_date":1636126846,"answer_id":69855771,"question_id":32466407,"body_markdown":"*Update as of November 2021*\r\n\r\nStarting with **version 11.0.11** of the JDK, you do not need to do anything, as TLS 1.0 and TLS 1.1 are disabled by default.\r\n\r\nThe fix was also backported to JDK 7u301, and 8u291.\r\n\r\nFor details: [JDK-8202343 : Disable TLS 1.0 and 1.1][1]\r\n\r\nYou can still explicitly enable TLS 1.0/1.1 by changing java.security, as noted in the accepted answer.\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8202343","title":"How to force java server to accept only tls 1.2 and reject tls 1.0 and tls 1.1 connections","body":"<p><em>Update as of November 2021</em></p>\n<p>Starting with <strong>version 11.0.11</strong> of the JDK, you do not need to do anything, as TLS 1.0 and TLS 1.1 are disabled by default.</p>\n<p>The fix was also backported to JDK 7u301, and 8u291.</p>\n<p>For details: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8202343\" rel=\"nofollow noreferrer\">JDK-8202343 : Disable TLS 1.0 and 1.1</a></p>\n<p>You can still explicitly enable TLS 1.0/1.1 by changing java.security, as noted in the accepted answer.</p>\n"},{"tags":[],"owner":{"account_id":17674050,"reputation":41,"user_id":12829466,"display_name":"abmyii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675801085,"creation_date":1675801085,"answer_id":75378561,"question_id":32466407,"body_markdown":"Rather than searching for and manually modifying the `java.security` file, I would suggest doing it in code e.g.:\r\n\r\n```java\r\nSecurity.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;, &quot;SSLv2Hello, SSLv3, TLSv1, TLSv1.1&quot;);\r\n```\r\n\r\n(Suggestion adapted from https://forums.oracle.com/ords/r/apexds/community/q?question=io-error-no-appropriate-protocol-protocol-is-disabled-or-ci-2571&amp;session=206554440082745)","title":"How to force java server to accept only tls 1.2 and reject tls 1.0 and tls 1.1 connections","body":"<p>Rather than searching for and manually modifying the <code>java.security</code> file, I would suggest doing it in code e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Security.setProperty(&quot;jdk.tls.disabledAlgorithms&quot;, &quot;SSLv2Hello, SSLv3, TLSv1, TLSv1.1&quot;);\n</code></pre>\n<p>(Suggestion adapted from <a href=\"https://forums.oracle.com/ords/r/apexds/community/q?question=io-error-no-appropriate-protocol-protocol-is-disabled-or-ci-2571&amp;session=206554440082745\" rel=\"nofollow noreferrer\">https://forums.oracle.com/ords/r/apexds/community/q?question=io-error-no-appropriate-protocol-protocol-is-disabled-or-ci-2571&amp;session=206554440082745</a>)</p>\n"}],"owner":{"account_id":3094771,"reputation":975,"user_id":2620252,"accept_rate":75,"display_name":"PankajSays"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111286,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":32510141,"answer_count":5,"score":29,"last_activity_date":1675801085,"creation_date":1441742923,"question_id":32466407,"body_markdown":"I have a HTTPS web service running on Java 7. I need to make changes so that this service only accepts TLS1.2 connection and reject SSL3, TLS1.0 and TLS1.1.\r\n\r\nI have added the following Java parameter so that TLS1.2 is the highest priority.\r\n\r\n    -Dhttps.protocols=TLSv1.2\r\n\r\nbut it also accepts the TLS1.0 connections from Java clients. If the client is also running with above Java parameter, the connection is TLS1.2 but if the client is running without this parameter, the connections is TLS1.0.\r\n\r\nI did some play around the `java.security` file in `jdk/jre/lib/security` folder.\r\n\r\nI currently have following disabled algorithms:\r\n\r\n    jdk.certpath.disabledAlgorithms= MD2, MD4, MD5, SHA224, DSA, EC keySize &lt; 256, RSA keySize &lt; 2048, SHA1 keysize &lt; 224\r\n    jdk.tls.disabledAlgorithms=DSA, DHE, EC keySize &lt; 256, RSA keySize &lt; 2048, SHA1 keysize &lt; 224\r\n\r\nI am using Java 7 update 79. I am not inclined towards intercepting each connection and checking the TLS version.\r\n\r\nMy server certificate is 2048 bit generated with MD5 with RSA algorithm.\r\n\r\nIf the disabled algorithm list has RSA in place of RSA keySize &lt; 2048, I get the `SSLHandShakeError` with error message:\r\n\r\n&gt; no cipher suites in common.\r\n\r\nMy test program is running the HTTP server from following URL:\r\nhttp://www.herongyang.com/JDK/HTTPS-HttpsEchoer-Better-HTTPS-Server.html\r\n\r\nPlease help how to make java accept only TLS1.2 connections.","title":"How to force java server to accept only tls 1.2 and reject tls 1.0 and tls 1.1 connections","body":"<p>I have a HTTPS web service running on Java 7. I need to make changes so that this service only accepts TLS1.2 connection and reject SSL3, TLS1.0 and TLS1.1.</p>\n<p>I have added the following Java parameter so that TLS1.2 is the highest priority.</p>\n<pre><code>-Dhttps.protocols=TLSv1.2\n</code></pre>\n<p>but it also accepts the TLS1.0 connections from Java clients. If the client is also running with above Java parameter, the connection is TLS1.2 but if the client is running without this parameter, the connections is TLS1.0.</p>\n<p>I did some play around the <code>java.security</code> file in <code>jdk/jre/lib/security</code> folder.</p>\n<p>I currently have following disabled algorithms:</p>\n<pre><code>jdk.certpath.disabledAlgorithms= MD2, MD4, MD5, SHA224, DSA, EC keySize &lt; 256, RSA keySize &lt; 2048, SHA1 keysize &lt; 224\njdk.tls.disabledAlgorithms=DSA, DHE, EC keySize &lt; 256, RSA keySize &lt; 2048, SHA1 keysize &lt; 224\n</code></pre>\n<p>I am using Java 7 update 79. I am not inclined towards intercepting each connection and checking the TLS version.</p>\n<p>My server certificate is 2048 bit generated with MD5 with RSA algorithm.</p>\n<p>If the disabled algorithm list has RSA in place of RSA keySize &lt; 2048, I get the <code>SSLHandShakeError</code> with error message:</p>\n<blockquote>\n<p>no cipher suites in common.</p>\n</blockquote>\n<p>My test program is running the HTTP server from following URL:\n<a href=\"http://www.herongyang.com/JDK/HTTPS-HttpsEchoer-Better-HTTPS-Server.html\" rel=\"noreferrer\">http://www.herongyang.com/JDK/HTTPS-HttpsEchoer-Better-HTTPS-Server.html</a></p>\n<p>Please help how to make java accept only TLS1.2 connections.</p>\n"},{"tags":["java","amazon-web-services","aws-cloudformation","aws-api-gateway","openapi"],"answers":[{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675801011,"creation_date":1675801011,"answer_id":75378545,"question_id":75377482,"body_markdown":"&gt;InvalidResourceException : property RestApiID not defined for resource of type Api\r\n\r\nCheck the [SAM cli](https://github.com/aws/aws-sam-cli) release notes and updated to the latest version. Then try again.","title":"InvalidResourceException : property RestApiID not defined for resource of type Api","body":"<blockquote>\n<p>InvalidResourceException : property RestApiID not defined for resource of type Api</p>\n</blockquote>\n<p>Check the <a href=\"https://github.com/aws/aws-sam-cli\" rel=\"nofollow noreferrer\">SAM cli</a> release notes and updated to the latest version. Then try again.</p>\n"}],"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675801011,"creation_date":1675794250,"question_id":75377482,"body_markdown":"\r\nI am getting an error Error: \r\n\r\n```\r\n[InvalidResourceException(&#39;APIFunctionpersonapi&#39;, &#39;property RestApiID not defined for resource of type Api&#39;)] (&#39;APIFunctionpersonapi&#39;, &#39;property RestApiID not defined for resource of type Api&#39;)\r\n```\r\n\r\n\r\n```\r\nResources:\r\n  APIFunction:\r\n    Type: AWS::Serverless::Function \r\n    Properties:\r\n      CodeUri: APIFunction\r\n      Handler: com.java.Handler::handleRequest\r\n      Policies:\r\n        - arn:aws:iam::aws:policy/SecretsManagerReadWrite\r\n        - arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole\r\n        - arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole\r\n      Runtime: java11\r\n      MemorySize: 1024\r\n      Environment: \r\n        Variables:\r\n          PARAM1: VALUE\r\n      Events:\r\n        personapi:\r\n          Type: Api \r\n          Properties:\r\n            Path: /myapi/person\r\n            Method: post\r\n            RestApiID: !Ref SamTestPrivateApi\r\n      VpcConfig:\r\n        SecurityGroupIds: \r\n        SubnetIds: \r\n   SamTestPrivateApi:\r\n    Type: AWS::Serverless::Api\r\n    Properties:\r\n      OpenApiVersion: 3.0.3\r\n      StageName: !Ref Environment\r\n```","title":"InvalidResourceException : property RestApiID not defined for resource of type Api","body":"<p>I am getting an error Error:</p>\n<pre><code>[InvalidResourceException('APIFunctionpersonapi', 'property RestApiID not defined for resource of type Api')] ('APIFunctionpersonapi', 'property RestApiID not defined for resource of type Api')\n</code></pre>\n<pre><code>Resources:\n  APIFunction:\n    Type: AWS::Serverless::Function \n    Properties:\n      CodeUri: APIFunction\n      Handler: com.java.Handler::handleRequest\n      Policies:\n        - arn:aws:iam::aws:policy/SecretsManagerReadWrite\n        - arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole\n        - arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole\n      Runtime: java11\n      MemorySize: 1024\n      Environment: \n        Variables:\n          PARAM1: VALUE\n      Events:\n        personapi:\n          Type: Api \n          Properties:\n            Path: /myapi/person\n            Method: post\n            RestApiID: !Ref SamTestPrivateApi\n      VpcConfig:\n        SecurityGroupIds: \n        SubnetIds: \n   SamTestPrivateApi:\n    Type: AWS::Serverless::Api\n    Properties:\n      OpenApiVersion: 3.0.3\n      StageName: !Ref Environment\n</code></pre>\n"},{"tags":["java","openapi","openapi-generator","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675792256,"creation_date":1675792256,"answer_id":75377159,"question_id":75369562,"body_markdown":"You can implement those customizations by changing the [Mustache templates][1]\r\n\r\nFetch the templates of the Java framework (ie spring-boot) you want to use (ie `openapi-generator-cli author template -g spring --additional-properties=library=spring-boot -o tmp/mytemplates`\r\n\r\nModify the local `model.mustache` file to import the packages you want (lombok) and `pojo.mustache` to remove the getters/setters. There might other customisations necessary (each framework templates are different) but this the recommended approach.\r\n\r\n  [1]: https://openapi-generator.tech/docs/templating/","title":"openapi codegen without access methods","body":"<p>You can implement those customizations by changing the <a href=\"https://openapi-generator.tech/docs/templating/\" rel=\"nofollow noreferrer\">Mustache templates</a></p>\n<p>Fetch the templates of the Java framework (ie spring-boot) you want to use (ie <code>openapi-generator-cli author template -g spring --additional-properties=library=spring-boot -o tmp/mytemplates</code></p>\n<p>Modify the local <code>model.mustache</code> file to import the packages you want (lombok) and <code>pojo.mustache</code> to remove the getters/setters. There might other customisations necessary (each framework templates are different) but this the recommended approach.</p>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675800805,"creation_date":1675800805,"answer_id":75378513,"question_id":75369562,"body_markdown":"As @beppe suggested in their [answer][1], this can easily be done by modifying the mustache template.  However, I highly advice against it.  In doing so, you discard many of the the features included with the model objects created by the generator.  Some of the features you lose are:\r\n* Bean Validation\r\n* Jackson Serialization Library Support\r\n* [Support for vendor extensions](https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/java.md#supported-vendor-extensions)\r\n\r\nBy adding the `Lombok` annotation to the generated files, you are basically ignoring the main point of the generator, which is to generate files that support each other.  You are instead using a generator to call a generator.\r\n\r\nFinally, the amount of customization necessary to make the lombok library work with the mustache files is much more than is really worth it.  Sure, you can add `@Data` or `@Jacksonized` to your model, but what about `@JsonIgnore`?  Do you want to use parameters in your Lombok calls?  Because you can&#39;t set the builder classname via `@Builder(builderClassName = &quot;EmployeeBuilder&quot;)`.  That would be hardcoded.  Instead, you&#39;d have to use mustache parameters, such as `@Builder(builderClassName = {{$builderClassName}})`, which you&#39;d then have to define elsewhere.  What about `@Builder` vs `@SuperBuilder`?  Which one do you use in which situation?  How do you define and template it?\r\n\r\nAt this point, you might as well rewrite the entire `pojo.mustache` to be able to use the lombok annotations.  But, what if you need the old `pojo.mustache` functionality elsewhere?  Now you need to write a custom generator to determine which mustache to use in which situations.  \r\n\r\nIt is best to just build the domain models as the `openapi-generator` intends and use them as they are.  You can add annotations if you need to via vendor extensions such as `x-field-extra-annotation` and `x-class-extra-annotation` if you really feel the need to.\r\n\r\n  [1]: https://stackoverflow.com/a/75377159/6860078","title":"openapi codegen without access methods","body":"<p>As @beppe suggested in their <a href=\"https://stackoverflow.com/a/75377159/6860078\">answer</a>, this can easily be done by modifying the mustache template.  However, I highly advice against it.  In doing so, you discard many of the the features included with the model objects created by the generator.  Some of the features you lose are:</p>\n<ul>\n<li>Bean Validation</li>\n<li>Jackson Serialization Library Support</li>\n<li><a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/docs/generators/java.md#supported-vendor-extensions\" rel=\"nofollow noreferrer\">Support for vendor extensions</a></li>\n</ul>\n<p>By adding the <code>Lombok</code> annotation to the generated files, you are basically ignoring the main point of the generator, which is to generate files that support each other.  You are instead using a generator to call a generator.</p>\n<p>Finally, the amount of customization necessary to make the lombok library work with the mustache files is much more than is really worth it.  Sure, you can add <code>@Data</code> or <code>@Jacksonized</code> to your model, but what about <code>@JsonIgnore</code>?  Do you want to use parameters in your Lombok calls?  Because you can't set the builder classname via <code>@Builder(builderClassName = &quot;EmployeeBuilder&quot;)</code>.  That would be hardcoded.  Instead, you'd have to use mustache parameters, such as <code>@Builder(builderClassName = {{$builderClassName}})</code>, which you'd then have to define elsewhere.  What about <code>@Builder</code> vs <code>@SuperBuilder</code>?  Which one do you use in which situation?  How do you define and template it?</p>\n<p>At this point, you might as well rewrite the entire <code>pojo.mustache</code> to be able to use the lombok annotations.  But, what if you need the old <code>pojo.mustache</code> functionality elsewhere?  Now you need to write a custom generator to determine which mustache to use in which situations.</p>\n<p>It is best to just build the domain models as the <code>openapi-generator</code> intends and use them as they are.  You can add annotations if you need to via vendor extensions such as <code>x-field-extra-annotation</code> and <code>x-class-extra-annotation</code> if you really feel the need to.</p>\n"}],"owner":{"account_id":14271910,"reputation":333,"user_id":10309166,"display_name":"nixfuerdiecharts"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1270,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675800805,"creation_date":1675751049,"question_id":75369562,"body_markdown":"I am using the openapi-generator-maven-plugin to generate model sources.\r\n\r\nIs there a way to generate them only with fields and without any access methods?\r\nI want the access methods to be generated via lombok with the additionalModelTypeAnnotations configOption in the maven configuration of the openapi-generator-maven-plugin","title":"openapi codegen without access methods","body":"<p>I am using the openapi-generator-maven-plugin to generate model sources.</p>\n<p>Is there a way to generate them only with fields and without any access methods?\nI want the access methods to be generated via lombok with the additionalModelTypeAnnotations configOption in the maven configuration of the openapi-generator-maven-plugin</p>\n"},{"tags":["java","code-generation","builder","auto-value"],"answers":[{"tags":[],"owner":{"account_id":2992114,"reputation":363,"user_id":2539476,"display_name":"emcmanus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675800699,"creation_date":1675800699,"answer_id":75378503,"question_id":75377680,"body_markdown":"You can define a second `setVal` method with an `Optional&lt;Integer&gt;` parameter, then call that with `Optional.empty()`. If you don&#39;t want that to be part of the public API, you could make it package-private and have a public method that calls it:\r\n\r\n```java\r\n  public abstract static class Builder {\r\n    public abstract Builder setVal(int value);\r\n    abstract Builder setVal(Optional&lt;Integer&gt; value);\r\n    public Builder clearVal() {\r\n      setVal(Optional.empty());\r\n    }\r\n    public abstract MainMessage build();\r\n  }\r\n```","title":"how to clear an `AutoValue` property via an `AutoValue.Builder`","body":"<p>You can define a second <code>setVal</code> method with an <code>Optional&lt;Integer&gt;</code> parameter, then call that with <code>Optional.empty()</code>. If you don't want that to be part of the public API, you could make it package-private and have a public method that calls it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public abstract static class Builder {\n    public abstract Builder setVal(int value);\n    abstract Builder setVal(Optional&lt;Integer&gt; value);\n    public Builder clearVal() {\n      setVal(Optional.empty());\n    }\n    public abstract MainMessage build();\n  }\n</code></pre>\n"}],"owner":{"account_id":318097,"reputation":4364,"user_id":635125,"accept_rate":77,"display_name":"Chris Morris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675800699,"creation_date":1675795445,"question_id":75377680,"body_markdown":"I have an `AutoValue` with an `Optional` property. The `AutoValue` also has a `Builder`. Is there a way to use the `Builder` to clear the `Optional` property? I could not find anything about it in the `AutoValue.Builder` [documentation](https://github.com/google/auto/blob/main/value/userguide/builders-howto.md). **If this is not possible, is there a suggested work around?**\r\n\r\n\r\nExample below:\r\n\r\n```\r\npackage com.google.sandbox;\r\n\r\nimport com.google.auto.value.AutoValue;\r\nimport java.util.Optional;\r\n\r\n@AutoValue\r\n  public abstract static class MainMessage {\r\n\r\n    public static Builder builder() {\r\n      return new AutoValue_MainClass_MainMessage.Builder();\r\n    }\r\n\r\n    public abstract Optional&lt;Integer&gt; val();\r\n\r\n    public abstract Builder toBuilder();\r\n\r\n    /** Builder for MainMessage. */\r\n    @AutoValue.Builder\r\n    public abstract static class Builder {\r\n\r\n      public abstract Builder setVal(int value);\r\n\r\n      public abstract Builder clearVal(); // This causes a compiler error.\r\n\r\n      public abstract MainMessage build();\r\n    }\r\n  }\r\n```\r\n\r\nError:\r\n```\r\n[AutoValueBuilderNoArg] Method without arguments should be a build method returning com.google.sandbox.MainClass.MainMessage, or a getter method with the same name and type as a property method of com.google.sandbox.MainClass.MainMessage, or fooBuilder() where foo() or getFoo() is a property method of com.google.sandbox.MainClass.MainMessage\r\n      public abstract Builder clearVal();\r\n```\r\n","title":"how to clear an `AutoValue` property via an `AutoValue.Builder`","body":"<p>I have an <code>AutoValue</code> with an <code>Optional</code> property. The <code>AutoValue</code> also has a <code>Builder</code>. Is there a way to use the <code>Builder</code> to clear the <code>Optional</code> property? I could not find anything about it in the <code>AutoValue.Builder</code> <a href=\"https://github.com/google/auto/blob/main/value/userguide/builders-howto.md\" rel=\"nofollow noreferrer\">documentation</a>. <strong>If this is not possible, is there a suggested work around?</strong></p>\n<p>Example below:</p>\n<pre><code>package com.google.sandbox;\n\nimport com.google.auto.value.AutoValue;\nimport java.util.Optional;\n\n@AutoValue\n  public abstract static class MainMessage {\n\n    public static Builder builder() {\n      return new AutoValue_MainClass_MainMessage.Builder();\n    }\n\n    public abstract Optional&lt;Integer&gt; val();\n\n    public abstract Builder toBuilder();\n\n    /** Builder for MainMessage. */\n    @AutoValue.Builder\n    public abstract static class Builder {\n\n      public abstract Builder setVal(int value);\n\n      public abstract Builder clearVal(); // This causes a compiler error.\n\n      public abstract MainMessage build();\n    }\n  }\n</code></pre>\n<p>Error:</p>\n<pre><code>[AutoValueBuilderNoArg] Method without arguments should be a build method returning com.google.sandbox.MainClass.MainMessage, or a getter method with the same name and type as a property method of com.google.sandbox.MainClass.MainMessage, or fooBuilder() where foo() or getFoo() is a property method of com.google.sandbox.MainClass.MainMessage\n      public abstract Builder clearVal();\n</code></pre>\n"},{"tags":["java","xml","xstream"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675800591,"post_id":75377093,"comment_id":133005845,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675800472,"creation_date":1675796037,"answer_id":75377761,"question_id":75377093,"body_markdown":"You can provide your own implementation of `PrettyPrintWriter`, which extends that class and overrides its `writeText(QuickWriter, String)` method.\r\n\r\nIn its most basic form that would be something like this:\r\n\r\n```java\r\nimport com.thoughtworks.xstream.core.util.QuickWriter;\r\nimport com.thoughtworks.xstream.io.xml.PrettyPrintWriter;\r\nimport java.io.Writer;\r\n\r\npublic class MyPrettyPrintWriter extends PrettyPrintWriter {\r\n\r\n    public MyPrettyPrintWriter(Writer writer) {\r\n        super(writer);\r\n    }\r\n\r\n    @Override\r\n    public void writeText(QuickWriter writer, String string) {\r\n        writer.write(string); \r\n    }\r\n}\r\n```\r\n\r\nYou would use this as follows:\r\n\r\n```java\r\nString s = &quot;Foo&#39;Bar&quot;;\r\nXStream xstream = new XStream();\r\nFileWriter writer = new FileWriter(&quot;my_demo.xml&quot;);\r\nxstream.marshal(s, new MyPrettyPrintWriter(writer));\r\n```\r\n\r\nThe output file contains the following:\r\n\r\n    &lt;string&gt;Foo&#39;Bar&lt;/string&gt;\r\n\r\n---\r\n\r\nThis is basic - it just passes the tag contents through to the file unchanged - nothing is escaped.\r\n\r\nYou are OK for content containing `&quot;`, `&#39;` and `&gt;`. But this will be a problem for text containing `&gt;` and `&amp;` - which should still be escaped. So you can enhance your `writeText` method to handle those cases as needed. See [What characters do I need to escape in XML documents?](https://stackoverflow.com/q/1091945/12567365) for more details.\r\n\r\nNote also this is only for text values - not for XML attributes. There is a separate [`writeAttributeValue`](https://x-stream.github.io/javadoc/index.html) method for that (probably not needed in your scenario).\r\n\r\n---\r\n\r\nIt is worth adding: There should be no need to do any of this. The XML is valid, with escaped values such as `&amp;apos;`. Any process (any half-way decent XML library or tool) reading that data should handle them correctly.","title":"How to print the escape characters as it is while using PrettyPrintWriter?","body":"<p>You can provide your own implementation of <code>PrettyPrintWriter</code>, which extends that class and overrides its <code>writeText(QuickWriter, String)</code> method.</p>\n<p>In its most basic form that would be something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.thoughtworks.xstream.core.util.QuickWriter;\nimport com.thoughtworks.xstream.io.xml.PrettyPrintWriter;\nimport java.io.Writer;\n\npublic class MyPrettyPrintWriter extends PrettyPrintWriter {\n\n    public MyPrettyPrintWriter(Writer writer) {\n        super(writer);\n    }\n\n    @Override\n    public void writeText(QuickWriter writer, String string) {\n        writer.write(string); \n    }\n}\n</code></pre>\n<p>You would use this as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;Foo'Bar&quot;;\nXStream xstream = new XStream();\nFileWriter writer = new FileWriter(&quot;my_demo.xml&quot;);\nxstream.marshal(s, new MyPrettyPrintWriter(writer));\n</code></pre>\n<p>The output file contains the following:</p>\n<pre><code>&lt;string&gt;Foo'Bar&lt;/string&gt;\n</code></pre>\n<hr />\n<p>This is basic - it just passes the tag contents through to the file unchanged - nothing is escaped.</p>\n<p>You are OK for content containing <code>&quot;</code>, <code>'</code> and <code>&gt;</code>. But this will be a problem for text containing <code>&gt;</code> and <code>&amp;</code> - which should still be escaped. So you can enhance your <code>writeText</code> method to handle those cases as needed. See <a href=\"https://stackoverflow.com/q/1091945/12567365\">What characters do I need to escape in XML documents?</a> for more details.</p>\n<p>Note also this is only for text values - not for XML attributes. There is a separate <a href=\"https://x-stream.github.io/javadoc/index.html\" rel=\"nofollow noreferrer\"><code>writeAttributeValue</code></a> method for that (probably not needed in your scenario).</p>\n<hr />\n<p>It is worth adding: There should be no need to do any of this. The XML is valid, with escaped values such as <code>&amp;apos;</code>. Any process (any half-way decent XML library or tool) reading that data should handle them correctly.</p>\n"}],"owner":{"account_id":27679078,"reputation":1,"user_id":21167091,"display_name":"noob99"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675800472,"creation_date":1675791807,"question_id":75377093,"body_markdown":"Using PrettyPrintWriter to pretty print the xml file\r\nIn the generated xml file the &#39; (apostrophe) is getting written as &amp;apos \r\nWant it to print as &#39;\r\n\r\n\r\nUsing the following \r\n**xstream.marshal(obj, new PrettyPrintWriter(writer))**  to pretty print\r\n,any suggestions on how to print the escape characters as it is?","title":"How to print the escape characters as it is while using PrettyPrintWriter?","body":"<p>Using PrettyPrintWriter to pretty print the xml file\nIn the generated xml file the ' (apostrophe) is getting written as &amp;apos\nWant it to print as '</p>\n<p>Using the following\n<strong>xstream.marshal(obj, new PrettyPrintWriter(writer))</strong>  to pretty print\n,any suggestions on how to print the escape characters as it is?</p>\n"},{"tags":["java","maven","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649840187,"creation_date":1649840187,"answer_id":71854653,"question_id":71854580,"body_markdown":"Just set the property inside the POM\r\n\r\n````\r\n&lt;properties&gt;\r\n  &lt;argLine&gt;java.locale.providers=COMPAT,CLDR&lt;/argLine&gt;\r\n&lt;/properties&gt;\r\n````","title":"Maven POM equivalent for-DargLine=&quot;-Djava.locale.providers=COMPAT,CLDR&quot;","body":"<p>Just set the property inside the POM</p>\n<pre><code>&lt;properties&gt;\n  &lt;argLine&gt;java.locale.providers=COMPAT,CLDR&lt;/argLine&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12374306,"reputation":1,"user_id":9023039,"display_name":"Brent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675800436,"creation_date":1675800436,"answer_id":75378476,"question_id":71854580,"body_markdown":"I added &quot;-D&quot; To the previous answer from J Fabian Meier for my project since I was using maven-surefire-plugin version 2.22.2 on a child of a parent pom.xml. The child ran all the tests but it seemed the pom.xml parent didn&#39;t propagate the argline property to the children. It also gave an error when running argline without the added &#39;-D&#39; on the maven-surefire plugin configuration. Now it looks like this and the tests run and the argline propagates to the tests so  the parse error I was getting before are fixed. \r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test.*&lt;/include&gt;\r\n                        &lt;include&gt;**/*Spec.*&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;argLine&gt;-Djava.locale.providers=COMPAT,CLDR&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n","title":"Maven POM equivalent for-DargLine=&quot;-Djava.locale.providers=COMPAT,CLDR&quot;","body":"<p>I added &quot;-D&quot; To the previous answer from J Fabian Meier for my project since I was using maven-surefire-plugin version 2.22.2 on a child of a parent pom.xml. The child ran all the tests but it seemed the pom.xml parent didn't propagate the argline property to the children. It also gave an error when running argline without the added '-D' on the maven-surefire plugin configuration. Now it looks like this and the tests run and the argline propagates to the tests so  the parse error I was getting before are fixed.</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*Test.*&lt;/include&gt;\n                    &lt;include&gt;**/*Spec.*&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;argLine&gt;-Djava.locale.providers=COMPAT,CLDR&lt;/argLine&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3936141,"reputation":75,"user_id":3252485,"display_name":"user3252485"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71854653,"answer_count":2,"score":0,"last_activity_date":1675800436,"creation_date":1649839818,"question_id":71854580,"body_markdown":"I&#39;m migrating to java11 and I&#39;m running this commmand\r\n\r\n    mvn clean install -DargLine=&quot;-Djava.locale.providers=COMPAT,CLDR&quot;\r\n\r\nit works fine, but is there a POM equivalent to pass that argLine so I just can use mvn clean install?","title":"Maven POM equivalent for-DargLine=&quot;-Djava.locale.providers=COMPAT,CLDR&quot;","body":"<p>I'm migrating to java11 and I'm running this commmand</p>\n<pre><code>mvn clean install -DargLine=&quot;-Djava.locale.providers=COMPAT,CLDR&quot;\n</code></pre>\n<p>it works fine, but is there a POM equivalent to pass that argLine so I just can use mvn clean install?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":2324765,"reputation":3694,"user_id":2039546,"display_name":"İsmail Y."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1609065781,"creation_date":1609065781,"answer_id":65464897,"question_id":65464444,"body_markdown":"There is no technical problem here. I think there is a problem with your `submit()` function, because I created a normal form and tried your same instance, and all selection combinations worked correctly.\r\n\r\n*I am adding the entity, controller and html files respectively for example.*\r\n\r\n```\r\npublic class Example {\r\n\r\n    private boolean gre;\r\n    private boolean gre2;\r\n\r\n    public Example() {\r\n    }\r\n\r\n    // getter/setter ...\r\n}\r\n```\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/example&quot;)\r\npublic class ExampleController {\r\n\r\n    @GetMapping(&quot;/create&quot;)\r\n    public String createExample(Model model) {\r\n        model.addAttribute(&quot;example&quot;, new Example());\r\n        return &quot;example-form&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/insert&quot;)\r\n    public String insertExample(Model model, Example example) {\r\n        model.addAttribute(&quot;example&quot;, example);\r\n        return &quot;example-form&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;body&gt;\r\n&lt;div&gt;\r\n    &lt;form action=&quot;/example/insert&quot; method=&quot;post&quot; th:object=&quot;${example}&quot;&gt;\r\n        &lt;div class=&quot;form-group required-control&quot;&gt;\r\n            &lt;label for=&quot;gre&quot;&gt;GRE&lt;/label&gt;\r\n            &lt;input id=&quot;gre&quot; type=&quot;checkbox&quot; name=&quot;gre&quot; th:checked=&quot;*{gre}&quot; /&gt;\r\n            &lt;label for=&quot;gre2&quot;&gt;GRE 2&lt;/label&gt;\r\n            &lt;input id=&quot;gre2&quot; type=&quot;checkbox&quot; name=&quot;gre2&quot; th:checked=&quot;*{gre2}&quot; /&gt;\r\n        &lt;/div&gt;\r\n        &lt;button type=&quot;submit&quot;&gt;Submit Form&lt;/button&gt;\r\n    &lt;/form&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"submitting checkboxes with Thymeleaf + SpringBoot","body":"<p>There is no technical problem here. I think there is a problem with your <code>submit()</code> function, because I created a normal form and tried your same instance, and all selection combinations worked correctly.</p>\n<p><em>I am adding the entity, controller and html files respectively for example.</em></p>\n<pre><code>public class Example {\n\n    private boolean gre;\n    private boolean gre2;\n\n    public Example() {\n    }\n\n    // getter/setter ...\n}\n</code></pre>\n<pre><code>@Controller\n@RequestMapping(&quot;/example&quot;)\npublic class ExampleController {\n\n    @GetMapping(&quot;/create&quot;)\n    public String createExample(Model model) {\n        model.addAttribute(&quot;example&quot;, new Example());\n        return &quot;example-form&quot;;\n    }\n\n    @PostMapping(&quot;/insert&quot;)\n    public String insertExample(Model model, Example example) {\n        model.addAttribute(&quot;example&quot;, example);\n        return &quot;example-form&quot;;\n    }\n}\n</code></pre>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;body&gt;\n&lt;div&gt;\n    &lt;form action=&quot;/example/insert&quot; method=&quot;post&quot; th:object=&quot;${example}&quot;&gt;\n        &lt;div class=&quot;form-group required-control&quot;&gt;\n            &lt;label for=&quot;gre&quot;&gt;GRE&lt;/label&gt;\n            &lt;input id=&quot;gre&quot; type=&quot;checkbox&quot; name=&quot;gre&quot; th:checked=&quot;*{gre}&quot; /&gt;\n            &lt;label for=&quot;gre2&quot;&gt;GRE 2&lt;/label&gt;\n            &lt;input id=&quot;gre2&quot; type=&quot;checkbox&quot; name=&quot;gre2&quot; th:checked=&quot;*{gre2}&quot; /&gt;\n        &lt;/div&gt;\n        &lt;button type=&quot;submit&quot;&gt;Submit Form&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27728897,"reputation":1,"user_id":21167841,"display_name":"Eugene Vasilev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675800297,"creation_date":1675800297,"answer_id":75378460,"question_id":65464444,"body_markdown":"If you don&#39;t want to add an attribute into the Model, you can receive checkbox condition via HttpServletRequest.\r\n\r\n    @GetMapping(&quot;/create&quot;)\r\n    public String createExample() {\r\n        return &quot;example-form&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/insert&quot;)\r\n    public String insertExample(User user, HttpServletRequest request) {\r\n        user.setGre(request.getParameter(&quot;gre&quot;) != null);\r\n        user.setGre2(request.getParameter(&quot;gre2&quot;) != null);\r\n        userServiceImp.updateUser(editedUser); //for example updating user in database\r\n        return &quot;/&quot;;\r\n    }\r\n\r\nHTML will be like this:\r\n\r\n\r\n        &lt;form th:action=&quot;/insert&quot; method=&quot;post&quot;&gt;\r\n            &lt;div class=&quot;form-group required-control&quot;&gt;\r\n                &lt;label&gt;GRE&lt;/label&gt;\r\n                &lt;input type=&quot;checkbox&quot; name=&quot;gre&quot;/&gt;\r\n                &lt;label&gt;GRE 2&lt;/label&gt;\r\n                &lt;input type=&quot;checkbox&quot; name=&quot;gre2&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;button type=&quot;submit&quot;&gt;Submit Form&lt;/button&gt;\r\n        &lt;/form&gt;\r\n\r\n\r\n","title":"submitting checkboxes with Thymeleaf + SpringBoot","body":"<p>If you don't want to add an attribute into the Model, you can receive checkbox condition via HttpServletRequest.</p>\n<pre><code>@GetMapping(&quot;/create&quot;)\npublic String createExample() {\n    return &quot;example-form&quot;;\n}\n\n@PostMapping(&quot;/insert&quot;)\npublic String insertExample(User user, HttpServletRequest request) {\n    user.setGre(request.getParameter(&quot;gre&quot;) != null);\n    user.setGre2(request.getParameter(&quot;gre2&quot;) != null);\n    userServiceImp.updateUser(editedUser); //for example updating user in database\n    return &quot;/&quot;;\n}\n</code></pre>\n<p>HTML will be like this:</p>\n<pre><code>    &lt;form th:action=&quot;/insert&quot; method=&quot;post&quot;&gt;\n        &lt;div class=&quot;form-group required-control&quot;&gt;\n            &lt;label&gt;GRE&lt;/label&gt;\n            &lt;input type=&quot;checkbox&quot; name=&quot;gre&quot;/&gt;\n            &lt;label&gt;GRE 2&lt;/label&gt;\n            &lt;input type=&quot;checkbox&quot; name=&quot;gre2&quot;/&gt;\n        &lt;/div&gt;\n        &lt;button type=&quot;submit&quot;&gt;Submit Form&lt;/button&gt;\n    &lt;/form&gt;\n</code></pre>\n"}],"owner":{"account_id":10390370,"reputation":1913,"user_id":7661910,"accept_rate":96,"display_name":"en Lopes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65464897,"answer_count":2,"score":0,"last_activity_date":1675800297,"creation_date":1609061651,"question_id":65464444,"body_markdown":"I have a SpringBoot app. with this thymelaf template, that works fine when submitting:\r\n\r\n     &lt;div class=&quot;form-group required-control&quot;&gt;\r\n                                        &lt;label for=&quot;gre&quot;&gt;GRE&lt;/label&gt;\r\n                                        &lt;input id=&quot;gre&quot; type=&quot;checkbox&quot; name=&quot;gre&quot; th:checked=&quot;*{gre}&quot; th:onclick=&quot;submit()&quot;   /&gt;\r\n    \r\n                                    &lt;/div&gt;\r\n\r\n\r\nbut when I add another checkbox, It always take in account the first one, regardless which one I click\r\n\r\n \r\n\r\n     &lt;div class=&quot;form-group required-control&quot;&gt;\r\n                                        &lt;label for=&quot;gre&quot;&gt;GRE&lt;/label&gt;\r\n                                        &lt;input id=&quot;gre&quot; type=&quot;checkbox&quot; name=&quot;gre&quot; th:checked=&quot;*{gre}&quot; th:onclick=&quot;submit()&quot;   /&gt;\r\n    \r\n     &lt;label for=&quot;gre2&quot;&gt;GRE2&lt;/label&gt;\r\n                                        &lt;input id=&quot;gre2&quot; type=&quot;checkbox&quot; name=&quot;gre2&quot; th:checked=&quot;*{gre2}&quot; th:onclick=&quot;submit()&quot;   /&gt;\r\n    \r\n    \r\n                                    &lt;/div&gt;\r\n\r\n","title":"submitting checkboxes with Thymeleaf + SpringBoot","body":"<p>I have a SpringBoot app. with this thymelaf template, that works fine when submitting:</p>\n<pre><code> &lt;div class=&quot;form-group required-control&quot;&gt;\n                                    &lt;label for=&quot;gre&quot;&gt;GRE&lt;/label&gt;\n                                    &lt;input id=&quot;gre&quot; type=&quot;checkbox&quot; name=&quot;gre&quot; th:checked=&quot;*{gre}&quot; th:onclick=&quot;submit()&quot;   /&gt;\n\n                                &lt;/div&gt;\n</code></pre>\n<p>but when I add another checkbox, It always take in account the first one, regardless which one I click</p>\n<pre><code> &lt;div class=&quot;form-group required-control&quot;&gt;\n                                    &lt;label for=&quot;gre&quot;&gt;GRE&lt;/label&gt;\n                                    &lt;input id=&quot;gre&quot; type=&quot;checkbox&quot; name=&quot;gre&quot; th:checked=&quot;*{gre}&quot; th:onclick=&quot;submit()&quot;   /&gt;\n\n &lt;label for=&quot;gre2&quot;&gt;GRE2&lt;/label&gt;\n                                    &lt;input id=&quot;gre2&quot; type=&quot;checkbox&quot; name=&quot;gre2&quot; th:checked=&quot;*{gre2}&quot; th:onclick=&quot;submit()&quot;   /&gt;\n\n\n                                &lt;/div&gt;\n</code></pre>\n"},{"tags":["java","urlconnection"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1590182357,"post_id":61963732,"comment_id":109594696,"body_markdown":"Search [the documentation of URLConnection](https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/net/URLConnection.html) for methods with the word `Timeout` in their names.","body":"Search <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/net/URLConnection.html\" rel=\"nofollow noreferrer\">the documentation of URLConnection</a> for methods with the word <code>Timeout</code> in their names."}],"answers":[{"tags":[],"owner":{"account_id":14592842,"reputation":342,"user_id":11384519,"display_name":"Ivan Dimitrov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1590182522,"creation_date":1590182522,"answer_id":61964086,"question_id":61963732,"body_markdown":"There is no way I can reproduce that problem using my ISP.\r\nI suggest you dig deeper into the problem and find a better solution. Sending another request just doesn&#39;t seem good enough to me. Maybe try a different way to get the data and see if that works for you. Can&#39;t say for sure as I can&#39;t reproduce the problem.","title":"How do I make a Java function that retries a URL connection every half second if the connection takes too long?","body":"<p>There is no way I can reproduce that problem using my ISP.\nI suggest you dig deeper into the problem and find a better solution. Sending another request just doesn't seem good enough to me. Maybe try a different way to get the data and see if that works for you. Can't say for sure as I can't reproduce the problem.</p>\n"},{"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590182610,"creation_date":1590182610,"answer_id":61964109,"question_id":61963732,"body_markdown":"`URLConnection` allows you to specify the connect and read timeout prior to calling `connect()`:\r\n\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/URLConnection.html#setConnectTimeout(int)\r\n\r\n&gt; Sets a specified timeout value, in milliseconds, to be used when\r\n&gt; opening a communications link to the resource referenced by this\r\n&gt; URLConnection. If the timeout expires before the connection can be\r\n&gt; established, a java.net.SocketTimeoutException is raised. A timeout of\r\n&gt; zero is interpreted as an infinite timeout.\r\n\r\nWith 500ms timeout:\r\n\r\n    try {\r\n        URLConnection request = url.openConnection();\r\n        request.setConnectTimeout(500); // 500 ms\r\n        request.connect();\r\n        // on successful connection\r\n    } catch (SocketTimeoutException ex) {\r\n        // on request timeout\r\n    }\r\n\r\nThis you can pack into a loop, but I recommend limiting the number of attempts made.","title":"How do I make a Java function that retries a URL connection every half second if the connection takes too long?","body":"<p><code>URLConnection</code> allows you to specify the connect and read timeout prior to calling <code>connect()</code>:</p>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/URLConnection.html#setConnectTimeout(int)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/URLConnection.html#setConnectTimeout(int)</a></p>\n\n<blockquote>\n  <p>Sets a specified timeout value, in milliseconds, to be used when\n  opening a communications link to the resource referenced by this\n  URLConnection. If the timeout expires before the connection can be\n  established, a java.net.SocketTimeoutException is raised. A timeout of\n  zero is interpreted as an infinite timeout.</p>\n</blockquote>\n\n<p>With 500ms timeout:</p>\n\n<pre><code>try {\n    URLConnection request = url.openConnection();\n    request.setConnectTimeout(500); // 500 ms\n    request.connect();\n    // on successful connection\n} catch (SocketTimeoutException ex) {\n    // on request timeout\n}\n</code></pre>\n\n<p>This you can pack into a loop, but I recommend limiting the number of attempts made.</p>\n"},{"tags":[],"owner":{"account_id":11885028,"reputation":2467,"user_id":8697659,"display_name":"improbable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675800127,"creation_date":1590182617,"answer_id":61964112,"question_id":61963732,"body_markdown":"Java&#39;s URLConnection doesn&#39;t have retry capabilities in Java 8 therefore the best way here to achieve this - use an appropriate standalone 3-party library such as [Apache HttpClient][1].\r\nThis is by far the best standalone 3-party HTTP client with advanced capabilities as of 2020 and it&#39;s still maintained.\r\n\r\nBy default as of version 5.2.x Apache Http Client, Apache Http Client uses the default implementation of `org.apache.http.client.HttpRequestRetryHandler`, which retries 3 times, but you can use a custom implementation instead.\r\n\r\nThe configuration might look like this(full imports are for example&#39;s sake):\r\n```java\r\norg.apache.http.client.HttpClient httpClient = org.apache.http.impl.client.HttpClients.custom()\r\n.setRetryHandler(YourCustomImplOfTheRetryHandlerClass)\r\n//other config\r\n.build();\r\n```\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-5.0.x/index.html","title":"How do I make a Java function that retries a URL connection every half second if the connection takes too long?","body":"<p>Java's URLConnection doesn't have retry capabilities in Java 8 therefore the best way here to achieve this - use an appropriate standalone 3-party library such as <a href=\"https://hc.apache.org/httpcomponents-client-5.0.x/index.html\" rel=\"nofollow noreferrer\">Apache HttpClient</a>.\nThis is by far the best standalone 3-party HTTP client with advanced capabilities as of 2020 and it's still maintained.</p>\n<p>By default as of version 5.2.x Apache Http Client, Apache Http Client uses the default implementation of <code>org.apache.http.client.HttpRequestRetryHandler</code>, which retries 3 times, but you can use a custom implementation instead.</p>\n<p>The configuration might look like this(full imports are for example's sake):</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.apache.http.client.HttpClient httpClient = org.apache.http.impl.client.HttpClients.custom()\n.setRetryHandler(YourCustomImplOfTheRetryHandlerClass)\n//other config\n.build();\n</code></pre>\n"}],"owner":{"account_id":7130912,"reputation":187,"user_id":5452186,"display_name":"Daniel He"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3731,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1675800127,"creation_date":1590180926,"question_id":61963732,"body_markdown":"So I have a problem with a Java program I have. The program&#39;s basic functionality includes basically connecting to a web API for data. The function that does that is something like this:\r\n\r\n\r\n```\r\npublic static Object getData(String sURL) throws IOException {\r\n    URL url = new URL(sURL);\r\n\tURLConnection request = url.openConnection();\r\n\r\n\trequest.connect();\r\n\r\n    return request.getContent();\r\n}\r\n\r\n```\r\nThe code works fine as it is, but recently, after my house changed ISPs, I have found that sometimes the connections take an unreasonably long amount of time, something like 10 seconds or more in about 10% of attempts, while the other 90% takes only around 200ms. I have found it to be faster to ask my program to call the function again in a different thread than to wait for some of these connections to finally connect.\r\n\r\nTherefore, I want to change the function so that if after 500ms, the connection did not establish, it would disconnect and a new connection would be attempted. How could I do this?\r\n\r\nSomewhere online I read that HttpURLConnection might help, but I am not sure how.","title":"How do I make a Java function that retries a URL connection every half second if the connection takes too long?","body":"<p>So I have a problem with a Java program I have. The program's basic functionality includes basically connecting to a web API for data. The function that does that is something like this:</p>\n\n<pre><code>public static Object getData(String sURL) throws IOException {\n    URL url = new URL(sURL);\n    URLConnection request = url.openConnection();\n\n    request.connect();\n\n    return request.getContent();\n}\n\n</code></pre>\n\n<p>The code works fine as it is, but recently, after my house changed ISPs, I have found that sometimes the connections take an unreasonably long amount of time, something like 10 seconds or more in about 10% of attempts, while the other 90% takes only around 200ms. I have found it to be faster to ask my program to call the function again in a different thread than to wait for some of these connections to finally connect.</p>\n\n<p>Therefore, I want to change the function so that if after 500ms, the connection did not establish, it would disconnect and a new connection would be attempted. How could I do this?</p>\n\n<p>Somewhere online I read that HttpURLConnection might help, but I am not sure how.</p>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":10464171,"reputation":41,"user_id":7714014,"display_name":"zenuve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675799961,"creation_date":1675752847,"question_id":75369791,"body_markdown":"We are using **ElasticsearchClient** instance to build our query and communicate with elasticsearch hosted on elastic-cloud version 8.5.3.\r\n\r\nWe could not find any information on how to inject **nested path** while creating GeoDistanceSort object.\r\n\r\nSort query that we are trying to build using Java:\r\n```\r\n&quot;sort&quot;:[\r\n      {\r\n      &quot;_geo_distance&quot;:{\r\n          &quot;nested&quot;:{\r\n              &quot;path&quot;:&quot;facility&quot;\r\n           },\r\n          &quot;facility.location&quot;:{\r\n            &quot;lat&quot;:25.240995,\r\n            &quot;lon&quot;:55.751156\r\n          },\r\n          &quot;unit&quot;:&quot;km&quot;,\r\n          &quot;order&quot;:&quot;asc&quot;,\r\n          &quot;mode&quot; : &quot;min&quot;,\r\n          &quot;distance_type&quot; : &quot;arc&quot;,\r\n          &quot;ignore_unmapped&quot;: true\r\n        }\r\n      }\r\n   ]\r\n```\r\n\r\nMaven dependency:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n  &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n  &lt;version&gt;8.5.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nWe have referred to the following official elastic documentation for **JavaClient 8.5.3**:\r\n\r\n[https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.5.3/co/elastic/clients/elasticsearch/_types/SortOptions.html](https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.5.3/co/elastic/clients/elasticsearch/_types/SortOptions.html)\r\n\r\n[https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.5.3/co/elastic/clients/elasticsearch/_types/GeoDistanceSort.html](https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.5.3/co/elastic/clients/elasticsearch/_types/GeoDistanceSort.html)\r\n\r\n[https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.5.3/co/elastic/clients/elasticsearch/_types/GeoDistanceSort.Builder.html](https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.5.3/co/elastic/clients/elasticsearch/_types/GeoDistanceSort.Builder.html)","title":"How to perform GeoDistanceSort on a nested field using elasticsearch-8.5.3 JavaClient","body":"<p>We are using <strong>ElasticsearchClient</strong> instance to build our query and communicate with elasticsearch hosted on elastic-cloud version 8.5.3.</p>\n<p>We could not find any information on how to inject <strong>nested path</strong> while creating GeoDistanceSort object.</p>\n<p>Sort query that we are trying to build using Java:</p>\n<pre><code>&quot;sort&quot;:[\n      {\n      &quot;_geo_distance&quot;:{\n          &quot;nested&quot;:{\n              &quot;path&quot;:&quot;facility&quot;\n           },\n          &quot;facility.location&quot;:{\n            &quot;lat&quot;:25.240995,\n            &quot;lon&quot;:55.751156\n          },\n          &quot;unit&quot;:&quot;km&quot;,\n          &quot;order&quot;:&quot;asc&quot;,\n          &quot;mode&quot; : &quot;min&quot;,\n          &quot;distance_type&quot; : &quot;arc&quot;,\n          &quot;ignore_unmapped&quot;: true\n        }\n      }\n   ]\n</code></pre>\n<p>Maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n  &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n  &lt;version&gt;8.5.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We have referred to the following official elastic documentation for <strong>JavaClient 8.5.3</strong>:</p>\n<p><a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.5.3/co/elastic/clients/elasticsearch/_types/SortOptions.html\" rel=\"nofollow noreferrer\">https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.5.3/co/elastic/clients/elasticsearch/_types/SortOptions.html</a></p>\n<p><a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.5.3/co/elastic/clients/elasticsearch/_types/GeoDistanceSort.html\" rel=\"nofollow noreferrer\">https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.5.3/co/elastic/clients/elasticsearch/_types/GeoDistanceSort.html</a></p>\n<p><a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.5.3/co/elastic/clients/elasticsearch/_types/GeoDistanceSort.Builder.html\" rel=\"nofollow noreferrer\">https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.5.3/co/elastic/clients/elasticsearch/_types/GeoDistanceSort.Builder.html</a></p>\n"},{"tags":["java","cucumber","testng","parameter-passing","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":208253,"reputation":633,"user_id":458616,"display_name":"Ency"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1556088410,"creation_date":1556088410,"answer_id":55823902,"question_id":55808880,"body_markdown":"Apparently, I can access to parameters from anywher usgin `Reporter.getCurrentTestResult().getTestContext().getCurrentXmlTest().getParameter(&quot;browser&quot;)`","title":"How to pass TestNG parameter into Cucumber?","body":"<p>Apparently, I can access to parameters from anywher usgin <code>Reporter.getCurrentTestResult().getTestContext().getCurrentXmlTest().getParameter(\"browser\")</code></p>\n"},{"tags":[],"owner":{"account_id":14631339,"reputation":1976,"user_id":10567003,"display_name":"TheSociety"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556096437,"creation_date":1556096437,"answer_id":55826215,"question_id":55808880,"body_markdown":"***Step 1**. Runner Class shall extends **AbstractTestNGCucumberTests** and implement @Parameters and @BeforeTest annotations.*  \r\n\r\n    package com.jacksparrow.automation.suite.runner;\r\n    \r\n    import org.testng.annotations.BeforeTest;\r\n    import org.testng.annotations.Parameters;\r\n    import com.jacksparrow.automation.steps_definitions.functional.BaseSteps;\r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.testng.AbstractTestNGCucumberTests;\r\n    \r\n    @CucumberOptions(features = &quot;classpath:features/functional/&quot;,\r\n    \t\t\t\t     glue = {&quot;com.jacksparrow.automation.steps_definitions.functional&quot; },\r\n    \t\t\t\t   plugin = { &quot;pretty&quot;,&quot;json:target/cucumber-json/cucumber.json&quot;,\r\n    \t\t\t\t\t\t    &quot;junit:target/cucumber-reports/Cucumber.xml&quot;, &quot;html:target/cucumber-reports&quot;},\r\n    \t\t\t\t   tags = { &quot;@BAMS_Submitted_State_Guest_User&quot; },\r\n    \t\t\t\t   junit ={ &quot;--step-notifications&quot;},\r\n    \t\t\t\t   strict = false,\r\n    \t\t\t\t   dryRun = false,\r\n    \t\t\t   monochrome = true)\r\n    \r\n    public class RunCukeTest extends AbstractTestNGCucumberTests {\r\n    \t\r\n    \t@Parameters({ &quot;browser&quot; })\r\n    \t@BeforeTest\r\n        public static void setUpScenario(String browser) {\r\n    \t\tBaseSteps.getInstance().getBrowserInstantiation(browser);\r\n    \t}\r\n    } \r\n\r\nNote - I do have browser implementation method under BaseSteps Class. You can implement as per your need.\r\n\r\n***Step 2**. Below is how we define parameter name and value in TestNG.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Suite&quot;&gt;\r\n    \r\n    \t&lt;test thread-count=&quot;1&quot; name=&quot;Test&quot; parallel=&quot;classes&quot;&gt;\r\n    \t\t&lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot; /&gt;\r\n    \t\t&lt;classes&gt;\r\n    \t\t\t&lt;class\r\n    \t\t\t\tname=&quot;com.jacksparrow.automation.suite.runner.RunCukeTest&quot; /&gt;\r\n    \t\t&lt;/classes&gt;\r\n    \t&lt;/test&gt;\r\n    &lt;/suite&gt;","title":"How to pass TestNG parameter into Cucumber?","body":"<p><strong><em>Step 1</strong>. Runner Class shall extends <strong>AbstractTestNGCucumberTests</strong> and implement @Parameters and @BeforeTest annotations.</em>  </p>\n\n<pre><code>package com.jacksparrow.automation.suite.runner;\n\nimport org.testng.annotations.BeforeTest;\nimport org.testng.annotations.Parameters;\nimport com.jacksparrow.automation.steps_definitions.functional.BaseSteps;\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.testng.AbstractTestNGCucumberTests;\n\n@CucumberOptions(features = \"classpath:features/functional/\",\n                     glue = {\"com.jacksparrow.automation.steps_definitions.functional\" },\n                   plugin = { \"pretty\",\"json:target/cucumber-json/cucumber.json\",\n                            \"junit:target/cucumber-reports/Cucumber.xml\", \"html:target/cucumber-reports\"},\n                   tags = { \"@BAMS_Submitted_State_Guest_User\" },\n                   junit ={ \"--step-notifications\"},\n                   strict = false,\n                   dryRun = false,\n               monochrome = true)\n\npublic class RunCukeTest extends AbstractTestNGCucumberTests {\n\n    @Parameters({ \"browser\" })\n    @BeforeTest\n    public static void setUpScenario(String browser) {\n        BaseSteps.getInstance().getBrowserInstantiation(browser);\n    }\n} \n</code></pre>\n\n<p>Note - I do have browser implementation method under BaseSteps Class. You can implement as per your need.</p>\n\n<p><strong><em>Step 2</strong>. Below is how we define parameter name and value in TestNG.xml</em></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite name=\"Suite\"&gt;\n\n    &lt;test thread-count=\"1\" name=\"Test\" parallel=\"classes\"&gt;\n        &lt;parameter name=\"browser\" value=\"chrome\" /&gt;\n        &lt;classes&gt;\n            &lt;class\n                name=\"com.jacksparrow.automation.suite.runner.RunCukeTest\" /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10726280,"reputation":67,"user_id":7893703,"display_name":"Anil Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675799880,"creation_date":1675799880,"answer_id":75378397,"question_id":55808880,"body_markdown":"        TestNG:\r\n        ---------\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n        &lt;suite name=&quot;Sauce Demo Cucumber Test Automation&quot;&gt;\r\n        \t&lt;parameter name=&quot;browser&quot; value=&quot;Chrome&quot; /&gt;\r\n        \t&lt;test thread-count=&quot;2&quot; name=&quot;test&quot; parallel=&quot;classes&quot;&gt;\r\n        \t\t&lt;classes&gt;\r\n        \t\t\t&lt;class name=&quot;com.automation.cucumber.runner.ui.SauceDemoRunner&quot; /&gt;\r\n        \t\t&lt;/classes&gt;\r\n        \t&lt;/test&gt; &lt;!-- Test --&gt;\r\n        &lt;/suite&gt; &lt;!-- Suite --&gt;\r\n        \r\n        Step definitions base class:\r\n    ----------------------------\r\n        import org.openqa.selenium.WebDriver;\r\n        import org.testng.Reporter;\r\n        import org.testng.xml.XmlTest;\r\n        \r\n        public class BaseStepDefinition {\r\n        \tWebDriver driver;\r\n        \tXmlTest xmlTest;\r\n        \r\n        \tpublic BaseStepDefinition() {\r\n        \t\ttry {\r\n        \t\t\txmlTest = Reporter.getCurrentTestResult().getTestContext().getCurrentXmlTest();\r\n        \t\t\tSystem.out.println(xmlTest.getParameter(&quot;browser&quot;));\r\n        \t\t} catch (Exception e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \r\n        \t}\r\n        \r\n        }\r\n        \r\n        Step definitions class:\r\n    --------------------------------\r\n        import io.cucumber.java.After;\r\n        import io.cucumber.java.en.Given;\r\n        \r\n        public class SauceDemoStepDefinition extends BaseStepDefinition {\r\n        \r\n        \t@After\r\n        \tpublic void tearDown() throws Exception {\r\n        \r\n        \t}\r\n        \r\n        \t@Given(&quot;^User is on login page$&quot;)\r\n        \tpublic void user_is_on_login_page() throws Exception {\r\n        \r\n        \t}\r\n        \r\n        }","title":"How to pass TestNG parameter into Cucumber?","body":"<pre><code>    TestNG:\n    ---------\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n    &lt;suite name=&quot;Sauce Demo Cucumber Test Automation&quot;&gt;\n        &lt;parameter name=&quot;browser&quot; value=&quot;Chrome&quot; /&gt;\n        &lt;test thread-count=&quot;2&quot; name=&quot;test&quot; parallel=&quot;classes&quot;&gt;\n            &lt;classes&gt;\n                &lt;class name=&quot;com.automation.cucumber.runner.ui.SauceDemoRunner&quot; /&gt;\n            &lt;/classes&gt;\n        &lt;/test&gt; &lt;!-- Test --&gt;\n    &lt;/suite&gt; &lt;!-- Suite --&gt;\n    \n    Step definitions base class:\n----------------------------\n    import org.openqa.selenium.WebDriver;\n    import org.testng.Reporter;\n    import org.testng.xml.XmlTest;\n    \n    public class BaseStepDefinition {\n        WebDriver driver;\n        XmlTest xmlTest;\n    \n        public BaseStepDefinition() {\n            try {\n                xmlTest = Reporter.getCurrentTestResult().getTestContext().getCurrentXmlTest();\n                System.out.println(xmlTest.getParameter(&quot;browser&quot;));\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n    \n        }\n    \n    }\n    \n    Step definitions class:\n--------------------------------\n    import io.cucumber.java.After;\n    import io.cucumber.java.en.Given;\n    \n    public class SauceDemoStepDefinition extends BaseStepDefinition {\n    \n        @After\n        public void tearDown() throws Exception {\n    \n        }\n    \n        @Given(&quot;^User is on login page$&quot;)\n        public void user_is_on_login_page() throws Exception {\n    \n        }\n    \n    }\n</code></pre>\n"}],"owner":{"account_id":208253,"reputation":633,"user_id":458616,"display_name":"Ency"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55823902,"answer_count":3,"score":1,"last_activity_date":1675799880,"creation_date":1556014287,"question_id":55808880,"body_markdown":"I am trying to run my cucumber tests under different browser, so I have `test.xml` (yes, currently just one browser)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;SelfCare&quot; verbose=&quot;1&quot; thread-count=&quot;1&quot; parallel=&quot;tests&quot; configfailurepolicy=&quot;continue&quot;&gt;\r\n        &lt;parameter name=&quot;environment&quot; value=&quot;TEST&quot; /&gt;\r\n        &lt;test name=&quot;Chrome&quot;&gt;\r\n            &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot; /&gt;\r\n            &lt;parameter name=&quot;width&quot; value=&quot;1024&quot; /&gt;\r\n            &lt;parameter name=&quot;height&quot; value=&quot;768&quot; /&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;TestNGRunner&quot;&gt;\r\n                    &lt;methods&gt;\r\n                        &lt;include name=&quot;scenario&quot;/&gt;\r\n                    &lt;/methods&gt;\r\n                &lt;/class&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\nAnd this TestNG runner class, I am able to access parameter `browser` from this runner class, but I would need to pass this variable(s) to Cucumber where are create instance of browser based on passed variables. So far I use it without TestNG and I&#39;m passing those variables through environment variables, however I assume this won&#39;t work if I run tests in parallel on different browsers.\r\n\r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.testng.CucumberFeatureWrapper;\r\n    import cucumber.api.testng.PickleEventWrapper;\r\n    import cucumber.api.testng.TestNGCucumberRunner;\r\n    import org.testng.annotations.*;\r\n    \r\n    @CucumberOptions(\r\n            plugin = {&quot;html:target/cucumber-html-report&quot;,\r\n                    &quot;json:target/cucumber.json&quot;,\r\n                    &quot;pretty:target/cucumber-pretty.txt&quot;,\r\n                    &quot;junit:target/cucumber-results.xml&quot;},\r\n            strict = true,\r\n            extraGlue = {&quot;src/test/resources/Hooks.java&quot;},\r\n            features = {&quot;src/test/resources/Header.feature&quot;}\r\n    )\r\n    public class TestNGRunner {\r\n        private TestNGCucumberRunner testNGCucumberRunner;\r\n        private String browser;\r\n    \r\n        @BeforeClass(alwaysRun = true)\r\n        public void setUpClass() throws Exception {\r\n            testNGCucumberRunner = new TestNGCucumberRunner(this.getClass());\r\n        }\r\n    \r\n        @Parameters(&quot;browser&quot;)\r\n        @BeforeTest\r\n        public void beforeSuite(String browser) {\r\n            System.out.println(&quot;Browser for this test set is &quot; + browser);\r\n            this.browser = browser;\r\n        }\r\n    \r\n        @Test(groups = &quot;Cucumber&quot;, description = &quot;Runs Cucumber Feature&quot;, dataProvider = &quot;scenarios&quot;)\r\n        public void scenario(PickleEventWrapper pickleEvent, CucumberFeatureWrapper cucumberFeature) throws Throwable {\r\n    \r\n            testNGCucumberRunner.runScenario(pickleEvent.getPickleEvent());\r\n        }\r\n    \r\n        @DataProvider\r\n        public Object[][] scenarios() {\r\n            return testNGCucumberRunner.provideScenarios();\r\n        }\r\n    \r\n        @AfterClass(alwaysRun = true)\r\n        public void tearDownClass() throws Exception {\r\n            testNGCucumberRunner.finish();\r\n        }\r\n        \r\n    }\r\n\r\nAny ideas how to achieve that?","title":"How to pass TestNG parameter into Cucumber?","body":"<p>I am trying to run my cucumber tests under different browser, so I have <code>test.xml</code> (yes, currently just one browser)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite name=\"SelfCare\" verbose=\"1\" thread-count=\"1\" parallel=\"tests\" configfailurepolicy=\"continue\"&gt;\n    &lt;parameter name=\"environment\" value=\"TEST\" /&gt;\n    &lt;test name=\"Chrome\"&gt;\n        &lt;parameter name=\"browser\" value=\"chrome\" /&gt;\n        &lt;parameter name=\"width\" value=\"1024\" /&gt;\n        &lt;parameter name=\"height\" value=\"768\" /&gt;\n        &lt;classes&gt;\n            &lt;class name=\"TestNGRunner\"&gt;\n                &lt;methods&gt;\n                    &lt;include name=\"scenario\"/&gt;\n                &lt;/methods&gt;\n            &lt;/class&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n\n<p>And this TestNG runner class, I am able to access parameter <code>browser</code> from this runner class, but I would need to pass this variable(s) to Cucumber where are create instance of browser based on passed variables. So far I use it without TestNG and I'm passing those variables through environment variables, however I assume this won't work if I run tests in parallel on different browsers.</p>\n\n<pre><code>import cucumber.api.CucumberOptions;\nimport cucumber.api.testng.CucumberFeatureWrapper;\nimport cucumber.api.testng.PickleEventWrapper;\nimport cucumber.api.testng.TestNGCucumberRunner;\nimport org.testng.annotations.*;\n\n@CucumberOptions(\n        plugin = {\"html:target/cucumber-html-report\",\n                \"json:target/cucumber.json\",\n                \"pretty:target/cucumber-pretty.txt\",\n                \"junit:target/cucumber-results.xml\"},\n        strict = true,\n        extraGlue = {\"src/test/resources/Hooks.java\"},\n        features = {\"src/test/resources/Header.feature\"}\n)\npublic class TestNGRunner {\n    private TestNGCucumberRunner testNGCucumberRunner;\n    private String browser;\n\n    @BeforeClass(alwaysRun = true)\n    public void setUpClass() throws Exception {\n        testNGCucumberRunner = new TestNGCucumberRunner(this.getClass());\n    }\n\n    @Parameters(\"browser\")\n    @BeforeTest\n    public void beforeSuite(String browser) {\n        System.out.println(\"Browser for this test set is \" + browser);\n        this.browser = browser;\n    }\n\n    @Test(groups = \"Cucumber\", description = \"Runs Cucumber Feature\", dataProvider = \"scenarios\")\n    public void scenario(PickleEventWrapper pickleEvent, CucumberFeatureWrapper cucumberFeature) throws Throwable {\n\n        testNGCucumberRunner.runScenario(pickleEvent.getPickleEvent());\n    }\n\n    @DataProvider\n    public Object[][] scenarios() {\n        return testNGCucumberRunner.provideScenarios();\n    }\n\n    @AfterClass(alwaysRun = true)\n    public void tearDownClass() throws Exception {\n        testNGCucumberRunner.finish();\n    }\n\n}\n</code></pre>\n\n<p>Any ideas how to achieve that?</p>\n"},{"tags":["java","android","kotlin","view","switchcompat"],"owner":{"account_id":5019073,"reputation":3015,"user_id":4033050,"accept_rate":27,"display_name":"Seb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675799586,"creation_date":1675799586,"question_id":75378346,"body_markdown":"I tried to customized a toggle switch and after hours on playing with material, I just gave up and re-used the `SwitchCompat`\r\n\r\n```\r\n&lt;androidx.appcompat.widget.SwitchCompat\r\n            android:id=&quot;@+id/settingsSwitch&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginEnd=&quot;@dimen/cell_padding&quot;\r\n            android:checked=&quot;@{item.enabled}&quot;\r\n            tools:checked=&quot;true&quot;\r\n            android:thumb=&quot;@drawable/ios_thumb&quot;\r\n            app:trackTintMode=&quot;multiply&quot;\r\n            app:trackTint=&quot;@null&quot;\r\n            app:track=&quot;@drawable/ios_track&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\r\n\r\n```\r\n\r\nand the `ios_thumb` look like this:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item android:state_checked=&quot;true&quot;&gt;\r\n        &lt;shape android:dither=&quot;true&quot; android:shape=&quot;rectangle&quot; android:useLevel=&quot;false&quot; android:visible=&quot;true&quot;&gt;\r\n            &lt;solid android:color=&quot;#FFFFFF&quot;/&gt;\r\n            &lt;corners android:radius=&quot;15dp&quot; /&gt;\r\n            &lt;size android:width=&quot;30dp&quot; android:height=&quot;30dp&quot; /&gt;\r\n            &lt;stroke android:width=&quot;4dp&quot; android:color=&quot;#0000ffff&quot; /&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n    &lt;item android:state_checked=&quot;false&quot;&gt;\r\n        &lt;shape android:dither=&quot;true&quot; android:shape=&quot;rectangle&quot; android:useLevel=&quot;false&quot; android:visible=&quot;true&quot;&gt;\r\n            &lt;solid android:color=&quot;#FFFFFF&quot;/&gt;\r\n            &lt;corners android:radius=&quot;15dp&quot; /&gt;\r\n            &lt;size android:width=&quot;30dp&quot; android:height=&quot;30dp&quot; /&gt;\r\n            &lt;stroke android:width=&quot;4dp&quot; android:color=&quot;#0000ffff&quot; /&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n&lt;/selector&gt;\r\n\r\n```\r\n\r\nand ios_track as below:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item android:state_checked=&quot;true&quot;&gt;\r\n        &lt;shape android:dither=&quot;true&quot; android:shape=&quot;rectangle&quot; android:useLevel=&quot;false&quot; android:visible=&quot;true&quot;&gt;\r\n            &lt;solid android:color=&quot;@color/green300&quot;/&gt;\r\n            &lt;corners android:radius=&quot;25dp&quot; /&gt;\r\n            &lt;size android:width=&quot;60dp&quot; android:height=&quot;30dp&quot; /&gt;\r\n\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n    &lt;item android:state_checked=&quot;false&quot;&gt;\r\n        &lt;shape android:dither=&quot;true&quot; android:shape=&quot;rectangle&quot; android:useLevel=&quot;false&quot; android:visible=&quot;true&quot;&gt;\r\n            &lt;solid android:color=&quot;@color/lightness200&quot;/&gt;\r\n            &lt;corners android:radius=&quot;25dp&quot; /&gt;\r\n            &lt;size android:width=&quot;60dp&quot; android:height=&quot;30dp&quot; /&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n&lt;/selector&gt;\r\n```\r\n\r\nthe mechanism works and I almost there for the customization... Only thing is that :\r\n- When the switch is to false for check or true, it&#39;s not exactly reflecting the color.\r\n\r\nAs an example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe white is grey-ish. I think the false is also bad but as my background for false state is a transparent white it&#39;s not affecting the visual. It&#39;s look like the track is displayed over the thumb instead of the opposite. Any idea?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AMGAW.png","title":"customize a toggle switch for Android","body":"<p>I tried to customized a toggle switch and after hours on playing with material, I just gave up and re-used the <code>SwitchCompat</code></p>\n<pre><code>&lt;androidx.appcompat.widget.SwitchCompat\n            android:id=&quot;@+id/settingsSwitch&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;@dimen/cell_padding&quot;\n            android:checked=&quot;@{item.enabled}&quot;\n            tools:checked=&quot;true&quot;\n            android:thumb=&quot;@drawable/ios_thumb&quot;\n            app:trackTintMode=&quot;multiply&quot;\n            app:trackTint=&quot;@null&quot;\n            app:track=&quot;@drawable/ios_track&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\n\n</code></pre>\n<p>and the <code>ios_thumb</code> look like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_checked=&quot;true&quot;&gt;\n        &lt;shape android:dither=&quot;true&quot; android:shape=&quot;rectangle&quot; android:useLevel=&quot;false&quot; android:visible=&quot;true&quot;&gt;\n            &lt;solid android:color=&quot;#FFFFFF&quot;/&gt;\n            &lt;corners android:radius=&quot;15dp&quot; /&gt;\n            &lt;size android:width=&quot;30dp&quot; android:height=&quot;30dp&quot; /&gt;\n            &lt;stroke android:width=&quot;4dp&quot; android:color=&quot;#0000ffff&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n    &lt;item android:state_checked=&quot;false&quot;&gt;\n        &lt;shape android:dither=&quot;true&quot; android:shape=&quot;rectangle&quot; android:useLevel=&quot;false&quot; android:visible=&quot;true&quot;&gt;\n            &lt;solid android:color=&quot;#FFFFFF&quot;/&gt;\n            &lt;corners android:radius=&quot;15dp&quot; /&gt;\n            &lt;size android:width=&quot;30dp&quot; android:height=&quot;30dp&quot; /&gt;\n            &lt;stroke android:width=&quot;4dp&quot; android:color=&quot;#0000ffff&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/selector&gt;\n\n</code></pre>\n<p>and ios_track as below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_checked=&quot;true&quot;&gt;\n        &lt;shape android:dither=&quot;true&quot; android:shape=&quot;rectangle&quot; android:useLevel=&quot;false&quot; android:visible=&quot;true&quot;&gt;\n            &lt;solid android:color=&quot;@color/green300&quot;/&gt;\n            &lt;corners android:radius=&quot;25dp&quot; /&gt;\n            &lt;size android:width=&quot;60dp&quot; android:height=&quot;30dp&quot; /&gt;\n\n        &lt;/shape&gt;\n    &lt;/item&gt;\n    &lt;item android:state_checked=&quot;false&quot;&gt;\n        &lt;shape android:dither=&quot;true&quot; android:shape=&quot;rectangle&quot; android:useLevel=&quot;false&quot; android:visible=&quot;true&quot;&gt;\n            &lt;solid android:color=&quot;@color/lightness200&quot;/&gt;\n            &lt;corners android:radius=&quot;25dp&quot; /&gt;\n            &lt;size android:width=&quot;60dp&quot; android:height=&quot;30dp&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>the mechanism works and I almost there for the customization... Only thing is that :</p>\n<ul>\n<li>When the switch is to false for check or true, it's not exactly reflecting the color.</li>\n</ul>\n<p>As an example:</p>\n<p><a href=\"https://i.stack.imgur.com/AMGAW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AMGAW.png\" alt=\"enter image description here\" /></a></p>\n<p>The white is grey-ish. I think the false is also bad but as my background for false state is a transparent white it's not affecting the visual. It's look like the track is displayed over the thumb instead of the opposite. Any idea?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","amazon-ecs"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675799414,"creation_date":1675799414,"answer_id":75378324,"question_id":75378253,"body_markdown":"I doubt Spring will take that S3 URL and automatically know how to connect to an S3 bucket and perform S3 object operations to load the file from there. You will need to add something to your docker image&#39;s startup script to download that file from S3 to the local file system, probably using the [AWS CLI][1], before starting the Spring application.\r\n\r\n\r\n  [1]: https://awscli.amazonaws.com/v2/documentation/api/latest/reference/s3/index.html","title":"Load spring logback.xml from s3","body":"<p>I doubt Spring will take that S3 URL and automatically know how to connect to an S3 bucket and perform S3 object operations to load the file from there. You will need to add something to your docker image's startup script to download that file from S3 to the local file system, probably using the <a href=\"https://awscli.amazonaws.com/v2/documentation/api/latest/reference/s3/index.html\" rel=\"nofollow noreferrer\">AWS CLI</a>, before starting the Spring application.</p>\n"}],"owner":{"account_id":17034955,"reputation":1,"user_id":12324198,"display_name":"Sarthak Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675799414,"creation_date":1675798922,"question_id":75378253,"body_markdown":"So, what I want is to put my logback.xml in the aws s3 bucket and when my service is deployed in ECS of aws, the logback.xml should be picked from s3 bucket.\r\n\r\n\r\nSimilarly, when we want the logback.xml file to be picked from outside the root repository in local  machine we use \r\n```\r\nlogging.config= path to logback.xml\r\n```\r\nLet me know if we can do that and how?\r\n\r\nI tried adding env variable as \r\n```\r\nlogging.config = s3bucket file URL/arn/object URL\r\n```\r\nit didn&#39;t work for me","title":"Load spring logback.xml from s3","body":"<p>So, what I want is to put my logback.xml in the aws s3 bucket and when my service is deployed in ECS of aws, the logback.xml should be picked from s3 bucket.</p>\n<p>Similarly, when we want the logback.xml file to be picked from outside the root repository in local  machine we use</p>\n<pre><code>logging.config= path to logback.xml\n</code></pre>\n<p>Let me know if we can do that and how?</p>\n<p>I tried adding env variable as</p>\n<pre><code>logging.config = s3bucket file URL/arn/object URL\n</code></pre>\n<p>it didn't work for me</p>\n"},{"tags":["java","pthreads","posix","quarkus","vert.x"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1675558078,"post_id":75349229,"comment_id":132955442,"body_markdown":"It&#39;s possible that IO involves a context switch, and other parts of the system are involved in IO, but &quot;I/O Thread&quot; misses the point.  As much as possible, the IO is done by your application and in the threads that you call those methods with.  At some point, the kernel probably gets involved and sets up a DMA transfer, but that happens as seldom as possible.","body":"It&#39;s possible that IO involves a context switch, and other parts of the system are involved in IO, but &quot;I/O Thread&quot; misses the point.  As much as possible, the IO is done by your application and in the threads that you call those methods with.  At some point, the kernel probably gets involved and sets up a DMA transfer, but that happens as seldom as possible."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1675564750,"post_id":75349229,"comment_id":132956124,"body_markdown":"&quot;The I/O thread&quot; is the thread that you&#39;ve decided to call &quot;the I/O thread&quot;.  Presumably your design has it doing I/O, but that&#39;s up to you.","body":"&quot;The I/O thread&quot; is the thread that you&#39;ve decided to call &quot;the I/O thread&quot;.  Presumably your design has it doing I/O, but that&#39;s up to you."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675555855,"creation_date":1675555855,"answer_id":75349259,"question_id":75349229,"body_markdown":"There is no such thing as &#39;The&#39; I/O thread. There isn&#39;t even such a thing as &#39;a&#39; I/O thread.\r\n\r\nA thread can do whatever it wants. You can have 1000 threads, all of them switching between reading a file (that&#39;d be I/O by any sane definition of that word) and doing a complex calculation (that surely isn&#39;t I/O).\r\n\r\nSo, what&#39;s the I/O thread here? All of them? None of them? A nebulous definition where each thread is an I/O thread but only if they are on the &#39;read from file&#39; part of the process?\r\n\r\nThe thing is, I/O thread is not a concept in the java lang spec nor is it a concept in any library I know of. It just doesn&#39;t matter. At best, the term is being used in some book, tutorial, or lecture as a &#39;shorthand&#39; to mean something specific. The term is not, however, that kind of specific - from the context of said tutorial, book, or lecture it is probably easy to figure out what it means, but you did not provide this context, so who knows what &#39;I/O thread&#39; is supposed to mean here.\r\n\r\n&gt; Are I/O thread and EventLoop the same thing?\r\n\r\nFor most definitions of the whatever I/O thread might mean, and for most definitions of what &#39;event loop&#39; means, they are __the opposite__, actually.\r\n\r\n&gt; There is a moment where a server thread needs to accept a connection and read/write to it\r\n\r\nOne somewhat common setup is:\r\n\r\nOne thread calls `serverSocket.accept()` - this will block (freeze the thread) until a new connection shows up. At that point, the `accept()` method returns __and therefore no further socket connections can be accepted__ and that&#39;s bad, it needs to get back into that `accept()` call asap. The network stack will not deny any incoming requests, it just holds on to them, it&#39;s like letting the phone ring for a bit.\r\n\r\nGiven that it needs to get back in there ASAP, it will fire up a new thread and hand it the socket that was just created, so that this thread can do do the job of reading/writing to that connecting entity, so that the &#39;socket accepting thread&#39; can get back to calling `.accept()` as soon as feasible. A good setup will keep track of how many threads are currently actively dealing with open connections; if too many come in it should slow down or possibly start denying connections.\r\n\r\nThere isn&#39;t an event loop in this scenario. If you want to call the socket-accepting thread &#39;the I/O thread&#39;, that&#39;s ... a weird term to apply to that. Why not just call it the &#39;socket accepting thread&#39;, that&#39;s a heck of a lot clearer.\r\n\r\n","title":"what is the I/O Thread? is it a OS thread or User thread?","body":"<p>There is no such thing as 'The' I/O thread. There isn't even such a thing as 'a' I/O thread.</p>\n<p>A thread can do whatever it wants. You can have 1000 threads, all of them switching between reading a file (that'd be I/O by any sane definition of that word) and doing a complex calculation (that surely isn't I/O).</p>\n<p>So, what's the I/O thread here? All of them? None of them? A nebulous definition where each thread is an I/O thread but only if they are on the 'read from file' part of the process?</p>\n<p>The thing is, I/O thread is not a concept in the java lang spec nor is it a concept in any library I know of. It just doesn't matter. At best, the term is being used in some book, tutorial, or lecture as a 'shorthand' to mean something specific. The term is not, however, that kind of specific - from the context of said tutorial, book, or lecture it is probably easy to figure out what it means, but you did not provide this context, so who knows what 'I/O thread' is supposed to mean here.</p>\n<blockquote>\n<p>Are I/O thread and EventLoop the same thing?</p>\n</blockquote>\n<p>For most definitions of the whatever I/O thread might mean, and for most definitions of what 'event loop' means, they are <strong>the opposite</strong>, actually.</p>\n<blockquote>\n<p>There is a moment where a server thread needs to accept a connection and read/write to it</p>\n</blockquote>\n<p>One somewhat common setup is:</p>\n<p>One thread calls <code>serverSocket.accept()</code> - this will block (freeze the thread) until a new connection shows up. At that point, the <code>accept()</code> method returns <strong>and therefore no further socket connections can be accepted</strong> and that's bad, it needs to get back into that <code>accept()</code> call asap. The network stack will not deny any incoming requests, it just holds on to them, it's like letting the phone ring for a bit.</p>\n<p>Given that it needs to get back in there ASAP, it will fire up a new thread and hand it the socket that was just created, so that this thread can do do the job of reading/writing to that connecting entity, so that the 'socket accepting thread' can get back to calling <code>.accept()</code> as soon as feasible. A good setup will keep track of how many threads are currently actively dealing with open connections; if too many come in it should slow down or possibly start denying connections.</p>\n<p>There isn't an event loop in this scenario. If you want to call the socket-accepting thread 'the I/O thread', that's ... a weird term to apply to that. Why not just call it the 'socket accepting thread', that's a heck of a lot clearer.</p>\n"},{"tags":[],"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675799299,"creation_date":1675799299,"answer_id":75378303,"question_id":75349229,"body_markdown":"Looks like I/O thread and EventLoop thread are used interchangebly.&lt;br/&gt;\r\nGenerally there is an event loop when it is using the Async/Event I/O Model once the kernel can send a message to the user process whenever I/O is ready/completed.","title":"what is the I/O Thread? is it a OS thread or User thread?","body":"<p>Looks like I/O thread and EventLoop thread are used interchangebly.<br/>\nGenerally there is an event loop when it is using the Async/Event I/O Model once the kernel can send a message to the user process whenever I/O is ready/completed.</p>\n"}],"owner":{"account_id":3026505,"reputation":89,"user_id":2566397,"accept_rate":100,"display_name":"user2566397"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1675885185,"accepted_answer_id":75378303,"answer_count":2,"score":1,"last_activity_date":1675799299,"creation_date":1675555384,"question_id":75349229,"body_markdown":"There is a moment where a server thread needs to accept a connection and read/write to it, is this thread what we call I/O Thread? Are I/O thread and EventLoop the same thing?\r\n\r\n**EDIT:**&lt;br/&gt;\r\nA bit more context, this is the article I was reading: [article][1]&lt;br/&gt;\r\nThe statement &quot;the request is handled by the reactive engine on the IO thread&quot; got me thinking on the question above\r\n\r\n\r\n  [1]: https://quarkus.io/blog/io-thread-benchmark/#hello-world-microbenchmark-io-thread-or-worker-thread","title":"what is the I/O Thread? is it a OS thread or User thread?","body":"<p>There is a moment where a server thread needs to accept a connection and read/write to it, is this thread what we call I/O Thread? Are I/O thread and EventLoop the same thing?</p>\n<p><strong>EDIT:</strong><br/>\nA bit more context, this is the article I was reading: <a href=\"https://quarkus.io/blog/io-thread-benchmark/#hello-world-microbenchmark-io-thread-or-worker-thread\" rel=\"nofollow noreferrer\">article</a><br/>\nThe statement &quot;the request is handled by the reactive engine on the IO thread&quot; got me thinking on the question above</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":29634,"reputation":12494,"user_id":80243,"accept_rate":46,"display_name":"L̲̳o̲̳̳n̲̳̳g̲̳̳p̲̳o̲̳̳k̲̳̳e̲̳̳"},"score":19,"creation_date":1364694975,"post_id":461896,"comment_id":22339825,"body_markdown":"Why is this closed? This is useful both for other programmers begging concurrency in Java, and to have an idea of what classes of concurrency defects are being observed the most by other Java developers.","body":"Why is this closed? This is useful both for other programmers begging concurrency in Java, and to have an idea of what classes of concurrency defects are being observed the most by other Java developers."},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":0,"creation_date":1369738580,"post_id":461896,"comment_id":24195291,"body_markdown":"@Longpoke The closure message explains why it&#39;s closed.  This isn&#39;t a question with a specific &quot;correct&quot; answer, it&#39;s more of a poll/list question.  And Stack Overflow does not intend to host these sort of questions.  If you disagree with that policy, you may want to discuss it on [meta](http://meta.stackoverflow.com).","body":"@Longpoke The closure message explains why it&#39;s closed.  This isn&#39;t a question with a specific &quot;correct&quot; answer, it&#39;s more of a poll/list question.  And Stack Overflow does not intend to host these sort of questions.  If you disagree with that policy, you may want to discuss it on <a href=\"http://meta.stackoverflow.com\">meta</a>."},{"owner":{"account_id":3916476,"reputation":159,"user_id":3240186,"display_name":"Craig Manson"},"score":8,"creation_date":1393950937,"post_id":461896,"comment_id":33661155,"body_markdown":"I guess the community disagrees as this article&#39;s getting 100+ views/day! I&#39;ve found it very useful as I&#39;m involved with the development of a static analysis tool specifically designed to fix concurrency issues http://www.contemplateltd.com/threadsafe. Having a bank of commonly encountered concurrency problems has been great for testing and improving ThreadSafe.","body":"I guess the community disagrees as this article&#39;s getting 100+ views/day! I&#39;ve found it very useful as I&#39;m involved with the development of a static analysis tool specifically designed to fix concurrency issues <a href=\"http://www.contemplateltd.com/threadsafe\" rel=\"nofollow noreferrer\">contemplateltd.com/threadsafe</a>. Having a bank of commonly encountered concurrency problems has been great for testing and improving ThreadSafe."},{"owner":{"account_id":326925,"reputation":14868,"user_id":648955,"accept_rate":62,"display_name":"leventov"},"score":0,"creation_date":1567355322,"post_id":461896,"comment_id":101932878,"body_markdown":"[Code review checklist for Java Concurrency](https://github.com/code-review-checklists/java-concurrency) digests most of the pitfalls mentioned in the answers to this question in a form convenient for day-to-day code reviews.","body":"<a href=\"https://github.com/code-review-checklists/java-concurrency\" rel=\"nofollow noreferrer\">Code review checklist for Java Concurrency</a> digests most of the pitfalls mentioned in the answers to this question in a form convenient for day-to-day code reviews."}],"answers":[{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1232467345,"creation_date":1232467345,"answer_id":461910,"question_id":461896,"body_markdown":"One classic problem is changing the object you&#39;re synchronizing on while synchronizing on it:\r\n\r\n    synchronized(foo) {\r\n      foo = ...\r\n    }\r\n\r\nOther concurrent threads are then synchronizing on a different object and this block does not provide the mutual exclusion you expect.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>One classic problem is changing the object you're synchronizing on while synchronizing on it:</p>\n\n<pre><code>synchronized(foo) {\n  foo = ...\n}\n</code></pre>\n\n<p>Other concurrent threads are then synchronizing on a different object and this block does not provide the mutual exclusion you expect.</p>\n"},{"tags":[],"owner":{"account_id":13068,"reputation":2596,"user_id":26056,"accept_rate":0,"display_name":"kohlerm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1232467381,"creation_date":1232467381,"answer_id":461913,"question_id":461896,"body_markdown":"Use of a global object such as a static variable for locking. \r\n\r\nThis leads to very bad performance because of contention. ","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Use of a global object such as a static variable for locking. </p>\n\n<p>This leads to very bad performance because of contention. </p>\n"},{"tags":[],"owner":{"account_id":17822,"reputation":39726,"user_id":40310,"accept_rate":62,"display_name":"Dave Ray"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1232467904,"creation_date":1232467496,"answer_id":461922,"question_id":461896,"body_markdown":"My biggest problem has always been deadlocks, especially caused by listeners that are fired with a lock held.  In these cases, it&#39;s really easy to get inverted locking between two threads. In my case, between a simulation running in one thread and a visualization of the simulation running in the UI thread.\r\n\r\nEDIT: Moved second part to separate answer.\r\n","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>My biggest problem has always been deadlocks, especially caused by listeners that are fired with a lock held.  In these cases, it's really easy to get inverted locking between two threads. In my case, between a simulation running in one thread and a visualization of the simulation running in the UI thread.</p>\n\n<p>EDIT: Moved second part to separate answer.</p>\n"},{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1232468573,"creation_date":1232467670,"answer_id":461947,"question_id":461896,"body_markdown":"Unbalanced synchronization, particularly against Maps seems to be a fairly common problem.  Many people believe that synchronizing on puts to a Map (not a ConcurrentMap, but say a HashMap) and not synchronizing on gets is sufficient.  This however can lead to an infinite loop during re-hash.  \r\n\r\nThe same problem (partial synchronization) can occur anywhere you have shared state with reads and writes however.  ","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Unbalanced synchronization, particularly against Maps seems to be a fairly common problem.  Many people believe that synchronizing on puts to a Map (not a ConcurrentMap, but say a HashMap) and not synchronizing on gets is sufficient.  This however can lead to an infinite loop during re-hash.  </p>\n\n<p>The same problem (partial synchronization) can occur anywhere you have shared state with reads and writes however.  </p>\n"},{"tags":[],"owner":{"account_id":21873,"reputation":25813,"user_id":53495,"display_name":"Brian Clapper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1232467911,"creation_date":1232467911,"answer_id":461961,"question_id":461896,"body_markdown":"Honesly? Prior to the advent of `java.util.concurrent`, the most common problem I routinely ran into was what I call &quot;thread-thrashing&quot;: Applications that use threads for concurrency, but spawn too many of them and end up thrashing.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Honesly? Prior to the advent of <code>java.util.concurrent</code>, the most common problem I routinely ran into was what I call \"thread-thrashing\": Applications that use threads for concurrency, but spawn too many of them and end up thrashing.</p>\n"},{"tags":[],"owner":{"account_id":17822,"reputation":39726,"user_id":40310,"accept_rate":62,"display_name":"Dave Ray"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1232467933,"creation_date":1232467933,"answer_id":461964,"question_id":461896,"body_markdown":"The dumbest mistake I frequently make is forgetting to synchronize before calling notify() or wait() on an object.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>The dumbest mistake I frequently make is forgetting to synchronize before calling notify() or wait() on an object.</p>\n"},{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"down_vote_count":2,"up_vote_count":39,"is_accepted":false,"score":37,"last_activity_date":1232468063,"creation_date":1232468063,"answer_id":461977,"question_id":461896,"body_markdown":"Though probably not exactly what you are asking for, the most frequent concurrency-related problem I&#39;ve encountered (probably because it comes up in normal single-threaded code) is a\r\n\r\n   `java.util.ConcurrentModificationException`\r\n\r\ncaused by things like:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\n    for (String string : list) { list.remove(string); }","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Though probably not exactly what you are asking for, the most frequent concurrency-related problem I've encountered (probably because it comes up in normal single-threaded code) is a</p>\n\n<p><code>java.util.ConcurrentModificationException</code></p>\n\n<p>caused by things like:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(\"a\", \"b\", \"c\"));\nfor (String string : list) { list.remove(string); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3958,"reputation":4898,"user_id":5814,"display_name":"Brendan Cashman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1232468137,"creation_date":1232468137,"answer_id":461984,"question_id":461896,"body_markdown":"Multiple objects that are lock protected but are commonly accessed in succession. We&#39;ve run into a couple of cases where the locks are obtained by different code in different orders, resulting in deadlock. ","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Multiple objects that are lock protected but are commonly accessed in succession. We've run into a couple of cases where the locks are obtained by different code in different orders, resulting in deadlock. </p>\n"},{"tags":[],"owner":{"account_id":17822,"reputation":39726,"user_id":40310,"accept_rate":62,"display_name":"Dave Ray"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1528941340,"creation_date":1232468203,"answer_id":461990,"question_id":461896,"body_markdown":"Not properly **synchronizing** on objects returned by `Collections.synchronizedXXX()`, especially during iteration or multiple operations:\r\n\r\n    Map&lt;String, String&gt; map = Collections.synchronizedMap(new HashMap&lt;String, String&gt;());\r\n    \r\n    ...\r\n    \r\n    if(!map.containsKey(&quot;foo&quot;))\r\n        map.put(&quot;foo&quot;, &quot;bar&quot;);\r\n\r\nThat&#39;s **wrong**. Despite single operations being `synchronized`, state of map between invoking `contains` and `put` can be changed by another thread. It should be:\r\n\r\n    synchronized(map) {\r\n        if(!map.containsKey(&quot;foo&quot;))\r\n            map.put(&quot;foo&quot;, &quot;bar&quot;);\r\n    }\r\n\r\nOr with a `ConcurrentMap` implementation:\r\n\r\n    map.putIfAbsent(&quot;foo&quot;, &quot;bar&quot;);\r\n","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Not properly <strong>synchronizing</strong> on objects returned by <code>Collections.synchronizedXXX()</code>, especially during iteration or multiple operations:</p>\n\n<pre><code>Map&lt;String, String&gt; map = Collections.synchronizedMap(new HashMap&lt;String, String&gt;());\n\n...\n\nif(!map.containsKey(\"foo\"))\n    map.put(\"foo\", \"bar\");\n</code></pre>\n\n<p>That's <strong>wrong</strong>. Despite single operations being <code>synchronized</code>, state of map between invoking <code>contains</code> and <code>put</code> can be changed by another thread. It should be:</p>\n\n<pre><code>synchronized(map) {\n    if(!map.containsKey(\"foo\"))\n        map.put(\"foo\", \"bar\");\n}\n</code></pre>\n\n<p>Or with a <code>ConcurrentMap</code> implementation:</p>\n\n<pre><code>map.putIfAbsent(\"foo\", \"bar\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1675799234,"creation_date":1232468256,"answer_id":461994,"question_id":461896,"body_markdown":"A common problem is using classes like `Calendar` and `SimpleDateFormat` from multiple threads (often by caching them in a static variable) without synchronization.  These classes are not thread-safe so multi-threaded access will ultimately cause strange problems with inconsistent state.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>A common problem is using classes like <code>Calendar</code> and <code>SimpleDateFormat</code> from multiple threads (often by caching them in a static variable) without synchronization.  These classes are not thread-safe so multi-threaded access will ultimately cause strange problems with inconsistent state.</p>\n"},{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1232468755,"creation_date":1232468755,"answer_id":462035,"question_id":461896,"body_markdown":"Forgetting to wait() (or Condition.await()) in a loop, checking that the waiting condition is actually true.  Without this, you run into bugs from spurious wait() wakeups.  Canonical usage should be:\r\n\r\n     synchronized (obj) {\r\n         while (&lt;condition does not hold&gt;) {\r\n             obj.wait();\r\n         }\r\n         // do stuff based on condition being true\r\n     }\r\n","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Forgetting to wait() (or Condition.await()) in a loop, checking that the waiting condition is actually true.  Without this, you run into bugs from spurious wait() wakeups.  Canonical usage should be:</p>\n\n<pre><code> synchronized (obj) {\n     while (&lt;condition does not hold&gt;) {\n         obj.wait();\n     }\n     // do stuff based on condition being true\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14176,"reputation":4146,"user_id":28946,"accept_rate":84,"display_name":"Jen S."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1232469084,"creation_date":1232469084,"answer_id":462050,"question_id":461896,"body_markdown":"Race conditions during an object&#39;s finalize/release/shutdown/destructor method and normal invocations. \r\n\r\nFrom Java, I do a lot of integration with resources that need to be closed, such as COM objects or Flash players. Developers always forget to do this properly and end up having a thread call an object that has been shutdown. ","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Race conditions during an object's finalize/release/shutdown/destructor method and normal invocations. </p>\n\n<p>From Java, I do a lot of integration with resources that need to be closed, such as COM objects or Flash players. Developers always forget to do this properly and end up having a thread call an object that has been shutdown. </p>\n"},{"tags":[],"owner":{"account_id":6118,"reputation":2882,"user_id":10166,"accept_rate":50,"display_name":"Javamann"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1232469238,"creation_date":1232469238,"answer_id":462058,"question_id":461896,"body_markdown":"The biggest problem I have run across is developers that add multi-threading support as an afterthought. ","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>The biggest problem I have run across is developers that add multi-threading support as an afterthought. </p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1232469915,"creation_date":1232469915,"answer_id":462095,"question_id":461896,"body_markdown":"Thinking you are writing single-threaded code, but using mutable statics (including singletons). Obviously they will be shared between threads. This happens surprisingly often.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Thinking you are writing single-threaded code, but using mutable statics (including singletons). Obviously they will be shared between threads. This happens surprisingly often.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632219484,"creation_date":1232470113,"answer_id":462108,"question_id":461896,"body_markdown":"Not realising the `java.awt.EventQueue.invokeAndWait` acts as if it holds a lock (exclusive access to the Event Dispatch Thread, EDT). The great thing about deadlocks is that even if that happens rarely you can grab a stack trace with jstack or the like. I&#39;ve seen this in a number of widely used programs (a fix to a problem I have only seen occur once in Netbeans should be included in the next release).\r\n\r\n","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Not realising the <code>java.awt.EventQueue.invokeAndWait</code> acts as if it holds a lock (exclusive access to the Event Dispatch Thread, EDT). The great thing about deadlocks is that even if that happens rarely you can grab a stack trace with jstack or the like. I've seen this in a number of widely used programs (a fix to a problem I have only seen occur once in Netbeans should be included in the next release).</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1232470389,"creation_date":1232470389,"answer_id":462131,"question_id":461896,"body_markdown":"Not realising that the `this` in an inner class is not the `this` of the outer class. Typically in an anonymous inner class that implements `Runnable`. The root problem is that because synchronisation is part of all `Object`s there is effectively no static type checking. I&#39;ve seen this at least twice on usenet, and it also appears in Brian Goetz&#39;z Java Concurrency in Practice.\r\n\r\nBGGA closures don&#39;t suffer from this as there is no `this` for the closure (`this` references the outer class). If you use non-`this` objects as locks then it gets around this problem and others.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Not realising that the <code>this</code> in an inner class is not the <code>this</code> of the outer class. Typically in an anonymous inner class that implements <code>Runnable</code>. The root problem is that because synchronisation is part of all <code>Object</code>s there is effectively no static type checking. I've seen this at least twice on usenet, and it also appears in Brian Goetz'z Java Concurrency in Practice.</p>\n\n<p>BGGA closures don't suffer from this as there is no <code>this</code> for the closure (<code>this</code> references the outer class). If you use non-<code>this</code> objects as locks then it gets around this problem and others.</p>\n"},{"tags":[],"owner":{"account_id":17807,"reputation":4422,"user_id":40257,"accept_rate":80,"display_name":"Eric Burke"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1232470875,"creation_date":1232470875,"answer_id":462149,"question_id":461896,"body_markdown":"The most common bug we see where I work is programmers perform long operations, like server calls, on the EDT, locking up the GUI for a few seconds and making the app unresponsive.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>The most common bug we see where I work is programmers perform long operations, like server calls, on the EDT, locking up the GUI for a few seconds and making the app unresponsive.</p>\n"},{"tags":[],"owner":{"account_id":17807,"reputation":4422,"user_id":40257,"accept_rate":80,"display_name":"Eric Burke"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1232471190,"creation_date":1232471190,"answer_id":462170,"question_id":461896,"body_markdown":"Another common bug is poor exception handling. When a background thread throws an exception, if you don&#39;t handle it properly, you might not see the stack trace at all. Or perhaps your background task stops running and never starts again because you failed to handle the exception.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Another common bug is poor exception handling. When a background thread throws an exception, if you don't handle it properly, you might not see the stack trace at all. Or perhaps your background task stops running and never starts again because you failed to handle the exception.</p>\n"},{"tags":[],"owner":{"account_id":22968,"reputation":476,"user_id":57169,"display_name":"Kirk Wylie"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1232471212,"creation_date":1232471212,"answer_id":462174,"question_id":461896,"body_markdown":"Double-Checked Locking. By and large.\r\n\r\nThe paradigm, which I started learning the problems of when I was working at BEA, is that people will check a singleton in the following way:\r\n\r\n    public Class MySingleton {\r\n      private static MySingleton s_instance;\r\n      public static MySingleton getInstance() {\r\n        if(s_instance == null) {\r\n          synchronized(MySingleton.class) { s_instance = new MySingleton(); }\r\n        }\r\n        return s_instance;\r\n      }\r\n    }\r\n\r\nThis never works, because another thread might have gotten into the synchronized block and s_instance is no longer null. So the natural change is then to make it:\r\n\r\n      public static MySingleton getInstance() {\r\n        if(s_instance == null) {\r\n          synchronized(MySingleton.class) {\r\n            if(s_instance == null) s_instance = new MySingleton();\r\n          }\r\n        }\r\n        return s_instance;\r\n      }\r\n\r\nThat doesn&#39;t work either, because the Java Memory Model doesn&#39;t support it. You need to declare s_instance as volatile to make it work, and even then it only works on Java 5.\r\n\r\nPeople that aren&#39;t familiar with the intricacies of the Java Memory Model mess this up *all the time*.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Double-Checked Locking. By and large.</p>\n\n<p>The paradigm, which I started learning the problems of when I was working at BEA, is that people will check a singleton in the following way:</p>\n\n<pre><code>public Class MySingleton {\n  private static MySingleton s_instance;\n  public static MySingleton getInstance() {\n    if(s_instance == null) {\n      synchronized(MySingleton.class) { s_instance = new MySingleton(); }\n    }\n    return s_instance;\n  }\n}\n</code></pre>\n\n<p>This never works, because another thread might have gotten into the synchronized block and s_instance is no longer null. So the natural change is then to make it:</p>\n\n<pre><code>  public static MySingleton getInstance() {\n    if(s_instance == null) {\n      synchronized(MySingleton.class) {\n        if(s_instance == null) s_instance = new MySingleton();\n      }\n    }\n    return s_instance;\n  }\n</code></pre>\n\n<p>That doesn't work either, because the Java Memory Model doesn't support it. You need to declare s_instance as volatile to make it work, and even then it only works on Java 5.</p>\n\n<p>People that aren't familiar with the intricacies of the Java Memory Model mess this up <em>all the time</em>.</p>\n"},{"tags":[],"owner":{"account_id":17807,"reputation":4422,"user_id":40257,"accept_rate":80,"display_name":"Eric Burke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1232471327,"creation_date":1232471327,"answer_id":462179,"question_id":461896,"body_markdown":"Failure to provide clearly defined lifecycle methods on objects that manage long-running threads. I like to create pairs of methods named init() and destroy(). It is also important to actually call destroy() so your app can exit gracefully.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Failure to provide clearly defined lifecycle methods on objects that manage long-running threads. I like to create pairs of methods named init() and destroy(). It is also important to actually call destroy() so your app can exit gracefully.</p>\n"},{"tags":[],"owner":{"account_id":20719,"reputation":1895,"user_id":49786,"accept_rate":100,"display_name":"Ludwig Wensauer"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1232472445,"creation_date":1232472445,"answer_id":462259,"question_id":461896,"body_markdown":"I encountered a concurrency problem with Servlets, when there are mutable fields which will be setted by each request.\r\nBut there is only one servlet-instance for all request, so this worked perfectly in a single user environment but when more than one user requested the servlet unpredictable results occured.\r\n\r\n    public class MyServlet implements Servlet{\r\n        private Object something;\r\n    \r\n        public void service(ServletRequest request, ServletResponse response)\r\n            throws ServletException, IOException{\r\n            this.something = request.getAttribute(&quot;something&quot;);\r\n            doSomething();\r\n        }\r\n    \r\n        private void doSomething(){\r\n            this.something ...\r\n        }\r\n    }","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>I encountered a concurrency problem with Servlets, when there are mutable fields which will be setted by each request.\nBut there is only one servlet-instance for all request, so this worked perfectly in a single user environment but when more than one user requested the servlet unpredictable results occured.</p>\n\n<pre><code>public class MyServlet implements Servlet{\n    private Object something;\n\n    public void service(ServletRequest request, ServletResponse response)\n        throws ServletException, IOException{\n        this.something = request.getAttribute(\"something\");\n        doSomething();\n    }\n\n    private void doSomething(){\n        this.something ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20719,"reputation":1895,"user_id":49786,"accept_rate":100,"display_name":"Ludwig Wensauer"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1232473104,"creation_date":1232473104,"answer_id":462295,"question_id":461896,"body_markdown":"Using a local &quot;new Object()&quot; as mutex.\r\n\r\n    synchronized (new Object())\r\n    {\r\n        System.out.println(&quot;sdfs&quot;);\r\n    }\r\n\r\nThis is useless.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Using a local \"new Object()\" as mutex.</p>\n\n<pre><code>synchronized (new Object())\n{\n    System.out.println(\"sdfs\");\n}\n</code></pre>\n\n<p>This is useless.</p>\n"},{"tags":[],"owner":{"account_id":20719,"reputation":1895,"user_id":49786,"accept_rate":100,"display_name":"Ludwig Wensauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1232474396,"creation_date":1232474396,"answer_id":462371,"question_id":461896,"body_markdown":"Since Java 5 there is Thread.getUncaughtExceptionHandler but this UncaughtExceptionHandler is never called when a ExecutorService/ThreadPool is used.&lt;br/&gt;\r\nAt least I was not able to get the UncaughtExceptionHandler with an ExcutorService working.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Since Java 5 there is Thread.getUncaughtExceptionHandler but this UncaughtExceptionHandler is never called when a ExecutorService/ThreadPool is used.<br/>\nAt least I was not able to get the UncaughtExceptionHandler with an ExcutorService working.</p>\n"},{"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1232474726,"creation_date":1232474726,"answer_id":462391,"question_id":461896,"body_markdown":"Mutable classes in shared data structures\r\n\r\n    Thread1:\r\n        Person p = new Person(&quot;John&quot;);\r\n        sharedMap.put(&quot;Key&quot;, p);\r\n        assert(p.getName().equals(&quot;John&quot;);  // sometimes passes, sometimes fails\r\n    \r\n    Thread2:\r\n        Person p = sharedMap.get(&quot;Key&quot;);\r\n        p.setName(&quot;Alfonso&quot;);\r\n        \r\n\r\nWhen this happens, the code is far more complex that this simplified example. Replicating, finding and fixing the bug is hard. Perhaps it could be avoided if we could mark certain classes as immutable and certain data structures as only holding immutable objects.\r\n","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Mutable classes in shared data structures</p>\n\n<pre><code>Thread1:\n    Person p = new Person(\"John\");\n    sharedMap.put(\"Key\", p);\n    assert(p.getName().equals(\"John\");  // sometimes passes, sometimes fails\n\nThread2:\n    Person p = sharedMap.get(\"Key\");\n    p.setName(\"Alfonso\");\n</code></pre>\n\n<p>When this happens, the code is far more complex that this simplified example. Replicating, finding and fixing the bug is hard. Perhaps it could be avoided if we could mark certain classes as immutable and certain data structures as only holding immutable objects.</p>\n"},{"tags":[],"owner":{"account_id":161,"reputation":19368,"user_id":198,"accept_rate":81,"display_name":"dlinsin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1232623098,"creation_date":1232478323,"answer_id":462630,"question_id":461896,"body_markdown":"    public class ThreadA implements Runnable {\r\n        private volatile SharedObject obj;\r\n    \r\n        public void run() {\r\n            while (true) {\r\n                obj = new SharedObject();\r\n                obj.setValue(&quot;Hallo&quot;);\r\n            }\r\n        }\r\n    \r\n        public SharedObject getObj() {\r\n            return obj;\r\n        }\r\n    }\r\n\r\nThe problem I&#39;m trying to point out here (among others) is that the flush of the SharedObject obj happens before setting the value &quot;Hallo&quot;. That means that the consumer of getObj() might retrieve an instance where getValue() returns null.\r\n    \r\n    public class ThreadB implements Runnable {\r\n        ThreadA a = null;\r\n    \r\n        public ThreadB(ThreadA a) {\r\n            this.a = a;\r\n        }\r\n    \r\n        public void run() {\r\n            while (true) {\r\n                try {\r\n                    System.out.println(&quot;SharedObject: &quot; + a.getObj().getVal());\r\n                    Thread.sleep(50);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class SharedObject {\r\n        private String val = null;\r\n    \r\n        public SharedObject() {\r\n        }\r\n    \r\n        public String getVal() {\r\n            return val;\r\n        }\r\n    \r\n        public void setVal(String val) {\r\n            this.val = val;\r\n        }\r\n    }\r\n\r\n","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<pre><code>public class ThreadA implements Runnable {\n    private volatile SharedObject obj;\n\n    public void run() {\n        while (true) {\n            obj = new SharedObject();\n            obj.setValue(\"Hallo\");\n        }\n    }\n\n    public SharedObject getObj() {\n        return obj;\n    }\n}\n</code></pre>\n\n<p>The problem I'm trying to point out here (among others) is that the flush of the SharedObject obj happens before setting the value \"Hallo\". That means that the consumer of getObj() might retrieve an instance where getValue() returns null.</p>\n\n<pre><code>public class ThreadB implements Runnable {\n    ThreadA a = null;\n\n    public ThreadB(ThreadA a) {\n        this.a = a;\n    }\n\n    public void run() {\n        while (true) {\n            try {\n                System.out.println(\"SharedObject: \" + a.getObj().getVal());\n                Thread.sleep(50);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\npublic class SharedObject {\n    private String val = null;\n\n    public SharedObject() {\n    }\n\n    public String getVal() {\n        return val;\n    }\n\n    public void setVal(String val) {\n        this.val = val;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22980,"reputation":1293,"user_id":57217,"accept_rate":100,"display_name":"Kutzi"},"down_vote_count":1,"up_vote_count":128,"is_accepted":true,"score":127,"last_activity_date":1675799180,"creation_date":1232478581,"answer_id":462648,"question_id":461896,"body_markdown":"The most common concurrency problem I&#39;ve seen, is not realizing that a field written by one thread is *not guaranteed* to be seen by a different thread. A common application of this:\r\n\r\n    class MyThread extends Thread {\r\n      private boolean stop = false;\r\n      \r\n      public void run() {\r\n        while(!stop) {\r\n          doSomeWork();\r\n        }\r\n      }\r\n      \r\n      public void setStop() {\r\n        this.stop = true;\r\n      }\r\n    }\r\n\r\nAs long as `stop` is not *volatile* or `setStop` and `run` are not *synchronized* this is not guaranteed to work. This mistake is especially devilish as in 99.999% it won&#39;t matter in practice as the reader thread will eventually see the change - but we don&#39;t know how soon he saw it.\r\n   ","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>The most common concurrency problem I've seen, is not realizing that a field written by one thread is <em>not guaranteed</em> to be seen by a different thread. A common application of this:</p>\n<pre><code>class MyThread extends Thread {\n  private boolean stop = false;\n  \n  public void run() {\n    while(!stop) {\n      doSomeWork();\n    }\n  }\n  \n  public void setStop() {\n    this.stop = true;\n  }\n}\n</code></pre>\n<p>As long as <code>stop</code> is not <em>volatile</em> or <code>setStop</code> and <code>run</code> are not <em>synchronized</em> this is not guaranteed to work. This mistake is especially devilish as in 99.999% it won't matter in practice as the reader thread will eventually see the change - but we don't know how soon he saw it.</p>\n"},{"tags":[],"owner":{"account_id":5382,"reputation":10719,"user_id":2495576,"accept_rate":100,"display_name":"Scott Bale"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1232478745,"creation_date":1232478745,"answer_id":462657,"question_id":461896,"body_markdown":"**Arbitrary method calls should not be made from within synchronized blocks.**\r\n\r\nDave Ray touched on this in his first answer, and in fact I also encountered a deadlock also having to do with invoking methods on listeners from within a synchronized method.  I think the more general lesson is that method calls should not be made &quot;into the wild&quot; from within a synchronized block - you have no idea if the call will be long-running, result in deadlock, or whatever.\r\n\r\nIn this case, and usually in general, the solution was to reduce the scope of the synchronized block to just protect a critical *private* section of code.  \r\n\r\nAlso, since we were now accessing the Collection of listeners outside of a synchronized block, we changed it to be a copy-on-write Collection.  Or we could have simply made a defensive copy of the Collection.  The point being, there are usually alternatives to safely access a Collection of unknown objects.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p><strong>Arbitrary method calls should not be made from within synchronized blocks.</strong></p>\n\n<p>Dave Ray touched on this in his first answer, and in fact I also encountered a deadlock also having to do with invoking methods on listeners from within a synchronized method.  I think the more general lesson is that method calls should not be made \"into the wild\" from within a synchronized block - you have no idea if the call will be long-running, result in deadlock, or whatever.</p>\n\n<p>In this case, and usually in general, the solution was to reduce the scope of the synchronized block to just protect a critical <em>private</em> section of code.  </p>\n\n<p>Also, since we were now accessing the Collection of listeners outside of a synchronized block, we changed it to be a copy-on-write Collection.  Or we could have simply made a defensive copy of the Collection.  The point being, there are usually alternatives to safely access a Collection of unknown objects.</p>\n"},{"tags":[],"owner":{"account_id":20648,"reputation":3330,"user_id":49553,"accept_rate":83,"display_name":"Tim Jansen"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1454320169,"creation_date":1232479490,"answer_id":462714,"question_id":461896,"body_markdown":"I believe in the future the main problem with Java will be the (lack of) visibility guarantees for constructors. For example, if you create the following class\r\n\r\n    class MyClass {\r\n        public int a = 1;\r\n    }\r\n\r\nand then just read the MyClass&#39;s property *a* from another thread, MyClass.a could be either 0 or 1, depending on the JavaVM&#39;s implementation and mood. Today the chances for &#39;a&#39; being 1 are very high. But on future NUMA machines this may be different. Many people are not aware of this and believe that they don&#39;t need to care about multi-threading during the initialization phase. ","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>I believe in the future the main problem with Java will be the (lack of) visibility guarantees for constructors. For example, if you create the following class</p>\n\n<pre><code>class MyClass {\n    public int a = 1;\n}\n</code></pre>\n\n<p>and then just read the MyClass's property <em>a</em> from another thread, MyClass.a could be either 0 or 1, depending on the JavaVM's implementation and mood. Today the chances for 'a' being 1 are very high. But on future NUMA machines this may be different. Many people are not aware of this and believe that they don't need to care about multi-threading during the initialization phase. </p>\n"},{"tags":[],"owner":{"account_id":22980,"reputation":1293,"user_id":57217,"accept_rate":100,"display_name":"Kutzi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1232479645,"creation_date":1232479645,"answer_id":462728,"question_id":461896,"body_markdown":"Another common &#39;concurrency&#39; issue is to use synchronized code when it is not necessary at all. For example I still see programmers using `StringBuffer` or even `java.util.Vector` (as method local variables).","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Another common 'concurrency' issue is to use synchronized code when it is not necessary at all. For example I still see programmers using <code>StringBuffer</code> or even <code>java.util.Vector</code> (as method local variables).</p>\n"},{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1232484944,"creation_date":1232484944,"answer_id":463065,"question_id":461896,"body_markdown":"Synchronizing on a string literal or constant defined by a string literal is (potentially) a problem as the string literal is interned and will be shared by anyone else in the JVM using the same string literal.  I know this problem has come up in application servers and other &quot;container&quot; scenarios.  \r\n\r\nExample:\r\n\r\n    private static final String SOMETHING = &quot;foo&quot;;\r\n\r\n    synchronized(SOMETHING) {\r\n       //\r\n    }\r\n\r\nIn this case, anyone using the string &quot;foo&quot; to lock on is sharing the same lock.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Synchronizing on a string literal or constant defined by a string literal is (potentially) a problem as the string literal is interned and will be shared by anyone else in the JVM using the same string literal.  I know this problem has come up in application servers and other \"container\" scenarios.  </p>\n\n<p>Example:</p>\n\n<pre><code>private static final String SOMETHING = \"foo\";\n\nsynchronized(SOMETHING) {\n   //\n}\n</code></pre>\n\n<p>In this case, anyone using the string \"foo\" to lock on is sharing the same lock.</p>\n"},{"tags":[],"owner":{"account_id":19197,"reputation":25590,"user_id":44757,"accept_rate":84,"display_name":"Jared"},"down_vote_count":0,"up_vote_count":182,"is_accepted":false,"score":182,"last_activity_date":1528941794,"creation_date":1232491477,"answer_id":463437,"question_id":461896,"body_markdown":"My **#1 most painful** concurrency problem ever occurred when **two different** open source libraries did something like this:\r\n\r\n    private static final String LOCK = &quot;LOCK&quot;;  // use matching strings \r\n                                                // in two different libraries\r\n    \r\n    public doSomestuff() {\r\n       synchronized(LOCK) {\r\n           this.work();\r\n       }\r\n    }\r\n\r\nAt first glance, this looks like a pretty trivial synchronization example.   However; because Strings are **interned** in Java, the literal string `&quot;LOCK&quot;` turns out to be the same instance of `java.lang.String` (even though they are declared completely disparately from each other.)  The result is obviously bad.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>My <strong>#1 most painful</strong> concurrency problem ever occurred when <strong>two different</strong> open source libraries did something like this:</p>\n\n<pre><code>private static final String LOCK = \"LOCK\";  // use matching strings \n                                            // in two different libraries\n\npublic doSomestuff() {\n   synchronized(LOCK) {\n       this.work();\n   }\n}\n</code></pre>\n\n<p>At first glance, this looks like a pretty trivial synchronization example.   However; because Strings are <strong>interned</strong> in Java, the literal string <code>\"LOCK\"</code> turns out to be the same instance of <code>java.lang.String</code> (even though they are declared completely disparately from each other.)  The result is obviously bad.</p>\n"},{"tags":[],"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1232523286,"creation_date":1232523286,"answer_id":464344,"question_id":461896,"body_markdown":"Keeping all threads busy.\r\n\r\nThis is most frequent with having to go fix problems in other people&#39;s code, because they abused the locking constructs. As of late, my coworkers seem to have found reader/writer locks quite fun to sprinkle around whereas a little thought removes their need entirely.\r\n\r\nIn my own code, keeping the threads busy is less obvious but challenging. It requires deeper thought into algorithms, such as writing new data structures, or carefully designing a system to ensure that when locking is used it will never be contended.\r\n\r\nSolving concurrency mistakes is easy - trying to figure out how to avoid lock contention can be hard.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Keeping all threads busy.</p>\n\n<p>This is most frequent with having to go fix problems in other people's code, because they abused the locking constructs. As of late, my coworkers seem to have found reader/writer locks quite fun to sprinkle around whereas a little thought removes their need entirely.</p>\n\n<p>In my own code, keeping the threads busy is less obvious but challenging. It requires deeper thought into algorithms, such as writing new data structures, or carefully designing a system to ensure that when locking is used it will never be contended.</p>\n\n<p>Solving concurrency mistakes is easy - trying to figure out how to avoid lock contention can be hard.</p>\n"},{"tags":[],"owner":{"display_name":"David Nouls"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1232525795,"creation_date":1232525795,"answer_id":464415,"question_id":461896,"body_markdown":"1) A common mistake that I have encountered involves iterating over a synchronized Collection class. It is required to manually synchronized before getting the iterator and while iterating.\r\n\r\n2) Another mistake is that most textbooks give the impression that making a class thread safe is just a matter of adding synchronized on every method. That in itself is not a guarantee - it will only protect the integrity of the particular class, but the results can still be undeterministic.\r\n\r\n3) Putting too much time-costly operations in a synchronized block often result in very bad performance. Fortunately the Future pattern in the concurrency package can safe the day.\r\n\r\n4) Caching mutable objects to improve performance often leads to multithreading issues as well (and sometimes very hard to track since you assume you are the only user).\r\n\r\n5) Using multiple synchronisation objects must be carefully handled. ","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>1) A common mistake that I have encountered involves iterating over a synchronized Collection class. It is required to manually synchronized before getting the iterator and while iterating.</p>\n\n<p>2) Another mistake is that most textbooks give the impression that making a class thread safe is just a matter of adding synchronized on every method. That in itself is not a guarantee - it will only protect the integrity of the particular class, but the results can still be undeterministic.</p>\n\n<p>3) Putting too much time-costly operations in a synchronized block often result in very bad performance. Fortunately the Future pattern in the concurrency package can safe the day.</p>\n\n<p>4) Caching mutable objects to improve performance often leads to multithreading issues as well (and sometimes very hard to track since you assume you are the only user).</p>\n\n<p>5) Using multiple synchronisation objects must be carefully handled. </p>\n"},{"tags":[],"owner":{"display_name":"Tony Morris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1232527091,"creation_date":1232527091,"answer_id":464457,"question_id":461896,"body_markdown":"Assisting with the Implementation of Actors in Functional Java and benchmarking millions of threads on multi-core machines.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Assisting with the Implementation of Actors in Functional Java and benchmarking millions of threads on multi-core machines.</p>\n"},{"tags":[],"owner":{"display_name":"Bob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1293792642,"creation_date":1232529029,"answer_id":464529,"question_id":461896,"body_markdown":"    while(true)\r\n    {\r\n       if (...)\r\n         break\r\n    \r\n       doStuff()\r\n    }\r\n\r\nInvariably when developers write while loops they miss the &quot;resource commit&quot;\r\nin their own code.\r\n\r\nNamely if that block does not exit, the application and maybe even the system will lock up and die.  Just because of a simple `while(fantasy_land)...if(...) break`.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<pre><code>while(true)\n{\n   if (...)\n     break\n\n   doStuff()\n}\n</code></pre>\n\n<p>Invariably when developers write while loops they miss the \"resource commit\"\nin their own code.</p>\n\n<p>Namely if that block does not exit, the application and maybe even the system will lock up and die.  Just because of a simple <code>while(fantasy_land)...if(...) break</code>.</p>\n"},{"tags":[],"owner":{"account_id":23037,"reputation":6947,"user_id":57448,"accept_rate":71,"display_name":"Rahel L&#252;thy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1232530910,"creation_date":1232530910,"answer_id":464613,"question_id":461896,"body_markdown":"My two cents on trying to avoid synchronization problems from the start — watch out for the following issues/smells:\r\n\r\n 1. When writing code, always **know in which thread you&#39;re in**.\r\n 2. When designing a class or API for reuse, always **ask yourself whether the code has to be thread-safe**. It&#39;s better to make a deliberate decision, and document that your unit is *not* thread-safe, than to put in unwise synchronization with potential for deadlock.\r\n 3. **Invocations of `new Thread()` are a smell**. Use dedicated ExecutorServices instead, which force you to think about your application&#39;s overall threading concept (see 1) and encourage others to follow it.\r\n 4. **Know and use library classes** (like `AtomicBoolean` *et al*, synchronized Collections, etc). Again: make a conscious decision on whether thread-safety is important in a given context, don&#39;t just use them blindly.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>My two cents on trying to avoid synchronization problems from the start — watch out for the following issues/smells:</p>\n\n<ol>\n<li>When writing code, always <strong>know in which thread you're in</strong>.</li>\n<li>When designing a class or API for reuse, always <strong>ask yourself whether the code has to be thread-safe</strong>. It's better to make a deliberate decision, and document that your unit is <em>not</em> thread-safe, than to put in unwise synchronization with potential for deadlock.</li>\n<li><strong>Invocations of <code>new Thread()</code> are a smell</strong>. Use dedicated ExecutorServices instead, which force you to think about your application's overall threading concept (see 1) and encourage others to follow it.</li>\n<li><strong>Know and use library classes</strong> (like <code>AtomicBoolean</code> <em>et al</em>, synchronized Collections, etc). Again: make a conscious decision on whether thread-safety is important in a given context, don't just use them blindly.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1232535081,"creation_date":1232535081,"answer_id":464810,"question_id":461896,"body_markdown":"Starting Java RMI causes a background task to run that forces the garbage collector to run every 60 seconds. In itself, this may be a good thing, however it may be that the RMI server wasn&#39;t started by you directly, but by a framework/tool you use (eg. JRun). And, the RMI might not actually be being used for anything.\r\n\r\nThe net result is a System.gc() call once a minute. On a heavily loaded system, you will see the following output in your logs - 60 seconds of activity followed by a long gc pause followed by 60 seconds of activity followed by a long gc pause. This is fatal to throughput.\r\n\r\nThe solution is to turn off explicit gc using -XX:+DisableExplicitGC","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Starting Java RMI causes a background task to run that forces the garbage collector to run every 60 seconds. In itself, this may be a good thing, however it may be that the RMI server wasn't started by you directly, but by a framework/tool you use (eg. JRun). And, the RMI might not actually be being used for anything.</p>\n\n<p>The net result is a System.gc() call once a minute. On a heavily loaded system, you will see the following output in your logs - 60 seconds of activity followed by a long gc pause followed by 60 seconds of activity followed by a long gc pause. This is fatal to throughput.</p>\n\n<p>The solution is to turn off explicit gc using -XX:+DisableExplicitGC</p>\n"},{"tags":[],"owner":{"display_name":"Neil Bartlett"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1232536963,"creation_date":1232536963,"answer_id":464894,"question_id":461896,"body_markdown":"Not exactly a bug but, the worst sin is providing a library you intend other people to use, but not stating which classes/methods are thread-safe and which ones must only be called from a single thread etc.\r\n\r\nMore people should make use of the concurrency annotations (e.g. @ThreadSafe, @GuardedBy etc) described in Goetz&#39;s book.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Not exactly a bug but, the worst sin is providing a library you intend other people to use, but not stating which classes/methods are thread-safe and which ones must only be called from a single thread etc.</p>\n\n<p>More people should make use of the concurrency annotations (e.g. @ThreadSafe, @GuardedBy etc) described in Goetz's book.</p>\n"},{"tags":[],"owner":{"display_name":"Nick"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1528942083,"creation_date":1232560645,"answer_id":466334,"question_id":461896,"body_markdown":"It can be easy to think synchronized collections grant you more protection than they actually do, and forget to hold the lock between calls. I have seen this mistake a few times:\r\n\r\n     List&lt;String&gt; l = Collections.synchronizedList(new ArrayList&lt;String&gt;());\r\n     String[] s = l.toArray(new String[l.size()]);\r\n\r\nFor example, in the second line above, the `toArray()` and `size()` methods are both thread safe in their own right, but the `size()` is evaluated separately from the `toArray()`, and the lock on the List is not held between these two calls. \r\n\r\nIf you run this code with another thread **concurrently** removing items from the list, sooner or later you will end up with a new `String[]` returned which is larger than required to hold all the elements in the list, and has null values in the tail. It is easy to think that because the two method calls to the List occur in a single line of code this is somehow an atomic operation, but it is not.\r\n\r\n\r\n\r\n","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>It can be easy to think synchronized collections grant you more protection than they actually do, and forget to hold the lock between calls. I have seen this mistake a few times:</p>\n\n<pre><code> List&lt;String&gt; l = Collections.synchronizedList(new ArrayList&lt;String&gt;());\n String[] s = l.toArray(new String[l.size()]);\n</code></pre>\n\n<p>For example, in the second line above, the <code>toArray()</code> and <code>size()</code> methods are both thread safe in their own right, but the <code>size()</code> is evaluated separately from the <code>toArray()</code>, and the lock on the List is not held between these two calls. </p>\n\n<p>If you run this code with another thread <strong>concurrently</strong> removing items from the list, sooner or later you will end up with a new <code>String[]</code> returned which is larger than required to hold all the elements in the list, and has null values in the tail. It is easy to think that because the two method calls to the List occur in a single line of code this is somehow an atomic operation, but it is not.</p>\n"},{"tags":[],"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1232601947,"creation_date":1232601947,"answer_id":468126,"question_id":461896,"body_markdown":"The most recent Concurrency-related bug I ran into was an object that in its constructor created an ExecutorService, but when the object was no longer referenced, it had never shutdown the ExecutorService.  Thus, over a period of weeks, *thousands* of threads leaked, eventually causing the system to crash.  (Technically, it didn&#39;t crash, but it did stop functioning properly, while continuing to run.)\r\n\r\nTechnically, I suppose this isn&#39;t a concurrency problem, but it&#39;s a problem relating to use of the java.util.concurrency libraries.\r\n","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>The most recent Concurrency-related bug I ran into was an object that in its constructor created an ExecutorService, but when the object was no longer referenced, it had never shutdown the ExecutorService.  Thus, over a period of weeks, <em>thousands</em> of threads leaked, eventually causing the system to crash.  (Technically, it didn't crash, but it did stop functioning properly, while continuing to run.)</p>\n\n<p>Technically, I suppose this isn't a concurrency problem, but it's a problem relating to use of the java.util.concurrency libraries.</p>\n"},{"tags":[],"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1232603013,"creation_date":1232603013,"answer_id":468144,"question_id":461896,"body_markdown":"I ran into a pseudo-deadlock from an I/O thread that created a countdown latch.  A vastly simplified version of the problem is like:\r\n\r\n&lt;pre&gt;\r\npublic class MyReader implements Runnable {\r\n\r\n  private final CountDownLatch done = new CountDownLatch(1);\r\n  private volatile isOkToRun = true;\r\n\r\n  public void run() {\r\n    while (isOkToRun) {\r\n       sendMessage(getMessaage());\r\n    }\r\n    done.countDown();\r\n  }\r\n\r\n  public void stop() {\r\n    isOkToRun = false;\r\n    done.await();\r\n  }\r\n\r\n}\r\n&lt;/pre&gt;\r\n\r\nThe idea of stop() is that it didn&#39;t return until the thread had exited, so when it returned the system was in a known state.  This is OK, unless sendMessage() results in the invokation of stop(), where it will wait forever.  As long as stop() is never invoked from the Runnable, everything will work as you expect.  In a large application, however, the activity of the Runnable&#39;s thread may not be obvious!\r\n\r\nThe solution was to call await() with a timeout of a few seconds, and to log a stack dump and complaint any time the timeout occurred.  This preserved the desired behavior when it was possible, and exposed coding problems as they were encountered.\r\n","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>I ran into a pseudo-deadlock from an I/O thread that created a countdown latch.  A vastly simplified version of the problem is like:</p>\n\n<pre>\npublic class MyReader implements Runnable {\n\n  private final CountDownLatch done = new CountDownLatch(1);\n  private volatile isOkToRun = true;\n\n  public void run() {\n    while (isOkToRun) {\n       sendMessage(getMessaage());\n    }\n    done.countDown();\n  }\n\n  public void stop() {\n    isOkToRun = false;\n    done.await();\n  }\n\n}\n</pre>\n\n<p>The idea of stop() is that it didn't return until the thread had exited, so when it returned the system was in a known state.  This is OK, unless sendMessage() results in the invokation of stop(), where it will wait forever.  As long as stop() is never invoked from the Runnable, everything will work as you expect.  In a large application, however, the activity of the Runnable's thread may not be obvious!</p>\n\n<p>The solution was to call await() with a timeout of a few seconds, and to log a stack dump and complaint any time the timeout occurred.  This preserved the desired behavior when it was possible, and exposed coding problems as they were encountered.</p>\n"},{"tags":[],"owner":{"account_id":2226,"reputation":786,"user_id":3060,"display_name":"John Russell"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1528941551,"creation_date":1232892433,"answer_id":477729,"question_id":461896,"body_markdown":"Until I took a class with Brian Goetz I didn&#39;t realize that the non-synchronized `getter` of a private field mutated through a synchronized `setter` is _never_ guaranteed to return the updated value.  Only when a variable is protected by synchronized block on **both reads AND writes** will you get the guarantee of the latest value of the variable.\r\n\r\n    public class SomeClass{\r\n        private Integer thing = 1;\r\n\r\n        public synchronized void setThing(Integer thing)\r\n            this.thing = thing;\r\n        }\r\n\r\n        /**\r\n         * This may return 1 forever and ever no matter what is set\r\n         * because the read is not synched\r\n         */\r\n        public Integer getThing(){\r\n            return thing;  \r\n        }\r\n    }\r\n\r\n","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Until I took a class with Brian Goetz I didn't realize that the non-synchronized <code>getter</code> of a private field mutated through a synchronized <code>setter</code> is <em>never</em> guaranteed to return the updated value.  Only when a variable is protected by synchronized block on <strong>both reads AND writes</strong> will you get the guarantee of the latest value of the variable.</p>\n\n<pre><code>public class SomeClass{\n    private Integer thing = 1;\n\n    public synchronized void setThing(Integer thing)\n        this.thing = thing;\n    }\n\n    /**\n     * This may return 1 forever and ever no matter what is set\n     * because the read is not synched\n     */\n    public Integer getThing(){\n        return thing;  \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":192113,"reputation":931,"user_id":433078,"accept_rate":75,"display_name":"grayger"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1528941402,"creation_date":1233195828,"answer_id":490290,"question_id":461896,"body_markdown":"Starting a thread **within the constructor** of a class is problematic. If the class is extended, the thread can be started **before subclass&#39; constructor** is executed. ","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Starting a thread <strong>within the constructor</strong> of a class is problematic. If the class is extended, the thread can be started <strong>before subclass' constructor</strong> is executed. </p>\n"},{"tags":[],"owner":{"account_id":13054,"reputation":2642,"user_id":26010,"display_name":"Dov Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1233255442,"creation_date":1233255442,"answer_id":492928,"question_id":461896,"body_markdown":"A method saving data to an instance variable in order to &quot;save effort&quot; passing it to helper methods, when another method which can be called concurrently uses the same instance variables for its own purposes.\r\n\r\nThe data should instead be passed around as method parameters for the duration of the synchronized call. This is only a slight simplification of my worst memory:\r\n\r\n    public class UserService {\r\n\r\n        private String userName;\r\n\r\n        public String getUserName() {\r\n            return userName;\r\n        }\r\n      \r\n        public void login(String name) {\r\n            this.userName = name; \r\n            doLogin();\r\n        }\r\n\r\n        private void doLogin() {\r\n            userDao.login(getUserName());\r\n        }\r\n\r\n        public void delete(String name) {\r\n            this.userName = name; \r\n            doDelete();\r\n        }\r\n\r\n        private void doDelete() {\r\n            userDao.delete(getUserName());\r\n        }\r\n \r\n    }\r\n\r\n\r\nThe login and logout methods do not have to be synchronized, logically speaking. But written as-is you get to expeience all sorts of fun customer service calls.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>A method saving data to an instance variable in order to \"save effort\" passing it to helper methods, when another method which can be called concurrently uses the same instance variables for its own purposes.</p>\n\n<p>The data should instead be passed around as method parameters for the duration of the synchronized call. This is only a slight simplification of my worst memory:</p>\n\n<pre><code>public class UserService {\n\n    private String userName;\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void login(String name) {\n        this.userName = name; \n        doLogin();\n    }\n\n    private void doLogin() {\n        userDao.login(getUserName());\n    }\n\n    public void delete(String name) {\n        this.userName = name; \n        doDelete();\n    }\n\n    private void doDelete() {\n        userDao.delete(getUserName());\n    }\n\n}\n</code></pre>\n\n<p>The login and logout methods do not have to be synchronized, logically speaking. But written as-is you get to expeience all sorts of fun customer service calls.</p>\n"},{"tags":[],"owner":{"display_name":"Deepak Jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1293792386,"creation_date":1234243095,"answer_id":531130,"question_id":461896,"body_markdown":"Concurrency problem of using different lock objects with wait and notify.\r\n\r\nI was trying to use wait() and notifyAll() methods and here is how i used and fell in hell.\r\n\r\nThread1\r\n\r\n    Object o1 = new Object();\r\n    \r\n    synchronized(o1) {\r\n        o1.wait();\r\n    }\r\n\r\n\r\nAnd in other thread.\r\nThread - 2 \r\n\r\n    Object o2 = new Object();\r\n    \r\n    synchronized(o2) {\r\n        o2.notifyAll();\r\n    }\r\n\r\n\r\nThread1 will wait on o1 and Thread2 which should have invoked o1.notifyAll(), is invoking o2.notifyAll(). Thread 1 will never wake up.\r\n\r\nAnd offcourse the common problem of not invoking wait() or notifyAll() within synchronized blocks and not invoking them using the same object that is used to sycnhronze the block.\r\n\r\n    Object o2 = new Object();\r\n    \r\n    synchronized(o2) {\r\n        notifyAll();\r\n    }\r\n\r\nThis will cause IllegalMonitorStateException, since the thread that invoked notifyAll() has invoked notifyAll() using this object but is not the owner of the this lock object. But the current thread is owner of o2 lock object.\r\n\r\n\r\n","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Concurrency problem of using different lock objects with wait and notify.</p>\n\n<p>I was trying to use wait() and notifyAll() methods and here is how i used and fell in hell.</p>\n\n<p>Thread1</p>\n\n<pre><code>Object o1 = new Object();\n\nsynchronized(o1) {\n    o1.wait();\n}\n</code></pre>\n\n<p>And in other thread.\nThread - 2 </p>\n\n<pre><code>Object o2 = new Object();\n\nsynchronized(o2) {\n    o2.notifyAll();\n}\n</code></pre>\n\n<p>Thread1 will wait on o1 and Thread2 which should have invoked o1.notifyAll(), is invoking o2.notifyAll(). Thread 1 will never wake up.</p>\n\n<p>And offcourse the common problem of not invoking wait() or notifyAll() within synchronized blocks and not invoking them using the same object that is used to sycnhronze the block.</p>\n\n<pre><code>Object o2 = new Object();\n\nsynchronized(o2) {\n    notifyAll();\n}\n</code></pre>\n\n<p>This will cause IllegalMonitorStateException, since the thread that invoked notifyAll() has invoked notifyAll() using this object but is not the owner of the this lock object. But the current thread is owner of o2 lock object.</p>\n"},{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1252692380,"creation_date":1252692380,"answer_id":1412440,"question_id":461896,"body_markdown":"Updating a Swing UI component (typically a progress bar) in a worker thread instead of in the Swing thread (one should of course use &lt;code&gt;SwingUtilities.invokeLater(Runnable)&lt;/code&gt;, but if you forget to do this then the bug can take a long time to surface.)","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Updating a Swing UI component (typically a progress bar) in a worker thread instead of in the Swing thread (one should of course use <code>SwingUtilities.invokeLater(Runnable)</code>, but if you forget to do this then the bug can take a long time to surface.)</p>\n"},{"tags":[],"owner":{"account_id":86546,"reputation":2020,"user_id":240581,"display_name":"DaveC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1262214946,"creation_date":1262214946,"answer_id":1983025,"question_id":461896,"body_markdown":"A nasty gotcha I&#39;ve found in java is having multiple threads access a HashMap without synchronization.  If one is reading and one is writing then there is a good chance of the reader ending up in an infinite loop (the bucket node list structure gets corrupted into a looped list).\r\n\r\nObviously you shouldn&#39;t be doing this in the first place (use ConcurrentHashMap or Collections.synch... wrapper), but it seems to be the one that always gets through the net and causes proper thread stuck, system completely broken, usually due to a utility class containing such a map being a few levels down the stack and nobody thinking of it.\r\n","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>A nasty gotcha I've found in java is having multiple threads access a HashMap without synchronization.  If one is reading and one is writing then there is a good chance of the reader ending up in an infinite loop (the bucket node list structure gets corrupted into a looped list).</p>\n\n<p>Obviously you shouldn't be doing this in the first place (use ConcurrentHashMap or Collections.synch... wrapper), but it seems to be the one that always gets through the net and causes proper thread stuck, system completely broken, usually due to a utility class containing such a map being a few levels down the stack and nobody thinking of it.</p>\n"},{"tags":[],"owner":{"account_id":268723,"reputation":1,"user_id":557637,"display_name":"Uxgru Revisions"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1354533284,"creation_date":1293789511,"answer_id":4569410,"question_id":461896,"body_markdown":"Try this code..\r\n\r\n    public class MyServlet implements Servlet{\r\n        private Object something;\r\n    \r\n        public void service(ServletRequest request, ServletResponse response)\r\n            throws ServletException, IOException{\r\n            this.something = request.getAttribute(&quot;something&quot;);\r\n            doSomething();\r\n        }\r\n    \r\n        private void doSomething(){\r\n            this.something ...\r\n        }\r\n    }\r\n\r\n","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>Try this code..</p>\n\n<pre><code>public class MyServlet implements Servlet{\n    private Object something;\n\n    public void service(ServletRequest request, ServletResponse response)\n        throws ServletException, IOException{\n        this.something = request.getAttribute(\"something\");\n        doSomething();\n    }\n\n    private void doSomething(){\n        this.something ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85613,"reputation":21012,"user_id":238578,"accept_rate":75,"display_name":"b_erb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1293793299,"creation_date":1293793299,"answer_id":4569677,"question_id":461896,"body_markdown":"I think the most frequent concurrency problem in Java is code that actually seems to work so far, although it is not really thread-safe at all. Thanks to a tiny error, it becomes a time bomb and in almost all cases, you don&#39;t know that in advance, because it is not obvious to you. While regular faulty code hopefully fails during tests, concurrent code often only fails eventually and non-reproducible.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>I think the most frequent concurrency problem in Java is code that actually seems to work so far, although it is not really thread-safe at all. Thanks to a tiny error, it becomes a time bomb and in almost all cases, you don't know that in advance, because it is not obvious to you. While regular faulty code hopefully fails during tests, concurrent code often only fails eventually and non-reproducible.</p>\n"}],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77489,"favorite_count":0,"down_vote_count":5,"up_vote_count":200,"closed_date":1317517209,"accepted_answer_id":462648,"answer_count":49,"score":195,"last_activity_date":1675799234,"creation_date":1232467118,"question_id":461896,"body_markdown":"This is a poll of sorts about common concurrency problems in Java.  An example might be the classic deadlock or race condition or perhaps EDT threading bugs in Swing.  I&#39;m interested both in a breadth of possible issues but also in what issues are most common.  So, please leave one specific answer of a Java concurrency bug per comment and vote up if you see one you&#39;ve encountered.","title":"What is the most frequent concurrency issue you&#39;ve encountered in Java?","body":"<p>This is a poll of sorts about common concurrency problems in Java.  An example might be the classic deadlock or race condition or perhaps EDT threading bugs in Swing.  I'm interested both in a breadth of possible issues but also in what issues are most common.  So, please leave one specific answer of a Java concurrency bug per comment and vote up if you see one you've encountered.</p>\n"},{"tags":["java","mysql","spring","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":8192773,"reputation":54,"user_id":17364339,"display_name":"KpekepSalt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675798993,"creation_date":1675797578,"answer_id":75378027,"question_id":75377812,"body_markdown":"If you use `GenerationType.AUTO`, Hibernate will choose one of the strategies to generate your id.\r\n\r\n&gt; AUTO - either identity column, sequence or table depending on the underlying DB.\r\n\r\nSo in your case Hibernate uses TABLE (cause MySQL has no sequences feature) and tries to use ismaauser_seq which is not exists. \r\nYou can change `GenerationType`:\r\n\r\n```\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n@Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\nprivate Integer id;\r\n```\r\n\r\nor specify generator:\r\n\r\n```\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\r\n@GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\r\n@Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\nprivate Integer id;\r\n```","title":"Java Spring always try to access table &#39;ismaauser_seq&#39;, but I only want it to access to table &#39;ismaauser&#39;","body":"<p>If you use <code>GenerationType.AUTO</code>, Hibernate will choose one of the strategies to generate your id.</p>\n<blockquote>\n<p>AUTO - either identity column, sequence or table depending on the underlying DB.</p>\n</blockquote>\n<p>So in your case Hibernate uses TABLE (cause MySQL has no sequences feature) and tries to use ismaauser_seq which is not exists.\nYou can change <code>GenerationType</code>:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;, updatable = false, nullable = false)\nprivate Integer id;\n</code></pre>\n<p>or specify generator:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\n@GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\n@Column(name = &quot;id&quot;, updatable = false, nullable = false)\nprivate Integer id;\n</code></pre>\n"}],"owner":{"account_id":27420698,"reputation":13,"user_id":20919182,"display_name":"Rongkuan He"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75378027,"answer_count":1,"score":1,"last_activity_date":1675798993,"creation_date":1675796289,"question_id":75377812,"body_markdown":"Here is how I define the table need to be accessed.\r\n[enter image description here](https://i.stack.imgur.com/K9f2M.png)\r\n\r\nHere is how I configure my WEB app\r\n[enter image description here](https://i.stack.imgur.com/3oTT8.png)\r\n\r\nHere is my problem.\r\n[enter image description here](https://i.stack.imgur.com/yTVR3.png)\r\n\r\nI don&#39;t know why it always try to access &#39;**_seq&#39;.\r\n\r\nI want to figure out where is the suffix come from.","title":"Java Spring always try to access table &#39;ismaauser_seq&#39;, but I only want it to access to table &#39;ismaauser&#39;","body":"<p>Here is how I define the table need to be accessed.\n<a href=\"https://i.stack.imgur.com/K9f2M.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Here is how I configure my WEB app\n<a href=\"https://i.stack.imgur.com/3oTT8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Here is my problem.\n<a href=\"https://i.stack.imgur.com/yTVR3.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I don't know why it always try to access '**_seq'.</p>\n<p>I want to figure out where is the suffix come from.</p>\n"},{"tags":["java","grails","groovy","spring-security-rest"],"answers":[{"tags":[],"owner":{"account_id":2931318,"reputation":45,"user_id":2511474,"display_name":"Deepak Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675798562,"creation_date":1673942262,"answer_id":75143373,"question_id":75143372,"body_markdown":"So to resolve above I used below line in build.gradle file\r\n\r\n    plugins {\r\n        id &quot;com.virgo47.ClasspathJar&quot; version &quot;1.0.0&quot;\r\n    }\r\n\r\nand it has solved my issue.\r\n","title":"CreateProcess error=206, The filename or extension is too long while using Spring Security","body":"<p>So to resolve above I used below line in build.gradle file</p>\n<pre><code>plugins {\n    id &quot;com.virgo47.ClasspathJar&quot; version &quot;1.0.0&quot;\n}\n</code></pre>\n<p>and it has solved my issue.</p>\n"}],"owner":{"account_id":2931318,"reputation":45,"user_id":2511474,"display_name":"Deepak Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675798562,"creation_date":1673942262,"question_id":75143372,"body_markdown":"I am using JDK v.1.8, Grails v.3.3.10. I am trying to implement some of the endpoints of my app as rest and remaining as normal web pages URL. So to achieve this added below lines in build.gradle file\r\n\r\n        `compile &#39;org.grails.plugins:spring-security-rest:2.0.0.M2&#39;`\r\n        `compile &#39;org.grails.plugins:spring-security-core:3.2.0&#39;`\r\n\r\nAfter doing when I was trying to run the grails app I was getting below exception\r\n\r\n&gt; Caused by: java.io.IOException: Cannot run program &quot;C:\\Program Files\\Java\\jdk1.8.0_111\\bin\\java.exe&quot; (in directory &quot;D:\\myprojectfolder&quot;): CreateProcess error=206, The filename or extension is too long\r\n\tat net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\r\n\r\nWhat can I try next?\r\n","title":"CreateProcess error=206, The filename or extension is too long while using Spring Security","body":"<p>I am using JDK v.1.8, Grails v.3.3.10. I am trying to implement some of the endpoints of my app as rest and remaining as normal web pages URL. So to achieve this added below lines in build.gradle file</p>\n<pre><code>    `compile 'org.grails.plugins:spring-security-rest:2.0.0.M2'`\n    `compile 'org.grails.plugins:spring-security-core:3.2.0'`\n</code></pre>\n<p>After doing when I was trying to run the grails app I was getting below exception</p>\n<blockquote>\n<p>Caused by: java.io.IOException: Cannot run program &quot;C:\\Program Files\\Java\\jdk1.8.0_111\\bin\\java.exe&quot; (in directory &quot;D:\\myprojectfolder&quot;): CreateProcess error=206, The filename or extension is too long\nat net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)</p>\n</blockquote>\n<p>What can I try next?</p>\n"},{"tags":["java","cookies","servlets","websphere"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1675452117,"post_id":75315156,"comment_id":132939623,"body_markdown":"` Connection refused` usually means that there is no connection between your WAS host and target host. Try to use `curl` to verify that connection can be made. Maybe you have firewall issues.","body":"` Connection refused` usually means that there is no connection between your WAS host and target host. Try to use <code>curl</code> to verify that connection can be made. Maybe you have firewall issues."},{"owner":{"account_id":4858075,"reputation":309,"user_id":3918539,"accept_rate":57,"display_name":"timJIN520"},"score":0,"creation_date":1675714276,"post_id":75315156,"comment_id":132984608,"body_markdown":"The network that we are on is the same network for the site that I&#39;m targeting. I dont think its a firewall related. I could be wrong. The site that I&#39;m targeting is a login page where i need to retrieve its Cookie information. Since I&#39;m running my site using WAS, I hit the error when it runs the url.openConnection() code. Could this be a TCP setting related in WAS? I&#39;ve been trying research and get a understand on this.. Thank you for your response!","body":"The network that we are on is the same network for the site that I&#39;m targeting. I dont think its a firewall related. I could be wrong. The site that I&#39;m targeting is a login page where i need to retrieve its Cookie information. Since I&#39;m running my site using WAS, I hit the error when it runs the url.openConnection() code. Could this be a TCP setting related in WAS? I&#39;ve been trying research and get a understand on this.. Thank you for your response!"}],"owner":{"account_id":4858075,"reputation":309,"user_id":3918539,"accept_rate":57,"display_name":"timJIN520"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675798515,"creation_date":1675279150,"question_id":75315156,"body_markdown":"I am having trouble fetching cookies information from an URL in Java web application. My goal is while my web page load, it runs a servlet filter for authentication. When running the servlet filter, I&#39;m trying to fetch cookie information from another site (site that is not in my project) so it can authenticate the user to access my developed html site. When it ran &quot;connection.getContent()&quot; code, I received this error below.\r\n\r\n&gt; java.net.connectException: Connection refused\r\n\r\nThis only happens when running a web application. However, I tested the cookie fetch code in a JAVA Main Method and ran a simple JAVA application. It works and I see the cookie information from the site. I believe this is not a firewall related since the site I&#39;m trying to fetch is under same network and running the simple JAVA application works. It may be WebSphere related. \r\n\r\nI&#39;m using a IBM WebSphere Application Server v9 and JAVA 8 code (work requirement). Also used java.net.* library for fetching cookie information. Eclipse is the tool that I&#39;m using to develop web applications or JAVA application. I&#39;m not a WebSphere expert or am I missing a step in java code, please help.\r\n\r\nHere is the sample servlet filter code of fetching cookie information part.\r\n\r\n \r\n\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\t\r\n    \t\ttry {\t\t\r\n    \t\t\tCookieManager cookieManager = new CookieManager();\r\n    \t\t\tcookieManager.setCookiePolicy(CookiePolicy.ACCEPT_ALL);\r\n    \t\t\tCookieHandler.setDefault(cookieManager);\r\n    \t\t\tURL url = new URL(&quot;https://somesite.com/&quot;);\t\t\t\r\n    \t\t\tHttpsURLConnection  connection = (HttpsURLConnection) url.openConnection();\r\n    \t\t\tconnection.getContent();\t\r\n    \t\t\tCookieStore cookies = cookieManager.getCookieStore();\r\n    \t\t\tList&lt;HttpCookie&gt; cookieList = cookies.getCookies();\r\n    \t\t\t  \r\n    \t\t\tfor (HttpCookie cookie : cookieList) {\r\n    \t\t\t  System.out.println(&quot;cookie name: &quot; + cookie.getName());\r\n    \t\t\t  System.out.println(&quot;cookie comment: &quot; + cookie.getComment());\r\n    \t\t\t  System.out.println(&quot;cookie doman: &quot; + cookie.getDomain());\r\n    \t\t\t  System.out.println(&quot;cookie value: &quot; + cookie.getValue());\r\n    \t\t\t  System.out.println(&quot;----------------------------------------&quot;);\r\n    \t\t\t  }\t\t\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t}\r\n\r\n","title":"Cannot Fetch URL Cookie Information in JAVA code when running WebSphere v9 server - Connection Refused","body":"<p>I am having trouble fetching cookies information from an URL in Java web application. My goal is while my web page load, it runs a servlet filter for authentication. When running the servlet filter, I'm trying to fetch cookie information from another site (site that is not in my project) so it can authenticate the user to access my developed html site. When it ran &quot;connection.getContent()&quot; code, I received this error below.</p>\n<blockquote>\n<p>java.net.connectException: Connection refused</p>\n</blockquote>\n<p>This only happens when running a web application. However, I tested the cookie fetch code in a JAVA Main Method and ran a simple JAVA application. It works and I see the cookie information from the site. I believe this is not a firewall related since the site I'm trying to fetch is under same network and running the simple JAVA application works. It may be WebSphere related.</p>\n<p>I'm using a IBM WebSphere Application Server v9 and JAVA 8 code (work requirement). Also used java.net.* library for fetching cookie information. Eclipse is the tool that I'm using to develop web applications or JAVA application. I'm not a WebSphere expert or am I missing a step in java code, please help.</p>\n<p>Here is the sample servlet filter code of fetching cookie information part.</p>\n<pre><code>public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {    \n        try {       \n            CookieManager cookieManager = new CookieManager();\n            cookieManager.setCookiePolicy(CookiePolicy.ACCEPT_ALL);\n            CookieHandler.setDefault(cookieManager);\n            URL url = new URL(&quot;https://somesite.com/&quot;);         \n            HttpsURLConnection  connection = (HttpsURLConnection) url.openConnection();\n            connection.getContent();    \n            CookieStore cookies = cookieManager.getCookieStore();\n            List&lt;HttpCookie&gt; cookieList = cookies.getCookies();\n              \n            for (HttpCookie cookie : cookieList) {\n              System.out.println(&quot;cookie name: &quot; + cookie.getName());\n              System.out.println(&quot;cookie comment: &quot; + cookie.getComment());\n              System.out.println(&quot;cookie doman: &quot; + cookie.getDomain());\n              System.out.println(&quot;cookie value: &quot; + cookie.getValue());\n              System.out.println(&quot;----------------------------------------&quot;);\n              }     \n        } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n    }\n</code></pre>\n"},{"tags":["java","junit","mockito","powermock"],"answers":[{"tags":[],"owner":{"account_id":2673328,"reputation":1649,"user_id":2310221,"accept_rate":81,"display_name":"Markus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675798506,"creation_date":1675798506,"answer_id":75378188,"question_id":75377849,"body_markdown":"You&#39;re trying to mock a method that is final:\r\n&gt; Also, this error might show up because:\r\n&gt; 1. you stub either of: final/private/equals()/hashCode() methods.\r\n\r\nand `BindException.getBindingResult()` is:\r\n\r\n    public class BindException .. {\r\n    \r\n        ...\r\n    \r\n    \tpublic final BindingResult getBindingResult() {\r\n    \t\treturn this.bindingResult;\r\n    \t}\r\n    }\r\n\r\nIt&#39;s hard to tell without seeing your code, but you&#39;re probably not using PowerMock correctly. This answer gives an example on how to mock a final method: [Can Powermockito mock final method in non-final concrete class?](https://stackoverflow.com/a/12142046/2310221)","title":"Error:org.mockito.exceptions.misusing.MissingMethodInvocationException","body":"<p>You're trying to mock a method that is final:</p>\n<blockquote>\n<p>Also, this error might show up because:</p>\n<ol>\n<li>you stub either of: final/private/equals()/hashCode() methods.</li>\n</ol>\n</blockquote>\n<p>and <code>BindException.getBindingResult()</code> is:</p>\n<pre><code>public class BindException .. {\n\n    ...\n\n    public final BindingResult getBindingResult() {\n        return this.bindingResult;\n    }\n}\n</code></pre>\n<p>It's hard to tell without seeing your code, but you're probably not using PowerMock correctly. This answer gives an example on how to mock a final method: <a href=\"https://stackoverflow.com/a/12142046/2310221\">Can Powermockito mock final method in non-final concrete class?</a></p>\n"}],"owner":{"account_id":27706510,"reputation":13,"user_id":21150033,"display_name":"Aditi Mogha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75378188,"answer_count":1,"score":0,"last_activity_date":1675798506,"creation_date":1675796477,"question_id":75377849,"body_markdown":"I am getting the below error while upgrading java to  17 and mockito to 3.7.7 and junit4 to junit 5 and also I am using these powermock dependencies.\r\n\r\n`                    &#39;org.powermock:powermock-module-junit4:2.0.7&#39;,\r\n                    &#39;org.powermock:powermock-core:2.0.7&#39;,\r\n                    &#39;org.powermock:powermock-api-mockito2:2.0.7&#39;`\r\n\r\n```\r\norg.mockito.exceptions.misusing.MissingMethodInvocationException: \r\nwhen() requires an argument which has to be &#39;a method call on a mock&#39;.\r\nFor example:\r\n    when(mock.getArticles()).thenReturn(articles);\r\n\r\nAlso, this error might show up because:\r\n1. you stub either of: final/private/equals()/hashCode() methods.\r\n   Those methods *cannot* be stubbed/verified.\r\n   Mocking methods declared on non-public parent classes is not supported.\r\n2. inside when() you don&#39;t call method on mock but on some other object.\r\n\r\n\tat app//com.expedia.risk.clm.web.exception.handler.RestExceptionMappingHandlerTest.shouldHandleMethodArgumentNotValid(RestExceptionMappingHandlerTest.java:118)\r\n\tat app//org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat app//org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat app//org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat app//org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat app//org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat app//org.mockito.internal.runners.DefaultInternalRunner$1$1.evaluate(DefaultInternalRunner.java:54)\r\n\tat app//org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat app//org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat app//org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat app//org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat app//org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat app//org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat app//org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat app//org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat app//org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat app//org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat app//org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat app//org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat app//org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:99)\r\n\tat app//org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:105)\r\n\tat app//org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:40)\r\n```\r\n\r\nMy test case code is like this. Could someone please help how to resolve this.\r\n\r\n\r\n```\r\n    @Test\r\n    public void shouldHandleMethodArgumentNotValid() {\r\n        final Set&lt;InputError&gt; testInputErrors = Collections.singleton(new InputError(&quot;test&quot;, &quot;test&quot;));\r\n        final String expectedMessage = String.format(&quot;Invalid input. Details: %s&quot;, testInputErrors.toString());\r\n        final MethodArgumentNotValidException testException = mock(MethodArgumentNotValidException.class);\r\n        final BindingResult testBindingResult = mock(BindingResult.class);\r\n        final List&lt;ObjectError&gt; testErrors = Collections.singletonList(new ObjectError(&quot;test&quot;, &quot;test&quot;));\r\n        when(testException.getBindingResult()).thenReturn(testBindingResult);\r\n        when(testBindingResult.getAllErrors()).thenReturn(testErrors);\r\n\r\n        final ResponseEntity&lt;ClmErrorResponse&gt; actualResponse = handler.handleMethodArgumentNotValid(testException);\r\n\r\n        assertThat(actualResponse.getStatusCode(), is(HttpStatus.BAD_REQUEST));\r\n        final ClmErrorResponse errorResponse = actualResponse.getBody();\r\n        assertThat(errorResponse.getCode(), is(&quot;39071&quot;));\r\n        assertThat(errorResponse.getMessage(), is(expectedMessage));\r\n        assertThat(errorResponse.getInputErrors(), is(testInputErrors));\r\n        verify(testException).getBindingResult();\r\n        verify(testBindingResult).getAllErrors();\r\n        verifyNoMoreInteractions(testBindingResult);\r\n    }\r\n```\r\n\r\n\r\n\r\ntry upgrading and degrading the versions of mockito and powermock.","title":"Error:org.mockito.exceptions.misusing.MissingMethodInvocationException","body":"<p>I am getting the below error while upgrading java to  17 and mockito to 3.7.7 and junit4 to junit 5 and also I am using these powermock dependencies.</p>\n<p><code>                    'org.powermock:powermock-module-junit4:2.0.7', 'org.powermock:powermock-core:2.0.7', 'org.powermock:powermock-api-mockito2:2.0.7'</code></p>\n<pre><code>org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\n    when(mock.getArticles()).thenReturn(articles);\n\nAlso, this error might show up because:\n1. you stub either of: final/private/equals()/hashCode() methods.\n   Those methods *cannot* be stubbed/verified.\n   Mocking methods declared on non-public parent classes is not supported.\n2. inside when() you don't call method on mock but on some other object.\n\n    at app//com.expedia.risk.clm.web.exception.handler.RestExceptionMappingHandlerTest.shouldHandleMethodArgumentNotValid(RestExceptionMappingHandlerTest.java:118)\n    at app//org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at app//org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at app//org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at app//org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at app//org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at app//org.mockito.internal.runners.DefaultInternalRunner$1$1.evaluate(DefaultInternalRunner.java:54)\n    at app//org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at app//org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at app//org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at app//org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at app//org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at app//org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at app//org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at app//org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at app//org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at app//org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at app//org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at app//org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at app//org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:99)\n    at app//org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:105)\n    at app//org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:40)\n</code></pre>\n<p>My test case code is like this. Could someone please help how to resolve this.</p>\n<pre><code>    @Test\n    public void shouldHandleMethodArgumentNotValid() {\n        final Set&lt;InputError&gt; testInputErrors = Collections.singleton(new InputError(&quot;test&quot;, &quot;test&quot;));\n        final String expectedMessage = String.format(&quot;Invalid input. Details: %s&quot;, testInputErrors.toString());\n        final MethodArgumentNotValidException testException = mock(MethodArgumentNotValidException.class);\n        final BindingResult testBindingResult = mock(BindingResult.class);\n        final List&lt;ObjectError&gt; testErrors = Collections.singletonList(new ObjectError(&quot;test&quot;, &quot;test&quot;));\n        when(testException.getBindingResult()).thenReturn(testBindingResult);\n        when(testBindingResult.getAllErrors()).thenReturn(testErrors);\n\n        final ResponseEntity&lt;ClmErrorResponse&gt; actualResponse = handler.handleMethodArgumentNotValid(testException);\n\n        assertThat(actualResponse.getStatusCode(), is(HttpStatus.BAD_REQUEST));\n        final ClmErrorResponse errorResponse = actualResponse.getBody();\n        assertThat(errorResponse.getCode(), is(&quot;39071&quot;));\n        assertThat(errorResponse.getMessage(), is(expectedMessage));\n        assertThat(errorResponse.getInputErrors(), is(testInputErrors));\n        verify(testException).getBindingResult();\n        verify(testBindingResult).getAllErrors();\n        verifyNoMoreInteractions(testBindingResult);\n    }\n</code></pre>\n<p>try upgrading and degrading the versions of mockito and powermock.</p>\n"},{"tags":["python","java","android","json"],"owner":{"account_id":21452631,"reputation":11,"user_id":15804788,"display_name":"Elementswelder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675797627,"creation_date":1675755416,"question_id":75370160,"body_markdown":"I&#39;m running a Python Back-End with an Android client in Java. I&#39;m trying to return a JSON response to a request that I&#39;m receiving. I&#39;ve had previous issues with this, as my request has objects within objects but that was solved using a custom Encoder. Now, when I return my response after using json.dumps(), my Java client, parses it through GSON but it&#39;s invalid\r\n\r\n&gt; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 2 path $\r\n\r\nWhen printing the response out in the console I get:\r\n\r\n```\r\n{&quot;user&quot;: {&quot;firstName&quot;: &quot;Bob&quot;, &quot;lastName&quot;: &quot;Miller&quot;, &quot;username&quot;: &quot;bobbyboi&quot;, &quot;profileImage&quot;: &quot;image&quot;}, &quot;authToken&quot;: {&quot;authToken&quot;: &quot;authtoken&quot;, &quot;dateTime&quot;: &quot;time&quot;}}\r\n```\r\nwhich looks correct, but not for GSON. It ends up coming in as\r\n```\r\n&quot;{&quot;user&quot;: {&quot;firstName&quot;: &quot;Bob&quot;, &quot;lastName&quot;: &quot;Miller&quot;, &quot;username&quot;: &quot;bobbyboi&quot;, &quot;profileImage&quot;: &quot;image&quot;}, &quot;authToken&quot;: {&quot;authToken&quot;: &quot;authtoken&quot;, &quot;dateTime&quot;: &quot;time&quot;}}&quot;\r\n```\r\nwith the extra apostrophes at the end.\r\n\r\nHere is my python code:\r\n\r\n```\r\n        dummyUser = User(&quot;Bob&quot;, &quot;Miller&quot;, &quot;bobbyboi&quot;, &quot;image&quot;)\r\n        dummyAuth = AuthToken(&quot;authtoken&quot;, &quot;time&quot;)\r\n        response = LoginResponse(dummyUser, dummyAuth)\r\n        return json.dumps(response, cls=MyEncoder)\r\n```\r\n\r\nAnd the encoder, just in case that&#39;s the issue:\r\n\r\n```\r\nclass MyEncoder(json.JSONEncoder):\r\n    def default(self, o):\r\n        if hasattr(o, &quot;encode&quot;):\r\n            return o.encode()\r\n        else:\r\n            return json.JSONEncoder.default(self,o)\r\n```\r\n\r\nAnd then the Java GSON:\r\n\r\n```\r\n    if (http.getResponseCode() == HttpURLConnection.HTTP_OK){\r\n           InputStream inputStream = http.getInputStream();\r\n           String parseRequest = readString(inputStream);\r\n           System.out.println(parseRequest);\r\n           LoginResponse response = gson.fromJson(parseRequest, LoginResponse.class);\r\n```","title":"Python json.dumps() is returning with an extra apostrophe around the json, corrupting it. How can I fix it?","body":"<p>I'm running a Python Back-End with an Android client in Java. I'm trying to return a JSON response to a request that I'm receiving. I've had previous issues with this, as my request has objects within objects but that was solved using a custom Encoder. Now, when I return my response after using json.dumps(), my Java client, parses it through GSON but it's invalid</p>\n<blockquote>\n<p>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 2 path $</p>\n</blockquote>\n<p>When printing the response out in the console I get:</p>\n<pre><code>{&quot;user&quot;: {&quot;firstName&quot;: &quot;Bob&quot;, &quot;lastName&quot;: &quot;Miller&quot;, &quot;username&quot;: &quot;bobbyboi&quot;, &quot;profileImage&quot;: &quot;image&quot;}, &quot;authToken&quot;: {&quot;authToken&quot;: &quot;authtoken&quot;, &quot;dateTime&quot;: &quot;time&quot;}}\n</code></pre>\n<p>which looks correct, but not for GSON. It ends up coming in as</p>\n<pre><code>&quot;{&quot;user&quot;: {&quot;firstName&quot;: &quot;Bob&quot;, &quot;lastName&quot;: &quot;Miller&quot;, &quot;username&quot;: &quot;bobbyboi&quot;, &quot;profileImage&quot;: &quot;image&quot;}, &quot;authToken&quot;: {&quot;authToken&quot;: &quot;authtoken&quot;, &quot;dateTime&quot;: &quot;time&quot;}}&quot;\n</code></pre>\n<p>with the extra apostrophes at the end.</p>\n<p>Here is my python code:</p>\n<pre><code>        dummyUser = User(&quot;Bob&quot;, &quot;Miller&quot;, &quot;bobbyboi&quot;, &quot;image&quot;)\n        dummyAuth = AuthToken(&quot;authtoken&quot;, &quot;time&quot;)\n        response = LoginResponse(dummyUser, dummyAuth)\n        return json.dumps(response, cls=MyEncoder)\n</code></pre>\n<p>And the encoder, just in case that's the issue:</p>\n<pre><code>class MyEncoder(json.JSONEncoder):\n    def default(self, o):\n        if hasattr(o, &quot;encode&quot;):\n            return o.encode()\n        else:\n            return json.JSONEncoder.default(self,o)\n</code></pre>\n<p>And then the Java GSON:</p>\n<pre><code>    if (http.getResponseCode() == HttpURLConnection.HTTP_OK){\n           InputStream inputStream = http.getInputStream();\n           String parseRequest = readString(inputStream);\n           System.out.println(parseRequest);\n           LoginResponse response = gson.fromJson(parseRequest, LoginResponse.class);\n</code></pre>\n"},{"tags":["java","apache-poi","pivot-table"],"answers":[{"tags":[],"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675797198,"creation_date":1675797198,"answer_id":75377976,"question_id":75371628,"body_markdown":"You may use [Aspose.Cells for Java][1] for the task. You can use relevant APIs to get items of a pivot field, you can do multiple items selection and removal accordingly.\r\nSee the following example for your reference.\r\n\r\ne.g.\r\n\r\n**Sample code:**\r\n```java\r\n        Workbook wb_demo = new Workbook(&quot;f:\\\\files\\\\Book1.xlsx&quot;);\r\n        PivotTable pt_demo = wb_demo.getWorksheets().get(0).getPivotTables().get(0);\r\n\r\n        //Get the first Pivot column field\r\n        PivotField src_t_field = pt_demo.getColumnFields().get(0);\r\n        src_t_field.setMultipleItemSelectionAllowed(true);\r\n\r\n        System.out.println(src_t_field.getName());\r\n        System.out.println(&quot;Total Items: &quot; + src_t_field.getItems().length);\r\n        System.out.println(&quot;Total Items: &quot; + src_t_field.getPivotItems().getCount());\r\n\r\n        PivotItemCollection collection_src_t = src_t_field.getPivotItems();\r\n        System.out.println(collection_src_t.getCount());\r\n        for (int i = 0; i &lt; collection_src_t.getCount(); i++)\r\n        {\r\n            PivotItem item = collection_src_t.get(i);\r\n            System.out.println(item.getName());\r\n\r\n            if(item.getName().equals(&quot;0.5 kg&quot;))\r\n            {\r\n               item.setHidden(true);\r\n            }\r\n            else if(item.getName().equals(&quot;1 kg&quot;))\r\n            {\r\n                    item.setHidden(false);\r\n            }\r\n            else if(item.getName().equals(&quot;1.5 kg&quot;))\r\n            {\r\n                    item.setHidden(true);\r\n            }\r\n             else if(item.getName().equals(&quot;2.5 kg&quot;))\r\n            {\r\n                    item.setHidden(false);\r\n            }\r\n            else if (item.getName().equals(&quot;3 kg&quot;))\r\n            {\r\n                    item.setHidden(true);\r\n            }\r\n            else if(item.getName().equals(&quot;6.5 kg&quot;))\r\n            {\r\n                    item.setHidden(false);\r\n            }\r\n\r\n        }\r\n\r\n        pt_demo.calculateData();\r\n\r\n        wb_demo.save(&quot;f:\\\\files\\\\out1.xlsx&quot;); \r\n```\r\n\r\nPS. I am working as Support developer/ Evangelist at Aspose.\r\n\r\n  [1]: https://products.aspose.com/cells/java/","title":"How to get items of a pivot field Apache POI - Multiple items selection/removal?","body":"<p>You may use <a href=\"https://products.aspose.com/cells/java/\" rel=\"nofollow noreferrer\">Aspose.Cells for Java</a> for the task. You can use relevant APIs to get items of a pivot field, you can do multiple items selection and removal accordingly.\nSee the following example for your reference.</p>\n<p>e.g.</p>\n<p><strong>Sample code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>        Workbook wb_demo = new Workbook(&quot;f:\\\\files\\\\Book1.xlsx&quot;);\n        PivotTable pt_demo = wb_demo.getWorksheets().get(0).getPivotTables().get(0);\n\n        //Get the first Pivot column field\n        PivotField src_t_field = pt_demo.getColumnFields().get(0);\n        src_t_field.setMultipleItemSelectionAllowed(true);\n\n        System.out.println(src_t_field.getName());\n        System.out.println(&quot;Total Items: &quot; + src_t_field.getItems().length);\n        System.out.println(&quot;Total Items: &quot; + src_t_field.getPivotItems().getCount());\n\n        PivotItemCollection collection_src_t = src_t_field.getPivotItems();\n        System.out.println(collection_src_t.getCount());\n        for (int i = 0; i &lt; collection_src_t.getCount(); i++)\n        {\n            PivotItem item = collection_src_t.get(i);\n            System.out.println(item.getName());\n\n            if(item.getName().equals(&quot;0.5 kg&quot;))\n            {\n               item.setHidden(true);\n            }\n            else if(item.getName().equals(&quot;1 kg&quot;))\n            {\n                    item.setHidden(false);\n            }\n            else if(item.getName().equals(&quot;1.5 kg&quot;))\n            {\n                    item.setHidden(true);\n            }\n             else if(item.getName().equals(&quot;2.5 kg&quot;))\n            {\n                    item.setHidden(false);\n            }\n            else if (item.getName().equals(&quot;3 kg&quot;))\n            {\n                    item.setHidden(true);\n            }\n            else if(item.getName().equals(&quot;6.5 kg&quot;))\n            {\n                    item.setHidden(false);\n            }\n\n        }\n\n        pt_demo.calculateData();\n\n        wb_demo.save(&quot;f:\\\\files\\\\out1.xlsx&quot;); \n</code></pre>\n<p>PS. I am working as Support developer/ Evangelist at Aspose.</p>\n"}],"owner":{"account_id":23525864,"reputation":3,"user_id":17572412,"display_name":"GVA32156"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75377976,"answer_count":1,"score":0,"last_activity_date":1675797198,"creation_date":1675763664,"question_id":75371628,"body_markdown":"After creating an Excel pivot table via Apache POI, I would like to access a specific pivot field definition to get its explicit items list. Instead of &quot;Select all&quot; activated by default, I would like to select/remove some items from this list programmatically.\r\n\r\nIs there any solution to do it properly in Java with Apache POI library ? \r\nI am also open to alternative solutions like using Aspose features eventually.\r\n\r\nBecause I did not find any solution to get the explicit items, here is my workaround solution to select explicit items from the known list, helped by the following topic : https://stackoverflow.com/questions/51288301/how-to-set-multiple-default-value-in-apache-poi-pivot-table-report-filter\r\n\r\nThis simply consists into adding a dummy element and delete it afterwards\r\n\r\n```\r\npublic void setPivotFieldDataFilterPositive(String sheetName, String pivotName, String fieldName, List filterValuesList) { \r\n\r\n    XSSFPivotTable pivotTable = getPivotTable(sheetName, pivotName);\r\n\r\n    int fieldIndex = table.findColumnIndex(fieldName);\r\n    List&lt;CTPivotField&gt; pivotFieldsList = pivotTable.getCTPivotTableDefinition().getPivotFields().getPivotFieldList();\r\n    CTPivotField ctPivotField = pivotFieldsList.get(fieldIndex);\r\n    for (int i = 0; i &lt; filterValuesList.size(); i++) {\r\n        //take the first 4 items as numbered items: &lt;item x=&quot;0&quot;/&gt;&lt;item x=&quot;1&quot;/&gt;&lt;item x=&quot;2&quot;/&gt;&lt;item x=&quot;3&quot;/&gt;\r\n        ctPivotField.getItems().getItemArray(i).unsetT();\r\n        ctPivotField.getItems().getItemArray(i).setX((long)i);\r\n        //build a cache definition which has shared elements for those items \r\n        //&lt;sharedItems&gt;&lt;s v=&quot;City 1&quot;/&gt;&lt;s v=&quot;City 2&quot;/&gt;&lt;s v=&quot;City 3&quot;/&gt;&lt;s v=&quot;City 4&quot;/&gt;&lt;/sharedItems&gt;\r\n        pivotTable.getPivotCacheDefinition().getCTPivotCacheDefinition().getCacheFields().getCacheFieldArray(fieldIndex).getSharedItems().addNewS().setV(filterValuesList.get(i));\r\n    }\r\n    System.out.println(&quot;count : &quot;+pivotTable.getPivotCacheDefinition().getCTPivotCacheDefinition().getCacheFields().getCacheFieldArray(fieldIndex).getSharedItems().sizeOfSArray());\r\n    ctPivotField.setMultipleItemSelectionAllowed(true);\r\n\r\n    //additional dummy element to hide it afterwards\r\n    ctPivotField.getItems().getItemArray(filterValuesList.size()).unsetT();\r\n    ctPivotField.getItems().getItemArray(filterValuesList.size()).setX((long)filterValuesList.size());\r\n    pivotTable.getPivotCacheDefinition().getCTPivotCacheDefinition().getCacheFields().getCacheFieldArray(fieldIndex).getSharedItems().addNewS().setV(null);//item with empty name\r\n\r\n    //hide dummy element\r\n    ctPivotField.getItems().getItemArray(filterValuesList.size()).setH(true);//item hidden but an empty item still visible on the list\r\n    //ctPivotField.getItems().removeItem(filterValuesList.size()); //does not keep the filtering\r\n}\r\n```\r\n\r\nIt works but it&#39;s a crazy way to do it and I would like to avoid modifying the underlying XML structure too much.\r\n\r\n\r\n","title":"How to get items of a pivot field Apache POI - Multiple items selection/removal?","body":"<p>After creating an Excel pivot table via Apache POI, I would like to access a specific pivot field definition to get its explicit items list. Instead of &quot;Select all&quot; activated by default, I would like to select/remove some items from this list programmatically.</p>\n<p>Is there any solution to do it properly in Java with Apache POI library ?\nI am also open to alternative solutions like using Aspose features eventually.</p>\n<p>Because I did not find any solution to get the explicit items, here is my workaround solution to select explicit items from the known list, helped by the following topic : <a href=\"https://stackoverflow.com/questions/51288301/how-to-set-multiple-default-value-in-apache-poi-pivot-table-report-filter\">How to set Multiple default value in Apache POI pivot table report filter</a></p>\n<p>This simply consists into adding a dummy element and delete it afterwards</p>\n<pre><code>public void setPivotFieldDataFilterPositive(String sheetName, String pivotName, String fieldName, List filterValuesList) { \n\n    XSSFPivotTable pivotTable = getPivotTable(sheetName, pivotName);\n\n    int fieldIndex = table.findColumnIndex(fieldName);\n    List&lt;CTPivotField&gt; pivotFieldsList = pivotTable.getCTPivotTableDefinition().getPivotFields().getPivotFieldList();\n    CTPivotField ctPivotField = pivotFieldsList.get(fieldIndex);\n    for (int i = 0; i &lt; filterValuesList.size(); i++) {\n        //take the first 4 items as numbered items: &lt;item x=&quot;0&quot;/&gt;&lt;item x=&quot;1&quot;/&gt;&lt;item x=&quot;2&quot;/&gt;&lt;item x=&quot;3&quot;/&gt;\n        ctPivotField.getItems().getItemArray(i).unsetT();\n        ctPivotField.getItems().getItemArray(i).setX((long)i);\n        //build a cache definition which has shared elements for those items \n        //&lt;sharedItems&gt;&lt;s v=&quot;City 1&quot;/&gt;&lt;s v=&quot;City 2&quot;/&gt;&lt;s v=&quot;City 3&quot;/&gt;&lt;s v=&quot;City 4&quot;/&gt;&lt;/sharedItems&gt;\n        pivotTable.getPivotCacheDefinition().getCTPivotCacheDefinition().getCacheFields().getCacheFieldArray(fieldIndex).getSharedItems().addNewS().setV(filterValuesList.get(i));\n    }\n    System.out.println(&quot;count : &quot;+pivotTable.getPivotCacheDefinition().getCTPivotCacheDefinition().getCacheFields().getCacheFieldArray(fieldIndex).getSharedItems().sizeOfSArray());\n    ctPivotField.setMultipleItemSelectionAllowed(true);\n\n    //additional dummy element to hide it afterwards\n    ctPivotField.getItems().getItemArray(filterValuesList.size()).unsetT();\n    ctPivotField.getItems().getItemArray(filterValuesList.size()).setX((long)filterValuesList.size());\n    pivotTable.getPivotCacheDefinition().getCTPivotCacheDefinition().getCacheFields().getCacheFieldArray(fieldIndex).getSharedItems().addNewS().setV(null);//item with empty name\n\n    //hide dummy element\n    ctPivotField.getItems().getItemArray(filterValuesList.size()).setH(true);//item hidden but an empty item still visible on the list\n    //ctPivotField.getItems().removeItem(filterValuesList.size()); //does not keep the filtering\n}\n</code></pre>\n<p>It works but it's a crazy way to do it and I would like to avoid modifying the underlying XML structure too much.</p>\n"},{"tags":["java","jwt","jjwt","base64url"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1675796095,"post_id":75377558,"comment_id":133004592,"body_markdown":"HMAC-SHA384 (JWS HS384) is 48 bytes which base64-encodes to 64 characters with no leftover bits. **Adding one base64 character to that size field leaves the decoded value the same, so it verifies.** If you add _two_ chars, or delete one char (from that size), or change any char (in that size; a different size field e.g. HS256 might ignore a change to the last char), it will change the decoded valuie and be detected. Similarly changing one char at the end of the payload (second dot-delimited part) might or might not affect the decoded value and thus might or might not be detected.","body":"HMAC-SHA384 (JWS HS384) is 48 bytes which base64-encodes to 64 characters with no leftover bits. <b>Adding one base64 character to that size field leaves the decoded value the same, so it verifies.</b> If you add <i>two</i> chars, or delete one char (from that size), or change any char (in that size; a different size field e.g. HS256 might ignore a change to the last char), it will change the decoded valuie and be detected. Similarly changing one char at the end of the payload (second dot-delimited part) might or might not affect the decoded value and thus might or might not be detected."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1675796200,"post_id":75377558,"comment_id":133004624,"body_markdown":"Effectively crossdupe https://crypto.stackexchange.com/questions/102363/is-it-secure-to-sign-a-jwt-using-rs256 though different in detail. See the diagrams in [wikipedia](https://en.wikipedia.org/wiki/Base64#Examples).","body":"Effectively crossdupe <a href=\"https://crypto.stackexchange.com/questions/102363/is-it-secure-to-sign-a-jwt-using-rs256\" title=\"is it secure to sign a jwt using rs256\">crypto.stackexchange.com/questions/102363/&hellip;</a> though different in detail. See the diagrams in <a href=\"https://en.wikipedia.org/wiki/Base64#Examples\" rel=\"nofollow noreferrer\">wikipedia</a>."}],"answers":[{"tags":[],"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675796639,"creation_date":1675796639,"answer_id":75377869,"question_id":75377558,"body_markdown":"It&#39;s not a problem with the secret, but how the Base64Url decoder was implemented.\r\n\r\nThe original signature is 64 characters long, which in Base64Url encoding (6 bits per character) means, that there are 64 * 6 bits = 384 bits encoded. This is exactly as expected when you use the HS384 algorithm.\r\nAnd 384 bits/6 is exactly 64, so the signature can be encoded in a 64 character Base64Url string without any unused bits. Now when you add another character, it means that you add 6 bits. And the decoder in your Java code seems to just ignore these 6 bits, because it&#39;s not enough information for a complete byte. But technically it&#39;s an invalid Base64Url string and would require at least one more character. The decoder used on jwt.io seems to be stricter in this regard.\r\n\r\nSee also https://stackoverflow.com/questions/58492009/jwt-token-decoding-even-when-the-last-character-of-the-signature-is-changed which explains why you sometimes can change the last character of the signature without invalidating it.\r\n","title":"JWT parsed by jjwt-java but showing invalid in jwt.io debugger","body":"<p>It's not a problem with the secret, but how the Base64Url decoder was implemented.</p>\n<p>The original signature is 64 characters long, which in Base64Url encoding (6 bits per character) means, that there are 64 * 6 bits = 384 bits encoded. This is exactly as expected when you use the HS384 algorithm.\nAnd 384 bits/6 is exactly 64, so the signature can be encoded in a 64 character Base64Url string without any unused bits. Now when you add another character, it means that you add 6 bits. And the decoder in your Java code seems to just ignore these 6 bits, because it's not enough information for a complete byte. But technically it's an invalid Base64Url string and would require at least one more character. The decoder used on jwt.io seems to be stricter in this regard.</p>\n<p>See also <a href=\"https://stackoverflow.com/questions/58492009/jwt-token-decoding-even-when-the-last-character-of-the-signature-is-changed\">JWT token decoding even when the last character of the signature is changed</a> which explains why you sometimes can change the last character of the signature without invalidating it.</p>\n"}],"owner":{"account_id":13939282,"reputation":101,"user_id":10065622,"display_name":"Kaustubh Dixit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75377869,"answer_count":1,"score":1,"last_activity_date":1675797070,"creation_date":1675794709,"question_id":75377558,"body_markdown":"I am learning about JWS for authentication, and tried to implement using one of the java libraries [jjwt][1]. I created one JWT token string and added a single character to its end. To my surprise, jjwt library parsed it without throwing any exceptions. I don&#39;t know if there is any issue with the library or the algorithm used. I tested the same with [jwt debugger][2] and it is working as expected(showing invalid token). \r\n\r\nCODE :\r\n```\r\npublic class TestJwt {\r\n\t// private static final String JWT_SECRET_KEY = &quot;qdsfkjbwfjn323rwefwdef3kewrwerv5236v56d56w1xweec3wdn3i432oi&quot;;     \t\t// WORKING !!!\r\n\t// private static final String JWT_SECRET_KEY = &quot;qdsfkjbwfjn323rwefwdef3kewrwerv52f36v56d56w1xweec3wdn3i432oi&quot;;    \t\t// WORKING !!!\r\n\t// private static final String JWT_SECRET_KEY = &quot;qdsfkjbwfjn323rwefwdef3kewrwerv52f36345345weec3wdn3i432oi&quot;;       \t\t// WORKING !!!\r\n \t// private static final String JWT_SECRET_KEY = &quot;qdsfkjbwfjn323rwefwdef3kewrwerv52f36345432oi&quot;;  \t\t\t\t   \t\t// NOT WORKING\r\n \t// private static final String JWT_SECRET_KEY = &quot;qdsfkjbwfjn323rwefwdef3kewrwerv52f3632222222245y6454524524tef45432oi&quot;; // NOT WORKING\r\n\t\r\n    private static final String JWT_SECRET_KEY = &quot;qdsfkjbwfjn323rwefwdef3kewrwerv5236v56d56w1xweec3wdn3i432oi&quot;; // WORKING\r\n \tprivate static final Key key = Keys.hmacShaKeyFor(JWT_SECRET_KEY.getBytes());\r\n\t\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tString token = \r\n\t\tJwts.builder()\r\n\t\t\r\n\t\t.claim(&quot;name&quot;, &quot;RANDOM&quot;)\r\n\t\t.claim(&quot;surname&quot;, &quot;ANOTHER_RANDOM&quot;)\r\n\t\r\n\t\t.signWith(key)\r\n\t\t.compact();\r\n\t\t\r\n\t\tSystem.out.println(&quot;TOKEN BEFORE&quot;);\r\n\t\tSystem.out.println(token);\r\n\t\t\r\n\t\t// Adding single character to jwt and still working!!\r\n\t\ttoken = token+&quot;7&quot;;\r\n\t\t\r\n\t\tSystem.out.println(&quot;TOKEN AFTER&quot;);\r\n\t\tSystem.out.println(token);\r\n\t\t\r\n\t\t\r\n\t\tClaims claims = Jwts.parserBuilder()\r\n\t\t\t\t.setSigningKey(key).build()\t\t\t\t\r\n\t\t\t\t.parseClaimsJws(token).getBody();\r\n\t\t\r\n\t\tclaims.forEach((k,v)-&gt;{\r\n\t\t\tSystem.out.println(&quot;________________________&quot;);\r\n\t\t\tSystem.out.println(k + &quot; : &quot;+v);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tSystem.out.println(&quot;________________________&quot;);\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\nOUTPUT :\r\n```\r\nTOKEN BEFORE\r\neyJhbGciOiJIUzM4NCJ9.eyJuYW1lIjoiUkFORE9NIiwic3VybmFtZSI6IkFOT1RIRVJfUkFORE9NIn0.evntuAcZ0Urnv-5QniShmENKNBSzrjoxeNWN0uW-sy-qXzC-G2PJyi316m9LqQH9\r\nTOKEN AFTER\r\neyJhbGciOiJIUzM4NCJ9.eyJuYW1lIjoiUkFORE9NIiwic3VybmFtZSI6IkFOT1RIRVJfUkFORE9NIn0.evntuAcZ0Urnv-5QniShmENKNBSzrjoxeNWN0uW-sy-qXzC-G2PJyi316m9LqQH97\r\n________________________\r\nname : RANDOM\r\n________________________\r\nsurname : ANOTHER_RANDOM\r\n________________________\r\n\r\n```\r\n\r\nI was expecting a SignatureException. I have tested with few keys and random claims, some of them are working but some are parsing without an issue(commented out keys). Should I use more complex keys?\r\n\r\n\r\n  [1]: https://github.com/jwtk/jjwt\r\n  [2]: https://jwt.io/","title":"JWT parsed by jjwt-java but showing invalid in jwt.io debugger","body":"<p>I am learning about JWS for authentication, and tried to implement using one of the java libraries <a href=\"https://github.com/jwtk/jjwt\" rel=\"nofollow noreferrer\">jjwt</a>. I created one JWT token string and added a single character to its end. To my surprise, jjwt library parsed it without throwing any exceptions. I don't know if there is any issue with the library or the algorithm used. I tested the same with <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt debugger</a> and it is working as expected(showing invalid token).</p>\n<p>CODE :</p>\n<pre><code>public class TestJwt {\n    // private static final String JWT_SECRET_KEY = &quot;qdsfkjbwfjn323rwefwdef3kewrwerv5236v56d56w1xweec3wdn3i432oi&quot;;          // WORKING !!!\n    // private static final String JWT_SECRET_KEY = &quot;qdsfkjbwfjn323rwefwdef3kewrwerv52f36v56d56w1xweec3wdn3i432oi&quot;;         // WORKING !!!\n    // private static final String JWT_SECRET_KEY = &quot;qdsfkjbwfjn323rwefwdef3kewrwerv52f36345345weec3wdn3i432oi&quot;;            // WORKING !!!\n    // private static final String JWT_SECRET_KEY = &quot;qdsfkjbwfjn323rwefwdef3kewrwerv52f36345432oi&quot;;                         // NOT WORKING\n    // private static final String JWT_SECRET_KEY = &quot;qdsfkjbwfjn323rwefwdef3kewrwerv52f3632222222245y6454524524tef45432oi&quot;; // NOT WORKING\n    \n    private static final String JWT_SECRET_KEY = &quot;qdsfkjbwfjn323rwefwdef3kewrwerv5236v56d56w1xweec3wdn3i432oi&quot;; // WORKING\n    private static final Key key = Keys.hmacShaKeyFor(JWT_SECRET_KEY.getBytes());\n    \n\n    public static void main(String args[]) {\n        \n        String token = \n        Jwts.builder()\n        \n        .claim(&quot;name&quot;, &quot;RANDOM&quot;)\n        .claim(&quot;surname&quot;, &quot;ANOTHER_RANDOM&quot;)\n    \n        .signWith(key)\n        .compact();\n        \n        System.out.println(&quot;TOKEN BEFORE&quot;);\n        System.out.println(token);\n        \n        // Adding single character to jwt and still working!!\n        token = token+&quot;7&quot;;\n        \n        System.out.println(&quot;TOKEN AFTER&quot;);\n        System.out.println(token);\n        \n        \n        Claims claims = Jwts.parserBuilder()\n                .setSigningKey(key).build()             \n                .parseClaimsJws(token).getBody();\n        \n        claims.forEach((k,v)-&gt;{\n            System.out.println(&quot;________________________&quot;);\n            System.out.println(k + &quot; : &quot;+v);\n            \n        });\n        \n        System.out.println(&quot;________________________&quot;); \n    }\n}\n\n</code></pre>\n<p>OUTPUT :</p>\n<pre><code>TOKEN BEFORE\neyJhbGciOiJIUzM4NCJ9.eyJuYW1lIjoiUkFORE9NIiwic3VybmFtZSI6IkFOT1RIRVJfUkFORE9NIn0.evntuAcZ0Urnv-5QniShmENKNBSzrjoxeNWN0uW-sy-qXzC-G2PJyi316m9LqQH9\nTOKEN AFTER\neyJhbGciOiJIUzM4NCJ9.eyJuYW1lIjoiUkFORE9NIiwic3VybmFtZSI6IkFOT1RIRVJfUkFORE9NIn0.evntuAcZ0Urnv-5QniShmENKNBSzrjoxeNWN0uW-sy-qXzC-G2PJyi316m9LqQH97\n________________________\nname : RANDOM\n________________________\nsurname : ANOTHER_RANDOM\n________________________\n\n</code></pre>\n<p>I was expecting a SignatureException. I have tested with few keys and random claims, some of them are working but some are parsing without an issue(commented out keys). Should I use more complex keys?</p>\n"},{"tags":["java","spring","firebase","maven","google-analytics"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1675797117,"post_id":75377754,"comment_id":133004866,"body_markdown":"The answer to &quot;is it possible&quot; questions is almost always yes. See [ask] for some tips on asking a more specific question.","body":"The answer to &quot;is it possible&quot; questions is almost always yes. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for some tips on asking a more specific question."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1675797131,"post_id":75377754,"comment_id":133004872,"body_markdown":"See the question I linked, and from the API mentioned there this seems a good palce to start: https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries#java_1","body":"See the question I linked, and from the API mentioned there this seems a good palce to start: <a href=\"https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries#java_1\" rel=\"nofollow noreferrer\">developers.google.com/analytics/devguides/reporting/data/v1/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":13568468,"reputation":19,"user_id":9787846,"display_name":"SPMK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675797097,"answer_count":0,"score":0,"last_activity_date":1675797049,"creation_date":1675795977,"question_id":75377754,"body_markdown":"Is it possible to fetch the app analytics data from firebase using java libraries. My project is under the spark plan of firebase which is of no cost plan.I need to fetch the analytics data like number of active users,number of downloads of the application from firebase.I will be using java spring boot maven application to get it. Is it possible to fetch the values from firebase in this plan?","title":"Is it possible to fetch the app analytics data from firebase using java spring boot api","body":"<p>Is it possible to fetch the app analytics data from firebase using java libraries. My project is under the spark plan of firebase which is of no cost plan.I need to fetch the analytics data like number of active users,number of downloads of the application from firebase.I will be using java spring boot maven application to get it. Is it possible to fetch the values from firebase in this plan?</p>\n"},{"tags":["java","gradle","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675796821,"creation_date":1675796821,"answer_id":75377905,"question_id":75376818,"body_markdown":"From the Gradle CLI, you can obtain additional information using the `dependencyInsight` query:\r\n\r\n&gt; `./gradlew [submodule:]dependencyInsight --dependency=&lt;dependency name&gt; --configuration=runtimeClasspath`\r\n\r\nNote this is restricted via `--configuration`.  If you don&#39;t add this, it prints it for every configuration, which results in a very large output from the `dependencies` task.\r\n\r\nYou get something like this:\r\n\r\n```\r\ncom.google.http-client:google-http-client-gson:1.42.3 (by constraint)\r\n  Variant runtime:\r\n    | Attribute Name                 | Provided     | Requested    |\r\n    |--------------------------------|--------------|--------------|\r\n    | org.gradle.status              | release      |              |\r\n    | org.gradle.category            | library      | library      |\r\n    | org.gradle.libraryelements     | jar          | jar          |\r\n    | org.gradle.usage               | java-runtime | java-runtime |\r\n    | org.gradle.dependency.bundling |              | external     |\r\n    | org.gradle.jvm.environment     |              | standard-jvm |\r\n    | org.gradle.jvm.version         |              | 17           |\r\n\r\n// ...  And then a bunch more info\r\n```\r\n\r\nBut, you asked about &quot;programmatically in Java&quot;.  I&#39;m interpolating your request here, because I&#39;m not entirely sure what you&#39;re looking for.  Gradle is in either Groovy or Kotlin, unless you&#39;re authoring a plugin or some such.  That said, perhaps if provided with a Groovy answer, a Java variant, it would provide insight on where you could look.\r\n\r\nThis Gradle task does print out the dependencies, along with the &quot;attributes&quot; property, which flags BOM dependencies.  There are many other properties, as well as `metaPropertyValues`, which duplicate many of the properties.  But, for the purpose of detecting a bom or whatnot, this does the trick.\r\n\r\nNote, this is also restricted via the `runtimeClasspath` configuration.  You could enumerate configurations and iterate over them, but this was simply for an example.\r\n\r\n```groovy\r\ntasks.register(&#39;readOut&#39;) {\r\n    configurations.named(&quot;runtimeClasspath&quot;) {\r\n        it.allDependencies.each {\r\n            println &quot;- &quot; + it.name + &quot;, &quot; + it.getGroup() + &quot;:&quot; + it.getName() + &quot;:&quot; + it.getVersion() + &quot; &quot; + it.properties[&#39;attributes&#39;]\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt prints out something like this:\r\n\r\n```\r\n- my-bom, com.example:my-bom:1.1.0 {org.gradle.category=platform}\r\n- some-other-package, net.example:some-other-package:1.1.0 {}    \r\n- log4j-core, org.apache.logging.log4j:log4j-core:2.19.0 {}                          \r\n- log4j-api, org.apache.logging.log4j:log4j-api:2.19.0 {}\r\n```\r\n\r\nThe formatting is unimportant here, but it demonstrates that it is capturing the additional properties programmatically, which would allow for automation.","title":"Identify POM type dependencies programmatically in java for gradle project","body":"<p>From the Gradle CLI, you can obtain additional information using the <code>dependencyInsight</code> query:</p>\n<blockquote>\n<p><code>./gradlew [submodule:]dependencyInsight --dependency=&lt;dependency name&gt; --configuration=runtimeClasspath</code></p>\n</blockquote>\n<p>Note this is restricted via <code>--configuration</code>.  If you don't add this, it prints it for every configuration, which results in a very large output from the <code>dependencies</code> task.</p>\n<p>You get something like this:</p>\n<pre><code>com.google.http-client:google-http-client-gson:1.42.3 (by constraint)\n  Variant runtime:\n    | Attribute Name                 | Provided     | Requested    |\n    |--------------------------------|--------------|--------------|\n    | org.gradle.status              | release      |              |\n    | org.gradle.category            | library      | library      |\n    | org.gradle.libraryelements     | jar          | jar          |\n    | org.gradle.usage               | java-runtime | java-runtime |\n    | org.gradle.dependency.bundling |              | external     |\n    | org.gradle.jvm.environment     |              | standard-jvm |\n    | org.gradle.jvm.version         |              | 17           |\n\n// ...  And then a bunch more info\n</code></pre>\n<p>But, you asked about &quot;programmatically in Java&quot;.  I'm interpolating your request here, because I'm not entirely sure what you're looking for.  Gradle is in either Groovy or Kotlin, unless you're authoring a plugin or some such.  That said, perhaps if provided with a Groovy answer, a Java variant, it would provide insight on where you could look.</p>\n<p>This Gradle task does print out the dependencies, along with the &quot;attributes&quot; property, which flags BOM dependencies.  There are many other properties, as well as <code>metaPropertyValues</code>, which duplicate many of the properties.  But, for the purpose of detecting a bom or whatnot, this does the trick.</p>\n<p>Note, this is also restricted via the <code>runtimeClasspath</code> configuration.  You could enumerate configurations and iterate over them, but this was simply for an example.</p>\n<pre><code>tasks.register('readOut') {\n    configurations.named(&quot;runtimeClasspath&quot;) {\n        it.allDependencies.each {\n            println &quot;- &quot; + it.name + &quot;, &quot; + it.getGroup() + &quot;:&quot; + it.getName() + &quot;:&quot; + it.getVersion() + &quot; &quot; + it.properties['attributes']\n        }\n    }\n}\n</code></pre>\n<p>It prints out something like this:</p>\n<pre><code>- my-bom, com.example:my-bom:1.1.0 {org.gradle.category=platform}\n- some-other-package, net.example:some-other-package:1.1.0 {}    \n- log4j-core, org.apache.logging.log4j:log4j-core:2.19.0 {}                          \n- log4j-api, org.apache.logging.log4j:log4j-api:2.19.0 {}\n</code></pre>\n<p>The formatting is unimportant here, but it demonstrates that it is capturing the additional properties programmatically, which would allow for automation.</p>\n"}],"owner":{"account_id":27727749,"reputation":11,"user_id":21166925,"display_name":"Somak Dutta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675796821,"creation_date":1675790182,"question_id":75376818,"body_markdown":"I am trying to read the output of “gradle dependencies” and i have noticed that it does not provide us with the type information that maven does.\r\n\r\nSo for example maven dependencies shows us this : where we can get the type of dependencies be it jar/ejb/ war/ pom ,etc\r\n\r\n```\r\n[**INFO**] +- org.slf4j:slf4j-reload4j:jar:1.7.36:compile\r\n[**INFO**] | +- org.slf4j:slf4j-api:jar:1.7.36:compile\r\n```\r\n\r\nHowever the output of  gradle dependencies we only get something like this\r\n\r\n```\r\n+--- org.lunarray.model:bom:1.0\r\n|    +--- org.lunarray.common:base:1.0\r\n|    |    \\--- org.lunarray.common:bom:1.0\r\n```\r\n\r\nI was taking a look at DefaultArtifactResolutionQuery but it seems like it requires a lot of parameters in constructor that i dont totally understand.\r\n\r\nSo my question is : given a group artifact version, how do i identify whether its a pom type, jar type, ejb type, etc dependency programmatically in java?\r\n\r\nTried using ArtifactResolutionQUery but not able to figure out usage","title":"Identify POM type dependencies programmatically in java for gradle project","body":"<p>I am trying to read the output of “gradle dependencies” and i have noticed that it does not provide us with the type information that maven does.</p>\n<p>So for example maven dependencies shows us this : where we can get the type of dependencies be it jar/ejb/ war/ pom ,etc</p>\n<pre><code>[**INFO**] +- org.slf4j:slf4j-reload4j:jar:1.7.36:compile\n[**INFO**] | +- org.slf4j:slf4j-api:jar:1.7.36:compile\n</code></pre>\n<p>However the output of  gradle dependencies we only get something like this</p>\n<pre><code>+--- org.lunarray.model:bom:1.0\n|    +--- org.lunarray.common:base:1.0\n|    |    \\--- org.lunarray.common:bom:1.0\n</code></pre>\n<p>I was taking a look at DefaultArtifactResolutionQuery but it seems like it requires a lot of parameters in constructor that i dont totally understand.</p>\n<p>So my question is : given a group artifact version, how do i identify whether its a pom type, jar type, ejb type, etc dependency programmatically in java?</p>\n<p>Tried using ArtifactResolutionQUery but not able to figure out usage</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":3969324,"reputation":675,"user_id":3274299,"accept_rate":75,"display_name":"Tipok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675796700,"creation_date":1675793771,"question_id":75377399,"body_markdown":"I have data stored at HDFS and **N** Postgres shards (separate instances).\r\n\r\nDuring data retrieval based on  `Java COLUMN_STRING_DATA.hashCode() % N` calculation, we pick an exact shard for SQL request.\r\n\r\nWe have a Spark set up with 5 workers, each has 32 CPU, CPU per task is 2.\r\n\r\nI&#39;m struggling with uploading data to shards because the database connections are limited by Database engineering team. Each worker tries to upload data to each shard, that&#39;s why I&#39;m limited by allowed connections to PG shards. That&#39;s why I can&#39;t fully utilize Workers and PG instances.  \r\n\r\n\r\nSo I would like to somehow bind a worker to work with a unique, limited group of PG shards.\r\n\r\n```\r\n            spark.read()\r\n                .option(&quot;header&quot;, &quot;true&quot;)\r\n                .orc(pathToHdfs)\r\n                .withColumn(&quot;hash_group&quot;, functions.hash(new Column(&quot;search&quot;)).mod(PG_SHARDS_SIZE))\r\n```\r\n\r\n`Functions.hash` uses `murmur_hash` algorithm, during data retrieval from PG, I choose shard based on Java `String.hashCode() % N`. I googled, and I&#39;m able to write custom functions, so that shouldn&#39;t be a problem.\r\n\r\nThe question is how after creation a new column with Integer values in range [1..PG_SHARDS_SIZE]. I can assign Worker #1 to work only with values [1,2] of column `hash_group`. Worker #2 with values [3,4] and so on?\r\n\r\nMaybe there are other approaches to achieve binding worker to exact group of PG shards?\r\n\r\nI have 1 to 1 mapping Worker - Executor, so binding Executor to the group of PG shard working for me as well. ","title":"Assign tasks to exact workers in spark","body":"<p>I have data stored at HDFS and <strong>N</strong> Postgres shards (separate instances).</p>\n<p>During data retrieval based on  <code>Java COLUMN_STRING_DATA.hashCode() % N</code> calculation, we pick an exact shard for SQL request.</p>\n<p>We have a Spark set up with 5 workers, each has 32 CPU, CPU per task is 2.</p>\n<p>I'm struggling with uploading data to shards because the database connections are limited by Database engineering team. Each worker tries to upload data to each shard, that's why I'm limited by allowed connections to PG shards. That's why I can't fully utilize Workers and PG instances.</p>\n<p>So I would like to somehow bind a worker to work with a unique, limited group of PG shards.</p>\n<pre><code>            spark.read()\n                .option(&quot;header&quot;, &quot;true&quot;)\n                .orc(pathToHdfs)\n                .withColumn(&quot;hash_group&quot;, functions.hash(new Column(&quot;search&quot;)).mod(PG_SHARDS_SIZE))\n</code></pre>\n<p><code>Functions.hash</code> uses <code>murmur_hash</code> algorithm, during data retrieval from PG, I choose shard based on Java <code>String.hashCode() % N</code>. I googled, and I'm able to write custom functions, so that shouldn't be a problem.</p>\n<p>The question is how after creation a new column with Integer values in range [1..PG_SHARDS_SIZE]. I can assign Worker #1 to work only with values [1,2] of column <code>hash_group</code>. Worker #2 with values [3,4] and so on?</p>\n<p>Maybe there are other approaches to achieve binding worker to exact group of PG shards?</p>\n<p>I have 1 to 1 mapping Worker - Executor, so binding Executor to the group of PG shard working for me as well.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1600979203,"post_id":64053846,"comment_id":113268672,"body_markdown":"&quot;Why I am getting HTTP status code 500 error&quot; - most likely because there is an exception which you didn&#39;t share (look at whether your code might swallow exceptions, i.e. catch and ignore them).","body":"&quot;Why I am getting HTTP status code 500 error&quot; - most likely because there is an exception which you didn&#39;t share (look at whether your code might swallow exceptions, i.e. catch and ignore them)."}],"answers":[{"tags":[],"owner":{"account_id":19543420,"reputation":29,"user_id":14300761,"display_name":"j11john"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600985993,"creation_date":1600985584,"answer_id":64055127,"question_id":64053846,"body_markdown":"Please show the server log. Only with the server response it&#39;s impossible to figure out. Surround the controller with try/catch and print the exception ","title":"Spring Boot + JPA + MySQL getting 500 error Internal Server while retrieving and storing the data","body":"<p>Please show the server log. Only with the server response it's impossible to figure out. Surround the controller with try/catch and print the exception</p>\n"},{"tags":[],"owner":{"account_id":5368515,"reputation":1067,"user_id":4277677,"display_name":"Rony Nguyen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1601006902,"creation_date":1601006902,"answer_id":64057677,"question_id":64053846,"body_markdown":"1. Why I am getting HTTP status code 500 error ??\r\n=&gt; You get 500 because your controller needs a view template (such as thymeleaf, JSP or whatever view engine)\r\n2. Even I am getting the error then how data is getting the store in the database ??\r\n=&gt; You&#39;re having issue only when rendering not persist data, that why It&#39;s stored in your DB\r\n3. If I am successfully storing the data in database then why am not getting through GET request ??\r\n=&gt; Because your GET Controller still needs a view template.\r\n\r\n\r\nIf you&#39;re developing Restful APIs then using @RestController or add @ResponseBody on each controller endpoint method.\r\n\r\nBtw, you&#39;re should not use an Entity to handle your Request body.","title":"Spring Boot + JPA + MySQL getting 500 error Internal Server while retrieving and storing the data","body":"<ol>\n<li>Why I am getting HTTP status code 500 error ??\n=&gt; You get 500 because your controller needs a view template (such as thymeleaf, JSP or whatever view engine)</li>\n<li>Even I am getting the error then how data is getting the store in the database ??\n=&gt; You're having issue only when rendering not persist data, that why It's stored in your DB</li>\n<li>If I am successfully storing the data in database then why am not getting through GET request ??\n=&gt; Because your GET Controller still needs a view template.</li>\n</ol>\n<p>If you're developing Restful APIs then using @RestController or add @ResponseBody on each controller endpoint method.</p>\n<p>Btw, you're should not use an Entity to handle your Request body.</p>\n"},{"tags":[],"owner":{"account_id":17850530,"reputation":27,"user_id":12966381,"display_name":"Mandy"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1675796531,"creation_date":1675796531,"answer_id":75377854,"question_id":64053846,"body_markdown":"Simply create an empty default constructor.\r\n\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Product {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private int id;\r\n        private String name;\r\n        private int quantity;\r\n        private double price;\r\n    \r\n    //this one below\r\n    \r\n    public Product()\r\n    {\r\n    }","title":"Spring Boot + JPA + MySQL getting 500 error Internal Server while retrieving and storing the data","body":"<p>Simply create an empty default constructor.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Product {\n\n    @Id\n    @GeneratedValue\n    private int id;\n    private String name;\n    private int quantity;\n    private double price;\n\n//this one below\n\npublic Product()\n{\n}\n</code></pre>\n"}],"owner":{"account_id":16027433,"reputation":179,"user_id":11567327,"display_name":"Piyush Jiwane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5173,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64057677,"answer_count":3,"score":2,"last_activity_date":1675796531,"creation_date":1600978750,"question_id":64053846,"body_markdown":"I am creating Spring API but it is throwing 500 HTTP status code while creating GET and POST request but when I have checked in my MySQL database it is storing the data\r\n\r\n**application.properties**\r\n\r\n    # DataSource settings: set here your own configurations for the database connection.\r\n    # In this example we have &quot;javatechie&quot; as database name and\r\n    # &quot;root&quot; as username and password.\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/javatechie\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    # Show or not log for each sql query\r\n    spring.jpa.show-sql=true\r\n    # Hibernate ddl auto (create, create-drop, update)\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    # The SQL dialect makes Hibernate generate better SQL for the chosen database\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n\r\n**Product.java**\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    public class Product {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private int id;\r\n        private String name;\r\n        private int quantity;\r\n        private double price;\r\n    }\r\n\r\n**ProductController.java**\r\n\r\n    @Controller\r\n    public class ProductController {\r\n        @Autowired\r\n        private ProductService productService;\r\n    \r\n        @PostMapping(&quot;/addProduct&quot;)\r\n        public Product addProduct(@RequestBody Product product){\r\n            return productService.saveProduct(product);\r\n        }\r\n    \r\n        @PostMapping(&quot;/addProducts&quot;)\r\n        public List&lt;Product&gt; addProducts(@RequestBody List&lt;Product&gt; product){\r\n            return productService.saveProducts(product);\r\n        }\r\n    \r\n        @GetMapping(&quot;/products&quot;)\r\n        public List&lt;Product&gt; findAllProducts(){\r\n            return productService.getProducts();\r\n        }\r\n    \r\n        @GetMapping(&quot;/product/{id}&quot;)\r\n        public Product findProductById(@PathVariable int id){\r\n            return productService.getProductById(id);\r\n        }\r\n    \r\n        @GetMapping(&quot;/product/{name}&quot;)\r\n        public Product findProductByName(@PathVariable String name){\r\n            return productService.getProductsByName(name);\r\n        }\r\n    \r\n        @PutMapping(&quot;/update&quot;)\r\n        public Product updateProduct(@RequestBody Product product){\r\n            return productService.updateProduct(product);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/delete/{id}&quot;)\r\n        public String deleteProduct(@PathVariable int id){\r\n            return productService.deleteProduct(id);\r\n        }\r\n    }\r\n\r\n**ProductService.java**\r\n\r\n    @Service\r\n    public class ProductService {\r\n    \r\n        @Autowired\r\n        private ProductRepository productRepository;\r\n    \r\n        public Product saveProduct(Product product){\r\n            return productRepository.save(product);\r\n        }\r\n    \r\n        public List&lt;Product&gt; saveProducts(List&lt;Product&gt; products){\r\n            return productRepository.saveAll(products);\r\n        }\r\n    \r\n        public List&lt;Product&gt; getProducts(){\r\n            return productRepository.findAll();\r\n        }\r\n    \r\n        public Product getProductById(int id){\r\n            return productRepository.findById(id).orElse(null);\r\n        }\r\n    \r\n        public Product getProductsByName(String name){\r\n            return productRepository.findByName(name);\r\n        }\r\n    \r\n        public String deleteProduct(int id){\r\n            productRepository.deleteById(id);\r\n            return &quot;product removed !!!&quot;;\r\n        }\r\n    \r\n        public Product updateProduct(Product product){\r\n            return productRepository.save(product);\r\n        }\r\n    }\r\n\r\n**Note :-**\r\nWhen I send a POST request from Postman it is throwing me\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2020-09-24T20:01:15.060+00:00&quot;,\r\n        &quot;status&quot;: 500,\r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;message&quot;: &quot;&quot;,\r\n        &quot;path&quot;: &quot;/addProduct&quot;\r\n    }\r\nbut when I have checked in the MySQL database the entries which I had send through POST request those are there\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hHIia.png\r\n\r\n**Question**\r\n\r\n 1. Why I am getting HTTP status code 500 error ??\r\n 2. Even I am getting the error then how data is getting the store in the database ??\r\n 3. If I am successfully storing the data in database then why am not getting through GET request ??\r\n\r\n**Error Logs**\r\n\r\n    2020-09-25 09:25:50.447  INFO 12128 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms\r\n    Hibernate: select product0_.id as id1_0_, product0_.name as name2_0_, product0_.price as price3_0_, product0_.quantity as quantity4_0_ from product product0_\r\n    2020-09-25 09:25:50.613 ERROR 12128 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Circular view path [products]: would dispatch back to the current handler URL [/products] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)] with root cause\r\n    \r\n    javax.servlet.ServletException: Circular view path [products]: would dispatch back to the current handler URL [/products] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)\r\n    \tat org.springframework.web.servlet.view.InternalResourceView.prepareForRendering(InternalResourceView.java:210) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:148) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626) ~[tomcat-embed-core-9.0.38.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.38.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]\r\n\r\n","title":"Spring Boot + JPA + MySQL getting 500 error Internal Server while retrieving and storing the data","body":"<p>I am creating Spring API but it is throwing 500 HTTP status code while creating GET and POST request but when I have checked in my MySQL database it is storing the data</p>\n<p><strong>application.properties</strong></p>\n<pre><code># DataSource settings: set here your own configurations for the database connection.\n# In this example we have &quot;javatechie&quot; as database name and\n# &quot;root&quot; as username and password.\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/javatechie\nspring.datasource.username=root\nspring.datasource.password=root\n# Show or not log for each sql query\nspring.jpa.show-sql=true\n# Hibernate ddl auto (create, create-drop, update)\nspring.jpa.hibernate.ddl-auto=update\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n<p><strong>Product.java</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Product {\n\n    @Id\n    @GeneratedValue\n    private int id;\n    private String name;\n    private int quantity;\n    private double price;\n}\n</code></pre>\n<p><strong>ProductController.java</strong></p>\n<pre><code>@Controller\npublic class ProductController {\n    @Autowired\n    private ProductService productService;\n\n    @PostMapping(&quot;/addProduct&quot;)\n    public Product addProduct(@RequestBody Product product){\n        return productService.saveProduct(product);\n    }\n\n    @PostMapping(&quot;/addProducts&quot;)\n    public List&lt;Product&gt; addProducts(@RequestBody List&lt;Product&gt; product){\n        return productService.saveProducts(product);\n    }\n\n    @GetMapping(&quot;/products&quot;)\n    public List&lt;Product&gt; findAllProducts(){\n        return productService.getProducts();\n    }\n\n    @GetMapping(&quot;/product/{id}&quot;)\n    public Product findProductById(@PathVariable int id){\n        return productService.getProductById(id);\n    }\n\n    @GetMapping(&quot;/product/{name}&quot;)\n    public Product findProductByName(@PathVariable String name){\n        return productService.getProductsByName(name);\n    }\n\n    @PutMapping(&quot;/update&quot;)\n    public Product updateProduct(@RequestBody Product product){\n        return productService.updateProduct(product);\n    }\n\n    @DeleteMapping(&quot;/delete/{id}&quot;)\n    public String deleteProduct(@PathVariable int id){\n        return productService.deleteProduct(id);\n    }\n}\n</code></pre>\n<p><strong>ProductService.java</strong></p>\n<pre><code>@Service\npublic class ProductService {\n\n    @Autowired\n    private ProductRepository productRepository;\n\n    public Product saveProduct(Product product){\n        return productRepository.save(product);\n    }\n\n    public List&lt;Product&gt; saveProducts(List&lt;Product&gt; products){\n        return productRepository.saveAll(products);\n    }\n\n    public List&lt;Product&gt; getProducts(){\n        return productRepository.findAll();\n    }\n\n    public Product getProductById(int id){\n        return productRepository.findById(id).orElse(null);\n    }\n\n    public Product getProductsByName(String name){\n        return productRepository.findByName(name);\n    }\n\n    public String deleteProduct(int id){\n        productRepository.deleteById(id);\n        return &quot;product removed !!!&quot;;\n    }\n\n    public Product updateProduct(Product product){\n        return productRepository.save(product);\n    }\n}\n</code></pre>\n<p><strong>Note :-</strong>\nWhen I send a POST request from Postman it is throwing me</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2020-09-24T20:01:15.060+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;message&quot;: &quot;&quot;,\n    &quot;path&quot;: &quot;/addProduct&quot;\n}\n</code></pre>\n<p>but when I have checked in the MySQL database the entries which I had send through POST request those are there</p>\n<p><a href=\"https://i.stack.imgur.com/hHIia.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hHIia.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Question</strong></p>\n<ol>\n<li>Why I am getting HTTP status code 500 error ??</li>\n<li>Even I am getting the error then how data is getting the store in the database ??</li>\n<li>If I am successfully storing the data in database then why am not getting through GET request ??</li>\n</ol>\n<p><strong>Error Logs</strong></p>\n<pre><code>2020-09-25 09:25:50.447  INFO 12128 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms\nHibernate: select product0_.id as id1_0_, product0_.name as name2_0_, product0_.price as price3_0_, product0_.quantity as quantity4_0_ from product product0_\n2020-09-25 09:25:50.613 ERROR 12128 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Circular view path [products]: would dispatch back to the current handler URL [/products] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)] with root cause\n\njavax.servlet.ServletException: Circular view path [products]: would dispatch back to the current handler URL [/products] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)\n    at org.springframework.web.servlet.view.InternalResourceView.prepareForRendering(InternalResourceView.java:210) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:148) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:626) ~[tomcat-embed-core-9.0.38.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.38.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.38.jar:9.0.38]\n    at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]\n</code></pre>\n"},{"tags":["java","spring-integration","google-cloud-pubsub"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675795985,"creation_date":1675795985,"answer_id":75377755,"question_id":75377542,"body_markdown":"It&#39;s not clear what is your expectation for such a logic. You have two contradicting subscribers for the same input channel. It sounds more like you need a router first to determine where to proceed next with an input message from Pub/Sub: https://docs.spring.io/spring-integration/reference/html/message-routing.html#messaging-routing-chapter.\r\n\r\n&gt; but creating in this way leads to creating channels for every usecase.\r\n\r\nSure! You can go without Spring Integration and just do everything with the plain `if..else`. So, what&#39;s a difference? Therefore I don&#39;t see a reasonable argument in your statement. Yo have different HTTP methods, and that is OK to map them via Spring Integration router to respective sub-flows. The `MessageChannel` is really first-class citizen in Spring Integration. It makes a solution as loosely-coupled as possible.\r\n\r\nSeveral subscribers on your current `DirectChannel` will lead to a round-robin logic by default, so you&#39;ll be surprised that one message from Pub/Sub creates a customer, another deletes and so on in rounds. The `PublishSubscribeChannel` will make it bad as well: both of your subscribers are going to be called, so created first, then deleted immediately. ","title":"Spring Integration: How to send messages from pubsub subscribers to external systems/servers with Http Methods","body":"<p>It's not clear what is your expectation for such a logic. You have two contradicting subscribers for the same input channel. It sounds more like you need a router first to determine where to proceed next with an input message from Pub/Sub: <a href=\"https://docs.spring.io/spring-integration/reference/html/message-routing.html#messaging-routing-chapter\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/html/message-routing.html#messaging-routing-chapter</a>.</p>\n<blockquote>\n<p>but creating in this way leads to creating channels for every usecase.</p>\n</blockquote>\n<p>Sure! You can go without Spring Integration and just do everything with the plain <code>if..else</code>. So, what's a difference? Therefore I don't see a reasonable argument in your statement. Yo have different HTTP methods, and that is OK to map them via Spring Integration router to respective sub-flows. The <code>MessageChannel</code> is really first-class citizen in Spring Integration. It makes a solution as loosely-coupled as possible.</p>\n<p>Several subscribers on your current <code>DirectChannel</code> will lead to a round-robin logic by default, so you'll be surprised that one message from Pub/Sub creates a customer, another deletes and so on in rounds. The <code>PublishSubscribeChannel</code> will make it bad as well: both of your subscribers are going to be called, so created first, then deleted immediately.</p>\n"}],"owner":{"account_id":27716616,"reputation":13,"user_id":21158186,"display_name":"learner-newfeatures"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675795985,"creation_date":1675794626,"question_id":75377542,"body_markdown":"I have been trying to send messages to external systems(using rest template POST, PUT etc) from the service activators as below.\r\n\r\nBelow is my pubsub consumer class\r\n\r\n    public class MyConsumer{\r\n    \r\n    \t@Autowired\r\n    \tExternalService externalService;\r\n    \r\n    \t\t\t@Bean\r\n    \t\tpublic PubSubInboundChannelAdapter messageChannelAdapter(final @Qualifier(&quot;myInputChannel&quot;) MessageChannel inputChannel,\r\n    \t\t\t\tPubSubTemplate pubSubTemplate) \r\n    \t\t{\r\n    \t\t\tPubSubInboundChannelAdapter adapter = new PubSubInboundChannelAdapter(pubSubTemplate, pubSubSubscriptionName);\r\n    \t\t\tadapter.setOutputChannel(inputChannel);\r\n    \t\t\tadapter.setAckMode(AckMode.AUTO_ACK);\r\n    \t\t\tadapter.setErrorChannelName(&quot;pubsubErrors&quot;);\r\n    \t\t\treturn adapter;\r\n    \t\t}\r\n    \r\n    \r\n    \t\t@ServiceActivator(inputChannel = &quot;pubsubErrors&quot;)\r\n    \t\tpublic void pubsubErrorHandler(Message&lt;MessagingException&gt; exceptionMessage) {\r\n    \r\n    \t\t\tBasicAcknowledgeablePubsubMessage originalMessage = (BasicAcknowledgeablePubsubMessage) exceptionMessage\r\n    \t\t\t\t\t.getPayload().getFailedMessage().getHeaders().get(GcpPubSubHeaders.ORIGINAL_MESSAGE);\r\n    \r\n    \t\t\toriginalMessage.nack();\r\n    \t\t}\r\n    \r\n    \r\n             @Bean\r\n              public MessageChannel myInputChannel() {\r\n                 return new DirectChannel();\r\n               }\r\n    \r\n    \t\t\t@Bean\r\n    \t\t\t@ServiceActivator(inputChannel = &quot;myInputChannel&quot;)\r\n    \t\t\tpublic MessageHandler messageReceiver_AddCustomer() {\r\n    \t\t\t\treturn message -&gt; {\r\n    \t\t\t\t\t  externalService.postDataTOExternalSystems(new String((byte[]) message.getPayload());\r\n    \t\t\t\t\t  };\r\n    \t\t\t}\r\n    \r\n    \t\t\t\r\n    \t\t\t@Bean\r\n    \t\t\t@ServiceActivator(inputChannel = &quot;myInputChannel&quot;)\r\n    \t\t\tpublic MessageHandler messageReceiver_DeleteCustomer() {\r\n    \t\t\t\treturn message -&gt; {\r\n    \t\t\t\t   \r\n    \t\t\t\t\texternalService.deleteCustomer(new String((byte[]) message.getPayload());\r\n    \t\t\t\t\tBasicAcknowledgeablePubsubMessage originalMessage =\r\n    \t\t\t\t\t\t  message.getHeaders().get(GcpPubSubHeaders.ORIGINAL_MESSAGE, BasicAcknowledgeablePubsubMessage.class);\r\n    \t\t\t\t\toriginalMessage.ack();\r\n    \t\t\t\t};\r\n    \t\t\t}\r\n    }\r\n\r\n\r\n`ExternalService` below is the service which sends data to the external systems.\r\n\r\n    public class ExternalService{\r\n    \t\t\t\r\n    \t\t\tvoid postDataTOExternalSystems(Object obj){\r\n    \t\t\t// RequestEntity object formed with HttpEntity object using obj(in json) and headers \r\n    \t\t\t  restTemplate.exchange(&quot;https://externalsystems/&quot;,HttpMethod.POST,requestEntity,Object.class);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tvoid deleteDatafromExternalSystems(Object obj){\r\n    \t\t\t// RequestEntity object formed with HttpEntity object using obj(in json) and headers \r\n    \t\t\t  restTemplate.exchange(&quot;https://externalsystems/&quot;,HttpMethod.Detele,requestEntity,Object.class);\r\n    \t\t\t}\r\n    \t\r\n    }\r\n\r\n\r\nSince both the methods messageReceiver_AddCustomer and messageReceiver_deleteCustomer are using same channel whats happening is when I try to just addcustomer, the deleteCustomer is also called by default.\r\n\r\nI was thinking of creating a seperate channel for deleteCustomer, but creating in this way leads to creating channels for every usecase. \r\n\r\nHence would like to know three things here.\r\n1. Is there is any other approach of sending through Spring integration through which I can send data to external systems using a single Channel or a different utilization of Channels.\r\n2. If any error in the external service calls leads to unending of failure logs in the console\r\n\r\n        message_id: &quot;6830962001745961&quot;\r\n        publish_time {\r\n          seconds: 1675783352\r\n          nanos: 547000000\r\n        }\r\n        }, timestamp=1675783353720}]&#39;: error occurred in message handler ","title":"Spring Integration: How to send messages from pubsub subscribers to external systems/servers with Http Methods","body":"<p>I have been trying to send messages to external systems(using rest template POST, PUT etc) from the service activators as below.</p>\n<p>Below is my pubsub consumer class</p>\n<pre><code>public class MyConsumer{\n\n    @Autowired\n    ExternalService externalService;\n\n            @Bean\n        public PubSubInboundChannelAdapter messageChannelAdapter(final @Qualifier(&quot;myInputChannel&quot;) MessageChannel inputChannel,\n                PubSubTemplate pubSubTemplate) \n        {\n            PubSubInboundChannelAdapter adapter = new PubSubInboundChannelAdapter(pubSubTemplate, pubSubSubscriptionName);\n            adapter.setOutputChannel(inputChannel);\n            adapter.setAckMode(AckMode.AUTO_ACK);\n            adapter.setErrorChannelName(&quot;pubsubErrors&quot;);\n            return adapter;\n        }\n\n\n        @ServiceActivator(inputChannel = &quot;pubsubErrors&quot;)\n        public void pubsubErrorHandler(Message&lt;MessagingException&gt; exceptionMessage) {\n\n            BasicAcknowledgeablePubsubMessage originalMessage = (BasicAcknowledgeablePubsubMessage) exceptionMessage\n                    .getPayload().getFailedMessage().getHeaders().get(GcpPubSubHeaders.ORIGINAL_MESSAGE);\n\n            originalMessage.nack();\n        }\n\n\n         @Bean\n          public MessageChannel myInputChannel() {\n             return new DirectChannel();\n           }\n\n            @Bean\n            @ServiceActivator(inputChannel = &quot;myInputChannel&quot;)\n            public MessageHandler messageReceiver_AddCustomer() {\n                return message -&gt; {\n                      externalService.postDataTOExternalSystems(new String((byte[]) message.getPayload());\n                      };\n            }\n\n            \n            @Bean\n            @ServiceActivator(inputChannel = &quot;myInputChannel&quot;)\n            public MessageHandler messageReceiver_DeleteCustomer() {\n                return message -&gt; {\n                   \n                    externalService.deleteCustomer(new String((byte[]) message.getPayload());\n                    BasicAcknowledgeablePubsubMessage originalMessage =\n                          message.getHeaders().get(GcpPubSubHeaders.ORIGINAL_MESSAGE, BasicAcknowledgeablePubsubMessage.class);\n                    originalMessage.ack();\n                };\n            }\n}\n</code></pre>\n<p><code>ExternalService</code> below is the service which sends data to the external systems.</p>\n<pre><code>public class ExternalService{\n            \n            void postDataTOExternalSystems(Object obj){\n            // RequestEntity object formed with HttpEntity object using obj(in json) and headers \n              restTemplate.exchange(&quot;https://externalsystems/&quot;,HttpMethod.POST,requestEntity,Object.class);\n            }\n            \n            void deleteDatafromExternalSystems(Object obj){\n            // RequestEntity object formed with HttpEntity object using obj(in json) and headers \n              restTemplate.exchange(&quot;https://externalsystems/&quot;,HttpMethod.Detele,requestEntity,Object.class);\n            }\n    \n}\n</code></pre>\n<p>Since both the methods messageReceiver_AddCustomer and messageReceiver_deleteCustomer are using same channel whats happening is when I try to just addcustomer, the deleteCustomer is also called by default.</p>\n<p>I was thinking of creating a seperate channel for deleteCustomer, but creating in this way leads to creating channels for every usecase.</p>\n<p>Hence would like to know three things here.</p>\n<ol>\n<li><p>Is there is any other approach of sending through Spring integration through which I can send data to external systems using a single Channel or a different utilization of Channels.</p>\n</li>\n<li><p>If any error in the external service calls leads to unending of failure logs in the console</p>\n<pre><code> message_id: &quot;6830962001745961&quot;\n publish_time {\n   seconds: 1675783352\n   nanos: 547000000\n }\n }, timestamp=1675783353720}]': error occurred in message handler \n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","android","apk"],"answers":[{"tags":[],"owner":{"account_id":18341667,"reputation":110,"user_id":13357780,"display_name":"StormSpirite"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670958043,"creation_date":1670958043,"answer_id":74789729,"question_id":74789534,"body_markdown":"There are so many ways to verify if your app has been downloaded from an authorized source or not .\r\n\r\nYou can use for example Google&#39;s License Verification Library, it manages a connection between your app and the Android Market","title":"How do I Prevent Someone Uploading APKs of My App","body":"<p>There are so many ways to verify if your app has been downloaded from an authorized source or not .</p>\n<p>You can use for example Google's License Verification Library, it manages a connection between your app and the Android Market</p>\n"}],"owner":{"account_id":16065476,"reputation":320,"user_id":11595253,"display_name":"Teran Peterson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74789729,"answer_count":1,"score":0,"last_activity_date":1675795746,"creation_date":1670956802,"question_id":74789534,"body_markdown":"I discovered that some unauthorized actor is downloading my app from the Google Play store and somehow creating APKs of it. They are uploaded to websites like apkcombo and the like. How do I prevent this? \r\n\r\nFrom the research I have done, obfuscating the code sounds like it might help but is this enough to prevent the app from being cloned?\r\n\r\nUpdate:\r\n\r\nI discovered that there is no way to prevent someone from copying/uploading the apk itself, but you can prevent the clone from working using the [Play Integrity API][1].\r\n\r\n\r\n  [1]: https://developer.android.com/google/play/integrity/overview","title":"How do I Prevent Someone Uploading APKs of My App","body":"<p>I discovered that some unauthorized actor is downloading my app from the Google Play store and somehow creating APKs of it. They are uploaded to websites like apkcombo and the like. How do I prevent this?</p>\n<p>From the research I have done, obfuscating the code sounds like it might help but is this enough to prevent the app from being cloned?</p>\n<p>Update:</p>\n<p>I discovered that there is no way to prevent someone from copying/uploading the apk itself, but you can prevent the clone from working using the <a href=\"https://developer.android.com/google/play/integrity/overview\" rel=\"nofollow noreferrer\">Play Integrity API</a>.</p>\n"},{"tags":["java","validation","quarkus","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":4,"creation_date":1675814213,"post_id":75377709,"comment_id":133008837,"body_markdown":"An `int` can never be `null`, only zero. So either use `Integer`, or use something like `@Min`.","body":"An <code>int</code> can never be <code>null</code>, only zero. So either use <code>Integer</code>, or use something like <code>@Min</code>."},{"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"score":0,"creation_date":1675837302,"post_id":75377709,"comment_id":133011671,"body_markdown":"such a bad mistake from my side. Thank you :)","body":"such a bad mistake from my side. Thank you :)"}],"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675795677,"creation_date":1675795677,"question_id":75377709,"body_markdown":"It seems that deeply nested validation doesn&#39;t work on a very simple example (using quarkus &amp; lombok) using javax validation:\r\n\r\n```\r\nimport lombok.Data;\r\n\r\nimport javax.validation.Valid;\r\nimport javax.validation.constraints.NotNull;\r\n\r\n@Data\r\npublic class AModel {\r\n\r\n    @NotNull\r\n    @Valid\r\n    private BModel bModel;\r\n\r\n    @Data\r\n    public static class BModel {\r\n\r\n        @NotNull\r\n        @Valid\r\n        private CModel cModel;\r\n\r\n    }\r\n\r\n    @Data\r\n    public static class CModel {\r\n\r\n        @NotNull\r\n        private int number;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n`AModel` class validations work without problem.\r\n`BModel` class validations work without problem.\r\n`CModel` class validations are fully ignored (e.g. @NotNull for number).\r\n\r\nAm I doing something wrong, or am I hitting some sort of bug / limitation (very highly doubt that)?\r\n\r\nThanks","title":"Javax Validation: deeply nested validation not working","body":"<p>It seems that deeply nested validation doesn't work on a very simple example (using quarkus &amp; lombok) using javax validation:</p>\n<pre><code>import lombok.Data;\n\nimport javax.validation.Valid;\nimport javax.validation.constraints.NotNull;\n\n@Data\npublic class AModel {\n\n    @NotNull\n    @Valid\n    private BModel bModel;\n\n    @Data\n    public static class BModel {\n\n        @NotNull\n        @Valid\n        private CModel cModel;\n\n    }\n\n    @Data\n    public static class CModel {\n\n        @NotNull\n        private int number;\n\n    }\n\n}\n</code></pre>\n<p><code>AModel</code> class validations work without problem.\n<code>BModel</code> class validations work without problem.\n<code>CModel</code> class validations are fully ignored (e.g. @NotNull for number).</p>\n<p>Am I doing something wrong, or am I hitting some sort of bug / limitation (very highly doubt that)?</p>\n<p>Thanks</p>\n"},{"tags":["java","json","eclipse","jar"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1675795428,"post_id":75377655,"comment_id":133004427,"body_markdown":"There isn&#39;t enough context to form a useful answer. Please read [ask], then come back and edit your question.","body":"There isn&#39;t enough context to form a useful answer. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, then come back and edit your question."},{"owner":{"account_id":9789138,"reputation":171,"user_id":7254424,"display_name":"thorin9000"},"score":0,"creation_date":1675796919,"post_id":75377655,"comment_id":133004816,"body_markdown":"Have you tried running the jar from a terminal to see if an error gets thrown?","body":"Have you tried running the jar from a terminal to see if an error gets thrown?"}],"owner":{"account_id":27728397,"reputation":1,"user_id":21167437,"display_name":"BoomFlame"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675795662,"creation_date":1675795305,"question_id":75377655,"body_markdown":"I have a project that writes to a json file, after exporting to .jar and creating the .json externally, it will pause when clicking the button to write. \r\n~~~\r\nInputStream is = ClassLoader.getSystemResourceAsStream(&quot;Calendar.json&quot;);\r\n\t\t\r\n\t\tJSONTokener tokener = new JSONTokener(is); //(Freezes Here)\r\n\t\t\r\n\t\tJSONObject jsonObject = new JSONObject(tokener);\r\n~~~\r\nIt works perfectly when ran inside eclipse , but after export to .jar it wont get past the JSONTokener","title":"JSONTokener crashes after .jar export from eclipse","body":"<p>I have a project that writes to a json file, after exporting to .jar and creating the .json externally, it will pause when clicking the button to write.</p>\n<pre><code>InputStream is = ClassLoader.getSystemResourceAsStream(&quot;Calendar.json&quot;);\n        \n        JSONTokener tokener = new JSONTokener(is); //(Freezes Here)\n        \n        JSONObject jsonObject = new JSONObject(tokener);\n</code></pre>\n<p>It works perfectly when ran inside eclipse , but after export to .jar it wont get past the JSONTokener</p>\n"},{"tags":["java","inheritance","interface","polymorphism","abstract-class"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675862588,"post_id":75377586,"comment_id":133018640,"body_markdown":"Does each of your three subclasses have public get-methods for the additional property?  (Meaning, ReportA has a public `getAgreementId` method, ReportB has a public `getTierId` method, and ReportC has a public `getInstanceId` method.)","body":"Does each of your three subclasses have public get-methods for the additional property?  (Meaning, ReportA has a public <code>getAgreementId</code> method, ReportB has a public <code>getTierId</code> method, and ReportC has a public <code>getInstanceId</code> method.)"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675795315,"creation_date":1675795315,"answer_id":75377660,"question_id":75377586,"body_markdown":"So at runtime you have some class in front of you, not knowing it&#39;s exact type at compile time and therefore not knowing of the fields and methods to retrieve data.\r\n\r\nJava offers the Reflection API that you can use to ask an Object about it&#39;s class, and from there find out about fields and methods. Ultimately you can retrieve field values and also call methods using Reflection.\r\n\r\nHave a look at the fine [Oracle Tutorial for the Reflection API][1].\r\n\r\n\r\nAnother option, without Reflection would be to have a common superclass. That superclass would have one method, say `String toJSON()` that would simply return a JSON String. As this method is overridden in your report classes they know exactly what class, methods and fields are available and thus can deliver a nice report to your taste. Easier than Reflection and a good learning path into parent classes and subclasses and polymorphism.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/reflect/","title":"Decide on class at runtime at write all fields to file in Java","body":"<p>So at runtime you have some class in front of you, not knowing it's exact type at compile time and therefore not knowing of the fields and methods to retrieve data.</p>\n<p>Java offers the Reflection API that you can use to ask an Object about it's class, and from there find out about fields and methods. Ultimately you can retrieve field values and also call methods using Reflection.</p>\n<p>Have a look at the fine <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow noreferrer\">Oracle Tutorial for the Reflection API</a>.</p>\n<p>Another option, without Reflection would be to have a common superclass. That superclass would have one method, say <code>String toJSON()</code> that would simply return a JSON String. As this method is overridden in your report classes they know exactly what class, methods and fields are available and thus can deliver a nice report to your taste. Easier than Reflection and a good learning path into parent classes and subclasses and polymorphism.</p>\n"}],"owner":{"account_id":12522557,"reputation":71,"user_id":10513831,"display_name":"Willy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675795315,"creation_date":1675794967,"question_id":75377586,"body_markdown":"I have a system that writes reports to a file in json. All three reports share fields like id and value but each report has additional fields that are not shared. I want to decide at runtime which report I want to write based on some value supplied to the main function. How can I keep the code flexible so this is possible?\r\n\r\nThe reports have the following fields\r\n```\r\nReport A - id, value, agreementId\r\nReport B - id, value, tierId\r\nReport C - id, value, instanceId\r\n```\r\n\r\nI&#39;d like to have something like this\r\n```\r\nReport report = // either report a, b, or c\r\nFiles.write(outputDirectory.resolve(&quot;report.json&quot;), gson.toJson(report).toByteArray(Charsets.UTF_8))\r\n```\r\nand have all 3 fields present depending on what value is supplied to select the correct report type.\r\n\r\n\r\nI tried using an abstract class report and extending it for the other three reports. But it hides the third field and only writes the first two.","title":"Decide on class at runtime at write all fields to file in Java","body":"<p>I have a system that writes reports to a file in json. All three reports share fields like id and value but each report has additional fields that are not shared. I want to decide at runtime which report I want to write based on some value supplied to the main function. How can I keep the code flexible so this is possible?</p>\n<p>The reports have the following fields</p>\n<pre><code>Report A - id, value, agreementId\nReport B - id, value, tierId\nReport C - id, value, instanceId\n</code></pre>\n<p>I'd like to have something like this</p>\n<pre><code>Report report = // either report a, b, or c\nFiles.write(outputDirectory.resolve(&quot;report.json&quot;), gson.toJson(report).toByteArray(Charsets.UTF_8))\n</code></pre>\n<p>and have all 3 fields present depending on what value is supplied to select the correct report type.</p>\n<p>I tried using an abstract class report and extending it for the other three reports. But it hides the third field and only writes the first two.</p>\n"},{"tags":["java","spring-boot","spring-security","auth0"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1675779045,"post_id":75374496,"comment_id":132998962,"body_markdown":"You can enable and disable beans depending on the context using Spring Profiles. With it you can set up a different (or no) security configuration for testing.","body":"You can enable and disable beans depending on the context using Spring Profiles. With it you can set up a different (or no) security configuration for testing."}],"answers":[{"tags":[],"owner":{"account_id":25538,"reputation":8278,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675783281,"creation_date":1675783281,"answer_id":75375431,"question_id":75374496,"body_markdown":"In [JHipster](https://www.jhipster.tech), we generate a `TestSecurityConfiguration` class that mocks the `JwtDecoder` bean so no identity provider is needed. You can see the code [here](https://github.com/oktadev/auth0-full-stack-java-example/blob/main/src/test/java/com/auth0/flickr2/config/TestSecurityConfiguration.java). I&#39;ve copied it below for your convenience. \r\n\r\n```java\r\npackage com.auth0.flickr2.config;\r\n\r\nimport static org.mockito.Mockito.mock;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport org.springframework.boot.test.context.TestConfiguration;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Import;\r\nimport org.springframework.security.oauth2.client.InMemoryOAuth2AuthorizedClientService;\r\nimport org.springframework.security.oauth2.client.OAuth2AuthorizedClientService;\r\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\r\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\r\nimport org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository;\r\nimport org.springframework.security.oauth2.core.AuthorizationGrantType;\r\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\r\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\r\n\r\n/**\r\n * This class allows you to run unit and integration tests without an IdP.\r\n */\r\n@TestConfiguration\r\n@Import(OAuth2Configuration.class)\r\npublic class TestSecurityConfiguration {\r\n\r\n    @Bean\r\n    ClientRegistration clientRegistration() {\r\n        return clientRegistrationBuilder().build();\r\n    }\r\n\r\n    @Bean\r\n    ClientRegistrationRepository clientRegistrationRepository(ClientRegistration clientRegistration) {\r\n        return new InMemoryClientRegistrationRepository(clientRegistration);\r\n    }\r\n\r\n    private ClientRegistration.Builder clientRegistrationBuilder() {\r\n        Map&lt;String, Object&gt; metadata = new HashMap&lt;&gt;();\r\n        metadata.put(&quot;end_session_endpoint&quot;, &quot;https://jhipster.org/logout&quot;);\r\n\r\n        return ClientRegistration\r\n            .withRegistrationId(&quot;oidc&quot;)\r\n            .issuerUri(&quot;{baseUrl}&quot;)\r\n            .redirectUri(&quot;{baseUrl}/{action}/oauth2/code/{registrationId}&quot;)\r\n            .clientAuthenticationMethod(ClientAuthenticationMethod.BASIC)\r\n            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n            .scope(&quot;read:user&quot;)\r\n            .authorizationUri(&quot;https://jhipster.org/login/oauth/authorize&quot;)\r\n            .tokenUri(&quot;https://jhipster.org/login/oauth/access_token&quot;)\r\n            .jwkSetUri(&quot;https://jhipster.org/oauth/jwk&quot;)\r\n            .userInfoUri(&quot;https://api.jhipster.org/user&quot;)\r\n            .providerConfigurationMetadata(metadata)\r\n            .userNameAttributeName(&quot;id&quot;)\r\n            .clientName(&quot;Client Name&quot;)\r\n            .clientId(&quot;client-id&quot;)\r\n            .clientSecret(&quot;client-secret&quot;);\r\n    }\r\n\r\n    @Bean\r\n    JwtDecoder jwtDecoder() {\r\n        return mock(JwtDecoder.class);\r\n    }\r\n\r\n    @Bean\r\n    OAuth2AuthorizedClientService authorizedClientService(ClientRegistrationRepository clientRegistrationRepository) {\r\n        return new InMemoryOAuth2AuthorizedClientService(clientRegistrationRepository);\r\n    }\r\n}\r\n```\r\n\r\nThis class is then referenced in the test and overrides the `SecurityConfig`.\r\n\r\n```java\r\n@SpringBootTest(classes = { Flickr2App.class, TestSecurityConfiguration.class })\r\n```\r\n\r\nThe full project repo is at https://github.com/oktadev/auth0-full-stack-java-example. ","title":"How do I test main app without spring security?","body":"<p>In <a href=\"https://www.jhipster.tech\" rel=\"nofollow noreferrer\">JHipster</a>, we generate a <code>TestSecurityConfiguration</code> class that mocks the <code>JwtDecoder</code> bean so no identity provider is needed. You can see the code <a href=\"https://github.com/oktadev/auth0-full-stack-java-example/blob/main/src/test/java/com/auth0/flickr2/config/TestSecurityConfiguration.java\" rel=\"nofollow noreferrer\">here</a>. I've copied it below for your convenience.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.auth0.flickr2.config;\n\nimport static org.mockito.Mockito.mock;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport org.springframework.boot.test.context.TestConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Import;\nimport org.springframework.security.oauth2.client.InMemoryOAuth2AuthorizedClientService;\nimport org.springframework.security.oauth2.client.OAuth2AuthorizedClientService;\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\nimport org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository;\nimport org.springframework.security.oauth2.core.AuthorizationGrantType;\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\n\n/**\n * This class allows you to run unit and integration tests without an IdP.\n */\n@TestConfiguration\n@Import(OAuth2Configuration.class)\npublic class TestSecurityConfiguration {\n\n    @Bean\n    ClientRegistration clientRegistration() {\n        return clientRegistrationBuilder().build();\n    }\n\n    @Bean\n    ClientRegistrationRepository clientRegistrationRepository(ClientRegistration clientRegistration) {\n        return new InMemoryClientRegistrationRepository(clientRegistration);\n    }\n\n    private ClientRegistration.Builder clientRegistrationBuilder() {\n        Map&lt;String, Object&gt; metadata = new HashMap&lt;&gt;();\n        metadata.put(&quot;end_session_endpoint&quot;, &quot;https://jhipster.org/logout&quot;);\n\n        return ClientRegistration\n            .withRegistrationId(&quot;oidc&quot;)\n            .issuerUri(&quot;{baseUrl}&quot;)\n            .redirectUri(&quot;{baseUrl}/{action}/oauth2/code/{registrationId}&quot;)\n            .clientAuthenticationMethod(ClientAuthenticationMethod.BASIC)\n            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n            .scope(&quot;read:user&quot;)\n            .authorizationUri(&quot;https://jhipster.org/login/oauth/authorize&quot;)\n            .tokenUri(&quot;https://jhipster.org/login/oauth/access_token&quot;)\n            .jwkSetUri(&quot;https://jhipster.org/oauth/jwk&quot;)\n            .userInfoUri(&quot;https://api.jhipster.org/user&quot;)\n            .providerConfigurationMetadata(metadata)\n            .userNameAttributeName(&quot;id&quot;)\n            .clientName(&quot;Client Name&quot;)\n            .clientId(&quot;client-id&quot;)\n            .clientSecret(&quot;client-secret&quot;);\n    }\n\n    @Bean\n    JwtDecoder jwtDecoder() {\n        return mock(JwtDecoder.class);\n    }\n\n    @Bean\n    OAuth2AuthorizedClientService authorizedClientService(ClientRegistrationRepository clientRegistrationRepository) {\n        return new InMemoryOAuth2AuthorizedClientService(clientRegistrationRepository);\n    }\n}\n</code></pre>\n<p>This class is then referenced in the test and overrides the <code>SecurityConfig</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = { Flickr2App.class, TestSecurityConfiguration.class })\n</code></pre>\n<p>The full project repo is at <a href=\"https://github.com/oktadev/auth0-full-stack-java-example\" rel=\"nofollow noreferrer\">https://github.com/oktadev/auth0-full-stack-java-example</a>.</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675794905,"creation_date":1675788709,"answer_id":75376543,"question_id":75374496,"body_markdown":"As you are using spring-boot, **do not override the JwtDecoder** just to check audiences. Use `spring.security.oauth2.resourceserver.jwt.audiences` property instead (this is a comma separated list of acceptable audience).\r\n\r\nRather than deactivating security, I prefer to use mocked identities and include access-control in test coverage, using `MockMvc` (yes, even in `@SpringBootTest` with many components wired).\r\n\r\nRefer to [this other answer][1] for details on how to do that in unit-test **and integration-test**.\r\n\r\nBecause I find request post-processors not that readable and I happen to unit-test secured components which are not controllers (like `@Service` or `@Respository` with method-security like `@PreAuthorize`, `@PostFilter`, etc.), I created a [lib with test annotations for OAuth2][2]:\r\n```java\r\n@SpringBootTest(webEnvironment = WebEnvironment.MOCK)\r\n@AutoConfigureMockMvc\r\nclass ApplicationIntegrationTest {\r\n\r\n    @Autowired\r\n    MockMvc api;\r\n\r\n    // actuator\r\n    @Test\r\n    void givenRequestIsAnonymous_whenGetStatus_thenOk() throws Exception {\r\n        api.get(&quot;/actuator/health&quot;)\r\n            .andExpect(status().isOk())\r\n            .andExpect(jsonPath(&quot;$.status&quot;).value(&quot;UP&quot;));\r\n    }\r\n\r\n    // secured resource\r\n    @Test\r\n    void givenRequestIsAnonymous_whenGetMachin_thenUnauthorized() throws Exception {\r\n        api.perform(get(&quot;/api/v1/machin&quot;))\r\n            .andExpect(status().isUnauthorized());\r\n    }\r\n\r\n    @Test\r\n    @WithMockJwtAuth(&quot;SCOPE_openid&quot;, &quot;SCOPE_scope:scope&quot;)\r\n    void givenUserIsGrantedWithExpectedAuthority_whenGetMachin_thenOk() throws Exception {\r\n        api.perform(get(&quot;/api/v1/machin&quot;))\r\n            .andExpect(status().isOk());\r\n    }\r\n\r\n    @Test\r\n    @WithMockJwtAuth(&quot;SCOPE_openid&quot;)\r\n    void givenUserIsNotGrantedWithExpectedAuthority_whenGetMachin_thenForbidden() throws Exception {\r\n        api.perform(get(&quot;/api/v1/machin&quot;))\r\n            .andExpect(status().isForbidden());\r\n    }\r\n}\r\n```\r\n\r\nAs comparison, the same sample with just `spring-security-test`:\r\n```java\r\n@SpringBootTest(webEnvironment = WebEnvironment.MOCK)\r\n@AutoConfigureMockMvc\r\nclass ApplicationIntegrationTest {\r\n\r\n    @Autowired\r\n    MockMvc api;\r\n\r\n    // actuator\r\n    @Test\r\n    void givenRequestIsAnonymous_whenGetStatus_thenOk() throws Exception {\r\n        api.perform(get(&quot;/actuator/health/liveness&quot;))\r\n            .andExpect(status().isOk());\r\n    }\r\n\r\n    // secured resource\r\n    @Test\r\n    void givenRequestIsAnonymous_whenGetMachin_thenUnauthorized() throws Exception {\r\n        api.perform(get(&quot;/api/v1/machin&quot;))\r\n            .andExpect(status().isUnauthorized());\r\n    }\r\n\r\n    @Test\r\n    void givenUserIsGrantedWithExpectedAuthority_whenGetMachin_thenOk() throws Exception {\r\n        api.perform(get(&quot;/api/v1/machin&quot;)\r\n                .with(jwt().jwt(jwt -&gt; jwt.authorities(List.of(\r\n                        new SimpleGrantedAuthority(&quot;SCOPE_openid&quot;),\r\n                        new SimpleGrantedAuthority(&quot;SCOPE_scope:scope&quot;))))))\r\n            .andExpect(status().isOk());\r\n    }\r\n\r\n    @Test\r\n    void givenUserIsNotGrantedWithExpectedAuthority_whenGetMachin_thenForbidden() throws Exception {\r\n        api.perform(get(&quot;/api/v1/machin&quot;)\r\n                .with(jwt().jwt(jwt -&gt; jwt.authorities(List.of(\r\n                        new SimpleGrantedAuthority(&quot;SCOPE_openid&quot;))))))\r\n            .andExpect(status().isForbidden());\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75340753/619830\r\n  [2]: https://github.com/ch4mpy/spring-addons","title":"How do I test main app without spring security?","body":"<p>As you are using spring-boot, <strong>do not override the JwtDecoder</strong> just to check audiences. Use <code>spring.security.oauth2.resourceserver.jwt.audiences</code> property instead (this is a comma separated list of acceptable audience).</p>\n<p>Rather than deactivating security, I prefer to use mocked identities and include access-control in test coverage, using <code>MockMvc</code> (yes, even in <code>@SpringBootTest</code> with many components wired).</p>\n<p>Refer to <a href=\"https://stackoverflow.com/a/75340753/619830\">this other answer</a> for details on how to do that in unit-test <strong>and integration-test</strong>.</p>\n<p>Because I find request post-processors not that readable and I happen to unit-test secured components which are not controllers (like <code>@Service</code> or <code>@Respository</code> with method-security like <code>@PreAuthorize</code>, <code>@PostFilter</code>, etc.), I created a <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">lib with test annotations for OAuth2</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = WebEnvironment.MOCK)\n@AutoConfigureMockMvc\nclass ApplicationIntegrationTest {\n\n    @Autowired\n    MockMvc api;\n\n    // actuator\n    @Test\n    void givenRequestIsAnonymous_whenGetStatus_thenOk() throws Exception {\n        api.get(&quot;/actuator/health&quot;)\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.status&quot;).value(&quot;UP&quot;));\n    }\n\n    // secured resource\n    @Test\n    void givenRequestIsAnonymous_whenGetMachin_thenUnauthorized() throws Exception {\n        api.perform(get(&quot;/api/v1/machin&quot;))\n            .andExpect(status().isUnauthorized());\n    }\n\n    @Test\n    @WithMockJwtAuth(&quot;SCOPE_openid&quot;, &quot;SCOPE_scope:scope&quot;)\n    void givenUserIsGrantedWithExpectedAuthority_whenGetMachin_thenOk() throws Exception {\n        api.perform(get(&quot;/api/v1/machin&quot;))\n            .andExpect(status().isOk());\n    }\n\n    @Test\n    @WithMockJwtAuth(&quot;SCOPE_openid&quot;)\n    void givenUserIsNotGrantedWithExpectedAuthority_whenGetMachin_thenForbidden() throws Exception {\n        api.perform(get(&quot;/api/v1/machin&quot;))\n            .andExpect(status().isForbidden());\n    }\n}\n</code></pre>\n<p>As comparison, the same sample with just <code>spring-security-test</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = WebEnvironment.MOCK)\n@AutoConfigureMockMvc\nclass ApplicationIntegrationTest {\n\n    @Autowired\n    MockMvc api;\n\n    // actuator\n    @Test\n    void givenRequestIsAnonymous_whenGetStatus_thenOk() throws Exception {\n        api.perform(get(&quot;/actuator/health/liveness&quot;))\n            .andExpect(status().isOk());\n    }\n\n    // secured resource\n    @Test\n    void givenRequestIsAnonymous_whenGetMachin_thenUnauthorized() throws Exception {\n        api.perform(get(&quot;/api/v1/machin&quot;))\n            .andExpect(status().isUnauthorized());\n    }\n\n    @Test\n    void givenUserIsGrantedWithExpectedAuthority_whenGetMachin_thenOk() throws Exception {\n        api.perform(get(&quot;/api/v1/machin&quot;)\n                .with(jwt().jwt(jwt -&gt; jwt.authorities(List.of(\n                        new SimpleGrantedAuthority(&quot;SCOPE_openid&quot;),\n                        new SimpleGrantedAuthority(&quot;SCOPE_scope:scope&quot;))))))\n            .andExpect(status().isOk());\n    }\n\n    @Test\n    void givenUserIsNotGrantedWithExpectedAuthority_whenGetMachin_thenForbidden() throws Exception {\n        api.perform(get(&quot;/api/v1/machin&quot;)\n                .with(jwt().jwt(jwt -&gt; jwt.authorities(List.of(\n                        new SimpleGrantedAuthority(&quot;SCOPE_openid&quot;))))))\n            .andExpect(status().isForbidden());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75376543,"answer_count":2,"score":0,"last_activity_date":1675794905,"creation_date":1675778865,"question_id":75374496,"body_markdown":"I have a main app that exposes endpoint like this. I have a test like this. It simply uses TestRestTemplate, calls actuator endpoint and checks health:\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(classes = HealthDataImporterApplication.class, webEnvironment = WebEnvironment.RANDOM_PORT)\r\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\npublic class HealthDataImporterApplicationTest {\r\n\r\n    @Autowired\r\n    private TestRestTemplate testRestTemplate;\r\n    @LocalServerPort\r\n    private int serverPort;\r\n\r\n    @Test\r\n    public void health() {\r\n        assertThat(&quot;status&quot;, read(get(&quot;health&quot;), &quot;$.status&quot;).equals(&quot;UP&quot;));\r\n    }\r\n\r\n    private String get(final String resource) {\r\n        return testRestTemplate.getForObject(String.format(&quot;http://localhost:%s/actuator/%s&quot;, serverPort, resource),\r\n                String.class);\r\n    }\r\n}\r\n```\r\nI now added `SecurityConfig` class to add authentication to the app. Here is SecurityConfig class:\r\n```\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    private static final String ACTUATOR_URL = &quot;/actuator/**&quot;;\r\n    private static final String SCOPE_PREFIX = &quot;SCOPE_&quot;;\r\n    private static final String PERMISSION_SCOPE = &quot;scope:scope&quot;;\r\n\r\n    @Value(&quot;${auth0.audience}&quot;)\r\n    private String audience;\r\n\r\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\r\n    private String issuer;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        /*\r\n        This is where we configure the security required for our endpoints and setup our app to serve as\r\n        an OAuth2 Resource Server, using JWT validation.\r\n        */\r\n        http\r\n            .csrf().disable()\r\n            .authorizeRequests()\r\n            .antMatchers(HttpMethod.GET, ACTUATOR_URL).permitAll()\r\n            .anyRequest().hasAuthority(SCOPE_PREFIX + PERMISSION_SCOPE)\r\n            .and().cors()\r\n            .and().oauth2ResourceServer().jwt();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    JwtDecoder jwtDecoder() {\r\n        /*\r\n        By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\r\n        indeed intended for our app. Adding our own validator is easy to do:\r\n        */\r\n        NimbusJwtDecoder jwtDecoder = JwtDecoders.fromOidcIssuerLocation(issuer);\r\n        jwtDecoder.setJwtValidator(new DelegatingOAuth2TokenValidator&lt;&gt;(JwtValidators.createDefaultWithIssuer(issuer),\r\n                new AudienceValidator(audience)));\r\n        return jwtDecoder;\r\n    }\r\n}\r\n```\r\nMain app imports this `SecurityConfig` class so authentication is there. However, it fails the existing test because it complains it is missing `auth0.audience` and other value. It seems like it is trying to actually call auth0 url, which I don&#39;t want the test to. Otherwise, I have to put actual auth0 audience and domain which is sensitive data.\r\n\r\nHow can I disable spring security with TestRestTemplate? Is it worth to test this class at all?","title":"How do I test main app without spring security?","body":"<p>I have a main app that exposes endpoint like this. I have a test like this. It simply uses TestRestTemplate, calls actuator endpoint and checks health:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = HealthDataImporterApplication.class, webEnvironment = WebEnvironment.RANDOM_PORT)\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\npublic class HealthDataImporterApplicationTest {\n\n    @Autowired\n    private TestRestTemplate testRestTemplate;\n    @LocalServerPort\n    private int serverPort;\n\n    @Test\n    public void health() {\n        assertThat(&quot;status&quot;, read(get(&quot;health&quot;), &quot;$.status&quot;).equals(&quot;UP&quot;));\n    }\n\n    private String get(final String resource) {\n        return testRestTemplate.getForObject(String.format(&quot;http://localhost:%s/actuator/%s&quot;, serverPort, resource),\n                String.class);\n    }\n}\n</code></pre>\n<p>I now added <code>SecurityConfig</code> class to add authentication to the app. Here is SecurityConfig class:</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig {\n\n    private static final String ACTUATOR_URL = &quot;/actuator/**&quot;;\n    private static final String SCOPE_PREFIX = &quot;SCOPE_&quot;;\n    private static final String PERMISSION_SCOPE = &quot;scope:scope&quot;;\n\n    @Value(&quot;${auth0.audience}&quot;)\n    private String audience;\n\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\n    private String issuer;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        /*\n        This is where we configure the security required for our endpoints and setup our app to serve as\n        an OAuth2 Resource Server, using JWT validation.\n        */\n        http\n            .csrf().disable()\n            .authorizeRequests()\n            .antMatchers(HttpMethod.GET, ACTUATOR_URL).permitAll()\n            .anyRequest().hasAuthority(SCOPE_PREFIX + PERMISSION_SCOPE)\n            .and().cors()\n            .and().oauth2ResourceServer().jwt();\n        return http.build();\n    }\n\n    @Bean\n    JwtDecoder jwtDecoder() {\n        /*\n        By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\n        indeed intended for our app. Adding our own validator is easy to do:\n        */\n        NimbusJwtDecoder jwtDecoder = JwtDecoders.fromOidcIssuerLocation(issuer);\n        jwtDecoder.setJwtValidator(new DelegatingOAuth2TokenValidator&lt;&gt;(JwtValidators.createDefaultWithIssuer(issuer),\n                new AudienceValidator(audience)));\n        return jwtDecoder;\n    }\n}\n</code></pre>\n<p>Main app imports this <code>SecurityConfig</code> class so authentication is there. However, it fails the existing test because it complains it is missing <code>auth0.audience</code> and other value. It seems like it is trying to actually call auth0 url, which I don't want the test to. Otherwise, I have to put actual auth0 audience and domain which is sensitive data.</p>\n<p>How can I disable spring security with TestRestTemplate? Is it worth to test this class at all?</p>\n"},{"tags":["java","lambda"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675794902,"creation_date":1675794902,"answer_id":75377577,"question_id":75363420,"body_markdown":"What about a class like the following:\r\n    \r\n    @Data\r\n    public class SharedStuff {\r\n        private String path:\r\n        private String value;\r\n        private String organizedValue;\r\n    \r\n        public SharedStuff(String orgPath, String schema, String value) {\r\n            this.path = orgPath.get();\r\n            this.value = PREFIX + value.get();\r\n            this.organizedValue = callOrganizer(path, value);\r\n        }\r\n\r\nThen use like this:\r\n\r\n    public static void organizeBooks(){\r\n\r\n    OrganizerFunc organizeBooksFunc = (orgPath, schema, value) -&gt; {\r\n\r\n        if(schema.isOrganizable()) {\r\n           SharedStuff sharedSuff = new SharedStuff(orgPath, schema, value);\r\n           \r\n            // Rest of the code below\r\n            sharedStuff.getPath();\r\n\r\n       }\r\n\r\n    }\r\n\r\n}\r\n","title":"Abstracting duplicate lines of code in lambda functions in Java","body":"<p>What about a class like the following:</p>\n<pre><code>@Data\npublic class SharedStuff {\n    private String path:\n    private String value;\n    private String organizedValue;\n\n    public SharedStuff(String orgPath, String schema, String value) {\n        this.path = orgPath.get();\n        this.value = PREFIX + value.get();\n        this.organizedValue = callOrganizer(path, value);\n    }\n</code></pre>\n<p>Then use like this:</p>\n<pre><code>public static void organizeBooks(){\n\nOrganizerFunc organizeBooksFunc = (orgPath, schema, value) -&gt; {\n\n    if(schema.isOrganizable()) {\n       SharedStuff sharedSuff = new SharedStuff(orgPath, schema, value);\n       \n        // Rest of the code below\n        sharedStuff.getPath();\n\n   }\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675794902,"creation_date":1675697812,"question_id":75363420,"body_markdown":"I have 2 lambda functions which contains some duplicated lines of code as explained below in `organizeBooksFunc` and `organizeToysFunc ` functions. The rest of the lines of code are different.  In both case the values `path` , `value` and `organizedValue` are used in the rest of the code as well. Is there a way abstract the duplicate lines of code in both these functions?\r\n\r\n```Java\r\n  public interface OrganizerFunc {\r\n    void organize(List&lt;String&gt; orgPath, Schema schema, Value value);\r\n  }\r\n```\r\n\r\n```Java\r\npublic static void organizeBooks(){\r\n\r\n    OrganizerFunc organizeBooksFunc = (orgPath, schema, value) -&gt; {\r\n\r\n        if(schema.isOrganizable()) {\r\n            path = orgPath.get();\r\n            value = PREFIX + value.get();\r\n            organizedValue = callOrganizer(path, value);\r\n            // Rest of the code below\r\n\r\n       }\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```Java\r\npublic static void organizeToys(){\r\n\r\n    OrganizerFunc organizeToysFunc = (orgPath, schema, value) -&gt; {\r\n\r\n        if(schema.isOrganizable()) {\r\n            path = orgPath.get();\r\n            value = PREFIX + value.get();\r\n            organizedValue = callOrganizer(path, value);\r\n            // Rest of the code below\r\n\r\n       }\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n","title":"Abstracting duplicate lines of code in lambda functions in Java","body":"<p>I have 2 lambda functions which contains some duplicated lines of code as explained below in <code>organizeBooksFunc</code> and <code>organizeToysFunc </code> functions. The rest of the lines of code are different.  In both case the values <code>path</code> , <code>value</code> and <code>organizedValue</code> are used in the rest of the code as well. Is there a way abstract the duplicate lines of code in both these functions?</p>\n<pre><code>  public interface OrganizerFunc {\n    void organize(List&lt;String&gt; orgPath, Schema schema, Value value);\n  }\n</code></pre>\n<pre><code>public static void organizeBooks(){\n\n    OrganizerFunc organizeBooksFunc = (orgPath, schema, value) -&gt; {\n\n        if(schema.isOrganizable()) {\n            path = orgPath.get();\n            value = PREFIX + value.get();\n            organizedValue = callOrganizer(path, value);\n            // Rest of the code below\n\n       }\n\n    }\n\n}\n\n</code></pre>\n<pre><code>public static void organizeToys(){\n\n    OrganizerFunc organizeToysFunc = (orgPath, schema, value) -&gt; {\n\n        if(schema.isOrganizable()) {\n            path = orgPath.get();\n            value = PREFIX + value.get();\n            organizedValue = callOrganizer(path, value);\n            // Rest of the code below\n\n       }\n\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","kubernetes","distroless"],"answers":[{"tags":[],"owner":{"account_id":8342701,"reputation":1021,"user_id":6267537,"display_name":"Jonathan Chevalier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675794887,"creation_date":1675794887,"answer_id":75377576,"question_id":75374876,"body_markdown":"Solved using actuator endpoint\r\n\r\n```java\r\n@Slf4j\r\n@Component\r\n@ControllerEndpoint(id = &quot;preStopHook&quot;)\r\nclass WebMvcPreStopHookEndpoint {\r\n\r\n  @ResponseStatus(OK)\r\n  @GetMapping(&quot;/{delayInMillis}&quot;)\r\n  public ResponseEntity&lt;Void&gt; preStopHook(@PathVariable(&quot;delayInMillis&quot;) final long delayInMillis)\r\n      throws InterruptedException {\r\n    log.info(&quot;[preStopHook] received signal to sleep for {}ms&quot;, delayInMillis);\r\n    Thread.sleep(delayInMillis);\r\n    return null;\r\n  }\r\n}\r\n```","title":"preStop hook using image distroless/java17:nonroot","body":"<p>Solved using actuator endpoint</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Component\n@ControllerEndpoint(id = &quot;preStopHook&quot;)\nclass WebMvcPreStopHookEndpoint {\n\n  @ResponseStatus(OK)\n  @GetMapping(&quot;/{delayInMillis}&quot;)\n  public ResponseEntity&lt;Void&gt; preStopHook(@PathVariable(&quot;delayInMillis&quot;) final long delayInMillis)\n      throws InterruptedException {\n    log.info(&quot;[preStopHook] received signal to sleep for {}ms&quot;, delayInMillis);\n    Thread.sleep(delayInMillis);\n    return null;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8342701,"reputation":1021,"user_id":6267537,"display_name":"Jonathan Chevalier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675794887,"creation_date":1675780741,"question_id":75374876,"body_markdown":"Does anyone had success implementing preStop hook with distroless/java17:nonroot ? Here is my (default) deployment:\r\n\r\n```java\r\n# [...]\r\n          lifecycle:\r\n            preStop:\r\n              exec:\r\n                command: [&quot;sh&quot;, &quot;-c&quot;, &quot;sleep 10&quot;]\r\n\r\n          securityContext:\r\n            readOnlyRootFilesystem: true\r\n            allowPrivilegeEscalation: false\r\n            privileged: false\r\n            runAsUser: 65532\r\n            capabilities:\r\n              drop:\r\n                - ALL\r\n\r\n          volumeMounts:\r\n            - name: tmp-volume\r\n              mountPath: /tmp\r\n```","title":"preStop hook using image distroless/java17:nonroot","body":"<p>Does anyone had success implementing preStop hook with distroless/java17:nonroot ? Here is my (default) deployment:</p>\n<pre class=\"lang-java prettyprint-override\"><code># [...]\n          lifecycle:\n            preStop:\n              exec:\n                command: [&quot;sh&quot;, &quot;-c&quot;, &quot;sleep 10&quot;]\n\n          securityContext:\n            readOnlyRootFilesystem: true\n            allowPrivilegeEscalation: false\n            privileged: false\n            runAsUser: 65532\n            capabilities:\n              drop:\n                - ALL\n\n          volumeMounts:\n            - name: tmp-volume\n              mountPath: /tmp\n</code></pre>\n"},{"tags":["java","code-generation","builder","auto-value"],"owner":{"account_id":318097,"reputation":4364,"user_id":635125,"accept_rate":77,"display_name":"Chris Morris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675794764,"creation_date":1675794764,"question_id":75377565,"body_markdown":"I have an `AutoValue` with a property, `SubMessage`, that is also an `AutoValue`. The top-level `AutoValue` has a `Builder` that allows you to set the `AutoValue` `SubMessage` property with `set(SubMessage)`. However, I get a compilation error when I declare a `set(SubMessage.Builder)`. However, there is a compilation error because the `get()` returns `SubMessage` and not `SubMessage.Builder`. **Am I doing this incorrectly? Is there a suggested work around?**\r\n\r\nNotably, I am trying to avoid defining a non-abstract method like so:\r\n\r\n```\r\npublic MainMessage.Builder setSubMessage(SubMessage.Builder builder) {\r\n  setSubMessage(builder.build());\r\n  return this;\r\n}\r\n```\r\n\r\nOne of the goals of `AutoValue` is to remove as much boilerplate as possible, which is why I&#39;m trying to figure out if `AutoValue` will auto-generate the code I require.\r\n\r\n\r\nExample below:\r\n\r\n```\r\n@AutoValue\r\n  public abstract static class MainMessage {\r\n\r\n    public static Builder builder() {\r\n      return new AutoValue_MainClass_MainMessage.Builder();\r\n    }\r\n\r\n    public abstract SubMessage subMessage();\r\n\r\n    public abstract Builder toBuilder();\r\n\r\n    /** Builder for MainMessage. */\r\n    @AutoValue.Builder\r\n    public abstract static class Builder {\r\n\r\n      public abstract Builder setSubMessage(SubMessage value);\r\n\r\n      public abstract Builder setSubMessage(SubMessage.Builder value);\r\n\r\n      public abstract SubMessage.Builder subMessageBuilder();\r\n\r\n      public abstract MainMessage build();\r\n    }\r\n  }\r\n\r\n  @AutoValue\r\n  public abstract static class SubMessage {\r\n\r\n    public static Builder builder() {\r\n      return new AutoValue_MainClass_SubMessage.Builder();\r\n    }\r\n\r\n    public abstract int someValue();\r\n\r\n    public abstract Builder toBuilder();\r\n\r\n    /** Builder for SubMessage. */\r\n    @AutoValue.Builder\r\n    public abstract static class Builder {\r\n\r\n      public abstract Builder setSomeValue(int value);\r\n\r\n      public abstract SubMessage build();\r\n    }\r\n  }\r\n```\r\n\r\nError:\r\n```\r\n[AutoValueGetVsSet] Parameter type MainClass.SubMessage.Builder of setter method should be com.google.sandbox.MainClass.SubMessage to match property method com.google.sandbox.MainClass.MainMessage.subMessage()\r\n      public abstract Builder setSubMessage(SubMessage.Builder value);\r\n```\r\n","title":"how to pass AutoValue Builder as argument to AutoValue Builder&#39;s set() method (without defining the method myself)","body":"<p>I have an <code>AutoValue</code> with a property, <code>SubMessage</code>, that is also an <code>AutoValue</code>. The top-level <code>AutoValue</code> has a <code>Builder</code> that allows you to set the <code>AutoValue</code> <code>SubMessage</code> property with <code>set(SubMessage)</code>. However, I get a compilation error when I declare a <code>set(SubMessage.Builder)</code>. However, there is a compilation error because the <code>get()</code> returns <code>SubMessage</code> and not <code>SubMessage.Builder</code>. <strong>Am I doing this incorrectly? Is there a suggested work around?</strong></p>\n<p>Notably, I am trying to avoid defining a non-abstract method like so:</p>\n<pre><code>public MainMessage.Builder setSubMessage(SubMessage.Builder builder) {\n  setSubMessage(builder.build());\n  return this;\n}\n</code></pre>\n<p>One of the goals of <code>AutoValue</code> is to remove as much boilerplate as possible, which is why I'm trying to figure out if <code>AutoValue</code> will auto-generate the code I require.</p>\n<p>Example below:</p>\n<pre><code>@AutoValue\n  public abstract static class MainMessage {\n\n    public static Builder builder() {\n      return new AutoValue_MainClass_MainMessage.Builder();\n    }\n\n    public abstract SubMessage subMessage();\n\n    public abstract Builder toBuilder();\n\n    /** Builder for MainMessage. */\n    @AutoValue.Builder\n    public abstract static class Builder {\n\n      public abstract Builder setSubMessage(SubMessage value);\n\n      public abstract Builder setSubMessage(SubMessage.Builder value);\n\n      public abstract SubMessage.Builder subMessageBuilder();\n\n      public abstract MainMessage build();\n    }\n  }\n\n  @AutoValue\n  public abstract static class SubMessage {\n\n    public static Builder builder() {\n      return new AutoValue_MainClass_SubMessage.Builder();\n    }\n\n    public abstract int someValue();\n\n    public abstract Builder toBuilder();\n\n    /** Builder for SubMessage. */\n    @AutoValue.Builder\n    public abstract static class Builder {\n\n      public abstract Builder setSomeValue(int value);\n\n      public abstract SubMessage build();\n    }\n  }\n</code></pre>\n<p>Error:</p>\n<pre><code>[AutoValueGetVsSet] Parameter type MainClass.SubMessage.Builder of setter method should be com.google.sandbox.MainClass.SubMessage to match property method com.google.sandbox.MainClass.MainMessage.subMessage()\n      public abstract Builder setSubMessage(SubMessage.Builder value);\n</code></pre>\n"},{"tags":["python","java","android","sockets","utf-8"],"comments":[{"owner":{"account_id":399622,"reputation":4097,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1675794603,"post_id":75377467,"comment_id":133004218,"body_markdown":"Is it possible that the header contains the length of the string in chars, rather than in bytes? Then, say your message is 100 chars long and contains 1 non-ascii character: it&#39;s 101 bytes long, but if the header states the length as 100, the Python code will only read the first 100 bytes and miss the last one.","body":"Is it possible that the header contains the length of the string in chars, rather than in bytes? Then, say your message is 100 chars long and contains 1 non-ascii character: it&#39;s 101 bytes long, but if the header states the length as 100, the Python code will only read the first 100 bytes and miss the last one."},{"owner":{"account_id":27493273,"reputation":1,"user_id":20978205,"display_name":"preno1221"},"score":0,"creation_date":1675794953,"post_id":75377467,"comment_id":133004304,"body_markdown":"Oh great heavens. This is an exquisite observation - it might actually be the error. I&#39;ll update in a jiffy.","body":"Oh great heavens. This is an exquisite observation - it might actually be the error. I&#39;ll update in a jiffy."},{"owner":{"account_id":27493273,"reputation":1,"user_id":20978205,"display_name":"preno1221"},"score":0,"creation_date":1675796316,"post_id":75377467,"comment_id":133004659,"body_markdown":"That solved it! what a silly overlook by me. Much obliged!","body":"That solved it! what a silly overlook by me. Much obliged!"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1675910159,"post_id":75377467,"comment_id":133031209,"body_markdown":"@preno1221 Consider creating and accepting an answer (including an explanation) for your question. A question with an accepted answer is more helpful to the SO community than a resolution buried in the comments.","body":"@preno1221 Consider creating and accepting an answer (including an explanation) for your question. A question with an accepted answer is more helpful to the SO community than a resolution buried in the comments."},{"owner":{"account_id":27493273,"reputation":1,"user_id":20978205,"display_name":"preno1221"},"score":0,"creation_date":1676105215,"post_id":75377467,"comment_id":133073872,"body_markdown":"You mean I should write the answer by myself?","body":"You mean I should write the answer by myself?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676445181,"post_id":75377467,"comment_id":133135862,"body_markdown":"@preno1221 Yes. Write the answer yourself - there&#39;s nothing wrong with doing that at all, and it&#39;s much better than leaving the question unanswered. And accept your own answer as well. Also, as a separate matter, please note that when you want to direct a comment to a specific person for your question, include their username prefixed by an @ sign (as I have done for this comment) so that they are notified of the comment.","body":"@preno1221 Yes. Write the answer yourself - there&#39;s nothing wrong with doing that at all, and it&#39;s much better than leaving the question unanswered. And accept your own answer as well. Also, as a separate matter, please note that when you want to direct a comment to a specific person for your question, include their username prefixed by an @ sign (as I have done for this comment) so that they are notified of the comment."}],"owner":{"account_id":27493273,"reputation":1,"user_id":20978205,"display_name":"preno1221"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675794144,"creation_date":1675794144,"question_id":75377467,"body_markdown":"So everything works fine, except when I have something that is not ascii sent over to the python server (That&#39;s my hypothesis).\r\n\r\n\r\nBasically i sent a json String, part of which was:\r\n`&quot;Nova Nazar&#233; - State of Mato Grosso, 78638-000, Brazil&quot;`.\r\n\r\nAs you can see, there&#39;s an `&#39;&#233;&#39;` char, which is not a standard ascii char.\r\nSo as I said i sent Json String, and due to the presence of the `&#39;&#233;&#39;`, the last bracked `}` of the Json string was not sent and the data was corrupted. The same thing happens if i use for example, more than 1 non-ascii char, such as hebrew. More bytes are lost from the end of the String.\r\n\r\nI wanted to ask how can I solve this... Since im using utf-8, not ascii. So i thought it should work.\r\n\r\nHere&#39;s the sending function of my android client side (It&#39;s a part of a SocketTask class i created):\r\n\r\n```\r\nprivate void send(String sendingStr)\r\n    {\r\n        try\r\n        {\r\n            OutputStreamWriter writer = new\r\n                    OutputStreamWriter(this.socket.getOutputStream(),\r\n                    StandardCharsets.UTF_8); // outputStreamWriter creating\r\n\r\n            writer.write(sendingStr);\r\n            writer.flush();\r\n\r\n            Log.d(&quot;Result&quot;, &quot;sent&quot;);\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            Log.e(&quot;Exception&quot;, e.toString());\r\n        }\r\n    }\r\n```\r\n\r\nAnd here&#39;s how I receive the data:\r\n```\r\n    while True:\r\n\r\n        client_socket, client_address_port = server_socket.accept()\r\n        print(f&quot;{client_address_port} connected.&quot;)\r\n\r\n        length_to_read = client_socket.recv(HEADER_LENGTH).decode(&#39;utf-8&#39;)\r\n        activity_name = client_socket.recv(int(length_to_read)).decode(&#39;utf-8&#39;)\r\n\r\n        print(&quot;Got: &quot; + length_to_read + activity_name)\r\n\r\n        if activity_name:\r\n\r\n            length_to_read = client_socket.recv(HEADER_LENGTH).decode(&#39;utf-8&#39;)\r\n            data_string = client_socket.recv(int(length_to_read)).decode(&#39;utf-8&#39;)\r\n\r\n            print(&quot;Got: &quot; + length_to_read + data_string)\r\n```\r\n\r\nBasically, already at the prints in the python sides, I see there are errors where the last bytes aren&#39;t read by the server or something.\r\n\r\nAnd ideas?","title":"Last bytes are lost when sending from android client to python server","body":"<p>So everything works fine, except when I have something that is not ascii sent over to the python server (That's my hypothesis).</p>\n<p>Basically i sent a json String, part of which was:\n<code>&quot;Nova Nazaré - State of Mato Grosso, 78638-000, Brazil&quot;</code>.</p>\n<p>As you can see, there's an <code>'é'</code> char, which is not a standard ascii char.\nSo as I said i sent Json String, and due to the presence of the <code>'é'</code>, the last bracked <code>}</code> of the Json string was not sent and the data was corrupted. The same thing happens if i use for example, more than 1 non-ascii char, such as hebrew. More bytes are lost from the end of the String.</p>\n<p>I wanted to ask how can I solve this... Since im using utf-8, not ascii. So i thought it should work.</p>\n<p>Here's the sending function of my android client side (It's a part of a SocketTask class i created):</p>\n<pre><code>private void send(String sendingStr)\n    {\n        try\n        {\n            OutputStreamWriter writer = new\n                    OutputStreamWriter(this.socket.getOutputStream(),\n                    StandardCharsets.UTF_8); // outputStreamWriter creating\n\n            writer.write(sendingStr);\n            writer.flush();\n\n            Log.d(&quot;Result&quot;, &quot;sent&quot;);\n        }\n        catch (Exception e)\n        {\n            Log.e(&quot;Exception&quot;, e.toString());\n        }\n    }\n</code></pre>\n<p>And here's how I receive the data:</p>\n<pre><code>    while True:\n\n        client_socket, client_address_port = server_socket.accept()\n        print(f&quot;{client_address_port} connected.&quot;)\n\n        length_to_read = client_socket.recv(HEADER_LENGTH).decode('utf-8')\n        activity_name = client_socket.recv(int(length_to_read)).decode('utf-8')\n\n        print(&quot;Got: &quot; + length_to_read + activity_name)\n\n        if activity_name:\n\n            length_to_read = client_socket.recv(HEADER_LENGTH).decode('utf-8')\n            data_string = client_socket.recv(int(length_to_read)).decode('utf-8')\n\n            print(&quot;Got: &quot; + length_to_read + data_string)\n</code></pre>\n<p>Basically, already at the prints in the python sides, I see there are errors where the last bytes aren't read by the server or something.</p>\n<p>And ideas?</p>\n"},{"tags":["java","variables","compiler-errors"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1675781672,"post_id":75374823,"comment_id":132999916,"body_markdown":"If you&#39;re new to Java my best recommendation is to use IntelliJ not VSCode. Also please share more of your code, as per the https://stackoverflow.com/help/how-to-ask it&#39;s best to provide an example that can be easily reproduced.","body":"If you&#39;re new to Java my best recommendation is to use IntelliJ not VSCode. Also please share more of your code, as per the <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> it&#39;s best to provide an example that can be easily reproduced."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1675782020,"post_id":75374823,"comment_id":133000053,"body_markdown":"a) your class is incomplete and does not compile (syntax errors) b) Where is the class (?) `DriveConstants` is defined? c) does the import work (which line shows the error)? d) do you have all the required jars/files on the class path?","body":"a) your class is incomplete and does not compile (syntax errors) b) Where is the class (?) <code>DriveConstants</code> is defined? c) does the import work (which line shows the error)? d) do you have all the required jars/files on the class path?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675782345,"post_id":75374823,"comment_id":133000181,"body_markdown":"You asked this same question 5 days ago, then deleted it: https://stackoverflow.com/questions/75324669.  The answer will be the same as then, you need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) ... or we cannot help you.","body":"You asked this same question 5 days ago, then deleted it: <a href=\"https://stackoverflow.com/questions/75324669\">stackoverflow.com/questions/75324669</a>.  The answer will be the same as then, you need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> ... or we cannot help you."},{"owner":{"account_id":27686158,"reputation":1,"user_id":21133877,"display_name":"Macattack"},"score":0,"creation_date":1675782372,"post_id":75374823,"comment_id":133000192,"body_markdown":"@knittl have added more code. The class should be complete as I just shortened the code so it would not be so line. DriveConstants is defined in Constants. I also get an error with one of the imports saying  it cannot be resolved.","body":"@knittl have added more code. The class should be complete as I just shortened the code so it would not be so line. DriveConstants is defined in Constants. I also get an error with one of the imports saying  it cannot be resolved."},{"owner":{"account_id":27686158,"reputation":1,"user_id":21133877,"display_name":"Macattack"},"score":0,"creation_date":1675782447,"post_id":75374823,"comment_id":133000230,"body_markdown":"@StephenC I redid the questions to clarify it","body":"@StephenC I redid the questions to clarify it"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1675782509,"post_id":75374823,"comment_id":133000255,"body_markdown":"@Macattack your second code block contains the same class again. Are you sure you pasted the correct code? The question is still missing the definition of `DriveConstants`.","body":"@Macattack your second code block contains the same class again. Are you sure you pasted the correct code? The question is still missing the definition of <code>DriveConstants</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675782588,"post_id":75374823,"comment_id":133000283,"body_markdown":"Nope.  It needs to be a minimal reproducible example.  You have a bazzilion references to classes that are not available to use.  We can&#39;t compile it. If we cannot compile it it is not **reproducible**.  Even if it is all of &gt;your&lt; code.","body":"Nope.  It needs to be a minimal reproducible example.  You have a bazzilion references to classes that are not available to use.  We can&#39;t compile it. If we cannot compile it it is not <b>reproducible</b>.  Even if it is all of &gt;your&lt; code."},{"owner":{"account_id":27686158,"reputation":1,"user_id":21133877,"display_name":"Macattack"},"score":0,"creation_date":1675782627,"post_id":75374823,"comment_id":133000296,"body_markdown":"@knittl fixed the constant code","body":"@knittl fixed the constant code"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1675782683,"post_id":75374823,"comment_id":133000315,"body_markdown":"Your Constants is `frc.robot.Constants`, but your import is `edu.wpi.first.wpilibj.examples.ramsetecommand.Constants.DriveConstants`. If you want to import something, you need to provide the correct, fully-qualified name. Even though I can see imports for both FQN. Which one is the correct one? If `DriveConstants` from the `frc.robot.Constants` class should be used, then either import it, or qualify it: `Constants.DriveConstants.kLeftMotor1Port`, etc.","body":"Your Constants is <code>frc.robot.Constants</code>, but your import is <code>edu.wpi.first.wpilibj.examples.ramsetecommand.Constants.Driv&zwnj;&#8203;eConstants</code>. If you want to import something, you need to provide the correct, fully-qualified name. Even though I can see imports for both FQN. Which one is the correct one? If <code>DriveConstants</code> from the <code>frc.robot.Constants</code> class should be used, then either import it, or qualify it: <code>Constants.DriveConstants.kLeftMotor1Port</code>, etc."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675782860,"post_id":75374823,"comment_id":133000382,"body_markdown":"And besides, this code contains no **variable** named `DriveConstants` in this code.  But you have a **class** called `DriveConstants` ... and you appear to be importing a second `DriveConstants` class as well ... from a different package.  Maybe *that* is your mistake.  (Is your code trying to find / use constants that are declared in the other class?)  Having two classes with the same name is asking for trouble.","body":"And besides, this code contains no <b>variable</b> named <code>DriveConstants</code> in this code.  But you have a <b>class</b> called <code>DriveConstants</code> ... and you appear to be importing a second <code>DriveConstants</code> class as well ... from a different package.  Maybe <i>that</i> is your mistake.  (Is your code trying to find / use constants that are declared in the other class?)  Having two classes with the same name is asking for trouble."},{"owner":{"account_id":27686158,"reputation":1,"user_id":21133877,"display_name":"Macattack"},"score":0,"creation_date":1675782959,"post_id":75374823,"comment_id":133000416,"body_markdown":"@knittl I am following this website to implement an automounts mode that follows a trajectory  [link] (https://docs.wpilib.org/en/stable/docs/software/pathplanning/trajectory-tutorial/creating-drive-subsystem.html) So I do not know why I am getting this error","body":"@knittl I am following this website to implement an automounts mode that follows a trajectory  [link] (<a href=\"https://docs.wpilib.org/en/stable/docs/software/pathplanning/trajectory-tutorial/creating-drive-subsystem.html\" rel=\"nofollow noreferrer\">docs.wpilib.org/en/stable/docs/software/pathplanning/&hellip;</a>) So I do not know why I am getting this error"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1675783089,"post_id":75374823,"comment_id":133000460,"body_markdown":"@Macattack you get the error because your package names do not match when defining and when importing the class. Also, there are two classes with the same name (but in different packages), which might add to the confusion","body":"@Macattack you get the error because your package names do not match when defining and when importing the class. Also, there are two classes with the same name (but in different packages), which might add to the confusion"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675783270,"post_id":75374823,"comment_id":133000538,"body_markdown":"For the record.  *&quot;I redid the questions to clarify it&quot;* - Deleting a reposting a question for any reason is considered bad manners (at best) on StackOverflow.  The correct way to do it is to EDIT the *existing* question to address the points that the comments raised.","body":"For the record.  <i>&quot;I redid the questions to clarify it&quot;</i> - Deleting a reposting a question for any reason is considered bad manners (at best) on StackOverflow.  The correct way to do it is to EDIT the <i>existing</i> question to address the points that the comments raised."},{"owner":{"account_id":27686158,"reputation":1,"user_id":21133877,"display_name":"Macattack"},"score":0,"creation_date":1675785994,"post_id":75374823,"comment_id":133001627,"body_markdown":"@StephenC so would I just need to change the name of the class?","body":"@StephenC so would I just need to change the name of the class?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675808328,"post_id":75374823,"comment_id":133007748,"body_markdown":"That would be a good idea.  I can&#39;t tell you if that is all that you need to do.","body":"That would be a good idea.  I can&#39;t tell you if that is all that you need to do."}],"answers":[{"tags":[],"owner":{"account_id":27686158,"reputation":1,"user_id":21133877,"display_name":"Macattack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675793141,"creation_date":1675793141,"answer_id":75377310,"question_id":75374823,"body_markdown":"Need to import frc.robot.Constants.DriveConstants;","title":"&quot;Variable&quot; cannot be resolved to a variable error","body":"<p>Need to import frc.robot.Constants.DriveConstants;</p>\n"}],"owner":{"account_id":27686158,"reputation":1,"user_id":21133877,"display_name":"Macattack"},"comment_count":15,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1675861424,"accepted_answer_id":75377310,"answer_count":1,"score":-2,"last_activity_date":1675793141,"creation_date":1675780536,"question_id":75374823,"body_markdown":"I am getting this error in VSCode Java. One of my variables, DriveConstants keeps having the error saying that it cannot be resolved to a variable. DriveConstants is called in Constants and I do not know if I am doing it right. I am new to Java and don&#39;t know why this error is happening. Below is the code that I have for DriveSubsystem:\r\n```\r\n//DriveSubsystem\r\n\r\npackage frc.robot.subsystems;\r\n\r\nimport frc.robot.Constants;\r\nimport edu.wpi.first.math.geometry.Pose2d;\r\nimport edu.wpi.first.math.kinematics.DifferentialDriveOdometry;\r\nimport edu.wpi.first.math.kinematics.DifferentialDriveWheelSpeeds;\r\nimport edu.wpi.first.wpilibj.ADXRS450_Gyro;\r\nimport edu.wpi.first.wpilibj.Encoder;\r\nimport edu.wpi.first.wpilibj.drive.DifferentialDrive;\r\nimport edu.wpi.first.wpilibj.examples.ramsetecommand.Constants.DriveConstants;\r\nimport edu.wpi.first.wpilibj.interfaces.Gyro;\r\nimport edu.wpi.first.wpilibj.motorcontrol.MotorControllerGroup;\r\nimport edu.wpi.first.wpilibj2.command.SubsystemBase;\r\nimport edu.wpi.first.wpilibj.Joystick;\r\nimport edu.wpi.first.wpilibj.TimedRobot;\r\nimport edu.wpi.first.wpilibj.Timer;\r\nimport edu.wpi.first.wpilibj.motorcontrol.VictorSP;\r\nimport edu.wpi.first.wpilibj.smartdashboard.SendableChooser;\r\nimport edu.wpi.first.wpilibj.smartdashboard.SmartDashboard;\r\n\r\npublic class DriveSubsystem extends SubsystemBase {\r\n  // The motors on the left side of the drive.\r\n  private VictorSP frontLeftDrive;\r\n  private VictorSP backLeftDrive;\r\n  private VictorSP frontRightDrive;\r\n  private VictorSP backRightDrive;\r\n    \r\n  private final MotorControllerGroup m_leftMotors =\r\n      new MotorControllerGroup(\r\n          new VictorSP(DriveConstants.kLeftMotor1Port),\r\n          new VictorSP(DriveConstants.kLeftMotor2Port));\r\n}\r\n\r\n```\r\n//Constants\r\n\r\n```\r\n\r\npackage frc.robot;\r\n\r\nimport edu.wpi.first.math.kinematics.DifferentialDriveKinematics;\r\n\r\npublic class Constants {\r\n    public static final class DriveConstants{\r\n        public static final double kTrackwidthMeters=0.96;\r\n        public static final DifferentialDriveKinematics kDriveKinematics = new DifferentialDriveKinematics(kTrackwidthMeters);\r\n    //EXAMPLE VALUES WILL NEED TO CHANGE\r\n        public static final double ksVolts=0.22;\r\n        public static final double ksVoltsSecondPerMeter=1.98;\r\n        public static final double kaVoltSecondsSquaredPerMeter=0.2;\r\n        public static final double kPDriveVel=8.5;\r\n    }\r\n\r\n    public static final class AutoConstants {\r\n    //3mph= 1.34112 m/s\r\n    //5mph= 2.2352 m/s\r\n    public static final double kMaxSpeedMetersPerSecond= 1.34112;\r\n    public static final double kMaxSpeedMetersPerSecondSquared=1;\r\n    \r\n    // Reasonable baseline values for a RAMSETE follower in units of meters and seconds\r\n    public static final double kRamseteB = 2;\r\n    public static final double kRamseteZeta = 0.7;\r\n    }\r\n}\r\n\r\n```\r\n","title":"&quot;Variable&quot; cannot be resolved to a variable error","body":"<p>I am getting this error in VSCode Java. One of my variables, DriveConstants keeps having the error saying that it cannot be resolved to a variable. DriveConstants is called in Constants and I do not know if I am doing it right. I am new to Java and don't know why this error is happening. Below is the code that I have for DriveSubsystem:</p>\n<pre><code>//DriveSubsystem\n\npackage frc.robot.subsystems;\n\nimport frc.robot.Constants;\nimport edu.wpi.first.math.geometry.Pose2d;\nimport edu.wpi.first.math.kinematics.DifferentialDriveOdometry;\nimport edu.wpi.first.math.kinematics.DifferentialDriveWheelSpeeds;\nimport edu.wpi.first.wpilibj.ADXRS450_Gyro;\nimport edu.wpi.first.wpilibj.Encoder;\nimport edu.wpi.first.wpilibj.drive.DifferentialDrive;\nimport edu.wpi.first.wpilibj.examples.ramsetecommand.Constants.DriveConstants;\nimport edu.wpi.first.wpilibj.interfaces.Gyro;\nimport edu.wpi.first.wpilibj.motorcontrol.MotorControllerGroup;\nimport edu.wpi.first.wpilibj2.command.SubsystemBase;\nimport edu.wpi.first.wpilibj.Joystick;\nimport edu.wpi.first.wpilibj.TimedRobot;\nimport edu.wpi.first.wpilibj.Timer;\nimport edu.wpi.first.wpilibj.motorcontrol.VictorSP;\nimport edu.wpi.first.wpilibj.smartdashboard.SendableChooser;\nimport edu.wpi.first.wpilibj.smartdashboard.SmartDashboard;\n\npublic class DriveSubsystem extends SubsystemBase {\n  // The motors on the left side of the drive.\n  private VictorSP frontLeftDrive;\n  private VictorSP backLeftDrive;\n  private VictorSP frontRightDrive;\n  private VictorSP backRightDrive;\n    \n  private final MotorControllerGroup m_leftMotors =\n      new MotorControllerGroup(\n          new VictorSP(DriveConstants.kLeftMotor1Port),\n          new VictorSP(DriveConstants.kLeftMotor2Port));\n}\n\n</code></pre>\n<p>//Constants</p>\n<pre><code>\npackage frc.robot;\n\nimport edu.wpi.first.math.kinematics.DifferentialDriveKinematics;\n\npublic class Constants {\n    public static final class DriveConstants{\n        public static final double kTrackwidthMeters=0.96;\n        public static final DifferentialDriveKinematics kDriveKinematics = new DifferentialDriveKinematics(kTrackwidthMeters);\n    //EXAMPLE VALUES WILL NEED TO CHANGE\n        public static final double ksVolts=0.22;\n        public static final double ksVoltsSecondPerMeter=1.98;\n        public static final double kaVoltSecondsSquaredPerMeter=0.2;\n        public static final double kPDriveVel=8.5;\n    }\n\n    public static final class AutoConstants {\n    //3mph= 1.34112 m/s\n    //5mph= 2.2352 m/s\n    public static final double kMaxSpeedMetersPerSecond= 1.34112;\n    public static final double kMaxSpeedMetersPerSecondSquared=1;\n    \n    // Reasonable baseline values for a RAMSETE follower in units of meters and seconds\n    public static final double kRamseteB = 2;\n    public static final double kRamseteZeta = 0.7;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","tomcat","stack-trace"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":8,"creation_date":1265904100,"post_id":2245088,"comment_id":2203158,"body_markdown":"Calling `log.error(e)` in log4j calls the wrong version of the method ( http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Category.html#error%28java.lang.Object%29 ). The JavaDoc for this method even mentions that fact: &quot;WARNING Note that passing a Throwable to this method will print the name of the Throwable but no stack trace. To print a stack trace use the error(Object, Throwable) form instead.&quot;","body":"Calling <code>log.error(e)</code> in log4j calls the wrong version of the method ( <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/Category.html#error%28java.lang.Object%29\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/&hellip;</a> ). The JavaDoc for this method even mentions that fact: &quot;WARNING Note that passing a Throwable to this method will print the name of the Throwable but no stack trace. To print a stack trace use the error(Object, Throwable) form instead.&quot;"},{"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"score":5,"creation_date":1265909085,"post_id":2245088,"comment_id":2203951,"body_markdown":"call log.error(e,e) will do the job ;)","body":"call log.error(e,e) will do the job ;)"}],"answers":[{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1265899053,"creation_date":1265899053,"answer_id":2245112,"question_id":2245088,"body_markdown":"[`Throwable.getStackTrace`][1] returns an array of [`StackTraceElement`][2]s, hence the `toString` method is returning a textual representation of the array itself.\r\n\r\nIn order to actually retrieve the stack trace information, one would have to go through each `StackTraceElement` to get more information.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html#getStackTrace()\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/StackTraceElement.html","title":"How to display stack trace on a caught exception?","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html#getStackTrace()\" rel=\"noreferrer\"><code>Throwable.getStackTrace</code></a> returns an array of <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/StackTraceElement.html\" rel=\"noreferrer\"><code>StackTraceElement</code></a>s, hence the <code>toString</code> method is returning a textual representation of the array itself.</p>\n\n<p>In order to actually retrieve the stack trace information, one would have to go through each <code>StackTraceElement</code> to get more information.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1675792707,"creation_date":1265899083,"answer_id":2245116,"question_id":2245088,"body_markdown":"Your logging framework should have the ability to log exceptions, so simply passing the exception to the proper `.error(Object, Throwable)` call should be enough:\r\n\r\n - [log4j][1] [can do it][2]\r\n - [commons logging][3] [can do it][4]\r\n - `java.util.logging` [can do it][5]\r\n\r\nIf your logging framework can&#39;t do that, or you need the stack trace in a `String` for any other reason, then it becomes a bit harder. You&#39;ll have to create a `PrintWriter` wrapping a `StringWriter` and call `.printStackTrace()` on the `Exception`:\r\n\r\n    StringWriter sw = new StringWriter();\r\n    ex.printStackTrace(new PrintWriter(sw));\r\n    String stacktrace = sw.toString();\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/\r\n  [2]: https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#error-java.lang.Object-java.lang.Throwable-\r\n  [3]: http://commons.apache.org/logging/\r\n  [4]: http://commons.apache.org/logging/apidocs/org/apache/commons/logging/Log.html#error(java.lang.Object,%20java.lang.Throwable)\r\n  [5]: http://java.sun.com/javase/6/docs/api/java/util/logging/Logger.html#log(java.util.logging.Level,%20java.lang.String,%20java.lang.Throwable)","title":"How to display stack trace on a caught exception?","body":"<p>Your logging framework should have the ability to log exceptions, so simply passing the exception to the proper <code>.error(Object, Throwable)</code> call should be enough:</p>\n<ul>\n<li><a href=\"http://logging.apache.org/log4j/\" rel=\"noreferrer\">log4j</a> <a href=\"https://logging.apache.org/log4j/2.x/log4j-api/apidocs/org/apache/logging/log4j/Logger.html#error-java.lang.Object-java.lang.Throwable-\" rel=\"noreferrer\">can do it</a></li>\n<li><a href=\"http://commons.apache.org/logging/\" rel=\"noreferrer\">commons logging</a> <a href=\"http://commons.apache.org/logging/apidocs/org/apache/commons/logging/Log.html#error(java.lang.Object,%20java.lang.Throwable)\" rel=\"noreferrer\">can do it</a></li>\n<li><code>java.util.logging</code> <a href=\"http://java.sun.com/javase/6/docs/api/java/util/logging/Logger.html#log(java.util.logging.Level,%20java.lang.String,%20java.lang.Throwable)\" rel=\"noreferrer\">can do it</a></li>\n</ul>\n<p>If your logging framework can't do that, or you need the stack trace in a <code>String</code> for any other reason, then it becomes a bit harder. You'll have to create a <code>PrintWriter</code> wrapping a <code>StringWriter</code> and call <code>.printStackTrace()</code> on the <code>Exception</code>:</p>\n<pre><code>StringWriter sw = new StringWriter();\nex.printStackTrace(new PrintWriter(sw));\nString stacktrace = sw.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"down_vote_count":5,"up_vote_count":19,"is_accepted":true,"score":14,"last_activity_date":1576500662,"creation_date":1265899182,"answer_id":2245126,"question_id":2245088,"body_markdown":"I use the [ExceptionUtils#getFullStackTrace][1] method of [Jakarta Commons Lang][2]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/exception/ExceptionUtils.html#getFullStackTrace(java.lang.Throwable)\r\n  [2]: http://commons.apache.org/lang/","title":"How to display stack trace on a caught exception?","body":"<p>I use the <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/exception/ExceptionUtils.html#getFullStackTrace(java.lang.Throwable)\" rel=\"nofollow noreferrer\">ExceptionUtils#getFullStackTrace</a> method of <a href=\"http://commons.apache.org/lang/\" rel=\"nofollow noreferrer\">Jakarta Commons Lang</a></p>\n"},{"tags":[],"owner":{"account_id":45943,"reputation":19756,"user_id":135624,"accept_rate":88,"display_name":"Paul McKenzie"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1265899196,"creation_date":1265899196,"answer_id":2245127,"question_id":2245088,"body_markdown":"Have you tried?\r\n\r\n    private void _showErrorMessage(Exception e) {\r\n        log.error(&quot;Hey! got an exception&quot;, e);\r\n    }\r\n","title":"How to display stack trace on a caught exception?","body":"<p>Have you tried?</p>\n\n<pre><code>private void _showErrorMessage(Exception e) {\n    log.error(\"Hey! got an exception\", e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88375,"reputation":12009,"user_id":244473,"display_name":"gpampara"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1265901277,"creation_date":1265901277,"answer_id":2245369,"question_id":2245088,"body_markdown":"You could also look at the Guava libraries from Google.\r\n\r\n`Throwables.getStackTraceAsString(Throwable throwable)`","title":"How to display stack trace on a caught exception?","body":"<p>You could also look at the Guava libraries from Google.</p>\n\n<p><code>Throwables.getStackTraceAsString(Throwable throwable)</code></p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265923526,"creation_date":1265923526,"answer_id":2247825,"question_id":2245088,"body_markdown":"The exact answer to your question is that you should call Log4J like this:\r\n\r\n    private void _showErrorMessage(Exception e) {\r\n        log.error(e.getClass() + &quot;: &quot; +  e.getMessage() + &quot;: &quot; + e.getCause(), e);\r\n    }\r\n\r\nAlthough I would dispense with the call to e.getCause() because the stacktrace will give that to you anyway, so:\r\n\r\n    private void _showErrorMessage(Exception e) {\r\n        log.error(e.getClass() + &quot;: &quot; +  e.getMessage(), e);\r\n    }\r\n\r\nExceptionUtils is fine if you really need a string of the stacktrace, but since you are using Log4J, you lose a lot by not utilizing its built in exception handling.\r\n","title":"How to display stack trace on a caught exception?","body":"<p>The exact answer to your question is that you should call Log4J like this:</p>\n\n<pre><code>private void _showErrorMessage(Exception e) {\n    log.error(e.getClass() + \": \" +  e.getMessage() + \": \" + e.getCause(), e);\n}\n</code></pre>\n\n<p>Although I would dispense with the call to e.getCause() because the stacktrace will give that to you anyway, so:</p>\n\n<pre><code>private void _showErrorMessage(Exception e) {\n    log.error(e.getClass() + \": \" +  e.getMessage(), e);\n}\n</code></pre>\n\n<p>ExceptionUtils is fine if you really need a string of the stacktrace, but since you are using Log4J, you lose a lot by not utilizing its built in exception handling.</p>\n"},{"tags":[],"owner":{"account_id":2038700,"reputation":41,"user_id":1820409,"display_name":"Marco C."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390647285,"creation_date":1390647285,"answer_id":21349615,"question_id":2245088,"body_markdown":"[Exception Stacktrace logging][1] shows two methods for this purpose, one based on Apache Commons and another using the standard JDK method.\r\n\r\n\r\n  [1]: http://www.mymemoryleak.com/2014/01/exception-stacktrace-logging/","title":"How to display stack trace on a caught exception?","body":"<p><a href=\"http://www.mymemoryleak.com/2014/01/exception-stacktrace-logging/\" rel=\"nofollow\">Exception Stacktrace logging</a> shows two methods for this purpose, one based on Apache Commons and another using the standard JDK method.</p>\n"}],"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75271,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":2245126,"answer_count":7,"score":33,"last_activity_date":1675792707,"creation_date":1265898842,"question_id":2245088,"body_markdown":"I have a generic function that prints exceptions (using log4j):\n\n    private void _showErrorMessage(Exception e) {\n        log.error(e.getClass() + &quot;: &quot; +  e.getMessage() + &quot;: &quot; + e.getCause() + &quot;\\n&quot; +  e.getStackTrace().toString());\n    }\n\n\nInstead of seeing the stack trace I&#39;m seeing:\n    \n    [Ljava.lang.StackTraceElement;@49af7e68\n\nHow can I view the stack trace of the exception properly?\n\n# update \nlog.error(e) &lt;- shows the error, but doesn&#39;t show stack trace","title":"How to display stack trace on a caught exception?","body":"<p>I have a generic function that prints exceptions (using log4j):</p>\n<pre><code>private void _showErrorMessage(Exception e) {\n    log.error(e.getClass() + &quot;: &quot; +  e.getMessage() + &quot;: &quot; + e.getCause() + &quot;\\n&quot; +  e.getStackTrace().toString());\n}\n</code></pre>\n<p>Instead of seeing the stack trace I'm seeing:</p>\n<pre><code>[Ljava.lang.StackTraceElement;@49af7e68\n</code></pre>\n<p>How can I view the stack trace of the exception properly?</p>\n<h1>update</h1>\n<p>log.error(e) &lt;- shows the error, but doesn't show stack trace</p>\n"},{"tags":["javascript","java","angular","kotlin","intellij-idea"],"comments":[{"owner":{"account_id":25093326,"reputation":252,"user_id":18944758,"display_name":"Yogesh Thambidurai"},"score":0,"creation_date":1674583808,"post_id":75224506,"comment_id":132743642,"body_markdown":"Getting the generated `.d.ts` file to work has been a problem for me. The way I got it to work was to add a local path dependency to your `package.json` (https://docs.npmjs.com/cli/v7/configuring-npm/package-json#local-paths). Then, look around your `node_modules` folder to make sure its included. Finally, add `node_modules/directory/**/*.js` and `node_modules/directory/**/*.d.ts` to your `tsconfig.json`. To import types, you need to import the `com` (or `org` or `net` based on your group) namespace, and then access types via the qualified name.","body":"Getting the generated <code>.d.ts</code> file to work has been a problem for me. The way I got it to work was to add a local path dependency to your <code>package.json</code> (<a href=\"https://docs.npmjs.com/cli/v7/configuring-npm/package-json#local-paths\" rel=\"nofollow noreferrer\">docs.npmjs.com/cli/v7/configuring-npm/package-json#local-pa&zwnj;&#8203;ths</a>). Then, look around your <code>node_modules</code> folder to make sure its included. Finally, add <code>node_modules&#47;directory&#47;**&#47;*.js</code> and <code>node_modules&#47;directory&#47;**&#47;*.d.ts</code> to your <code>tsconfig.json</code>. To import types, you need to import the <code>com</code> (or <code>org</code> or <code>net</code> based on your group) namespace, and then access types via the qualified name."},{"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"score":0,"creation_date":1674608685,"post_id":75224506,"comment_id":132749862,"body_markdown":"My kingdom for `Makefile`!!!  It seems that the Kotlin code in the top-level directory was built to JS only once and I have no idea why.  Even removing the generated build output and selecting &quot;rebuild project&quot; does not restore it.  Maybe I can do it all as a single module and just symlink the common/shared source directories when other projects arise?","body":"My kingdom for <code>Makefile</code>!!!  It seems that the Kotlin code in the top-level directory was built to JS only once and I have no idea why.  Even removing the generated build output and selecting &quot;rebuild project&quot; does not restore it.  Maybe I can do it all as a single module and just symlink the common/shared source directories when other projects arise?"},{"owner":{"account_id":25093326,"reputation":252,"user_id":18944758,"display_name":"Yogesh Thambidurai"},"score":0,"creation_date":1674687447,"post_id":75224506,"comment_id":132770690,"body_markdown":"I used something similar- I had 2 sub directories for my kotlin and js modules and registered both as a project via a `build.gradle.kts` file. You can use `node-gradle-plugin` to map npx tasks to gradle tasks, and then use task dependencies on your kotlin project to ensure everything is built in order. You can even add your custom copy task there if you want to.","body":"I used something similar- I had 2 sub directories for my kotlin and js modules and registered both as a project via a <code>build.gradle.kts</code> file. You can use <code>node-gradle-plugin</code> to map npx tasks to gradle tasks, and then use task dependencies on your kotlin project to ensure everything is built in order. You can even add your custom copy task there if you want to."}],"answers":[{"tags":[],"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675792650,"creation_date":1674704832,"answer_id":75242112,"question_id":75224506,"body_markdown":"Wow, that was rough!  After many hours of Google searches and attempts that failed, here is something that works.  Perhaps I&#39;ll find cleaner methods down the road but this is acceptable for now.\r\n\r\nNote: I wasted too much time on gradle plugins for my liking.  If they&#39;re not first-party, they tend to be unmaintained, poorly documented (largely assuming that the reader already knows what they&#39;re doing), and out of date.  What follows is done only with first-party support programs.\r\n\r\nCreate a top-level project with Angular/CLI followed by sub-projects for the app and library:\r\n\r\n```\r\nng new MyGeneralProject --no-create-application\r\nng generate library klib\r\nng generate application MyApp\r\n```\r\n\r\nNow set up Gradle in the top-level directory (or wait and do this via the IDE):\r\n\r\n```\r\ngradle init\r\ngradle wrapper\r\n```\r\n\r\nOpen the top-level in IntelliJ.  Create/edit the top-level `build.gradle.kts` file:\r\n\r\n```\r\nbuildscript {}\r\nplugins {}\r\nrepositories {}\r\n```\r\n\r\nMore important is the top-level `settings.gradle.kts` file:\r\n\r\n```\r\nrootProject.name = &quot;MyProject&quot;\r\ninclude(&quot;projects:klib&quot;)\r\n```\r\n\r\nThis will now access the `projects/klib/gradle.build.kts` file:\r\n\r\n```\r\nplugins {\r\n    kotlin(&quot;js&quot;) version &quot;1.8.0&quot;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(kotlin(&quot;stdlib-js&quot;))\r\n    testImplementation(kotlin(&quot;test-js&quot;))\r\n}\r\n\r\nkotlin {\r\n    sourceSets {\r\n        all {\r\n            // allow @JsExport without opt-in each time\r\n            languageSettings.optIn(&quot;kotlin.js.ExperimentalJsExport&quot;)\r\n        }\r\n        val main by getting {\r\n            kotlin.srcDir(&quot;src/main&quot;)\r\n        }\r\n        val test by getting {\r\n            kotlin.srcDir(&quot;src/test&quot;)\r\n            dependencies {\r\n                implementation(kotlin(&quot;test&quot;))\r\n            }\r\n        }\r\n    }\r\n\r\n    js(IR) {\r\n        moduleName = &quot;klib&quot;\r\n        browser {\r\n            distribution {\r\n                directory = File(&quot;$projectDir/../../dist/$moduleName&quot;)\r\n            }\r\n        }\r\n        binaries.library()\r\n    }\r\n}\r\n```\r\n\r\nThe above uses the `kotlin(&quot;js&quot;)` plugin for Gradle but that&#39;s provided by JetBrains as part of IntelliJ who also maintain the Kotlin language libraries.  Though the documentation for it also assumes you already know everything about Gradle, it nonetheless works just fine.\r\n\r\nThe built JS/TS library will be created under the top-level directory as &quot;dist/klib&quot;.  This naming could use some improvement but it&#39;s a reasonable starting point.\r\n\r\nIn the top-level `tsconfig.json` file, under &quot;compilerOptions&quot;, look for &quot;paths&quot; and update as desired.  I went with a leading &quot;@&quot; to indicate a top-level import location:\r\n\r\n```\r\n{\r\n  ...\r\n  &quot;compilerOptions&quot;: {\r\n    ...\r\n    &quot;paths&quot;: {\r\n      &quot;@klib&quot;: [\r\n        &quot;dist/klib&quot;\r\n      ]\r\n    }\r\n    ...\r\n  },\r\n  ...\r\n}\r\n```\r\n\r\nIn the `projects/myapp/src/app/whatever.ts` file, access the converted Kotlin library:\r\n\r\n```\r\nimport * as klib from &#39;@klib&#39;\r\n```\r\n\r\nThen the entire library is available as `klib.blah.blah.blah` with IntelliJ providing full completion semantics.\r\n\r\n2023-02-07: I&#39;ve found that while this approach worked okay for creating the desired Angular project, it fell apart when trying to add a jvm-based backend with which it shared code.  Now trying a [different tactic][1]...\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75377055/how-to-add-angular-to-kotlin-multiplatform-full-stack-application","title":"IntelliJ Angular Project with Kotlin/JS Library?","body":"<p>Wow, that was rough!  After many hours of Google searches and attempts that failed, here is something that works.  Perhaps I'll find cleaner methods down the road but this is acceptable for now.</p>\n<p>Note: I wasted too much time on gradle plugins for my liking.  If they're not first-party, they tend to be unmaintained, poorly documented (largely assuming that the reader already knows what they're doing), and out of date.  What follows is done only with first-party support programs.</p>\n<p>Create a top-level project with Angular/CLI followed by sub-projects for the app and library:</p>\n<pre><code>ng new MyGeneralProject --no-create-application\nng generate library klib\nng generate application MyApp\n</code></pre>\n<p>Now set up Gradle in the top-level directory (or wait and do this via the IDE):</p>\n<pre><code>gradle init\ngradle wrapper\n</code></pre>\n<p>Open the top-level in IntelliJ.  Create/edit the top-level <code>build.gradle.kts</code> file:</p>\n<pre><code>buildscript {}\nplugins {}\nrepositories {}\n</code></pre>\n<p>More important is the top-level <code>settings.gradle.kts</code> file:</p>\n<pre><code>rootProject.name = &quot;MyProject&quot;\ninclude(&quot;projects:klib&quot;)\n</code></pre>\n<p>This will now access the <code>projects/klib/gradle.build.kts</code> file:</p>\n<pre><code>plugins {\n    kotlin(&quot;js&quot;) version &quot;1.8.0&quot;\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(kotlin(&quot;stdlib-js&quot;))\n    testImplementation(kotlin(&quot;test-js&quot;))\n}\n\nkotlin {\n    sourceSets {\n        all {\n            // allow @JsExport without opt-in each time\n            languageSettings.optIn(&quot;kotlin.js.ExperimentalJsExport&quot;)\n        }\n        val main by getting {\n            kotlin.srcDir(&quot;src/main&quot;)\n        }\n        val test by getting {\n            kotlin.srcDir(&quot;src/test&quot;)\n            dependencies {\n                implementation(kotlin(&quot;test&quot;))\n            }\n        }\n    }\n\n    js(IR) {\n        moduleName = &quot;klib&quot;\n        browser {\n            distribution {\n                directory = File(&quot;$projectDir/../../dist/$moduleName&quot;)\n            }\n        }\n        binaries.library()\n    }\n}\n</code></pre>\n<p>The above uses the <code>kotlin(&quot;js&quot;)</code> plugin for Gradle but that's provided by JetBrains as part of IntelliJ who also maintain the Kotlin language libraries.  Though the documentation for it also assumes you already know everything about Gradle, it nonetheless works just fine.</p>\n<p>The built JS/TS library will be created under the top-level directory as &quot;dist/klib&quot;.  This naming could use some improvement but it's a reasonable starting point.</p>\n<p>In the top-level <code>tsconfig.json</code> file, under &quot;compilerOptions&quot;, look for &quot;paths&quot; and update as desired.  I went with a leading &quot;@&quot; to indicate a top-level import location:</p>\n<pre><code>{\n  ...\n  &quot;compilerOptions&quot;: {\n    ...\n    &quot;paths&quot;: {\n      &quot;@klib&quot;: [\n        &quot;dist/klib&quot;\n      ]\n    }\n    ...\n  },\n  ...\n}\n</code></pre>\n<p>In the <code>projects/myapp/src/app/whatever.ts</code> file, access the converted Kotlin library:</p>\n<pre><code>import * as klib from '@klib'\n</code></pre>\n<p>Then the entire library is available as <code>klib.blah.blah.blah</code> with IntelliJ providing full completion semantics.</p>\n<p>2023-02-07: I've found that while this approach worked okay for creating the desired Angular project, it fell apart when trying to add a jvm-based backend with which it shared code.  Now trying a <a href=\"https://stackoverflow.com/questions/75377055/how-to-add-angular-to-kotlin-multiplatform-full-stack-application\">different tactic</a>...</p>\n"}],"owner":{"account_id":347392,"reputation":8392,"user_id":681479,"accept_rate":62,"display_name":"Brian White"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675792650,"creation_date":1674578067,"question_id":75224506,"body_markdown":"I have a library of Java code from Android development and I&#39;d like to reuse that in a web-app version of the same.  The library code is quite generic as it was always intended to be re-usable and has, in the past, been used to generate Android/Java, App-Engine/Java, iOS/ObjC, and GWT apps.\r\n\r\nLooking around, I think the best framework for the web app would be Angular.  Rewriting the library code to Kotlin should be a relatively minor task as there are tools to do most of the work.  Then it can be compiled for the JVM (for native and backend apps) or JavaScript (for web apps).\r\n\r\nWhile advice for/against this plan is welcome, my actual question is...\r\n\r\n_How do I set up an IntelliJ project to do this?_\r\n\r\nI thought the obvious answer would be two modules: one for the lib and one for the app but IntelliJ doesn&#39;t allow creating a Kotlin module, only a Kotlin project.\r\n\r\nInstead, I made a Kotlin/JS project and used Angular/CLI to create the app module beneath it (with a backend app to sit beside it sometime in the future).  The library builds and the sample app runs but I haven&#39;t been able to get the latter to include the generated JS (plus `.d.ts`) code of the former which sits in some deep directory under `build/`.  So maybe I&#39;m going about it all wrong...\r\n","title":"IntelliJ Angular Project with Kotlin/JS Library?","body":"<p>I have a library of Java code from Android development and I'd like to reuse that in a web-app version of the same.  The library code is quite generic as it was always intended to be re-usable and has, in the past, been used to generate Android/Java, App-Engine/Java, iOS/ObjC, and GWT apps.</p>\n<p>Looking around, I think the best framework for the web app would be Angular.  Rewriting the library code to Kotlin should be a relatively minor task as there are tools to do most of the work.  Then it can be compiled for the JVM (for native and backend apps) or JavaScript (for web apps).</p>\n<p>While advice for/against this plan is welcome, my actual question is...</p>\n<p><em>How do I set up an IntelliJ project to do this?</em></p>\n<p>I thought the obvious answer would be two modules: one for the lib and one for the app but IntelliJ doesn't allow creating a Kotlin module, only a Kotlin project.</p>\n<p>Instead, I made a Kotlin/JS project and used Angular/CLI to create the app module beneath it (with a backend app to sit beside it sometime in the future).  The library builds and the sample app runs but I haven't been able to get the latter to include the generated JS (plus <code>.d.ts</code>) code of the former which sits in some deep directory under <code>build/</code>.  So maybe I'm going about it all wrong...</p>\n"},{"tags":["java","security","jwt","cryptography","token"],"owner":{"account_id":17248886,"reputation":105,"user_id":12489459,"display_name":"Benjamin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675792031,"creation_date":1675792031,"question_id":75377128,"body_markdown":"I am a beginner in-terms of JWT libraries in programming. \r\n\r\nHow the keypair used (**secp256k1**) is related with the algorithmic header used for creation of JWT?\r\n\r\nAnd why authfusion doesn&#39;t need an algorthmic header as such JWSAlgorithm.**ES256K** (**nimbus** library) or AlgorithmIdentifiers.**ECDSA_USING_SECP256K1_CURVE_AND_SHA256** (**jose4j** 0.9.0)?\r\n\r\nI am confused with these relations, please shed some light over it. \r\n\r\n\r\n","title":"fusion auth versus jose4j library for jwt using secp256k","body":"<p>I am a beginner in-terms of JWT libraries in programming.</p>\n<p>How the keypair used (<strong>secp256k1</strong>) is related with the algorithmic header used for creation of JWT?</p>\n<p>And why authfusion doesn't need an algorthmic header as such JWSAlgorithm.<strong>ES256K</strong> (<strong>nimbus</strong> library) or AlgorithmIdentifiers.<strong>ECDSA_USING_SECP256K1_CURVE_AND_SHA256</strong> (<strong>jose4j</strong> 0.9.0)?</p>\n<p>I am confused with these relations, please shed some light over it.</p>\n"},{"tags":["java","android","multithreading"],"answers":[{"tags":[],"owner":{"account_id":355173,"reputation":6464,"user_id":693959,"accept_rate":64,"display_name":"VJ V&#233;lan Solutions"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414976795,"creation_date":1414976795,"answer_id":26706389,"question_id":26706342,"body_markdown":"Use `Activity.runOnUIThread(Runnable)` - in your case it will be `activity.runOnUIThread( new Runnable() { // call a method in your main activity here to update UI element});`\r\n\r\n","title":"Modifying an Android view from a different thread","body":"<p>Use <code>Activity.runOnUIThread(Runnable)</code> - in your case it will be <code>activity.runOnUIThread( new Runnable() { // call a method in your main activity here to update UI element});</code></p>\n"},{"tags":[],"owner":{"account_id":1119808,"reputation":9752,"user_id":1108397,"accept_rate":65,"display_name":"rupps"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675791170,"creation_date":1414976848,"answer_id":26706398,"question_id":26706342,"body_markdown":"To execute something on the UI thread when outside of it, you can use the method `runOnUiThread(Runnable)` that belongs to `Activity`.\r\n\r\nSo you could do:\r\n\r\n    activity.runOnUiThread(new Runnable() { // EDIT: ...Ui... requires a lowercase &quot;i&quot;\r\n      @Override \r\n      public final void run(){\r\n         // this runs on UI thread\r\n         activity.ttsUtteranceComplete(); // this function will run on the UI thread\r\n      }\r\n    });\r\n\r\n","title":"Modifying an Android view from a different thread","body":"<p>To execute something on the UI thread when outside of it, you can use the method <code>runOnUiThread(Runnable)</code> that belongs to <code>Activity</code>.</p>\n<p>So you could do:</p>\n<pre><code>activity.runOnUiThread(new Runnable() { // EDIT: ...Ui... requires a lowercase &quot;i&quot;\n  @Override \n  public final void run(){\n     // this runs on UI thread\n     activity.ttsUtteranceComplete(); // this function will run on the UI thread\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1881314,"reputation":4212,"user_id":1701465,"accept_rate":70,"display_name":"Mapsy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442428825,"creation_date":1414976896,"answer_id":26706408,"question_id":26706342,"body_markdown":"Any updates to the user interface have to happen within the UI thread, because that is where the graphics context is handled. Your callback method therefore must also occur within the UI thread.\r\n\r\nWith a reference to the running `Activity`, you can call the `runOnUIThread(Runnable r)` method, which will synchronize your call within the graphics context. For this specific application, the following implementation could be used:\r\n\r\n    public void onUtteranceCompleted(String utteranceID) {\r\n      if (utteranceID.equals(TAG)) {\r\n        activity.runOnUIThread(new Runnable() {\r\n          @Override\r\n          public final void run() {\r\n            activity.ttsUtteranceComplete(); \r\n          } \r\n        });\r\n      }\r\n    }\r\n\r\nTo clean up your code, it could be worth making the `runOnUIThread()` call an element of the `ttsUtteranceComplete()` method. This would ensure that every call would be synchronized.","title":"Modifying an Android view from a different thread","body":"<p>Any updates to the user interface have to happen within the UI thread, because that is where the graphics context is handled. Your callback method therefore must also occur within the UI thread.</p>\n\n<p>With a reference to the running <code>Activity</code>, you can call the <code>runOnUIThread(Runnable r)</code> method, which will synchronize your call within the graphics context. For this specific application, the following implementation could be used:</p>\n\n<pre><code>public void onUtteranceCompleted(String utteranceID) {\n  if (utteranceID.equals(TAG)) {\n    activity.runOnUIThread(new Runnable() {\n      @Override\n      public final void run() {\n        activity.ttsUtteranceComplete(); \n      } \n    });\n  }\n}\n</code></pre>\n\n<p>To clean up your code, it could be worth making the <code>runOnUIThread()</code> call an element of the <code>ttsUtteranceComplete()</code> method. This would ensure that every call would be synchronized.</p>\n"},{"tags":[],"owner":{"account_id":710944,"reputation":2236,"user_id":625030,"display_name":"Dimitar Darazhanski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414985387,"creation_date":1414985387,"answer_id":26707355,"question_id":26706342,"body_markdown":"Use a Handler on the UI thread of your Activity and then post a message to it from your background thread:\r\n\r\n[https://developer.android.com/training/multiple-threads/communicate-ui.html#Handler][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/multiple-threads/communicate-ui.html#Handler","title":"Modifying an Android view from a different thread","body":"<p>Use a Handler on the UI thread of your Activity and then post a message to it from your background thread:</p>\n\n<p><a href=\"https://developer.android.com/training/multiple-threads/communicate-ui.html#Handler\" rel=\"nofollow\">https://developer.android.com/training/multiple-threads/communicate-ui.html#Handler</a></p>\n"}],"owner":{"account_id":2177207,"reputation":6673,"user_id":1927589,"accept_rate":62,"display_name":"James Newton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4407,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26706398,"answer_count":4,"score":2,"last_activity_date":1675791170,"creation_date":1414976382,"question_id":26706342,"body_markdown":"On Android, activities run in the main UI thread and the TextToSpeech engine runs in a different thread. I want to update a view in an activity when the TextToSpeech engine completes playing back an utterance.\r\n\r\nIf I ignore this, then I get an `android.view.ViewRoot$CalledFromWrongThreadException` error when the TextToSpeech engine calls the Activity instance.\r\n\r\nHere&#39;s my code. The error occurs on the last line of the MainActivity.java script.\r\n\r\nTTSUser.java\r\n\r\n    package com.example.thread;\r\n\r\n    interface TTSUser {\r\n      void ttsUtteranceComplete();\r\n    }\r\n\r\nMainActivity.java\r\n\r\n    package com.example.thread;\r\n\r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n\r\n    public class MainActivity extends Activity implements TTSUser {\r\n\r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        new TTS(this);\r\n       }\r\n\r\n      public void ttsUtteranceComplete() {\r\n        TextView view_to_hide = (TextView) findViewById(R.id.hello_world);\r\n\r\n        // On next line: android.view.ViewRoot$CalledFromWrongThreadException:\r\n        // Only the original thread that created a view hierarchy can touch its\r\n        // views.\r\n        view_to_hide.setVisibility(TextView.GONE);\r\n      }\r\n    }\r\n\r\nTTS.java\r\n\r\n    package com.example.thread;\r\n\r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.speech.tts.TextToSpeech;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Locale;\r\n\r\n    public class TTS implements TextToSpeech.OnInitListener, TextToSpeech.OnUtteranceCompletedListener {\r\n\r\n      private final String TAG = &quot;callback&quot;;\r\n      private static TextToSpeech tts;\r\n      private TTSUser activity;\r\n\r\n      public TTS(TTSUser activity) { // Ensures access to ttsUtteranceComplete()\r\n        this.activity = activity;\r\n        Context context = ((Activity) activity).getApplicationContext();\r\n        tts = new android.speech.tts.TextToSpeech(context, this);\r\n      }\r\n\r\n      @Override\r\n      public void onInit(int status) {\r\n        if (status == TextToSpeech.SUCCESS) {\r\n          tts.setLanguage(Locale.UK);\r\n          tts.setOnUtteranceCompletedListener(this);\r\n          speakText(&quot;Hello World&quot;);\r\n         }\r\n      }\r\n\r\n      public void speakText(String toSpeak) {\r\n        int mode = android.speech.tts.TextToSpeech.QUEUE_FLUSH;\r\n       // Create an id for this utterance, so that we can call back when it&#39;s done\r\n        HashMap&lt;String, String&gt; hashMap = new HashMap&lt;String, String&gt;();\r\n        hashMap.put(TextToSpeech.Engine.KEY_PARAM_UTTERANCE_ID, TAG);\r\n\r\n        tts.speak(toSpeak, mode, hashMap);\r\n      }\r\n\r\n      public void onUtteranceCompleted(String utteranceID) {\r\n        if (utteranceID.equals(TAG)) {\r\n          activity.ttsUtteranceComplete();\r\n        }\r\n      }\r\n    }\r\n\r\nI also added a line to the TextView definition in activity_main.xml, so that the Hello World text can be identified.\r\n\r\n        android:id=&quot;@+id/hello_world&quot;\r\n\r\nOther answers to similarly-worded questions assume that the other thread is created explicitly in the code. Here, the thread for the TextToSpeech engine is created implicitly. How can I change my code so that the last line of MainActivity.java does not throw an error?","title":"Modifying an Android view from a different thread","body":"<p>On Android, activities run in the main UI thread and the TextToSpeech engine runs in a different thread. I want to update a view in an activity when the TextToSpeech engine completes playing back an utterance.</p>\n\n<p>If I ignore this, then I get an <code>android.view.ViewRoot$CalledFromWrongThreadException</code> error when the TextToSpeech engine calls the Activity instance.</p>\n\n<p>Here's my code. The error occurs on the last line of the MainActivity.java script.</p>\n\n<p>TTSUser.java</p>\n\n<pre><code>package com.example.thread;\n\ninterface TTSUser {\n  void ttsUtteranceComplete();\n}\n</code></pre>\n\n<p>MainActivity.java</p>\n\n<pre><code>package com.example.thread;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.widget.TextView;\n\npublic class MainActivity extends Activity implements TTSUser {\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    new TTS(this);\n   }\n\n  public void ttsUtteranceComplete() {\n    TextView view_to_hide = (TextView) findViewById(R.id.hello_world);\n\n    // On next line: android.view.ViewRoot$CalledFromWrongThreadException:\n    // Only the original thread that created a view hierarchy can touch its\n    // views.\n    view_to_hide.setVisibility(TextView.GONE);\n  }\n}\n</code></pre>\n\n<p>TTS.java</p>\n\n<pre><code>package com.example.thread;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.speech.tts.TextToSpeech;\n\nimport java.util.HashMap;\nimport java.util.Locale;\n\npublic class TTS implements TextToSpeech.OnInitListener, TextToSpeech.OnUtteranceCompletedListener {\n\n  private final String TAG = \"callback\";\n  private static TextToSpeech tts;\n  private TTSUser activity;\n\n  public TTS(TTSUser activity) { // Ensures access to ttsUtteranceComplete()\n    this.activity = activity;\n    Context context = ((Activity) activity).getApplicationContext();\n    tts = new android.speech.tts.TextToSpeech(context, this);\n  }\n\n  @Override\n  public void onInit(int status) {\n    if (status == TextToSpeech.SUCCESS) {\n      tts.setLanguage(Locale.UK);\n      tts.setOnUtteranceCompletedListener(this);\n      speakText(\"Hello World\");\n     }\n  }\n\n  public void speakText(String toSpeak) {\n    int mode = android.speech.tts.TextToSpeech.QUEUE_FLUSH;\n   // Create an id for this utterance, so that we can call back when it's done\n    HashMap&lt;String, String&gt; hashMap = new HashMap&lt;String, String&gt;();\n    hashMap.put(TextToSpeech.Engine.KEY_PARAM_UTTERANCE_ID, TAG);\n\n    tts.speak(toSpeak, mode, hashMap);\n  }\n\n  public void onUtteranceCompleted(String utteranceID) {\n    if (utteranceID.equals(TAG)) {\n      activity.ttsUtteranceComplete();\n    }\n  }\n}\n</code></pre>\n\n<p>I also added a line to the TextView definition in activity_main.xml, so that the Hello World text can be identified.</p>\n\n<pre><code>    android:id=\"@+id/hello_world\"\n</code></pre>\n\n<p>Other answers to similarly-worded questions assume that the other thread is created explicitly in the code. Here, the thread for the TextToSpeech engine is created implicitly. How can I change my code so that the last line of MainActivity.java does not throw an error?</p>\n"},{"tags":["java","redis","pipeline","quarkus"],"answers":[{"tags":[],"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675791115,"creation_date":1675791115,"answer_id":75376978,"question_id":75373493,"body_markdown":"Unfortunately, you cannot _batch_ yet with the data source API. However, the underlying client do support batch: \r\n\r\n```\r\n@Inject Redis redis;\r\n\r\n// ...\r\nredis.batch(List.of(req1, req2, req3));\r\n```\r\n","title":"Redis pipelining in Quarkus","body":"<p>Unfortunately, you cannot <em>batch</em> yet with the data source API. However, the underlying client do support batch:</p>\n<pre><code>@Inject Redis redis;\n\n// ...\nredis.batch(List.of(req1, req2, req3));\n</code></pre>\n"}],"owner":{"account_id":448475,"reputation":1262,"user_id":842692,"accept_rate":45,"display_name":"micobg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675791115,"creation_date":1675773498,"question_id":75373493,"body_markdown":"I&#39;m facing an issue with the Redis connection pool, reaching the max wait queue size, at moments with more reads. There are some reads in a loop that would be good to batch in one request to Redis. But I cannot find a way to use Redis pipelines with Quarkus Redis Client. Is there a way to do it?\r\n\r\nHere is my Redis service:\r\n\r\n    public class CacheService {\r\n    \r\n        private final HashCommands&lt;String, String, CachedData&gt; redisHash;\r\n    \r\n        protected CacheService(RedisDataSource redis) {\r\n            this.redisHash = redis.hash(CachedData.class);\r\n        }\r\n    \r\n        protected CachedData get(String name) {\r\n            return redisHash.hget(&quot;data&quot;, name);\r\n        }\r\n    }\r\n\r\n\r\nAnd here are the multiple reads in a loop that can be done with pipelines:\r\n\r\n    names.stream().map(cacheService::get).toList();\r\n\r\nHow I can use Redis pipelines with Quarkus? ","title":"Redis pipelining in Quarkus","body":"<p>I'm facing an issue with the Redis connection pool, reaching the max wait queue size, at moments with more reads. There are some reads in a loop that would be good to batch in one request to Redis. But I cannot find a way to use Redis pipelines with Quarkus Redis Client. Is there a way to do it?</p>\n<p>Here is my Redis service:</p>\n<pre><code>public class CacheService {\n\n    private final HashCommands&lt;String, String, CachedData&gt; redisHash;\n\n    protected CacheService(RedisDataSource redis) {\n        this.redisHash = redis.hash(CachedData.class);\n    }\n\n    protected CachedData get(String name) {\n        return redisHash.hget(&quot;data&quot;, name);\n    }\n}\n</code></pre>\n<p>And here are the multiple reads in a loop that can be done with pipelines:</p>\n<pre><code>names.stream().map(cacheService::get).toList();\n</code></pre>\n<p>How I can use Redis pipelines with Quarkus?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1506247,"reputation":7562,"user_id":1427460,"accept_rate":64,"display_name":"bNd"},"score":0,"creation_date":1453361223,"post_id":34917673,"comment_id":57569649,"body_markdown":"do you mean selected java file?","body":"do you mean selected java file?"},{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":0,"creation_date":1453361286,"post_id":34917673,"comment_id":57569686,"body_markdown":"Since the java compiler does only invoke code from a main method, no.","body":"Since the java compiler does only invoke code from a main method, no."},{"owner":{"account_id":5438949,"reputation":1699,"user_id":4327527,"accept_rate":86,"display_name":"Milkmaid"},"score":1,"creation_date":1453361337,"post_id":34917673,"comment_id":57569714,"body_markdown":"Add more `main()` methods or via unit test.","body":"Add more <code>main()</code> methods or via unit test."},{"owner":{"account_id":7006751,"reputation":1610,"user_id":5370863,"accept_rate":53,"display_name":"bmarkham"},"score":0,"creation_date":1453361380,"post_id":34917673,"comment_id":57569738,"body_markdown":"You can debug it to have it run on a certain point,","body":"You can debug it to have it run on a certain point,"},{"owner":{"account_id":7644531,"reputation":49,"user_id":5795638,"accept_rate":62,"display_name":"Rubit"},"score":0,"creation_date":1453361409,"post_id":34917673,"comment_id":57569755,"body_markdown":"No, I mean selected text. I wanna test the result of the first half of the code without copying it to a new class and run it.","body":"No, I mean selected text. I wanna test the result of the first half of the code without copying it to a new class and run it."},{"owner":{"account_id":7006751,"reputation":1610,"user_id":5370863,"accept_rate":53,"display_name":"bmarkham"},"score":0,"creation_date":1453361459,"post_id":34917673,"comment_id":57569773,"body_markdown":"Yeah you can debug it. Just select the line for the breakpoint and it will run the good up to that point.","body":"Yeah you can debug it. Just select the line for the breakpoint and it will run the good up to that point."},{"owner":{"account_id":7644531,"reputation":49,"user_id":5795638,"accept_rate":62,"display_name":"Rubit"},"score":0,"creation_date":1453361626,"post_id":34917673,"comment_id":57569857,"body_markdown":"OK thank you, I got it. Btw the debug will run from the beginning? Is there anyway that I can set the break point before and after the code that I wanna test?","body":"OK thank you, I got it. Btw the debug will run from the beginning? Is there anyway that I can set the break point before and after the code that I wanna test?"},{"owner":{"account_id":7006751,"reputation":1610,"user_id":5370863,"accept_rate":53,"display_name":"bmarkham"},"score":0,"creation_date":1453361784,"post_id":34917673,"comment_id":57569922,"body_markdown":"Not really sure what you&#39;re asking, but yes it will run from the beginning like a normal run, but stop at the breakpoint. You can go in the the debug prospective and check all of variable values. Really handy stuff.","body":"Not really sure what you&#39;re asking, but yes it will run from the beginning like a normal run, but stop at the breakpoint. You can go in the the debug prospective and check all of variable values. Really handy stuff."},{"owner":{"account_id":1506247,"reputation":7562,"user_id":1427460,"accept_rate":64,"display_name":"bNd"},"score":0,"creation_date":1453361946,"post_id":34917673,"comment_id":57570010,"body_markdown":"Put a debug point to start and end code chunk then press `F6`.","body":"Put a debug point to start and end code chunk then press <code>F6</code>."}],"answers":[{"tags":[],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1453361177,"creation_date":1453361177,"answer_id":34917702,"question_id":34917673,"body_markdown":"No. There is no way to run only part of the code.","title":"Is there anyway to run only selected code in Java Eclipse?","body":"<p>No. There is no way to run only part of the code.</p>\n"},{"tags":[],"owner":{"account_id":2728592,"reputation":2038,"user_id":2352924,"accept_rate":100,"display_name":"Louis F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453365993,"creation_date":1453365993,"answer_id":34919025,"question_id":34917673,"body_markdown":"If you just want to test a method without any context, you could try using the groovy console and copy / paste there the code you want to &quot;test&quot;. You will be able to run it and &quot;test&quot; it. \r\n\r\nA link to it : http://www.vogella.com/tutorials/Groovy/article.html\r\n\r\nOtherwise the only way to do it is to go through traditional debug mode. \r\n\r\nHope it helps !","title":"Is there anyway to run only selected code in Java Eclipse?","body":"<p>If you just want to test a method without any context, you could try using the groovy console and copy / paste there the code you want to \"test\". You will be able to run it and \"test\" it. </p>\n\n<p>A link to it : <a href=\"http://www.vogella.com/tutorials/Groovy/article.html\" rel=\"nofollow\">http://www.vogella.com/tutorials/Groovy/article.html</a></p>\n\n<p>Otherwise the only way to do it is to go through traditional debug mode. </p>\n\n<p>Hope it helps !</p>\n"},{"tags":[],"owner":{"account_id":14483929,"reputation":11,"user_id":10462423,"display_name":"FirstTime"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538751871,"creation_date":1538751871,"answer_id":52668509,"question_id":34917673,"body_markdown":"You can easily test a part of your code through a junit test. \r\n\r\n- get JUnit\r\n- add the annotation @Test on the method you want to test\r\n- left click on the method =&gt; debug as... =&gt; JUnit test\r\n\r\nYou probably need to mock the database calls","title":"Is there anyway to run only selected code in Java Eclipse?","body":"<p>You can easily test a part of your code through a junit test. </p>\n\n<ul>\n<li>get JUnit</li>\n<li>add the annotation @Test on the method you want to test</li>\n<li>left click on the method => debug as... => JUnit test</li>\n</ul>\n\n<p>You probably need to mock the database calls</p>\n"},{"tags":[],"owner":{"account_id":18870244,"reputation":1,"user_id":13975575,"display_name":"JaiRamen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675790903,"creation_date":1608113308,"answer_id":65321144,"question_id":34917673,"body_markdown":"You can absolutely run part of your code (in Eclipse). Just use &lt;kbd&gt;Shift&lt;/kbd&gt; + click to select the parts you do not want to run, and press &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt; to comment out huge bits of code quickly.\r\n\r\nTo uncomment, make sure you select continuous sections of vertical `//`&#39;s, and then use the same &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt; command to quickly get rid of all the `//`&#39;s.\r\n\r\n\r\n**Note:** if you press &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt; with code selected, you will get the &quot;block comment&quot; (`/* code not running */&quot;-type). Use the same keys to undo it, &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;/&lt;/kbd&gt;.\r\n\r\nFor me, it is less easy to locate those quickly versus the massive vertical line of `//`&#39;s","title":"Is there anyway to run only selected code in Java Eclipse?","body":"<p>You can absolutely run part of your code (in Eclipse). Just use <kbd>Shift</kbd> + click to select the parts you do not want to run, and press <kbd>Ctrl</kbd> + <kbd>/</kbd> to comment out huge bits of code quickly.</p>\n<p>To uncomment, make sure you select continuous sections of vertical <code>//</code>'s, and then use the same <kbd>Ctrl</kbd> + <kbd>/</kbd> command to quickly get rid of all the <code>//</code>'s.</p>\n<p><strong>Note:</strong> if you press <kbd>Shift</kbd> + <kbd>Ctrl</kbd> + <kbd>/</kbd> with code selected, you will get the &quot;block comment&quot; (`/* code not running */&quot;-type). Use the same keys to undo it, <kbd>Shift</kbd> + <kbd>Ctrl</kbd> + <kbd>/</kbd>.</p>\n<p>For me, it is less easy to locate those quickly versus the massive vertical line of <code>//</code>'s</p>\n"},{"tags":[],"owner":{"account_id":7145156,"reputation":124,"user_id":5461147,"display_name":"Rodrigo Eggea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675790516,"creation_date":1675790516,"answer_id":75376868,"question_id":34917673,"body_markdown":"In Eclipse you can create a &quot;Scrapbook Page&quot; to test pieces of codes.\r\n\r\nIn Eclipse go to: \r\n\r\n    File -&gt; New -&gt; Scrapbook Page -&gt; &quot;MyScrapbook&quot; \r\n\r\nEclipse will create a file &quot;MyScrapbook.jpage&quot;\r\n\r\nWrite the code in the file, don&#39;t create class or main.\r\n\r\nSelect the piece of code you have wrote and want to run, and press CTRL+U\r\n","title":"Is there anyway to run only selected code in Java Eclipse?","body":"<p>In Eclipse you can create a &quot;Scrapbook Page&quot; to test pieces of codes.</p>\n<p>In Eclipse go to:</p>\n<pre><code>File -&gt; New -&gt; Scrapbook Page -&gt; &quot;MyScrapbook&quot; \n</code></pre>\n<p>Eclipse will create a file &quot;MyScrapbook.jpage&quot;</p>\n<p>Write the code in the file, don't create class or main.</p>\n<p>Select the piece of code you have wrote and want to run, and press CTRL+U</p>\n"}],"owner":{"account_id":7644531,"reputation":49,"user_id":5795638,"accept_rate":62,"display_name":"Rubit"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5335,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":5,"score":3,"last_activity_date":1675790903,"creation_date":1453361042,"question_id":34917673,"body_markdown":"Is there anyway that I can run only part of the code which I select, instead of &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;F11&lt;/kbd&gt; and execute all?\r\n","title":"Is there anyway to run only selected code in Java Eclipse?","body":"<p>Is there anyway that I can run only part of the code which I select, instead of <kbd>Ctrl</kbd> + <kbd>F11</kbd> and execute all?</p>\n"},{"tags":["java","scala","stream","streamwriter","stax"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1675499031,"post_id":75342975,"comment_id":132945528,"body_markdown":"Have you tried `\\u000A` in the attribute to see what it outputs?","body":"Have you tried <code>\\u000A</code> in the attribute to see what it outputs?"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":2,"creation_date":1675499082,"post_id":75342975,"comment_id":132945535,"body_markdown":"Also the error you get means that `P_ATTR_VALUE_ESCAPER` property must be a class not a Boolean.","body":"Also the error you get means that <code>P_ATTR_VALUE_ESCAPER</code> property must be a class not a Boolean."}],"answers":[{"tags":[],"owner":{"account_id":5557464,"reputation":1701,"user_id":4408333,"accept_rate":50,"display_name":"swinkler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675790900,"creation_date":1675790900,"answer_id":75376939,"question_id":75342975,"body_markdown":"The property you are referring to does require a class of EscapingWriterFactory. Here are the docs:    \r\n\r\n&gt; Property that can be set if a custom output escaping for attribute value content is needed. The value set needs to be of type\r\n&gt; EscapingWriterFactory. When set, the factory will be used to create a\r\n&gt; per-writer instance used to escape all attribute values written, both\r\n&gt; via explicit XMLStreamWriter.writeAttribute(java.lang.String,\r\n&gt; java.lang.String) methods, and via copy methods\r\n&gt; (XMLStreamWriter2.copyEventFromReader(org.codehaus.stax2.XMLStreamReader2,\r\n&gt; boolean)). [1]\r\n\r\nRegarding your question of how to achieve an &#39;individual&#39; escaping an implementation of this factory would do the job. Here is a simple implementation (inspired by [2]) using the given writer without applying any escaping - this might be your starting point for any special use case you want to address:\r\n\r\n    class CustomXmlEscapingWriterFactory extends EscapingWriterFactory{\r\n      override def createEscapingWriterFor(writer: Writer, s: String): Writer =\r\n        new Writer(){\r\n          override def write(cbuf: Array[Char], off: Int, len: Int): Unit =\r\n            writer.write(cbuf, off, len)\r\n          override def flush(): Unit = writer.flush()\r\n          override def close(): Unit = writer.close()\r\n        }\r\n    \r\n      override def createEscapingWriterFor(outputStream: OutputStream, s: String): Writer =\r\n        throw IllegalArgumentException(&quot;not supported&quot;)\r\n    }\r\n\r\n    class TestStreamXML extends AnyFunSuite{\r\n      val file = new File(&quot;stax2test.xml&quot;)\r\n      val fileOutputStream = new FileOutputStream(file)\r\n      val oprovider: OutputFactoryProviderImpl  = new OutputFactoryProviderImpl()\r\n      val outputFactory: XMLOutputFactory2 = oprovider.createOutputFactory()\r\n      // your factory implementation goes here as property\r\n      outputFactory.setProperty(XMLOutputFactory2.P_ATTR_VALUE_ESCAPER, CustomXmlEscapingWriterFactory())\r\n    \r\n      val writer= outputFactory.createXMLStreamWriter(fileOutputStream)\r\n    \r\n      writer.writeStartDocument()\r\n      writer.writeStartElement(&quot;elem1&quot;)\r\n      writer.writeAttribute(&quot;att1&quot;, &quot;This &amp;#x0A; That&quot;)\r\n      writer.writeEndElement()\r\n      writer.writeEndDocument()\r\n    }\r\n\r\nThe resulting output looks like this:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;&lt;elem1 att1=&quot;This &amp;#x0A; That&quot;/&gt;\r\n\r\n\r\n[1] https://fasterxml.github.io/stax2-api/javadoc/4.0.0/org/codehaus/stax2/XMLOutputFactory2.html#P_ATTR_VALUE_ESCAPER\r\n\r\n[2] https://stackoverflow.com/questions/56799368/escaping-quotes-using-jackson-dataformat-xml\r\n","title":"Using Stax2 to escape special characters in Scala","body":"<p>The property you are referring to does require a class of EscapingWriterFactory. Here are the docs:</p>\n<blockquote>\n<p>Property that can be set if a custom output escaping for attribute value content is needed. The value set needs to be of type\nEscapingWriterFactory. When set, the factory will be used to create a\nper-writer instance used to escape all attribute values written, both\nvia explicit XMLStreamWriter.writeAttribute(java.lang.String,\njava.lang.String) methods, and via copy methods\n(XMLStreamWriter2.copyEventFromReader(org.codehaus.stax2.XMLStreamReader2,\nboolean)). [1]</p>\n</blockquote>\n<p>Regarding your question of how to achieve an 'individual' escaping an implementation of this factory would do the job. Here is a simple implementation (inspired by [2]) using the given writer without applying any escaping - this might be your starting point for any special use case you want to address:</p>\n<pre><code>class CustomXmlEscapingWriterFactory extends EscapingWriterFactory{\n  override def createEscapingWriterFor(writer: Writer, s: String): Writer =\n    new Writer(){\n      override def write(cbuf: Array[Char], off: Int, len: Int): Unit =\n        writer.write(cbuf, off, len)\n      override def flush(): Unit = writer.flush()\n      override def close(): Unit = writer.close()\n    }\n\n  override def createEscapingWriterFor(outputStream: OutputStream, s: String): Writer =\n    throw IllegalArgumentException(&quot;not supported&quot;)\n}\n\nclass TestStreamXML extends AnyFunSuite{\n  val file = new File(&quot;stax2test.xml&quot;)\n  val fileOutputStream = new FileOutputStream(file)\n  val oprovider: OutputFactoryProviderImpl  = new OutputFactoryProviderImpl()\n  val outputFactory: XMLOutputFactory2 = oprovider.createOutputFactory()\n  // your factory implementation goes here as property\n  outputFactory.setProperty(XMLOutputFactory2.P_ATTR_VALUE_ESCAPER, CustomXmlEscapingWriterFactory())\n\n  val writer= outputFactory.createXMLStreamWriter(fileOutputStream)\n\n  writer.writeStartDocument()\n  writer.writeStartElement(&quot;elem1&quot;)\n  writer.writeAttribute(&quot;att1&quot;, &quot;This &amp;#x0A; That&quot;)\n  writer.writeEndElement()\n  writer.writeEndDocument()\n}\n</code></pre>\n<p>The resulting output looks like this:</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;elem1 att1=&quot;This &amp;#x0A; That&quot;/&gt;\n</code></pre>\n<p>[1] <a href=\"https://fasterxml.github.io/stax2-api/javadoc/4.0.0/org/codehaus/stax2/XMLOutputFactory2.html#P_ATTR_VALUE_ESCAPER\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/stax2-api/javadoc/4.0.0/org/codehaus/stax2/XMLOutputFactory2.html#P_ATTR_VALUE_ESCAPER</a></p>\n<p>[2] <a href=\"https://stackoverflow.com/questions/56799368/escaping-quotes-using-jackson-dataformat-xml\">Escaping quotes using jackson-dataformat-xml</a></p>\n"}],"owner":{"account_id":18887648,"reputation":47,"user_id":13778697,"display_name":"Usr654789"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75376939,"answer_count":1,"score":0,"last_activity_date":1675790900,"creation_date":1675485375,"question_id":75342975,"body_markdown":"I am trying to use `stax2` in order to write xml files with escaping special characters for the attributes.\r\n\r\nWhen I am trying to achieve is an exact output like this:\r\n\r\n`&lt;elem1 att1=&quot;This &amp;#x0A; That&quot; /&gt;`\r\n\r\nBut when I use the usual `XMLStreamWriter` is this:\r\n\r\n`&lt;elem1 att1=&quot;This &amp;amp;#x0A; That&quot; /&gt;`\r\n\r\nSo I tried the following with `stax2` :\r\n\r\n```\r\nimport org.codehaus.stax2.{XMLOutputFactory2}\r\nimport org.scalatest.funsuite.AnyFunSuite\r\nimport java.io.{File, FileOutputStream}\r\nimport javax.xml.stream.{XMLOutputFactory, XMLStreamWriter}\r\n\r\nclass testStreamXML extends AnyFunSuite{\r\n  val file = new File(&quot;stax2test.xml&quot;)\r\n  val fileOutputStream = new FileOutputStream(file)\r\n  val outputFactory: XMLOutputFactory2 = XMLOutputFactory.newInstance().asInstanceOf[XMLOutputFactory2]\r\n  //outputFactory.setProperty(XMLOutputFactory2.P_ATTR_VALUE_ESCAPER, true)\r\n\r\n  val writer= outputFactory.createXMLStreamWriter(fileOutputStream)\r\n\r\n  writer.writeStartDocument()\r\n  writer.writeStartElement(&quot;elem1&quot;)\r\n  writer.writeAttribute(&quot;att1&quot;, &quot;This &amp;#x0A; That&quot;)\r\n  writer.writeEndElement()\r\n  writer.writeEndDocument()\r\n}\r\n```\r\nAnd whenever i try to set the property P_ATTR_VALUE_ESCAPER to true or false,I receive this error:\r\n\r\n```\r\nAn exception or error caused a run to abort: class java.lang.Boolean cannot be cast to class org.codehaus.stax2.io.EscapingWriterFactory (java.lang.Boolean is in module java.base of loader &#39;bootstrap&#39;; org.codehaus.stax2.io.EscapingWriterFactory is in unnamed module of loader &#39;app&#39;) \r\njava.lang.ClassCastException: class java.lang.Boolean cannot be cast to class org.codehaus.stax2.io.EscapingWriterFactory (java.lang.Boolean is in module java.base of loader &#39;bootstrap&#39;; org.codehaus.stax2.io.EscapingWriterFactory is in unnamed module of loader &#39;app&#39;)\r\n\tat com.ctc.wstx.api.WriterConfig.setProperty(WriterConfig.java:401)\r\n\tat com.ctc.wstx.api.CommonConfig.setProperty(CommonConfig.java:100)\r\n\tat com.ctc.wstx.stax.WstxOutputFactory.setProperty(WstxOutputFactory.java:153)\r\n\tat testStreamXML3.&lt;init&gt;(testStreamXML3.scala:10)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:350)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n\tat org.scalatest.tools.Runner$.genSuiteConfig(Runner.scala:1402)\r\n\tat org.scalatest.tools.Runner$.$anonfun$doRunRunRunDaDoRunRun$8(Runner.scala:1199)\r\n\tat scala.collection.immutable.List.map(List.scala:246)\r\n\tat org.scalatest.tools.Runner$.doRunRunRunDaDoRunRun(Runner.scala:1198)\r\n\tat org.scalatest.tools.Runner$.$anonfun$runOptionallyWithPassFailReporter$24(Runner.scala:993)\r\n\tat org.scalatest.tools.Runner$.$anonfun$runOptionallyWithPassFailReporter$24$adapted(Runner.scala:971)\r\n\tat org.scalatest.tools.Runner$.withClassLoaderAndDispatchReporter(Runner.scala:1480)\r\n\tat org.scalatest.tools.Runner$.runOptionallyWithPassFailReporter(Runner.scala:971)\r\n\tat org.scalatest.tools.Runner$.run(Runner.scala:798)\r\n\tat org.scalatest.tools.Runner.run(Runner.scala)\r\n\tat org.jetbrains.plugins.scala.testingSupport.scalaTest.ScalaTestRunner.runScalaTest2or3(ScalaTestRunner.java:38)\r\n\tat org.jetbrains.plugins.scala.testingSupport.scalaTest.ScalaTestRunner.main(ScalaTestRunner.java:25)\r\n```\r\nAny suggestion how to use resolve this? or to achieve my goal of escaping special characters in attribute?","title":"Using Stax2 to escape special characters in Scala","body":"<p>I am trying to use <code>stax2</code> in order to write xml files with escaping special characters for the attributes.</p>\n<p>When I am trying to achieve is an exact output like this:</p>\n<p><code>&lt;elem1 att1=&quot;This &amp;#x0A; That&quot; /&gt;</code></p>\n<p>But when I use the usual <code>XMLStreamWriter</code> is this:</p>\n<p><code>&lt;elem1 att1=&quot;This &amp;amp;#x0A; That&quot; /&gt;</code></p>\n<p>So I tried the following with <code>stax2</code> :</p>\n<pre><code>import org.codehaus.stax2.{XMLOutputFactory2}\nimport org.scalatest.funsuite.AnyFunSuite\nimport java.io.{File, FileOutputStream}\nimport javax.xml.stream.{XMLOutputFactory, XMLStreamWriter}\n\nclass testStreamXML extends AnyFunSuite{\n  val file = new File(&quot;stax2test.xml&quot;)\n  val fileOutputStream = new FileOutputStream(file)\n  val outputFactory: XMLOutputFactory2 = XMLOutputFactory.newInstance().asInstanceOf[XMLOutputFactory2]\n  //outputFactory.setProperty(XMLOutputFactory2.P_ATTR_VALUE_ESCAPER, true)\n\n  val writer= outputFactory.createXMLStreamWriter(fileOutputStream)\n\n  writer.writeStartDocument()\n  writer.writeStartElement(&quot;elem1&quot;)\n  writer.writeAttribute(&quot;att1&quot;, &quot;This &amp;#x0A; That&quot;)\n  writer.writeEndElement()\n  writer.writeEndDocument()\n}\n</code></pre>\n<p>And whenever i try to set the property P_ATTR_VALUE_ESCAPER to true or false,I receive this error:</p>\n<pre><code>An exception or error caused a run to abort: class java.lang.Boolean cannot be cast to class org.codehaus.stax2.io.EscapingWriterFactory (java.lang.Boolean is in module java.base of loader 'bootstrap'; org.codehaus.stax2.io.EscapingWriterFactory is in unnamed module of loader 'app') \njava.lang.ClassCastException: class java.lang.Boolean cannot be cast to class org.codehaus.stax2.io.EscapingWriterFactory (java.lang.Boolean is in module java.base of loader 'bootstrap'; org.codehaus.stax2.io.EscapingWriterFactory is in unnamed module of loader 'app')\n    at com.ctc.wstx.api.WriterConfig.setProperty(WriterConfig.java:401)\n    at com.ctc.wstx.api.CommonConfig.setProperty(CommonConfig.java:100)\n    at com.ctc.wstx.stax.WstxOutputFactory.setProperty(WstxOutputFactory.java:153)\n    at testStreamXML3.&lt;init&gt;(testStreamXML3.scala:10)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:350)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at org.scalatest.tools.Runner$.genSuiteConfig(Runner.scala:1402)\n    at org.scalatest.tools.Runner$.$anonfun$doRunRunRunDaDoRunRun$8(Runner.scala:1199)\n    at scala.collection.immutable.List.map(List.scala:246)\n    at org.scalatest.tools.Runner$.doRunRunRunDaDoRunRun(Runner.scala:1198)\n    at org.scalatest.tools.Runner$.$anonfun$runOptionallyWithPassFailReporter$24(Runner.scala:993)\n    at org.scalatest.tools.Runner$.$anonfun$runOptionallyWithPassFailReporter$24$adapted(Runner.scala:971)\n    at org.scalatest.tools.Runner$.withClassLoaderAndDispatchReporter(Runner.scala:1480)\n    at org.scalatest.tools.Runner$.runOptionallyWithPassFailReporter(Runner.scala:971)\n    at org.scalatest.tools.Runner$.run(Runner.scala:798)\n    at org.scalatest.tools.Runner.run(Runner.scala)\n    at org.jetbrains.plugins.scala.testingSupport.scalaTest.ScalaTestRunner.runScalaTest2or3(ScalaTestRunner.java:38)\n    at org.jetbrains.plugins.scala.testingSupport.scalaTest.ScalaTestRunner.main(ScalaTestRunner.java:25)\n</code></pre>\n<p>Any suggestion how to use resolve this? or to achieve my goal of escaping special characters in attribute?</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1675789382,"post_id":75376307,"comment_id":133002745,"body_markdown":"if you looking for I/O tutorial then check this https://dev.java/learn/java-io/","body":"if you looking for I/O tutorial then check this <a href=\"https://dev.java/learn/java-io/\" rel=\"nofollow noreferrer\">dev.java/learn/java-io</a>"}],"answers":[{"tags":[],"owner":{"account_id":2366124,"reputation":1815,"user_id":2071775,"display_name":"Sergey Prokofiev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675790518,"creation_date":1675790518,"answer_id":75376869,"question_id":75376307,"body_markdown":"Below is an example of how your program could look like. I put some comments in the code, so please take your time and understand how it works.\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.StandardOpenOption;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\n\r\npublic class Attendance {\r\n\r\n    public static void main(String[] args) {\r\n        // here you can specify all students you have\r\n        List&lt;String&gt; students = List.of(&quot;Student 1&quot;, &quot;Student 2&quot;, &quot;Student R&quot;);\r\n        System.out.println(&quot;This is an instruction.&quot;);\r\n        try (Scanner scanner = new Scanner(System.in)) {\r\n            Map&lt;String, Boolean&gt; attendance = new HashMap&lt;&gt;();\r\n            for (String student : students) {\r\n                System.out.println(&quot;Is &quot; + student + &quot; present? [P/n]&quot;);\r\n                String answer = scanner.nextLine();\r\n                attendance.put(student, &quot;p&quot;.equalsIgnoreCase(answer));\r\n            }\r\n            // here you can specify path to output file\r\n            // for Windows systems\r\n            Path destinationFile = Paths.get(&quot;D:&quot;, &quot;attendance_&quot; + System.currentTimeMillis() + &quot;.txt&quot;);\r\n            // for Unix systems\r\n            // Path destinationFile = Paths.get(&quot;tmp&quot;, &quot;attendance_&quot; + System.currentTimeMillis() + &quot;.txt&quot;);\r\n\r\n            // here is an output to file\r\n            Files.writeString(destinationFile, attendance.toString(), StandardOpenOption.CREATE);\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Unable to write file: &quot; + e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nHope it helps!","title":"I&#39;ve made a attendence register program and I want to save into a file which is created newly everyday, which I don&#39;t know how to in java","body":"<p>Below is an example of how your program could look like. I put some comments in the code, so please take your time and understand how it works.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardOpenOption;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Scanner;\n\npublic class Attendance {\n\n    public static void main(String[] args) {\n        // here you can specify all students you have\n        List&lt;String&gt; students = List.of(&quot;Student 1&quot;, &quot;Student 2&quot;, &quot;Student R&quot;);\n        System.out.println(&quot;This is an instruction.&quot;);\n        try (Scanner scanner = new Scanner(System.in)) {\n            Map&lt;String, Boolean&gt; attendance = new HashMap&lt;&gt;();\n            for (String student : students) {\n                System.out.println(&quot;Is &quot; + student + &quot; present? [P/n]&quot;);\n                String answer = scanner.nextLine();\n                attendance.put(student, &quot;p&quot;.equalsIgnoreCase(answer));\n            }\n            // here you can specify path to output file\n            // for Windows systems\n            Path destinationFile = Paths.get(&quot;D:&quot;, &quot;attendance_&quot; + System.currentTimeMillis() + &quot;.txt&quot;);\n            // for Unix systems\n            // Path destinationFile = Paths.get(&quot;tmp&quot;, &quot;attendance_&quot; + System.currentTimeMillis() + &quot;.txt&quot;);\n\n            // here is an output to file\n            Files.writeString(destinationFile, attendance.toString(), StandardOpenOption.CREATE);\n        } catch (IOException e) {\n            System.err.println(&quot;Unable to write file: &quot; + e.getMessage());\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":27727222,"reputation":1,"user_id":21166503,"display_name":"ChimpBrain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675790518,"creation_date":1675787393,"question_id":75376307,"body_markdown":"\r\n\r\nthe below program takes input from teacher or anyone filling attendence using class for student names and if..else statements for taking their attendence. \r\nI want to know of how can I save the attendece in a file which would be named as attendence&#39;s date in a specified folder.\r\nI am new to java and I do not have knowlege on file based programs.\r\n\r\n```\r\nimport java.util.*;\r\npublic class prr\r\n{\r\n    public static class stud \r\n    {\r\n        String s1 = &quot;Student 1&quot;;\r\n        String s2 = &quot;Student 2&quot;;\r\n        String s3 = &quot;Student 3&quot;;\r\n        String s4 = &quot;Student 4&quot;;\r\n        String s5 = &quot;Student 5&quot;;\r\n        String s6 = &quot;Student 6&quot;;\r\n        String s7 = &quot;Student 7&quot;;\r\n        String s8 = &quot;Student 8&quot;;\r\n        String s9 = &quot;Student 9&quot;;\r\n    }\r\n    public static void main(String args[])\r\n    {\r\n\r\n        //Date\r\n        System.out.println(&quot;Date : &quot;+java.time.LocalDate.now());\r\n\r\n\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        stud stu = new stud();\r\n        System.out.println(&quot;Name of Students : \\n\\n&quot;+stu.s1+&quot;\\n&quot;+stu.s2+&quot;\\n&quot;+stu.s3+&quot;\\n&quot;+stu.s4+&quot;\\n&quot;+stu.s5+&quot;\\n&quot;+stu.s6+&quot;\\n&quot;+stu.s7+&quot;\\n&quot;+stu.s8+&quot;\\n&quot;+stu.s9);\r\n        \r\n        //instruction\r\n        System.out.println(&quot;&quot;);\r\n\r\n\r\n        //s1\r\n        System.out.print(&quot;Is &quot;+stu.s1+&quot; present? &quot;);\r\n        String st1 = sc.nextLine();\r\n        if(st1.equals(&quot;p&quot;)||st1.equals(&quot;P&quot;))\r\n        {\r\n            System.out.println(stu.s1+&quot; is added present!&quot;);\r\n        }\r\n        else{System.out.println(stu.s1+&quot; is added absent&quot;);}\r\n   \r\n        //s2\r\n        System.out.print(&quot;Is &quot;+stu.s2+&quot; present? &quot;);\r\n        String st2 = sc.nextLine();\r\n        if(st2.equals(&quot;p&quot;)||st2.equals(&quot;P&quot;))\r\n        {\r\n            System.out.println(stu.s2+&quot; is present!&quot;);\r\n        }\r\n        else{System.out.println(stu.s2+&quot; is absent&quot;);}\r\n        \r\n        //s3\r\n        System.out.print(&quot;Is &quot;+stu.s3+&quot; present? &quot;);\r\n        String st3 = sc.nextLine();\r\n        if(st3.equals(&quot;p&quot;)||st3.equals(&quot;P&quot;))\r\n        {\r\n            System.out.println(stu.s3+&quot; is present!&quot;);\r\n        }\r\n        else{System.out.println(stu.s3+&quot; is absent&quot;);}\r\n        \r\n        //s4        \r\n        System.out.print(&quot;Is &quot;+stu.s4+&quot; present? &quot;);\r\n        String st4 = sc.nextLine();\r\n        if(st4.equals(&quot;p&quot;)||st4.equals(&quot;P&quot;))\r\n        {\r\n            System.out.println(stu.s4+&quot; is present!&quot;);\r\n        }\r\n        else{System.out.println(stu.s4+&quot; is absent&quot;);}\r\n        \r\n        //s5\r\n        System.out.print(&quot;Is &quot;+stu.s5+&quot; present? &quot;);\r\n        String st5 = sc.nextLine();\r\n        if(st5.equals(&quot;p&quot;)||st5.equals(&quot;P&quot;))\r\n        {\r\n            System.out.println(stu.s5+&quot; is present!&quot;);\r\n        }\r\n        else{System.out.println(stu.s5+&quot; is absent&quot;);}\r\n        \r\n        //s6\r\n        System.out.print(&quot;Is &quot;+stu.s6+&quot; present? &quot;);\r\n        String st6 = sc.nextLine();\r\n        if(st6.equals(&quot;p&quot;)||st6.equals(&quot;P&quot;))\r\n        {\r\n            System.out.println(stu.s6+&quot; is present!&quot;);\r\n        }\r\n        else{System.out.println(stu.s6+&quot; is absent&quot;);}\r\n\r\n        //s7\r\n        System.out.print(&quot;Is &quot;+stu.s7+&quot; present? &quot;);\r\n        String st7 = sc.nextLine();\r\n        if(st7.equals(&quot;p&quot;)||st7.equals(&quot;P&quot;))\r\n        {\r\n            System.out.println(stu.s7+&quot; is present!&quot;);\r\n        }\r\n        else{System.out.println(stu.s7+&quot; is absent&quot;);}\r\n        \r\n        //s8\r\n        System.out.print(&quot;Is &quot;+stu.s8+&quot; present? &quot;);\r\n        String st8 = sc.nextLine();\r\n        if(st8.equals(&quot;p&quot;)||st8.equals(&quot;P&quot;))\r\n        {\r\n            System.out.println(stu.s8+&quot; is present!&quot;);\r\n        }\r\n        else{System.out.println(stu.s8+&quot; is absent&quot;);}\r\n        \r\n        //s9\r\n        System.out.print(&quot;Is &quot;+stu.s9+&quot; present? &quot;);\r\n        String st9 = sc.nextLine();\r\n        if(st9.equals(&quot;p&quot;)||st9.equals(&quot;P&quot;))\r\n        {\r\n            System.out.println(stu.s9+&quot; is present!&quot;);\r\n        }\r\n        else{System.out.println(stu.s9+&quot; is absent&quot;);}\r\n     \r\n        sc.close();\r\n    }\r\n    \r\n}\r\n```\r\n\r\n\r\n\r\n","title":"I&#39;ve made a attendence register program and I want to save into a file which is created newly everyday, which I don&#39;t know how to in java","body":"<p>the below program takes input from teacher or anyone filling attendence using class for student names and if..else statements for taking their attendence.\nI want to know of how can I save the attendece in a file which would be named as attendence's date in a specified folder.\nI am new to java and I do not have knowlege on file based programs.</p>\n<pre><code>import java.util.*;\npublic class prr\n{\n    public static class stud \n    {\n        String s1 = &quot;Student 1&quot;;\n        String s2 = &quot;Student 2&quot;;\n        String s3 = &quot;Student 3&quot;;\n        String s4 = &quot;Student 4&quot;;\n        String s5 = &quot;Student 5&quot;;\n        String s6 = &quot;Student 6&quot;;\n        String s7 = &quot;Student 7&quot;;\n        String s8 = &quot;Student 8&quot;;\n        String s9 = &quot;Student 9&quot;;\n    }\n    public static void main(String args[])\n    {\n\n        //Date\n        System.out.println(&quot;Date : &quot;+java.time.LocalDate.now());\n\n\n\n        Scanner sc = new Scanner(System.in);\n        stud stu = new stud();\n        System.out.println(&quot;Name of Students : \\n\\n&quot;+stu.s1+&quot;\\n&quot;+stu.s2+&quot;\\n&quot;+stu.s3+&quot;\\n&quot;+stu.s4+&quot;\\n&quot;+stu.s5+&quot;\\n&quot;+stu.s6+&quot;\\n&quot;+stu.s7+&quot;\\n&quot;+stu.s8+&quot;\\n&quot;+stu.s9);\n        \n        //instruction\n        System.out.println(&quot;&quot;);\n\n\n        //s1\n        System.out.print(&quot;Is &quot;+stu.s1+&quot; present? &quot;);\n        String st1 = sc.nextLine();\n        if(st1.equals(&quot;p&quot;)||st1.equals(&quot;P&quot;))\n        {\n            System.out.println(stu.s1+&quot; is added present!&quot;);\n        }\n        else{System.out.println(stu.s1+&quot; is added absent&quot;);}\n   \n        //s2\n        System.out.print(&quot;Is &quot;+stu.s2+&quot; present? &quot;);\n        String st2 = sc.nextLine();\n        if(st2.equals(&quot;p&quot;)||st2.equals(&quot;P&quot;))\n        {\n            System.out.println(stu.s2+&quot; is present!&quot;);\n        }\n        else{System.out.println(stu.s2+&quot; is absent&quot;);}\n        \n        //s3\n        System.out.print(&quot;Is &quot;+stu.s3+&quot; present? &quot;);\n        String st3 = sc.nextLine();\n        if(st3.equals(&quot;p&quot;)||st3.equals(&quot;P&quot;))\n        {\n            System.out.println(stu.s3+&quot; is present!&quot;);\n        }\n        else{System.out.println(stu.s3+&quot; is absent&quot;);}\n        \n        //s4        \n        System.out.print(&quot;Is &quot;+stu.s4+&quot; present? &quot;);\n        String st4 = sc.nextLine();\n        if(st4.equals(&quot;p&quot;)||st4.equals(&quot;P&quot;))\n        {\n            System.out.println(stu.s4+&quot; is present!&quot;);\n        }\n        else{System.out.println(stu.s4+&quot; is absent&quot;);}\n        \n        //s5\n        System.out.print(&quot;Is &quot;+stu.s5+&quot; present? &quot;);\n        String st5 = sc.nextLine();\n        if(st5.equals(&quot;p&quot;)||st5.equals(&quot;P&quot;))\n        {\n            System.out.println(stu.s5+&quot; is present!&quot;);\n        }\n        else{System.out.println(stu.s5+&quot; is absent&quot;);}\n        \n        //s6\n        System.out.print(&quot;Is &quot;+stu.s6+&quot; present? &quot;);\n        String st6 = sc.nextLine();\n        if(st6.equals(&quot;p&quot;)||st6.equals(&quot;P&quot;))\n        {\n            System.out.println(stu.s6+&quot; is present!&quot;);\n        }\n        else{System.out.println(stu.s6+&quot; is absent&quot;);}\n\n        //s7\n        System.out.print(&quot;Is &quot;+stu.s7+&quot; present? &quot;);\n        String st7 = sc.nextLine();\n        if(st7.equals(&quot;p&quot;)||st7.equals(&quot;P&quot;))\n        {\n            System.out.println(stu.s7+&quot; is present!&quot;);\n        }\n        else{System.out.println(stu.s7+&quot; is absent&quot;);}\n        \n        //s8\n        System.out.print(&quot;Is &quot;+stu.s8+&quot; present? &quot;);\n        String st8 = sc.nextLine();\n        if(st8.equals(&quot;p&quot;)||st8.equals(&quot;P&quot;))\n        {\n            System.out.println(stu.s8+&quot; is present!&quot;);\n        }\n        else{System.out.println(stu.s8+&quot; is absent&quot;);}\n        \n        //s9\n        System.out.print(&quot;Is &quot;+stu.s9+&quot; present? &quot;);\n        String st9 = sc.nextLine();\n        if(st9.equals(&quot;p&quot;)||st9.equals(&quot;P&quot;))\n        {\n            System.out.println(stu.s9+&quot; is present!&quot;);\n        }\n        else{System.out.println(stu.s9+&quot; is absent&quot;);}\n     \n        sc.close();\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","bit-manipulation","long-integer","xor"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":0,"creation_date":1331521409,"post_id":9661227,"comment_id":12270206,"body_markdown":"If you were taking the XOR route, you&#39;d just XOR half the bytes with the other half, since long is 64 bits, which is half as many bits as are in a length-16 byte array. More concretely: you could XOR the 8 most significant bytes and the 8 least significant bytes.","body":"If you were taking the XOR route, you&#39;d just XOR half the bytes with the other half, since long is 64 bits, which is half as many bits as are in a length-16 byte array. More concretely: you could XOR the 8 most significant bytes and the 8 least significant bytes."}],"answers":[{"tags":[],"owner":{"account_id":47622,"reputation":148548,"user_id":141172,"accept_rate":88,"display_name":"Eric J."},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1675790377,"creation_date":1331521088,"answer_id":9661232,"question_id":9661227,"body_markdown":"The very best solution I found (based on my needs... mix of speed and good hash function) is Google&#39;s [CityHash][1].  The input can be any byte array including an MD5 result and the output is an unsigned 64-bit long.\r\n\r\nCityHash has a very good but not perfect hash distribution, and is very fast.\r\n\r\nI ported CityHash from C++ to C# in half an hour.  A Java port should be straightforward too.\r\n\r\nJust XORing the bits doesn&#39;t give as good a distribution (though admittedly that will be very fast). \r\n\r\nI&#39;m not familiar enough with Java to tell you exactly how to populate a long from a byte array (there could be a good helper I&#39;m not familiar with, or I could get some details of arithmetic in Java wrong).  Essentially, though, you&#39;ll want to do *something* like this:\r\n\r\n    long a = md5[0] + \r\n             256 * md5[1] + \r\n             256 * 256 * md5[2] + \r\n             256 * 256 * 256 * md5[3] + \r\n             256 * 256 * 256 * 256 * md5[4] + \r\n             256 * 256 * 256 * 256 * 256 * md5[5] +\r\n             256 * 256 * 256 * 256 * 256 * 256 * md5[6] +\r\n             256 * 256 * 256 * 256 * 256 * 256 * 256 * md5[7];\r\n\r\n    long b = md5[8] + \r\n             256 * md5[9] + \r\n             256 * 256 * md5[10] + \r\n             256 * 256 * 256 * md5[11] + \r\n             256 * 256 * 256 * 256 * md5[12] + \r\n             256 * 256 * 256 * 256 * 256 * md5[13] +\r\n             256 * 256 * 256 * 256 * 256 * 256 * md5[14] +\r\n             256 * 256 * 256 * 256 * 256 * 256 * 256 * md5[15];\r\n\r\n    long result = a ^ b;\r\n\r\nNote I have made no attempt to deal with [endianness][2].  If you just care about a consistent hash value on a given platform, though, endianness should not matter.\r\n\r\n\r\n  [1]: http://code.google.com/p/cityhash/\r\n  [2]: http://en.wikipedia.org/wiki/Endianness","title":"Convert MD5 to Long","body":"<p>The very best solution I found (based on my needs... mix of speed and good hash function) is Google's <a href=\"http://code.google.com/p/cityhash/\" rel=\"nofollow noreferrer\">CityHash</a>.  The input can be any byte array including an MD5 result and the output is an unsigned 64-bit long.</p>\n<p>CityHash has a very good but not perfect hash distribution, and is very fast.</p>\n<p>I ported CityHash from C++ to C# in half an hour.  A Java port should be straightforward too.</p>\n<p>Just XORing the bits doesn't give as good a distribution (though admittedly that will be very fast).</p>\n<p>I'm not familiar enough with Java to tell you exactly how to populate a long from a byte array (there could be a good helper I'm not familiar with, or I could get some details of arithmetic in Java wrong).  Essentially, though, you'll want to do <em>something</em> like this:</p>\n<pre><code>long a = md5[0] + \n         256 * md5[1] + \n         256 * 256 * md5[2] + \n         256 * 256 * 256 * md5[3] + \n         256 * 256 * 256 * 256 * md5[4] + \n         256 * 256 * 256 * 256 * 256 * md5[5] +\n         256 * 256 * 256 * 256 * 256 * 256 * md5[6] +\n         256 * 256 * 256 * 256 * 256 * 256 * 256 * md5[7];\n\nlong b = md5[8] + \n         256 * md5[9] + \n         256 * 256 * md5[10] + \n         256 * 256 * 256 * md5[11] + \n         256 * 256 * 256 * 256 * md5[12] + \n         256 * 256 * 256 * 256 * 256 * md5[13] +\n         256 * 256 * 256 * 256 * 256 * 256 * md5[14] +\n         256 * 256 * 256 * 256 * 256 * 256 * 256 * md5[15];\n\nlong result = a ^ b;\n</code></pre>\n<p>Note I have made no attempt to deal with <a href=\"http://en.wikipedia.org/wiki/Endianness\" rel=\"nofollow noreferrer\">endianness</a>.  If you just care about a consistent hash value on a given platform, though, endianness should not matter.</p>\n"},{"tags":[],"owner":{"account_id":1273545,"reputation":6623,"user_id":1250976,"display_name":"SecurityMatt"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1331660476,"creation_date":1331660476,"answer_id":9689197,"question_id":9661227,"body_markdown":"Just to be clear, any subsection of a cryptographic digest no longer has many of the cryptographic properties of the digest, specifically these properties no longer hold:\r\n\r\n* Inversion resistance (finding an X that satisfies H(X))\r\n* Collision resistance (finding an X, Y such that H(X) = H(Y))\r\n* Random distribution over the range of possible outputs","title":"Convert MD5 to Long","body":"<p>Just to be clear, any subsection of a cryptographic digest no longer has many of the cryptographic properties of the digest, specifically these properties no longer hold:</p>\n\n<ul>\n<li>Inversion resistance (finding an X that satisfies H(X))</li>\n<li>Collision resistance (finding an X, Y such that H(X) = H(Y))</li>\n<li>Random distribution over the range of possible outputs</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1382049779,"creation_date":1382049779,"answer_id":19438572,"question_id":9661227,"body_markdown":"Guava has some very nice [Hashing capabilities][1]:\r\n\r\n\r\n    Hashing.md5().hashString(s).asLong();\r\n\r\nI believe the above is actually CityHash but regardless it will generate hash longs that you can use for whatever your hashing needs. (I tried @Eric J. Java code and it looks like CityHash 32).\r\n\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/wiki/HashingExplained","title":"Convert MD5 to Long","body":"<p>Guava has some very nice <a href=\"https://code.google.com/p/guava-libraries/wiki/HashingExplained\" rel=\"nofollow\">Hashing capabilities</a>:</p>\n\n<pre><code>Hashing.md5().hashString(s).asLong();\n</code></pre>\n\n<p>I believe the above is actually CityHash but regardless it will generate hash longs that you can use for whatever your hashing needs. (I tried @Eric J. Java code and it looks like CityHash 32).</p>\n"}],"owner":{"account_id":1316469,"reputation":823,"user_id":1263194,"accept_rate":59,"display_name":"Alan Jurgensen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9516,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1675790377,"creation_date":1331521015,"question_id":9661227,"body_markdown":"I have a 16byte array from MD5 JAVA method.\r\nI want to convert it to a long to use as a hashkey.\r\nAm reading a bitwise XOR the bits to 64 is a good idea... then howto get a long from that?  full code example of XOR and cvt to long please.","title":"Convert MD5 to Long","body":"<p>I have a 16byte array from MD5 JAVA method.\nI want to convert it to a long to use as a hashkey.\nAm reading a bitwise XOR the bits to 64 is a good idea... then howto get a long from that?  full code example of XOR and cvt to long please.</p>\n"},{"tags":["java","soap","soap-client"],"comments":[{"owner":{"account_id":3893238,"reputation":1341,"user_id":3222918,"accept_rate":20,"display_name":"krezus"},"score":1,"creation_date":1513687396,"post_id":47887047,"comment_id":82740251,"body_markdown":"just suggestion : upgrade your **saaj-impl** version 1.3 to 1.4.0","body":"just suggestion : upgrade your <b>saaj-impl</b> version 1.3 to 1.4.0"},{"owner":{"account_id":1985825,"reputation":2705,"user_id":1781087,"accept_rate":71,"display_name":"guidev"},"score":0,"creation_date":1513687813,"post_id":47887047,"comment_id":82740477,"body_markdown":"@krezus already tried, still the same","body":"@krezus already tried, still the same"},{"owner":{"account_id":3893238,"reputation":1341,"user_id":3222918,"accept_rate":20,"display_name":"krezus"},"score":0,"creation_date":1513688110,"post_id":47887047,"comment_id":82740661,"body_markdown":"probably about your  cache. which ide use ?please check [this](https://stackoverflow.com/questions/6284976/java-lang-noclassdeffounderror-from-every-class-every-day)","body":"probably about your  cache. which ide use ?please check <a href=\"https://stackoverflow.com/questions/6284976/java-lang-noclassdeffounderror-from-every-class-every-day\">this</a>"},{"owner":{"account_id":1985825,"reputation":2705,"user_id":1781087,"accept_rate":71,"display_name":"guidev"},"score":0,"creation_date":1513688343,"post_id":47887047,"comment_id":82740824,"body_markdown":"@krezus thank you, I&#39;m using IntelliJ IDEA","body":"@krezus thank you, I&#39;m using IntelliJ IDEA"},{"owner":{"account_id":3155263,"reputation":1207,"user_id":2667808,"accept_rate":89,"display_name":"AmazingTurtle"},"score":0,"creation_date":1533902132,"post_id":47887047,"comment_id":90528900,"body_markdown":"I checked the dependency cache (saaj-impl-1.3.jar) and there is no &quot;internal&quot; namespace. Strange","body":"I checked the dependency cache (saaj-impl-1.3.jar) and there is no &quot;internal&quot; namespace. Strange"},{"owner":{"account_id":2270702,"reputation":1284,"user_id":1998186,"display_name":"NealeU"},"score":0,"creation_date":1537435584,"post_id":47887047,"comment_id":91786584,"body_markdown":"Hi, What JDK were you using?  Things change with Java 9 onwards","body":"Hi, What JDK were you using?  Things change with Java 9 onwards"}],"answers":[{"tags":[],"owner":{"account_id":7071086,"reputation":1413,"user_id":5412663,"accept_rate":86,"display_name":"rahimli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538383535,"creation_date":1538383535,"answer_id":52587440,"question_id":47887047,"body_markdown":"For those who face this issue in intellij IDEA using Spring Boot under Java SDK 9+, you have to include explicitly `--add-modules java.se.ee` in VM parameters (edit configurations -&gt; VM options). [This answer][1] may help to resolve other importing issues related to new Java Modules\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j","title":"JAVA - com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found","body":"<p>For those who face this issue in intellij IDEA using Spring Boot under Java SDK 9+, you have to include explicitly <code>--add-modules java.se.ee</code> in VM parameters (edit configurations -> VM options). <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j\">This answer</a> may help to resolve other importing issues related to new Java Modules</p>\n"},{"tags":[],"owner":{"account_id":15845264,"reputation":161,"user_id":11432731,"display_name":"Amelie St."},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1556630040,"creation_date":1556630040,"answer_id":55921729,"question_id":47887047,"body_markdown":"I just had the same problem while using Java 11 to create an application that consumes SOAP-requests.\r\n\r\nI added the new dependency and it worked fine for me. \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n    &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n    &lt;version&gt;1.5.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n``` ","title":"JAVA - com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found","body":"<p>I just had the same problem while using Java 11 to create an application that consumes SOAP-requests.</p>\n\n<p>I added the new dependency and it worked fine for me. </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n    &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n    &lt;version&gt;1.5.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3280922,"reputation":225,"user_id":2761554,"accept_rate":100,"display_name":"bahadir_g"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598758537,"creation_date":1598758537,"answer_id":63653710,"question_id":47887047,"body_markdown":"I had the same problem. \r\nFor me, adding saaj-impl was not enough to get rid of the exception\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI had to also add saaj-api which fixed it finally:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;saaj-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.3.5&lt;/version&gt;\r\n   \t&lt;/dependency&gt;\r\n\r\nSince I realised that my application was using saaj-api 1.3.4 after checking with command, upgrading to 1.3.5 helped\r\n\r\n&gt; mvn dependency:tree -Dverbose\r\n\r\n","title":"JAVA - com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found","body":"<p>I had the same problem.\nFor me, adding saaj-impl was not enough to get rid of the exception</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n    &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n    &lt;version&gt;1.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I had to also add saaj-api which fixed it finally:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.soap&lt;/groupId&gt;\n    &lt;artifactId&gt;saaj-api&lt;/artifactId&gt;\n    &lt;version&gt;1.3.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Since I realised that my application was using saaj-api 1.3.4 after checking with command, upgrading to 1.3.5 helped</p>\n<blockquote>\n<p>mvn dependency:tree -Dverbose</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":890419,"reputation":593,"user_id":928803,"accept_rate":57,"display_name":"Sam ツ"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1614598822,"creation_date":1614598822,"answer_id":66421487,"question_id":47887047,"body_markdown":"For me, I was using Java 13 and the following worked for me(add these in the pom.xml)\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webservices-rt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"JAVA - com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found","body":"<p>For me, I was using Java 13 and the following worked for me(add these in the pom.xml)</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\n        &lt;artifactId&gt;webservices-rt&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\n        &lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11906277,"reputation":93,"user_id":8712753,"display_name":"ebey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1623679242,"creation_date":1623150109,"answer_id":67885734,"question_id":47887047,"body_markdown":"Change your project sdk as Java 1.8\r\n\r\nIf you are using import javax.xml.ws library it could be confusing com.sun.xml.messaging.saaj dependency in Java 11. Clearing saaj dependency then using Java8 may be a solution in this issue","title":"JAVA - com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found","body":"<p>Change your project sdk as Java 1.8</p>\n<p>If you are using import javax.xml.ws library it could be confusing com.sun.xml.messaging.saaj dependency in Java 11. Clearing saaj dependency then using Java8 may be a solution in this issue</p>\n"},{"tags":[],"owner":{"account_id":12985701,"reputation":351,"user_id":9386660,"display_name":"Parul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675789728,"creation_date":1675789728,"answer_id":75376740,"question_id":47887047,"body_markdown":"With open JDK 17 and spring boot 3.0.1, I was getting the same issue. It got resolved by adding these dependencies in pom.xml\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;dependency&gt;\r\n           &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\r\n           &lt;artifactId&gt;webservices-rt&lt;/artifactId&gt;\r\n           &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n&lt;!-- end snippet --&gt;","title":"JAVA - com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found","body":"<p>With open JDK 17 and spring boot 3.0.1, I was getting the same issue. It got resolved by adding these dependencies in pom.xml</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;dependency&gt;\n       &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\n       &lt;artifactId&gt;webservices-rt&lt;/artifactId&gt;\n       &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.metro&lt;/groupId&gt;\n        &lt;artifactId&gt;webservices-api&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;/dependency&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":1985825,"reputation":2705,"user_id":1781087,"accept_rate":71,"display_name":"guidev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40734,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":6,"score":9,"last_activity_date":1675789728,"creation_date":1513686436,"question_id":47887047,"body_markdown":"I&#39;m working on an application that consumes a web service using SOAP requests. \r\n\r\nSometimes I get this error:\r\n\r\n    filters.LoggerFilter:92 - org.springframework.web.util.NestedServletException: Handler processing failed; nested exception is java.lang.Error: javax.xml.soap.SOAPException: Unable to create SAAJ meta-factoryProvider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found\r\n\r\n\r\nThe weird part is that I get this error randomly, but I can&#39;t seem to figure out the cause. \r\n\r\nI even added a new dependency, but it doesn&#39;t seem to correct the issue:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n","title":"JAVA - com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found","body":"<p>I'm working on an application that consumes a web service using SOAP requests. </p>\n\n<p>Sometimes I get this error:</p>\n\n<pre><code>filters.LoggerFilter:92 - org.springframework.web.util.NestedServletException: Handler processing failed; nested exception is java.lang.Error: javax.xml.soap.SOAPException: Unable to create SAAJ meta-factoryProvider com.sun.xml.internal.messaging.saaj.soap.SAAJMetaFactoryImpl not found\n</code></pre>\n\n<p>The weird part is that I get this error randomly, but I can't seem to figure out the cause. </p>\n\n<p>I even added a new dependency, but it doesn't seem to correct the issue:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n        &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":10846480,"reputation":8784,"user_id":7975771,"accept_rate":12,"display_name":"varman"},"score":0,"creation_date":1622613610,"post_id":67799573,"comment_id":119838499,"body_markdown":"did u try to reimport the pom dependancies?","body":"did u try to reimport the pom dependancies?"},{"owner":{"account_id":2161693,"reputation":63,"user_id":1915729,"accept_rate":25,"display_name":"Diwakar"},"score":0,"creation_date":1622613997,"post_id":67799573,"comment_id":119838614,"body_markdown":"@varman I tried reloading the project by \n1. Right click pom.xml  2. Maven --&gt; Reload project","body":"@varman I tried reloading the project by  1. Right click pom.xml  2. Maven --&gt; Reload project"},{"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"score":0,"creation_date":1622614226,"post_id":67799573,"comment_id":119838692,"body_markdown":"@Diwakar please share idea.log","body":"@Diwakar please share idea.log"},{"owner":{"account_id":10846480,"reputation":8784,"user_id":7975771,"accept_rate":12,"display_name":"varman"},"score":0,"creation_date":1622614306,"post_id":67799573,"comment_id":119838728,"body_markdown":"Right click on middle of pom-&gt;maven -&gt; Reimport. What is ur IDE suggesting","body":"Right click on middle of pom-&gt;maven -&gt; Reimport. What is ur IDE suggesting"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1622616510,"post_id":67799573,"comment_id":119839548,"body_markdown":"@Diwakar what about other annotations are they working?","body":"@Diwakar what about other annotations are they working?"},{"owner":{"account_id":2161693,"reputation":63,"user_id":1915729,"accept_rate":25,"display_name":"Diwakar"},"score":0,"creation_date":1622693512,"post_id":67799573,"comment_id":119866346,"body_markdown":"@deadshot yes they are.","body":"@deadshot yes they are."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675789521,"creation_date":1675789521,"answer_id":75376707,"question_id":67799573,"body_markdown":"You also need this dependency:\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Cannot resolve symbol &#39;Id&#39; for org.springframework.data.annotation.Id in IntelliJ","body":"<p>You also need this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;2.5.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2161693,"reputation":63,"user_id":1915729,"accept_rate":25,"display_name":"Diwakar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675789521,"creation_date":1622613131,"question_id":67799573,"body_markdown":"I added a simple model for mongodb but IntelliJ is not able to resolve the annotation @Id. I tried invalidating caches but still it is not wokring.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/89CQO.png\r\n\r\nhere is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t.....\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n    .......\r\n\r\n&lt;/project&gt;\r\n\r\nAs you see in above pom.xml i have correct data dependencies for mongo. Am I still missing something?","title":"Cannot resolve symbol &#39;Id&#39; for org.springframework.data.annotation.Id in IntelliJ","body":"<p>I added a simple model for mongodb but IntelliJ is not able to resolve the annotation @Id. I tried invalidating caches but still it is not wokring.</p>\n<p><a href=\"https://i.stack.imgur.com/89CQO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/89CQO.png\" alt=\"enter image description here\" /></a></p>\n<p>here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n.....\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n.......\n</code></pre>\n\n<p>As you see in above pom.xml i have correct data dependencies for mongo. Am I still missing something?</p>\n"},{"tags":["java","reactjs","typescript","web-deployment","onpaste"],"owner":{"account_id":6007669,"reputation":31,"user_id":4719067,"display_name":"pnaika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675789493,"creation_date":1675789493,"question_id":75376703,"body_markdown":"I am looking into solution when users can copy paste any file in order to upload it. \r\n\r\nI am using onPaste and when I console log on the event.clipboardData.files, I see that all the details within files is converted image even though I try to upload pdf or any other files.\r\n\r\nHowever,\r\n\r\n```\r\nconst text = (e[&#39;originalEvent&#39;] || e).clipboardData.getData(&#39;text/plain&#39;);\r\n```\r\n\r\nthat does gives me proper file name. but  `event.clipboardData.files` holds image type, which messes up uploading file other than images.\r\n\r\n```\r\n*HTML*\r\n\r\n&lt;div onPaste={handlePaste}&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n*JS*\r\n\r\n\r\nconst handlePaste = (e) =&gt; {\r\n  console.log(e.clipboardData.files)\r\n}\r\n```\r\n\r\ne above have this object within event.clipboardData.files\r\n\r\n```\r\n\r\n{\r\n   lastModified: 1675788471866\r\n   name: &quot;image.png&quot;,\r\n   size: 0,\r\n   type: &quot;image/png&quot;,\r\n   webkitRelativePath: &quot;&quot;,\r\n}\r\n```\r\n\r\nAny help is appreciated. Thank you","title":"onPaste converts the pasted file type to image","body":"<p>I am looking into solution when users can copy paste any file in order to upload it.</p>\n<p>I am using onPaste and when I console log on the event.clipboardData.files, I see that all the details within files is converted image even though I try to upload pdf or any other files.</p>\n<p>However,</p>\n<pre><code>const text = (e['originalEvent'] || e).clipboardData.getData('text/plain');\n</code></pre>\n<p>that does gives me proper file name. but  <code>event.clipboardData.files</code> holds image type, which messes up uploading file other than images.</p>\n<pre><code>*HTML*\n\n&lt;div onPaste={handlePaste}&gt;\n\n&lt;/div&gt;\n\n*JS*\n\n\nconst handlePaste = (e) =&gt; {\n  console.log(e.clipboardData.files)\n}\n</code></pre>\n<p>e above have this object within event.clipboardData.files</p>\n<pre><code>\n{\n   lastModified: 1675788471866\n   name: &quot;image.png&quot;,\n   size: 0,\n   type: &quot;image/png&quot;,\n   webkitRelativePath: &quot;&quot;,\n}\n</code></pre>\n<p>Any help is appreciated. Thank you</p>\n"},{"tags":["java","spring","gradle","dependency-management"],"answers":[{"tags":[],"owner":{"display_name":"user8787347"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675789171,"creation_date":1675780844,"answer_id":75374904,"question_id":75368735,"body_markdown":"For anyone who runs into this issue with Gradle not resolving transitive dependencies (using Gradle 6.0+) for a self-published artifact/library, the solution was to change the **MyStarterWeb** project to use the *java-library* plugin:\r\n\r\n    plugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;java-library&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.2&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    }\r\n\r\n\r\nand then to change the dependencies in **MyStarterWeb** to use the *api* configuration instead of *implementation* configuration.\r\n\r\n    dependencies {\r\n\tapi &#39;javax.servlet:javax.servlet-api:4.0.1&#39;\r\n\tapi &#39;org.springframework.boot:spring-boot-starter-web:3.0.2&#39;\r\n    }\r\n\r\nThat allowed the **MyFirstEndPoint** project to resolve all transitive dependencies and only have to specify the **MyStarterWeb** dependency\r\n\r\n    dependencies {\r\n    implementation group:&#39;bla&#39;, name: &#39;MyStarterWeb&#39;, version: &#39;0.0.1-SNAPSHOT&#39;\r\n    }\r\n\r\n \r\n\r\n","title":"Gradle not resolving dependencies of dependencies","body":"<p>For anyone who runs into this issue with Gradle not resolving transitive dependencies (using Gradle 6.0+) for a self-published artifact/library, the solution was to change the <strong>MyStarterWeb</strong> project to use the <em>java-library</em> plugin:</p>\n<pre><code>plugins {\nid 'java'\nid 'java-library'\nid 'org.springframework.boot' version '3.0.2'\nid 'io.spring.dependency-management' version '1.1.0'\n}\n</code></pre>\n<p>and then to change the dependencies in <strong>MyStarterWeb</strong> to use the <em>api</em> configuration instead of <em>implementation</em> configuration.</p>\n<pre><code>dependencies {\napi 'javax.servlet:javax.servlet-api:4.0.1'\napi 'org.springframework.boot:spring-boot-starter-web:3.0.2'\n}\n</code></pre>\n<p>That allowed the <strong>MyFirstEndPoint</strong> project to resolve all transitive dependencies and only have to specify the <strong>MyStarterWeb</strong> dependency</p>\n<pre><code>dependencies {\nimplementation group:'bla', name: 'MyStarterWeb', version: '0.0.1-SNAPSHOT'\n}\n</code></pre>\n"}],"owner":{"display_name":"user8787347"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675789171,"creation_date":1675741106,"question_id":75368735,"body_markdown":"Gradle won&#39;t build because it can&#39;t resolve dependencies of dependencies.   For example,  I have a project **MyStarterWeb** which has a dependency on spring-boot-starter-web:\r\n\r\n```\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web:3.0.2&#39;\r\n}\r\n```\r\n\r\nI have a second project, **MyFirstEndPoint**, that extends/uses/is dependent upon **MyStarterWeb**:\r\n\r\n```\r\ndependencies {\r\n\timplementation &#39;group: &#39;com.mygroup&#39;, name: &#39;MyStarterWeb&#39;, version: &#39;0.0.1-SNAPSHOT&#39;\r\n}\r\n```\r\n\r\nAfter reading the Gradle docs (which are contradicting, confusing and of little value), I understood that Gradle would resolve all the dependencies for the **MyFirstEndPoint** project without having to list the spring dependencies listed in **MyStarterWeb**.  But, this is not the case:\r\n\r\n```\r\nerror: package org.springframework.boot does not exist\r\nimport org.springframework.boot.SpringApplication;\r\n```\r\n\r\nAny help/explanation/guidance/clarification on the poor Gradle docs is greatly appreciated.  If there&#39;s an RTFM link that I missed, please share","title":"Gradle not resolving dependencies of dependencies","body":"<p>Gradle won't build because it can't resolve dependencies of dependencies.   For example,  I have a project <strong>MyStarterWeb</strong> which has a dependency on spring-boot-starter-web:</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web:3.0.2'\n}\n</code></pre>\n<p>I have a second project, <strong>MyFirstEndPoint</strong>, that extends/uses/is dependent upon <strong>MyStarterWeb</strong>:</p>\n<pre><code>dependencies {\n    implementation 'group: 'com.mygroup', name: 'MyStarterWeb', version: '0.0.1-SNAPSHOT'\n}\n</code></pre>\n<p>After reading the Gradle docs (which are contradicting, confusing and of little value), I understood that Gradle would resolve all the dependencies for the <strong>MyFirstEndPoint</strong> project without having to list the spring dependencies listed in <strong>MyStarterWeb</strong>.  But, this is not the case:</p>\n<pre><code>error: package org.springframework.boot does not exist\nimport org.springframework.boot.SpringApplication;\n</code></pre>\n<p>Any help/explanation/guidance/clarification on the poor Gradle docs is greatly appreciated.  If there's an RTFM link that I missed, please share</p>\n"},{"tags":["java","iso8583","jpos"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1675959641,"post_id":75376618,"comment_id":133044175,"body_markdown":"Please, share the code you are using, so we can better understand your problem, are you directly calling channel.receive()? or interacting with the channel through its in and out queues?\n\nIf it&#39;s the first ase, then you could call receive() until it does not respond in some timeout, but this would no be the best, in the second case you could call Space.inp on the queue until it returns nothing.","body":"Please, share the code you are using, so we can better understand your problem, are you directly calling channel.receive()? or interacting with the channel through its in and out queues?  If it&#39;s the first ase, then you could call receive() until it does not respond in some timeout, but this would no be the best, in the second case you could call Space.inp on the queue until it returns nothing."},{"owner":{"account_id":13949520,"reputation":27,"user_id":10073380,"display_name":"tytyty"},"score":0,"creation_date":1675966807,"post_id":75376618,"comment_id":133046646,"body_markdown":"Hi, yes it is the first case, directly calling channel.receive(). I agree, I could call it till there&#39;s a timeout, but that would mean having to send the transaction twice to get it to work. I&#39;ll see if I can add some code to the original post, but after re-reading it, I&#39;m not sure if it will add any more context. it really is just a method calling receive() and doing some checks for the mti / error handling","body":"Hi, yes it is the first case, directly calling channel.receive(). I agree, I could call it till there&#39;s a timeout, but that would mean having to send the transaction twice to get it to work. I&#39;ll see if I can add some code to the original post, but after re-reading it, I&#39;m not sure if it will add any more context. it really is just a method calling receive() and doing some checks for the mti / error handling"},{"owner":{"account_id":13949520,"reputation":27,"user_id":10073380,"display_name":"tytyty"},"score":0,"creation_date":1675981710,"post_id":75376618,"comment_id":133050640,"body_markdown":"After thinking about this a little more, I may end up redesigning how my tool receives transactions. Perhaps I&#39;ll make a thread to handle all transactions (including anything stuck in that buffer), and then make another thread to handle any custom responses I need for the issuer. This may eliminate the problem I have in this post altogether","body":"After thinking about this a little more, I may end up redesigning how my tool receives transactions. Perhaps I&#39;ll make a thread to handle all transactions (including anything stuck in that buffer), and then make another thread to handle any custom responses I need for the issuer. This may eliminate the problem I have in this post altogether"},{"owner":{"account_id":61653,"reputation":1298,"user_id":183639,"display_name":"apr"},"score":0,"creation_date":1676061994,"post_id":75376618,"comment_id":133069023,"body_markdown":"Or, you could send jPOS QServer (if you&#39;re a server), or ChannelAdaptor (if you are the client) that does exactly that, and communicate with other jPOS components through the Space.","body":"Or, you could send jPOS QServer (if you&#39;re a server), or ChannelAdaptor (if you are the client) that does exactly that, and communicate with other jPOS components through the Space."},{"owner":{"account_id":13949520,"reputation":27,"user_id":10073380,"display_name":"tytyty"},"score":0,"creation_date":1676308982,"post_id":75376618,"comment_id":133107254,"body_markdown":"I could look into that as well. I decided not to go with Q2 because I needed a way to dynamically make connections to ports specified by the user, and I didn&#39;t see a way to do that in Q2 without making predefined files in the deploy folder.","body":"I could look into that as well. I decided not to go with Q2 because I needed a way to dynamically make connections to ports specified by the user, and I didn&#39;t see a way to do that in Q2 without making predefined files in the deploy folder."}],"owner":{"account_id":13949520,"reputation":27,"user_id":10073380,"display_name":"tytyty"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675789082,"creation_date":1675789082,"question_id":75376618,"body_markdown":"I am developing a tool that simulates both acquirer and issuer through JPOS. Acquirer connects to our Gateway (or switch) on a port, sends the transaction, and switch routes that to our issuer port, which my tool is also connected and responding to. The tool receives the transactions to process through JSON in a POST request, and then loops through each txn one at a time to send to the switch.\r\n\r\nI have a scenario where I&#39;d like to be able to clear anything that is in the BaseChannel.receive() method, without having to disconnect the TCP connection. \r\n\r\nFor example, there&#39;s occasionally circumstances where my issuer tool is receiving extra messages that it is not expecting. It appears that all of this is being buffered in the channel connection. I would like to be able clear out this buffer without having to close the TCP connection and start another. Is this possible? I want any data cleared out of the line so my tool only processes the transactions it expects to.\r\n\r\nI have tried doing a loop and calling channel.receive(), but this will wait forever for a transaction to come across the line.","title":"How to clear out all buffered transactions in BaseChannel.receive()?","body":"<p>I am developing a tool that simulates both acquirer and issuer through JPOS. Acquirer connects to our Gateway (or switch) on a port, sends the transaction, and switch routes that to our issuer port, which my tool is also connected and responding to. The tool receives the transactions to process through JSON in a POST request, and then loops through each txn one at a time to send to the switch.</p>\n<p>I have a scenario where I'd like to be able to clear anything that is in the BaseChannel.receive() method, without having to disconnect the TCP connection.</p>\n<p>For example, there's occasionally circumstances where my issuer tool is receiving extra messages that it is not expecting. It appears that all of this is being buffered in the channel connection. I would like to be able clear out this buffer without having to close the TCP connection and start another. Is this possible? I want any data cleared out of the line so my tool only processes the transactions it expects to.</p>\n<p>I have tried doing a loop and calling channel.receive(), but this will wait forever for a transaction to come across the line.</p>\n"},{"tags":["java","swing","video","vlcj"],"answers":[{"tags":[],"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675719346,"creation_date":1675719346,"answer_id":75366813,"question_id":75362753,"body_markdown":"The answer is simply that you can not switch video surface while playing media.\r\n\r\n(Well, I suppose you *can* switch it, but it won&#39;t take effect.)\r\n\r\nYou can not &quot;re-parent&quot; the video surface to a different container either, so for example it won&#39;t work in a docking window framework without stopping and restarting video.\r\n\r\nMy usual recommendation for something like this is instead to write a custom LayoutManager that can shift your various components around without changing the actual video surface associated to the media player.","title":"vlcj: change video surface wthout stopping MediaPlayer","body":"<p>The answer is simply that you can not switch video surface while playing media.</p>\n<p>(Well, I suppose you <em>can</em> switch it, but it won't take effect.)</p>\n<p>You can not &quot;re-parent&quot; the video surface to a different container either, so for example it won't work in a docking window framework without stopping and restarting video.</p>\n<p>My usual recommendation for something like this is instead to write a custom LayoutManager that can shift your various components around without changing the actual video surface associated to the media player.</p>\n"}],"owner":{"account_id":7241428,"reputation":61,"user_id":5524891,"display_name":"Bate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75366813,"answer_count":1,"score":1,"last_activity_date":1675789028,"creation_date":1675694382,"question_id":75362753,"body_markdown":"I am using `vlcj` to play video in a Java Swing application. I want to be able to switch from one `VideoSurface` to another during playback. This is working fine if I first stop the `vlcj` `mediaPlayer`, assign a new `VideoSurface` to it and then restart the player again. The thing is, I want the switch to work seamlessly. If I skip the stop/restart part, I am seeing a grey screen with no video being displayed in the newly assigned `VideoSurface`. According to the documentation, setting a new surface should be possible. Am I missing something?\r\n\r\n    final Canvas canvas1 = new Canvas();\r\n    final Canvas canvas2 = new Canvas();\r\n    \r\n    ComponentVideoSurface videoSurface = null;\r\n    videoSurface = factory.newVideoSurface(canvas1);\r\n    mediaPlayer.videoSurface().set(videoSurface);\r\n    \r\n    // start playback...\r\n    \r\n    videoSurface = factory.newVideoSurface(canvas2);\r\n    mediaPlayer.videoSurface().set(videoSurface);\r\n\r\nThere is no video output on `surface2`. If I switch back to `surface1`, I can see it.\r\n\r\nThanks in advance!\r\n\r\n**Edit:**&lt;br&gt;\r\nI also tried removing the first canvas from its `Container` and adding the same reference to another one (so, I did not set a new `VideoSurface`, I just moved the existing one into another `Container`), but the effect was the same.","title":"vlcj: change video surface wthout stopping MediaPlayer","body":"<p>I am using <code>vlcj</code> to play video in a Java Swing application. I want to be able to switch from one <code>VideoSurface</code> to another during playback. This is working fine if I first stop the <code>vlcj</code> <code>mediaPlayer</code>, assign a new <code>VideoSurface</code> to it and then restart the player again. The thing is, I want the switch to work seamlessly. If I skip the stop/restart part, I am seeing a grey screen with no video being displayed in the newly assigned <code>VideoSurface</code>. According to the documentation, setting a new surface should be possible. Am I missing something?</p>\n<pre><code>final Canvas canvas1 = new Canvas();\nfinal Canvas canvas2 = new Canvas();\n\nComponentVideoSurface videoSurface = null;\nvideoSurface = factory.newVideoSurface(canvas1);\nmediaPlayer.videoSurface().set(videoSurface);\n\n// start playback...\n\nvideoSurface = factory.newVideoSurface(canvas2);\nmediaPlayer.videoSurface().set(videoSurface);\n</code></pre>\n<p>There is no video output on <code>surface2</code>. If I switch back to <code>surface1</code>, I can see it.</p>\n<p>Thanks in advance!</p>\n<p><strong>Edit:</strong><br>\nI also tried removing the first canvas from its <code>Container</code> and adding the same reference to another one (so, I did not set a new <code>VideoSurface</code>, I just moved the existing one into another <code>Container</code>), but the effect was the same.</p>\n"},{"tags":["java","sockets","linux-capabilities"],"comments":[{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1675779226,"post_id":75374368,"comment_id":132999036,"body_markdown":"Does this answer your question? [Linux error while loading shared libraries: cannot open shared object file: No such file or directory](https://stackoverflow.com/questions/480764/linux-error-while-loading-shared-libraries-cannot-open-shared-object-file-no-s)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/480764/linux-error-while-loading-shared-libraries-cannot-open-shared-object-file-no-s\">Linux error while loading shared libraries: cannot open shared object file: No such file or directory</a>"},{"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"score":0,"creation_date":1675788979,"post_id":75374368,"comment_id":133002623,"body_markdown":"@rghome No, it does not fix: LD_LIBRARY_PATH is empty both after and before the call (also the lib is in its default place)","body":"@rghome No, it does not fix: LD_LIBRARY_PATH is empty both after and before the call (also the lib is in its default place)"}],"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675789022,"creation_date":1675778197,"question_id":75374368,"body_markdown":"I&#39;m trying to add open socket capabilities to a java application,\r\nI added these line to my startup script\r\n\r\n     MY_JAVA_PATH=/home/dds/jdk-11.0.18+10\r\n     echo &quot;Using java [${MY_JAVA_PATH}]&quot;\r\n     JAVA=${MY_JAVA_PATH}/bin/java\r\n     echo &quot;allowing ${JAVA} java to open sockets&quot;\r\n     # allow JAVA to open UDP sockets so I can use isReachable() with ICMP ping\r\n     sudo setcap cap_net_raw=+ep ${JAVA}\r\n     ${JAVA} --module-path=javafx17-sdk/lib --add-modules=javafx.base,javafx.controls -jar myprogram.jar\r\n\r\n\r\nAfter I run it as  \r\n`$ ./start.sh`  \r\nI recive this error:\r\n\r\n    /home/dds/jdk-11.0.18+10/bin/java: error while loading shared libraries: libjli.so: cannot open shared object file: No such file or directory\r\n\r\nNoting that `/home/dds/jdk-11.0.18+10/lib/jli/libjli.so` exists and is in its default (executable relative) place\r\n\r\nWhat am I missing?","title":"Java - can&#39;t start program with open socket capability","body":"<p>I'm trying to add open socket capabilities to a java application,\nI added these line to my startup script</p>\n<pre><code> MY_JAVA_PATH=/home/dds/jdk-11.0.18+10\n echo &quot;Using java [${MY_JAVA_PATH}]&quot;\n JAVA=${MY_JAVA_PATH}/bin/java\n echo &quot;allowing ${JAVA} java to open sockets&quot;\n # allow JAVA to open UDP sockets so I can use isReachable() with ICMP ping\n sudo setcap cap_net_raw=+ep ${JAVA}\n ${JAVA} --module-path=javafx17-sdk/lib --add-modules=javafx.base,javafx.controls -jar myprogram.jar\n</code></pre>\n<p>After I run it as<br />\n<code>$ ./start.sh</code><br />\nI recive this error:</p>\n<pre><code>/home/dds/jdk-11.0.18+10/bin/java: error while loading shared libraries: libjli.so: cannot open shared object file: No such file or directory\n</code></pre>\n<p>Noting that <code>/home/dds/jdk-11.0.18+10/lib/jli/libjli.so</code> exists and is in its default (executable relative) place</p>\n<p>What am I missing?</p>\n"},{"tags":["java","postgresql","jsonb"],"comments":[{"owner":{"account_id":17253187,"reputation":15250,"user_id":12492890,"display_name":"lemon"},"score":0,"creation_date":1675788591,"post_id":75376491,"comment_id":133002512,"body_markdown":"Can you update your post by having both sample input data and expected output inside tables? If you don&#39;t know how to do that, you can follow the answer of [this post](https://meta.stackoverflow.com/questions/302471/how-to-put-tables-in-stack-overflow).","body":"Can you update your post by having both sample input data and expected output inside tables? If you don&#39;t know how to do that, you can follow the answer of <a href=\"https://meta.stackoverflow.com/questions/302471/how-to-put-tables-in-stack-overflow\">this post</a>."}],"answers":[{"tags":[],"owner":{"account_id":9519020,"reputation":41,"user_id":7074479,"display_name":"Javed Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675788988,"creation_date":1675788988,"answer_id":75376597,"question_id":75376491,"body_markdown":"**Few Things :**\r\n\r\nWhy have you used `products.details` in the query when you have `cars.details` in the description ?\r\n\r\nYou have used incorrect key access in JSON column: In the query, you are using &quot;value -&gt; &#39;model&#39;&quot; but in the description, you are using &quot;model&quot;. The correct key access for the JSON column should be &quot;value -&gt; &#39;model&#39;&quot; as in the query.\r\n\r\nYou have used incorrect field name in the result set: In the query, you are using &quot;descr&quot; but in the description, you are using &quot;description&quot;. You should use the same name in the query as in the description.\r\n\r\nTry this : \r\n\r\n    select cars.details.country_id, cars.details.city_id, cars.details.value -&gt; &#39;model&#39; as model, cars.details.value -&gt; &#39;weight&#39; as weight, cars.details.value -&gt; &#39;description&#39; as description, cars.additions.value -&gt; &#39;size&#39; as size, cars.additions.value -&gt; &#39;color&#39; as color, cars.additions.value -&gt; &#39;additions&#39; as additions from cars.details inner join cars.additions on cars.additions.country_id = cars.details.country_id AND cars.additions.city_id = cars.details.city_id;","title":"JSONB - query Postgres","body":"<p><strong>Few Things :</strong></p>\n<p>Why have you used <code>products.details</code> in the query when you have <code>cars.details</code> in the description ?</p>\n<p>You have used incorrect key access in JSON column: In the query, you are using &quot;value -&gt; 'model'&quot; but in the description, you are using &quot;model&quot;. The correct key access for the JSON column should be &quot;value -&gt; 'model'&quot; as in the query.</p>\n<p>You have used incorrect field name in the result set: In the query, you are using &quot;descr&quot; but in the description, you are using &quot;description&quot;. You should use the same name in the query as in the description.</p>\n<p>Try this :</p>\n<pre><code>select cars.details.country_id, cars.details.city_id, cars.details.value -&gt; 'model' as model, cars.details.value -&gt; 'weight' as weight, cars.details.value -&gt; 'description' as description, cars.additions.value -&gt; 'size' as size, cars.additions.value -&gt; 'color' as color, cars.additions.value -&gt; 'additions' as additions from cars.details inner join cars.additions on cars.additions.country_id = cars.details.country_id AND cars.additions.city_id = cars.details.city_id;\n</code></pre>\n"}],"owner":{"account_id":27610560,"reputation":3,"user_id":21073780,"display_name":"Vasek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75376597,"answer_count":1,"score":0,"last_activity_date":1675788988,"creation_date":1675788440,"question_id":75376491,"body_markdown":"I have following table with data\r\n\r\n```\r\ncars.details (country_id, city_id, value)\r\n\r\n1. (&#39;JAP&#39;, &#39;53&#39;, (&#39;{&quot;model&quot;:&quot;Toyota&quot;, &quot;weight&quot;:&quot;900&quot;, &quot;description&quot;:&quot;Family Car.&quot;, &quot;tires&quot;:&quot;3&quot;}&#39;))\r\n\r\n\r\ncards.additions (country_id, city_id, value)\r\n\r\n1. (&#39;JAP&#39;, &#39;53&#39;, (&#39;{&quot;size&quot;:&quot;1&quot;,&quot;color&quot;:&quot;100&quot;,&quot;description&quot;:&quot;Family Car.&quot;,&quot;additions&quot;: [&quot;ac&quot;, &quot;rails&quot;]}&#39;))\r\n```\r\n\r\n\r\nI need to select and join 2 tables to receive following:\r\n\r\nreturn response from 2 tables where:\r\n\r\ncars.details.country_id = cards.additions.country_id \r\nAND \r\ncars.details.city_id = cards.additions.city_id\r\n\r\n\r\nfollowing fields I am trying to return:\r\n\r\nfrom cars.details:\r\ncountry_id, city_id, model, weight, description\r\n\r\n + \r\n\r\nfrom cars.additions\r\nsize, color, additions \r\n\r\n\r\n\r\nMy query is not working:\r\n\r\n```\r\nselect country_id, city_id, value -&gt; &#39;model&#39; as model, value -&gt; &#39;weight&#39; as weight, value  -&gt; &#39;description&#39; as descr from products.details inner join cars.additions on cars.additions.country_id = products.nutrition.country_id AND cars.additions.city_id = products.nutrition.city_id;\r\n```\r\n\r\nPlease advise\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n","title":"JSONB - query Postgres","body":"<p>I have following table with data</p>\n<pre><code>cars.details (country_id, city_id, value)\n\n1. ('JAP', '53', ('{&quot;model&quot;:&quot;Toyota&quot;, &quot;weight&quot;:&quot;900&quot;, &quot;description&quot;:&quot;Family Car.&quot;, &quot;tires&quot;:&quot;3&quot;}'))\n\n\ncards.additions (country_id, city_id, value)\n\n1. ('JAP', '53', ('{&quot;size&quot;:&quot;1&quot;,&quot;color&quot;:&quot;100&quot;,&quot;description&quot;:&quot;Family Car.&quot;,&quot;additions&quot;: [&quot;ac&quot;, &quot;rails&quot;]}'))\n</code></pre>\n<p>I need to select and join 2 tables to receive following:</p>\n<p>return response from 2 tables where:</p>\n<p>cars.details.country_id = cards.additions.country_id\nAND\ncars.details.city_id = cards.additions.city_id</p>\n<p>following fields I am trying to return:</p>\n<p>from cars.details:\ncountry_id, city_id, model, weight, description</p>\n<p>+</p>\n<p>from cars.additions\nsize, color, additions</p>\n<p>My query is not working:</p>\n<pre><code>select country_id, city_id, value -&gt; 'model' as model, value -&gt; 'weight' as weight, value  -&gt; 'description' as descr from products.details inner join cars.additions on cars.additions.country_id = products.nutrition.country_id AND cars.additions.city_id = products.nutrition.city_id;\n</code></pre>\n<p>Please advise</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19666631,"reputation":36,"user_id":14396905,"display_name":"Dimitris Kaitantzidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675778805,"creation_date":1675778805,"answer_id":75374488,"question_id":75368893,"body_markdown":"If i understand correctly, you want to use value1 and value2 as enviroment variables. If i remember correctly, there are two ways to pass enviroment variables to a spring boot app, that will live in it&#39;s lifecycle as you mention. The first one is, by adding those values in a .properties file (or application.properties) or in a yml file (or application.yml) depending on your set up. You can also pass them externally, when running the application as jar (provided that you use the embedded tomcat server). Please check the links below\r\n\r\nhttps://docs.spring.io/spring-boot/docs/1.3.3.RELEASE/reference/html/boot-features-external-config.html\r\n\r\nhttps://stackoverflow.com/questions/63850202/pass-environment-variables-to-spring-boot-application-with-maven\r\n\r\nThe second option can be viable, if you use a script that gets the desired values from the mentioned external source, and pass them as arguments when it tries to execute the jar.","title":"Store Params throughout the lifecycle of an application in java Springboot","body":"<p>If i understand correctly, you want to use value1 and value2 as enviroment variables. If i remember correctly, there are two ways to pass enviroment variables to a spring boot app, that will live in it's lifecycle as you mention. The first one is, by adding those values in a .properties file (or application.properties) or in a yml file (or application.yml) depending on your set up. You can also pass them externally, when running the application as jar (provided that you use the embedded tomcat server). Please check the links below</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/1.3.3.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.3.3.RELEASE/reference/html/boot-features-external-config.html</a></p>\n<p><a href=\"https://stackoverflow.com/questions/63850202/pass-environment-variables-to-spring-boot-application-with-maven\">Pass environment variables to Spring Boot application with Maven</a></p>\n<p>The second option can be viable, if you use a script that gets the desired values from the mentioned external source, and pass them as arguments when it tries to execute the jar.</p>\n"},{"tags":[],"owner":{"account_id":6008517,"reputation":455,"user_id":4719636,"display_name":"Prakash Ayappan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675788949,"creation_date":1675788949,"answer_id":75376589,"question_id":75368893,"body_markdown":"Just a simple solution. Create a class with 2 variables.\r\n\r\nAdd the @Component Annotation at the class. \r\n\r\nSet the values of the variables, as per your startegy or use PostConstruct method strategy to set the values \r\n\r\n@Component gives guarantee, the values once persisted, available until app shutdown.\r\n\r\nOn restart you have to persist the values once again\r\n\r\nMake sure the @Component class is the spring scan path.\r\n\r\n","title":"Store Params throughout the lifecycle of an application in java Springboot","body":"<p>Just a simple solution. Create a class with 2 variables.</p>\n<p>Add the @Component Annotation at the class.</p>\n<p>Set the values of the variables, as per your startegy or use PostConstruct method strategy to set the values</p>\n<p>@Component gives guarantee, the values once persisted, available until app shutdown.</p>\n<p>On restart you have to persist the values once again</p>\n<p>Make sure the @Component class is the spring scan path.</p>\n"}],"owner":{"account_id":17051052,"reputation":17,"user_id":12336678,"display_name":"Micro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1675788949,"creation_date":1675743084,"question_id":75368893,"body_markdown":"I have couple of params let&#39;s say value1 and value2 which i need to store throughout the lifecycle of an application, can this be achieved? I have two different modules in module1 i have a utility class which comprises of value1 and value2 and this module added as a dependency in module2. I will get the values of value1 and value2 from external service call(i don&#39;t want to hit them everytime to get these values). If i create a method in utility class which return these values and mark it as @Caheable will it be there forever(till we retart or redeploy the application) or is there any internal time limit on cacheable. Would u pls suggest some way of storing this?\r\n\r\nI have tried this way (https://stackoverflow.com/questions/51218086/how-to-reinitialize-a-spring-bean), created a Config class(annotated with @Configuration) and created \r\n\r\nModule1 - Config.java\r\n```\r\n@Bean(&quot;utilitybean&quot;)\r\npublic Utility getValues(){\r\nreturn new Utility(&quot;dummyvalue1&quot;,&quot;dummyvalue2&quot;);\r\n}\r\n```\r\nhere using this approach to destroy the bean and create with value1 and value2(methodname-regiter)\r\nhttps://stackoverflow.com/questions/51218086/how-to-reinitialize-a-spring-bean\r\n\r\n```\r\npublic Utility getNewValues(){\r\nreturn getValues();\r\n}\r\n\r\n```\r\n```\r\nModule2 - Test.Java\r\n\r\nIn module2 i have autowired the class \r\n\r\n@Autowired\r\nprivate Config config;\r\n\r\n//service call to get the new values\r\nonce i get the new values i am calling config.regiter to re-register with new values.\r\n\r\nBut when i am calling config.getNewValues().. i am still getting the old values.\r\n\r\n```\r\n(i think this is happening bcoz of two different contexts)\r\n\r\nWould u pls suggest any other way to store these values throughout the lifecycle of an application?\r\n\r\nNOTE: there are 2 other modules which will utilize these new values for other service calls\r\n","title":"Store Params throughout the lifecycle of an application in java Springboot","body":"<p>I have couple of params let's say value1 and value2 which i need to store throughout the lifecycle of an application, can this be achieved? I have two different modules in module1 i have a utility class which comprises of value1 and value2 and this module added as a dependency in module2. I will get the values of value1 and value2 from external service call(i don't want to hit them everytime to get these values). If i create a method in utility class which return these values and mark it as @Caheable will it be there forever(till we retart or redeploy the application) or is there any internal time limit on cacheable. Would u pls suggest some way of storing this?</p>\n<p>I have tried this way (<a href=\"https://stackoverflow.com/questions/51218086/how-to-reinitialize-a-spring-bean\">How to reinitialize a Spring Bean?</a>), created a Config class(annotated with @Configuration) and created</p>\n<p>Module1 - Config.java</p>\n<pre><code>@Bean(&quot;utilitybean&quot;)\npublic Utility getValues(){\nreturn new Utility(&quot;dummyvalue1&quot;,&quot;dummyvalue2&quot;);\n}\n</code></pre>\n<p>here using this approach to destroy the bean and create with value1 and value2(methodname-regiter)\n<a href=\"https://stackoverflow.com/questions/51218086/how-to-reinitialize-a-spring-bean\">How to reinitialize a Spring Bean?</a></p>\n<pre><code>public Utility getNewValues(){\nreturn getValues();\n}\n\n</code></pre>\n<pre><code>Module2 - Test.Java\n\nIn module2 i have autowired the class \n\n@Autowired\nprivate Config config;\n\n//service call to get the new values\nonce i get the new values i am calling config.regiter to re-register with new values.\n\nBut when i am calling config.getNewValues().. i am still getting the old values.\n\n</code></pre>\n<p>(i think this is happening bcoz of two different contexts)</p>\n<p>Would u pls suggest any other way to store these values throughout the lifecycle of an application?</p>\n<p>NOTE: there are 2 other modules which will utilize these new values for other service calls</p>\n"},{"tags":["java","loops","fibonacci"],"comments":[{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":1,"creation_date":1675787869,"post_id":75376380,"comment_id":133002276,"body_markdown":"Overflow.  Integer overflow.  And signed integer wraparound.","body":"Overflow.  Integer overflow.  And signed integer wraparound."},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1675787941,"post_id":75376380,"comment_id":133002306,"body_markdown":"Why didn&#39;t you simply paste the output into the StackOverflow window as text?","body":"Why didn&#39;t you simply paste the output into the StackOverflow window as text?"},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":1,"creation_date":1675787971,"post_id":75376380,"comment_id":133002317,"body_markdown":"@PaulMcKenzie Because he&#39;s working with a postmodern GUI that doesn&#39;t support such outdated concepts.  (You&#39;ll notice that he didn&#39;t even post a conventional screenshot, but rather, what appears to be a cellphone photograph of his monitor.) [And apologies for the sarcasm...]","body":"@PaulMcKenzie Because he&#39;s working with a postmodern GUI that doesn&#39;t support such outdated concepts.  (You&#39;ll notice that he didn&#39;t even post a conventional screenshot, but rather, what appears to be a cellphone photograph of his monitor.) [And apologies for the sarcasm...]"},{"owner":{"account_id":5809836,"reputation":33185,"user_id":4581301,"display_name":"user4581301"},"score":3,"creation_date":1675788028,"post_id":75376380,"comment_id":133002330,"body_markdown":"I was going to say, &quot;Because text is for boomers.&quot;","body":"I was going to say, &quot;Because text is for boomers.&quot;"},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1675788039,"post_id":75376380,"comment_id":133002332,"body_markdown":"Use `BigInteger`.  Also, FYI -- since the C++ and C tags were removed, you don&#39;t have such a type in C or C++, and would have to create your own big integer class or use an existing one from a third-party.","body":"Use <code>BigInteger</code>.  Also, FYI -- since the C++ and C tags were removed, you don&#39;t have such a type in C or C++, and would have to create your own big integer class or use an existing one from a third-party."},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1675788335,"post_id":75376380,"comment_id":133002433,"body_markdown":"To me, making sure the font is small enough, standing away from the monitor, taking out the camera, focusing it, snapping a picture, maybe more than once to make sure everything fits, then saving that picture to an image, uploading it to stackoverflow, (I&#39;m tired already) -- all that instead of copying and pasting text.  I just don&#39;t get why so many beginners think that taking pictures is easier than a couple of strokes on the keyboard.","body":"To me, making sure the font is small enough, standing away from the monitor, taking out the camera, focusing it, snapping a picture, maybe more than once to make sure everything fits, then saving that picture to an image, uploading it to stackoverflow, (I&#39;m tired already) -- all that instead of copying and pasting text.  I just don&#39;t get why so many beginners think that taking pictures is easier than a couple of strokes on the keyboard."},{"owner":{"account_id":5820711,"reputation":4823,"user_id":4641116,"display_name":"Eljay"},"score":0,"creation_date":1675788826,"post_id":75376380,"comment_id":133002580,"body_markdown":"*Output is going in negative value even though the program is correct*  The &quot;program is correct&quot; part is in error.  The program is not correct.","body":"<i>Output is going in negative value even though the program is correct</i>  The &quot;program is correct&quot; part is in error.  The program is not correct."},{"owner":{"account_id":22692869,"reputation":9,"user_id":16861503,"display_name":"AFRA TARANUM A"},"score":0,"creation_date":1675789875,"post_id":75376380,"comment_id":133002894,"body_markdown":"I got the output after using the long data type, instead of int. Thank you all for answering.","body":"I got the output after using the long data type, instead of int. Thank you all for answering."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":0,"creation_date":1675789994,"post_id":75376380,"comment_id":133002929,"body_markdown":"@AFRATARANUMA Thanks for pasting the more-useful text.  The &quot;correct&quot; next number 2971215073 is a 32-bit number, meaning it cannot be represented as a 32-bit *signed* integer, which supports only values from -2147483648 to 2147483647.  Interpreted as a signed integer, 2971215073 turns into -1323752223, which is the wrong number you got.  This is [*two&#39;s complement arithmetic*](https://en.wikipedia.org/wiki/Two%27s_complement).","body":"@AFRATARANUMA Thanks for pasting the more-useful text.  The &quot;correct&quot; next number 2971215073 is a 32-bit number, meaning it cannot be represented as a 32-bit <i>signed</i> integer, which supports only values from -2147483648 to 2147483647.  Interpreted as a signed integer, 2971215073 turns into -1323752223, which is the wrong number you got.  This is <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\"><i>two&#39;s complement arithmetic</i></a>."},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1675797934,"post_id":75376380,"comment_id":133005067,"body_markdown":"@AFRATARANUMA -- [See this using BigInteger](https://ideone.com/gQ5zgi).","body":"@AFRATARANUMA -- <a href=\"https://ideone.com/gQ5zgi\" rel=\"nofollow noreferrer\">See this using BigInteger</a>."}],"owner":{"account_id":22692869,"reputation":9,"user_id":16861503,"display_name":"AFRA TARANUM A"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675790997,"answer_count":0,"score":0,"last_activity_date":1675788680,"creation_date":1675787746,"question_id":75376380,"body_markdown":"I am unable to get the expected output only for the number 48 for a Fibonacci series program. The program is executed properly in order but at one point it changes to negative which should not happen in the Fibonacci series.\r\n\r\n\r\n```\r\nimport java.util.*; \r\n\r\npublic class Hello {\r\n\r\npublic static void main(String[] args) {\r\n\r\n//Your Code Here \r\nScanner sc= new Scanner(System.in); int s = sc.nextInt();\r\n\r\nint a = 0; int b = 1;\r\n\r\nint c = a+b;\r\n\r\nSystem.out.print(a+&quot; &quot;+b);\r\n\r\nfor (int i=3; i&lt;=s; ++i){\r\n\r\nc=a+b;\r\n\r\nSystem.out.print(&quot; &quot;+c);\r\n\r\na=b;\r\n\r\nb=c;\r\n\r\n}\r\n```\r\n\r\ninput:\r\n\r\n48\r\n\r\nExpected Output:\r\n\r\n0112358 13 21 34 55 89 144 233 377 610 987 1597 2584 4181 6765 10946 17 711 28657 46368 75025 121393 196418 317811 514229 832040 1346269 217830 9 3524578 5702887 9227465 14930352 24157817 39088169 63245986 10233415 5 165580141 267914296 433494437 701408733 1134903170 1836311903 29712 15073\r\n\r\nOutput:\r\n\r\n0112358 13 21 34 55 89 144 233 377 610 987 1597 2584 4181 6765 10946 17 711 28657 46368 75025 121393 196418 317811 514229 832040 1346269 217830 9 3524578 5702887 9227465 14930352 24157817 39088169 63245986 10233415 5 165580141 267914296 433494437 701408733 1134903170 1836311903 -1323 752223\r\n\r\nFor the output, i have attached an image below,\r\n[![the output that i got and the expected output is attached](https://i.stack.imgur.com/BXXBQ.jpg)](https://i.stack.imgur.com/BXXBQ.jpg)\r\n","title":"Java Fibonacci Series- Output is going in negative value even though the program is correct","body":"<p>I am unable to get the expected output only for the number 48 for a Fibonacci series program. The program is executed properly in order but at one point it changes to negative which should not happen in the Fibonacci series.</p>\n<pre><code>import java.util.*; \n\npublic class Hello {\n\npublic static void main(String[] args) {\n\n//Your Code Here \nScanner sc= new Scanner(System.in); int s = sc.nextInt();\n\nint a = 0; int b = 1;\n\nint c = a+b;\n\nSystem.out.print(a+&quot; &quot;+b);\n\nfor (int i=3; i&lt;=s; ++i){\n\nc=a+b;\n\nSystem.out.print(&quot; &quot;+c);\n\na=b;\n\nb=c;\n\n}\n</code></pre>\n<p>input:</p>\n<p>48</p>\n<p>Expected Output:</p>\n<p>0112358 13 21 34 55 89 144 233 377 610 987 1597 2584 4181 6765 10946 17 711 28657 46368 75025 121393 196418 317811 514229 832040 1346269 217830 9 3524578 5702887 9227465 14930352 24157817 39088169 63245986 10233415 5 165580141 267914296 433494437 701408733 1134903170 1836311903 29712 15073</p>\n<p>Output:</p>\n<p>0112358 13 21 34 55 89 144 233 377 610 987 1597 2584 4181 6765 10946 17 711 28657 46368 75025 121393 196418 317811 514229 832040 1346269 217830 9 3524578 5702887 9227465 14930352 24157817 39088169 63245986 10233415 5 165580141 267914296 433494437 701408733 1134903170 1836311903 -1323 752223</p>\n<p>For the output, i have attached an image below,\n<a href=\"https://i.stack.imgur.com/BXXBQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BXXBQ.jpg\" alt=\"the output that i got and the expected output is attached\" /></a></p>\n"},{"tags":["java","multithreading","design-patterns","singleton"],"comments":[{"owner":{"account_id":212305,"reputation":24651,"user_id":465053,"accept_rate":83,"display_name":"RBT"},"score":0,"creation_date":1518647454,"post_id":18093735,"comment_id":84597138,"body_markdown":"Exactly same question [here](https://stackoverflow.com/q/12316406/465053) for C# world.","body":"Exactly same question <a href=\"https://stackoverflow.com/q/12316406/465053\">here</a> for C# world."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1586664558,"post_id":18093735,"comment_id":108208061,"body_markdown":"[here](https://stackoverflow.com/a/61166685/1059372) is my take on it too","body":"<a href=\"https://stackoverflow.com/a/61166685/1059372\">here</a> is my take on it too"}],"answers":[{"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"down_vote_count":0,"up_vote_count":91,"is_accepted":true,"score":91,"last_activity_date":1552935934,"creation_date":1375843564,"answer_id":18093774,"question_id":18093735,"body_markdown":"No, since you are obtaining lock on the `SearchBox.class`, only one thread will enter the synchronized block at a time. So the first thread enters then finds `searchBox` is null and creates it and then leaves the synchronized block, then the second thread enter the block then it finds that the `searchBox` is not null because the first thread already created it so it will not create a new instance of `searchBox`.\r\n\r\nThe double checked pattern is used to avoid obtaining the lock every time the code is executed. If the call are not happening together then the first condition will fail and the code execution will not execute the locking thus saving resources.","title":"Double Checked Locking in Singleton","body":"<p>No, since you are obtaining lock on the <code>SearchBox.class</code>, only one thread will enter the synchronized block at a time. So the first thread enters then finds <code>searchBox</code> is null and creates it and then leaves the synchronized block, then the second thread enter the block then it finds that the <code>searchBox</code> is not null because the first thread already created it so it will not create a new instance of <code>searchBox</code>.</p>\n\n<p>The double checked pattern is used to avoid obtaining the lock every time the code is executed. If the call are not happening together then the first condition will fail and the code execution will not execute the locking thus saving resources.</p>\n"},{"tags":[],"owner":{"account_id":253003,"reputation":10963,"user_id":531398,"accept_rate":93,"display_name":"William Morrison"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1375844273,"creation_date":1375843687,"answer_id":18093794,"question_id":18093735,"body_markdown":"This double check lock is only necessary if you are worried about many threads calling the singleton simultaneously, or the cost of obtaining a lock in general. \r\n\r\nIts purpose is to prevent unnecessary synchronization, thereby keeping your code fast in a multi-threaded environment.\r\n\r\n[Check out this link for more information.][1]\r\n\r\nIf you are running in Java 1.5 or greater, and you use the `volatile` keyword in your double-check locked mechanism, it will work fine.  As you are using the `volatile` keyword, your example is not broken according to the same link above.\r\n\r\n\r\n  [1]: http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html","title":"Double Checked Locking in Singleton","body":"<p>This double check lock is only necessary if you are worried about many threads calling the singleton simultaneously, or the cost of obtaining a lock in general. </p>\n\n<p>Its purpose is to prevent unnecessary synchronization, thereby keeping your code fast in a multi-threaded environment.</p>\n\n<p><a href=\"http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html\">Check out this link for more information.</a></p>\n\n<p>If you are running in Java 1.5 or greater, and you use the <code>volatile</code> keyword in your double-check locked mechanism, it will work fine.  As you are using the <code>volatile</code> keyword, your example is not broken according to the same link above.</p>\n"},{"tags":[],"owner":{"account_id":19555,"reputation":237913,"user_id":45914,"accept_rate":68,"display_name":"jason"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1675788607,"creation_date":1375843737,"answer_id":18093804,"question_id":18093735,"body_markdown":"Let&#39;s look at this code:\r\n\r\n    1 if (searchBox == null) {\r\n    2     synchronized (SearchBox.class) {\r\n    3         if (searchBox == null) {\r\n    4             searchBox = new SearchBox();\r\n    5         }\r\n    6     }\r\n    7 }\r\n\r\nLet&#39;s try to reason about this. Let&#39;s say we have two threads `A` and `B` and let&#39;s assume that at least one of them reaches line 3 and observes `searchBox == null` is `true`. Two threads *can not* both be at line 3 at the same time because of the `synchronized` block. This is the *key* to understanding why double-checked locking works. So, it must the case that either `A` or `B` made it through `synchronized` first. Without loss of generality, say that that thread is `A`. Then, upon seeing `searchBox == null` is true, it will enter the body of the statement, and set `searchBox` to a new instance of `SearchBox`. It will then eventually exit the `synchronized` block. Now it will be  `B`&#39;s turn to enter: remember, `B` was blocked waiting for `A` to exit. Now when it enters the block, it will observe `searchBox`. But `A` will have left just having set `searchBox` to a non-`null` value. Done.\r\n\r\n\r\nBy the way, in Java, the best way to implement a singleton is to use a single-element `enum` type. From [Effective Java][2]:\r\n\r\n&gt;While this approach has yet to be widely adopted, a single-element enum type is the best way to implement a singleton.\r\n\r\n\r\n  [1]: http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html\r\n  [2]: http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683","title":"Double Checked Locking in Singleton","body":"<p>Let's look at this code:</p>\n<pre><code>1 if (searchBox == null) {\n2     synchronized (SearchBox.class) {\n3         if (searchBox == null) {\n4             searchBox = new SearchBox();\n5         }\n6     }\n7 }\n</code></pre>\n<p>Let's try to reason about this. Let's say we have two threads <code>A</code> and <code>B</code> and let's assume that at least one of them reaches line 3 and observes <code>searchBox == null</code> is <code>true</code>. Two threads <em>can not</em> both be at line 3 at the same time because of the <code>synchronized</code> block. This is the <em>key</em> to understanding why double-checked locking works. So, it must the case that either <code>A</code> or <code>B</code> made it through <code>synchronized</code> first. Without loss of generality, say that that thread is <code>A</code>. Then, upon seeing <code>searchBox == null</code> is true, it will enter the body of the statement, and set <code>searchBox</code> to a new instance of <code>SearchBox</code>. It will then eventually exit the <code>synchronized</code> block. Now it will be  <code>B</code>'s turn to enter: remember, <code>B</code> was blocked waiting for <code>A</code> to exit. Now when it enters the block, it will observe <code>searchBox</code>. But <code>A</code> will have left just having set <code>searchBox</code> to a non-<code>null</code> value. Done.</p>\n<p>By the way, in Java, the best way to implement a singleton is to use a single-element <code>enum</code> type. From <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321356683\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Effective Java</a>:</p>\n<blockquote>\n<p>While this approach has yet to be widely adopted, a single-element enum type is the best way to implement a singleton.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":117072,"reputation":11619,"user_id":306739,"accept_rate":100,"display_name":"stan0"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1375876714,"creation_date":1375876714,"answer_id":18102799,"question_id":18093735,"body_markdown":"    if (searchBox == null) { //1\r\n        synchronized (SearchBox.class) {\r\n            if (searchBox == null) {  //2\r\n                searchBox = new SearchBox();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n1. If an instance was already created, don&#39;t do anything - avoid locking threads\r\n2. The first thread that has acquired the lock checks and sees that there is no such object and creates it. It releases the lock and the second one can do the same - it has to check if the object exists because the first one may have created it.\r\n\r\nSo basically the outer &lt;code&gt;if&lt;/code&gt; is used to prevent redundant locks - it lets all thread know that there is already an object and they don&#39;t need to lock/do anything. And the inner &lt;code&gt;if&lt;/code&gt; is used to let a concurrent thread know whether another has already created the object or not.","title":"Double Checked Locking in Singleton","body":"<pre><code>if (searchBox == null) { //1\n    synchronized (SearchBox.class) {\n        if (searchBox == null) {  //2\n            searchBox = new SearchBox();\n            }\n        }\n    }\n}\n</code></pre>\n\n<ol>\n<li>If an instance was already created, don't do anything - avoid locking threads</li>\n<li>The first thread that has acquired the lock checks and sees that there is no such object and creates it. It releases the lock and the second one can do the same - it has to check if the object exists because the first one may have created it.</li>\n</ol>\n\n<p>So basically the outer <code>if</code> is used to prevent redundant locks - it lets all thread know that there is already an object and they don't need to lock/do anything. And the inner <code>if</code> is used to let a concurrent thread know whether another has already created the object or not.</p>\n"}],"owner":{"account_id":1227430,"reputation":29840,"user_id":1192728,"accept_rate":100,"display_name":"hqt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60931,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":18093774,"answer_count":4,"score":76,"last_activity_date":1675788607,"creation_date":1375843214,"question_id":18093735,"body_markdown":"here is my custom class for singleton pattern. in this code, I use double-checked locking as below. As I read many posts on some source, they say that double check is useful because it prevents two concurrent threads run at same times make two different objects.\r\n\r\n    public class DoubleCheckLocking {\r\n    \r\n    \tpublic static class SearchBox {\r\n    \t\tprivate static volatile SearchBox searchBox;\r\n    \t\t\r\n    \t\t// private constructor\r\n    \t\tprivate SearchBox() {}\r\n    \t\t\r\n    \t\t// static method to get instance\r\n    \t\tpublic static SearchBox getInstance() {\r\n    \t\t\tif (searchBox == null) { // first time lock\r\n    \t\t\t\tsynchronized (SearchBox.class) {\r\n    \t\t\t\t\tif (searchBox == null) {  // second time lock\r\n    \t\t\t\t\t\tsearchBox = new SearchBox();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\treturn searchBox;\r\n    \t\t}\r\n    }\r\n\r\nI still don&#39;t understand above code so much. What is the problem, if two threads together run same line of code when instance is null ?\r\n\r\n    if (searchBox == null) {\r\n    \t\t\t\tsynchronized (SearchBox.class) {\r\n    \t\t\t\t\tif (searchBox == null) {\r\n    \t\t\t\t\t\tsearchBox = new SearchBox();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n\r\nWhen that appear. both two threads will see object is null. then both synchronize. and then, **they check again, and still see it null**. and create two different objects. OOOPS.\r\n\r\nPlease explain for me. What have I understand wrong ? \r\n\r\nThanks :)","title":"Double Checked Locking in Singleton","body":"<p>here is my custom class for singleton pattern. in this code, I use double-checked locking as below. As I read many posts on some source, they say that double check is useful because it prevents two concurrent threads run at same times make two different objects.</p>\n\n<pre><code>public class DoubleCheckLocking {\n\n    public static class SearchBox {\n        private static volatile SearchBox searchBox;\n\n        // private constructor\n        private SearchBox() {}\n\n        // static method to get instance\n        public static SearchBox getInstance() {\n            if (searchBox == null) { // first time lock\n                synchronized (SearchBox.class) {\n                    if (searchBox == null) {  // second time lock\n                        searchBox = new SearchBox();\n                    }\n                }\n            }\n            return searchBox;\n        }\n}\n</code></pre>\n\n<p>I still don't understand above code so much. What is the problem, if two threads together run same line of code when instance is null ?</p>\n\n<pre><code>if (searchBox == null) {\n                synchronized (SearchBox.class) {\n                    if (searchBox == null) {\n                        searchBox = new SearchBox();\n                    }\n                }\n            }\n</code></pre>\n\n<p>When that appear. both two threads will see object is null. then both synchronize. and then, <strong>they check again, and still see it null</strong>. and create two different objects. OOOPS.</p>\n\n<p>Please explain for me. What have I understand wrong ? </p>\n\n<p>Thanks :)</p>\n"},{"tags":["java","spring-boot","api"],"owner":{"account_id":8304670,"reputation":111,"user_id":6242189,"display_name":"cNgamba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675788577,"creation_date":1675788577,"question_id":75376518,"body_markdown":"I am new to Springboot and I am trying to cancel a request that was posted from the UI to the gateway.\r\n\r\nThere are 2 API&#39;s - the first one is the gateway and the other is an extractDataApi. \r\nI am trying to cancel the request from the UI to extract data and return a &#39;Cancelled by user message&#39;. The scenario is the gateway api receives the request and calls the service in the extractDataApi. While this service is running how can I send another request to stop this service and return a message? How can I achieve this? Is there a built-in method that can take care of this? ","title":"Cancel a running service request in springboot","body":"<p>I am new to Springboot and I am trying to cancel a request that was posted from the UI to the gateway.</p>\n<p>There are 2 API's - the first one is the gateway and the other is an extractDataApi.\nI am trying to cancel the request from the UI to extract data and return a 'Cancelled by user message'. The scenario is the gateway api receives the request and calls the service in the extractDataApi. While this service is running how can I send another request to stop this service and return a message? How can I achieve this? Is there a built-in method that can take care of this?</p>\n"},{"tags":["java","oracle","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"score":0,"creation_date":1652714283,"post_id":72247436,"comment_id":127666687,"body_markdown":"what should the outcome look like?","body":"what should the outcome look like?"},{"owner":{"account_id":23293408,"reputation":21,"user_id":17375142,"display_name":"Daniel_MRG"},"score":0,"creation_date":1652971028,"post_id":72247436,"comment_id":127741421,"body_markdown":"Make a number for each line starting from 1 to the last data.\nlike this:\n`1 , 2  , 3 ......`","body":"Make a number for each line starting from 1 to the last data. like this: <code>1 , 2  , 3 ......</code>"}],"answers":[{"tags":[],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652975461,"creation_date":1652975461,"answer_id":72307573,"question_id":72247436,"body_markdown":"I think [this is what you want][1]:\r\n\r\n&gt; sequence(start, stop, step) - Generates an array of elements from\r\n&gt; start to stop (inclusive), incrementing by step. The type of the\r\n&gt; returned elements is the same as the type of argument expressions.\r\n&gt; \r\n&gt; Supported types are: byte, short, integer, long, date, timestamp.\r\n&gt; \r\n&gt; The start and stop expressions must resolve to the same type. If start\r\n&gt; and stop expressions resolve to the &#39;date&#39; or &#39;timestamp&#39; type then\r\n&gt; the step expression must resolve to the &#39;interval&#39; or &#39;year-month\r\n&gt; interval&#39; or &#39;day-time interval&#39; type, otherwise to the same type as\r\n&gt; the start and stop expressions.\r\n&gt; \r\n&gt; Arguments:\r\n&gt; \r\n&gt; start - an expression. The start of the range. stop - an expression.\r\n&gt; The end the range (inclusive). step - an optional expression. The step\r\n&gt; of the range. By default step is 1 if start is less than or equal to\r\n&gt; stop, otherwise -1. For the temporal sequences it&#39;s 1 day and -1 day\r\n&gt; respectively. If start is greater than stop then the step must be\r\n&gt; negative, and vice versa. Examples:\r\n&gt; \r\n&gt;     SELECT sequence(1, 5);\r\n&gt;      [1,2,3,4,5]\r\n&gt;     SELECT sequence(5, 1);\r\n&gt;      [5,4,3,2,1]\r\n&gt;     SELECT sequence(to_date(&#39;2018-01-01&#39;), to_date(&#39;2018-03-01&#39;), interval 1 month);\r\n&gt;      [2018-01-01,2018-02-01,2018-03-01]\r\n&gt;     SELECT sequence(to_date(&#39;2018-01-01&#39;), to_date(&#39;2018-03-01&#39;), interval &#39;0-1&#39; year to month);\r\n&gt;      [2018-01-01,2018-02-01,2018-03-01]\r\n\r\n  [1]: https://spark.apache.org/docs/latest/api/sql/index.html\r\n","title":"Sequence in Spark SQL","body":"<p>I think <a href=\"https://spark.apache.org/docs/latest/api/sql/index.html\" rel=\"nofollow noreferrer\">this is what you want</a>:</p>\n<blockquote>\n<p>sequence(start, stop, step) - Generates an array of elements from\nstart to stop (inclusive), incrementing by step. The type of the\nreturned elements is the same as the type of argument expressions.</p>\n<p>Supported types are: byte, short, integer, long, date, timestamp.</p>\n<p>The start and stop expressions must resolve to the same type. If start\nand stop expressions resolve to the 'date' or 'timestamp' type then\nthe step expression must resolve to the 'interval' or 'year-month\ninterval' or 'day-time interval' type, otherwise to the same type as\nthe start and stop expressions.</p>\n<p>Arguments:</p>\n<p>start - an expression. The start of the range. stop - an expression.\nThe end the range (inclusive). step - an optional expression. The step\nof the range. By default step is 1 if start is less than or equal to\nstop, otherwise -1. For the temporal sequences it's 1 day and -1 day\nrespectively. If start is greater than stop then the step must be\nnegative, and vice versa. Examples:</p>\n<pre><code>SELECT sequence(1, 5);\n [1,2,3,4,5]\nSELECT sequence(5, 1);\n [5,4,3,2,1]\nSELECT sequence(to_date('2018-01-01'), to_date('2018-03-01'), interval 1 month);\n [2018-01-01,2018-02-01,2018-03-01]\nSELECT sequence(to_date('2018-01-01'), to_date('2018-03-01'), interval '0-1' year to month);\n [2018-01-01,2018-02-01,2018-03-01]\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":23293408,"reputation":21,"user_id":17375142,"display_name":"Daniel_MRG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1964,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675788255,"creation_date":1652610611,"question_id":72247436,"body_markdown":"I want to create a sequence in spark What is the best way to do this?\r\n(In Java)\r\n\r\nLike This:\r\n\r\n    CREATE SEQUENCE SEQ_NUM\r\n    INCREMENT BY 1\r\n    START WITH 1\r\n    MINVALUE 1\r\n    NOCYCLE\r\n    CACHE 10\r\n    ORDER;","title":"Sequence in Spark SQL","body":"<p>I want to create a sequence in spark What is the best way to do this?\n(In Java)</p>\n<p>Like This:</p>\n<pre><code>CREATE SEQUENCE SEQ_NUM\nINCREMENT BY 1\nSTART WITH 1\nMINVALUE 1\nNOCYCLE\nCACHE 10\nORDER;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1675767383,"post_id":75371804,"comment_id":132995130,"body_markdown":"you could register an `EnvironmentPostProcessor` and validate profiles there: `org.springframework.boot.env.EnvironmentPostProcessor=&lt;YourPostProcessor&gt;`. The method that will be called has the definition of `@Override\n\tpublic void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) { .. }` so you have access to `Environment` to check for profiles. Would that be an option?","body":"you could register an <code>EnvironmentPostProcessor</code> and validate profiles there: <code>org.springframework.boot.env.EnvironmentPostProcessor=&lt;YourP&zwnj;&#8203;ostProcessor&gt;</code>. The method that will be called has the definition of <code>@Override \tpublic void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) { .. }</code> so you have access to <code>Environment</code> to check for profiles. Would that be an option?"}],"answers":[{"tags":[],"owner":{"account_id":8391404,"reputation":293,"user_id":6300032,"display_name":"SimGel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675772619,"creation_date":1675765981,"answer_id":75372117,"question_id":75371804,"body_markdown":"**Option 1**: you can create a bean which performes the checks for you.\r\n\r\n```java\r\n@Component\r\npublic class TestBean {\r\n    public TestBean() {\r\n        throw new BeanInitializationException(&quot;error message&quot;);\r\n    }\r\n}\r\n```\r\n\r\nto execute this before certain problematic beans you can annotate theese beans with `@DependsOn`\r\n\r\nBut now you have a bean with no purpose hanging around.\r\n\r\n**Option 2**: \r\nPerform the checks in a configration class.\r\n\r\nTo get access to the spring evironment or configuration properties, you can inject them via constructor.\r\n\r\n```java\r\n@Configuration\r\npublic class TestConfiguration {\r\n    public TestConfiguration(Environment environment, @Value(&quot;${some.key}&quot;) String property) {\r\n        String[] profiles = environment.getActiveProfiles();\r\n\r\n        // perform tests here\r\n        throw new BeanInitializationException(&quot;error message&quot;);\r\n    }\r\n}\r\n```\r\n\r\n**Option 3**: Create beans programatically and check before the bean is created.\r\n\r\n```java\r\n@Configuration\r\npublic class TestConfiguration {\r\n    @Value(&quot;${some.key}&quot;) \r\n    String property;\r\n    \r\n    private final Environment environment;\r\n    \r\n    public TestConfiguration(Environment environment) {\r\n        this.environment = environment;\r\n    }\r\n\r\n    @Bean\r\n    public SomeBean someBean() {\r\n        if(whateverToTest) {\r\n            throw new BeanInitializationException(&quot;error message&quot;);\r\n        }\r\n        return new SomeBean();\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Option 4**: Perform test in the constructor of that particular bean. The constructor is called first.\r\n\r\n```java\r\n@Component\r\npublic class SomeBean {\r\n    public SomeBean() {\r\n        if(whateverToTest) {\r\n            throw new BeanInitializationException(&quot;error message&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n----------\r\n\r\n\r\nOption 3 is the cleanest solution in my opinion, but also the most difficult to implement. Especially if you are using constructor based injections.\r\n","title":"How to check Spring profile explicitly?","body":"<p><strong>Option 1</strong>: you can create a bean which performes the checks for you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class TestBean {\n    public TestBean() {\n        throw new BeanInitializationException(&quot;error message&quot;);\n    }\n}\n</code></pre>\n<p>to execute this before certain problematic beans you can annotate theese beans with <code>@DependsOn</code></p>\n<p>But now you have a bean with no purpose hanging around.</p>\n<p><strong>Option 2</strong>:\nPerform the checks in a configration class.</p>\n<p>To get access to the spring evironment or configuration properties, you can inject them via constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class TestConfiguration {\n    public TestConfiguration(Environment environment, @Value(&quot;${some.key}&quot;) String property) {\n        String[] profiles = environment.getActiveProfiles();\n\n        // perform tests here\n        throw new BeanInitializationException(&quot;error message&quot;);\n    }\n}\n</code></pre>\n<p><strong>Option 3</strong>: Create beans programatically and check before the bean is created.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class TestConfiguration {\n    @Value(&quot;${some.key}&quot;) \n    String property;\n    \n    private final Environment environment;\n    \n    public TestConfiguration(Environment environment) {\n        this.environment = environment;\n    }\n\n    @Bean\n    public SomeBean someBean() {\n        if(whateverToTest) {\n            throw new BeanInitializationException(&quot;error message&quot;);\n        }\n        return new SomeBean();\n    }\n}\n\n</code></pre>\n<p><strong>Option 4</strong>: Perform test in the constructor of that particular bean. The constructor is called first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SomeBean {\n    public SomeBean() {\n        if(whateverToTest) {\n            throw new BeanInitializationException(&quot;error message&quot;);\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>Option 3 is the cleanest solution in my opinion, but also the most difficult to implement. Especially if you are using constructor based injections.</p>\n"},{"tags":[],"owner":{"account_id":15380310,"reputation":138,"user_id":11095907,"display_name":"Sergio"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675766530,"creation_date":1675766530,"answer_id":75372219,"question_id":75371804,"body_markdown":"To explicitly check the Spring profile, you can use the following approach:\r\n\r\n1)Set the active profile via the --spring.profiles.active application launch option:`java -jar myapp.jar --spring.profiles.active=production`\r\n\r\n2)Set the active profile via the environment:\r\n`export SPRING_PROFILES_ACTIVE=productionjava -jar myapp.jar`\r\n\r\n3)Set the active profile via an application.properties or application.yml file:\r\n`# application.properties\r\nspring.profiles.active=production`\r\n\r\n`# application.yml\r\nspring:\r\n  profiles: \r\n    active: production`\r\n\r\n\r\n","title":"How to check Spring profile explicitly?","body":"<p>To explicitly check the Spring profile, you can use the following approach:</p>\n<p>1)Set the active profile via the --spring.profiles.active application launch option:<code>java -jar myapp.jar --spring.profiles.active=production</code></p>\n<p>2)Set the active profile via the environment:\n<code>export SPRING_PROFILES_ACTIVE=productionjava -jar myapp.jar</code></p>\n<p>3)Set the active profile via an application.properties or application.yml file:\n<code># application.properties spring.profiles.active=production</code></p>\n<p><code># application.yml spring: profiles:  active: production</code></p>\n"},{"tags":[],"owner":{"account_id":10097195,"reputation":89,"user_id":7462225,"display_name":"E.Cecchetti"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675787823,"creation_date":1675787823,"answer_id":75376398,"question_id":75371804,"body_markdown":"You can try this.\r\n\r\nCreate a class for keeping the association profile/error\r\n\r\n```java\r\npublic enum ErrorProfile {\r\n   default(&quot;This is the error num 1&quot;),\r\n   dev(&quot;This is the error num 2&quot;),\r\n   test(&quot;This is the error num 3&quot;),\r\n   prod(&quot;This is the error num 4&quot;);\r\n\r\n   private String profile;\r\n   private String message;\r\n   ErrorProfile(String profile, String message){\r\n      this.profile = profile;\r\n      this.profile = message;\r\n   }\r\n}\r\n```\r\n\r\nThen create a profile checker that execute at the lunch of your spring project during the context loading.\r\n\r\n\r\nJava provides a valueOf(String) method for all enum types.\r\nThus, we can always get an enum value based on the declared name. This means that, after we get the value of the profile we can retrieve the message code with:\r\n```java\r\nErrorProfile.valueOf(&quot;prod&quot;)\r\n```\r\n\r\nThen it will be enough to print it in the Logs, Exception or whatever you need.\r\n\r\n```java\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport javax.annotation.PostConstruct;\r\n\r\n@Slf4j\r\n@Configuration\r\npublic class PropertiesLogger {\r\n    @Value(&quot;${spring.profiles.active}&quot;)\r\n    private String activeProfile;\r\n\r\n    @PostConstruct\r\n    public void printProperties() {\r\n        log.debug(&quot;Loading application-context profiles. Active profile found: {} [message: {}]&quot;,\r\n                activeProfile,\r\n                ErrorProfile.valueOf(activeProfile));\r\n\r\n        // and in this case (cause you want to rise an exception with that message)\r\n        throw new RuntimeException(ErrorProfile.valueOf(activeProfile))\r\n    }\r\n}\r\n```","title":"How to check Spring profile explicitly?","body":"<p>You can try this.</p>\n<p>Create a class for keeping the association profile/error</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum ErrorProfile {\n   default(&quot;This is the error num 1&quot;),\n   dev(&quot;This is the error num 2&quot;),\n   test(&quot;This is the error num 3&quot;),\n   prod(&quot;This is the error num 4&quot;);\n\n   private String profile;\n   private String message;\n   ErrorProfile(String profile, String message){\n      this.profile = profile;\n      this.profile = message;\n   }\n}\n</code></pre>\n<p>Then create a profile checker that execute at the lunch of your spring project during the context loading.</p>\n<p>Java provides a valueOf(String) method for all enum types.\nThus, we can always get an enum value based on the declared name. This means that, after we get the value of the profile we can retrieve the message code with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ErrorProfile.valueOf(&quot;prod&quot;)\n</code></pre>\n<p>Then it will be enough to print it in the Logs, Exception or whatever you need.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.annotation.PostConstruct;\n\n@Slf4j\n@Configuration\npublic class PropertiesLogger {\n    @Value(&quot;${spring.profiles.active}&quot;)\n    private String activeProfile;\n\n    @PostConstruct\n    public void printProperties() {\n        log.debug(&quot;Loading application-context profiles. Active profile found: {} [message: {}]&quot;,\n                activeProfile,\n                ErrorProfile.valueOf(activeProfile));\n\n        // and in this case (cause you want to rise an exception with that message)\n        throw new RuntimeException(ErrorProfile.valueOf(activeProfile))\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1009,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1675787823,"creation_date":1675764372,"question_id":75371804,"body_markdown":"I would like to check that my application runs only under given set of allowed profiles.\r\n\r\nI would write\r\n\r\n    @Autowire\r\n    Environment environment;\r\n\r\n    @PostConstruct\r\n    public void checkAndReportProfiles() {\r\n\r\n        // checks\r\n        ... environment.getActiveProfiles()\r\n\r\nbut the problem is that this runs after all beans were attempted to initialize and failed if profiles were incorrect.\r\n\r\nI want to check profiles explicitly and fail with explicit message.\r\n\r\nIs it possible to do this?","title":"How to check Spring profile explicitly?","body":"<p>I would like to check that my application runs only under given set of allowed profiles.</p>\n<p>I would write</p>\n<pre><code>@Autowire\nEnvironment environment;\n\n@PostConstruct\npublic void checkAndReportProfiles() {\n\n    // checks\n    ... environment.getActiveProfiles()\n</code></pre>\n<p>but the problem is that this runs after all beans were attempted to initialize and failed if profiles were incorrect.</p>\n<p>I want to check profiles explicitly and fail with explicit message.</p>\n<p>Is it possible to do this?</p>\n"},{"tags":["java","http"],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1675787705,"creation_date":1675787705,"question_id":75376369,"body_markdown":"I&#39;m trying to count the number of HTTP requests made by my Java application, but I&#39;m running into some challenges. I&#39;m using different libraries and classes to make the requests, and I&#39;m not sure if they all use `HttpURLConnection` under the hood. \r\n\r\n* I tried using Wireshark, but since my requests are HTTPS, I can only detect [TCP + TLS](https://stackoverflow.com/questions/49985246/wireshark-http-filter-not-working-on-macos), which makes it hard to separate them from other requests made by my system. I know I could filter by source IP, but it is one more pain.\r\n* I also tried manually adding counters with `AtomicInteger`  but I would need to add it in many places, and I may miss some calls:\r\n\r\n```java\r\nAtomicInteger requests = new AtomicInteger(0);\r\nrequests.incrementAndGet();\r\n```\r\n\r\nIs there an easier approach to count all HTTP/HTTPS requests made by my Java application? Thank you for your help!\r\n","title":"How to count all HTTP/HTTPS requests made by Java application?","body":"<p>I'm trying to count the number of HTTP requests made by my Java application, but I'm running into some challenges. I'm using different libraries and classes to make the requests, and I'm not sure if they all use <code>HttpURLConnection</code> under the hood.</p>\n<ul>\n<li>I tried using Wireshark, but since my requests are HTTPS, I can only detect <a href=\"https://stackoverflow.com/questions/49985246/wireshark-http-filter-not-working-on-macos\">TCP + TLS</a>, which makes it hard to separate them from other requests made by my system. I know I could filter by source IP, but it is one more pain.</li>\n<li>I also tried manually adding counters with <code>AtomicInteger</code>  but I would need to add it in many places, and I may miss some calls:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>AtomicInteger requests = new AtomicInteger(0);\nrequests.incrementAndGet();\n</code></pre>\n<p>Is there an easier approach to count all HTTP/HTTPS requests made by my Java application? Thank you for your help!</p>\n"},{"tags":["java","ms-word","printscreen"],"owner":{"account_id":26698103,"reputation":1,"user_id":20305604,"display_name":"Arunkumar K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675787506,"creation_date":1675787506,"question_id":75376335,"body_markdown":"Screenshot using PrintScreenand save it in work doc. I tried below but not working. i need a complete code to take screenshot if i press printscreen button and save it in word doc . i need to give doc name dynamically in cmd. until i stop he program, it have to take screen shot and save it in same doc.\r\n\r\n\r\n```\r\npublic static void main(String[] args) throws ClassNotFoundException, InstantiationException, IllegalAccessException, IOException, AWTException {\r\n        try {\r\n            // Set the look and feel\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\r\n            // Create a KeyEventDispatcher to listen to keyboard events\r\n            KeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(new KeyEventDispatcher() {\r\n                @Override\r\n                public boolean dispatchKeyEvent(KeyEvent e) {\r\n                    if (e.getID() == KeyEvent.KEY_PRESSED &amp;&amp; e.getKeyCode() == KeyEvent.VK_PRINTSCREEN) {\r\n                        // Take a screenshot when the print screen button is pressed\r\n                        try {\r\n                            // Create a Robot object\r\n                            Robot robot = new Robot();\r\n\r\n                            // Get the size of the screen\r\n                            Rectangle screenRect = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\r\n\r\n                            // Capture the screen image\r\n                            BufferedImage screenImage = robot.createScreenCapture(screenRect);\r\n\r\n                            // Get the current date and time\r\n                            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd_HH-mm-ss&quot;);\r\n                            String fileName = &quot;screenshot_&quot; + dateFormat.format(new Date()) + &quot;.png&quot;;\r\n\r\n                            // Save the screenshot to a file\r\n                            ImageIO.write(screenImage, &quot;png&quot;, new File(fileName));\r\n\r\n                            // Create a Word document and add the screenshot\r\n                            XWPFDocument document = new XWPFDocument();\r\n                            XWPFParagraph paragraph = document.createParagraph();\r\n\r\n                            // Create a run in the paragraph\r\n                            XWPFRun run = paragraph.createRun();\r\n\r\n                            // Add the screenshot to the run\r\n                            FileInputStream stream = new FileInputStream(fileName);\r\n                            run.addPicture(stream, XWPFDocument.PICTURE_TYPE_PNG, fileName, Units.toEMU(screenImage.getWidth()), Units.toEMU(screenImage.getHeight()));\r\n\r\n                            // Close the stream\r\n                            stream.close();\r\n\r\n                            // Save the Word document\r\n                            FileOutputStream out = new FileOutputStream(&quot;screenshot_&quot; + dateFormat.format(new Date()) + &quot;.docx&quot;);\r\n                            document.write(out);\r\n                            out.close();\r\n\r\n                            // Show a message indicating that the screenshot was saved\r\n                            JOptionPane.showMessageDialog(null, &quot;Screenshot saved in screenshot.docx&quot;, &quot;Information&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n\r\n                            return false;\r\n                        }\r\n\r\ncatch(IOException | AWTException | InvalidFormatException exc){\r\n\texc.printStackTrace();}\r\n                        return false;\r\n\r\n                    }\r\n\t\t\t\t\treturn false;\r\n                }\r\n            });\r\n        } catch (UnsupportedLookAndFeelException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n```\r\n","title":"take screenshot using printscreen button and save it in word doc","body":"<p>Screenshot using PrintScreenand save it in work doc. I tried below but not working. i need a complete code to take screenshot if i press printscreen button and save it in word doc . i need to give doc name dynamically in cmd. until i stop he program, it have to take screen shot and save it in same doc.</p>\n<pre><code>public static void main(String[] args) throws ClassNotFoundException, InstantiationException, IllegalAccessException, IOException, AWTException {\n        try {\n            // Set the look and feel\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n\n            // Create a KeyEventDispatcher to listen to keyboard events\n            KeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(new KeyEventDispatcher() {\n                @Override\n                public boolean dispatchKeyEvent(KeyEvent e) {\n                    if (e.getID() == KeyEvent.KEY_PRESSED &amp;&amp; e.getKeyCode() == KeyEvent.VK_PRINTSCREEN) {\n                        // Take a screenshot when the print screen button is pressed\n                        try {\n                            // Create a Robot object\n                            Robot robot = new Robot();\n\n                            // Get the size of the screen\n                            Rectangle screenRect = new Rectangle(Toolkit.getDefaultToolkit().getScreenSize());\n\n                            // Capture the screen image\n                            BufferedImage screenImage = robot.createScreenCapture(screenRect);\n\n                            // Get the current date and time\n                            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd_HH-mm-ss&quot;);\n                            String fileName = &quot;screenshot_&quot; + dateFormat.format(new Date()) + &quot;.png&quot;;\n\n                            // Save the screenshot to a file\n                            ImageIO.write(screenImage, &quot;png&quot;, new File(fileName));\n\n                            // Create a Word document and add the screenshot\n                            XWPFDocument document = new XWPFDocument();\n                            XWPFParagraph paragraph = document.createParagraph();\n\n                            // Create a run in the paragraph\n                            XWPFRun run = paragraph.createRun();\n\n                            // Add the screenshot to the run\n                            FileInputStream stream = new FileInputStream(fileName);\n                            run.addPicture(stream, XWPFDocument.PICTURE_TYPE_PNG, fileName, Units.toEMU(screenImage.getWidth()), Units.toEMU(screenImage.getHeight()));\n\n                            // Close the stream\n                            stream.close();\n\n                            // Save the Word document\n                            FileOutputStream out = new FileOutputStream(&quot;screenshot_&quot; + dateFormat.format(new Date()) + &quot;.docx&quot;);\n                            document.write(out);\n                            out.close();\n\n                            // Show a message indicating that the screenshot was saved\n                            JOptionPane.showMessageDialog(null, &quot;Screenshot saved in screenshot.docx&quot;, &quot;Information&quot;, JOptionPane.INFORMATION_MESSAGE);\n\n                            return false;\n                        }\n\ncatch(IOException | AWTException | InvalidFormatException exc){\n    exc.printStackTrace();}\n                        return false;\n\n                    }\n                    return false;\n                }\n            });\n        } catch (UnsupportedLookAndFeelException ex) {\n            ex.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":26633402,"reputation":47,"user_id":21166611,"display_name":"santi254"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675787397,"creation_date":1675787397,"question_id":75376308,"body_markdown":"Hello all I have a resource file located in\r\n\r\n`src/main/resource/data/file.txt`\r\n\r\nI want to create an external library that can read this file in my pom.xml I have imported my library using\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;test.peter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;test-lib&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.0&lt;/version&gt;\r\n          &lt;scope&gt;system&lt;/scope&gt;\r\n          &lt;systemPath&gt;${test-lib-path}&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nWhen reading from the resource file from my application using works great.\r\n\r\n```java\r\nnew StreamSource(getClass().getClassLoader().getResourceAsStream(path))\r\n```\r\n\r\n\r\nHowever, using the same code inside my external library test-lib does not work.\r\n\r\nI provide the path variable as `/data/file.txt` Any idea why my application can read the file but the external lib can not?","title":"Have an external lib read from the resource file of the running application in java","body":"<p>Hello all I have a resource file located in</p>\n<p><code>src/main/resource/data/file.txt</code></p>\n<p>I want to create an external library that can read this file in my pom.xml I have imported my library using</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n          &lt;groupId&gt;test.peter&lt;/groupId&gt;\n          &lt;artifactId&gt;test-lib&lt;/artifactId&gt;\n          &lt;version&gt;1.0.0&lt;/version&gt;\n          &lt;scope&gt;system&lt;/scope&gt;\n          &lt;systemPath&gt;${test-lib-path}&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>When reading from the resource file from my application using works great.</p>\n<pre class=\"lang-java prettyprint-override\"><code>new StreamSource(getClass().getClassLoader().getResourceAsStream(path))\n</code></pre>\n<p>However, using the same code inside my external library test-lib does not work.</p>\n<p>I provide the path variable as <code>/data/file.txt</code> Any idea why my application can read the file but the external lib can not?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":7062189,"reputation":949,"user_id":5406972,"display_name":"Rubasace"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675787003,"creation_date":1675787003,"question_id":75376236,"body_markdown":"I&#39;m migrating some REST applications to Spring Boot 3 and I&#39;m trying to set an extra low cardinality key/value, based on the value of an incoming request header (X-Traffic-Type). \r\n\r\nWhen doing it for webflux applications, everything works fine: I provide an extension of `DefaultServerRequestObservationConvention` and set the value based on the incoming header:\r\n\r\n```java\r\npublic class MyCustomServerRequestObservationConvention extends DefaultServerRequestObservationConvention {\r\n\r\n    @Override\r\n    public KeyValues getLowCardinalityKeyValues(final ServerRequestObservationContext context) {\r\n        return super.getLowCardinalityKeyValues(context).and(KeyValue.of(SupplyHubMetricsAutoConfiguration.TRAFFIC_TYPE_TAG, getTrafficType(context.getCarrier())));\r\n    }\r\n\r\n    private String getTrafficType(final ServerHttpRequest request) {\r\n        return Optional.ofNullable(request.getHeaders().getFirst(&quot;X-Traffic-Type&quot;))\r\n                       .map(String::toLowerCase)\r\n                       .orElse(&quot;&quot;);\r\n    }\r\n}\r\n```\r\n\r\nFor the client side, I can simply get the traffic type from the parent observation on an extension of `DefaultClientRequestObservationConvention`:\r\n\r\n```java\r\npublic class MyCustomClientRequestObservationConvention extends DefaultClientRequestObservationConvention {\r\n\r\n    @Override\r\n    public KeyValues getLowCardinalityKeyValues(final ClientRequestObservationContext context) {\r\n        return KeyValues.of(method(context), status(context), exception(context), outcome(context), trafficType(context), qualifier(context));\r\n    }\r\n\r\n    protected KeyValue trafficType(ClientRequestObservationContext context) {\r\n        String trafficType = Optional.ofNullable(context.getParentObservation())\r\n                                     .map(ObservationView::getContextView)\r\n                                     .map(e -&gt; e.getLowCardinalityKeyValue(TRAFFIC_TYPE_TAG))\r\n                                     .map(KeyValue::getValue)\r\n                                     .orElse(DEFAULT_TRAFFIC_TYPE);\r\n        return KeyValue.of(TRAFFIC_TYPE_TAG, trafficType);\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow, when I do the same for the MVC applications, I can set the value on the server observation but when I implement the client part by extending `DefaultClientRequestObservationConvention` the observation doesn&#39;t have a parent observation (which I&#39;m expecting to be the server one):\r\n\r\n```java\r\npublic class MyCustomClientRequestObservationConvention extends DefaultClientRequestObservationConvention {\r\n\r\n    @Override\r\n    public KeyValues getLowCardinalityKeyValues(final ClientRequestObservationContext context) {\r\n        return KeyValues.of(method(context), status(context), exception(context), outcome(context), trafficType(context), qualifier());\r\n    }\r\n\r\n\r\n    protected KeyValue trafficType(ClientRequestObservationContext context) {\r\n        // context.getParentObservation() always returns null\r\n        String trafficType = Optional.ofNullable(context.getParentObservation())\r\n                                     .map(ObservationView::getContextView)\r\n                                     .map(e -&gt; e.getLowCardinalityKeyValue(TRAFFIC_TYPE_TAG))\r\n                                     .map(KeyValue::getValue)\r\n                                     .orElse(DEFAULT_TRAFFIC_TYPE);\r\n        return KeyValue.of(TRAFFIC_TYPE_TAG, trafficType);\r\n    }\r\n\r\n```\r\n\r\nAm I doing something wrong here? what&#39;s the reason why webflux observations keep the hierarchy but mvc ones seems not to?","title":"How to get parent observation on Spring Boot 3 using RestTemplate","body":"<p>I'm migrating some REST applications to Spring Boot 3 and I'm trying to set an extra low cardinality key/value, based on the value of an incoming request header (X-Traffic-Type).</p>\n<p>When doing it for webflux applications, everything works fine: I provide an extension of <code>DefaultServerRequestObservationConvention</code> and set the value based on the incoming header:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCustomServerRequestObservationConvention extends DefaultServerRequestObservationConvention {\n\n    @Override\n    public KeyValues getLowCardinalityKeyValues(final ServerRequestObservationContext context) {\n        return super.getLowCardinalityKeyValues(context).and(KeyValue.of(SupplyHubMetricsAutoConfiguration.TRAFFIC_TYPE_TAG, getTrafficType(context.getCarrier())));\n    }\n\n    private String getTrafficType(final ServerHttpRequest request) {\n        return Optional.ofNullable(request.getHeaders().getFirst(&quot;X-Traffic-Type&quot;))\n                       .map(String::toLowerCase)\n                       .orElse(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>For the client side, I can simply get the traffic type from the parent observation on an extension of <code>DefaultClientRequestObservationConvention</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCustomClientRequestObservationConvention extends DefaultClientRequestObservationConvention {\n\n    @Override\n    public KeyValues getLowCardinalityKeyValues(final ClientRequestObservationContext context) {\n        return KeyValues.of(method(context), status(context), exception(context), outcome(context), trafficType(context), qualifier(context));\n    }\n\n    protected KeyValue trafficType(ClientRequestObservationContext context) {\n        String trafficType = Optional.ofNullable(context.getParentObservation())\n                                     .map(ObservationView::getContextView)\n                                     .map(e -&gt; e.getLowCardinalityKeyValue(TRAFFIC_TYPE_TAG))\n                                     .map(KeyValue::getValue)\n                                     .orElse(DEFAULT_TRAFFIC_TYPE);\n        return KeyValue.of(TRAFFIC_TYPE_TAG, trafficType);\n    }\n\n}\n</code></pre>\n<p>Now, when I do the same for the MVC applications, I can set the value on the server observation but when I implement the client part by extending <code>DefaultClientRequestObservationConvention</code> the observation doesn't have a parent observation (which I'm expecting to be the server one):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCustomClientRequestObservationConvention extends DefaultClientRequestObservationConvention {\n\n    @Override\n    public KeyValues getLowCardinalityKeyValues(final ClientRequestObservationContext context) {\n        return KeyValues.of(method(context), status(context), exception(context), outcome(context), trafficType(context), qualifier());\n    }\n\n\n    protected KeyValue trafficType(ClientRequestObservationContext context) {\n        // context.getParentObservation() always returns null\n        String trafficType = Optional.ofNullable(context.getParentObservation())\n                                     .map(ObservationView::getContextView)\n                                     .map(e -&gt; e.getLowCardinalityKeyValue(TRAFFIC_TYPE_TAG))\n                                     .map(KeyValue::getValue)\n                                     .orElse(DEFAULT_TRAFFIC_TYPE);\n        return KeyValue.of(TRAFFIC_TYPE_TAG, trafficType);\n    }\n\n</code></pre>\n<p>Am I doing something wrong here? what's the reason why webflux observations keep the hierarchy but mvc ones seems not to?</p>\n"},{"tags":["java","google-maps"],"answers":[{"tags":[],"owner":{"account_id":7150545,"reputation":18,"user_id":5464772,"display_name":"Tal Malka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675786867,"creation_date":1675786839,"answer_id":75376193,"question_id":75375818,"body_markdown":"You can integrate Google Maps into your Android Studio project and display the route between two locations using the Google Maps Directions API. You&#39;ll need to obtain an API key from the Google Cloud Console and include it in your project. \r\n\r\nYou can then make HTTP requests to the API to retrieve the route information and display it on the map. \r\n\r\nTo find the API documentation and tutorials on how to integrate Google Maps into Android Studio at \r\n\r\nhttps://developers.google.com/maps/documentation/directions/start.","title":"How to display routes to and from a location using Google Maps in Android Studio","body":"<p>You can integrate Google Maps into your Android Studio project and display the route between two locations using the Google Maps Directions API. You'll need to obtain an API key from the Google Cloud Console and include it in your project.</p>\n<p>You can then make HTTP requests to the API to retrieve the route information and display it on the map.</p>\n<p>To find the API documentation and tutorials on how to integrate Google Maps into Android Studio at</p>\n<p><a href=\"https://developers.google.com/maps/documentation/directions/start\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/directions/start</a>.</p>\n"}],"owner":{"account_id":27521334,"reputation":15,"user_id":21001453,"display_name":"Donny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75376193,"answer_count":1,"score":0,"last_activity_date":1675786867,"creation_date":1675784955,"question_id":75375818,"body_markdown":"So I am trying to create a route planner that has google maps but I want to have google maps working in android studio and allow the user to input their source location and their destination location and click display track and it will show the user the routes to them any idea how I can do this?","title":"How to display routes to and from a location using Google Maps in Android Studio","body":"<p>So I am trying to create a route planner that has google maps but I want to have google maps working in android studio and allow the user to input their source location and their destination location and click display track and it will show the user the routes to them any idea how I can do this?</p>\n"},{"tags":["java","java.util.logging"],"answers":[{"tags":[],"owner":{"account_id":14889478,"reputation":124,"user_id":10751633,"display_name":"bosowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675783402,"creation_date":1675780701,"answer_id":75374859,"question_id":75374637,"body_markdown":"`SocketHandler` does not open up a port to connect to, if that&#39;s what you&#39;re assuming. It tries to connect to the specified host and port, so you need to have a port that is listening on the host that you are trying to connect to.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/logging/SocketHandler.html#SocketHandler-java.lang.String-int-\r\n\r\n&gt; \\&lt;handler-name&gt;.host specifies the target host name to connect to (no default).\r\n\r\n&gt; \\&lt;handler-name&gt;.port specifies the target TCP port to use (no default).\r\n\r\nIf you do indeed have a listening TCP port on the hostname that you&#39;re trying to connect to, you can try running `sudo nmap -F hostname` to check if the port is indeed accessible from your machine.","title":"Simple SocketHandler for java8 logging(java.util.logging) throws ConnectionException","body":"<p><code>SocketHandler</code> does not open up a port to connect to, if that's what you're assuming. It tries to connect to the specified host and port, so you need to have a port that is listening on the host that you are trying to connect to.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/logging/SocketHandler.html#SocketHandler-java.lang.String-int-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/logging/SocketHandler.html#SocketHandler-java.lang.String-int-</a></p>\n<blockquote>\n<p>&lt;handler-name&gt;.host specifies the target host name to connect to (no default).</p>\n</blockquote>\n<blockquote>\n<p>&lt;handler-name&gt;.port specifies the target TCP port to use (no default).</p>\n</blockquote>\n<p>If you do indeed have a listening TCP port on the hostname that you're trying to connect to, you can try running <code>sudo nmap -F hostname</code> to check if the port is indeed accessible from your machine.</p>\n"}],"owner":{"account_id":2232229,"reputation":1515,"user_id":2468375,"display_name":"forkdbloke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75374859,"answer_count":1,"score":0,"last_activity_date":1675786838,"creation_date":1675779606,"question_id":75374637,"body_markdown":"The intention is to stream the log during runtime on a specific host:port, so that the logs are accessible to users outside the running system, from browser.\r\n\r\nAs you can see, i have created a simple SocketHandler for java8 logging(java.util.logging), is there something that i have missed?\r\n\r\n```\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\nimport java.io.IOException;\r\nimport java.util.logging.Handler;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.LogRecord;\r\nimport java.util.logging.Logger;\r\nimport java.util.logging.SocketHandler;\r\nimport java.util.logging.XMLFormatter;\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        Logger logger = Logger.getLogger(&quot;concrete.log&quot;);\r\n\r\n        SocketHandler handler = new SocketHandler(&quot;HOSTNAME&quot;, 19004);\r\n\r\n        LogRecord logRec = new LogRecord(Level.INFO, &quot;Log recorded&quot;);\r\n\r\n        handler.publish(logRec);\r\n\r\n        handler.setFormatter(new XMLFormatter());\r\n\r\n        logger.addHandler(handler);\r\n\r\n        logger.info(&quot;socket handler info message&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWhen i run the code, i see the following exception, i have tried checking the system firewall settings on both local(mac/windows) and remote(Linux) and seen that the settings do not block 19004 port \r\n```\r\nException in thread &quot;main&quot; java.net.ConnectException: Connection refused (Connection refused)\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)\r\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)\r\n        at java.net.Socket.connect(Socket.java:606)\r\n        at java.net.Socket.connect(Socket.java:555)\r\n        at java.net.Socket.&lt;init&gt;(Socket.java:451)\r\n        at java.net.Socket.&lt;init&gt;(Socket.java:228)\r\n        at java.util.logging.SocketHandler.connect(SocketHandler.java:167)\r\n        at java.util.logging.SocketHandler.&lt;init&gt;(SocketHandler.java:154)\r\n        at Main.main(Main.java:16)\r\n```\r\n\r\n\r\nUPDATE\r\n\r\nAs suggested by bosowski\r\n \r\nWhen i create Socket to listen to a specific port, the log messages are getting printed on the console of the host. However, am unable to access hostname:port for the log to be streamed from the browser. Is there anything specific that needs to be performed after this step?\r\nPlease let me know\r\n\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class MyServer {\r\n\r\n    public static void main(String[] args)\r\n    {\r\n\r\n        try {\r\n\r\n            ServerSocket ss = new ServerSocket(19004);\r\n            Socket soc = ss.accept();\r\n            DataInputStream dis\r\n                    = new DataInputStream(soc.getInputStream());\r\n\r\n            String str = (String)dis.readUTF();\r\n\r\n            System.out.println(&quot;message= &quot; + str);\r\n\r\n            ss.close();\r\n        }\r\n        catch (Exception e) {\r\n\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```","title":"Simple SocketHandler for java8 logging(java.util.logging) throws ConnectionException","body":"<p>The intention is to stream the log during runtime on a specific host:port, so that the logs are accessible to users outside the running system, from browser.</p>\n<p>As you can see, i have created a simple SocketHandler for java8 logging(java.util.logging), is there something that i have missed?</p>\n<pre><code>import java.net.MalformedURLException;\nimport java.net.URL;\n\nimport java.io.IOException;\nimport java.util.logging.Handler;\nimport java.util.logging.Level;\nimport java.util.logging.LogRecord;\nimport java.util.logging.Logger;\nimport java.util.logging.SocketHandler;\nimport java.util.logging.XMLFormatter;\npublic class Main {\n    public static void main(String[] args) throws Exception {\n\n        Logger logger = Logger.getLogger(&quot;concrete.log&quot;);\n\n        SocketHandler handler = new SocketHandler(&quot;HOSTNAME&quot;, 19004);\n\n        LogRecord logRec = new LogRecord(Level.INFO, &quot;Log recorded&quot;);\n\n        handler.publish(logRec);\n\n        handler.setFormatter(new XMLFormatter());\n\n        logger.addHandler(handler);\n\n        logger.info(&quot;socket handler info message&quot;);\n    }\n}\n</code></pre>\n<p>When i run the code, i see the following exception, i have tried checking the system firewall settings on both local(mac/windows) and remote(Linux) and seen that the settings do not block 19004 port</p>\n<pre><code>Exception in thread &quot;main&quot; java.net.ConnectException: Connection refused (Connection refused)\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:476)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:218)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:200)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:394)\n        at java.net.Socket.connect(Socket.java:606)\n        at java.net.Socket.connect(Socket.java:555)\n        at java.net.Socket.&lt;init&gt;(Socket.java:451)\n        at java.net.Socket.&lt;init&gt;(Socket.java:228)\n        at java.util.logging.SocketHandler.connect(SocketHandler.java:167)\n        at java.util.logging.SocketHandler.&lt;init&gt;(SocketHandler.java:154)\n        at Main.main(Main.java:16)\n</code></pre>\n<p>UPDATE</p>\n<p>As suggested by bosowski</p>\n<p>When i create Socket to listen to a specific port, the log messages are getting printed on the console of the host. However, am unable to access hostname:port for the log to be streamed from the browser. Is there anything specific that needs to be performed after this step?\nPlease let me know</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class MyServer {\n\n    public static void main(String[] args)\n    {\n\n        try {\n\n            ServerSocket ss = new ServerSocket(19004);\n            Socket soc = ss.accept();\n            DataInputStream dis\n                    = new DataInputStream(soc.getInputStream());\n\n            String str = (String)dis.readUTF();\n\n            System.out.println(&quot;message= &quot; + str);\n\n            ss.close();\n        }\n        catch (Exception e) {\n\n            System.out.println(e);\n        }\n    }\n}\n\n\n</code></pre>\n"},{"tags":["java","class","error-handling","build.gradle"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675800706,"post_id":75376172,"comment_id":133005879,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27727041,"reputation":1,"user_id":21166364,"display_name":"techyi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675786698,"creation_date":1675786698,"question_id":75376172,"body_markdown":"[enter image description here](https://i.stack.imgur.com/Y0ViN.png)[enter image description here](https://i.stack.imgur.com/UjDqm.png)[enter image description here](https://i.stack.imgur.com/5XL2c.png)\r\n\r\nHi, I have added **implementation &#39;com.android.volley:volley:1.1.1&#39;** on build.gradle. I tried to access the RequestVolley Class but seem to have an error saying &#39;not found in documentation. I have tried to add the import file but thats even showing an error. I also tried to &#39;clean project&#39; and &#39;rebuild it &#39; but still the same. All my other code files are perfectly working except this class error when I try to use it. Anyone please help. I have attached the build.gradle, MainActivity.java imports and the error problem as a screenshort. Please help thanks\r\n\r\nI tried using the Volley Class / RequestVolley but its showing an error","title":"I can&#39;t access the RequestVolley class or Volley Class in AndroidStudio java weather app project","body":"<p><a href=\"https://i.stack.imgur.com/Y0ViN.png\" rel=\"nofollow noreferrer\">enter image description here</a><a href=\"https://i.stack.imgur.com/UjDqm.png\" rel=\"nofollow noreferrer\">enter image description here</a><a href=\"https://i.stack.imgur.com/5XL2c.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Hi, I have added <strong>implementation 'com.android.volley:volley:1.1.1'</strong> on build.gradle. I tried to access the RequestVolley Class but seem to have an error saying 'not found in documentation. I have tried to add the import file but thats even showing an error. I also tried to 'clean project' and 'rebuild it ' but still the same. All my other code files are perfectly working except this class error when I try to use it. Anyone please help. I have attached the build.gradle, MainActivity.java imports and the error problem as a screenshort. Please help thanks</p>\n<p>I tried using the Volley Class / RequestVolley but its showing an error</p>\n"},{"tags":["java","android","sdk","java-11"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1543044451,"post_id":53456107,"comment_id":93784285,"body_markdown":"Possible duplicate of [Which Java SE versions work with android studio 3.1?](https://stackoverflow.com/questions/49788102/which-java-se-versions-work-with-android-studio-3-1)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/49788102/which-java-se-versions-work-with-android-studio-3-1\">Which Java SE versions work with android studio 3.1?</a>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":4,"creation_date":1543044575,"post_id":53456107,"comment_id":93784308,"body_markdown":"*Do java 11 support android?* Haha. **No**. Oracle is not Google.","body":"<i>Do java 11 support android?</i> Haha. <b>No</b>. Oracle is not Google."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1543045686,"post_id":53456107,"comment_id":93784491,"body_markdown":"*&quot; ... it says that to upgrade tools. &quot;* - What *exactly* did it say.   What was the exact message?   &#39;Cos I suspect that it might have been telling you to update the **build tools** not the Java JDK; see https://developer.android.com/studio/releases/build-tools","body":"<i>&quot; ... it says that to upgrade tools. &quot;</i> - What <i>exactly</i> did it say.   What was the exact message?   &#39;Cos I suspect that it might have been telling you to update the <b>build tools</b> not the Java JDK; see <a href=\"https://developer.android.com/studio/releases/build-tools\" rel=\"nofollow noreferrer\">developer.android.com/studio/releases/build-tools</a>"},{"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"score":0,"creation_date":1543046619,"post_id":53456107,"comment_id":93784679,"body_markdown":"Any screenshot or hint for the **detailed message** of &quot;upgrade tools&quot;? Since you are using Eclipse, I wonder if you are using an out-dated ADT.","body":"Any screenshot or hint for the <b>detailed message</b> of &quot;upgrade tools&quot;? Since you are using Eclipse, I wonder if you are using an out-dated ADT."},{"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"score":5,"creation_date":1543046779,"post_id":53456107,"comment_id":93784693,"body_markdown":"Also, the original title &quot;Do Java 11 support Android?&quot;, it is not necessary for Java 11 to _support_ Android, but _possible_ if Android to _support_ Java 11. So I wonder if it is another X - Y problem.","body":"Also, the original title &quot;Do Java 11 support Android?&quot;, it is not necessary for Java 11 to <i>support</i> Android, but <i>possible</i> if Android to <i>support</i> Java 11. So I wonder if it is another X - Y problem."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1543053043,"post_id":53456107,"comment_id":93785942,"body_markdown":"Oracle Java and Openjdk has never supported Android. Android has supported older versions of Java","body":"Oracle Java and Openjdk has never supported Android. Android has supported older versions of Java"},{"owner":{"account_id":6710263,"reputation":10909,"user_id":5173926,"accept_rate":82,"display_name":"Vahid Amiri"},"score":0,"creation_date":1547014668,"post_id":53456107,"comment_id":95040761,"body_markdown":"You will be able to use it approximately +10 years from now.","body":"You will be able to use it approximately +10 years from now."},{"owner":{"account_id":6599951,"reputation":596,"user_id":5098570,"display_name":"Md. Nowshad Hasan"},"score":0,"creation_date":1632493939,"post_id":53456107,"comment_id":122515505,"body_markdown":"Yes, it&#39;s supported now. I&#39;ve found it from @mycky&#39;s answer here. Here is the link - \nhttps://developer.android.com/studio/releases/gradle-plugin?utm_source=android-studio-2020-3-1&amp;utm_medium=studio-assistant-stable#java-11","body":"Yes, it&#39;s supported now. I&#39;ve found it from @mycky&#39;s answer here. Here is the link -  <a href=\"https://developer.android.com/studio/releases/gradle-plugin?utm_source=android-studio-2020-3-1&amp;utm_medium=studio-assistant-stable#java-11\" rel=\"nofollow noreferrer\">developer.android.com/studio/releases/&hellip;</a>"},{"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"score":0,"creation_date":1632759600,"post_id":53456107,"comment_id":122574369,"body_markdown":"Quick note: I know that this is a somewhat old post, but while the most recent edit was technically &quot;correct&quot; , it also partially invalidates an existing answer (so I rolled back).","body":"Quick note: I know that this is a somewhat old post, but while the most recent edit was technically &quot;correct&quot; , it also partially invalidates an existing answer (so I rolled back)."}],"answers":[{"tags":[],"owner":{"account_id":1948424,"reputation":12649,"user_id":1753073,"display_name":"navylover"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1607559294,"creation_date":1543045503,"answer_id":53456208,"question_id":53456107,"body_markdown":"As official doc says:\r\n\r\n&gt; Android Studio 3.0 and later supports all Java 7 language features and\r\n&gt; a subset of Java 8 language features that vary by platform version\r\n\r\nso **JDK 7** is fully supported, and if you want to use some JDK 8 features, you should Make the appropriate settings.\r\n\r\nHere is [the ref link for using Java 8][1]\r\n\r\nand android studio doesn&#39;t support the java version higher than 8.\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support","title":"Does java 11 support android?","body":"<p>As official doc says:</p>\n<blockquote>\n<p>Android Studio 3.0 and later supports all Java 7 language features and\na subset of Java 8 language features that vary by platform version</p>\n</blockquote>\n<p>so <strong>JDK 7</strong> is fully supported, and if you want to use some JDK 8 features, you should Make the appropriate settings.</p>\n<p>Here is <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">the ref link for using Java 8</a></p>\n<p>and android studio doesn't support the java version higher than 8.</p>\n"},{"tags":[],"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1543048630,"creation_date":1543048630,"answer_id":53456534,"question_id":53456107,"body_markdown":"You have the direction of fit backwards. Android supports certain versions of Java, not the other way around.\r\n\r\nThat being said, Oracle Java and Android Java aren&#39;t really the same thing - they don&#39;t even use the same virtual machine, as a matter of fact. They&#39;re being developed completely separately.\r\n\r\nAs others have indicated, recent versions of Android supports up to Java 7 and a subset of Java 8 features. Older versions of Android may support less than that.","title":"Does java 11 support android?","body":"<p>You have the direction of fit backwards. Android supports certain versions of Java, not the other way around.</p>\n\n<p>That being said, Oracle Java and Android Java aren't really the same thing - they don't even use the same virtual machine, as a matter of fact. They're being developed completely separately.</p>\n\n<p>As others have indicated, recent versions of Android supports up to Java 7 and a subset of Java 8 features. Older versions of Android may support less than that.</p>\n"},{"tags":[],"owner":{"account_id":5403872,"reputation":489,"user_id":4573469,"display_name":"Mike"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1608733356,"creation_date":1572177916,"answer_id":58579268,"question_id":53456107,"body_markdown":"May be this 2 articles give more understanding on the situation:\r\n\r\n[Jake Wharton - Android&#39;s Java 9, 10, 11, and 12 Support][1]\r\n\r\n\r\n  [1]: https://jakewharton.com/androids-java-9-10-11-and-12-support/\r\n\r\n[Jake Wharton - Android&#39;s Java 8 Support][2]\r\n\r\n  [2]: https://jakewharton.com/androids-java-8-support/\r\n\r\nSome features of java 9-12 also supported in Android\r\nif you set appropriate compileOptions, for example\r\n\r\n    compileOptions {\r\n        targetCompatibility JavaVersion.VERSION_12\r\n        sourceCompatibility JavaVersion.VERSION_12\r\n    }\r\n\r\nP.S. for java 12 you need to set &quot;likely latest&quot; version of Gradle plugin.","title":"Does java 11 support android?","body":"<p>May be this 2 articles give more understanding on the situation:</p>\n<p><a href=\"https://jakewharton.com/androids-java-9-10-11-and-12-support/\" rel=\"noreferrer\">Jake Wharton - Android's Java 9, 10, 11, and 12 Support</a></p>\n<p><a href=\"https://jakewharton.com/androids-java-8-support/\" rel=\"noreferrer\">Jake Wharton - Android's Java 8 Support</a></p>\n<p>Some features of java 9-12 also supported in Android\nif you set appropriate compileOptions, for example</p>\n<pre><code>compileOptions {\n    targetCompatibility JavaVersion.VERSION_12\n    sourceCompatibility JavaVersion.VERSION_12\n}\n</code></pre>\n<p>P.S. for java 12 you need to set &quot;likely latest&quot; version of Gradle plugin.</p>\n"},{"tags":[],"owner":{"account_id":2351584,"reputation":2077,"user_id":2060245,"display_name":"ddsultan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1602848859,"creation_date":1602848859,"answer_id":64388584,"question_id":53456107,"body_markdown":"As of 2020 October, A lot of the missing APIs and newer versions of Java are now supported through Open JDK. Some helpful links I find: [Support for newer Java language APIs][1] (Official Youtube Video) and [Java 8+ APIs available through desugaring][2]. I hope this can help someone struggling with Java versions compatibility  \r\n\r\n\r\n  [1]: https://youtu.be/heCvGfOGH0s\r\n  [2]: https://developer.android.com/studio/write/java8-support-table","title":"Does java 11 support android?","body":"<p>As of 2020 October, A lot of the missing APIs and newer versions of Java are now supported through Open JDK. Some helpful links I find: <a href=\"https://youtu.be/heCvGfOGH0s\" rel=\"noreferrer\">Support for newer Java language APIs</a> (Official Youtube Video) and <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">Java 8+ APIs available through desugaring</a>. I hope this can help someone struggling with Java versions compatibility</p>\n"},{"tags":[],"owner":{"account_id":15514525,"reputation":658,"user_id":11192454,"display_name":"mycky"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1675786507,"creation_date":1627661919,"answer_id":68594140,"question_id":53456107,"body_markdown":"With Android Studio Arctic Fox | 2020.3.1 finally you can use Java 11 in your project, here more info:\r\nhttps://developer.android.com/studio/past-releases/past-agp-releases/agp-7-0-0-release-notes#java-11\r\n\r\n&gt; You can now compile up to Java 11 source code in your app’s project,\r\n&gt; enabling you to use newer language features like private interface\r\n&gt; methods, the diamond operator for anonymous classes, and local\r\n&gt; variable syntax for lambda parameters.\r\n&gt; \r\n&gt; To enable this feature, set compileOptions to the desired Java version\r\n&gt; and set `compileSdkVersion` to 30 or above\r\n\r\n    // build.gradle\r\n    \r\n    android {\r\n        compileSdkVersion 30\r\n    \r\n        compileOptions {\r\n          sourceCompatibility JavaVersion.VERSION_11\r\n          targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n    \r\n        // For Kotlin projects\r\n        kotlinOptions {\r\n          jvmTarget = &quot;11&quot;\r\n        }\r\n    }","title":"Does java 11 support android?","body":"<p>With Android Studio Arctic Fox | 2020.3.1 finally you can use Java 11 in your project, here more info:\n<a href=\"https://developer.android.com/studio/past-releases/past-agp-releases/agp-7-0-0-release-notes#java-11\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/past-releases/past-agp-releases/agp-7-0-0-release-notes#java-11</a></p>\n<blockquote>\n<p>You can now compile up to Java 11 source code in your app’s project,\nenabling you to use newer language features like private interface\nmethods, the diamond operator for anonymous classes, and local\nvariable syntax for lambda parameters.</p>\n<p>To enable this feature, set compileOptions to the desired Java version\nand set <code>compileSdkVersion</code> to 30 or above</p>\n</blockquote>\n<pre><code>// build.gradle\n\nandroid {\n    compileSdkVersion 30\n\n    compileOptions {\n      sourceCompatibility JavaVersion.VERSION_11\n      targetCompatibility JavaVersion.VERSION_11\n    }\n\n    // For Kotlin projects\n    kotlinOptions {\n      jvmTarget = &quot;11&quot;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13236467,"reputation":773,"user_id":9558467,"display_name":"Seniru Pasan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62613,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"answer_count":5,"score":52,"last_activity_date":1675786507,"creation_date":1543044332,"question_id":53456107,"body_markdown":"I am new to android development. And I have installed eclipse, java 11 and android sdk tools in my computer. But when I try to build a project it says that to **upgrade tools**. But I have installed the latest sdk.\r\n\r\nWhen I&#39;m reading in internet I found that android doesn&#39;t fully support java SE and it mostly support for java SE 6 and 7. - *but this was an old post* .\r\n\r\nI found that android do not support java 11 completely.\r\n\r\nMy question is, what is the JDK version that fully support android and do I have to install 2 versions of JDK s in my computer?","title":"Does java 11 support android?","body":"<p>I am new to android development. And I have installed eclipse, java 11 and android sdk tools in my computer. But when I try to build a project it says that to <strong>upgrade tools</strong>. But I have installed the latest sdk.</p>\n\n<p>When I'm reading in internet I found that android doesn't fully support java SE and it mostly support for java SE 6 and 7. - <em>but this was an old post</em> .</p>\n\n<p>I found that android do not support java 11 completely.</p>\n\n<p>My question is, what is the JDK version that fully support android and do I have to install 2 versions of JDK s in my computer?</p>\n"},{"tags":["java"],"owner":{"account_id":27727249,"reputation":11,"user_id":21166520,"display_name":"Tofifk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675786499,"creation_date":1675786499,"question_id":75376132,"body_markdown":"The supplied phased action failed with an exception.\r\nA problem occurred configuring root project &#39;mcp-reborn&#39;.\r\nCould not resolve all dependencies for configuration &#39;:classpath&#39;.\r\nUsing insecure protocols with repositories, without explicit opt-in, is unsupported. Switch Maven repository &#39;maven(http://files.minecraftforge.net/maven)&#39; to redirect to a secure protocol (like HTTPS) or allow insecure protocols. See https://docs.gradle.org/7.4/dsl/org.gradle.api.artifacts.repositories.UrlArtifactRepository.html#org.gradle.api.artifacts.repositories.UrlArtifactRepository:allowInsecureProtocol for more details. \tMCP-Reborn-1.16\t\tline 0\tGradle Error Marker\r\n\r\ncan someone help with this error?\r\n","title":"Eclipse - The supplied phased action failed with an exception","body":"<p>The supplied phased action failed with an exception.\nA problem occurred configuring root project 'mcp-reborn'.\nCould not resolve all dependencies for configuration ':classpath'.\nUsing insecure protocols with repositories, without explicit opt-in, is unsupported. Switch Maven repository 'maven(<a href=\"http://files.minecraftforge.net/maven\" rel=\"nofollow noreferrer\">http://files.minecraftforge.net/maven</a>)' to redirect to a secure protocol (like HTTPS) or allow insecure protocols. See <a href=\"https://docs.gradle.org/7.4/dsl/org.gradle.api.artifacts.repositories.UrlArtifactRepository.html#org.gradle.api.artifacts.repositories.UrlArtifactRepository:allowInsecureProtocol\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.4/dsl/org.gradle.api.artifacts.repositories.UrlArtifactRepository.html#org.gradle.api.artifacts.repositories.UrlArtifactRepository:allowInsecureProtocol</a> for more details.     MCP-Reborn-1.16     line 0  Gradle Error Marker</p>\n<p>can someone help with this error?</p>\n"},{"tags":["java","jdbc","hive","jdbctemplate"],"owner":{"account_id":8602812,"reputation":769,"user_id":7390103,"display_name":"Spaceship222"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675786336,"creation_date":1675781689,"question_id":75375094,"body_markdown":"Following this [guide](https://github.com/mouryar/spring_hive_jdbc_template), I connect to hive using jdbctemplate autheticated by kerberos. I am new to hive. \r\n \r\nAfter getting connection, I try to execute some sql, but it is very slow to get all results. \r\n\r\n```java\r\nwhile (resultSet.next()) {\r\n   // process each row\r\n}\r\n```\r\n\r\nAnd I can see a lot of logs like below for each row got from resultSet:\r\n```sh\r\norg.apache.hive.jdbc.HiveQueryResultSet - Fetched row string:\r\norg.apache.thrift.transport.TSaslTransport - writing data length: 100\r\norg.apache.thrift.transport.TSaslTransport - CLIENT reading data length: 256\r\n```\r\n\r\nIt seems that slowness is due to limit of transport size(256 bytes I guess in this case). If so, how can I increase the size?\r\n\r\n","title":"Hive Jdbc is very slow","body":"<p>Following this <a href=\"https://github.com/mouryar/spring_hive_jdbc_template\" rel=\"nofollow noreferrer\">guide</a>, I connect to hive using jdbctemplate autheticated by kerberos. I am new to hive.</p>\n<p>After getting connection, I try to execute some sql, but it is very slow to get all results.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (resultSet.next()) {\n   // process each row\n}\n</code></pre>\n<p>And I can see a lot of logs like below for each row got from resultSet:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>org.apache.hive.jdbc.HiveQueryResultSet - Fetched row string:\norg.apache.thrift.transport.TSaslTransport - writing data length: 100\norg.apache.thrift.transport.TSaslTransport - CLIENT reading data length: 256\n</code></pre>\n<p>It seems that slowness is due to limit of transport size(256 bytes I guess in this case). If so, how can I increase the size?</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1675785019,"post_id":75375660,"comment_id":133001228,"body_markdown":"not sure what the initial value of unlock here `if(unlocked)` and \n```if(time&gt;School.MAX_studentEntered){\n                          System.out.println(&quot;You have reached the max capacity!&quot;);\n                          break;\n                      }\n                      else {\n                            break;\n                      }```\nwill make the loop break despite if you reach the limit or not","body":"not sure what the initial value of unlock here <code>if(unlocked)</code> and  <code>if(time&gt;School.MAX_studentEntered){                           System.out.println(&quot;You have reached the max capacity!&quot;);                           break;                       }                       else {                             break;                       }</code> will make the loop break despite if you reach the limit or not"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1675785125,"post_id":75375660,"comment_id":133001290,"body_markdown":"break here mean break from the inner most loop which is your while loop in case if you missed this","body":"break here mean break from the inner most loop which is your while loop in case if you missed this"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1675786536,"post_id":75375660,"comment_id":133001852,"body_markdown":"the issue with @AltinMag. \n```  if (time &gt; School.MAX_studentEntered) {\n                            System.out.println(&quot;You have reached the max capacity!&quot;);\n                            break;\n                        } else {\n                            break;\n                        }```\nas mentioned earlier this part will make the loop end so either remove the else part or replace the break in that else with continue\nbut the best thing that you learn how to debug based on your IDE you use look for how to add break point","body":"the issue with @AltinMag.  ```  if (time &gt; School.MAX_studentEntered) {                             System.out.println(&quot;You have reached the max capacity!&quot;);                             break;                         } else {                             break;                         }``` as mentioned earlier this part will make the loop end so either remove the else part or replace the break in that else with continue but the best thing that you learn how to debug based on your IDE you use look for how to add break point"},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1675786592,"post_id":75375660,"comment_id":133001864,"body_markdown":"then from your IDE choose debug it will run the program till you reach the breakpoint then use step over which make you run the program line by line so you know how it work","body":"then from your IDE choose debug it will run the program till you reach the breakpoint then use step over which make you run the program line by line so you know how it work"}],"owner":{"account_id":27524374,"reputation":15,"user_id":21003946,"display_name":"Altin Mag."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675785721,"creation_date":1675784214,"question_id":75375660,"body_markdown":"I am creating in the console a program that adds new students but i wish to check if the max capacity of students is reached or not.\r\n\r\nI am learning Java on my own so sorry if my code is not as it should be.\r\nI would appreciate your feedback if you have suggestions. \r\n\r\nMain\r\n\r\n       boolean abort = false;\r\n        boolean unlocked = false;\r\n        //Student[] students = new Student[School.MAX_studentEntered];\r\n        ArrayList&lt;Student&gt; students= new ArrayList&lt;&gt;();\r\n        Scanner option = new Scanner(System.in);\r\n\r\n        while (!abort){ //for as long as the value is not abort the loop will run\r\n            System.out.println(&quot;Unlock Admin(1) New Student(2) Show Students(3) Statistics (4) &quot;);\r\n            System.out.print(&quot;Input: &quot;);\r\n            int input = option.nextInt();\r\n            \r\n           switch (input){\r\n\r\n                case 0:{\r\n                    abort = true;\r\n                    break;\r\n                }\r\n                case 1:{\r\n                    System.out.println(&quot;Admin&quot;);\r\n                    unlocked = true;\r\n                    break;\r\n                }\r\n\r\n\r\n\r\n\r\n//problem is case 2\r\n\r\n     case 2: {\r\n                    System.out.println(&quot;Create a student&quot;);\r\n\r\n                      int time = 0;\r\n\r\n                      while (time&lt;=School.MAX_studentEntered) {\r\n\r\n                        Scanner st = new Scanner(System.in);\r\n                        System.out.print(&quot;Name: &quot;);\r\n                        String name = st.nextLine();\r\n                        System.out.print(&quot;Age: &quot;);\r\n                        int age = st.nextInt();\r\n                        Student student = new Student();\r\n                        student.setName(name);\r\n                        student.setAge(age);\r\n                        students.add(student);\r\n                        time++;\r\n\r\n                          if(unlocked){\r\n                                System.out.print(&quot;Create another student? (yes/no): &quot;);\r\n                                Scanner ans= new Scanner(System.in);\r\n                                String answer = ans.nextLine();\r\n                                if (!answer.equals(&quot;yes&quot;)) {\r\n                                    break;\r\n                                    }\r\n                                else {\r\n                                    if(time&gt;School.MAX_studentEntered){\r\n                                        System.out.println(&quot;You have reached the max capacity!&quot;);\r\n                                        break;\r\n                                    }\r\n                                    else {\r\n                                        continue;\r\n                                    }\r\n                                }\r\n                          }\r\n                          if(time&gt;School.MAX_studentEntered){\r\n                              System.out.println(&quot;You have reached the max capacity!&quot;);\r\n                              break;\r\n                          }\r\n                          else {\r\n                                break;\r\n                          }\r\n                    }\r\n                    break;\r\n\r\n                }\r\n\r\n\r\nClass Student\r\n\r\n    public class Student {\r\n\r\n    String name;\r\n    int age;\r\n\r\n\r\n    public Student(){\r\n        School.studentEntered++;\r\n    }\r\n\r\n    public void setName(String name){\r\n        this.name = name;\r\n\r\n    }\r\n    public void setAge(int age){ //void - save the value\r\n        this.age = age;\r\n    }\r\n\r\n    public String getName(){ //return - show the value\r\n        return name;\r\n    }\r\n    public int getAge(){\r\n        return age;\r\n    }\r\n\r\n}\r\n\r\n\r\nSchool Class\r\n\r\n     public class School {\r\n\r\n      static int studentEntered = 0;\r\n      static final int MAX_studentEntered=3;\r\n      public School(){\r\n    // it is automaticlly created when the class is created\r\n    // it does not need a void or return\r\n        studentEntered++;\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\nI expect the program to stop adding new students in the arrayList if the capacity (MAX_studentEntered) is reached and to print an error after the break","title":"Java check if static value true in while","body":"<p>I am creating in the console a program that adds new students but i wish to check if the max capacity of students is reached or not.</p>\n<p>I am learning Java on my own so sorry if my code is not as it should be.\nI would appreciate your feedback if you have suggestions.</p>\n<p>Main</p>\n<pre><code>   boolean abort = false;\n    boolean unlocked = false;\n    //Student[] students = new Student[School.MAX_studentEntered];\n    ArrayList&lt;Student&gt; students= new ArrayList&lt;&gt;();\n    Scanner option = new Scanner(System.in);\n\n    while (!abort){ //for as long as the value is not abort the loop will run\n        System.out.println(&quot;Unlock Admin(1) New Student(2) Show Students(3) Statistics (4) &quot;);\n        System.out.print(&quot;Input: &quot;);\n        int input = option.nextInt();\n        \n       switch (input){\n\n            case 0:{\n                abort = true;\n                break;\n            }\n            case 1:{\n                System.out.println(&quot;Admin&quot;);\n                unlocked = true;\n                break;\n            }\n</code></pre>\n<p>//problem is case 2</p>\n<pre><code> case 2: {\n                System.out.println(&quot;Create a student&quot;);\n\n                  int time = 0;\n\n                  while (time&lt;=School.MAX_studentEntered) {\n\n                    Scanner st = new Scanner(System.in);\n                    System.out.print(&quot;Name: &quot;);\n                    String name = st.nextLine();\n                    System.out.print(&quot;Age: &quot;);\n                    int age = st.nextInt();\n                    Student student = new Student();\n                    student.setName(name);\n                    student.setAge(age);\n                    students.add(student);\n                    time++;\n\n                      if(unlocked){\n                            System.out.print(&quot;Create another student? (yes/no): &quot;);\n                            Scanner ans= new Scanner(System.in);\n                            String answer = ans.nextLine();\n                            if (!answer.equals(&quot;yes&quot;)) {\n                                break;\n                                }\n                            else {\n                                if(time&gt;School.MAX_studentEntered){\n                                    System.out.println(&quot;You have reached the max capacity!&quot;);\n                                    break;\n                                }\n                                else {\n                                    continue;\n                                }\n                            }\n                      }\n                      if(time&gt;School.MAX_studentEntered){\n                          System.out.println(&quot;You have reached the max capacity!&quot;);\n                          break;\n                      }\n                      else {\n                            break;\n                      }\n                }\n                break;\n\n            }\n</code></pre>\n<p>Class Student</p>\n<pre><code>public class Student {\n\nString name;\nint age;\n\n\npublic Student(){\n    School.studentEntered++;\n}\n\npublic void setName(String name){\n    this.name = name;\n\n}\npublic void setAge(int age){ //void - save the value\n    this.age = age;\n}\n\npublic String getName(){ //return - show the value\n    return name;\n}\npublic int getAge(){\n    return age;\n}\n</code></pre>\n<p>}</p>\n<p>School Class</p>\n<pre><code> public class School {\n\n  static int studentEntered = 0;\n  static final int MAX_studentEntered=3;\n  public School(){\n// it is automaticlly created when the class is created\n// it does not need a void or return\n    studentEntered++;\n}\n</code></pre>\n<p>}</p>\n<p>I expect the program to stop adding new students in the arrayList if the capacity (MAX_studentEntered) is reached and to print an error after the break</p>\n"},{"tags":["java","android","android-studio","animation","crash"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675775999,"post_id":75373879,"comment_id":132997884,"body_markdown":"Where are you applying your animations? Are you applying _all of them_ them via code? Some animations have to be set in the nav_graph.xml. (Like the slide_out_right, if it&#39;s a transition between fragments).","body":"Where are you applying your animations? Are you applying <i>all of them</i> them via code? Some animations have to be set in the nav_graph.xml. (Like the slide_out_right, if it&#39;s a transition between fragments)."},{"owner":{"account_id":19402080,"reputation":39,"user_id":14188414,"display_name":"Deepak Bhatt"},"score":0,"creation_date":1675778850,"post_id":75373879,"comment_id":132998886,"body_markdown":"I am creating a splash activity, there i&#39;m using the animations. Kindly check my updated code. And could you please tell me about the nav_graph.xml in detail. Thank you.","body":"I am creating a splash activity, there i&#39;m using the animations. Kindly check my updated code. And could you please tell me about the nav_graph.xml in detail. Thank you."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675782803,"post_id":75373879,"comment_id":133000356,"body_markdown":"I can&#39;t really explain it that well in a comment, but technically, the `nav_graph.xml` is just a file, where one can declare fragments and `&lt;actions /&gt;` (paths to other fragments declared in that file). These paths can be used via their ID in the `findNavController().navigate(...)` to load other fragments into the current context: [More detailed documentation](https://developer.android.com/guide/navigation/navigation-getting-started)","body":"I can&#39;t really explain it that well in a comment, but technically, the <code>nav_graph.xml</code> is just a file, where one can declare fragments and <code>&lt;actions &#47;&gt;</code> (paths to other fragments declared in that file). These paths can be used via their ID in the <code>findNavController().navigate(...)</code> to load other fragments into the current context: <a href=\"https://developer.android.com/guide/navigation/navigation-getting-started\" rel=\"nofollow noreferrer\">More detailed documentation</a>"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675783066,"post_id":75373879,"comment_id":133000450,"body_markdown":"Something just got into my mind, so I can improve my answer: Can you provide your Manifest?","body":"Something just got into my mind, so I can improve my answer: Can you provide your Manifest?"},{"owner":{"account_id":19402080,"reputation":39,"user_id":14188414,"display_name":"Deepak Bhatt"},"score":0,"creation_date":1675786007,"post_id":75373879,"comment_id":133001635,"body_markdown":"I don&#39;t really get what I have to do, and here I have updated the Manifest file.","body":"I don&#39;t really get what I have to do, and here I have updated the Manifest file."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675844679,"post_id":75373879,"comment_id":133013183,"body_markdown":"Sorry for the late answer and thx for the manifest file, but it looks fine. Could you maybe specify on the error you&#39;re getting? (If you&#39;re not seeing anything in the &quot;run&quot; window, just restart the app till you see something).","body":"Sorry for the late answer and thx for the manifest file, but it looks fine. Could you maybe specify on the error you&#39;re getting? (If you&#39;re not seeing anything in the &quot;run&quot; window, just restart the app till you see something)."},{"owner":{"account_id":19402080,"reputation":39,"user_id":14188414,"display_name":"Deepak Bhatt"},"score":0,"creation_date":1675846375,"post_id":75373879,"comment_id":133013740,"body_markdown":"My app is crashing, that&#39;s it.","body":"My app is crashing, that&#39;s it."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675846557,"post_id":75373879,"comment_id":133013810,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251716/discussion-between-z-100-and-deepak-bhatt).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251716/discussion-between-z-100-and-deepak-bhatt\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675782651,"creation_date":1675782651,"answer_id":75375290,"question_id":75373879,"body_markdown":"First I thought your app crashed because you try to put the animation on two different xml-objects, but then I replicated the entire thing using [this guide](https://www.geeksforgeeks.org/how-to-create-an-animated-splash-screen-in-android/) and for me, everything is working. (Although I did it using Kotlin).\r\n\r\nI&#39;m sorry, the only solution I could provide was this URL to the guide, but if you have any more questions, feel free to ask!","title":"Android studio - some of the interpolator animations not working","body":"<p>First I thought your app crashed because you try to put the animation on two different xml-objects, but then I replicated the entire thing using <a href=\"https://www.geeksforgeeks.org/how-to-create-an-animated-splash-screen-in-android/\" rel=\"nofollow noreferrer\">this guide</a> and for me, everything is working. (Although I did it using Kotlin).</p>\n<p>I'm sorry, the only solution I could provide was this URL to the guide, but if you have any more questions, feel free to ask!</p>\n"}],"owner":{"account_id":19402080,"reputation":39,"user_id":14188414,"display_name":"Deepak Bhatt"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675785686,"creation_date":1675775586,"question_id":75373879,"body_markdown":"I am trying to apply animations to my project, when I set the interpolator to:\r\n\r\n\r\nalpha.xml:\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:interpolator=&quot;@android:anim/bounce_interpolator&quot;&gt;\r\n\r\n    &lt;alpha android:fromAlpha=&quot;0&quot;\r\n        android:toAlpha=&quot;1&quot;\r\n        android:duration=&quot;4000&quot;\r\n        /&gt;\r\n\r\n&lt;/set&gt;\r\n\r\n```\r\n\r\n\r\nSplashActivity.java:\r\n\r\n```\r\npackage com.example.animationtesting;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.view.animation.Animation;\r\nimport android.view.animation.AnimationUtils;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\npublic class SplashActivity extends AppCompatActivity {\r\n\r\n    ImageView imageView;\r\n    TextView textView;\r\n    Animation alpha;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_splash);\r\n\r\n\r\n        imageView = findViewById(R.id.imageView);\r\n        textView = findViewById(R.id.textView);\r\n\r\n        alpha = AnimationUtils.loadAnimation(this,R.anim.alpha);\r\n        imageView.setAnimation(alpha);\r\n        textView.setAnimation(alpha);\r\n\r\n        new Handler().postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Intent intent = new Intent(SplashActivity.this,MainActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        },4000);\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nAndroid Manifest file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.AnimationTesting&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.SplashActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\nThe code is working fine when I set the interpolator as bounce_interpolator, accelerate_interpolator, anticipate_overshoot_interpolator but when I set the interpolator to other options like fade_in, fade_out,slide_out_right my app crashes. I don&#39;t get why this is happening. ","title":"Android studio - some of the interpolator animations not working","body":"<p>I am trying to apply animations to my project, when I set the interpolator to:</p>\n<p>alpha.xml:</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:interpolator=&quot;@android:anim/bounce_interpolator&quot;&gt;\n\n    &lt;alpha android:fromAlpha=&quot;0&quot;\n        android:toAlpha=&quot;1&quot;\n        android:duration=&quot;4000&quot;\n        /&gt;\n\n&lt;/set&gt;\n\n</code></pre>\n<p>SplashActivity.java:</p>\n<pre><code>package com.example.animationtesting;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.view.animation.Animation;\nimport android.view.animation.AnimationUtils;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\npublic class SplashActivity extends AppCompatActivity {\n\n    ImageView imageView;\n    TextView textView;\n    Animation alpha;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_splash);\n\n\n        imageView = findViewById(R.id.imageView);\n        textView = findViewById(R.id.textView);\n\n        alpha = AnimationUtils.loadAnimation(this,R.anim.alpha);\n        imageView.setAnimation(alpha);\n        textView.setAnimation(alpha);\n\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                Intent intent = new Intent(SplashActivity.this,MainActivity.class);\n                startActivity(intent);\n                finish();\n            }\n        },4000);\n\n\n    }\n}\n</code></pre>\n<p>Android Manifest file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.AnimationTesting&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.SplashActivity&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>The code is working fine when I set the interpolator as bounce_interpolator, accelerate_interpolator, anticipate_overshoot_interpolator but when I set the interpolator to other options like fade_in, fade_out,slide_out_right my app crashes. I don't get why this is happening.</p>\n"},{"tags":["java","spring-boot","imap"],"owner":{"account_id":23340303,"reputation":1,"user_id":17415288,"display_name":"Naveen Chelluboina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675785625,"creation_date":1675782758,"question_id":75375316,"body_markdown":"Here i&#39;m trying to pass the retrieved folder to the session as string folderName and get the data of particular user. This all works for normal folder names which does not have any special characters. But if the folder name as any special characters like $,&amp;:) etc it gives response as folder not found.\r\n\r\n```java\r\nIMAPResponse[] response = session.execute(new SelectFolderCommand(folderName)).get().getResponseLines();\r\n```\r\n\r\nI need help to know are there any functions or any way we can process and select folder which as special characters ","title":"Folder names with special characters do not work session.execute IMAP","body":"<p>Here i'm trying to pass the retrieved folder to the session as string folderName and get the data of particular user. This all works for normal folder names which does not have any special characters. But if the folder name as any special characters like $,&amp;:) etc it gives response as folder not found.</p>\n<pre class=\"lang-java prettyprint-override\"><code>IMAPResponse[] response = session.execute(new SelectFolderCommand(folderName)).get().getResponseLines();\n</code></pre>\n<p>I need help to know are there any functions or any way we can process and select folder which as special characters</p>\n"},{"tags":["java","maven","dependency-management"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1555076463,"creation_date":1304614441,"answer_id":5901419,"question_id":5901378,"body_markdown":"A &quot;release&quot; is the final build for a version which does not change.\r\n\r\nA &quot;snapshot&quot; is a build which can be replaced by another build which has the same name.  It implies that the build could change at any time and is still under active development.\r\n\r\nYou have different artifacts for different builds based on the same code. E.g. you might have one with debugging and one without. One for Java 5.0 and one for Java 6.  Generally its simpler to have one build which does everything you need. ;)","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>A \"release\" is the final build for a version which does not change.</p>\n\n<p>A \"snapshot\" is a build which can be replaced by another build which has the same name.  It implies that the build could change at any time and is still under active development.</p>\n\n<p>You have different artifacts for different builds based on the same code. E.g. you might have one with debugging and one without. One for Java 5.0 and one for Java 6.  Generally its simpler to have one build which does everything you need. ;)</p>\n"},{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1541439318,"creation_date":1304614503,"answer_id":5901426,"question_id":5901378,"body_markdown":"The &quot;SNAPSHOT&quot; term means that the build is a snapshot of your code at a given time.\r\n\r\nIt usually means that this version is still under heavy development.\r\n\r\nWhen the code is ready and it is time to release it, you will want to change the version listed in the POM. Then instead of having a &quot;SNAPSHOT&quot; you would use a label like &quot;1.0&quot;.\r\n\r\nFor some help with versioning, check out the [Semantic Versioning specification](http://semver.org/).","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>The \"SNAPSHOT\" term means that the build is a snapshot of your code at a given time.</p>\n\n<p>It usually means that this version is still under heavy development.</p>\n\n<p>When the code is ready and it is time to release it, you will want to change the version listed in the POM. Then instead of having a \"SNAPSHOT\" you would use a label like \"1.0\".</p>\n\n<p>For some help with versioning, check out the <a href=\"http://semver.org/\" rel=\"noreferrer\">Semantic Versioning specification</a>.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":1,"up_vote_count":1290,"is_accepted":true,"score":1289,"last_activity_date":1392714011,"creation_date":1304614659,"answer_id":5901460,"question_id":5901378,"body_markdown":"A snapshot version in Maven is one that has not been released.\r\n\r\nThe idea is that **before** a `1.0` release (or any other release) is done, there exists a `1.0-SNAPSHOT`. That version is what *might become* `1.0`. It&#39;s basically &quot;`1.0` under development&quot;. This might be *close* to a real `1.0` release, or pretty far (right after the `0.9` release, for example).\r\n\r\nThe difference between a &quot;real&quot; version and a snapshot version is that snapshots might get updates. That means that downloading `1.0-SNAPSHOT` today might give a different file than downloading it yesterday or tomorrow.\r\n\r\nUsually, snapshot dependencies should **only** exist during development and no released version (i.e. no non-snapshot) should have a dependency on a snapshot version.","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>A snapshot version in Maven is one that has not been released.</p>\n\n<p>The idea is that <strong>before</strong> a <code>1.0</code> release (or any other release) is done, there exists a <code>1.0-SNAPSHOT</code>. That version is what <em>might become</em> <code>1.0</code>. It's basically \"<code>1.0</code> under development\". This might be <em>close</em> to a real <code>1.0</code> release, or pretty far (right after the <code>0.9</code> release, for example).</p>\n\n<p>The difference between a \"real\" version and a snapshot version is that snapshots might get updates. That means that downloading <code>1.0-SNAPSHOT</code> today might give a different file than downloading it yesterday or tomorrow.</p>\n\n<p>Usually, snapshot dependencies should <strong>only</strong> exist during development and no released version (i.e. no non-snapshot) should have a dependency on a snapshot version.</p>\n"},{"tags":[],"owner":{"account_id":13233,"reputation":79895,"user_id":26457,"accept_rate":80,"display_name":"Romain Linsolas"},"down_vote_count":0,"up_vote_count":937,"is_accepted":false,"score":937,"last_activity_date":1567588369,"creation_date":1304664070,"answer_id":5907727,"question_id":5901378,"body_markdown":"The three others answers provide you a good vision of what a `-SNAPSHOT` version is. I just wanted to add some information regarding the behavior of Maven when it finds a `SNAPSHOT` dependency.\r\n\r\nWhen you build an application, Maven will search for dependencies in the **local** repository. If a stable version is not found there, it will search the remote repositories (defined in `settings.xml` or `pom.xml`) to retrieve this dependency. Then, it will copy it into the local repository, to make it available for the next builds.\r\n\r\nFor example, a `foo-1.0.jar` library is considered as a **stable** version, and if Maven finds it in the local repository, it will use this one for the current build.\r\n\r\nNow, if you need a `foo-1.0-SNAPSHOT.jar` library, Maven will know that this version is not stable and is subject to changes. That&#39;s why Maven will try to find a newer version in the remote repositories, even if a version of this library is found on the local repository. However, this check is made only once per day. That means that if you have a `foo-1.0-20110506.110000-1.jar` (i.e. this library has been generated on 2011/05/06 at 11:00:00) in your local repository, and if you run the Maven build again the same day, Maven will **not** check the repositories for a newer version.\r\n\r\nMaven provides you a way to change this update policy in your repository definition:\r\n\r\n    &lt;repository&gt;\r\n        &lt;id&gt;foo-repository&lt;/id&gt;\r\n        &lt;url&gt;...&lt;/url&gt;\r\n        &lt;snapshots&gt;\r\n            &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;updatePolicy&gt;XXX&lt;/updatePolicy&gt;\r\n        &lt;/snapshots&gt;\r\n    &lt;/repository&gt;\r\n\r\nwhere `XXX` can be:\r\n\r\n* **always**: Maven will check for a newer version on every build;\r\n* **daily**, the default value;\r\n* **interval:XXX**: an interval in minutes (XXX)\r\n* **never**: Maven will never try to retrieve another version. It will do that only if it doesn&#39;t exist locally. With the configuration, `SNAPSHOT` version will be handled as the stable libraries.\r\n\r\n(model of the settings.xml can be found [here)][1]\r\n\r\n\r\n  [1]: http://maven.apache.org/ref/2.2.1/maven-settings/settings.html","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>The three others answers provide you a good vision of what a <code>-SNAPSHOT</code> version is. I just wanted to add some information regarding the behavior of Maven when it finds a <code>SNAPSHOT</code> dependency.</p>\n\n<p>When you build an application, Maven will search for dependencies in the <strong>local</strong> repository. If a stable version is not found there, it will search the remote repositories (defined in <code>settings.xml</code> or <code>pom.xml</code>) to retrieve this dependency. Then, it will copy it into the local repository, to make it available for the next builds.</p>\n\n<p>For example, a <code>foo-1.0.jar</code> library is considered as a <strong>stable</strong> version, and if Maven finds it in the local repository, it will use this one for the current build.</p>\n\n<p>Now, if you need a <code>foo-1.0-SNAPSHOT.jar</code> library, Maven will know that this version is not stable and is subject to changes. That's why Maven will try to find a newer version in the remote repositories, even if a version of this library is found on the local repository. However, this check is made only once per day. That means that if you have a <code>foo-1.0-20110506.110000-1.jar</code> (i.e. this library has been generated on 2011/05/06 at 11:00:00) in your local repository, and if you run the Maven build again the same day, Maven will <strong>not</strong> check the repositories for a newer version.</p>\n\n<p>Maven provides you a way to change this update policy in your repository definition:</p>\n\n<pre><code>&lt;repository&gt;\n    &lt;id&gt;foo-repository&lt;/id&gt;\n    &lt;url&gt;...&lt;/url&gt;\n    &lt;snapshots&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;updatePolicy&gt;XXX&lt;/updatePolicy&gt;\n    &lt;/snapshots&gt;\n&lt;/repository&gt;\n</code></pre>\n\n<p>where <code>XXX</code> can be:</p>\n\n<ul>\n<li><strong>always</strong>: Maven will check for a newer version on every build;</li>\n<li><strong>daily</strong>, the default value;</li>\n<li><strong>interval:XXX</strong>: an interval in minutes (XXX)</li>\n<li><strong>never</strong>: Maven will never try to retrieve another version. It will do that only if it doesn't exist locally. With the configuration, <code>SNAPSHOT</code> version will be handled as the stable libraries.</li>\n</ul>\n\n<p>(model of the settings.xml can be found <a href=\"http://maven.apache.org/ref/2.2.1/maven-settings/settings.html\" rel=\"noreferrer\">here)</a></p>\n"},{"tags":[],"owner":{"account_id":3666244,"reputation":498,"user_id":3054609,"display_name":"Kati Holasz"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1385986125,"creation_date":1385986125,"answer_id":20327963,"question_id":5901378,"body_markdown":"This is how a snapshot looks like for a repository and in this case is not enabled, which means that the repository referred in here is stable and there&#39;s no need for updates.\r\n\r\n    &lt;project&gt;\r\n        ...\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;lds-main&lt;/id&gt;\r\n                &lt;name&gt;LDS Main Repo&lt;/name&gt;\r\n                &lt;url&gt;http://code.lds.org/nexus/content/groups/main-repo&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    &lt;/project&gt;\r\n\r\nAnother case would be for:\r\n\r\n    &lt;snapshots&gt;\r\n            &lt;enabled&gt;true&lt;/enabled&gt;\r\n    &lt;/snapshots&gt;\r\n\r\nwhich means that Maven will look for updates for this repository. You can also specify an interval for the updates with &lt;updatePolicy&gt; tag. ","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>This is how a snapshot looks like for a repository and in this case is not enabled, which means that the repository referred in here is stable and there's no need for updates.</p>\n\n<pre><code>&lt;project&gt;\n    ...\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;lds-main&lt;/id&gt;\n            &lt;name&gt;LDS Main Repo&lt;/name&gt;\n            &lt;url&gt;http://code.lds.org/nexus/content/groups/main-repo&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Another case would be for:</p>\n\n<pre><code>&lt;snapshots&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n&lt;/snapshots&gt;\n</code></pre>\n\n<p>which means that Maven will look for updates for this repository. You can also specify an interval for the updates with  tag. </p>\n"},{"tags":[],"owner":{"account_id":2709728,"reputation":1175,"user_id":2338474,"display_name":"Venky Vungarala"},"down_vote_count":3,"up_vote_count":13,"is_accepted":false,"score":10,"last_activity_date":1554813002,"creation_date":1407482040,"answer_id":25197883,"question_id":5901378,"body_markdown":"usually in maven we have two types of builds \r\n1)Snapshot builds\r\n2)Release builds\r\n\r\n1. snapshot builds:SNAPSHOT is the special version that indicate current deployment copy not like a regular version, maven checks the version for every build in the remote repository\r\nso the snapshot builds are nothing but development builds.\r\n\r\n2. Release builds:Release means removing the SNAPSHOT at the version for the build, these are the regular build versions.","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>usually in maven we have two types of builds \n1)Snapshot builds\n2)Release builds</p>\n\n<ol>\n<li><p>snapshot builds:SNAPSHOT is the special version that indicate current deployment copy not like a regular version, maven checks the version for every build in the remote repository\nso the snapshot builds are nothing but development builds.</p></li>\n<li><p>Release builds:Release means removing the SNAPSHOT at the version for the build, these are the regular build versions.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1499955797,"creation_date":1499953610,"answer_id":45082572,"question_id":5901378,"body_markdown":"Maven versions can contain a string literal &quot;SNAPSHOT&quot; to signify that a project is currently under active development.\r\n\r\nFor example, if your project has a version of “1.0-SNAPSHOT” and you deploy this project’s artifacts to a Maven repository,\r\nMaven would expand this version to “1.0-20080207-230803-1” if you were to\r\ndeploy a release at 11:08 PM on February 7th, 2008 UTC. In other words, when you\r\ndeploy a snapshot, you are not making a release of a software component; you are\r\nreleasing a snapshot of a component at a specific time.\r\n\r\nSo mainly snapshot versions are used for projects under active development.\r\nIf your project depends on a software component that is under active development,\r\nyou can depend on a snapshot release, and Maven will periodically attempt\r\nto download the latest snapshot from a repository when you run a build. Similarly, if\r\nthe next release of your system is going to have a version “1.8,” your project would\r\nhave a “1.8-SNAPSHOT” version until it was formally released.\r\n\r\nFor example , the following dependency would always download the latest 1.8 development JAR of spring:\r\n\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8-SNAPSHOT”&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n[Maven][1]\r\n\r\n\r\nAn example of maven release process\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://books.google.de/books?id=cBvZ4s72Z0gC&amp;printsec=frontcover&amp;dq=Maven:%20The%20Definitive%20Guide:%20The%20Definitive%20Guide%20pdf&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwjd89yxsYbVAhUSb5oKHWQ1ANkQ6AEIIjAA#v=onepage&amp;q=Maven%3A%20The%20Definitive%20Guide%3A%20The%20Definitive%20Guide%20pdf&amp;f=false\r\n  [2]: https://i.stack.imgur.com/BAYDk.png","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>Maven versions can contain a string literal \"SNAPSHOT\" to signify that a project is currently under active development.</p>\n\n<p>For example, if your project has a version of “1.0-SNAPSHOT” and you deploy this project’s artifacts to a Maven repository,\nMaven would expand this version to “1.0-20080207-230803-1” if you were to\ndeploy a release at 11:08 PM on February 7th, 2008 UTC. In other words, when you\ndeploy a snapshot, you are not making a release of a software component; you are\nreleasing a snapshot of a component at a specific time.</p>\n\n<p>So mainly snapshot versions are used for projects under active development.\nIf your project depends on a software component that is under active development,\nyou can depend on a snapshot release, and Maven will periodically attempt\nto download the latest snapshot from a repository when you run a build. Similarly, if\nthe next release of your system is going to have a version “1.8,” your project would\nhave a “1.8-SNAPSHOT” version until it was formally released.</p>\n\n<p>For example , the following dependency would always download the latest 1.8 development JAR of spring:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring&lt;/artifactId&gt;\n        &lt;version&gt;1.8-SNAPSHOT”&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><a href=\"https://books.google.de/books?id=cBvZ4s72Z0gC&amp;printsec=frontcover&amp;dq=Maven:%20The%20Definitive%20Guide:%20The%20Definitive%20Guide%20pdf&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwjd89yxsYbVAhUSb5oKHWQ1ANkQ6AEIIjAA#v=onepage&amp;q=Maven%3A%20The%20Definitive%20Guide%3A%20The%20Definitive%20Guide%20pdf&amp;f=false\" rel=\"noreferrer\">Maven</a></p>\n\n<p>An example of maven release process</p>\n\n<p><a href=\"https://i.stack.imgur.com/BAYDk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BAYDk.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1545241459,"creation_date":1545241459,"answer_id":53856626,"question_id":5901378,"body_markdown":"I&#39;d like to make a point about terminology. The other answers gave good explanations about what a &quot;snapshot&quot; version is in the context of Maven. But does it follow that a non-snapshot version should be termed a &quot;release&quot; version?\r\n\r\nThere is some tension between the semantic versioning idea of a &quot;release&quot; version, which would seem to be any version that does not have a qualifier such as `-SNAPSHOT` but also does not have a qualifier such as `-beta.4`; and Maven&#39;s idea idea of a &quot;release&quot; version, which only seems to include the absence of `-SNAPSHOT`.\r\n\r\nIn other words, there is a semantic ambiguity of whether &quot;release&quot; means &quot;we can release it to Maven Central&quot; or &quot;the software is in its final release to the public&quot;. We could consider `-beta.4` to be a &quot;release&quot; version if we release it to the public, but it&#39;s not a &quot;final release&quot;. [Semantic versioning][1] clearly says that something like `-beta.4` is a &quot;pre-release&quot; version, so it wouldn&#39;t make sense for it to be called a &quot;release&quot; version, even without `-SNAPSHOT`. In fact by definition even `-rc.5` is a release _candidate_, not an actual release, even though we may allow public access for testing.\r\n\r\nSo Maven notwithstanding, in my opinion it seems more appropriate only to call a &quot;release&quot; version one that doesn&#39;t have any qualifier at all, not even `-beta.4`. Perhaps a better name for a Maven non-snapshot version would be a &quot;stable&quot; version (inspired by [another answer][2]). Thus we would have:\r\n\r\n* `1.2.3-beta.4-SNAPSHOT`: A snapshot version of a pre-release version.\r\n* `1.2.3-SNAPSHOT`: A snapshot version of a release version.\r\n* `1.2.3-beta.4`: A stable version of a pre-release version.\r\n* `1.2.3`: A release version (which is a stable, non-snapshot version, obviously).\r\n\r\n\r\n  [1]: https://semver.org/#spec-item-9\r\n  [2]: https://stackoverflow.com/a/5907727/421049","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>I'd like to make a point about terminology. The other answers gave good explanations about what a \"snapshot\" version is in the context of Maven. But does it follow that a non-snapshot version should be termed a \"release\" version?</p>\n\n<p>There is some tension between the semantic versioning idea of a \"release\" version, which would seem to be any version that does not have a qualifier such as <code>-SNAPSHOT</code> but also does not have a qualifier such as <code>-beta.4</code>; and Maven's idea idea of a \"release\" version, which only seems to include the absence of <code>-SNAPSHOT</code>.</p>\n\n<p>In other words, there is a semantic ambiguity of whether \"release\" means \"we can release it to Maven Central\" or \"the software is in its final release to the public\". We could consider <code>-beta.4</code> to be a \"release\" version if we release it to the public, but it's not a \"final release\". <a href=\"https://semver.org/#spec-item-9\" rel=\"noreferrer\">Semantic versioning</a> clearly says that something like <code>-beta.4</code> is a \"pre-release\" version, so it wouldn't make sense for it to be called a \"release\" version, even without <code>-SNAPSHOT</code>. In fact by definition even <code>-rc.5</code> is a release <em>candidate</em>, not an actual release, even though we may allow public access for testing.</p>\n\n<p>So Maven notwithstanding, in my opinion it seems more appropriate only to call a \"release\" version one that doesn't have any qualifier at all, not even <code>-beta.4</code>. Perhaps a better name for a Maven non-snapshot version would be a \"stable\" version (inspired by <a href=\"https://stackoverflow.com/a/5907727/421049\">another answer</a>). Thus we would have:</p>\n\n<ul>\n<li><code>1.2.3-beta.4-SNAPSHOT</code>: A snapshot version of a pre-release version.</li>\n<li><code>1.2.3-SNAPSHOT</code>: A snapshot version of a release version.</li>\n<li><code>1.2.3-beta.4</code>: A stable version of a pre-release version.</li>\n<li><code>1.2.3</code>: A release version (which is a stable, non-snapshot version, obviously).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1933358,"reputation":387,"user_id":1742288,"accept_rate":19,"display_name":"CCNA"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1551227405,"creation_date":1551227405,"answer_id":54896259,"question_id":5901378,"body_markdown":"understanding the context of SDLC will help understand the difference between snapshot and the release. During the dev process developers all contribute their features to a baseline branch. At some point the lead thinks enough features have accumulated then he will cut a release branch from the baseline branch. Any builds prior to this time point are snapshots. Builds post to this point are releases. Be noted, release builds could change too before going to production if any defect spot during the release testing. ","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>understanding the context of SDLC will help understand the difference between snapshot and the release. During the dev process developers all contribute their features to a baseline branch. At some point the lead thinks enough features have accumulated then he will cut a release branch from the baseline branch. Any builds prior to this time point are snapshots. Builds post to this point are releases. Be noted, release builds could change too before going to production if any defect spot during the release testing. </p>\n"},{"tags":[],"owner":{"account_id":15842298,"reputation":59,"user_id":11430455,"display_name":"shanika prasangika"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556989859,"creation_date":1556989859,"answer_id":55984942,"question_id":5901378,"body_markdown":"simply snapshot means it is the version which is not stable one.\r\n\r\nwhen version includes snapshot like 1.0.0 -SNAPSHOT means it is not stable version and look for remote repository to resolve dependencies","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>simply snapshot means it is the version which is not stable one.</p>\n\n<p>when version includes snapshot like 1.0.0 -SNAPSHOT means it is not stable version and look for remote repository to resolve dependencies</p>\n"},{"tags":[],"owner":{"account_id":5333691,"reputation":31,"user_id":4253500,"display_name":"Mahdi Soltani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562398208,"creation_date":1562398208,"answer_id":56912101,"question_id":5901378,"body_markdown":"Snapshot simply means depending on your configuration Maven will check latest changes on a special dependency. Snapshot is unstable because it is under development but if on a special project needs to has a latest changes you must configure your dependency version to snapshot version. This scenario occurs in big organizations with multiple products that these products related to each other very closely.   ","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>Snapshot simply means depending on your configuration Maven will check latest changes on a special dependency. Snapshot is unstable because it is under development but if on a special project needs to has a latest changes you must configure your dependency version to snapshot version. This scenario occurs in big organizations with multiple products that these products related to each other very closely.   </p>\n"},{"tags":[],"owner":{"account_id":5921395,"reputation":301,"user_id":4658638,"display_name":"Sourabh Bhavsar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579078904,"creation_date":1579078904,"answer_id":59747959,"question_id":5901378,"body_markdown":"As the name suggests, snapshot refers to a state of project and its dependencies at that moment of time. Whenever maven finds a newer SNAPSHOT of the project, it downloads and replaces the older .jar file of the project in the local repository.\r\n\r\nSnapshot versions are used for projects under active development. If your project depends on a software component that is under active development, you can depend on a snapshot release, and Maven will periodically attempt to download the latest snapshot from a repository when you run a build.","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>As the name suggests, snapshot refers to a state of project and its dependencies at that moment of time. Whenever maven finds a newer SNAPSHOT of the project, it downloads and replaces the older .jar file of the project in the local repository.</p>\n\n<p>Snapshot versions are used for projects under active development. If your project depends on a software component that is under active development, you can depend on a snapshot release, and Maven will periodically attempt to download the latest snapshot from a repository when you run a build.</p>\n"},{"tags":[],"owner":{"account_id":8068459,"reputation":129,"user_id":6081899,"display_name":"tagus"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1599511518,"creation_date":1599511518,"answer_id":63784018,"question_id":5901378,"body_markdown":"A Maven SNAPSHOT is an artifact created by a Maven build and pretends to help developers in the software  development cycle.\r\nA SNAPSHOT is an artifact (or project build result ) that is not pretended to be used anywhere, it&#39;s only a temporarily .jar,  ear, ... created to test the build process or to test new requirements that are not yet ready to go to a production environment.\r\nAfter you are happy with the SNAPSHOT artifact quality, you can create a RELEASE artifact that can be used by other projects or can be deployed itself.\r\n\r\nIn your project, you can define a SNAPSHOT using the version element in the pom.xml file of Maven:\r\n\r\n    &lt;groupId&gt;example.project.maven&lt;/groupId&gt;\r\n    &lt;artifactId&gt;MavenEclipseExample&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;description&gt;Maven pom example&lt;/description&gt;\r\n \r\nIf you want to understand better Maven you can look into these articles too:\r\n\r\nhttps://connected2know.com/programming/menu-maven-articles/\r\n","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>A Maven SNAPSHOT is an artifact created by a Maven build and pretends to help developers in the software  development cycle.\nA SNAPSHOT is an artifact (or project build result ) that is not pretended to be used anywhere, it's only a temporarily .jar,  ear, ... created to test the build process or to test new requirements that are not yet ready to go to a production environment.\nAfter you are happy with the SNAPSHOT artifact quality, you can create a RELEASE artifact that can be used by other projects or can be deployed itself.</p>\n<p>In your project, you can define a SNAPSHOT using the version element in the pom.xml file of Maven:</p>\n<pre><code>&lt;groupId&gt;example.project.maven&lt;/groupId&gt;\n&lt;artifactId&gt;MavenEclipseExample&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;description&gt;Maven pom example&lt;/description&gt;\n</code></pre>\n<p>If you want to understand better Maven you can look into these articles too:</p>\n<p><a href=\"https://connected2know.com/programming/menu-maven-articles/\" rel=\"noreferrer\">https://connected2know.com/programming/menu-maven-articles/</a></p>\n"},{"tags":[],"owner":{"account_id":4281907,"reputation":307,"user_id":3501003,"display_name":"Umesh Bhutada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649373573,"creation_date":1649373573,"answer_id":71789965,"question_id":5901378,"body_markdown":"In development phase Maven snapshots everyday looks for newer higher version if available in nexus repository n download it locally for next build.\r\n\r\nFour option you can set in respository defination\r\n\r\nAlways,\r\nDaily (default),\r\nInterval,\r\nNever,\r\n\r\nNote: In production release we should not have dependency on snapshot version.\r\n\r\n\r\n","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>In development phase Maven snapshots everyday looks for newer higher version if available in nexus repository n download it locally for next build.</p>\n<p>Four option you can set in respository defination</p>\n<p>Always,\nDaily (default),\nInterval,\nNever,</p>\n<p>Note: In production release we should not have dependency on snapshot version.</p>\n"},{"tags":[],"owner":{"account_id":11450501,"reputation":311,"user_id":8423371,"display_name":"SM. Hosseini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675785522,"creation_date":1675785522,"answer_id":75375946,"question_id":5901378,"body_markdown":"The SNAPSHOT value refers to the &#39;latest&#39; code along a development branch and provides no guarantee the code is stable or unchanging. Conversely, the code in a &#39;release&#39; version (any version value without the suffix SNAPSHOT) is unchanging.\r\n\r\nIn other words, a SNAPSHOT version is the &#39;development&#39; version before the final &#39;release&#39; version. The SNAPSHOT is &quot;older&quot; than its release.\r\n\r\nDuring the release process, a version of x.y-SNAPSHOT changes to x.y. The release process also increments the development version to x.(y+1)-SNAPSHOT. For example, version 1.0-SNAPSHOT is released as version 1.0, and the new development version is version 1.1-SNAPSHOT.","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>The SNAPSHOT value refers to the 'latest' code along a development branch and provides no guarantee the code is stable or unchanging. Conversely, the code in a 'release' version (any version value without the suffix SNAPSHOT) is unchanging.</p>\n<p>In other words, a SNAPSHOT version is the 'development' version before the final 'release' version. The SNAPSHOT is &quot;older&quot; than its release.</p>\n<p>During the release process, a version of x.y-SNAPSHOT changes to x.y. The release process also increments the development version to x.(y+1)-SNAPSHOT. For example, version 1.0-SNAPSHOT is released as version 1.0, and the new development version is version 1.1-SNAPSHOT.</p>\n"}],"owner":{"account_id":350025,"reputation":11466,"user_id":685658,"accept_rate":75,"display_name":"meisam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489831,"favorite_count":0,"down_vote_count":3,"up_vote_count":1087,"accepted_answer_id":5901460,"answer_count":15,"score":1084,"last_activity_date":1675785522,"creation_date":1304614250,"question_id":5901378,"body_markdown":"I am a bit confused about the meaning of a Maven Snapshot and why we build one?\r\n","title":"What exactly is a Maven Snapshot and why do we need it?","body":"<p>I am a bit confused about the meaning of a Maven Snapshot and why we build one?</p>\n"},{"tags":["java","spring","spring-boot","spring-ldap"],"comments":[{"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"score":0,"creation_date":1674723548,"post_id":75242395,"comment_id":132775833,"body_markdown":"I see two issues also raised in GitHub. Hopefully someone is looking into it.  \nhttps://github.com/spring-projects/spring-ldap/issues/723 \nhttps://github.com/spring-projects/spring-ldap/issues/724","body":"I see two issues also raised in GitHub. Hopefully someone is looking into it.   <a href=\"https://github.com/spring-projects/spring-ldap/issues/723\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-ldap/issues/723</a>  <a href=\"https://github.com/spring-projects/spring-ldap/issues/724\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-ldap/issues/724</a>"}],"answers":[{"tags":[],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675785512,"creation_date":1675785512,"answer_id":75375940,"question_id":75242395,"body_markdown":"Meanwhile, folks who are facing the issue can add a RuntimeHint for missing `javax.net.ssl.SSLSocketFactory.getDefault()`.\r\n\r\n```\r\nstatic class MyHint implements RuntimeHintsRegistrar {\r\n    @Override\r\n\tpublic void registerHints(RuntimeHints hints, ClassLoader classLoader) {\r\n        hints.reflection().registerType(TypeReference.of(&quot;javax.net.ssl.SSLSocketFactory&quot;), builder -&gt; builder.withMembers(MemberCategory.INVOKE_PUBLIC_METHODS));\r\n    }\r\n}\r\n```\r\nand add `@ImportRuntimeHints(MyHint.class)` to your Spring Boot application (main class).\r\n\r\nI was further facing issues with the custom truststore. It can be added like below \r\n```\r\n@PostConstruct\r\n\tvoid postConstruct() {\r\n\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, System.getProperty(&quot;javax.net.ssl.trustStore&quot;));\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, System.getProperty(&quot;javax.net.ssl.trustStorePassword&quot;));\r\n\r\n\t}\r\n```\r\n and when running the native executable, run it as below and it works fine.\r\n\r\n    ./target/&lt;executable&gt; -Djavax.net.ssl.trustStore=/Users/xxx/Downloads/truststore.jks -Djavax.net.ssl.trustStorePassword=changeit","title":"LDAPS issue when running native image in Spring Boot 3","body":"<p>Meanwhile, folks who are facing the issue can add a RuntimeHint for missing <code>javax.net.ssl.SSLSocketFactory.getDefault()</code>.</p>\n<pre><code>static class MyHint implements RuntimeHintsRegistrar {\n    @Override\n    public void registerHints(RuntimeHints hints, ClassLoader classLoader) {\n        hints.reflection().registerType(TypeReference.of(&quot;javax.net.ssl.SSLSocketFactory&quot;), builder -&gt; builder.withMembers(MemberCategory.INVOKE_PUBLIC_METHODS));\n    }\n}\n</code></pre>\n<p>and add <code>@ImportRuntimeHints(MyHint.class)</code> to your Spring Boot application (main class).</p>\n<p>I was further facing issues with the custom truststore. It can be added like below</p>\n<pre><code>@PostConstruct\n    void postConstruct() {\n\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, System.getProperty(&quot;javax.net.ssl.trustStore&quot;));\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, System.getProperty(&quot;javax.net.ssl.trustStorePassword&quot;));\n\n    }\n</code></pre>\n<p>and when running the native executable, run it as below and it works fine.</p>\n<pre><code>./target/&lt;executable&gt; -Djavax.net.ssl.trustStore=/Users/xxx/Downloads/truststore.jks -Djavax.net.ssl.trustStorePassword=changeit\n</code></pre>\n"}],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675785512,"creation_date":1674708931,"question_id":75242395,"body_markdown":"I am getting the below issue when using a native image. With JVM-based uber jar, no issues.\r\n\r\nSpring Boot 3.0.1\r\n\r\n```none\r\nopenjdk version &quot;17.0.5&quot; 2022-10-18\r\nOpenJDK Runtime Environment GraalVM CE 22.3.0 (build 17.0.5+8-jvmci-22.3-b08)\r\nOpenJDK 64-Bit Server VM GraalVM CE 22.3.0 (build 17.0.5+8-jvmci-22.3-b08, mixed mode, sharing)\r\n```\r\n**StackTrace :**\r\n\r\n```none\r\norg.springframework.ldap.CommunicationException: xxx-ad-vip.xxx.com:636\r\n\tat org.springframework.ldap.support.LdapUtils.convertLdapException(LdapUtils.java:108) ~[na:na]\r\n\tat org.springframework.ldap.core.support.AbstractContextSource.createContext(AbstractContextSource.java:363) ~[ldap-service:3.0.0]\r\n\tat org.springframework.ldap.core.support.AbstractContextSource.doGetContext(AbstractContextSource.java:147) ~[ldap-service:3.0.0]\r\n\tat org.springframework.ldap.core.support.AbstractContextSource.getReadOnlyContext(AbstractContextSource.java:166) ~[ldap-service:3.0.0]\r\n\tat org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:367) ~[ldap-service:3.0.0]\r\n\tat org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:319) ~[ldap-service:3.0.0]\r\n\tat org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:626) ~[ldap-service:3.0.0]\r\n\tat org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:596) ~[ldap-service:3.0.0]\r\n\tat org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:1661) ~[ldap-service:3.0.0]\r\n\tat com.vmware.ldapservice.serviceImpl.LDAPServiceImpl.getADAttributes(LDAPServiceImpl.java:82) ~[ldap-service:na]\r\n\tat java.base@17.0.5/java.lang.reflect.Method.invoke(Method.java:568) ~[ldap-service:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[na:na]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[ldap-service:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[ldap-service:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[na:na]\r\n\tat org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54) ~[ldap-service:6.0.3]\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366) ~[ldap-service:6.0.3]\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421) ~[ldap-service:6.0.3]\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345) ~[ldap-service:6.0.3]\r\n\tat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64) ~[ldap-service:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[ldap-service:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[na:na]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[na:na]\r\n\tat com.xxx.ldapservice.serviceImpl.LDAPServiceImpl$$SpringCGLIB$$0.getADAttributes(&lt;generated&gt;) ~[ldap-service:na]\r\n\tat com.xxx.ldapservice.controller.LdapController.lambda$0(LdapController.java:34) ~[ldap-service:na]\r\n\tat java.base@17.0.5/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]\r\n\tat java.base@17.0.5/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]\r\n\tat java.base@17.0.5/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[ldap-service:na]\r\n\tat java.base@17.0.5/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[na:na]\r\n\tat java.base@17.0.5/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[ldap-service:na]\r\n\tat java.base@17.0.5/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[ldap-service:na]\r\n\tat java.base@17.0.5/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[ldap-service:na]\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775) ~[ldap-service:na]\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203) ~[na:na]\r\nCaused by: javax.naming.CommunicationException: xxx-ad-vip.xxx.com:636\r\n\tat java.naming@17.0.5/com.sun.jndi.ldap.Connection.&lt;init&gt;(Connection.java:253) ~[na:na]\r\n\tat java.naming@17.0.5/com.sun.jndi.ldap.LdapClient.&lt;init&gt;(LdapClient.java:137) ~[na:na]\r\n\tat java.naming@17.0.5/com.sun.jndi.ldap.LdapClient.getInstance(LdapClient.java:1616) ~[na:na]\r\n\tat java.naming@17.0.5/com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2848) ~[na:na]\r\n\tat java.naming@17.0.5/com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:348) ~[na:na]\r\n\tat java.naming@17.0.5/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxFromUrl(LdapCtxFactory.java:225) ~[ldap-service:na]\r\n\tat java.naming@17.0.5/com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:189) ~[ldap-service:na]\r\n\tat java.naming@17.0.5/com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:243) ~[ldap-service:na]\r\n\tat java.naming@17.0.5/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:154) ~[ldap-service:na]\r\n\tat java.naming@17.0.5/com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:84) ~[ldap-service:na]\r\n\tat java.naming@17.0.5/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:732) ~[ldap-service:na]\r\n\tat java.naming@17.0.5/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305) ~[ldap-service:na]\r\n\tat java.naming@17.0.5/javax.naming.InitialContext.init(InitialContext.java:236) ~[ldap-service:na]\r\n\tat java.naming@17.0.5/javax.naming.ldap.InitialLdapContext.&lt;init&gt;(InitialLdapContext.java:154) ~[na:na]\r\n\tat org.springframework.ldap.core.support.LdapContextSource.getDirContextInstance(LdapContextSource.java:42) ~[ldap-service:3.0.0]\r\n\tat org.springframework.ldap.core.support.AbstractContextSource.createContext(AbstractContextSource.java:351) ~[ldap-service:3.0.0]\r\n\t... 32 common frames omitted\r\nCaused by: java.lang.NoSuchMethodException: javax.net.ssl.SSLSocketFactory.getDefault()\r\n\tat java.base@17.0.5/java.lang.Class.getMethod(DynamicHub.java:2227) ~[ldap-service:na]\r\n\tat java.naming@17.0.5/com.sun.jndi.ldap.Connection.createSocket(Connection.java:293) ~[na:na]\r\n\tat java.naming@17.0.5/com.sun.jndi.ldap.Connection.&lt;init&gt;(Connection.java:232) ~[na:na]\r\n\t... 47 common frames omitted\r\n```","title":"LDAPS issue when running native image in Spring Boot 3","body":"<p>I am getting the below issue when using a native image. With JVM-based uber jar, no issues.</p>\n<p>Spring Boot 3.0.1</p>\n<pre class=\"lang-none prettyprint-override\"><code>openjdk version &quot;17.0.5&quot; 2022-10-18\nOpenJDK Runtime Environment GraalVM CE 22.3.0 (build 17.0.5+8-jvmci-22.3-b08)\nOpenJDK 64-Bit Server VM GraalVM CE 22.3.0 (build 17.0.5+8-jvmci-22.3-b08, mixed mode, sharing)\n</code></pre>\n<p><strong>StackTrace :</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.ldap.CommunicationException: xxx-ad-vip.xxx.com:636\n    at org.springframework.ldap.support.LdapUtils.convertLdapException(LdapUtils.java:108) ~[na:na]\n    at org.springframework.ldap.core.support.AbstractContextSource.createContext(AbstractContextSource.java:363) ~[ldap-service:3.0.0]\n    at org.springframework.ldap.core.support.AbstractContextSource.doGetContext(AbstractContextSource.java:147) ~[ldap-service:3.0.0]\n    at org.springframework.ldap.core.support.AbstractContextSource.getReadOnlyContext(AbstractContextSource.java:166) ~[ldap-service:3.0.0]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:367) ~[ldap-service:3.0.0]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:319) ~[ldap-service:3.0.0]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:626) ~[ldap-service:3.0.0]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:596) ~[ldap-service:3.0.0]\n    at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:1661) ~[ldap-service:3.0.0]\n    at com.vmware.ldapservice.serviceImpl.LDAPServiceImpl.getADAttributes(LDAPServiceImpl.java:82) ~[ldap-service:na]\n    at java.base@17.0.5/java.lang.reflect.Method.invoke(Method.java:568) ~[ldap-service:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[na:na]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[ldap-service:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[ldap-service:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[na:na]\n    at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54) ~[ldap-service:6.0.3]\n    at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:366) ~[ldap-service:6.0.3]\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:421) ~[ldap-service:6.0.3]\n    at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345) ~[ldap-service:6.0.3]\n    at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64) ~[ldap-service:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[ldap-service:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[na:na]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[na:na]\n    at com.xxx.ldapservice.serviceImpl.LDAPServiceImpl$$SpringCGLIB$$0.getADAttributes(&lt;generated&gt;) ~[ldap-service:na]\n    at com.xxx.ldapservice.controller.LdapController.lambda$0(LdapController.java:34) ~[ldap-service:na]\n    at java.base@17.0.5/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]\n    at java.base@17.0.5/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760) ~[na:na]\n    at java.base@17.0.5/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[ldap-service:na]\n    at java.base@17.0.5/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[na:na]\n    at java.base@17.0.5/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[ldap-service:na]\n    at java.base@17.0.5/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[ldap-service:na]\n    at java.base@17.0.5/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[ldap-service:na]\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775) ~[ldap-service:na]\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203) ~[na:na]\nCaused by: javax.naming.CommunicationException: xxx-ad-vip.xxx.com:636\n    at java.naming@17.0.5/com.sun.jndi.ldap.Connection.&lt;init&gt;(Connection.java:253) ~[na:na]\n    at java.naming@17.0.5/com.sun.jndi.ldap.LdapClient.&lt;init&gt;(LdapClient.java:137) ~[na:na]\n    at java.naming@17.0.5/com.sun.jndi.ldap.LdapClient.getInstance(LdapClient.java:1616) ~[na:na]\n    at java.naming@17.0.5/com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2848) ~[na:na]\n    at java.naming@17.0.5/com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:348) ~[na:na]\n    at java.naming@17.0.5/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxFromUrl(LdapCtxFactory.java:225) ~[ldap-service:na]\n    at java.naming@17.0.5/com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:189) ~[ldap-service:na]\n    at java.naming@17.0.5/com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:243) ~[ldap-service:na]\n    at java.naming@17.0.5/com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:154) ~[ldap-service:na]\n    at java.naming@17.0.5/com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:84) ~[ldap-service:na]\n    at java.naming@17.0.5/javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:732) ~[ldap-service:na]\n    at java.naming@17.0.5/javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305) ~[ldap-service:na]\n    at java.naming@17.0.5/javax.naming.InitialContext.init(InitialContext.java:236) ~[ldap-service:na]\n    at java.naming@17.0.5/javax.naming.ldap.InitialLdapContext.&lt;init&gt;(InitialLdapContext.java:154) ~[na:na]\n    at org.springframework.ldap.core.support.LdapContextSource.getDirContextInstance(LdapContextSource.java:42) ~[ldap-service:3.0.0]\n    at org.springframework.ldap.core.support.AbstractContextSource.createContext(AbstractContextSource.java:351) ~[ldap-service:3.0.0]\n    ... 32 common frames omitted\nCaused by: java.lang.NoSuchMethodException: javax.net.ssl.SSLSocketFactory.getDefault()\n    at java.base@17.0.5/java.lang.Class.getMethod(DynamicHub.java:2227) ~[ldap-service:na]\n    at java.naming@17.0.5/com.sun.jndi.ldap.Connection.createSocket(Connection.java:293) ~[na:na]\n    at java.naming@17.0.5/com.sun.jndi.ldap.Connection.&lt;init&gt;(Connection.java:232) ~[na:na]\n    ... 47 common frames omitted\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":27726448,"reputation":1,"user_id":21165891,"display_name":"Khadija Assouki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675785470,"creation_date":1675781943,"question_id":75375136,"body_markdown":"My app is an sos app that can send an sms with location by shaking the phone to a saved contact.\r\nBut when i want to try my app it keep show me &quot;permission denied can&#39;t use the app&quot; although i added the permission (contact and location and sms)\r\nCan you please help me to solve this problem\r\n\r\nThis is my code :\r\n\r\n    Button button1;\r\n    ListView listView;\r\n    databaseOpenHelper db;\r\n    List&lt;ContactModel&gt; list;\r\n    CustomAdapter customAdapter;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_phone);\r\n\r\n\r\n        // check for runtime permissions\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_DENIED) {\r\n                requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.SEND_SMS, Manifest.permission.READ_CONTACTS}, 100);\r\n            }\r\n        }\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            requestPermissions(new String[]{Manifest.permission.ACCESS_BACKGROUND_LOCATION}, 100);\r\n        }\r\n\r\n        // start the service\r\n        SensorService sensorService = new SensorService();\r\n        Intent intent = new Intent(this, sensorService.getClass());\r\n        if (!isMyServiceRunning(sensorService.getClass())) {\r\n            startService(intent);\r\n        }\r\n\r\n\r\n        button1 = findViewById(R.id.Button1);\r\n        listView = (ListView) findViewById(R.id.ListView);\r\n        db = new databaseOpenHelper(this);\r\n        list = db.getAllContacts();\r\n        customAdapter = new CustomAdapter(this, list);\r\n        listView.setAdapter(customAdapter);\r\n\r\n        button1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // calling of getContacts()\r\n                if (db.count() != 5) {\r\n                    Intent intent = new Intent(Intent.ACTION_PICK, ContactsContract.Contacts.CONTENT_URI);\r\n                    startActivityForResult(intent, PICK_CONTACT);\r\n                } else {\r\n                    Toast.makeText(phone.this, &quot;Can&#39;t Add more than 5 Contacts&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private boolean isMyServiceRunning(Class&lt;?&gt; serviceClass) {\r\n        ActivityManager manager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\r\n        for (ActivityManager.RunningServiceInfo service : manager.getRunningServices(Integer.MAX_VALUE)) {\r\n            if (serviceClass.getName().equals(service.service.getClassName())) {\r\n                Log.i(&quot;Service status&quot;, &quot;Running&quot;);\r\n                return true;\r\n            }\r\n        }\r\n        Log.i(&quot;Service status&quot;, &quot;Not running&quot;);\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        Intent broadcastIntent = new Intent();\r\n        broadcastIntent.setAction(&quot;restartservice&quot;);\r\n        broadcastIntent.setClass(this, ReactivateService.class);\r\n        this.sendBroadcast(broadcastIntent);\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == 100) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\r\n                Toast.makeText(this, &quot;Permissions Denied!\\n Can&#39;t use the App!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        // get the contact from the PhoneBook of device\r\n        switch (requestCode) {\r\n            case (PICK_CONTACT):\r\n                if (resultCode == Activity.RESULT_OK) {\r\n\r\n                    Uri contactData = data.getData();\r\n                    Cursor c = managedQuery(contactData, null, null, null, null);\r\n                    if (c.moveToFirst()) {\r\n\r\n                        String id = c.getString(c.getColumnIndexOrThrow(ContactsContract.Contacts._ID));\r\n                        String hasPhone = c.getString(c.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER));\r\n                        String phone = null;\r\n                        try {\r\n                            if (hasPhone.equalsIgnoreCase(&quot;1&quot;)) {\r\n                                Cursor phones = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = &quot; + id, null, null);\r\n                                phones.moveToFirst();\r\n                                phone = phones.getString(phones.getColumnIndex(&quot;data1&quot;));\r\n                            }\r\n                            String name = c.getString(c.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));\r\n                            db.addcontact(new ContactModel(0, name, phone));\r\n                            list = db.getAllContacts();\r\n                            customAdapter.refresh(list);\r\n                        } catch (Exception ex) {\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n","title":"My app keep showing &quot;permission denied can&#39;t use the app&quot;","body":"<p>My app is an sos app that can send an sms with location by shaking the phone to a saved contact.\nBut when i want to try my app it keep show me &quot;permission denied can't use the app&quot; although i added the permission (contact and location and sms)\nCan you please help me to solve this problem</p>\n<p>This is my code :</p>\n<pre><code>Button button1;\nListView listView;\ndatabaseOpenHelper db;\nList&lt;ContactModel&gt; list;\nCustomAdapter customAdapter;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_phone);\n\n\n    // check for runtime permissions\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_DENIED) {\n            requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.SEND_SMS, Manifest.permission.READ_CONTACTS}, 100);\n        }\n    }\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        requestPermissions(new String[]{Manifest.permission.ACCESS_BACKGROUND_LOCATION}, 100);\n    }\n\n    // start the service\n    SensorService sensorService = new SensorService();\n    Intent intent = new Intent(this, sensorService.getClass());\n    if (!isMyServiceRunning(sensorService.getClass())) {\n        startService(intent);\n    }\n\n\n    button1 = findViewById(R.id.Button1);\n    listView = (ListView) findViewById(R.id.ListView);\n    db = new databaseOpenHelper(this);\n    list = db.getAllContacts();\n    customAdapter = new CustomAdapter(this, list);\n    listView.setAdapter(customAdapter);\n\n    button1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            // calling of getContacts()\n            if (db.count() != 5) {\n                Intent intent = new Intent(Intent.ACTION_PICK, ContactsContract.Contacts.CONTENT_URI);\n                startActivityForResult(intent, PICK_CONTACT);\n            } else {\n                Toast.makeText(phone.this, &quot;Can't Add more than 5 Contacts&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n}\n\nprivate boolean isMyServiceRunning(Class&lt;?&gt; serviceClass) {\n    ActivityManager manager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\n    for (ActivityManager.RunningServiceInfo service : manager.getRunningServices(Integer.MAX_VALUE)) {\n        if (serviceClass.getName().equals(service.service.getClassName())) {\n            Log.i(&quot;Service status&quot;, &quot;Running&quot;);\n            return true;\n        }\n    }\n    Log.i(&quot;Service status&quot;, &quot;Not running&quot;);\n    return false;\n}\n\n@Override\nprotected void onDestroy() {\n    Intent broadcastIntent = new Intent();\n    broadcastIntent.setAction(&quot;restartservice&quot;);\n    broadcastIntent.setClass(this, ReactivateService.class);\n    this.sendBroadcast(broadcastIntent);\n    super.onDestroy();\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == 100) {\n        if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\n            Toast.makeText(this, &quot;Permissions Denied!\\n Can't use the App!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    // get the contact from the PhoneBook of device\n    switch (requestCode) {\n        case (PICK_CONTACT):\n            if (resultCode == Activity.RESULT_OK) {\n\n                Uri contactData = data.getData();\n                Cursor c = managedQuery(contactData, null, null, null, null);\n                if (c.moveToFirst()) {\n\n                    String id = c.getString(c.getColumnIndexOrThrow(ContactsContract.Contacts._ID));\n                    String hasPhone = c.getString(c.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER));\n                    String phone = null;\n                    try {\n                        if (hasPhone.equalsIgnoreCase(&quot;1&quot;)) {\n                            Cursor phones = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null, ContactsContract.CommonDataKinds.Phone.CONTACT_ID + &quot; = &quot; + id, null, null);\n                            phones.moveToFirst();\n                            phone = phones.getString(phones.getColumnIndex(&quot;data1&quot;));\n                        }\n                        String name = c.getString(c.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));\n                        db.addcontact(new ContactModel(0, name, phone));\n                        list = db.getAllContacts();\n                        customAdapter.refresh(list);\n                    } catch (Exception ex) {\n                    }\n                }\n            }\n            break;\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2038203,"reputation":1330,"user_id":1820013,"display_name":"bbejeck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675785258,"creation_date":1675785258,"answer_id":75375893,"question_id":75362479,"body_markdown":"&gt;1.what is the purpose of each of the two topics?\r\n\r\nThose are the changelog topics that back the states stores involved in the join.  Each &quot;side&quot; of the join will look in the other side&#39;s state store for a match on a key, i.e., perform a join.\r\n\r\n&gt;2.What is the data stored by them? Is it a key-value pair?\r\n\r\nYes, changelog topics are Kafka topics, and they store the key-value pairs in the state stores for durability.\r\n\r\n&gt;3.Is there a way to query these internal topic and get the number of events present in these internal topics ?\r\n\r\nYou could point a consumer at those topics to inspect the records.  But what is the use case for doing so? Also, you&#39;d want to ensure you never produce records to those topics.\r\n\r\nThe state stores for joins aren&#39;t accessible via interactive queries.  If you want to get an idea of the number of joins, you could add an operator after the join that logs a running counter and logs the results or something similar.  \r\n\r\n ","title":"Is there a way to query the internal state store generated by kafka streams?","body":"<blockquote>\n<p>1.what is the purpose of each of the two topics?</p>\n</blockquote>\n<p>Those are the changelog topics that back the states stores involved in the join.  Each &quot;side&quot; of the join will look in the other side's state store for a match on a key, i.e., perform a join.</p>\n<blockquote>\n<p>2.What is the data stored by them? Is it a key-value pair?</p>\n</blockquote>\n<p>Yes, changelog topics are Kafka topics, and they store the key-value pairs in the state stores for durability.</p>\n<blockquote>\n<p>3.Is there a way to query these internal topic and get the number of events present in these internal topics ?</p>\n</blockquote>\n<p>You could point a consumer at those topics to inspect the records.  But what is the use case for doing so? Also, you'd want to ensure you never produce records to those topics.</p>\n<p>The state stores for joins aren't accessible via interactive queries.  If you want to get an idea of the number of joins, you could add an operator after the join that logs a running counter and logs the results or something similar.</p>\n"}],"owner":{"account_id":27716679,"reputation":1,"user_id":21158234,"display_name":"anshu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675785258,"creation_date":1675692898,"question_id":75362479,"body_markdown":"I have joined two kakfa streams using .joinWindows function , after which Two changelog topics are generted\r\n\r\n - {consumer-group}--KSTREAM-JOINOTHER-0000000005-store-changelog\r\n - {consumer-group}--KSTREAM-JOINTHIS-0000000004-store-changelog\r\n\r\n\r\n\r\n1.what is the purpose of each of the two topics? \r\n  \r\n2.What is the data stored by them, is it a key-value pair ?\r\n\r\n3.Is there a way to query these internal topic and get the number of events present in these internal topics ?\r\n\r\nCould pass the internal store to a processor and then accessing it tried using windowstore, but it doesn’t have a function to get number of events processed.\r\ncode : \r\n```\r\nKeyvalue stateStore = processorContext.getStateStore(&quot;KSTREAM-JOINTHIS-0000000005-store&quot;);\r\nstateStore.approximateNumEntries();\r\n```\r\n```\r\norg.apache.kafka.streams.processor.internals.AbstractReadWriteDecorator$WindowStoreReadWriteDecorator cannot be cast to class org.apache.kafka.streams.state.KeyValueStore\r\n```\r\nI want to get the total count of events entering the stream across various partitions and the the number of joins that took place \r\n","title":"Is there a way to query the internal state store generated by kafka streams?","body":"<p>I have joined two kakfa streams using .joinWindows function , after which Two changelog topics are generted</p>\n<ul>\n<li>{consumer-group}--KSTREAM-JOINOTHER-0000000005-store-changelog</li>\n<li>{consumer-group}--KSTREAM-JOINTHIS-0000000004-store-changelog</li>\n</ul>\n<p>1.what is the purpose of each of the two topics?</p>\n<p>2.What is the data stored by them, is it a key-value pair ?</p>\n<p>3.Is there a way to query these internal topic and get the number of events present in these internal topics ?</p>\n<p>Could pass the internal store to a processor and then accessing it tried using windowstore, but it doesn’t have a function to get number of events processed.\ncode :</p>\n<pre><code>Keyvalue stateStore = processorContext.getStateStore(&quot;KSTREAM-JOINTHIS-0000000005-store&quot;);\nstateStore.approximateNumEntries();\n</code></pre>\n<pre><code>org.apache.kafka.streams.processor.internals.AbstractReadWriteDecorator$WindowStoreReadWriteDecorator cannot be cast to class org.apache.kafka.streams.state.KeyValueStore\n</code></pre>\n<p>I want to get the total count of events entering the stream across various partitions and the the number of joins that took place</p>\n"},{"tags":["java","vert.x"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675785248,"creation_date":1675785248,"answer_id":75375888,"question_id":75375506,"body_markdown":"The Vert.x Event Bus does not store messages and thus does not offer any guarantee about delivery. In other words, when doing point-to-point messaging, it is the same as making an HTTP request: if you don&#39;t get an acknowledgement by the receiver, you don&#39;t know if the requests succeeded.\r\n\r\nConsequently, you have to deal with it as with an HTTP interaction: design your system with commands that are idempotent. Then if you receive an error (failure or timeout), you can retry until the command is processed and acknowledged.\r\n\r\nThe Vert.x Circuit breaker has builtin retry policies, but it is your job to design the commands and implement the receiver side for idempotency.\r\n","title":"How should I implement Vertx resiliency with retrying until some condition is met?","body":"<p>The Vert.x Event Bus does not store messages and thus does not offer any guarantee about delivery. In other words, when doing point-to-point messaging, it is the same as making an HTTP request: if you don't get an acknowledgement by the receiver, you don't know if the requests succeeded.</p>\n<p>Consequently, you have to deal with it as with an HTTP interaction: design your system with commands that are idempotent. Then if you receive an error (failure or timeout), you can retry until the command is processed and acknowledged.</p>\n<p>The Vert.x Circuit breaker has builtin retry policies, but it is your job to design the commands and implement the receiver side for idempotency.</p>\n"}],"owner":{"account_id":2560275,"reputation":339,"user_id":2326697,"accept_rate":78,"display_name":"Zygmuntix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675785248,"creation_date":1675783582,"question_id":75375506,"body_markdown":"I would like to implement in my Vertx application resiliency. The case is that I have 2 application instances (primary and secondary) and I would like to try to send messages from primary to secondary as long as some condition is not met. In this way I want to implement resiliency - when there is no internet on primary&#39;s network - try sending the same message over and over. Let&#39;s say it is some boolean flag. I would like to achieve something like that (in pseudocode):\r\n\r\n    while(condition not met)\r\n    boolean messageSendingSuccess = tryToSendMessage(secondaryAddress);\r\n    if(messageSendingSuccess) return;\r\n\r\nIn reality I would like to create the whole queue of messages and implement the solution for the whole queue of messages (until the first message is sent - wait. when first message is sent - start trying to send new message etc.), but this is the scenario for one message.\r\n\r\nHow can I achieve that? I know that CircuitBreaker will not help me here https://vertx.io/docs/vertx-circuit-breaker/java/ because it is trying to reconnect given number of times. I do not want to stop trying after given number of times or after some time - I would like to stop trying when some condition is met.\r\nThe solution from this webpage looks interesting:\r\nhttps://blog.axway.com/product-insights/amplify-platform/application-integration/vert-x-how-to-handle-retry-with-the-eventbus but I think this solution is only for communicating inside the application (not to communicate through the network) - I do not see where could I point out the network address where I should send the message in this code?\r\n\r\n  \r\n\r\n    public class RetryWithHandlerVerticle extends AbstractVerticle {\r\n          @Override\r\n          public void start() throws Exception {\r\n             vertx.eventBus() // (1)\r\n                  .send(&quot;hello.handler.failure.retry&quot;, // (2) \r\n                        &quot;Hello&quot;, // (3) \r\n                         new Handler&lt;AsyncResult&lt;Message&lt;String&gt;&gt;&gt;() { // (4)\r\n                            private int count = 1;\r\n                            @Override\r\n                            public void handle(final AsyncResult&lt;Message&lt;String&gt;&gt; aResult) {\r\n                               if (aResult.succeeded()) { // (5)\r\n                                  System.out.printf(&quot;received: \\&quot;%s\\&quot;\\n&quot;, aResult.result().body()); \r\n                               } else if (count &lt; 3) { // (6)\r\n                                  System.out.printf(&quot;retry count %d, received error \\&quot;%s\\&quot;\\n&quot;, \r\n                                                    count, aResult.cause().getMessage());\r\n                                  vertx.eventBus().send(&quot;hello.handler.failure.retry&quot;, &quot;Hello&quot;, this); // (7)\r\n                                  count = count + 1;\r\n                               } else {\r\n                                  aResult.cause().printStackTrace(); // (8)\r\n                               }\r\n                            }\r\n                  });\r\n            }\r\n        }","title":"How should I implement Vertx resiliency with retrying until some condition is met?","body":"<p>I would like to implement in my Vertx application resiliency. The case is that I have 2 application instances (primary and secondary) and I would like to try to send messages from primary to secondary as long as some condition is not met. In this way I want to implement resiliency - when there is no internet on primary's network - try sending the same message over and over. Let's say it is some boolean flag. I would like to achieve something like that (in pseudocode):</p>\n<pre><code>while(condition not met)\nboolean messageSendingSuccess = tryToSendMessage(secondaryAddress);\nif(messageSendingSuccess) return;\n</code></pre>\n<p>In reality I would like to create the whole queue of messages and implement the solution for the whole queue of messages (until the first message is sent - wait. when first message is sent - start trying to send new message etc.), but this is the scenario for one message.</p>\n<p>How can I achieve that? I know that CircuitBreaker will not help me here <a href=\"https://vertx.io/docs/vertx-circuit-breaker/java/\" rel=\"nofollow noreferrer\">https://vertx.io/docs/vertx-circuit-breaker/java/</a> because it is trying to reconnect given number of times. I do not want to stop trying after given number of times or after some time - I would like to stop trying when some condition is met.\nThe solution from this webpage looks interesting:\n<a href=\"https://blog.axway.com/product-insights/amplify-platform/application-integration/vert-x-how-to-handle-retry-with-the-eventbus\" rel=\"nofollow noreferrer\">https://blog.axway.com/product-insights/amplify-platform/application-integration/vert-x-how-to-handle-retry-with-the-eventbus</a> but I think this solution is only for communicating inside the application (not to communicate through the network) - I do not see where could I point out the network address where I should send the message in this code?</p>\n<pre><code>public class RetryWithHandlerVerticle extends AbstractVerticle {\n      @Override\n      public void start() throws Exception {\n         vertx.eventBus() // (1)\n              .send(&quot;hello.handler.failure.retry&quot;, // (2) \n                    &quot;Hello&quot;, // (3) \n                     new Handler&lt;AsyncResult&lt;Message&lt;String&gt;&gt;&gt;() { // (4)\n                        private int count = 1;\n                        @Override\n                        public void handle(final AsyncResult&lt;Message&lt;String&gt;&gt; aResult) {\n                           if (aResult.succeeded()) { // (5)\n                              System.out.printf(&quot;received: \\&quot;%s\\&quot;\\n&quot;, aResult.result().body()); \n                           } else if (count &lt; 3) { // (6)\n                              System.out.printf(&quot;retry count %d, received error \\&quot;%s\\&quot;\\n&quot;, \n                                                count, aResult.cause().getMessage());\n                              vertx.eventBus().send(&quot;hello.handler.failure.retry&quot;, &quot;Hello&quot;, this); // (7)\n                              count = count + 1;\n                           } else {\n                              aResult.cause().printStackTrace(); // (8)\n                           }\n                        }\n              });\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","android-scrollview"],"answers":[{"tags":[],"owner":{"account_id":18365379,"reputation":117,"user_id":13376540,"display_name":"OneKe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675785128,"creation_date":1675785128,"answer_id":75375860,"question_id":75375782,"body_markdown":"The issue with the ScrollView not scrolling might be due to the height of the ScrollView and the LinearLayout inside it. The height of the ScrollView is set to &quot;match_parent&quot; which means it will take up the full height of the parent layout. The height of the LinearLayout inside the ScrollView is set to &quot;wrap_content&quot; which means it will only be as tall as its contents.\r\n\r\nIf the number of buttons inside the LinearLayout is more than what can be displayed on the screen, the ScrollView will not be able to scroll as its height is already taking up the full height of the parent layout.\r\n\r\nTo resolve this, you can change the height of the LinearLayout inside the ScrollView to &quot;match_parent&quot;. This will make the height of the LinearLayout expand to accommodate all its contents and the ScrollView will be able to scroll.\r\n\r\nHere&#39;s the modified code:\r\n\r\n    &lt;LinearLayout\r\n    android:id=&quot;@+id/scroll_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:animateLayoutChanges=&quot;true&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;","title":"ScrollView not scrolling down","body":"<p>The issue with the ScrollView not scrolling might be due to the height of the ScrollView and the LinearLayout inside it. The height of the ScrollView is set to &quot;match_parent&quot; which means it will take up the full height of the parent layout. The height of the LinearLayout inside the ScrollView is set to &quot;wrap_content&quot; which means it will only be as tall as its contents.</p>\n<p>If the number of buttons inside the LinearLayout is more than what can be displayed on the screen, the ScrollView will not be able to scroll as its height is already taking up the full height of the parent layout.</p>\n<p>To resolve this, you can change the height of the LinearLayout inside the ScrollView to &quot;match_parent&quot;. This will make the height of the LinearLayout expand to accommodate all its contents and the ScrollView will be able to scroll.</p>\n<p>Here's the modified code:</p>\n<pre><code>&lt;LinearLayout\nandroid:id=&quot;@+id/scroll_layout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:animateLayoutChanges=&quot;true&quot;\nandroid:orientation=&quot;vertical&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":17664347,"reputation":9,"user_id":12822110,"display_name":"Emma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675785128,"creation_date":1675784777,"question_id":75375782,"body_markdown":"I am building an application and the ScrollView function is not scrolling down (not working), it only views a number of buttons and the rest of the buttons are not there!\r\n\r\nIt should view the rest of the buttons when I scroll down (buttons are retrieved from a loop)! but unfortunately it doesn&#39;t work!\r\n\r\nHere is the code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n```\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:animateLayoutChanges=&quot;true&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n\r\n    tools:context=&quot;.viewdevices&quot;&gt;\r\n\r\n     &lt;TextView\r\n         android:id=&quot;@+id/username&quot;\r\n         android:layout_width=&quot;fill_parent&quot;\r\n         android:layout_height=&quot;wrap_content&quot;\r\n         android:gravity=&quot;center_horizontal&quot;\r\n         android:paddingTop=&quot;300dp&quot;\r\n         android:text=&quot;@string/username&quot;\r\n         android:textAlignment=&quot;center&quot;\r\n         android:textSize=&quot;30dp&quot;\r\n         android:textStyle=&quot;bold&quot;\r\n         android:typeface=&quot;serif&quot;\r\n\r\n         /&gt;\r\n\r\n    &lt;ScrollView\r\n        android:id=&quot;@+id/scroll_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:animateLayoutChanges=&quot;true&quot;\r\n        android:fillViewport=&quot;true&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/username&quot;\r\n        &gt;\r\n\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/scroll_layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:animateLayoutChanges=&quot;true&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;Button\r\n\r\n                android:id=&quot;@+id/devicename&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:text=&quot;&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/ScrollView&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\ncan anyone figure what I did wrong?","title":"ScrollView not scrolling down","body":"<p>I am building an application and the ScrollView function is not scrolling down (not working), it only views a number of buttons and the rest of the buttons are not there!</p>\n<p>It should view the rest of the buttons when I scroll down (buttons are retrieved from a loop)! but unfortunately it doesn't work!</p>\n<p>Here is the code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n</code></pre>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:animateLayoutChanges=&quot;true&quot;\n    android:orientation=&quot;vertical&quot;\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\n\n    tools:context=&quot;.viewdevices&quot;&gt;\n\n     &lt;TextView\n         android:id=&quot;@+id/username&quot;\n         android:layout_width=&quot;fill_parent&quot;\n         android:layout_height=&quot;wrap_content&quot;\n         android:gravity=&quot;center_horizontal&quot;\n         android:paddingTop=&quot;300dp&quot;\n         android:text=&quot;@string/username&quot;\n         android:textAlignment=&quot;center&quot;\n         android:textSize=&quot;30dp&quot;\n         android:textStyle=&quot;bold&quot;\n         android:typeface=&quot;serif&quot;\n\n         /&gt;\n\n    &lt;ScrollView\n        android:id=&quot;@+id/scroll_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:animateLayoutChanges=&quot;true&quot;\n        android:fillViewport=&quot;true&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/username&quot;\n        &gt;\n\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/scroll_layout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:animateLayoutChanges=&quot;true&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;Button\n\n                android:id=&quot;@+id/devicename&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:text=&quot;&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/ScrollView&gt;\n\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>can anyone figure what I did wrong?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9326,"page":666,"page_size":100}
