{"items":[{"tags":["java","multithreading","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1634892647,"post_id":69673480,"comment_id":123153891,"body_markdown":"Use a `javafx.concurrent.Task` (and use its API for messages/progress). See [Concurrency in JavaFX](https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm#JFXIP546).","body":"Use a <code>javafx.concurrent.Task</code> (and use its API for messages/progress). See <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm#JFXIP546\" rel=\"nofollow noreferrer\">Concurrency in JavaFX</a>."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1634893193,"post_id":69673480,"comment_id":123154140,"body_markdown":"Alternatively you can execute the entire for loop on a separate thread.  When you update the GUI do it using the JavaFx thread by `Platform.runLater(()-&gt;  progressText.setText(&quot;Starting...&quot;));`","body":"Alternatively you can execute the entire for loop on a separate thread.  When you update the GUI do it using the JavaFx thread by <code>Platform.runLater(()-&gt;  progressText.setText(&quot;Starting...&quot;));</code>"}],"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634893130,"answer_count":0,"score":0,"last_activity_date":1634890265,"creation_date":1634890265,"question_id":69673480,"body_markdown":"I&#39;m trying to build an application that will execute several queries in a loop. Queries are to be executed one by one (one after the other). If I do code in one thread, the GUI freezes for the duration of the queries (they take a while) and only after they are finished is it active again, and I would like to have a working progress bar as well.\r\n\r\n    protected void onButtonClick() throws InterruptedException {\r\n        String[] array = getIDs();\r\n\r\n        progressText.setText(&quot;Starting...&quot;);\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            progressText.setText(&quot;Updated: &quot; + i + &quot; of &quot; + array.length + &quot; ids.&quot;);\r\n\r\n            executeSingleQuery(array[i]);\r\n        }\r\n        progressText.setText(&quot;Done!&quot;);\r\n    }\r\n\r\n\r\nI know I should work on threads probably, but I don&#39;t really know how. If I add\r\n\r\n    new Thread(() -&gt;executeSingleQuery(array[i])).start();\r\n\r\nto the loop, a new thread will be created with each iteration, and my point is that the queries should be executed one at a time; plus I want the progress bar to work properly.\r\nCan you help me find a solution?","title":"Javafx app GUI freezes while executing a query","body":"<p>I'm trying to build an application that will execute several queries in a loop. Queries are to be executed one by one (one after the other). If I do code in one thread, the GUI freezes for the duration of the queries (they take a while) and only after they are finished is it active again, and I would like to have a working progress bar as well.</p>\n<pre><code>protected void onButtonClick() throws InterruptedException {\n    String[] array = getIDs();\n\n    progressText.setText(&quot;Starting...&quot;);\n    for (int i = 0; i &lt; array.length; i++) {\n        progressText.setText(&quot;Updated: &quot; + i + &quot; of &quot; + array.length + &quot; ids.&quot;);\n\n        executeSingleQuery(array[i]);\n    }\n    progressText.setText(&quot;Done!&quot;);\n}\n</code></pre>\n<p>I know I should work on threads probably, but I don't really know how. If I add</p>\n<pre><code>new Thread(() -&gt;executeSingleQuery(array[i])).start();\n</code></pre>\n<p>to the loop, a new thread will be created with each iteration, and my point is that the queries should be executed one at a time; plus I want the progress bar to work properly.\nCan you help me find a solution?</p>\n"},{"tags":["java","multithreading","caching","volatile"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1626598231,"post_id":68427434,"comment_id":120931608,"body_markdown":"All writes to volatile variables are atomic, so I don&#39;t think `reader1` in your example can do what it does. You either read the value before the write, or after the write.","body":"All writes to volatile variables are atomic, so I don&#39;t think <code>reader1</code> in your example can do what it does. You either read the value before the write, or after the write."},{"owner":{"account_id":5785083,"reputation":182,"user_id":4564582,"accept_rate":75,"display_name":"hangyuan"},"score":0,"creation_date":1626598806,"post_id":68427434,"comment_id":120931742,"body_markdown":"Thanks. It&#39;s quite reasonable that `reader1` cannot see the change. But I&#39;m still trying to figure out `reader2`&#39;s view. Can `reader2` definitely see the change? What if variable is not volatile, can reader2 still see what is wants? What difference does volatile actually makes here?","body":"Thanks. It&#39;s quite reasonable that <code>reader1</code> cannot see the change. But I&#39;m still trying to figure out <code>reader2</code>&#39;s view. Can <code>reader2</code> definitely see the change? What if variable is not volatile, can reader2 still see what is wants? What difference does volatile actually makes here?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1626599028,"post_id":68427434,"comment_id":120931782,"body_markdown":"Umm I didn&#39;t say `reader1` cannot see the change. I said `reader1` can&#39;t be reading after the write starts but before the write ends, because writes are atomic. Reads either occur before, or after the write. If the variable is not volatile, `reader2` might not see the change.","body":"Umm I didn&#39;t say <code>reader1</code> cannot see the change. I said <code>reader1</code> can&#39;t be reading after the write starts but before the write ends, because writes are atomic. Reads either occur before, or after the write. If the variable is not volatile, <code>reader2</code> might not see the change."},{"owner":{"account_id":5785083,"reputation":182,"user_id":4564582,"accept_rate":75,"display_name":"hangyuan"},"score":0,"creation_date":1626599711,"post_id":68427434,"comment_id":120931915,"body_markdown":"Can `reader2` see the change after sufficiently long time? Or do you mean `reader2` may never see it? As I understand, CPU cache coherence guarantees `reader2` will finally see the change, not after very long time. So what is the difference between using volatile or not?","body":"Can <code>reader2</code> see the change after sufficiently long time? Or do you mean <code>reader2</code> may never see it? As I understand, CPU cache coherence guarantees <code>reader2</code> will finally see the change, not after very long time. So what is the difference between using volatile or not?"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1626603567,"post_id":68427434,"comment_id":120932709,"body_markdown":"One question: you said *when ready&#39;s change is visible to other thread, any variable update preceding to ready (here is value&#39;s change) is also visible to other threads;*... But where do you get this notion from? Never heard of it. I believe volatile and non-volatiles can be handled independently by the compiler, removing any such guarantee.","body":"One question: you said <i>when ready&#39;s change is visible to other thread, any variable update preceding to ready (here is value&#39;s change) is also visible to other threads;</i>... But where do you get this notion from? Never heard of it. I believe volatile and non-volatiles can be handled independently by the compiler, removing any such guarantee."},{"owner":{"account_id":5785083,"reputation":182,"user_id":4564582,"accept_rate":75,"display_name":"hangyuan"},"score":0,"creation_date":1626611854,"post_id":68427434,"comment_id":120934548,"body_markdown":"@JayC667 https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.1.4. Volatile limits compiler and runtime reordering, which synchronizes changes before volatile change. More specifically, it not only guarantees visibility of volatile change itself, but also the side effects of the code that led up the change. And you may want read [JSR-133 Cookbook](http://gee.cs.oswego.edu/dl/jmm/cookbook.html)","body":"@JayC667 <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.1.4\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/&hellip;</a>. Volatile limits compiler and runtime reordering, which synchronizes changes before volatile change. More specifically, it not only guarantees visibility of volatile change itself, but also the side effects of the code that led up the change. And you may want read <a href=\"http://gee.cs.oswego.edu/dl/jmm/cookbook.html\" rel=\"nofollow noreferrer\">JSR-133 Cookbook</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user14215102"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1626599071,"creation_date":1626598737,"answer_id":68427550,"question_id":68427434,"body_markdown":"Relevant bits of the language spec:\r\n\r\nvolatile keyword: https://docs.oracle.com/javase/specs/jls/se16/html/jls-8.html#jls-8.3.1.4\r\n\r\nmemory model: https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4\r\n\r\nThe CPU cache is not a factor here, as you correctly said.\r\n\r\nThis is more about optimizations. If `ready` is not volatile, the compiler is free to interpret\r\n\r\n    // this\r\n    while (!ready) {}\r\n\r\n    // as this\r\n    if (!ready) while(true) {}\r\n\r\nThat&#39;s certainly an optimization, it has to evaluate the condition fewer times. The value is not changed in the loop, it can be &quot;reused&quot;. In terms of single-thread semantics it is equivalent, but it won&#39;t do what you wanted.\r\n\r\nThat&#39;s not to say this would always happen. Compilers are free to do that, they don&#39;t have to.","title":"Understanding Java volatile visibility","body":"<p>Relevant bits of the language spec:</p>\n<p>volatile keyword: <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-8.html#jls-8.3.1.4\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se16/html/jls-8.html#jls-8.3.1.4</a></p>\n<p>memory model: <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4</a></p>\n<p>The CPU cache is not a factor here, as you correctly said.</p>\n<p>This is more about optimizations. If <code>ready</code> is not volatile, the compiler is free to interpret</p>\n<pre><code>// this\nwhile (!ready) {}\n\n// as this\nif (!ready) while(true) {}\n</code></pre>\n<p>That's certainly an optimization, it has to evaluate the condition fewer times. The value is not changed in the loop, it can be &quot;reused&quot;. In terms of single-thread semantics it is equivalent, but it won't do what you wanted.</p>\n<p>That's not to say this would always happen. Compilers are free to do that, they don't have to.</p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626699453,"creation_date":1626671645,"answer_id":68435393,"question_id":68427434,"body_markdown":"Answers to your 3 questions:\r\n\r\n1) A change of a volatile write doesn&#39;t need to be &#39;immediately&#39; visible to a volatile load. A correctly synchronized Java program will behave as if it is sequential consistent and for sequential consistency the real time order of loads/stores isn&#39;t relevant. So reads and writes can be skewed as long as the program order isn&#39;t violated (or as long as nobody can observe it). Linearizability = sequential consistency + respect real time order. For more info see this [answer][1].\r\n\r\n2) I still need to dig into the exact meaning of visible, but AFAIK it is  mostly a compiler level concern because hardware will prevent buffering loads/stores indefinitely.\r\n\r\n3) You are completely right about the articles being wrong. A lot of nonsense is written and &#39;flushing volatile writes to main memory instead of using the cache&#39; is the most common misunderstanding I&#39;m seeing. I think 50% of all my SO comments is about informing people that caches are always coherent. A great book on the topic is &#39;A primer on memory consistency and cache coherence 2e&#39; which is available for [free][2].\r\n\r\nThe informal semantics of the Java Memory model contains 3 parts:\r\n- atomicity\r\n- visibility\r\n- ordering\r\n\r\nAtomicity is about making sure that a read/write/rmw happens atomically in the global memory order. So nobody can observe some in between state. This deals with access atomicity like torn read/write, word tearing and proper alignment. It also deals with operational atomicity like rmw. \r\n\r\nIMHO it should also deal with store atomicity; so making sure that there is a point in time where the store becomes visibly to all cores. If you have for example the X86, then due to load buffering, a store can become visible to the issuing core earlier than to other cores and you have a violation of atomicity. But I haven&#39;t seen it being mentioned in the JMM.\r\n\r\nVisibility: this deals mostly with preventing compiler optimizations since the hardware will prevent delaying loads and buffering stores indefinitely. In some literature they also throw ordering of surrounding loads/stores under visibility; but I don&#39;t believe this is correct. \r\n\r\nOrdering: this is the bread and butter of memory models. It will make sure that loads/stores issued by a single processor don&#39;t get reordered. In the first example you can see the need for such behavior. This is the realm of the compiler barriers and cpu memory barriers.\r\n\r\nFor more info see:\r\nhttps://download.oracle.com/otndocs/jcp/memory_model-1.0-pfd-spec-oth-JSpec/\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66653558/does-volatile-guarantee-that-any-thread-reads-the-most-recently-written-value/66655552#66655552\r\n  [2]: https://www.morganclaypool.com/doi/10.2200/S00962ED2V01Y201910CAC049","title":"Understanding Java volatile visibility","body":"<p>Answers to your 3 questions:</p>\n<ol>\n<li><p>A change of a volatile write doesn't need to be 'immediately' visible to a volatile load. A correctly synchronized Java program will behave as if it is sequential consistent and for sequential consistency the real time order of loads/stores isn't relevant. So reads and writes can be skewed as long as the program order isn't violated (or as long as nobody can observe it). Linearizability = sequential consistency + respect real time order. For more info see this <a href=\"https://stackoverflow.com/questions/66653558/does-volatile-guarantee-that-any-thread-reads-the-most-recently-written-value/66655552#66655552\">answer</a>.</p>\n</li>\n<li><p>I still need to dig into the exact meaning of visible, but AFAIK it is  mostly a compiler level concern because hardware will prevent buffering loads/stores indefinitely.</p>\n</li>\n<li><p>You are completely right about the articles being wrong. A lot of nonsense is written and 'flushing volatile writes to main memory instead of using the cache' is the most common misunderstanding I'm seeing. I think 50% of all my SO comments is about informing people that caches are always coherent. A great book on the topic is 'A primer on memory consistency and cache coherence 2e' which is available for <a href=\"https://www.morganclaypool.com/doi/10.2200/S00962ED2V01Y201910CAC049\" rel=\"nofollow noreferrer\">free</a>.</p>\n</li>\n</ol>\n<p>The informal semantics of the Java Memory model contains 3 parts:</p>\n<ul>\n<li>atomicity</li>\n<li>visibility</li>\n<li>ordering</li>\n</ul>\n<p>Atomicity is about making sure that a read/write/rmw happens atomically in the global memory order. So nobody can observe some in between state. This deals with access atomicity like torn read/write, word tearing and proper alignment. It also deals with operational atomicity like rmw.</p>\n<p>IMHO it should also deal with store atomicity; so making sure that there is a point in time where the store becomes visibly to all cores. If you have for example the X86, then due to load buffering, a store can become visible to the issuing core earlier than to other cores and you have a violation of atomicity. But I haven't seen it being mentioned in the JMM.</p>\n<p>Visibility: this deals mostly with preventing compiler optimizations since the hardware will prevent delaying loads and buffering stores indefinitely. In some literature they also throw ordering of surrounding loads/stores under visibility; but I don't believe this is correct.</p>\n<p>Ordering: this is the bread and butter of memory models. It will make sure that loads/stores issued by a single processor don't get reordered. In the first example you can see the need for such behavior. This is the realm of the compiler barriers and cpu memory barriers.</p>\n<p>For more info see:\n<a href=\"https://download.oracle.com/otndocs/jcp/memory_model-1.0-pfd-spec-oth-JSpec/\" rel=\"nofollow noreferrer\">https://download.oracle.com/otndocs/jcp/memory_model-1.0-pfd-spec-oth-JSpec/</a></p>\n"},{"tags":[],"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1626673244,"creation_date":1626672760,"answer_id":68435498,"question_id":68427434,"body_markdown":"&gt; Visibility, for modern CPUs is guaranteed by cache coherence protocol (e.g. MESI) anyway, so what can volatile help here?\r\n\r\nThat doesn&#39;t help you. You aren&#39;t writing code for a modern CPU, you are writing code for a Java virtual machine that is allowed to have a virtual machine that has a virtual CPU whose virtual CPU caches are not coherent.\r\n\r\n&gt; Some articles say volatile variable uses memory directly instead of CPU cache, which guarantees visibility between threads. That doesn&#39;t sound a correct explain.\r\n\r\nThat is correct. But understand, that&#39;s with respect to the *virtual* machine that you are coding for. Its memory may well be implemented in your physical CPU&#39;s caches. That may allow your machine to use the caches and still have the memory visibility required by the Java specification.\r\n\r\nUsing `volatile` may ensure that writes go directly to the virtual machine&#39;s memory instead of the virtual machine&#39;s virtual CPU cache. The virtual machine&#39;s CPU cache does not need to provide visibility between threads because the Java specification doesn&#39;t require it to.\r\n\r\nYou cannot assume that characteristics of your particular physical hardware necessarily provide benefits that Java code can use directly. Instead, the JVM trades off those benefits to improve performance. But that means your Java code doesn&#39;t get those benefits.\r\n\r\nAgain, *you are not writing code for your physical CPU*, you are writing code for the virtual CPU that your JVM provides. That your CPU has coherent caches allows the JVM to do all kinds of optimizations that boost your code&#39;s performance, but the JVM is *not* required to pass those coherent caches through to your code and real JVM&#39;s do not. Doing so would mean eliminating a significant number of extremely valuable optimizations.","title":"Understanding Java volatile visibility","body":"<blockquote>\n<p>Visibility, for modern CPUs is guaranteed by cache coherence protocol (e.g. MESI) anyway, so what can volatile help here?</p>\n</blockquote>\n<p>That doesn't help you. You aren't writing code for a modern CPU, you are writing code for a Java virtual machine that is allowed to have a virtual machine that has a virtual CPU whose virtual CPU caches are not coherent.</p>\n<blockquote>\n<p>Some articles say volatile variable uses memory directly instead of CPU cache, which guarantees visibility between threads. That doesn't sound a correct explain.</p>\n</blockquote>\n<p>That is correct. But understand, that's with respect to the <em>virtual</em> machine that you are coding for. Its memory may well be implemented in your physical CPU's caches. That may allow your machine to use the caches and still have the memory visibility required by the Java specification.</p>\n<p>Using <code>volatile</code> may ensure that writes go directly to the virtual machine's memory instead of the virtual machine's virtual CPU cache. The virtual machine's CPU cache does not need to provide visibility between threads because the Java specification doesn't require it to.</p>\n<p>You cannot assume that characteristics of your particular physical hardware necessarily provide benefits that Java code can use directly. Instead, the JVM trades off those benefits to improve performance. But that means your Java code doesn't get those benefits.</p>\n<p>Again, <em>you are not writing code for your physical CPU</em>, you are writing code for the virtual CPU that your JVM provides. That your CPU has coherent caches allows the JVM to do all kinds of optimizations that boost your code's performance, but the JVM is <em>not</em> required to pass those coherent caches through to your code and real JVM's do not. Doing so would mean eliminating a significant number of extremely valuable optimizations.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1627009235,"creation_date":1626677471,"answer_id":68436221,"question_id":68427434,"body_markdown":"&gt; If ready is not defined volatile, is it possible that subscriber get stuck infinitely in the while loop? \r\n\r\nYes.\r\n\r\n&gt; Why?\r\n\r\nBecause the subscriber may not ever see the results of the publisher&#39;s write.  \r\n\r\nBecause ... the JLS does not *require* the value of an variable to be written to memory ... except to satisfy the *specified* visibility constraints.\r\n\r\n&gt; What does &#39;immediately visible&#39; mean? Write operation takes some time, so after how long can other threads see volatile&#39;s change? Can a read in another thread that happens very shortly after the write starts but before the write finishes see the change?\r\n\r\n(I think) that the JMM specifies or assumes that it is physically impossible to read and write the same conceptual memory cell at the same time.  So operations on a memory cell are time ordered.  Immediately visible means visible in the next possible opportunity to read following the write.\r\n\r\n&gt; Visibility, for modern CPUs is guaranteed by cache coherence protocol (e.g. MESI) anyway, so what can volatile help here?\r\n\r\n1) Compilers typically generate code that holds variables in registers, and only writes the values to memory *when necessary*.   Declaring a variable as `volatile` means that the value *must* be written to memory.  If you take this into consideration, you cannot rely on *just* the (hypothetical or actual) behavior of cache implementations to specify what `volatile` means.\r\n\r\n2) While current generation modern CPU / cache architectures behave that way, there is no guarantee that all future computers will behave that way.\r\n\r\n&gt; Some articles say volatile variable uses memory directly instead of CPU cache, which guarantees visibility between threads. \r\n\r\nSome people say that is incorrect ... for CPUs that implement a cache coherency protocol.  However, that is beside the point, because as I described above, the *current* value of a variable may not yet have been written to the cache yet.  Indeed, it may never be written to the cache.\r\n\r\n&gt;        Time : ----------------------------------------------------------&gt;\r\n&gt;     \r\n&gt;      writer : --------- | write | -----------------------\r\n&gt;     reader1 : ------------- | read | -------------------- can I see the change?\r\n&gt;     reader2 : --------------------| read | -------------- can I see the change?\r\n\r\nSo lets assume that your diagram shows physical time and represents threads running on different physical cores, reading and writing a cache-coherent memory cell via their respective caches.  \r\n\r\nWhat would happen at the physical level would depend on how the cache-coherency is implemented. \r\n\r\nI would *expect* Reader 1 to see the previous state of the cell (if it was available from its cache) or the new state if it wasn&#39;t.  Reader 2 would see the new state.  But it also depends on how long it takes for the writer thread&#39;s cache invalidation to propagate to the others&#39; caches.  And all sorts of other stuff that is hard to explain.\r\n\r\nIn short, we don&#39;t really know what would happen at the physical level. \r\n\r\nBut on the other hand, the writer and readers in the above picture can&#39;t actually *observe* the physical time like that anyway.  And neither can the programmer.  \r\n\r\nWhat the program / programmer sees is that the reads and writes DO NOT OVERLAP.  When the necessary *happens before* relations are present, there will be guarantees about visibility of memory writes by one thread to subsequent&lt;sup&gt;1&lt;/sup&gt; reads by another.  This applies for volatile variables, and for various other things.\r\n\r\nHow that guarantee is implemented, is not your problem.  And it really doesn&#39;t help if you do understand what it going on at the hardware level, because you don&#39;t actually know what code the JIT compiler is going to emit (today!) anyway.\r\n\r\n--------------------\r\n\r\n&lt;sup&gt;1 - That is, subsequent according to the *synchronization order* ... which you *could* view as a logical time.  The JLS Memory model doesn&#39;t actually talk about time at all.&lt;/sup&gt;","title":"Understanding Java volatile visibility","body":"<blockquote>\n<p>If ready is not defined volatile, is it possible that subscriber get stuck infinitely in the while loop?</p>\n</blockquote>\n<p>Yes.</p>\n<blockquote>\n<p>Why?</p>\n</blockquote>\n<p>Because the subscriber may not ever see the results of the publisher's write.</p>\n<p>Because ... the JLS does not <em>require</em> the value of an variable to be written to memory ... except to satisfy the <em>specified</em> visibility constraints.</p>\n<blockquote>\n<p>What does 'immediately visible' mean? Write operation takes some time, so after how long can other threads see volatile's change? Can a read in another thread that happens very shortly after the write starts but before the write finishes see the change?</p>\n</blockquote>\n<p>(I think) that the JMM specifies or assumes that it is physically impossible to read and write the same conceptual memory cell at the same time.  So operations on a memory cell are time ordered.  Immediately visible means visible in the next possible opportunity to read following the write.</p>\n<blockquote>\n<p>Visibility, for modern CPUs is guaranteed by cache coherence protocol (e.g. MESI) anyway, so what can volatile help here?</p>\n</blockquote>\n<ol>\n<li><p>Compilers typically generate code that holds variables in registers, and only writes the values to memory <em>when necessary</em>.   Declaring a variable as <code>volatile</code> means that the value <em>must</em> be written to memory.  If you take this into consideration, you cannot rely on <em>just</em> the (hypothetical or actual) behavior of cache implementations to specify what <code>volatile</code> means.</p>\n</li>\n<li><p>While current generation modern CPU / cache architectures behave that way, there is no guarantee that all future computers will behave that way.</p>\n</li>\n</ol>\n<blockquote>\n<p>Some articles say volatile variable uses memory directly instead of CPU cache, which guarantees visibility between threads.</p>\n</blockquote>\n<p>Some people say that is incorrect ... for CPUs that implement a cache coherency protocol.  However, that is beside the point, because as I described above, the <em>current</em> value of a variable may not yet have been written to the cache yet.  Indeed, it may never be written to the cache.</p>\n<blockquote>\n<pre><code>   Time : ----------------------------------------------------------&gt;\n\n writer : --------- | write | -----------------------\nreader1 : ------------- | read | -------------------- can I see the change?\nreader2 : --------------------| read | -------------- can I see the change?\n</code></pre>\n</blockquote>\n<p>So lets assume that your diagram shows physical time and represents threads running on different physical cores, reading and writing a cache-coherent memory cell via their respective caches.</p>\n<p>What would happen at the physical level would depend on how the cache-coherency is implemented.</p>\n<p>I would <em>expect</em> Reader 1 to see the previous state of the cell (if it was available from its cache) or the new state if it wasn't.  Reader 2 would see the new state.  But it also depends on how long it takes for the writer thread's cache invalidation to propagate to the others' caches.  And all sorts of other stuff that is hard to explain.</p>\n<p>In short, we don't really know what would happen at the physical level.</p>\n<p>But on the other hand, the writer and readers in the above picture can't actually <em>observe</em> the physical time like that anyway.  And neither can the programmer.</p>\n<p>What the program / programmer sees is that the reads and writes DO NOT OVERLAP.  When the necessary <em>happens before</em> relations are present, there will be guarantees about visibility of memory writes by one thread to subsequent<sup>1</sup> reads by another.  This applies for volatile variables, and for various other things.</p>\n<p>How that guarantee is implemented, is not your problem.  And it really doesn't help if you do understand what it going on at the hardware level, because you don't actually know what code the JIT compiler is going to emit (today!) anyway.</p>\n<hr />\n<p><sup>1 - That is, subsequent according to the <em>synchronization order</em> ... which you <em>could</em> view as a logical time.  The JLS Memory model doesn't actually talk about time at all.</sup></p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632359731,"creation_date":1632359731,"answer_id":69292885,"question_id":68427434,"body_markdown":"I&#39;ll just touch on this part :\r\n\r\n&gt; change to ready on publisher thread is immediately visible to other threads\r\n\r\nthat is not correct and the articles are wrong. The documentation makes a very clear statement [here](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5):\r\n\r\n&gt; A write to a volatile field happens-before every subsequent read of that field.\r\n\r\nThe complicated part here is _subsequent_. In plain english this means that when someone sees `ready` as being `true`, it will also see `value` as being `5`. This automatically implies that you need to _observe_ that value to be `true`, and it can happen that you might observe a different thing. So this is not &quot;immediately&quot;.\r\n\r\nWhat people confuse this with, is the fact that `volatile` offers _sequential consistency_, which means that if _someone_ has observed `ready == true`, then _everyone_ will also (unlike `release/acquire`, for example). ","title":"Understanding Java volatile visibility","body":"<p>I'll just touch on this part :</p>\n<blockquote>\n<p>change to ready on publisher thread is immediately visible to other threads</p>\n</blockquote>\n<p>that is not correct and the articles are wrong. The documentation makes a very clear statement <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">here</a>:</p>\n<blockquote>\n<p>A write to a volatile field happens-before every subsequent read of that field.</p>\n</blockquote>\n<p>The complicated part here is <em>subsequent</em>. In plain english this means that when someone sees <code>ready</code> as being <code>true</code>, it will also see <code>value</code> as being <code>5</code>. This automatically implies that you need to <em>observe</em> that value to be <code>true</code>, and it can happen that you might observe a different thing. So this is not &quot;immediately&quot;.</p>\n<p>What people confuse this with, is the fact that <code>volatile</code> offers <em>sequential consistency</em>, which means that if <em>someone</em> has observed <code>ready == true</code>, then <em>everyone</em> will also (unlike <code>release/acquire</code>, for example).</p>\n"}],"owner":{"account_id":5785083,"reputation":182,"user_id":4564582,"accept_rate":75,"display_name":"hangyuan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1002,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":68435498,"answer_count":5,"score":6,"last_activity_date":1634889661,"creation_date":1626597749,"question_id":68427434,"body_markdown":"I&#39;m reading about the Java `volatile` keyword and have confusion about its &#39;visibility&#39;.\r\n\r\nA typical usage of volatile keyword is:\r\n```java\r\nvolatile boolean ready = false;\r\nint value = 0;\r\n\r\nvoid publisher() {\r\n    value = 5;\r\n    ready = true;\r\n}\r\n\r\nvoid subscriber() {\r\n    while (!ready) {}\r\n    System.out.println(value);\r\n}\r\n```\r\nAs explained by most tutorials, using volatile for `ready` makes sure that:\r\n- change to `ready` on publisher thread is immediately visible to other threads (subscriber);\r\n- when `ready`&#39;s change is visible to other thread, any variable update preceding to `ready` (here is `value`&#39;s change) is also visible to other threads;\r\n\r\nI understand the 2nd, because `volatile` variable prevents memory reordering by using memory barriers, so writes before volatile write cannot be reordered after it, and reads after volatile read cannot be reordered before it. This is how `ready` prevents printing `value` = 0 in the above demo.\r\n\r\nBut I have confusion about the 1st guarantee, which is visibility of the volatile variable itself. That sounds a very vague definition to me.\r\n\r\nIn other words, my confusion is just on SINGLE variable&#39;s visibility, not multiple variables&#39; reordering or something. Let&#39;s simplify the above example:\r\n\r\n```java\r\nvolatile boolean ready = false;\r\n\r\nvoid publisher() {\r\n    ready = true;\r\n}\r\n\r\nvoid subscriber() {\r\n    while (!ready) {}\r\n}\r\n```\r\nIf `ready` is not defined volatile, is it possible that subscriber get stuck infinitely in the while loop? Why?\r\n\r\nA few questions I want to ask:\r\n- What does &#39;immediately visible&#39; mean? Write operation takes some time, so after how long can other threads see volatile&#39;s change? Can a read in another thread that happens very shortly after the write starts but before the write finishes see the change?\r\n- Visibility, for modern CPUs is guaranteed by cache coherence protocol (e.g. MESI) anyway, then why do we need `volatile` here? \r\n- Some articles say volatile variable uses memory directly instead of CPU cache, which guarantees visibility between threads. That doesn&#39;t sound a correct explain.\r\n\r\n```\r\n   Time : ----------------------------------------------------------&gt;\r\n\r\n writer : --------- | write | -----------------------\r\nreader1 : ------------- | read | -------------------- can I see the change?\r\nreader2 : --------------------| read | -------------- can I see the change?\r\n```\r\n\r\nHope I explained my question clearly.\r\n","title":"Understanding Java volatile visibility","body":"<p>I'm reading about the Java <code>volatile</code> keyword and have confusion about its 'visibility'.</p>\n<p>A typical usage of volatile keyword is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>volatile boolean ready = false;\nint value = 0;\n\nvoid publisher() {\n    value = 5;\n    ready = true;\n}\n\nvoid subscriber() {\n    while (!ready) {}\n    System.out.println(value);\n}\n</code></pre>\n<p>As explained by most tutorials, using volatile for <code>ready</code> makes sure that:</p>\n<ul>\n<li>change to <code>ready</code> on publisher thread is immediately visible to other threads (subscriber);</li>\n<li>when <code>ready</code>'s change is visible to other thread, any variable update preceding to <code>ready</code> (here is <code>value</code>'s change) is also visible to other threads;</li>\n</ul>\n<p>I understand the 2nd, because <code>volatile</code> variable prevents memory reordering by using memory barriers, so writes before volatile write cannot be reordered after it, and reads after volatile read cannot be reordered before it. This is how <code>ready</code> prevents printing <code>value</code> = 0 in the above demo.</p>\n<p>But I have confusion about the 1st guarantee, which is visibility of the volatile variable itself. That sounds a very vague definition to me.</p>\n<p>In other words, my confusion is just on SINGLE variable's visibility, not multiple variables' reordering or something. Let's simplify the above example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>volatile boolean ready = false;\n\nvoid publisher() {\n    ready = true;\n}\n\nvoid subscriber() {\n    while (!ready) {}\n}\n</code></pre>\n<p>If <code>ready</code> is not defined volatile, is it possible that subscriber get stuck infinitely in the while loop? Why?</p>\n<p>A few questions I want to ask:</p>\n<ul>\n<li>What does 'immediately visible' mean? Write operation takes some time, so after how long can other threads see volatile's change? Can a read in another thread that happens very shortly after the write starts but before the write finishes see the change?</li>\n<li>Visibility, for modern CPUs is guaranteed by cache coherence protocol (e.g. MESI) anyway, then why do we need <code>volatile</code> here?</li>\n<li>Some articles say volatile variable uses memory directly instead of CPU cache, which guarantees visibility between threads. That doesn't sound a correct explain.</li>\n</ul>\n<pre><code>   Time : ----------------------------------------------------------&gt;\n\n writer : --------- | write | -----------------------\nreader1 : ------------- | read | -------------------- can I see the change?\nreader2 : --------------------| read | -------------- can I see the change?\n</code></pre>\n<p>Hope I explained my question clearly.</p>\n"},{"tags":["java","macos","swing","awt","rendering"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1634719606,"post_id":69642737,"comment_id":123097980,"body_markdown":"1) Don&#39;t mix Swing and AWT components. Instead of `Component`, \n`Label` &amp; `TextField` use `JComponent`, \n`JLabel` &amp; `JTextField` 2) Start the GUI on the EDT.","body":"1) Don&#39;t mix Swing and AWT components. Instead of <code>Component</code>,  <code>Label</code> &amp; <code>TextField</code> use <code>JComponent</code>,  <code>JLabel</code> &amp; <code>JTextField</code> 2) Start the GUI on the EDT."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1634719714,"post_id":69642737,"comment_id":123098035,"body_markdown":"I would work to remove the AWT Label and TextField components and replace them with Swing JLabel and JTextField components.  AWT and Swing components don&#39;t play well together.  Without seeing any code, it&#39;s difficult to comment further, but no, components aren&#39;t supposed to hide.","body":"I would work to remove the AWT Label and TextField components and replace them with Swing JLabel and JTextField components.  AWT and Swing components don&#39;t play well together.  Without seeing any code, it&#39;s difficult to comment further, but no, components aren&#39;t supposed to hide."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1634737879,"post_id":69642737,"comment_id":123106056,"body_markdown":"_For completeness_ I would say that posting a [mcve] would constitute completeness and not just a list of the [GUI] components you are using.","body":"<i>For completeness</i> I would say that posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would constitute completeness and not just a list of the [GUI] components you are using."},{"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"score":0,"creation_date":1634888151,"post_id":69642737,"comment_id":123152165,"body_markdown":"Cannot add a minimal reproducible example. The problem is already not 100% reproducible and has shown to be data-size dependant, so making the example minimal will apparently solve the problem.","body":"Cannot add a minimal reproducible example. The problem is already not 100% reproducible and has shown to be data-size dependant, so making the example minimal will apparently solve the problem."},{"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"score":0,"creation_date":1634888365,"post_id":69642737,"comment_id":123152244,"body_markdown":"@AndrewThompson Thanks for the edits and the comment. Solution approach 1) solved the problem. 2) was not applicable because already implemented. Could you post this as an answer, so that I can accept it.","body":"@AndrewThompson Thanks for the edits and the comment. Solution approach 1) solved the problem. 2) was not applicable because already implemented. Could you post this as an answer, so that I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634889648,"creation_date":1634889648,"answer_id":69673339,"question_id":69642737,"body_markdown":"Don&#39;t mix Swing and AWT components. Mixing them together might (often does) cause problems due to Swing providing lightweight components, while AWT has heavyweight components. \r\n\r\nI.E. Instead of `Component`, `Label` &amp; `TextField` use `JComponent` (or `JPanel`), `JLabel` &amp; `JTextField`.\r\n\r\n**Note:** Swing *is* built on AWT components - the inheritance hierarchy of Swing components typically leads back to an AWT component eventually. Also Swing uses a great many AWT APIs (printing, Java2D fonts, ..) and many of the AWT based layouts. It&#39;s just the components we need to be careful with.","title":"AWT and Swing components not rendering properly","body":"<p>Don't mix Swing and AWT components. Mixing them together might (often does) cause problems due to Swing providing lightweight components, while AWT has heavyweight components.</p>\n<p>I.E. Instead of <code>Component</code>, <code>Label</code> &amp; <code>TextField</code> use <code>JComponent</code> (or <code>JPanel</code>), <code>JLabel</code> &amp; <code>JTextField</code>.</p>\n<p><strong>Note:</strong> Swing <em>is</em> built on AWT components - the inheritance hierarchy of Swing components typically leads back to an AWT component eventually. Also Swing uses a great many AWT APIs (printing, Java2D fonts, ..) and many of the AWT based layouts. It's just the components we need to be careful with.</p>\n"}],"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69673339,"answer_count":1,"score":0,"last_activity_date":1634889648,"creation_date":1634718758,"question_id":69642737,"body_markdown":"I have an application that is used in our company to search the server for files relating to customers (the search provided by macOS fails and even third part programs such as FoxTrotSearch fail to find all the files on the network drive).\r\n\r\nSometimes (maybe 10% of times), the Preference Frame is not rendered completely. Some of the Components are simply missing on screen, but are somehow present because the other ones are placed correctly around the empty space. The missing components appear if I select another window/frame/application.\r\n\r\n[![Not correctly rendered frame, the lowest Panel should look like the ones above, but it&#39;s almost unpopulated][1]][1]\r\n\r\nI&#39;ve noted, that the problem appears more often when there are more components involved. Sometimes only a few components are missing, sometimes close to 50%.\r\n\r\nI place and add all the components before calling `validate(); pack(); setVisible(true);`\r\n\r\nIs there something I am missing or is this a behaviour that just has to be accepted?\r\n\r\nFor completeness: I am using following components:\r\n\r\n - `java.awt.Component`\r\n - `java.awt.Label`\r\n - `java.awt.TextField`\r\n - `javax.swing.JCheckBox`\r\n - `javax.swing.JFrame`\r\n - `javax.swing.JSeparator`\r\n - `javax.swing.JSpinner`\r\n - (`java.awt.FlowLayout`)\r\n - (`javax.swing.BoxLayout`)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/htRVi.png","title":"AWT and Swing components not rendering properly","body":"<p>I have an application that is used in our company to search the server for files relating to customers (the search provided by macOS fails and even third part programs such as FoxTrotSearch fail to find all the files on the network drive).</p>\n<p>Sometimes (maybe 10% of times), the Preference Frame is not rendered completely. Some of the Components are simply missing on screen, but are somehow present because the other ones are placed correctly around the empty space. The missing components appear if I select another window/frame/application.</p>\n<p><a href=\"https://i.stack.imgur.com/htRVi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/htRVi.png\" alt=\"Not correctly rendered frame, the lowest Panel should look like the ones above, but it's almost unpopulated\" /></a></p>\n<p>I've noted, that the problem appears more often when there are more components involved. Sometimes only a few components are missing, sometimes close to 50%.</p>\n<p>I place and add all the components before calling <code>validate(); pack(); setVisible(true);</code></p>\n<p>Is there something I am missing or is this a behaviour that just has to be accepted?</p>\n<p>For completeness: I am using following components:</p>\n<ul>\n<li><code>java.awt.Component</code></li>\n<li><code>java.awt.Label</code></li>\n<li><code>java.awt.TextField</code></li>\n<li><code>javax.swing.JCheckBox</code></li>\n<li><code>javax.swing.JFrame</code></li>\n<li><code>javax.swing.JSeparator</code></li>\n<li><code>javax.swing.JSpinner</code></li>\n<li>(<code>java.awt.FlowLayout</code>)</li>\n<li>(<code>javax.swing.BoxLayout</code>)</li>\n</ul>\n"},{"tags":["java","mysql","jooq"],"comments":[{"owner":{"account_id":18061143,"reputation":41,"user_id":13128245,"display_name":"JoneNa"},"score":0,"creation_date":1634888866,"post_id":69673139,"comment_id":123152410,"body_markdown":"tableName -&gt; &quot;messageTable1&quot; or &quot;messageTable2&quot;","body":"tableName -&gt; &quot;messageTable1&quot; or &quot;messageTable2&quot;"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634889638,"creation_date":1634889638,"answer_id":69673336,"question_id":69673139,"body_markdown":"### Using the [code generator][1]\r\n\r\nI&#39;m assuming you&#39;re not using the code generator in this example, because you want to make your column references dynamic, depending on the table name.\r\n\r\nThere&#39;s a possibility of generating common interfaces onto your tables, which would abstract over the two table types. Also, there are `Table.rename(String)` methods generated on those tables, which allow for renaming a table `MESSAGE_TABLE_1.rename(&quot;message_table_2&quot;)`. So your query would look like this:\r\n\r\n```java\r\npublic Message getMessageTest(String tableName) {\r\n    MessageTable1 msg = MESSAGE_TABLE_1.rename(tableName);\r\n\r\n    return roDslContext\r\n        .select(\r\n            msg.INDEX,\r\n            left(msg.MESSAGE, if_(msg.TYPE.eq(1), val(10), msg.MAX_LENGTH))\r\n        )\r\n        .from(msg)\r\n        .fetchOneInto(Message.class);\r\n}\r\n```\r\n\r\nAs always, this is assuming the following static import:\r\n\r\n```java\r\nimport static org.jooq.impl.DSL.*;\r\n```\r\n\r\n### The actual problem\r\n\r\nYou seem to be attempting to construct field references using [plain SQL templating][2]. You did it right for `msg.index` via `DSL.field(&quot;msg.index&quot;)`, but somehow tripped over the templating syntax for `msg.message`. This doesn&#39;t make sense:\r\n\r\n```java\r\nfield(&quot;{0}&quot;, String.class, &quot;msg.message&quot;);\r\n```\r\n\r\nWhen using a template, the placeholder `{0}` needs to be replaced by a `QueryPart` instance. You can&#39;t just pass a `String` instead (which would be interpreted as a bind value). What you meant to do here is any of these:\r\n\r\n```java\r\n// If you really need templating, though here, you don&#39;t:\r\nfield(&quot;{0}&quot;, String.class, name(&quot;msg&quot;, &quot;message&quot;));\r\n\r\n// Instead, just do this, if you want quoted names:\r\nfield(name(&quot;msg&quot;, &quot;message&quot;), String.class);\r\n\r\n// Or this, if you don&#39;t care about quoting the name\r\nfield(&quot;msg.message&quot;, String.class);\r\n```\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/","title":"Case When or iif syntax expression in jooq","body":"<h3>Using the <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/\" rel=\"nofollow noreferrer\">code generator</a></h3>\n<p>I'm assuming you're not using the code generator in this example, because you want to make your column references dynamic, depending on the table name.</p>\n<p>There's a possibility of generating common interfaces onto your tables, which would abstract over the two table types. Also, there are <code>Table.rename(String)</code> methods generated on those tables, which allow for renaming a table <code>MESSAGE_TABLE_1.rename(&quot;message_table_2&quot;)</code>. So your query would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Message getMessageTest(String tableName) {\n    MessageTable1 msg = MESSAGE_TABLE_1.rename(tableName);\n\n    return roDslContext\n        .select(\n            msg.INDEX,\n            left(msg.MESSAGE, if_(msg.TYPE.eq(1), val(10), msg.MAX_LENGTH))\n        )\n        .from(msg)\n        .fetchOneInto(Message.class);\n}\n</code></pre>\n<p>As always, this is assuming the following static import:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.jooq.impl.DSL.*;\n</code></pre>\n<h3>The actual problem</h3>\n<p>You seem to be attempting to construct field references using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL templating</a>. You did it right for <code>msg.index</code> via <code>DSL.field(&quot;msg.index&quot;)</code>, but somehow tripped over the templating syntax for <code>msg.message</code>. This doesn't make sense:</p>\n<pre class=\"lang-java prettyprint-override\"><code>field(&quot;{0}&quot;, String.class, &quot;msg.message&quot;);\n</code></pre>\n<p>When using a template, the placeholder <code>{0}</code> needs to be replaced by a <code>QueryPart</code> instance. You can't just pass a <code>String</code> instead (which would be interpreted as a bind value). What you meant to do here is any of these:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// If you really need templating, though here, you don't:\nfield(&quot;{0}&quot;, String.class, name(&quot;msg&quot;, &quot;message&quot;));\n\n// Instead, just do this, if you want quoted names:\nfield(name(&quot;msg&quot;, &quot;message&quot;), String.class);\n\n// Or this, if you don't care about quoting the name\nfield(&quot;msg.message&quot;, String.class);\n</code></pre>\n"}],"owner":{"account_id":18061143,"reputation":41,"user_id":13128245,"display_name":"JoneNa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634889638,"creation_date":1634888785,"question_id":69673139,"body_markdown":"I am trying to reproduce this MySQL query in jooq.\r\n\r\nmessageTable1, messageTable2 same column\r\n\r\n    select \r\n    msg.index as index,\r\n    left(msg.message, if(msg.type = 1, 10, msg.maxLength)) as message\r\n    from\r\n    messageTable1 as msg\r\n\r\n    select \r\n    msg.index as index,\r\n    left(msg.message, if(msg.type = 1, 10, msg.maxLength)) as message\r\n    from\r\n    messageTable2 as msg\r\n\r\nmaking function java\r\n\r\n    public Message getMessageTest(String tableName) {\r\n        return roDslContext.select(\r\n               DSL.field(&quot;msg.index&quot;).as(&quot;index&quot;),\r\n               left(DSL.field( &quot;{0}&quot;, String.class, &quot;msg.message&quot;), \r\n                  when(DSL.field(&quot;msg.type&quot;).eq(1), 10, DSL.field( &quot;{0}&quot;, String.class, &quot;msg.maxLength&quot;).as(&quot;message)\r\n               .from(tableName)\r\n               .fetchOneInto(Message.class);\r\n    }\r\n    \r\n but....\r\n\r\n    when(DSL.field(&quot;msg.type&quot;).eq(1), 10, DSL.field( &quot;{0}&quot;, String.class, &quot;msg.maxLength&quot;).as(&quot;message)\r\n   \r\njooq is field  msg.maxLength ... not accept \r\n\r\nalso so iif \r\n\r\nhow case, when, iif insert field column data??\r\n\r\n \r\n           \r\n\r\n   ","title":"Case When or iif syntax expression in jooq","body":"<p>I am trying to reproduce this MySQL query in jooq.</p>\n<p>messageTable1, messageTable2 same column</p>\n<pre><code>select \nmsg.index as index,\nleft(msg.message, if(msg.type = 1, 10, msg.maxLength)) as message\nfrom\nmessageTable1 as msg\n\nselect \nmsg.index as index,\nleft(msg.message, if(msg.type = 1, 10, msg.maxLength)) as message\nfrom\nmessageTable2 as msg\n</code></pre>\n<p>making function java</p>\n<pre><code>public Message getMessageTest(String tableName) {\n    return roDslContext.select(\n           DSL.field(&quot;msg.index&quot;).as(&quot;index&quot;),\n           left(DSL.field( &quot;{0}&quot;, String.class, &quot;msg.message&quot;), \n              when(DSL.field(&quot;msg.type&quot;).eq(1), 10, DSL.field( &quot;{0}&quot;, String.class, &quot;msg.maxLength&quot;).as(&quot;message)\n           .from(tableName)\n           .fetchOneInto(Message.class);\n}\n</code></pre>\n<p>but....</p>\n<pre><code>when(DSL.field(&quot;msg.type&quot;).eq(1), 10, DSL.field( &quot;{0}&quot;, String.class, &quot;msg.maxLength&quot;).as(&quot;message)\n</code></pre>\n<p>jooq is field  msg.maxLength ... not accept</p>\n<p>also so iif</p>\n<p>how case, when, iif insert field column data??</p>\n"},{"tags":["java","spring-boot","docker","intellij-idea","docker-desktop"],"answers":[{"tags":[],"owner":{"account_id":12544348,"reputation":330,"user_id":12337833,"display_name":"Joel Imbergamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634889302,"creation_date":1634889302,"answer_id":69673253,"question_id":69673209,"body_markdown":"To access localhost from inside a docker container you can use the IP of your computer. Localhost or 127.0.0.0 donsen&#39;t work.","title":"How connect to db when running Dockerfile?","body":"<p>To access localhost from inside a docker container you can use the IP of your computer. Localhost or 127.0.0.0 donsen't work.</p>\n"},{"tags":[],"owner":{"account_id":5364404,"reputation":170,"user_id":4274808,"display_name":"Karl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634889448,"creation_date":1634889448,"answer_id":69673293,"question_id":69673209,"body_markdown":"Use docker compose to connect the two docker containers.\r\n\r\nhttps://docs.docker.com/compose/\r\n\r\nOn this page you can see an example on how to connect to containers using docker compose:\r\n\r\nhttps://dev.to/mozartted/docker-networking--how-to-connect-multiple-containers-7fl","title":"How connect to db when running Dockerfile?","body":"<p>Use docker compose to connect the two docker containers.</p>\n<p><a href=\"https://docs.docker.com/compose/\" rel=\"nofollow noreferrer\">https://docs.docker.com/compose/</a></p>\n<p>On this page you can see an example on how to connect to containers using docker compose:</p>\n<p><a href=\"https://dev.to/mozartted/docker-networking--how-to-connect-multiple-containers-7fl\" rel=\"nofollow noreferrer\">https://dev.to/mozartted/docker-networking--how-to-connect-multiple-containers-7fl</a></p>\n"},{"tags":[],"owner":{"account_id":22581187,"reputation":964,"user_id":16765805,"display_name":"clarj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634889469,"creation_date":1634889469,"answer_id":69673298,"question_id":69673209,"body_markdown":"If they are on seperate Docker networks, use:\r\n\r\n```docker.host.internal```\r\n\r\nThis connects to the Docker host machine. So if your PostgreSQL instance is exposed on 5432, ```docker.host.internal``` will route to that instance through the host from other containers.\r\n\r\nAlternatively, set them up in the same network using docker compose or by creating a network and attaching both containers to them. They can then communicate with container name.\r\n\r\n[https://docs.docker.com/engine/reference/commandline/network_create/][1]\r\n\r\n\r\n  [1]: https://docs.docker.com/engine/reference/commandline/network_create/","title":"How connect to db when running Dockerfile?","body":"<p>If they are on seperate Docker networks, use:</p>\n<p><code>docker.host.internal</code></p>\n<p>This connects to the Docker host machine. So if your PostgreSQL instance is exposed on 5432, <code>docker.host.internal</code> will route to that instance through the host from other containers.</p>\n<p>Alternatively, set them up in the same network using docker compose or by creating a network and attaching both containers to them. They can then communicate with container name.</p>\n<p><a href=\"https://docs.docker.com/engine/reference/commandline/network_create/\" rel=\"nofollow noreferrer\">https://docs.docker.com/engine/reference/commandline/network_create/</a></p>\n"}],"owner":{"account_id":10140176,"reputation":47,"user_id":7490189,"display_name":"EvgenyT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69673253,"answer_count":3,"score":0,"last_activity_date":1634889469,"creation_date":1634889085,"question_id":69673209,"body_markdown":"I have a spring boot app that connects fine to my PostgreSQL server running locally in Desktop Docker.\r\n\r\nThan I wrote a simple Dockerfile to run my app in container. Container starts but can&#39;t connect to my db server with error message:\r\n\r\nConnection to localhost:5432 refused.\r\n\r\nWhy and how to fix this?","title":"How connect to db when running Dockerfile?","body":"<p>I have a spring boot app that connects fine to my PostgreSQL server running locally in Desktop Docker.</p>\n<p>Than I wrote a simple Dockerfile to run my app in container. Container starts but can't connect to my db server with error message:</p>\n<p>Connection to localhost:5432 refused.</p>\n<p>Why and how to fix this?</p>\n"},{"tags":["java","swing","jslider"],"comments":[{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1634886283,"post_id":69672554,"comment_id":123151468,"body_markdown":"`JSlider.setknobImage(ImageIO.read( new File( &quot;d:\\\\d.jpg&quot;) );` Does this work?","body":"<code>JSlider.setknobImage(ImageIO.read( new File( &quot;d:\\\\d.jpg&quot;) );</code> Does this work?"},{"owner":{"account_id":20306689,"reputation":1,"user_id":14894746,"display_name":"Cman"},"score":0,"creation_date":1634887060,"post_id":69672554,"comment_id":123151732,"body_markdown":"@JFan I tried it and it didn&#39;t work, setKnobImage() doesn&#39;t seem to be a thing unless I need to import something.","body":"@JFan I tried it and it didn&#39;t work, setKnobImage() doesn&#39;t seem to be a thing unless I need to import something."},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1634887111,"post_id":69672554,"comment_id":123151753,"body_markdown":"You need to Import ImageIO an File","body":"You need to Import ImageIO an File"},{"owner":{"account_id":20306689,"reputation":1,"user_id":14894746,"display_name":"Cman"},"score":0,"creation_date":1634887413,"post_id":69672554,"comment_id":123151870,"body_markdown":"yes but for the actual setKnobImage call? ImageIO and File is just for getting the image.","body":"yes but for the actual setKnobImage call? ImageIO and File is just for getting the image."}],"answers":[{"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634887524,"creation_date":1634887524,"answer_id":69672876,"question_id":69672554,"body_markdown":"May be this may help you:-\r\nAdd this in your main method.\r\n\r\n        Icon icon = new ImageIcon(&quot;slider.png&quot;);\r\n        UIDefaults defaults = UIManager.getDefaults();\r\n        defaults.put(&quot;Slider.horizontalThumbIcon&quot;, icon);","title":"Java Swing Custom Slider Image","body":"<p>May be this may help you:-\nAdd this in your main method.</p>\n<pre><code>    Icon icon = new ImageIcon(&quot;slider.png&quot;);\n    UIDefaults defaults = UIManager.getDefaults();\n    defaults.put(&quot;Slider.horizontalThumbIcon&quot;, icon);\n</code></pre>\n"}],"owner":{"account_id":20306689,"reputation":1,"user_id":14894746,"display_name":"Cman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634889167,"creation_date":1634885820,"question_id":69672554,"body_markdown":"My program&#39;s GUI looks like this:\r\n[I haven&#39;t unlocked image embedding yet sorry so has to be hyper link to imgur][1]\r\n\r\n\r\nHow can I make the sliders look custom like this?\r\n[slider I want to have in my gui][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cdXU5.png\r\n  [2]: https://i.stack.imgur.com/GIY1d.png","title":"Java Swing Custom Slider Image","body":"<p>My program's GUI looks like this:\n<a href=\"https://i.stack.imgur.com/cdXU5.png\" rel=\"nofollow noreferrer\">I haven't unlocked image embedding yet sorry so has to be hyper link to imgur</a></p>\n<p>How can I make the sliders look custom like this?\n<a href=\"https://i.stack.imgur.com/GIY1d.png\" rel=\"nofollow noreferrer\">slider I want to have in my gui</a></p>\n"},{"tags":["java","android","google-play"],"answers":[{"tags":[],"owner":{"account_id":4119890,"reputation":3147,"user_id":3380547,"accept_rate":43,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1493496703,"creation_date":1493496703,"answer_id":43700059,"question_id":43530816,"body_markdown":"On your app&#39;s Console page\r\n\r\n1. Go to the `Artifact library` under `Release Management.`\r\n2. Under `Active Artifacts`, click the info icon on the right.\r\n3. Find the `What&#39;s new in this version?` section at the bottom of the pop-up.\r\n4. `Edit` the text and click `Submit Update.`","title":"Change what&#39;s new section in PlayStore without releasing an update","body":"<p>On your app's Console page</p>\n\n<ol>\n<li>Go to the <code>Artifact library</code> under <code>Release Management.</code></li>\n<li>Under <code>Active Artifacts</code>, click the info icon on the right.</li>\n<li>Find the <code>What's new in this version?</code> section at the bottom of the pop-up.</li>\n<li><code>Edit</code> the text and click <code>Submit Update.</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":990561,"reputation":2061,"user_id":1008011,"display_name":"chornge"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1607363983,"creation_date":1607363983,"answer_id":65186928,"question_id":43530816,"body_markdown":"Yes, it’s possible. \r\n\r\nTo edit the “what’s new” section in production without generating a new release:\r\n\r\nGo to the Google Play console for that particular app - go to the release navigation tab (on the left as of December 7, 2020) and click production. Click on the Release tab and at the bottom (by release notes), click on edit release.\r\n\r\nEdit the text with the specific tag for that language: `&lt;en-US&gt;Updated Release Note With Appealing Text&lt;en-US&gt;` then save.","title":"Change what&#39;s new section in PlayStore without releasing an update","body":"<p>Yes, it’s possible.</p>\n<p>To edit the “what’s new” section in production without generating a new release:</p>\n<p>Go to the Google Play console for that particular app - go to the release navigation tab (on the left as of December 7, 2020) and click production. Click on the Release tab and at the bottom (by release notes), click on edit release.</p>\n<p>Edit the text with the specific tag for that language: <code>&lt;en-US&gt;Updated Release Note With Appealing Text&lt;en-US&gt;</code> then save.</p>\n"},{"tags":[],"owner":{"account_id":10270189,"reputation":1101,"user_id":7578825,"accept_rate":62,"display_name":"Manojkanth"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1634889116,"creation_date":1634889116,"answer_id":69673217,"question_id":43530816,"body_markdown":"As per the new play console dashboard **(22nd October 2021)**: \r\n\r\n&gt; Releases overview --&gt; Latest releases --&gt; select arrow infant of the\r\n&gt; build (it will redirect to production page) --&gt; Scroll down and you can find\r\n&gt; the Edit Release Details button click it.\r\n\r\nThere you go...! now you can `Edit` the text and `Save`.","title":"Change what&#39;s new section in PlayStore without releasing an update","body":"<p>As per the new play console dashboard <strong>(22nd October 2021)</strong>:</p>\n<blockquote>\n<p>Releases overview --&gt; Latest releases --&gt; select arrow infant of the\nbuild (it will redirect to production page) --&gt; Scroll down and you can find\nthe Edit Release Details button click it.</p>\n</blockquote>\n<p>There you go...! now you can <code>Edit</code> the text and <code>Save</code>.</p>\n"}],"owner":{"account_id":10510722,"reputation":171,"user_id":7746529,"accept_rate":64,"display_name":"Eddie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4255,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43700059,"answer_count":3,"score":4,"last_activity_date":1634889116,"creation_date":1492726609,"question_id":43530816,"body_markdown":"Is it possible in any way to update the Whats&#39;s New section in the Google Play Store, without making an update for the app?\r\n\r\nThe thing is that I released an update with 2 languages in the Google Play Store Listing, and then I found out that I made a mistake in the second language.","title":"Change what&#39;s new section in PlayStore without releasing an update","body":"<p>Is it possible in any way to update the Whats's New section in the Google Play Store, without making an update for the app?</p>\n<p>The thing is that I released an update with 2 languages in the Google Play Store Listing, and then I found out that I made a mistake in the second language.</p>\n"},{"tags":["java","validation","jsonschema"],"comments":[{"owner":{"account_id":17881,"reputation":53306,"user_id":40468,"accept_rate":60,"display_name":"Ether"},"score":1,"creation_date":1634854419,"post_id":69666910,"comment_id":123146050,"body_markdown":"Maybe your implementation doesn&#39;t support that version yet?","body":"Maybe your implementation doesn&#39;t support that version yet?"}],"answers":[{"tags":[],"owner":{"account_id":388928,"reputation":2941,"user_id":3692110,"display_name":"erosb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634889111,"creation_date":1634889111,"answer_id":69673214,"question_id":69666910,"body_markdown":"The library doesn&#39;t support draft 2020-12 and 2019-09.\r\n\r\nYou will have to use draft 7 for now (or use an other library).\r\n\r\nEdit: the correct meta-schema URL for draft 7 is `&quot;$schema&quot;: &quot;https://json-schema.org/draft-07/schema&quot;`","title":"org.everit.json.schema.SchemaException: #: could not determine version","body":"<p>The library doesn't support draft 2020-12 and 2019-09.</p>\n<p>You will have to use draft 7 for now (or use an other library).</p>\n<p>Edit: the correct meta-schema URL for draft 7 is <code>&quot;$schema&quot;: &quot;https://json-schema.org/draft-07/schema&quot;</code></p>\n"}],"owner":{"account_id":2503677,"reputation":19,"user_id":10987216,"display_name":"Software Guy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1689,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69673214,"answer_count":1,"score":1,"last_activity_date":1634889111,"creation_date":1634840180,"question_id":69666910,"body_markdown":"A SchemaException gets thrown saying the version could not be determined as the title says. The schema version is clearly in the schema. This is all before data validation. Any ideas why this error gets thrown?\r\n\r\nMy schema is as follows:\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    {\r\n      &quot;$schema&quot;: &quot;https://json-schema.org/draft/2020-12/schema&quot;,\r\n      &quot;$defs&quot;: {},\r\n      &quot;type&quot;: &quot;array&quot;,\r\n      &quot;items&quot;: {\r\n        &quot;type&quot;: &quot;object&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;randomString&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n    \r\n    And Java code:\r\n    \r\n   \r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    JSONParser jsonParser = new JSONParser();\r\n                    String schemaPath = new File(&quot;&quot;).getAbsolutePath() + schema.json;\r\n                    Object schemaObj = jsonParser.parse(new FileReader(schemaPath));\r\n                    org.json.simple.JSONObject schemaJson = (org.json.simple.JSONObject) schemaObj;\r\n                    JSONObject rawSchema = new JSONObject(schemaJson.toString());\r\n                    //This is where the SchemaException gets thrown, the line after this comment\r\n                    Schema schema = SchemaLoader.load(rawSchema);\r\n                    //schema.validate(json);\r\n\r\n&lt;!-- end snippet --&gt;","title":"org.everit.json.schema.SchemaException: #: could not determine version","body":"<p>A SchemaException gets thrown saying the version could not be determined as the title says. The schema version is clearly in the schema. This is all before data validation. Any ideas why this error gets thrown?</p>\n<p>My schema is as follows:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\n  \"$schema\": \"https://json-schema.org/draft/2020-12/schema\",\n  \"$defs\": {},\n  \"type\": \"array\",\n  \"items\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"randomString\": {\n        \"type\": \"string\"\n      }\n    }\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<pre><code>And Java code:\n</code></pre>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>JSONParser jsonParser = new JSONParser();\n                String schemaPath = new File(\"\").getAbsolutePath() + schema.json;\n                Object schemaObj = jsonParser.parse(new FileReader(schemaPath));\n                org.json.simple.JSONObject schemaJson = (org.json.simple.JSONObject) schemaObj;\n                JSONObject rawSchema = new JSONObject(schemaJson.toString());\n                //This is where the SchemaException gets thrown, the line after this comment\n                Schema schema = SchemaLoader.load(rawSchema);\n                //schema.validate(json);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1634885427,"post_id":69672477,"comment_id":123151208,"body_markdown":"Why not just do `Long.countBits(SETS_OF_BITS_IN_LONG)`, and the corresponding thing with `BitSet`?","body":"Why not just do <code>Long.countBits(SETS_OF_BITS_IN_LONG)</code>, and the corresponding thing with <code>BitSet</code>?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1634885484,"post_id":69672477,"comment_id":123151222,"body_markdown":"(btw, you don&#39;t seem to use the method parameter)","body":"(btw, you don&#39;t seem to use the method parameter)"},{"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"score":0,"creation_date":1634885623,"post_id":69672477,"comment_id":123151261,"body_markdown":"Thank you! It&#39;s a simplified version of my code, I don&#39;t really do this calculation in the real program, I just had to shorten it for the sake of simplicity and focus on the line with the bitwise operations. Which method parameter?","body":"Thank you! It&#39;s a simplified version of my code, I don&#39;t really do this calculation in the real program, I just had to shorten it for the sake of simplicity and focus on the line with the bitwise operations. Which method parameter?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1634888608,"post_id":69672477,"comment_id":123152334,"body_markdown":"`calculate(long setsOfBits)`","body":"<code>calculate(long setsOfBits)</code>"},{"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"score":0,"creation_date":1634888741,"post_id":69672477,"comment_id":123152375,"body_markdown":"Oops, good catch, I edited the post and it&#39;s now `BitSet setsOfBits` (The method itself is called from a part of the code that&#39;s not here)","body":"Oops, good catch, I edited the post and it&#39;s now <code>BitSet setsOfBits</code> (The method itself is called from a part of the code that&#39;s not here)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1634891953,"post_id":69672477,"comment_id":123153587,"body_markdown":"You still don&#39;t use `setsOfBits`, in either the `long` or `BitSet` forms. You compare against the bits in `SETS_OF_BITS_IN_LONG`.","body":"You still don&#39;t use <code>setsOfBits</code>, in either the <code>long</code> or <code>BitSet</code> forms. You compare against the bits in <code>SETS_OF_BITS_IN_LONG</code>."},{"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"score":0,"creation_date":1634892208,"post_id":69672477,"comment_id":123153690,"body_markdown":"Oh!! Ok it&#39;s my mistake, when I tried to create a sample from my code, I didn&#39;t do it correctly. In the real code, I don&#39;t compare against `SETS_OF_BITS_IN_LONG`, but against another modified expression but it&#39;s not in this part of the code. I need to edit it more properly","body":"Oh!! Ok it&#39;s my mistake, when I tried to create a sample from my code, I didn&#39;t do it correctly. In the real code, I don&#39;t compare against <code>SETS_OF_BITS_IN_LONG</code>, but against another modified expression but it&#39;s not in this part of the code. I need to edit it more properly"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634886875,"creation_date":1634886875,"answer_id":69672757,"question_id":69672477,"body_markdown":"When using `BitSet` you don&#39;t need to do the shifting and `&amp;`ing yourself - the `BitSet` class has methods for this.\r\n\r\nAlso you could initialize your `BitSet` directly from a long constant.\r\n\r\nTaking this together your code can look like this:\r\n\r\n    import java.util.BitSet;\r\n    \r\n    public class BitwiseOperationsWithBitSet {\r\n    \r\n        private static final long SETS_OF_BITS_LONG = 141655L;\r\n        private static BitSet SETS_OF_BITS_BITSET = BitSet.valueOf(new long[]{SETS_OF_BITS_LONG});\r\n    \r\n        private static int calculate(BitSet setsOfBits) {       \r\n            int counter = 0;\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                boolean result = setsOfBits.get(i);\r\n                if (result)\r\n                    counter++;   \r\n            }\r\n            \r\n            return counter;\r\n        }\r\n    }\r\n\r\n","title":"Converting Long bitwise operations to BitSet bitwise operations","body":"<p>When using <code>BitSet</code> you don't need to do the shifting and <code>&amp;</code>ing yourself - the <code>BitSet</code> class has methods for this.</p>\n<p>Also you could initialize your <code>BitSet</code> directly from a long constant.</p>\n<p>Taking this together your code can look like this:</p>\n<pre><code>import java.util.BitSet;\n\npublic class BitwiseOperationsWithBitSet {\n\n    private static final long SETS_OF_BITS_LONG = 141655L;\n    private static BitSet SETS_OF_BITS_BITSET = BitSet.valueOf(new long[]{SETS_OF_BITS_LONG});\n\n    private static int calculate(BitSet setsOfBits) {       \n        int counter = 0;\n        for (int i = 0; i &lt; 10; i++) {\n            boolean result = setsOfBits.get(i);\n            if (result)\n                counter++;   \n        }\n        \n        return counter;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10558075,"reputation":2655,"user_id":10847401,"display_name":"pileup"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69672757,"answer_count":1,"score":0,"last_activity_date":1634888700,"creation_date":1634885267,"question_id":69672477,"body_markdown":"I&#39;m trying to convert my code from using bitwise operations on Long type to the same operations on a BitSet, but I can&#39;t find the right syntax.\r\n\r\nThis is the original code:\r\n\r\n    public class BitwiseOperationsWithLong {\r\n    \r\n        private static final long SETS_OF_BITS_LONG = 141655L;\r\n\r\n        //...\r\n    \r\n        private static int calculate(long setsOfBits) {       \r\n            int counter = 0;\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                boolean result = ((1L &lt;&lt; i) &amp; SETS_OF_BITS_IN_LONG) != 0L;\r\n                if (result) {\r\n                    counter++; \r\n                }  \r\n        }\r\n        \r\n        return counter;        \r\n    }\r\n\r\nAnd this how I try to convert to BitSet:\r\n\r\n    public class BitwiseOperationsWithBitSet {\r\n        \r\n        private static final String SETS_OF_BITS_STRING = &quot;100010100101010111&quot;;\r\n        private static BitSet SETS_OF_BITS_BITSET = bitSetFromString(SETS_OF_BITS_STRING);    \r\n  \r\n        //...\r\n            \r\n        private static int calculate(BitSet setsOfBits) {       \r\n            int counter = 0;\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                //the line below is the problematic one\r\n                boolean result = ((1 &lt;&lt; i).and(SETS_OF_BITS_IN_LONG)) != 0;\r\n                if (result)\r\n                    counter++;   \r\n            }\r\n            \r\n            return counter;        ​\r\n       ​}\r\n \r\n        //method that sets BitSet from String of bits\r\n        private static BitSet bitSetFromString(String binary) {\r\n            BitSet bitset = new BitSet(binary.length());\r\n            for (int i = 0; i &lt; binary.length(); i++) {\r\n                if (binary.charAt(i) == &#39;1&#39;) {\r\n                    bitset.set(i);\r\n                }\r\n            }\r\n            return bitset;\r\n        }\r\n    }\r\n\r\n\r\nI can&#39;t find the right syntax for this line:\r\n\r\n    boolean result = ((1 &lt;&lt; i).and(SETS_OF_BITS_IN_LONG)) != 0;\r\n\r\nI did manage to use the `and` syntax (instead of `&amp;`), but I can&#39;t find out how to convert the left shift operation part to BitSet. (I am getting `The operator &amp; is undefined for the argument type(s) int, BitSet`)","title":"Converting Long bitwise operations to BitSet bitwise operations","body":"<p>I'm trying to convert my code from using bitwise operations on Long type to the same operations on a BitSet, but I can't find the right syntax.</p>\n<p>This is the original code:</p>\n<pre><code>public class BitwiseOperationsWithLong {\n\n    private static final long SETS_OF_BITS_LONG = 141655L;\n\n    //...\n\n    private static int calculate(long setsOfBits) {       \n        int counter = 0;\n        for (int i = 0; i &lt; 10; i++) {\n            boolean result = ((1L &lt;&lt; i) &amp; SETS_OF_BITS_IN_LONG) != 0L;\n            if (result) {\n                counter++; \n            }  \n    }\n    \n    return counter;        \n}\n</code></pre>\n<p>And this how I try to convert to BitSet:</p>\n<pre><code>public class BitwiseOperationsWithBitSet {\n    \n    private static final String SETS_OF_BITS_STRING = &quot;100010100101010111&quot;;\n    private static BitSet SETS_OF_BITS_BITSET = bitSetFromString(SETS_OF_BITS_STRING);    \n\n    //...\n        \n    private static int calculate(BitSet setsOfBits) {       \n        int counter = 0;\n        for (int i = 0; i &lt; 10; i++) {\n            //the line below is the problematic one\n            boolean result = ((1 &lt;&lt; i).and(SETS_OF_BITS_IN_LONG)) != 0;\n            if (result)\n                counter++;   \n        }\n        \n        return counter;        ​\n   ​}\n\n    //method that sets BitSet from String of bits\n    private static BitSet bitSetFromString(String binary) {\n        BitSet bitset = new BitSet(binary.length());\n        for (int i = 0; i &lt; binary.length(); i++) {\n            if (binary.charAt(i) == '1') {\n                bitset.set(i);\n            }\n        }\n        return bitset;\n    }\n}\n</code></pre>\n<p>I can't find the right syntax for this line:</p>\n<pre><code>boolean result = ((1 &lt;&lt; i).and(SETS_OF_BITS_IN_LONG)) != 0;\n</code></pre>\n<p>I did manage to use the <code>and</code> syntax (instead of <code>&amp;</code>), but I can't find out how to convert the left shift operation part to BitSet. (I am getting <code>The operator &amp; is undefined for the argument type(s) int, BitSet</code>)</p>\n"},{"tags":["java","inheritance","interface","multiple-inheritance","implementation"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1634888566,"post_id":69673009,"comment_id":123152318,"body_markdown":"How would you indicate which one you wanted to call?","body":"How would you indicate which one you wanted to call?"},{"owner":{"account_id":5448189,"reputation":429,"user_id":4333961,"display_name":"alexandrum"},"score":0,"creation_date":1634888598,"post_id":69673009,"comment_id":123152327,"body_markdown":"Hello there, must you implement both interfaces for something bigger or something to work with some casting? You can&#39;t do what you are asking based on this example, but maybe you can do some stuff depending on the context.","body":"Hello there, must you implement both interfaces for something bigger or something to work with some casting? You can&#39;t do what you are asking based on this example, but maybe you can do some stuff depending on the context."},{"owner":{"account_id":20689108,"reputation":17578,"user_id":15273968,"display_name":"the Hutt"},"score":0,"creation_date":1634888821,"post_id":69673009,"comment_id":123152399,"body_markdown":"The method name indicates behavior. Here &#39;methodOne&#39; means some behavior. As both the interfaces has the same method that means both interfaces behave same way. So when a class implements both interfaces it should mean only one behavior. If you can&#39;t change method name then use some sort of composite object.","body":"The method name indicates behavior. Here &#39;methodOne&#39; means some behavior. As both the interfaces has the same method that means both interfaces behave same way. So when a class implements both interfaces it should mean only one behavior. If you can&#39;t change method name then use some sort of composite object."}],"answers":[{"tags":[],"owner":{"account_id":1434396,"reputation":28043,"user_id":1356107,"accept_rate":79,"display_name":"Tschallacka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634888588,"creation_date":1634888588,"answer_id":69673096,"question_id":69673009,"body_markdown":"An interface is only a &quot;contract&quot;\r\n\r\nit states to a receiving method. A receiving method can define, Hey, I want to receive an object that has these methods, that accept these arguments and return this type.\r\n\r\nIf interfaces overlap, it doesn&#39;t invalidate the contract. The contract is the same, you input X, you get Y back.\r\n\r\n    public void foo(InterfaceB) {\r\n    ...\r\n    }\r\n\r\nexpects an object, that implements InterfaceB, that will have, according to the contract in interface B, a method called methodOne, that returns an integer, and accepts a String as an argument.\r\n\r\n\r\n    public void bor(InterfaceA) {\r\n    ...\r\n    }\r\n\r\nexpects an object, that implements InterfaceA, that will have, according to the contract in interface A, a method called methodOne, that returns an integer, and accepts a String as an argument.\r\n\r\nSince the requirements overlap, no different behaviour is expected. You put in a String, you get an int back. How the object does this, is up to the object. The object only provides what the contract requires.\r\n\r\nThe object however, does not know via which contract it&#39;s called, and shouldn&#39;t either. \r\nIf you want different behaviours for different interfaces you should use different objects for the seperate but similar interfaces.","title":"If a class inherits from multiple interfaces and the interfaces have same method name and signature. How can provide different implementation","body":"<p>An interface is only a &quot;contract&quot;</p>\n<p>it states to a receiving method. A receiving method can define, Hey, I want to receive an object that has these methods, that accept these arguments and return this type.</p>\n<p>If interfaces overlap, it doesn't invalidate the contract. The contract is the same, you input X, you get Y back.</p>\n<pre><code>public void foo(InterfaceB) {\n...\n}\n</code></pre>\n<p>expects an object, that implements InterfaceB, that will have, according to the contract in interface B, a method called methodOne, that returns an integer, and accepts a String as an argument.</p>\n<pre><code>public void bor(InterfaceA) {\n...\n}\n</code></pre>\n<p>expects an object, that implements InterfaceA, that will have, according to the contract in interface A, a method called methodOne, that returns an integer, and accepts a String as an argument.</p>\n<p>Since the requirements overlap, no different behaviour is expected. You put in a String, you get an int back. How the object does this, is up to the object. The object only provides what the contract requires.</p>\n<p>The object however, does not know via which contract it's called, and shouldn't either.\nIf you want different behaviours for different interfaces you should use different objects for the seperate but similar interfaces.</p>\n"}],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634888589,"answer_count":1,"score":0,"last_activity_date":1634888588,"creation_date":1634888131,"question_id":69673009,"body_markdown":"How can we implement two different interface which have a method with same signature. \r\n\r\n// First Interface\r\n\r\n    interface InterfaceA{\r\n    \tpublic int methodOne(String str);\r\n    }\r\n\r\n// Second Interface\r\n\r\n    interface InterfaceB{\r\n    \tpublic int methodOne(String str);\r\n    }\r\n\r\n// Implementation class\r\n\r\n    class ImplementationClass implements InterfaceA,InterfaceB {\r\n    \t\r\n    \t// How can implements the both interface differently\r\n          public int methodOne(String str){\r\n             \r\n          }\r\n    }\r\n\r\n\r\nWhen I try to implements directly it became single implementation for the both interface&#39;s method.\r\n \r\nHow can I implement them differently ?\r\n","title":"If a class inherits from multiple interfaces and the interfaces have same method name and signature. How can provide different implementation","body":"<p>How can we implement two different interface which have a method with same signature.</p>\n<p>// First Interface</p>\n<pre><code>interface InterfaceA{\n    public int methodOne(String str);\n}\n</code></pre>\n<p>// Second Interface</p>\n<pre><code>interface InterfaceB{\n    public int methodOne(String str);\n}\n</code></pre>\n<p>// Implementation class</p>\n<pre><code>class ImplementationClass implements InterfaceA,InterfaceB {\n    \n    // How can implements the both interface differently\n      public int methodOne(String str){\n         \n      }\n}\n</code></pre>\n<p>When I try to implements directly it became single implementation for the both interface's method.</p>\n<p>How can I implement them differently ?</p>\n"},{"tags":["java","arrays","null","stringtokenizer"],"answers":[{"tags":[],"owner":{"account_id":22873466,"reputation":5410,"user_id":17016144,"display_name":"ProDec"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634886570,"creation_date":1634886570,"answer_id":69672693,"question_id":69672565,"body_markdown":"String array `tokenArray` is initialized with size of tokens, but elements in the array are not assigned with values\r\n\r\nrequire\r\n\r\n    tokenArray[i] = st.nextToken();\r\n\r\namended code\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Please enter your command: &quot;);\r\n    String input = scanner.nextLine();\r\n    StringTokenizer st = new StringTokenizer(input, &quot; &quot;);\r\n    int number = st.countTokens();\r\n    String tokenArray[] = new String[number];\r\n    for (int i = 0; i &lt; tokenArray.length; i++) {\r\n    \ttokenArray[i] = st.nextToken();\r\n    \tSystem.out.println(tokenArray[i]);\r\n    }\r\n\r\n","title":"How do I store tokens into their own element in a given array?","body":"<p>String array <code>tokenArray</code> is initialized with size of tokens, but elements in the array are not assigned with values</p>\n<p>require</p>\n<pre><code>tokenArray[i] = st.nextToken();\n</code></pre>\n<p>amended code</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\nSystem.out.println(&quot;Please enter your command: &quot;);\nString input = scanner.nextLine();\nStringTokenizer st = new StringTokenizer(input, &quot; &quot;);\nint number = st.countTokens();\nString tokenArray[] = new String[number];\nfor (int i = 0; i &lt; tokenArray.length; i++) {\n    tokenArray[i] = st.nextToken();\n    System.out.println(tokenArray[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18772351,"reputation":1,"user_id":13688914,"display_name":"Hua Xiaoji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634887033,"creation_date":1634887033,"answer_id":69672785,"question_id":69672565,"body_markdown":"        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter your command: &quot;);\r\n        String input = scanner.nextLine();\r\n        StringTokenizer st = new StringTokenizer(input, &quot; &quot;);\r\n        while(st.hasMoreTokens()) {\r\n            System.out.println(st.nextToken());\r\n        }","title":"How do I store tokens into their own element in a given array?","body":"<pre><code>    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Please enter your command: &quot;);\n    String input = scanner.nextLine();\n    StringTokenizer st = new StringTokenizer(input, &quot; &quot;);\n    while(st.hasMoreTokens()) {\n        System.out.println(st.nextToken());\n    }\n</code></pre>\n"}],"owner":{"account_id":22843757,"reputation":29,"user_id":16990363,"display_name":"kev0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69672693,"answer_count":2,"score":0,"last_activity_date":1634887033,"creation_date":1634885894,"question_id":69672565,"body_markdown":"I am trying to write a method that will use StringTokenizer to break up a user inputted String by a single space and store each word into their own array. The given code is as far I have gotten before getting stuck for 3 hours. I am trying to test out the code by having the for loop print out the elements of the array but all it does is return null for every element. What am I doing wrong? My best guess is that it is not assigning the array index to a token but I am not sure.. Any help would be amazing. Thank you!\r\n\r\nAlso, I know StringTokenizer is old legacy stuff but my professor strictly stated that he wants us to use it.\r\n\r\nThanks\r\n\r\n    private void receiveInput() {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter your command: &quot;);\r\n        String input = scanner.nextLine();\r\n        StringTokenizer st = new StringTokenizer(input, &quot; &quot;);\r\n        int number = st.countTokens();\r\n        String tokenArray[] = new String[number];\r\n        for (int i = 0; i &lt; tokenArray.length; i++) {\r\n             System.out.println(tokenArray[i]);\r\n        }\r\n    }\r\n\r\n","title":"How do I store tokens into their own element in a given array?","body":"<p>I am trying to write a method that will use StringTokenizer to break up a user inputted String by a single space and store each word into their own array. The given code is as far I have gotten before getting stuck for 3 hours. I am trying to test out the code by having the for loop print out the elements of the array but all it does is return null for every element. What am I doing wrong? My best guess is that it is not assigning the array index to a token but I am not sure.. Any help would be amazing. Thank you!</p>\n<p>Also, I know StringTokenizer is old legacy stuff but my professor strictly stated that he wants us to use it.</p>\n<p>Thanks</p>\n<pre><code>private void receiveInput() {\n\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Please enter your command: &quot;);\n    String input = scanner.nextLine();\n    StringTokenizer st = new StringTokenizer(input, &quot; &quot;);\n    int number = st.countTokens();\n    String tokenArray[] = new String[number];\n    for (int i = 0; i &lt; tokenArray.length; i++) {\n         System.out.println(tokenArray[i]);\n    }\n}\n</code></pre>\n"},{"tags":["java","protocol-buffers","proto3"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1634883853,"post_id":69672233,"comment_id":123150777,"body_markdown":"My guess is that you&#39;re using a version of the jar file that supports protobuf that doesn&#39;t match the protoc version you&#39;re using.","body":"My guess is that you&#39;re using a version of the jar file that supports protobuf that doesn&#39;t match the protoc version you&#39;re using."}],"owner":{"account_id":16211503,"reputation":197,"user_id":11705388,"display_name":"Alex Sparrow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2315,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1634886823,"creation_date":1634883548,"question_id":69672233,"body_markdown":"This is my .proto file \r\n```\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage testing;\r\n\r\noption java_multiple_files = true;\r\noption java_package = &quot;com.api.commons.proto&quot;;\r\noption java_outer_classname = &quot;SampleProto&quot;;\r\n\r\nmessage Person {\r\n  string name = 1;\r\n  int32 id = 2;\r\n  string email = 3;\r\n\r\n  enum PhoneType {\r\n    MOBILE = 0;\r\n    HOME = 1;\r\n    WORK = 2;\r\n  }\r\n\r\n  message PhoneNumber {\r\n    string number = 1;\r\n    PhoneType type = 2;\r\n  }\r\n\r\n  repeated PhoneNumber phones = 4;\r\n  map&lt;string, string&gt; map = 5;                                                                                                                                                                                                        \r\n}\r\n```\r\n\r\nWhen I try to compile the proto file, the proto related java files create successfully. but open that file I see the error method. I am given below to attach that error case.[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HfQZf.png\r\n\r\nNow I am changing all fields to optional this error case not reproduced... My doubt is in proto3 all fields by default optional then why this issue fixed, when I change all fields to optional. Thanks","title":"proto3 can&#39;t support isStringEmpty()","body":"<p>This is my .proto file</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\npackage testing;\n\noption java_multiple_files = true;\noption java_package = &quot;com.api.commons.proto&quot;;\noption java_outer_classname = &quot;SampleProto&quot;;\n\nmessage Person {\n  string name = 1;\n  int32 id = 2;\n  string email = 3;\n\n  enum PhoneType {\n    MOBILE = 0;\n    HOME = 1;\n    WORK = 2;\n  }\n\n  message PhoneNumber {\n    string number = 1;\n    PhoneType type = 2;\n  }\n\n  repeated PhoneNumber phones = 4;\n  map&lt;string, string&gt; map = 5;                                                                                                                                                                                                        \n}\n</code></pre>\n<p>When I try to compile the proto file, the proto related java files create successfully. but open that file I see the error method. I am given below to attach that error case.<a href=\"https://i.stack.imgur.com/HfQZf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HfQZf.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I am changing all fields to optional this error case not reproduced... My doubt is in proto3 all fields by default optional then why this issue fixed, when I change all fields to optional. Thanks</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1620227785,"post_id":67398326,"comment_id":119139741,"body_markdown":"as pointed out in the answer below it depends. If your code example is safe. well sure. Does it make the code easy to follow. I would say no. It makes it hard to understand what state your object is in, and if done wrong somewhere the state could be mutated in a way that could lead to hard to find bugs and issues. I would avoid it, but thats me, and i would try to design everything with imutabillity in mind.","body":"as pointed out in the answer below it depends. If your code example is safe. well sure. Does it make the code easy to follow. I would say no. It makes it hard to understand what state your object is in, and if done wrong somewhere the state could be mutated in a way that could lead to hard to find bugs and issues. I would avoid it, but thats me, and i would try to design everything with imutabillity in mind."}],"answers":[{"tags":[],"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1620227442,"creation_date":1620227442,"answer_id":67404002,"question_id":67398326,"body_markdown":"Nebulous answer, but... it depends!\r\n\r\nThe danger of mutating an input parameter in the returned `Mono` or `Flux` comes from the fact that said `Mono` or `Flux` could be subscribed multiple times. In such a case, suddenly you have a *shared resource* on your hands, and it can lead to puzzling issues.\r\n\r\nBut if the methods in question are called from a well controlled context, it can be safe.\r\n\r\nIn your case, `flatMap` ensures that the inner publishers are subscribed to only once. So as long as you _only_ use these methods inside such flatMaps, they can safely mutate their input parameter (it is kept in the scope of the flatmapping function).","title":"Update objects&#39;s state in Reactor","body":"<p>Nebulous answer, but... it depends!</p>\n<p>The danger of mutating an input parameter in the returned <code>Mono</code> or <code>Flux</code> comes from the fact that said <code>Mono</code> or <code>Flux</code> could be subscribed multiple times. In such a case, suddenly you have a <em>shared resource</em> on your hands, and it can lead to puzzling issues.</p>\n<p>But if the methods in question are called from a well controlled context, it can be safe.</p>\n<p>In your case, <code>flatMap</code> ensures that the inner publishers are subscribed to only once. So as long as you <em>only</em> use these methods inside such flatMaps, they can safely mutate their input parameter (it is kept in the scope of the flatmapping function).</p>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620660148,"creation_date":1620660148,"answer_id":67473223,"question_id":67398326,"body_markdown":"There&#39;s arguably two factors here - the &quot;dangerous&quot; aspect and the &quot;style&quot; aspect.\r\n\r\nSimon has covered the &quot;dangerous&quot; aspect very well; there is one thing I&#39;d add however. Even though your code is &quot;safe&quot; within the method that we can see here (due to the guarantees we have behind a single subscription to an inner flatmap publisher), we still can&#39;t absolutely guarantee it&#39;s safe in a wider context - we don&#39;t know what else has visibility of, or might mutate, your `profileUpdate` parameter. If it&#39;s created, immediately passed into this method only, then read after this method completes, then sure, it&#39;s good. If it&#39;s created at some point in the past, perhaps passed around to a few methods that may or may not mutate it, passed back, passed into this method, passed into a few other methods... then, well, it *might* be safe, but it becomes increasingly difficult to analyse and say for certain - and if it&#39;s not safe, it becomes just as difficult to track down where that one in a million bug caused by the behaviour might occur.\r\n\r\nNow, your code may look nothing like this complex mess I&#39;ve just described - but with just a few lines changed here and there, or &quot;just doing one more mutation&quot; with this object elsewhere before it&#39;s passed in, it could start to get there.\r\n\r\nThat leads into the &quot;style&quot; aspect.\r\n\r\nPersonally, I&#39;m very much a fan of keeping *everything* as part of the reactive chain where at all possible. Even ignoring the potential for bad mutations / side-effects, it becomes much harder to read the code if it&#39;s all written in this way - you have to mentally keep track of both the value being passed through the chain, as well as values external to the chain being mutated. With this example it&#39;s reasonably trivial, in larger examples it becomes almost unreadable (at least to my brain!)\r\n\r\nSo with that in mind, if I were reviewing this code I&#39;d strongly prefer `UserProfileUpdate` to be immutable, then to use something like this instead:\r\n\r\n    private Mono&lt;UserProfileUpdate&gt; upsertUserIdentifier(UserProfileUpdate profileUpdate, String id){\r\n        return userIdentifierRepository.findUserIdentifier(id)\r\n                .switchIfEmpty(() -&gt; createProfileIdentifier(profileUpdate.withNewUser(true), id))\r\n                .map(userIdentifier -&gt; profileUpdate.withProfileId(userIdentifier.getProfileId()));\r\n    }\r\n\r\n...note this isn&#39;t a drop-in replacement, in particular:\r\n\r\n - `createProfileIdentifier()` would just take a `UserProfileUpdate` object and an `id`, and be expected to return a new `UserProfileUpdate` object from those parameters;\r\n - `UserProfileUpdate` would need to be enhanced with `@With` (lombok) or a similar implementation to allow it to produce immutable copies of itself with only a single value changed.\r\n - Other code would likely need to be modified similarly to encapsulate the `profileUpdate` as part of the reactive chain, and not rely on mutating it.\r\n\r\nHowever, in my opinion at least, the resulting code would be far more robust and readable.","title":"Update objects&#39;s state in Reactor","body":"<p>There's arguably two factors here - the &quot;dangerous&quot; aspect and the &quot;style&quot; aspect.</p>\n<p>Simon has covered the &quot;dangerous&quot; aspect very well; there is one thing I'd add however. Even though your code is &quot;safe&quot; within the method that we can see here (due to the guarantees we have behind a single subscription to an inner flatmap publisher), we still can't absolutely guarantee it's safe in a wider context - we don't know what else has visibility of, or might mutate, your <code>profileUpdate</code> parameter. If it's created, immediately passed into this method only, then read after this method completes, then sure, it's good. If it's created at some point in the past, perhaps passed around to a few methods that may or may not mutate it, passed back, passed into this method, passed into a few other methods... then, well, it <em>might</em> be safe, but it becomes increasingly difficult to analyse and say for certain - and if it's not safe, it becomes just as difficult to track down where that one in a million bug caused by the behaviour might occur.</p>\n<p>Now, your code may look nothing like this complex mess I've just described - but with just a few lines changed here and there, or &quot;just doing one more mutation&quot; with this object elsewhere before it's passed in, it could start to get there.</p>\n<p>That leads into the &quot;style&quot; aspect.</p>\n<p>Personally, I'm very much a fan of keeping <em>everything</em> as part of the reactive chain where at all possible. Even ignoring the potential for bad mutations / side-effects, it becomes much harder to read the code if it's all written in this way - you have to mentally keep track of both the value being passed through the chain, as well as values external to the chain being mutated. With this example it's reasonably trivial, in larger examples it becomes almost unreadable (at least to my brain!)</p>\n<p>So with that in mind, if I were reviewing this code I'd strongly prefer <code>UserProfileUpdate</code> to be immutable, then to use something like this instead:</p>\n<pre><code>private Mono&lt;UserProfileUpdate&gt; upsertUserIdentifier(UserProfileUpdate profileUpdate, String id){\n    return userIdentifierRepository.findUserIdentifier(id)\n            .switchIfEmpty(() -&gt; createProfileIdentifier(profileUpdate.withNewUser(true), id))\n            .map(userIdentifier -&gt; profileUpdate.withProfileId(userIdentifier.getProfileId()));\n}\n</code></pre>\n<p>...note this isn't a drop-in replacement, in particular:</p>\n<ul>\n<li><code>createProfileIdentifier()</code> would just take a <code>UserProfileUpdate</code> object and an <code>id</code>, and be expected to return a new <code>UserProfileUpdate</code> object from those parameters;</li>\n<li><code>UserProfileUpdate</code> would need to be enhanced with <code>@With</code> (lombok) or a similar implementation to allow it to produce immutable copies of itself with only a single value changed.</li>\n<li>Other code would likely need to be modified similarly to encapsulate the <code>profileUpdate</code> as part of the reactive chain, and not rely on mutating it.</li>\n</ul>\n<p>However, in my opinion at least, the resulting code would be far more robust and readable.</p>\n"}],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1184,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67404002,"answer_count":2,"score":3,"last_activity_date":1634886589,"creation_date":1620205823,"question_id":67398326,"body_markdown":"Given the following method:\r\n\r\n    private Mono&lt;UserProfileUpdate&gt; upsertUserIdentifier(UserProfileUpdate profileUpdate, String id){\r\n        return userIdentifierRepository.findUserIdentifier(id)\r\n                .switchIfEmpty(Mono.defer(() -&gt; {\r\n                    profileUpdate.setNewUser(true);\r\n                    return createProfileIdentifier(profileUpdate.getType(), id);\r\n                }))\r\n                .map(userIdentifier -&gt; {\r\n                    profileUpdate.setProfileId(userIdentifier.getProfileId());\r\n                    return profileUpdate;\r\n                });\r\n    }\r\n`switchIfEmpty` and `map` operators mutate the `profileUpdate` object. Is it safe to mutate in `switchIfEmpty` operator? Regarding `map`, if I have understood correctly, this is not safe and object `profileUpdate` must be immutable, right? eg:\r\n\r\n  \r\n\r\n    private Mono&lt;UserProfileUpdate&gt; upsertUserIdentifier(UserProfileUpdate profileUpdate, String id){\r\n            return userIdentifierRepository.findUserIdentifier(id)\r\n                    .switchIfEmpty(Mono.defer(() -&gt; {\r\n                        profileUpdate.setNewUser(true);\r\n                        return createProfileIdentifier(profileUpdate.getType(), id);\r\n                    }))\r\n                    .map(userIdentifier -&gt; profileUpdate.withProfileId(userIdentifier.getProfileId()));\r\n        }\r\nLater in the chain, another method mutates the object:\r\n\r\n    public Mono&lt;UserProfileUpdate&gt; transform(UserProfileUpdate profUpdate) {\r\n            if (profUpdate.isNewUser()) {\r\n                profUpdate.getAttributesToSet().putAll(profUpdate.getAttributesToSim());\r\n            } else if (!profUpdate.getAttributesToSim().isEmpty()) {\r\n                return  userProfileRepository.findUserProfileById(profUpdate.getProfileId())\r\n                        .map(profile -&gt; {\r\n                            profUpdate.getAttributesToSet().putAll(\r\n                                    collectMissingAttributes(profUpdate.getAttributesToSim(), profile.getAttributes().keySet()));\r\n                            return profUpdate;\r\n                        });\r\n            }\r\n            return Mono.just(profUpdate);\r\n        }\r\n\r\nThe above methods are called as follows:\r\n\r\n      Mono.just(update)\r\n      .flatMap(update -&gt; upsertUserIdentifier(update, id))\r\n      .flatMap(this::transform)\r\n\r\n \r\n\r\n","title":"Update objects&#39;s state in Reactor","body":"<p>Given the following method:</p>\n<pre><code>private Mono&lt;UserProfileUpdate&gt; upsertUserIdentifier(UserProfileUpdate profileUpdate, String id){\n    return userIdentifierRepository.findUserIdentifier(id)\n            .switchIfEmpty(Mono.defer(() -&gt; {\n                profileUpdate.setNewUser(true);\n                return createProfileIdentifier(profileUpdate.getType(), id);\n            }))\n            .map(userIdentifier -&gt; {\n                profileUpdate.setProfileId(userIdentifier.getProfileId());\n                return profileUpdate;\n            });\n}\n</code></pre>\n<p><code>switchIfEmpty</code> and <code>map</code> operators mutate the <code>profileUpdate</code> object. Is it safe to mutate in <code>switchIfEmpty</code> operator? Regarding <code>map</code>, if I have understood correctly, this is not safe and object <code>profileUpdate</code> must be immutable, right? eg:</p>\n<pre><code>private Mono&lt;UserProfileUpdate&gt; upsertUserIdentifier(UserProfileUpdate profileUpdate, String id){\n        return userIdentifierRepository.findUserIdentifier(id)\n                .switchIfEmpty(Mono.defer(() -&gt; {\n                    profileUpdate.setNewUser(true);\n                    return createProfileIdentifier(profileUpdate.getType(), id);\n                }))\n                .map(userIdentifier -&gt; profileUpdate.withProfileId(userIdentifier.getProfileId()));\n    }\n</code></pre>\n<p>Later in the chain, another method mutates the object:</p>\n<pre><code>public Mono&lt;UserProfileUpdate&gt; transform(UserProfileUpdate profUpdate) {\n        if (profUpdate.isNewUser()) {\n            profUpdate.getAttributesToSet().putAll(profUpdate.getAttributesToSim());\n        } else if (!profUpdate.getAttributesToSim().isEmpty()) {\n            return  userProfileRepository.findUserProfileById(profUpdate.getProfileId())\n                    .map(profile -&gt; {\n                        profUpdate.getAttributesToSet().putAll(\n                                collectMissingAttributes(profUpdate.getAttributesToSim(), profile.getAttributes().keySet()));\n                        return profUpdate;\n                    });\n        }\n        return Mono.just(profUpdate);\n    }\n</code></pre>\n<p>The above methods are called as follows:</p>\n<pre><code>  Mono.just(update)\n  .flatMap(update -&gt; upsertUserIdentifier(update, id))\n  .flatMap(this::transform)\n</code></pre>\n"},{"tags":["java","unit-testing","jersey-2.0"],"answers":[{"tags":[],"owner":{"account_id":6774787,"reputation":63,"user_id":5274073,"display_name":"Merric Huffstutler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505441422,"creation_date":1505441422,"answer_id":46230668,"question_id":26592140,"body_markdown":"I don&#39;t believe you need the eq() method. You should verify that context. abortWith(r) was called. I might be missing something though because you&#39;ve not included what eq(r) is. ","title":"How to test jersey2 request filters?","body":"<p>I don't believe you need the eq() method. You should verify that context. abortWith(r) was called. I might be missing something though because you've not included what eq(r) is. </p>\n"},{"tags":[],"owner":{"account_id":2849815,"reputation":31,"user_id":2447258,"display_name":"McG-work"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634886068,"creation_date":1634886068,"answer_id":69672590,"question_id":26592140,"body_markdown":"Since I had the same question, I did it like this:\r\n\r\n    @Test\r\n\tpublic void abort() {\r\n    \r\n        new MyFilter().filter(requestContext);\r\n\r\n\t\tArgumentCaptor&lt;Response&gt; responseCaptor = ArgumentCaptor.forClass(Response.class);\r\n\t\tverify(requestContext).abortWith(responseCaptor.capture());\r\n\r\n\t\tResponse response = responseCaptor.getValue();\r\n\t\tassertNotNull(response);\r\n\t\tJerseyResponseAssert.assertThat(response)\r\n\t\t\t\t.hasStatusCode(Response.Status.FORBIDDEN);\r\n    }","title":"How to test jersey2 request filters?","body":"<p>Since I had the same question, I did it like this:</p>\n<pre><code>@Test\npublic void abort() {\n\n    new MyFilter().filter(requestContext);\n\n    ArgumentCaptor&lt;Response&gt; responseCaptor = ArgumentCaptor.forClass(Response.class);\n    verify(requestContext).abortWith(responseCaptor.capture());\n\n    Response response = responseCaptor.getValue();\n    assertNotNull(response);\n    JerseyResponseAssert.assertThat(response)\n            .hasStatusCode(Response.Status.FORBIDDEN);\n}\n</code></pre>\n"}],"owner":{"account_id":4106,"reputation":12708,"user_id":6069,"accept_rate":56,"display_name":"agnul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1596,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1634886068,"creation_date":1414427117,"question_id":26592140,"body_markdown":"In my jersey-2 application I&#39;m using a very simple `ContainerRequestFilter` that will check for basic authentication (probably reinventing the wheel, but bear with me). Filter goes somewhat like this\r\n\r\n    @Override\r\n    public void filter(ContainerRequestContext context) throws IOException {\r\n        String authHeader = context.getHeaderString(HttpHeaders.AUTHORIZATION);\r\n        if (StringUtils.isBlank(authHeader)) {\r\n            log.info(&quot;Auth header is missing.&quot;);\r\n            context.abortWith(Response.status(Response.Status.UNAUTHORIZED)\r\n                    .type(MediaType.APPLICATION_JSON)\r\n                    .entity(ErrorResponse.authenticationRequired())\r\n                    .build());\r\n        }\r\n    }\r\n\r\nNow I&#39;d like to write a test for it, mocking the `ContainerRequestContext` object.\r\n\r\n    @Test\r\n    public void emptyHeader() throws Exception {\r\n\r\n        when(context.getHeaderString(HttpHeaders.AUTHORIZATION)).thenReturn(null);\r\n\r\n        filter.filter(context);\r\n\r\n        Response r = Response.status(Response.Status.UNAUTHORIZED)\r\n                .type(MediaType.APPLICATION_JSON)\r\n                .entity(ErrorResponse.authenticationRequired())\r\n                .build();\r\n\r\n        verify(context).abortWith(eq(r));\r\n\r\n    }\r\n\r\nThis test fails on the `eq(r)` call, even if looking at the string representation of the `Response` objects they are the same. Any idea what&#39;s wrong?","title":"How to test jersey2 request filters?","body":"<p>In my jersey-2 application I'm using a very simple <code>ContainerRequestFilter</code> that will check for basic authentication (probably reinventing the wheel, but bear with me). Filter goes somewhat like this</p>\n\n<pre><code>@Override\npublic void filter(ContainerRequestContext context) throws IOException {\n    String authHeader = context.getHeaderString(HttpHeaders.AUTHORIZATION);\n    if (StringUtils.isBlank(authHeader)) {\n        log.info(\"Auth header is missing.\");\n        context.abortWith(Response.status(Response.Status.UNAUTHORIZED)\n                .type(MediaType.APPLICATION_JSON)\n                .entity(ErrorResponse.authenticationRequired())\n                .build());\n    }\n}\n</code></pre>\n\n<p>Now I'd like to write a test for it, mocking the <code>ContainerRequestContext</code> object.</p>\n\n<pre><code>@Test\npublic void emptyHeader() throws Exception {\n\n    when(context.getHeaderString(HttpHeaders.AUTHORIZATION)).thenReturn(null);\n\n    filter.filter(context);\n\n    Response r = Response.status(Response.Status.UNAUTHORIZED)\n            .type(MediaType.APPLICATION_JSON)\n            .entity(ErrorResponse.authenticationRequired())\n            .build();\n\n    verify(context).abortWith(eq(r));\n\n}\n</code></pre>\n\n<p>This test fails on the <code>eq(r)</code> call, even if looking at the string representation of the <code>Response</code> objects they are the same. Any idea what's wrong?</p>\n"},{"tags":["java","android","countdowntimer","numberpicker"],"comments":[{"owner":{"account_id":1435254,"reputation":29439,"user_id":4826457,"display_name":"Suraj Rao"},"score":0,"creation_date":1634882713,"post_id":69672087,"comment_id":123150497,"body_markdown":"Please add code and data as text ([using code formatting](//stackoverflow.com/editing-help#code)), not images. Images: A) don&#39;t allow us to copy-&amp;-paste the code/errors/data for testing; B) don&#39;t permit searching based on the code/error/data contents; and [many more reasons](//meta.stackoverflow.com/a/285557). Images should only be used, in addition to text in code format, if having the image adds something significant that is not conveyed by just the text code/error/data.","body":"Please add code and data as text (<a href=\"//stackoverflow.com/editing-help#code\">using code formatting</a>), not images. Images: A) don&#39;t allow us to copy-&amp;-paste the code/errors/data for testing; B) don&#39;t permit searching based on the code/error/data contents; and <a href=\"//meta.stackoverflow.com/a/285557\">many more reasons</a>. Images should only be used, in addition to text in code format, if having the image adds something significant that is not conveyed by just the text code/error/data."},{"owner":{"account_id":1435254,"reputation":29439,"user_id":4826457,"display_name":"Suraj Rao"},"score":0,"creation_date":1634883486,"post_id":69672087,"comment_id":123150681,"body_markdown":"Please [edit] your post to include any additional information you have to your question. Avoid adding this in the comments, as they are harder to read and can be deleted easier. The edit button for your post is just below the post&#39;s tags.","body":"Please <a href=\"https://stackoverflow.com/posts/69672087/edit\">edit</a> your post to include any additional information you have to your question. Avoid adding this in the comments, as they are harder to read and can be deleted easier. The edit button for your post is just below the post&#39;s tags."},{"owner":{"account_id":23108843,"reputation":1,"user_id":17217056,"display_name":"Su Mi"},"score":0,"creation_date":1634883684,"post_id":69672087,"comment_id":123150731,"body_markdown":"@SurajRao it cant let me post my full code","body":"@SurajRao it cant let me post my full code"},{"owner":{"account_id":23108843,"reputation":1,"user_id":17217056,"display_name":"Su Mi"},"score":0,"creation_date":1634883989,"post_id":69672087,"comment_id":123150812,"body_markdown":"@SurajRao i try","body":"@SurajRao i try"},{"owner":{"account_id":23108843,"reputation":1,"user_id":17217056,"display_name":"Su Mi"},"score":0,"creation_date":1634884664,"post_id":69672087,"comment_id":123151013,"body_markdown":"@SurajRao i good new here","body":"@SurajRao i good new here"}],"owner":{"account_id":23108843,"reputation":1,"user_id":17217056,"display_name":"Su Mi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634885018,"creation_date":1634882593,"question_id":69672087,"body_markdown":"I want to get numPicker&#39;s value to countdowntimer\r\nbutton to start and cancel\r\nbut it doesn&#39;t work.\r\n\r\n```\r\npublic class TimeManager extends AppCompatActivity {\r\n    private NumberPicker np1 = null;\r\n    private NumberPicker np2 = null;\r\n    private Button bt1 = null;\r\n    private Button bt2 = null;\r\n    private Button bt3 = null;\r\n    private TextView tv = null;\r\n    private final long t1 = np1.getValue() * 3600*1000;\r\n    private final long t2 = np2.getValue() * 60;\r\n    private CountDownTimer cdt;\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.Q)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_time_manager);\r\n\r\n        np1 = (NumberPicker) findViewById(R.id.numPicker);\r\n        np2 = (NumberPicker) findViewById(R.id.numPicker2);\r\n        bt1 = (Button) findViewById(R.id.button2);\r\n        bt2 = (Button) findViewById(R.id.button4);\r\n        bt3 = (Button) findViewById(R.id.button5);\r\n        tv = (TextView) findViewById(R.id.textView4);\r\n\r\n        np1.setOnValueChangedListener(nplis1);\r\n        np2.setOnValueChangedListener(nplis2);\r\n        bt1.setOnClickListener(btlis1);\r\n        bt2.setOnClickListener(btlis2);\r\n        bt3.setOnClickListener(btlis3);\r\n\r\n        np1.setMinValue(0); //設定最小值\r\n        np1.setMaxValue(23); //設定最大值\r\n        np1.setValue(1); //設定現值\r\n        np1.setWrapSelectorWheel(true);\r\n        np1.setTextSize(60f);\r\n\r\n        np2.setMinValue(0); //設定最小值\r\n        np2.setMaxValue(59); //設定最大值\r\n        np2.setValue(1); //設定現值\r\n        np2.setWrapSelectorWheel(true);\r\n        np2.setTextSize(60f);\r\n\r\n        cdt = new CountDownTimer(t1 + t2, 1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                long t3 = millisUntilFinished / 1000;\r\n                tv.setEnabled(false);\r\n                tv.setText(t3 + &quot;秒&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                tv.setEnabled(true);\r\n                tv.setText(&quot;重新发送&quot;);\r\n                cancel();\r\n            }\r\n        };\r\n    }\r\n\r\n        NumberPicker.OnValueChangeListener nplis1 = new NumberPicker.OnValueChangeListener() {\r\n            @Override\r\n            public void onValueChange(NumberPicker picker, int oldVal, int newVal) {\r\n                String value = &quot;&quot; + newVal;\r\n            }\r\n        };\r\n\r\n        NumberPicker.OnValueChangeListener nplis2 = new NumberPicker.OnValueChangeListener() {\r\n            @Override\r\n            public void onValueChange(NumberPicker picker, int oldVal, int newVal) {\r\n                int nowValue = np2.getValue(); //取得現值\r\n\r\n            }\r\n        };\r\n\r\n\r\n        View.OnClickListener btlis1 = new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent it = new Intent(TimeManager.this, Home.class);\r\n                startActivity(it);\r\n            }\r\n        };\r\n\r\n        View.OnClickListener btlis2 = new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                cdt.start();\r\n            }\r\n        };\r\n\r\n        View.OnClickListener btlis3 = new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                cdt.cancel();\r\n            }\r\n        };\r\n    }\r\n```","title":"Android numberPicker to countdownTimer","body":"<p>I want to get numPicker's value to countdowntimer\nbutton to start and cancel\nbut it doesn't work.</p>\n<pre><code>public class TimeManager extends AppCompatActivity {\n    private NumberPicker np1 = null;\n    private NumberPicker np2 = null;\n    private Button bt1 = null;\n    private Button bt2 = null;\n    private Button bt3 = null;\n    private TextView tv = null;\n    private final long t1 = np1.getValue() * 3600*1000;\n    private final long t2 = np2.getValue() * 60;\n    private CountDownTimer cdt;\n\n\n    @RequiresApi(api = Build.VERSION_CODES.Q)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_time_manager);\n\n        np1 = (NumberPicker) findViewById(R.id.numPicker);\n        np2 = (NumberPicker) findViewById(R.id.numPicker2);\n        bt1 = (Button) findViewById(R.id.button2);\n        bt2 = (Button) findViewById(R.id.button4);\n        bt3 = (Button) findViewById(R.id.button5);\n        tv = (TextView) findViewById(R.id.textView4);\n\n        np1.setOnValueChangedListener(nplis1);\n        np2.setOnValueChangedListener(nplis2);\n        bt1.setOnClickListener(btlis1);\n        bt2.setOnClickListener(btlis2);\n        bt3.setOnClickListener(btlis3);\n\n        np1.setMinValue(0); //設定最小值\n        np1.setMaxValue(23); //設定最大值\n        np1.setValue(1); //設定現值\n        np1.setWrapSelectorWheel(true);\n        np1.setTextSize(60f);\n\n        np2.setMinValue(0); //設定最小值\n        np2.setMaxValue(59); //設定最大值\n        np2.setValue(1); //設定現值\n        np2.setWrapSelectorWheel(true);\n        np2.setTextSize(60f);\n\n        cdt = new CountDownTimer(t1 + t2, 1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                long t3 = millisUntilFinished / 1000;\n                tv.setEnabled(false);\n                tv.setText(t3 + &quot;秒&quot;);\n            }\n\n            @Override\n            public void onFinish() {\n                tv.setEnabled(true);\n                tv.setText(&quot;重新发送&quot;);\n                cancel();\n            }\n        };\n    }\n\n        NumberPicker.OnValueChangeListener nplis1 = new NumberPicker.OnValueChangeListener() {\n            @Override\n            public void onValueChange(NumberPicker picker, int oldVal, int newVal) {\n                String value = &quot;&quot; + newVal;\n            }\n        };\n\n        NumberPicker.OnValueChangeListener nplis2 = new NumberPicker.OnValueChangeListener() {\n            @Override\n            public void onValueChange(NumberPicker picker, int oldVal, int newVal) {\n                int nowValue = np2.getValue(); //取得現值\n\n            }\n        };\n\n\n        View.OnClickListener btlis1 = new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent it = new Intent(TimeManager.this, Home.class);\n                startActivity(it);\n            }\n        };\n\n        View.OnClickListener btlis2 = new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                cdt.start();\n            }\n        };\n\n        View.OnClickListener btlis3 = new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                cdt.cancel();\n            }\n        };\n    }\n</code></pre>\n"},{"tags":["java","ssh","mariadb"],"comments":[{"owner":{"account_id":6367186,"reputation":3116,"user_id":4940826,"display_name":"Mandraenke"},"score":0,"creation_date":1634881543,"post_id":69671856,"comment_id":123150229,"body_markdown":"Can you debug your code and see where it is stuck? At connecting to SSH server or during connection to the database?\n\nIn terms of reactivity you will be better off keeping the tunnel open at startup as no ssh login is required each time. But, if it is your network - just configure MariaDB to listen on 192.168.1.255 (which could be a broadcast address in a /24 subnet, please check the ip) directly so you don&#39;t need a tunnel at all.","body":"Can you debug your code and see where it is stuck? At connecting to SSH server or during connection to the database?  In terms of reactivity you will be better off keeping the tunnel open at startup as no ssh login is required each time. But, if it is your network - just configure MariaDB to listen on 192.168.1.255 (which could be a broadcast address in a /24 subnet, please check the ip) directly so you don&#39;t need a tunnel at all."},{"owner":{"account_id":17795243,"reputation":1,"user_id":13479186,"display_name":"SierraArgo"},"score":0,"creation_date":1634882043,"post_id":69671856,"comment_id":123150324,"body_markdown":"So, I had wanted to use SSH to allow for a user to connect to the database from outside the immediate network.","body":"So, I had wanted to use SSH to allow for a user to connect to the database from outside the immediate network."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634882080,"post_id":69671856,"comment_id":123150332,"body_markdown":"jdbc protocol is not the ssh protocol.  Or are you trying to do [access a mysql server running on a remote machine and listening on let&#39;s say port 3306 through a SSH tunnel](https://stackoverflow.com/questions/1968293/connect-to-remote-mysql-database-through-ssh-using-java)","body":"jdbc protocol is not the ssh protocol.  Or are you trying to do <a href=\"https://stackoverflow.com/questions/1968293/connect-to-remote-mysql-database-through-ssh-using-java\">access a mysql server running on a remote machine and listening on let&#39;s say port 3306 through a SSH tunnel</a>"},{"owner":{"account_id":17795243,"reputation":1,"user_id":13479186,"display_name":"SierraArgo"},"score":0,"creation_date":1634882302,"post_id":69671856,"comment_id":123150397,"body_markdown":"That&#39;s correct. I had been trying to use ssh to connect to a database, and then make changes.","body":"That&#39;s correct. I had been trying to use ssh to connect to a database, and then make changes."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634883368,"post_id":69671856,"comment_id":123150646,"body_markdown":"so what error are you getting?","body":"so what error are you getting?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1634883403,"post_id":69671856,"comment_id":123150656,"body_markdown":"Move the ssh tunnel management outside your app.","body":"Move the ssh tunnel management outside your app."},{"owner":{"account_id":17795243,"reputation":1,"user_id":13479186,"display_name":"SierraArgo"},"score":0,"creation_date":1634883652,"post_id":69671856,"comment_id":123150725,"body_markdown":"Gah, stupid mistake on my part. Action listener wasn&#39;t set on the button. Now it&#39;s throwing this error: com.jcraft.jsch.JSchException: java.io.FileNotFoundException: C:\\Users\\kenda\\.ssh\\id_rsa (The system cannot find the path specified)","body":"Gah, stupid mistake on my part. Action listener wasn&#39;t set on the button. Now it&#39;s throwing this error: com.jcraft.jsch.JSchException: java.io.FileNotFoundException: C:\\Users\\kenda\\.ssh\\id_rsa (The system cannot find the path specified)"}],"owner":{"account_id":17795243,"reputation":1,"user_id":13479186,"display_name":"SierraArgo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634884948,"creation_date":1634880778,"question_id":69671856,"body_markdown":"I was trying to use Java to create a program that would allow me to insert, update, and delete entries on a MariaDB database running on a Pi 4 through the use of SSH from a remote session. This isn&#39;t something I have done before, as my database experience has been with XAMPP locally, but I wanted to see if I couldn&#39;t allow remote access, since it would be useful for this project. Currently, my code is set up to allow a user to operate a GUI to input data (the other functionality will come later), and is as follows:\r\n\r\n```\r\n   public void actionPerformed(ActionEvent event) {\r\n      \r\n         if(event.getSource() == submitButton){\r\n      \r\n         String name = userField.getText();\r\n      \r\n         String email = emailField.getText();\r\n      \r\n         String system = systemField.getText();\r\n      \r\n         String serial = serialField.getText();\r\n      \r\n         String date = dateField.getText();\r\n      \r\n                  \r\n         //SSH and DB insanity begins here\r\n      \r\n          int localPort = 6000;\r\n      \r\n          String sshUser =&quot;&quot;;\r\n      \r\n          String sshHost = &quot;&quot;;\r\n      \r\n          String dbHost = &quot;192.168.1.242&quot;;\r\n      \r\n          int dbPort = 3306;\r\n      \r\n          String dbUser = &quot;root&quot;;\r\n      \r\n          String dbPassword = &quot;wacky12&quot;;\r\n          \r\n          String driver = &quot;com.mysql.jdbc.Driver&quot;;\r\n          \r\n          try{\r\n      \r\n         JSch jsch = new JSch();\r\n      \r\n         jsch.addIdentity(&quot;~/.ssh/id_rsa&quot;);\r\n      \r\n         Session session = jsch.getSession(sshUser, sshHost, 22);\r\n         \r\n         session.connect();\r\n         \r\n         int forwardedPort = session.setPortForwardingL(0, dbHost, dbPort);\r\n         \r\n         String url = &quot;jdbc:mysql://localhost:&quot; + forwardedPort;\r\n         \r\n         Connection connection = DriverManager.getConnection(url, dbUser, dbPassword);\r\n         \r\n         Statement stmt = connection.createStatement();\r\n      \r\n         String insert = &quot;insert into LaptopReturns(&#39;&quot; + name + &quot;&#39; , &#39;&quot; + email + &quot;&#39; , &#39;&quot; + system + &quot;&#39; , &#39;&quot; + serial + &quot;&#39; , &#39;&quot; + date + &quot;&#39;)&quot;;\r\n         \r\n         stmt.execute(insert);\r\n         \r\n         System.out.print(&quot;Done!&quot;);\r\n\r\n         \r\n      }catch (Exception e) {\r\n         e.printStackTrace();\r\n         \r\n      }\r\n```\r\n\r\nI fully realize that I am probably doing this wrong, but it doesn&#39;t seem to be connecting to the Pi at all when the submit button is hit. Is anyone able to give me some pointers? As mentioned I have no real experience with JSch. Also, would it be easier to have it connect to the server via SSH initially at run, or as needed when the button is pressed?","title":"Using SSH to access a remote MariaDB server via Java","body":"<p>I was trying to use Java to create a program that would allow me to insert, update, and delete entries on a MariaDB database running on a Pi 4 through the use of SSH from a remote session. This isn't something I have done before, as my database experience has been with XAMPP locally, but I wanted to see if I couldn't allow remote access, since it would be useful for this project. Currently, my code is set up to allow a user to operate a GUI to input data (the other functionality will come later), and is as follows:</p>\n<pre><code>   public void actionPerformed(ActionEvent event) {\n      \n         if(event.getSource() == submitButton){\n      \n         String name = userField.getText();\n      \n         String email = emailField.getText();\n      \n         String system = systemField.getText();\n      \n         String serial = serialField.getText();\n      \n         String date = dateField.getText();\n      \n                  \n         //SSH and DB insanity begins here\n      \n          int localPort = 6000;\n      \n          String sshUser =&quot;&quot;;\n      \n          String sshHost = &quot;&quot;;\n      \n          String dbHost = &quot;192.168.1.242&quot;;\n      \n          int dbPort = 3306;\n      \n          String dbUser = &quot;root&quot;;\n      \n          String dbPassword = &quot;wacky12&quot;;\n          \n          String driver = &quot;com.mysql.jdbc.Driver&quot;;\n          \n          try{\n      \n         JSch jsch = new JSch();\n      \n         jsch.addIdentity(&quot;~/.ssh/id_rsa&quot;);\n      \n         Session session = jsch.getSession(sshUser, sshHost, 22);\n         \n         session.connect();\n         \n         int forwardedPort = session.setPortForwardingL(0, dbHost, dbPort);\n         \n         String url = &quot;jdbc:mysql://localhost:&quot; + forwardedPort;\n         \n         Connection connection = DriverManager.getConnection(url, dbUser, dbPassword);\n         \n         Statement stmt = connection.createStatement();\n      \n         String insert = &quot;insert into LaptopReturns('&quot; + name + &quot;' , '&quot; + email + &quot;' , '&quot; + system + &quot;' , '&quot; + serial + &quot;' , '&quot; + date + &quot;')&quot;;\n         \n         stmt.execute(insert);\n         \n         System.out.print(&quot;Done!&quot;);\n\n         \n      }catch (Exception e) {\n         e.printStackTrace();\n         \n      }\n</code></pre>\n<p>I fully realize that I am probably doing this wrong, but it doesn't seem to be connecting to the Pi at all when the submit button is hit. Is anyone able to give me some pointers? As mentioned I have no real experience with JSch. Also, would it be easier to have it connect to the server via SSH initially at run, or as needed when the button is pressed?</p>\n"},{"tags":["java","cucumber"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1634831292,"post_id":69661250,"comment_id":123138117,"body_markdown":"Why you created separate runner for each group?","body":"Why you created separate runner for each group?"},{"owner":{"account_id":15464675,"reputation":61,"user_id":11156387,"display_name":"Tom"},"score":0,"creation_date":1634847234,"post_id":69661250,"comment_id":123143973,"body_markdown":"@NandanA: because I want to run test cases from each group separately: Sometimes I want to run all test cases from GRP_1 User login (and none other), sometimes all test cases from GRP_2 Registration (and none other), etc..","body":"@NandanA: because I want to run test cases from each group separately: Sometimes I want to run all test cases from GRP_1 User login (and none other), sometimes all test cases from GRP_2 Registration (and none other), etc.."}],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634883768,"creation_date":1634883768,"answer_id":69672266,"question_id":69661250,"body_markdown":"Can you please try this one,  **tags = {&quot;@GRP_1, @GRP_2&quot;}**\r\n\r\n   \r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features={&quot;src/test/java/Features/&quot;},\r\n            plugin  = {&quot;json:target/cucumber-report/cucumber.json&quot;},\r\n    \t\ttags = {&quot;@run1, @run2&quot;},\r\n            glue = &quot;StepDefinitions&quot;\r\n    )\r\n    public class RunTest {\r\n    }","title":"Do I need to create a new runner for each tag in Cucumber?","body":"<p>Can you please try this one,  <strong>tags = {&quot;@GRP_1, @GRP_2&quot;}</strong></p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n        features={&quot;src/test/java/Features/&quot;},\n        plugin  = {&quot;json:target/cucumber-report/cucumber.json&quot;},\n        tags = {&quot;@run1, @run2&quot;},\n        glue = &quot;StepDefinitions&quot;\n)\npublic class RunTest {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634884793,"creation_date":1634884793,"answer_id":69672420,"question_id":69661250,"body_markdown":"You can use logical operators to run tests with different combinations.\r\n\r\n- You can use `or` operator to run all the `features`\r\n```\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = {&quot;/features&quot;},\r\n            plugin = { &quot;html:target/cukes&quot;},\r\n            glue = {&quot;steps&quot;},\r\n            tags = &quot;@GRP_1 or @GRP_2 or @GRP_3 or @GRP_4&quot;\r\n    )\r\n```\r\n\r\n- You can use `and` operator to run the `features` which are having given `tags`\r\n\r\n```\r\n  @Grp_1 @Grp_2\r\n  Test1_Userlogin.feature\r\n  \r\n  @GRP_2 \r\n  Test1_Registration.feature\r\n  \r\n  @GRP_3\r\n  Test1_Shipping.feature\r\n``` \r\n\r\n```\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = {&quot;/features&quot;},\r\n            plugin = { &quot;html:target/cukes&quot;},\r\n            glue = {&quot;steps&quot;},\r\n            tags = &quot;@GRP_1 and @GRP_2&quot;\r\n    )\r\n```\r\n\r\nNow `Test1_Userlogin.feature` will be executed because it is the `feature` which is having both `@Grp_1` and `@Grp_2` tags\r\n\r\n&gt; Do I need to create a new runner for each tag in Cucumber? Is there\r\n&gt; any alternative to running each group of tests separately without\r\n&gt; having to create a new runner each time?\r\n\r\n- If you want to have a single `Runner` class then you need to change the tags before each run based on criteria (like @Grp1, @Grp2 etc.)\r\n\r\n- Even you can have multiple `Runner` classes to have different combination of tags instead of modifying the `Runner` class every time. \r\n\r\n- You can run them from command line by changing `tag` name.\r\n```\r\n    mvn test -Dcucumber.options=&quot;--tags @Grp_1&quot;\r\n```\r\n","title":"Do I need to create a new runner for each tag in Cucumber?","body":"<p>You can use logical operators to run tests with different combinations.</p>\n<ul>\n<li>You can use <code>or</code> operator to run all the <code>features</code></li>\n</ul>\n<pre><code>    @RunWith(Cucumber.class)\n    @CucumberOptions(\n            features = {&quot;/features&quot;},\n            plugin = { &quot;html:target/cukes&quot;},\n            glue = {&quot;steps&quot;},\n            tags = &quot;@GRP_1 or @GRP_2 or @GRP_3 or @GRP_4&quot;\n    )\n</code></pre>\n<ul>\n<li>You can use <code>and</code> operator to run the <code>features</code> which are having given <code>tags</code></li>\n</ul>\n<pre><code>  @Grp_1 @Grp_2\n  Test1_Userlogin.feature\n  \n  @GRP_2 \n  Test1_Registration.feature\n  \n  @GRP_3\n  Test1_Shipping.feature\n</code></pre>\n<pre><code>    @RunWith(Cucumber.class)\n    @CucumberOptions(\n            features = {&quot;/features&quot;},\n            plugin = { &quot;html:target/cukes&quot;},\n            glue = {&quot;steps&quot;},\n            tags = &quot;@GRP_1 and @GRP_2&quot;\n    )\n</code></pre>\n<p>Now <code>Test1_Userlogin.feature</code> will be executed because it is the <code>feature</code> which is having both <code>@Grp_1</code> and <code>@Grp_2</code> tags</p>\n<blockquote>\n<p>Do I need to create a new runner for each tag in Cucumber? Is there\nany alternative to running each group of tests separately without\nhaving to create a new runner each time?</p>\n</blockquote>\n<ul>\n<li><p>If you want to have a single <code>Runner</code> class then you need to change the tags before each run based on criteria (like @Grp1, @Grp2 etc.)</p>\n</li>\n<li><p>Even you can have multiple <code>Runner</code> classes to have different combination of tags instead of modifying the <code>Runner</code> class every time.</p>\n</li>\n<li><p>You can run them from command line by changing <code>tag</code> name.</p>\n</li>\n</ul>\n<pre><code>    mvn test -Dcucumber.options=&quot;--tags @Grp_1&quot;\n</code></pre>\n"}],"owner":{"account_id":15464675,"reputation":61,"user_id":11156387,"display_name":"Tom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":922,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634884793,"creation_date":1634816102,"question_id":69661250,"body_markdown":"I have groups of test cases in Cucumber (I use: Cucumber + Junit).\r\nStructure:\r\n\r\n    GRP_1 User login\r\n      Test1_Userlogin.feature\r\n      Test2_Userlogin.feature\r\n      Test3_Userlogin.feature\r\n    GRP_2 Registration\r\n      Test1_Registration.feature\r\n      Test2_Registration.feature\r\n    GRP_3 Shipping\r\n      Test1_Shipping.feature\r\n    GRP_4 UserPanel\r\n      Test1_UserPanel.feature\r\n      ...\r\n\r\nFor each group I have Runner class: \r\nGRP_1_Runner,   GRP_2_Runner,  GRP_3_Runner,  GRP_4_Runner, ...\r\n\r\nEach runner has the same content (except tag) for example:\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = {&quot;/features&quot;},\r\n            plugin = { &quot;html:target/cukes&quot;},\r\n            glue = {&quot;steps&quot;},\r\n            tags = &quot;@GRP_1&quot;\r\n    )\r\n    public class GRP_1_Runner{\r\n    }\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = {&quot;/features&quot;},\r\n            plugin = { &quot;html:target/cukes&quot;},\r\n            glue = {&quot;steps&quot;},\r\n            tags = &quot;@GRP_2&quot;\r\n    )\r\n    public class GRP_2_Runner{\r\n    }\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = {&quot;/features&quot;},\r\n            plugin = { &quot;html:target/cukes&quot;},\r\n            glue = {&quot;steps&quot;},\r\n            tags = &quot;@GRP_3&quot;\r\n    )\r\n    public class GRP_3_Runner{\r\n    }\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = {&quot;/features&quot;},\r\n            plugin = { &quot;html:target/cukes&quot;},\r\n            glue = {&quot;steps&quot;},\r\n            tags = &quot;@GRP_4&quot;\r\n    )\r\n    public class GRP_4_Runner{\r\n    }\r\n\r\nEach test case in group has a corresponding tag from the runner class\r\nI use tags because i want to run each group of test cases separately. \r\n\r\nDo I need to create a new runner for each tag in Cucumber? Is there any alternative to running each group of tests separately without having to create a new runner each time? \r\n","title":"Do I need to create a new runner for each tag in Cucumber?","body":"<p>I have groups of test cases in Cucumber (I use: Cucumber + Junit).\nStructure:</p>\n<pre><code>GRP_1 User login\n  Test1_Userlogin.feature\n  Test2_Userlogin.feature\n  Test3_Userlogin.feature\nGRP_2 Registration\n  Test1_Registration.feature\n  Test2_Registration.feature\nGRP_3 Shipping\n  Test1_Shipping.feature\nGRP_4 UserPanel\n  Test1_UserPanel.feature\n  ...\n</code></pre>\n<p>For each group I have Runner class:\nGRP_1_Runner,   GRP_2_Runner,  GRP_3_Runner,  GRP_4_Runner, ...</p>\n<p>Each runner has the same content (except tag) for example:</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = {&quot;/features&quot;},\n        plugin = { &quot;html:target/cukes&quot;},\n        glue = {&quot;steps&quot;},\n        tags = &quot;@GRP_1&quot;\n)\npublic class GRP_1_Runner{\n}\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = {&quot;/features&quot;},\n        plugin = { &quot;html:target/cukes&quot;},\n        glue = {&quot;steps&quot;},\n        tags = &quot;@GRP_2&quot;\n)\npublic class GRP_2_Runner{\n}\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = {&quot;/features&quot;},\n        plugin = { &quot;html:target/cukes&quot;},\n        glue = {&quot;steps&quot;},\n        tags = &quot;@GRP_3&quot;\n)\npublic class GRP_3_Runner{\n}\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = {&quot;/features&quot;},\n        plugin = { &quot;html:target/cukes&quot;},\n        glue = {&quot;steps&quot;},\n        tags = &quot;@GRP_4&quot;\n)\npublic class GRP_4_Runner{\n}\n</code></pre>\n<p>Each test case in group has a corresponding tag from the runner class\nI use tags because i want to run each group of test cases separately.</p>\n<p>Do I need to create a new runner for each tag in Cucumber? Is there any alternative to running each group of tests separately without having to create a new runner each time?</p>\n"},{"tags":["java","jsp","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":22946308,"reputation":69,"user_id":17078245,"display_name":"kody-technolab"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634884643,"creation_date":1634821554,"answer_id":69662559,"question_id":69655131,"body_markdown":"There is no need to use leading &#39;\\\\&#39; while using servlet url-pattern in **&amp;lt;a&amp;gt; tag**. Below code is working fine if you want to call your DownloadServlet with url-pattern **/download**\r\n\r\n    &lt;a href=&#39;download?file=sample.txt&#39;&gt;Download&lt;/a&gt;\r\n\r\nSee the complete files below where file name is dynamic which we got from JSP via user request,\r\n\r\n**Servlet Code**\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    \r\n    import jakarta.servlet.ServletContext;\r\n    import jakarta.servlet.annotation.WebServlet;\r\n    import jakarta.servlet.http.HttpServlet;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    \r\n    @WebServlet(&quot;/download&quot;)\r\n    public class DownloadServlet extends HttpServlet {\r\n    \r\n    \tprivate static final long serialVersionUID = 102831973239L;\r\n    \tprivate static final int BYTES_DOWNLOAD = 1024;\r\n    \r\n    \tpublic void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n    \t\tresponse.setContentType(&quot;text/plain&quot;);\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Get name of the file dynamically from user request\r\n    \t\t */\r\n    \t\tString fileName = request.getParameter(&quot;file&quot;);\r\n    \t\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + fileName);\r\n    \t\tServletContext ctx = getServletContext();\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Open stream to read the file, here file will be expected to be in root directory of the project\r\n    \t\t */\r\n    \t\tInputStream is = ctx.getResourceAsStream(fileName);\r\n    \t\tint read = 0;\r\n    \t\tbyte[] bytes = new byte[BYTES_DOWNLOAD];\r\n    \t\tOutputStream os = response.getOutputStream();\r\n    \r\n    \t\twhile ((read = is.read(bytes)) != -1) {\r\n    \t\t\tos.write(bytes, 0, read);\r\n    \t\t}\r\n    \t\tos.flush();\r\n    \t\tos.close();\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd **JSP code**\r\n\r\n    &lt;%@ page import=&quot;java.util.Vector&quot;%&gt;\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;title&gt;Index Page&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    \t&lt;%\r\n    \t//TODO: Please replace below code with your actual code to populate file names dynamically.\r\n    \tVector&lt;String&gt; l_Files = new Vector&lt;String&gt;();\r\n    \tl_Files.add(&quot;sample1.txt&quot;);\r\n    \tl_Files.add(&quot;sample2.txt&quot;);\r\n    \tl_Files.add(&quot;sample3.txt&quot;);\r\n    \tl_Files.add(&quot;sample4.txt&quot;);\r\n    \tl_Files.add(&quot;sample5.txt&quot;);\r\n    \r\n    \t// l_Files is list of all files in the folder\r\n    \tfor (int a = 0; a &lt; l_Files.size(); a++) { %&gt;\r\n    \t\t &lt;a href=&#39;download?file=&lt;%=l_Files.elementAt(a).toString() %&gt;&#39;&gt;&lt;%=l_Files.elementAt(a).toString() %&gt;&lt;/a&gt;&lt;br&gt;\r\n    \t&lt;%\r\n    \t}\r\n    \t%&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**I have used same web.xml file shared by you here.**\r\n\r\nBelow is the directory structure,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UYoNy.png\r\n\r\n**OS Version** : Windows 10 Home Edition \r\n\r\n**Tomcat Version** : apache-tomcat-10.0.12\r\n\r\n**Browser Version** : Firefox 93.0 (64-bit) ","title":"HTTPServlet not found when calling from jsp page","body":"<p>There is no need to use leading '\\' while using servlet url-pattern in <strong>&lt;a&gt; tag</strong>. Below code is working fine if you want to call your DownloadServlet with url-pattern <strong>/download</strong></p>\n<pre><code>&lt;a href='download?file=sample.txt'&gt;Download&lt;/a&gt;\n</code></pre>\n<p>See the complete files below where file name is dynamic which we got from JSP via user request,</p>\n<p><strong>Servlet Code</strong></p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\nimport jakarta.servlet.ServletContext;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/download&quot;)\npublic class DownloadServlet extends HttpServlet {\n\n    private static final long serialVersionUID = 102831973239L;\n    private static final int BYTES_DOWNLOAD = 1024;\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        response.setContentType(&quot;text/plain&quot;);\n        \n        /**\n         * Get name of the file dynamically from user request\n         */\n        String fileName = request.getParameter(&quot;file&quot;);\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + fileName);\n        ServletContext ctx = getServletContext();\n        \n        /**\n         * Open stream to read the file, here file will be expected to be in root directory of the project\n         */\n        InputStream is = ctx.getResourceAsStream(fileName);\n        int read = 0;\n        byte[] bytes = new byte[BYTES_DOWNLOAD];\n        OutputStream os = response.getOutputStream();\n\n        while ((read = is.read(bytes)) != -1) {\n            os.write(bytes, 0, read);\n        }\n        os.flush();\n        os.close();\n    }\n\n}\n</code></pre>\n<p>And <strong>JSP code</strong></p>\n<pre><code>&lt;%@ page import=&quot;java.util.Vector&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Index Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;%\n    //TODO: Please replace below code with your actual code to populate file names dynamically.\n    Vector&lt;String&gt; l_Files = new Vector&lt;String&gt;();\n    l_Files.add(&quot;sample1.txt&quot;);\n    l_Files.add(&quot;sample2.txt&quot;);\n    l_Files.add(&quot;sample3.txt&quot;);\n    l_Files.add(&quot;sample4.txt&quot;);\n    l_Files.add(&quot;sample5.txt&quot;);\n\n    // l_Files is list of all files in the folder\n    for (int a = 0; a &lt; l_Files.size(); a++) { %&gt;\n         &lt;a href='download?file=&lt;%=l_Files.elementAt(a).toString() %&gt;'&gt;&lt;%=l_Files.elementAt(a).toString() %&gt;&lt;/a&gt;&lt;br&gt;\n    &lt;%\n    }\n    %&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>I have used same web.xml file shared by you here.</strong></p>\n<p>Below is the directory structure,</p>\n<p><a href=\"https://i.stack.imgur.com/UYoNy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UYoNy.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>OS Version</strong> : Windows 10 Home Edition</p>\n<p><strong>Tomcat Version</strong> : apache-tomcat-10.0.12</p>\n<p><strong>Browser Version</strong> : Firefox 93.0 (64-bit)</p>\n"}],"owner":{"account_id":3794041,"reputation":15633,"user_id":3154233,"accept_rate":88,"display_name":"NoobEditor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634884643,"creation_date":1634783427,"question_id":69655131,"body_markdown":"I have mostly worked on jersey based webservices, trying my hand on jsp + servlet combo for the first time and &lt;a href=&quot;https://stackoverflow.com/questions/69640842/reprompt-login-page-using-j-security-check-in-case-of-403&quot;&gt; struggling a lot with few things &lt;/a&gt;\r\n\r\n\r\nhere is what the directory structures looks likes in tomcat webapp folder:\r\n\r\n```\r\n├── 403.jsp\r\n├── META-INF\r\n│&#160;&#160; ├── MANIFEST.MF\r\n│&#160;&#160; ├── maven\r\n│&#160;&#160; │&#160;&#160; └── com.csx.cti             &lt;-----package\r\n│&#160;&#160; │&#160;&#160;     └── cti_dwnld           &lt;-----project name\r\n│&#160;&#160; │&#160;&#160;         ├── pom.properties\r\n│&#160;&#160; │&#160;&#160;         └── pom.xml\r\n│&#160;&#160; └── war-tracker\r\n├── WEB-INF\r\n│&#160;&#160; ├── classes\r\n│&#160;&#160; │&#160;&#160; └── com\r\n│&#160;&#160; │&#160;&#160;     └── csx\r\n│&#160;&#160; │&#160;&#160;         └── cti\r\n│&#160;&#160; │&#160;&#160;             └── servlet\r\n│&#160;&#160; │&#160;&#160;                 └── DownloadServlet.class.   &lt;----- servlet in question\r\n│&#160;&#160; ├── lib\r\n│&#160;&#160; │&#160;&#160; ├── javax.servlet-api-3.0.1.jar\r\n│&#160;&#160; │&#160;&#160; └── javax.ws.rs-api-2.1.1.jar\r\n│&#160;&#160; └── web.xml\r\n├── error.jsp\r\n├── index.jsp\r\n├── login.jsp\r\n└── logout.jsp\r\n```\r\n\r\n\r\nweb.xml\r\n\r\n\r\n```\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\r\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n         version=&quot;3.1&quot;&gt;\r\n    &lt;display-name&gt;Login Demo Using j_security_check&lt;/display-name&gt;\r\n    &lt;!--Defines Security Constraint --&gt;\r\n    &lt;security-constraint&gt;\r\n        &lt;display-name&gt;JSP Demo Constraint&lt;/display-name&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;web-resource-name&gt;cp&lt;/web-resource-name&gt;\r\n            &lt;description/&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/web-resource-collection&gt;\r\n        &lt;auth-constraint&gt;\r\n            &lt;description/&gt;\r\n            &lt;role-name&gt;file-user&lt;/role-name&gt;\r\n        &lt;/auth-constraint&gt;\r\n    &lt;/security-constraint&gt;\r\n    &lt;!--Defines Login Config --&gt;\r\n    &lt;login-config&gt;\r\n        &lt;auth-method&gt;FORM&lt;/auth-method&gt;\r\n        &lt;realm-name&gt;cti file user realm&lt;/realm-name&gt;\r\n        &lt;form-login-config&gt;\r\n            &lt;form-login-page&gt;/login.jsp&lt;/form-login-page&gt;\r\n            &lt;form-error-page&gt;/403.jsp&lt;/form-error-page&gt;\r\n        &lt;/form-login-config&gt;\r\n    &lt;/login-config&gt;\r\n    &lt;!--Defines Security Role --&gt;\r\n    &lt;security-role&gt;\r\n        &lt;description/&gt;\r\n        &lt;role-name&gt;file-user&lt;/role-name&gt;\r\n    &lt;/security-role&gt;\r\n    &lt;error-page&gt;\r\n        &lt;error-code&gt;403&lt;/error-code&gt;\r\n        &lt;location&gt;/403.jsp&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\n\r\n\r\n\r\n**DownloadServlet**\r\n\r\n\r\n\r\n```package servlet;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport javax.servlet.ServletContext;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/download&quot;)\r\npublic class DownloadServlet extends HttpServlet {\r\n\r\n//    private static final long serialVersionUID = 1L;\r\n\r\n    private static final long serialVersionUID = 102831973239L;\r\n\r\n    private static final int BYTES_DOWNLOAD = 1024;\r\n\r\n    public DownloadServlet() {\r\n        super();\r\n    }\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n\r\n        // skip url params and use hardcode for now\r\n        response.setContentType(&quot;text/plain&quot;);\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=sample.txt&quot;);\r\n        ServletContext ctx = getServletContext();\r\n        InputStream is = ctx.getResourceAsStream(&quot;sample.txt&quot;);\r\n\r\n        int read = 0;\r\n        byte[] bytes = new byte[BYTES_DOWNLOAD];\r\n        OutputStream os = response.getOutputStream();\r\n\r\n        while ((read = is.read(bytes)) != -1) {\r\n            os.write(bytes, 0, read);\r\n        }\r\n        os.flush();\r\n        os.close();\r\n    }\r\n\r\n\r\n    /**\r\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n     */\r\n    public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        // TODO Auto-generated method stub\r\n    }\r\n}\r\n```\r\n\r\n\r\nindex.jsp ( part which is supposed to call the download servlet )\r\n\r\n\r\n```\r\n      // l_Files is list of all files in the folder\r\n      for (int a = 0; a &lt; l_Files.size(); a++) {\r\n          // have tried:\r\n          // href=&#39;./download&#39;\r\n          // href=&#39;/download&#39;\r\n          // href=&#39;download&#39;\r\n          // href=&#39;/cti_dwnld/download&#39;\r\n          out.println(&quot;&lt;a href=&#39;/download?file=sample.txt&#39;&gt;&quot; + l_Files.elementAt(a).toString() + &quot;&lt;/a&gt;&lt;br&gt;&quot;);\r\n      }\r\n```\r\n\r\n**What i am trying to achieve:**\r\n\r\nEssentially show a list of files and pass them to download servlet to trigger a download.\r\nSo far i am able to get user successfully logged in but when `a` tag is triggered, i end up getting 404\r\n\r\n\r\n[![as below][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YQJL5.png\r\n\r\ntried this exhaustive answer as well:\r\n\r\nhttps://stackoverflow.com/questions/11731377/servlet-returns-http-status-404-the-requested-resource-servlet-is-not-availa\r\n\r\nI tried directly hitting the browser with servlet but still 404.\r\nAlso, the `href` param is sending to `~:8080/download` when it should have been `~:8080/cti_dwnld/download/`\r\n\r\nany pointers / help is appreciated!","title":"HTTPServlet not found when calling from jsp page","body":"<p>I have mostly worked on jersey based webservices, trying my hand on jsp + servlet combo for the first time and <a href=\"https://stackoverflow.com/questions/69640842/reprompt-login-page-using-j-security-check-in-case-of-403\"> struggling a lot with few things </a></p>\n<p>here is what the directory structures looks likes in tomcat webapp folder:</p>\n<pre><code>├── 403.jsp\n├── META-INF\n│   ├── MANIFEST.MF\n│   ├── maven\n│   │   └── com.csx.cti             &lt;-----package\n│   │       └── cti_dwnld           &lt;-----project name\n│   │           ├── pom.properties\n│   │           └── pom.xml\n│   └── war-tracker\n├── WEB-INF\n│   ├── classes\n│   │   └── com\n│   │       └── csx\n│   │           └── cti\n│   │               └── servlet\n│   │                   └── DownloadServlet.class.   &lt;----- servlet in question\n│   ├── lib\n│   │   ├── javax.servlet-api-3.0.1.jar\n│   │   └── javax.ws.rs-api-2.1.1.jar\n│   └── web.xml\n├── error.jsp\n├── index.jsp\n├── login.jsp\n└── logout.jsp\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n         http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n         version=&quot;3.1&quot;&gt;\n    &lt;display-name&gt;Login Demo Using j_security_check&lt;/display-name&gt;\n    &lt;!--Defines Security Constraint --&gt;\n    &lt;security-constraint&gt;\n        &lt;display-name&gt;JSP Demo Constraint&lt;/display-name&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;cp&lt;/web-resource-name&gt;\n            &lt;description/&gt;\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;/web-resource-collection&gt;\n        &lt;auth-constraint&gt;\n            &lt;description/&gt;\n            &lt;role-name&gt;file-user&lt;/role-name&gt;\n        &lt;/auth-constraint&gt;\n    &lt;/security-constraint&gt;\n    &lt;!--Defines Login Config --&gt;\n    &lt;login-config&gt;\n        &lt;auth-method&gt;FORM&lt;/auth-method&gt;\n        &lt;realm-name&gt;cti file user realm&lt;/realm-name&gt;\n        &lt;form-login-config&gt;\n            &lt;form-login-page&gt;/login.jsp&lt;/form-login-page&gt;\n            &lt;form-error-page&gt;/403.jsp&lt;/form-error-page&gt;\n        &lt;/form-login-config&gt;\n    &lt;/login-config&gt;\n    &lt;!--Defines Security Role --&gt;\n    &lt;security-role&gt;\n        &lt;description/&gt;\n        &lt;role-name&gt;file-user&lt;/role-name&gt;\n    &lt;/security-role&gt;\n    &lt;error-page&gt;\n        &lt;error-code&gt;403&lt;/error-code&gt;\n        &lt;location&gt;/403.jsp&lt;/location&gt;\n    &lt;/error-page&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>DownloadServlet</strong></p>\n<pre><code>\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/download&quot;)\npublic class DownloadServlet extends HttpServlet {\n\n//    private static final long serialVersionUID = 1L;\n\n    private static final long serialVersionUID = 102831973239L;\n\n    private static final int BYTES_DOWNLOAD = 1024;\n\n    public DownloadServlet() {\n        super();\n    }\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n\n        // skip url params and use hardcode for now\n        response.setContentType(&quot;text/plain&quot;);\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=sample.txt&quot;);\n        ServletContext ctx = getServletContext();\n        InputStream is = ctx.getResourceAsStream(&quot;sample.txt&quot;);\n\n        int read = 0;\n        byte[] bytes = new byte[BYTES_DOWNLOAD];\n        OutputStream os = response.getOutputStream();\n\n        while ((read = is.read(bytes)) != -1) {\n            os.write(bytes, 0, read);\n        }\n        os.flush();\n        os.close();\n    }\n\n\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n    }\n}\n</code></pre>\n<p>index.jsp ( part which is supposed to call the download servlet )</p>\n<pre><code>      // l_Files is list of all files in the folder\n      for (int a = 0; a &lt; l_Files.size(); a++) {\n          // have tried:\n          // href='./download'\n          // href='/download'\n          // href='download'\n          // href='/cti_dwnld/download'\n          out.println(&quot;&lt;a href='/download?file=sample.txt'&gt;&quot; + l_Files.elementAt(a).toString() + &quot;&lt;/a&gt;&lt;br&gt;&quot;);\n      }\n</code></pre>\n<p><strong>What i am trying to achieve:</strong></p>\n<p>Essentially show a list of files and pass them to download servlet to trigger a download.\nSo far i am able to get user successfully logged in but when <code>a</code> tag is triggered, i end up getting 404</p>\n<p><a href=\"https://i.stack.imgur.com/YQJL5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YQJL5.png\" alt=\"as below\" /></a></p>\n<p>tried this exhaustive answer as well:</p>\n<p><a href=\"https://stackoverflow.com/questions/11731377/servlet-returns-http-status-404-the-requested-resource-servlet-is-not-availa\">Servlet returns &quot;HTTP Status 404 The requested resource (/servlet) is not available&quot;</a></p>\n<p>I tried directly hitting the browser with servlet but still 404.\nAlso, the <code>href</code> param is sending to <code>~:8080/download</code> when it should have been <code>~:8080/cti_dwnld/download/</code></p>\n<p>any pointers / help is appreciated!</p>\n"},{"tags":["java","apache-storm"],"answers":[{"tags":[],"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634883939,"creation_date":1634883939,"answer_id":69672294,"question_id":69221729,"body_markdown":"I would say, that this really depends on your machines in the cluster, so it is hard to answer that generally - this is especially true, if the cluster has heterogeneous instances.\r\n\r\nBasically storm can handle many topologies that you can control over the [CLI][1] or the GUI. \r\n\r\nI am currently managing those with `storm list` and `storm kill` commands. Limits should be in the RAM, storage and network connections of the single machines. To be precisely, I would predict, that the bottleneck is the **JVM size of a supervisor instance**. This can hold multiple workers (that each having components like bolts &amp; spouts that are initially configured with a JVM of 256 MB), but if there are too many workers, the overall consumed JVM per supervisor will be exceeded. \r\n\r\n\r\n  [1]: http://storm.apache.org/releases/current/Command-line-client.html","title":"Apache Storm: How many topologies can create in a cluster?","body":"<p>I would say, that this really depends on your machines in the cluster, so it is hard to answer that generally - this is especially true, if the cluster has heterogeneous instances.</p>\n<p>Basically storm can handle many topologies that you can control over the <a href=\"http://storm.apache.org/releases/current/Command-line-client.html\" rel=\"nofollow noreferrer\">CLI</a> or the GUI.</p>\n<p>I am currently managing those with <code>storm list</code> and <code>storm kill</code> commands. Limits should be in the RAM, storage and network connections of the single machines. To be precisely, I would predict, that the bottleneck is the <strong>JVM size of a supervisor instance</strong>. This can hold multiple workers (that each having components like bolts &amp; spouts that are initially configured with a JVM of 256 MB), but if there are too many workers, the overall consumed JVM per supervisor will be exceeded.</p>\n"}],"owner":{"account_id":212365,"reputation":1625,"user_id":465147,"accept_rate":52,"display_name":"sprabhakaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634883939,"creation_date":1631873984,"question_id":69221729,"body_markdown":"I read many sites related to Storm&#39;s topologies design setup. But, I didn&#39;t get clarity.\r\n\r\nIn my project, I am going to processing more than a million records. So, I planned to create topologies dynamically based on internal modules. The count might be reached more than a thousand. My doubt is what is the best way to manage topologies? How many topologies can be created in a single cluster? Are there any problems with maintaining multiple topologies?","title":"Apache Storm: How many topologies can create in a cluster?","body":"<p>I read many sites related to Storm's topologies design setup. But, I didn't get clarity.</p>\n<p>In my project, I am going to processing more than a million records. So, I planned to create topologies dynamically based on internal modules. The count might be reached more than a thousand. My doubt is what is the best way to manage topologies? How many topologies can be created in a single cluster? Are there any problems with maintaining multiple topologies?</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":20559155,"reputation":73,"user_id":15090028,"display_name":"Mr Learning"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1897,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634883621,"creation_date":1634883621,"question_id":69672242,"body_markdown":"I tried to figure out what is wrong with the code but couldnt find the cause. As the topic stated, it is caused by android.os.RemoteException. The app for sure could run smoothly in the emulator, but when I tried run on Huawei Nova 4e, it crash when opening this activity.\r\n\r\n```\r\npublic class Engineerproofimage extends AppCompatActivity {\r\n\r\n    ImageView previewimage;\r\n    String uri;\r\n    /*FireBase Auth*/\r\n    FirebaseUser LoggedUser;\r\n\r\n    /*Firebase RTDatabase*/\r\n    FirebaseDatabase FirebaseDB;\r\n    DatabaseReference DBRef;\r\n    DatabaseReference UserName;\r\n    DatabaseReference UserWorkerID;\r\n\r\n    /*Firebase Storage*/\r\n    FirebaseStorage storage;\r\n    StorageReference storageRef;\r\n    StorageReference ProfilePicRef;\r\n\r\n    DrawerLayout drawerLayout;\r\n    NavigationView navigationView;\r\n\r\n    CustomPager MainvPager;\r\n\r\n    ArrayList&lt;GalleryModel&gt; allimages;\r\n    ArrayList&lt;String&gt; allkeys;\r\n    VPAdapterE vpAdapter;\r\n    CustomScrollView scrollpager;\r\n    String MONTH;\r\n    String MONTHint;\r\n    String Dateset;\r\n    String Key;\r\n    String UID;\r\n\r\n    TextView tvinfo;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_engineerproofimage);\r\n        /*Initialize Firebase User Information*/\r\n        LoggedUser = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n        if (LoggedUser != null) {\r\n            /*Name, Email Adress, Profile Pic\r\n            For this prototype, the usage of gmail account are been taken,\r\n            so all the information of the user are based on details from\r\n            the gmail account.*/\r\n\r\n            /*Initialize User Details*/\r\n            String Name = LoggedUser.getDisplayName();\r\n            String Email = LoggedUser.getEmail();\r\n            String uID = LoggedUser.getUid();\r\n\r\n            /*Initialize Firebase Storage*/\r\n            storage = FirebaseStorage.getInstance();\r\n            storageRef = storage.getReference();\r\n            ProfilePicRef = storageRef.child(&quot;ProfilePicture/&quot; + uID);\r\n\r\n            /*Initialize Firebase Database*/\r\n            FirebaseDB = FirebaseDatabase.getInstance(&quot;https://fyp-project-e6826-default-rtdb.asia-southeast1.firebasedatabase.app&quot;);\r\n            DBRef = FirebaseDB.getReference(&quot;Users/&quot;);\r\n            Log.d(&quot;REF1&quot;, DBRef.toString());\r\n\r\n        }\r\n\r\n\r\n        MainvPager = findViewById(R.id.vpager);\r\n        allimages = new ArrayList&lt;&gt;();\r\n        allkeys = new ArrayList&lt;&gt;();\r\n\r\n        Calendar cal = Calendar.getInstance();\r\n        SimpleDateFormat month_date = new SimpleDateFormat(&quot;MMMM&quot;);\r\n        MONTH = month_date.format(cal.getTime());\r\n        SimpleDateFormat month_int = new SimpleDateFormat(&quot;MM&quot;);\r\n        MONTHint = month_int.format(cal.getTime());\r\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n        Dateset = simpleDateFormat.format(cal.getTime());\r\n\r\n        Intent intent = getIntent();\r\n        Key = intent.getExtras().getString(&quot;KEYINDV&quot;);\r\n        UID = intent.getExtras().getString(&quot;UIDE&quot;);\r\n\r\n        if (Key != null &amp;&amp; !TextUtils.isEmpty(Key)) {\r\n            allkeys.clear();\r\n            allimages.clear();\r\n            try {\r\n                GetImage(Key, UID);\r\n            } catch (IllegalAccessException e){\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private void GetImage(String keys, String uid) {\r\n        DatabaseReference PutUri = DBRef.child(uid).child(&quot;JOBS&quot;).child(&quot;Gallery&quot;).child(MONTH);\r\n\r\n        PutUri.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                for (DataSnapshot snapss : snapshot.getChildren()) {\r\n                    String key = snapss.getKey();\r\n\r\n                    String sub = key.substring(0, 3);\r\n                    Log.d(&quot;testengineer&quot;, sub);\r\n\r\n                    if (IRCorTaskCard(Engineerproofimage.this).equals(&quot;TASKCARD&quot;)){\r\n                        if (key.contains(keys) &amp;&amp; !sub.contains(&quot;IRC&quot;)){\r\n\r\n                            String name = snapss.child(&quot;Name&quot;).getValue(String.class);\r\n\r\n                            String ImageUri = snapss.child(&quot;Uri&quot;).getValue(String.class);\r\n                            String date = snapss.child(&quot;Date&quot;).getValue(String.class);\r\n                            String time = snapss.child(&quot;Time&quot;).getValue(String.class);\r\n                            String location = snapss.child(&quot;Location&quot;).getValue(String.class);\r\n\r\n\r\n                            allimages.add(new GalleryModel(ImageUri, name,\r\n                                    date, time, location));\r\n\r\n                            vpAdapter = new VPAdapterE(Engineerproofimage.this, allimages);\r\n                            MainvPager.setAdapter(vpAdapter);\r\n                            int prevpos = GalleryAdapter.getpos();\r\n                            MainvPager.setCurrentItem(prevpos);\r\n                        }\r\n\r\n                    } else if (IRCorTaskCard(Engineerproofimage.this).equals(&quot;IRC&quot;)){\r\n                        if (key.contains(keys) &amp;&amp; sub.contains(&quot;IRC&quot;)){\r\n\r\n                            String name = snapss.child(&quot;Name&quot;).getValue(String.class);\r\n                            String ImageUri = snapss.child(&quot;Uri&quot;).getValue(String.class);\r\n                            String date = snapss.child(&quot;Date&quot;).getValue(String.class);\r\n                            String time = snapss.child(&quot;Time&quot;).getValue(String.class);\r\n                            String location = snapss.child(&quot;Location&quot;).getValue(String.class);\r\n\r\n\r\n                            allimages.add(new GalleryModel(ImageUri, name,\r\n                                    date, time, location));\r\n\r\n                            vpAdapter = new VPAdapterE(Engineerproofimage.this, allimages);\r\n                            MainvPager.setAdapter(vpAdapter);\r\n                            int prevpos = GalleryAdapter.getpos();\r\n                            MainvPager.setCurrentItem(prevpos);\r\n\r\n                        }\r\n                    } else {\r\n                        Toast.makeText(getApplicationContext(), &quot;Image not found.&quot;,\r\n                                Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n\r\n\r\n\r\n\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    public class VPAdapterE extends PagerAdapter {\r\n\r\n        Context context;\r\n        ArrayList&lt;GalleryModel&gt; imagelist;\r\n        LayoutInflater layoutInflater;\r\n        GalleryModel item;\r\n        private int Position;\r\n\r\n        public VPAdapterE(Context context, ArrayList&lt;GalleryModel&gt; imagelist) {\r\n            this.context = context;\r\n            this.imagelist = imagelist;\r\n            layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n\r\n        }\r\n\r\n\r\n        @Override\r\n        public int getCount() {\r\n            return imagelist.size();\r\n        }\r\n\r\n        @Override\r\n        public boolean isViewFromObject(View view, Object o) {\r\n            return view == o;\r\n        }\r\n\r\n\r\n        @Override\r\n        public Object instantiateItem(ViewGroup container, int position) {\r\n            View itemv = layoutInflater.inflate(R.layout.vpageritem, container, false);\r\n            TouchImageView imageView = itemv.findViewById(R.id.imagevitem);\r\n            FrameLayout frameLayout = itemv.findViewById(R.id.framee);\r\n\r\n            TextView tvname = itemv.findViewById(R.id.tv_name);\r\n            TextView tvdate = itemv.findViewById(R.id.tv_date);\r\n            TextView tvtime = itemv.findViewById(R.id.tv_time);\r\n            TextView tvlocation = itemv.findViewById(R.id.tv_location);\r\n\r\n            item = imagelist.get(position);\r\n\r\n            DisplayMetrics displayMetrics = new DisplayMetrics();\r\n            getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n            int height = displayMetrics.heightPixels;\r\n            int width = displayMetrics.widthPixels;\r\n            /*scrollView.setFocusable(false);*/\r\n            frameLayout.getLayoutParams().width = width;\r\n            frameLayout.getLayoutParams().height = height;\r\n\r\n            LottieAnimationView loadanim = itemv.findViewById(R.id.loadselected);\r\n            loadanim.setRepeatCount(LottieDrawable.INFINITE);\r\n            loadanim.setVisibility(View.VISIBLE);\r\n            loadanim.playAnimation();\r\n\r\n            Position = position;\r\n\r\n            tvname.setText(&quot;:&quot; + item.getText());\r\n            tvdate.setText(&quot;:&quot; + item.getDate());\r\n            tvtime.setText(&quot;:&quot; + item.getTime());\r\n            tvlocation.setText(&quot;:&quot; + item.getLocation());\r\n\r\n            Picasso.get().load(item.getImage_id()).fetch();\r\n            Picasso.get().load(item.getImage_id()).into(imageView, new Callback() {\r\n                @Override\r\n                public void onSuccess() {\r\n                    loadanim.pauseAnimation();\r\n                    loadanim.setVisibility(View.GONE);\r\n                }\r\n\r\n                @Override\r\n                public void onError(Exception e) {\r\n                    loadanim.pauseAnimation();\r\n                    loadanim.setVisibility(View.GONE);\r\n                    Toast.makeText(getApplicationContext(), &quot;Failed to load images.&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n\r\n            Objects.requireNonNull(container).addView(itemv);\r\n            return itemv;\r\n\r\n\r\n        }\r\n\r\n        public Integer getJobPos() {\r\n            return Position;\r\n        }\r\n\r\n        @Override\r\n        public void destroyItem(ViewGroup container, int position, Object object) {\r\n            container.removeView((CustomScrollView) object);\r\n        }\r\n    }\r\n\r\n    public String IRCorTaskCard(Context context) {\r\n        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(context);\r\n        String checker = prefs.getString(&quot;WhatIsIt&quot;, &quot;TASKCARD&quot;);\r\n        return checker;\r\n    }\r\n}\r\n\r\n``` \r\nand here is its stack trace.\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.fypproject2021, PID: 6437\r\n    java.lang.IllegalArgumentException: File descriptors passed in Bundle\r\n        at android.os.Parcel.createException(Parcel.java:2075)\r\n        at android.os.Parcel.readException(Parcel.java:2039)\r\n        at android.os.Parcel.readException(Parcel.java:1987)\r\n        at android.app.IActivityTaskManager$Stub$Proxy.activityStopped(IActivityTaskManager.java:4566)\r\n        at android.app.servertransaction.PendingTransactionActions$StopInfo.run(PendingTransactionActions.java:145)\r\n        at android.os.Handler.handleCallback(Handler.java:888)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at android.os.Looper.loop(Looper.java:213)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8178)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1101)\r\n     Caused by: android.os.RemoteException: Remote stack trace:\r\n        at com.android.server.wm.ActivityTaskManagerService.activityStopped(ActivityTaskManagerService.java:1873)\r\n        at android.app.IActivityTaskManager$Stub.onTransact(IActivityTaskManager.java:2033)\r\n        at android.os.Binder.execTransactInternal(Binder.java:1028)\r\n        at android.os.Binder.execTransact(Binder.java:1001)\r\n```\r\n\r\nThank you in advance and for sure I will upvote the correct answer.\r\n","title":"Caused by: android.os.RemoteException: Remote stack trace:","body":"<p>I tried to figure out what is wrong with the code but couldnt find the cause. As the topic stated, it is caused by android.os.RemoteException. The app for sure could run smoothly in the emulator, but when I tried run on Huawei Nova 4e, it crash when opening this activity.</p>\n<pre><code>public class Engineerproofimage extends AppCompatActivity {\n\n    ImageView previewimage;\n    String uri;\n    /*FireBase Auth*/\n    FirebaseUser LoggedUser;\n\n    /*Firebase RTDatabase*/\n    FirebaseDatabase FirebaseDB;\n    DatabaseReference DBRef;\n    DatabaseReference UserName;\n    DatabaseReference UserWorkerID;\n\n    /*Firebase Storage*/\n    FirebaseStorage storage;\n    StorageReference storageRef;\n    StorageReference ProfilePicRef;\n\n    DrawerLayout drawerLayout;\n    NavigationView navigationView;\n\n    CustomPager MainvPager;\n\n    ArrayList&lt;GalleryModel&gt; allimages;\n    ArrayList&lt;String&gt; allkeys;\n    VPAdapterE vpAdapter;\n    CustomScrollView scrollpager;\n    String MONTH;\n    String MONTHint;\n    String Dateset;\n    String Key;\n    String UID;\n\n    TextView tvinfo;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_engineerproofimage);\n        /*Initialize Firebase User Information*/\n        LoggedUser = FirebaseAuth.getInstance().getCurrentUser();\n\n        if (LoggedUser != null) {\n            /*Name, Email Adress, Profile Pic\n            For this prototype, the usage of gmail account are been taken,\n            so all the information of the user are based on details from\n            the gmail account.*/\n\n            /*Initialize User Details*/\n            String Name = LoggedUser.getDisplayName();\n            String Email = LoggedUser.getEmail();\n            String uID = LoggedUser.getUid();\n\n            /*Initialize Firebase Storage*/\n            storage = FirebaseStorage.getInstance();\n            storageRef = storage.getReference();\n            ProfilePicRef = storageRef.child(&quot;ProfilePicture/&quot; + uID);\n\n            /*Initialize Firebase Database*/\n            FirebaseDB = FirebaseDatabase.getInstance(&quot;https://fyp-project-e6826-default-rtdb.asia-southeast1.firebasedatabase.app&quot;);\n            DBRef = FirebaseDB.getReference(&quot;Users/&quot;);\n            Log.d(&quot;REF1&quot;, DBRef.toString());\n\n        }\n\n\n        MainvPager = findViewById(R.id.vpager);\n        allimages = new ArrayList&lt;&gt;();\n        allkeys = new ArrayList&lt;&gt;();\n\n        Calendar cal = Calendar.getInstance();\n        SimpleDateFormat month_date = new SimpleDateFormat(&quot;MMMM&quot;);\n        MONTH = month_date.format(cal.getTime());\n        SimpleDateFormat month_int = new SimpleDateFormat(&quot;MM&quot;);\n        MONTHint = month_int.format(cal.getTime());\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n        Dateset = simpleDateFormat.format(cal.getTime());\n\n        Intent intent = getIntent();\n        Key = intent.getExtras().getString(&quot;KEYINDV&quot;);\n        UID = intent.getExtras().getString(&quot;UIDE&quot;);\n\n        if (Key != null &amp;&amp; !TextUtils.isEmpty(Key)) {\n            allkeys.clear();\n            allimages.clear();\n            try {\n                GetImage(Key, UID);\n            } catch (IllegalAccessException e){\n                e.printStackTrace();\n            }\n\n        }\n\n\n    }\n\n    private void GetImage(String keys, String uid) {\n        DatabaseReference PutUri = DBRef.child(uid).child(&quot;JOBS&quot;).child(&quot;Gallery&quot;).child(MONTH);\n\n        PutUri.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                for (DataSnapshot snapss : snapshot.getChildren()) {\n                    String key = snapss.getKey();\n\n                    String sub = key.substring(0, 3);\n                    Log.d(&quot;testengineer&quot;, sub);\n\n                    if (IRCorTaskCard(Engineerproofimage.this).equals(&quot;TASKCARD&quot;)){\n                        if (key.contains(keys) &amp;&amp; !sub.contains(&quot;IRC&quot;)){\n\n                            String name = snapss.child(&quot;Name&quot;).getValue(String.class);\n\n                            String ImageUri = snapss.child(&quot;Uri&quot;).getValue(String.class);\n                            String date = snapss.child(&quot;Date&quot;).getValue(String.class);\n                            String time = snapss.child(&quot;Time&quot;).getValue(String.class);\n                            String location = snapss.child(&quot;Location&quot;).getValue(String.class);\n\n\n                            allimages.add(new GalleryModel(ImageUri, name,\n                                    date, time, location));\n\n                            vpAdapter = new VPAdapterE(Engineerproofimage.this, allimages);\n                            MainvPager.setAdapter(vpAdapter);\n                            int prevpos = GalleryAdapter.getpos();\n                            MainvPager.setCurrentItem(prevpos);\n                        }\n\n                    } else if (IRCorTaskCard(Engineerproofimage.this).equals(&quot;IRC&quot;)){\n                        if (key.contains(keys) &amp;&amp; sub.contains(&quot;IRC&quot;)){\n\n                            String name = snapss.child(&quot;Name&quot;).getValue(String.class);\n                            String ImageUri = snapss.child(&quot;Uri&quot;).getValue(String.class);\n                            String date = snapss.child(&quot;Date&quot;).getValue(String.class);\n                            String time = snapss.child(&quot;Time&quot;).getValue(String.class);\n                            String location = snapss.child(&quot;Location&quot;).getValue(String.class);\n\n\n                            allimages.add(new GalleryModel(ImageUri, name,\n                                    date, time, location));\n\n                            vpAdapter = new VPAdapterE(Engineerproofimage.this, allimages);\n                            MainvPager.setAdapter(vpAdapter);\n                            int prevpos = GalleryAdapter.getpos();\n                            MainvPager.setCurrentItem(prevpos);\n\n                        }\n                    } else {\n                        Toast.makeText(getApplicationContext(), &quot;Image not found.&quot;,\n                                Toast.LENGTH_SHORT).show();\n                    }\n\n\n\n\n\n                }\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    public class VPAdapterE extends PagerAdapter {\n\n        Context context;\n        ArrayList&lt;GalleryModel&gt; imagelist;\n        LayoutInflater layoutInflater;\n        GalleryModel item;\n        private int Position;\n\n        public VPAdapterE(Context context, ArrayList&lt;GalleryModel&gt; imagelist) {\n            this.context = context;\n            this.imagelist = imagelist;\n            layoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n        }\n\n\n        @Override\n        public int getCount() {\n            return imagelist.size();\n        }\n\n        @Override\n        public boolean isViewFromObject(View view, Object o) {\n            return view == o;\n        }\n\n\n        @Override\n        public Object instantiateItem(ViewGroup container, int position) {\n            View itemv = layoutInflater.inflate(R.layout.vpageritem, container, false);\n            TouchImageView imageView = itemv.findViewById(R.id.imagevitem);\n            FrameLayout frameLayout = itemv.findViewById(R.id.framee);\n\n            TextView tvname = itemv.findViewById(R.id.tv_name);\n            TextView tvdate = itemv.findViewById(R.id.tv_date);\n            TextView tvtime = itemv.findViewById(R.id.tv_time);\n            TextView tvlocation = itemv.findViewById(R.id.tv_location);\n\n            item = imagelist.get(position);\n\n            DisplayMetrics displayMetrics = new DisplayMetrics();\n            getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n            int height = displayMetrics.heightPixels;\n            int width = displayMetrics.widthPixels;\n            /*scrollView.setFocusable(false);*/\n            frameLayout.getLayoutParams().width = width;\n            frameLayout.getLayoutParams().height = height;\n\n            LottieAnimationView loadanim = itemv.findViewById(R.id.loadselected);\n            loadanim.setRepeatCount(LottieDrawable.INFINITE);\n            loadanim.setVisibility(View.VISIBLE);\n            loadanim.playAnimation();\n\n            Position = position;\n\n            tvname.setText(&quot;:&quot; + item.getText());\n            tvdate.setText(&quot;:&quot; + item.getDate());\n            tvtime.setText(&quot;:&quot; + item.getTime());\n            tvlocation.setText(&quot;:&quot; + item.getLocation());\n\n            Picasso.get().load(item.getImage_id()).fetch();\n            Picasso.get().load(item.getImage_id()).into(imageView, new Callback() {\n                @Override\n                public void onSuccess() {\n                    loadanim.pauseAnimation();\n                    loadanim.setVisibility(View.GONE);\n                }\n\n                @Override\n                public void onError(Exception e) {\n                    loadanim.pauseAnimation();\n                    loadanim.setVisibility(View.GONE);\n                    Toast.makeText(getApplicationContext(), &quot;Failed to load images.&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n\n            Objects.requireNonNull(container).addView(itemv);\n            return itemv;\n\n\n        }\n\n        public Integer getJobPos() {\n            return Position;\n        }\n\n        @Override\n        public void destroyItem(ViewGroup container, int position, Object object) {\n            container.removeView((CustomScrollView) object);\n        }\n    }\n\n    public String IRCorTaskCard(Context context) {\n        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(context);\n        String checker = prefs.getString(&quot;WhatIsIt&quot;, &quot;TASKCARD&quot;);\n        return checker;\n    }\n}\n\n</code></pre>\n<p>and here is its stack trace.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.fypproject2021, PID: 6437\n    java.lang.IllegalArgumentException: File descriptors passed in Bundle\n        at android.os.Parcel.createException(Parcel.java:2075)\n        at android.os.Parcel.readException(Parcel.java:2039)\n        at android.os.Parcel.readException(Parcel.java:1987)\n        at android.app.IActivityTaskManager$Stub$Proxy.activityStopped(IActivityTaskManager.java:4566)\n        at android.app.servertransaction.PendingTransactionActions$StopInfo.run(PendingTransactionActions.java:145)\n        at android.os.Handler.handleCallback(Handler.java:888)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:213)\n        at android.app.ActivityThread.main(ActivityThread.java:8178)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1101)\n     Caused by: android.os.RemoteException: Remote stack trace:\n        at com.android.server.wm.ActivityTaskManagerService.activityStopped(ActivityTaskManagerService.java:1873)\n        at android.app.IActivityTaskManager$Stub.onTransact(IActivityTaskManager.java:2033)\n        at android.os.Binder.execTransactInternal(Binder.java:1028)\n        at android.os.Binder.execTransact(Binder.java:1001)\n</code></pre>\n<p>Thank you in advance and for sure I will upvote the correct answer.</p>\n"},{"tags":["java","asynchronous","apache-httpcomponents"],"answers":[{"tags":[],"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Green绿色"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634883251,"creation_date":1634883251,"answer_id":69672182,"question_id":69655055,"body_markdown":"After some digging through the documentation and source code of Apache HttpComponents 5, I came up with the following solution. Instead of using `SimpleHttpRequests`, I need to create an `AsyncRequestProducer` and an `AsyncResponseConsumer`. The request producer object defines how to create my request and in contrast to the `SimpleHttpRequest`, it is able to also produce the form body that I need. Example code:\r\n\r\n```\r\ntry (CloseableHttpAsyncClient client = HttpAsyncClients.createDefault()) {\r\n  client.start();\r\n  AsyncRequestProducer producer = AsyncRequestBuilder.post()\r\n          .setUri(&quot;http://httpbin.org&quot;)\r\n          .addParameter(&quot;key&quot;, &quot;value&quot;) // &lt;- form parameters in body\r\n          .build();\r\n  AsyncResponseConsumer&lt;SimpleHttpResponse&gt; consumer = SimpleResponseConsumer.create();\r\n  client.execute(producer, consumer, new FutureCallback&lt;SimpleHttpResponse&gt;() {\r\n    @Override\r\n    public void completed(SimpleHttpResponse simpleHttpResponse) {\r\n      System.out.println(simpleHttpResponse.getCode());\r\n      System.out.println(simpleHttpResponse.getBody());\r\n    }\r\n\r\n    @Override\r\n    public void failed(Exception e) {\r\n      System.out.println(e);\r\n    }\r\n\r\n    @Override\r\n    public void cancelled() {\r\n      System.out.println(&quot;cancelled&quot;);\r\n    }\r\n  });\r\n}\r\n```\r\n\r\nAlternatively, I could use an `AsyncEntityProducer` to produce the form body:\r\n\r\n```\r\nIterable&lt;NameValuePair&gt; params = Stream.of(new BasicNameValuePair(&quot;key&quot;, &quot;value&quot;))\r\n        .collect(Collectors.toList());\r\nAsyncEntityProducer entityProducer = AsyncEntityProducers.createUrlEncoded(params, Charsets.UTF_8);\r\nAsyncRequestProducer producer = AsyncRequestBuilder.post()\r\n        .setUri(&quot;http://httpbin.org&quot;)\r\n        .setEntity(entityProducer)\r\n        .build();\r\n```","title":"Apache HttpComponents 5: POST form data with HttpAsyncClient","body":"<p>After some digging through the documentation and source code of Apache HttpComponents 5, I came up with the following solution. Instead of using <code>SimpleHttpRequests</code>, I need to create an <code>AsyncRequestProducer</code> and an <code>AsyncResponseConsumer</code>. The request producer object defines how to create my request and in contrast to the <code>SimpleHttpRequest</code>, it is able to also produce the form body that I need. Example code:</p>\n<pre><code>try (CloseableHttpAsyncClient client = HttpAsyncClients.createDefault()) {\n  client.start();\n  AsyncRequestProducer producer = AsyncRequestBuilder.post()\n          .setUri(&quot;http://httpbin.org&quot;)\n          .addParameter(&quot;key&quot;, &quot;value&quot;) // &lt;- form parameters in body\n          .build();\n  AsyncResponseConsumer&lt;SimpleHttpResponse&gt; consumer = SimpleResponseConsumer.create();\n  client.execute(producer, consumer, new FutureCallback&lt;SimpleHttpResponse&gt;() {\n    @Override\n    public void completed(SimpleHttpResponse simpleHttpResponse) {\n      System.out.println(simpleHttpResponse.getCode());\n      System.out.println(simpleHttpResponse.getBody());\n    }\n\n    @Override\n    public void failed(Exception e) {\n      System.out.println(e);\n    }\n\n    @Override\n    public void cancelled() {\n      System.out.println(&quot;cancelled&quot;);\n    }\n  });\n}\n</code></pre>\n<p>Alternatively, I could use an <code>AsyncEntityProducer</code> to produce the form body:</p>\n<pre><code>Iterable&lt;NameValuePair&gt; params = Stream.of(new BasicNameValuePair(&quot;key&quot;, &quot;value&quot;))\n        .collect(Collectors.toList());\nAsyncEntityProducer entityProducer = AsyncEntityProducers.createUrlEncoded(params, Charsets.UTF_8);\nAsyncRequestProducer producer = AsyncRequestBuilder.post()\n        .setUri(&quot;http://httpbin.org&quot;)\n        .setEntity(entityProducer)\n        .build();\n</code></pre>\n"}],"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Green绿色"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":723,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69672182,"answer_count":1,"score":2,"last_activity_date":1634883251,"creation_date":1634782572,"question_id":69655055,"body_markdown":"I am looking for a solution to POST form data with `HttpAsyncClient`. All [examples](https://github.com/apache/httpcomponents-client/tree/5.0.x/httpclient5/src/test/java/org/apache/hc/client5/http/examples) I&#39;ve found so far only sent simple GET requests. This is what I&#39;ve got so far:\r\n\r\n```\r\ntry (CloseableHttpAsyncClient client = HttpAsyncClients.createDefault()) {\r\n  SimpleHttpRequest httpPost = SimpleHttpRequests.post(&quot;http://httpbin.org&quot;);\r\n  // How to add key=value as form data to httpPost?\r\n  Future&lt;SimpleHttpResponse&gt; future = client.execute(httpPost, new FutureCallback&lt;SimpleHttpResponse&gt;() {\r\n    @Override\r\n    public void completed(SimpleHttpResponse simpleHttpResponse) {\r\n      System.out.println(simpleHttpResponse.getCode());\r\n      System.out.println(simpleHttpResponse.getBody());\r\n    }\r\n\r\n    @Override\r\n    public void failed(Exception e) {\r\n      System.out.println(e);\r\n    }\r\n\r\n    @Override\r\n    public void cancelled() {\r\n      System.out.println(&quot;cancelled&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI also looked around the source code, where I found the `SimpleHttpRequest::setBody` method and the corresponding `SimpleBody` class. But they seem, too, not support form data.\r\n\r\nBasically, I need the equivalent of `OkHttp`&#39;s `FormBody`.","title":"Apache HttpComponents 5: POST form data with HttpAsyncClient","body":"<p>I am looking for a solution to POST form data with <code>HttpAsyncClient</code>. All <a href=\"https://github.com/apache/httpcomponents-client/tree/5.0.x/httpclient5/src/test/java/org/apache/hc/client5/http/examples\" rel=\"nofollow noreferrer\">examples</a> I've found so far only sent simple GET requests. This is what I've got so far:</p>\n<pre><code>try (CloseableHttpAsyncClient client = HttpAsyncClients.createDefault()) {\n  SimpleHttpRequest httpPost = SimpleHttpRequests.post(&quot;http://httpbin.org&quot;);\n  // How to add key=value as form data to httpPost?\n  Future&lt;SimpleHttpResponse&gt; future = client.execute(httpPost, new FutureCallback&lt;SimpleHttpResponse&gt;() {\n    @Override\n    public void completed(SimpleHttpResponse simpleHttpResponse) {\n      System.out.println(simpleHttpResponse.getCode());\n      System.out.println(simpleHttpResponse.getBody());\n    }\n\n    @Override\n    public void failed(Exception e) {\n      System.out.println(e);\n    }\n\n    @Override\n    public void cancelled() {\n      System.out.println(&quot;cancelled&quot;);\n    }\n  }\n}\n</code></pre>\n<p>I also looked around the source code, where I found the <code>SimpleHttpRequest::setBody</code> method and the corresponding <code>SimpleBody</code> class. But they seem, too, not support form data.</p>\n<p>Basically, I need the equivalent of <code>OkHttp</code>'s <code>FormBody</code>.</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1487080997,"post_id":42226847,"comment_id":71615722,"body_markdown":"I think that currently this is not possible in MapStruct. However, it looks interesting. Can you create an issue in the MapStruct [issue tracker](https://github.com/mapstruct/mapstruct/issues)  as a new feature that might be added if people are interested in it.","body":"I think that currently this is not possible in MapStruct. However, it looks interesting. Can you create an issue in the MapStruct <a href=\"https://github.com/mapstruct/mapstruct/issues\" rel=\"nofollow noreferrer\">issue tracker</a>  as a new feature that might be added if people are interested in it."}],"answers":[{"tags":[],"owner":{"account_id":4150574,"reputation":2455,"user_id":3403161,"display_name":"m4rtin"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1515425526,"creation_date":1515424347,"answer_id":48153029,"question_id":42226847,"body_markdown":"**Method 1**\r\n\r\n\r\nThe MapStruct repo gives us useful examples such as [Mapping from map][1].\r\n\r\nMapping a bean from a java.util.Map would look something like :\r\n\r\n    @Mapper(uses = MappingUtil.class )\r\n    public interface SourceTargetMapper {\r\n\r\n        SourceTargetMapper MAPPER = Mappers.getMapper( SourceTargetMapper.class );\r\n\r\n        @Mappings({\r\n            @Mapping(source = &quot;map&quot;, target = &quot;ip&quot;, qualifiedBy = Ip.class),\r\n            @Mapping(source = &quot;map&quot;, target = &quot;server&quot;, qualifiedBy = Server.class),\r\n        })\r\n        Target toTarget(Source s);\r\n    }\r\n\r\nNotice the use of the MappingUtil class to help MapStruct figuring out how to correctly extract values from the Map :\r\n\r\n    public class MappingUtil {\r\n\r\n        @Qualifier\r\n        @Target(ElementType.METHOD)\r\n        @Retention(RetentionPolicy.SOURCE)\r\n        public @interface Ip {\r\n        }\r\n\r\n\t    @Qualifier\r\n\t    @Target(ElementType.METHOD)\r\n\t    @Retention(RetentionPolicy.SOURCE)\r\n\t    public static @interface Server {\r\n\t    }\r\n\r\n\t    @Ip\r\n\t    public String ip(Map&lt;String, Object&gt; in) {\r\n\t\t    return (String) in.get(&quot;ip&quot;);\r\n\t    }\r\n\r\n\t    @Server\r\n\t    public String server(Map&lt;String, Object&gt; in) {\r\n\t\t    return (String) in.get(&quot;server&quot;);\r\n\t    }\r\n\t}\r\n\r\n**Method 2**\r\n\r\nAs per Raild comment on [the issue related to this post][2], it is possible to use MapStruct expressions to achieve similar results in a shorter way :\r\n\r\n    @Mapping(expression = &quot;java(parameters.get(\\&quot;name\\&quot;))&quot;, target = &quot;name&quot;)\r\n    public MyEntity mapToEntity(final Map&lt;String, String&gt; parameters);\r\n\r\nNo note on performance though and type conversion may be trickier this way but for a simple string to string mapping, it does look cleaner.\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-mapping-from-map\r\n  [2]: https://github.com/mapstruct/mapstruct/issues/1075","title":"MapStruct: mapping from java.util.Map to Bean?","body":"<p><strong>Method 1</strong></p>\n\n<p>The MapStruct repo gives us useful examples such as <a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-mapping-from-map\" rel=\"noreferrer\">Mapping from map</a>.</p>\n\n<p>Mapping a bean from a java.util.Map would look something like :</p>\n\n<pre><code>@Mapper(uses = MappingUtil.class )\npublic interface SourceTargetMapper {\n\n    SourceTargetMapper MAPPER = Mappers.getMapper( SourceTargetMapper.class );\n\n    @Mappings({\n        @Mapping(source = \"map\", target = \"ip\", qualifiedBy = Ip.class),\n        @Mapping(source = \"map\", target = \"server\", qualifiedBy = Server.class),\n    })\n    Target toTarget(Source s);\n}\n</code></pre>\n\n<p>Notice the use of the MappingUtil class to help MapStruct figuring out how to correctly extract values from the Map :</p>\n\n<pre><code>public class MappingUtil {\n\n    @Qualifier\n    @Target(ElementType.METHOD)\n    @Retention(RetentionPolicy.SOURCE)\n    public @interface Ip {\n    }\n\n    @Qualifier\n    @Target(ElementType.METHOD)\n    @Retention(RetentionPolicy.SOURCE)\n    public static @interface Server {\n    }\n\n    @Ip\n    public String ip(Map&lt;String, Object&gt; in) {\n        return (String) in.get(\"ip\");\n    }\n\n    @Server\n    public String server(Map&lt;String, Object&gt; in) {\n        return (String) in.get(\"server\");\n    }\n}\n</code></pre>\n\n<p><strong>Method 2</strong></p>\n\n<p>As per Raild comment on <a href=\"https://github.com/mapstruct/mapstruct/issues/1075\" rel=\"noreferrer\">the issue related to this post</a>, it is possible to use MapStruct expressions to achieve similar results in a shorter way :</p>\n\n<pre><code>@Mapping(expression = \"java(parameters.get(\\\"name\\\"))\", target = \"name\")\npublic MyEntity mapToEntity(final Map&lt;String, String&gt; parameters);\n</code></pre>\n\n<p>No note on performance though and type conversion may be trickier this way but for a simple string to string mapping, it does look cleaner.</p>\n"},{"tags":[],"owner":{"account_id":11456710,"reputation":734,"user_id":8397480,"display_name":"xardbaiz"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1634883224,"creation_date":1634796207,"answer_id":69656628,"question_id":42226847,"body_markdown":"Since version **1.5.0.Beta1** *(Jul 2021)* MapStruct supports [mapping from Map to POJO][1].\r\n \r\nExample:\r\n```java\r\n@Mapper\r\npublic interface CustomerMapper {\r\n    @Mapping(target = &quot;name&quot;, source = &quot;customerName&quot;)\r\n    Customer toCustomer(Map&lt;String, String&gt; map);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://mapstruct.org/news/2021-07-18-mapstruct-1_5_0_Beta1-is-out/#mapping-from-map-to-bean","title":"MapStruct: mapping from java.util.Map to Bean?","body":"<p>Since version <strong>1.5.0.Beta1</strong> <em>(Jul 2021)</em> MapStruct supports <a href=\"https://mapstruct.org/news/2021-07-18-mapstruct-1_5_0_Beta1-is-out/#mapping-from-map-to-bean\" rel=\"noreferrer\">mapping from Map to POJO</a>.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface CustomerMapper {\n    @Mapping(target = &quot;name&quot;, source = &quot;customerName&quot;)\n    Customer toCustomer(Map&lt;String, String&gt; map);\n}\n</code></pre>\n"}],"owner":{"account_id":3328940,"reputation":13909,"user_id":2798291,"accept_rate":53,"display_name":"TwoThe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17083,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1634883224,"creation_date":1487077151,"question_id":42226847,"body_markdown":"I currently have a `Map&lt;String, String&gt;` that contains values in the form `key = value` and I would like to &quot;expand&quot; those into a real object.\r\n\r\nIs it possible to automate that with MapStruct and how would I do that?\r\n\r\nTo clarify: The code I would write by hand would look something like this:\r\n\r\n    public MyEntity mapToEntity(final Map&lt;String, String&gt; parameters) {\r\n      final MyEntity result = new MyEntity();\r\n      result.setNote(parameters.get(&quot;note&quot;));\r\n      result.setDate(convertStringToDate(parameters.get(&quot;date&quot;)));\r\n      result.setCustomer(mapIdToCustomer(parameters.get(&quot;customerId&quot;)));\r\n      // ...\r\n      return result;\r\n    }","title":"MapStruct: mapping from java.util.Map to Bean?","body":"<p>I currently have a <code>Map&lt;String, String&gt;</code> that contains values in the form <code>key = value</code> and I would like to \"expand\" those into a real object.</p>\n\n<p>Is it possible to automate that with MapStruct and how would I do that?</p>\n\n<p>To clarify: The code I would write by hand would look something like this:</p>\n\n<pre><code>public MyEntity mapToEntity(final Map&lt;String, String&gt; parameters) {\n  final MyEntity result = new MyEntity();\n  result.setNote(parameters.get(\"note\"));\n  result.setDate(convertStringToDate(parameters.get(\"date\")));\n  result.setCustomer(mapIdToCustomer(parameters.get(\"customerId\")));\n  // ...\n  return result;\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634869954,"creation_date":1634869518,"answer_id":69670728,"question_id":69670688,"body_markdown":"Sometimes, a simple `for` loop is all you need:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            String str = &quot;~asdfl;kjx,~rgadfaeg,dsafnewgfljka;ldfjsfa;dlkjfa;lvjvbnaber;fwelfjadfafa&quot;;\r\n            int character = 12;\r\n    \r\n            StringBuilder sb = new StringBuilder();\r\n            for (int i = 0; i &lt; str.length(); i++) {\r\n                if ((i + 1) % character != 0) {\r\n                    sb.append(str.charAt(i));\r\n                }\r\n            }\r\n            String result = sb.toString();\r\n    \r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\nIf you insist on using regular expressions, you can interpolate the `character` variable into the expression as follows:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            String str = &quot;~asdfl;kjx,~rgadfaeg,dsafnewgfljka;ldfjsfa;dlkjfa;lvjvbnaber;fwelfjadfafa&quot;;\r\n            int character = 12;\r\n    \r\n            System.out.println(str.replaceAll(&quot;(.{&quot; + (character - 1) + &quot;}).&quot;, &quot;$1&quot;));\r\n        }\r\n    }","title":"How to delete every 12th character from a string in java","body":"<p>Sometimes, a simple <code>for</code> loop is all you need:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String str = &quot;~asdfl;kjx,~rgadfaeg,dsafnewgfljka;ldfjsfa;dlkjfa;lvjvbnaber;fwelfjadfafa&quot;;\n        int character = 12;\n\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; str.length(); i++) {\n            if ((i + 1) % character != 0) {\n                sb.append(str.charAt(i));\n            }\n        }\n        String result = sb.toString();\n\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>If you insist on using regular expressions, you can interpolate the <code>character</code> variable into the expression as follows:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String str = &quot;~asdfl;kjx,~rgadfaeg,dsafnewgfljka;ldfjsfa;dlkjfa;lvjvbnaber;fwelfjadfafa&quot;;\n        int character = 12;\n\n        System.out.println(str.replaceAll(&quot;(.{&quot; + (character - 1) + &quot;}).&quot;, &quot;$1&quot;));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634871462,"creation_date":1634869630,"answer_id":69670735,"question_id":69670688,"body_markdown":"To delete every 12th character using regex, use this pattern:\r\n\r\n&lt;!-- language: regex --&gt;\r\n\r\n    (.{11}).\r\n\r\nAnd then replace with just the captured `$1`.\r\n\r\nSample Java code:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String str = &quot;~asdfl;kjx,~rgadfaeg,dsafnewgfljka;ldfjsfa;dlkjfa;lvjvbnaber;fwelfjadfafa&quot;;\r\n    String output = str.replaceAll(&quot;(.{11}).&quot;, &quot;$1&quot;);\r\n    System.out.println(output);\r\n\r\nThis prints:\r\n\r\n&gt; ~asdfl;kjx,rgadfaeg,dsfnewgfljka;dfjsfa;dlkja;lvjvbnabe;fwelfjadfaa\r\n\r\n**Edit:**\r\n\r\nTo do a regex replacement of some fixed width, use:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String str = &quot;~asdfl;kjx,~rgadfaeg,dsafnewgfljka;ldfjsfa;dlkjfa;lvjvbnaber;fwelfjadfafa&quot;;\r\n    int width = 11;\r\n    String output = str.replaceAll(&quot;(.{&quot; + width + &quot;}).&quot;, &quot;$1&quot;);\r\n    System.out.println(output);","title":"How to delete every 12th character from a string in java","body":"<p>To delete every 12th character using regex, use this pattern:</p>\n<pre class=\"lang-regex prettyprint-override\"><code>(.{11}).\n</code></pre>\n<p>And then replace with just the captured <code>$1</code>.</p>\n<p>Sample Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;~asdfl;kjx,~rgadfaeg,dsafnewgfljka;ldfjsfa;dlkjfa;lvjvbnaber;fwelfjadfafa&quot;;\nString output = str.replaceAll(&quot;(.{11}).&quot;, &quot;$1&quot;);\nSystem.out.println(output);\n</code></pre>\n<p>This prints:</p>\n<blockquote>\n<p>~asdfl;kjx,rgadfaeg,dsfnewgfljka;dfjsfa;dlkja;lvjvbnabe;fwelfjadfaa</p>\n</blockquote>\n<p><strong>Edit:</strong></p>\n<p>To do a regex replacement of some fixed width, use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;~asdfl;kjx,~rgadfaeg,dsafnewgfljka;ldfjsfa;dlkjfa;lvjvbnaber;fwelfjadfafa&quot;;\nint width = 11;\nString output = str.replaceAll(&quot;(.{&quot; + width + &quot;}).&quot;, &quot;$1&quot;);\nSystem.out.println(output);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634883125,"creation_date":1634882719,"answer_id":69672101,"question_id":69670688,"body_markdown":"# Avoid `char`\r\n\r\nThe `char` type in Java is legacy, essentially broken. As a 16-bit value, a `char` is incapable of representing most characters. \r\n\r\n# Code points\r\n\r\nInstead, use code point integers.\r\n\r\nMake an array of each character’s code point.\r\n\r\n    int[] codePointsArray = input.codePoints().toArray() ;\r\n\r\nMake a list of that array.\r\n\r\n    List&lt; Integer &gt; codePoints = List.of( codePointsArray ) ;\r\n\r\nAlternatively:\r\n\r\n    List&lt; Integer &gt; codePoints = input.codePoints().boxed().toList() ;\r\n\r\nMake an `IntStream` of the indexes we need to access each element of that list. Use each index to pull out a code point, and filter by the nth element. Collect into a `StringBuilder`.\r\n\r\n```java\r\nString result =\r\n    IntStream\r\n    .range( 0 , codePoints.size() )\r\n    .filter( n -&gt; n % 12 != 0 )\r\n    .mapToObj( codePoints :: get )\r\n    .collect( StringBuilder :: new , StringBuilder :: appendCodePoint , StringBuilder :: append )\r\n    .toString()\r\n;\r\n```\r\n\r\nThat is untested code, but should be close to what you need.\r\n\r\nMy code here is based on what I saw on [this similar Question](https://stackoverflow.com/q/31602425/642706).\r\n\r\n\r\n    ","title":"How to delete every 12th character from a string in java","body":"<h1>Avoid <code>char</code></h1>\n<p>The <code>char</code> type in Java is legacy, essentially broken. As a 16-bit value, a <code>char</code> is incapable of representing most characters.</p>\n<h1>Code points</h1>\n<p>Instead, use code point integers.</p>\n<p>Make an array of each character’s code point.</p>\n<pre><code>int[] codePointsArray = input.codePoints().toArray() ;\n</code></pre>\n<p>Make a list of that array.</p>\n<pre><code>List&lt; Integer &gt; codePoints = List.of( codePointsArray ) ;\n</code></pre>\n<p>Alternatively:</p>\n<pre><code>List&lt; Integer &gt; codePoints = input.codePoints().boxed().toList() ;\n</code></pre>\n<p>Make an <code>IntStream</code> of the indexes we need to access each element of that list. Use each index to pull out a code point, and filter by the nth element. Collect into a <code>StringBuilder</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result =\n    IntStream\n    .range( 0 , codePoints.size() )\n    .filter( n -&gt; n % 12 != 0 )\n    .mapToObj( codePoints :: get )\n    .collect( StringBuilder :: new , StringBuilder :: appendCodePoint , StringBuilder :: append )\n    .toString()\n;\n</code></pre>\n<p>That is untested code, but should be close to what you need.</p>\n<p>My code here is based on what I saw on <a href=\"https://stackoverflow.com/q/31602425/642706\">this similar Question</a>.</p>\n"}],"owner":{"account_id":23107498,"reputation":1,"user_id":17215849,"display_name":"Jsid Xbend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1634883125,"creation_date":1634869042,"question_id":69670688,"body_markdown":"Lets say I have a string like this:\r\n\r\n\r\n```\r\nString str = &quot;~asdfl;kjx,~rgadfaeg,dsafnewgfljka;ldfjsfa;dlkjfa;lvjvbnaber;fwelfjadfafa&quot;\r\n\r\nint character = 12\r\n```\r\n\r\nWhat I want to do is delete every 12th character in the string, so i would delete the 12 index, then the 24th, then the 36th, etc until the string is over.\r\n\r\nWhich index I delete (every 12th, or every 2nd) has to equal the character variable I have, since that variable changes.\r\n\r\nI tried doing this with regex:\r\n\r\n\r\n```\r\nSystem.out.println(s.replaceAll(&quot;.(.)&quot;, &quot;$12&quot;));\r\n```\r\n\r\nBut it didnt work. any help?","title":"How to delete every 12th character from a string in java","body":"<p>Lets say I have a string like this:</p>\n<pre><code>String str = &quot;~asdfl;kjx,~rgadfaeg,dsafnewgfljka;ldfjsfa;dlkjfa;lvjvbnaber;fwelfjadfafa&quot;\n\nint character = 12\n</code></pre>\n<p>What I want to do is delete every 12th character in the string, so i would delete the 12 index, then the 24th, then the 36th, etc until the string is over.</p>\n<p>Which index I delete (every 12th, or every 2nd) has to equal the character variable I have, since that variable changes.</p>\n<p>I tried doing this with regex:</p>\n<pre><code>System.out.println(s.replaceAll(&quot;.(.)&quot;, &quot;$12&quot;));\n</code></pre>\n<p>But it didnt work. any help?</p>\n"},{"tags":["java","string","list","file","arraylist"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1605212942,"post_id":64811255,"comment_id":114589661,"body_markdown":"See https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#newDirectoryStream(java.nio.file.Path,java.lang.String)","body":"See <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#newDirectoryStream(java.nio.file.Path,java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/ni&zwnj;&#8203;o/&hellip;</a>"},{"owner":{"account_id":17923590,"reputation":833,"user_id":13022759,"display_name":"Umair Mubeen"},"score":0,"creation_date":1605212996,"post_id":64811255,"comment_id":114589684,"body_markdown":"see this post hope this will help https://stackoverflow.com/questions/29939379/reading-all-text-files-in-a-directory-in-java","body":"see this post hope this will help <a href=\"https://stackoverflow.com/questions/29939379/reading-all-text-files-in-a-directory-in-java\" title=\"reading all text files in a directory in java\">stackoverflow.com/questions/29939379/&hellip;</a>"},{"owner":{"account_id":7288496,"reputation":332,"user_id":5555799,"display_name":"Tooster"},"score":0,"creation_date":1605213036,"post_id":64811255,"comment_id":114589704,"body_markdown":"duplicate of https://stackoverflow.com/questions/1844688/how-to-read-all-files-in-a-folder-from-java","body":"duplicate of <a href=\"https://stackoverflow.com/questions/1844688/how-to-read-all-files-in-a-folder-from-java\" title=\"how to read all files in a folder from java\">stackoverflow.com/questions/1844688/&hellip;</a>"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1605213067,"post_id":64811255,"comment_id":114589718,"body_markdown":"@Umair why are you recommending an answer using an ancient and clunky API when newer and simpler things exist?","body":"@Umair why are you recommending an answer using an ancient and clunky API when newer and simpler things exist?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1605213798,"post_id":64811255,"comment_id":114590019,"body_markdown":"Does this answer your question? [How to read all files in a folder from Java?](https://stackoverflow.com/questions/1844688/how-to-read-all-files-in-a-folder-from-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1844688/how-to-read-all-files-in-a-folder-from-java\">How to read all files in a folder from Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":14705970,"reputation":474,"user_id":10620689,"display_name":"Andrian Soluk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605214790,"creation_date":1605214299,"answer_id":64811538,"question_id":64811255,"body_markdown":"You can get an array of files (according to the specified folder), after that you can iterate by each file in the folder and add all the characters from the file.\r\nCan you please try to use the following code:\r\n\r\n    public static List&lt;String&gt; readFromAllFilesInDirectory(final String folderName) {\r\n        File folder = new File(folderName);\r\n        List&lt;String&gt; recipe = new ArrayList&lt;&gt;();\r\n        for (final File file : Objects.requireNonNull(folder.listFiles())) {\r\n            if (!file.isDirectory()) {\r\n                try {\r\n                    recipe.addAll(Files.readAllLines(Paths.get(file.getPath())));\r\n                } catch (Exception e) {\r\n                }\r\n            }\r\n        }\r\n        return recipe;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        File folder = new File(&quot;G:\\\\B\\\\1.txt&quot;);\r\n        System.out.println(readFromAllFilesInDirectory(folder.getParent()));\r\n    }\r\n","title":"Java - How to read all files in the same directory","body":"<p>You can get an array of files (according to the specified folder), after that you can iterate by each file in the folder and add all the characters from the file.\nCan you please try to use the following code:</p>\n<pre><code>public static List&lt;String&gt; readFromAllFilesInDirectory(final String folderName) {\n    File folder = new File(folderName);\n    List&lt;String&gt; recipe = new ArrayList&lt;&gt;();\n    for (final File file : Objects.requireNonNull(folder.listFiles())) {\n        if (!file.isDirectory()) {\n            try {\n                recipe.addAll(Files.readAllLines(Paths.get(file.getPath())));\n            } catch (Exception e) {\n            }\n        }\n    }\n    return recipe;\n}\n\npublic static void main(String[] args) {\n    File folder = new File(&quot;G:\\\\B\\\\1.txt&quot;);\n    System.out.println(readFromAllFilesInDirectory(folder.getParent()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7227100,"reputation":2697,"user_id":5515287,"display_name":"Mustafa Poya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605218030,"creation_date":1605218030,"answer_id":64812337,"question_id":64811255,"body_markdown":"Try use the FileNameFilter class: Java FileNameFilter interface has method `boolean accept(File dir, String name)` that should be implemented and every file is tested for this method to be included in the file list.\r\n\r\n```\r\nFile directory = new File(&quot;D://&quot;);\r\n\r\nFile[] files = directory.listFiles(new FilenameFilter() {\r\n\tpublic boolean accept(File dir, String name) {\r\n\t\treturn name.toLowerCase().endsWith(&quot;.txt&quot;);\r\n\t}\r\n});\r\nfor (File file : files) {\r\n\tSystem.out.println(file.getAbsolutePath());\r\n}\r\n```","title":"Java - How to read all files in the same directory","body":"<p>Try use the FileNameFilter class: Java FileNameFilter interface has method <code>boolean accept(File dir, String name)</code> that should be implemented and every file is tested for this method to be included in the file list.</p>\n<pre><code>File directory = new File(&quot;D://&quot;);\n\nFile[] files = directory.listFiles(new FilenameFilter() {\n    public boolean accept(File dir, String name) {\n        return name.toLowerCase().endsWith(&quot;.txt&quot;);\n    }\n});\nfor (File file : files) {\n    System.out.println(file.getAbsolutePath());\n}\n</code></pre>\n"}],"owner":{"account_id":16788171,"reputation":286,"user_id":12136547,"display_name":"kevin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1634882360,"creation_date":1605212815,"question_id":64811255,"body_markdown":"I need to read all files in the same directory and store those files in a list. All files end in `.txt` and there are no subdirectory.\r\n\r\n```\r\nList&lt;String&gt; recipe = new ArrayList&lt;&gt;();\r\ntry {\r\n    recipe = Files.readAllLines(Paths.get(&quot;gyro.txt&quot;));\r\n}\r\n```","title":"Java - How to read all files in the same directory","body":"<p>I need to read all files in the same directory and store those files in a list. All files end in <code>.txt</code> and there are no subdirectory.</p>\n<pre><code>List&lt;String&gt; recipe = new ArrayList&lt;&gt;();\ntry {\n    recipe = Files.readAllLines(Paths.get(&quot;gyro.txt&quot;));\n}\n</code></pre>\n"},{"tags":["java","leanft"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1520161912,"post_id":49094331,"comment_id":85194547,"body_markdown":"You need to edit your question with the full error from log","body":"You need to edit your question with the full error from log"},{"owner":{"account_id":11489181,"reputation":5,"user_id":8420762,"display_name":"suraj sharma"},"score":0,"creation_date":1520226756,"post_id":49094331,"comment_id":85212790,"body_markdown":"Only I&#39;m getting below error in console.\nPicked up JAVA_TOOL_OPTIONS: -agentlib:jvmhook Picked up _JAVA_OPTIONS: -Xrunjvmhook -Xbootclasspath/a:&quot;C:\\Program Files (x86)\\HPE\\LeanFT\\bin\\java_shared\\classes&quot;;&quot;C:\\Program Files (x86)\\HPE\\LeanFT\\bin\\java_shared\\classes\\jasmine.jar&quot;","body":"Only I&#39;m getting below error in console. Picked up JAVA_TOOL_OPTIONS: -agentlib:jvmhook Picked up _JAVA_OPTIONS: -Xrunjvmhook -Xbootclasspath/a:&quot;C:\\Program Files (x86)\\HPE\\LeanFT\\bin\\java_shared\\classes&quot;;&quot;C:\\Program Files (x86)\\HPE\\LeanFT\\bin\\java_shared\\classes\\jasmine.jar&quot;"},{"owner":{"account_id":3906943,"reputation":7869,"user_id":3233388,"accept_rate":89,"display_name":"Adelin"},"score":0,"creation_date":1520231763,"post_id":49094331,"comment_id":85214418,"body_markdown":"That is not an error. That&#39;s just a notification. You need to debug some more. Sounds like those lines are never executed.","body":"That is not an error. That&#39;s just a notification. You need to debug some more. Sounds like those lines are never executed."},{"owner":{"account_id":11489181,"reputation":5,"user_id":8420762,"display_name":"suraj sharma"},"score":0,"creation_date":1520326655,"post_id":49094331,"comment_id":85258220,"body_markdown":"This issue is solved...I added the LeanFT extension to the browser now the code is working correctly.","body":"This issue is solved...I added the LeanFT extension to the browser now the code is working correctly."}],"answers":[{"tags":[],"owner":{"account_id":8254,"reputation":825,"user_id":14770,"accept_rate":75,"display_name":"not-bob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520324707,"creation_date":1520324707,"answer_id":49126286,"question_id":49094331,"body_markdown":"Do you see a balloon on the taskbar saying the Leanft runtime has started? If not, then check that part of your code. \r\n\r\nIf leanft started, did you see a browser start? If not, check that part of your code.","title":"Unable tp open browser with specified URL in leanFT","body":"<p>Do you see a balloon on the taskbar saying the Leanft runtime has started? If not, then check that part of your code. </p>\n\n<p>If leanft started, did you see a browser start? If not, check that part of your code.</p>\n"},{"tags":[],"owner":{"account_id":23108866,"reputation":1,"user_id":17217077,"display_name":"user17217077"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634882336,"creation_date":1634882336,"answer_id":69672044,"question_id":49094331,"body_markdown":"There is a picocomposition.message type not present issue coming while trying to launch the browser from leanft. \r\nAlso leanftruntimeengine does not run and broswer does not start.","title":"Unable tp open browser with specified URL in leanFT","body":"<p>There is a picocomposition.message type not present issue coming while trying to launch the browser from leanft.\nAlso leanftruntimeengine does not run and broswer does not start.</p>\n"}],"owner":{"account_id":11489181,"reputation":5,"user_id":8420762,"display_name":"suraj sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634882336,"creation_date":1520159021,"question_id":49094331,"body_markdown":"Error is specified below while performing the action.\r\n\r\n\r\n\r\nPicked up `JAVA_TOOL_OPTIONS`: `-agentlib:jvmhook`\r\n\r\nPicked up `_JAVA_OPTIONS`: `-Xrunjvmhook -Xbootclasspath/a:&quot;C:\\Program Files (x86)\\HPE\\LeanFT\\bin\\java_shared\\classes&quot;;&quot;C:\\Program Files (x86)\\HPE\\LeanFT\\bin\\java_shared\\classes\\jasmine.jar&quot;`\r\n    \r\n    \r\n    public class LeanFtTest {\r\n    \t\r\n    \t @Before\r\n    \t    public void init(){\r\n    \t        try {\r\n    \t            ModifiableSDKConfiguration config = new ModifiableSDKConfiguration();\r\n    \t            config.setServerAddress(new URI(&quot;ws://localhost:5095&quot;));\r\n    \t            SDK.init(config);\r\n    \t        }catch (Exception ex){\r\n    \t            System.out.println(&quot;Exception occured &quot; + ex.toString());\r\n    \t        }\r\n    \t    }\r\n    \r\n    \t@Test\r\n    \tpublic void test() throws GeneralLeanFtException {\r\n    \r\n    \t\tBrowser browser = BrowserFactory.launch(BrowserType.CHROME);\r\n    \t\ttry {\r\n    \t\t\tbrowser.navigate(&quot;https://www.google.co.in/&quot;);\r\n    \t\t\tbrowser.sync();\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;error in navigation&quot;);\r\n    \t\t}\r\n    \t}\r\n    }","title":"Unable tp open browser with specified URL in leanFT","body":"<p>Error is specified below while performing the action.</p>\n\n<p>Picked up <code>JAVA_TOOL_OPTIONS</code>: <code>-agentlib:jvmhook</code></p>\n\n<p>Picked up <code>_JAVA_OPTIONS</code>: <code>-Xrunjvmhook -Xbootclasspath/a:\"C:\\Program Files (x86)\\HPE\\LeanFT\\bin\\java_shared\\classes\";\"C:\\Program Files (x86)\\HPE\\LeanFT\\bin\\java_shared\\classes\\jasmine.jar\"</code></p>\n\n<pre><code>public class LeanFtTest {\n\n     @Before\n        public void init(){\n            try {\n                ModifiableSDKConfiguration config = new ModifiableSDKConfiguration();\n                config.setServerAddress(new URI(\"ws://localhost:5095\"));\n                SDK.init(config);\n            }catch (Exception ex){\n                System.out.println(\"Exception occured \" + ex.toString());\n            }\n        }\n\n    @Test\n    public void test() throws GeneralLeanFtException {\n\n        Browser browser = BrowserFactory.launch(BrowserType.CHROME);\n        try {\n            browser.navigate(\"https://www.google.co.in/\");\n            browser.sync();\n\n        } catch (Exception e) {\n            System.out.println(\"error in navigation\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","string","file","split"],"comments":[{"owner":{"account_id":16788171,"reputation":286,"user_id":12136547,"display_name":"kevin"},"score":0,"creation_date":1605118623,"post_id":64791411,"comment_id":114556535,"body_markdown":"@Abra I&#39;ve added a sample rcp file, its just another file extension type sort of like a txt file","body":"@Abra I&#39;ve added a sample rcp file, its just another file extension type sort of like a txt file"}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1605118245,"creation_date":1605118245,"answer_id":64791859,"question_id":64791411,"body_markdown":"The **documentation**, i.e. the javadoc of [`readline()`][1], says:\r\n\r\n &gt; Returns a String containing the contents of the line, **not including any line-termination characters**\r\n\r\nWhich means that `line.split(&quot;\\\\r?\\\\n&quot;)` is the same as `new String[] { line }`, i.e. it&#39;s an entirely useless thing to do.\r\n\r\nIf you want to read the entire file into memory as an array of lines, just call [`Files.readAllLines()`][2]:\r\n\r\n```lang-java\r\nList&lt;String&gt; linesList = Files.readAllLines(Paths.get(&quot;file.rcp&quot;));\r\nString[] linesArray = linesList.toArray(new String[0]);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#readLine--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-","title":"Java - splitting files by newline","body":"<p>The <strong>documentation</strong>, i.e. the javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#readLine--\" rel=\"nofollow noreferrer\"><code>readline()</code></a>, says:</p>\n<blockquote>\n<p>Returns a String containing the contents of the line, <strong>not including any line-termination characters</strong></p>\n</blockquote>\n<p>Which means that <code>line.split(&quot;\\\\r?\\\\n&quot;)</code> is the same as <code>new String[] { line }</code>, i.e. it's an entirely useless thing to do.</p>\n<p>If you want to read the entire file into memory as an array of lines, just call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-\" rel=\"nofollow noreferrer\"><code>Files.readAllLines()</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; linesList = Files.readAllLines(Paths.get(&quot;file.rcp&quot;));\nString[] linesArray = linesList.toArray(new String[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605122038,"creation_date":1605119182,"answer_id":64792077,"question_id":64791411,"body_markdown":"You do not need to split any string at all. You can simply read a line and add it to a `List&lt;String&gt;` (or an array if the number of lines is known).\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tFileInputStream file = new FileInputStream(&quot;file.rcp&quot;);\r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n    \t\ttry (BufferedReader reader = new BufferedReader(new InputStreamReader(file))) {\r\n    \t\t\tString line = reader.readLine();\r\n    \t\t\twhile (line != null) {\r\n    \t\t\t\tlist.add(line);\r\n    \t\t\t\tline = reader.readLine();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(list);\r\n    \r\n    \t\t// An array out of the list\r\n    \t\tString[] arr = list.toArray(new String[0]);\r\n    \t\tSystem.out.println(Arrays.toString(arr));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    [Food name - gyros, author - some name, Cusine type - greek, Directions - some directions, Ingredients - some ingredients]\r\n    [Food name - gyros, author - some name, Cusine type - greek, Directions - some directions, Ingredients - some ingredients]\r\n\r\nIf you have already read the content of your file into some string (e.g. `String fileContent` as shown below), you can simply split the string on `\\r?\\n` which will produce a `String[]`.\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.Arrays;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tString fileContent = new String(Files.readAllBytes(Paths.get(&quot;file.rcp&quot;)));\r\n    \t\t// Java11 onwards\r\n    \t\t// String fileContent = Files.readString(Path.of(&quot;file.rcp&quot;));\r\n    \r\n    \t\tString[] arr = fileContent.split(&quot;\\\\r?\\\\n&quot;);\r\n    \t\tSystem.out.println(Arrays.toString(arr));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    [Food name - gyros, author - some name, Cusine type - greek, Directions - some directions, Ingredients - some ingredients]\r\n\r\n","title":"Java - splitting files by newline","body":"<p>You do not need to split any string at all. You can simply read a line and add it to a <code>List&lt;String&gt;</code> (or an array if the number of lines is known).</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        FileInputStream file = new FileInputStream(&quot;file.rcp&quot;);\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n        try (BufferedReader reader = new BufferedReader(new InputStreamReader(file))) {\n            String line = reader.readLine();\n            while (line != null) {\n                list.add(line);\n                line = reader.readLine();\n            }\n        }\n\n        System.out.println(list);\n\n        // An array out of the list\n        String[] arr = list.toArray(new String[0]);\n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[Food name - gyros, author - some name, Cusine type - greek, Directions - some directions, Ingredients - some ingredients]\n[Food name - gyros, author - some name, Cusine type - greek, Directions - some directions, Ingredients - some ingredients]\n</code></pre>\n<p>If you have already read the content of your file into some string (e.g. <code>String fileContent</code> as shown below), you can simply split the string on <code>\\r?\\n</code> which will produce a <code>String[]</code>.</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        String fileContent = new String(Files.readAllBytes(Paths.get(&quot;file.rcp&quot;)));\n        // Java11 onwards\n        // String fileContent = Files.readString(Path.of(&quot;file.rcp&quot;));\n\n        String[] arr = fileContent.split(&quot;\\\\r?\\\\n&quot;);\n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>[Food name - gyros, author - some name, Cusine type - greek, Directions - some directions, Ingredients - some ingredients]\n</code></pre>\n"}],"owner":{"account_id":16788171,"reputation":286,"user_id":12136547,"display_name":"kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1169,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":64791859,"answer_count":2,"score":-1,"last_activity_date":1634881878,"creation_date":1605116313,"question_id":64791411,"body_markdown":"How can I split file by newline? I&#39;ve attempted to split by doing `line.split(&quot;\\\\r?\\\\n&quot;)` - but when I try printing the 0th index I get the entire file content when I was expecting just the first line. but if I try printing the result at index 0 I get the entire file content, when I expected to get just the first line.\r\n```\r\n\r\nFileInputStream file = new FileInputStream(&quot;file.rcp&quot;);\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(file));\r\nString line = reader.readLine();\r\n\r\n while (line != null) {\r\n\t\t\tString [] split = line.split(&quot;\\\\r?\\\\n&quot;);\r\n\t\t\tString name = split[0]; // test to see if name will print the first line only\r\n\t\t\tSystem.out.println(name);\r\n\t\t\tline = reader.readLine();\r\n\t\t}\r\n\r\n```\r\nFile format\r\n```\r\nFood name - gyros\r\nauthor - some name\r\nCusine type - greek\r\nDirections - some directions\r\nIngredients - some ingredients\r\n```\r\n","title":"Java - splitting files by newline","body":"<p>How can I split file by newline? I've attempted to split by doing <code>line.split(&quot;\\\\r?\\\\n&quot;)</code> - but when I try printing the 0th index I get the entire file content when I was expecting just the first line. but if I try printing the result at index 0 I get the entire file content, when I expected to get just the first line.</p>\n<pre><code>\nFileInputStream file = new FileInputStream(&quot;file.rcp&quot;);\nBufferedReader reader = new BufferedReader(new InputStreamReader(file));\nString line = reader.readLine();\n\n while (line != null) {\n            String [] split = line.split(&quot;\\\\r?\\\\n&quot;);\n            String name = split[0]; // test to see if name will print the first line only\n            System.out.println(name);\n            line = reader.readLine();\n        }\n\n</code></pre>\n<p>File format</p>\n<pre><code>Food name - gyros\nauthor - some name\nCusine type - greek\nDirections - some directions\nIngredients - some ingredients\n</code></pre>\n"},{"tags":["java","spring-boot","graphql"],"comments":[{"owner":{"account_id":8131569,"reputation":8279,"user_id":6124657,"display_name":"xadm"},"score":0,"creation_date":1625776600,"post_id":68305644,"comment_id":120725034,"body_markdown":"https://spec.graphql.org/June2018/#sec-Scalars","body":"<a href=\"https://spec.graphql.org/June2018/#sec-Scalars\" rel=\"nofollow noreferrer\">spec.graphql.org/June2018/#sec-Scalars</a>"}],"answers":[{"tags":[],"owner":{"account_id":551805,"reputation":501,"user_id":916757,"display_name":"Shawn Flahave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634881768,"creation_date":1634881768,"answer_id":69671981,"question_id":68305644,"body_markdown":"The GraphQL spec only specifies Int, Float, String, Boolean, and ID as primitive types (aka &quot;scalars&quot;). However, it does allow for extending this set of scalar types. The implementation of the GraphQL specification you&#39;re using, GraphQL Java, doesn&#39;t provide a `Long` scalar type by default. You could set up your own but in this case I think it&#39;d be easier to use the [graphql-java-extended-scalars][1] package. It&#39;s pretty easy to set up. Note that it provides a `GraphQLLong` scalar type def which represents `java.lang.Long`. If you don&#39;t want to use the name &quot;GraphQLLong&quot; for this type, you can alias it like so:\r\n\r\n```\r\nGraphQLScalarType longScalar =\r\n            ExtendedScalars.newAliasedScalar(&#39;Long&#39;)\r\n                .aliasedScalar(ExtendedScalars.GraphQLLong)\r\n                .build() \r\n```\r\nSee the docs for graphql-java-extended-scalars, and dig into the source code to see how they set up the scalars. \r\n\r\n  [1]: https://github.com/graphql-java/graphql-java-extended-scalars","title":"GraphQL: Unable to match type definition (TypeName{name=&#39;Long&#39;})","body":"<p>The GraphQL spec only specifies Int, Float, String, Boolean, and ID as primitive types (aka &quot;scalars&quot;). However, it does allow for extending this set of scalar types. The implementation of the GraphQL specification you're using, GraphQL Java, doesn't provide a <code>Long</code> scalar type by default. You could set up your own but in this case I think it'd be easier to use the <a href=\"https://github.com/graphql-java/graphql-java-extended-scalars\" rel=\"nofollow noreferrer\">graphql-java-extended-scalars</a> package. It's pretty easy to set up. Note that it provides a <code>GraphQLLong</code> scalar type def which represents <code>java.lang.Long</code>. If you don't want to use the name &quot;GraphQLLong&quot; for this type, you can alias it like so:</p>\n<pre><code>GraphQLScalarType longScalar =\n            ExtendedScalars.newAliasedScalar('Long')\n                .aliasedScalar(ExtendedScalars.GraphQLLong)\n                .build() \n</code></pre>\n<p>See the docs for graphql-java-extended-scalars, and dig into the source code to see how they set up the scalars.</p>\n"}],"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634881768,"creation_date":1625762560,"question_id":68305644,"body_markdown":"I am just learning graphql using Springboot and was trying the example from this link https://bezkoder.com/spring-boot-graphql-mysql-jpa/. Now I have encountered a problem and not able to understand why it&#39;s throwing this error.\r\n\r\nCan someone please help me to point out what mistake I have made ?\r\n\r\n**Error:** `graphql.kickstart.tools.SchemaClassScannerError: Unable to match type definition (TypeName{name=&#39;Long&#39;}) with java type (class java.lang.Long): No TypeDefinition for type name Long`\r\n\r\n**author.graphqls**\r\n\r\n    type Author {\r\n    \tid: ID!\r\n    \tname: String!\r\n    \tage: Int\r\n    }\r\n    \r\n    # Root\r\n    type Query {\r\n    \tfindAuthorById(id: Long): Author!\r\n    \tfindAllAuthors: [Author]!\r\n    \tcountAuthors: Long!\r\n    }\r\n    \r\n    # Root\r\n    type Mutation {\r\n    \tcreateAuthor(name: String!, age: Int): Author!\r\n    }\r\n\r\n**Author.java**\r\n\r\n    @Entity\r\n    public class Author {\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;name&quot;, nullable = false)\r\n      private String name;\r\n    \r\n      @Column(name = &quot;age&quot;)\r\n      private Integer age;","title":"GraphQL: Unable to match type definition (TypeName{name=&#39;Long&#39;})","body":"<p>I am just learning graphql using Springboot and was trying the example from this link <a href=\"https://bezkoder.com/spring-boot-graphql-mysql-jpa/\" rel=\"nofollow noreferrer\">https://bezkoder.com/spring-boot-graphql-mysql-jpa/</a>. Now I have encountered a problem and not able to understand why it's throwing this error.</p>\n<p>Can someone please help me to point out what mistake I have made ?</p>\n<p><strong>Error:</strong> <code>graphql.kickstart.tools.SchemaClassScannerError: Unable to match type definition (TypeName{name='Long'}) with java type (class java.lang.Long): No TypeDefinition for type name Long</code></p>\n<p><strong>author.graphqls</strong></p>\n<pre><code>type Author {\n    id: ID!\n    name: String!\n    age: Int\n}\n\n# Root\ntype Query {\n    findAuthorById(id: Long): Author!\n    findAllAuthors: [Author]!\n    countAuthors: Long!\n}\n\n# Root\ntype Mutation {\n    createAuthor(name: String!, age: Int): Author!\n}\n</code></pre>\n<p><strong>Author.java</strong></p>\n<pre><code>@Entity\npublic class Author {\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  private Long id;\n\n  @Column(name = &quot;name&quot;, nullable = false)\n  private String name;\n\n  @Column(name = &quot;age&quot;)\n  private Integer age;\n</code></pre>\n"},{"tags":["java","android","xml","android-fragments","scrollview"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1634879476,"post_id":69671245,"comment_id":123149827,"body_markdown":"you can make `viewpager2` `match parent` instead of `wrap content` I hope it may solve your problem.","body":"you can make <code>viewpager2</code> <code>match parent</code> instead of <code>wrap content</code> I hope it may solve your problem."}],"answers":[{"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634880732,"creation_date":1634880019,"answer_id":69671753,"question_id":69671245,"body_markdown":"Your Code is Working Fine but Your code have some minor mistakes so you can follow this code -\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#BBF8FF&quot;\r\n    tools:context=&quot;.FirstFragment&quot;&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fillViewport=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n            &lt;com.google.android.material.tabs.TabLayout\r\n                android:id=&quot;@+id/tabLayout&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:tabGravity=&quot;fill&quot;\r\n                android:layout_alignParentTop=&quot;true&quot;\r\n                android:layout_alignParentEnd=&quot;true&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;\r\n                app:tabMode=&quot;fixed&quot;/&gt;\r\n\r\n            &lt;androidx.viewpager2.widget.ViewPager2\r\n                android:id=&quot;@+id/viewPager&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_below=&quot;@id/tabLayout&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;\r\n                android:layout_alignParentEnd=&quot;true&quot;\r\n                android:layout_alignParentBottom=&quot;true&quot;/&gt;\r\n\r\n          &lt;/RelativeLayout&gt;\r\n\r\n      &lt;/ScrollView&gt;\r\n     &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Fragment Inside a Fragment Not Working with ScrollView","body":"<p>Your Code is Working Fine but Your code have some minor mistakes so you can follow this code -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;#BBF8FF&quot;\ntools:context=&quot;.FirstFragment&quot;&gt;\n\n&lt;ScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fillViewport=&quot;true&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n        &lt;com.google.android.material.tabs.TabLayout\n            android:id=&quot;@+id/tabLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:tabGravity=&quot;fill&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            app:tabMode=&quot;fixed&quot;/&gt;\n\n        &lt;androidx.viewpager2.widget.ViewPager2\n            android:id=&quot;@+id/viewPager&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_below=&quot;@id/tabLayout&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_alignParentBottom=&quot;true&quot;/&gt;\n\n      &lt;/RelativeLayout&gt;\n\n  &lt;/ScrollView&gt;\n &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":23066674,"reputation":75,"user_id":17180999,"display_name":"Jack Sparrow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69671753,"answer_count":1,"score":2,"last_activity_date":1634880732,"creation_date":1634874980,"question_id":69671245,"body_markdown":"When I am Using Fragment Inside a Fragment with ScrollView It is not working.\r\nIn My Case the `FirstFragment` is fine. the fragment that is inside is not showing in full screen and lot of contents in `BooksFragment` are disappear\r\n\r\nthis is My `FirstFragment` &#39;s XML :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#DADADA&quot;\r\n    tools:context=&quot;.FirstFragment&quot;&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fillViewport=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n            &lt;com.google.android.material.tabs.TabLayout\r\n                android:id=&quot;@+id/tabLayout&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;\r\n                android:layout_alignParentTop=&quot;true&quot;\r\n                android:layout_alignParentEnd=&quot;true&quot;\r\n                app:tabGravity=&quot;fill&quot;\r\n                app:tabMode=&quot;fixed&quot;&gt;\r\n\r\n            &lt;/com.google.android.material.tabs.TabLayout&gt;\r\n\r\n            &lt;androidx.viewpager2.widget.ViewPager2\r\n                android:id=&quot;@+id/viewPager&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@id/tabLayout&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;\r\n                android:layout_alignParentEnd=&quot;true&quot; /&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/ScrollView&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\nThis is My `FirstFragment` &#39;s JAVA : \r\n\r\n    \r\n    public class FirstFragment extends Fragment {\r\n\r\n\r\n    public FirstFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n    }\r\n\r\n    static class ViewPagerAdapter extends FragmentStateAdapter {\r\n        private final List&lt;Fragment&gt; fragmentList = new ArrayList&lt;&gt;();\r\n        private final List&lt;String&gt; fragmentTitleList = new ArrayList&lt;&gt;();\r\n\r\n        public ViewPagerAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\r\n            super(fragmentManager, lifecycle);\r\n        }\r\n\r\n        public void addFragment(Fragment fragment, String title) {\r\n            fragmentList.add(fragment);\r\n            fragmentTitleList.add(title);\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            return fragmentList.get(position);\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return fragmentList.size();\r\n        }\r\n    }\r\n\r\n    ViewPagerAdapter adapter;\r\n    ViewPager2 viewPager;\r\n    TabLayout tabLayout;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n\r\n        View view = inflater.inflate(R.layout.fragment_first, container, false);\r\n        viewPager = view.findViewById(R.id.viewPager);\r\n        tabLayout = view.findViewById(R.id.tabLayout);\r\n        initView();\r\n        return view;\r\n    }\r\n\r\n    private void initView() {\r\n        adapter = new ViewPagerAdapter(getActivity().getSupportFragmentManager(), getActivity().getLifecycle());\r\n        adapter.addFragment(new BooksFragment(), &quot;Books&quot;);\r\n        adapter.addFragment(new ComputerFragment(), &quot;Computers&quot;);\r\n        viewPager.setAdapter(adapter);\r\n\r\n        new TabLayoutMediator(tabLayout, viewPager, ((tab, position) -&gt; {\r\n            tab.setText(adapter.fragmentTitleList.get(position));\r\n        })).attach();\r\n    }\r\n\r\n    }\r\n\r\n\r\nThis is My `BooksFragment`&#39;s Xml:\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/frameLayout2&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.BooksFragment&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:text=&quot;lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akdlorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd&quot;\r\n        android:lineSpacingExtra=&quot;20dp&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:layout_margin=&quot;16dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n     &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n**If I say this problem in simple word it would be like this :**\r\n\r\n&gt;My First Fragment is Fine but Inside Fragment&#39;s Content is not shown so How can I fix that? Any Help Will be Appreciated. If you have any doubts or question related to my post you can tell me.\r\n\r\n\r\n## Example :\r\n\r\nAs you guys already know I have very Long text in `BooksFragment` &#39;s Xml:\r\nbut In this Images you got the Point.\r\n\r\nIn this Image even One Text is not showing\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn this Image Text is showing **because it&#39;s text length is very small.**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n### Alert:\r\n&gt;Please Don&#39;t Think that grey background is his (`booksFragment`,`ComputerFragment`). `FirstFragment`&#39;s Bg is Grey! not `BooksFragment` and `ComputerFragment`\r\n\r\n\r\n\r\n\r\n\r\n# Edited : \r\n\r\nI am adding this image with different colors so you get the what&#39;s size is what.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nhere the color definitions\r\n\r\n - Gray Color - `MainActivity`\r\n - Light Blue Color - `FirstFragment`\r\n - Red Color - `BookFragment`\r\n\r\n \r\n\r\n  [1]: https://i.stack.imgur.com/UNmit.png\r\n  [2]: https://i.stack.imgur.com/7Md2K.png\r\n  [3]: https://i.stack.imgur.com/Ch9qS.png","title":"Fragment Inside a Fragment Not Working with ScrollView","body":"<p>When I am Using Fragment Inside a Fragment with ScrollView It is not working.\nIn My Case the <code>FirstFragment</code> is fine. the fragment that is inside is not showing in full screen and lot of contents in <code>BooksFragment</code> are disappear</p>\n<p>this is My <code>FirstFragment</code> 's XML :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;#DADADA&quot;\ntools:context=&quot;.FirstFragment&quot;&gt;\n\n&lt;ScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fillViewport=&quot;true&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n        &lt;com.google.android.material.tabs.TabLayout\n            android:id=&quot;@+id/tabLayout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            app:tabGravity=&quot;fill&quot;\n            app:tabMode=&quot;fixed&quot;&gt;\n\n        &lt;/com.google.android.material.tabs.TabLayout&gt;\n\n        &lt;androidx.viewpager2.widget.ViewPager2\n            android:id=&quot;@+id/viewPager&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@id/tabLayout&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_alignParentEnd=&quot;true&quot; /&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n<p>&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</p>\n<p>This is My <code>FirstFragment</code> 's JAVA :</p>\n<pre><code>public class FirstFragment extends Fragment {\n\n\npublic FirstFragment() {\n    // Required empty public constructor\n}\n\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n}\n\nstatic class ViewPagerAdapter extends FragmentStateAdapter {\n    private final List&lt;Fragment&gt; fragmentList = new ArrayList&lt;&gt;();\n    private final List&lt;String&gt; fragmentTitleList = new ArrayList&lt;&gt;();\n\n    public ViewPagerAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\n        super(fragmentManager, lifecycle);\n    }\n\n    public void addFragment(Fragment fragment, String title) {\n        fragmentList.add(fragment);\n        fragmentTitleList.add(title);\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        return fragmentList.get(position);\n    }\n\n    @Override\n    public int getItemCount() {\n        return fragmentList.size();\n    }\n}\n\nViewPagerAdapter adapter;\nViewPager2 viewPager;\nTabLayout tabLayout;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n\n    View view = inflater.inflate(R.layout.fragment_first, container, false);\n    viewPager = view.findViewById(R.id.viewPager);\n    tabLayout = view.findViewById(R.id.tabLayout);\n    initView();\n    return view;\n}\n\nprivate void initView() {\n    adapter = new ViewPagerAdapter(getActivity().getSupportFragmentManager(), getActivity().getLifecycle());\n    adapter.addFragment(new BooksFragment(), &quot;Books&quot;);\n    adapter.addFragment(new ComputerFragment(), &quot;Computers&quot;);\n    viewPager.setAdapter(adapter);\n\n    new TabLayoutMediator(tabLayout, viewPager, ((tab, position) -&gt; {\n        tab.setText(adapter.fragmentTitleList.get(position));\n    })).attach();\n}\n\n}\n</code></pre>\n<p>This is My <code>BooksFragment</code>'s Xml:</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/frameLayout2&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.BooksFragment&quot;&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/textView&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:text=&quot;lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akdlorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd lorem ipsum lorem ipsum how sldj as kye akd&quot;\n    android:lineSpacingExtra=&quot;20dp&quot;\n    android:textSize=&quot;20sp&quot;\n    android:layout_margin=&quot;16dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>If I say this problem in simple word it would be like this :</strong></p>\n<blockquote>\n<p>My First Fragment is Fine but Inside Fragment's Content is not shown so How can I fix that? Any Help Will be Appreciated. If you have any doubts or question related to my post you can tell me.</p>\n</blockquote>\n<h2>Example :</h2>\n<p>As you guys already know I have very Long text in <code>BooksFragment</code> 's Xml:\nbut In this Images you got the Point.</p>\n<p>In this Image even One Text is not showing</p>\n<p><a href=\"https://i.stack.imgur.com/UNmit.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UNmit.png\" alt=\"enter image description here\" /></a></p>\n<p>In this Image Text is showing <strong>because it's text length is very small.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/7Md2K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Md2K.png\" alt=\"enter image description here\" /></a></p>\n<h3>Alert:</h3>\n<blockquote>\n<p>Please Don't Think that grey background is his (<code>booksFragment</code>,<code>ComputerFragment</code>). <code>FirstFragment</code>'s Bg is Grey! not <code>BooksFragment</code> and <code>ComputerFragment</code></p>\n</blockquote>\n<h1>Edited :</h1>\n<p>I am adding this image with different colors so you get the what's size is what.</p>\n<p><a href=\"https://i.stack.imgur.com/Ch9qS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ch9qS.png\" alt=\"enter image description here\" /></a></p>\n<p>here the color definitions</p>\n<ul>\n<li>Gray Color - <code>MainActivity</code></li>\n<li>Light Blue Color - <code>FirstFragment</code></li>\n<li>Red Color - <code>BookFragment</code></li>\n</ul>\n"},{"tags":["java","cryptography","bouncycastle","ecies"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1634917202,"post_id":69671836,"comment_id":123164232,"body_markdown":"`ECIESwithAES` has been removed as of version 1.56. `ECIESwithAES` uses the insecure ECB mode (s. [here](https://github.com/bcgit/bc-java/blob/r1rv55/prov/src/main/java/org/bouncycastle/jcajce/provider/asymmetric/ec/IESCipher.java#L542)) and was therefore removed for security reasons (s. [Release Notes](https://www.bouncycastle.org/releasenotes.html), 2.14.4, last item). An alternative is `ECIESwithAES-CBC`, which applies the CBC mode (the nonce is generated automatically during encryption or specified explicitly with `IESParameterSpec`).","body":"<code>ECIESwithAES</code> has been removed as of version 1.56. <code>ECIESwithAES</code> uses the insecure ECB mode (s. <a href=\"https://github.com/bcgit/bc-java/blob/r1rv55/prov/src/main/java/org/bouncycastle/jcajce/provider/asymmetric/ec/IESCipher.java#L542\" rel=\"nofollow noreferrer\">here</a>) and was therefore removed for security reasons (s. <a href=\"https://www.bouncycastle.org/releasenotes.html\" rel=\"nofollow noreferrer\">Release Notes</a>, 2.14.4, last item). An alternative is <code>ECIESwithAES-CBC</code>, which applies the CBC mode (the nonce is generated automatically during encryption or specified explicitly with <code>IESParameterSpec</code>)."},{"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"score":0,"creation_date":1635171671,"post_id":69671836,"comment_id":123217805,"body_markdown":"Thanks a lot for checking this, could you please help with some references comparing the algorithms (is ECIESwithSHA512andAES-CBC better)? Could you please also tell what is the best way to update the part of the system doing the decryption part for backward compatibility?","body":"Thanks a lot for checking this, could you please help with some references comparing the algorithms (is ECIESwithSHA512andAES-CBC better)? Could you please also tell what is the best way to update the part of the system doing the decryption part for backward compatibility?"}],"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":751,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634880607,"creation_date":1634880607,"question_id":69671836,"body_markdown":"Facing the following error after upgrading from BouncyCastleCrypto-1.54 to BouncyCastleCrypto-1.67.\r\n```\r\nCaused by: java.lang.RuntimeException: Could not generate a cipher with algorithm &lt;ECIESwithAES&gt;\r\nCaused by: java.security.NoSuchAlgorithmException: Cannot find any provider supporting ECIESwithAES\r\n```\r\nIt seems from [here](https://github.com/bcgit/bc-java/commit/9385b0ebd277724b167fe1d1456e3c112112be1f#diff-17a8120271fb3d31b7112618aa8b048244d27d3c8711e36b5f8102ada07fe9ca) the support for this algorithm is no longer present. I could not find any suggestions for the replacement algorithm that can be used. Could someone please help to understand why this algorithm is no longer supported and what is the recommendation for its replacement?","title":"Caused by: java.security.NoSuchAlgorithmException: Cannot find any provider supporting ECIESwithAES","body":"<p>Facing the following error after upgrading from BouncyCastleCrypto-1.54 to BouncyCastleCrypto-1.67.</p>\n<pre><code>Caused by: java.lang.RuntimeException: Could not generate a cipher with algorithm &lt;ECIESwithAES&gt;\nCaused by: java.security.NoSuchAlgorithmException: Cannot find any provider supporting ECIESwithAES\n</code></pre>\n<p>It seems from <a href=\"https://github.com/bcgit/bc-java/commit/9385b0ebd277724b167fe1d1456e3c112112be1f#diff-17a8120271fb3d31b7112618aa8b048244d27d3c8711e36b5f8102ada07fe9ca\" rel=\"nofollow noreferrer\">here</a> the support for this algorithm is no longer present. I could not find any suggestions for the replacement algorithm that can be used. Could someone please help to understand why this algorithm is no longer supported and what is the recommendation for its replacement?</p>\n"},{"tags":["java","boolean"],"comments":[{"owner":{"account_id":4482164,"reputation":6664,"user_id":3645944,"accept_rate":90,"display_name":"Pablo Matias Gomez"},"score":1,"creation_date":1634871150,"post_id":69670827,"comment_id":123148525,"body_markdown":"As starting point, I suggest to not use the negative form of th verbs in booleans. In this case if you use `boolean valid` it will be more readable, and you will undersand which `if`s are wrong.\nThen, if you don&#39;t want to print the octates, then change `if (invalid)` to `if (!invalid)`","body":"As starting point, I suggest to not use the negative form of th verbs in booleans. In this case if you use <code>boolean valid</code> it will be more readable, and you will undersand which <code>if</code>s are wrong. Then, if you don&#39;t want to print the octates, then change <code>if (invalid)</code> to <code>if (!invalid)</code>"},{"owner":{"account_id":6386919,"reputation":8069,"user_id":5737950,"display_name":"nima"},"score":0,"creation_date":1634907831,"post_id":69670827,"comment_id":123160174,"body_markdown":"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions","body":"<a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\" title=\"how do i ask and answer homework questions\">meta.stackoverflow.com/questions/334822/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15705231,"reputation":1,"user_id":11332154,"display_name":"M&#252;źe&#232;b Šh&#227;&#236;k"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634880581,"creation_date":1634880581,"answer_id":69671833,"question_id":69670827,"body_markdown":"Hope this satisy your requirements\r\n\r\n\r\n    import java.util.*;\r\n    public class Main\r\n    {\r\n\tpublic static void main(String[] args) {\r\n\t\t   Scanner scan = new Scanner(System.in);\r\n\r\n           System.out.println(&quot;Please enter the first octet:&quot;);\r\n           int oct1 = scan.nextInt();\r\n\r\n           System.out.println(&quot;Please enter the second octet:&quot;);\r\n           int oct2 = scan.nextInt();\r\n\r\n           System.out.println(&quot;Please enter the third octet:&quot;);\r\n           int oct3 = scan.nextInt();\r\n\r\n           System.out.println(&quot;Please enter the fourth octet:&quot;);\r\n           int oct4 = scan.nextInt();\r\n \r\n           boolean invalid = false;\r\n\r\n           if (oct1 &lt; 1 || oct1 &gt; 255){\r\n           System.out.print(&quot;Octet 1 is invalid.&quot;);\r\n            invalid = true;\r\n           }\r\n\r\n            //if (invalid)\r\n            //System.out.print(&quot;&quot;+oct1+&quot;&quot;);\r\n  \r\n            if(oct2 &lt; 0 || oct2 &gt; 255){\r\n            System.out.print(&quot;Octet 2 is invalid.&quot;);\r\n            invalid = true;\r\n            }\r\n            //if(invalid)\r\n            //System.out.print(&quot;&quot;+oct2+&quot;&quot;);    \r\n  \r\n            if (oct3 &lt; 0 || oct3 &gt; 255){\r\n            System.out.print(&quot;Octet 3 is invalid.&quot;);\r\n            invalid = true;\r\n            }\r\n            //if (invalid)\r\n            //System.out.print(&quot;&quot;+oct3+&quot;&quot;);          \r\n      \r\n            if (oct4 &lt; 1 || oct4 &gt; 254){\r\n            System.out.print(&quot;Octet 4 is invalid.&quot;);\r\n            invalid = true;\r\n            }\r\n\r\n           //if (invalid)\r\n           //System.out.print(&quot;&quot;+oct4+&quot;&quot;);\r\n     \r\n           if (invalid == false)\r\n           System.out.print(&quot;IP address: &quot;+oct1+&quot;.&quot;+oct2+&quot;.&quot;+oct3+&quot;.&quot;+oct4+&quot;&quot;);\r\n\t       }\r\n          }\r\n","title":"I am struggling for when the user inputs aren&#39;t in range (works fine when IN range). I am aware of my mistakes, but I am having trouble fixing them","body":"<p>Hope this satisy your requirements</p>\n<pre><code>import java.util.*;\npublic class Main\n{\npublic static void main(String[] args) {\n       Scanner scan = new Scanner(System.in);\n\n       System.out.println(&quot;Please enter the first octet:&quot;);\n       int oct1 = scan.nextInt();\n\n       System.out.println(&quot;Please enter the second octet:&quot;);\n       int oct2 = scan.nextInt();\n\n       System.out.println(&quot;Please enter the third octet:&quot;);\n       int oct3 = scan.nextInt();\n\n       System.out.println(&quot;Please enter the fourth octet:&quot;);\n       int oct4 = scan.nextInt();\n\n       boolean invalid = false;\n\n       if (oct1 &lt; 1 || oct1 &gt; 255){\n       System.out.print(&quot;Octet 1 is invalid.&quot;);\n        invalid = true;\n       }\n\n        //if (invalid)\n        //System.out.print(&quot;&quot;+oct1+&quot;&quot;);\n\n        if(oct2 &lt; 0 || oct2 &gt; 255){\n        System.out.print(&quot;Octet 2 is invalid.&quot;);\n        invalid = true;\n        }\n        //if(invalid)\n        //System.out.print(&quot;&quot;+oct2+&quot;&quot;);    \n\n        if (oct3 &lt; 0 || oct3 &gt; 255){\n        System.out.print(&quot;Octet 3 is invalid.&quot;);\n        invalid = true;\n        }\n        //if (invalid)\n        //System.out.print(&quot;&quot;+oct3+&quot;&quot;);          \n  \n        if (oct4 &lt; 1 || oct4 &gt; 254){\n        System.out.print(&quot;Octet 4 is invalid.&quot;);\n        invalid = true;\n        }\n\n       //if (invalid)\n       //System.out.print(&quot;&quot;+oct4+&quot;&quot;);\n \n       if (invalid == false)\n       System.out.print(&quot;IP address: &quot;+oct1+&quot;.&quot;+oct2+&quot;.&quot;+oct3+&quot;.&quot;+oct4+&quot;&quot;);\n       }\n      }\n</code></pre>\n"}],"owner":{"account_id":23046456,"reputation":9,"user_id":17163957,"display_name":"Orion27"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634880581,"creation_date":1634870617,"question_id":69670827,"body_markdown":"/* Teacher instructions:\r\n * Boolean Conditions - Octets and IP Address\r\n *\r\n * You are going to write a program that will accept 4 integer numbers from a user, check to see if they are valid\r\n * IP address range numbers (1 - 255).(0 - 255).(0 - 255).(1 - 254) \r\n * and then if they are valid you will put them in the correct dotted decimal notation for an IP address.\r\n * If they are invalid, tell the user which one is invalid.\r\n *\r\n * Sample Run:\r\n Please enter the first Octet:\r\n 125\r\n Please enter the second Octet:\r\n 10\r\n Please enter the third Octet:\r\n 52\r\n Please enter the fourth Octet:\r\n 10\r\n IP Address: 125.10.52.10\r\n *\r\n * Sample Run:\r\n Please enter the first Octet:\r\n 125\r\n Please enter the second Octet:\r\n 10\r\n Please enter the third Octet:\r\n 520\r\n Please enter the fourth Octet:\r\n 10\r\n Octet three is incorrect.\r\n *  \r\n */\r\n\r\nMy code (when user puts an octet that isn&#39;t within the range, it says its invalid, which I want it to do, but It also prints the given octets regardless of validity, when I don&#39;t want them being printed when one or more octet is invalid. In other words, I don&#39;t want them printed when invalid.):\r\n\r\n    enter code here\r\n\r\n   \r\n          //Ask for octets 1-4.\r\n      System.out.println(&quot;Please enter the first octet:&quot;);\r\n      int oct1 = scan.nextInt();\r\n          \r\n      System.out.println(&quot;Please enter the second octet:&quot;);\r\n      int oct2 = scan.nextInt();\r\n   \r\n      System.out.println(&quot;Please enter the third octet:&quot;);\r\n      int oct3 = scan.nextInt();\r\n   \r\n      System.out.println(&quot;Please enter the fourth octet:&quot;);\r\n      int oct4 = scan.nextInt();\r\n   \r\n   \r\n          //Add boolean to determine the octets&#39; validity\r\n          \r\n      boolean invalid = false;\r\n   \r\n      if (oct1 &lt; 1 || oct1 &gt; 255){\r\n         System.out.print(&quot;Octet 1 is invalid.&quot;);\r\n         invalid = true;\r\n      }\r\n      if (invalid)\r\n         System.out.print(&quot;&quot;+oct1+&quot;&quot;);\r\n      \r\n      if (oct2 &lt; 0 || oct2 &gt; 255){\r\n         System.out.print(&quot;Octet 2 is invalid.&quot;);\r\n         invalid = true;\r\n      }\r\n      if (invalid)\r\n         System.out.print(&quot;&quot;+oct2+&quot;&quot;);    \r\n      \r\n      if (oct3 &lt; 0 || oct3 &gt; 255){\r\n         System.out.print(&quot;Octet 3 is invalid.&quot;);\r\n         invalid = true;\r\n      }\r\n      if (invalid)\r\n         System.out.print(&quot;&quot;+oct3+&quot;&quot;);          \r\n          \r\n      if (oct4 &lt; 1 || oct4 &gt; 254){\r\n         System.out.print(&quot;Octet 4 is invalid.&quot;);\r\n         invalid = true;\r\n      }\r\n      if (invalid)\r\n         System.out.print(&quot;&quot;+oct4+&quot;&quot;);   \r\n     \r\n   //If each octet is valid, determine invalid is false, and print IP address.\r\n   \r\n      if (invalid == false)\r\n         System.out.print(&quot;IP address: &quot;+oct1+&quot;.&quot;+oct2+&quot;.&quot;+oct3+&quot;.&quot;+oct4+&quot;&quot;);\r\n          \r\n          \r\n          \r\n          \r\n   }\r\n\r\n}","title":"I am struggling for when the user inputs aren&#39;t in range (works fine when IN range). I am aware of my mistakes, but I am having trouble fixing them","body":"<p>/* Teacher instructions:</p>\n<ul>\n<li>Boolean Conditions - Octets and IP Address</li>\n<li></li>\n<li>You are going to write a program that will accept 4 integer numbers from a user, check to see if they are valid</li>\n<li>IP address range numbers (1 - 255).(0 - 255).(0 - 255).(1 - 254)</li>\n<li>and then if they are valid you will put them in the correct dotted decimal notation for an IP address.</li>\n<li>If they are invalid, tell the user which one is invalid.</li>\n<li></li>\n<li>Sample Run:\nPlease enter the first Octet:\n125\nPlease enter the second Octet:\n10\nPlease enter the third Octet:\n52\nPlease enter the fourth Octet:\n10\nIP Address: 125.10.52.10</li>\n<li></li>\n<li>Sample Run:\nPlease enter the first Octet:\n125\nPlease enter the second Octet:\n10\nPlease enter the third Octet:\n520\nPlease enter the fourth Octet:\n10\nOctet three is incorrect.</li>\n<li></li>\n</ul>\n<p>*/</p>\n<p>My code (when user puts an octet that isn't within the range, it says its invalid, which I want it to do, but It also prints the given octets regardless of validity, when I don't want them being printed when one or more octet is invalid. In other words, I don't want them printed when invalid.):</p>\n<pre><code>enter code here\n\n\n      //Ask for octets 1-4.\n  System.out.println(&quot;Please enter the first octet:&quot;);\n  int oct1 = scan.nextInt();\n      \n  System.out.println(&quot;Please enter the second octet:&quot;);\n  int oct2 = scan.nextInt();\n\n  System.out.println(&quot;Please enter the third octet:&quot;);\n  int oct3 = scan.nextInt();\n\n  System.out.println(&quot;Please enter the fourth octet:&quot;);\n  int oct4 = scan.nextInt();\n\n\n      //Add boolean to determine the octets' validity\n      \n  boolean invalid = false;\n\n  if (oct1 &lt; 1 || oct1 &gt; 255){\n     System.out.print(&quot;Octet 1 is invalid.&quot;);\n     invalid = true;\n  }\n  if (invalid)\n     System.out.print(&quot;&quot;+oct1+&quot;&quot;);\n  \n  if (oct2 &lt; 0 || oct2 &gt; 255){\n     System.out.print(&quot;Octet 2 is invalid.&quot;);\n     invalid = true;\n  }\n  if (invalid)\n     System.out.print(&quot;&quot;+oct2+&quot;&quot;);    \n  \n  if (oct3 &lt; 0 || oct3 &gt; 255){\n     System.out.print(&quot;Octet 3 is invalid.&quot;);\n     invalid = true;\n  }\n  if (invalid)\n     System.out.print(&quot;&quot;+oct3+&quot;&quot;);          \n      \n  if (oct4 &lt; 1 || oct4 &gt; 254){\n     System.out.print(&quot;Octet 4 is invalid.&quot;);\n     invalid = true;\n  }\n  if (invalid)\n     System.out.print(&quot;&quot;+oct4+&quot;&quot;);   \n \n</code></pre>\n<p>//If each octet is valid, determine invalid is false, and print IP address.</p>\n<pre><code>  if (invalid == false)\n     System.out.print(&quot;IP address: &quot;+oct1+&quot;.&quot;+oct2+&quot;.&quot;+oct3+&quot;.&quot;+oct4+&quot;&quot;);\n      \n      \n      \n      \n</code></pre>\n<p>}</p>\n<p>}</p>\n"},{"tags":["java","android","ftp","ftps","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634880455,"creation_date":1535555729,"answer_id":52080934,"question_id":52077130,"body_markdown":"While I&#39;m not familiar with Android Emulator, I assume that you need to connect to 10.0.2.2 to connect to the emulator host machine.\r\n\r\nIn an FTP passive mode, the server sends back an IP address to which the FTP client needs to connect to transfer a file (or a directory listing). As your FTP server listens on 127.0.0.1, it sends back that IP address. But 127.0.0.1 refers to the (emulated) Android host, in the context of your Android code. Hence the &quot;connection refused&quot;.\r\n\r\nThis is pretty much similar to a common problem with connecting to an FTP server behind a NAT. See https://stackoverflow.com/q/42503260/850848\r\n\r\nAnd the solution is hence the same:\r\n\r\n- In FileZilla Server Interface, go to *Edit &gt; Settings &gt; Passive mode settings &gt; IPv4 specific &gt; External Server IP Address for passive mode transfers*. And enter 10.0.2.2.\r\n- Maybe you will also need to uncheck *&quot;Don&#39;t use external IP for local connections&quot;*.\r\n\r\nObviously this in turn makes the FTP server unusable for normal clients.\r\n\r\nAs you have correctly commented, this problem only arise when connecting from Android emulator to an FTP server running on emulator host. \r\n\r\n---\r\n\r\nAnother solution is using `FTPClient.setPassiveNatWorkaroundStrategy`. It accepts an implementation of `HostnameResolver` interface. If you implement in a way that it translates 127.0.0.1 to 10.0.2.2, it will allow your Java code to connect even without any change on the server.\r\n\r\n    public static class ServerResolverImpl implements HostnameResolver {\r\n        private FTPClient client;\r\n\r\n        public ServerResolverImpl(FTPClient client) {\r\n            this.client = client;\r\n        }\r\n\r\n        @Override\r\n        public String resolve(String hostname) throws UnknownHostException {\r\n            // Ignore &quot;hostname&quot; returned by the server.\r\n            // Instead always use the primary address of the FTP server.\r\n            return this.client.getRemoteAddress().getHostAddress();\r\n        }\r\n    }\r\n","title":"Error &quot;227 Entering Passive Mode&quot;/&quot;Connection refused&quot; when downloading from local FTP server in Android emulator","body":"<p>While I'm not familiar with Android Emulator, I assume that you need to connect to 10.0.2.2 to connect to the emulator host machine.</p>\n<p>In an FTP passive mode, the server sends back an IP address to which the FTP client needs to connect to transfer a file (or a directory listing). As your FTP server listens on 127.0.0.1, it sends back that IP address. But 127.0.0.1 refers to the (emulated) Android host, in the context of your Android code. Hence the &quot;connection refused&quot;.</p>\n<p>This is pretty much similar to a common problem with connecting to an FTP server behind a NAT. See <a href=\"https://stackoverflow.com/q/42503260/850848\">FTP server running on Port 2000 over NAT not working on Passive Mode</a></p>\n<p>And the solution is hence the same:</p>\n<ul>\n<li>In FileZilla Server Interface, go to <em>Edit &gt; Settings &gt; Passive mode settings &gt; IPv4 specific &gt; External Server IP Address for passive mode transfers</em>. And enter 10.0.2.2.</li>\n<li>Maybe you will also need to uncheck <em>&quot;Don't use external IP for local connections&quot;</em>.</li>\n</ul>\n<p>Obviously this in turn makes the FTP server unusable for normal clients.</p>\n<p>As you have correctly commented, this problem only arise when connecting from Android emulator to an FTP server running on emulator host.</p>\n<hr />\n<p>Another solution is using <code>FTPClient.setPassiveNatWorkaroundStrategy</code>. It accepts an implementation of <code>HostnameResolver</code> interface. If you implement in a way that it translates 127.0.0.1 to 10.0.2.2, it will allow your Java code to connect even without any change on the server.</p>\n<pre><code>public static class ServerResolverImpl implements HostnameResolver {\n    private FTPClient client;\n\n    public ServerResolverImpl(FTPClient client) {\n        this.client = client;\n    }\n\n    @Override\n    public String resolve(String hostname) throws UnknownHostException {\n        // Ignore &quot;hostname&quot; returned by the server.\n        // Instead always use the primary address of the FTP server.\n        return this.client.getRemoteAddress().getHostAddress();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12978899,"reputation":112,"user_id":9382033,"display_name":"Developer Ol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52080934,"answer_count":1,"score":1,"last_activity_date":1634880455,"creation_date":1535544634,"question_id":52077130,"body_markdown":"I am trying to download a file from my local FileZilla Server with Java `FTPSClient` running in Android emulator.\r\n\r\nI&#39;ve written this helpercode to download one File:\r\n\r\n    public boolean downloadSingleFile(FTPSClient ftpClient,\r\n                                      String remoteFilePath, File downloadFile) {\r\n        OutputStream outputStream;\r\n        Log.i(&quot;t1&quot;, remoteFilePath + &quot; - &quot; + downloadFile.getAbsolutePath());\r\n        try {\r\n            outputStream = new BufferedOutputStream(new FileOutputStream(\r\n                    downloadFile));\r\n            ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n            boolean retval = ftpClient.retrieveFile(remoteFilePath, outputStream);\r\n            outputStream.flush();\r\n            return retval;\r\n        } catch (Exception e) {\r\n            Log.e(&quot;dwFile&quot;, e.toString());\r\n            Log.e(&quot;dwFile&quot;, ftpClient.getReplyString());\r\n        } return false;\r\n    }\r\n\r\nI call this function like this:\r\n\r\n    FTPSClient dwClient = new FTPSClient();\r\n    dwClient.addProtocolCommandListener(\r\n        new PrintCommandListener(\r\n        new PrintWriter(new OutputStreamWriter(System.out, &quot;UTF-8&quot;)), true));\r\n    dwClient.setConnectTimeout(30 * 1000);\r\n    dwClient.connect(OmsSettingsFunctions.getFTPServer());\r\n    Log.i(&quot;dwDB&quot;, dwClient.getReplyString());\r\n    if (dwClient.login(FPTuser, FTPpass))  {\r\n        Log.i(&quot;dwDB&quot;, dwClient.getReplyString());\r\n        dwClient.enterLocalPassiveMode();\r\n        File dwFile = new File(externalPath + &quot;/Android/data/com.myapp/files/Documents/db.temp&quot;);\r\n        if(!downloadSingleFile(dwClient, &quot;/DBs/db.txt&quot;, dwFile)) {\r\n            Log.e(&quot;dwDB&quot;, &quot;Download could not finish (DB)&quot;);\r\n            Log.e(&quot;dwDB&quot;, dwClient.getReplyString());\r\n        }...\r\n\r\nBut I keep getting this error:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    I/System.out: 220-FileZilla Server version 0.9.41 beta\r\n    I/System.out: 220-written by Tim Kosse (Tim.Kosse@gmx.de)\r\n                  220 Please visit http://sourceforge.net/projects/filezilla/\r\n    I/System.out: AUTH TLS\r\n    D/EGL_emulation: eglMakeCurrent: 0xa209dd60: ver 3 0 (tinfo 0x9f652ff0)\r\n    D/EGL_emulation: eglMakeCurrent: 0xa209dd60: ver 3 0 (tinfo 0x9f652ff0)\r\n    I/System.out: 234 Using authentication type TLS\r\n    I/dwDB: 234 Using authentication type TLS\r\n    I/Permission: Readingpermission is granted\r\n    I/Permission: Writingpermission is granted\r\n    I/System.out: USER *******\r\n    I/System.out: 331 Password required for omstest\r\n    I/System.out: PASS *******\r\n    I/System.out: 230 Logged on\r\n    I/dwDB: 230 Logged on\r\n    I/t1: /DBs/db.txt - /storage/0FF0-280B/Android/data/com.myapp/files/Documents/db.temp\r\n    I/System.out: TYPE I\r\n    I/System.out: 200 Type set to I\r\n    I/System.out: PASV\r\n    I/System.out: 227 Entering Passive Mode (127,0,0,1,199,113)\r\n    E/dwFile: java.net.ConnectException: Connection refused\r\n              227 Entering Passive Mode (127,0,0,1,199,113)\r\n    E/dwDB: Download could not finish (DB)\r\n            227 Entering Passive Mode (127,0,0,1,199,113)\r\n\r\nI already tried to use `enterLocalActivemode()` instead of `enterLocalPassivmode()` but it didn&#39;t help. The FTP server is TLS enforcing and running on my local machine. I am connecting to it through 10.0.2.2 (Android loopback). How can I fix this?\r\n\r\n","title":"Error &quot;227 Entering Passive Mode&quot;/&quot;Connection refused&quot; when downloading from local FTP server in Android emulator","body":"<p>I am trying to download a file from my local FileZilla Server with Java <code>FTPSClient</code> running in Android emulator.</p>\n\n<p>I've written this helpercode to download one File:</p>\n\n<pre><code>public boolean downloadSingleFile(FTPSClient ftpClient,\n                                  String remoteFilePath, File downloadFile) {\n    OutputStream outputStream;\n    Log.i(\"t1\", remoteFilePath + \" - \" + downloadFile.getAbsolutePath());\n    try {\n        outputStream = new BufferedOutputStream(new FileOutputStream(\n                downloadFile));\n        ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\n        boolean retval = ftpClient.retrieveFile(remoteFilePath, outputStream);\n        outputStream.flush();\n        return retval;\n    } catch (Exception e) {\n        Log.e(\"dwFile\", e.toString());\n        Log.e(\"dwFile\", ftpClient.getReplyString());\n    } return false;\n}\n</code></pre>\n\n<p>I call this function like this:</p>\n\n<pre><code>FTPSClient dwClient = new FTPSClient();\ndwClient.addProtocolCommandListener(\n    new PrintCommandListener(\n    new PrintWriter(new OutputStreamWriter(System.out, \"UTF-8\")), true));\ndwClient.setConnectTimeout(30 * 1000);\ndwClient.connect(OmsSettingsFunctions.getFTPServer());\nLog.i(\"dwDB\", dwClient.getReplyString());\nif (dwClient.login(FPTuser, FTPpass))  {\n    Log.i(\"dwDB\", dwClient.getReplyString());\n    dwClient.enterLocalPassiveMode();\n    File dwFile = new File(externalPath + \"/Android/data/com.myapp/files/Documents/db.temp\");\n    if(!downloadSingleFile(dwClient, \"/DBs/db.txt\", dwFile)) {\n        Log.e(\"dwDB\", \"Download could not finish (DB)\");\n        Log.e(\"dwDB\", dwClient.getReplyString());\n    }...\n</code></pre>\n\n<p>But I keep getting this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>I/System.out: 220-FileZilla Server version 0.9.41 beta\nI/System.out: 220-written by Tim Kosse (Tim.Kosse@gmx.de)\n              220 Please visit http://sourceforge.net/projects/filezilla/\nI/System.out: AUTH TLS\nD/EGL_emulation: eglMakeCurrent: 0xa209dd60: ver 3 0 (tinfo 0x9f652ff0)\nD/EGL_emulation: eglMakeCurrent: 0xa209dd60: ver 3 0 (tinfo 0x9f652ff0)\nI/System.out: 234 Using authentication type TLS\nI/dwDB: 234 Using authentication type TLS\nI/Permission: Readingpermission is granted\nI/Permission: Writingpermission is granted\nI/System.out: USER *******\nI/System.out: 331 Password required for omstest\nI/System.out: PASS *******\nI/System.out: 230 Logged on\nI/dwDB: 230 Logged on\nI/t1: /DBs/db.txt - /storage/0FF0-280B/Android/data/com.myapp/files/Documents/db.temp\nI/System.out: TYPE I\nI/System.out: 200 Type set to I\nI/System.out: PASV\nI/System.out: 227 Entering Passive Mode (127,0,0,1,199,113)\nE/dwFile: java.net.ConnectException: Connection refused\n          227 Entering Passive Mode (127,0,0,1,199,113)\nE/dwDB: Download could not finish (DB)\n        227 Entering Passive Mode (127,0,0,1,199,113)\n</code></pre>\n\n<p>I already tried to use <code>enterLocalActivemode()</code> instead of <code>enterLocalPassivmode()</code> but it didn't help. The FTP server is TLS enforcing and running on my local machine. I am connecting to it through 10.0.2.2 (Android loopback). How can I fix this?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":0,"creation_date":1287617868,"post_id":3983135,"comment_id":4262315,"body_markdown":"You have a TEAM table, yes?  Were you able to get anything to work before you added the @oneToMany?","body":"You have a TEAM table, yes?  Were you able to get anything to work before you added the @oneToMany?"}],"answers":[{"tags":[],"owner":{"account_id":223273,"reputation":1463,"user_id":482368,"accept_rate":33,"display_name":"user482368"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1518789900,"creation_date":1287708766,"answer_id":3993130,"question_id":3983135,"body_markdown":"I figured out the problem: I was not adding class Team to the Hibernate `AnnotationConfiguration` object. Thus, Hibernate was not recognizing the class. ","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>I figured out the problem: I was not adding class Team to the Hibernate <code>AnnotationConfiguration</code> object. Thus, Hibernate was not recognizing the class. </p>\n"},{"tags":[],"owner":{"account_id":2207039,"reputation":81,"user_id":2623603,"display_name":"TomKim"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1518789858,"creation_date":1383895427,"answer_id":19853638,"question_id":3983135,"body_markdown":"Another solution: Check to ensure that the referenced class is included your `hibernate.cfg.xml` file.","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>Another solution: Check to ensure that the referenced class is included your <code>hibernate.cfg.xml</code> file.</p>\n"},{"tags":[],"owner":{"account_id":2700381,"reputation":1167,"user_id":2331225,"accept_rate":75,"display_name":"Dhaval D"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1395990404,"creation_date":1395990404,"answer_id":22706340,"question_id":3983135,"body_markdown":"Along with entry in hibernate.cfg.xml, you&#39;ll need `@Entity` annotation on referenced class.","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>Along with entry in hibernate.cfg.xml, you'll need <code>@Entity</code> annotation on referenced class.</p>\n"},{"tags":[],"owner":{"account_id":4263496,"reputation":1,"user_id":3487222,"display_name":"user3487222"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396397015,"creation_date":1396395123,"answer_id":22798872,"question_id":3983135,"body_markdown":"Try to add the Qualified Name (ClassNAME), just like this:\r\n    \r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory name=&quot;java:/hibernate/SessionFactory&quot;&gt;\r\n                      &lt;mapping class=&quot;co.com.paq.ClassNAME&quot; /&gt;\r\n            &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n    \r\n    \r\nIn the File:\r\n\r\n    META-INF/hibernate.cfg.xml\r\n\r\n","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>Try to add the Qualified Name (ClassNAME), just like this:</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n    &lt;session-factory name=\"java:/hibernate/SessionFactory\"&gt;\n                  &lt;mapping class=\"co.com.paq.ClassNAME\" /&gt;\n        &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>In the File:</p>\n\n<pre><code>META-INF/hibernate.cfg.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3595426,"reputation":1163,"user_id":3000316,"accept_rate":33,"display_name":"Monkey Supersonic"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489141000,"creation_date":1489141000,"answer_id":42715848,"question_id":3983135,"body_markdown":"I work in a project using Spring and Hibernate 4 and I found out that we do *not* have a `hibernate.cfg.xml` file. Instead, our beans are listed in the file `applicationContext.xml` which looks a bit like\r\n\r\n\t&lt;bean id=&quot;sessionFactory&quot;\r\n\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot;&gt;\r\n\t\t\t&lt;ref bean=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;annotatedClasses&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;com.package.Bean&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nAdding my bean to the list solved the problem. You can find some more information [here][1].\r\n\r\n\r\n  [1]: http://www.baeldung.com/hibernate-4-spring","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>I work in a project using Spring and Hibernate 4 and I found out that we do <em>not</em> have a <code>hibernate.cfg.xml</code> file. Instead, our beans are listed in the file <code>applicationContext.xml</code> which looks a bit like</p>\n\n<pre><code>&lt;bean id=\"sessionFactory\"\nclass=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\"&gt;\n        &lt;ref bean=\"dataSource\" /&gt;\n    &lt;/property&gt;\n    &lt;property name=\"annotatedClasses\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.package.Bean&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Adding my bean to the list solved the problem. You can find some more information <a href=\"http://www.baeldung.com/hibernate-4-spring\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10481241,"reputation":48,"user_id":7726190,"display_name":"manjari.rastogi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518789836,"creation_date":1491498500,"answer_id":43261650,"question_id":3983135,"body_markdown":"Add the class in `hibernate.cfg` in proper order. First map the file that is going to be referred by another class","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>Add the class in <code>hibernate.cfg</code> in proper order. First map the file that is going to be referred by another class</p>\n"},{"tags":[],"owner":{"account_id":8168592,"reputation":173,"user_id":6149947,"display_name":"Yogesh Kumar Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529442487,"creation_date":1529442487,"answer_id":50936967,"question_id":3983135,"body_markdown":"I had the same problem and I was struggling with it from last couple of hours. I finally found out that the value in packageToscan property and the actual package name had case mismatch.\r\nThe package was in upper case(DAO) and the packageToscan had dao as its value. just wanted to add this in case some one find it help full","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>I had the same problem and I was struggling with it from last couple of hours. I finally found out that the value in packageToscan property and the actual package name had case mismatch.\nThe package was in upper case(DAO) and the packageToscan had dao as its value. just wanted to add this in case some one find it help full</p>\n"},{"tags":[],"owner":{"account_id":14925726,"reputation":49,"user_id":10776682,"display_name":"Den Dee"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1555228104,"creation_date":1555227298,"answer_id":55673008,"question_id":3983135,"body_markdown":"If you do not use the `hibernate.cfg.xml` you can add targetEntity parameter in `@ManyToOne/@OneToMany` annotation with class describing your entity. \r\n\r\nFor instance:\r\n\r\n    @ManyToOne(targetEntity = some.package.MyEntity.class)","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>If you do not use the <code>hibernate.cfg.xml</code> you can add targetEntity parameter in <code>@ManyToOne/@OneToMany</code> annotation with class describing your entity. </p>\n\n<p>For instance:</p>\n\n<pre><code>@ManyToOne(targetEntity = some.package.MyEntity.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1592301496,"creation_date":1592301496,"answer_id":62405833,"question_id":3983135,"body_markdown":"If you are using Spring Boot in combination with hibernate, then actually you may just need to add the package to your `@EntityScan` base package array.\r\n\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.domain.foo.bar.*&quot;})\r\n    @EnableJpaRepositories(basePackages ={&quot;com.domain.foo.bar.*&quot;})\r\n    @EntityScan(basePackages ={&quot;com.domain.foo.bar.*&quot;, &quot;com.domain.another.*&quot;})\r\n    public class SpringBootApplication extends SpringBootServletInitializer {\r\n    }\r\n","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>If you are using Spring Boot in combination with hibernate, then actually you may just need to add the package to your <code>@EntityScan</code> base package array.</p>\n\n<pre><code>@SpringBootApplication(scanBasePackages = {\"com.domain.foo.bar.*\"})\n@EnableJpaRepositories(basePackages ={\"com.domain.foo.bar.*\"})\n@EntityScan(basePackages ={\"com.domain.foo.bar.*\", \"com.domain.another.*\"})\npublic class SpringBootApplication extends SpringBootServletInitializer {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1431635,"reputation":5085,"user_id":1353930,"accept_rate":50,"display_name":"Daniel Alder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595000505,"creation_date":1595000505,"answer_id":62957368,"question_id":3983135,"body_markdown":"In my case it was `persistence.xml` which listed all entity classes except one...","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>In my case it was <code>persistence.xml</code> which listed all entity classes except one...</p>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22249,"user_id":5279996,"display_name":"Braian Coronel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1605555089,"creation_date":1601090019,"answer_id":64073493,"question_id":3983135,"body_markdown":"The `unknown entity` error is not a hibernate annotation problem, but rather that the entity is NOT being recognized. You should check your persistence settings, whether you are using pure JPA, Hibernate or Spring.\r\n\r\n&gt; By default, Hibernate is capable of finding the JPA entity classes\r\n&gt; based on the presence of the @Entity annotation, so you don&#39;t need to\r\n&gt; declare the entity classes.\r\n\r\nWith Spring you would have an `@Bean` similar to the following to make sure you don&#39;t have unknown entities in your package.\r\n\r\n    @Bean\r\n    open fun entityManagerFactory() : \r\n    LocalContainerEntityManagerFactoryBean {\r\n        val em = LocalContainerEntityManagerFactoryBean()\r\n        em.setPackagesToScan(&quot;com.package.domain.entity&quot;)\r\n\r\n        //...\r\n    }\r\n\r\nGL\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/60622264/5279996","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>The <code>unknown entity</code> error is not a hibernate annotation problem, but rather that the entity is NOT being recognized. You should check your persistence settings, whether you are using pure JPA, Hibernate or Spring.</p>\n<blockquote>\n<p>By default, Hibernate is capable of finding the JPA entity classes\nbased on the presence of the @Entity annotation, so you don't need to\ndeclare the entity classes.</p>\n</blockquote>\n<p>With Spring you would have an <code>@Bean</code> similar to the following to make sure you don't have unknown entities in your package.</p>\n<pre><code>@Bean\nopen fun entityManagerFactory() : \nLocalContainerEntityManagerFactoryBean {\n    val em = LocalContainerEntityManagerFactoryBean()\n    em.setPackagesToScan(&quot;com.package.domain.entity&quot;)\n\n    //...\n}\n</code></pre>\n<p>GL</p>\n<p><a href=\"https://stackoverflow.com/a/60622264/5279996\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":2473440,"reputation":4508,"user_id":2154661,"display_name":"Ronald Coarite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608265806,"creation_date":1608265806,"answer_id":65351822,"question_id":3983135,"body_markdown":"Add the Entity in **all** **persistence-units** of your persistence.xml\r\n\r\nExample\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence              http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n      &lt;persistence-unit name=&quot;SystemDataBaseDS&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;jta-data-source&gt;java:jboss/datasources/SystemDataBaseDS&lt;/jta-data-source&gt;\r\n        &lt;class&gt;package.EntityClass&lt;/class&gt;\r\n        ...\r\n      &lt;/persistence-unit&gt;\r\n      &lt;persistence-unit name=&quot;SystemDataBaseJDBC&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;package.EntityClass&lt;/class&gt;\r\n        ...\r\n      &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\n","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>Add the Entity in <strong>all</strong> <strong>persistence-units</strong> of your persistence.xml</p>\n<p>Example</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence              http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n  &lt;persistence-unit name=&quot;SystemDataBaseDS&quot; transaction-type=&quot;JTA&quot;&gt;\n    &lt;jta-data-source&gt;java:jboss/datasources/SystemDataBaseDS&lt;/jta-data-source&gt;\n    &lt;class&gt;package.EntityClass&lt;/class&gt;\n    ...\n  &lt;/persistence-unit&gt;\n  &lt;persistence-unit name=&quot;SystemDataBaseJDBC&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n    &lt;class&gt;package.EntityClass&lt;/class&gt;\n    ...\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14709639,"reputation":966,"user_id":10623338,"display_name":"John Allison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627407799,"creation_date":1627407799,"answer_id":68549563,"question_id":3983135,"body_markdown":"In my case I had to look through all classes annotated with `@Configuration`. One of the classes defined an `EntityManagerFactory` bean as follows:\r\n```\r\n@Bean\r\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n\tLocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n\tem.setDataSource(dataSource());\r\n\tem.setPackagesToScan(&quot;com.mypackage.entities&quot;);\r\n    // omitted\r\n}\r\n```\r\nwhereas I put a new entity in the package `com.mypackage.components.user.persistence`.\r\nSo I had to update the last line of the `EntityManagerFactory` bean definition to:\r\n```\r\nem.setPackagesToScan(&quot;com.mypackage.entities&quot;, &quot;com.mypackage.components&quot;);\r\n```\r\nAlso, it won&#39;t hurt to look at the `@EnableJpaRepositories` annotation and check its `basePackages` attribute as well. It might well be the case that your new entity resides outside the packages listed in the attribute&#39;s value.","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>In my case I had to look through all classes annotated with <code>@Configuration</code>. One of the classes defined an <code>EntityManagerFactory</code> bean as follows:</p>\n<pre><code>@Bean\npublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n    LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n    em.setDataSource(dataSource());\n    em.setPackagesToScan(&quot;com.mypackage.entities&quot;);\n    // omitted\n}\n</code></pre>\n<p>whereas I put a new entity in the package <code>com.mypackage.components.user.persistence</code>.\nSo I had to update the last line of the <code>EntityManagerFactory</code> bean definition to:</p>\n<pre><code>em.setPackagesToScan(&quot;com.mypackage.entities&quot;, &quot;com.mypackage.components&quot;);\n</code></pre>\n<p>Also, it won't hurt to look at the <code>@EnableJpaRepositories</code> annotation and check its <code>basePackages</code> attribute as well. It might well be the case that your new entity resides outside the packages listed in the attribute's value.</p>\n"},{"tags":[],"owner":{"account_id":22543604,"reputation":1,"user_id":16733880,"display_name":"barr77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634879000,"creation_date":1634879000,"answer_id":69671639,"question_id":3983135,"body_markdown":"I had this problem cz I didnt add &quot;SomeClass&quot; class with `addAnnotaitedClass(SomeClass.class)` to `SessionFactory factory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).`\r\n","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>I had this problem cz I didnt add &quot;SomeClass&quot; class with <code>addAnnotaitedClass(SomeClass.class)</code> to <code>SessionFactory factory = new Configuration().configure(&quot;hibernate.cfg.xml&quot;).</code></p>\n"}],"owner":{"account_id":223273,"reputation":1463,"user_id":482368,"accept_rate":33,"display_name":"user482368"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104277,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":3993130,"answer_count":14,"score":53,"last_activity_date":1634879000,"creation_date":1287617512,"question_id":3983135,"body_markdown":"I am receiving the following Hibernate Exception:\r\n\r\n`@OneToOne or @ManyToOne on Matchup.awayTeam references an unknown entity: Team`\r\n\r\nThe simplified Matchup class looks like this:\r\n\r\n    @Entity public class Matchup implements Serializable \r\n    {\r\n       protected Team awayTeam;\r\n    \r\n       @ManyToOne \r\n       @JoinColumn(name=&quot;away_team_id&quot;)\r\n       public Team getAwayTeam() {\r\n          return awayTeam;\r\n       }\r\n    }\r\n\r\nThe simplified Team class looks like this:\r\n\r\n    @Entity\r\n    public class Team implements Serializable {\r\n        protected List&lt;Matchup&gt; matchups;\r\n      \r\n        @OneToMany(mappedBy=&quot;awayTeam&quot;, targetEntity = Matchup.class,\r\n        fetch=FetchType.EAGER, cascade=CascadeType.ALL)\r\n        public List&lt;Matchup&gt; getMatchups() {\r\n           return matchups;\r\n        }\r\n    }\r\n\r\nNotes:\r\n\r\n - Both Matchup and Team have subclasses. I&#39;m not sure if this impacts the situation.\r\n - Both Matchup and Team are listed in my persistence.xml as being\r\n    included.\r\n - If I put @Transient annotations on both getter methods, the error\r\n    disappears.\r\n\r\nCan anybody shed light on why this exception is occurring?\r\n","title":"Hibernate @ManyToOne references an unknown entity","body":"<p>I am receiving the following Hibernate Exception:</p>\n\n<p><code>@OneToOne or @ManyToOne on Matchup.awayTeam references an unknown entity: Team</code></p>\n\n<p>The simplified Matchup class looks like this:</p>\n\n<pre><code>@Entity public class Matchup implements Serializable \n{\n   protected Team awayTeam;\n\n   @ManyToOne \n   @JoinColumn(name=\"away_team_id\")\n   public Team getAwayTeam() {\n      return awayTeam;\n   }\n}\n</code></pre>\n\n<p>The simplified Team class looks like this:</p>\n\n<pre><code>@Entity\npublic class Team implements Serializable {\n    protected List&lt;Matchup&gt; matchups;\n\n    @OneToMany(mappedBy=\"awayTeam\", targetEntity = Matchup.class,\n    fetch=FetchType.EAGER, cascade=CascadeType.ALL)\n    public List&lt;Matchup&gt; getMatchups() {\n       return matchups;\n    }\n}\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>Both Matchup and Team have subclasses. I'm not sure if this impacts the situation.</li>\n<li>Both Matchup and Team are listed in my persistence.xml as being\nincluded.</li>\n<li>If I put @Transient annotations on both getter methods, the error\ndisappears.</li>\n</ul>\n\n<p>Can anybody shed light on why this exception is occurring?</p>\n"},{"tags":["java","selenium","junit","automated-tests"],"comments":[{"owner":{"account_id":21885504,"reputation":15,"user_id":16173179,"display_name":"Edijs Bergs"},"score":0,"creation_date":1634812114,"post_id":69660249,"comment_id":123129091,"body_markdown":"And also i need to close it so that the test could continue.","body":"And also i need to close it so that the test could continue."},{"owner":{"account_id":21379802,"reputation":188,"user_id":15745910,"display_name":"Flav"},"score":0,"creation_date":1634812588,"post_id":69660249,"comment_id":123129268,"body_markdown":"Try to find it when opening your page, if it is there, select the close button and click it, if it is not displayed, juste resume your test.","body":"Try to find it when opening your page, if it is there, select the close button and click it, if it is not displayed, juste resume your test."},{"owner":{"account_id":5269973,"reputation":92,"user_id":4208564,"display_name":"op_"},"score":0,"creation_date":1634815728,"post_id":69660249,"comment_id":123130653,"body_markdown":"Have you seen this question? https://stackoverflow.com/questions/19403949/how-to-handle-pop-up-in-selenium-webdriver-using-java","body":"Have you seen this question? <a href=\"https://stackoverflow.com/questions/19403949/how-to-handle-pop-up-in-selenium-webdriver-using-java\" title=\"how to handle pop up in selenium webdriver using java\">stackoverflow.com/questions/19403949/&hellip;</a>"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1634823721,"post_id":69660249,"comment_id":123134425,"body_markdown":"`driver.findElement(By.className(&quot;mfp-close&quot;).click()`","body":"<code>driver.findElement(By.className(&quot;mfp-close&quot;).click()</code>"}],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634878425,"creation_date":1634878425,"answer_id":69671585,"question_id":69660249,"body_markdown":"You should do try catch function to identify, no inbuild methods in selenium,\r\n\r\nif it is there, it will close the pop up.\r\n\r\n    try{\r\n       driver.findElement(By.className(&quot;mfp-close&quot;)).click();\r\n    }catch (Exception ex){\r\n       system.out.println(&quot;pop is not displaying&quot;);\r\n    }","title":"How do you detect if this popup is displayed","body":"<p>You should do try catch function to identify, no inbuild methods in selenium,</p>\n<p>if it is there, it will close the pop up.</p>\n<pre><code>try{\n   driver.findElement(By.className(&quot;mfp-close&quot;)).click();\n}catch (Exception ex){\n   system.out.println(&quot;pop is not displaying&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":21885504,"reputation":15,"user_id":16173179,"display_name":"Edijs Bergs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634878425,"creation_date":1634812042,"question_id":69660249,"body_markdown":"I&#39;m using Selenium with Junit framework while testing a website &lt;https://fitnesaveikals.lv/&gt; I ran into a problem this popup shows up (the popup is a temporary thing the messaging could change and be replaced with marketing popups). Is there a way to check if this popup is there/visible? When manually testing the page the popup dialog shows up once but when testing while using lambdatest it shows up in every test time meaning the tests fail. [![this is the popup that shows up][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QYGv1.png","title":"How do you detect if this popup is displayed","body":"<p>I'm using Selenium with Junit framework while testing a website <a href=\"https://fitnesaveikals.lv/\" rel=\"nofollow noreferrer\">https://fitnesaveikals.lv/</a> I ran into a problem this popup shows up (the popup is a temporary thing the messaging could change and be replaced with marketing popups). Is there a way to check if this popup is there/visible? When manually testing the page the popup dialog shows up once but when testing while using lambdatest it shows up in every test time meaning the tests fail. <a href=\"https://i.stack.imgur.com/QYGv1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QYGv1.png\" alt=\"this is the popup that shows up\" /></a></p>\n"},{"tags":["java","selenium","maven","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634878181,"creation_date":1634878181,"answer_id":69671561,"question_id":69665405,"body_markdown":"I hope this would be helpful, you should follow the migration guide\r\n\r\n[link][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48283866/difference-between-com-thoughtworks-selenium-and-org-seleniumhq-selenium","title":"Upgrading selenium 2.x.x to 4.0.0 in maven project and fixing errors","body":"<p>I hope this would be helpful, you should follow the migration guide</p>\n<p><a href=\"https://stackoverflow.com/questions/48283866/difference-between-com-thoughtworks-selenium-and-org-seleniumhq-selenium\">link</a></p>\n"}],"owner":{"account_id":16668822,"reputation":19,"user_id":12046824,"display_name":"user12046824"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634878181,"creation_date":1634832800,"question_id":69665405,"body_markdown":"I am struggling to fix the errors after upgrading selenium from version 2x to 4 in the maven project.\r\nCan someone please suggest to me steps and  how to resolve below error:\r\n\r\n&gt; error:package com.thoughtworks.selenium.webdriven does not exist\r\n","title":"Upgrading selenium 2.x.x to 4.0.0 in maven project and fixing errors","body":"<p>I am struggling to fix the errors after upgrading selenium from version 2x to 4 in the maven project.\nCan someone please suggest to me steps and  how to resolve below error:</p>\n<blockquote>\n<p>error:package com.thoughtworks.selenium.webdriven does not exist</p>\n</blockquote>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634836471,"creation_date":1634836471,"answer_id":69666184,"question_id":69666100,"body_markdown":"I&#39;ve personally come across this issue quite a few times, that Selenium `.clear()` method does not work properly. \r\n\r\nSelenium community is aware of this issue, please see the bug reported [here - ClearText does not work][1]\r\n\r\nYou can go through the above-mentioned link. \r\n\r\n**Workaround :**\r\n\r\n\r\nMajority of time, I try to simulate `Ctrl + A` to `select the text` and just press **delete** after that. \r\n\r\n\r\nIf You are using Java as a binding language, You can do the following \r\n\r\n    webElement.sendKeys(Keys.CONTROL + &quot;a&quot;)\r\n    webElement.sendKeys(Keys.DELETE)\r\n\r\n\r\n  [1]: https://github.com/SeleniumHQ/selenium/issues/6741","title":"Selenium Java clear method will not clear the input field?","body":"<p>I've personally come across this issue quite a few times, that Selenium <code>.clear()</code> method does not work properly.</p>\n<p>Selenium community is aware of this issue, please see the bug reported <a href=\"https://github.com/SeleniumHQ/selenium/issues/6741\" rel=\"nofollow noreferrer\">here - ClearText does not work</a></p>\n<p>You can go through the above-mentioned link.</p>\n<p><strong>Workaround :</strong></p>\n<p>Majority of time, I try to simulate <code>Ctrl + A</code> to <code>select the text</code> and just press <strong>delete</strong> after that.</p>\n<p>If You are using Java as a binding language, You can do the following</p>\n<pre><code>webElement.sendKeys(Keys.CONTROL + &quot;a&quot;)\nwebElement.sendKeys(Keys.DELETE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7425752,"reputation":32,"user_id":5648278,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634869991,"creation_date":1634869991,"answer_id":69670769,"question_id":69666100,"body_markdown":"have you tried JavaScriptExecutor?\r\n\r\n    JavascriptExecutor jse = (JavascriptExecutor) indexWebDriver;\r\n    jse.executeScript(&quot;arguments[0].value=&#39;&#39;&quot;,edit);\r\n\r\ncheck this one also\r\n\r\nhttps://stackoverflow.com/questions/11251916/how-can-i-consistently-remove-the-default-text-from-an-input-element-with-seleni","title":"Selenium Java clear method will not clear the input field?","body":"<p>have you tried JavaScriptExecutor?</p>\n<pre><code>JavascriptExecutor jse = (JavascriptExecutor) indexWebDriver;\njse.executeScript(&quot;arguments[0].value=''&quot;,edit);\n</code></pre>\n<p>check this one also</p>\n<p><a href=\"https://stackoverflow.com/questions/11251916/how-can-i-consistently-remove-the-default-text-from-an-input-element-with-seleni\">How can I consistently remove the default text from an input element with Selenium?</a></p>\n"},{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634878003,"creation_date":1634878003,"answer_id":69671545,"question_id":69666100,"body_markdown":"Can you please try this work around, passing both selecting and deleting keywords in one command\r\n\r\n    driver.findElement(By.name(&quot;username&quot;)).sendKeys(Keys.chord(Keys.CONTROL,&quot;a&quot;, Keys.DELETE));","title":"Selenium Java clear method will not clear the input field?","body":"<p>Can you please try this work around, passing both selecting and deleting keywords in one command</p>\n<pre><code>driver.findElement(By.name(&quot;username&quot;)).sendKeys(Keys.chord(Keys.CONTROL,&quot;a&quot;, Keys.DELETE));\n</code></pre>\n"}],"owner":{"account_id":17969653,"reputation":13,"user_id":13585418,"display_name":"Johan Lindstrom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3821,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69666184,"answer_count":3,"score":1,"last_activity_date":1634878003,"creation_date":1634836009,"question_id":69666100,"body_markdown":"I ran into a little issue today while validating some input fields in our application.\r\nLooks like we can&#39;t call the selenium java method `clear()` to clear the input and I know I can iterate over the string and use `sendKeys(Keys.Backspace)` but `clear` method should do the work? \r\n\r\nAnyone else ran into the same issue and how did you work around this problem.?\r\n\r\nOur app is built upon Ant libraries \r\n\r\nSelenium\r\n\r\n    String hotmarketNameEdit = &quot;ant-input&quot;;\r\n\r\n        WebElement edit = driver.findElement(By.className(hotmarketNameEdit));\r\n        edit.click();\r\n        edit.clear();\r\n\r\nHTML\r\n \r\n    &lt;input type=&quot;text&quot; id=&quot;label&quot; class=&quot;ant-input ant-input-sm&quot; value=&quot;AUTOMATION TEST - Thu Oct 21 09:54:15 MDT 2021&quot; xpath=&quot;1&quot;&gt;\r\n\r\nThanks for any inputs","title":"Selenium Java clear method will not clear the input field?","body":"<p>I ran into a little issue today while validating some input fields in our application.\nLooks like we can't call the selenium java method <code>clear()</code> to clear the input and I know I can iterate over the string and use <code>sendKeys(Keys.Backspace)</code> but <code>clear</code> method should do the work?</p>\n<p>Anyone else ran into the same issue and how did you work around this problem.?</p>\n<p>Our app is built upon Ant libraries</p>\n<p>Selenium</p>\n<pre><code>String hotmarketNameEdit = &quot;ant-input&quot;;\n\n    WebElement edit = driver.findElement(By.className(hotmarketNameEdit));\n    edit.click();\n    edit.clear();\n</code></pre>\n<p>HTML</p>\n<pre><code>&lt;input type=&quot;text&quot; id=&quot;label&quot; class=&quot;ant-input ant-input-sm&quot; value=&quot;AUTOMATION TEST - Thu Oct 21 09:54:15 MDT 2021&quot; xpath=&quot;1&quot;&gt;\n</code></pre>\n<p>Thanks for any inputs</p>\n"},{"tags":["java","conditional-operator"],"comments":[{"owner":{"display_name":"user17201277"},"score":0,"creation_date":1634876685,"post_id":69671393,"comment_id":123149280,"body_markdown":"`if (x == &#39;a&#39;) m = &#39;A&#39;; else m = &#39;a&#39;;`","body":"<code>if (x == &#39;a&#39;) m = &#39;A&#39;; else m = &#39;a&#39;;</code>"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1634876831,"post_id":69671393,"comment_id":123149313,"body_markdown":"Start by using compilable code.","body":"Start by using compilable code."},{"owner":{"account_id":7300708,"reputation":161,"user_id":5563585,"display_name":"Noor Khan"},"score":0,"creation_date":1634877818,"post_id":69671393,"comment_id":123149507,"body_markdown":"here m is int type how &#39;A&#39; or &#39;a&#39; can be assigned to m.","body":"here m is int type how &#39;A&#39; or &#39;a&#39; can be assigned to m."},{"owner":{"account_id":22417177,"reputation":129,"user_id":16625057,"display_name":"Akash R"},"score":0,"creation_date":1634883007,"post_id":69671393,"comment_id":123150566,"body_markdown":"@NoorKhan Java allows auto-casting from a smaller to a higher type. So, when a char is assigned to int , the int variable will hold the ascii value of the char.\n\nFor Example : int x = &#39;a&#39;;\nwhen you print this, the ascii value of &#39;a&#39; (97) gets printed.\n\nFor more explanation : refer https://www.geeksforgeeks.org/type-conversion-java-examples/","body":"@NoorKhan Java allows auto-casting from a smaller to a higher type. So, when a char is assigned to int , the int variable will hold the ascii value of the char.  For Example : int x = &#39;a&#39;; when you print this, the ascii value of &#39;a&#39; (97) gets printed.  For more explanation : refer <a href=\"https://www.geeksforgeeks.org/type-conversion-java-examples/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/type-conversion-java-examples</a>"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1634876680,"creation_date":1634876680,"answer_id":69671410,"question_id":69671393,"body_markdown":"The expression `(x == &#39;a&#39;) ? &#39;A&#39; : &#39;a&#39;` is called a _ternary_ expression.  Here is your code snippet using an `if-else` version:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    char x = &#39;a&#39;;\r\n    int m;\r\n\r\n    if (x == &#39;a&#39;) {\r\n        m = &#39;A&#39;;\r\n    }\r\n    else {\r\n        m = &#39;a&#39;;\r\n    }","title":"Convert the following snippet into if-else statement","body":"<p>The expression <code>(x == 'a') ? 'A' : 'a'</code> is called a <em>ternary</em> expression.  Here is your code snippet using an <code>if-else</code> version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char x = 'a';\nint m;\n\nif (x == 'a') {\n    m = 'A';\n}\nelse {\n    m = 'a';\n}\n</code></pre>\n"}],"owner":{"account_id":23108244,"reputation":19,"user_id":17216521,"display_name":"Devansh Thakkar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1634877595,"creation_date":1634876487,"question_id":69671393,"body_markdown":"How to convert this code snippet into if-else? Please help.\r\n\r\n```\r\nchar x = ‘a’; int m; \r\nm = (x==’a’) ? ‘A’ : ‘a’;","title":"Convert the following snippet into if-else statement","body":"<p>How to convert this code snippet into if-else? Please help.</p>\n<pre><code>char x = ‘a’; int m; \nm = (x==’a’) ? ‘A’ : ‘a’;\n</code></pre>\n"},{"tags":["java","tomcat","servlets"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634878049,"post_id":69671502,"comment_id":123149545,"body_markdown":"Which directory is this deployed to ?","body":"Which directory is this deployed to ?"},{"owner":{"account_id":10219445,"reputation":61,"user_id":7544042,"display_name":"rakesh patel"},"score":0,"creation_date":1634878518,"post_id":69671502,"comment_id":123149618,"body_markdown":"ant -f C:\\\\Users\\\\HP\\\\Documents\\\\NetBeansProjects\\\\WebApplication1 -Dnb.internal.action.name=run -Ddirectory.deployment.supported=true -DforceRedeploy=false -Dbrowser.context=C:\\\\Users\\\\HP\\\\Documents\\\\NetBeansProjects\\\\WebApplication1 run","body":"ant -f C:\\\\Users\\\\HP\\\\Documents\\\\NetBeansProjects\\\\WebApplication1 -Dnb.internal.action.name=run -Ddirectory.deployment.supported=true -DforceRedeploy=false -Dbrowser.context=C:\\\\Users\\\\HP\\\\Documents\\\\NetBeansProjects&zwnj;&#8203;\\\\WebApplication1 run"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634878866,"post_id":69671502,"comment_id":123149696,"body_markdown":"what I was trying to get at is, has this class been deployed correctly to tomcat?","body":"what I was trying to get at is, has this class been deployed correctly to tomcat?"},{"owner":{"account_id":10219445,"reputation":61,"user_id":7544042,"display_name":"rakesh patel"},"score":0,"creation_date":1634879009,"post_id":69671502,"comment_id":123149729,"body_markdown":"When deploy the project http://localhost:9494/WebApp/   page execute successfully on server but when I put &#39;/web&#39; then this error comes up.","body":"When deploy the project <a href=\"http://localhost:9494/WebApp/\" rel=\"nofollow noreferrer\">localhost:9494/WebApp</a>   page execute successfully on server but when I put &#39;/web&#39; then this error comes up."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634879180,"post_id":69671502,"comment_id":123149775,"body_markdown":"*has this class been deployed correctly to tomcat?* - under tomcat there is a folder called webapps - below this folder, where is Myclass.class ?","body":"<i>has this class been deployed correctly to tomcat?</i> - under tomcat there is a folder called webapps - below this folder, where is Myclass.class ?"},{"owner":{"account_id":10219445,"reputation":61,"user_id":7544042,"display_name":"rakesh patel"},"score":0,"creation_date":1634879985,"post_id":69671502,"comment_id":123149931,"body_markdown":"I don&#39;t have Myclass.class  file under tomcat web apps folder","body":"I don&#39;t have Myclass.class  file under tomcat web apps folder"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1634880258,"post_id":69671502,"comment_id":123149986,"body_markdown":"Study how to properly deploy to Tomcat","body":"Study how to properly deploy to Tomcat"},{"owner":{"account_id":10219445,"reputation":61,"user_id":7544042,"display_name":"rakesh patel"},"score":0,"creation_date":1635060244,"post_id":69671502,"comment_id":123190400,"body_markdown":"finally my error is solved thank you","body":"finally my error is solved thank you"}],"owner":{"account_id":10219445,"reputation":61,"user_id":7544042,"display_name":"rakesh patel"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634877566,"creation_date":1634877566,"question_id":69671502,"body_markdown":"plz help me I am unable to find solution for this problem\r\n```\r\n// Servlet class\r\npackage com.pkg;\r\nimport java.io.IOException;\r\nimport javax.servlet.*;\r\npublic class Myclass implements Servlet{\r\n\r\n    @Override\r\n    public void init(ServletConfig config) throws ServletException {\r\n        System.out.println(&quot;init method&quot;);\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n    }\r\n\r\n    @Override\r\n    public ServletConfig getServletConfig() {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n    }\r\n\r\n    @Override\r\n    public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n    }\r\n\r\n    @Override\r\n    public String getServletInfo() {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n    }\r\n    \r\n}\r\n\r\n```\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n\t version=&quot;3.1&quot;&gt;\r\n   &lt;servlet&gt;\r\n        &lt;servlet-name&gt;home&lt;/servlet-name&gt;        \r\n        &lt;servlet-class&gt;com.pkg.Myclass&lt;/servlet-class&gt;\r\n   &lt;/servlet&gt;\r\n   \r\n   &lt;servlet-mapping&gt;\r\n       &lt;servlet-name&gt;home&lt;/servlet-name&gt;\r\n       &lt;url-pattern&gt;/web&lt;/url-pattern&gt;\r\n   &lt;/servlet-mapping&gt;\r\n   \r\n    &lt;session-config&gt;\r\n        &lt;session-timeout&gt;\r\n            30\r\n        &lt;/session-timeout&gt;\r\n    &lt;/session-config&gt;\r\n&lt;/web-app&gt;\r\n\r\n```\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njavax.servlet.ServletException: Error instantiating servlet class [com.pkg.Myclass]\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:832)\r\n\r\nRoot Cause\r\n\r\njava.lang.RuntimeException: \r\n\tcom.pkg.Myclass.&lt;init&gt;(Myclass.java:1)\r\n\tjava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tjava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\r\n\tjava.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tjava.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tjava.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:832)\r\n","title":"Message Error instantiating servlet class [com.pkg.Myclass]","body":"<p>plz help me I am unable to find solution for this problem</p>\n<pre><code>// Servlet class\npackage com.pkg;\nimport java.io.IOException;\nimport javax.servlet.*;\npublic class Myclass implements Servlet{\n\n    @Override\n    public void init(ServletConfig config) throws ServletException {\n        System.out.println(&quot;init method&quot;);\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\n    }\n\n    @Override\n    public ServletConfig getServletConfig() {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\n    }\n\n    @Override\n    public void service(ServletRequest req, ServletResponse res) throws ServletException, IOException {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\n    }\n\n    @Override\n    public String getServletInfo() {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\n    }\n\n    @Override\n    public void destroy() {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\n    }\n    \n}\n\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n     version=&quot;3.1&quot;&gt;\n   &lt;servlet&gt;\n        &lt;servlet-name&gt;home&lt;/servlet-name&gt;        \n        &lt;servlet-class&gt;com.pkg.Myclass&lt;/servlet-class&gt;\n   &lt;/servlet&gt;\n   \n   &lt;servlet-mapping&gt;\n       &lt;servlet-name&gt;home&lt;/servlet-name&gt;\n       &lt;url-pattern&gt;/web&lt;/url-pattern&gt;\n   &lt;/servlet-mapping&gt;\n   \n    &lt;session-config&gt;\n        &lt;session-timeout&gt;\n            30\n        &lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n&lt;/web-app&gt;\n\n</code></pre>\n<p>Description The server encountered an unexpected condition that prevented it from fulfilling the request.</p>\n<p>Exception</p>\n<p>javax.servlet.ServletException: Error instantiating servlet class [com.pkg.Myclass]\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\norg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\norg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\norg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\norg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\norg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\norg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\norg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.base/java.lang.Thread.run(Thread.java:832)</p>\n<p>Root Cause</p>\n<p>java.lang.RuntimeException:\ncom.pkg.Myclass.(Myclass.java:1)\njava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\njava.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\njava.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\njava.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\njava.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\norg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\norg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\norg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\norg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\norg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\norg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\norg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.base/java.lang.Thread.run(Thread.java:832)</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":1045939,"reputation":1847,"user_id":1050927,"accept_rate":74,"display_name":"Prisoner"},"score":0,"creation_date":1485309887,"post_id":41842173,"comment_id":70869435,"body_markdown":"Have you check the `sheetData`? Based on your result, it should not relevant to `rows.hasNext` or `cells.hasNext`, if it return false, your will not have row 4 in the result set","body":"Have you check the <code>sheetData</code>? Based on your result, it should not relevant to <code>rows.hasNext</code> or <code>cells.hasNext</code>, if it return false, your will not have row 4 in the result set"},{"owner":{"account_id":9664503,"reputation":225,"user_id":7171394,"display_name":"Martin Rupert Bulquerin"},"score":0,"creation_date":1485310537,"post_id":41842173,"comment_id":70869586,"body_markdown":"Oh.. I tried putting &lt;space&gt; on the empty cells and it reads accordingly. But with empty or blank cells, it skipping the blank cells.. I really don&#39;t know what&#39;s the issue on my code.. can&#39;t find any solutions.","body":"Oh.. I tried putting &lt;space&gt; on the empty cells and it reads accordingly. But with empty or blank cells, it skipping the blank cells.. I really don&#39;t know what&#39;s the issue on my code.. can&#39;t find any solutions."},{"owner":{"account_id":1045939,"reputation":1847,"user_id":1050927,"accept_rate":74,"display_name":"Prisoner"},"score":0,"creation_date":1485312366,"post_id":41842173,"comment_id":70869990,"body_markdown":"So have you check the `sheetData` in debugger? or check `data.size()` before `sheetData.add(data)`","body":"So have you check the <code>sheetData</code> in debugger? or check <code>data.size()</code> before <code>sheetData.add(data)</code>"},{"owner":{"account_id":9664503,"reputation":225,"user_id":7171394,"display_name":"Martin Rupert Bulquerin"},"score":0,"creation_date":1485315013,"post_id":41842173,"comment_id":70870648,"body_markdown":"I&#39;ve printed the `data.size()` and it skips the blanks cells.. :(","body":"I&#39;ve printed the <code>data.size()</code> and it skips the blanks cells.. :("},{"owner":{"account_id":1045939,"reputation":1847,"user_id":1050927,"accept_rate":74,"display_name":"Prisoner"},"score":0,"creation_date":1485317510,"post_id":41842173,"comment_id":70871218,"body_markdown":"This may help: http://stackoverflow.com/questions/14734519/apache-poi-celliterator-skips-blank-cells-but-not-in-first-row","body":"This may help: <a href=\"http://stackoverflow.com/questions/14734519/apache-poi-celliterator-skips-blank-cells-but-not-in-first-row\" title=\"apache poi celliterator skips blank cells but not in first row\">stackoverflow.com/questions/14734519/&hellip;</a>"},{"owner":{"account_id":9664503,"reputation":225,"user_id":7171394,"display_name":"Martin Rupert Bulquerin"},"score":0,"creation_date":1485330723,"post_id":41842173,"comment_id":70876305,"body_markdown":"I tried the code in the link above exactly and I got this error.. `java.lang.String cannot be cast to java.util.List`","body":"I tried the code in the link above exactly and I got this error.. <code>java.lang.String cannot be cast to java.util.List</code>"}],"answers":[{"tags":[],"owner":{"account_id":2020953,"reputation":36,"user_id":1807135,"display_name":"saintmeh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634877066,"creation_date":1485310394,"answer_id":41842313,"question_id":41842173,"body_markdown":"That&#39;s pretty cool code so far!\r\n\r\nJust a wild guess:  I bet that when you get the &quot;sheet.rowIterator()&quot; you lose your nulls.  This would make sense b/c &quot;Iterators&quot; often ignore empty values.\r\n\r\nSo... if that&#39;s the case... how do you fix it?  \r\n\r\nPerhaps this will work:\r\n\r\nafter you define &quot;sheet&quot; try doing something like \r\n\r\n    for(int i = 0; i&lt;sheet.getLastRowNum(); i++){\r\n      XSSFRow row = ((XSSFRow) sheet.getRow(i));\r\n      for(int j = 0; j&lt;row.getLastCellNum(); j++){\r\n        if(row!=null &amp;&amp; row.getCell(j) != null ){\r\n          String val = row.getCell(j).getStringCellValue();\r\n          if(val.isEmpty()){\r\n            System.out.println(&quot;empty&quot; );\r\n          }\r\n          else{\r\n            System.out.println(val);\r\n          }\r\n        }\r\n        else{\r\n          System.out.println(&quot;blank cell&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n;)  happy coding!\r\n\r\n","title":"Reading Excel file in java doesn&#39;t read or count blank cell as null","body":"<p>That's pretty cool code so far!</p>\n<p>Just a wild guess:  I bet that when you get the &quot;sheet.rowIterator()&quot; you lose your nulls.  This would make sense b/c &quot;Iterators&quot; often ignore empty values.</p>\n<p>So... if that's the case... how do you fix it?</p>\n<p>Perhaps this will work:</p>\n<p>after you define &quot;sheet&quot; try doing something like</p>\n<pre><code>for(int i = 0; i&lt;sheet.getLastRowNum(); i++){\n  XSSFRow row = ((XSSFRow) sheet.getRow(i));\n  for(int j = 0; j&lt;row.getLastCellNum(); j++){\n    if(row!=null &amp;&amp; row.getCell(j) != null ){\n      String val = row.getCell(j).getStringCellValue();\n      if(val.isEmpty()){\n        System.out.println(&quot;empty&quot; );\n      }\n      else{\n        System.out.println(val);\n      }\n    }\n    else{\n      System.out.println(&quot;blank cell&quot;);\n    }\n  }\n}\n</code></pre>\n<p>;)  happy coding!</p>\n"}],"owner":{"account_id":9664503,"reputation":225,"user_id":7171394,"display_name":"Martin Rupert Bulquerin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4017,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1485322184,"answer_count":1,"score":0,"last_activity_date":1634877066,"creation_date":1485309351,"question_id":41842173,"body_markdown":"I&#39;m having an issue on my excel reader in java. It doesn&#39;t read empty or blank cells and skipping to the next cell that has a value.\r\n\r\nexample..\r\n\r\n    header1 | header2 | header3 | header4\r\n    row1    |         | row3    | row4\r\n    row1    | row2    |         | row4\r\n            | row2    | row3    | \r\n\r\nresults:\r\n\r\n    header1 | header2 | header3 | header4\r\n    row1    | row3    | row4    | \r\n    row1    | row2    | row4    | \r\n    row2    | row3    |         | \r\n\r\nexpected to happen:\r\n\r\n    header1 | header2 | header3 | header4\r\n    row1    | null    | row3    | row4\r\n    row1    | row2    | null    | row4\r\n    null    | row2    | row3    | null\r\n\r\n**null** or **&quot; &quot;** (empty string)\r\n\r\n\r\nHere&#39;s my code:\r\n\r\nmy **readXLSFile** method:\r\n\r\n    private boolean readXLSFile(String batchRunNbr, String filename) throws IOException, ParseException {\r\n    \t\t\r\n    \t\tList sheetData = new ArrayList();\r\n    \t\tFileInputStream fis = null;\r\n    \t\ttry {\r\n    \t\t\tif ((filename.endsWith(&quot;.xlsx&quot;)) || (filename.endsWith(&quot;.XLSX&quot;))) {\r\n    \t\t\t\tlog.info(&quot;Reading xlsx file...&quot;);\r\n    \t\t\t\tfis = new FileInputStream(filename);\r\n    \t\t\t} else{\r\n    \t\t\t\tthis.errorMessageTxt = this.errorMessageTxt+this.htmlNextLine+\r\n    \t\t\t\t\t\t&quot;Unable to process the file. Please save the file to the latest Excel *.xlsm or *.xlsx file.&quot;;\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\r\n    \t\t\tXSSFWorkbook workbook = new XSSFWorkbook(fis);\r\n    \t\t\tXSSFSheet sheet = workbook.getSheetAt(0);\r\n    \t\t\t\r\n    \t\t\tIterator&lt;Row&gt; rows = sheet.rowIterator();\r\n    \t\t\tint counter = 0;\r\n    \t\t\twhile (rows.hasNext()) {\r\n    \t\t\t\tcounter++;\r\n    \t\t\t\tXSSFRow row = ((XSSFRow) rows.next());\r\n    \t\t\t\tIterator&lt;Cell&gt; cells = row.cellIterator();\r\n    \t\r\n    \t\t\t\tList data = new ArrayList();\r\n    \t\t\t\twhile (cells.hasNext()) {\r\n    \t\t\t\t\tCell cell = (XSSFCell) cells.next();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tdata.add(cell);\r\n    \t\t\t\t}\r\n    \t\t\t\tsheetData.add(data);\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tthis.errorMessageTxt = this.errorMessageTxt+this.htmlNextLine+\r\n    \t\t\t\t\te.getMessage()+this.htmlNextLine+e.getCause();\r\n    \t\t\treturn true; //There is an error, return true.\r\n    \t\t} finally {\r\n    \t\t\tif (fis != null) {\r\n    \t\t\t\tfis.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\r\n    \t\tprocessExcelSheet(sheetData, batchRunNbr, filename);\r\n\r\nHere&#39;s my **processExcelSheeet** method:\r\n\r\n    private void processExcelSheet(List sheetData, String batchRunNbr, String inputFileName) {\r\n    \t\tDateFormat formatter;\r\n    \t\tformatter = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);\r\n    \t\tboolean firstTime = true;\r\n    \t\ttry {\r\n    \t\t\tfor (int i = 0; i &lt; sheetData.size(); i++) {\r\n    \t\t\t\tList list =  (List) sheetData.get(i);\r\n    \t\t\t\tif (firstTime) {\r\n    \t\t\t\t\tfirstTime = false;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tfor (int ii = 0; ii &lt; list.size(); ii++) {\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tXSSFCell cell = (XSSFCell) list.get(ii);\r\n    \t\t\t\t\t\tswitchCase(formatter, ii, cell);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tinsertToStaging(batchRunNbr, inputFileName);//This method inserts the data to the database based on what it reads above.\r\n    \t\t\t\t}\r\n    \t\t\t\t//log.info(&quot;COMPLETED!&quot;);\r\n    \t\t\t}\r\n    \t\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.info(&quot;loadStagingTable Error:&quot; + e);\r\n    \t\t\t//this.errorMessageTxt = this.errorMessageTxt+this.htmlNextLine+\r\n    \t\t\t//\t\t&quot;Error Loading to KLTL Data Staging. &quot;+e.getMessage()+&quot;,&quot;+e.getCause();\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nI suspect that the problem is on the **row.hasNext**?\r\nPlease help.. Thank you so much. And if you need more details please do comment it below.","title":"Reading Excel file in java doesn&#39;t read or count blank cell as null","body":"<p>I'm having an issue on my excel reader in java. It doesn't read empty or blank cells and skipping to the next cell that has a value.</p>\n\n<p>example..</p>\n\n<pre><code>header1 | header2 | header3 | header4\nrow1    |         | row3    | row4\nrow1    | row2    |         | row4\n        | row2    | row3    | \n</code></pre>\n\n<p>results:</p>\n\n<pre><code>header1 | header2 | header3 | header4\nrow1    | row3    | row4    | \nrow1    | row2    | row4    | \nrow2    | row3    |         | \n</code></pre>\n\n<p>expected to happen:</p>\n\n<pre><code>header1 | header2 | header3 | header4\nrow1    | null    | row3    | row4\nrow1    | row2    | null    | row4\nnull    | row2    | row3    | null\n</code></pre>\n\n<p><strong>null</strong> or <strong>\" \"</strong> (empty string)</p>\n\n<p>Here's my code:</p>\n\n<p>my <strong>readXLSFile</strong> method:</p>\n\n<pre><code>private boolean readXLSFile(String batchRunNbr, String filename) throws IOException, ParseException {\n\n        List sheetData = new ArrayList();\n        FileInputStream fis = null;\n        try {\n            if ((filename.endsWith(\".xlsx\")) || (filename.endsWith(\".XLSX\"))) {\n                log.info(\"Reading xlsx file...\");\n                fis = new FileInputStream(filename);\n            } else{\n                this.errorMessageTxt = this.errorMessageTxt+this.htmlNextLine+\n                        \"Unable to process the file. Please save the file to the latest Excel *.xlsm or *.xlsx file.\";\n                return true;\n            }\n\n\n            XSSFWorkbook workbook = new XSSFWorkbook(fis);\n            XSSFSheet sheet = workbook.getSheetAt(0);\n\n            Iterator&lt;Row&gt; rows = sheet.rowIterator();\n            int counter = 0;\n            while (rows.hasNext()) {\n                counter++;\n                XSSFRow row = ((XSSFRow) rows.next());\n                Iterator&lt;Cell&gt; cells = row.cellIterator();\n\n                List data = new ArrayList();\n                while (cells.hasNext()) {\n                    Cell cell = (XSSFCell) cells.next();\n\n                    data.add(cell);\n                }\n                sheetData.add(data);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n            this.errorMessageTxt = this.errorMessageTxt+this.htmlNextLine+\n                    e.getMessage()+this.htmlNextLine+e.getCause();\n            return true; //There is an error, return true.\n        } finally {\n            if (fis != null) {\n                fis.close();\n            }\n        }\n\n        processExcelSheet(sheetData, batchRunNbr, filename);\n</code></pre>\n\n<p>Here's my <strong>processExcelSheeet</strong> method:</p>\n\n<pre><code>private void processExcelSheet(List sheetData, String batchRunNbr, String inputFileName) {\n        DateFormat formatter;\n        formatter = new SimpleDateFormat(\"dd.MM.yyyy\");\n        boolean firstTime = true;\n        try {\n            for (int i = 0; i &lt; sheetData.size(); i++) {\n                List list =  (List) sheetData.get(i);\n                if (firstTime) {\n                    firstTime = false;\n                } else {\n                    for (int ii = 0; ii &lt; list.size(); ii++) {\n\n                        XSSFCell cell = (XSSFCell) list.get(ii);\n                        switchCase(formatter, ii, cell);\n                    }\n\n                    insertToStaging(batchRunNbr, inputFileName);//This method inserts the data to the database based on what it reads above.\n                }\n                //log.info(\"COMPLETED!\");\n            }\n\n        } catch (Exception e) {\n            log.info(\"loadStagingTable Error:\" + e);\n            //this.errorMessageTxt = this.errorMessageTxt+this.htmlNextLine+\n            //      \"Error Loading to KLTL Data Staging. \"+e.getMessage()+\",\"+e.getCause();\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>I suspect that the problem is on the <strong>row.hasNext</strong>?\nPlease help.. Thank you so much. And if you need more details please do comment it below.</p>\n"},{"tags":["java","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1634886980,"post_id":69671357,"comment_id":123151708,"body_markdown":"The fact that you have to register `DiscoveryProvider` as an additional bean suggests that it isn&#39;t present in a bean archive. Perhaps `DiscoveryOpenApi` isn&#39;t present in a bean archive either and must be registered as an additional bean too?","body":"The fact that you have to register <code>DiscoveryProvider</code> as an additional bean suggests that it isn&#39;t present in a bean archive. Perhaps <code>DiscoveryOpenApi</code> isn&#39;t present in a bean archive either and must be registered as an additional bean too?"},{"owner":{"account_id":23108010,"reputation":1,"user_id":17216314,"display_name":"liuz"},"score":0,"creation_date":1634892524,"post_id":69671357,"comment_id":123153826,"body_markdown":"Do you know how to register a REST Client interface as an additional bean, I used the following method, but the error still exists\n`@BuildStep\n    protected void additionalBeans(BuildProducer&lt;AdditionalBeanBuildItem&gt; additionalBeans) {\n        additionalBeans.produce(AdditionalBeanBuildItem.builder()\n                .addBeanClass(DiscoveryOpenApi.class)\n                .setUnremovable().build());\n        additionalBeans.produce(AdditionalBeanBuildItem.builder()\n                .addBeanClass(DiscoveryProvider.class)\n                .setUnremovable().build());\n}`","body":"Do you know how to register a REST Client interface as an additional bean, I used the following method, but the error still exists <code>@BuildStep     protected void additionalBeans(BuildProducer&lt;AdditionalBeanBuildItem&gt; additionalBeans) {         additionalBeans.produce(AdditionalBeanBuildItem.builder()                 .addBeanClass(DiscoveryOpenApi.class)                 .setUnremovable().build());         additionalBeans.produce(AdditionalBeanBuildItem.builder()                 .addBeanClass(DiscoveryProvider.class)                 .setUnremovable().build()); }</code>"},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1634905544,"post_id":69671357,"comment_id":123159111,"body_markdown":"Actually no, I don&#39;t. RestClient interfaces are special and my advice to register the interface as an additional bean was probably too simple to actually work. Maybe there&#39;s a `BuildItem` to register and additional RestClient, not sure. Alternatively, instead of registering additional beans, you may add a `META-INF/beans.xml` file to your JAR. I assume it is a `runtime` portion of a Quarkus extension, in which case, it is not exactly common, but it&#39;s been done before and should work just fine.","body":"Actually no, I don&#39;t. RestClient interfaces are special and my advice to register the interface as an additional bean was probably too simple to actually work. Maybe there&#39;s a <code>BuildItem</code> to register and additional RestClient, not sure. Alternatively, instead of registering additional beans, you may add a <code>META-INF&#47;beans.xml</code> file to your JAR. I assume it is a <code>runtime</code> portion of a Quarkus extension, in which case, it is not exactly common, but it&#39;s been done before and should work just fine."},{"owner":{"account_id":23108010,"reputation":1,"user_id":17216314,"display_name":"liuz"},"score":0,"creation_date":1634997222,"post_id":69671357,"comment_id":123179914,"body_markdown":"Thank you for your reply, I will try other BuildItem to solve the problem","body":"Thank you for your reply, I will try other BuildItem to solve the problem"},{"owner":{"account_id":5926985,"reputation":767,"user_id":4662593,"display_name":"Michał Szynkiewicz"},"score":0,"creation_date":1636024574,"post_id":69671357,"comment_id":123449991,"body_markdown":"@liuz if you have the whole project somewhere, I&#39;ll be happy to take a look.","body":"@liuz if you have the whole project somewhere, I&#39;ll be happy to take a look."}],"owner":{"account_id":23108010,"reputation":1,"user_id":17216314,"display_name":"liuz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634876129,"creation_date":1634876129,"question_id":69671357,"body_markdown":"In my Quarkus extension, I want to use REST Client Reactive, but an exception occurred in the run log :\r\n```\r\nCaused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type cn.ecpark.quarkus.extension.discovery.DiscoveryOpenApi and qualifiers [@RestClient]\r\n\t- java member: cn.ecpark.quarkus.extension.discovery.DiscoveryProvider#discoveryOpenApi\r\n\t- declared on CLASS bean [types=[cn.ecpark.quarkus.extension.discovery.DiscoveryProvider, java.lang.Object], qualifiers=[@Default, @Any], target=cn.ecpark.quarkus.extension.discovery.DiscoveryProvider]\r\n\r\n```\r\n\r\n\r\ndeployment module code snippet:\r\n``` java\r\n@BuildStep\r\nprotected void additionalBeans(BuildProducer&lt;AdditionalBeanBuildItem&gt; additionalBeans) {\r\n   additionalBeans.produce(AdditionalBeanBuildItem.builder()\r\n           .addBeanClass(DiscoveryProvider.class)\r\n           .setUnremovable().build());\r\n}\r\n```\r\n\r\nruntime module code snippet:\r\n``` java\r\n@ApplicationScoped\r\npublic class DiscoveryProvider {\r\n//    @Inject\r\n    @RestClient\r\n    DiscoveryOpenApi discoveryOpenApi;\r\n}\r\n```\r\n``` java\r\n@Path(&quot;/v1/ns/&quot;)\r\n@RegisterRestClient(configKey=&quot;discovery.nacos&quot;)\r\npublic interface DiscoveryOpenApi {\r\n\r\n    @POST\r\n    @Path(&quot;/instance&quot;)\r\n    @Produces(MediaType.TEXT_PLAIN)\r\n    Uni&lt;String&gt; registerInstance(@QueryParam(&quot;namespaceId&quot;) String namespaceId, @QueryParam(&quot;groupName&quot;) String groupName, @QueryParam(&quot;serviceName&quot;) String serviceName,\r\n                                 @QueryParam(&quot;clusterName&quot;) String clusterName, @QueryParam(&quot;ip&quot;) String ip, @QueryParam(&quot;port&quot;) @DefaultValue(&quot;0&quot;) Integer port,\r\n                                 @QueryParam(&quot;weight&quot;) Double weight, @QueryParam(&quot;enabled&quot;) Boolean enabled, @QueryParam(&quot;healthy&quot;) Boolean healthy,\r\n                                 @QueryParam(&quot;metadata&quot;) String metadata, @QueryParam(&quot;ephemeral&quot;) Boolean ephemeral);\r\n}\r\n```\r\nHow should I use Rest Client when developing a plug-in?\r\n\r\n","title":"Use of Rest Client Reactive in the extension plug-in is abnormal","body":"<p>In my Quarkus extension, I want to use REST Client Reactive, but an exception occurred in the run log :</p>\n<pre><code>Caused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type cn.ecpark.quarkus.extension.discovery.DiscoveryOpenApi and qualifiers [@RestClient]\n    - java member: cn.ecpark.quarkus.extension.discovery.DiscoveryProvider#discoveryOpenApi\n    - declared on CLASS bean [types=[cn.ecpark.quarkus.extension.discovery.DiscoveryProvider, java.lang.Object], qualifiers=[@Default, @Any], target=cn.ecpark.quarkus.extension.discovery.DiscoveryProvider]\n\n</code></pre>\n<p>deployment module code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BuildStep\nprotected void additionalBeans(BuildProducer&lt;AdditionalBeanBuildItem&gt; additionalBeans) {\n   additionalBeans.produce(AdditionalBeanBuildItem.builder()\n           .addBeanClass(DiscoveryProvider.class)\n           .setUnremovable().build());\n}\n</code></pre>\n<p>runtime module code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\npublic class DiscoveryProvider {\n//    @Inject\n    @RestClient\n    DiscoveryOpenApi discoveryOpenApi;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/v1/ns/&quot;)\n@RegisterRestClient(configKey=&quot;discovery.nacos&quot;)\npublic interface DiscoveryOpenApi {\n\n    @POST\n    @Path(&quot;/instance&quot;)\n    @Produces(MediaType.TEXT_PLAIN)\n    Uni&lt;String&gt; registerInstance(@QueryParam(&quot;namespaceId&quot;) String namespaceId, @QueryParam(&quot;groupName&quot;) String groupName, @QueryParam(&quot;serviceName&quot;) String serviceName,\n                                 @QueryParam(&quot;clusterName&quot;) String clusterName, @QueryParam(&quot;ip&quot;) String ip, @QueryParam(&quot;port&quot;) @DefaultValue(&quot;0&quot;) Integer port,\n                                 @QueryParam(&quot;weight&quot;) Double weight, @QueryParam(&quot;enabled&quot;) Boolean enabled, @QueryParam(&quot;healthy&quot;) Boolean healthy,\n                                 @QueryParam(&quot;metadata&quot;) String metadata, @QueryParam(&quot;ephemeral&quot;) Boolean ephemeral);\n}\n</code></pre>\n<p>How should I use Rest Client when developing a plug-in?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"score":0,"creation_date":1634864553,"post_id":69670044,"comment_id":123147684,"body_markdown":"see setOnClickListener https://developer.android.com/reference/android/view/View#setOnClickListener(android.view.View.OnClickListener)","body":"see setOnClickListener <a href=\"https://developer.android.com/reference/android/view/View#setOnClickListener(android.view.View.OnClickListener)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/view/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12453203,"reputation":372,"user_id":9067230,"display_name":"Milan Tejani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634875510,"creation_date":1634875510,"answer_id":69671294,"question_id":69670044,"body_markdown":"try this code :-\r\n\r\n    if (_layout == R.layout.fragment_general) {\r\n                LinearLayout layout = view.findViewById(R.id.root);\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                    for (String text : readFromSharedPreferences(getContext())) {\r\n                        Button btn = new Button(this.getContext());\r\n                        btn.setText(text);\r\n                        btn.setTag(text);\r\n                        btn.setTextColor(Color.BLUE);\r\n                        btn.setBackgroundColor(Color.RED);\r\n                        layout.addView(btn);\r\n    \r\n                        btn.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View view) {\r\n                                Toast.makeText(MainActivity.this, &quot;Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nyou just simply have to add `setOnClickListener` after `btn` added to linear layout.\r\nit&#39;s working for me","title":"Add a dynamic button and specify a method when it&#39;s getting clicked","body":"<p>try this code :-</p>\n<pre><code>if (_layout == R.layout.fragment_general) {\n            LinearLayout layout = view.findViewById(R.id.root);\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                for (String text : readFromSharedPreferences(getContext())) {\n                    Button btn = new Button(this.getContext());\n                    btn.setText(text);\n                    btn.setTag(text);\n                    btn.setTextColor(Color.BLUE);\n                    btn.setBackgroundColor(Color.RED);\n                    layout.addView(btn);\n\n                    btn.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            Toast.makeText(MainActivity.this, &quot;Clicked&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n        }\n    }\n}\n</code></pre>\n<p>you just simply have to add <code>setOnClickListener</code> after <code>btn</code> added to linear layout.\nit's working for me</p>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69671294,"answer_count":1,"score":0,"last_activity_date":1634875510,"creation_date":1634861159,"question_id":69670044,"body_markdown":"I have a button and in XML it looks like this:\r\n```xml\r\n&lt;Button\r\n    android:id=&quot;@+id/hello&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:tag=&quot;Greeting&quot;\r\n    android:layout_height=&quot;60dp&quot;\r\n    android:gravity=&quot;center_vertical&quot;\r\n    android:onClick=&quot;onClick&quot;\r\n    android:text=&quot;@string/hello&quot; /&gt;\r\n```\r\nAlso, I have the method `public void onClick(View view) {}`. So whenever I click on that button, that method should run. Well, that works fine.\r\n\r\nNow, I would like to add dynamic buttons. \r\n```java\r\nif (_layout == R.layout.fragment_general) {\r\n    LinearLayout layout = view.findViewById(R.id.root);\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n        for(String text : readFromSharedPreferences(getContext())) {\r\n            Button btn = new Button(this.getContext());\r\n            btn.setText(text);\r\n            btn.setTag(text);\r\n            btn.setTextColor(Color.BLUE);\r\n            btn.setBackgroundColor(Color.RED);\r\n            layout.addView(btn);\r\n        }\r\n    }\r\n}\r\n```\r\nThe buttons will be added but when I click on them, nothing happens. \r\n\r\nI have also tried it with `btn.performClick()` and `btn.callOnClick()` but none of them works. In those methods I am missing a parameter. So it should be `btn.performClick(&quot;onClick&quot;)` or `btn.callOnClick(&quot;onClick&quot;)`. However, I should be able to tell that the method `onClick` should be executed when I click on a dynamic button. How can I do this?","title":"Add a dynamic button and specify a method when it&#39;s getting clicked","body":"<p>I have a button and in XML it looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Button\n    android:id=&quot;@+id/hello&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:tag=&quot;Greeting&quot;\n    android:layout_height=&quot;60dp&quot;\n    android:gravity=&quot;center_vertical&quot;\n    android:onClick=&quot;onClick&quot;\n    android:text=&quot;@string/hello&quot; /&gt;\n</code></pre>\n<p>Also, I have the method <code>public void onClick(View view) {}</code>. So whenever I click on that button, that method should run. Well, that works fine.</p>\n<p>Now, I would like to add dynamic buttons.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (_layout == R.layout.fragment_general) {\n    LinearLayout layout = view.findViewById(R.id.root);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        for(String text : readFromSharedPreferences(getContext())) {\n            Button btn = new Button(this.getContext());\n            btn.setText(text);\n            btn.setTag(text);\n            btn.setTextColor(Color.BLUE);\n            btn.setBackgroundColor(Color.RED);\n            layout.addView(btn);\n        }\n    }\n}\n</code></pre>\n<p>The buttons will be added but when I click on them, nothing happens.</p>\n<p>I have also tried it with <code>btn.performClick()</code> and <code>btn.callOnClick()</code> but none of them works. In those methods I am missing a parameter. So it should be <code>btn.performClick(&quot;onClick&quot;)</code> or <code>btn.callOnClick(&quot;onClick&quot;)</code>. However, I should be able to tell that the method <code>onClick</code> should be executed when I click on a dynamic button. How can I do this?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1634827258,"post_id":69663816,"comment_id":123136107,"body_markdown":"See this SO post for clues: [org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;demoRestController&#39;](https://stackoverflow.com/questions/37214538/org-springframework-beans-factory-unsatisfieddependencyexception-error-creating)","body":"See this SO post for clues: <a href=\"https://stackoverflow.com/questions/37214538/org-springframework-beans-factory-unsatisfieddependencyexception-error-creating\">org.springframework.beans.factory.UnsatisfiedDependencyExcep&zwnj;&#8203;tion: Error creating bean with name &#39;demoRestController&#39;</a>"},{"owner":{"account_id":2668926,"reputation":723,"user_id":2306717,"accept_rate":60,"display_name":"Fanick"},"score":0,"creation_date":1634828861,"post_id":69663816,"comment_id":123136947,"body_markdown":"Also could you put the stacktrace into a code block for improved readability?","body":"Also could you put the stacktrace into a code block for improved readability?"},{"owner":{"account_id":19124632,"reputation":1,"user_id":13967862,"display_name":"white-tails"},"score":0,"creation_date":1635167159,"post_id":69663816,"comment_id":123215566,"body_markdown":"I checked m public void main method. What I have inside is correct. But it seems something related to SpringBootTutorialApplication.class","body":"I checked m public void main method. What I have inside is correct. But it seems something related to SpringBootTutorialApplication.class"}],"owner":{"account_id":19124632,"reputation":1,"user_id":13967862,"display_name":"white-tails"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634875247,"creation_date":1634826540,"question_id":69663816,"body_markdown":"To my fellow developers,\r\n\r\nAmbiguous errors logs without clear indication of which files went wrong are perhaps some of the most troublesome bugs. I am a complete newb playing with java spring. Below is the error I encountered when I try to run my public class SpringWithMongodbApplication.\r\n\r\nI have made sure the credentials inside application.properties is correct. By the way, looking up similar errors, I have found the error log inside terminal is unique from other posts. PLS help &lt;3\r\n\r\n**ERROR INSIDE TERMINAL:**\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;springBootTutorialApplication&#39;: Unsatisfied dependency expressed through field &#39;groceryItemRepo&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;itemRepository&#39; defined in com.example.springboottutorial.repository.ItemRepository defined in @EnableMongoRepositories declared on SpringBootTutorialApplication: Cannot resolve reference to bean &#39;mongoTemplate&#39; while setting bean property &#39;mongoOperations&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mongoTemplate&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method &#39;mongoTemplate&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mongoDatabaseFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryConfiguration.class]: Unsatisfied dependency expressed through method &#39;mongoDatabaseFactory&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongo&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.mongodb.client.MongoClient]: Factory method &#39;mongo&#39; threw exception; nested exception is com.mongodb.MongoConfigurationException: Unable to look up TXT record for host cluster0.mongodb.net\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.10.jar:5.3.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.10.jar:5.3.10]\r\n\r\n**CODE INSIDE SpringWithMongodbApplication:**\r\n\r\n    package com.example.springboottutorial;\r\n    \r\n    import com.example.springboottutorial.model.GroceryItem;\r\n    import com.example.springboottutorial.repository.CustomItemRepository;\r\n    import com.example.springboottutorial.repository.ItemRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\n    \r\n    import java.util.List;\r\n    \r\n    @SpringBootApplication\r\n    @EnableMongoRepositories\r\n    public class SpringBootTutorialApplication implements CommandLineRunner {\r\n    \r\n    \t@Autowired\r\n    \tItemRepository groceryItemRepo;\r\n    \r\n    \t@Autowired\r\n    \tCustomItemRepository customRepo;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringBootTutorialApplication.class, args);\r\n    \t}\r\n    \t@Override\r\n    \tpublic void run(String... args) {\r\n    \t\tSystem.out.println(&quot;--------------CREATE GROCERY ITEMS------------------&quot;);\r\n    \t\tcreateGroceryItems();\r\n    \t\tSystem.out.println(&quot;\\n----------------SHOW ALL GROCERY ITEMS---------------------------\\n&quot;);\r\n    \r\n    \t\tshowAllGroceryItems();\r\n    \r\n    \t\tSystem.out.println(&quot;\\n--------------GET ITEM BY NAME-----------------------------------\\n&quot;);\r\n    \r\n    \t\tgetGroceryItemByName(&quot;Whole Wheat Biscuit&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;\\n-----------GET ITEMS BY CATEGORY---------------------------------\\n&quot;);\r\n    \r\n    \t\tgetItemsByCategory(&quot;millets&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;\\n-----------UPDATE CATEGORY NAME OF SNACKS CATEGORY----------------\\n&quot;);\r\n    \r\n    \t\tupdateCategoryName(&quot;snacks&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;\\n----------DELETE A GROCERY ITEM----------------------------------\\n&quot;);\r\n    \r\n    \t\tdeleteGroceryItem(&quot;Kodo Millet&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;\\n------------FINAL COUNT OF GROCERY ITEMS-------------------------\\n&quot;);\r\n    \r\n    \t\tfindCountOfGroceryItems();\r\n    \r\n    \t\tSystem.out.println(&quot;\\n-------------------THANK YOU---------------------------&quot;);\r\n    \r\n    \t\tSystem.out.println(&quot;\\n-----------UPDATE QUANTITY OF A GROCERY ITEM------------------------\\n&quot;);\r\n    \r\n    \t\tupdateItemQuantity(&quot;Bonny Cheese Crackers Plain&quot;, 10);\r\n    \t}\r\n    \r\n    \tvoid createGroceryItems() {\r\n    \t\tSystem.out.println(&quot;Data creation started...&quot;);\r\n    \t\tgroceryItemRepo.save(new GroceryItem(&quot;Whole Wheat Biscuit&quot;, &quot;Whole Wheat Biscuit&quot;, 5, &quot;snacks&quot;));\r\n    \t\tgroceryItemRepo.save(new GroceryItem(&quot;Kodo Millet&quot;, &quot;XYZ Kodo Millet healthy&quot;, 2, &quot;millets&quot;));\r\n    \t\tgroceryItemRepo.save(new GroceryItem(&quot;Dried Red Chilli&quot;, &quot;Dried Whole Red Chilli&quot;, 2, &quot;spices&quot;));\r\n    \t\tgroceryItemRepo.save(new GroceryItem(&quot;Pearl Millet&quot;, &quot;Healthy Pearl Millet&quot;, 1, &quot;millets&quot;));\r\n    \t\tgroceryItemRepo.save(new GroceryItem(&quot;Cheese Crackers&quot;, &quot;Bonny Cheese Crackers Plain&quot;, 6, &quot;snacks&quot;));\r\n    \t\tgroceryItemRepo.save(new GroceryItem(&quot;Chocolate Candies&quot;, &quot;Maltesers&quot;, 3, &quot;sweets&quot;));\r\n    \t\tgroceryItemRepo.save(new GroceryItem(&quot;Squid Slices&quot;, &quot;Four Islands&quot;, 6, &quot;snacks&quot;));\r\n    \t\tSystem.out.println(&quot;Data creation complete...&quot;);\r\n    \t}\r\n    \r\n    \t//show all data\r\n    \tpublic void showAllGroceryItems() {\r\n    \t\tgroceryItemRepo.findAll().forEach(item -&gt; System.out.println(getItemDetails(item)) );\r\n    \t}\r\n    \r\n    //\tGet item by name\r\n    \tpublic void getGroceryItemByName(String name) {\r\n    \t\tSystem.out.println(&quot;getting item by name: &quot; + name);\r\n    \t\tGroceryItem item = groceryItemRepo.findItemByName(name);\r\n    \t\tSystem.out.println(getItemDetails(item));\r\n    \t}\r\n    \r\n    //\tget name and quantiy of all item of a particular category\r\n    \tpublic void getItemsByCategory(String category) {\r\n    \t\tSystem.out.println(&quot;Getting items for the category&quot; + category);\r\n    \t\tList&lt;GroceryItem&gt; list = groceryItemRepo.findAll(category);\r\n    \r\n    \t\tlist.forEach(item -&gt; System.out.println(&quot;Name: &quot; + item.getName() + &quot;, Quantity: &quot; + item.getQuantity()));\r\n    \t}\r\n    \tpublic void findCountOfGroceryItems() {\r\n    \t\tlong count = groceryItemRepo.count();\r\n    \t\tSystem.out.println(&quot;Number of documents in the collection: &quot; + count);\r\n    \t}\r\n    \tpublic String getItemDetails(GroceryItem item) {\r\n    \t\tSystem.out.println(\r\n    \t\t\t\t&quot;Item Name: &quot; + item.getName() +\r\n    \t\t\t\t\t\t&quot;, \\nQuantity: &quot; + item.getQuantity() +\r\n    \t\t\t\t\t\t&quot;, \\nItem Category: &quot; + item.getCategory()\r\n    \t\t);\r\n    \t\treturn &quot;&quot;;\r\n    \t}\r\n    \tpublic void updateCategoryName(String category) {\r\n    \t\t//new value\r\n    \t\tString newCategory = &quot;munchies&quot;;\r\n    \r\n    //\t\tList all items with category snacks\r\n    \t\tList&lt;GroceryItem&gt; list = groceryItemRepo.findAll(category);\r\n    \r\n    \t\tlist.forEach(item -&gt; {\r\n    \t\t\t//Update the category in each document\r\n    \t\t\titem.setCategory(newCategory);\r\n    \t\t});\r\n    \r\n    \t\t//Save all the items in the databse\r\n    \t\tList&lt;GroceryItem&gt; itemsUpdated = groceryItemRepo.saveAll(list);\r\n    \r\n    \t\tif(itemsUpdated != null)\r\n    \t\t\tSystem.out.println(&quot;Successfully updated &quot; + itemsUpdated.size() + &quot; items.&quot;);\r\n    \t}\r\n    \r\n    \t//DELETE\r\n    \t\tpublic void deleteGroceryItem(String id) {\r\n    \t\tgroceryItemRepo.deleteById(id);\r\n    \t\t\tSystem.out.println(&quot;Item with id &quot; + id + &quot; deleted...&quot;);\r\n    \t\t}\r\n    \t\tpublic void deleteAllGroceryItems() {\r\n    \t\tgroceryItemRepo.deleteAll();\r\n    \t\t\tSystem.out.println(&quot;All items inside Grocery deleted&quot;);\r\n    \t\t}\r\n    \t//UPDATE\r\n    \t\tpublic void updateItemQuantity(String name, float newQuantity) {\r\n    \t\t\tSystem.out.println(&quot;Updating quantity for &quot; + name);\r\n    \t\t\tcustomRepo.updateItemQuantity(name, newQuantity);\r\n    \t\t}\r\n    }\r\n\r\n**CODE INSIDE ItemRepository**:\r\n\r\n    package com.example.springboottutorial.repository;\r\n    \r\n    import com.example.springboottutorial.model.GroceryItem;\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    import org.springframework.data.mongodb.repository.Query;\r\n    \r\n    import java.util.List;\r\n    \r\n    public interface ItemRepository extends MongoRepository&lt;GroceryItem, String&gt; {\r\n    \r\n        @Query(&quot;{name: &#39;?0&#39;}&quot;)\r\n        GroceryItem findItemByName(String name);\r\n    \r\n        @Query(value=&quot;{category:&#39;?0&#39;}&quot;, fields=&quot;{&#39;name&#39; : 1, &#39;quantity&#39; : 1}&quot;)\r\n        List&lt;GroceryItem&gt; findAll (String category);\r\n    \r\n        public long count();\r\n    \r\n    \r\n    }\r\n\r\n**CODE INSIDE CustomItemRepositoryImpl**:\r\n\r\n    package com.example.springboottutorial.repository;\r\n    \r\n    import com.example.springboottutorial.model.GroceryItem;\r\n    import com.mongodb.client.result.UpdateResult;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    import org.springframework.data.mongodb.core.query.Criteria;\r\n    import org.springframework.data.mongodb.core.query.Query;\r\n    import org.springframework.data.mongodb.core.query.Update;\r\n    \r\n    public class CustomItemRepositoryImpl implements CustomItemRepository{\r\n        @Autowired\r\n        MongoTemplate mongoTemplate;\r\n    \r\n        public void updateItemQuantity(String name, float newQuantity) {\r\n            Query query = new Query(Criteria.where(&quot;name&quot;).is(name));\r\n            Update update = new Update();\r\n            update.set(&quot;quantity&quot;, newQuantity);\r\n    \r\n            UpdateResult result = mongoTemplate.updateFirst(query, update, GroceryItem.class);\r\n    \r\n            if(result == null)\r\n                System.out.println(&quot;No documents updated&quot;);\r\n            else\r\n                System.out.println(result.getModifiedCount() + &quot; documents(s) updated..&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n**CODE INSIDE CustomItemRepository**:\r\n\r\n    package com.example.springboottutorial.repository;\r\n    \r\n    public interface CustomItemRepository {\r\n        void updateItemQuantity(String name, float newQuantity);\r\n    \r\n    }\r\n\r\n**CODE INSIDE GroceryItem**:\r\n\r\n    package com.example.springboottutorial.model;\r\n    \r\n    import org.springframework.data.annotation.Id;\r\n    import org.springframework.data.mongodb.core.mapping.Document;\r\n    \r\n    @Document(&quot;groceryitems&quot;)\r\n    public class GroceryItem {\r\n    \r\n        @Id\r\n        private String id;\r\n        private String name;\r\n        private int quantity;\r\n        private String category;\r\n    \r\n        public GroceryItem(String id, String name, int quantity, String category) {\r\n            super();\r\n            this.id = id;\r\n            this.name = name;\r\n            this.quantity = quantity;\r\n            this.category = category;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public int getQuantity() {\r\n            return quantity;\r\n        }\r\n    \r\n        public String getCategory() {\r\n            return category;\r\n        }\r\n    \r\n        public void setCategory(String newCategory) {\r\n            this.category = newCategory;\r\n        }\r\n    \r\n    //    public void getName(String name) {\r\n    //        this.name = name;\r\n    //    }\r\n    }\r\n\r\n**CODE INSIDE application.properties**:\r\n\r\n    spring.data.mongodb.uri=mongodb+srv://reactmaster123:react8927@cluster0.mongodb.net/mygrocerylist\r\n    spring.data.mongodb.database=mygrocerylist\r\n\r\n\r\nScreenShot of file structure:\r\n  [1]: https://i.stack.imgur.com/zdDbe.png\r\n\r\n\r\n\r\n\r\n","title":"Is this a problem related to the configuration of mongodb inside my file (application.properties)?","body":"<p>To my fellow developers,</p>\n<p>Ambiguous errors logs without clear indication of which files went wrong are perhaps some of the most troublesome bugs. I am a complete newb playing with java spring. Below is the error I encountered when I try to run my public class SpringWithMongodbApplication.</p>\n<p>I have made sure the credentials inside application.properties is correct. By the way, looking up similar errors, I have found the error log inside terminal is unique from other posts. PLS help &lt;3</p>\n<p><strong>ERROR INSIDE TERMINAL:</strong></p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'springBootTutorialApplication': Unsatisfied dependency expressed through field 'groceryItemRepo'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'itemRepository' defined in com.example.springboottutorial.repository.ItemRepository defined in @EnableMongoRepositories declared on SpringBootTutorialApplication: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoTemplate' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method 'mongoTemplate' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoDatabaseFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryConfiguration.class]: Unsatisfied dependency expressed through method 'mongoDatabaseFactory' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongo' defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.mongodb.client.MongoClient]: Factory method 'mongo' threw exception; nested exception is com.mongodb.MongoConfigurationException: Unable to look up TXT record for host cluster0.mongodb.net\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.10.jar:5.3.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.10.jar:5.3.10]\n</code></pre>\n<p><strong>CODE INSIDE SpringWithMongodbApplication:</strong></p>\n<pre><code>package com.example.springboottutorial;\n\nimport com.example.springboottutorial.model.GroceryItem;\nimport com.example.springboottutorial.repository.CustomItemRepository;\nimport com.example.springboottutorial.repository.ItemRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\n\nimport java.util.List;\n\n@SpringBootApplication\n@EnableMongoRepositories\npublic class SpringBootTutorialApplication implements CommandLineRunner {\n\n    @Autowired\n    ItemRepository groceryItemRepo;\n\n    @Autowired\n    CustomItemRepository customRepo;\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootTutorialApplication.class, args);\n    }\n    @Override\n    public void run(String... args) {\n        System.out.println(&quot;--------------CREATE GROCERY ITEMS------------------&quot;);\n        createGroceryItems();\n        System.out.println(&quot;\\n----------------SHOW ALL GROCERY ITEMS---------------------------\\n&quot;);\n\n        showAllGroceryItems();\n\n        System.out.println(&quot;\\n--------------GET ITEM BY NAME-----------------------------------\\n&quot;);\n\n        getGroceryItemByName(&quot;Whole Wheat Biscuit&quot;);\n\n        System.out.println(&quot;\\n-----------GET ITEMS BY CATEGORY---------------------------------\\n&quot;);\n\n        getItemsByCategory(&quot;millets&quot;);\n\n        System.out.println(&quot;\\n-----------UPDATE CATEGORY NAME OF SNACKS CATEGORY----------------\\n&quot;);\n\n        updateCategoryName(&quot;snacks&quot;);\n\n        System.out.println(&quot;\\n----------DELETE A GROCERY ITEM----------------------------------\\n&quot;);\n\n        deleteGroceryItem(&quot;Kodo Millet&quot;);\n\n        System.out.println(&quot;\\n------------FINAL COUNT OF GROCERY ITEMS-------------------------\\n&quot;);\n\n        findCountOfGroceryItems();\n\n        System.out.println(&quot;\\n-------------------THANK YOU---------------------------&quot;);\n\n        System.out.println(&quot;\\n-----------UPDATE QUANTITY OF A GROCERY ITEM------------------------\\n&quot;);\n\n        updateItemQuantity(&quot;Bonny Cheese Crackers Plain&quot;, 10);\n    }\n\n    void createGroceryItems() {\n        System.out.println(&quot;Data creation started...&quot;);\n        groceryItemRepo.save(new GroceryItem(&quot;Whole Wheat Biscuit&quot;, &quot;Whole Wheat Biscuit&quot;, 5, &quot;snacks&quot;));\n        groceryItemRepo.save(new GroceryItem(&quot;Kodo Millet&quot;, &quot;XYZ Kodo Millet healthy&quot;, 2, &quot;millets&quot;));\n        groceryItemRepo.save(new GroceryItem(&quot;Dried Red Chilli&quot;, &quot;Dried Whole Red Chilli&quot;, 2, &quot;spices&quot;));\n        groceryItemRepo.save(new GroceryItem(&quot;Pearl Millet&quot;, &quot;Healthy Pearl Millet&quot;, 1, &quot;millets&quot;));\n        groceryItemRepo.save(new GroceryItem(&quot;Cheese Crackers&quot;, &quot;Bonny Cheese Crackers Plain&quot;, 6, &quot;snacks&quot;));\n        groceryItemRepo.save(new GroceryItem(&quot;Chocolate Candies&quot;, &quot;Maltesers&quot;, 3, &quot;sweets&quot;));\n        groceryItemRepo.save(new GroceryItem(&quot;Squid Slices&quot;, &quot;Four Islands&quot;, 6, &quot;snacks&quot;));\n        System.out.println(&quot;Data creation complete...&quot;);\n    }\n\n    //show all data\n    public void showAllGroceryItems() {\n        groceryItemRepo.findAll().forEach(item -&gt; System.out.println(getItemDetails(item)) );\n    }\n\n//  Get item by name\n    public void getGroceryItemByName(String name) {\n        System.out.println(&quot;getting item by name: &quot; + name);\n        GroceryItem item = groceryItemRepo.findItemByName(name);\n        System.out.println(getItemDetails(item));\n    }\n\n//  get name and quantiy of all item of a particular category\n    public void getItemsByCategory(String category) {\n        System.out.println(&quot;Getting items for the category&quot; + category);\n        List&lt;GroceryItem&gt; list = groceryItemRepo.findAll(category);\n\n        list.forEach(item -&gt; System.out.println(&quot;Name: &quot; + item.getName() + &quot;, Quantity: &quot; + item.getQuantity()));\n    }\n    public void findCountOfGroceryItems() {\n        long count = groceryItemRepo.count();\n        System.out.println(&quot;Number of documents in the collection: &quot; + count);\n    }\n    public String getItemDetails(GroceryItem item) {\n        System.out.println(\n                &quot;Item Name: &quot; + item.getName() +\n                        &quot;, \\nQuantity: &quot; + item.getQuantity() +\n                        &quot;, \\nItem Category: &quot; + item.getCategory()\n        );\n        return &quot;&quot;;\n    }\n    public void updateCategoryName(String category) {\n        //new value\n        String newCategory = &quot;munchies&quot;;\n\n//      List all items with category snacks\n        List&lt;GroceryItem&gt; list = groceryItemRepo.findAll(category);\n\n        list.forEach(item -&gt; {\n            //Update the category in each document\n            item.setCategory(newCategory);\n        });\n\n        //Save all the items in the databse\n        List&lt;GroceryItem&gt; itemsUpdated = groceryItemRepo.saveAll(list);\n\n        if(itemsUpdated != null)\n            System.out.println(&quot;Successfully updated &quot; + itemsUpdated.size() + &quot; items.&quot;);\n    }\n\n    //DELETE\n        public void deleteGroceryItem(String id) {\n        groceryItemRepo.deleteById(id);\n            System.out.println(&quot;Item with id &quot; + id + &quot; deleted...&quot;);\n        }\n        public void deleteAllGroceryItems() {\n        groceryItemRepo.deleteAll();\n            System.out.println(&quot;All items inside Grocery deleted&quot;);\n        }\n    //UPDATE\n        public void updateItemQuantity(String name, float newQuantity) {\n            System.out.println(&quot;Updating quantity for &quot; + name);\n            customRepo.updateItemQuantity(name, newQuantity);\n        }\n}\n</code></pre>\n<p><strong>CODE INSIDE ItemRepository</strong>:</p>\n<pre><code>package com.example.springboottutorial.repository;\n\nimport com.example.springboottutorial.model.GroceryItem;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.data.mongodb.repository.Query;\n\nimport java.util.List;\n\npublic interface ItemRepository extends MongoRepository&lt;GroceryItem, String&gt; {\n\n    @Query(&quot;{name: '?0'}&quot;)\n    GroceryItem findItemByName(String name);\n\n    @Query(value=&quot;{category:'?0'}&quot;, fields=&quot;{'name' : 1, 'quantity' : 1}&quot;)\n    List&lt;GroceryItem&gt; findAll (String category);\n\n    public long count();\n\n\n}\n</code></pre>\n<p><strong>CODE INSIDE CustomItemRepositoryImpl</strong>:</p>\n<pre><code>package com.example.springboottutorial.repository;\n\nimport com.example.springboottutorial.model.GroceryItem;\nimport com.mongodb.client.result.UpdateResult;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.data.mongodb.core.query.Criteria;\nimport org.springframework.data.mongodb.core.query.Query;\nimport org.springframework.data.mongodb.core.query.Update;\n\npublic class CustomItemRepositoryImpl implements CustomItemRepository{\n    @Autowired\n    MongoTemplate mongoTemplate;\n\n    public void updateItemQuantity(String name, float newQuantity) {\n        Query query = new Query(Criteria.where(&quot;name&quot;).is(name));\n        Update update = new Update();\n        update.set(&quot;quantity&quot;, newQuantity);\n\n        UpdateResult result = mongoTemplate.updateFirst(query, update, GroceryItem.class);\n\n        if(result == null)\n            System.out.println(&quot;No documents updated&quot;);\n        else\n            System.out.println(result.getModifiedCount() + &quot; documents(s) updated..&quot;);\n    }\n\n}\n</code></pre>\n<p><strong>CODE INSIDE CustomItemRepository</strong>:</p>\n<pre><code>package com.example.springboottutorial.repository;\n\npublic interface CustomItemRepository {\n    void updateItemQuantity(String name, float newQuantity);\n\n}\n</code></pre>\n<p><strong>CODE INSIDE GroceryItem</strong>:</p>\n<pre><code>package com.example.springboottutorial.model;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document(&quot;groceryitems&quot;)\npublic class GroceryItem {\n\n    @Id\n    private String id;\n    private String name;\n    private int quantity;\n    private String category;\n\n    public GroceryItem(String id, String name, int quantity, String category) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.quantity = quantity;\n        this.category = category;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public int getQuantity() {\n        return quantity;\n    }\n\n    public String getCategory() {\n        return category;\n    }\n\n    public void setCategory(String newCategory) {\n        this.category = newCategory;\n    }\n\n//    public void getName(String name) {\n//        this.name = name;\n//    }\n}\n</code></pre>\n<p><strong>CODE INSIDE application.properties</strong>:</p>\n<pre><code>spring.data.mongodb.uri=mongodb+srv://reactmaster123:react8927@cluster0.mongodb.net/mygrocerylist\nspring.data.mongodb.database=mygrocerylist\n</code></pre>\n<p>ScreenShot of file structure:\n[1]: <a href=\"https://i.stack.imgur.com/zdDbe.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/zdDbe.png</a></p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633501044,"post_id":69459717,"comment_id":122772671,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted almost **500 (five hundred)** lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped.","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted almost <b>500 (five hundred)</b> lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped."},{"owner":{"account_id":18537962,"reputation":33,"user_id":13507187,"display_name":"Sabyasachi Sahu"},"score":0,"creation_date":1634184780,"post_id":69459717,"comment_id":122958754,"body_markdown":"Thank you @AlexMamo I am new to Stackoverflow, hence my intent was to give all the context so that people aware what I was trying to do. I have updated my post, I hope you could help me.","body":"Thank you @AlexMamo I am new to Stackoverflow, hence my intent was to give all the context so that people aware what I was trying to do. I have updated my post, I hope you could help me."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1634189621,"post_id":69459717,"comment_id":122959554,"body_markdown":"Thanks for doing that. Please check my answer below.","body":"Thanks for doing that. Please check my answer below."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634189555,"creation_date":1634189555,"answer_id":69565524,"question_id":69459717,"body_markdown":"You are getting the following warning, not an error:\r\n\r\n&gt; E/RecyclerView: No adapter attached; skipping layout\r\n\r\nBecause you are setting the adapter in a background thread. To solve this, you have to set the adapter **outside** the callback and inside it, just notify it about the changes. So please **move** the following lines of code:\r\n\r\n    journalRecyclerAdapter= new JournalRecyclerAdapter(JournalListActivity.this, journalist);\r\n    recyclerView.setAdapter(journalRecyclerAdapter);\r\n\r\nRight after:\r\n\r\n    super.onStart();\r\n\r\nAnd leave the following line as it is inside the callback:\r\n\r\n    journalRecyclerAdapter.notifyDataSetChanged();\r\n\r\nAnd the warning will disapear.","title":"No Adapter Attached Skipping layout error with RecyclerView Adapter","body":"<p>You are getting the following warning, not an error:</p>\n<blockquote>\n<p>E/RecyclerView: No adapter attached; skipping layout</p>\n</blockquote>\n<p>Because you are setting the adapter in a background thread. To solve this, you have to set the adapter <strong>outside</strong> the callback and inside it, just notify it about the changes. So please <strong>move</strong> the following lines of code:</p>\n<pre><code>journalRecyclerAdapter= new JournalRecyclerAdapter(JournalListActivity.this, journalist);\nrecyclerView.setAdapter(journalRecyclerAdapter);\n</code></pre>\n<p>Right after:</p>\n<pre><code>super.onStart();\n</code></pre>\n<p>And leave the following line as it is inside the callback:</p>\n<pre><code>journalRecyclerAdapter.notifyDataSetChanged();\n</code></pre>\n<p>And the warning will disapear.</p>\n"}],"owner":{"account_id":18537962,"reputation":33,"user_id":13507187,"display_name":"Sabyasachi Sahu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69565524,"answer_count":1,"score":1,"last_activity_date":1634875211,"creation_date":1633493267,"question_id":69459717,"body_markdown":"These are steps I am doing in this project:\r\n- First I am creating a user profile on Firebase\r\n- Once the profile is created, I am redirecting the user to another activity, where the user is creating a journal with Image\r\n- Then saving the journal with image on Firestore\r\n- Once the data is created on the user profile, I am trying to fetch the values from Firestore using RecyclerView Adapter\r\n- Then on a listing page I am trying to fetch all the values in an ArrayList--&gt; **here I am getting the error of No Adapter Attached**\r\n\r\n\r\n**The ArrayList Activity file:**\r\n- Initializing the recyclerView in OnCreate\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_journal_list);\r\n    \r\n            firebaseAuth= FirebaseAuth.getInstance();\r\n            user= firebaseAuth.getCurrentUser();\r\n    \r\n            noJournalEntry= findViewById(R.id.list_no_thoughts);\r\n            journalList= new ArrayList&lt;&gt;();\r\n    \r\n            recyclerView= (RecyclerView) findViewById(R.id.recyclerView);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n            recyclerView.setHasFixedSize(true);\r\n    \r\n    \r\n        }\r\n    \r\n - Invoking the RecyclerView in onStart:\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n            //we are getting the user Id of the person who is logged in\r\n            collectionReference.whereEqualTo(&quot;userId&quot;, JournalApi.getInstance()\r\n                    .getUserId())\r\n                    .get()\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                    if(!queryDocumentSnapshots.isEmpty()) {\r\n                        for(QueryDocumentSnapshot journals: queryDocumentSnapshots){\r\n                            Journal journal = journals.toObject(Journal.class);\r\n                            journalList.add(journal);\r\n    \r\n                           Toast.makeText(JournalListActivity.this,&quot;UserId found&quot;, Toast.LENGTH_LONG).show();\r\n                        }\r\n    \r\n                        // Invoke Recyclerview\r\n    \r\n                        journalRecyclerAdapter= new JournalRecyclerAdapter(JournalListActivity.this, journalList);\r\n                        recyclerView.setAdapter(journalRecyclerAdapter);\r\n                        journalRecyclerAdapter.notifyDataSetChanged();\r\n    \r\n                    } else {\r\n    \r\n                        noJournalEntry.setVisibility(View.VISIBLE);\r\n    \r\n                    }\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n    \r\n                    Toast.makeText(JournalListActivity.this,&quot;UserId NOT found&quot;, Toast.LENGTH_LONG).show();\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n\r\nAs you can see that the RecyclerView is called fine, but the ArrayList is not loading.\r\n\r\nThe **Error**:  `E/RecyclerView: No adapter attached; skipping layout`\r\n\r\nI referred to various posts in Stackoverflow and followed the steps, not sure where I am going wrong.\r\n\r\nI am adding screenshots here of the Arraylist file:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe RecyclerView adapter:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0sMA5.png\r\n  [2]: https://i.stack.imgur.com/UDCp6.png\r\n  [3]: https://i.stack.imgur.com/x0H2V.png","title":"No Adapter Attached Skipping layout error with RecyclerView Adapter","body":"<p>These are steps I am doing in this project:</p>\n<ul>\n<li>First I am creating a user profile on Firebase</li>\n<li>Once the profile is created, I am redirecting the user to another activity, where the user is creating a journal with Image</li>\n<li>Then saving the journal with image on Firestore</li>\n<li>Once the data is created on the user profile, I am trying to fetch the values from Firestore using RecyclerView Adapter</li>\n<li>Then on a listing page I am trying to fetch all the values in an ArrayList--&gt; <strong>here I am getting the error of No Adapter Attached</strong></li>\n</ul>\n<p><strong>The ArrayList Activity file:</strong></p>\n<ul>\n<li><p>Initializing the recyclerView in OnCreate</p>\n<pre><code>  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.activity_journal_list);\n\n      firebaseAuth= FirebaseAuth.getInstance();\n      user= firebaseAuth.getCurrentUser();\n\n      noJournalEntry= findViewById(R.id.list_no_thoughts);\n      journalList= new ArrayList&lt;&gt;();\n\n      recyclerView= (RecyclerView) findViewById(R.id.recyclerView);\n      recyclerView.setLayoutManager(new LinearLayoutManager(this));\n      recyclerView.setHasFixedSize(true);\n\n\n  }\n</code></pre>\n</li>\n<li><p>Invoking the RecyclerView in onStart:</p>\n<pre><code> @Override\n protected void onStart() {\n     super.onStart();\n     //we are getting the user Id of the person who is logged in\n     collectionReference.whereEqualTo(&quot;userId&quot;, JournalApi.getInstance()\n             .getUserId())\n             .get()\n             .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n         @Override\n         public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n             if(!queryDocumentSnapshots.isEmpty()) {\n                 for(QueryDocumentSnapshot journals: queryDocumentSnapshots){\n                     Journal journal = journals.toObject(Journal.class);\n                     journalList.add(journal);\n\n                    Toast.makeText(JournalListActivity.this,&quot;UserId found&quot;, Toast.LENGTH_LONG).show();\n                 }\n\n                 // Invoke Recyclerview\n\n                 journalRecyclerAdapter= new JournalRecyclerAdapter(JournalListActivity.this, journalList);\n                 recyclerView.setAdapter(journalRecyclerAdapter);\n                 journalRecyclerAdapter.notifyDataSetChanged();\n\n             } else {\n\n                 noJournalEntry.setVisibility(View.VISIBLE);\n\n             }\n         }\n     }).addOnFailureListener(new OnFailureListener() {\n         @Override\n         public void onFailure(@NonNull Exception e) {\n\n             Toast.makeText(JournalListActivity.this,&quot;UserId NOT found&quot;, Toast.LENGTH_LONG).show();\n\n         }\n     });\n\n\n }\n</code></pre>\n<p>}</p>\n</li>\n</ul>\n<p>As you can see that the RecyclerView is called fine, but the ArrayList is not loading.</p>\n<p>The <strong>Error</strong>:  <code>E/RecyclerView: No adapter attached; skipping layout</code></p>\n<p>I referred to various posts in Stackoverflow and followed the steps, not sure where I am going wrong.</p>\n<p>I am adding screenshots here of the Arraylist file:\n<a href=\"https://i.stack.imgur.com/0sMA5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0sMA5.png\" alt=\"enter image description here\" /></a></p>\n<p>The RecyclerView adapter:\n<a href=\"https://i.stack.imgur.com/0sMA5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0sMA5.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/UDCp6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UDCp6.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/x0H2V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x0H2V.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","compiler-errors"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1634874601,"post_id":69671199,"comment_id":123148978,"body_markdown":"Variables can&#39;t start with numbers","body":"Variables can&#39;t start with numbers"},{"owner":{"account_id":21569654,"reputation":1,"user_id":15902713,"display_name":"Bruno"},"score":0,"creation_date":1634874665,"post_id":69671199,"comment_id":123148987,"body_markdown":"In this case? &quot;1.setHgap(10);&quot; What should I do?","body":"In this case? &quot;1.setHgap(10);&quot; What should I do?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1634874800,"post_id":69671199,"comment_id":123149008,"body_markdown":"1) Don&#39;t post images of text. post the text itself. 2) Don&#39;t bother trying to run code before it compiles cleanly. 3) Solve each compilation error as soon as the IDE flags it.","body":"1) Don&#39;t post images of text. post the text itself. 2) Don&#39;t bother trying to run code before it compiles cleanly. 3) Solve each compilation error as soon as the IDE flags it."},{"owner":{"account_id":21569654,"reputation":1,"user_id":15902713,"display_name":"Bruno"},"score":0,"creation_date":1634875013,"post_id":69671199,"comment_id":123149039,"body_markdown":"Sorry, but could you help-me?","body":"Sorry, but could you help-me?"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1634875167,"post_id":69671199,"comment_id":123149058,"body_markdown":"`FTextField` should be `JTextField`. You want to set the `GridLayout` to the panel (`p`) and add components to it. Not to the `JFrame`.  These lines of code `1.setHgap(10);\n  1.setVgap(10);   frmJanela.setLayout(1)` are not valid in Java.","body":"<code>FTextField</code> should be <code>JTextField</code>. You want to set the <code>GridLayout</code> to the panel (<code>p</code>) and add components to it. Not to the <code>JFrame</code>.  These lines of code <code>1.setHgap(10);   1.setVgap(10);   frmJanela.setLayout(1)</code> are not valid in Java."},{"owner":{"account_id":21569654,"reputation":1,"user_id":15902713,"display_name":"Bruno"},"score":0,"creation_date":1634877181,"post_id":69671199,"comment_id":123149376,"body_markdown":"Thanks to all of you, I got it and understood what is most important.","body":"Thanks to all of you, I got it and understood what is most important."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634875089,"creation_date":1634875089,"answer_id":69671250,"question_id":69671199,"body_markdown":"[Learning the Java Language](https://docs.oracle.com/javase/tutorial/java/index.html) might be a better place to start\r\n\r\n    import java.awt.GridLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class ConversorTemperatura {\r\n\r\n        private JFrame frmJanela;\r\n        private JTextField txtFah;\r\n        private JLabel lblFah;\r\n        private JButton btnConverter;\r\n        private JLabel lblCelsius;\r\n\r\n        public void exibir() {\r\n            frmJanela.setVisible(true);\r\n        }\r\n\r\n        public ConversorTemperatura() {\r\n            frmJanela = new JFrame();\r\n            frmJanela.setTitle(&quot;Conversor Fahrenheit p/ Celsius&quot;);\r\n            frmJanela.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frmJanela.setLocationRelativeTo(null);\r\n            JPanel p = new JPanel();\r\n            p.setBorder(new EmptyBorder(10, 10, 10, 10));\r\n            frmJanela.setContentPane(p);\r\n\r\n            GridLayout layout = new GridLayout(2, 2);\r\n            layout.setHgap(10);\r\n            layout.setVgap(10);\r\n            frmJanela.setLayout(layout);\r\n\r\n            //frmJanela.setLayout(new GridLayout(2, 2));\r\n\r\n            txtFah = new JTextField();\r\n            txtFah.setColumns(5);\r\n            frmJanela.add(txtFah);\r\n\r\n            lblFah = new JLabel();\r\n            lblFah.setText(&quot;Fahrenheit&quot;);\r\n            frmJanela.add(lblFah);\r\n\r\n            btnConverter = new JButton();\r\n            btnConverter.setText(&quot;Converter&quot;);\r\n            frmJanela.add(btnConverter);\r\n\r\n            lblCelsius = new JLabel();\r\n            lblCelsius.setText(&quot;Celsius&quot;);\r\n            frmJanela.add(lblCelsius);\r\n\r\n            frmJanela.pack();\r\n        }\r\n\r\n    }\r\n","title":"FTextField, Jlabel and more mistakes in converter java program","body":"<p><a href=\"https://docs.oracle.com/javase/tutorial/java/index.html\" rel=\"nofollow noreferrer\">Learning the Java Language</a> might be a better place to start</p>\n<pre><code>import java.awt.GridLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.border.EmptyBorder;\n\npublic class ConversorTemperatura {\n\n    private JFrame frmJanela;\n    private JTextField txtFah;\n    private JLabel lblFah;\n    private JButton btnConverter;\n    private JLabel lblCelsius;\n\n    public void exibir() {\n        frmJanela.setVisible(true);\n    }\n\n    public ConversorTemperatura() {\n        frmJanela = new JFrame();\n        frmJanela.setTitle(&quot;Conversor Fahrenheit p/ Celsius&quot;);\n        frmJanela.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frmJanela.setLocationRelativeTo(null);\n        JPanel p = new JPanel();\n        p.setBorder(new EmptyBorder(10, 10, 10, 10));\n        frmJanela.setContentPane(p);\n\n        GridLayout layout = new GridLayout(2, 2);\n        layout.setHgap(10);\n        layout.setVgap(10);\n        frmJanela.setLayout(layout);\n\n        //frmJanela.setLayout(new GridLayout(2, 2));\n\n        txtFah = new JTextField();\n        txtFah.setColumns(5);\n        frmJanela.add(txtFah);\n\n        lblFah = new JLabel();\n        lblFah.setText(&quot;Fahrenheit&quot;);\n        frmJanela.add(lblFah);\n\n        btnConverter = new JButton();\n        btnConverter.setText(&quot;Converter&quot;);\n        frmJanela.add(btnConverter);\n\n        lblCelsius = new JLabel();\n        lblCelsius.setText(&quot;Celsius&quot;);\n        frmJanela.add(lblCelsius);\n\n        frmJanela.pack();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":21569654,"reputation":1,"user_id":15902713,"display_name":"Bruno"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1634894703,"answer_count":1,"score":-2,"last_activity_date":1634875089,"creation_date":1634874558,"question_id":69671199,"body_markdown":"When I go to try to run my temperature converter program, I find these errors, does anyone know what is missing?\r\n\r\nThe code is giving these errors of the image, Jlabel, FtextField and maybe something is missing, is it?\r\n\r\nDo you have something to do in this case?\r\n\r\n[Errors][1]\r\n\r\n\r\nMain.java\r\n```\r\npackage swing;\r\n\r\npublic class main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tConversorTemperatura ct = new ConversorTemperatura();\r\n\t\tct.exibir();\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nConversorTemperatura.java\r\n```\r\npackage swing;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JButton;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.GridLayout;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.border.EmptyBorder;\r\n\r\npublic class ConversorTemperatura {\r\n\tprivate JFrame frmJanela;\r\n\tprivate FTextField txtFah;\r\n\tprivate JLabel lblFah;\r\n\tprivate JButton btnConverter;\r\n\tprivate Jlabel lblCelsius;\r\n\t\r\n\tpublic void exibir() {\r\n\t\tfrmJanela.setVisible(true);\r\n\t}\r\n\t\r\n\tpublic ConversorTemperatura() {\r\n\t\tfrmJanela = new JFrame();\r\n\t\tfrmJanela.setTitle(&quot;Conversor Fahrenheit p/ Celsius&quot;);\r\n\t\tfrmJanela.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tfrmJanela.setLocationRelativeTo(null);\r\n\t\tJPanel p = new JPanel();\r\n\t\tp.setBorder(new EmptyBorder (10,10,10,10));\r\n\t\tfrmJanela.setContentPane(p);\r\n\t\t\r\n\t\t\r\n\t\t1.setHgap(10);\r\n\t\t1.setVgap(10);\r\n\t\tfrmJanela.setLayout(1);\r\n\t\t\r\n\t\tfrmJanela.setLayout(new GridLayout(2, 2));\r\n\t\t\r\n\t\ttxtFah = new JTextField();\r\n\t\ttxtFah.setColumns(5);\r\n\t\tfrmJanela.add(txtFah);\r\n\t\t\r\n\t\tlblFah = new JLabel();\r\n\t\tlblFah.setText(&quot;Fahrenheit&quot;);\r\n\t\tfrmJanela.add(lblFah);\r\n\t\t\r\n\t\tbtnConverter = new JButton();\r\n\t\tbtnConverter.setText(&quot;Converter&quot;);\r\n\t\tfrmJanela.add(btnConverter);\r\n\t\t\r\n\t\tlblCelsius = new JLabel();\r\n\t\tlblCelsius.setText(&quot;Celsius&quot;);\r\n\t\tfrmJanela.add(lblCelsius);\r\n\t\t\r\n\t\tfrmJanela.pack();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ccte7.jpg\r\n  [2]: https://i.stack.imgur.com/ukU2h.png","title":"FTextField, Jlabel and more mistakes in converter java program","body":"<p>When I go to try to run my temperature converter program, I find these errors, does anyone know what is missing?</p>\n<p>The code is giving these errors of the image, Jlabel, FtextField and maybe something is missing, is it?</p>\n<p>Do you have something to do in this case?</p>\n<p><a href=\"https://i.stack.imgur.com/Ccte7.jpg\" rel=\"nofollow noreferrer\">Errors</a></p>\n<p>Main.java</p>\n<pre><code>package swing;\n\npublic class main {\n    \n    public static void main(String[] args) {\n        ConversorTemperatura ct = new ConversorTemperatura();\n        ct.exibir();\n    }\n\n}\n\n</code></pre>\n<p>ConversorTemperatura.java</p>\n<pre><code>package swing;\n\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\nimport javax.swing.JLabel;\nimport javax.swing.JButton;\nimport java.awt.FlowLayout;\nimport java.awt.GridLayout;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\npublic class ConversorTemperatura {\n    private JFrame frmJanela;\n    private FTextField txtFah;\n    private JLabel lblFah;\n    private JButton btnConverter;\n    private Jlabel lblCelsius;\n    \n    public void exibir() {\n        frmJanela.setVisible(true);\n    }\n    \n    public ConversorTemperatura() {\n        frmJanela = new JFrame();\n        frmJanela.setTitle(&quot;Conversor Fahrenheit p/ Celsius&quot;);\n        frmJanela.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frmJanela.setLocationRelativeTo(null);\n        JPanel p = new JPanel();\n        p.setBorder(new EmptyBorder (10,10,10,10));\n        frmJanela.setContentPane(p);\n        \n        \n        1.setHgap(10);\n        1.setVgap(10);\n        frmJanela.setLayout(1);\n        \n        frmJanela.setLayout(new GridLayout(2, 2));\n        \n        txtFah = new JTextField();\n        txtFah.setColumns(5);\n        frmJanela.add(txtFah);\n        \n        lblFah = new JLabel();\n        lblFah.setText(&quot;Fahrenheit&quot;);\n        frmJanela.add(lblFah);\n        \n        btnConverter = new JButton();\n        btnConverter.setText(&quot;Converter&quot;);\n        frmJanela.add(btnConverter);\n        \n        lblCelsius = new JLabel();\n        lblCelsius.setText(&quot;Celsius&quot;);\n        frmJanela.add(lblCelsius);\n        \n        frmJanela.pack();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","windows-10","git-bash"],"comments":[{"owner":{"display_name":"user17201277"},"score":0,"creation_date":1634861126,"post_id":69668946,"comment_id":123147232,"body_markdown":"You should add `%JAVA_HOME%\\bin` to the user environment variable `PATH`.","body":"You should add <code>%JAVA_HOME%\\bin</code> to the user environment variable <code>PATH</code>."},{"owner":{"account_id":17965359,"reputation":305,"user_id":13055352,"display_name":"happytohelp"},"score":0,"creation_date":1634864073,"post_id":69668946,"comment_id":123147624,"body_markdown":"I have already added that to the path","body":"I have already added that to the path"}],"answers":[{"tags":[],"owner":{"account_id":7425752,"reputation":32,"user_id":5648278,"display_name":"Rob"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634861920,"creation_date":1634861595,"answer_id":69670082,"question_id":69668946,"body_markdown":"As suggested, you can add to the PATH the `%JAVA_HOME%\\bin`\r\nhttps://maven.apache.org/install.html\r\n\r\nThen using the ff. command, verify what JDK version your maven using\r\n\r\n    mvn -v\r\n\r\nyou should see something like this\r\n\r\n[![output screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Uvk58.png","title":"Change Java_Home Path in windows 10 without admin rights","body":"<p>As suggested, you can add to the PATH the <code>%JAVA_HOME%\\bin</code>\n<a href=\"https://maven.apache.org/install.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/install.html</a></p>\n<p>Then using the ff. command, verify what JDK version your maven using</p>\n<pre><code>mvn -v\n</code></pre>\n<p>you should see something like this</p>\n<p><a href=\"https://i.stack.imgur.com/Uvk58.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uvk58.png\" alt=\"output screenshot\" /></a></p>\n"}],"owner":{"account_id":17965359,"reputation":305,"user_id":13055352,"display_name":"happytohelp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634874917,"creation_date":1634851415,"question_id":69668946,"body_markdown":"I have a *windows 10* laptop and I donot have admin rights. But there is already jdk 11 installed in my laptop with **JAVA_HOME** set in system variables. So one of my project does not compile with java 11 and I needed to install jdk 8 and I followed [this instructions][1] and installed it.\r\n\r\nI have set the **JAVA_HOME** again in the user variables. But when I tried to see the version using `java --version` I could only see the `jdk 11` that is set in system variables and I cannot see the `jdk 8` that I installed in the `C:/Users` directory. So how can I set/change the **JAVA_HOME** for my maven project to build in git bash and run the spring boot app.\r\n\r\n**EDIT:**\r\n\r\n***note***: I have also added the %JAVA_HOME%\\bin to User variables Path.\r\n\r\n\r\n  [1]: https://zemian.github.io/2018/03/23/install-windows-jdk-without-admin-rights/","title":"Change Java_Home Path in windows 10 without admin rights","body":"<p>I have a <em>windows 10</em> laptop and I donot have admin rights. But there is already jdk 11 installed in my laptop with <strong>JAVA_HOME</strong> set in system variables. So one of my project does not compile with java 11 and I needed to install jdk 8 and I followed <a href=\"https://zemian.github.io/2018/03/23/install-windows-jdk-without-admin-rights/\" rel=\"nofollow noreferrer\">this instructions</a> and installed it.</p>\n<p>I have set the <strong>JAVA_HOME</strong> again in the user variables. But when I tried to see the version using <code>java --version</code> I could only see the <code>jdk 11</code> that is set in system variables and I cannot see the <code>jdk 8</code> that I installed in the <code>C:/Users</code> directory. So how can I set/change the <strong>JAVA_HOME</strong> for my maven project to build in git bash and run the spring boot app.</p>\n<p><strong>EDIT:</strong></p>\n<p><em><strong>note</strong></em>: I have also added the %JAVA_HOME%\\bin to User variables Path.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1532735,"reputation":1778,"user_id":1429535,"display_name":"Victor Wilson"},"score":0,"creation_date":1634849334,"post_id":69668581,"comment_id":123144666,"body_markdown":"Recursion isn’t usually considered a loop.","body":"Recursion isn’t usually considered a loop."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1634849423,"post_id":69668581,"comment_id":123144704,"body_markdown":"@VictorWilson: Of course it&#39;s a loop.  How could it be otherwise?  That&#39;s how functional programming languages like lisp are able to loop without using an explicit loop construct like `for` or `while`.","body":"@VictorWilson: Of course it&#39;s a loop.  How could it be otherwise?  That&#39;s how functional programming languages like lisp are able to loop without using an explicit loop construct like <code>for</code> or <code>while</code>."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1634849483,"post_id":69668581,"comment_id":123144729,"body_markdown":"@RobertHarvey It is a loop but as thye said, it is often not considered a loop. For example in homework questions that say _&quot;dont use loops&quot;._","body":"@RobertHarvey It is a loop but as thye said, it is often not considered a loop. For example in homework questions that say <i>&quot;dont use loops&quot;.</i>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1634849616,"post_id":69668581,"comment_id":123144780,"body_markdown":"Create a list, or download one, of fibanacci numbers up to Integer.MAX_VALUE and save it in a text file. Then have your program check if your element is in the list. I&#39;m sure there is a loop in there though.","body":"Create a list, or download one, of fibanacci numbers up to Integer.MAX_VALUE and save it in a text file. Then have your program check if your element is in the list. I&#39;m sure there is a loop in there though."},{"owner":{"account_id":1532735,"reputation":1778,"user_id":1429535,"display_name":"Victor Wilson"},"score":0,"creation_date":1635011857,"post_id":69668581,"comment_id":123183551,"body_markdown":"@RobertHarvey I submit a language like Lisp cannot iterate through lists of items; it can only recurse through them. Maybe it’s a semantic difference - while the end result is the same, they occupy different sectors of my brain.","body":"@RobertHarvey I submit a language like Lisp cannot iterate through lists of items; it can only recurse through them. Maybe it’s a semantic difference - while the end result is the same, they occupy different sectors of my brain."}],"answers":[{"tags":[],"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634874711,"creation_date":1634874711,"answer_id":69671224,"question_id":69668581,"body_markdown":"This may seem like cheating, but if it isn&#39;t `1` then check whether `Math.round(x * 2.23606797749979))` when squared gives you `5*x*x+4` or `5*x*x-4`.\r\n\r\nThe reason why is that 5 times a Fibonacci number +- 4 has to be a perfect square.  And if `x` is at all large, the only number which, when squared, could possibly do it is the closest integer to `x*sqrt(5)`.  And &quot;at all large&quot; works out to be larger than 1.","title":"Can you find if a number is fibonacci without looping or using a square root?","body":"<p>This may seem like cheating, but if it isn't <code>1</code> then check whether <code>Math.round(x * 2.23606797749979))</code> when squared gives you <code>5*x*x+4</code> or <code>5*x*x-4</code>.</p>\n<p>The reason why is that 5 times a Fibonacci number +- 4 has to be a perfect square.  And if <code>x</code> is at all large, the only number which, when squared, could possibly do it is the closest integer to <code>x*sqrt(5)</code>.  And &quot;at all large&quot; works out to be larger than 1.</p>\n"}],"owner":{"account_id":21147326,"reputation":23,"user_id":15548363,"display_name":"mdimran"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1634878329,"answer_count":1,"score":1,"last_activity_date":1634874711,"creation_date":1634849169,"question_id":69668581,"body_markdown":"doing some practice technical tests for interviews but I have been asked to find if a number is in the Fibonacci sequence without using a loop or square root. I have done an implementation with loops but does not count. so how am I supposed to go about it unless I have infinite if statements? &#128514;","title":"Can you find if a number is fibonacci without looping or using a square root?","body":"<p>doing some practice technical tests for interviews but I have been asked to find if a number is in the Fibonacci sequence without using a loop or square root. I have done an implementation with loops but does not count. so how am I supposed to go about it unless I have infinite if statements? 😂</p>\n"},{"tags":["java","ssl-certificate","timeout","httpsurlconnection","sslsocketfactory"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1634914069,"post_id":69664826,"comment_id":123162902,"body_markdown":"Why don&#39;t you use the same method to obtain the socket for method 2 as you do for method 1? Why not simply the same line `socket = (SSLSocket)sslSocfactory.createSocket(host, port);`?","body":"Why don&#39;t you use the same method to obtain the socket for method 2 as you do for method 1? Why not simply the same line <code>socket = (SSLSocket)sslSocfactory.createSocket(host, port);</code>?"},{"owner":{"account_id":23103368,"reputation":1,"user_id":17212457,"display_name":"Tacoma50"},"score":0,"creation_date":1634924678,"post_id":69664826,"comment_id":123166729,"body_markdown":"Hi,\nWhen I try this as you suggest:\n     socket = (SSLSocket)factory.createSocket(host, port);\n     socket.connect(new InetSocketAddress(host, port), timeout);\nI get this runtime error:\n   java.net.SocketException: already connected\n\nI have to somehow utilize InetSocketAddress(host, port), timeout) because this is the only way timeout works as I need it to. Because setSoTimeout(timeout) only works for one of these: connect or handshake, I forget which one.","body":"Hi, When I try this as you suggest:      socket = (SSLSocket)factory.createSocket(host, port);      socket.connect(new InetSocketAddress(host, port), timeout); I get this runtime error:    java.net.SocketException: already connected  I have to somehow utilize InetSocketAddress(host, port), timeout) because this is the only way timeout works as I need it to. Because setSoTimeout(timeout) only works for one of these: connect or handshake, I forget which one."}],"owner":{"account_id":23103368,"reputation":1,"user_id":17212457,"display_name":"Tacoma50"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634873917,"creation_date":1634830439,"question_id":69664826,"body_markdown":"```java\r\n SSLSocket socket = null;\r\n SSLContext sc = null;\r\n sc = SSLContext.getInstance(&quot;TLS&quot;);\r\n sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n SSLSocketFactory sslSocfactory = HttpsURLConnection.getDefaultSSLSocketFactory();\r\n  \r\n //--- Method-1 connection -----\r\n    socket = (SSLSocket)sslSocfactory.createSocket(host, port);\r\n    socket.setSoTimeout(timeout);          \r\n\r\n //--- Method-2 connection -----\r\n    socket = (SSLSocket)SSLSocketFactory.getDefault().createSocket();\r\n    socket.connect(new InetSocketAddress(host, port), timeout); //- This timeout works for my situation\r\n    socket.setSoTimeout(timeout);\r\n```\r\n            \r\nUsing Method-1 to connect works. It trusts all certificates, even self-signed certs, but the timeout does not work as well as Method-2, but when I use Method-2 not all certs are trusted, and it fails for self-signed certs.\r\nI understand that this is because in Method-2 I did not use my sslSocfactory which incorporates the trustAllCerts. I can&#39;t figure out how to incorporate my sslSocfactory into Method-2. I&#39;ve tried a few ways, but the compile fails.\r\n","title":"Java HttpsURLConnection SSLSocketFactory timeout with trustAllCerts","body":"<pre class=\"lang-java prettyprint-override\"><code> SSLSocket socket = null;\n SSLContext sc = null;\n sc = SSLContext.getInstance(&quot;TLS&quot;);\n sc.init(null, trustAllCerts, new java.security.SecureRandom());\n HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n SSLSocketFactory sslSocfactory = HttpsURLConnection.getDefaultSSLSocketFactory();\n  \n //--- Method-1 connection -----\n    socket = (SSLSocket)sslSocfactory.createSocket(host, port);\n    socket.setSoTimeout(timeout);          \n\n //--- Method-2 connection -----\n    socket = (SSLSocket)SSLSocketFactory.getDefault().createSocket();\n    socket.connect(new InetSocketAddress(host, port), timeout); //- This timeout works for my situation\n    socket.setSoTimeout(timeout);\n</code></pre>\n<p>Using Method-1 to connect works. It trusts all certificates, even self-signed certs, but the timeout does not work as well as Method-2, but when I use Method-2 not all certs are trusted, and it fails for self-signed certs.\nI understand that this is because in Method-2 I did not use my sslSocfactory which incorporates the trustAllCerts. I can't figure out how to incorporate my sslSocfactory into Method-2. I've tried a few ways, but the compile fails.</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":5269973,"reputation":92,"user_id":4208564,"display_name":"op_"},"score":2,"creation_date":1634846827,"post_id":69668060,"comment_id":123143852,"body_markdown":"Does this answer your question? [Round a double to 2 decimal places](https://stackoverflow.com/questions/2808535/round-a-double-to-2-decimal-places)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2808535/round-a-double-to-2-decimal-places\">Round a double to 2 decimal places</a>"}],"answers":[{"tags":[],"owner":{"account_id":16257655,"reputation":379,"user_id":11739931,"display_name":"retoen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634846330,"creation_date":1634846330,"answer_id":69668094,"question_id":69668060,"body_markdown":"With the primitive type `double` you can&#39;t express exact numbers, due to numerical issues. Try using BigDecimal instead and the `.divide()` method. There you can also set the scale to 2 (2 decimal places) and the RoundingMode (usually HALF_UP)","title":"Rounding to nearest whole number","body":"<p>With the primitive type <code>double</code> you can't express exact numbers, due to numerical issues. Try using BigDecimal instead and the <code>.divide()</code> method. There you can also set the scale to 2 (2 decimal places) and the RoundingMode (usually HALF_UP)</p>\n"}],"owner":{"account_id":19206172,"reputation":105,"user_id":14033004,"display_name":"tcho1506996"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1634849808,"accepted_answer_id":69668094,"answer_count":1,"score":1,"last_activity_date":1634873633,"creation_date":1634846116,"question_id":69668060,"body_markdown":"I am writing a function in which it should return the total amount that has been rounded to the nearest up pound (&#163;). Note: the inputs are written as whole numbers without decimal places so 260 is actually &#163;2.60 etc.\r\n\r\nE.g.\r\n\r\n    intput: 260 -&gt; output: 0.40\r\n    \r\n    intput: 520 -&gt; output: 0.80\r\n    \r\n    total = 1.20 (because 40p + 80p)\r\n\r\nI have written out this function:\r\n\r\n    public Double nearestPoundTotaler(List&lt;Integer&gt; transactions)\r\n    {\r\n        double total = 0.00;\r\n\r\n        for(Integer amount : transactions)\r\n        {\r\n            int penceAmount = amount % 100;\r\n            int penceToNearestNextPound = 100 - penceAmount;\r\n            double answer = penceToNearestNextPound / 100.0;\r\n            total = total + answer;\r\n        }\r\n        return total;\r\n    }\r\n\r\nI have written unit tests and the logic works but the test fails since the decimal places are incorrect. E.g. if passing `260,260,260` into the method,  I get the following:\r\n\r\n    expected: 1.2\r\n\r\n    but was: 1.2000000000000002\r\n\r\nI&#39;ve tried numerous ways of removing the decimal place but I haven&#39;t seemed to find a way. Also is it possible to perform this logic with the `.round()` methods in Java? \r\n","title":"Rounding to nearest whole number","body":"<p>I am writing a function in which it should return the total amount that has been rounded to the nearest up pound (£). Note: the inputs are written as whole numbers without decimal places so 260 is actually £2.60 etc.</p>\n<p>E.g.</p>\n<pre><code>intput: 260 -&gt; output: 0.40\n\nintput: 520 -&gt; output: 0.80\n\ntotal = 1.20 (because 40p + 80p)\n</code></pre>\n<p>I have written out this function:</p>\n<pre><code>public Double nearestPoundTotaler(List&lt;Integer&gt; transactions)\n{\n    double total = 0.00;\n\n    for(Integer amount : transactions)\n    {\n        int penceAmount = amount % 100;\n        int penceToNearestNextPound = 100 - penceAmount;\n        double answer = penceToNearestNextPound / 100.0;\n        total = total + answer;\n    }\n    return total;\n}\n</code></pre>\n<p>I have written unit tests and the logic works but the test fails since the decimal places are incorrect. E.g. if passing <code>260,260,260</code> into the method,  I get the following:</p>\n<pre><code>expected: 1.2\n\nbut was: 1.2000000000000002\n</code></pre>\n<p>I've tried numerous ways of removing the decimal place but I haven't seemed to find a way. Also is it possible to perform this logic with the <code>.round()</code> methods in Java?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1634870389,"post_id":69670736,"comment_id":123148418,"body_markdown":"Get rid of the `Collection&lt;Predicate&gt;` and join them together using `Predicate.and()` or `Predicate.or()` as appropriate. `getFilters()` should return this `Predicate`, not a collection of them.","body":"Get rid of the <code>Collection&lt;Predicate&gt;</code> and join them together using <code>Predicate.and()</code> or <code>Predicate.or()</code> as appropriate. <code>getFilters()</code> should return this <code>Predicate</code>, not a collection of them."}],"answers":[{"tags":[],"owner":{"account_id":4482164,"reputation":6664,"user_id":3645944,"accept_rate":90,"display_name":"Pablo Matias Gomez"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1634869918,"creation_date":1634869918,"answer_id":69670759,"question_id":69670736,"body_markdown":"You can simply reduce all the predicates into one single Predicate that is anded with all of them like this:\r\n\r\n```\r\noStream\r\n    .filter(filters.stream().reduce(Predicate::and).orElseThrow())\r\n    .forEach(System.out::println);\r\n```\r\n\r\nAlternatively, if you expect the list of filters to be empty in some cases, you could do it this way:\r\n\r\n```\r\noStream\r\n    .filter(filters.stream().reduce(o -&gt; true, Predicate::and))\r\n    .forEach(System.out::println);\r\n```\r\n","title":"How to apply a collection of filters to a Java stream?","body":"<p>You can simply reduce all the predicates into one single Predicate that is anded with all of them like this:</p>\n<pre><code>oStream\n    .filter(filters.stream().reduce(Predicate::and).orElseThrow())\n    .forEach(System.out::println);\n</code></pre>\n<p>Alternatively, if you expect the list of filters to be empty in some cases, you could do it this way:</p>\n<pre><code>oStream\n    .filter(filters.stream().reduce(o -&gt; true, Predicate::and))\n    .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634870200,"creation_date":1634870200,"answer_id":69670796,"question_id":69670736,"body_markdown":"You can use a loop to apply the filters:\r\n\r\n```java\r\nfinal Collection&lt;Predicate&lt;MyObject&gt;&gt; filters = getFilters();\r\n\r\nStream&lt;MyObject&gt; oStream = getMyObjectStream();\r\nfor(Predicate&lt;MyObject&gt; p : filters) {\r\n    oStream = oStream.filter(p);\r\n}\r\noStream.forEach(System.out::println);\r\n```","title":"How to apply a collection of filters to a Java stream?","body":"<p>You can use a loop to apply the filters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Collection&lt;Predicate&lt;MyObject&gt;&gt; filters = getFilters();\n\nStream&lt;MyObject&gt; oStream = getMyObjectStream();\nfor(Predicate&lt;MyObject&gt; p : filters) {\n    oStream = oStream.filter(p);\n}\noStream.forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17201277"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634873015,"creation_date":1634872065,"answer_id":69670962,"question_id":69670736,"body_markdown":"You can pre-create a filter that meet all the criteria.\r\n\r\nSuppose you have three `Predicate &lt;MyObject&gt; a, b, c`. These can be combined as follows regardless of `oStream`.\r\n\r\n    Predicate&lt;MyObject&gt; allFilter = e -&gt; a.test(e) &amp;&amp; b.test(e) &amp;&amp; c.test(e);\r\n\r\nSo you can do like this.\r\n\r\n    Predicate&lt;MyObject&gt; filterAll = filters.stream()\r\n        .reduce(Predicate::and).orElse(e -&gt; true);\r\n\r\n    oStream\r\n       .filter(filterAll)\r\n       .forEach(System.out::println);\r\n","title":"How to apply a collection of filters to a Java stream?","body":"<p>You can pre-create a filter that meet all the criteria.</p>\n<p>Suppose you have three <code>Predicate &lt;MyObject&gt; a, b, c</code>. These can be combined as follows regardless of <code>oStream</code>.</p>\n<pre><code>Predicate&lt;MyObject&gt; allFilter = e -&gt; a.test(e) &amp;&amp; b.test(e) &amp;&amp; c.test(e);\n</code></pre>\n<p>So you can do like this.</p>\n<pre><code>Predicate&lt;MyObject&gt; filterAll = filters.stream()\n    .reduce(Predicate::and).orElse(e -&gt; true);\n\noStream\n   .filter(filterAll)\n   .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69670759,"answer_count":3,"score":4,"last_activity_date":1634873015,"creation_date":1634869635,"question_id":69670736,"body_markdown":"How can I apply a collection of predicates to a Java stream?\r\n\r\nThe following code shall illustrate what I have in mind:\r\n\r\n```java\r\nfinal Collection&lt;Predicate&lt;MyObject&gt;&gt; filters = getFilters();\r\nfinal Stream&lt;MyObject&gt; oStream = getMyObjectStream();\r\noStream\r\n   .filterAll(filters) // &lt;- this one doesn&#39;t exist\r\n   .forEach(System.out::println);\r\n```\r\n\r\nI&#39;m currently using a function `.filter(m -&gt; applyAllFilters(m, filters))` with a classic loop, but wonder if there is a more &quot;streamy&quot; way?\r\n\r\n```java\r\nboolean applyAllFilters(final MyObject m, final Collection&lt;Predicate&lt;MyObject&gt;&gt; filters) {\r\n   Iterator Predicate&lt;MyObject&gt; iter = filters.iterator();\r\n   while(iter.hasNext()) {\r\n      Predicate&lt;MyObject&gt; p = iter.next();\r\n      if (!p.test(m)) {\r\n         return false;\r\n      }\r\n   } \r\n  return true;\r\n}\r\n```","title":"How to apply a collection of filters to a Java stream?","body":"<p>How can I apply a collection of predicates to a Java stream?</p>\n<p>The following code shall illustrate what I have in mind:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Collection&lt;Predicate&lt;MyObject&gt;&gt; filters = getFilters();\nfinal Stream&lt;MyObject&gt; oStream = getMyObjectStream();\noStream\n   .filterAll(filters) // &lt;- this one doesn't exist\n   .forEach(System.out::println);\n</code></pre>\n<p>I'm currently using a function <code>.filter(m -&gt; applyAllFilters(m, filters))</code> with a classic loop, but wonder if there is a more &quot;streamy&quot; way?</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean applyAllFilters(final MyObject m, final Collection&lt;Predicate&lt;MyObject&gt;&gt; filters) {\n   Iterator Predicate&lt;MyObject&gt; iter = filters.iterator();\n   while(iter.hasNext()) {\n      Predicate&lt;MyObject&gt; p = iter.next();\n      if (!p.test(m)) {\n         return false;\n      }\n   } \n  return true;\n}\n</code></pre>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":6117912,"reputation":2451,"user_id":4772331,"display_name":"Gaurav Srivastav"},"score":0,"creation_date":1531062046,"post_id":51233085,"comment_id":89445538,"body_markdown":"Your json is malformed it should be [{&quot;key&quot;:&quot;value&quot;}]","body":"Your json is malformed it should be [{&quot;key&quot;:&quot;value&quot;}]"},{"owner":{"account_id":12954923,"reputation":157,"user_id":9366105,"display_name":"Steve Perkins"},"score":0,"creation_date":1531062346,"post_id":51233085,"comment_id":89445639,"body_markdown":"@GauravSrivastav I think only string values are to be quoted in JSON. In my case the values are numbers.","body":"@GauravSrivastav I think only string values are to be quoted in JSON. In my case the values are numbers."},{"owner":{"account_id":6117912,"reputation":2451,"user_id":4772331,"display_name":"Gaurav Srivastav"},"score":0,"creation_date":1531062467,"post_id":51233085,"comment_id":89445682,"body_markdown":"What about   &quot;header&quot; : [ &quot;com.xxx.models.Header&quot;, {...","body":"What about   &quot;header&quot; : [ &quot;com.xxx.models.Header&quot;, {..."},{"owner":{"account_id":12954923,"reputation":157,"user_id":9366105,"display_name":"Steve Perkins"},"score":0,"creation_date":1531062657,"post_id":51233085,"comment_id":89445731,"body_markdown":"@GauravSrivastav Jackson adds the array syntax when mapper.enableDefaultTyping() is used. It&#39;s supposed to allow Jackson to identify which concrete class type the JSON should be deserialized to.","body":"@GauravSrivastav Jackson adds the array syntax when mapper.enableDefaultTyping() is used. It&#39;s supposed to allow Jackson to identify which concrete class type the JSON should be deserialized to."}],"answers":[{"tags":[],"owner":{"account_id":12954923,"reputation":157,"user_id":9366105,"display_name":"Steve Perkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1531324843,"creation_date":1531324843,"answer_id":51289855,"question_id":51233085,"body_markdown":"This is a consistent problem with deserializing Jackson-serialized objects with `enableDefaultTyping()`, `mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.OBJECT_AND_NON_CONCRETE)`, or `mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_CONCRETE_AND_ARRAYS)`.\r\n\r\nThe root cause seems to be that Jackson simply doesn&#39;t understand its own wrapper syntax generated from these options. After much experimentation, Jackson was only able to deserialize the object hierarchy (from the question) it had serialized **if the objects were annotated with @JsonType.**\r\n\r\nIn the case shown in the question, the interface `IHeader` can be annotated as:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY)\r\n    public interface IHeader {\r\n    ...\r\n    }\r\n\r\nwhich produces the JSON\r\n\r\n    {\r\n      &quot;header&quot; : {\r\n        &quot;@class&quot; : &quot;com.xxx.models.Header&quot;,\r\n        &quot;sourceAddress&quot; : 0,\r\n        &quot;destinationAddress&quot; : 1\r\n    }\r\n\r\ninstead of wrapping each object with an array syntax to indicate its implementation type.\r\n\r\nI was not able to find a way to tell `ObjectMapper` to use the equivalent of JsonTypeInfo.As.PROPERTY. Annotating every interface with `@JsonType` is not ideal, but does provide a work-around the original problem.\r\n\r\nSee Jackson&#39;s documentation for `@JsonType` at https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization#12-per-class-annotations .","title":"Jackson can&#39;t deserialize JSON it serializes with enableDefaultTyping()","body":"<p>This is a consistent problem with deserializing Jackson-serialized objects with <code>enableDefaultTyping()</code>, <code>mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.OBJECT_AND_NON_CONCRETE)</code>, or <code>mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_CONCRETE_AND_ARRAYS)</code>.</p>\n\n<p>The root cause seems to be that Jackson simply doesn't understand its own wrapper syntax generated from these options. After much experimentation, Jackson was only able to deserialize the object hierarchy (from the question) it had serialized <strong>if the objects were annotated with @JsonType.</strong></p>\n\n<p>In the case shown in the question, the interface <code>IHeader</code> can be annotated as:</p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, include = JsonTypeInfo.As.PROPERTY)\npublic interface IHeader {\n...\n}\n</code></pre>\n\n<p>which produces the JSON</p>\n\n<pre><code>{\n  \"header\" : {\n    \"@class\" : \"com.xxx.models.Header\",\n    \"sourceAddress\" : 0,\n    \"destinationAddress\" : 1\n}\n</code></pre>\n\n<p>instead of wrapping each object with an array syntax to indicate its implementation type.</p>\n\n<p>I was not able to find a way to tell <code>ObjectMapper</code> to use the equivalent of JsonTypeInfo.As.PROPERTY. Annotating every interface with <code>@JsonType</code> is not ideal, but does provide a work-around the original problem.</p>\n\n<p>See Jackson's documentation for <code>@JsonType</code> at <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization#12-per-class-annotations\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization#12-per-class-annotations</a> .</p>\n"},{"tags":[],"owner":{"account_id":23048062,"reputation":1,"user_id":17165338,"display_name":"Raindou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634872291,"creation_date":1634872291,"answer_id":69670990,"question_id":51233085,"body_markdown":"```\r\n    public IHeader getHeader() {\r\n        return header;\r\n    }\r\n    public void setHeader(Header header) {\r\n        this.header = header;\r\n    }\r\n```\r\nThe cause of the problem is that the getter of `header` field return a `Interface` type of `IHeader`, but the setter takes a concrete type of `Header`. When JSON serializing, the type of `header` field decides by its getter, that is `IHeader`, and `IHeader` is a polymorphic type. When JSON deserializing, the type of `header` field decides by its setter&#39;s parameter type, that is `Header`, and `Header` is a concrete type. so at this point, Jackson throws a exception with this message. \r\n\r\n&quot;Can not deserialize instance of xxx out of START_ARRAY token&quot;\r\n\r\nMore details you can refer to `com.fasterxml.jackson.databind.ser.BeanSerializerFactory#_constructWriter` and `com.fasterxml.jackson.databind.deser.BeanDeserializerFactory#addBeanProps` ","title":"Jackson can&#39;t deserialize JSON it serializes with enableDefaultTyping()","body":"<pre><code>    public IHeader getHeader() {\n        return header;\n    }\n    public void setHeader(Header header) {\n        this.header = header;\n    }\n</code></pre>\n<p>The cause of the problem is that the getter of <code>header</code> field return a <code>Interface</code> type of <code>IHeader</code>, but the setter takes a concrete type of <code>Header</code>. When JSON serializing, the type of <code>header</code> field decides by its getter, that is <code>IHeader</code>, and <code>IHeader</code> is a polymorphic type. When JSON deserializing, the type of <code>header</code> field decides by its setter's parameter type, that is <code>Header</code>, and <code>Header</code> is a concrete type. so at this point, Jackson throws a exception with this message.</p>\n<p>&quot;Can not deserialize instance of xxx out of START_ARRAY token&quot;</p>\n<p>More details you can refer to <code>com.fasterxml.jackson.databind.ser.BeanSerializerFactory#_constructWriter</code> and <code>com.fasterxml.jackson.databind.deser.BeanDeserializerFactory#addBeanProps</code></p>\n"}],"owner":{"account_id":12954923,"reputation":157,"user_id":9366105,"display_name":"Steve Perkins"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5660,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51289855,"answer_count":2,"score":1,"last_activity_date":1634872291,"creation_date":1531061078,"question_id":51233085,"body_markdown":"Using Jackson 2.9.5, I am serializing an object to JSON and deserializing it back to a Java object. Upon deserializing the JSON, Jackson throws this exception:\r\n\r\n    com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of &#39;com.xxx.models.Header&#39; out of START_ARRAY token\r\n         at [Source: (String)&quot;{\r\n          &quot;header&quot; : [ &quot;com.xxx.models.Header&quot;, {\r\n            &quot;sourceAddress&quot; : 0,\r\n            &quot;destinationAddress&quot; : 1, ...\r\n\r\nThat&#39;s semi-understandable because the deserialized JSON looks like this:\r\n\r\n    {\r\n      &quot;header&quot; : [ &quot;com.xxx.models.Header&quot;, {\r\n        &quot;sourceAddress&quot; : 0,\r\n        &quot;destinationAddress&quot; : 1\r\n    ]}\r\n\r\nJackson adds the array syntax when `mapper.enableDefaultTyping()`, `mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.OBJECT_AND_NON_CONCRETE)`, or `mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_CONCRETE_AND_ARRAYS)` is used and `writeValueAsString()` is called.\r\n\r\nBut calling `readValue()` on the same object mapper to deserialize the same JSON it *just* generated throws the above exception. Why? **What am I doing wrong?** \r\n\r\nI should note that if I strip out the added `[ &quot;com.xxx.models.Header&quot;,` bit (and its corresponding array terminator) the JSON is parsed as expected and the deserialized object is fully populated.\r\n\r\nIt seems like this is specifically related to polymorphism, so here are the object definitions. A `SerialMessage` contains an `IHeader` and `IPayload`. A `Header` extends an `AbstractHeader` which implements `IHeader` and is what I&#39;m serializing and can&#39;t deserialize.\r\n\r\n    public class SerialMessage {\r\n    \t\r\n    \tprivate IHeader header;\r\n    \tprivate IPayload payload;\r\n    \t\r\n    \tpublic SerialMessage() {};\r\n    \tpublic SerialMessage(IHeader header) {\r\n    \t\tthis.header = header;\r\n    \t}\r\n    \t\r\n    \tpublic SerialMessage(IHeader header, IPayload payload) {\r\n    \t\tthis(header);\r\n    \t\tthis.payload = payload;\r\n    \t};\r\n    \t\r\n    \tpublic IHeader getHeader() {\r\n    \t\treturn header;\r\n    \t}\r\n    \tpublic void setHeader(Header header) {\r\n    \t\tthis.header = header;\r\n    \t}\r\n    \tpublic IPayload getPayload() {\r\n    \t\treturn payload;\r\n    \t}\r\n    \tpublic void setPayload(IPayload payload) {\r\n    \t\tthis.payload = payload;\r\n    \t}\r\n    }\r\n.\r\n\r\n    public class AbstractHeader implements IHeader {\r\n    \r\n    \tprotected short sourceAddress;\r\n    \tprotected short destinationAddress;\r\n    \r\n    \tpublic short getSourceAddress() {\r\n    \t\treturn sourceAddress;\r\n    \t}\r\n    \r\n    \tpublic void setSourceAddress(short sourceAddress) {\r\n    \t\tthis.sourceAddress = sourceAddress;\r\n    \t}\r\n    \r\n    \tpublic short getDestinationAddress() {\r\n    \t\treturn destinationAddress;\r\n    \t}\r\n    \r\n    \tpublic void setDestinationAddress(short destinationAddress) {\r\n    \t\tthis.destinationAddress = destinationAddress;\r\n    \t}\r\n    }\r\n\r\n.\r\n\r\n    public class Header extends AbstractHeader {\r\n    }","title":"Jackson can&#39;t deserialize JSON it serializes with enableDefaultTyping()","body":"<p>Using Jackson 2.9.5, I am serializing an object to JSON and deserializing it back to a Java object. Upon deserializing the JSON, Jackson throws this exception:</p>\n\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of 'com.xxx.models.Header' out of START_ARRAY token\n     at [Source: (String)\"{\n      \"header\" : [ \"com.xxx.models.Header\", {\n        \"sourceAddress\" : 0,\n        \"destinationAddress\" : 1, ...\n</code></pre>\n\n<p>That's semi-understandable because the deserialized JSON looks like this:</p>\n\n<pre><code>{\n  \"header\" : [ \"com.xxx.models.Header\", {\n    \"sourceAddress\" : 0,\n    \"destinationAddress\" : 1\n]}\n</code></pre>\n\n<p>Jackson adds the array syntax when <code>mapper.enableDefaultTyping()</code>, <code>mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.OBJECT_AND_NON_CONCRETE)</code>, or <code>mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_CONCRETE_AND_ARRAYS)</code> is used and <code>writeValueAsString()</code> is called.</p>\n\n<p>But calling <code>readValue()</code> on the same object mapper to deserialize the same JSON it <em>just</em> generated throws the above exception. Why? <strong>What am I doing wrong?</strong> </p>\n\n<p>I should note that if I strip out the added <code>[ \"com.xxx.models.Header\",</code> bit (and its corresponding array terminator) the JSON is parsed as expected and the deserialized object is fully populated.</p>\n\n<p>It seems like this is specifically related to polymorphism, so here are the object definitions. A <code>SerialMessage</code> contains an <code>IHeader</code> and <code>IPayload</code>. A <code>Header</code> extends an <code>AbstractHeader</code> which implements <code>IHeader</code> and is what I'm serializing and can't deserialize.</p>\n\n<pre><code>public class SerialMessage {\n\n    private IHeader header;\n    private IPayload payload;\n\n    public SerialMessage() {};\n    public SerialMessage(IHeader header) {\n        this.header = header;\n    }\n\n    public SerialMessage(IHeader header, IPayload payload) {\n        this(header);\n        this.payload = payload;\n    };\n\n    public IHeader getHeader() {\n        return header;\n    }\n    public void setHeader(Header header) {\n        this.header = header;\n    }\n    public IPayload getPayload() {\n        return payload;\n    }\n    public void setPayload(IPayload payload) {\n        this.payload = payload;\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>public class AbstractHeader implements IHeader {\n\n    protected short sourceAddress;\n    protected short destinationAddress;\n\n    public short getSourceAddress() {\n        return sourceAddress;\n    }\n\n    public void setSourceAddress(short sourceAddress) {\n        this.sourceAddress = sourceAddress;\n    }\n\n    public short getDestinationAddress() {\n        return destinationAddress;\n    }\n\n    public void setDestinationAddress(short destinationAddress) {\n        this.destinationAddress = destinationAddress;\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>public class Header extends AbstractHeader {\n}\n</code></pre>\n"},{"tags":["java","spring","qr-code","zxing"],"answers":[{"tags":[],"owner":{"account_id":22761065,"reputation":45,"user_id":16919886,"display_name":"lauwis premium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634872130,"creation_date":1634872130,"answer_id":69670971,"question_id":69611050,"body_markdown":"Done, with posixfilepermission ","title":"How to set qrcode file permission to 755 using zxing qr generator in java spring?","body":"<p>Done, with posixfilepermission</p>\n"}],"owner":{"account_id":22761065,"reputation":45,"user_id":16919886,"display_name":"lauwis premium"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69670971,"answer_count":1,"score":0,"last_activity_date":1634872130,"creation_date":1634533753,"question_id":69611050,"body_markdown":"   Executing the code below return file permission : &quot;-rw-r-----&quot; \r\n\r\n   I don&#39;t want to change the file permission manually, is there any way to change it  programmatically\r\n\r\n     public static void generateQRCodeImage(String text, int width, int height, String filePath)\r\n                throws WriterException, IOException {\r\n            QRCodeWriter qrCodeWriter = new QRCodeWriter();\r\n            BitMatrix bitMatrix = qrCodeWriter.encode(text, BarcodeFormat.QR_CODE, width, height);\r\n    \r\n            Path path = FileSystems.getDefault().getPath(filePath);\r\n       \r\n            MatrixToImageWriter.writeToPath(bitMatrix, &quot;jpg&quot;, path);\r\n    \r\n        }","title":"How to set qrcode file permission to 755 using zxing qr generator in java spring?","body":"<p>Executing the code below return file permission : &quot;-rw-r-----&quot;</p>\n<p>I don't want to change the file permission manually, is there any way to change it  programmatically</p>\n<pre><code> public static void generateQRCodeImage(String text, int width, int height, String filePath)\n            throws WriterException, IOException {\n        QRCodeWriter qrCodeWriter = new QRCodeWriter();\n        BitMatrix bitMatrix = qrCodeWriter.encode(text, BarcodeFormat.QR_CODE, width, height);\n\n        Path path = FileSystems.getDefault().getPath(filePath);\n   \n        MatrixToImageWriter.writeToPath(bitMatrix, &quot;jpg&quot;, path);\n\n    }\n</code></pre>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1634871986,"post_id":69670861,"comment_id":123148636,"body_markdown":"Your statements contradicted each other. ***...to stay in my loop until the user guesses the right number***   and ***while loop allows no next input after the first wrong guess***.   How these two even possible?","body":"Your statements contradicted each other. <b><i>...to stay in my loop until the user guesses the right number</i></b>   and <b><i>while loop allows no next input after the first wrong guess</i></b>.   How these two even possible?"},{"owner":{"account_id":1298599,"reputation":7759,"user_id":1248974,"display_name":"chickity china chinese chicken"},"score":0,"creation_date":1634872031,"post_id":69670861,"comment_id":123148642,"body_markdown":"look into Java [`do-while` loops](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html)","body":"look into Java <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\"><code>do-while</code> loops</a>"}],"answers":[{"tags":[],"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634871660,"creation_date":1634871660,"answer_id":69670916,"question_id":69670861,"body_markdown":"    while(true){\r\n    if(input==answer) break;\r\n    else continue;\r\n    }","title":"Stay in a loop until the right input","body":"<pre><code>while(true){\nif(input==answer) break;\nelse continue;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22400653,"reputation":21,"user_id":17206428,"display_name":"WillDotson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634871800,"creation_date":1634871800,"answer_id":69670939,"question_id":69670861,"body_markdown":"Isn&#39;t the line &quot;`input = reader.nextInt();`&quot; where you get the input from the user? If so, then that line also needs to be inside the while loop so you can get another guess from the user. But don&#39;t use the definition &quot;int&quot; the second time, or you will get an &quot;already defined&quot; error.\r\n\r\nAlso, isn&#39;t the &quot;`if(input == answer) {`&quot; test unnecessary, since if the answer were not correct you&#39;d still be in the while loop?","title":"Stay in a loop until the right input","body":"<p>Isn't the line &quot;<code>input = reader.nextInt();</code>&quot; where you get the input from the user? If so, then that line also needs to be inside the while loop so you can get another guess from the user. But don't use the definition &quot;int&quot; the second time, or you will get an &quot;already defined&quot; error.</p>\n<p>Also, isn't the &quot;<code>if(input == answer) {</code>&quot; test unnecessary, since if the answer were not correct you'd still be in the while loop?</p>\n"}],"owner":{"account_id":23096189,"reputation":57,"user_id":17206264,"display_name":"ntg_908"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2032,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69670916,"answer_count":2,"score":3,"last_activity_date":1634871800,"creation_date":1634871024,"question_id":69670861,"body_markdown":"Im trying to build a simple guessing game where you choose the range of numbers. I want to stay in my loop until the user guesses the right number. The while loop allows no next input after the first wrong guess. How do I stay inside of a loop until a variable matches?\r\n\r\n    import java.util.Scanner;\r\n    public class main {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner reader = new Scanner(System.in);\r\n\t\ttest random = new test();\r\n\t\t\r\n\t\tSystem.out.print(&quot;Please input a minumum amount: &quot;);\r\n\t\tint min = reader.nextInt();\r\n\t\tSystem.out.print(&quot;Please input a maximum amount: &quot;);\r\n\t\tint max = reader.nextInt();\r\n\t\t\r\n\t\tint answer = random.getRandom(min, max);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Please guess a number between you &quot; + min + &quot;-&quot; + max + &quot;: &quot;);\r\n\t\tint input = reader.nextInt(); \r\n\t\t\r\n\t\twhile(input != answer) {\r\n\t\t\t\tSystem.out.println(&quot;Guess again&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif(input == answer) {\r\n\t\t\tSystem.out.println(&quot;You got it right!&quot;);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n    }\r\n\r\n\r\n","title":"Stay in a loop until the right input","body":"<p>Im trying to build a simple guessing game where you choose the range of numbers. I want to stay in my loop until the user guesses the right number. The while loop allows no next input after the first wrong guess. How do I stay inside of a loop until a variable matches?</p>\n<pre><code>import java.util.Scanner;\npublic class main {\npublic static void main(String[] args) {\n    Scanner reader = new Scanner(System.in);\n    test random = new test();\n    \n    System.out.print(&quot;Please input a minumum amount: &quot;);\n    int min = reader.nextInt();\n    System.out.print(&quot;Please input a maximum amount: &quot;);\n    int max = reader.nextInt();\n    \n    int answer = random.getRandom(min, max);\n    \n    System.out.print(&quot;Please guess a number between you &quot; + min + &quot;-&quot; + max + &quot;: &quot;);\n    int input = reader.nextInt(); \n    \n    while(input != answer) {\n            System.out.println(&quot;Guess again&quot;);\n    }\n    \n    if(input == answer) {\n        System.out.println(&quot;You got it right!&quot;);\n    }\n    \n    \n}\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415078471,"creation_date":1415078471,"answer_id":26728235,"question_id":26728191,"body_markdown":"One option would be to simply copy their contents into a new project, either with two different source directories (e.g. `cp -R Project1/src Project/src1`, `cp -R Project2/src Project/src2`) or even just merging the file contents into the same directory, if you literally want to combine them.\r\n\r\nBetter, however, would be to have Project [*reference*][1] the existing two projects, you can keep developing Project1 and Project2 and Project will just reference the code in those projects.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10090829/how-to-reference-a-different-java-project-in-eclipse","title":"Combine two java projects in eclipse","body":"<p>One option would be to simply copy their contents into a new project, either with two different source directories (e.g. <code>cp -R Project1/src Project/src1</code>, <code>cp -R Project2/src Project/src2</code>) or even just merging the file contents into the same directory, if you literally want to combine them.</p>\n\n<p>Better, however, would be to have Project <a href=\"https://stackoverflow.com/questions/10090829/how-to-reference-a-different-java-project-in-eclipse\"><em>reference</em></a> the existing two projects, you can keep developing Project1 and Project2 and Project will just reference the code in those projects.</p>\n"},{"tags":[],"owner":{"account_id":3367573,"reputation":36,"user_id":2827710,"display_name":"chatur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415078665,"creation_date":1415078665,"answer_id":26728271,"question_id":26728191,"body_markdown":" 1. You have to Create a  New Common Database for your projects.\r\n 2. Run both the projects in ecllipse individually.\r\n 3. Copy the Contents of any one project into another.","title":"Combine two java projects in eclipse","body":"<ol>\n<li>You have to Create a  New Common Database for your projects.</li>\n<li>Run both the projects in ecllipse individually.</li>\n<li>Copy the Contents of any one project into another.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8858506,"reputation":146,"user_id":6615463,"display_name":"Siva Srinivasa Rao M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621850450,"creation_date":1621850450,"answer_id":67670065,"question_id":26728191,"body_markdown":"To combine projects,\r\n\r\n - Need to have same build tool.\r\n - Have both code under the same src with different packages.\r\n - Regarding both Databases,\r\n   - Can have both databases using two different drivers or ORM etc.\r\n   - If there is common data, can use two different databases. But, join the data using data structures.\r\n - Or Can have common database.\r\n\r\n ","title":"Combine two java projects in eclipse","body":"<p>To combine projects,</p>\n<ul>\n<li>Need to have same build tool.</li>\n<li>Have both code under the same src with different packages.</li>\n<li>Regarding both Databases,\n<ul>\n<li>Can have both databases using two different drivers or ORM etc.</li>\n<li>If there is common data, can use two different databases. But, join the data using data structures.</li>\n</ul>\n</li>\n<li>Or Can have common database.</li>\n</ul>\n"}],"owner":{"account_id":4804010,"reputation":71,"user_id":3879719,"accept_rate":40,"display_name":"Rajesh kannan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8895,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":3,"score":-1,"last_activity_date":1634871700,"creation_date":1415078201,"question_id":26728191,"body_markdown":"I have two separate projects (project1, project2) with a different database. Now I want to combine both projects with new project name (project). how can I combine using eclipse?","title":"Combine two java projects in eclipse","body":"<p>I have two separate projects (project1, project2) with a different database. Now I want to combine both projects with new project name (project). how can I combine using eclipse?</p>\n"},{"tags":["java","spring-boot","opencsv"],"comments":[{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1595477662,"post_id":63045815,"comment_id":111489628,"body_markdown":"Does this answer your question? [How to solve the runtime exception while converting csv to bean using opencsv for blank csv file](https://stackoverflow.com/questions/53691192/how-to-solve-the-runtime-exception-while-converting-csv-to-bean-using-opencsv-fo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53691192/how-to-solve-the-runtime-exception-while-converting-csv-to-bean-using-opencsv-fo\">How to solve the runtime exception while converting csv to bean using opencsv for blank csv file</a>"},{"owner":{"account_id":8151441,"reputation":121,"user_id":6138287,"display_name":"Parthasarathy K"},"score":0,"creation_date":1595498678,"post_id":63045815,"comment_id":111498309,"body_markdown":"No it didn&#39;t. I have data in excel @Anish B.","body":"No it didn&#39;t. I have data in excel @Anish B."},{"owner":{"account_id":8151441,"reputation":121,"user_id":6138287,"display_name":"Parthasarathy K"},"score":0,"creation_date":1595556295,"post_id":63045815,"comment_id":111522874,"body_markdown":"@AnishB. Issue is resolved. Thanks for your time as well.","body":"@AnishB. Issue is resolved. Thanks for your time as well."},{"owner":{"account_id":3362390,"reputation":77,"user_id":2823916,"display_name":"Erick Benites"},"score":0,"creation_date":1603164690,"post_id":63045815,"comment_id":113942390,"body_markdown":"@ParthasarathyK  at least, you must comment about the solution pls","body":"@ParthasarathyK  at least, you must comment about the solution pls"},{"owner":{"account_id":8151441,"reputation":121,"user_id":6138287,"display_name":"Parthasarathy K"},"score":0,"creation_date":1606323824,"post_id":63045815,"comment_id":114932213,"body_markdown":"Sorry @ErickBenites should have done. I upgraded to version 5.1.1 and removed mapping strategy. Refer to this answer. You might have solved already, hope this helps others.\nhttps://stackoverflow.com/a/48227474/1238944","body":"Sorry @ErickBenites should have done. I upgraded to version 5.1.1 and removed mapping strategy. Refer to this answer. You might have solved already, hope this helps others. <a href=\"https://stackoverflow.com/a/48227474/1238944\">stackoverflow.com/a/48227474/1238944</a>"}],"answers":[{"tags":[],"owner":{"account_id":8151441,"reputation":121,"user_id":6138287,"display_name":"Parthasarathy K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634871279,"creation_date":1634871279,"answer_id":69670886,"question_id":63045815,"body_markdown":"Adding to solution here for easy reference to others\r\n\r\nI upgraded to version 5.1.1 and removed mapping strategy. Refer to this answer. \r\nhttps://stackoverflow.com/a/48227474/1238944\r\n","title":"OpenCSV throws Error capturing CSV header on parse","body":"<p>Adding to solution here for easy reference to others</p>\n<p>I upgraded to version 5.1.1 and removed mapping strategy. Refer to this answer.\n<a href=\"https://stackoverflow.com/a/48227474/1238944\">https://stackoverflow.com/a/48227474/1238944</a></p>\n"}],"owner":{"account_id":8151441,"reputation":121,"user_id":6138287,"display_name":"Parthasarathy K"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4820,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1634871279,"creation_date":1595470376,"question_id":63045815,"body_markdown":"I am trying to read a csv file uploaded from front-end as multipart file. Csv file uploaded is never blank.\r\n\r\n    Reader reader = new BufferedReader(new InputStreamReader(request.getFile().getInputStream()));\r\n    CSVReader csvReader = new CSVReader(reader);\r\n\r\nThese are my readers. When I do a readAll with &quot;csvReader&quot;, I am able to get the values, so I guess no issues with file or reader.\r\n\r\n    ColumnPositionMappingStrategy&lt;MappingModel&gt; ms \r\n    \t= new ColumnPositionMappingStrategy&lt;MappingModel&gt;();\r\n    CsvToBean&lt;MappingModel&gt; csvToBean \r\n    \t\t\t\t= new CsvToBeanBuilder&lt;MappingModel&gt;(reader)\r\n                    .withType(MappingModel.class).withSeparator(&#39;,&#39;)\r\n                    .withMappingStrategy(ms).withIgnoreLeadingWhiteSpace(true)\r\n                    .withFieldAsNull(CSVReaderNullFieldIndicator.EMPTY_SEPARATORS)\r\n                    .withSkipLines(9).build();\r\n    List&lt;MappingModel&gt; mappings= csvToBean.parse(); //throwing exception\r\n\r\nBut when I do a parse with this config am getting `java.lang.RuntimeException: Error capturing CSV header!`","title":"OpenCSV throws Error capturing CSV header on parse","body":"<p>I am trying to read a csv file uploaded from front-end as multipart file. Csv file uploaded is never blank.</p>\n<pre><code>Reader reader = new BufferedReader(new InputStreamReader(request.getFile().getInputStream()));\nCSVReader csvReader = new CSVReader(reader);\n</code></pre>\n<p>These are my readers. When I do a readAll with &quot;csvReader&quot;, I am able to get the values, so I guess no issues with file or reader.</p>\n<pre><code>ColumnPositionMappingStrategy&lt;MappingModel&gt; ms \n    = new ColumnPositionMappingStrategy&lt;MappingModel&gt;();\nCsvToBean&lt;MappingModel&gt; csvToBean \n                = new CsvToBeanBuilder&lt;MappingModel&gt;(reader)\n                .withType(MappingModel.class).withSeparator(',')\n                .withMappingStrategy(ms).withIgnoreLeadingWhiteSpace(true)\n                .withFieldAsNull(CSVReaderNullFieldIndicator.EMPTY_SEPARATORS)\n                .withSkipLines(9).build();\nList&lt;MappingModel&gt; mappings= csvToBean.parse(); //throwing exception\n</code></pre>\n<p>But when I do a parse with this config am getting <code>java.lang.RuntimeException: Error capturing CSV header!</code></p>\n"},{"tags":["java","jmap"],"answers":[{"tags":[],"owner":{"account_id":1334069,"reputation":4343,"user_id":1277259,"accept_rate":75,"display_name":"KevinO"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528103752,"creation_date":1493241709,"answer_id":43644732,"question_id":43644361,"body_markdown":"A quick examination of jcmd.exe reveals:\r\n\r\n        ntdll.dll =&gt; /c/WINDOWS/SYSTEM32/ntdll.dll (0x7fff01820000)\r\n        KERNEL32.DLL =&gt; /c/WINDOWS/system32/KERNEL32.DLL (0x7ffeff180000)\r\n        KERNELBASE.dll =&gt; /c/WINDOWS/system32/KERNELBASE.dll (0x7ffefe810000)\r\n        SYSFER.DLL =&gt; /c/WINDOWS/System32/SYSFER.DLL (0x54f10000)\r\n        jli.dll =&gt; /c/apps/jdk1.8.0_121/bin/jli.dll (0x51ec0000)\r\n        MSVCR100.dll =&gt; /c/apps/jdk1.8.0_121/bin/MSVCR100.dll (0x51c40000)\r\n        ADVAPI32.dll =&gt; /c/WINDOWS/system32/ADVAPI32.dll (0x7ffefeeb0000)\r\n        msvcrt.dll =&gt; /c/WINDOWS/system32/msvcrt.dll (0x7fff01720000)\r\n        sechost.dll =&gt; /c/WINDOWS/system32/sechost.dll (0x7ffeff0c0000)\r\n        RPCRT4.dll =&gt; /c/WINDOWS/system32/RPCRT4.dll (0x7ffefec20000)\r\n        USER32.dll =&gt; /c/WINDOWS/system32/USER32.dll (0x7ffefef60000)\r\n        COMCTL32.dll =&gt; /c/WINDOWS/WinSxS/amd64_microsoft.windows.common-controls_6595b64144ccf1df_6.0.10586.672_none_a2d6b3cea53ff843/COMCTL32.dll (0x7ffef8460000)\r\n        GDI32.dll =&gt; /c/WINDOWS/system32/GDI32.dll (0x7ffeff230000)\r\n        combase.dll =&gt; /c/WINDOWS/system32/combase.dll (0x7ffeff3c0000)\r\n        bcryptPrimitives.dll =&gt; /c/WINDOWS/system32/bcryptPrimitives.dll (0x7ffefe540000)\r\n\r\nIt therefore appears that msvcr100.dll and jli.dll would be the only requisite components from the JDK. A super quick test seems to indicate that these three files will suffice, but I will admit my test situation may not have been perfect.\r\n\r\nEDIT: Upon further examination, here is the minimum configuration I found that works. It may be possible to modify the directory structure somewhat and set things such as CLASSPATH, JAVA_HOME, and PATH. I did not explore all of the permutations.\r\n\r\n    .:\r\n    bin/  COPYRIGHT*  jre/  lib/  LICENSE*\r\n\r\n    ./bin:\r\n    jcmd.exe*  jli.dll*  msvcr100.dll*\r\n\r\n    ./jre:\r\n    bin/  COPYRIGHT*  lib/  LICENSE*\r\n\r\n    ./jre/bin:\r\n    attach.dll*  java.dll*  jli.dll*  net.dll*  nio.dll*  server/  unpack.dll*  \r\n    verify.dll*  zip.dll*\r\n\r\n    ./jre/bin/server:\r\n    classes.jsa*  jvm.dll*  Xusage.txt*\r\n\r\n    ./jre/lib:\r\n    amd64/  rt.jar*\r\n\r\n    ./jre/lib/amd64:\r\n    jvm.cfg*\r\n\r\n    ./lib:\r\n    jvm.lib*  tools.jar*\r\n\r\n\r\nI also left the COPYRIGHT and LICENSE files as I felt they were important.\r\n\r\nTest:\r\n\r\n    bin\\jcmd.exe 16696 Thread.print\r\n    16696:\r\n    2017-04-27 18:01:49\r\n    Full thread dump Java HotSpot(TM) 64-Bit Server VM (25.121-b13 mixed mode):\r\n\r\n    &quot;Worker-32&quot; #84 prio=5 os_prio=0 tid=0x000000001bcaf800 nid=0x416c in \r\n    Object.wait() [0x00000000335ef000]\r\n       java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:188)\r\n        - locked &lt;0x00000000c21120a8&gt; (a org.eclipse.core.internal.jobs.WorkerPool)\r\n        at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:220)\r\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:52)\r\n\r\n    &quot;Worker-31&quot; #83 prio=5 os_prio=0 tid=0x000000001bcb7800 nid=0x315c in \r\n    Object.wait() [0x00000000312ef000]\r\n       java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:188)\r\n        - locked &lt;0x00000000c21120a8&gt; (a org.eclipse.core.internal.jobs.WorkerPool)\r\n        at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:220)\r\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:52)\r\n\r\n    &lt;snip&gt;...\r\n\r\n    \r\n    F:\\tmp\\t1&gt;bin\\jcmd 16696 VM.flags\r\n    16696:\r\n    -XX:CICompilerCount=4 -XX:InitialHeapSize=268435456 \r\n    -XX:MaxHeapSize=1073741824 -XX:MaxNewSize=357564416 \r\n    -XX:MinHeapDeltaBytes=524288 -XX:NewSize=89128960 -XX:OldSize=179306496 \r\n    -XX:+UseCompressedClassPointers -XX:+UseCompressedOops \r\n    -XX:+UseFastUnorderedTimeStamps -XX:-UseLargePagesIndividualAllocation \r\n    -XX:+UseParallelGC\r\n\r\n","title":"How to run jcmd without the JDK?","body":"<p>A quick examination of jcmd.exe reveals:</p>\n\n<pre><code>    ntdll.dll =&gt; /c/WINDOWS/SYSTEM32/ntdll.dll (0x7fff01820000)\n    KERNEL32.DLL =&gt; /c/WINDOWS/system32/KERNEL32.DLL (0x7ffeff180000)\n    KERNELBASE.dll =&gt; /c/WINDOWS/system32/KERNELBASE.dll (0x7ffefe810000)\n    SYSFER.DLL =&gt; /c/WINDOWS/System32/SYSFER.DLL (0x54f10000)\n    jli.dll =&gt; /c/apps/jdk1.8.0_121/bin/jli.dll (0x51ec0000)\n    MSVCR100.dll =&gt; /c/apps/jdk1.8.0_121/bin/MSVCR100.dll (0x51c40000)\n    ADVAPI32.dll =&gt; /c/WINDOWS/system32/ADVAPI32.dll (0x7ffefeeb0000)\n    msvcrt.dll =&gt; /c/WINDOWS/system32/msvcrt.dll (0x7fff01720000)\n    sechost.dll =&gt; /c/WINDOWS/system32/sechost.dll (0x7ffeff0c0000)\n    RPCRT4.dll =&gt; /c/WINDOWS/system32/RPCRT4.dll (0x7ffefec20000)\n    USER32.dll =&gt; /c/WINDOWS/system32/USER32.dll (0x7ffefef60000)\n    COMCTL32.dll =&gt; /c/WINDOWS/WinSxS/amd64_microsoft.windows.common-controls_6595b64144ccf1df_6.0.10586.672_none_a2d6b3cea53ff843/COMCTL32.dll (0x7ffef8460000)\n    GDI32.dll =&gt; /c/WINDOWS/system32/GDI32.dll (0x7ffeff230000)\n    combase.dll =&gt; /c/WINDOWS/system32/combase.dll (0x7ffeff3c0000)\n    bcryptPrimitives.dll =&gt; /c/WINDOWS/system32/bcryptPrimitives.dll (0x7ffefe540000)\n</code></pre>\n\n<p>It therefore appears that msvcr100.dll and jli.dll would be the only requisite components from the JDK. A super quick test seems to indicate that these three files will suffice, but I will admit my test situation may not have been perfect.</p>\n\n<p>EDIT: Upon further examination, here is the minimum configuration I found that works. It may be possible to modify the directory structure somewhat and set things such as CLASSPATH, JAVA_HOME, and PATH. I did not explore all of the permutations.</p>\n\n<pre><code>.:\nbin/  COPYRIGHT*  jre/  lib/  LICENSE*\n\n./bin:\njcmd.exe*  jli.dll*  msvcr100.dll*\n\n./jre:\nbin/  COPYRIGHT*  lib/  LICENSE*\n\n./jre/bin:\nattach.dll*  java.dll*  jli.dll*  net.dll*  nio.dll*  server/  unpack.dll*  \nverify.dll*  zip.dll*\n\n./jre/bin/server:\nclasses.jsa*  jvm.dll*  Xusage.txt*\n\n./jre/lib:\namd64/  rt.jar*\n\n./jre/lib/amd64:\njvm.cfg*\n\n./lib:\njvm.lib*  tools.jar*\n</code></pre>\n\n<p>I also left the COPYRIGHT and LICENSE files as I felt they were important.</p>\n\n<p>Test:</p>\n\n<pre><code>bin\\jcmd.exe 16696 Thread.print\n16696:\n2017-04-27 18:01:49\nFull thread dump Java HotSpot(TM) 64-Bit Server VM (25.121-b13 mixed mode):\n\n\"Worker-32\" #84 prio=5 os_prio=0 tid=0x000000001bcaf800 nid=0x416c in \nObject.wait() [0x00000000335ef000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:188)\n    - locked &lt;0x00000000c21120a8&gt; (a org.eclipse.core.internal.jobs.WorkerPool)\n    at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:220)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:52)\n\n\"Worker-31\" #83 prio=5 os_prio=0 tid=0x000000001bcb7800 nid=0x315c in \nObject.wait() [0x00000000312ef000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:188)\n    - locked &lt;0x00000000c21120a8&gt; (a org.eclipse.core.internal.jobs.WorkerPool)\n    at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:220)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:52)\n\n&lt;snip&gt;...\n\n\nF:\\tmp\\t1&gt;bin\\jcmd 16696 VM.flags\n16696:\n-XX:CICompilerCount=4 -XX:InitialHeapSize=268435456 \n-XX:MaxHeapSize=1073741824 -XX:MaxNewSize=357564416 \n-XX:MinHeapDeltaBytes=524288 -XX:NewSize=89128960 -XX:OldSize=179306496 \n-XX:+UseCompressedClassPointers -XX:+UseCompressedOops \n-XX:+UseFastUnorderedTimeStamps -XX:-UseLargePagesIndividualAllocation \n-XX:+UseParallelGC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16236497,"reputation":199,"user_id":11723872,"display_name":"orid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603490117,"creation_date":1603490117,"answer_id":64507750,"question_id":43644361,"body_markdown":"I was also looking for a way to run jcmd with JRE (on production).\r\nI could not use the other existing answer from @KevinO because I&#39;m running on K8S and my docker image is based on Alpine Linux.\r\n\r\nEventually, I ended up with copying the minimal artifacts from JDK into the docker image and I was able to run jcmd and start Flight Recorder.\r\nI&#39;m using Azul JRE zulu11.41.24-sa-jre11.0.8-linux_musl_x64.\r\n\r\nHere is what worked for me (snippet from my dockerfile):\r\n\r\n```\r\nRUN  tar zxf /tmp/${JDK}.tar.gz -C /tmp &amp;&amp; \\\r\n        mkdir -p /jcmd &amp;&amp; \\\r\n        mkdir -p /jcmd/bin &amp;&amp; \\\r\n        mkdir -p /jcmd/lib &amp;&amp; \\\r\n        cp /tmp/${JDK}/bin/jcmd /jcmd/bin/jcmd &amp;&amp; \\\r\n        cp -r /tmp/${JDK}/lib/libattach.so /tmp/${JDK}/lib/jvm.cfg /tmp/${JDK}/lib/libjava.so /tmp/${JDK}/lib/libjimage.so /tmp/${JDK}/lib/libnet.so /tmp/${JDK}/lib/libnio.so /tmp/${JDK}/lib/libverify.so /tmp/${JDK}/lib/libzip.so /tmp/${JDK}/lib/modules /tmp/${JDK}/lib/server /tmp/${JDK}/lib/jli /jcmd/lib &amp;&amp; \\\r\n        rm -rf /tmp/${JDK} \r\n```\r\n\r\n","title":"How to run jcmd without the JDK?","body":"<p>I was also looking for a way to run jcmd with JRE (on production).\nI could not use the other existing answer from @KevinO because I'm running on K8S and my docker image is based on Alpine Linux.</p>\n<p>Eventually, I ended up with copying the minimal artifacts from JDK into the docker image and I was able to run jcmd and start Flight Recorder.\nI'm using Azul JRE zulu11.41.24-sa-jre11.0.8-linux_musl_x64.</p>\n<p>Here is what worked for me (snippet from my dockerfile):</p>\n<pre><code>RUN  tar zxf /tmp/${JDK}.tar.gz -C /tmp &amp;&amp; \\\n        mkdir -p /jcmd &amp;&amp; \\\n        mkdir -p /jcmd/bin &amp;&amp; \\\n        mkdir -p /jcmd/lib &amp;&amp; \\\n        cp /tmp/${JDK}/bin/jcmd /jcmd/bin/jcmd &amp;&amp; \\\n        cp -r /tmp/${JDK}/lib/libattach.so /tmp/${JDK}/lib/jvm.cfg /tmp/${JDK}/lib/libjava.so /tmp/${JDK}/lib/libjimage.so /tmp/${JDK}/lib/libnet.so /tmp/${JDK}/lib/libnio.so /tmp/${JDK}/lib/libverify.so /tmp/${JDK}/lib/libzip.so /tmp/${JDK}/lib/modules /tmp/${JDK}/lib/server /tmp/${JDK}/lib/jli /jcmd/lib &amp;&amp; \\\n        rm -rf /tmp/${JDK} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634870204,"creation_date":1604201034,"answer_id":64628400,"question_id":43644361,"body_markdown":"The jcmd tool is written in Java, so a JDK is needed.\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/jdk.jcmd/share/classes/sun/tools/jcmd/JCmd.java\r\n\r\nFrom JDK 9 or later, you can use jlink to create a custom JDK image that only contains modules needed for the jcmd tool. \r\n\r\n    $ cd %JAVA_HOME%\r\n    $ bin\\jlink --module-path jmods --add-modules jdk.jcmd --output c:\\custom-jdk\r\n    $ cd c:\\custom-jdk\\bin\r\n    $ jcmd \r\n\r\nIt&#39;s about 40 MB on my machine and it can operate against earlier releases. Not sure how much it helps, but it is the clean way to do it. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to run jcmd without the JDK?","body":"<p>The jcmd tool is written in Java, so a JDK is needed.</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/jdk.jcmd/share/classes/sun/tools/jcmd/JCmd.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/jdk.jcmd/share/classes/sun/tools/jcmd/JCmd.java</a></p>\n<p>From JDK 9 or later, you can use jlink to create a custom JDK image that only contains modules needed for the jcmd tool.</p>\n<pre><code>$ cd %JAVA_HOME%\n$ bin\\jlink --module-path jmods --add-modules jdk.jcmd --output c:\\custom-jdk\n$ cd c:\\custom-jdk\\bin\n$ jcmd \n</code></pre>\n<p>It's about 40 MB on my machine and it can operate against earlier releases. Not sure how much it helps, but it is the clean way to do it.</p>\n"},{"tags":[],"owner":{"display_name":"user12640668"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615201840,"creation_date":1615201840,"answer_id":66528723,"question_id":43644361,"body_markdown":"Here is the smallest debian based docker image with `jcmd` ca 114MB\r\n\r\n`Dockerfile`\r\n\r\n    FROM&#160;adoptopenjdk/openjdk11-openj9:slim&#160;as&#160;base\r\n    ENV&#160;&#160;&#160;&#160;JCMD=/tmp/jcmd\r\n    RUN&#160;&#160;jlink&#160;--module-path&#160;jmods&#160;--add-modules&#160;jdk.jcmd&#160;--output&#160;${JCMD}\r\n   \r\n    FROM&#160;debian:stretch-slim\r\n    COPY&#160;--from=base&#160;/tmp/jcmd&#160;/tmp/jcmd\r\n    ENV&#160;PATH=&quot;/tmp/jcmd/bin:${PATH}&quot;","title":"How to run jcmd without the JDK?","body":"<p>Here is the smallest debian based docker image with <code>jcmd</code> ca 114MB</p>\n<p><code>Dockerfile</code></p>\n<pre><code>FROM adoptopenjdk/openjdk11-openj9:slim as base\nENV    JCMD=/tmp/jcmd\nRUN  jlink --module-path jmods --add-modules jdk.jcmd --output ${JCMD}\n\nFROM debian:stretch-slim\nCOPY --from=base /tmp/jcmd /tmp/jcmd\nENV PATH=&quot;/tmp/jcmd/bin:${PATH}&quot;\n</code></pre>\n"}],"owner":{"account_id":1981201,"reputation":253,"user_id":1794388,"accept_rate":20,"display_name":"DaveyBob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12238,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1634870204,"creation_date":1493240175,"question_id":43644361,"body_markdown":"I&#39;m trying to figure out how to drop jcmd.exe on a windows server installed at a client site so that we can troubleshoot heap and thread issues. Don&#39;t really want to install the full JDK since it complicates the environment.\r\n\r\njcmd.exe definitely wants some components from the JDK to run, but I&#39;m unable to determine which ones. If I can get it down to a small set that we unzip into a folder, use it to capture data, and then destroy, that would be perfect.\r\n\r\nAnybody know what JDK components jcmd needs to run?","title":"How to run jcmd without the JDK?","body":"<p>I'm trying to figure out how to drop jcmd.exe on a windows server installed at a client site so that we can troubleshoot heap and thread issues. Don't really want to install the full JDK since it complicates the environment.</p>\n\n<p>jcmd.exe definitely wants some components from the JDK to run, but I'm unable to determine which ones. If I can get it down to a small set that we unzip into a folder, use it to capture data, and then destroy, that would be perfect.</p>\n\n<p>Anybody know what JDK components jcmd needs to run?</p>\n"},{"tags":["java","json","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":4482164,"reputation":6664,"user_id":3645944,"accept_rate":90,"display_name":"Pablo Matias Gomez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634869439,"creation_date":1634865277,"answer_id":69670372,"question_id":69670314,"body_markdown":"The problem is that you are using the object `Investment` as keys of a Map, so the question here is, what keys do you expect the json to have? Json keys cand only be strings so the mapper is executing the `toString()` method of the `Investment` class. If you know what that key should be, then you can implement the method, like this:\r\n\r\n\r\n```java\r\npublic class Investment implements Serializable {\r\n\t\tprivate String shortName;\r\n\t\tprivate MutualFund mutualFund;\r\n\r\n\t\t// ...\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn shortName;\r\n\t\t}\r\n\t}\r\n```\r\n\r\n\r\nThis will create a json object like this:\r\n\r\n```json\r\n{\r\n    &quot;expenseRatio&quot;: 1,\r\n    &quot;underlyingInvestments&quot;: {\r\n        &quot;shortName&quot;: 10\r\n    }\r\n}\r\n```\r\n\r\nAlso, as @chrylis-cautiouslyoptimistic suggested, another option is to use `@JsonValue` to indicate which method to use when serializing, like this:\r\n\r\n\r\n```java\r\npublic class Investment implements Serializable{\r\n   private String shortName;\r\n   private MutualFund mutualFund;\r\n\r\n   @JsonValue\r\n   public String getShortName() {\r\n       return shortName;\r\n   }\r\n\r\n   // ...\r\n}\r\n```","title":"Jackson: Serializing Map&lt;Object, BigDecimal&gt; yields undesired object reference","body":"<p>The problem is that you are using the object <code>Investment</code> as keys of a Map, so the question here is, what keys do you expect the json to have? Json keys cand only be strings so the mapper is executing the <code>toString()</code> method of the <code>Investment</code> class. If you know what that key should be, then you can implement the method, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Investment implements Serializable {\n        private String shortName;\n        private MutualFund mutualFund;\n\n        // ...\n\n        @Override\n        public String toString() {\n            return shortName;\n        }\n    }\n</code></pre>\n<p>This will create a json object like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;expenseRatio&quot;: 1,\n    &quot;underlyingInvestments&quot;: {\n        &quot;shortName&quot;: 10\n    }\n}\n</code></pre>\n<p>Also, as @chrylis-cautiouslyoptimistic suggested, another option is to use <code>@JsonValue</code> to indicate which method to use when serializing, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Investment implements Serializable{\n   private String shortName;\n   private MutualFund mutualFund;\n\n   @JsonValue\n   public String getShortName() {\n       return shortName;\n   }\n\n   // ...\n}\n</code></pre>\n"}],"owner":{"account_id":459727,"reputation":161,"user_id":860365,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634869439,"creation_date":1634864565,"question_id":69670314,"body_markdown":"Suppose I am trying to serialize the following with Jackson:\r\n``` \r\npublic class Investment implements Serializable{\r\n   private String shortName;\r\n   private MutualFund mutualFund;\r\n\r\n   public String getShortName() {\r\n       return shortName;\r\n   }\r\n\r\n   public void setShortName(String shortName) {\r\n       this.shortName = shortName;\r\n   }\r\n\r\n   public MutualFund getMutualFund() {\r\n      return mutualFund;\r\n   }\r\n\r\n   public void setMutualFund(MutualFund mutualFund) {\r\n      this.mutualFund = mutualFund;\r\n   }\r\n}\r\n```\r\n\r\nThat in turn refers to:\r\n```\r\npublic class MutualFund implements Serializable{\r\n   private BigDecimal expenseRatio;\r\n   private Map&lt;Investment, BigDecimal&gt; underlyingInvestments;\r\n\r\n   public BigDecimal getExpenseRatio() {\r\n      return BigDecimalHelper.guard(expenseRatio);\r\n   }\r\n\r\n   public void setExpenseRatio(BigDecimal expenseRatio) {\r\n      this.expenseRatio = expenseRatio;\r\n   }\r\n\r\n   public Map&lt;Investment, BigDecimal&gt; getUnderlyingInvestments() {\r\n      return underlyingInvestments;\r\n   }\r\n\r\n   public void setUnderlyingInvestments(Map&lt;Investment, BigDecimal&gt; \r\n      underlyingFunds) {\r\n      this.underlyingInvestments = underlyingFunds;\r\n   }\r\n}\r\n```\r\n\r\nWhen I try to serialize this with Jackson, everything else is fine except that I end up with an Investment object reference instead of the string with attributes like I was expecting:\r\n\r\n```\r\n&quot;underlyingInvestments&quot;:{&quot;com.financial.detail.Investment@5d465e4b&quot;:1}}\r\n```\r\n\r\nI&#39;ve tried to fashion some custom serializers, but without success as I always get an object reference for the *nested* Investment(s). So, I have a two part question:\r\n\r\n 1. Can this problem be addressed simply with Jackson annotations?\r\n 2. If I have to build a custom serializer, could someone kindly point me in the right direction on how to best\r\napproach this issue given the nested nature of this (e.g. an Investment could contain a Mutual Fund, which in turn has an Investment with a Mutual Fund...)","title":"Jackson: Serializing Map&lt;Object, BigDecimal&gt; yields undesired object reference","body":"<p>Suppose I am trying to serialize the following with Jackson:</p>\n<pre><code>public class Investment implements Serializable{\n   private String shortName;\n   private MutualFund mutualFund;\n\n   public String getShortName() {\n       return shortName;\n   }\n\n   public void setShortName(String shortName) {\n       this.shortName = shortName;\n   }\n\n   public MutualFund getMutualFund() {\n      return mutualFund;\n   }\n\n   public void setMutualFund(MutualFund mutualFund) {\n      this.mutualFund = mutualFund;\n   }\n}\n</code></pre>\n<p>That in turn refers to:</p>\n<pre><code>public class MutualFund implements Serializable{\n   private BigDecimal expenseRatio;\n   private Map&lt;Investment, BigDecimal&gt; underlyingInvestments;\n\n   public BigDecimal getExpenseRatio() {\n      return BigDecimalHelper.guard(expenseRatio);\n   }\n\n   public void setExpenseRatio(BigDecimal expenseRatio) {\n      this.expenseRatio = expenseRatio;\n   }\n\n   public Map&lt;Investment, BigDecimal&gt; getUnderlyingInvestments() {\n      return underlyingInvestments;\n   }\n\n   public void setUnderlyingInvestments(Map&lt;Investment, BigDecimal&gt; \n      underlyingFunds) {\n      this.underlyingInvestments = underlyingFunds;\n   }\n}\n</code></pre>\n<p>When I try to serialize this with Jackson, everything else is fine except that I end up with an Investment object reference instead of the string with attributes like I was expecting:</p>\n<pre><code>&quot;underlyingInvestments&quot;:{&quot;com.financial.detail.Investment@5d465e4b&quot;:1}}\n</code></pre>\n<p>I've tried to fashion some custom serializers, but without success as I always get an object reference for the <em>nested</em> Investment(s). So, I have a two part question:</p>\n<ol>\n<li>Can this problem be addressed simply with Jackson annotations?</li>\n<li>If I have to build a custom serializer, could someone kindly point me in the right direction on how to best\napproach this issue given the nested nature of this (e.g. an Investment could contain a Mutual Fund, which in turn has an Investment with a Mutual Fund...)</li>\n</ol>\n"},{"tags":["java","string","numbers","infix-notation"],"answers":[{"tags":[],"owner":{"account_id":7505413,"reputation":5686,"user_id":5702105,"display_name":"Ian Mc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634862276,"creation_date":1634862276,"answer_id":69670137,"question_id":69669295,"body_markdown":"You are not able to process multi-digit numbers because you don&#39;t maintain the state of the number as you read the equation character by character.  The following code is the root of the problem:\r\n\r\n    if(Character.isLetterOrDigit(c))\r\n        postfix += (c + &quot; &quot;);\r\n\r\nOne way to maintain state is to introduce a new variable: `String numberInProgress = &quot;&quot;;`\r\n\r\nIf you process a digit, you change the state: `numberInProgress += c;`.   You do not process the number at this point; go on and read the next character from the equation.\r\n\r\nWhen you hit any character that is not a number (a bracket, operation, space), you finalize `numberInProgress`, and proceed to process it.  After that, reset `numberInProgress = &quot;&quot;`.\r\n\r\n","title":"How to check if an equation has numbers with multiple digits","body":"<p>You are not able to process multi-digit numbers because you don't maintain the state of the number as you read the equation character by character.  The following code is the root of the problem:</p>\n<pre><code>if(Character.isLetterOrDigit(c))\n    postfix += (c + &quot; &quot;);\n</code></pre>\n<p>One way to maintain state is to introduce a new variable: <code>String numberInProgress = &quot;&quot;;</code></p>\n<p>If you process a digit, you change the state: <code>numberInProgress += c;</code>.   You do not process the number at this point; go on and read the next character from the equation.</p>\n<p>When you hit any character that is not a number (a bracket, operation, space), you finalize <code>numberInProgress</code>, and proceed to process it.  After that, reset <code>numberInProgress = &quot;&quot;</code>.</p>\n"}],"owner":{"account_id":22706935,"reputation":9,"user_id":16873488,"display_name":"John Silver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634869247,"creation_date":1634854145,"question_id":69669295,"body_markdown":"We are making a program to convert an input from infix to postfix. This is my code: \r\n```\r\nimport javax.swing.*;\r\nimport java.util.Stack;\r\n\r\npublic class InfixToPostfix\r\n{\r\n    public static int Precedence(char c)\r\n    {\r\n        return switch (c) {\r\n            case &#39;+&#39;, &#39;-&#39; -&gt; 1;\r\n            case &#39;*&#39;, &#39;/&#39; -&gt; 2;\r\n            default -&gt; -1;\r\n        };\r\n    }\r\n\r\n    public static boolean isOp(char c)\r\n    {\r\n        return c == &#39;+&#39; || c == &#39;-&#39; || c == &#39;*&#39; || c == &#39;/&#39;;\r\n    }\r\n\r\n\r\n    public static void convert()\r\n    {\r\n        JFrame f;\r\n        f = new JFrame();\r\n        String eq = JOptionPane.showInputDialog(&quot;Enter Equation&quot;);\r\n\r\n        Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n        String postfix = &quot;&quot;;\r\n        String numberInProgress = &quot;&quot;;\r\n\r\n        for(int i=0; i&lt;eq.length(); i++)\r\n        {\r\n            char c = eq.charAt(i);\r\n        \r\n            if(Character.isDigit(c))\r\n            {\r\n                numberInProgress += c;\r\n            }\r\n\r\n\r\n            if(i&gt;0 &amp;&amp; Character.isDigit(eq.charAt(i-1)) &amp;&amp; !Character.isDigit(c))\r\n            {\r\n                postfix += numberInProgress;\r\n            }\r\n                \r\n            if(Character.isLetter(c))\r\n                postfix += (c + &quot; &quot;);\r\n            \r\n            else if(isOp(c)) //Performs operator precedence stack checking/pushing/adding to String\r\n            {\r\n                if(stack.isEmpty())\r\n                    stack.push(c);\r\n                else if(Precedence(c) &gt; Precedence(stack.peek()))\r\n                    stack.push(c);\r\n                else if(Precedence(c) &lt;= Precedence(stack.peek()))\r\n                {\r\n                    postfix += (stack.pop() + &quot; &quot;);\r\n                    stack.push(c);\r\n                }\r\n\r\n            }\r\n            else if(c == &#39;(&#39; || c == &#39;[&#39; || c == &#39;{&#39;) //This else if and while perform the actions when a set of paranthesis is completed\r\n                stack.push(c);\r\n            while((c == &#39;)&#39; &amp;&amp; stack.peek() != &#39;(&#39;) || (c == &#39;]&#39; &amp;&amp; stack.peek() != &#39;[&#39;) || (c == &#39;}&#39; &amp;&amp; stack.peek() != &#39;{&#39;) )\r\n            {\r\n                if(stack.peek()==&#39;(&#39; || stack.peek()==&#39;[&#39; || stack.peek()==&#39;{&#39; )\r\n                    stack.pop();\r\n                else\r\n                    postfix += (stack.pop() + &quot; &quot;);\r\n            }\r\n\r\n        }\r\n        if(stack.peek()==&#39;(&#39; || stack.peek()==&#39;[&#39; || stack.peek()==&#39;{&#39; ) //Simply removes if the top of the stack is a parenthesis\r\n                stack.pop();\r\n        for (int i = 0; i &lt;=stack.size() ; i++) //Finishes of the stack once the string is finished being iterated through\r\n        {\r\n            if(stack.peek()==&#39;(&#39; || stack.peek()==&#39;[&#39; || stack.peek()==&#39;{&#39; )\r\n                stack.pop();\r\n            if(stack.size()==0)\r\n                break;\r\n            postfix += (stack.pop() + &quot; &quot;);\r\n\r\n        }\r\n    \r\n        JOptionPane.showMessageDialog(f, postfix);\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        convert();\r\n    }\r\n\r\n}\r\n```\r\nit works with variables and numbers that are only one digit but if i want to do 12+3, it would output 1 2 3+ when I really want it to output 12 3 + I then need to make a calculator to calculate the postfix string but I think that would be easier than what I am trying to do right now. I just need to somehow get this to recognize numbers that are more than one digit. UPDATE: I tried to do what Ian Mc suggested and I am so close but I just cannot figure it out. 12+3 with this current code outputs 12+ so I can get it to recognize double digits at least","title":"How to check if an equation has numbers with multiple digits","body":"<p>We are making a program to convert an input from infix to postfix. This is my code:</p>\n<pre><code>import javax.swing.*;\nimport java.util.Stack;\n\npublic class InfixToPostfix\n{\n    public static int Precedence(char c)\n    {\n        return switch (c) {\n            case '+', '-' -&gt; 1;\n            case '*', '/' -&gt; 2;\n            default -&gt; -1;\n        };\n    }\n\n    public static boolean isOp(char c)\n    {\n        return c == '+' || c == '-' || c == '*' || c == '/';\n    }\n\n\n    public static void convert()\n    {\n        JFrame f;\n        f = new JFrame();\n        String eq = JOptionPane.showInputDialog(&quot;Enter Equation&quot;);\n\n        Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n        String postfix = &quot;&quot;;\n        String numberInProgress = &quot;&quot;;\n\n        for(int i=0; i&lt;eq.length(); i++)\n        {\n            char c = eq.charAt(i);\n        \n            if(Character.isDigit(c))\n            {\n                numberInProgress += c;\n            }\n\n\n            if(i&gt;0 &amp;&amp; Character.isDigit(eq.charAt(i-1)) &amp;&amp; !Character.isDigit(c))\n            {\n                postfix += numberInProgress;\n            }\n                \n            if(Character.isLetter(c))\n                postfix += (c + &quot; &quot;);\n            \n            else if(isOp(c)) //Performs operator precedence stack checking/pushing/adding to String\n            {\n                if(stack.isEmpty())\n                    stack.push(c);\n                else if(Precedence(c) &gt; Precedence(stack.peek()))\n                    stack.push(c);\n                else if(Precedence(c) &lt;= Precedence(stack.peek()))\n                {\n                    postfix += (stack.pop() + &quot; &quot;);\n                    stack.push(c);\n                }\n\n            }\n            else if(c == '(' || c == '[' || c == '{') //This else if and while perform the actions when a set of paranthesis is completed\n                stack.push(c);\n            while((c == ')' &amp;&amp; stack.peek() != '(') || (c == ']' &amp;&amp; stack.peek() != '[') || (c == '}' &amp;&amp; stack.peek() != '{') )\n            {\n                if(stack.peek()=='(' || stack.peek()=='[' || stack.peek()=='{' )\n                    stack.pop();\n                else\n                    postfix += (stack.pop() + &quot; &quot;);\n            }\n\n        }\n        if(stack.peek()=='(' || stack.peek()=='[' || stack.peek()=='{' ) //Simply removes if the top of the stack is a parenthesis\n                stack.pop();\n        for (int i = 0; i &lt;=stack.size() ; i++) //Finishes of the stack once the string is finished being iterated through\n        {\n            if(stack.peek()=='(' || stack.peek()=='[' || stack.peek()=='{' )\n                stack.pop();\n            if(stack.size()==0)\n                break;\n            postfix += (stack.pop() + &quot; &quot;);\n\n        }\n    \n        JOptionPane.showMessageDialog(f, postfix);\n    }\n\n    public static void main(String[] args)\n    {\n        convert();\n    }\n\n}\n</code></pre>\n<p>it works with variables and numbers that are only one digit but if i want to do 12+3, it would output 1 2 3+ when I really want it to output 12 3 + I then need to make a calculator to calculate the postfix string but I think that would be easier than what I am trying to do right now. I just need to somehow get this to recognize numbers that are more than one digit. UPDATE: I tried to do what Ian Mc suggested and I am so close but I just cannot figure it out. 12+3 with this current code outputs 12+ so I can get it to recognize double digits at least</p>\n"},{"tags":["java","findbugs","spotbugs"],"answers":[{"tags":[],"owner":{"account_id":431088,"reputation":426,"user_id":814928,"display_name":"Kengo TODA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634869224,"creation_date":1634869224,"answer_id":69670700,"question_id":69637586,"body_markdown":"As suggested by the message, you can create a named static inner class:\r\n\r\n    private static final class MyTypeReference extends TypeReference&lt;HashMap&lt;String, String&gt;&gt; {}\r\n\r\n    public Map&lt;String, String&gt; fromJSON(String json) throws Exception {\r\n        TypeReference&lt;HashMap&lt;String, String&gt;&gt; reference = new MyTypeReference();\r\n        ...\r\n    }\r\n\r\nBTW the [FindBugs is not updated for years](https://mailman.cs.umd.edu/pipermail/findbugs-discuss/2016-November/004321.html) so it is better to replace it with [its successor](https://mailman.cs.umd.edu/pipermail/findbugs-discuss/2017-September/004383.html) or other solutions such as PMD, Google Error prone, etc.","title":"FindBugs detects the SIC_INNER_SHOULD_BE_STATIC_ANON warning for the following code","body":"<p>As suggested by the message, you can create a named static inner class:</p>\n<pre><code>private static final class MyTypeReference extends TypeReference&lt;HashMap&lt;String, String&gt;&gt; {}\n\npublic Map&lt;String, String&gt; fromJSON(String json) throws Exception {\n    TypeReference&lt;HashMap&lt;String, String&gt;&gt; reference = new MyTypeReference();\n    ...\n}\n</code></pre>\n<p>BTW the <a href=\"https://mailman.cs.umd.edu/pipermail/findbugs-discuss/2016-November/004321.html\" rel=\"nofollow noreferrer\">FindBugs is not updated for years</a> so it is better to replace it with <a href=\"https://mailman.cs.umd.edu/pipermail/findbugs-discuss/2017-September/004383.html\" rel=\"nofollow noreferrer\">its successor</a> or other solutions such as PMD, Google Error prone, etc.</p>\n"}],"owner":{"account_id":16375124,"reputation":139,"user_id":11827421,"display_name":"11ohina017"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69670700,"answer_count":1,"score":0,"last_activity_date":1634869224,"creation_date":1634677270,"question_id":69637586,"body_markdown":"FindBugs detects the SIC_INNER_SHOULD_BE_STATIC_ANON warning for the following code.\r\nBesides ignoring warnings in SuppressFBWarnings\r\nHow can I avoid SIC_INNER_SHOULD_BE_STATIC_ANON?\r\n\r\n```\r\nClass MyClass $ 1 may be able to be refactored into a named static inner class.\r\nLocal variable name reference\r\n```\r\n\r\n```java\r\n\r\npublic class MyClass() {\r\n\r\n    public Map&lt;String, String&gt; fromJSON(String json) throws Exception {\r\n            TypeReference&lt;HashMap&lt;String, String&gt;&gt; reference = new TypeReference&lt;HashMap&lt;String, String&gt;&gt;() {};\r\n            Map&lt;String, String&gt; map = null;\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            map = mapper.readValue(json, reference);\r\n\r\n        return map;\r\n\r\n    }\r\n}\r\n```","title":"FindBugs detects the SIC_INNER_SHOULD_BE_STATIC_ANON warning for the following code","body":"<p>FindBugs detects the SIC_INNER_SHOULD_BE_STATIC_ANON warning for the following code.\nBesides ignoring warnings in SuppressFBWarnings\nHow can I avoid SIC_INNER_SHOULD_BE_STATIC_ANON?</p>\n<pre><code>Class MyClass $ 1 may be able to be refactored into a named static inner class.\nLocal variable name reference\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class MyClass() {\n\n    public Map&lt;String, String&gt; fromJSON(String json) throws Exception {\n            TypeReference&lt;HashMap&lt;String, String&gt;&gt; reference = new TypeReference&lt;HashMap&lt;String, String&gt;&gt;() {};\n            Map&lt;String, String&gt; map = null;\n            ObjectMapper mapper = new ObjectMapper();\n            map = mapper.readValue(json, reference);\n\n        return map;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","thread-safety"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1634869170,"post_id":69670663,"comment_id":123148229,"body_markdown":"No, not thread-safe. Other threads may not see the change made to the reference variable. In other words, the reference re-assignment may not be *visible* according to the rules of the [Java Memory Model](https://en.m.wikipedia.org/wiki/Java_memory_model). See [this Answer](https://stackoverflow.com/a/13032827/642706). Mandatory reading: http://www.JavaConcurrencyInPractice.com/","body":"No, not thread-safe. Other threads may not see the change made to the reference variable. In other words, the reference re-assignment may not be <i>visible</i> according to the rules of the <a href=\"https://en.m.wikipedia.org/wiki/Java_memory_model\" rel=\"nofollow noreferrer\">Java Memory Model</a>. See <a href=\"https://stackoverflow.com/a/13032827/642706\">this Answer</a>. Mandatory reading: <a href=\"http://www.JavaConcurrencyInPractice.com/\" rel=\"nofollow noreferrer\">JavaConcurrencyInPractice.com</a>"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1634869476,"post_id":69670663,"comment_id":123148272,"body_markdown":"Life will still be a lot simpler if you use `AtomicReference`, though.","body":"Life will still be a lot simpler if you use <code>AtomicReference</code>, though."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1634869569,"post_id":69670663,"comment_id":123148291,"body_markdown":"Indeed, I agree with the other Comment. An [`AtomicReference`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html) is one solution, and is the solution I would use because it is simple and makes clear your intention.","body":"Indeed, I agree with the other Comment. An <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/atomic/AtomicReference.html\" rel=\"nofollow noreferrer\"><code>AtomicReference</code></a> is one solution, and is the solution I would use because it is simple and makes clear your intention."},{"owner":{"account_id":144981,"reputation":2203,"user_id":354448,"accept_rate":64,"display_name":"arahant"},"score":0,"creation_date":1634871246,"post_id":69670663,"comment_id":123148537,"body_markdown":"@BasilBourque if I understand the other answer correctly, adding `volatile` would be enough here.\n\nI agree that using AtomicReference is just easier, and that&#39;s what I&#39;ll likely do.","body":"@BasilBourque if I understand the other answer correctly, adding <code>volatile</code> would be enough here.  I agree that using AtomicReference is just easier, and that&#39;s what I&#39;ll likely do."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1634873088,"post_id":69670663,"comment_id":123148772,"body_markdown":"Yes, using `volatile` is another solution. Given that the meaning of `volatile` has changed since the early years, and that many programmers do not understand the proper use of `volatile`, I would generally suggest the `Atomic…` classes over `volatile`. (Caveat: I am not an expert on concurrency.)","body":"Yes, using <code>volatile</code> is another solution. Given that the meaning of <code>volatile</code> has changed since the early years, and that many programmers do not understand the proper use of <code>volatile</code>, I would generally suggest the <code>Atomic…</code> classes over <code>volatile</code>. (Caveat: I am not an expert on concurrency.)"}],"owner":{"account_id":144981,"reputation":2203,"user_id":354448,"accept_rate":64,"display_name":"arahant"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1634869071,"answer_count":0,"score":1,"last_activity_date":1634868671,"creation_date":1634868671,"question_id":69670663,"body_markdown":"```\r\npackage com.blah;\r\n\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.ScheduledExecutorService;\r\nimport java.util.concurrent.TimeUnit;\r\nimport javax.annotation.PostConstruct;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport lombok.Value;\r\n\r\n@Component\r\npublic class AdminCredentialsProvider {\r\n\r\n    @Value\r\n    public class AuthInfo {\r\n        String authToken;\r\n        String xsrfToken;\r\n    }\r\n\r\n    private AuthInfo adminAuthInfo = null;\r\n\r\n    private final ScheduledExecutorService adminAuthInfoRefresher =\r\n            Executors.newSingleThreadScheduledExecutor();\r\n\r\n    //This will be called by multiple threads\r\n    public AuthInfo getSiteAdminCredentials() {\r\n        return new AuthInfo(adminAuthInfo.getAuthToken(), adminAuthInfo.getXsrfToken());\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        adminAuthInfo = loginAsSiteAdmin();\r\n\r\n        Runnable runnable = () -&gt; {\r\n            //Do I need to protect this assignment with a lock at all\r\n            adminAuthInfo = loginAsSiteAdmin();\r\n        };\r\n\r\n        adminAuthInfoRefresher.scheduleAtFixedRate(runnable, 1, 1, TimeUnit.HOURS);\r\n    }\r\n\r\n    private AuthInfo loginAsSiteAdmin() {\r\n        //call rest endpoint to login\r\n        return new AuthInfo(&quot;mockToken&quot;, &quot;mockXsrf&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n`adminAuthInfo` variable is only set by one thread (after initial assignment).\r\n\r\nThe AuthInfo class is immutable\r\n\r\nI am aware that the java `=` (reference assignment) is atomic. \r\n\r\nI know I can implement this with AtomicReference, or ReadWriteLock. But is a lock necessary here at all? ","title":"Do i need a lock at all if only 1 thread updates the value?","body":"<pre><code>package com.blah;\n\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\nimport javax.annotation.PostConstruct;\n\nimport org.springframework.stereotype.Component;\n\nimport lombok.Value;\n\n@Component\npublic class AdminCredentialsProvider {\n\n    @Value\n    public class AuthInfo {\n        String authToken;\n        String xsrfToken;\n    }\n\n    private AuthInfo adminAuthInfo = null;\n\n    private final ScheduledExecutorService adminAuthInfoRefresher =\n            Executors.newSingleThreadScheduledExecutor();\n\n    //This will be called by multiple threads\n    public AuthInfo getSiteAdminCredentials() {\n        return new AuthInfo(adminAuthInfo.getAuthToken(), adminAuthInfo.getXsrfToken());\n    }\n\n    @PostConstruct\n    public void init() {\n        adminAuthInfo = loginAsSiteAdmin();\n\n        Runnable runnable = () -&gt; {\n            //Do I need to protect this assignment with a lock at all\n            adminAuthInfo = loginAsSiteAdmin();\n        };\n\n        adminAuthInfoRefresher.scheduleAtFixedRate(runnable, 1, 1, TimeUnit.HOURS);\n    }\n\n    private AuthInfo loginAsSiteAdmin() {\n        //call rest endpoint to login\n        return new AuthInfo(&quot;mockToken&quot;, &quot;mockXsrf&quot;);\n    }\n}\n\n</code></pre>\n<p><code>adminAuthInfo</code> variable is only set by one thread (after initial assignment).</p>\n<p>The AuthInfo class is immutable</p>\n<p>I am aware that the java <code>=</code> (reference assignment) is atomic.</p>\n<p>I know I can implement this with AtomicReference, or ReadWriteLock. But is a lock necessary here at all?</p>\n"},{"tags":["java","email"],"comments":[{"owner":{"account_id":6899637,"reputation":413,"user_id":5299665,"display_name":"Thanigai Arasu"},"score":4,"creation_date":1634834554,"post_id":69665729,"comment_id":123139608,"body_markdown":"`if (emailAddress.contains(&quot;.edu , .org&quot;))`  This is incorrect,  it should be `if(emailAddress.contains(&quot;.edu&quot;) || emailAddress.contains(&quot;.org&quot;))`","body":"<code>if (emailAddress.contains(&quot;.edu , .org&quot;))</code>  This is incorrect,  it should be <code>if(emailAddress.contains(&quot;.edu&quot;) || emailAddress.contains(&quot;.org&quot;))</code>"}],"answers":[{"tags":[],"owner":{"display_name":"user16315474"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634837820,"creation_date":1634837820,"answer_id":69666438,"question_id":69665729,"body_markdown":"Java String contains() method checks whether a particular sequence of characters is part of a given string or not.\r\n\r\nemailAddress.contains(&quot;.edu , .org&quot;) will only return true if the emailAddress contains the sequence &quot;.edu , .org&quot;.\r\n\r\nYou should use :\r\n```java\r\n emailAddress.contains(&quot;.edu&quot;) || emailAddress.contains(&quot;.org&quot;)\r\n```\r\n\r\nBut what if a user has the following email address : &quot;foo.org@gmail.com&quot;  ? Your if statement will also return true.\r\n\r\nGood luck to improve this check &#128513;","title":"java contains method with email breakdown","body":"<p>Java String contains() method checks whether a particular sequence of characters is part of a given string or not.</p>\n<p>emailAddress.contains(&quot;.edu , .org&quot;) will only return true if the emailAddress contains the sequence &quot;.edu , .org&quot;.</p>\n<p>You should use :</p>\n<pre class=\"lang-java prettyprint-override\"><code> emailAddress.contains(&quot;.edu&quot;) || emailAddress.contains(&quot;.org&quot;)\n</code></pre>\n<p>But what if a user has the following email address : &quot;foo.org@gmail.com&quot;  ? Your if statement will also return true.</p>\n<p>Good luck to improve this check 😁</p>\n"}],"owner":{"account_id":14564524,"reputation":27,"user_id":10519699,"display_name":"Freedom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69666438,"answer_count":1,"score":0,"last_activity_date":1634868561,"creation_date":1634834249,"question_id":69665729,"body_markdown":"Recently I&#39;ve been playing around with java and just had learned about if statements. Is there a particular reason why my if statement doesn&#39;t work in this case?\r\n``","title":"java contains method with email breakdown","body":"<p>Recently I've been playing around with java and just had learned about if statements. Is there a particular reason why my if statement doesn't work in this case?\n``</p>\n"},{"tags":["java","android","qt","android-11"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1634857875,"post_id":69669678,"comment_id":123146711,"body_markdown":"&quot;The sooner we do it the way google wants the better&quot; -- the way Google wants is `ACTION_OPEN_DOCUMENT_TREE`. `This outputs &quot;true&quot;` -- note that this means you skip your `if` block that follows, which only executes if `exists()` returns `false`.","body":"&quot;The sooner we do it the way google wants the better&quot; -- the way Google wants is <code>ACTION_OPEN_DOCUMENT_TREE</code>. <code>This outputs &quot;true&quot;</code> -- note that this means you skip your <code>if</code> block that follows, which only executes if <code>exists()</code> returns <code>false</code>."},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":2,"creation_date":1634857908,"post_id":69669678,"comment_id":123146719,"body_markdown":"You can&#39;t list files you don&#39;t own and your app doesn&#39;t own `/sdcard/Download` or `/sdcard/custom_folder`. You have to ask the user to select exactly what file or folder to grant you access to via SAF.","body":"You can&#39;t list files you don&#39;t own and your app doesn&#39;t own <code>&#47;sdcard&#47;Download</code> or <code>&#47;sdcard&#47;custom_folder</code>. You have to ask the user to select exactly what file or folder to grant you access to via SAF."},{"owner":{"account_id":22712819,"reputation":91,"user_id":16878544,"display_name":"SOSparachuter1"},"score":0,"creation_date":1634858605,"post_id":69669678,"comment_id":123146846,"body_markdown":"Thanks for the clarification. My app is written in C using Qt, and for mobile users uses a JNI interop which is where I&#39;ve been doing the android-specific file I/O since Qt&#39;s abstraction layer is pretty broken for android 11.","body":"Thanks for the clarification. My app is written in C using Qt, and for mobile users uses a JNI interop which is where I&#39;ve been doing the android-specific file I/O since Qt&#39;s abstraction layer is pretty broken for android 11."},{"owner":{"account_id":22712819,"reputation":91,"user_id":16878544,"display_name":"SOSparachuter1"},"score":0,"creation_date":1634858754,"post_id":69669678,"comment_id":123146865,"body_markdown":"Also whoops that was a typo when I was typing that out here.","body":"Also whoops that was a typo when I was typing that out here."}],"owner":{"account_id":22712819,"reputation":91,"user_id":16878544,"display_name":"SOSparachuter1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634878462,"answer_count":0,"score":0,"last_activity_date":1634868383,"creation_date":1634857469,"question_id":69669678,"body_markdown":"I am attempting to copy a file URI that is in any of the directories outside of android/data (which is obviously private except for my app&#39;s own directory). \r\n\r\nThis is what I already have:\r\n\r\n1. In my manifest I have READ_EXTERNAL_STORAGE enabled\r\n2. I have a list of files in, say, /sdcard/Download that the user **does not** go through a file dialog to pick. So SAF is out of the question.\r\n3. I first check whether a file exists via\r\n\r\n    ```?\r\n    //inURL of format /sdcard/Download/ or /sdcard/custom_folder \r\n    var file = File(inURL)\r\n    \r\n    //This outputs &quot;true&quot; with example directory /sdcard/Download/my_collection\r\n    Log.i(TAG, &quot;File exists? ${file.exists()}&quot;)\r\n    \r\n    if (file.exists())\r\n    {\r\n      //outURL is my app&#39;s scoped storage under android/data/...\r\n      file.copyRecursively(inURL, outURL)\r\n    }\r\n\r\nWhere inURL (/sdcard/Download/my_collection) contains a mix of folders and files. However, this only copies the folders over, and not the files. Calling:\r\n\r\n    file.list().forEach{Log.i(TAG, it)}\r\n\r\nReveals that this only picks up the folders, and not my various files (mix of json and javascript files). How am I supposed to do this?\r\n\r\n**Note: Do not suggest enabling legacy storage because it&#39;s no longer possible in sdk level 30, plus it&#39;s terrible practice to keep doing it anyways. The sooner we do it the way google wants the better.**\r\n","title":"How to access files under /sdcard/Download in Android 11 without SAF?","body":"<p>I am attempting to copy a file URI that is in any of the directories outside of android/data (which is obviously private except for my app's own directory).</p>\n<p>This is what I already have:</p>\n<ol>\n<li><p>In my manifest I have READ_EXTERNAL_STORAGE enabled</p>\n</li>\n<li><p>I have a list of files in, say, /sdcard/Download that the user <strong>does not</strong> go through a file dialog to pick. So SAF is out of the question.</p>\n</li>\n<li><p>I first check whether a file exists via</p>\n<pre><code>//inURL of format /sdcard/Download/ or /sdcard/custom_folder \nvar file = File(inURL)\n\n//This outputs &quot;true&quot; with example directory /sdcard/Download/my_collection\nLog.i(TAG, &quot;File exists? ${file.exists()}&quot;)\n\nif (file.exists())\n{\n  //outURL is my app's scoped storage under android/data/...\n  file.copyRecursively(inURL, outURL)\n}\n\n</code></pre>\n</li>\n</ol>\n<p>Where inURL (/sdcard/Download/my_collection) contains a mix of folders and files. However, this only copies the folders over, and not the files. Calling:</p>\n<pre><code>file.list().forEach{Log.i(TAG, it)}\n</code></pre>\n<p>Reveals that this only picks up the folders, and not my various files (mix of json and javascript files). How am I supposed to do this?</p>\n<p><strong>Note: Do not suggest enabling legacy storage because it's no longer possible in sdk level 30, plus it's terrible practice to keep doing it anyways. The sooner we do it the way google wants the better.</strong></p>\n"},{"tags":["java","asynchronous","future"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1634863808,"post_id":69670136,"comment_id":123147580,"body_markdown":"`transformAsync(createUser(), user -&gt; { createBillingAccount(user); return user; })`?","body":"<code>transformAsync(createUser(), user -&gt; { createBillingAccount(user); return user; })</code>?"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634868764,"post_id":69670136,"comment_id":123148174,"body_markdown":"Or `whenComplete`.","body":"Or <code>whenComplete</code>."},{"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"score":0,"creation_date":1634874362,"post_id":69670136,"comment_id":123148939,"body_markdown":"@shmosel don&#39;t think that&#39;ll work. `createBillingAccount` is a Future, so I need something to activate it. I don&#39;t want to call a blocking `.get()` on it","body":"@shmosel don&#39;t think that&#39;ll work. <code>createBillingAccount</code> is a Future, so I need something to activate it. I don&#39;t want to call a blocking <code>.get()</code> on it"},{"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"score":0,"creation_date":1634874406,"post_id":69670136,"comment_id":123148946,"body_markdown":"@chrylis-cautiouslyoptimistic- same question, how would I run the `createBillingAccount` future? I don&#39;t want to call `.get()` on it","body":"@chrylis-cautiouslyoptimistic- same question, how would I run the <code>createBillingAccount</code> future? I don&#39;t want to call <code>.get()</code> on it"}],"answers":[{"tags":[],"owner":{"account_id":4482164,"reputation":6664,"user_id":3645944,"accept_rate":90,"display_name":"Pablo Matias Gomez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634867428,"creation_date":1634864525,"answer_id":69670311,"question_id":69670136,"body_markdown":"You can simply execute the future and then do `thenApplyAsync` and return the user, so that you are returning a future of User, and discard the billing, like this:\r\n\r\n```\r\nFutures.transformAsync(createUser(), user -&gt; createBillingAccount(user).thenApplyAsync(b -&gt; user))\r\n```","title":"What is proper way to chain a future without transforming it?","body":"<p>You can simply execute the future and then do <code>thenApplyAsync</code> and return the user, so that you are returning a future of User, and discard the billing, like this:</p>\n<pre><code>Futures.transformAsync(createUser(), user -&gt; createBillingAccount(user).thenApplyAsync(b -&gt; user))\n</code></pre>\n"}],"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69670311,"answer_count":1,"score":1,"last_activity_date":1634867428,"creation_date":1634862267,"question_id":69670136,"body_markdown":"Suppose I have 2 functions that return a type of Future.\r\n\r\n    ListenableFuture&lt;User&gt; createUser();\r\n\r\n    CompletableFuture&lt;BillingAccount&gt; createBillingAccount(User user);\r\n\r\nI need to run `createUser()` before running `createBillingAccount` because it depends on the user created.\r\n\r\nHowever, I want to return the user, not the billingAccount.\r\n\r\nNormally, I would use `Futures.transformAsync(createUser(), user -&gt; createBillingAccount(user))` but this would return a BillingAccount. I want to return a user.\r\n\r\nWhat else can I do here without blocking?","title":"What is proper way to chain a future without transforming it?","body":"<p>Suppose I have 2 functions that return a type of Future.</p>\n<pre><code>ListenableFuture&lt;User&gt; createUser();\n\nCompletableFuture&lt;BillingAccount&gt; createBillingAccount(User user);\n</code></pre>\n<p>I need to run <code>createUser()</code> before running <code>createBillingAccount</code> because it depends on the user created.</p>\n<p>However, I want to return the user, not the billingAccount.</p>\n<p>Normally, I would use <code>Futures.transformAsync(createUser(), user -&gt; createBillingAccount(user))</code> but this would return a BillingAccount. I want to return a user.</p>\n<p>What else can I do here without blocking?</p>\n"},{"tags":["java","protocol-buffers"],"comments":[{"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter Štibran&#253;"},"score":2,"creation_date":1388695330,"post_id":20891425,"comment_id":31354604,"body_markdown":"It always returns non-null value.","body":"It always returns non-null value."}],"answers":[{"tags":[],"owner":{"account_id":3179906,"reputation":42189,"user_id":2686899,"display_name":"Kenton Varda"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1388705946,"creation_date":1388705946,"answer_id":20893995,"question_id":20891425,"body_markdown":"No, there is no case where it returns `null`.  In fact, none of the field accessors on Java protobuf generated classes ever return `null`; they always return the default value if the field is not present.  Similarly, the setters do not allow you to set `null`.","title":"Can Java Protocol Buffers ever return null on the list getter of a repeated field?","body":"<p>No, there is no case where it returns <code>null</code>.  In fact, none of the field accessors on Java protobuf generated classes ever return <code>null</code>; they always return the default value if the field is not present.  Similarly, the setters do not allow you to set <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":11743767,"reputation":31,"user_id":8595154,"display_name":"Tyrael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634865919,"creation_date":1593679061,"answer_id":62692288,"question_id":20891425,"body_markdown":"&gt; Note that no Java protocol buffer methods accept or return nulls unless otherwise specified.\r\n\r\nReference: https://developers.google.com/protocol-buffers/docs/reference/java-generated","title":"Can Java Protocol Buffers ever return null on the list getter of a repeated field?","body":"<blockquote>\n<p>Note that no Java protocol buffer methods accept or return nulls unless otherwise specified.</p>\n</blockquote>\n<p>Reference: <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java-generated\" rel=\"nofollow noreferrer\">https://developers.google.com/protocol-buffers/docs/reference/java-generated</a></p>\n"},{"tags":[],"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634866373,"creation_date":1634866373,"answer_id":69670465,"question_id":20891425,"body_markdown":"&gt; The default value for repeated fields is empty (generally an empty list in the appropriate language).\r\n\r\nSource: https://developers.google.com/protocol-buffers/docs/proto3#default","title":"Can Java Protocol Buffers ever return null on the list getter of a repeated field?","body":"<blockquote>\n<p>The default value for repeated fields is empty (generally an empty list in the appropriate language).</p>\n</blockquote>\n<p>Source: <a href=\"https://developers.google.com/protocol-buffers/docs/proto3#default\" rel=\"nofollow noreferrer\">https://developers.google.com/protocol-buffers/docs/proto3#default</a></p>\n"}],"owner":{"account_id":402096,"reputation":1614,"user_id":769065,"accept_rate":83,"display_name":"Kat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8442,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":20893995,"answer_count":3,"score":15,"last_activity_date":1634866373,"creation_date":1388695081,"question_id":20891425,"body_markdown":"Say you have a repeated field.\r\n\r\n    message Foo {\r\n      optional int32 val = 1;\r\n    }\r\n    \r\n    message Bar {\r\n      repeated Foo foo = 1;\r\n    }\r\n\r\nThis will generate the method\r\n\r\n    List&lt;Foo&gt; getFooList()\r\n\r\nIs there any circumstance where getFooList will return null? Or will it already return a List, even if it&#39;s empty?","title":"Can Java Protocol Buffers ever return null on the list getter of a repeated field?","body":"<p>Say you have a repeated field.</p>\n\n<pre><code>message Foo {\n  optional int32 val = 1;\n}\n\nmessage Bar {\n  repeated Foo foo = 1;\n}\n</code></pre>\n\n<p>This will generate the method</p>\n\n<pre><code>List&lt;Foo&gt; getFooList()\n</code></pre>\n\n<p>Is there any circumstance where getFooList will return null? Or will it already return a List, even if it's empty?</p>\n"},{"tags":["javascript","java","html","angularjs"],"answers":[{"tags":[],"owner":{"account_id":10973758,"reputation":2924,"user_id":8063048,"accept_rate":86,"display_name":"Hong Van Vit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634865338,"creation_date":1634865338,"answer_id":69670379,"question_id":69669272,"body_markdown":"You put wrong ng-controller. It must be FramesController: Something like this\r\n\r\n    &lt;div ng-controller=&quot;FramesController&quot; ng-show=&quot;frameList.length &gt; 0&quot;&gt;\r\n        &lt;table id=&quot;frameTable&quot;&gt;\r\n            &lt;thead&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;&lt;h2&gt;Id&lt;/h2&gt;&lt;/th&gt;\r\n                &lt;th&gt;&lt;h2&gt;Company&lt;/h2&gt;&lt;/th&gt;\r\n                &lt;th&gt;&lt;h2&gt;Model&lt;/h2&gt;&lt;/th&gt;\r\n                &lt;th&gt;&lt;h2&gt;Price&lt;/h2&gt;&lt;/th&gt;\r\n                &lt;th&gt;&lt;h2&gt;Amount&lt;/h2&gt;&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n            &lt;/thead&gt;\r\n            &lt;tbody&gt;\r\n            &lt;tr ng-repeat=&quot;frame in frameList&quot; id=&quot;{{frame.id}}&quot;&gt;\r\n                &lt;td&gt;{{frame.id}}&lt;/td&gt;\r\n                &lt;td&gt;{{frame.company}}&lt;/td&gt;\r\n                &lt;td&gt;{{frame.model}}&lt;/td&gt;\r\n                &lt;td&gt;{{frame.price}}&lt;/td&gt;\r\n                &lt;td&gt;{{frame.amount}}&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n    &lt;/div&gt;","title":"i am not displaying ajax table in html why?","body":"<p>You put wrong ng-controller. It must be FramesController: Something like this</p>\n<pre><code>&lt;div ng-controller=&quot;FramesController&quot; ng-show=&quot;frameList.length &gt; 0&quot;&gt;\n    &lt;table id=&quot;frameTable&quot;&gt;\n        &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;&lt;h2&gt;Id&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Company&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Model&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Price&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Amount&lt;/h2&gt;&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n        &lt;tr ng-repeat=&quot;frame in frameList&quot; id=&quot;{{frame.id}}&quot;&gt;\n            &lt;td&gt;{{frame.id}}&lt;/td&gt;\n            &lt;td&gt;{{frame.company}}&lt;/td&gt;\n            &lt;td&gt;{{frame.model}}&lt;/td&gt;\n            &lt;td&gt;{{frame.price}}&lt;/td&gt;\n            &lt;td&gt;{{frame.amount}}&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":20088290,"reputation":11,"user_id":15388159,"display_name":"Iskander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634865338,"creation_date":1634853934,"question_id":69669272,"body_markdown":"\r\nI am trying to run an application using AngularJS and Ajax. I also use a Java Controller that returns JSON. Unfortunately, html does not display the table, I cannot understand what is the matter, please help. I am just getting started with Ajax and angularJS. I am trying to output a table in Html, here are my files:\r\n\r\nFrames.js\r\n```\r\nvar app = angular.module(&#39;frames&#39;, []);\r\n\r\napp.controller(&quot;FramesController&quot;, function ($scope, $http) {\r\n\r\n    $scope.successGetFramesCallback = function (response) {\r\n        $scope.frameList = response.data;\r\n        $scope.errormessage=&quot;&quot;;\r\n    };\r\n\r\n    $scope.errorGetFramesCallback = function (error) {\r\n        console.log(error);\r\n        $scope.errormessage=&quot;Unable to get list of frames&quot;;\r\n    };\r\n\r\n    $scope.getFrames = function () {\r\n        $http.get(&#39;/mcga/frames&#39;).then($scope.successGetFramesCallback, $scope.errorGetFramesCallback);\r\n    };\r\n\r\n});\r\n```\r\n\r\nframes.html:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:sec=&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity3&quot;&gt;\r\n&lt;head&gt;\r\n\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;&lt;/meta&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;&lt;/meta&gt;\r\n    &lt;title&gt;Schools in our university&lt;/title&gt;\r\n\r\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;js/frames.js&quot;&gt;&lt;/script&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body ng-app=&quot;frames&quot; ng-controller=&quot;FramesController&quot;&gt;\r\n\r\n&lt;h1&gt;Компьютерные корпуса&lt;/h1&gt;\r\n\r\n&lt;div ng-controller=&quot;getFrames&quot; ng-show=&quot;frameList.length &gt; 0&quot;&gt;\r\n    &lt;table id=&quot;frameTable&quot;&gt;\r\n        &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;&lt;h2&gt;Id&lt;/h2&gt;&lt;/th&gt;\r\n            &lt;th&gt;&lt;h2&gt;Company&lt;/h2&gt;&lt;/th&gt;\r\n            &lt;th&gt;&lt;h2&gt;Model&lt;/h2&gt;&lt;/th&gt;\r\n            &lt;th&gt;&lt;h2&gt;Price&lt;/h2&gt;&lt;/th&gt;\r\n            &lt;th&gt;&lt;h2&gt;Amount&lt;/h2&gt;&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/thead&gt;\r\n        &lt;tbody&gt;\r\n        &lt;tr ng-repeat=&quot;frame in frameList&quot; id=&quot;{{frame.id}}&quot;&gt;\r\n            &lt;td&gt;{{frame.id}}&lt;/td&gt;\r\n            &lt;td&gt;{{frame.company}}&lt;/td&gt;\r\n            &lt;td&gt;{{frame.model}}&lt;/td&gt;\r\n            &lt;td&gt;{{frame.price}}&lt;/td&gt;\r\n            &lt;td&gt;{{frame.amount}}&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\nand my controller is written in java, it gets the list from the Database and returns it in JSON, it works fine. JSON is returned to me. Here is the code:\r\n``` \r\n@RestController\r\npublic class MyController {\r\n\r\n    @Autowired\r\n    private Service service;\r\n\r\n    @GetMapping(&quot;mcga/frames&quot;)\r\n    public ResponseEntity&lt;Object&gt; showAllFrames()\r\n    {\r\n        List&lt;frame&gt; frameList=service.getAllFrames();\r\n        return ResponseEntity.ok(frameList);\r\n\r\n    }\r\n}\r\n``` \r\nAnd my ConfigController:\r\n```\r\n@Configuration\r\npublic class ControllerConfig extends WebMvcConfigurerAdapter {\r\n    @Override\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/frames&quot;).setViewName(&quot;frames&quot;);\r\n    }\r\n}\r\n```","title":"i am not displaying ajax table in html why?","body":"<p>I am trying to run an application using AngularJS and Ajax. I also use a Java Controller that returns JSON. Unfortunately, html does not display the table, I cannot understand what is the matter, please help. I am just getting started with Ajax and angularJS. I am trying to output a table in Html, here are my files:</p>\n<p>Frames.js</p>\n<pre><code>var app = angular.module('frames', []);\n\napp.controller(&quot;FramesController&quot;, function ($scope, $http) {\n\n    $scope.successGetFramesCallback = function (response) {\n        $scope.frameList = response.data;\n        $scope.errormessage=&quot;&quot;;\n    };\n\n    $scope.errorGetFramesCallback = function (error) {\n        console.log(error);\n        $scope.errormessage=&quot;Unable to get list of frames&quot;;\n    };\n\n    $scope.getFrames = function () {\n        $http.get('/mcga/frames').then($scope.successGetFramesCallback, $scope.errorGetFramesCallback);\n    };\n\n});\n</code></pre>\n<p>frames.html:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:sec=&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity3&quot;&gt;\n&lt;head&gt;\n\n    &lt;meta charset=&quot;utf-8&quot;&gt;&lt;/meta&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;&lt;/meta&gt;\n    &lt;title&gt;Schools in our university&lt;/title&gt;\n\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;js/frames.js&quot;&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body ng-app=&quot;frames&quot; ng-controller=&quot;FramesController&quot;&gt;\n\n&lt;h1&gt;Компьютерные корпуса&lt;/h1&gt;\n\n&lt;div ng-controller=&quot;getFrames&quot; ng-show=&quot;frameList.length &gt; 0&quot;&gt;\n    &lt;table id=&quot;frameTable&quot;&gt;\n        &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;&lt;h2&gt;Id&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Company&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Model&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Price&lt;/h2&gt;&lt;/th&gt;\n            &lt;th&gt;&lt;h2&gt;Amount&lt;/h2&gt;&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n        &lt;tr ng-repeat=&quot;frame in frameList&quot; id=&quot;{{frame.id}}&quot;&gt;\n            &lt;td&gt;{{frame.id}}&lt;/td&gt;\n            &lt;td&gt;{{frame.company}}&lt;/td&gt;\n            &lt;td&gt;{{frame.model}}&lt;/td&gt;\n            &lt;td&gt;{{frame.price}}&lt;/td&gt;\n            &lt;td&gt;{{frame.amount}}&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>and my controller is written in java, it gets the list from the Database and returns it in JSON, it works fine. JSON is returned to me. Here is the code:</p>\n<pre><code>@RestController\npublic class MyController {\n\n    @Autowired\n    private Service service;\n\n    @GetMapping(&quot;mcga/frames&quot;)\n    public ResponseEntity&lt;Object&gt; showAllFrames()\n    {\n        List&lt;frame&gt; frameList=service.getAllFrames();\n        return ResponseEntity.ok(frameList);\n\n    }\n}\n</code></pre>\n<p>And my ConfigController:</p>\n<pre><code>@Configuration\npublic class ControllerConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(&quot;/frames&quot;).setViewName(&quot;frames&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","string","binary","sequence"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1634843754,"post_id":69667594,"comment_id":123142824,"body_markdown":"Hello and welcome. Please specify what problem your having, for example specifying the inputs, the expected outputs and what you&#39;re getting instead (wrong results? an exception? anything at all?)","body":"Hello and welcome. Please specify what problem your having, for example specifying the inputs, the expected outputs and what you&#39;re getting instead (wrong results? an exception? anything at all?)"},{"owner":{"account_id":21734509,"reputation":1,"user_id":16042713,"display_name":"WhoAmI"},"score":0,"creation_date":1634844107,"post_id":69667594,"comment_id":123142951,"body_markdown":"When it goes with couter, it puts out good number, but results for the longest sequence of 0s in a binary number not. I tried to take notes on a sheet of paper step-by-step, but still I do not know where I am stuck below where I increment counter.","body":"When it goes with couter, it puts out good number, but results for the longest sequence of 0s in a binary number not. I tried to take notes on a sheet of paper step-by-step, but still I do not know where I am stuck below where I increment counter."},{"owner":{"account_id":21734509,"reputation":1,"user_id":16042713,"display_name":"WhoAmI"},"score":0,"creation_date":1634844215,"post_id":69667594,"comment_id":123142994,"body_markdown":"always it puts out 0 in maxGlobal","body":"always it puts out 0 in maxGlobal"},{"owner":{"account_id":16051749,"reputation":53,"user_id":11585411,"display_name":"AaronRules5"},"score":0,"creation_date":1634844371,"post_id":69667594,"comment_id":123143058,"body_markdown":"I think one thing you may not have noticed is that you&#39;re checking y[i] for values like 0 and 1.. when you should be checking for &quot;0&quot; and &quot;1&quot; since you converted it into a char array.","body":"I think one thing you may not have noticed is that you&#39;re checking y[i] for values like 0 and 1.. when you should be checking for &quot;0&quot; and &quot;1&quot; since you converted it into a char array."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1634860155,"post_id":69667594,"comment_id":123147091,"body_markdown":"Why `1011001` is 1 sequence and `100100101` is three sequences - should be 2 sequences if a minimal count of 0s is 2?","body":"Why <code>1011001</code> is 1 sequence and <code>100100101</code> is three sequences - should be 2 sequences if a minimal count of 0s is 2?"}],"answers":[{"tags":[],"owner":{"account_id":21500910,"reputation":534,"user_id":15845138,"display_name":"John Morton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634846504,"creation_date":1634846504,"answer_id":69668127,"question_id":69667594,"body_markdown":"how about:\r\n\r\n    String trimmed = convertToBinary(number).replaceAll(&quot;0+$&quot;,&quot;&quot;);\r\n    return (trimmed.length() - trimmed.replaceAll(&quot;10&quot;,&quot;&quot;).length())/2;\r\n\r\nIt doesn&#39;t matter how long the sequence is, just that it has a zero in it and isn&#39;t at the end of the string.","title":"counting the sequences of 0s in binary number","body":"<p>how about:</p>\n<pre><code>String trimmed = convertToBinary(number).replaceAll(&quot;0+$&quot;,&quot;&quot;);\nreturn (trimmed.length() - trimmed.replaceAll(&quot;10&quot;,&quot;&quot;).length())/2;\n</code></pre>\n<p>It doesn't matter how long the sequence is, just that it has a zero in it and isn't at the end of the string.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634864586,"creation_date":1634864586,"answer_id":69670318,"question_id":69667594,"body_markdown":"Instead of debugging parsing logic it may be more convenient to process the input, get rid of irrelevant parts (leading and or trailing zeroes), find valid groups of 0s, define their length and then count the occurrences or find the longest sequence:\r\n* using `String::split` + `String::replaceAll`\r\n```java\r\nprivate static IntStream toBinary(int n) {\r\n    return Arrays.stream(Integer.toBinaryString(n)\r\n            .replaceAll(&quot;(^0+1|10+$)&quot;, &quot;1&quot;) // remove leading/trailing 0s\r\n            .split(&quot;1+&quot;)\r\n        ) // Stream&lt;String&gt;\r\n        .mapToInt(String::length)\r\n        .filter(i -&gt; i &gt; 1);\r\n}\r\n\r\npublic static int howManyZeroSeqs(int n) {\r\n    return (int) toBinary(n).count();\r\n}\r\n\r\npublic static int maxZeroSeqLength(int n) {\r\n    return toBinary(n).max().orElse(0);\r\n}\r\n```\r\nTests\r\n```java\r\nfor (int i : new int[]{0b01001001000100, 0b010010010000100100010000}) {\r\n    System.out.println(&quot;#seqs (&quot; + Integer.toBinaryString(i) + &quot;) = &quot; + howManyZeroSeqs(i));\r\n    System.out.println(&quot;max length (&quot; + Integer.toBinaryString(i) + &quot;) = &quot; + maxZeroSeqLength(i));\r\n}\r\n```\r\nOutput:\r\n```\r\n#seqs (1001001000100) = 3\r\nmax length (1001001000100) = 3\r\n#seqs (10010010000100100010000) = 5\r\nmax length (10010010000100100010000) = 4\r\n```\r\n----\r\n* use matching pattern to detect sequences of at least 2 zeroes not at the end of the string \r\n\r\n[online demo](https://regex101.com/r/e2CTR9/1)\r\n```java\r\nstatic Pattern ZEROSEQ = Pattern.compile(&quot;(?=1(0{2,}+)(?!$))1&quot;);\r\nprivate static IntStream toBinary(int n) {\r\n    return ZEROSEQ.matcher(Integer.toBinaryString(n))\r\n        .results()\r\n        .map(mr -&gt; mr.group(1))\r\n        .mapToInt(String::length);\r\n}\r\n```\r\n`(?=1(0{2,}+)(?!$))1` - `?=1(0{2,}+)` positive lookahead: 1 followed by a capturing group for the sequence of at least 2 zeroes\r\n\r\n`(?!$)` - negative lookahead - group of 0s not followed by the end of the string\r\n1 - closing 1\r\n\r\nThe test results are the same.","title":"counting the sequences of 0s in binary number","body":"<p>Instead of debugging parsing logic it may be more convenient to process the input, get rid of irrelevant parts (leading and or trailing zeroes), find valid groups of 0s, define their length and then count the occurrences or find the longest sequence:</p>\n<ul>\n<li>using <code>String::split</code> + <code>String::replaceAll</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>private static IntStream toBinary(int n) {\n    return Arrays.stream(Integer.toBinaryString(n)\n            .replaceAll(&quot;(^0+1|10+$)&quot;, &quot;1&quot;) // remove leading/trailing 0s\n            .split(&quot;1+&quot;)\n        ) // Stream&lt;String&gt;\n        .mapToInt(String::length)\n        .filter(i -&gt; i &gt; 1);\n}\n\npublic static int howManyZeroSeqs(int n) {\n    return (int) toBinary(n).count();\n}\n\npublic static int maxZeroSeqLength(int n) {\n    return toBinary(n).max().orElse(0);\n}\n</code></pre>\n<p>Tests</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i : new int[]{0b01001001000100, 0b010010010000100100010000}) {\n    System.out.println(&quot;#seqs (&quot; + Integer.toBinaryString(i) + &quot;) = &quot; + howManyZeroSeqs(i));\n    System.out.println(&quot;max length (&quot; + Integer.toBinaryString(i) + &quot;) = &quot; + maxZeroSeqLength(i));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>#seqs (1001001000100) = 3\nmax length (1001001000100) = 3\n#seqs (10010010000100100010000) = 5\nmax length (10010010000100100010000) = 4\n</code></pre>\n<hr />\n<ul>\n<li>use matching pattern to detect sequences of at least 2 zeroes not at the end of the string</li>\n</ul>\n<p><a href=\"https://regex101.com/r/e2CTR9/1\" rel=\"nofollow noreferrer\">online demo</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>static Pattern ZEROSEQ = Pattern.compile(&quot;(?=1(0{2,}+)(?!$))1&quot;);\nprivate static IntStream toBinary(int n) {\n    return ZEROSEQ.matcher(Integer.toBinaryString(n))\n        .results()\n        .map(mr -&gt; mr.group(1))\n        .mapToInt(String::length);\n}\n</code></pre>\n<p><code>(?=1(0{2,}+)(?!$))1</code> - <code>?=1(0{2,}+)</code> positive lookahead: 1 followed by a capturing group for the sequence of at least 2 zeroes</p>\n<p><code>(?!$)</code> - negative lookahead - group of 0s not followed by the end of the string\n1 - closing 1</p>\n<p>The test results are the same.</p>\n"}],"owner":{"account_id":21734509,"reputation":1,"user_id":16042713,"display_name":"WhoAmI"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1634864586,"creation_date":1634843622,"question_id":69667594,"body_markdown":"    package com.company;\r\n\r\n    public\r\n    class ToBinary\r\n        {\r\n            public String convertToBinary( int n)\r\n                {\r\n                    return Integer.toBinaryString( n );\r\n                }\r\n            public int howMany(int number)\r\n            {\r\n                String x = convertToBinary(number);\r\n                char[] y = x.toCharArray();\r\n                int counter=0; //how many seq in binary number\r\n                /*\r\n                    sequence counts if 0s are surrounded by 1 f.ex 101 1001 is 1 sequence\r\n                                                                   100100101 is 3 seq\r\n                                                                   1010 is 1 seq\r\n                 */\r\n                int temp=0;\r\n                int maxGlobal=0;\r\n                int maxLocal =0;\r\n                for(int i=1;i&lt;y.length-1;i++)\r\n                    {\r\n                        if(y[i]!=y[i-1] &amp;&amp; y[i]!=y[i+1])\r\n                            counter++;\r\n                        if(y[i]==0 &amp;&amp; y[i-1]==0)\r\n                            {\r\n                                maxLocal +=1;\r\n                            }\r\n                        if(y[i]==0 &amp;&amp; y[i+1]==1)\r\n                        {\r\n                            maxLocal +=1;\r\n                            maxGlobal= maxLocal;\r\n                            maxLocal =0;\r\n                        }\r\n                        else\r\n                            continue;\r\n                    }\r\n                System.out.println(maxGlobal);\r\n                return counter;\r\n            }\r\n    \r\n        }\r\n\r\nI wrote some code but i don&#39;t know what I am doing here wrong. \r\n","title":"counting the sequences of 0s in binary number","body":"<pre><code>package com.company;\n\npublic\nclass ToBinary\n    {\n        public String convertToBinary( int n)\n            {\n                return Integer.toBinaryString( n );\n            }\n        public int howMany(int number)\n        {\n            String x = convertToBinary(number);\n            char[] y = x.toCharArray();\n            int counter=0; //how many seq in binary number\n            /*\n                sequence counts if 0s are surrounded by 1 f.ex 101 1001 is 1 sequence\n                                                               100100101 is 3 seq\n                                                               1010 is 1 seq\n             */\n            int temp=0;\n            int maxGlobal=0;\n            int maxLocal =0;\n            for(int i=1;i&lt;y.length-1;i++)\n                {\n                    if(y[i]!=y[i-1] &amp;&amp; y[i]!=y[i+1])\n                        counter++;\n                    if(y[i]==0 &amp;&amp; y[i-1]==0)\n                        {\n                            maxLocal +=1;\n                        }\n                    if(y[i]==0 &amp;&amp; y[i+1]==1)\n                    {\n                        maxLocal +=1;\n                        maxGlobal= maxLocal;\n                        maxLocal =0;\n                    }\n                    else\n                        continue;\n                }\n            System.out.println(maxGlobal);\n            return counter;\n        }\n\n    }\n</code></pre>\n<p>I wrote some code but i don't know what I am doing here wrong.</p>\n"},{"tags":["java","android","gesture"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1634922661,"post_id":69670309,"comment_id":123166114,"body_markdown":"You can try adding an `onTouchListener()` to each of the views you need to detect gestures on. Try following the accepted answer here: [SO: adding gesture detection to views](https://stackoverflow.com/questions/45054908/how-to-add-a-gesture-detector-to-a-view-in-android).","body":"You can try adding an <code>onTouchListener()</code> to each of the views you need to detect gestures on. Try following the accepted answer here: <a href=\"https://stackoverflow.com/questions/45054908/how-to-add-a-gesture-detector-to-a-view-in-android\">SO: adding gesture detection to views</a>."},{"owner":{"account_id":23106264,"reputation":1,"user_id":17214835,"display_name":"Kevin Randleman"},"score":0,"creation_date":1634928075,"post_id":69670309,"comment_id":123167880,"body_markdown":"Would it be possible to have sort of like a screen on top of the application that views all gestures without interfering with the functionality of the application","body":"Would it be possible to have sort of like a screen on top of the application that views all gestures without interfering with the functionality of the application"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1634929238,"post_id":69670309,"comment_id":123168256,"body_markdown":"You can use an [onInterceptTouchEvent()](https://developer.android.com/training/gestures/viewgroup#:~:text=Intercept%20touch%20events%20in%20a%20ViewGroup%20The%20onInterceptTouchEvent,ViewGroup%2C%20including%20on%20the%20surface%20of%20its%20children.) to have the touch to the layout&#39;s children intercepted to get it handled by one view only. I think this guide may suffice: [Correctly implemetning onInterceptTouchEvent](http://neevek.net/posts/2013/10/13/implementing-onInterceptTouchEvent-and-onTouchEvent-for-ViewGroup.html).","body":"You can use an <a href=\"https://developer.android.com/training/gestures/viewgroup#:~:text=Intercept%20touch%20events%20in%20a%20ViewGroup%20The%20onInterceptTouchEvent,ViewGroup%2C%20including%20on%20the%20surface%20of%20its%20children.\" rel=\"nofollow noreferrer\">onInterceptTouchEvent()</a> to have the touch to the layout&#39;s children intercepted to get it handled by one view only. I think this guide may suffice: <a href=\"http://neevek.net/posts/2013/10/13/implementing-onInterceptTouchEvent-and-onTouchEvent-for-ViewGroup.html\" rel=\"nofollow noreferrer\">Correctly implemetning onInterceptTouchEvent</a>."},{"owner":{"account_id":23106264,"reputation":1,"user_id":17214835,"display_name":"Kevin Randleman"},"score":0,"creation_date":1635133984,"post_id":69670309,"comment_id":123205092,"body_markdown":"Thank you but what am looking for is code that is independent to the code of an application like a screen that track movement without interfering with an app.","body":"Thank you but what am looking for is code that is independent to the code of an application like a screen that track movement without interfering with an app."}],"owner":{"account_id":23106264,"reputation":1,"user_id":17214835,"display_name":"Kevin Randleman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634864492,"creation_date":1634864492,"question_id":69670309,"body_markdown":"How do I track all gestures on an entire application screen. I was struggling with adding a gesture detector to the entire screen of my application. I am using gesturedetector compat to get gestures from the layout however when I tap or double tap the button and edit text gesturedetector does not detect the gesture on the view. Is it possible to have all tap,swipes,gestures on the ENTIRE screen as opposed to only the layout. If there is a better solution to tracking all touches,swipes,taps please let me know I have struggling with this for weeks.\r\n\r\nMainActivity.java\r\n\r\n``` \r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private GestureDetectorCompat mGestureDetector;\r\n\r\n    private TextView touchCheckText;\r\n    private TextView singleTapText;\r\n    private TextView doubleTapText;\r\n\r\n    private static final String TAG = &quot;Gesture &quot;;\r\n\r\n    @Override\r\n    public boolean dispatchKeyEvent(KeyEvent event) {\r\n        if (event.getAction()!=KeyEvent.ACTION_DOWN)\r\n            Log.i(&quot;key pressed&quot;, String.valueOf(event.getKeyCode()));\r\n        return super.dispatchKeyEvent(event);\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mGestureDetector = new GestureDetectorCompat(this,new GestureListener());\r\n\r\n        touchCheckText = (TextView) findViewById(R.id.touchCheckTextView);\r\n        scrollText = (TextView) findViewById(R.id.scrollTextView);\r\n        singleTapText = (TextView) findViewById(R.id.singleTapTextView);\r\n        doubleTapText = (TextView) findViewById(R.id.doubleTapTextView);\r\n\r\n    }\r\n\r\n    private class GestureListener extends GestureDetector.SimpleOnGestureListener{\r\n\r\n        @Override\r\n        public boolean onDoubleTap(MotionEvent e) {\r\n            int x = (int) e.getX();\r\n            int y = (int) e.getY();\r\n\r\n            Long tsLong = System.currentTimeMillis()/1000;\r\n            String ts = tsLong.toString();\r\n\r\n            Log.e(TAG, &quot;in on onDoubleTap Event&quot;);\r\n            doubleTapText.setBackgroundColor(Color.GREEN);\r\n            return super.onDoubleTap(e);\r\n        }\r\n\r\n        @Override\r\n        public boolean onDown(MotionEvent e) {\r\n            touchCheckText.setText(&quot;TOUCHING!&quot;);\r\n            return super.onDown(e);\r\n        }\r\n\r\n        @Override\r\n        public boolean onSingleTapConfirmed(MotionEvent e) {\r\n            int x = (int) e.getX();\r\n            int y = (int) e.getY();\r\n\r\n            Long tsLong = System.currentTimeMillis()/1000;\r\n            String ts = tsLong.toString();\r\n\r\n            singleTapText.setBackgroundColor(Color.GREEN);\r\n            Log.e(TAG, &quot;Single Tap &quot;+ts+&quot; x:&quot;+x+&quot; y:&quot;+y);\r\n            singleTapText.postDelayed(new Runnable() {\r\n\r\n                @Override\r\n                public void run() {\r\n                    // change color in here\r\n                    singleTapText.setBackgroundColor(Color.TRANSPARENT);\r\n                }\r\n            }, 100);\r\n\r\n            return super.onSingleTapConfirmed(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        mGestureDetector.onTouchEvent(event);\r\n        switch ( event.getAction() ) {\r\n            case MotionEvent.ACTION_UP:\r\n                Log.e(&quot;onTouch&quot;,&quot;Released&quot;);\r\n                doubleTapText.setBackgroundColor(Color.TRANSPARENT);\r\n                touchCheckText.setText(&quot;No Longer Touching&quot;);\r\n                break;\r\n        }\r\n        return super.onTouchEvent(event);\r\n    }\r\n}\r\n```\r\n","title":"How to Track all gestures on ENTIRE android screen?","body":"<p>How do I track all gestures on an entire application screen. I was struggling with adding a gesture detector to the entire screen of my application. I am using gesturedetector compat to get gestures from the layout however when I tap or double tap the button and edit text gesturedetector does not detect the gesture on the view. Is it possible to have all tap,swipes,gestures on the ENTIRE screen as opposed to only the layout. If there is a better solution to tracking all touches,swipes,taps please let me know I have struggling with this for weeks.</p>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private GestureDetectorCompat mGestureDetector;\n\n    private TextView touchCheckText;\n    private TextView singleTapText;\n    private TextView doubleTapText;\n\n    private static final String TAG = &quot;Gesture &quot;;\n\n    @Override\n    public boolean dispatchKeyEvent(KeyEvent event) {\n        if (event.getAction()!=KeyEvent.ACTION_DOWN)\n            Log.i(&quot;key pressed&quot;, String.valueOf(event.getKeyCode()));\n        return super.dispatchKeyEvent(event);\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mGestureDetector = new GestureDetectorCompat(this,new GestureListener());\n\n        touchCheckText = (TextView) findViewById(R.id.touchCheckTextView);\n        scrollText = (TextView) findViewById(R.id.scrollTextView);\n        singleTapText = (TextView) findViewById(R.id.singleTapTextView);\n        doubleTapText = (TextView) findViewById(R.id.doubleTapTextView);\n\n    }\n\n    private class GestureListener extends GestureDetector.SimpleOnGestureListener{\n\n        @Override\n        public boolean onDoubleTap(MotionEvent e) {\n            int x = (int) e.getX();\n            int y = (int) e.getY();\n\n            Long tsLong = System.currentTimeMillis()/1000;\n            String ts = tsLong.toString();\n\n            Log.e(TAG, &quot;in on onDoubleTap Event&quot;);\n            doubleTapText.setBackgroundColor(Color.GREEN);\n            return super.onDoubleTap(e);\n        }\n\n        @Override\n        public boolean onDown(MotionEvent e) {\n            touchCheckText.setText(&quot;TOUCHING!&quot;);\n            return super.onDown(e);\n        }\n\n        @Override\n        public boolean onSingleTapConfirmed(MotionEvent e) {\n            int x = (int) e.getX();\n            int y = (int) e.getY();\n\n            Long tsLong = System.currentTimeMillis()/1000;\n            String ts = tsLong.toString();\n\n            singleTapText.setBackgroundColor(Color.GREEN);\n            Log.e(TAG, &quot;Single Tap &quot;+ts+&quot; x:&quot;+x+&quot; y:&quot;+y);\n            singleTapText.postDelayed(new Runnable() {\n\n                @Override\n                public void run() {\n                    // change color in here\n                    singleTapText.setBackgroundColor(Color.TRANSPARENT);\n                }\n            }, 100);\n\n            return super.onSingleTapConfirmed(e);\n        }\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        mGestureDetector.onTouchEvent(event);\n        switch ( event.getAction() ) {\n            case MotionEvent.ACTION_UP:\n                Log.e(&quot;onTouch&quot;,&quot;Released&quot;);\n                doubleTapText.setBackgroundColor(Color.TRANSPARENT);\n                touchCheckText.setText(&quot;No Longer Touching&quot;);\n                break;\n        }\n        return super.onTouchEvent(event);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4501373,"reputation":954,"user_id":3659807,"display_name":"Omar Abdel Bari"},"score":0,"creation_date":1634863684,"post_id":69670181,"comment_id":123147562,"body_markdown":"what have you tried so far?","body":"what have you tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634863377,"creation_date":1634863377,"answer_id":69670215,"question_id":69670181,"body_markdown":"Call `stream()` on the `metadata` and test if any `key` and `value` match your criteria. Something like,\r\n\r\n\tfileList.stream().filter(f -&gt; f.name.equals(&quot;movie.mp4&quot;)\r\n\t\t\t&amp;&amp; f.metadata.stream().anyMatch(x -&gt; x.key.equals(&quot;genre&quot;)\r\n\t\t\t&amp;&amp; x.value.equals(&quot;Horror&quot;)));","title":"Java 8 Nested Streams Filtering","body":"<p>Call <code>stream()</code> on the <code>metadata</code> and test if any <code>key</code> and <code>value</code> match your criteria. Something like,</p>\n<pre><code>fileList.stream().filter(f -&gt; f.name.equals(&quot;movie.mp4&quot;)\n        &amp;&amp; f.metadata.stream().anyMatch(x -&gt; x.key.equals(&quot;genre&quot;)\n        &amp;&amp; x.value.equals(&quot;Horror&quot;)));\n</code></pre>\n"}],"owner":{"account_id":6959842,"reputation":4042,"user_id":5339680,"display_name":"Ish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69670215,"answer_count":1,"score":2,"last_activity_date":1634863630,"creation_date":1634862884,"question_id":69670181,"body_markdown":"Here are my classes:\r\n    \r\n    class File {\r\n      String id;\r\n      String name;\r\n      List&lt;Metadata&gt; metadata;\r\n    }\r\n    \r\n    class Metadata {\r\n      String key;\r\n      String value;\r\n    }\r\n\r\nI have a list of files (`List&lt;File&gt;`), I wanted to filter first by the name of the File, and then filter by the matching key and value from the list of `Metadata`.\r\n\r\nLet&#39;s say, I wanted to return the `id` of the File which name is &quot;movie.mp4&quot; and one of its metadata should have `key==&quot;genre&quot;` and `value==&quot;Horror&quot;`. \r\n\r\nUsing Java 8 Streams, I can filter by the name of File, but not sure how to go down another level and filter by the matching key and value.\r\n\r\nHow do I do this?","title":"Java 8 Nested Streams Filtering","body":"<p>Here are my classes:</p>\n<pre><code>class File {\n  String id;\n  String name;\n  List&lt;Metadata&gt; metadata;\n}\n\nclass Metadata {\n  String key;\n  String value;\n}\n</code></pre>\n<p>I have a list of files (<code>List&lt;File&gt;</code>), I wanted to filter first by the name of the File, and then filter by the matching key and value from the list of <code>Metadata</code>.</p>\n<p>Let's say, I wanted to return the <code>id</code> of the File which name is &quot;movie.mp4&quot; and one of its metadata should have <code>key==&quot;genre&quot;</code> and <code>value==&quot;Horror&quot;</code>.</p>\n<p>Using Java 8 Streams, I can filter by the name of File, but not sure how to go down another level and filter by the matching key and value.</p>\n<p>How do I do this?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1611738656,"post_id":65915943,"comment_id":116544437,"body_markdown":"Evidently `userRepo` is null. You never set it to anything. Did you mean to autowire it?","body":"Evidently <code>userRepo</code> is null. You never set it to anything. Did you mean to autowire it?"},{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":1,"creation_date":1611738756,"post_id":65915943,"comment_id":116544486,"body_markdown":"Based on your code you are missing an injection of your `private UserRepo userRepo;` Annotate the field with `@Autowired;` or use a constructor which accepts an instance of  `UserRepo` which then will be injected on bean creation. Either way an instance is injected. Otherwise it will be null.","body":"Based on your code you are missing an injection of your <code>private UserRepo userRepo;</code> Annotate the field with <code>@Autowired;</code> or use a constructor which accepts an instance of  <code>UserRepo</code> which then will be injected on bean creation. Either way an instance is injected. Otherwise it will be null."},{"owner":{"account_id":20493847,"reputation":11,"user_id":15039309,"display_name":"user15038721"},"score":0,"creation_date":1611739305,"post_id":65915943,"comment_id":116544722,"body_markdown":"When I use @Autowired on private UserRepo userRepo; getting below error  (Field userRepo in com.helpmydesk.InterFaceAndService.ServiceClass required a bean of type &#39;com.helpmydesk.Repo.UserRepo&#39; that could not be found.\n)","body":"When I use @Autowired on private UserRepo userRepo; getting below error  (Field userRepo in com.helpmydesk.InterFaceAndService.ServiceClass required a bean of type &#39;com.helpmydesk.Repo.UserRepo&#39; that could not be found. )"},{"owner":{"account_id":20493847,"reputation":11,"user_id":15039309,"display_name":"user15038721"},"score":0,"creation_date":1611739352,"post_id":65915943,"comment_id":116544738,"body_markdown":"Action:\n\nConsider defining a bean of type &#39;com.helpmydesk.Repo.UserRepo&#39; in your configuration.","body":"Action:  Consider defining a bean of type &#39;com.helpmydesk.Repo.UserRepo&#39; in your configuration."},{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":0,"creation_date":1611744945,"post_id":65915943,"comment_id":116547435,"body_markdown":"`@EnableJpaRepositories(&quot;package com.helpmydesk.Repo.UserRepo&quot;)` this looks somehow wrong to me. Should it not be `@EnableJpaRepositories(basePackages = &quot;com.helpmydesk.Repo&quot;)` or just `@EnableJpaRepositories`","body":"<code>@EnableJpaRepositories(&quot;package com.helpmydesk.Repo.UserRepo&quot;)</code> this looks somehow wrong to me. Should it not be <code>@EnableJpaRepositories(basePackages = &quot;com.helpmydesk.Repo&quot;)</code> or just <code>@EnableJpaRepositories</code>"},{"owner":{"account_id":20493847,"reputation":11,"user_id":15039309,"display_name":"user15038721"},"score":0,"creation_date":1611760801,"post_id":65915943,"comment_id":116555098,"body_markdown":"When i use only @EnableJpaRepositories(basePackages = &quot;com.helpmydesk.Repo&quot;) or this @EnableJpaRepositories give me lots of error.@Daniel Wosch","body":"When i use only @EnableJpaRepositories(basePackages = &quot;com.helpmydesk.Repo&quot;) or this @EnableJpaRepositories give me lots of error.@Daniel Wosch"},{"owner":{"account_id":20493847,"reputation":11,"user_id":15039309,"display_name":"user15038721"},"score":0,"creation_date":1611760872,"post_id":65915943,"comment_id":116555131,"body_markdown":"Error(Error creating bean with name &#39;controllerClass&#39; defined in file [C:\\react js\\helpmydesk\\target\\classes\\com\\helpmydesk\\ControllerClass.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;serviceClass&#39; defined in file [C:\\react js\\helpmydesk\\target\\classes\\com\\helpmydesk\\InterFaceAndService\\ServiceClass.class]: Unsatisfied dependency expressed through constructor parameter 0;","body":"Error(Error creating bean with name &#39;controllerClass&#39; defined in file [C:\\react js\\helpmydesk\\target\\classes\\com\\helpmydesk\\ControllerClass.&zwnj;&#8203;class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyExcep&zwnj;&#8203;tion: Error creating bean with name &#39;serviceClass&#39; defined in file [C:\\react js\\helpmydesk\\target\\classes\\com\\helpmydesk\\InterFaceAndServ&zwnj;&#8203;ice\\ServiceClass.cla&zwnj;&#8203;ss]: Unsatisfied dependency expressed through constructor parameter 0;"},{"owner":{"account_id":20493847,"reputation":11,"user_id":15039309,"display_name":"user15038721"},"score":0,"creation_date":1611825123,"post_id":65915943,"comment_id":116576229,"body_markdown":"pls give me the solution of this issue @ Daniel Wosch","body":"pls give me the solution of this issue @ Daniel Wosch"}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611739131,"creation_date":1611739131,"answer_id":65916112,"question_id":65915943,"body_markdown":"You don&#39;t have `@Autowired` on your `UserRepo` variable. You can add it; the better fix is to eliminate field injection and use an ordinary constructor. Spring will provide all of the necessary dependencies when it calls the constructor, it makes testing much easier, and it prevents problems of this sort.","title":"save(Object)&quot; because &quot;this.userRepo&quot; is null","body":"<p>You don't have <code>@Autowired</code> on your <code>UserRepo</code> variable. You can add it; the better fix is to eliminate field injection and use an ordinary constructor. Spring will provide all of the necessary dependencies when it calls the constructor, it makes testing much easier, and it prevents problems of this sort.</p>\n"},{"tags":[],"owner":{"account_id":23107032,"reputation":1,"user_id":17215454,"display_name":"user17215454"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634863372,"creation_date":1634863372,"answer_id":69670214,"question_id":65915943,"body_markdown":"you should add @Autowired in your service class before ligne UserRepo userRepo\r\nbecause userRepo must be injected before using it","title":"save(Object)&quot; because &quot;this.userRepo&quot; is null","body":"<p>you should add @Autowired in your service class before ligne UserRepo userRepo\nbecause userRepo must be injected before using it</p>\n"}],"owner":{"account_id":20493847,"reputation":11,"user_id":15039309,"display_name":"user15038721"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3088,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1634863372,"creation_date":1611738495,"question_id":65915943,"body_markdown":"**When I post the data that time getting this error**\r\n\r\nCannot invoke &quot;com.helpmydesk.Repo.UserRepo.save(Object)&quot; because &quot;this.userRepo&quot; is null\r\n\tat com.helpmydesk.InterFaceAndService.ServiceClass.execute(ServiceClass.java:17) ~[classes/:na]\r\n\tat com.helpmydesk.ControllerClass.execute(ControllerClass.java:27) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\t\r\n**Main Class** \r\n\r\n    @EnableJpaRepositories(&quot;package com.helpmydesk.Repo.UserRepo&quot;)\r\n    @SpringBootApplication\r\n    public class HelpmydeskApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(HelpmydeskApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n**Controller Class**\r\n\r\n    @Controller\r\n    public class ControllerClass {\r\n    \r\n    \t @Autowired \r\n    \tprivate InterfaceClass interfaceClass;\r\n     \r\n    \tpublic ControllerClass(InterfaceClass interfaceClass) {\r\n    \t\tthis.interfaceClass = interfaceClass;\r\n    \r\n    \t}\r\n    \r\n    \t@PostMapping(&quot;/doregister&quot;)\r\n    \tpublic User execute(@RequestBody User user) {\r\n    \r\n    \t\treturn this.interfaceClass.execute(user);\r\n    \r\n    \t}\r\n    \r\n    \t@RequestMapping(&quot;/&quot;)\r\n    \tpublic String home() {\r\n    \t\treturn &quot;home&quot;;\r\n    \r\n    \t}\r\n    \t\r\n    \t@RequestMapping(&quot;/singup&quot;)\r\n    \tpublic String singup() {\r\n    \t\treturn &quot;singup&quot;;\r\n    }\r\n    }\r\n\r\n**Repository Class**\r\n\r\n    @Repository\r\n    public interface UserRepo extends CrudRepository&lt;User, Integer&gt; {\r\n    \r\n    }\r\n\r\n\r\n**interface Class**\r\n\r\n    public interface InterfaceClass {\r\n    \tpublic User execute(User user);\r\n    }\r\n\r\n\r\n**Service Class**\r\n\r\n    @Service\r\n    public class ServiceClass implements InterfaceClass {\r\n    \t\r\n    \tprivate UserRepo userRepo;\r\n    \t\r\n    \tpublic User execute(User user) {\r\n    \t\tthis.userRepo.save(user);\r\n    \t\treturn user;\r\n    \t}\r\n    }\r\n\r\n**User Class**\r\n\r\n    @org.hibernate.annotations.Entity\r\n    @Table(name = &quot;USER&quot;)\r\n    public class User {\r\n    \t\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy= GenerationType.AUTO)\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \t@Column(unique = true)\r\n    \tprivate String email;\r\n    \tprivate String password;\r\n    \tprivate String role;\r\n    \tprivate boolean enabled;\r\n    \tprivate String imageUrl;\r\n    \t@Column(length = 500)\r\n    \tprivate String about;\r\n    \t\r\n    \t@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\r\n    \tprivate java.util.List&lt;Blog&gt; blogs = new ArrayList&lt;&gt;();\r\n    \t\r\n    \tpublic User() {\r\n    \t\tsuper();\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \tpublic String getRole() {\r\n    \t\treturn role;\r\n    \t}\r\n    \tpublic void setRole(String role) {\r\n    \t\tthis.role = role;\r\n    \t}\r\n    \tpublic boolean isEnabled() {\r\n    \t\treturn enabled;\r\n    \t}\r\n    \tpublic void setEnabled(boolean enabled) {\r\n    \t\tthis.enabled = enabled;\r\n    \t}\r\n    \tpublic String getImageUrl() {\r\n    \t\treturn imageUrl;\r\n    \t}\r\n    \tpublic void setImageUrl(String imageUrl) {\r\n    \t\tthis.imageUrl = imageUrl;\r\n    \t}\r\n    \tpublic String getAbout() {\r\n    \t\treturn about;\r\n    \t}\r\n    \tpublic void setAbout(String about) {\r\n    \t\tthis.about = about;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, email=&quot; + email + &quot;, password=&quot; + password + &quot;, role=&quot; + role\r\n    \t\t\t\t+ &quot;, enabled=&quot; + enabled + &quot;, imageUrl=&quot; + imageUrl + &quot;, about=&quot; + about + &quot;]&quot;;\r\n    \t}\r\n    \t}\r\n\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZZ8nT.png","title":"save(Object)&quot; because &quot;this.userRepo&quot; is null","body":"<p><strong>When I post the data that time getting this error</strong></p>\n<p>Cannot invoke &quot;com.helpmydesk.Repo.UserRepo.save(Object)&quot; because &quot;this.userRepo&quot; is null\nat com.helpmydesk.InterFaceAndService.ServiceClass.execute(ServiceClass.java:17) ~[classes/:na]\nat com.helpmydesk.ControllerClass.execute(ControllerClass.java:27) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]</p>\n<p><strong>Main Class</strong></p>\n<pre><code>@EnableJpaRepositories(&quot;package com.helpmydesk.Repo.UserRepo&quot;)\n@SpringBootApplication\npublic class HelpmydeskApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HelpmydeskApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>Controller Class</strong></p>\n<pre><code>@Controller\npublic class ControllerClass {\n\n     @Autowired \n    private InterfaceClass interfaceClass;\n \n    public ControllerClass(InterfaceClass interfaceClass) {\n        this.interfaceClass = interfaceClass;\n\n    }\n\n    @PostMapping(&quot;/doregister&quot;)\n    public User execute(@RequestBody User user) {\n\n        return this.interfaceClass.execute(user);\n\n    }\n\n    @RequestMapping(&quot;/&quot;)\n    public String home() {\n        return &quot;home&quot;;\n\n    }\n    \n    @RequestMapping(&quot;/singup&quot;)\n    public String singup() {\n        return &quot;singup&quot;;\n}\n}\n</code></pre>\n<p><strong>Repository Class</strong></p>\n<pre><code>@Repository\npublic interface UserRepo extends CrudRepository&lt;User, Integer&gt; {\n\n}\n</code></pre>\n<p><strong>interface Class</strong></p>\n<pre><code>public interface InterfaceClass {\n    public User execute(User user);\n}\n</code></pre>\n<p><strong>Service Class</strong></p>\n<pre><code>@Service\npublic class ServiceClass implements InterfaceClass {\n    \n    private UserRepo userRepo;\n    \n    public User execute(User user) {\n        this.userRepo.save(user);\n        return user;\n    }\n}\n</code></pre>\n<p><strong>User Class</strong></p>\n<pre><code>@org.hibernate.annotations.Entity\n@Table(name = &quot;USER&quot;)\npublic class User {\n    \n    \n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO)\n    private int id;\n    private String name;\n    @Column(unique = true)\n    private String email;\n    private String password;\n    private String role;\n    private boolean enabled;\n    private String imageUrl;\n    @Column(length = 500)\n    private String about;\n    \n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, mappedBy = &quot;user&quot;)\n    private java.util.List&lt;Blog&gt; blogs = new ArrayList&lt;&gt;();\n    \n    public User() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getEmail() {\n        return email;\n    }\n    public void setEmail(String email) {\n        this.email = email;\n    }\n    public String getPassword() {\n        return password;\n    }\n    public void setPassword(String password) {\n        this.password = password;\n    }\n    public String getRole() {\n        return role;\n    }\n    public void setRole(String role) {\n        this.role = role;\n    }\n    public boolean isEnabled() {\n        return enabled;\n    }\n    public void setEnabled(boolean enabled) {\n        this.enabled = enabled;\n    }\n    public String getImageUrl() {\n        return imageUrl;\n    }\n    public void setImageUrl(String imageUrl) {\n        this.imageUrl = imageUrl;\n    }\n    public String getAbout() {\n        return about;\n    }\n    public void setAbout(String about) {\n        this.about = about;\n    }\n    @Override\n    public String toString() {\n        return &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, email=&quot; + email + &quot;, password=&quot; + password + &quot;, role=&quot; + role\n                + &quot;, enabled=&quot; + enabled + &quot;, imageUrl=&quot; + imageUrl + &quot;, about=&quot; + about + &quot;]&quot;;\n    }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZZ8nT.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","ssl","hyperledger-fabric","hyperledger"],"answers":[{"tags":[],"owner":{"account_id":22749465,"reputation":22,"user_id":16909821,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634818911,"creation_date":1634818911,"answer_id":69661910,"question_id":69656177,"body_markdown":"Fabric TLS certificates are **very fiddly**.  For instance, we&#39;ve found several cases where the peer and chaincode will accept a malformed cert, but the gateway client refuses to connect using the same certificate.  What is probably happening is that you have a problem with the openssl generated cert, but the `peer` is too lax to report the error.  (It also doesn&#39;t help that the client TLS libraries simply disconnect, without reporting on the root failure during the handshake.) \r\n\r\nIn the example above, the cert output shows some differences in `PathLen` and `KeyUsage` attributes that differ from what are normally generated by a Fabric CA.\r\n\r\nHere are some ideas and techniques that we&#39;ve found to be useful in debugging TLS handshake issues with the gateway / client SDKs.  Try to use these techniques to close any gaps between your certs and the reference certs generated by the Fabric CAs: \r\n\r\n - Use the Fabric CAs.  Even if you plan to generate a certificate chain using OpenSSL and an external authority, you can use the Fabric CAs to generate TLS enrollments and certificates, and **compare** the reference certs against what you have built up with OpenSSL.\r\n\r\n - Use `curl`, or other TLS-enabled clients to help verify the correctness of a certificate.  In many cases the errors output by an independent client are directly applicable to the failed TLS handshake when connecting the fabric client.\r\n\r\n - Use the [test-network-k8s](https://github.com/jkneubuh/fabric-samples/tree/main/test-network-k8s) system as a reference for setting up the TLS and CA infrastructure.  In addition to a &quot;push button&quot; test network, this will provide CA endpoints that can be used to generate reference enrollments / certificates for study.\r\n\r\n - Inspect the certificates generated by the Fabric CAs, and compare against your hand-crafted certs.  For example, here is a certificate dump from a TLS cert generated with the Kube test network - make sure your OpenSSL certs have the same, or similar feature sets and attributes. \r\n```\r\n$ openssl x509 -in /tmp/ca-cert.pem -text\r\nCertificate:\r\n    Data:\r\n        Version: 3 (0x2)\r\n        Serial Number:\r\n            4c:63:74:d5:99:29:ce:e0:b6:28:a2:b5:a4:0e:a0:c1:f3:e9:a9:d5\r\n    Signature Algorithm: ecdsa-with-SHA256\r\n        Issuer: C=US, ST=North Carolina, O=Hyperledger, OU=Fabric, CN=fabric-ca-server\r\n        Validity\r\n            Not Before: Oct 21 10:36:00 2021 GMT\r\n            Not After : Oct 17 10:36:00 2036 GMT\r\n        Subject: C=US, ST=North Carolina, O=Hyperledger, OU=Fabric, CN=fabric-ca-server\r\n        Subject Public Key Info:\r\n            Public Key Algorithm: id-ecPublicKey\r\n                Public-Key: (256 bit)\r\n                pub: \r\n                    04:53:f4:ad:e6:6b:4c:75:7e:4a:6d:6e:cd:73:b0:\r\n                    81:a8:d7:d7:55:c0:fd:22:92:15:fc:2d:20:44:c6:\r\n                    ec:55:c9:cc:88:3a:14:09:77:e5:4f:4b:b8:98:ee:\r\n                    71:09:da:e6:f8:7c:f7:39:fa:41:fc:f3:a2:fe:a4:\r\n                    1e:34:ec:a9:b5\r\n                ASN1 OID: prime256v1\r\n                NIST CURVE: P-256\r\n        X509v3 extensions:\r\n            X509v3 Key Usage: critical\r\n                Certificate Sign, CRL Sign\r\n            X509v3 Basic Constraints: critical\r\n                CA:TRUE, pathlen:1\r\n            X509v3 Subject Key Identifier: \r\n                AB:AF:85:A3:D3:2E:9A:A9:03:49:F5:5C:30:32:2B:92:EC:92:B3:D0\r\n            X509v3 Subject Alternative Name: \r\n                IP Address:127.0.0.1\r\n    Signature Algorithm: ecdsa-with-SHA256\r\n         30:45:02:21:00:bf:cc:c1:d2:29:b1:04:3f:55:31:c6:b7:69:\r\n         ca:72:12:d7:67:55:14:cd:23:f7:75:16:6c:b1:63:7f:e6:9c:\r\n         24:02:20:5d:ff:e3:7e:84:22:d3:f3:52:bd:96:fa:dc:2d:94:\r\n         2f:6b:a3:bc:ab:3e:b3:87:10:fd:30:51:a2:4a:ca:ce:b4\r\n-----BEGIN CERTIFICATE-----\r\nMIICKDCCAc6gAwIBAgIUTGN01ZkpzuC2KKK1pA6gwfPpqdUwCgYIKoZIzj0EAwIw\r\naDELMAkGA1UEBhMCVVMxFzAVBgNVBAgTDk5vcnRoIENhcm9saW5hMRQwEgYDVQQK\r\nEwtIeXBlcmxlZGdlcjEPMA0GA1UECxMGRmFicmljMRkwFwYDVQQDExBmYWJyaWMt\r\nY2Etc2VydmVyMB4XDTIxMTAyMTEwMzYwMFoXDTM2MTAxNzEwMzYwMFowaDELMAkG\r\nA1UEBhMCVVMxFzAVBgNVBAgTDk5vcnRoIENhcm9saW5hMRQwEgYDVQQKEwtIeXBl\r\ncmxlZGdlcjEPMA0GA1UECxMGRmFicmljMRkwFwYDVQQDExBmYWJyaWMtY2Etc2Vy\r\ndmVyMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEU/St5mtMdX5KbW7Nc7CBqNfX\r\nVcD9IpIV/C0gRMbsVcnMiDoUCXflT0u4mO5xCdrm+Hz3OfpB/POi/qQeNOyptaNW\r\nMFQwDgYDVR0PAQH/BAQDAgEGMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYE\r\nFKuvhaPTLpqpA0n1XDAyK5LskrPQMA8GA1UdEQQIMAaHBH8AAAEwCgYIKoZIzj0E\r\nAwIDSAAwRQIhAL/MwdIpsQQ/VTHGt2nKchLXZ1UUzSP3dRZssWN/5pwkAiBd/+N+\r\nhCLT81K9lvrcLZQva6O8qz6zhxD9MFGiSsrOtA==\r\n-----END CERTIFICATE-----\r\n```","title":"Hyperledger Fabric: TLS Internal Error using Fabric Gateway Java SDK","body":"<p>Fabric TLS certificates are <strong>very fiddly</strong>.  For instance, we've found several cases where the peer and chaincode will accept a malformed cert, but the gateway client refuses to connect using the same certificate.  What is probably happening is that you have a problem with the openssl generated cert, but the <code>peer</code> is too lax to report the error.  (It also doesn't help that the client TLS libraries simply disconnect, without reporting on the root failure during the handshake.)</p>\n<p>In the example above, the cert output shows some differences in <code>PathLen</code> and <code>KeyUsage</code> attributes that differ from what are normally generated by a Fabric CA.</p>\n<p>Here are some ideas and techniques that we've found to be useful in debugging TLS handshake issues with the gateway / client SDKs.  Try to use these techniques to close any gaps between your certs and the reference certs generated by the Fabric CAs:</p>\n<ul>\n<li><p>Use the Fabric CAs.  Even if you plan to generate a certificate chain using OpenSSL and an external authority, you can use the Fabric CAs to generate TLS enrollments and certificates, and <strong>compare</strong> the reference certs against what you have built up with OpenSSL.</p>\n</li>\n<li><p>Use <code>curl</code>, or other TLS-enabled clients to help verify the correctness of a certificate.  In many cases the errors output by an independent client are directly applicable to the failed TLS handshake when connecting the fabric client.</p>\n</li>\n<li><p>Use the <a href=\"https://github.com/jkneubuh/fabric-samples/tree/main/test-network-k8s\" rel=\"nofollow noreferrer\">test-network-k8s</a> system as a reference for setting up the TLS and CA infrastructure.  In addition to a &quot;push button&quot; test network, this will provide CA endpoints that can be used to generate reference enrollments / certificates for study.</p>\n</li>\n<li><p>Inspect the certificates generated by the Fabric CAs, and compare against your hand-crafted certs.  For example, here is a certificate dump from a TLS cert generated with the Kube test network - make sure your OpenSSL certs have the same, or similar feature sets and attributes.</p>\n</li>\n</ul>\n<pre><code>$ openssl x509 -in /tmp/ca-cert.pem -text\nCertificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number:\n            4c:63:74:d5:99:29:ce:e0:b6:28:a2:b5:a4:0e:a0:c1:f3:e9:a9:d5\n    Signature Algorithm: ecdsa-with-SHA256\n        Issuer: C=US, ST=North Carolina, O=Hyperledger, OU=Fabric, CN=fabric-ca-server\n        Validity\n            Not Before: Oct 21 10:36:00 2021 GMT\n            Not After : Oct 17 10:36:00 2036 GMT\n        Subject: C=US, ST=North Carolina, O=Hyperledger, OU=Fabric, CN=fabric-ca-server\n        Subject Public Key Info:\n            Public Key Algorithm: id-ecPublicKey\n                Public-Key: (256 bit)\n                pub: \n                    04:53:f4:ad:e6:6b:4c:75:7e:4a:6d:6e:cd:73:b0:\n                    81:a8:d7:d7:55:c0:fd:22:92:15:fc:2d:20:44:c6:\n                    ec:55:c9:cc:88:3a:14:09:77:e5:4f:4b:b8:98:ee:\n                    71:09:da:e6:f8:7c:f7:39:fa:41:fc:f3:a2:fe:a4:\n                    1e:34:ec:a9:b5\n                ASN1 OID: prime256v1\n                NIST CURVE: P-256\n        X509v3 extensions:\n            X509v3 Key Usage: critical\n                Certificate Sign, CRL Sign\n            X509v3 Basic Constraints: critical\n                CA:TRUE, pathlen:1\n            X509v3 Subject Key Identifier: \n                AB:AF:85:A3:D3:2E:9A:A9:03:49:F5:5C:30:32:2B:92:EC:92:B3:D0\n            X509v3 Subject Alternative Name: \n                IP Address:127.0.0.1\n    Signature Algorithm: ecdsa-with-SHA256\n         30:45:02:21:00:bf:cc:c1:d2:29:b1:04:3f:55:31:c6:b7:69:\n         ca:72:12:d7:67:55:14:cd:23:f7:75:16:6c:b1:63:7f:e6:9c:\n         24:02:20:5d:ff:e3:7e:84:22:d3:f3:52:bd:96:fa:dc:2d:94:\n         2f:6b:a3:bc:ab:3e:b3:87:10:fd:30:51:a2:4a:ca:ce:b4\n-----BEGIN CERTIFICATE-----\nMIICKDCCAc6gAwIBAgIUTGN01ZkpzuC2KKK1pA6gwfPpqdUwCgYIKoZIzj0EAwIw\naDELMAkGA1UEBhMCVVMxFzAVBgNVBAgTDk5vcnRoIENhcm9saW5hMRQwEgYDVQQK\nEwtIeXBlcmxlZGdlcjEPMA0GA1UECxMGRmFicmljMRkwFwYDVQQDExBmYWJyaWMt\nY2Etc2VydmVyMB4XDTIxMTAyMTEwMzYwMFoXDTM2MTAxNzEwMzYwMFowaDELMAkG\nA1UEBhMCVVMxFzAVBgNVBAgTDk5vcnRoIENhcm9saW5hMRQwEgYDVQQKEwtIeXBl\ncmxlZGdlcjEPMA0GA1UECxMGRmFicmljMRkwFwYDVQQDExBmYWJyaWMtY2Etc2Vy\ndmVyMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEU/St5mtMdX5KbW7Nc7CBqNfX\nVcD9IpIV/C0gRMbsVcnMiDoUCXflT0u4mO5xCdrm+Hz3OfpB/POi/qQeNOyptaNW\nMFQwDgYDVR0PAQH/BAQDAgEGMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYE\nFKuvhaPTLpqpA0n1XDAyK5LskrPQMA8GA1UdEQQIMAaHBH8AAAEwCgYIKoZIzj0E\nAwIDSAAwRQIhAL/MwdIpsQQ/VTHGt2nKchLXZ1UUzSP3dRZssWN/5pwkAiBd/+N+\nhCLT81K9lvrcLZQva6O8qz6zhxD9MFGiSsrOtA==\n-----END CERTIFICATE-----\n</code></pre>\n"}],"owner":{"account_id":13657143,"reputation":152,"user_id":9853315,"display_name":"Christopher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69661910,"answer_count":1,"score":0,"last_activity_date":1634862666,"creation_date":1634793016,"question_id":69656177,"body_markdown":"Fabric Version: v2.2.4\r\nFabric Gateway Version: v2.2.0\r\n\r\nCurrently, I am not using Fabric CA and docker. Instead, I am using OpenSSL to generate my own certificates. There is no problem using command line to join channel or invoke chaincode with TLS enabled (Server TLS).\r\n\r\nHowever, when I try to invoke my chaincode using Fabric Gateway Java SDK with TLS, the peer shows:\r\n\r\n    2021-10-20 23:53:51.571 EDT [core.comm] ServerHandshake -&gt; ERRO 411 Server TLS handshake failed in 731.664253ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48920\r\n    2021-10-20 23:53:51.648 EDT [core.comm] ServerHandshake -&gt; ERRO 412 Server TLS handshake failed in 17.623962ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48924\r\n    2021-10-20 23:53:52.389 EDT [core.comm] ServerHandshake -&gt; ERRO 413 Server TLS handshake failed in 31.834126ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48928\r\n    2021-10-20 23:53:53.013 EDT [core.comm] ServerHandshake -&gt; ERRO 414 Server TLS handshake failed in 20.97883ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48932\r\n    2021-10-20 23:53:53.453 EDT [core.comm] ServerHandshake -&gt; ERRO 415 Server TLS handshake failed in 27.840631ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48936\r\n\r\nif I disable the TLS, the chaincode can be invoked and queried but it shows an error message and display the certificate of the peer:\r\n\r\n    04:45:56.020 [main] ERROR org.hyperledger.fabric.sdk.security.CryptoPrimitives - Cannot \r\n    validate certificate. Error is: Path does not chain with any of the trust anchors\r\n    Certificate[\r\n    [\r\n      Version: V3\r\n      Subject: CN=peer-telecom, OU=peer, O=peer0.telecom.com, ST=Wilayah Persekutuan Kuala Lumpur, C=MY\r\n      Signature Algorithm: SHA256withECDSA, OID = 1.2.840.10045.4.3.2\r\n    \r\n      Key:  Sun EC public key, 256 bits\r\n      public x coord: 63258922835963897769642318382353579773301130246303245867091942631050654760639\r\n      public y coord: 17014436126955018341557373411142402131278326611630973049174140241981148702177\r\n      parameters: secp256r1 [NIST P-256, X9.62 prime256v1] (1.2.840.10045.3.1.7)\r\n      Validity: [From: Mon Oct 18 04:30:10 EDT 2021,\r\n                   To: Tue Oct 18 04:30:10 EDT 2022]\r\n      Issuer: CN=hyperledger-telecom, O=ica.hyperledger.telecom.com, ST=Wilayah Persekutuan Kuala Lumpur, C=MY\r\n      SerialNumber: [    1000]\r\n    \r\n    Certificate Extensions: 4\r\n    [1]: ObjectId: 2.5.29.35 Criticality=false\r\n    AuthorityKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 70 2B 57 B5 7C 6A 38 DE   AB 6F DD 7E C4 63 FE 39  p+W..j8..o...c.9\r\n    0010: 54 22 D9 F9                                        T&quot;..\r\n    ]\r\n    ]\r\n    \r\n    [2]: ObjectId: 2.5.29.19 Criticality=false\r\n    BasicConstraints:[\r\n      CA:false\r\n      PathLen: undefined\r\n    ]\r\n    \r\n    [3]: ObjectId: 2.5.29.15 Criticality=true\r\n    KeyUsage [\r\n      DigitalSignature\r\n    ]\r\n    \r\n    [4]: ObjectId: 2.5.29.14 Criticality=false\r\n    SubjectKeyIdentifier [\r\n    KeyIdentifier [\r\n    0000: 62 C2 4A FB 13 54 44 DF   15 AB 2B 09 78 4F 79 4A  b.J..TD...+.xOyJ\r\n    0010: CB 37 1D D7                                        .7..\r\n    ]\r\n    ]\r\n    \r\n    ]\r\n      Algorithm: [SHA256withECDSA]\r\n      Signature:\r\n    0000: 30 44 02 20 2D 20 15 9D   53 D4 DE EF 56 0D E6 6D  0D. - ..S...V..m\r\n    0010: 04 DA 99 F8 0C AC D5 A7   87 66 51 04 23 A0 4D C2  .........fQ.#.M.\r\n    0020: C8 98 95 5C 02 20 5C A5   5A 2D 19 43 FA E8 C0 E1  ...\\. \\.Z-.C....\r\n    0030: 49 4E C0 DF C9 59 F8 10   34 D6 94 05 51 38 E9 17  IN...Y..4...Q8..\r\n    0040: C5 F1 20 1F 0C EC                                  .. ...\r\n    \r\n    ]\r\n\r\n\r\n\r\nJava Application code:\r\n\r\n    package org.example.contract;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.Reader;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.Files;\r\n    \r\n    import java.util.concurrent.TimeoutException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.PrivateKey;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    \r\n    import org.hyperledger.fabric.gateway.Identities;\r\n    import org.hyperledger.fabric.gateway.Identity;\r\n    import org.hyperledger.fabric.gateway.Contract;\r\n    import org.hyperledger.fabric.gateway.ContractException;\r\n    import org.hyperledger.fabric.gateway.Gateway;\r\n    import org.hyperledger.fabric.gateway.Network;\r\n    import org.hyperledger.fabric.gateway.Wallet;\r\n    import org.hyperledger.fabric.gateway.Wallets;\r\n    \r\n    public class Sample {\r\n        \r\n        X509Certificate[] clientCert = null;\r\n        PrivateKey clientKey = null;\r\n    \r\n        private static X509Certificate readX509Certificate(final Path certificatePath) throws IOException, CertificateException {\r\n            try (Reader certificateReader = Files.newBufferedReader(certificatePath, StandardCharsets.UTF_8)) {\r\n                return Identities.readX509Certificate(certificateReader);\r\n            }\r\n        }\r\n    \r\n        private static PrivateKey getPrivateKey(final Path privateKeyPath) throws IOException, InvalidKeyException {\r\n            try (Reader privateKeyReader = Files.newBufferedReader(privateKeyPath, StandardCharsets.UTF_8)) {\r\n                return Identities.readPrivateKey(privateKeyReader);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            // Load an existing wallet holding identities used to access the network.\r\n            // A wallet stores a collection of identities\r\n            Path walletPath = Paths.get(&quot;.&quot;, &quot;wallet&quot;);\r\n            Wallet wallet = Wallets.newFileSystemWallet(walletPath);\r\n            try {\r\n                      \r\n                Path credentialPath = Paths.get(&quot;/root&quot;,&quot;fabric&quot;,&quot;localtls&quot;,&quot;crypto-config&quot;, &quot;peerOrganizations&quot;,\r\n                    &quot;org1.telecom.com&quot;, &quot;users&quot;, &quot;Admin@org1.telecom.com&quot;, &quot;msp&quot;);\r\n                System.out.println(&quot;credentialPath: &quot; + credentialPath.toString());\r\n                Path certificatePath = credentialPath.resolve(Paths.get(&quot;signcerts&quot;,\r\n                    &quot;Admin@org1.telecom.com-cert.pem&quot;));\r\n                System.out.println(&quot;certificatePem: &quot; + certificatePath.toString());\r\n                Path privateKeyPath = credentialPath.resolve(Paths.get(&quot;keystore&quot;,\r\n                    &quot;Admin@telecom.com.key&quot;));\r\n          \r\n                X509Certificate certificate = readX509Certificate(certificatePath);\r\n                PrivateKey privateKey = getPrivateKey(privateKeyPath);\r\n          \r\n                Identity identity = Identities.newX509Identity(&quot;Org1MSP&quot;, certificate, privateKey);\r\n                \r\n                String identityLabel = &quot;Admin@org1.telecom.com&quot;;\r\n                wallet.put(identityLabel, identity);\r\n          \r\n                System.out.println(&quot;Write wallet info into &quot; + walletPath.toString() + &quot; successfully.&quot;);\r\n          \r\n            } catch (IOException | CertificateException | InvalidKeyException e) {\r\n                System.err.println(&quot;Error adding to wallet&quot;);\r\n                e.printStackTrace();\r\n            }\r\n            // Path to a common connection profile describing the network.\r\n            Path networkConfigFile = Paths.get(&quot;/root&quot;,&quot;fabric&quot;,&quot;localtls&quot;,&quot;connection.yaml&quot;);\r\n    \r\n            String userName = &quot;Admin@org1.telecom.com&quot;;\r\n            // Configure the gateway connection used to access the network.,\r\n            Gateway.Builder builder = Gateway.createBuilder()\r\n                    .identity(wallet, userName)\r\n                    .networkConfig(networkConfigFile);\r\n    \r\n            // Create a gateway connection\r\n            try (Gateway gateway = builder.connect()) {\r\n    \r\n                // Obtain a smart contract deployed on the network.\r\n                Network network = gateway.getNetwork(&quot;mychannel&quot;);\r\n                Contract contract = network.getContract(&quot;chaincode&quot;);\r\n    \r\n                // Submit transactions that store state to the ledger.\r\n                byte[] createCarResult = contract.createTransaction(&quot;createMyAsset&quot;)\r\n                        .submit(&quot;CAR&quot;, &quot;Honda&quot;);\r\n                System.out.println(new String(createCarResult, StandardCharsets.UTF_8));\r\n    \r\n                byte[] queryCar = contract.submitTransaction(&quot;readMyAsset&quot;, &quot;CAR&quot;);\r\n                System.out.println(new String(queryCar, StandardCharsets.UTF_8));\r\n    \r\n            } catch (ContractException | TimeoutException | InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nconnection.yaml:\r\n\r\n    name: &quot;Network-Config-Test&quot;\r\n    description: &quot;The network used in the integration tests&quot;\r\n    version: 1.0.0\r\n    client:\r\n      organization: telecom\r\n    \r\n    organizations:\r\n      telecom:\r\n        mspid: Org1MSP\r\n    \r\n        peers:\r\n          - peer0.org1.telecom.com\r\n    \r\n        #adminPrivateKey:\r\n          #path: &#39;/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/msp/keystore/Admin@telecom.com.key&#39;\r\n    \r\n        #signedCert:\r\n          #path: &#39;/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/msp/signcerts/Admin@org1.telecom.com-cert.pem&#39;\r\n          \r\n    orderers:\r\n      orderer.example.com:\r\n        url: grpcs://localhost:6050\r\n    \r\n       \r\n          #client: \r\n            #keyfile: &#39;/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client-o.key&#39;\r\n            #certfile: &#39;/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client-o.crt&#39;\r\n\r\n        grpcOptions:\r\n          hostnameOverride: orderer.example.com\r\n          grpc-max-send-message-length: 15\r\n          grpc.keepalive_time_ms: 360000\r\n          grpc.keepalive_timeout_ms: 180000\r\n          negotiationType: TLS\r\n          sslProvider: openSSL\r\n\r\n        tlsCACerts:\r\n          path: /root/fabric/localtls/crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/tls/ca.crt\r\n    \r\n    \r\n    peers:\r\n      peer0.org1.telecom.com:\r\n        url: grpcs://localhost:7051\r\n          #client: \r\n            #keyfile: &#39;/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client.key&#39;\r\n            #certfile: &#39;/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client.crt&#39;\r\n    \r\n        grpcOptions:\r\n          ssl-target-name-override: peer0.org1.telecom.com\r\n          grpc.http2.keepalive_time: 15\r\n          hostnameOverride: peer0.org1.telecom.com\r\n          negotiationType: TLS\r\n          sslProvider: openSSL\r\n        \r\n        tlsCACerts:\r\n          path: /root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/peers/peer0.org1.telecom.com/tls/ca.crt\r\n\r\nWhat am I missing? Any answer is welcomed!\r\n\r\n**Update 1.0**\r\nThese are the certificates generated by using openSSL, they work when I use command line (I ommitted the hf thing in the Subject Alternative Name, not sure is it important for the application to work?):\r\n\r\nThe tlscacert:\r\n\r\n\r\n    Certificate:\r\n        Data:\r\n            Version: 3 (0x2)\r\n            Serial Number:\r\n                1f:a5:9f:1a:01:ed:c7:3d:30:ca:27:b6:79:9c:82:10:b8:94:84:23\r\n            Signature Algorithm: ecdsa-with-SHA256\r\n            Issuer: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, L = Kuala Lumpur, O = rca.verisign.com, CN = tls-verisign\r\n            Validity\r\n                Not Before: Oct 21 03:11:13 2021 GMT\r\n                Not After : Oct 19 03:11:13 2031 GMT\r\n            Subject: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, L = Kuala Lumpur, O = rca.verisign.com, CN = tls-verisign\r\n            Subject Public Key Info:\r\n                Public Key Algorithm: id-ecPublicKey\r\n                    Public-Key: (256 bit)\r\n                    pub:\r\n                        04:34:b5:ac:a3:42:8c:d4:17:97:ca:16:d5:2f:7a:\r\n                        00:32:bf:fd:dd:02:8a:33:28:ed:c0:53:5d:e0:42:\r\n                        79:0d:08:43:1c:22:83:1e:f0:71:91:08:d6:c3:ec:\r\n                        eb:ac:9c:56:00:da:e8:08:cf:ad:4c:b3:46:e7:e1:\r\n                        39:1c:5f:bf:fc\r\n                    ASN1 OID: prime256v1\r\n                    NIST CURVE: P-256\r\n            X509v3 extensions:\r\n                X509v3 Subject Key Identifier:\r\n                    EB:7B:8E:23:26:A7:17:3D:E0:0B:8D:B4:6E:6C:5D:D5:EE:EF:80:AF\r\n                X509v3 Authority Key Identifier:\r\n                    keyid:EB:7B:8E:23:26:A7:17:3D:E0:0B:8D:B4:6E:6C:5D:D5:EE:EF:80:AF\r\n    \r\n                X509v3 Basic Constraints: critical\r\n                    CA:TRUE\r\n                X509v3 Key Usage: critical\r\n                    Digital Signature, Key Encipherment, Certificate Sign, CRL Sign\r\n        Signature Algorithm: ecdsa-with-SHA256\r\n             30:45:02:20:63:40:88:2d:c8:51:e5:42:2b:d3:98:60:6f:1e:\r\n             3c:d2:f6:59:48:bb:0c:7c:10:b6:28:27:86:20:58:35:0b:19:\r\n             02:21:00:c7:87:df:79:75:21:8d:bf:bc:be:aa:c9:44:53:b5:\r\n             b4:32:4d:06:2b:a0:05:eb:38:b7:9f:3d:71:80:17:77:69\r\n\r\nThe Peer TLS cert:\r\n\r\n    Certificate:\r\n        Data:\r\n            Version: 3 (0x2)\r\n            Serial Number: 4097 (0x1001)\r\n            Signature Algorithm: ecdsa-with-SHA256\r\n            Issuer: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, L = Kuala Lumpur, O = rca.verisign.com, CN = tls-verisign\r\n            Validity\r\n                Not Before: Oct 21 03:11:13 2021 GMT\r\n                Not After : Oct 21 03:11:13 2022 GMT\r\n            Subject: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, O = tls.peer.telecom.com, CN = tls-peer-telecom\r\n            Subject Public Key Info:\r\n                Public Key Algorithm: id-ecPublicKey\r\n                    Public-Key: (256 bit)\r\n                    pub:\r\n                        04:76:c2:e9:94:10:03:2c:3b:2d:90:56:e8:b5:30:\r\n                        bf:67:f6:b5:b8:9c:73:cd:28:b3:f2:f7:21:e9:f7:\r\n                        6c:66:38:a9:e8:7c:b0:ea:67:fb:f7:db:72:29:9d:\r\n                        aa:56:20:92:ab:b1:e5:53:2a:a1:19:0b:0c:8b:65:\r\n                        36:fe:98:aa:e1\r\n                    ASN1 OID: prime256v1\r\n                    NIST CURVE: P-256\r\n            X509v3 extensions:\r\n                X509v3 Basic Constraints: critical\r\n                    CA:FALSE\r\n                X509v3 Key Usage: critical\r\n                    Digital Signature, Key Encipherment\r\n                X509v3 Extended Key Usage:\r\n                    TLS Web Client Authentication, TLS Web Server Authentication\r\n                X509v3 Subject Key Identifier:\r\n                    08:9D:B8:81:4B:39:0D:B1:D4:BD:EC:49:E5:AC:BA:FB:F1:7A:58:51\r\n                X509v3 Authority Key Identifier:\r\n                    keyid:EB:7B:8E:23:26:A7:17:3D:E0:0B:8D:B4:6E:6C:5D:D5:EE:EF:80:AF\r\n    \r\n                X509v3 Subject Alternative Name:\r\n                    IP Address:127.0.0.1\r\n        Signature Algorithm: ecdsa-with-SHA256\r\n             30:46:02:21:00:c0:d7:26:b4:e9:30:08:b5:37:46:66:0f:fb:\r\n             b6:36:22:04:5f:78:ab:ae:ff:7f:48:e0:7b:ff:e8:f0:88:b4:\r\n             e5:02:21:00:86:64:ec:c8:9b:b4:06:b5:3d:d3:c1:54:4f:d2:\r\n             a2:bb:1a:e1:a7:e7:84:28:9a:ef:ac:db:ab:65:95:0d:10:2d\r\n\r\nThe only thing I am missing in the cert is:\r\n\r\n    1.2.3.4.5.6.7.8.1:\r\n                    {&quot;attrs&quot;:{&quot;hf.Affiliation&quot;:&quot;&quot;,&quot;hf.EnrollmentID&quot;:&quot;peer0&quot;,&quot;hf.Type&quot;:&quot;peer&quot;}}\r\n\r\nIs this only being used by the Fabric CA? Or it is a must to include?\r\n\r\n","title":"Hyperledger Fabric: TLS Internal Error using Fabric Gateway Java SDK","body":"<p>Fabric Version: v2.2.4\nFabric Gateway Version: v2.2.0</p>\n<p>Currently, I am not using Fabric CA and docker. Instead, I am using OpenSSL to generate my own certificates. There is no problem using command line to join channel or invoke chaincode with TLS enabled (Server TLS).</p>\n<p>However, when I try to invoke my chaincode using Fabric Gateway Java SDK with TLS, the peer shows:</p>\n<pre><code>2021-10-20 23:53:51.571 EDT [core.comm] ServerHandshake -&gt; ERRO 411 Server TLS handshake failed in 731.664253ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48920\n2021-10-20 23:53:51.648 EDT [core.comm] ServerHandshake -&gt; ERRO 412 Server TLS handshake failed in 17.623962ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48924\n2021-10-20 23:53:52.389 EDT [core.comm] ServerHandshake -&gt; ERRO 413 Server TLS handshake failed in 31.834126ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48928\n2021-10-20 23:53:53.013 EDT [core.comm] ServerHandshake -&gt; ERRO 414 Server TLS handshake failed in 20.97883ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48932\n2021-10-20 23:53:53.453 EDT [core.comm] ServerHandshake -&gt; ERRO 415 Server TLS handshake failed in 27.840631ms with error remote error: tls: internal error server=PeerServer remoteaddress=127.0.0.1:48936\n</code></pre>\n<p>if I disable the TLS, the chaincode can be invoked and queried but it shows an error message and display the certificate of the peer:</p>\n<pre><code>04:45:56.020 [main] ERROR org.hyperledger.fabric.sdk.security.CryptoPrimitives - Cannot \nvalidate certificate. Error is: Path does not chain with any of the trust anchors\nCertificate[\n[\n  Version: V3\n  Subject: CN=peer-telecom, OU=peer, O=peer0.telecom.com, ST=Wilayah Persekutuan Kuala Lumpur, C=MY\n  Signature Algorithm: SHA256withECDSA, OID = 1.2.840.10045.4.3.2\n\n  Key:  Sun EC public key, 256 bits\n  public x coord: 63258922835963897769642318382353579773301130246303245867091942631050654760639\n  public y coord: 17014436126955018341557373411142402131278326611630973049174140241981148702177\n  parameters: secp256r1 [NIST P-256, X9.62 prime256v1] (1.2.840.10045.3.1.7)\n  Validity: [From: Mon Oct 18 04:30:10 EDT 2021,\n               To: Tue Oct 18 04:30:10 EDT 2022]\n  Issuer: CN=hyperledger-telecom, O=ica.hyperledger.telecom.com, ST=Wilayah Persekutuan Kuala Lumpur, C=MY\n  SerialNumber: [    1000]\n\nCertificate Extensions: 4\n[1]: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: 70 2B 57 B5 7C 6A 38 DE   AB 6F DD 7E C4 63 FE 39  p+W..j8..o...c.9\n0010: 54 22 D9 F9                                        T&quot;..\n]\n]\n\n[2]: ObjectId: 2.5.29.19 Criticality=false\nBasicConstraints:[\n  CA:false\n  PathLen: undefined\n]\n\n[3]: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n]\n\n[4]: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 62 C2 4A FB 13 54 44 DF   15 AB 2B 09 78 4F 79 4A  b.J..TD...+.xOyJ\n0010: CB 37 1D D7                                        .7..\n]\n]\n\n]\n  Algorithm: [SHA256withECDSA]\n  Signature:\n0000: 30 44 02 20 2D 20 15 9D   53 D4 DE EF 56 0D E6 6D  0D. - ..S...V..m\n0010: 04 DA 99 F8 0C AC D5 A7   87 66 51 04 23 A0 4D C2  .........fQ.#.M.\n0020: C8 98 95 5C 02 20 5C A5   5A 2D 19 43 FA E8 C0 E1  ...\\. \\.Z-.C....\n0030: 49 4E C0 DF C9 59 F8 10   34 D6 94 05 51 38 E9 17  IN...Y..4...Q8..\n0040: C5 F1 20 1F 0C EC                                  .. ...\n\n]\n</code></pre>\n<p>Java Application code:</p>\n<pre><code>package org.example.contract;\n\nimport java.io.IOException;\nimport java.io.Reader;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.Files;\n\nimport java.util.concurrent.TimeoutException;\nimport java.security.InvalidKeyException;\nimport java.security.PrivateKey;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\n\n\nimport org.hyperledger.fabric.gateway.Identities;\nimport org.hyperledger.fabric.gateway.Identity;\nimport org.hyperledger.fabric.gateway.Contract;\nimport org.hyperledger.fabric.gateway.ContractException;\nimport org.hyperledger.fabric.gateway.Gateway;\nimport org.hyperledger.fabric.gateway.Network;\nimport org.hyperledger.fabric.gateway.Wallet;\nimport org.hyperledger.fabric.gateway.Wallets;\n\npublic class Sample {\n    \n    X509Certificate[] clientCert = null;\n    PrivateKey clientKey = null;\n\n    private static X509Certificate readX509Certificate(final Path certificatePath) throws IOException, CertificateException {\n        try (Reader certificateReader = Files.newBufferedReader(certificatePath, StandardCharsets.UTF_8)) {\n            return Identities.readX509Certificate(certificateReader);\n        }\n    }\n\n    private static PrivateKey getPrivateKey(final Path privateKeyPath) throws IOException, InvalidKeyException {\n        try (Reader privateKeyReader = Files.newBufferedReader(privateKeyPath, StandardCharsets.UTF_8)) {\n            return Identities.readPrivateKey(privateKeyReader);\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        // Load an existing wallet holding identities used to access the network.\n        // A wallet stores a collection of identities\n        Path walletPath = Paths.get(&quot;.&quot;, &quot;wallet&quot;);\n        Wallet wallet = Wallets.newFileSystemWallet(walletPath);\n        try {\n                  \n            Path credentialPath = Paths.get(&quot;/root&quot;,&quot;fabric&quot;,&quot;localtls&quot;,&quot;crypto-config&quot;, &quot;peerOrganizations&quot;,\n                &quot;org1.telecom.com&quot;, &quot;users&quot;, &quot;Admin@org1.telecom.com&quot;, &quot;msp&quot;);\n            System.out.println(&quot;credentialPath: &quot; + credentialPath.toString());\n            Path certificatePath = credentialPath.resolve(Paths.get(&quot;signcerts&quot;,\n                &quot;Admin@org1.telecom.com-cert.pem&quot;));\n            System.out.println(&quot;certificatePem: &quot; + certificatePath.toString());\n            Path privateKeyPath = credentialPath.resolve(Paths.get(&quot;keystore&quot;,\n                &quot;Admin@telecom.com.key&quot;));\n      \n            X509Certificate certificate = readX509Certificate(certificatePath);\n            PrivateKey privateKey = getPrivateKey(privateKeyPath);\n      \n            Identity identity = Identities.newX509Identity(&quot;Org1MSP&quot;, certificate, privateKey);\n            \n            String identityLabel = &quot;Admin@org1.telecom.com&quot;;\n            wallet.put(identityLabel, identity);\n      \n            System.out.println(&quot;Write wallet info into &quot; + walletPath.toString() + &quot; successfully.&quot;);\n      \n        } catch (IOException | CertificateException | InvalidKeyException e) {\n            System.err.println(&quot;Error adding to wallet&quot;);\n            e.printStackTrace();\n        }\n        // Path to a common connection profile describing the network.\n        Path networkConfigFile = Paths.get(&quot;/root&quot;,&quot;fabric&quot;,&quot;localtls&quot;,&quot;connection.yaml&quot;);\n\n        String userName = &quot;Admin@org1.telecom.com&quot;;\n        // Configure the gateway connection used to access the network.,\n        Gateway.Builder builder = Gateway.createBuilder()\n                .identity(wallet, userName)\n                .networkConfig(networkConfigFile);\n\n        // Create a gateway connection\n        try (Gateway gateway = builder.connect()) {\n\n            // Obtain a smart contract deployed on the network.\n            Network network = gateway.getNetwork(&quot;mychannel&quot;);\n            Contract contract = network.getContract(&quot;chaincode&quot;);\n\n            // Submit transactions that store state to the ledger.\n            byte[] createCarResult = contract.createTransaction(&quot;createMyAsset&quot;)\n                    .submit(&quot;CAR&quot;, &quot;Honda&quot;);\n            System.out.println(new String(createCarResult, StandardCharsets.UTF_8));\n\n            byte[] queryCar = contract.submitTransaction(&quot;readMyAsset&quot;, &quot;CAR&quot;);\n            System.out.println(new String(queryCar, StandardCharsets.UTF_8));\n\n        } catch (ContractException | TimeoutException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>connection.yaml:</p>\n<pre><code>name: &quot;Network-Config-Test&quot;\ndescription: &quot;The network used in the integration tests&quot;\nversion: 1.0.0\nclient:\n  organization: telecom\n\norganizations:\n  telecom:\n    mspid: Org1MSP\n\n    peers:\n      - peer0.org1.telecom.com\n\n    #adminPrivateKey:\n      #path: '/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/msp/keystore/Admin@telecom.com.key'\n\n    #signedCert:\n      #path: '/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/msp/signcerts/Admin@org1.telecom.com-cert.pem'\n      \norderers:\n  orderer.example.com:\n    url: grpcs://localhost:6050\n\n   \n      #client: \n        #keyfile: '/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client-o.key'\n        #certfile: '/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client-o.crt'\n\n    grpcOptions:\n      hostnameOverride: orderer.example.com\n      grpc-max-send-message-length: 15\n      grpc.keepalive_time_ms: 360000\n      grpc.keepalive_timeout_ms: 180000\n      negotiationType: TLS\n      sslProvider: openSSL\n\n    tlsCACerts:\n      path: /root/fabric/localtls/crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/tls/ca.crt\n\n\npeers:\n  peer0.org1.telecom.com:\n    url: grpcs://localhost:7051\n      #client: \n        #keyfile: '/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client.key'\n        #certfile: '/root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/users/Admin@org1.telecom.com/tls/client.crt'\n\n    grpcOptions:\n      ssl-target-name-override: peer0.org1.telecom.com\n      grpc.http2.keepalive_time: 15\n      hostnameOverride: peer0.org1.telecom.com\n      negotiationType: TLS\n      sslProvider: openSSL\n    \n    tlsCACerts:\n      path: /root/fabric/localtls/crypto-config/peerOrganizations/org1.telecom.com/peers/peer0.org1.telecom.com/tls/ca.crt\n</code></pre>\n<p>What am I missing? Any answer is welcomed!</p>\n<p><strong>Update 1.0</strong>\nThese are the certificates generated by using openSSL, they work when I use command line (I ommitted the hf thing in the Subject Alternative Name, not sure is it important for the application to work?):</p>\n<p>The tlscacert:</p>\n<pre><code>Certificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number:\n            1f:a5:9f:1a:01:ed:c7:3d:30:ca:27:b6:79:9c:82:10:b8:94:84:23\n        Signature Algorithm: ecdsa-with-SHA256\n        Issuer: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, L = Kuala Lumpur, O = rca.verisign.com, CN = tls-verisign\n        Validity\n            Not Before: Oct 21 03:11:13 2021 GMT\n            Not After : Oct 19 03:11:13 2031 GMT\n        Subject: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, L = Kuala Lumpur, O = rca.verisign.com, CN = tls-verisign\n        Subject Public Key Info:\n            Public Key Algorithm: id-ecPublicKey\n                Public-Key: (256 bit)\n                pub:\n                    04:34:b5:ac:a3:42:8c:d4:17:97:ca:16:d5:2f:7a:\n                    00:32:bf:fd:dd:02:8a:33:28:ed:c0:53:5d:e0:42:\n                    79:0d:08:43:1c:22:83:1e:f0:71:91:08:d6:c3:ec:\n                    eb:ac:9c:56:00:da:e8:08:cf:ad:4c:b3:46:e7:e1:\n                    39:1c:5f:bf:fc\n                ASN1 OID: prime256v1\n                NIST CURVE: P-256\n        X509v3 extensions:\n            X509v3 Subject Key Identifier:\n                EB:7B:8E:23:26:A7:17:3D:E0:0B:8D:B4:6E:6C:5D:D5:EE:EF:80:AF\n            X509v3 Authority Key Identifier:\n                keyid:EB:7B:8E:23:26:A7:17:3D:E0:0B:8D:B4:6E:6C:5D:D5:EE:EF:80:AF\n\n            X509v3 Basic Constraints: critical\n                CA:TRUE\n            X509v3 Key Usage: critical\n                Digital Signature, Key Encipherment, Certificate Sign, CRL Sign\n    Signature Algorithm: ecdsa-with-SHA256\n         30:45:02:20:63:40:88:2d:c8:51:e5:42:2b:d3:98:60:6f:1e:\n         3c:d2:f6:59:48:bb:0c:7c:10:b6:28:27:86:20:58:35:0b:19:\n         02:21:00:c7:87:df:79:75:21:8d:bf:bc:be:aa:c9:44:53:b5:\n         b4:32:4d:06:2b:a0:05:eb:38:b7:9f:3d:71:80:17:77:69\n</code></pre>\n<p>The Peer TLS cert:</p>\n<pre><code>Certificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number: 4097 (0x1001)\n        Signature Algorithm: ecdsa-with-SHA256\n        Issuer: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, L = Kuala Lumpur, O = rca.verisign.com, CN = tls-verisign\n        Validity\n            Not Before: Oct 21 03:11:13 2021 GMT\n            Not After : Oct 21 03:11:13 2022 GMT\n        Subject: C = MY, ST = Wilayah Persekutuan Kuala Lumpur, O = tls.peer.telecom.com, CN = tls-peer-telecom\n        Subject Public Key Info:\n            Public Key Algorithm: id-ecPublicKey\n                Public-Key: (256 bit)\n                pub:\n                    04:76:c2:e9:94:10:03:2c:3b:2d:90:56:e8:b5:30:\n                    bf:67:f6:b5:b8:9c:73:cd:28:b3:f2:f7:21:e9:f7:\n                    6c:66:38:a9:e8:7c:b0:ea:67:fb:f7:db:72:29:9d:\n                    aa:56:20:92:ab:b1:e5:53:2a:a1:19:0b:0c:8b:65:\n                    36:fe:98:aa:e1\n                ASN1 OID: prime256v1\n                NIST CURVE: P-256\n        X509v3 extensions:\n            X509v3 Basic Constraints: critical\n                CA:FALSE\n            X509v3 Key Usage: critical\n                Digital Signature, Key Encipherment\n            X509v3 Extended Key Usage:\n                TLS Web Client Authentication, TLS Web Server Authentication\n            X509v3 Subject Key Identifier:\n                08:9D:B8:81:4B:39:0D:B1:D4:BD:EC:49:E5:AC:BA:FB:F1:7A:58:51\n            X509v3 Authority Key Identifier:\n                keyid:EB:7B:8E:23:26:A7:17:3D:E0:0B:8D:B4:6E:6C:5D:D5:EE:EF:80:AF\n\n            X509v3 Subject Alternative Name:\n                IP Address:127.0.0.1\n    Signature Algorithm: ecdsa-with-SHA256\n         30:46:02:21:00:c0:d7:26:b4:e9:30:08:b5:37:46:66:0f:fb:\n         b6:36:22:04:5f:78:ab:ae:ff:7f:48:e0:7b:ff:e8:f0:88:b4:\n         e5:02:21:00:86:64:ec:c8:9b:b4:06:b5:3d:d3:c1:54:4f:d2:\n         a2:bb:1a:e1:a7:e7:84:28:9a:ef:ac:db:ab:65:95:0d:10:2d\n</code></pre>\n<p>The only thing I am missing in the cert is:</p>\n<pre><code>1.2.3.4.5.6.7.8.1:\n                {&quot;attrs&quot;:{&quot;hf.Affiliation&quot;:&quot;&quot;,&quot;hf.EnrollmentID&quot;:&quot;peer0&quot;,&quot;hf.Type&quot;:&quot;peer&quot;}}\n</code></pre>\n<p>Is this only being used by the Fabric CA? Or it is a must to include?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634862207,"post_id":69670111,"comment_id":123147387,"body_markdown":"It needs to be added to your classpath as well.","body":"It needs to be added to your classpath as well."},{"owner":{"account_id":7763161,"reputation":313,"user_id":5875230,"display_name":"Pickled Brain"},"score":0,"creation_date":1634918995,"post_id":69670111,"comment_id":123164914,"body_markdown":"Are you using gradle?  Maven?  Some other build tool? If you&#39;re using a build tool, please post its configuration.","body":"Are you using gradle?  Maven?  Some other build tool? If you&#39;re using a build tool, please post its configuration."}],"owner":{"account_id":23106809,"reputation":1,"user_id":17215276,"display_name":"handro1104"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634862022,"creation_date":1634862022,"question_id":69670111,"body_markdown":"My problem is with code that was working before:\r\n\r\n```\r\npublic CachedRowSetImpl getObjectsRowSet(String selectStatement) {\r\n    selectStatement = selectStatement.replace(&quot;false&quot;, &quot;0&quot;);\r\n    selectStatement = selectStatement.replace(&quot;true&quot;, &quot;-1&quot;);\r\n    selectStatement = selectStatement.replace(&quot;FALSE&quot;, &quot;0&quot;);\r\n    selectStatement = selectStatement.replace(&quot;TRUE&quot;, &quot;-1&quot;);\r\n    CachedRowSetImpl rowSet = null;\r\n    Connection conn = null;\r\n    try {\r\n        conn = this.dataSource.getConnection();\r\n        Statement statement = conn.createStatement();\r\n        ResultSet result = statement.executeQuery(selectStatement);\r\n        rowSet = new CachedRowSetImpl();\r\n        rowSet.populate(result);\r\n    } catch (SQLException e) {\r\n        MainFrame.displayExitErrorMessage(e);\r\n    } finally {\r\n        try {\r\n            if (conn != null)\r\n                conn.close();\r\n        } catch (SQLException e) {\r\n            MainFrame.displayExitErrorMessage(e);\r\n        }\r\n    }\r\n    return rowSet;\r\n}\r\n```\r\nI am getting the message: &quot;CachedRowSetImpl cannot be resolved to a type&quot;. I don&#39;t know why I lost the jar file, but I was able to down load com.sun.rowset with CachedRowSetImpl.class. I was able to set the jar file at libraries at &quot;Java Build Pat&quot; and everything shows in Package Explorer at Referenced Libraries. I cannot understand what is going wrong?","title":"Java, problem in Java with a Class in a jar file","body":"<p>My problem is with code that was working before:</p>\n<pre><code>public CachedRowSetImpl getObjectsRowSet(String selectStatement) {\n    selectStatement = selectStatement.replace(&quot;false&quot;, &quot;0&quot;);\n    selectStatement = selectStatement.replace(&quot;true&quot;, &quot;-1&quot;);\n    selectStatement = selectStatement.replace(&quot;FALSE&quot;, &quot;0&quot;);\n    selectStatement = selectStatement.replace(&quot;TRUE&quot;, &quot;-1&quot;);\n    CachedRowSetImpl rowSet = null;\n    Connection conn = null;\n    try {\n        conn = this.dataSource.getConnection();\n        Statement statement = conn.createStatement();\n        ResultSet result = statement.executeQuery(selectStatement);\n        rowSet = new CachedRowSetImpl();\n        rowSet.populate(result);\n    } catch (SQLException e) {\n        MainFrame.displayExitErrorMessage(e);\n    } finally {\n        try {\n            if (conn != null)\n                conn.close();\n        } catch (SQLException e) {\n            MainFrame.displayExitErrorMessage(e);\n        }\n    }\n    return rowSet;\n}\n</code></pre>\n<p>I am getting the message: &quot;CachedRowSetImpl cannot be resolved to a type&quot;. I don't know why I lost the jar file, but I was able to down load com.sun.rowset with CachedRowSetImpl.class. I was able to set the jar file at libraries at &quot;Java Build Pat&quot; and everything shows in Package Explorer at Referenced Libraries. I cannot understand what is going wrong?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634860180,"creation_date":1634860180,"answer_id":69669954,"question_id":69669906,"body_markdown":"Your method `updateWord` just creates a new `String` which is never used again.\r\n\r\n    String newGuess = String.valueOf(newWord);\r\n\r\nYou need to change this method so that it returns the String `newGuess`\r\n\r\n    public String updateWord(char a)","title":"Hangman Program not updating word after letter is correctly guessed","body":"<p>Your method <code>updateWord</code> just creates a new <code>String</code> which is never used again.</p>\n<pre><code>String newGuess = String.valueOf(newWord);\n</code></pre>\n<p>You need to change this method so that it returns the String <code>newGuess</code></p>\n<pre><code>public String updateWord(char a)\n</code></pre>\n"}],"owner":{"account_id":19681220,"reputation":19,"user_id":14408306,"display_name":"yeah man12345"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634860180,"creation_date":1634859715,"question_id":69669906,"body_markdown":"So, I&#39;m currently making a Hangman class that is essentially the entire game but run on a different program that calls the class. I&#39;m having trouble with a certain method that is supposed to update the hidden word by adding the correct letter to a string of characters (symbols) when it is right, and It doesn&#39;t seem to update whenever I put put in output. I&#39;m not that good of a coder.\r\n\r\n    /**\r\n\t * Displays the guess,specifically the word replaced by characters to make it look hidden, example &#39;money&#39; = &#39;*****&#39;\r\n\t * @output - essentially the word replaced by characters \r\n\t */\r\n\tpublic void displayGuess() {\r\n\t\tguess = &quot;&quot;;\r\n\t\tint length = word.length();\r\n\t\tfor(int i = 0; i&lt;length;i++) {\r\n\t\t\tguess += String.valueOf(symbol);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Guess is &quot; + guess);\r\n\t\tcount++;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * Updates the hidden word if the letter is guessed correctly then it replaces a character in the word with the correct letter\r\n\t * @param a - the letter guessed by the user input\r\n\t * @output should output the updated guess word, so example, guessing the letter &#39;a&#39;  when the word is apple should give you a**** \r\n\t */\r\n\t\r\n\tpublic void updateWord(char a) {\r\n\t\tchar [] newWord = new char [word.length()];\r\n\t\tfor(int i = 0; i&lt;word.length();i++) {\r\n\t\t\tif(word.charAt(i)==a) {\r\n\t\t\t\tnewWord[i] = a;\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tnewWord[i] = guess.charAt(i);\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t}\r\n\t\tString newGuess = String.valueOf(newWord);\r\n\r\n\t}\r\nSo the output I&#39;m supposed to get is \r\n[![Expected Output][1]][1]\r\n\r\n\r\nHowever, I&#39;m getting:\r\n[![Current Output][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5s8Cl.png\r\n  [2]: https://i.stack.imgur.com/3le3i.png\r\n\r\nThe output doesn&#39;t seem to be adding correct words to the string and I have no clue how to solve this problem.","title":"Hangman Program not updating word after letter is correctly guessed","body":"<p>So, I'm currently making a Hangman class that is essentially the entire game but run on a different program that calls the class. I'm having trouble with a certain method that is supposed to update the hidden word by adding the correct letter to a string of characters (symbols) when it is right, and It doesn't seem to update whenever I put put in output. I'm not that good of a coder.</p>\n<pre><code>/**\n * Displays the guess,specifically the word replaced by characters to make it look hidden, example 'money' = '*****'\n * @output - essentially the word replaced by characters \n */\npublic void displayGuess() {\n    guess = &quot;&quot;;\n    int length = word.length();\n    for(int i = 0; i&lt;length;i++) {\n        guess += String.valueOf(symbol);\n    }\n    System.out.println(&quot;Guess is &quot; + guess);\n    count++;\n}\n\n\n\n\n/**\n * Updates the hidden word if the letter is guessed correctly then it replaces a character in the word with the correct letter\n * @param a - the letter guessed by the user input\n * @output should output the updated guess word, so example, guessing the letter 'a'  when the word is apple should give you a**** \n */\n\npublic void updateWord(char a) {\n    char [] newWord = new char [word.length()];\n    for(int i = 0; i&lt;word.length();i++) {\n        if(word.charAt(i)==a) {\n            newWord[i] = a;\n            \n        \n            \n        }\n            else {\n                newWord[i] = guess.charAt(i);\n                \n            \n        }\n        \n\n    }\n    String newGuess = String.valueOf(newWord);\n\n}\n</code></pre>\n<p>So the output I'm supposed to get is\n<a href=\"https://i.stack.imgur.com/5s8Cl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5s8Cl.png\" alt=\"Expected Output\" /></a></p>\n<p>However, I'm getting:\n<a href=\"https://i.stack.imgur.com/3le3i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3le3i.png\" alt=\"Current Output\" /></a></p>\n<p>The output doesn't seem to be adding correct words to the string and I have no clue how to solve this problem.</p>\n"},{"tags":["java","yaml","java-11","apache-commons-config"],"answers":[{"tags":[],"owner":{"account_id":4683411,"reputation":415,"user_id":3791510,"display_name":"marinier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634860020,"creation_date":1634860020,"answer_id":69669937,"question_id":69623051,"body_markdown":"Here&#39;s the solution I found (note this works for any `HierarchicalConfiguration`, not just `YAMLConfiguration`)\r\n\r\n```java\r\n// this will return a list of List&lt;HierarchicalConfiguration&lt;ImmutableNode&gt;&gt;, one entry for each element of the list\r\nvar subConfigList = hierarchicalConfig.configurationsAt(&quot;foo.bar&quot;);\r\n\r\nList&lt;MyListEntry&gt; myListEntries = new ArrayList&lt;&gt;(subConfigList.size());\r\n// iterate over the subconfigs and pull out the specific values of interest\r\nfor(var subConfig : subconfigs) {\r\n    MyListEntry myListEntry = new MyListEntry();\r\n    myListEntry.entry1 = subConfig.getInt(&quot;entry1&quot;);\r\n    myListEntry.entry2 = subConfig.getString(&quot;entry2&quot;);\r\n    myListEntries.add(myListEntry);    \r\n}\r\n```","title":"How to read a list from a YAMLConfigutation","body":"<p>Here's the solution I found (note this works for any <code>HierarchicalConfiguration</code>, not just <code>YAMLConfiguration</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>// this will return a list of List&lt;HierarchicalConfiguration&lt;ImmutableNode&gt;&gt;, one entry for each element of the list\nvar subConfigList = hierarchicalConfig.configurationsAt(&quot;foo.bar&quot;);\n\nList&lt;MyListEntry&gt; myListEntries = new ArrayList&lt;&gt;(subConfigList.size());\n// iterate over the subconfigs and pull out the specific values of interest\nfor(var subConfig : subconfigs) {\n    MyListEntry myListEntry = new MyListEntry();\n    myListEntry.entry1 = subConfig.getInt(&quot;entry1&quot;);\n    myListEntry.entry2 = subConfig.getString(&quot;entry2&quot;);\n    myListEntries.add(myListEntry);    \n}\n</code></pre>\n"}],"owner":{"account_id":4683411,"reputation":415,"user_id":3791510,"display_name":"marinier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69669937,"answer_count":1,"score":0,"last_activity_date":1634860020,"creation_date":1634594728,"question_id":69623051,"body_markdown":"I have a YAML file that looks like this:\r\n\r\n```\r\nfoo:\r\n  bar:\r\n    - entry1: 1\r\n      entry2: a\r\n    - entry1: 2\r\n      entry2: b\r\n```\r\n\r\n(Where the actual list is much longer.) I&#39;m reading this file using Apache Configuration2&#39;s `YAMLConfiguration`. I can see the data in the internal data structures used in Apache Configuration2, but I can&#39;t figure out how to get this list out. I actually have a class that matches the structure of the list elements, which is what I&#39;d really like to read into:\r\n\r\n```\r\nclass MyListEntry {\r\n    public int entry1;\r\n    public String entry2;\r\n}\r\n```\r\n\r\nHow can I get the data `YAMLConfiguration` into a `List&lt;MyListEntry&gt;`?","title":"How to read a list from a YAMLConfigutation","body":"<p>I have a YAML file that looks like this:</p>\n<pre><code>foo:\n  bar:\n    - entry1: 1\n      entry2: a\n    - entry1: 2\n      entry2: b\n</code></pre>\n<p>(Where the actual list is much longer.) I'm reading this file using Apache Configuration2's <code>YAMLConfiguration</code>. I can see the data in the internal data structures used in Apache Configuration2, but I can't figure out how to get this list out. I actually have a class that matches the structure of the list elements, which is what I'd really like to read into:</p>\n<pre><code>class MyListEntry {\n    public int entry1;\n    public String entry2;\n}\n</code></pre>\n<p>How can I get the data <code>YAMLConfiguration</code> into a <code>List&lt;MyListEntry&gt;</code>?</p>\n"},{"tags":["java","json","jackson","json-deserialization"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1634835526,"post_id":69665712,"comment_id":123139997,"body_markdown":"It is possible to mantain the same class structures if you modify your in json in `{&quot;depositos&quot;: [{&quot;id&quot;: &quot;13168775373&quot;,&quot;nome&quot;: &quot;Geral&quot;,&quot;saldo&quot;:&quot;100000.0000000000&quot;,&quot;desconsiderar&quot;: &quot;N&quot;,&quot;saldoVirtual&quot;: &quot;100000.0000000000&quot;}, \n    ]\n}`, is your json immodifiable ?","body":"It is possible to mantain the same class structures if you modify your in json in <code>{&quot;depositos&quot;: [{&quot;id&quot;: &quot;13168775373&quot;,&quot;nome&quot;: &quot;Geral&quot;,&quot;saldo&quot;:&quot;100000.0000000000&quot;,&quot;desconsiderar&quot;: &quot;N&quot;,&quot;saldoVirtual&quot;: &quot;100000.0000000000&quot;},      ] }</code>, is your json immodifiable ?"},{"owner":{"account_id":2741191,"reputation":49,"user_id":2362721,"display_name":"Rodrigo Vidal"},"score":0,"creation_date":1635169594,"post_id":69665712,"comment_id":123216735,"body_markdown":"My json is immodifiable it is from a crazy supply.","body":"My json is immodifiable it is from a crazy supply."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634859672,"creation_date":1634859672,"answer_id":69669901,"question_id":69665712,"body_markdown":"You would need to add an additional class to your model:\r\n```java\r\npublic class DepositoMetadata {\r\n    private Deposito deposito;\r\n}\r\n```\r\n\r\nNow you need to adjust your main java class (as you called it):\r\n```java\r\nprivate List&lt;DepositoMetadata&gt; depositos;\r\n```\r\n\r\nFinally, you can remove `@JsonRootName(value = &quot;deposito&quot;)` from your `Deposito` class.","title":"How to use @JsonUnwrapped in list of objects","body":"<p>You would need to add an additional class to your model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DepositoMetadata {\n    private Deposito deposito;\n}\n</code></pre>\n<p>Now you need to adjust your main java class (as you called it):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;DepositoMetadata&gt; depositos;\n</code></pre>\n<p>Finally, you can remove <code>@JsonRootName(value = &quot;deposito&quot;)</code> from your <code>Deposito</code> class.</p>\n"}],"owner":{"account_id":2741191,"reputation":49,"user_id":2362721,"display_name":"Rodrigo Vidal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69669901,"answer_count":1,"score":0,"last_activity_date":1634859672,"creation_date":1634834198,"question_id":69665712,"body_markdown":"I&#39;m trying to deserialize a JSON object using Jackson annotation, but I can&#39;t deserialize it:\r\nIs an array of a type &quot;Deposito&quot;\r\n```json\r\n{\r\n  &quot;depositos&quot;: [\r\n    {\r\n        &quot;deposito&quot;: {\r\n            &quot;id&quot;: &quot;13168775373&quot;,\r\n            &quot;nome&quot;: &quot;Geral&quot;,\r\n            &quot;saldo&quot;: &quot;100000.0000000000&quot;,\r\n            &quot;desconsiderar&quot;: &quot;N&quot;,\r\n            &quot;saldoVirtual&quot;: &quot;100000.0000000000&quot;\r\n        }\r\n    }\r\n  ] \r\n}\r\n```\r\n\r\nmy java class:\r\n\r\n    \r\n    @JsonUnwrapped\r\n    @JsonProperty(value =&quot;depositos&quot;)    \r\n    private List&lt;Deposito&gt; depositos;\r\n\r\nmy deposito class:\r\n\r\n    @JsonRootName(value = &quot;deposito&quot;)    \r\n    public class Deposito {\r\n        \r\n        private String id;\r\n        private String nome;\r\n        private Double saldo;\r\n        private String desconsiderar;\r\n        private Double saldoVirtual;\r\n    }","title":"How to use @JsonUnwrapped in list of objects","body":"<p>I'm trying to deserialize a JSON object using Jackson annotation, but I can't deserialize it:\nIs an array of a type &quot;Deposito&quot;</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;depositos&quot;: [\n    {\n        &quot;deposito&quot;: {\n            &quot;id&quot;: &quot;13168775373&quot;,\n            &quot;nome&quot;: &quot;Geral&quot;,\n            &quot;saldo&quot;: &quot;100000.0000000000&quot;,\n            &quot;desconsiderar&quot;: &quot;N&quot;,\n            &quot;saldoVirtual&quot;: &quot;100000.0000000000&quot;\n        }\n    }\n  ] \n}\n</code></pre>\n<p>my java class:</p>\n<pre><code>@JsonUnwrapped\n@JsonProperty(value =&quot;depositos&quot;)    \nprivate List&lt;Deposito&gt; depositos;\n</code></pre>\n<p>my deposito class:</p>\n<pre><code>@JsonRootName(value = &quot;deposito&quot;)    \npublic class Deposito {\n    \n    private String id;\n    private String nome;\n    private Double saldo;\n    private String desconsiderar;\n    private Double saldoVirtual;\n}\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":4251555,"reputation":643,"user_id":3478466,"accept_rate":100,"display_name":"Stephen Buttolph"},"score":0,"creation_date":1464843171,"post_id":37582853,"comment_id":62652193,"body_markdown":"What is the problem that you are having?","body":"What is the problem that you are having?"},{"owner":{"account_id":4251555,"reputation":643,"user_id":3478466,"accept_rate":100,"display_name":"Stephen Buttolph"},"score":0,"creation_date":1464843743,"post_id":37582853,"comment_id":62652383,"body_markdown":"Is the problem because you have `return log(int b, int n/b)+1;` rather than `return log(b, n/b)+1;`?","body":"Is the problem because you have <code>return log(int b, int n&#47;b)+1;</code> rather than <code>return log(b, n&#47;b)+1;</code>?"},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1464843964,"post_id":37582853,"comment_id":62652437,"body_markdown":"What is the point of doing this calculation using integers?","body":"What is the point of doing this calculation using integers?"},{"owner":{"display_name":"user6276737"},"score":0,"creation_date":1464844079,"post_id":37582853,"comment_id":62652484,"body_markdown":"I added the full question from openDSA, please see my edited question.","body":"I added the full question from openDSA, please see my edited question."},{"owner":{"account_id":2932591,"reputation":4163,"user_id":2512399,"display_name":"Michael Markidis"},"score":0,"creation_date":1464844117,"post_id":37582853,"comment_id":62652494,"body_markdown":"Yes, but what if it&#39;s the log base 2 of 17, what is the expected output?","body":"Yes, but what if it&#39;s the log base 2 of 17, what is the expected output?"},{"owner":{"display_name":"user6276737"},"score":0,"creation_date":1464844248,"post_id":37582853,"comment_id":62652530,"body_markdown":"&quot; You should assume that &quot;n&quot; is exactly &quot;b&quot; to some integer power.&quot; --from the question.","body":"&quot; You should assume that &quot;n&quot; is exactly &quot;b&quot; to some integer power.&quot; --from the question."}],"answers":[{"tags":[],"owner":{"account_id":4251555,"reputation":643,"user_id":3478466,"accept_rate":100,"display_name":"Stephen Buttolph"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1558329481,"creation_date":1464844257,"answer_id":37583126,"question_id":37582853,"body_markdown":"If the format __MUST__ be like this:\r\n\r\n    int log(int b, int n ) {\r\n        if &lt;&lt;enter base case&gt;&gt; {\r\n            return 1;\r\n        } else {\r\n            return &lt;&lt;enter action case&gt;&gt; ;\r\n        }\r\n    }\r\n\r\nThen the safest method (that I can come up with) would be:\r\n\r\n    int log(int b, int n ) {\r\n        if (n &lt;= b) {\r\n            return 1;\r\n        } else {\r\n            return log(b, n/b)+1 ;\r\n\r\n        }\r\n    }","title":"Recursive method to calculate log","body":"<p>If the format <strong>MUST</strong> be like this:</p>\n\n<pre><code>int log(int b, int n ) {\n    if &lt;&lt;enter base case&gt;&gt; {\n        return 1;\n    } else {\n        return &lt;&lt;enter action case&gt;&gt; ;\n    }\n}\n</code></pre>\n\n<p>Then the safest method (that I can come up with) would be:</p>\n\n<pre><code>int log(int b, int n ) {\n    if (n &lt;= b) {\n        return 1;\n    } else {\n        return log(b, n/b)+1 ;\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17855841,"reputation":21,"user_id":12970466,"display_name":"baillie6546"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600729461,"creation_date":1600729461,"answer_id":64001001,"question_id":37582853,"body_markdown":"A better solution in my opinion would be \r\n```\r\nint log(int b, int n ) {\r\n    if (b &gt; n) {\r\n        return 0;\r\n    } else {\r\n        return 1 + log(b, n/b);\r\n    }\r\n}\r\n```\r\nThis returns the log base b of n rounded down to an integer, and has more consistency with inexact results than the other answer. \r\n\r\ne.g. log(2,6)=2 ; log(2,7)=2 ; log(2,8)=3 ; log(2,9)=3\r\n\r\nThough, it still doesn&#39;t handle things like b &lt; 2 or cases where the result would be negative.","title":"Recursive method to calculate log","body":"<p>A better solution in my opinion would be</p>\n<pre><code>int log(int b, int n ) {\n    if (b &gt; n) {\n        return 0;\n    } else {\n        return 1 + log(b, n/b);\n    }\n}\n</code></pre>\n<p>This returns the log base b of n rounded down to an integer, and has more consistency with inexact results than the other answer.</p>\n<p>e.g. log(2,6)=2 ; log(2,7)=2 ; log(2,8)=3 ; log(2,9)=3</p>\n<p>Though, it still doesn't handle things like b &lt; 2 or cases where the result would be negative.</p>\n"},{"tags":[],"owner":{"account_id":22707998,"reputation":1,"user_id":16874346,"display_name":"Ammu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631235949,"creation_date":1631235949,"answer_id":69126140,"question_id":37582853,"body_markdown":"    int log(int b, int n ) {\r\n    if (b == 1) {\r\n        return b;\r\n    } else if (n == 1) {\r\n        return 0;\r\n    } else {\r\n        return 1 + log(b, n/b);\r\n    }\r\n    }\r\n\r\n\r\n  \r\n\r\n","title":"Recursive method to calculate log","body":"<pre><code>int log(int b, int n ) {\nif (b == 1) {\n    return b;\n} else if (n == 1) {\n    return 0;\n} else {\n    return 1 + log(b, n/b);\n}\n}\n</code></pre>\n"}],"owner":{"display_name":"user6276737"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17518,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37583126,"answer_count":3,"score":2,"last_activity_date":1634858805,"creation_date":1464842800,"question_id":37582853,"body_markdown":"I did the following to calculate recursive logarithm:(b is the base of log here)\r\n\r\n```java\r\nint log(int b, int n) {\r\n  if (n/b == 1) {\r\n    return 1;\r\n  } else {\r\n    return log(b, n/b) + 1;\r\n  }\r\n}\r\n```\r\n\r\nHowever, it&#39;s wrong.I&#39;m doing it from the openDSA interactive platform.The original question is the following:\r\n\r\n&gt;For function &quot;log&quot;, write the missing base case condition and the recursive call. This function computes the log of &quot;n&quot; to the base &quot;b&quot;. As an example: log 8 to the base 2 equals 3 since 8 = 2*2*2. We can find this by dividing 8 by 2 until we reach 1, and we count the number of divisions we made. You should assume that &quot;n&quot; is exactly &quot;b&quot; to some integer power.\r\n    \r\n```java\r\nint log(int b, int n) {\r\n  if /* Missing base case condition */ {\r\n    return 1;\r\n  } else {\r\n    return /* Missing a Recursive case action */;\r\n  }\r\n}\r\n```\r\n\r\nMy code is incorrect.I&#39;m getting infinite recursion. ","title":"Recursive method to calculate log","body":"<p>I did the following to calculate recursive logarithm:(b is the base of log here)</p>\n<pre class=\"lang-java prettyprint-override\"><code>int log(int b, int n) {\n  if (n/b == 1) {\n    return 1;\n  } else {\n    return log(b, n/b) + 1;\n  }\n}\n</code></pre>\n<p>However, it's wrong.I'm doing it from the openDSA interactive platform.The original question is the following:</p>\n<blockquote>\n<p>For function &quot;log&quot;, write the missing base case condition and the recursive call. This function computes the log of &quot;n&quot; to the base &quot;b&quot;. As an example: log 8 to the base 2 equals 3 since 8 = 2<em>2</em>2. We can find this by dividing 8 by 2 until we reach 1, and we count the number of divisions we made. You should assume that &quot;n&quot; is exactly &quot;b&quot; to some integer power.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>int log(int b, int n) {\n  if /* Missing base case condition */ {\n    return 1;\n  } else {\n    return /* Missing a Recursive case action */;\n  }\n}\n</code></pre>\n<p>My code is incorrect.I'm getting infinite recursion.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1634849542,"post_id":69667123,"comment_id":123144747,"body_markdown":"Maybe [trying-to-use-spring-boot-rest-to-read-json-string-from-post](https://stackoverflow.com/questions/29313687/trying-to-use-spring-boot-rest-to-read-json-string-from-post) can help you.","body":"Maybe <a href=\"https://stackoverflow.com/questions/29313687/trying-to-use-spring-boot-rest-to-read-json-string-from-post\">trying-to-use-spring-boot-rest-to-read-json-string-from-post</a> can help you."},{"owner":{"account_id":18606616,"reputation":418,"user_id":14731849,"display_name":"Seeschon"},"score":0,"creation_date":1634855882,"post_id":69667123,"comment_id":123146352,"body_markdown":"Thanks, but i&#39;m more interested to know as to how to get values from variable. for example, variable amount parses 100 &amp; I need to add it into accountBalance property","body":"Thanks, but i&#39;m more interested to know as to how to get values from variable. for example, variable amount parses 100 &amp; I need to add it into accountBalance property"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1634882059,"post_id":69667123,"comment_id":123150326,"body_markdown":"You are welcome, the message you receive is about a parsing json error,could you add a json example message you send to the controller ?","body":"You are welcome, the message you receive is about a parsing json error,could you add a json example message you send to the controller ?"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634858524,"creation_date":1634858524,"answer_id":69669798,"question_id":69667123,"body_markdown":"The issue is your POST body. I am guessing you are sending similar to the following:\r\n```json\r\n{\r\n   &quot;amount&quot;: 1000\r\n}\r\n```\r\n\r\nThis is a JSON object that can&#39;t be deserialized into a simple `double` parameter. You need to create a corresponding class as follows:\r\n```java\r\npublic class AccountDto {\r\n   private double amount;\r\n\r\n   // constructor, getters, setters\r\n}\r\n```\r\n\r\nNow you need to use it in your Controller:\r\n```java\r\n@PostMapping(&quot;/deposit&quot;)\r\npublic ResponseEntity&lt;Object&gt; depositPost(@RequestBody AccountDto accountDto, String accountType, int accountNumber, Account account){\r\n    accountService.deposit(accountType, accountNumber, accountDto.getAmount());\r\n    return ResponseEntity.ok(&quot;Record has been entered&quot;);\r\n}\r\n```","title":"How to get values from generic parameter (not related to any class) in Spring boot","body":"<p>The issue is your POST body. I am guessing you are sending similar to the following:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;amount&quot;: 1000\n}\n</code></pre>\n<p>This is a JSON object that can't be deserialized into a simple <code>double</code> parameter. You need to create a corresponding class as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AccountDto {\n   private double amount;\n\n   // constructor, getters, setters\n}\n</code></pre>\n<p>Now you need to use it in your Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/deposit&quot;)\npublic ResponseEntity&lt;Object&gt; depositPost(@RequestBody AccountDto accountDto, String accountType, int accountNumber, Account account){\n    accountService.deposit(accountType, accountNumber, accountDto.getAmount());\n    return ResponseEntity.ok(&quot;Record has been entered&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":18606616,"reputation":418,"user_id":14731849,"display_name":"Seeschon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69669798,"answer_count":1,"score":0,"last_activity_date":1634858524,"creation_date":1634841283,"question_id":69667123,"body_markdown":"I&#39;m new with SB &amp; trying to enhance my skill. I make a little API project, in which I&#39;ve account numbers with account balance property, and goal of the project is to adding up amount in account balance property with corresponding account number.\r\n\r\nI&#39;m stuck at the point where I need to get value from amount variable that is actually not the part of any class. Anyone can change the title if you think that it doesn&#39;t in according with the subject.\r\nI mention hereunder classes, you can find my efforts which is useless as it seems messed up.\r\nI&#39;d grateful if anyone can correct or give me the reference stack where the same question lies.\r\n\r\n\r\nAccount.java\r\n\r\n        private Long id;\r\n        private int accountNumber;\r\n        private BigDecimal accountBalance;\r\n\r\n\r\nAccountRepository\r\n\r\n     public interface AccountDao extends CrudRepository&lt;Account, Long&gt; {\r\n      Account findByAccountNumber(int accountNumber);\r\n     }\r\n\r\n\r\nAccountService\r\n\r\n    public interface AccountService {\r\n    void deposit(int accountNumber, String accountType, double amount);\r\n    } // these fields are not related to class field, I took this to send data to API\r\n\r\nAccountServiceImpl\r\n\r\n    public void deposit(String accountType, int accountNumber, double amount) {\r\n        if (accountType.equalsIgnoreCase(&quot;Permanent&quot;)) {\r\n            Account account = accountRepository.findByAccountNumber(accountNumber);\r\n            account.setAccountBalance(account.getAccountBalance().add(new \r\n            BigDecimal(amount)));\r\n            accountDao.save(account);\r\n\r\n\r\nAccountController\r\n\r\n     @PostMapping(&quot;/deposit&quot;)\r\n       public ResponseEntity&lt;Object&gt; depositPost(@RequestBody double amount, String accountType, \r\n       int accountNumber, Account account){\r\n       accountService.deposit(accountType, accountNumber, \r\n       Double.parseDouble(String.valueOf(amount)));\r\n       return ResponseEntity.ok(&quot;Record has been entered&quot;);\r\n\r\n    }\r\n\r\nError I receive is:\r\n\r\n      2021-10-21 20:19:58.660  WARN 22892 --- [nio-8088-exec-1] \r\n      .w.s.m.s.DefaultHandlerExceptionResolver : Resolved \r\n      [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: \r\n      Cannot deserialize value of type `double` from Object value (token \r\n      `JsonToken.START_OBJECT`); nested exception is \r\n      com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of \r\n      type `double` from Object value (token `JsonToken.START_OBJECT`)\r\n      at [Source: (PushbackInputStream); line: 1, column: 1]]","title":"How to get values from generic parameter (not related to any class) in Spring boot","body":"<p>I'm new with SB &amp; trying to enhance my skill. I make a little API project, in which I've account numbers with account balance property, and goal of the project is to adding up amount in account balance property with corresponding account number.</p>\n<p>I'm stuck at the point where I need to get value from amount variable that is actually not the part of any class. Anyone can change the title if you think that it doesn't in according with the subject.\nI mention hereunder classes, you can find my efforts which is useless as it seems messed up.\nI'd grateful if anyone can correct or give me the reference stack where the same question lies.</p>\n<p>Account.java</p>\n<pre><code>    private Long id;\n    private int accountNumber;\n    private BigDecimal accountBalance;\n</code></pre>\n<p>AccountRepository</p>\n<pre><code> public interface AccountDao extends CrudRepository&lt;Account, Long&gt; {\n  Account findByAccountNumber(int accountNumber);\n }\n</code></pre>\n<p>AccountService</p>\n<pre><code>public interface AccountService {\nvoid deposit(int accountNumber, String accountType, double amount);\n} // these fields are not related to class field, I took this to send data to API\n</code></pre>\n<p>AccountServiceImpl</p>\n<pre><code>public void deposit(String accountType, int accountNumber, double amount) {\n    if (accountType.equalsIgnoreCase(&quot;Permanent&quot;)) {\n        Account account = accountRepository.findByAccountNumber(accountNumber);\n        account.setAccountBalance(account.getAccountBalance().add(new \n        BigDecimal(amount)));\n        accountDao.save(account);\n</code></pre>\n<p>AccountController</p>\n<pre><code> @PostMapping(&quot;/deposit&quot;)\n   public ResponseEntity&lt;Object&gt; depositPost(@RequestBody double amount, String accountType, \n   int accountNumber, Account account){\n   accountService.deposit(accountType, accountNumber, \n   Double.parseDouble(String.valueOf(amount)));\n   return ResponseEntity.ok(&quot;Record has been entered&quot;);\n\n}\n</code></pre>\n<p>Error I receive is:</p>\n<pre><code>  2021-10-21 20:19:58.660  WARN 22892 --- [nio-8088-exec-1] \n  .w.s.m.s.DefaultHandlerExceptionResolver : Resolved \n  [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: \n  Cannot deserialize value of type `double` from Object value (token \n  `JsonToken.START_OBJECT`); nested exception is \n  com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of \n  type `double` from Object value (token `JsonToken.START_OBJECT`)\n  at [Source: (PushbackInputStream); line: 1, column: 1]]\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1634848103,"post_id":69668229,"comment_id":123144245,"body_markdown":"Rather than show an empty list, show a [mcve] with your complete inputs and expected outputs","body":"Rather than show an empty list, show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with your complete inputs and expected outputs"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1634849758,"post_id":69668229,"comment_id":123144833,"body_markdown":"with your current model, you can&#39;t because the subordinates of a manager are employees, and an employee doesn&#39;t have subordinates","body":"with your current model, you can&#39;t because the subordinates of a manager are employees, and an employee doesn&#39;t have subordinates"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634848017,"creation_date":1634848017,"answer_id":69668376,"question_id":69668229,"body_markdown":"If I understood the question, you want to `flatMap` each subordinates&#39; list of subordinates\r\n\r\n\r\n    manager.getSubordinates().stream()\r\n        .flatMap(Employee::getSubordinates)\r\n        .collect(toList())\r\n\r\n","title":"Get a List hierarchy using java stream","body":"<p>If I understood the question, you want to <code>flatMap</code> each subordinates' list of subordinates</p>\n<pre><code>manager.getSubordinates().stream()\n    .flatMap(Employee::getSubordinates)\n    .collect(toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20984497,"reputation":5,"user_id":15866196,"display_name":"Artsiom Siarheyeu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634857879,"creation_date":1634854001,"answer_id":69669279,"question_id":69668229,"body_markdown":"I came up with this peace of code, and it seems to be doing the job.\r\n```\r\nprivate final List&lt;Employee&gt; subordinates = new ArrayList&lt;&gt;();\r\nprivate final List&lt;Employee&gt; temp = new ArrayList&lt;&gt;();\r\nprivate final List&lt;Employee&gt; allSubordinates = new ArrayList&lt;&gt;();\r\n\r\npublic List&lt;Employee&gt; getAllSubordinates()\r\n{\r\n\tallSubordinates.clear();\r\n\tallSubordinates.addAll(subordinates);\r\n\tsubordinates.stream()\r\n\t\t.filter(employee -&gt; employee instanceof Manager)\r\n\t\t.map(employee -&gt; ((Manager) employee).getAllSubordinates())\r\n\t\t.forEach(temp::addAll);\r\n\tallSubordinates.addAll(temp);\r\n\ttemp.clear();\r\n\treturn allSubordinates;\r\n}\r\n```","title":"Get a List hierarchy using java stream","body":"<p>I came up with this peace of code, and it seems to be doing the job.</p>\n<pre><code>private final List&lt;Employee&gt; subordinates = new ArrayList&lt;&gt;();\nprivate final List&lt;Employee&gt; temp = new ArrayList&lt;&gt;();\nprivate final List&lt;Employee&gt; allSubordinates = new ArrayList&lt;&gt;();\n\npublic List&lt;Employee&gt; getAllSubordinates()\n{\n    allSubordinates.clear();\n    allSubordinates.addAll(subordinates);\n    subordinates.stream()\n        .filter(employee -&gt; employee instanceof Manager)\n        .map(employee -&gt; ((Manager) employee).getAllSubordinates())\n        .forEach(temp::addAll);\n    allSubordinates.addAll(temp);\n    temp.clear();\n    return allSubordinates;\n}\n</code></pre>\n"}],"owner":{"account_id":20984497,"reputation":5,"user_id":15866196,"display_name":"Artsiom Siarheyeu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69669279,"answer_count":2,"score":0,"last_activity_date":1634857879,"creation_date":1634847164,"question_id":69668229,"body_markdown":"I have a `Manager` class that contains two Lists:\r\n```\r\npublic final class Manager extends Worker // Worker is an implementation of Employee class\r\n{\r\n    private final List&lt;Employee&gt; subordinates = new ArrayList&lt;&gt;();\r\n\t//private final List&lt;Employee&gt; allSubordinates = ?\r\n    //...\r\n}\r\n\t\r\n```\r\nFirst one contains instances of `Employee`\r\n```\r\npublic abstract class Employee extends Person\r\n{\r\n//...\r\npublic void setManager(Manager manager)\r\n    {\r\n        if(this.manager != null)\r\n        {\r\n            this.manager.getSubordinates().remove(this);\r\n        }\r\n        this.manager = manager;\r\n        this.manager.getSubordinates().add(this);\r\n    }\r\n}\r\n```\r\nEach Manager is an Employee, thus have their own Manager (null if it&#39;s a hierarchy top). I want my second list to contain all the nested Employees in the hierarchy in addition to direct subordinates.","title":"Get a List hierarchy using java stream","body":"<p>I have a <code>Manager</code> class that contains two Lists:</p>\n<pre><code>public final class Manager extends Worker // Worker is an implementation of Employee class\n{\n    private final List&lt;Employee&gt; subordinates = new ArrayList&lt;&gt;();\n    //private final List&lt;Employee&gt; allSubordinates = ?\n    //...\n}\n    \n</code></pre>\n<p>First one contains instances of <code>Employee</code></p>\n<pre><code>public abstract class Employee extends Person\n{\n//...\npublic void setManager(Manager manager)\n    {\n        if(this.manager != null)\n        {\n            this.manager.getSubordinates().remove(this);\n        }\n        this.manager = manager;\n        this.manager.getSubordinates().add(this);\n    }\n}\n</code></pre>\n<p>Each Manager is an Employee, thus have their own Manager (null if it's a hierarchy top). I want my second list to contain all the nested Employees in the hierarchy in addition to direct subordinates.</p>\n"},{"tags":["java","jms","ibm-mq"],"comments":[{"owner":{"account_id":7491687,"reputation":905,"user_id":5693152,"display_name":"geneSummons"},"score":1,"creation_date":1505489655,"post_id":46242936,"comment_id":79450063,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":4409920,"reputation":304,"user_id":3593170,"accept_rate":11,"display_name":"Neer1009"},"score":0,"creation_date":1505491155,"post_id":46242936,"comment_id":79450908,"body_markdown":"i have edited the question. did you understand now ?","body":"i have edited the question. did you understand now ?"},{"owner":{"account_id":7491687,"reputation":905,"user_id":5693152,"display_name":"geneSummons"},"score":0,"creation_date":1505496486,"post_id":46242936,"comment_id":79453634,"body_markdown":"Have you seen this: https://stackoverflow.com/questions/7915500/message-groups-in-websphere-mq ?  I think it means you are looking to leverage &quot;proprietary functionality&quot; that is dependent on the WebSphere MQ implementation of JMS, not standard JMS.  If you are using a WebSphere MQ implementation of JMS, you should be able to do what you want to do.  If not, you probably have to roll-your-own solution for the functionality you require.","body":"Have you seen this: <a href=\"https://stackoverflow.com/questions/7915500/message-groups-in-websphere-mq\" title=\"message groups in websphere mq\">stackoverflow.com/questions/7915500/&hellip;</a> ?  I think it means you are looking to leverage &quot;proprietary functionality&quot; that is dependent on the WebSphere MQ implementation of JMS, not standard JMS.  If you are using a WebSphere MQ implementation of JMS, you should be able to do what you want to do.  If not, you probably have to roll-your-own solution for the functionality you require."},{"owner":{"account_id":4409920,"reputation":304,"user_id":3593170,"accept_rate":11,"display_name":"Neer1009"},"score":0,"creation_date":1505533113,"post_id":46242936,"comment_id":79463742,"body_markdown":"@geneSummons what you were referring is getter program to filter based on groupId. I was referring to putter program to achieve it.","body":"@geneSummons what you were referring is getter program to filter based on groupId. I was referring to putter program to achieve it."}],"answers":[{"tags":[],"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634857735,"creation_date":1505498262,"answer_id":46245234,"question_id":46242936,"body_markdown":"There was a good IBM developerWorks blog written by David Currie in 2006 titled &quot;Grouping messages using the WebSphere MQ Java and JMS APIs&quot; that described how to do what you are asking, however it appears this was recently removed by IBM.\r\n\r\n---\r\n[Wayback Machine link to &quot;Grouping messages using the WebSphere MQ Java and JMS APIs&quot;](https://web.archive.org/web/20150425043049/http://www.ibm.com/developerworks/websphere/library/techarticles/0602_currie/0602_currie.html)\r\n\r\n---\r\n\r\nBelow is the information that was provided by David in the post, it appears the putting logic is much simpler to implement compared to the getting logic.  I am only including the putting logic code here since this is what you inquired about.  I reached out to David via email to ask if this blog will be republished.\r\n\r\n&gt; **Sending a message group**\r\n&gt; \r\n&gt; Let&#39;s start by looking at the sending application. As mentioned above,\r\n&gt; the put message option MQPMO_LOGICAL_ORDER was simply an instruction\r\n&gt; to the queue manager to automatically allocate message group\r\n&gt; identifiers and sequence numbers. The example in Listing 3 below\r\n&gt; demonstrates how, in the absence of this option in the JMS API, we can\r\n&gt; set these properties explicitly.\r\n&gt; \r\n&gt; Listing 3. Sending a message group using the WebSphere MQ JMS API\r\n&gt; \r\n&gt;     MQConnectionFactory factory = new MQConnectionFactory();\r\n&gt;     factory.setQueueManager(&quot;QM_host&quot;)\r\n&gt;     MQQueue destination = new MQQueue(&quot;default&quot;);\r\n&gt;     destination.setTargetClient(JMSC.MQJMS_CLIENT_NONJMS_MQ);\r\n&gt;     Connection connection = factory.createConnection();\r\n&gt;     Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n&gt;     MessageProducer producer = session.createProducer(destination);\r\n&gt;      \r\n&gt;     String groupId = &quot;ID:&quot; + new BigInteger(24 * 8, new Random()).toString(16);\r\n&gt;      \r\n&gt;     for (int i = 1; i &lt;= 5; i++) {\r\n&gt;      \r\n&gt;         TextMessage message = session.createTextMessage();\r\n&gt;         message.setStringProperty(&quot;JMSXGroupID&quot;, groupId);\r\n&gt;         message.setIntProperty(&quot;JMSXGroupSeq&quot;, i);\r\n&gt;      \r\n&gt;         if (i == 5) {\r\n&gt;             message.setBooleanProperty(&quot;JMS_IBM_Last_Msg_In_Group&quot;, true);\r\n&gt;         }\r\n&gt;      \r\n&gt;         message.setText(&quot;Message &quot; + i);\r\n&gt;         producer.send(message);\r\n&gt;      \r\n&gt;     }\r\n&gt;      \r\n&gt;     connection.close();\r\n\r\n","title":"How to implement Logical ordering in IBM MQ in Java?","body":"<p>There was a good IBM developerWorks blog written by David Currie in 2006 titled &quot;Grouping messages using the WebSphere MQ Java and JMS APIs&quot; that described how to do what you are asking, however it appears this was recently removed by IBM.</p>\n<hr />\n<p><a href=\"https://web.archive.org/web/20150425043049/http://www.ibm.com/developerworks/websphere/library/techarticles/0602_currie/0602_currie.html\" rel=\"nofollow noreferrer\">Wayback Machine link to &quot;Grouping messages using the WebSphere MQ Java and JMS APIs&quot;</a></p>\n<hr />\n<p>Below is the information that was provided by David in the post, it appears the putting logic is much simpler to implement compared to the getting logic.  I am only including the putting logic code here since this is what you inquired about.  I reached out to David via email to ask if this blog will be republished.</p>\n<blockquote>\n<p><strong>Sending a message group</strong></p>\n<p>Let's start by looking at the sending application. As mentioned above,\nthe put message option MQPMO_LOGICAL_ORDER was simply an instruction\nto the queue manager to automatically allocate message group\nidentifiers and sequence numbers. The example in Listing 3 below\ndemonstrates how, in the absence of this option in the JMS API, we can\nset these properties explicitly.</p>\n<p>Listing 3. Sending a message group using the WebSphere MQ JMS API</p>\n<pre><code>MQConnectionFactory factory = new MQConnectionFactory();\nfactory.setQueueManager(&quot;QM_host&quot;)\nMQQueue destination = new MQQueue(&quot;default&quot;);\ndestination.setTargetClient(JMSC.MQJMS_CLIENT_NONJMS_MQ);\nConnection connection = factory.createConnection();\nSession session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\nMessageProducer producer = session.createProducer(destination);\n \nString groupId = &quot;ID:&quot; + new BigInteger(24 * 8, new Random()).toString(16);\n \nfor (int i = 1; i &lt;= 5; i++) {\n \n    TextMessage message = session.createTextMessage();\n    message.setStringProperty(&quot;JMSXGroupID&quot;, groupId);\n    message.setIntProperty(&quot;JMSXGroupSeq&quot;, i);\n \n    if (i == 5) {\n        message.setBooleanProperty(&quot;JMS_IBM_Last_Msg_In_Group&quot;, true);\n    }\n \n    message.setText(&quot;Message &quot; + i);\n    producer.send(message);\n \n}\n \nconnection.close();\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":4409920,"reputation":304,"user_id":3593170,"accept_rate":11,"display_name":"Neer1009"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1930,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":46245234,"answer_count":1,"score":1,"last_activity_date":1634857735,"creation_date":1505489075,"question_id":46242936,"body_markdown":"We have a use case of putting a group of messages with a same groupId but differing by MessageSequenceNumber. This is used to group the messages for a logical ordering so that on the receiver side, receiver can group all of the messages based on group order. I was following the IBM MQ v7.5 Knowledge Center page &quot;[Message groups](https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_7.5.0/com.ibm.mq.dev.doc/q023060_.htm)&quot;.\r\n\r\nI have a code written to put the messages : -\r\n\r\n    public boolean writeMessage(String[] messages, String queueName) {          \r\n                \r\n                    Session session = getQueueConnection().createSession(true,\r\n                        Session.AUTO_ACKNOWLEDGE);\r\n                \r\n    \r\n                Destination destination = session.createQueue(queueName);\r\n                messageProducer = session.createProducer(destination);\r\n                for (int i = 0; i &lt; messages.length; i++) {\r\n                    TextMessage message = session.createTextMessage(messages[i]);\r\n                    messageProducer.send(message);\r\n                }\r\n    \r\n                // Commit the send (Actually put messages to Queue)\r\n                session.commit();\r\n                return true;\r\n    }\r\n\r\nNow , I want to add a 1 unique groupID to all the messages which are inside an array and add a sequence number(msgSeqNum) (1,2,3..) . How can i do it through the JMS API? I am looking for JMS version of the code on the IBM IIB v8 Knowledge center page &quot;[Sending messages in a WebSphere MQ message group](https://www.ibm.com/support/knowledgecenter/en/SSMKHH_9.0.0/com.ibm.etools.mft.doc/ac25710_.htm).","title":"How to implement Logical ordering in IBM MQ in Java?","body":"<p>We have a use case of putting a group of messages with a same groupId but differing by MessageSequenceNumber. This is used to group the messages for a logical ordering so that on the receiver side, receiver can group all of the messages based on group order. I was following the IBM MQ v7.5 Knowledge Center page \"<a href=\"https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_7.5.0/com.ibm.mq.dev.doc/q023060_.htm\" rel=\"nofollow noreferrer\">Message groups</a>\".</p>\n\n<p>I have a code written to put the messages : -</p>\n\n<pre><code>public boolean writeMessage(String[] messages, String queueName) {          \n\n                Session session = getQueueConnection().createSession(true,\n                    Session.AUTO_ACKNOWLEDGE);\n\n\n            Destination destination = session.createQueue(queueName);\n            messageProducer = session.createProducer(destination);\n            for (int i = 0; i &lt; messages.length; i++) {\n                TextMessage message = session.createTextMessage(messages[i]);\n                messageProducer.send(message);\n            }\n\n            // Commit the send (Actually put messages to Queue)\n            session.commit();\n            return true;\n}\n</code></pre>\n\n<p>Now , I want to add a 1 unique groupID to all the messages which are inside an array and add a sequence number(msgSeqNum) (1,2,3..) . How can i do it through the JMS API? I am looking for JMS version of the code on the IBM IIB v8 Knowledge center page \"<a href=\"https://www.ibm.com/support/knowledgecenter/en/SSMKHH_9.0.0/com.ibm.etools.mft.doc/ac25710_.htm\" rel=\"nofollow noreferrer\">Sending messages in a WebSphere MQ message group</a>.</p>\n"},{"tags":["java","spring","junit","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1634856069,"post_id":69669496,"comment_id":123146377,"body_markdown":"This isn&#39;t recursive. `checkOut` does not call itself. How does this code work? If the first call to `getList` is not empty, why would the next one be? Does `total` stop items being returned in further calls?","body":"This isn&#39;t recursive. <code>checkOut</code> does not call itself. How does this code work? If the first call to <code>getList</code> is not empty, why would the next one be? Does <code>total</code> stop items being returned in further calls?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1634856200,"post_id":69669496,"comment_id":123146401,"body_markdown":"(also please post your actual code, as what you have posted doesn&#39;t compile)","body":"(also please post your actual code, as what you have posted doesn&#39;t compile)"},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1634857304,"post_id":69669496,"comment_id":123146612,"body_markdown":"2 separate test methods","body":"2 separate test methods"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634857058,"creation_date":1634856664,"answer_id":69669591,"question_id":69669496,"body_markdown":"You can chain `thenReturn`, so that subsequent calls to the mock return different things:\r\n\r\n```java\r\npublic class GroceryServiceTest {\r\n    @Test\r\n    public void checkout() {\r\n        GroceryService.GroceryListDao groceryListDao = mock(GroceryService.GroceryListDao.class);\r\n        GroceryService groceryService = new GroceryService(groceryListDao);\r\n        List&lt;GroceryService.Cereal&gt; cereal = new ArrayList&lt;&gt;();\r\n        GroceryService.Cereal x = new GroceryService.Cereal();\r\n        cereal.add(x);\r\n// first return a list with one item, then an empty list\r\n        when(groceryListDao.getList(anyString(), anyString())).thenReturn(cereal).thenReturn(Collections.emptyList());\r\n        groceryService.checkout(&quot;10&quot;, &quot;A5ALV350IIXL&quot;);\r\n        verify(groceryListDao, times(1)).total();\r\n    }\r\n}\r\n```\r\nThis is not a perfect test, as the mock would return an empty list without an intervening call to `total`.\r\n\r\nYou can simulate the semantics of your DAO like this:\r\n```java\r\npublic class GroceryServiceTest {\r\n    @Test\r\n    public void checkout() {\r\n        GroceryService.GroceryListDao groceryListDao = mock(GroceryService.GroceryListDao.class);\r\n        GroceryService groceryService = new GroceryService(groceryListDao);\r\n        List&lt;GroceryService.Cereal&gt; cereal = new ArrayList&lt;&gt;();\r\n        AtomicBoolean totalCalled = new AtomicBoolean(false);\r\n        GroceryService.Cereal x = new GroceryService.Cereal();\r\n        cereal.add(x);\r\n        when(groceryListDao.getList(anyString(), anyString())).thenAnswer(new Answer&lt;List&lt;GroceryService.Cereal&gt;&gt;() {\r\n\r\n            @Override\r\n            public List&lt;GroceryService.Cereal&gt; answer(InvocationOnMock invocationOnMock) throws Throwable {\r\n                if (totalCalled.get()) {\r\n                    return Collections.emptyList();\r\n                } else {\r\n                    return cereal;\r\n                }\r\n            }\r\n        });\r\n        doAnswer(new Answer&lt;Void&gt;() {\r\n            @Override\r\n            public Void answer(InvocationOnMock invocationOnMock) throws Throwable {\r\n                totalCalled.set(true);\r\n                return null;\r\n            }\r\n        }).when(groceryListDao).total();\r\n        groceryService.checkout(&quot;10&quot;, &quot;A5ALV350IIXL&quot;);\r\n        verify(groceryListDao, times(1)).total();\r\n    }\r\n}\r\n```\r\n\r\nFor completeness, here&#39;s the `GroceryService` code:\r\n```java\r\nimport java.util.List;\r\n\r\npublic class GroceryService {\r\n    final GroceryService.GroceryListDao groceryListDao;\r\n\r\n    public GroceryService(GroceryService.GroceryListDao groceryListDao) {\r\n        this.groceryListDao = groceryListDao;\r\n    }\r\n    interface GroceryListDao {\r\n        List&lt;Cereal&gt; getList(String maxItems, String code);\r\n        void total();\r\n    }\r\n    static class Cereal {}\r\n    public void checkout(String maxItems, String code){\r\n        List&lt;Cereal&gt; groceryList;\r\n        groceryList = groceryListDao.getList(maxItems, code);\r\n        while (!groceryList.isEmpty()){\r\n            groceryListDao.total();\r\n            //other logic\r\n            groceryList = groceryListDao.getList(maxItems, code);\r\n        }\r\n    }\r\n}\r\n```","title":"How can I get two method calls on the same Mock to return different values?","body":"<p>You can chain <code>thenReturn</code>, so that subsequent calls to the mock return different things:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GroceryServiceTest {\n    @Test\n    public void checkout() {\n        GroceryService.GroceryListDao groceryListDao = mock(GroceryService.GroceryListDao.class);\n        GroceryService groceryService = new GroceryService(groceryListDao);\n        List&lt;GroceryService.Cereal&gt; cereal = new ArrayList&lt;&gt;();\n        GroceryService.Cereal x = new GroceryService.Cereal();\n        cereal.add(x);\n// first return a list with one item, then an empty list\n        when(groceryListDao.getList(anyString(), anyString())).thenReturn(cereal).thenReturn(Collections.emptyList());\n        groceryService.checkout(&quot;10&quot;, &quot;A5ALV350IIXL&quot;);\n        verify(groceryListDao, times(1)).total();\n    }\n}\n</code></pre>\n<p>This is not a perfect test, as the mock would return an empty list without an intervening call to <code>total</code>.</p>\n<p>You can simulate the semantics of your DAO like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GroceryServiceTest {\n    @Test\n    public void checkout() {\n        GroceryService.GroceryListDao groceryListDao = mock(GroceryService.GroceryListDao.class);\n        GroceryService groceryService = new GroceryService(groceryListDao);\n        List&lt;GroceryService.Cereal&gt; cereal = new ArrayList&lt;&gt;();\n        AtomicBoolean totalCalled = new AtomicBoolean(false);\n        GroceryService.Cereal x = new GroceryService.Cereal();\n        cereal.add(x);\n        when(groceryListDao.getList(anyString(), anyString())).thenAnswer(new Answer&lt;List&lt;GroceryService.Cereal&gt;&gt;() {\n\n            @Override\n            public List&lt;GroceryService.Cereal&gt; answer(InvocationOnMock invocationOnMock) throws Throwable {\n                if (totalCalled.get()) {\n                    return Collections.emptyList();\n                } else {\n                    return cereal;\n                }\n            }\n        });\n        doAnswer(new Answer&lt;Void&gt;() {\n            @Override\n            public Void answer(InvocationOnMock invocationOnMock) throws Throwable {\n                totalCalled.set(true);\n                return null;\n            }\n        }).when(groceryListDao).total();\n        groceryService.checkout(&quot;10&quot;, &quot;A5ALV350IIXL&quot;);\n        verify(groceryListDao, times(1)).total();\n    }\n}\n</code></pre>\n<p>For completeness, here's the <code>GroceryService</code> code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\npublic class GroceryService {\n    final GroceryService.GroceryListDao groceryListDao;\n\n    public GroceryService(GroceryService.GroceryListDao groceryListDao) {\n        this.groceryListDao = groceryListDao;\n    }\n    interface GroceryListDao {\n        List&lt;Cereal&gt; getList(String maxItems, String code);\n        void total();\n    }\n    static class Cereal {}\n    public void checkout(String maxItems, String code){\n        List&lt;Cereal&gt; groceryList;\n        groceryList = groceryListDao.getList(maxItems, code);\n        while (!groceryList.isEmpty()){\n            groceryListDao.total();\n            //other logic\n            groceryList = groceryListDao.getList(maxItems, code);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11682280,"reputation":93,"user_id":8553505,"display_name":"Brandon Hu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69669591,"answer_count":1,"score":0,"last_activity_date":1634857143,"creation_date":1634855771,"question_id":69669496,"body_markdown":"I have a function that I am trying to mock that contains recursive logic in the form of a while loop and i&#39;m trying to figure out how to access the inner part of the while loop without looping forever. \r\n    \r\n    //this is supposed to go through all the items in the grocery list given the parameters until the groceries are all checked out \r\n    public void checkOut(String maxItems, String code){\r\n        List&lt;cereal&gt; groceryList;\r\n        groceryList = groceryListDao.getList(String maxItems, String code);\r\n        while (!groceryList.isEmpty()){\r\n        groceryListDao.total();\r\n        //other logic\r\n        groceryList = groceryListDao.getList(String maxItems, String code);\r\n        }\r\n    }\r\n\r\nI am able to write a junit test to verify that the while loop is never entered if the grocery list is empty. However, i&#39;m not sure how to write code to test that the while loop is entered because I  need to mock groceryListDao.getList to not be empty to enter the while loop and then empty to exit the while loop. I don&#39;t know how to do both.\r\n\r\n\r\n    @Test\r\n    public void checkout() {\r\n        List&lt;Cereal&gt; cereal = new ArrayList&lt;&gt;();\r\n        Cereal x = new Cereal();\r\n        cereal.add(x);\r\n        when(groceryListDao.getList(anyString(), anyString())).thenReturn(cereal);\r\n        groceryService.checkout(&quot;10&quot;, &quot;A5ALV350IIXL&quot;);\r\n        verify(groceryListDao, times(1).total());\r\n    }\r\n\r\nHow do I verify that total() is being called inside the loop without getting stuck?","title":"How can I get two method calls on the same Mock to return different values?","body":"<p>I have a function that I am trying to mock that contains recursive logic in the form of a while loop and i'm trying to figure out how to access the inner part of the while loop without looping forever.</p>\n<pre><code>//this is supposed to go through all the items in the grocery list given the parameters until the groceries are all checked out \npublic void checkOut(String maxItems, String code){\n    List&lt;cereal&gt; groceryList;\n    groceryList = groceryListDao.getList(String maxItems, String code);\n    while (!groceryList.isEmpty()){\n    groceryListDao.total();\n    //other logic\n    groceryList = groceryListDao.getList(String maxItems, String code);\n    }\n}\n</code></pre>\n<p>I am able to write a junit test to verify that the while loop is never entered if the grocery list is empty. However, i'm not sure how to write code to test that the while loop is entered because I  need to mock groceryListDao.getList to not be empty to enter the while loop and then empty to exit the while loop. I don't know how to do both.</p>\n<pre><code>@Test\npublic void checkout() {\n    List&lt;Cereal&gt; cereal = new ArrayList&lt;&gt;();\n    Cereal x = new Cereal();\n    cereal.add(x);\n    when(groceryListDao.getList(anyString(), anyString())).thenReturn(cereal);\n    groceryService.checkout(&quot;10&quot;, &quot;A5ALV350IIXL&quot;);\n    verify(groceryListDao, times(1).total());\n}\n</code></pre>\n<p>How do I verify that total() is being called inside the loop without getting stuck?</p>\n"},{"tags":["java","android","android-canvas"],"answers":[{"tags":[],"owner":{"account_id":2029842,"reputation":18250,"user_id":1813858,"display_name":"iTech"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1359636280,"creation_date":1359635384,"answer_id":14625834,"question_id":14625707,"body_markdown":"You have only one ` m_Paint` object, so  when `onDraw` is called it will draw **all** paths using the last color you have set.\r\n\r\nYou can store the color for each path and inside `onDraw` you have to set the color *before* drawing the path\r\n\r\n**Edit**\r\n\r\nHere is the outline for a quick solution, night not be the most elegant one:\r\n\r\n* A `HashMap` with the path as key and the Color as value\r\n* In `onClickPenColorButton` save the color to an instance say `currentColor`\r\n* In `touch_start` you can push the path object with the `currentColor` into the `HashMap`\r\n* Modify onDraw to get the color for each path. **This code is only for illustration** so modify it as needed.\r\n\r\n\r\n        protected void onDraw(Canvas canvas)\r\n        {                           \r\n           for (Path p : paths)\r\n           {  \r\n              // Assuming your HashMap variable is pathColor\r\n              m_Paint.setColor(pathColor.get(p));\r\n\r\n              canvas.drawPath(p, m_Paint);\r\n           }\r\n        }","title":"Drawing lines with different color in Canvas","body":"<p>You have only one <code>m_Paint</code> object, so  when <code>onDraw</code> is called it will draw <strong>all</strong> paths using the last color you have set.</p>\n\n<p>You can store the color for each path and inside <code>onDraw</code> you have to set the color <em>before</em> drawing the path</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Here is the outline for a quick solution, night not be the most elegant one:</p>\n\n<ul>\n<li>A <code>HashMap</code> with the path as key and the Color as value</li>\n<li>In <code>onClickPenColorButton</code> save the color to an instance say <code>currentColor</code></li>\n<li>In <code>touch_start</code> you can push the path object with the <code>currentColor</code> into the <code>HashMap</code></li>\n<li><p>Modify onDraw to get the color for each path. <strong>This code is only for illustration</strong> so modify it as needed.</p>\n\n<pre><code>protected void onDraw(Canvas canvas)\n{                           \n   for (Path p : paths)\n   {  \n      // Assuming your HashMap variable is pathColor\n      m_Paint.setColor(pathColor.get(p));\n\n      canvas.drawPath(p, m_Paint);\n   }\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20868150,"reputation":89,"user_id":15328720,"display_name":"abbujaansboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634857134,"creation_date":1634857134,"answer_id":69669644,"question_id":14625707,"body_markdown":"You will have to create seperate objects for both PATHs and PAINTs,then create properties of each paint object separately. And then in onDraw function, you&#39;ll have to specify the canvas drawCircle method for each path and its corresponding paint. \r\n\r\nFor example, I had a similar issue and it took me a while to solve it. \r\n\r\nFirst I wanted to have a view where I can draw a line. The code was:\r\n\r\n```\r\npackage com.example.ex13_singletouch\r\n\r\nimport android.content.Context\r\nimport android.graphics.*\r\nimport android.view.MotionEvent\r\nimport android.view.View\r\n\r\nclass SingleTouchView(context: Context): View(context) {    //AFTER COLON : WAS SOMETHING THAT WOULD BE RETURNED\r\n    private val paint= Paint()\r\n    private val path = Path()\r\n    //TO CREATE THE X-Y POSITION OF THE FINGER ON THE SCREEN\r\n    private var evenX: Float = 0F\r\n    private var evenY: Float = 0F\r\n    private var fingerDown = false  //CHECKS IF YOUR FINGER IS TOUCHING THE SCREEN OR NOT\r\n\r\n    //INITIALIZATION\r\n    init {\r\n        paint.isAntiAlias = true\r\n        paint.strokeWidth = 6F\r\n        paint.strokeJoin = Paint.Join.ROUND\r\n        paint.color = Color.BLACK\r\n        paint.style = Paint.Style.STROKE\r\n    }\r\n\r\n    override fun onTouchEvent(event: MotionEvent?): Boolean {\r\n        evenX = event!!.x\r\n        evenY = event!!.y\r\n\r\n        when(event.action){\r\n            MotionEvent.ACTION_DOWN -&gt; {\r\n                fingerDown = true\r\n                path.moveTo(evenX,evenY)\r\n                return true\r\n            }\r\n            MotionEvent.ACTION_MOVE -&gt; {\r\n                path.lineTo(evenX,evenY)    //WHEN YOU MOVE YOUR FINGER ON THE SCREEM, X AND Y KEEPS UPDATING AND IT DRAWS A LINE\r\n            }\r\n            MotionEvent.ACTION_UP -&gt; {\r\n                fingerDown = false\r\n            }\r\n            else -&gt; return false\r\n        }\r\n        invalidate()    //JUMP TO THE ON DRAW TO DRAW SOMETHING THAT WE DEFINE\r\n        return super.onTouchEvent(event)\r\n    }\r\n\r\n    //THIS FUNCTION SHAPES OUT THE THING WE DRAW. MEANS IT WILL MAKE A LINE STRAIGH OR WILL MAKE A CIRCLE ROUND\r\n    override fun onDraw(canvas: Canvas?) {\r\n        super.onDraw(canvas)\r\n        canvas!!.drawPath(path, paint)\r\n        if (fingerDown){\r\n            canvas.drawCircle(evenX, evenY, 10F, paint)\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThen I planned to draw lines that could have 3 differnt colours - Black, Blue and Red. Here is my updated code \r\n\r\n```\r\npackage com.example.ex13_singletouch\r\n\r\nimport android.content.Context\r\nimport android.graphics.*\r\nimport android.view.MotionEvent\r\nimport android.view.View\r\nimport java.util.*\r\nimport kotlin.collections.ArrayList\r\n\r\nclass SingleTouchView(context: Context): View(context) {    //AFTER COLON : WAS SOMETHING THAT WOULD BE RETURNED\r\n    //private val paint= Paint()\r\n    private val paint1= Paint()\r\n    private val paint2= Paint()\r\n    private val paint3= Paint()\r\n    //private val path = Path()\r\n    private val path1 = Path()\r\n    private val path2 = Path()\r\n    private val path3 = Path()\r\n    //TO CREATE THE X-Y POSITION OF THE FINGER ON THE SCREEN\r\n    private var evenX: Float = 0F\r\n    private var evenY: Float = 0F\r\n    private var fingerDown = false  //CHECKS IF YOUR FINGER IS TOUCHING THE SCREEN OR NOT\r\n    var colorControl = 1\r\n\r\n    //INITIALIZATION\r\n    init {\r\n        paint1.isAntiAlias = true\r\n        paint1.strokeWidth = 6F\r\n        paint1.strokeJoin = Paint.Join.ROUND\r\n        paint1.color = Color.BLACK\r\n        paint1.style = Paint.Style.STROKE\r\n\r\n        paint2.isAntiAlias = true\r\n        paint2.strokeWidth = 6F\r\n        paint2.strokeJoin = Paint.Join.ROUND\r\n        paint2.color = Color.BLUE\r\n        paint2.style = Paint.Style.STROKE\r\n\r\n        paint3.isAntiAlias = true\r\n        paint3.strokeWidth = 6F\r\n        paint3.strokeJoin = Paint.Join.ROUND\r\n        paint3.color = Color.RED\r\n        paint3.style = Paint.Style.STROKE\r\n    }\r\n\r\n    override fun onTouchEvent(event: MotionEvent?): Boolean {\r\n        evenX = event!!.x\r\n        evenY = event!!.y\r\n\r\n        when(event.action){\r\n            MotionEvent.ACTION_DOWN -&gt; {\r\n                fingerDown = true\r\n                //path.moveTo(evenX,evenY)\r\n                if (colorControl==1){\r\n                    path1.moveTo(evenX,evenY)\r\n                }\r\n                if (colorControl==2){\r\n                    path2.moveTo(evenX,evenY)\r\n                }\r\n                if (colorControl==3){\r\n                    path3.moveTo(evenX,evenY)\r\n                }\r\n                return true\r\n            }\r\n            MotionEvent.ACTION_MOVE -&gt; {\r\n                //path.lineTo(evenX,evenY)    //WHEN YOU MOVE YOUR FINGER ON THE SCREEM, X AND Y KEEPS UPDATING AND IT DRAWS A LINE\r\n                if (colorControl==1){\r\n                    path1.lineTo(evenX,evenY)\r\n                }\r\n                if (colorControl==2){\r\n                    path2.lineTo(evenX,evenY)\r\n                }\r\n                if (colorControl==3){\r\n                    path3.lineTo(evenX,evenY)\r\n                }\r\n            }\r\n            MotionEvent.ACTION_UP -&gt; {\r\n                fingerDown = false\r\n                if (colorControl==3){\r\n                    colorControl=1\r\n                }\r\n                else {\r\n                    colorControl++\r\n                }\r\n            }\r\n            else -&gt; return false\r\n        }\r\n        invalidate()    //JUMP TO THE ON DRAW TO DRAW SOMETHING THAT WE DEFINE\r\n        return super.onTouchEvent(event)\r\n    }\r\n\r\n    //THIS FUNCTION SHAPES OUT THE THING WE DRAW. MEANS IT WILL MAKE A LINE STRAIGH OR WILL MAKE A CIRCLE ROUND\r\n    override fun onDraw(canvas: Canvas?) {\r\n        super.onDraw(canvas)\r\n        canvas!!.drawPath(path1, paint1)\r\n        canvas!!.drawPath(path2, paint2)\r\n        canvas!!.drawPath(path3, paint3)\r\n    }\r\n}\r\n```\r\n\r\nYou can look at the differences between these 2 codes and see for the changes I made. I hope this is helpful.","title":"Drawing lines with different color in Canvas","body":"<p>You will have to create seperate objects for both PATHs and PAINTs,then create properties of each paint object separately. And then in onDraw function, you'll have to specify the canvas drawCircle method for each path and its corresponding paint.</p>\n<p>For example, I had a similar issue and it took me a while to solve it.</p>\n<p>First I wanted to have a view where I can draw a line. The code was:</p>\n<pre><code>package com.example.ex13_singletouch\n\nimport android.content.Context\nimport android.graphics.*\nimport android.view.MotionEvent\nimport android.view.View\n\nclass SingleTouchView(context: Context): View(context) {    //AFTER COLON : WAS SOMETHING THAT WOULD BE RETURNED\n    private val paint= Paint()\n    private val path = Path()\n    //TO CREATE THE X-Y POSITION OF THE FINGER ON THE SCREEN\n    private var evenX: Float = 0F\n    private var evenY: Float = 0F\n    private var fingerDown = false  //CHECKS IF YOUR FINGER IS TOUCHING THE SCREEN OR NOT\n\n    //INITIALIZATION\n    init {\n        paint.isAntiAlias = true\n        paint.strokeWidth = 6F\n        paint.strokeJoin = Paint.Join.ROUND\n        paint.color = Color.BLACK\n        paint.style = Paint.Style.STROKE\n    }\n\n    override fun onTouchEvent(event: MotionEvent?): Boolean {\n        evenX = event!!.x\n        evenY = event!!.y\n\n        when(event.action){\n            MotionEvent.ACTION_DOWN -&gt; {\n                fingerDown = true\n                path.moveTo(evenX,evenY)\n                return true\n            }\n            MotionEvent.ACTION_MOVE -&gt; {\n                path.lineTo(evenX,evenY)    //WHEN YOU MOVE YOUR FINGER ON THE SCREEM, X AND Y KEEPS UPDATING AND IT DRAWS A LINE\n            }\n            MotionEvent.ACTION_UP -&gt; {\n                fingerDown = false\n            }\n            else -&gt; return false\n        }\n        invalidate()    //JUMP TO THE ON DRAW TO DRAW SOMETHING THAT WE DEFINE\n        return super.onTouchEvent(event)\n    }\n\n    //THIS FUNCTION SHAPES OUT THE THING WE DRAW. MEANS IT WILL MAKE A LINE STRAIGH OR WILL MAKE A CIRCLE ROUND\n    override fun onDraw(canvas: Canvas?) {\n        super.onDraw(canvas)\n        canvas!!.drawPath(path, paint)\n        if (fingerDown){\n            canvas.drawCircle(evenX, evenY, 10F, paint)\n        }\n    }\n\n}\n\n</code></pre>\n<p>Then I planned to draw lines that could have 3 differnt colours - Black, Blue and Red. Here is my updated code</p>\n<pre><code>package com.example.ex13_singletouch\n\nimport android.content.Context\nimport android.graphics.*\nimport android.view.MotionEvent\nimport android.view.View\nimport java.util.*\nimport kotlin.collections.ArrayList\n\nclass SingleTouchView(context: Context): View(context) {    //AFTER COLON : WAS SOMETHING THAT WOULD BE RETURNED\n    //private val paint= Paint()\n    private val paint1= Paint()\n    private val paint2= Paint()\n    private val paint3= Paint()\n    //private val path = Path()\n    private val path1 = Path()\n    private val path2 = Path()\n    private val path3 = Path()\n    //TO CREATE THE X-Y POSITION OF THE FINGER ON THE SCREEN\n    private var evenX: Float = 0F\n    private var evenY: Float = 0F\n    private var fingerDown = false  //CHECKS IF YOUR FINGER IS TOUCHING THE SCREEN OR NOT\n    var colorControl = 1\n\n    //INITIALIZATION\n    init {\n        paint1.isAntiAlias = true\n        paint1.strokeWidth = 6F\n        paint1.strokeJoin = Paint.Join.ROUND\n        paint1.color = Color.BLACK\n        paint1.style = Paint.Style.STROKE\n\n        paint2.isAntiAlias = true\n        paint2.strokeWidth = 6F\n        paint2.strokeJoin = Paint.Join.ROUND\n        paint2.color = Color.BLUE\n        paint2.style = Paint.Style.STROKE\n\n        paint3.isAntiAlias = true\n        paint3.strokeWidth = 6F\n        paint3.strokeJoin = Paint.Join.ROUND\n        paint3.color = Color.RED\n        paint3.style = Paint.Style.STROKE\n    }\n\n    override fun onTouchEvent(event: MotionEvent?): Boolean {\n        evenX = event!!.x\n        evenY = event!!.y\n\n        when(event.action){\n            MotionEvent.ACTION_DOWN -&gt; {\n                fingerDown = true\n                //path.moveTo(evenX,evenY)\n                if (colorControl==1){\n                    path1.moveTo(evenX,evenY)\n                }\n                if (colorControl==2){\n                    path2.moveTo(evenX,evenY)\n                }\n                if (colorControl==3){\n                    path3.moveTo(evenX,evenY)\n                }\n                return true\n            }\n            MotionEvent.ACTION_MOVE -&gt; {\n                //path.lineTo(evenX,evenY)    //WHEN YOU MOVE YOUR FINGER ON THE SCREEM, X AND Y KEEPS UPDATING AND IT DRAWS A LINE\n                if (colorControl==1){\n                    path1.lineTo(evenX,evenY)\n                }\n                if (colorControl==2){\n                    path2.lineTo(evenX,evenY)\n                }\n                if (colorControl==3){\n                    path3.lineTo(evenX,evenY)\n                }\n            }\n            MotionEvent.ACTION_UP -&gt; {\n                fingerDown = false\n                if (colorControl==3){\n                    colorControl=1\n                }\n                else {\n                    colorControl++\n                }\n            }\n            else -&gt; return false\n        }\n        invalidate()    //JUMP TO THE ON DRAW TO DRAW SOMETHING THAT WE DEFINE\n        return super.onTouchEvent(event)\n    }\n\n    //THIS FUNCTION SHAPES OUT THE THING WE DRAW. MEANS IT WILL MAKE A LINE STRAIGH OR WILL MAKE A CIRCLE ROUND\n    override fun onDraw(canvas: Canvas?) {\n        super.onDraw(canvas)\n        canvas!!.drawPath(path1, paint1)\n        canvas!!.drawPath(path2, paint2)\n        canvas!!.drawPath(path3, paint3)\n    }\n}\n</code></pre>\n<p>You can look at the differences between these 2 codes and see for the changes I made. I hope this is helpful.</p>\n"}],"owner":{"account_id":445783,"reputation":1667,"user_id":838432,"accept_rate":45,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4491,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14625834,"answer_count":2,"score":3,"last_activity_date":1634857134,"creation_date":1359634962,"question_id":14625707,"body_markdown":"This is the first time I am working with the Canvas class in Android.\r\n\r\nWhat I want is to draw lines in different colors on the canvas. I have an issue I cannot resolve.\r\n\r\nI draw the first line in black, after I change the color to red and try to draw a second line in red, and the first line drawn in black color changes to red.\r\n\r\nCode I used is:\r\n\r\n    import java.util.ArrayList;\r\n    import android.content.Context;\r\n    import android.graphics.Canvas;\r\n    import android.graphics.Color;\r\n    import android.graphics.Paint;\r\n    import android.graphics.Path;\r\n    import android.util.Pair;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.view.View.OnTouchListener;\r\n    \r\n    public class DrawView extends View implements OnTouchListener \r\n    {\r\n    \tprivate Canvas  \tm_Canvas;\r\n    \t\r\n    \tprivate Path    \tm_Path;\r\n    \t\r\n    \tprivate Paint       m_Paint;\r\n    \t\r\n    \tArrayList&lt;Pair&lt;Path, Paint&gt;&gt; paths = new ArrayList&lt;Pair&lt;Path, Paint&gt;&gt;();\r\n    \t\r\n    \tArrayList&lt;Pair&lt;Path, Paint&gt;&gt; undonePaths = new ArrayList&lt;Pair&lt;Path, Paint&gt;&gt;(); \r\n    \t\r\n    \tprivate float mX, mY;\r\n    \t\r\n    \tprivate static final float TOUCH_TOLERANCE = 4;\r\n    \t\r\n    //\tBitmap canvasBackground;\r\n    \t\r\n    \tpublic DrawView(Context context) \r\n    \t{\r\n    \t\tsuper(context);\r\n    \t\tsetFocusable(true);\r\n    \t\tsetFocusableInTouchMode(true);      \r\n    \t\tthis.setOnTouchListener(this);\r\n    \t\t\r\n    \t\tonCanvasInitialization();\r\n    \t}      \r\n    \t\r\n    \tpublic void onCanvasInitialization()\r\n    \t{\r\n    \t\tm_Paint = new Paint();\r\n    \t\tm_Paint.setAntiAlias(true);\r\n    \t\tm_Paint.setDither(true);\r\n    \t\tm_Paint.setColor(Color.parseColor(&quot;#37A1D1&quot;));\r\n    \t\tm_Paint.setStyle(Paint.Style.STROKE);\r\n    \t\tm_Paint.setStrokeJoin(Paint.Join.ROUND);\r\n    \t\tm_Paint.setStrokeCap(Paint.Cap.ROUND);\r\n    \t\tm_Paint.setStrokeWidth(2);\t\t\r\n    \t\t\r\n    \t\tm_Canvas = new Canvas();\r\n    \t\t\r\n    \t\tm_Path = new Path();\r\n    \t\tPaint newPaint = new Paint(m_Paint);\r\n    \t\tpaths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));\r\n    \t\t\r\n    //\t\tBitmap canvas = BitmapFactory.decodeResource(getResources(), R.drawable.theme1_img_note).copy(Bitmap.Config.ARGB_8888, true);\r\n    //\t\tcanvasBackground = Bitmap.createBitmap(canvas.getWidth(), canvas.getHeight(), Bitmap.Config.ARGB_8888 );\r\n    //\t\tm_Canvas = new Canvas(canvasBackground);\t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void onSizeChanged(int w, int h, int oldw, int oldh) \r\n    \t{\r\n    \t\tsuper.onSizeChanged(w, h, oldw, oldh);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tprotected void onDraw(Canvas canvas)\r\n    \t{      \r\n    \t\tfor (Pair&lt;Path, Paint&gt; p : paths) \r\n    \t\t{\r\n    \t\t    canvas.drawPath(p.first, p.second);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic boolean onTouch(View arg0, MotionEvent event) \r\n    \t{\r\n    \t\tfloat x = event.getX();\r\n    \t\tfloat y = event.getY();\r\n    \r\n    \t\tswitch (event.getAction()) \r\n    \t\t{\r\n    \t\t\tcase MotionEvent.ACTION_DOWN:\r\n    \t\t\ttouch_start(x, y);\r\n    \t\t\tinvalidate();\r\n    \t\t\tbreak;\r\n    \t\t\tcase MotionEvent.ACTION_MOVE:\r\n    \t\t\ttouch_move(x, y);\r\n    \t\t\tinvalidate();\r\n    \t\t\tbreak;\r\n    \t\t\tcase MotionEvent.ACTION_UP:\r\n    \t\t\ttouch_up();\r\n    \t\t\tinvalidate();\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tprivate void touch_start(float x, float y) \r\n    \t{\r\n    \t\tm_Path.reset();\r\n    \t\tm_Path.moveTo(x, y);\r\n    \t\tmX = x;\r\n    \t\tmY = y;\r\n    \t}\r\n    \t\r\n    \tprivate void touch_move(float x, float y) \r\n    \t{\r\n    \t\tfloat dx = Math.abs(x - mX);\r\n    \t\tfloat dy = Math.abs(y - mY);\r\n    \t\tif (dx &gt;= TOUCH_TOLERANCE || dy &gt;= TOUCH_TOLERANCE) \r\n    \t\t{\r\n    \t\t\tm_Path.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);\r\n    \t\t\tmX = x;\r\n    \t\t\tmY = y;\r\n    \t\t}\r\n    \t}\r\n    \tprivate void touch_up() \r\n    \t{\r\n    \t\tm_Path.lineTo(mX, mY);\r\n    \t\t\t\t\r\n    \t\t// commit the path to our offscreen\r\n    \t\tm_Canvas.drawPath(m_Path, m_Paint);\r\n    \t\t\r\n    \t\t// kill this so we don&#39;t double draw            \r\n    \t\tm_Path = new Path();\r\n    \t\tPaint newPaint = new Paint(m_Paint); // Clones the mPaint object\r\n    \t\tpaths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));\r\n    \t}\r\n    \r\n    \tpublic void onClickPenButton(int penWidth) \r\n    \t{ \r\n    \t\tm_Paint.setStrokeWidth(penWidth);\r\n    \r\n    \t\tm_Path = new Path();\r\n    \t\tPaint newPaint = new Paint(m_Paint); // Clones the mPaint object\r\n    \t\tpaths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));\t\t\t\t\r\n    \t}\r\n    \t\r\n    \tpublic void onClickPenColorButton(int penColor) \r\n    \t{ \t\t\r\n    \t\tm_Paint.setColor(penColor);\r\n    \r\n    \t\tPaint newPaint = new Paint(m_Paint); // Clones the mPaint object\r\n    \t\tpaths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));\r\n    \t}\r\n    \t\r\n    \tpublic void onClickUndo () \r\n    \t{ \r\n    \t\tif (paths.size()&gt;0) \r\n    \t\t{ \r\n    \t\t\tundonePaths.add(paths.remove(paths.size()-1));\r\n    \t\t\tinvalidate();\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void onClickRedo ()\r\n    \t{\r\n    \t\tif (undonePaths.size()&gt;0) \r\n    \t\t{ \r\n    \t\t\tpaths.add(undonePaths.remove(undonePaths.size()-1)); \r\n    \t\t\tinvalidate();\r\n    \t\t} \r\n    \t\telse \r\n    \t\t{\r\n    \r\n    \t\t}\r\n    \t}\r\n    }","title":"Drawing lines with different color in Canvas","body":"<p>This is the first time I am working with the Canvas class in Android.</p>\n\n<p>What I want is to draw lines in different colors on the canvas. I have an issue I cannot resolve.</p>\n\n<p>I draw the first line in black, after I change the color to red and try to draw a second line in red, and the first line drawn in black color changes to red.</p>\n\n<p>Code I used is:</p>\n\n<pre><code>import java.util.ArrayList;\nimport android.content.Context;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.graphics.Path;\nimport android.util.Pair;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.View.OnTouchListener;\n\npublic class DrawView extends View implements OnTouchListener \n{\n    private Canvas      m_Canvas;\n\n    private Path        m_Path;\n\n    private Paint       m_Paint;\n\n    ArrayList&lt;Pair&lt;Path, Paint&gt;&gt; paths = new ArrayList&lt;Pair&lt;Path, Paint&gt;&gt;();\n\n    ArrayList&lt;Pair&lt;Path, Paint&gt;&gt; undonePaths = new ArrayList&lt;Pair&lt;Path, Paint&gt;&gt;(); \n\n    private float mX, mY;\n\n    private static final float TOUCH_TOLERANCE = 4;\n\n//  Bitmap canvasBackground;\n\n    public DrawView(Context context) \n    {\n        super(context);\n        setFocusable(true);\n        setFocusableInTouchMode(true);      \n        this.setOnTouchListener(this);\n\n        onCanvasInitialization();\n    }      \n\n    public void onCanvasInitialization()\n    {\n        m_Paint = new Paint();\n        m_Paint.setAntiAlias(true);\n        m_Paint.setDither(true);\n        m_Paint.setColor(Color.parseColor(\"#37A1D1\"));\n        m_Paint.setStyle(Paint.Style.STROKE);\n        m_Paint.setStrokeJoin(Paint.Join.ROUND);\n        m_Paint.setStrokeCap(Paint.Cap.ROUND);\n        m_Paint.setStrokeWidth(2);      \n\n        m_Canvas = new Canvas();\n\n        m_Path = new Path();\n        Paint newPaint = new Paint(m_Paint);\n        paths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));\n\n//      Bitmap canvas = BitmapFactory.decodeResource(getResources(), R.drawable.theme1_img_note).copy(Bitmap.Config.ARGB_8888, true);\n//      canvasBackground = Bitmap.createBitmap(canvas.getWidth(), canvas.getHeight(), Bitmap.Config.ARGB_8888 );\n//      m_Canvas = new Canvas(canvasBackground);        \n    }\n\n    @Override\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) \n    {\n        super.onSizeChanged(w, h, oldw, oldh);\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas)\n    {      \n        for (Pair&lt;Path, Paint&gt; p : paths) \n        {\n            canvas.drawPath(p.first, p.second);\n        }\n    }\n\n    public boolean onTouch(View arg0, MotionEvent event) \n    {\n        float x = event.getX();\n        float y = event.getY();\n\n        switch (event.getAction()) \n        {\n            case MotionEvent.ACTION_DOWN:\n            touch_start(x, y);\n            invalidate();\n            break;\n            case MotionEvent.ACTION_MOVE:\n            touch_move(x, y);\n            invalidate();\n            break;\n            case MotionEvent.ACTION_UP:\n            touch_up();\n            invalidate();\n            break;\n        }\n        return true;\n    }\n\n    private void touch_start(float x, float y) \n    {\n        m_Path.reset();\n        m_Path.moveTo(x, y);\n        mX = x;\n        mY = y;\n    }\n\n    private void touch_move(float x, float y) \n    {\n        float dx = Math.abs(x - mX);\n        float dy = Math.abs(y - mY);\n        if (dx &gt;= TOUCH_TOLERANCE || dy &gt;= TOUCH_TOLERANCE) \n        {\n            m_Path.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);\n            mX = x;\n            mY = y;\n        }\n    }\n    private void touch_up() \n    {\n        m_Path.lineTo(mX, mY);\n\n        // commit the path to our offscreen\n        m_Canvas.drawPath(m_Path, m_Paint);\n\n        // kill this so we don't double draw            \n        m_Path = new Path();\n        Paint newPaint = new Paint(m_Paint); // Clones the mPaint object\n        paths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));\n    }\n\n    public void onClickPenButton(int penWidth) \n    { \n        m_Paint.setStrokeWidth(penWidth);\n\n        m_Path = new Path();\n        Paint newPaint = new Paint(m_Paint); // Clones the mPaint object\n        paths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));             \n    }\n\n    public void onClickPenColorButton(int penColor) \n    {       \n        m_Paint.setColor(penColor);\n\n        Paint newPaint = new Paint(m_Paint); // Clones the mPaint object\n        paths.add(new Pair&lt;Path, Paint&gt;(m_Path, newPaint));\n    }\n\n    public void onClickUndo () \n    { \n        if (paths.size()&gt;0) \n        { \n            undonePaths.add(paths.remove(paths.size()-1));\n            invalidate();\n        }\n        else\n        {\n\n        }\n    }\n\n    public void onClickRedo ()\n    {\n        if (undonePaths.size()&gt;0) \n        { \n            paths.add(undonePaths.remove(undonePaths.size()-1)); \n            invalidate();\n        } \n        else \n        {\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1634853209,"post_id":69669027,"comment_id":123145771,"body_markdown":"Note: Using `in.readLine()` reads a line of text, so when you use `while (in.readLine() != null)`, you are actually reading a line but doing nothing with it... Is this intended behaviour?","body":"Note: Using <code>in.readLine()</code> reads a line of text, so when you use <code>while (in.readLine() != null)</code>, you are actually reading a line but doing nothing with it... Is this intended behaviour?"}],"answers":[{"tags":[],"owner":{"account_id":1706574,"reputation":13314,"user_id":1565512,"display_name":"MikeM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634855714,"creation_date":1634852706,"answer_id":69669116,"question_id":69669027,"body_markdown":"`readline` returns a &quot;string containing the contents of the line, not including any line-termination characters&quot;, so why are you trying to split each line on `&quot;\\\\r?\\\\n&quot;`?\r\n\r\nWhere is `str` declared? Why are you reading two lines for each iteration of the loop, and ignoring the first one?\r\n\r\nI suggest you start from\r\n\r\n```java\r\nString str;\r\nwhile ((str = in.readLine()) != null) {\r\n    System.out.println(str);\r\n}\r\n```\r\n\r\nand work from there.\r\n\r\nThe first `readline` gets the language, the second gets the description, and the third gets the url, and then the pattern repeats. There is nothing to stop you using `readline` three times for each iteration of the while loop.","title":"assigning properties to strings in text file","body":"<p><code>readline</code> returns a &quot;string containing the contents of the line, not including any line-termination characters&quot;, so why are you trying to split each line on <code>&quot;\\\\r?\\\\n&quot;</code>?</p>\n<p>Where is <code>str</code> declared? Why are you reading two lines for each iteration of the loop, and ignoring the first one?</p>\n<p>I suggest you start from</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str;\nwhile ((str = in.readLine()) != null) {\n    System.out.println(str);\n}\n</code></pre>\n<p>and work from there.</p>\n<p>The first <code>readline</code> gets the language, the second gets the description, and the third gets the url, and then the pattern repeats. There is nothing to stop you using <code>readline</code> three times for each iteration of the while loop.</p>\n"},{"tags":[],"owner":{"account_id":9175995,"reputation":130,"user_id":6821605,"display_name":"gdogra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634855350,"creation_date":1634855350,"answer_id":69669451,"question_id":69669027,"body_markdown":"you can read all the file in a String like this\r\n    \r\n\r\n    // try with resources, to make sure BufferedReader is closed safely\r\n        try (BufferedReader in = new BufferedReader(new FileReader(&quot;Tutorials.txt&quot;))) {\r\n        \r\n                //str will hold all the file contents\r\n                StringBuilder str = new StringBuilder();\r\n                String line;\r\n                while ((line = in.readLine()) != null) {\r\n                    str.append(line);\r\n                    str.append(&quot;\\n&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n          }\r\n      \r\n\r\nLater you can split the string with\r\n\r\n    String[] fields = str.toString().split(&quot;[\\\\n\\\\r]+&quot;);","title":"assigning properties to strings in text file","body":"<p>you can read all the file in a String like this</p>\n<pre><code>// try with resources, to make sure BufferedReader is closed safely\n    try (BufferedReader in = new BufferedReader(new FileReader(&quot;Tutorials.txt&quot;))) {\n    \n            //str will hold all the file contents\n            StringBuilder str = new StringBuilder();\n            String line;\n            while ((line = in.readLine()) != null) {\n                str.append(line);\n                str.append(&quot;\\n&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n      }\n  \n</code></pre>\n<p>Later you can split the string with</p>\n<pre><code>String[] fields = str.toString().split(&quot;[\\\\n\\\\r]+&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634856841,"creation_date":1634855535,"answer_id":69669478,"question_id":69669027,"body_markdown":"Why not try it like this.\r\n- allocate a List to hold the `TutorialWebsite` instances.\r\n- use try with resources to open the file, read the lines, and trim any white space.\r\n- put the lines in an array\r\n- then iterate over the array, filling in the class instance\r\n- the print the list.\r\n\r\nThe loop ensures the array length is a multiple of `nFields`, discarding any remainder. So if your total lines are not divisible by `nFields` you will not read the remainder of the file.  You would still have to adjust the setters if additional fields were added.\r\n```\r\nint nFields = 3;\r\nList&lt;TutorialWebsite&gt; list = new ArrayList&lt;&gt;();\r\ntry (BufferedReader in = new BufferedReader(new FileReader(&quot;tutorials.txt&quot;))) {\t\r\n    String[] lines = in.lines().map(String::trim).toArray(String[]::new);\r\n     for (int i = 0; i &lt; (lines.length/nFields)*nFields; i+=nFields) {\r\n    \t TutorialWebsite tw = new TutorialWebsite();\r\n    \t tw.setProgramLanguage(lines[i]);\r\n         tw.setWebDescription(lines[i+1]);\r\n         tw.setWebURL(lines[i+2]);\r\n         list.add(tw);\r\n     }\r\n} catch (IOException ioe) {\r\n\tioe.printStackTrace();\r\n}\r\n\t\r\nlist.forEach(System.out::println);\r\n\r\n```\r\nA improvement would be to use a constructor and pass the strings to that when each instance is created.\r\n\r\nAnd remember the file name as specified is relative to the directory in which the program is run.","title":"assigning properties to strings in text file","body":"<p>Why not try it like this.</p>\n<ul>\n<li>allocate a List to hold the <code>TutorialWebsite</code> instances.</li>\n<li>use try with resources to open the file, read the lines, and trim any white space.</li>\n<li>put the lines in an array</li>\n<li>then iterate over the array, filling in the class instance</li>\n<li>the print the list.</li>\n</ul>\n<p>The loop ensures the array length is a multiple of <code>nFields</code>, discarding any remainder. So if your total lines are not divisible by <code>nFields</code> you will not read the remainder of the file.  You would still have to adjust the setters if additional fields were added.</p>\n<pre><code>int nFields = 3;\nList&lt;TutorialWebsite&gt; list = new ArrayList&lt;&gt;();\ntry (BufferedReader in = new BufferedReader(new FileReader(&quot;tutorials.txt&quot;))) { \n    String[] lines = in.lines().map(String::trim).toArray(String[]::new);\n     for (int i = 0; i &lt; (lines.length/nFields)*nFields; i+=nFields) {\n         TutorialWebsite tw = new TutorialWebsite();\n         tw.setProgramLanguage(lines[i]);\n         tw.setWebDescription(lines[i+1]);\n         tw.setWebURL(lines[i+2]);\n         list.add(tw);\n     }\n} catch (IOException ioe) {\n    ioe.printStackTrace();\n}\n    \nlist.forEach(System.out::println);\n\n</code></pre>\n<p>A improvement would be to use a constructor and pass the strings to that when each instance is created.</p>\n<p>And remember the file name as specified is relative to the directory in which the program is run.</p>\n"}],"owner":{"account_id":23106097,"reputation":1,"user_id":17214694,"display_name":"angyeet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1634856841,"creation_date":1634851989,"question_id":69669027,"body_markdown":"Hopefully my explanation does me some justice. I am pretty new to java. I have a text file that looks like this \r\n\r\n```\r\nJava\r\nThe Java Tutorials\r\nhttp://docs.oracle.com/javase/tutorial/\r\nPython\r\nTutorialspoint Java tutorials\r\nhttp://www.tutorialspoint.com/python/\r\nPerl\r\nTutorialspoint Perl tutorials\r\nhttp://www.tutorialspoint.com/perl/\r\n```\r\nI have properties for language name, website description, and website url. Right now, I just want to list the information from the text file exactly how it looks, but I need to assign those properties to them. \r\n\r\nThe problem I am getting is &quot;index 1 is out of bounds for length 1&quot;\r\n\r\n    try {\r\n            BufferedReader in = new BufferedReader(new FileReader(&quot;Tutorials.txt&quot;));\r\n\r\n            while (in.readLine() != null) {\r\n                TutorialWebsite tw = new TutorialWebsite();\r\n                str = in.readLine();\r\n                String[] fields = str.split(&quot;\\\\r?\\\\n&quot;);\r\n                tw.setProgramLanguage(fields[0]);\r\n                tw.setWebDescription(fields[1]);\r\n                tw.setWebURL(fields[2]);\r\n                System.out.println(tw);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\nI wanted to test something so i removed the new lines and put commas instead and made it str.split(&quot;,&quot;) which printed it out just fine, but im sure i would get points taken off it i changed the format. \r\n\r\n","title":"assigning properties to strings in text file","body":"<p>Hopefully my explanation does me some justice. I am pretty new to java. I have a text file that looks like this</p>\n<pre><code>Java\nThe Java Tutorials\nhttp://docs.oracle.com/javase/tutorial/\nPython\nTutorialspoint Java tutorials\nhttp://www.tutorialspoint.com/python/\nPerl\nTutorialspoint Perl tutorials\nhttp://www.tutorialspoint.com/perl/\n</code></pre>\n<p>I have properties for language name, website description, and website url. Right now, I just want to list the information from the text file exactly how it looks, but I need to assign those properties to them.</p>\n<p>The problem I am getting is &quot;index 1 is out of bounds for length 1&quot;</p>\n<pre><code>try {\n        BufferedReader in = new BufferedReader(new FileReader(&quot;Tutorials.txt&quot;));\n\n        while (in.readLine() != null) {\n            TutorialWebsite tw = new TutorialWebsite();\n            str = in.readLine();\n            String[] fields = str.split(&quot;\\\\r?\\\\n&quot;);\n            tw.setProgramLanguage(fields[0]);\n            tw.setWebDescription(fields[1]);\n            tw.setWebURL(fields[2]);\n            System.out.println(tw);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>I wanted to test something so i removed the new lines and put commas instead and made it str.split(&quot;,&quot;) which printed it out just fine, but im sure i would get points taken off it i changed the format.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":14491032,"reputation":584,"user_id":10467286,"display_name":"Putra Nugraha"},"score":3,"creation_date":1633487127,"post_id":69458822,"comment_id":122770290,"body_markdown":"It seems calling `finish()` should already dismiss `EnterCodeActivity`... Or, can you help to update what is this currently code do?","body":"It seems calling <code>finish()</code> should already dismiss <code>EnterCodeActivity</code>... Or, can you help to update what is this currently code do?"},{"owner":{"account_id":13994791,"reputation":431,"user_id":10107897,"display_name":"14079_Z"},"score":0,"creation_date":1633562329,"post_id":69458822,"comment_id":122795790,"body_markdown":"I clean the build and ran it again now it is working. Don&#39;t know why it didn&#39;t work before. Thanks!","body":"I clean the build and ran it again now it is working. Don&#39;t know why it didn&#39;t work before. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":11186765,"reputation":492,"user_id":8208808,"display_name":"MihaiBC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633517081,"creation_date":1633517081,"answer_id":69464271,"question_id":69458822,"body_markdown":"A possible fix would be to add a return statement after calling the ***finish()*** method so the execution for the current method will stop there. \r\n\r\nAlso if you want to get more info check out this thread:  https://stackoverflow.com/questions/2590947/how-does-activity-finish-work-in-android","title":"How do I dismiss view after user enter the code? Android","body":"<p>A possible fix would be to add a return statement after calling the <em><strong>finish()</strong></em> method so the execution for the current method will stop there.</p>\n<p>Also if you want to get more info check out this thread:  <a href=\"https://stackoverflow.com/questions/2590947/how-does-activity-finish-work-in-android\">How does Activity.finish() work in Android?</a></p>\n"},{"tags":[],"owner":{"account_id":13994791,"reputation":431,"user_id":10107897,"display_name":"14079_Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634856061,"creation_date":1634856061,"answer_id":69669538,"question_id":69458822,"body_markdown":"I clean the build and ran it again now it is working.","title":"How do I dismiss view after user enter the code? Android","body":"<p>I clean the build and ran it again now it is working.</p>\n"}],"owner":{"account_id":13994791,"reputation":431,"user_id":10107897,"display_name":"14079_Z"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69669538,"answer_count":2,"score":0,"last_activity_date":1634856061,"creation_date":1633483121,"question_id":69458822,"body_markdown":"I&#39;m working on an existing project for adding a Lock screen for the user to enter the code. After verifying the code the Lock Screen will dismiss and the user can use the app normally. Thank you. I&#39;m not an Android developer so it is very difficult for me. The project is coded in Kotlin and Java.\r\n\r\n///mainapp is in Kotlin\r\n\r\n    package com.mainapp.view.activity\r\n    \r\n    open class BaseActivity: AppCompatActivity() {\r\n        lateinit var repository: BasicRepository\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            pref = PreferenceManager(this)\r\n            setupContentWindow()\r\n        }\r\n    \r\n        fun setupContentWindow() {\r\n            Helper.handleStatusBar(window, false, this)\r\n        }\r\n    \r\n        override fun onResume() {\r\n            super.onResume()\r\n            if (requireCode()) {\r\n                val intent = EnterCodeActivity.intent(this, true)\r\n                startActivity(intent)\r\n    \r\n            } else {\r\n                 val intent = Intent(this, EnterCodeActivity::class.java)\r\n                 startActivityForResult(intent, Helper.REQUEST_CODE)\r\n            }\r\n        }\r\n\r\n\r\n///lockscreen is in java\r\n\r\n    package com.lockscreen.activity;\r\n    \r\n    public class EnterCodeActivity extends AppCompatActivity {\r\n    public static Intent intent(Context context, boolean requireCode) {\r\n            Intent intent = new Intent(context, EnterPinActivity.class);\r\n            intent.putExtra(&quot;REQUIRE_CODE&quot;, requireCode);\r\n            return intent;\r\n        }\r\n    \r\n     @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            setContentView(R.layout.activity_enterpin);\r\n           \r\n            final CodeLockListener codeLockListener = new CodeLockListener() {\r\n    \r\n                @Override\r\n                public void onComplete(String code) {\r\n                  checkCode(code);\r\n                }\r\n    \r\n                @Override\r\n                public void onEmpty() {\r\n                    Log.d(TAG, &quot;Code empty&quot;);\r\n                }\r\n            };\r\n    \r\n            mCodeLockView = (CodeLockView) findViewById(R.id.codelockView);\r\n            mIndicators = (Indicators) findViewById(R.id.indicators);\r\n    \r\n            mCodeLockView.attachIndicators(mIndicators);\r\n            mCodeLockView.setCodeLockListener(codeLockListener);\r\n            mIndicators.setIndicatorType(Indicators.IndicatorType.FILL_WITH_ANIMATION);\r\n        }\r\n    \r\n    private void checkCode(String code) {\r\n         APIManager.getInstance().verifyAuth(code, new Callback&lt;String&gt;() {\r\n               @Override\r\n               public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\r\n                   if (response.code() == 200) {\r\n                       setResult(RESULT_OK);\r\n                       finish();\r\n                       //dismiss the code lock view after verify the code\r\n     \r\n                   } else {\r\n                       mTextTitle.setText(&quot;Incorrect Code!&quot;)\r\n                   }\r\n               }\r\n    \r\n               @Override\r\n               public void onFailure(Call&lt;String&gt; call, Throwable t) {\r\n                   mTextTitle.setText(&quot;Incorrect Code!&quot;)\r\n               }\r\n           });\r\n       }","title":"How do I dismiss view after user enter the code? Android","body":"<p>I'm working on an existing project for adding a Lock screen for the user to enter the code. After verifying the code the Lock Screen will dismiss and the user can use the app normally. Thank you. I'm not an Android developer so it is very difficult for me. The project is coded in Kotlin and Java.</p>\n<p>///mainapp is in Kotlin</p>\n<pre><code>package com.mainapp.view.activity\n\nopen class BaseActivity: AppCompatActivity() {\n    lateinit var repository: BasicRepository\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        pref = PreferenceManager(this)\n        setupContentWindow()\n    }\n\n    fun setupContentWindow() {\n        Helper.handleStatusBar(window, false, this)\n    }\n\n    override fun onResume() {\n        super.onResume()\n        if (requireCode()) {\n            val intent = EnterCodeActivity.intent(this, true)\n            startActivity(intent)\n\n        } else {\n             val intent = Intent(this, EnterCodeActivity::class.java)\n             startActivityForResult(intent, Helper.REQUEST_CODE)\n        }\n    }\n</code></pre>\n<p>///lockscreen is in java</p>\n<pre><code>package com.lockscreen.activity;\n\npublic class EnterCodeActivity extends AppCompatActivity {\npublic static Intent intent(Context context, boolean requireCode) {\n        Intent intent = new Intent(context, EnterPinActivity.class);\n        intent.putExtra(&quot;REQUIRE_CODE&quot;, requireCode);\n        return intent;\n    }\n\n @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        setContentView(R.layout.activity_enterpin);\n       \n        final CodeLockListener codeLockListener = new CodeLockListener() {\n\n            @Override\n            public void onComplete(String code) {\n              checkCode(code);\n            }\n\n            @Override\n            public void onEmpty() {\n                Log.d(TAG, &quot;Code empty&quot;);\n            }\n        };\n\n        mCodeLockView = (CodeLockView) findViewById(R.id.codelockView);\n        mIndicators = (Indicators) findViewById(R.id.indicators);\n\n        mCodeLockView.attachIndicators(mIndicators);\n        mCodeLockView.setCodeLockListener(codeLockListener);\n        mIndicators.setIndicatorType(Indicators.IndicatorType.FILL_WITH_ANIMATION);\n    }\n\nprivate void checkCode(String code) {\n     APIManager.getInstance().verifyAuth(code, new Callback&lt;String&gt;() {\n           @Override\n           public void onResponse(Call&lt;String&gt; call, Response&lt;String&gt; response) {\n               if (response.code() == 200) {\n                   setResult(RESULT_OK);\n                   finish();\n                   //dismiss the code lock view after verify the code\n \n               } else {\n                   mTextTitle.setText(&quot;Incorrect Code!&quot;)\n               }\n           }\n\n           @Override\n           public void onFailure(Call&lt;String&gt; call, Throwable t) {\n               mTextTitle.setText(&quot;Incorrect Code!&quot;)\n           }\n       });\n   }\n</code></pre>\n"},{"tags":["java","aspectj","slf4j"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1634899476,"post_id":69669525,"comment_id":123156757,"body_markdown":"There are many variables in your equation, so to speak. therefore, it would be helpful to provide an [MCVE](https://stackoverflow.com/help/mcve) on GitHub. I would like to reproduce your basic situation and be able to play with it. In its current state, the question is too generic and an answer would be speculative rather than helpful.","body":"There are many variables in your equation, so to speak. therefore, it would be helpful to provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub. I would like to reproduce your basic situation and be able to play with it. In its current state, the question is too generic and an answer would be speculative rather than helpful."},{"owner":{"account_id":22106744,"reputation":131,"user_id":16362236,"display_name":"MFEB"},"score":0,"creation_date":1634920317,"post_id":69669525,"comment_id":123165321,"body_markdown":"@kriegaex I think I&#39;ve refined down my question to be less nebulous. Ill open an new question that will be more precise.","body":"@kriegaex I think I&#39;ve refined down my question to be less nebulous. Ill open an new question that will be more precise."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1634983374,"post_id":69669525,"comment_id":123177184,"body_markdown":"There is no need to open a new question. Just click &quot;edit&quot; and refine this one. Please also try to understand what I mean by the term MCVE. Read the article, if you have not done so yet, please.","body":"There is no need to open a new question. Just click &quot;edit&quot; and refine this one. Please also try to understand what I mean by the term MCVE. Read the article, if you have not done so yet, please."}],"owner":{"account_id":22106744,"reputation":131,"user_id":16362236,"display_name":"MFEB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634855965,"creation_date":1634855965,"question_id":69669525,"body_markdown":"Ive got a microservice pipeline that I have an Id for each payload that passes through the pipeline. The payload contains an Id that correlates the payload to every other microservice. I don&#39;t want to manually append the id to the beginning of every log so my question is this:\r\n\r\nIs there a way to add/alter an id that will be added to the logs when they are printed. For example...\r\n\r\nIn a RESTController I would do something like.\r\n\r\n```java\r\n\r\nLogger.setProps(&quot;piplineID&quot;, pipelineId)\r\n```\r\n\r\nand from that point on all logs that were generated would have the pipeline id in them, until the next request was made. \r\n\r\n``` bash\r\n// a call to log.info(message) would print\r\n&lt;timestamp&gt; {pipelineID: 123412342, message: &lt;message&gt;}\r\n```\r\n\r\nIm using @Slf4j and I am using \r\n```xml\r\n&lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n                &lt;timestampFormat&gt;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&lt;/timestampFormat&gt;\r\n                &lt;timestampFormatTimezoneId&gt;UTC&lt;/timestampFormatTimezoneId&gt;\r\n                &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n                    &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\r\n                &lt;/jsonFormatter&gt;\r\n                &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/encoder&gt;\r\n```\r\nand `log4j.rootLogger=INFO, DB, console` in the properties file. \r\n\r\nI was thinking maybe I could use an aspect to inject the id after the `log.info` call had been made but I don&#39;t know how I would connect the aspect to the call. ","title":"Add and change a global Id during runtime for Slf4j","body":"<p>Ive got a microservice pipeline that I have an Id for each payload that passes through the pipeline. The payload contains an Id that correlates the payload to every other microservice. I don't want to manually append the id to the beginning of every log so my question is this:</p>\n<p>Is there a way to add/alter an id that will be added to the logs when they are printed. For example...</p>\n<p>In a RESTController I would do something like.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nLogger.setProps(&quot;piplineID&quot;, pipelineId)\n</code></pre>\n<p>and from that point on all logs that were generated would have the pipeline id in them, until the next request was made.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>// a call to log.info(message) would print\n&lt;timestamp&gt; {pipelineID: 123412342, message: &lt;message&gt;}\n</code></pre>\n<p>Im using @Slf4j and I am using</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n            &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\n                &lt;timestampFormat&gt;yyyy-MM-dd'T'HH:mm:ss.SSSX&lt;/timestampFormat&gt;\n                &lt;timestampFormatTimezoneId&gt;UTC&lt;/timestampFormatTimezoneId&gt;\n                &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\n                    &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\n                &lt;/jsonFormatter&gt;\n                &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\n            &lt;/layout&gt;\n        &lt;/encoder&gt;\n</code></pre>\n<p>and <code>log4j.rootLogger=INFO, DB, console</code> in the properties file.</p>\n<p>I was thinking maybe I could use an aspect to inject the id after the <code>log.info</code> call had been made but I don't know how I would connect the aspect to the call.</p>\n"},{"tags":["java","spring-boot","maven","unit-testing","intellij-idea"],"comments":[{"owner":{"account_id":3597514,"reputation":117143,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1634849059,"post_id":69668526,"comment_id":123144581,"body_markdown":"Why do you think you need to run the unit tests before starting the application?","body":"Why do you think you need to run the unit tests before starting the application?"},{"owner":{"account_id":1414426,"reputation":338,"user_id":1340354,"accept_rate":0,"display_name":"sampathlk"},"score":0,"creation_date":1634849324,"post_id":69668526,"comment_id":123144662,"body_markdown":"@jonrsharpe Before starting, the application needs to verify all unit tests in the application. I know this is not a good approach for all applications.","body":"@jonrsharpe Before starting, the application needs to verify all unit tests in the application. I know this is not a good approach for all applications."},{"owner":{"account_id":3597514,"reputation":117143,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1634849406,"post_id":69668526,"comment_id":123144694,"body_markdown":"You&#39;ve just asserted it again, I&#39;m asking _why_. It is indeed not a good approach; do you expect the test results to possibly be different on each start (and if so, are they really unit tests)?","body":"You&#39;ve just asserted it again, I&#39;m asking <i>why</i>. It is indeed not a good approach; do you expect the test results to possibly be different on each start (and if so, are they really unit tests)?"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1634849919,"post_id":69668526,"comment_id":123144901,"body_markdown":"The standard process is to run your unit tests when you _package_ the application, and then you run the package.","body":"The standard process is to run your unit tests when you <i>package</i> the application, and then you run the package."},{"owner":{"account_id":1414426,"reputation":338,"user_id":1340354,"accept_rate":0,"display_name":"sampathlk"},"score":0,"creation_date":1634850504,"post_id":69668526,"comment_id":123145074,"body_markdown":"@chrylis-cautiouslyoptimistic- thanks, yes that&#39;s correct. I wanted to run the application by using Intellij and had to run the unit tests separately.","body":"@chrylis-cautiouslyoptimistic- thanks, yes that&#39;s correct. I wanted to run the application by using Intellij and had to run the unit tests separately."}],"answers":[{"tags":[],"owner":{"account_id":7545845,"reputation":2461,"user_id":5728926,"accept_rate":90,"display_name":"D&#225;niel Kis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634850234,"creation_date":1634850234,"answer_id":69668772,"question_id":69668526,"body_markdown":"Some suggestions:\r\n\r\n- let&#39;s separate your local development and release, deployment procedure: use some kind of CI/CD process\r\n- you can build, run your unit tests and other static code analyzers is your CI process (for instance in gitlab-ci)\r\n- when you develop your application you can run unit tests without running your application, and you can run your application without running unit tests in your local machine, it is more efficient.\r\n- when you finish your development issue you can push it to version control that can run your CI or CI/CD process. If you work in a team I suggest to use some kind of branching/version control strategy like gitflow, trunk based development etc.","title":"How to configure latest Spring Boot application to run unit tests at startup","body":"<p>Some suggestions:</p>\n<ul>\n<li>let's separate your local development and release, deployment procedure: use some kind of CI/CD process</li>\n<li>you can build, run your unit tests and other static code analyzers is your CI process (for instance in gitlab-ci)</li>\n<li>when you develop your application you can run unit tests without running your application, and you can run your application without running unit tests in your local machine, it is more efficient.</li>\n<li>when you finish your development issue you can push it to version control that can run your CI or CI/CD process. If you work in a team I suggest to use some kind of branching/version control strategy like gitflow, trunk based development etc.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634854584,"creation_date":1634854584,"answer_id":69669343,"question_id":69668526,"body_markdown":"If you want to do this via Intellij, you can create a Run Configuration that runs the `verify` and `spring-boot:run` goals:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs other people have said, this is something you would only want to do while developing.\r\n\r\n  [1]: https://i.stack.imgur.com/YVJ0M.png","title":"How to configure latest Spring Boot application to run unit tests at startup","body":"<p>If you want to do this via Intellij, you can create a Run Configuration that runs the <code>verify</code> and <code>spring-boot:run</code> goals:</p>\n<p><a href=\"https://i.stack.imgur.com/YVJ0M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVJ0M.png\" alt=\"enter image description here\" /></a></p>\n<p>As other people have said, this is something you would only want to do while developing.</p>\n"}],"owner":{"account_id":1414426,"reputation":338,"user_id":1340354,"accept_rate":0,"display_name":"sampathlk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69669343,"answer_count":2,"score":0,"last_activity_date":1634855736,"creation_date":1634848852,"question_id":69668526,"body_markdown":"Recently I started working on demo Spring Boot application and I was unable to run the unit test when starting the application. The purpose of this approach is we need to run all unit tests before starting the application.\r\n\r\nCode of the Sample Demo Application is as follows.\r\n\r\nMain class DemoApplication,\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nModel class School,\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class School {\r\n    \r\n        private String name;\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\n\r\nMain class Unit test,\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.assertj.core.api.Assertions;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.junit4.SpringRunner;\r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    class DemoApplicationTests {\r\n    \r\n    \t@Autowired\r\n    \tprivate School school;\r\n    \r\n        @Test\r\n        void contextLoads() {\r\n    \t\tschool.setName(&quot;test&quot;);\r\n    \t\tString schoolName = school.getName();\r\n            Assertions.assertThat(schoolName).isNotNull();\r\n        }\r\n    \r\n        @Test\r\n        void main() {\r\n            DemoApplication.main(new String[]{});\r\n    \t\tschool.setName(&quot;test&quot;);\r\n    \t\tString schoolName = school.getName();\r\n    \t\tAssertions.assertThat(schoolName).isNotNull();\r\n        }\r\n    \r\n    }\r\n\r\nSchool Unit test,\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    public class SchoolTests {\r\n    \r\n        @Test\r\n        public void getTodoTest() {\r\n            School school = new School();\r\n            String name = &quot;test&quot;;\r\n            school.setName(name);\r\n            Assert.assertEquals(name, school.getName());\r\n        }\r\n    \r\n    }\r\n\r\npom.xml file,\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nWhat are the additional configurations that need to be done to run the unit tests at the startup?","title":"How to configure latest Spring Boot application to run unit tests at startup","body":"<p>Recently I started working on demo Spring Boot application and I was unable to run the unit test when starting the application. The purpose of this approach is we need to run all unit tests before starting the application.</p>\n<p>Code of the Sample Demo Application is as follows.</p>\n<p>Main class DemoApplication,</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Model class School,</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class School {\n\n    private String name;\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>Main class Unit test,</p>\n<pre><code>package com.example.demo;\n\nimport org.assertj.core.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\nclass DemoApplicationTests {\n\n    @Autowired\n    private School school;\n\n    @Test\n    void contextLoads() {\n        school.setName(&quot;test&quot;);\n        String schoolName = school.getName();\n        Assertions.assertThat(schoolName).isNotNull();\n    }\n\n    @Test\n    void main() {\n        DemoApplication.main(new String[]{});\n        school.setName(&quot;test&quot;);\n        String schoolName = school.getName();\n        Assertions.assertThat(schoolName).isNotNull();\n    }\n\n}\n</code></pre>\n<p>School Unit test,</p>\n<pre><code>package com.example.demo;\n\nimport org.junit.Assert;\nimport org.junit.Test;\n\npublic class SchoolTests {\n\n    @Test\n    public void getTodoTest() {\n        School school = new School();\n        String name = &quot;test&quot;;\n        school.setName(name);\n        Assert.assertEquals(name, school.getName());\n    }\n\n}\n</code></pre>\n<p>pom.xml file,</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>What are the additional configurations that need to be done to run the unit tests at the startup?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1634854389,"post_id":69669281,"comment_id":123146041,"body_markdown":"Did you specify your locale? https://stackoverflow.com/questions/36418901/change-decimalformat-locale","body":"Did you specify your locale? <a href=\"https://stackoverflow.com/questions/36418901/change-decimalformat-locale\" title=\"change decimalformat locale\">stackoverflow.com/questions/36418901/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3173628,"reputation":312,"user_id":2682019,"display_name":"Jonnathan Q"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634854826,"creation_date":1634854826,"answer_id":69669380,"question_id":69669281,"body_markdown":"Specify the locale to use in order to propely format the values\r\n\r\n    System.out.println(new DecimalFormat(&quot;#,###.00 &#164;&quot;, DecimalFormatSymbols.getInstance(Locale.forLanguageTag(&quot;cs-CZ&quot;))).format(50427.1));\r\n\r\nwill output\r\n\r\n    50&#160;427,10 Kč","title":"Java 11 - Display decimal in Czech Korona # ###,## Kč format","body":"<p>Specify the locale to use in order to propely format the values</p>\n<pre><code>System.out.println(new DecimalFormat(&quot;#,###.00 ¤&quot;, DecimalFormatSymbols.getInstance(Locale.forLanguageTag(&quot;cs-CZ&quot;))).format(50427.1));\n</code></pre>\n<p>will output</p>\n<pre><code>50 427,10 Kč\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634855574,"creation_date":1634855205,"answer_id":69669429,"question_id":69669281,"body_markdown":"You don&#39;t need to specify the format; just use the locale&#39;s currency formatter:\r\n\r\n    NumberFormat.getCurrencyInstance(Locale.forLanguageTag(&quot;cs-CZ&quot;)).format(50427.1)\r\n\r\nIf you want to include the trailing 0 decimals, you can `setMinimumFractionDigits(2)`.\r\n\r\n[**Ideone Demo**][1]\r\n\r\n\r\n  [1]: https://ideone.com/A3dm45","title":"Java 11 - Display decimal in Czech Korona # ###,## Kč format","body":"<p>You don't need to specify the format; just use the locale's currency formatter:</p>\n<pre><code>NumberFormat.getCurrencyInstance(Locale.forLanguageTag(&quot;cs-CZ&quot;)).format(50427.1)\n</code></pre>\n<p>If you want to include the trailing 0 decimals, you can <code>setMinimumFractionDigits(2)</code>.</p>\n<p><a href=\"https://ideone.com/A3dm45\" rel=\"nofollow noreferrer\"><strong>Ideone Demo</strong></a></p>\n"}],"owner":{"account_id":63056,"reputation":1645,"user_id":186896,"accept_rate":85,"display_name":"SyAu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69669429,"answer_count":2,"score":0,"last_activity_date":1634855574,"creation_date":1634854023,"question_id":69669281,"body_markdown":"**Java 11** \r\n\r\nI&#39;m dealing with Czech karona currency and need to display \r\n\r\n    50427.1 as 50 427,10 Kč\r\n\r\nTried, \r\n              \r\n    System.out.println(new java.text.DecimalFormat(&quot;## ###,00 Kč&quot;).format(Double.valueOf(&quot;50427.1&quot;)));\r\n\r\nBut its printing as \r\n \r\n    5,04,27  Kč\r\n\r\nHow can i make it to display in the correct format? \r\n","title":"Java 11 - Display decimal in Czech Korona # ###,## Kč format","body":"<p><strong>Java 11</strong></p>\n<p>I'm dealing with Czech karona currency and need to display</p>\n<pre><code>50427.1 as 50 427,10 Kč\n</code></pre>\n<p>Tried,</p>\n<pre><code>System.out.println(new java.text.DecimalFormat(&quot;## ###,00 Kč&quot;).format(Double.valueOf(&quot;50427.1&quot;)));\n</code></pre>\n<p>But its printing as</p>\n<pre><code>5,04,27  Kč\n</code></pre>\n<p>How can i make it to display in the correct format?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":1,"creation_date":1634846693,"post_id":69668059,"comment_id":123143809,"body_markdown":"Here&#39;s a pretty similar question. You may find some interesting ideas for implementing your own listener there. https://stackoverflow.com/questions/16529273/how-to-add-listener-on-arraylist-in-java  and also here https://stackoverflow.com/questions/19509717/want-to-notify-on-when-an-item-is-inserted-into-arraylist-using-callback-in-java","body":"Here&#39;s a pretty similar question. You may find some interesting ideas for implementing your own listener there. <a href=\"https://stackoverflow.com/questions/16529273/how-to-add-listener-on-arraylist-in-java\" title=\"how to add listener on arraylist in java\">stackoverflow.com/questions/16529273/&hellip;</a>  and also here <a href=\"https://stackoverflow.com/questions/19509717/want-to-notify-on-when-an-item-is-inserted-into-arraylist-using-callback-in-java\" title=\"want to notify on when an item is inserted into arraylist using callback in java\">stackoverflow.com/questions/19509717/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14805606,"reputation":523,"user_id":10692677,"display_name":"PavlMits"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1634847169,"creation_date":1634847169,"answer_id":69668230,"question_id":69668059,"body_markdown":"You can use the [PropertyChangeSupport](https://docs.oracle.com/javase/7/docs/api/java/beans/PropertyChangeSupport.html) with your custom list:\r\n\r\n```\r\nclass MyList&lt;T&gt; {\r\n    private final PropertyChangeSupport propertyChangeSupport = new PropertyChangeSupport(this);\r\n    private final List&lt;T&gt; itemList = new ArrayList&lt;&gt;();\r\n\r\n    public void addName(T name) {\r\n        itemList.add(name);\r\n        propertyChangeSupport.firePropertyChange(&quot;item&quot;, null, Collections.unmodifiableList(itemList));\r\n    }\r\n\r\n    public void addPropertyChangeListener(PropertyChangeListener l) {\r\n        propertyChangeSupport.addPropertyChangeListener(l);\r\n    }\r\n\r\n    public void removePropertyChangeListener(PropertyChangeListener l) {\r\n        propertyChangeSupport.removePropertyChangeListener(l);\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```\r\n public static void main(String[] args) {\r\n        MyList&lt;String&gt; myBean = new MyList&lt;&gt;();\r\n        myBean.addPropertyChangeListener(evt -&gt; System.out.println(&quot;Hello&quot;));\r\n        myBean.addName(&quot;Hello&quot;);\r\n    }\r\n```","title":"Access List item without waiting for the List to be populated fully","body":"<p>You can use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/beans/PropertyChangeSupport.html\" rel=\"nofollow noreferrer\">PropertyChangeSupport</a> with your custom list:</p>\n<pre><code>class MyList&lt;T&gt; {\n    private final PropertyChangeSupport propertyChangeSupport = new PropertyChangeSupport(this);\n    private final List&lt;T&gt; itemList = new ArrayList&lt;&gt;();\n\n    public void addName(T name) {\n        itemList.add(name);\n        propertyChangeSupport.firePropertyChange(&quot;item&quot;, null, Collections.unmodifiableList(itemList));\n    }\n\n    public void addPropertyChangeListener(PropertyChangeListener l) {\n        propertyChangeSupport.addPropertyChangeListener(l);\n    }\n\n    public void removePropertyChangeListener(PropertyChangeListener l) {\n        propertyChangeSupport.removePropertyChangeListener(l);\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code> public static void main(String[] args) {\n        MyList&lt;String&gt; myBean = new MyList&lt;&gt;();\n        myBean.addPropertyChangeListener(evt -&gt; System.out.println(&quot;Hello&quot;));\n        myBean.addName(&quot;Hello&quot;);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634855354,"creation_date":1634855354,"answer_id":69669452,"question_id":69668059,"body_markdown":"To simplify, to test the usage and to understand answer given by @PavlMits, I tried like this:\r\n\r\n    public class MyListUsage {\r\n    \t public static void main(String[] args) {\r\n    \t        MyList&lt;String&gt; myList = new MyList&lt;&gt;();\r\n    \t        myList.addPropertyChangeListener(evt -&gt; callThisOnAddItemToList ());\r\n    \t        myList.addName(&quot;foo&quot;);\r\n    \t        myList.addName(&quot;bar&quot;);\r\n    \t        myList.addName(&quot;blah-blah&quot;);\r\n    \t    }\r\n    \t \r\n    \t private static void callThisOnAddItemToList () {\r\n    \t\t System.out.println(&quot;Do something here as and when an item added to list ......&quot;);\r\n    \t }\r\n    }\r\n\r\nAnd I got the below output:\r\n\r\n    Do something here as and when an item added to list ......\r\n    Do something here as and when an item added to list ......\r\n    Do something here as and when an item added to list ......\r\n\r\n","title":"Access List item without waiting for the List to be populated fully","body":"<p>To simplify, to test the usage and to understand answer given by @PavlMits, I tried like this:</p>\n<pre><code>public class MyListUsage {\n     public static void main(String[] args) {\n            MyList&lt;String&gt; myList = new MyList&lt;&gt;();\n            myList.addPropertyChangeListener(evt -&gt; callThisOnAddItemToList ());\n            myList.addName(&quot;foo&quot;);\n            myList.addName(&quot;bar&quot;);\n            myList.addName(&quot;blah-blah&quot;);\n        }\n     \n     private static void callThisOnAddItemToList () {\n         System.out.println(&quot;Do something here as and when an item added to list ......&quot;);\n     }\n}\n</code></pre>\n<p>And I got the below output:</p>\n<pre><code>Do something here as and when an item added to list ......\nDo something here as and when an item added to list ......\nDo something here as and when an item added to list ......\n</code></pre>\n"}],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69668230,"answer_count":2,"score":0,"last_activity_date":1634855354,"creation_date":1634846113,"question_id":69668059,"body_markdown":"I have a List&lt;String&gt; as per following:\r\n   \r\n\r\n    private void someMethod () {\r\n        String str= &quot;someStrParam&quot;;\r\n        private int theCount = 0;\r\n\t\tList&lt;String&gt; itemList = getListMethod(str);\r\n\t\t  if (theCount &lt; itemList.size()) {\r\n\t\t\treturn itemList.get(theCount++);\r\n\t\t    } else {\r\n\t\t\treturn null;\r\n\t\t  }\r\n     }\r\n\r\n**Question**: As soon as a List item is added to the List in the `getListMethod`, how can I access it immediately in the `someMethod` without waiting for the next item to be added? Or is there way a way we put a monitor on `getListMethod` so that, as soon as the an item is added there, we can query the `itemList` ?","title":"Access List item without waiting for the List to be populated fully","body":"<p>I have a List as per following:</p>\n<pre><code>private void someMethod () {\n    String str= &quot;someStrParam&quot;;\n    private int theCount = 0;\n    List&lt;String&gt; itemList = getListMethod(str);\n      if (theCount &lt; itemList.size()) {\n        return itemList.get(theCount++);\n        } else {\n        return null;\n      }\n }\n</code></pre>\n<p><strong>Question</strong>: As soon as a List item is added to the List in the <code>getListMethod</code>, how can I access it immediately in the <code>someMethod</code> without waiting for the next item to be added? Or is there way a way we put a monitor on <code>getListMethod</code> so that, as soon as the an item is added there, we can query the <code>itemList</code> ?</p>\n"},{"tags":["java","android","billing"],"comments":[{"owner":{"account_id":12364609,"reputation":1247,"user_id":9017295,"display_name":"Torkel Velure"},"score":0,"creation_date":1634900719,"post_id":69669437,"comment_id":123157198,"body_markdown":"Are you doing the acknowledgement inside `onBillingSetupFinished` of  `billingClient.startConnection` ?","body":"Are you doing the acknowledgement inside <code>onBillingSetupFinished</code> of  <code>billingClient.startConnection</code> ?"},{"owner":{"account_id":16939065,"reputation":61,"user_id":12251373,"display_name":"Jaime Oliv&#233;"},"score":0,"creation_date":1634902908,"post_id":69669437,"comment_id":123158000,"body_markdown":"I am calling it in `onBillingSetupFinished`, which is inside `billingClient.startConnection` @TorkelVelure","body":"I am calling it in <code>onBillingSetupFinished</code>, which is inside <code>billingClient.startConnection</code> @TorkelVelure"},{"owner":{"account_id":2541410,"reputation":1193,"user_id":2207137,"accept_rate":38,"display_name":"TomV"},"score":0,"creation_date":1637659516,"post_id":69669437,"comment_id":123879180,"body_markdown":"Great question. Have the same issue. Although, with the same code, half the time I get error 5, the other half is a success. Where&#39;s the developer error in that?","body":"Great question. Have the same issue. Although, with the same code, half the time I get error 5, the other half is a success. Where&#39;s the developer error in that?"}],"owner":{"account_id":16939065,"reputation":61,"user_id":12251373,"display_name":"Jaime Oliv&#233;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1634855239,"creation_date":1634855239,"question_id":69669437,"body_markdown":"I am using the standard flow provided by the google developer guides, as referred to here:\r\nhttps://developer.android.com/google/play/billing/integrate?hl=es-419#process\r\n\r\nI tried to get just a tiny bit deeper than it states in the acknowledge logic, waiting for the acknowledgement to be completed and successfull by using this code:\r\n\r\n    AcknowledgePurchaseParams acknowledgePurchaseParams = AcknowledgePurchaseParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\r\n        billingClient.acknowledgePurchase(\r\n                        acknowledgePurchaseParams,\r\n                        new AcknowledgePurchaseResponseListener() {\r\n                            @Override\r\n                    public void onAcknowledgePurchaseResponse(@NonNull BillingResult billingResult) {\r\n                                if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\r\n                                    Toast.makeText(MainActivity.this, &quot;Consumed!&quot;, Toast.LENGTH_LONG).show();\r\n                                }\r\n                            }\r\n                        }\r\n                        );\r\n\r\nI tried to run it but it doesn&#39;t work. Finally, by debugging, I found out that responseCode is returning a 5, which means &quot;DEVELOPER ERROR&quot;, instead of a 0 (&quot;OK&quot;).\r\n\r\nAny ideas??","title":"Acknowledge purchase returns developer error &quot;5&quot; android studio","body":"<p>I am using the standard flow provided by the google developer guides, as referred to here:\n<a href=\"https://developer.android.com/google/play/billing/integrate?hl=es-419#process\" rel=\"nofollow noreferrer\">https://developer.android.com/google/play/billing/integrate?hl=es-419#process</a></p>\n<p>I tried to get just a tiny bit deeper than it states in the acknowledge logic, waiting for the acknowledgement to be completed and successfull by using this code:</p>\n<pre><code>AcknowledgePurchaseParams acknowledgePurchaseParams = AcknowledgePurchaseParams.newBuilder().setPurchaseToken(purchase.getPurchaseToken()).build();\n    billingClient.acknowledgePurchase(\n                    acknowledgePurchaseParams,\n                    new AcknowledgePurchaseResponseListener() {\n                        @Override\n                public void onAcknowledgePurchaseResponse(@NonNull BillingResult billingResult) {\n                            if (billingResult.getResponseCode() == BillingClient.BillingResponseCode.OK) {\n                                Toast.makeText(MainActivity.this, &quot;Consumed!&quot;, Toast.LENGTH_LONG).show();\n                            }\n                        }\n                    }\n                    );\n</code></pre>\n<p>I tried to run it but it doesn't work. Finally, by debugging, I found out that responseCode is returning a 5, which means &quot;DEVELOPER ERROR&quot;, instead of a 0 (&quot;OK&quot;).</p>\n<p>Any ideas??</p>\n"},{"tags":["java","xml","jaxb"],"comments":[{"owner":{"account_id":2911711,"reputation":1253,"user_id":2495752,"accept_rate":47,"display_name":"Sourabh"},"score":0,"creation_date":1404132670,"post_id":24489242,"comment_id":37910716,"body_markdown":"@StackOverflow community : Please contribute.","body":"@StackOverflow community : Please contribute."}],"answers":[{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1404133907,"creation_date":1404132813,"answer_id":24490613,"question_id":24489242,"body_markdown":"JAXB (JSR-222) implementations support `java.util.Date` and `java.util.Calendar` by default so you will not require an `XmlAdapter` for them.  Classes like `java.sql.Date`, `java.sql.Time`, and `java.sql.Timestamp` will require an `XmlAdapter`.  I would recommend separate adapters instead of trying to combine them into one.\r\n\r\n**Note**\r\n\r\nAn `XmlAdapter` can be specified at the package level.  When doe this way it applies to all mapped fields/properties on that type belonging to domain classes in that package.  This can greatly reduce the amount of times you need to specify `@XmlJavaTypeAdapter`.  You can read more about this approach on my blog.\r\n\r\n  - http://blog.bdoughan.com/2012/02/jaxb-and-package-level-xmladapters.html\r\n\r\n---\r\n\r\n## UPDATE\r\n\r\n    There are two properties named &quot;publishDate&quot; \r\n        this problem is related to the following location:\r\n            at public java.sql.Timestamp Book.getPublishDate()\r\n            at Book\r\n        this problem is related to the following location:\r\n            at private java.sql.Timestamp Book.publishDate\r\n            at Book\r\n\r\nBy default JAXB treats public properties (get/set method pairs) and annotated fields as mapped.  This is what&#39;s causing this part of the exception.  You need to do one of the following:\r\n\r\n  1.  Annotate the get method instead of the field.\r\n  2.  Keep the annotation on the field and specify `@XmlAccessorType(XmlAccessType.FIELD)` on your class.\r\n\r\nI have written more about this on my blog:\r\n\r\n  - http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html","title":"Creating adapter for Timestamp for JAXB conversion","body":"<p>JAXB (JSR-222) implementations support <code>java.util.Date</code> and <code>java.util.Calendar</code> by default so you will not require an <code>XmlAdapter</code> for them.  Classes like <code>java.sql.Date</code>, <code>java.sql.Time</code>, and <code>java.sql.Timestamp</code> will require an <code>XmlAdapter</code>.  I would recommend separate adapters instead of trying to combine them into one.</p>\n\n<p><strong>Note</strong></p>\n\n<p>An <code>XmlAdapter</code> can be specified at the package level.  When doe this way it applies to all mapped fields/properties on that type belonging to domain classes in that package.  This can greatly reduce the amount of times you need to specify <code>@XmlJavaTypeAdapter</code>.  You can read more about this approach on my blog.</p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2012/02/jaxb-and-package-level-xmladapters.html\" rel=\"nofollow\">http://blog.bdoughan.com/2012/02/jaxb-and-package-level-xmladapters.html</a></li>\n</ul>\n\n<hr>\n\n<h2>UPDATE</h2>\n\n<pre><code>There are two properties named \"publishDate\" \n    this problem is related to the following location:\n        at public java.sql.Timestamp Book.getPublishDate()\n        at Book\n    this problem is related to the following location:\n        at private java.sql.Timestamp Book.publishDate\n        at Book\n</code></pre>\n\n<p>By default JAXB treats public properties (get/set method pairs) and annotated fields as mapped.  This is what's causing this part of the exception.  You need to do one of the following:</p>\n\n<ol>\n<li>Annotate the get method instead of the field.</li>\n<li>Keep the annotation on the field and specify <code>@XmlAccessorType(XmlAccessType.FIELD)</code> on your class.</li>\n</ol>\n\n<p>I have written more about this on my blog:</p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html\" rel=\"nofollow\">http://blog.bdoughan.com/2011/06/using-jaxbs-xmlaccessortype-to.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user11116209"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634854788,"creation_date":1634854788,"answer_id":69669370,"question_id":24489242,"body_markdown":"\r\n        import java.sql.Timestamp;\r\n        import java.time.LocalDateTime;\r\n        import java.time.format.DateTimeFormatter;\r\n    \r\n        import javax.xml.bind.annotation.adapters.XmlAdapter;\r\n    \r\n        public class TimestampAdapter extends XmlAdapter&lt;String, Timestamp&gt; {\r\n    \t\r\n    \tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd-HH.mm.ss.SSSSSS&quot;);\r\n    \r\n    \t@Override\r\n    \t public Timestamp unmarshal(String value) throws Exception {\r\n    \t\treturn Timestamp.valueOf(LocalDateTime.parse(value, formatter));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String marshal(Timestamp timestamp) throws Exception {\r\n    \t\treturn timestamp.toLocalDateTime().format(formatter);\r\n    \t}\r\n    }","title":"Creating adapter for Timestamp for JAXB conversion","body":"<pre><code>    import java.sql.Timestamp;\n    import java.time.LocalDateTime;\n    import java.time.format.DateTimeFormatter;\n\n    import javax.xml.bind.annotation.adapters.XmlAdapter;\n\n    public class TimestampAdapter extends XmlAdapter&lt;String, Timestamp&gt; {\n    \n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd-HH.mm.ss.SSSSSS&quot;);\n\n    @Override\n     public Timestamp unmarshal(String value) throws Exception {\n        return Timestamp.valueOf(LocalDateTime.parse(value, formatter));\n    }\n\n    @Override\n    public String marshal(Timestamp timestamp) throws Exception {\n        return timestamp.toLocalDateTime().format(formatter);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2911711,"reputation":1253,"user_id":2495752,"accept_rate":47,"display_name":"Sourabh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6837,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24490613,"answer_count":2,"score":2,"last_activity_date":1634854788,"creation_date":1404128199,"question_id":24489242,"body_markdown":"I am currently trying the JAXB library for XML to POJO conversion. I have a class which as follows :\r\n\r\n    class Student {\r\n    \r\n     String name;\r\n     Integer id;\r\n     Date dateOfBirth;\r\n     @XmlJavaTypeAdapter(TimeDateAdapter.class)\r\n     Timestamp admitTime;\r\n    \r\n     //constructor and getter setters\r\n    \r\n    }\r\n\r\nNow I want to input these fields via XML. So I reproduce xml something like :\r\n\r\n      &lt;student&gt;\r\n        &lt;name&gt;Student 1&lt;/name&gt;\r\n        &lt;id&gt;123&lt;/id&gt;\r\n        &lt;dob&gt;29-02-1991&lt;/dob&gt;\r\n        &lt;admitTime&gt;231441321413&lt;/admitTime&gt;\r\n      &lt;/student&gt;\r\n\r\nSo, as you might know it will throw an error saying it cannot convert Timestamp since there is no no-arg constructor in Timestamp class. So I will have to create an Adapter. So, I was wondering if there is a way of creating a generic adapter for Date, timestamp and maybe Calendar as well so that they can be unmarshalled and marshalled according to the implementation?\r\n\r\nEDIT: I created an Adapter for marshalling and unmarshalling my java.sql.Timestamp object from and to xml. Here is the code :\r\n\r\nimport java.sql.Timestamp;\r\n\r\nimport javax.xml.bind.annotation.adapters.XmlAdapter;\r\n\r\n\r\n    public class TimeDateAdapter extends XmlAdapter&lt;String, Timestamp&gt;{\r\n    \r\n    \t@Override\r\n    \tpublic String marshal(Timestamp v) throws Exception {\r\n    \t\treturn v.toString();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Timestamp unmarshal(String v) throws Exception {\r\n    \t\treturn new Timestamp(Long.parseLong(v));\r\n    \t}\r\n    \r\n    }\r\n\r\nIts giving me the following error : \r\n\r\n    Exception in thread &quot;main&quot; com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 3 counts of IllegalAnnotationExceptions\r\n    There are two properties named &quot;publishDate&quot; \r\n    \tthis problem is related to the following location:\r\n    \t\tat public java.sql.Timestamp Book.getPublishDate()\r\n    \t\tat Book\r\n    \tthis problem is related to the following location:\r\n    \t\tat private java.sql.Timestamp Book.publishDate\r\n    \t\tat Book\r\n    java.sql.Timestamp does not have a no-arg default constructor.\r\n    \tthis problem is related to the following location:\r\n    \t\tat java.sql.Timestamp\r\n    \t\tat public java.sql.Timestamp Book.getPublishDate()\r\n    \t\tat Book\r\n    Class has two properties of the same name &quot;publishDate&quot;\r\n    \tthis problem is related to the following location:\r\n    \t\tat public java.sql.Timestamp Book.getPublishDate()\r\n    \t\tat Book\r\n    \tthis problem is related to the following location:\r\n    \t\tat private java.sql.Timestamp Book.publishDate\r\n    \t\tat Book\r\n    \r\n    \tat com.sun.xml.bind.v2.runtime.IllegalAnnotationsException$Builder.check(IllegalAnnotationsException.java:102)\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.getTypeInfoSet(JAXBContextImpl.java:472)\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:302)\r\n    \tat com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1140)\r\n    \tat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:154)\r\n    \tat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:121)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:248)\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:235)\r\n    \tat javax.xml.bind.ContextFinder.find(ContextFinder.java:432)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:637)\r\n    \tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:584)\r\n    \tat BookMain.main(BookMain.java:42)\r\n\r\n","title":"Creating adapter for Timestamp for JAXB conversion","body":"<p>I am currently trying the JAXB library for XML to POJO conversion. I have a class which as follows :</p>\n\n<pre><code>class Student {\n\n String name;\n Integer id;\n Date dateOfBirth;\n @XmlJavaTypeAdapter(TimeDateAdapter.class)\n Timestamp admitTime;\n\n //constructor and getter setters\n\n}\n</code></pre>\n\n<p>Now I want to input these fields via XML. So I reproduce xml something like :</p>\n\n<pre><code>  &lt;student&gt;\n    &lt;name&gt;Student 1&lt;/name&gt;\n    &lt;id&gt;123&lt;/id&gt;\n    &lt;dob&gt;29-02-1991&lt;/dob&gt;\n    &lt;admitTime&gt;231441321413&lt;/admitTime&gt;\n  &lt;/student&gt;\n</code></pre>\n\n<p>So, as you might know it will throw an error saying it cannot convert Timestamp since there is no no-arg constructor in Timestamp class. So I will have to create an Adapter. So, I was wondering if there is a way of creating a generic adapter for Date, timestamp and maybe Calendar as well so that they can be unmarshalled and marshalled according to the implementation?</p>\n\n<p>EDIT: I created an Adapter for marshalling and unmarshalling my java.sql.Timestamp object from and to xml. Here is the code :</p>\n\n<p>import java.sql.Timestamp;</p>\n\n<p>import javax.xml.bind.annotation.adapters.XmlAdapter;</p>\n\n<pre><code>public class TimeDateAdapter extends XmlAdapter&lt;String, Timestamp&gt;{\n\n    @Override\n    public String marshal(Timestamp v) throws Exception {\n        return v.toString();\n    }\n\n    @Override\n    public Timestamp unmarshal(String v) throws Exception {\n        return new Timestamp(Long.parseLong(v));\n    }\n\n}\n</code></pre>\n\n<p>Its giving me the following error : </p>\n\n<pre><code>Exception in thread \"main\" com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 3 counts of IllegalAnnotationExceptions\nThere are two properties named \"publishDate\" \n    this problem is related to the following location:\n        at public java.sql.Timestamp Book.getPublishDate()\n        at Book\n    this problem is related to the following location:\n        at private java.sql.Timestamp Book.publishDate\n        at Book\njava.sql.Timestamp does not have a no-arg default constructor.\n    this problem is related to the following location:\n        at java.sql.Timestamp\n        at public java.sql.Timestamp Book.getPublishDate()\n        at Book\nClass has two properties of the same name \"publishDate\"\n    this problem is related to the following location:\n        at public java.sql.Timestamp Book.getPublishDate()\n        at Book\n    this problem is related to the following location:\n        at private java.sql.Timestamp Book.publishDate\n        at Book\n\n    at com.sun.xml.bind.v2.runtime.IllegalAnnotationsException$Builder.check(IllegalAnnotationsException.java:102)\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getTypeInfoSet(JAXBContextImpl.java:472)\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:302)\n    at com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1140)\n    at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:154)\n    at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:121)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:248)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:235)\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:432)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:637)\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:584)\n    at BookMain.main(BookMain.java:42)\n</code></pre>\n"},{"tags":["java","java-stream","remove-if"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1634849787,"post_id":69668659,"comment_id":123144849,"body_markdown":"Are methods `hashCode` / `equals` implemented properly in class `Car`?","body":"Are methods <code>hashCode</code> / <code>equals</code> implemented properly in class <code>Car</code>?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1634849789,"post_id":69668659,"comment_id":123144851,"body_markdown":"`cars1.removeAll(cars2);`","body":"<code>cars1.removeAll(cars2);</code>"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1634850020,"post_id":69668659,"comment_id":123144939,"body_markdown":"Why streams? `List.removeAll` and `List.removeIf` are way more suitable for the task.","body":"Why streams? <code>List.removeAll</code> and <code>List.removeIf</code> are way more suitable for the task."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1634853720,"creation_date":1634850982,"answer_id":69668885,"question_id":69668659,"body_markdown":"If methods `hashCode` and `equals` are properly implemented in class `Car`, the stream-based solutions may look as follows:\r\n* filter out the values, collect into a new list\r\n```java\r\n// Predicate.not added in Java 11\r\nList&lt;Car&gt; notJava11 = cars1.stream()\r\n                        .filter(Predicate.not(cars2::contains))\r\n                        .collect(Collectors.toList());\r\n\r\nList&lt;Car&gt; notIn2 = cars1.stream()\r\n                        .filter(car -&gt; !cars2.contains(car))\r\n                        .collect(Collectors.toList());\r\n\r\n```\r\n* Use `forEach` for `cars2` (affecting `cars1`):\r\n```java\r\ncars2.forEach(cars1::remove); \r\n// no need to call cars2.stream().forEach(cars1::remove);\r\n```\r\nHere the first occurrence of Car instance is removed in `cars1`\r\n* `removeIf` should work also\r\n```java\r\ncars1.removeIf(cars2::contains);\r\n```\r\n----\r\nIf you due to some reason `equals`/`hashCode` are not overridden in class `Car`, the following solution may be offered:\r\n```java\r\nList&lt;Car&gt; notIn2 = cars1\r\n        .stream()\r\n        .filter(c1 -&gt; cars2\r\n            .stream()\r\n            .noneMatch(c2 -&gt; \r\n                 c1.getId() == c2.getId()\r\n                 &amp;&amp; Objects.equals(c1.getName(), c2.getName())\r\n            )\r\n        )\r\n        .collect(Collectors.toList());\r\n```\r\n* `removeIf`:\r\n```java\r\ncars1.removeIf(c1 -&gt; cars2\r\n    .stream()\r\n    .anyMatch(c2 -&gt; c1.getId() == c2.getId() \r\n        &amp;&amp; Objects.equals(c1.getName(), c2.getName())\r\n    )\r\n);\r\n```","title":"Removing elements of one list if present in another list using stream","body":"<p>If methods <code>hashCode</code> and <code>equals</code> are properly implemented in class <code>Car</code>, the stream-based solutions may look as follows:</p>\n<ul>\n<li>filter out the values, collect into a new list</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>// Predicate.not added in Java 11\nList&lt;Car&gt; notJava11 = cars1.stream()\n                        .filter(Predicate.not(cars2::contains))\n                        .collect(Collectors.toList());\n\nList&lt;Car&gt; notIn2 = cars1.stream()\n                        .filter(car -&gt; !cars2.contains(car))\n                        .collect(Collectors.toList());\n\n</code></pre>\n<ul>\n<li>Use <code>forEach</code> for <code>cars2</code> (affecting <code>cars1</code>):</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>cars2.forEach(cars1::remove); \n// no need to call cars2.stream().forEach(cars1::remove);\n</code></pre>\n<p>Here the first occurrence of Car instance is removed in <code>cars1</code></p>\n<ul>\n<li><code>removeIf</code> should work also</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>cars1.removeIf(cars2::contains);\n</code></pre>\n<hr />\n<p>If you due to some reason <code>equals</code>/<code>hashCode</code> are not overridden in class <code>Car</code>, the following solution may be offered:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Car&gt; notIn2 = cars1\n        .stream()\n        .filter(c1 -&gt; cars2\n            .stream()\n            .noneMatch(c2 -&gt; \n                 c1.getId() == c2.getId()\n                 &amp;&amp; Objects.equals(c1.getName(), c2.getName())\n            )\n        )\n        .collect(Collectors.toList());\n</code></pre>\n<ul>\n<li><code>removeIf</code>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>cars1.removeIf(c1 -&gt; cars2\n    .stream()\n    .anyMatch(c2 -&gt; c1.getId() == c2.getId() \n        &amp;&amp; Objects.equals(c1.getName(), c2.getName())\n    )\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9175995,"reputation":130,"user_id":6821605,"display_name":"gdogra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634852773,"creation_date":1634852773,"answer_id":69669125,"question_id":69668659,"body_markdown":"It can be done simply by using removeAll() method. You have to implement hashcode and equals in Car class. \r\nThen you can `cars1.removeAll(cars2);`. this statement would leave only c1 in cars1 list.","title":"Removing elements of one list if present in another list using stream","body":"<p>It can be done simply by using removeAll() method. You have to implement hashcode and equals in Car class.\nThen you can <code>cars1.removeAll(cars2);</code>. this statement would leave only c1 in cars1 list.</p>\n"}],"owner":{"account_id":4081337,"reputation":553,"user_id":3351754,"accept_rate":4,"display_name":"Tiya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5701,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69668885,"answer_count":2,"score":-1,"last_activity_date":1634854005,"creation_date":1634849514,"question_id":69668659,"body_markdown":"I didn&#39;t find any thread here on this Question. I am trying to Remove elements (Cars in my case) of one list (cars1) if present in another list (cars2) using java stream.\r\nI tried using removeIf but then it felt like it works more appropriately with List of Strings, etc. \r\n\r\n        Car c1 = new Car();\r\n        c1.id = 1;\r\n        c1.name = &quot;C1&quot;;\r\n\r\n        Car c2 = new Car();\r\n        c2.id = 2;\r\n        c2.name = &quot;C2&quot;;\r\n\r\n        List&lt;Car&gt; cars1 = new ArrayList&lt;Car&gt;();\r\n        cars1.add(c1);\r\n        cars1.add(c2);\r\n\r\n        List&lt;Car&gt; cars2 = new ArrayList&lt;Car&gt;();\r\n        cars2.add(c2);\r\n\r\n        // TODO : Remove all the cars from cars1 list that are in cars2 list using java streams\r\n    ","title":"Removing elements of one list if present in another list using stream","body":"<p>I didn't find any thread here on this Question. I am trying to Remove elements (Cars in my case) of one list (cars1) if present in another list (cars2) using java stream.\nI tried using removeIf but then it felt like it works more appropriately with List of Strings, etc.</p>\n<pre><code>    Car c1 = new Car();\n    c1.id = 1;\n    c1.name = &quot;C1&quot;;\n\n    Car c2 = new Car();\n    c2.id = 2;\n    c2.name = &quot;C2&quot;;\n\n    List&lt;Car&gt; cars1 = new ArrayList&lt;Car&gt;();\n    cars1.add(c1);\n    cars1.add(c2);\n\n    List&lt;Car&gt; cars2 = new ArrayList&lt;Car&gt;();\n    cars2.add(c2);\n\n    // TODO : Remove all the cars from cars1 list that are in cars2 list using java streams\n</code></pre>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1633528287,"post_id":69466832,"comment_id":122783730,"body_markdown":"It&#39;s off-topic but the `OneJump Menu` will not work, the inventory that you open isn&#39;t the same as you edit. Also, I think some important code is missing to solve the issue, here it&#39;s clearly impossible to have this problem","body":"It&#39;s off-topic but the <code>OneJump Menu</code> will not work, the inventory that you open isn&#39;t the same as you edit. Also, I think some important code is missing to solve the issue, here it&#39;s clearly impossible to have this problem"},{"owner":{"account_id":22949431,"reputation":21,"user_id":17080956,"display_name":"Libration"},"score":0,"creation_date":1633530513,"post_id":69466832,"comment_id":122784811,"body_markdown":"https://sourceb.in/OBKmC3xU3a\nhttps://sourceb.in/muZ43oOnpx\n\nFull code","body":"<a href=\"https://sourceb.in/OBKmC3xU3a\" rel=\"nofollow noreferrer\">sourceb.in/OBKmC3xU3a</a> <a href=\"https://sourceb.in/muZ43oOnpx\" rel=\"nofollow noreferrer\">sourceb.in/muZ43oOnpx</a>  Full code"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633609049,"creation_date":1633530897,"answer_id":69467738,"question_id":69466832,"body_markdown":"In your case, you are create ONE inventory, and using it for EVERYONE. So each time that the player open the inventory, it will open the &quot;shared&quot; inventory.\r\n\r\nYou are doing this:\r\n```java\r\nInventory inv = Bukkit.createInventory(null, 54, &quot;Inventory&quot;); // create one instance\r\n\r\npublic void show(Player p) {\r\n   p.openInventory(inv); // everyone open same inventory instance\r\n}\r\n```\r\nSo everything will using same instance.\r\n\r\nIn your first code example, that was better :\r\n```java\r\npublic Inventory createInventory() {\r\n   return Bukkit.createInventory(null, 54, &quot;Inventory&quot;); // create a new inventory\r\n}\r\n\r\npublic void showBasicJump(Player p) { // show an inventory to the given player\r\n   Inventory myInv = createInventory(); // create a new inv, for thi splayer\r\n   myInv.setItem(0, new ItemStack(Material.STICK); // set item\r\n   basicInventorySet1(player, myInv); // call your method that change all items\r\n   p.openInventory(myInv); // final inventory\r\n}\r\n\r\npublic void updateBasicJumpInv(InventoryClickEvent e, Player player) { // before this, you made all check about inv\r\n   Inventory openInv = e.getClickedInventory(); // get the current opened inv. Can also work with player.getOpenInventory()\r\n   basicInventorySet1(player, openInv);\r\n   p.updateInventory(); // update player inv\r\n}\r\n```\r\nThat will create a new instance each time that you will open a new inventory.","title":"Can I make the inventory to be updated when clicking the item in another GUI, individually?","body":"<p>In your case, you are create ONE inventory, and using it for EVERYONE. So each time that the player open the inventory, it will open the &quot;shared&quot; inventory.</p>\n<p>You are doing this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Inventory inv = Bukkit.createInventory(null, 54, &quot;Inventory&quot;); // create one instance\n\npublic void show(Player p) {\n   p.openInventory(inv); // everyone open same inventory instance\n}\n</code></pre>\n<p>So everything will using same instance.</p>\n<p>In your first code example, that was better :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Inventory createInventory() {\n   return Bukkit.createInventory(null, 54, &quot;Inventory&quot;); // create a new inventory\n}\n\npublic void showBasicJump(Player p) { // show an inventory to the given player\n   Inventory myInv = createInventory(); // create a new inv, for thi splayer\n   myInv.setItem(0, new ItemStack(Material.STICK); // set item\n   basicInventorySet1(player, myInv); // call your method that change all items\n   p.openInventory(myInv); // final inventory\n}\n\npublic void updateBasicJumpInv(InventoryClickEvent e, Player player) { // before this, you made all check about inv\n   Inventory openInv = e.getClickedInventory(); // get the current opened inv. Can also work with player.getOpenInventory()\n   basicInventorySet1(player, openInv);\n   p.updateInventory(); // update player inv\n}\n</code></pre>\n<p>That will create a new instance each time that you will open a new inventory.</p>\n"}],"owner":{"account_id":22949431,"reputation":21,"user_id":17080956,"display_name":"Libration"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1737,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":69467738,"answer_count":1,"score":-2,"last_activity_date":1634853602,"creation_date":1633527450,"question_id":69466832,"body_markdown":"I&#39;m making a GUI for my parkour server, but I have a problem:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n([YT link](https://youtu.be/BgBMzQ_9XHU), can expire)\r\n\r\nAs you can see, other player&#39;s GUI also updated when I click next page.\r\n\r\nI also tried set the owner of Inventory not to be null (so individually), but it just showed the mpty GUI.\r\n\r\nHow can I fix this? I searched a lot and tried lots of thing but couldn&#39;t find the answer.\r\n\r\n```java\r\n// the showed inventory\r\nInventory basicInv = Bukkit.createInventory(null, 54, &quot;Basic Jumps&quot;);\r\n\r\n@EventHandler\r\npublic void clickInv(InventoryClickEvent event) {\r\n\r\n    Player player = (Player) event.getWhoClicked();\r\n\r\n    if (event.getClickedInventory() == null) return;\r\n\r\n    if (event.getCurrentItem() == null) return;\r\n    if (event.getCurrentItem().getItemMeta() == null) return;\r\n    if (event.getCurrentItem().getItemMeta().getDisplayName() == null) return;\r\n\r\n    if (event.getCurrentItem().getItemMeta().getDisplayName().equals(&quot; &quot;)) {\r\n        event.setCancelled(true);\r\n    }\r\n\r\n    switch (event.getClickedInventory().getName()) {\r\n        case &quot;OneJump Menu&quot;:\r\n            if (event.getCurrentItem().getItemMeta().getDisplayName().equals(basicName)\r\n                    &amp;&amp; event.getCurrentItem().getItemMeta().getLore().equals(Collections.singletonList(ChatColor.GRAY + &quot;Includes very historical and original jumps.&quot;))) {\r\n                player.openInventory(basicInv);\r\n                basicInventorySet1(player, basicInv);\r\n                event.setCancelled(true);\r\n\r\n                plugin.getPlayerConfig().set(&quot;Player.&quot; + player.getUniqueId() + &quot;.PlayingJumpType&quot;, &quot;basicjump&quot;);\r\n                plugin.savePlayerConfig();\r\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(DisplayName)\r\n                    || event.getCurrentItem().getItemMeta().getDisplayName().equals(basicName)) {\r\n                event.setCancelled(true);\r\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(&quot; &quot;)) {\r\n                event.setCancelled(true);\r\n            } else {\r\n                event.setCancelled(true);\r\n                player.closeInventory();\r\n                sendMessage(player, &quot;&#167;cComing soon!&quot;, &quot;현재 개발 중입니다!&quot;);\r\n            }\r\n            break;\r\n        case &quot;Basic Jumps&quot;:\r\n            if (event.getCurrentItem().getItemMeta().getDisplayName().equals(pg2Name)) {\r\n                event.setCancelled(true);\r\n                basicInventorySet2(player, basicInv);\r\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(pg1Name)) {\r\n                event.setCancelled(true);\r\n                basicInventorySet1(player, basicInv);\r\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(pg3Name)) {\r\n                event.setCancelled(true);\r\n                basicInventorySet3(player, basicInv);\r\n            }\r\n            break;\r\n    }\r\n\r\n}\r\n```\r\n\r\nFull source: [BasicInv.java](https://sourceb.in/OBKmC3xU3a) [OjMenu.java](https://sourceb.in/muZ43oOnpx)\r\n\r\n  [1]: https://i.stack.imgur.com/MBbGm.gif","title":"Can I make the inventory to be updated when clicking the item in another GUI, individually?","body":"<p>I'm making a GUI for my parkour server, but I have a problem:</p>\n<p><a href=\"https://i.stack.imgur.com/MBbGm.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MBbGm.gif\" alt=\"enter image description here\" /></a></p>\n<p>(<a href=\"https://youtu.be/BgBMzQ_9XHU\" rel=\"nofollow noreferrer\">YT link</a>, can expire)</p>\n<p>As you can see, other player's GUI also updated when I click next page.</p>\n<p>I also tried set the owner of Inventory not to be null (so individually), but it just showed the mpty GUI.</p>\n<p>How can I fix this? I searched a lot and tried lots of thing but couldn't find the answer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// the showed inventory\nInventory basicInv = Bukkit.createInventory(null, 54, &quot;Basic Jumps&quot;);\n\n@EventHandler\npublic void clickInv(InventoryClickEvent event) {\n\n    Player player = (Player) event.getWhoClicked();\n\n    if (event.getClickedInventory() == null) return;\n\n    if (event.getCurrentItem() == null) return;\n    if (event.getCurrentItem().getItemMeta() == null) return;\n    if (event.getCurrentItem().getItemMeta().getDisplayName() == null) return;\n\n    if (event.getCurrentItem().getItemMeta().getDisplayName().equals(&quot; &quot;)) {\n        event.setCancelled(true);\n    }\n\n    switch (event.getClickedInventory().getName()) {\n        case &quot;OneJump Menu&quot;:\n            if (event.getCurrentItem().getItemMeta().getDisplayName().equals(basicName)\n                    &amp;&amp; event.getCurrentItem().getItemMeta().getLore().equals(Collections.singletonList(ChatColor.GRAY + &quot;Includes very historical and original jumps.&quot;))) {\n                player.openInventory(basicInv);\n                basicInventorySet1(player, basicInv);\n                event.setCancelled(true);\n\n                plugin.getPlayerConfig().set(&quot;Player.&quot; + player.getUniqueId() + &quot;.PlayingJumpType&quot;, &quot;basicjump&quot;);\n                plugin.savePlayerConfig();\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(DisplayName)\n                    || event.getCurrentItem().getItemMeta().getDisplayName().equals(basicName)) {\n                event.setCancelled(true);\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(&quot; &quot;)) {\n                event.setCancelled(true);\n            } else {\n                event.setCancelled(true);\n                player.closeInventory();\n                sendMessage(player, &quot;§cComing soon!&quot;, &quot;현재 개발 중입니다!&quot;);\n            }\n            break;\n        case &quot;Basic Jumps&quot;:\n            if (event.getCurrentItem().getItemMeta().getDisplayName().equals(pg2Name)) {\n                event.setCancelled(true);\n                basicInventorySet2(player, basicInv);\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(pg1Name)) {\n                event.setCancelled(true);\n                basicInventorySet1(player, basicInv);\n            } else if (event.getCurrentItem().getItemMeta().getDisplayName().equals(pg3Name)) {\n                event.setCancelled(true);\n                basicInventorySet3(player, basicInv);\n            }\n            break;\n    }\n\n}\n</code></pre>\n<p>Full source: <a href=\"https://sourceb.in/OBKmC3xU3a\" rel=\"nofollow noreferrer\">BasicInv.java</a> <a href=\"https://sourceb.in/muZ43oOnpx\" rel=\"nofollow noreferrer\">OjMenu.java</a></p>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":1798570,"reputation":1339,"user_id":1637422,"accept_rate":64,"display_name":"Depressio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1634853317,"creation_date":1634853010,"question_id":69669153,"body_markdown":" I&#39;m using `ScrollableResults` in Hibernate and iterating through millions of records. It&#39;s taking quite a bit of time, so I did some profiling with YourKit to try and figure out how we can make this iteration faster. I expected the time to be mostly spent in either fetching from Oracle, or hydrating objects... but to my surprise, it seems to be spending a large chunk of time calling `System.identityHashCode`.\r\n\r\nPertinent part of the profile:\r\n\r\n[![ScrollableResults.next() Profile][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yPK5B.png\r\n\r\nThere are 3 major things that seem to be taking time here:\r\n\r\n1. `T4CPreparedStatement.fetch` - This is fetching from Oracle, about 13% of the time spent.\r\n2. `AbstractEntityPersister.hydrate` - This is creating the objects from the `ResultSet`. Quite large, but I think I can mitigate a lot of this via other means. About 29% of the time.\r\n3. `EntityEntryContext.addEntityEntry` - This is where I have no clue how to improve because it&#39;s all spent in `System.identityHashCode`. It&#39;s 58% of the execution time.\r\n\r\nI will note that this is quite an old version of Hibernate: 4.3.11, along with the elder JDK 8.\r\n\r\nMy `ScrollableResults` are being created this way:\r\n\r\n    CriteriaQuery query = ...;\r\n    ScrollableResults results = entityManager.createQuery(query)\r\n        .unwrap(Query.class)\r\n        .setReadOnly(true)\r\n        .setFetchSize(20000)\r\n        .setCacheable(false)\r\n        .scroll(ScrollMode.FORWARD_ONLY);\r\n\r\nSo, a couple questions:\r\n\r\n- Is there a way to avoid `StatefulPersistenceContext.addEntity` at all? We&#39;re not modifying any of these entities being returned, it&#39;s purely read-only, so I&#39;m not sure why we need a persistent context... though I admit, my knowledge of the internals of Hibernate is severely lacking.\r\n- Is there a way to speed up `System.identityHashCode`? The object has a lot of properties, mostly Strings and floats, but there are two `LocalDate` properties as well. Part of improving the object hydration will be changing from `LocalDate` to `Integer`... would that help? Unfortunately, YourKit isn&#39;t allowing me to drill further there (probably because it&#39;s a `native` method), so I&#39;ve no idea.\r\n\r\nAny insight is much appreciated!\r\n","title":"Hibernate loader spending a lot of time in System.identityHashCode","body":"<p>I'm using <code>ScrollableResults</code> in Hibernate and iterating through millions of records. It's taking quite a bit of time, so I did some profiling with YourKit to try and figure out how we can make this iteration faster. I expected the time to be mostly spent in either fetching from Oracle, or hydrating objects... but to my surprise, it seems to be spending a large chunk of time calling <code>System.identityHashCode</code>.</p>\n<p>Pertinent part of the profile:</p>\n<p><a href=\"https://i.stack.imgur.com/yPK5B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yPK5B.png\" alt=\"ScrollableResults.next() Profile\" /></a></p>\n<p>There are 3 major things that seem to be taking time here:</p>\n<ol>\n<li><code>T4CPreparedStatement.fetch</code> - This is fetching from Oracle, about 13% of the time spent.</li>\n<li><code>AbstractEntityPersister.hydrate</code> - This is creating the objects from the <code>ResultSet</code>. Quite large, but I think I can mitigate a lot of this via other means. About 29% of the time.</li>\n<li><code>EntityEntryContext.addEntityEntry</code> - This is where I have no clue how to improve because it's all spent in <code>System.identityHashCode</code>. It's 58% of the execution time.</li>\n</ol>\n<p>I will note that this is quite an old version of Hibernate: 4.3.11, along with the elder JDK 8.</p>\n<p>My <code>ScrollableResults</code> are being created this way:</p>\n<pre><code>CriteriaQuery query = ...;\nScrollableResults results = entityManager.createQuery(query)\n    .unwrap(Query.class)\n    .setReadOnly(true)\n    .setFetchSize(20000)\n    .setCacheable(false)\n    .scroll(ScrollMode.FORWARD_ONLY);\n</code></pre>\n<p>So, a couple questions:</p>\n<ul>\n<li>Is there a way to avoid <code>StatefulPersistenceContext.addEntity</code> at all? We're not modifying any of these entities being returned, it's purely read-only, so I'm not sure why we need a persistent context... though I admit, my knowledge of the internals of Hibernate is severely lacking.</li>\n<li>Is there a way to speed up <code>System.identityHashCode</code>? The object has a lot of properties, mostly Strings and floats, but there are two <code>LocalDate</code> properties as well. Part of improving the object hydration will be changing from <code>LocalDate</code> to <code>Integer</code>... would that help? Unfortunately, YourKit isn't allowing me to drill further there (probably because it's a <code>native</code> method), so I've no idea.</li>\n</ul>\n<p>Any insight is much appreciated!</p>\n"},{"tags":["java","caching","chronicle-map","hft"],"comments":[{"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"score":0,"creation_date":1634817437,"post_id":69659871,"comment_id":123131420,"body_markdown":"You are addressing multiple problems in your question. Stackoverflow isn&#39;t meant for programming support and debugging. Also your actual problem cannot be reproduces, since code is missing how the map is actually used. I suggest extracting a questions or multiple questions that fit the stack overflow format. E.g. start with the problem of contention.","body":"You are addressing multiple problems in your question. Stackoverflow isn&#39;t meant for programming support and debugging. Also your actual problem cannot be reproduces, since code is missing how the map is actually used. I suggest extracting a questions or multiple questions that fit the stack overflow format. E.g. start with the problem of contention."},{"owner":{"account_id":9132976,"reputation":69,"user_id":6793827,"display_name":"P K"},"score":0,"creation_date":1634904540,"post_id":69659871,"comment_id":123158699,"body_markdown":"@cruftex I&#39;m not looking for programming support. Just want to understand whether the Chronicle map supports multiple instances within the same JVM, why it is behaving slow when the number of entries in the map increase and why it is throwing the size exception when the constantValueBySample is known to be a double[3][2]","body":"@cruftex I&#39;m not looking for programming support. Just want to understand whether the Chronicle map supports multiple instances within the same JVM, why it is behaving slow when the number of entries in the map increase and why it is throwing the size exception when the constantValueBySample is known to be a double[3][2]"}],"owner":{"account_id":9132976,"reputation":69,"user_id":6793827,"display_name":"P K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634853050,"creation_date":1634810471,"question_id":69659871,"body_markdown":"I&#39;m creating multiple chronicle maps just to avoid contention between threads. I have 10 threads that need something from the cache. With a single cache I observed continuously increasing putAll() [putting 2016 double[3][2] arrays) with each putAll] times (up to 2.6 seconds). So I put in 10 caches avoiding contention by making keys in a cache never collide with another thread. The GC pauses came out to be as long as 45 seconds compared to ~ 50 ms with a single chronicle map.\r\n\r\n```\r\n  private final ChronicleMap&lt;CharSequence, double[][]&gt;[] cache = new ChronicleMap[totalCaches];\r\n\r\n    for (int i = 0; i &lt; totalCaches; i++) {\r\n      try {\r\n        cache[i] =\r\n            ChronicleMap.of(CharSequence.class, double[][].class)\r\n                .entriesPerSegment(1000000)\r\n                .averageKeySize(44.0)\r\n                .averageValueSize(119.0)\r\n                .entries(40320000)\r\n                .maxBloatFactor(10.0)\r\n                .name(CACHE_NAME.concat(String.valueOf(i)))\r\n                .putReturnsNull(true)\r\n                .createOrRecoverPersistedTo(\r\n                    new File(\r\n                        &quot;/var/opt/cache/&quot;\r\n                            .concat(CACHE_NAME)\r\n                            .concat(String.valueOf(i))\r\n                            .concat(&quot;.dat&quot;)));\r\n      } catch (final IOException e) {\r\n        LOGGER.error(&quot;GA cache init error&quot;, e);\r\n      }\r\n    }\r\n```\r\n\r\nAnother problem is that I tried specifying constantValueBySample with a double[][] object and it threw exception stating value size should be 119 which doesn&#39;t make sense.\r\n\r\n```\r\n    double[][] sample = new double[][]{{Math.random(), Math.random()},\r\n                                       {Math.random(), Math.random()},\r\n                                       {Math.random(), Math.random()}}; \r\n    for (int i = 0; i &lt; totalCaches; i++) {\r\n      try {\r\n        cache[i] =\r\n            ChronicleMap.of(CharSequence.class, double[][].class)\r\n                .entriesPerSegment(1000000)\r\n                .averageKeySize(44.0)\r\n                .constantValueSizeBySample(sample)\r\n                .entries(40320000)\r\n                .maxBloatFactor(10.0)\r\n                .name(CACHE_NAME.concat(String.valueOf(i)))\r\n                .putReturnsNull(true)\r\n                .createOrRecoverPersistedTo(\r\n                    new File(\r\n                        &quot;/var/opt/cache/&quot;\r\n                            .concat(CACHE_NAME)\r\n                            .concat(String.valueOf(i))\r\n                            .concat(&quot;.dat&quot;)));\r\n      } catch (final IOException e) {\r\n        LOGGER.error(&quot;GA cache init error&quot;, e);\r\n      }\r\n    }\r\n```\r\n","title":"Multiple chronicle maps in same application causing long GC pauses","body":"<p>I'm creating multiple chronicle maps just to avoid contention between threads. I have 10 threads that need something from the cache. With a single cache I observed continuously increasing putAll() [putting 2016 double[3][2] arrays) with each putAll] times (up to 2.6 seconds). So I put in 10 caches avoiding contention by making keys in a cache never collide with another thread. The GC pauses came out to be as long as 45 seconds compared to ~ 50 ms with a single chronicle map.</p>\n<pre><code>  private final ChronicleMap&lt;CharSequence, double[][]&gt;[] cache = new ChronicleMap[totalCaches];\n\n    for (int i = 0; i &lt; totalCaches; i++) {\n      try {\n        cache[i] =\n            ChronicleMap.of(CharSequence.class, double[][].class)\n                .entriesPerSegment(1000000)\n                .averageKeySize(44.0)\n                .averageValueSize(119.0)\n                .entries(40320000)\n                .maxBloatFactor(10.0)\n                .name(CACHE_NAME.concat(String.valueOf(i)))\n                .putReturnsNull(true)\n                .createOrRecoverPersistedTo(\n                    new File(\n                        &quot;/var/opt/cache/&quot;\n                            .concat(CACHE_NAME)\n                            .concat(String.valueOf(i))\n                            .concat(&quot;.dat&quot;)));\n      } catch (final IOException e) {\n        LOGGER.error(&quot;GA cache init error&quot;, e);\n      }\n    }\n</code></pre>\n<p>Another problem is that I tried specifying constantValueBySample with a double[][] object and it threw exception stating value size should be 119 which doesn't make sense.</p>\n<pre><code>    double[][] sample = new double[][]{{Math.random(), Math.random()},\n                                       {Math.random(), Math.random()},\n                                       {Math.random(), Math.random()}}; \n    for (int i = 0; i &lt; totalCaches; i++) {\n      try {\n        cache[i] =\n            ChronicleMap.of(CharSequence.class, double[][].class)\n                .entriesPerSegment(1000000)\n                .averageKeySize(44.0)\n                .constantValueSizeBySample(sample)\n                .entries(40320000)\n                .maxBloatFactor(10.0)\n                .name(CACHE_NAME.concat(String.valueOf(i)))\n                .putReturnsNull(true)\n                .createOrRecoverPersistedTo(\n                    new File(\n                        &quot;/var/opt/cache/&quot;\n                            .concat(CACHE_NAME)\n                            .concat(String.valueOf(i))\n                            .concat(&quot;.dat&quot;)));\n      } catch (final IOException e) {\n        LOGGER.error(&quot;GA cache init error&quot;, e);\n      }\n    }\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1634829411,"post_id":69664113,"comment_id":123137206,"body_markdown":"what do you mean by top 3 ? and you wanna get for specific item ? or for all items ?, can you show expected output ?","body":"what do you mean by top 3 ? and you wanna get for specific item ? or for all items ?, can you show expected output ?"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1634829512,"post_id":69664113,"comment_id":123137247,"body_markdown":"Is this a school assignment that requires use of a `Stream`? It can certainly be done, but for large datasets, using a heap is more efficient and probably more readable than the approach I have in mind for a stream.","body":"Is this a school assignment that requires use of a <code>Stream</code>? It can certainly be done, but for large datasets, using a heap is more efficient and probably more readable than the approach I have in mind for a stream."},{"owner":{"account_id":4504913,"reputation":579,"user_id":3681032,"accept_rate":30,"display_name":"Linkx_lair"},"score":0,"creation_date":1634829586,"post_id":69664113,"comment_id":123137276,"body_markdown":"@erickson Its not a school assignment - just a personal project and trying to better grasp how to effectively use streams.","body":"@erickson Its not a school assignment - just a personal project and trying to better grasp how to effectively use streams."},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1634834345,"post_id":69664113,"comment_id":123139514,"body_markdown":"I am kind of confused by the code, that .stream().map seems like incomplete code and was intended to be a call to map() perhaps?","body":"I am kind of confused by the code, that .stream().map seems like incomplete code and was intended to be a call to map() perhaps?"},{"owner":{"account_id":4504913,"reputation":579,"user_id":3681032,"accept_rate":30,"display_name":"Linkx_lair"},"score":0,"creation_date":1634834447,"post_id":69664113,"comment_id":123139559,"body_markdown":"@Gimby - that is where i am stuck. I am not sure how to process the Map object from the groupingBy","body":"@Gimby - that is where i am stuck. I am not sure how to process the Map object from the groupingBy"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1634890119,"post_id":69664113,"comment_id":123152860,"body_markdown":"Well... then you miscommunicated that pretty badly by putting the &quot;stuck here&quot; on the forEach.","body":"Well... then you miscommunicated that pretty badly by putting the &quot;stuck here&quot; on the forEach."}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634852797,"creation_date":1634829858,"answer_id":69664696,"question_id":69664113,"body_markdown":"Well, you could take the following steps:\r\n\r\n* With `groupingBy(Shop::getItem)`, you could create a map which sorts by the item, so your result would be a `Map&lt;String, List&lt;Shop&gt;&gt;`, where the list contains all shops with that item.\r\n\r\n* Now we need to sort the `List&lt;Shop&gt;` in reversed order, so the top items of the list are the shops with the largest size. In order to do this, we could use `collectingAndThen` as *downstream collector* to `groupingBy`.\r\n\r\n    ```java\r\n    Collectors.collectingAndThen(Collectors.toList(), finisherFunction);\r\n    ```\r\n\r\n    Our *finisher function* should sort the list:\r\n\r\n    ```java\r\n    list -&gt; {\r\n        Collections.sort(list, Comparator.comparing(Shop::size).reversed());\r\n        return list;\r\n    }\r\n    ```\r\n\r\n    This would result in a `Map&lt;String, List&lt;Shop&gt;&gt;`, where the list is sorted, highest size first.\r\n\r\n* Now the only thing we need to do, is limiting the list size to 3. We could use `subList`. I think `subList` throws an exception if the list contains less than 3 items, so we need to use `Math.min(3, list.size())` to take this into account.\r\n\r\n    ```java\r\n    list -&gt; {\r\n        Collections.sort(list, Comparator.comparing(Shop::size).reversed());\r\n        return list.subList(0, Math.min(3, list.size()));\r\n    }\r\n    ```\r\n\r\nThe whole code then looks like this:\r\n\r\n```java\r\nshops.stream()\r\n    .collect(groupingBy(Shop::item, Collectors.collectingAndThen(Collectors.toList(), list -&gt; {\r\n        Collections.sort(list, Comparator.comparing(Shop::size).reversed());\r\n        return list.subList(0, Math.min(3, list.size()));\r\n    })));\r\n```\r\n\r\n[&lt;kbd&gt;Online demo&lt;/kbd&gt;][1]\r\n\r\n---\r\n\r\nInstead of &#39;manually&#39; sorting the list and limiting it to 3, you could create a small class which automatically does this — both limit and sort the list upon adding elements.\r\n\r\n[1]: https://ideone.com/qUl2BS","title":"find the largest 3 shops using java stream","body":"<p>Well, you could take the following steps:</p>\n<ul>\n<li><p>With <code>groupingBy(Shop::getItem)</code>, you could create a map which sorts by the item, so your result would be a <code>Map&lt;String, List&lt;Shop&gt;&gt;</code>, where the list contains all shops with that item.</p>\n</li>\n<li><p>Now we need to sort the <code>List&lt;Shop&gt;</code> in reversed order, so the top items of the list are the shops with the largest size. In order to do this, we could use <code>collectingAndThen</code> as <em>downstream collector</em> to <code>groupingBy</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collectors.collectingAndThen(Collectors.toList(), finisherFunction);\n</code></pre>\n<p>Our <em>finisher function</em> should sort the list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>list -&gt; {\n    Collections.sort(list, Comparator.comparing(Shop::size).reversed());\n    return list;\n}\n</code></pre>\n<p>This would result in a <code>Map&lt;String, List&lt;Shop&gt;&gt;</code>, where the list is sorted, highest size first.</p>\n</li>\n<li><p>Now the only thing we need to do, is limiting the list size to 3. We could use <code>subList</code>. I think <code>subList</code> throws an exception if the list contains less than 3 items, so we need to use <code>Math.min(3, list.size())</code> to take this into account.</p>\n<pre class=\"lang-java prettyprint-override\"><code>list -&gt; {\n    Collections.sort(list, Comparator.comparing(Shop::size).reversed());\n    return list.subList(0, Math.min(3, list.size()));\n}\n</code></pre>\n</li>\n</ul>\n<p>The whole code then looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>shops.stream()\n    .collect(groupingBy(Shop::item, Collectors.collectingAndThen(Collectors.toList(), list -&gt; {\n        Collections.sort(list, Comparator.comparing(Shop::size).reversed());\n        return list.subList(0, Math.min(3, list.size()));\n    })));\n</code></pre>\n<p><a href=\"https://ideone.com/qUl2BS\" rel=\"nofollow noreferrer\"><kbd>Online demo</kbd></a></p>\n<hr />\n<p>Instead of 'manually' sorting the list and limiting it to 3, you could create a small class which automatically does this — both limit and sort the list upon adding elements.</p>\n"},{"tags":[],"owner":{"account_id":4501201,"reputation":4375,"user_id":3659670,"display_name":"Conffusion"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634832783,"creation_date":1634832783,"answer_id":69665402,"question_id":69664113,"body_markdown":"Not as fancy as MC Emperor but it seems to work.\r\nI started from the part you already did:\r\n\r\n    shops.stream().collect(Collectors.groupingBy(Shop::getItem))\r\n\t\t\t.entrySet().stream().map(entry -&gt; {\r\n                entry.setValue(entry.getValue().stream()\r\n                  .sorted(Comparator.comparingInt(s-&gt;-s.size))\r\n                  .limit(3) // only keep top 3\r\n                  .collect(Collectors.toList()));\r\n\t\t\t    return entry;\r\n\t\t}).forEach(item -&gt; {\r\n\t\t\tSystem.out.println(item.getKey()+&quot;:&quot;+item.getValue());\r\n\t\t});","title":"find the largest 3 shops using java stream","body":"<p>Not as fancy as MC Emperor but it seems to work.\nI started from the part you already did:</p>\n<pre><code>shops.stream().collect(Collectors.groupingBy(Shop::getItem))\n        .entrySet().stream().map(entry -&gt; {\n            entry.setValue(entry.getValue().stream()\n              .sorted(Comparator.comparingInt(s-&gt;-s.size))\n              .limit(3) // only keep top 3\n              .collect(Collectors.toList()));\n            return entry;\n    }).forEach(item -&gt; {\n        System.out.println(item.getKey()+&quot;:&quot;+item.getValue());\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11953108,"reputation":1423,"user_id":8746228,"display_name":"adarsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634842882,"creation_date":1634842882,"answer_id":69667454,"question_id":69664113,"body_markdown":"You can use `groupingBy` along with `limit` to get desired result:\r\n\r\n```java\r\nimport static java.util.stream.Collectors.*;\r\n\r\n// Define the sort logic. reversed() applies asc order (Default is desc)\r\nComparator&lt;Shop&gt; sortBySize = Comparator.comparingInt(Shop::getSize).reversed();\r\nint limit = 3; // top n items\r\n\r\nvar itemToTopNShopsMap = list.stream().collect(\r\n        collectingAndThen(groupingBy(Shop::getItem),\r\n                itemToShopsMap -&gt; getTopNShops(sortBySize, itemToShopsMap, limit)));\r\n\r\n\r\nstatic Map&lt;String, List&lt;Shop&gt;&gt; getTopNShops(Comparator&lt;Shop&gt; sortBy, Map&lt;String, List&lt;Shop&gt;&gt; inMap, int limit) {\r\n    var returningMap = new HashMap&lt;String, List&lt;Shop&gt;&gt;();\r\n    for (var i : inMap.entrySet()) {\r\n        returningMap.put(i.getKey(),  i.getValue().stream().sorted(sortBy).limit(Long.valueOf(limit)).collect(toList()));\r\n    }\r\n    return returningMap;\r\n}\r\n\r\n```\r\nWe took following steps:\r\n1) Group the List by &#39;item&#39;\r\n2) For each grouping, i.e., item to list of shops entry, we sort the list of shops by predefined sort logic and collect (`limit`) the top n results.\r\n\r\n**Note:** &lt;br&gt;\r\nIn static method `getTopNShops`, mutation of source map is avoided. We could have written this method as a stream, but the stream version may have been less readable than the `foreach` loop.\r\n","title":"find the largest 3 shops using java stream","body":"<p>You can use <code>groupingBy</code> along with <code>limit</code> to get desired result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.stream.Collectors.*;\n\n// Define the sort logic. reversed() applies asc order (Default is desc)\nComparator&lt;Shop&gt; sortBySize = Comparator.comparingInt(Shop::getSize).reversed();\nint limit = 3; // top n items\n\nvar itemToTopNShopsMap = list.stream().collect(\n        collectingAndThen(groupingBy(Shop::getItem),\n                itemToShopsMap -&gt; getTopNShops(sortBySize, itemToShopsMap, limit)));\n\n\nstatic Map&lt;String, List&lt;Shop&gt;&gt; getTopNShops(Comparator&lt;Shop&gt; sortBy, Map&lt;String, List&lt;Shop&gt;&gt; inMap, int limit) {\n    var returningMap = new HashMap&lt;String, List&lt;Shop&gt;&gt;();\n    for (var i : inMap.entrySet()) {\n        returningMap.put(i.getKey(),  i.getValue().stream().sorted(sortBy).limit(Long.valueOf(limit)).collect(toList()));\n    }\n    return returningMap;\n}\n\n</code></pre>\n<p>We took following steps:</p>\n<ol>\n<li>Group the List by 'item'</li>\n<li>For each grouping, i.e., item to list of shops entry, we sort the list of shops by predefined sort logic and collect (<code>limit</code>) the top n results.</li>\n</ol>\n<p><strong>Note:</strong> <br>\nIn static method <code>getTopNShops</code>, mutation of source map is avoided. We could have written this method as a stream, but the stream version may have been less readable than the <code>foreach</code> loop.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634851332,"creation_date":1634847566,"answer_id":69668293,"question_id":69664113,"body_markdown":"The most important thing that you can learn about streams is that they aren&#39;t inherently &quot;better&quot; than equivalent approaches by any measure. Sometimes, they make code more readable, other times, less so. Use them to clarify your code, and avoid them when they obfuscate it.\r\n\r\nThis is a case where your code will be far more readable by using a collector for this purpose. Coding your own is fairly easy, and if you really want to understand streams better, I recommend it as a simple learning exercise.\r\n\r\nHere, I&#39;m using [`MoreCollectors.greatest()`][1] from the StreamEx library:\r\n\r\n```java\r\nComparator&lt;Shop&gt; bySize = Comparator.comparingInt(Shop::getSize);\r\nMap&lt;String, List&lt;Shop&gt;&gt; biggestByItem\r\n    = shops.stream().collect(groupingBy(Shop::getItem, greatest(bySize, 3)));\r\n```\r\n\r\nThis isn&#39;t better because it&#39;s shorter, or because it is faster and uses constant memory; it&#39;s better because complexity is factored out of the code, and hidden behind meaningful names that explain the behavior. Instead of littering your application with complex pipelines that need to be read, tested, and maintained independently, you have written (or referenced) a reusable collector with a clear behavior.\r\n\r\nAs I mentioned, there is a bit of a learning curve in understanding how the pieces of a `Collector` work together, but it&#39;s worth studying. Here&#39;s a possible implementation for a similar collector:\r\n\r\n```java\r\npublic static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; top(int limit, Comparator&lt;? super T&gt; order) {\r\n    if (limit &lt; 1) throw new IndexOutOfBoundsException(limit);\r\n    Objects.requireNonNull(order);\r\n\r\n    Supplier&lt;Queue&lt;T&gt;&gt; supplier = () -&gt; new PriorityQueue&lt;&gt;(order);\r\n    BiConsumer&lt;Queue&lt;T&gt;, T&gt; accumulator = (q, e) -&gt; collect(order, limit, q, e);\r\n    BinaryOperator&lt;Queue&lt;T&gt;&gt; combiner = (q1, q2) -&gt; {\r\n        q2.forEach(e -&gt; collect(order, limit, q1, e));\r\n        return q1;\r\n    };\r\n    Function&lt;Queue&lt;T&gt;, List&lt;T&gt;&gt; finisher = q -&gt; {\r\n        List&lt;T&gt; list = new ArrayList&lt;&gt;(q);\r\n        Collections.reverse(list);\r\n        return list;\r\n    };\r\n    return Collector.of(supplier, accumulator, combiner, finisher, Collector.Characteristics.UNORDERED);\r\n}\r\n\r\nprivate static &lt;T&gt; void collect(Comparator&lt;? super T&gt; order, int limit, Queue&lt;T&gt; q, T e) {\r\n    if (q.size() &lt; limit) {\r\n        q.add(e);\r\n    } else if (order.compare(e, q.peek()) &gt; 0) {\r\n        q.remove();\r\n        q.add(e);\r\n    }\r\n}\r\n```\r\n\r\nGiven this factory, it&#39;s trivial to create others that give you `bottom(3, bySize)`, etc.\r\n\r\nYou may be interested in this [related question][2] and its answers.\r\n\r\n\r\n  [1]: http://amaembo.github.io/streamex/javadoc/one/util/streamex/MoreCollectors.html#greatest(java.util.Comparator,int)\r\n  [2]: https://stackoverflow.com/q/31575043/3474","title":"find the largest 3 shops using java stream","body":"<p>The most important thing that you can learn about streams is that they aren't inherently &quot;better&quot; than equivalent approaches by any measure. Sometimes, they make code more readable, other times, less so. Use them to clarify your code, and avoid them when they obfuscate it.</p>\n<p>This is a case where your code will be far more readable by using a collector for this purpose. Coding your own is fairly easy, and if you really want to understand streams better, I recommend it as a simple learning exercise.</p>\n<p>Here, I'm using <a href=\"http://amaembo.github.io/streamex/javadoc/one/util/streamex/MoreCollectors.html#greatest(java.util.Comparator,int)\" rel=\"nofollow noreferrer\"><code>MoreCollectors.greatest()</code></a> from the StreamEx library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator&lt;Shop&gt; bySize = Comparator.comparingInt(Shop::getSize);\nMap&lt;String, List&lt;Shop&gt;&gt; biggestByItem\n    = shops.stream().collect(groupingBy(Shop::getItem, greatest(bySize, 3)));\n</code></pre>\n<p>This isn't better because it's shorter, or because it is faster and uses constant memory; it's better because complexity is factored out of the code, and hidden behind meaningful names that explain the behavior. Instead of littering your application with complex pipelines that need to be read, tested, and maintained independently, you have written (or referenced) a reusable collector with a clear behavior.</p>\n<p>As I mentioned, there is a bit of a learning curve in understanding how the pieces of a <code>Collector</code> work together, but it's worth studying. Here's a possible implementation for a similar collector:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Collector&lt;T, ?, List&lt;T&gt;&gt; top(int limit, Comparator&lt;? super T&gt; order) {\n    if (limit &lt; 1) throw new IndexOutOfBoundsException(limit);\n    Objects.requireNonNull(order);\n\n    Supplier&lt;Queue&lt;T&gt;&gt; supplier = () -&gt; new PriorityQueue&lt;&gt;(order);\n    BiConsumer&lt;Queue&lt;T&gt;, T&gt; accumulator = (q, e) -&gt; collect(order, limit, q, e);\n    BinaryOperator&lt;Queue&lt;T&gt;&gt; combiner = (q1, q2) -&gt; {\n        q2.forEach(e -&gt; collect(order, limit, q1, e));\n        return q1;\n    };\n    Function&lt;Queue&lt;T&gt;, List&lt;T&gt;&gt; finisher = q -&gt; {\n        List&lt;T&gt; list = new ArrayList&lt;&gt;(q);\n        Collections.reverse(list);\n        return list;\n    };\n    return Collector.of(supplier, accumulator, combiner, finisher, Collector.Characteristics.UNORDERED);\n}\n\nprivate static &lt;T&gt; void collect(Comparator&lt;? super T&gt; order, int limit, Queue&lt;T&gt; q, T e) {\n    if (q.size() &lt; limit) {\n        q.add(e);\n    } else if (order.compare(e, q.peek()) &gt; 0) {\n        q.remove();\n        q.add(e);\n    }\n}\n</code></pre>\n<p>Given this factory, it's trivial to create others that give you <code>bottom(3, bySize)</code>, etc.</p>\n<p>You may be interested in this <a href=\"https://stackoverflow.com/q/31575043/3474\">related question</a> and its answers.</p>\n"}],"owner":{"account_id":4504913,"reputation":579,"user_id":3681032,"accept_rate":30,"display_name":"Linkx_lair"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69668293,"answer_count":4,"score":0,"last_activity_date":1634852797,"creation_date":1634827672,"question_id":69664113,"body_markdown":"I have a list of shop objects that are grouped by the item they have.\r\n\r\n```\r\nclass Shop{\r\n  String shopName;\r\n  String item;\r\n  int size;\r\n...}\r\n```\r\nHow can I get a list of the 3 biggest shops (or n biggest shops) for each item?\r\nie. suppose I have \r\n```\r\nShop(&quot;Walmart&quot;, &quot;Hammer&quot;, 100);\r\nShop(&quot;Target&quot;, &quot;Scissor&quot;, 30);\r\nShop(&quot;Walgreens&quot;, &quot;Hammer&quot;, 300);\r\nShop(&quot;Glens&quot;, &quot;Hammer&quot;, 500);\r\nShop(&quot;Walmart&quot;, &quot;Scissor&quot;, 75);\r\nShop(&quot;Toms&quot;, &quot;Hammer&quot;, 150);\r\n```\r\nI want to return a list of the top 3 shops grouped by item. \r\nI grouped the items but i am not sure how to iterate through the given Map or entryset... \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic class Shop {\r\n  int size;\r\n  String item;\r\n  String name;\r\n\r\n  public Shop(int size, String item, String name){\r\n    this.size = size;\r\n    this.item = item;\r\n    this.name = name;\r\n  }\r\n\r\n\r\n\r\n  //Return a list of the top 3 largest shops by item\r\n  public static void main(){\r\n\r\n\r\n    List&lt;Shop&gt; shops = new LinkedList&lt;Shop&gt;();\r\n\r\n\r\n    Comparator&lt;Shop&gt; shopComparator = new Comparator&lt;Shop&gt;(){\r\n      @Override\r\n      public int compare(Shop f1, Shop f2) {\r\n        return f1.getSize() &lt; f2.getSize() ? 1 : -1;\r\n      }\r\n    };\r\n\r\n    shops.stream().collect(groupingBy(Shop::getItem))\r\n            .entrySet()\r\n            .stream()\r\n            .filter(entry -&gt; entry.getValue().stream().map )\r\n            .forEach(item -&gt; item.getValue())//Stuck here\r\n            ;\r\n  }\r\n\r\n}\r\n\r\n```\r\n","title":"find the largest 3 shops using java stream","body":"<p>I have a list of shop objects that are grouped by the item they have.</p>\n<pre><code>class Shop{\n  String shopName;\n  String item;\n  int size;\n...}\n</code></pre>\n<p>How can I get a list of the 3 biggest shops (or n biggest shops) for each item?\nie. suppose I have</p>\n<pre><code>Shop(&quot;Walmart&quot;, &quot;Hammer&quot;, 100);\nShop(&quot;Target&quot;, &quot;Scissor&quot;, 30);\nShop(&quot;Walgreens&quot;, &quot;Hammer&quot;, 300);\nShop(&quot;Glens&quot;, &quot;Hammer&quot;, 500);\nShop(&quot;Walmart&quot;, &quot;Scissor&quot;, 75);\nShop(&quot;Toms&quot;, &quot;Hammer&quot;, 150);\n</code></pre>\n<p>I want to return a list of the top 3 shops grouped by item.\nI grouped the items but i am not sure how to iterate through the given Map or entryset...</p>\n<pre><code>public class Shop {\n  int size;\n  String item;\n  String name;\n\n  public Shop(int size, String item, String name){\n    this.size = size;\n    this.item = item;\n    this.name = name;\n  }\n\n\n\n  //Return a list of the top 3 largest shops by item\n  public static void main(){\n\n\n    List&lt;Shop&gt; shops = new LinkedList&lt;Shop&gt;();\n\n\n    Comparator&lt;Shop&gt; shopComparator = new Comparator&lt;Shop&gt;(){\n      @Override\n      public int compare(Shop f1, Shop f2) {\n        return f1.getSize() &lt; f2.getSize() ? 1 : -1;\n      }\n    };\n\n    shops.stream().collect(groupingBy(Shop::getItem))\n            .entrySet()\n            .stream()\n            .filter(entry -&gt; entry.getValue().stream().map )\n            .forEach(item -&gt; item.getValue())//Stuck here\n            ;\n  }\n\n}\n\n</code></pre>\n"},{"tags":["java","android","excel"],"comments":[{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1500897906,"post_id":45278414,"comment_id":77522504,"body_markdown":"Any questions ?","body":"Any questions ?"},{"owner":{"account_id":8109593,"reputation":1,"user_id":6110150,"display_name":"Pratik Sonigra"},"score":0,"creation_date":1500898536,"post_id":45278414,"comment_id":77522978,"body_markdown":"It works fine but I want to choose file dynamically instead of putting it into assets folder.","body":"It works fine but I want to choose file dynamically instead of putting it into assets folder."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1500906156,"post_id":45278414,"comment_id":77528472,"body_markdown":"But wat is the problem? Just open a (File)InputStream as you do now.","body":"But wat is the problem? Just open a (File)InputStream as you do now."}],"answers":[{"tags":[],"owner":{"account_id":1360550,"reputation":700,"user_id":1298014,"display_name":"Ashray P. Shetty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500908626,"creation_date":1500908626,"answer_id":45283993,"question_id":45278414,"body_markdown":"As far as I understand your problem you want to pick the file dynamically from phone internal storage.\r\n\r\nThen you need a file explorer in your app to allow user to browse and select the file.\r\n\r\nPlease refer : https://github.com/vaal12/AndroidFileBrowser\r\n\r\nHope this helps.","title":"How to read excel file from external storage in android?","body":"<p>As far as I understand your problem you want to pick the file dynamically from phone internal storage.</p>\n\n<p>Then you need a file explorer in your app to allow user to browse and select the file.</p>\n\n<p>Please refer : <a href=\"https://github.com/vaal12/AndroidFileBrowser\" rel=\"nofollow noreferrer\">https://github.com/vaal12/AndroidFileBrowser</a></p>\n\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":8109593,"reputation":1,"user_id":6110150,"display_name":"Pratik Sonigra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1365,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634852765,"creation_date":1500892743,"question_id":45278414,"body_markdown":"I wrote a code that will generate graph from excel file(.xls) which would work perfectly but I have to put file in assets folder . Now I want to access file from external storage .\r\n\r\nXML Code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;com.example.pratiksonigra.graphexcel.MainActivity&quot;&gt;\r\n\r\n    &lt;com.jjoe64.graphview.GraphView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;350dp&quot;\r\n        android:paddingRight=&quot;20dp&quot;\r\n        android:paddingLeft=&quot;20dp&quot;\r\n        android:id=&quot;@+id/graph1&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Refresh&quot;\r\n        android:layout_below=&quot;@+id/graph1&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;10dp&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\nJAVA Code:\r\n\r\n    package com.example.pratiksonigra.graphexcel;\r\n    import android.content.res.AssetManager;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import com.jjoe64.graphview.GraphView;\r\n    import com.jjoe64.graphview.series.BarGraphSeries;\r\n    import com.jjoe64.graphview.series.DataPoint; \r\n    import com.jjoe64.graphview.series.LineGraphSeries;\r\n    import java.io.InputStream;\r\n    import jxl.Cell;\r\n    import jxl.Sheet;\r\n    import jxl.Workbook;\r\n    public class MainActivity extends AppCompatActivity {\r\n    LineGraphSeries&lt;DataPoint&gt; series;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        Button btn = (Button) findViewById(R.id.button);\r\n        final GraphView graph = (GraphView) findViewById(R.id.graph1);\r\n        graph.getViewport().setXAxisBoundsManual(true);\r\n        graph.getViewport().setYAxisBoundsManual(true);\r\n        graph.getViewport().setMinX(0);\r\n        graph.getViewport().setMaxX(10);\r\n        graph.getViewport().setMaxY(40);\r\n        graph.getViewport().setMinY(0);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                try {\r\n                    graph.removeAllSeries();\r\n                    AssetManager am = getAssets();\r\n                    InputStream is = am.open(&quot;book.xls&quot;);\r\n                    Workbook wb = Workbook.getWorkbook(is);\r\n                    Sheet s = wb.getSheet(0);\r\n                    Cell z = s.getCell(0, 0);\r\n                    int row = s.getRows();\r\n                    int col = s.getColumns();\r\n                    double x, y;\r\n                    x = 0.0;\r\n                    y = 0.0;\r\n\r\n                    series = new LineGraphSeries&lt;DataPoint&gt;();\r\n\r\n                    for (int i = 0; i &lt; row; i++) {\r\n                        for (int j = 0; j &lt; col; j++) {\r\n                            z = s.getCell(j, i);\r\n                            if (j % 2 == 0) {\r\n                                x = Double.parseDouble(z.getContents());\r\n                            } else {\r\n                                y = Double.parseDouble(z.getContents());\r\n                            }\r\n                        }\r\n                        series.appendData(new DataPoint(x, y), true, 15);\r\n                    }\r\n                    graph.addSeries(series);\r\n                } catch (Exception e) {\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public boolean onSupportNavigateUp() {\r\n        finish();\r\n        return true;\r\n    }\r\n}\r\n","title":"How to read excel file from external storage in android?","body":"<p>I wrote a code that will generate graph from excel file(.xls) which would work perfectly but I have to put file in assets folder . Now I want to access file from external storage .</p>\n\n<p>XML Code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"com.example.pratiksonigra.graphexcel.MainActivity\"&gt;\n\n&lt;com.jjoe64.graphview.GraphView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"350dp\"\n    android:paddingRight=\"20dp\"\n    android:paddingLeft=\"20dp\"\n    android:id=\"@+id/graph1\"/&gt;\n\n&lt;Button\n    android:id=\"@+id/button\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Refresh\"\n    android:layout_below=\"@+id/graph1\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"10dp\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>JAVA Code:</p>\n\n<pre><code>package com.example.pratiksonigra.graphexcel;\nimport android.content.res.AssetManager;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport com.jjoe64.graphview.GraphView;\nimport com.jjoe64.graphview.series.BarGraphSeries;\nimport com.jjoe64.graphview.series.DataPoint; \nimport com.jjoe64.graphview.series.LineGraphSeries;\nimport java.io.InputStream;\nimport jxl.Cell;\nimport jxl.Sheet;\nimport jxl.Workbook;\npublic class MainActivity extends AppCompatActivity {\nLineGraphSeries&lt;DataPoint&gt; series;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n    Button btn = (Button) findViewById(R.id.button);\n    final GraphView graph = (GraphView) findViewById(R.id.graph1);\n    graph.getViewport().setXAxisBoundsManual(true);\n    graph.getViewport().setYAxisBoundsManual(true);\n    graph.getViewport().setMinX(0);\n    graph.getViewport().setMaxX(10);\n    graph.getViewport().setMaxY(40);\n    graph.getViewport().setMinY(0);\n\n    btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            try {\n                graph.removeAllSeries();\n                AssetManager am = getAssets();\n                InputStream is = am.open(\"book.xls\");\n                Workbook wb = Workbook.getWorkbook(is);\n                Sheet s = wb.getSheet(0);\n                Cell z = s.getCell(0, 0);\n                int row = s.getRows();\n                int col = s.getColumns();\n                double x, y;\n                x = 0.0;\n                y = 0.0;\n\n                series = new LineGraphSeries&lt;DataPoint&gt;();\n\n                for (int i = 0; i &lt; row; i++) {\n                    for (int j = 0; j &lt; col; j++) {\n                        z = s.getCell(j, i);\n                        if (j % 2 == 0) {\n                            x = Double.parseDouble(z.getContents());\n                        } else {\n                            y = Double.parseDouble(z.getContents());\n                        }\n                    }\n                    series.appendData(new DataPoint(x, y), true, 15);\n                }\n                graph.addSeries(series);\n            } catch (Exception e) {\n\n            }\n        }\n    });\n}\n\npublic boolean onSupportNavigateUp() {\n    finish();\n    return true;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","python-3.x","regex","java-8","pattern-matching"],"answers":[{"tags":[],"owner":{"account_id":9178201,"reputation":80,"user_id":6823084,"display_name":"Trey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634840685,"creation_date":1634840685,"answer_id":69666995,"question_id":69666909,"body_markdown":"You can use [regex101](https://regex101.com/) to test your RegEx. it has a description of everything that&#39;s going on to help with debugging. They have a quick reference section bottom right that you can use to figure out what you can do with examples and stuff.\r\n\r\nA few things, you can add literals with `\\`, so `\\&quot;` for a literal double quote.\r\n\r\nIf you want the pattern to be one or more of something, you would use `+`. These are called quantifiers and can be applied to groups, tokens, etc. The token for a whitespace character is `\\s`. So, one or more whitespace characters would be `\\s+`.\r\n\r\nIt&#39;s difficult to tell exactly what you&#39;re trying to do, but hopefully pointing you to [regex101](https://regex101.com/) will help. If you want to provide examples of the current RegEx you have, what you want to match and then the strings you&#39;re using to test it I&#39;ll be happy to provide you with an example.","title":"Regex pattern matching with multiple strings","body":"<p>You can use <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101</a> to test your RegEx. it has a description of everything that's going on to help with debugging. They have a quick reference section bottom right that you can use to figure out what you can do with examples and stuff.</p>\n<p>A few things, you can add literals with <code>\\</code>, so <code>\\&quot;</code> for a literal double quote.</p>\n<p>If you want the pattern to be one or more of something, you would use <code>+</code>. These are called quantifiers and can be applied to groups, tokens, etc. The token for a whitespace character is <code>\\s</code>. So, one or more whitespace characters would be <code>\\s+</code>.</p>\n<p>It's difficult to tell exactly what you're trying to do, but hopefully pointing you to <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101</a> will help. If you want to provide examples of the current RegEx you have, what you want to match and then the strings you're using to test it I'll be happy to provide you with an example.</p>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634852417,"creation_date":1634841189,"answer_id":69667106,"question_id":69666909,"body_markdown":"If you print your pattern, it is:\r\n\r\n    \\Q207e/160\\E, [NnoneOoff0-9\\-\\+\\/]+|[NnoneOoff0-9\\-\\+\\/]+, \\Q207e/160\\E\r\n\r\nIt consists of an alternation `|` matching a mandatory comma as well on the left as on the right side.\r\n\r\n\r\nUsing matches(), should match the whole string and that is the case for `207e/160, 149/80` so that is a match.\r\n\r\nOnly for this string `207e/160, 149/80, 11` there are 2 comma&#39;s, so you do get a partial match for the first part of the string, but you don&#39;t match the whole string so matches() returns false.\r\n\r\nSee the matches in this [regex demo](https://regex101.com/r/eRhOu2/1).\r\n\r\n&lt;hr&gt;\r\n\r\nTo match all the values, you can use a repeating pattern:\r\n\r\n    ^[NnoeOf0-9+/-]+(?:,\\h*[NnoeOf0-90+/-]+)*$\r\n\r\n- `^` Start of string\r\n- `[NnoeOf0-9\\\\+/-]+`\r\n- `(?:` Non capture group\r\n  - `,\\h*` Match a comma and optional horizontal whitespace chars\r\n  - `[NnoeOf0-90-9\\\\+/-]+` Match 1+ any of the listed in the character class\r\n- `)*` Close the non capture group and optionally repeat it (if there should be at least 1 comma, then the quantifier can be `+` instead of `*`)\r\n- `$` End of string\r\n\r\n\r\n[Regex demo](https://regex101.com/r/9P78QL/1)\r\n\r\nExample using matches():\r\n\r\n    String channelStr1 = &quot;207e/160, 149/80&quot;;\r\n    String channelStr2 = &quot;207e/160, 149/80, 11&quot;;\r\n    String regex = &quot;^[NnoeOf0-9+/-]+(?:,\\\\h*[NnoeOf0-90+/-]+)*$&quot;;\r\n            \r\n    System.out.println(channelStr1.matches(regex));\r\n    System.out.println(channelStr2.matches(regex));\r\n\r\nOutput\r\n\r\ntrue\r\ntrue\r\n\r\n**Note** that in the character class you can put `-` at the end not having to escape it, and the `+` and `/` also does not have to be escaped.\r\n","title":"Regex pattern matching with multiple strings","body":"<p>If you print your pattern, it is:</p>\n<pre><code>\\Q207e/160\\E, [NnoneOoff0-9\\-\\+\\/]+|[NnoneOoff0-9\\-\\+\\/]+, \\Q207e/160\\E\n</code></pre>\n<p>It consists of an alternation <code>|</code> matching a mandatory comma as well on the left as on the right side.</p>\n<p>Using matches(), should match the whole string and that is the case for <code>207e/160, 149/80</code> so that is a match.</p>\n<p>Only for this string <code>207e/160, 149/80, 11</code> there are 2 comma's, so you do get a partial match for the first part of the string, but you don't match the whole string so matches() returns false.</p>\n<p>See the matches in this <a href=\"https://regex101.com/r/eRhOu2/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<hr>\n<p>To match all the values, you can use a repeating pattern:</p>\n<pre><code>^[NnoeOf0-9+/-]+(?:,\\h*[NnoeOf0-90+/-]+)*$\n</code></pre>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>[NnoeOf0-9\\\\+/-]+</code></li>\n<li><code>(?:</code> Non capture group\n<ul>\n<li><code>,\\h*</code> Match a comma and optional horizontal whitespace chars</li>\n<li><code>[NnoeOf0-90-9\\\\+/-]+</code> Match 1+ any of the listed in the character class</li>\n</ul>\n</li>\n<li><code>)*</code> Close the non capture group and optionally repeat it (if there should be at least 1 comma, then the quantifier can be <code>+</code> instead of <code>*</code>)</li>\n<li><code>$</code> End of string</li>\n</ul>\n<p><a href=\"https://regex101.com/r/9P78QL/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>Example using matches():</p>\n<pre><code>String channelStr1 = &quot;207e/160, 149/80&quot;;\nString channelStr2 = &quot;207e/160, 149/80, 11&quot;;\nString regex = &quot;^[NnoeOf0-9+/-]+(?:,\\\\h*[NnoeOf0-90+/-]+)*$&quot;;\n        \nSystem.out.println(channelStr1.matches(regex));\nSystem.out.println(channelStr2.matches(regex));\n</code></pre>\n<p>Output</p>\n<p>true\ntrue</p>\n<p><strong>Note</strong> that in the character class you can put <code>-</code> at the end not having to escape it, and the <code>+</code> and <code>/</code> also does not have to be escaped.</p>\n"},{"tags":[],"owner":{"account_id":18826166,"reputation":139,"user_id":13730997,"display_name":"JGomez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634845233,"creation_date":1634845233,"answer_id":69667912,"question_id":69666909,"body_markdown":"    ^(?:[NnoneOoff0-9\\\\-\\\\+\\\\/]+ *(?:, *(?!$)|$))+$\r\n\r\n`^` Start  \r\n`(?: ... )` Non-capturing group that defines an item and its separator. After each item, except the last, the separator (,) must appear. Spaces (one, several, or none) can appear before and after the comma, which is specified with ` *`. This group can appear one or more times to the end of the string, as specified by the `+` quantifier after the group&#39;s closing parenthesis.\r\n\r\n[Regex101 Test](https://regex101.com/r/y4EWZi/1)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AXWom.png","title":"Regex pattern matching with multiple strings","body":"<pre><code>^(?:[NnoneOoff0-9\\\\-\\\\+\\\\/]+ *(?:, *(?!$)|$))+$\n</code></pre>\n<p><code>^</code> Start<br />\n<code>(?: ... )</code> Non-capturing group that defines an item and its separator. After each item, except the last, the separator (,) must appear. Spaces (one, several, or none) can appear before and after the comma, which is specified with <code> *</code>. This group can appear one or more times to the end of the string, as specified by the <code>+</code> quantifier after the group's closing parenthesis.</p>\n<p><a href=\"https://regex101.com/r/y4EWZi/1\" rel=\"nofollow noreferrer\">Regex101 Test</a></p>\n<p><a href=\"https://i.stack.imgur.com/AXWom.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AXWom.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14500154,"reputation":43,"user_id":10473595,"display_name":"Abinash Dash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1858,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1634852417,"creation_date":1634840174,"question_id":69666909,"body_markdown":"Forgive me. I am not familiarized much with Regex patterns.\r\n\r\nI have created a regex pattern as below.\r\n\r\n    String regex = Pattern.quote(value) + &quot;, [NnoneOoff0-9\\\\-\\\\+\\\\/]+|[NnoneOoff0-9\\\\-\\\\+\\\\/]+, &quot;\r\n                + Pattern.quote(value);\r\n\r\nThis regex pattern is failing with 2 different set of strings.\r\n\r\nvalue = &quot;207e/160&quot;;\r\n\r\n***Use Case 1*** -\r\n\r\nWhen `channelStr = &quot;207e/160, 149/80&quot; `\r\n\r\nThen `channelStr.matches(regex)`, returns &quot;true&quot;.\r\n\r\n***Use Case 2*** - \r\n\r\nWhen `channelStr = &quot;207e/160, 149/80, 11&quot;`\r\n\r\nThen `channelStr.matches(regex)`, returns &quot;false&quot;.\r\n\r\nNot able to figure out why? As far I can understand it may be because of the multiple spaces involved when more than 2 strings are present with separated by comma.\r\n\r\nNot sure what should be correct pattern I should write for more than 2 strings.\r\n\r\nAny help will be appreciated.\r\n","title":"Regex pattern matching with multiple strings","body":"<p>Forgive me. I am not familiarized much with Regex patterns.</p>\n<p>I have created a regex pattern as below.</p>\n<pre><code>String regex = Pattern.quote(value) + &quot;, [NnoneOoff0-9\\\\-\\\\+\\\\/]+|[NnoneOoff0-9\\\\-\\\\+\\\\/]+, &quot;\n            + Pattern.quote(value);\n</code></pre>\n<p>This regex pattern is failing with 2 different set of strings.</p>\n<p>value = &quot;207e/160&quot;;</p>\n<p><em><strong>Use Case 1</strong></em> -</p>\n<p>When <code>channelStr = &quot;207e/160, 149/80&quot; </code></p>\n<p>Then <code>channelStr.matches(regex)</code>, returns &quot;true&quot;.</p>\n<p><em><strong>Use Case 2</strong></em> -</p>\n<p>When <code>channelStr = &quot;207e/160, 149/80, 11&quot;</code></p>\n<p>Then <code>channelStr.matches(regex)</code>, returns &quot;false&quot;.</p>\n<p>Not able to figure out why? As far I can understand it may be because of the multiple spaces involved when more than 2 strings are present with separated by comma.</p>\n<p>Not sure what should be correct pattern I should write for more than 2 strings.</p>\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","multithreading","thread-sleep","readerwriterlock"],"comments":[{"owner":{"account_id":3446101,"reputation":11355,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":3,"creation_date":1633961436,"post_id":69526902,"comment_id":122892471,"body_markdown":"I cannot find any place in your code where you would start your threads. Please read e.g. this: https://docs.oracle.com/javase/tutorial/essential/concurrency/runthread.html . Your code runs everything sequentially because you never start two threads. The `Threads` are just like absolutely common normal classes until you call their method `start()`. And last but not least, if you are &quot;just starting to learn Java&quot;, I really doubt if you should start with threads :) Your whole question can be reduced to &quot;why don&#39;t my threads start at all&quot; :)","body":"I cannot find any place in your code where you would start your threads. Please read e.g. this: <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/runthread.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a> . Your code runs everything sequentially because you never start two threads. The <code>Threads</code> are just like absolutely common normal classes until you call their method <code>start()</code>. And last but not least, if you are &quot;just starting to learn Java&quot;, I really doubt if you should start with threads :) Your whole question can be reduced to &quot;why don&#39;t my threads start at all&quot; :)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1633961490,"post_id":69526902,"comment_id":122892498,"body_markdown":"When you are “just starting to learn Java”, consider starting with an easier topic than multithreading. Your code lacks any thread safety, but thankfully it never starts a second thread anyway. Focus on the basics first, e.g. why you should not use `static` variables like this. Or why creating but not using a `Scanner` has no effect at all.","body":"When you are “just starting to learn Java”, consider starting with an easier topic than multithreading. Your code lacks any thread safety, but thankfully it never starts a second thread anyway. Focus on the basics first, e.g. why you should not use <code>static</code> variables like this. Or why creating but not using a <code>Scanner</code> has no effect at all."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1633970126,"post_id":69526902,"comment_id":122896048,"body_markdown":"By the way… In modern Java, we rarely address the `Thread` class directly. Instead, use the Executors framework.","body":"By the way… In modern Java, we rarely address the <code>Thread</code> class directly. Instead, use the Executors framework."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1633979322,"post_id":69526902,"comment_id":122899101,"body_markdown":"Can you explain you need in more detail? The thread count have to be limited only 2? What will have to happen after both reader threads done their execution? It might be better if you could explain your need step by step.","body":"Can you explain you need in more detail? The thread count have to be limited only 2? What will have to happen after both reader threads done their execution? It might be better if you could explain your need step by step."},{"owner":{"account_id":21671180,"reputation":13,"user_id":15988793,"display_name":"rsaraf97"},"score":0,"creation_date":1634851669,"post_id":69526902,"comment_id":123145383,"body_markdown":"Thankyou guys for your advice, I have been trying to strengthen my basics and understand threading. I realized my approach to the problem was very wrong. I have come up with a new solution to my problem. I would be grateful if you guys could take a look.","body":"Thankyou guys for your advice, I have been trying to strengthen my basics and understand threading. I realized my approach to the problem was very wrong. I have come up with a new solution to my problem. I would be grateful if you guys could take a look."}],"answers":[{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633982057,"creation_date":1633982057,"answer_id":69531786,"question_id":69526902,"body_markdown":"You call the `readEnter` method from the main thread and it put the main thread to sleep hence blocked. In order to put the work to the reader threads themselves you need to organize everything in main thread then fire the reader threads through the main thread. **You must call the `readEnter` method only from within the reader threads**. I did not implemented the writer you are encouraged to do that. The order in which the threads start is not guaranteed since it depends the schedular. See the example code:\r\n```java\r\n\r\nclass CriticalSec {\r\n    private int readerCount = 0;\r\n\r\n    public boolean readerEnter() throws InterruptedException {\r\n        if(readerCount == 0) {\r\n            readerCount++;\r\n            Thread.sleep(5000);\r\n            return true;\r\n        }\r\n        else if(readerCount == 1) {\r\n            readerCount++;\r\n            Thread.sleep(5000);\r\n            readerCount = 0; // rewind to zero\r\n            return true;\r\n        }\r\n        else {\r\n            System.out.println(&quot;Both reader threads are busy, &quot;+Thread.currentThread().getName()+&quot; will not be executed&quot;);\r\n            return false;\r\n        }\r\n    }\r\n\r\n}\r\n\r\nclass Reader implements Runnable {\r\n\r\n    private final CriticalSec cs;\r\n\r\n    public Reader(CriticalSec criticalSec) {\r\n        cs = criticalSec;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        System.out.println(Thread.currentThread().getName()+&quot; goes for reading...&quot;);\r\n        try {\r\n            String state = cs.readerEnter() ? &quot; done reading&quot; : &quot; failed reading!&quot;;\r\n            System.out.println(Thread.currentThread().getName()+state);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n\r\npublic class RWProblem {\r\n    public static void main(String[] args) {\r\n        CriticalSec c = new CriticalSec();\r\n\r\n        Reader r1 = new Reader(c);\r\n        Reader r2 = new Reader(c);\r\n        Reader r3 = new Reader(c);\r\n\r\n        new Thread(r1, &quot;Reader 1&quot;).start();\r\n        new Thread(r2, &quot;Reader 2&quot;).start();\r\n        new Thread(r3, &quot;Reader 3&quot;).start();\r\n    }\r\n}\r\n```\r\n\r\nThe output is for one of the run:\r\n```\r\nReader 3 goes for reading...\r\nReader 1 goes for reading...\r\nReader 2 goes for reading...\r\nBoth reader threads are busy, Reader 1 will not be executed\r\nReader 1 failed reading!\r\nReader 3 done reading\r\nReader 2 done reading\r\n\r\nProcess finished with exit code 0\r\n```","title":"Reader writers problem using Java Threads","body":"<p>You call the <code>readEnter</code> method from the main thread and it put the main thread to sleep hence blocked. In order to put the work to the reader threads themselves you need to organize everything in main thread then fire the reader threads through the main thread. <strong>You must call the <code>readEnter</code> method only from within the reader threads</strong>. I did not implemented the writer you are encouraged to do that. The order in which the threads start is not guaranteed since it depends the schedular. See the example code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass CriticalSec {\n    private int readerCount = 0;\n\n    public boolean readerEnter() throws InterruptedException {\n        if(readerCount == 0) {\n            readerCount++;\n            Thread.sleep(5000);\n            return true;\n        }\n        else if(readerCount == 1) {\n            readerCount++;\n            Thread.sleep(5000);\n            readerCount = 0; // rewind to zero\n            return true;\n        }\n        else {\n            System.out.println(&quot;Both reader threads are busy, &quot;+Thread.currentThread().getName()+&quot; will not be executed&quot;);\n            return false;\n        }\n    }\n\n}\n\nclass Reader implements Runnable {\n\n    private final CriticalSec cs;\n\n    public Reader(CriticalSec criticalSec) {\n        cs = criticalSec;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(Thread.currentThread().getName()+&quot; goes for reading...&quot;);\n        try {\n            String state = cs.readerEnter() ? &quot; done reading&quot; : &quot; failed reading!&quot;;\n            System.out.println(Thread.currentThread().getName()+state);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\npublic class RWProblem {\n    public static void main(String[] args) {\n        CriticalSec c = new CriticalSec();\n\n        Reader r1 = new Reader(c);\n        Reader r2 = new Reader(c);\n        Reader r3 = new Reader(c);\n\n        new Thread(r1, &quot;Reader 1&quot;).start();\n        new Thread(r2, &quot;Reader 2&quot;).start();\n        new Thread(r3, &quot;Reader 3&quot;).start();\n    }\n}\n</code></pre>\n<p>The output is for one of the run:</p>\n<pre><code>Reader 3 goes for reading...\nReader 1 goes for reading...\nReader 2 goes for reading...\nBoth reader threads are busy, Reader 1 will not be executed\nReader 1 failed reading!\nReader 3 done reading\nReader 2 done reading\n\nProcess finished with exit code 0\n</code></pre>\n"}],"owner":{"account_id":21671180,"reputation":13,"user_id":15988793,"display_name":"rsaraf97"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1140,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69531786,"answer_count":1,"score":0,"last_activity_date":1634852170,"creation_date":1633958353,"question_id":69526902,"body_markdown":"I have been trying to implement the reader writer problem in Java. But when the Thread.Sleep(5000) is executed, the current thread process is not interrupted.\r\n\r\nFor example, when the first reader has entered the database, and the process sleeps for 5 seconds, I want the second reader to enter the database. But in my code, the second reader only enters the database after the first reader wakes up and leaves the database\r\n\r\nHow do I achieve my desired result? \r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass CriticalSec {\r\n    static boolean mutex = true;\r\n    static boolean db = true;\r\n    static int readerCount = 0;\r\n    static Writer arrWriter = new Writer();\r\n    static Reader1 r1= new Reader1();\r\n    static Reader2 r2= new Reader2();\r\n\r\n    public void readerEnter() throws InterruptedException {\r\n        if (readerCount==0){\r\n            r1.enter();\r\n        }else{\r\n            r1.enter();\r\n        }\r\n        if (mutex) {\r\n            mutex = false;\r\n        }\r\n        readerCount += 1;\r\n        if (readerCount == 1) {\r\n            if (db) {\r\n                db = false;\r\n            } else {\r\n                System.out.println(&quot;\\nReader cannot enter database.\\n&quot;);\r\n                System.out.println(&quot;Waiting for writer to exit....&quot;);\r\n                wait();\r\n            }\r\n        }\r\n        if (!mutex) {\r\n            mutex = true;\r\n            Thread.sleep(5000);\r\n            if (readerCount==1){\r\n                r1.exit();\r\n            }else{\r\n                r2.exit();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public void WriterEnter() throws InterruptedException {\r\n        arrWriter.enter();\r\n        if (db) {\r\n            db = false;\r\n            Thread.sleep(5000);\r\n            arrWriter.exit();\r\n            notify();\r\n\r\n        } else {\r\n            System.out.println(&quot;Writer cannot enter database.&quot;);\r\n            System.out.println(&quot;Waiting for writer/reader to exit....&quot;);\r\n            wait();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nclass Reader1 extends Thread {\r\n    public void run() {\r\n        System.out.println(&quot;New reader created.&quot;);\r\n    }\r\n\r\n    public void enter() throws InterruptedException {\r\n        System.out.println(&quot;\\nReader 1 has entered in the database...\\n&quot;);\r\n    }\r\n\r\n    public void exit() {\r\n        if (CriticalSec.mutex) {\r\n            CriticalSec.mutex = false;\r\n        }\r\n        CriticalSec.readerCount -= 1;\r\n        if (CriticalSec.readerCount == 0) {\r\n            CriticalSec.db = true;\r\n        }\r\n        CriticalSec.mutex = true;\r\n        System.out.println(&quot;The reader 1 has now left&quot;);\r\n    }\r\n}\r\n\r\nclass Reader2 extends Thread {\r\n    public void run() {\r\n        System.out.println(&quot;New reader created.&quot;);\r\n    }\r\n\r\n    public void enter() throws InterruptedException {\r\n        System.out.println(&quot;\\nReader 2 has entered in the database...\\n&quot;);\r\n    }\r\n\r\n    public void exit() {\r\n        if (CriticalSec.mutex) {\r\n            CriticalSec.mutex = false;\r\n        }\r\n        CriticalSec.readerCount -= 1;\r\n        if (CriticalSec.readerCount == 0) {\r\n            CriticalSec.db = true;\r\n        }\r\n        CriticalSec.mutex = true;\r\n        System.out.println(&quot;The reader 1 has now left&quot;);\r\n    }\r\n}\r\n\r\nclass Writer extends Thread {\r\n    public void run() {\r\n        System.out.println(&quot;New Writer created.&quot;);\r\n    }\r\n\r\n    public void enter() throws InterruptedException {\r\n        System.out.println(&quot;Writer has entered in the database.&quot;);\r\n    }\r\n\r\n    public void exit() {\r\n        CriticalSec.db = false;\r\n        System.out.println(&quot;Writer has left the database.&quot;);\r\n    }\r\n}\r\n\r\npublic class RWProblem {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        Scanner sc = new Scanner(System.in);\r\n        CriticalSec c = new CriticalSec();\r\n        c.readerEnter();\r\n        c.readerEnter();\r\n        c.WriterEnter();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI am just starting to learn Java, and I am sorry if my question is vague. I happy to provide more details.\r\n\r\nEdit: \r\n\r\nAfter brushing up on some important concepts and a lot of practice, I came up with a solution. Could someone please take a look at it and tell me if its alright? How can I improve it?\r\n\r\n```\r\nclass RW {\r\n    boolean dbOccupied = false;\r\n    int readerCount = 0;\r\n    boolean writer=false;\r\n\r\n    public void readerEnter() throws InterruptedException {\r\n        while (true) {\r\n            synchronized (this) {\r\n                while (dbOccupied &amp;&amp; readerCount == 0) {\r\n                    System.out.println(&quot;Reader cannot read... Database Occupied&quot;);\r\n                    wait();\r\n                }\r\n                readerCount++;\r\n                dbOccupied = true;\r\n                System.out.println(&quot;Reader &quot; + readerCount + &quot; is reading...&quot;);\r\n//                Thread.sleep(1000);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void readerExit() throws InterruptedException {\r\n        while (true) {\r\n            synchronized (this) {\r\n                while (readerCount != 0) {\r\n                    System.out.println(&quot;Reader &quot; + readerCount + &quot; is now exiting...&quot;);\r\n                    readerCount--;\r\n                }\r\n                dbOccupied = false;\r\n                notifyAll();\r\n//                Thread.sleep(1000);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    public void writerEnter() throws InterruptedException {\r\n        while (true) {\r\n            synchronized (this) {\r\n                while (dbOccupied){\r\n                    System.out.println(&quot;New writer cannot write... Database Occupied&quot;);\r\n                    wait();\r\n                }\r\n                dbOccupied = true;\r\n                writer=true;\r\n                System.out.println(&quot;Writer is now writing.....&quot;);\r\n//                Thread.sleep(1000);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    public void writerExit() throws InterruptedException {\r\n        while (true) {\r\n            synchronized (this) {\r\n                if (writer) {\r\n                    System.out.println(&quot;Writer leaving database...&quot;);\r\n                    writer=false;\r\n                    dbOccupied = false;\r\n                    notifyAll();\r\n//        Thread.sleep(1000);\r\n                }\r\n\r\n\r\n\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\npublic class RW3 {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        final RW rw= new RW();\r\n        Thread t1= new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    rw.readerEnter();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        Thread t2=new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    rw.readerExit();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        Thread t3= new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    rw.writerEnter();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n        Thread t4= new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    rw.writerExit();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n//        t1.setPriority(2);\r\n//        t3.setPriority(10);\r\n\r\n        t1.start();\r\n        t2.start();\r\n        t3.start();\r\n        t4.start();\r\n        t1.join();\r\n        t3.join();\r\n        t2.join();\r\n        t4.join();\r\n    }\r\n}\r\n\r\n```\r\nthis is the first time im using stackoverflow for asking a question, and im blown away by the response!!!!! i absolutely love the community","title":"Reader writers problem using Java Threads","body":"<p>I have been trying to implement the reader writer problem in Java. But when the Thread.Sleep(5000) is executed, the current thread process is not interrupted.</p>\n<p>For example, when the first reader has entered the database, and the process sleeps for 5 seconds, I want the second reader to enter the database. But in my code, the second reader only enters the database after the first reader wakes up and leaves the database</p>\n<p>How do I achieve my desired result?</p>\n<pre><code>import java.util.Scanner;\n\nclass CriticalSec {\n    static boolean mutex = true;\n    static boolean db = true;\n    static int readerCount = 0;\n    static Writer arrWriter = new Writer();\n    static Reader1 r1= new Reader1();\n    static Reader2 r2= new Reader2();\n\n    public void readerEnter() throws InterruptedException {\n        if (readerCount==0){\n            r1.enter();\n        }else{\n            r1.enter();\n        }\n        if (mutex) {\n            mutex = false;\n        }\n        readerCount += 1;\n        if (readerCount == 1) {\n            if (db) {\n                db = false;\n            } else {\n                System.out.println(&quot;\\nReader cannot enter database.\\n&quot;);\n                System.out.println(&quot;Waiting for writer to exit....&quot;);\n                wait();\n            }\n        }\n        if (!mutex) {\n            mutex = true;\n            Thread.sleep(5000);\n            if (readerCount==1){\n                r1.exit();\n            }else{\n                r2.exit();\n            }\n        }\n\n    }\n\n    public void WriterEnter() throws InterruptedException {\n        arrWriter.enter();\n        if (db) {\n            db = false;\n            Thread.sleep(5000);\n            arrWriter.exit();\n            notify();\n\n        } else {\n            System.out.println(&quot;Writer cannot enter database.&quot;);\n            System.out.println(&quot;Waiting for writer/reader to exit....&quot;);\n            wait();\n        }\n\n    }\n\n}\n\nclass Reader1 extends Thread {\n    public void run() {\n        System.out.println(&quot;New reader created.&quot;);\n    }\n\n    public void enter() throws InterruptedException {\n        System.out.println(&quot;\\nReader 1 has entered in the database...\\n&quot;);\n    }\n\n    public void exit() {\n        if (CriticalSec.mutex) {\n            CriticalSec.mutex = false;\n        }\n        CriticalSec.readerCount -= 1;\n        if (CriticalSec.readerCount == 0) {\n            CriticalSec.db = true;\n        }\n        CriticalSec.mutex = true;\n        System.out.println(&quot;The reader 1 has now left&quot;);\n    }\n}\n\nclass Reader2 extends Thread {\n    public void run() {\n        System.out.println(&quot;New reader created.&quot;);\n    }\n\n    public void enter() throws InterruptedException {\n        System.out.println(&quot;\\nReader 2 has entered in the database...\\n&quot;);\n    }\n\n    public void exit() {\n        if (CriticalSec.mutex) {\n            CriticalSec.mutex = false;\n        }\n        CriticalSec.readerCount -= 1;\n        if (CriticalSec.readerCount == 0) {\n            CriticalSec.db = true;\n        }\n        CriticalSec.mutex = true;\n        System.out.println(&quot;The reader 1 has now left&quot;);\n    }\n}\n\nclass Writer extends Thread {\n    public void run() {\n        System.out.println(&quot;New Writer created.&quot;);\n    }\n\n    public void enter() throws InterruptedException {\n        System.out.println(&quot;Writer has entered in the database.&quot;);\n    }\n\n    public void exit() {\n        CriticalSec.db = false;\n        System.out.println(&quot;Writer has left the database.&quot;);\n    }\n}\n\npublic class RWProblem {\n    public static void main(String[] args) throws InterruptedException {\n        Scanner sc = new Scanner(System.in);\n        CriticalSec c = new CriticalSec();\n        c.readerEnter();\n        c.readerEnter();\n        c.WriterEnter();\n    }\n}\n\n</code></pre>\n<p>I am just starting to learn Java, and I am sorry if my question is vague. I happy to provide more details.</p>\n<p>Edit:</p>\n<p>After brushing up on some important concepts and a lot of practice, I came up with a solution. Could someone please take a look at it and tell me if its alright? How can I improve it?</p>\n<pre><code>class RW {\n    boolean dbOccupied = false;\n    int readerCount = 0;\n    boolean writer=false;\n\n    public void readerEnter() throws InterruptedException {\n        while (true) {\n            synchronized (this) {\n                while (dbOccupied &amp;&amp; readerCount == 0) {\n                    System.out.println(&quot;Reader cannot read... Database Occupied&quot;);\n                    wait();\n                }\n                readerCount++;\n                dbOccupied = true;\n                System.out.println(&quot;Reader &quot; + readerCount + &quot; is reading...&quot;);\n//                Thread.sleep(1000);\n            }\n        }\n    }\n\n    public void readerExit() throws InterruptedException {\n        while (true) {\n            synchronized (this) {\n                while (readerCount != 0) {\n                    System.out.println(&quot;Reader &quot; + readerCount + &quot; is now exiting...&quot;);\n                    readerCount--;\n                }\n                dbOccupied = false;\n                notifyAll();\n//                Thread.sleep(1000);\n\n            }\n        }\n    }\n\n    public void writerEnter() throws InterruptedException {\n        while (true) {\n            synchronized (this) {\n                while (dbOccupied){\n                    System.out.println(&quot;New writer cannot write... Database Occupied&quot;);\n                    wait();\n                }\n                dbOccupied = true;\n                writer=true;\n                System.out.println(&quot;Writer is now writing.....&quot;);\n//                Thread.sleep(1000);\n\n            }\n        }\n    }\n\n    public void writerExit() throws InterruptedException {\n        while (true) {\n            synchronized (this) {\n                if (writer) {\n                    System.out.println(&quot;Writer leaving database...&quot;);\n                    writer=false;\n                    dbOccupied = false;\n                    notifyAll();\n//        Thread.sleep(1000);\n                }\n\n\n\n\n            }\n        }\n\n    }\n}\n\npublic class RW3 {\n    public static void main(String[] args) throws InterruptedException {\n        final RW rw= new RW();\n        Thread t1= new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    rw.readerEnter();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        Thread t2=new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    rw.readerExit();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        Thread t3= new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    rw.writerEnter();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        Thread t4= new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    rw.writerExit();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n//        t1.setPriority(2);\n//        t3.setPriority(10);\n\n        t1.start();\n        t2.start();\n        t3.start();\n        t4.start();\n        t1.join();\n        t3.join();\n        t2.join();\n        t4.join();\n    }\n}\n\n</code></pre>\n<p>this is the first time im using stackoverflow for asking a question, and im blown away by the response!!!!! i absolutely love the community</p>\n"},{"tags":["java","spring","spring-boot","bean-validation"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634851876,"post_id":69668948,"comment_id":123145449,"body_markdown":"You didn&#39;t show how you&#39;re setting up MockMvc. Are you using `standaloneSetup`?","body":"You didn&#39;t show how you&#39;re setting up MockMvc. Are you using <code>standaloneSetup</code>?"},{"owner":{"account_id":6134396,"reputation":2472,"user_id":4783710,"accept_rate":51,"display_name":"KellyM"},"score":0,"creation_date":1634852059,"post_id":69668948,"comment_id":123145501,"body_markdown":"@chrylis-cautiouslyoptimistic- Sorry about that. I have edited to add the TestClass setup.","body":"@chrylis-cautiouslyoptimistic- Sorry about that. I have edited to add the TestClass setup."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634852490,"post_id":69668948,"comment_id":123145610,"body_markdown":"This is why I don&#39;t use `standaloneSetup` and I almost never use &quot;slice&quot; tests: You don&#39;t get the real actual application setup that you&#39;ll be running, so your tests don&#39;t reflect reality.","body":"This is why I don&#39;t use <code>standaloneSetup</code> and I almost never use &quot;slice&quot; tests: You don&#39;t get the real actual application setup that you&#39;ll be running, so your tests don&#39;t reflect reality."}],"owner":{"account_id":6134396,"reputation":2472,"user_id":4783710,"accept_rate":51,"display_name":"KellyM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1634852451,"answer_count":0,"score":3,"last_activity_date":1634852022,"creation_date":1634851424,"question_id":69668948,"body_markdown":"I have a Spring Boot 2.5.3 project and I am attempting to validate some models. However, the tests are returning a `200` status when I am expecting a `4xx` error.\r\n\r\nSample endpoint under test:\r\n```\r\n @PostMapping(&quot;/reports&quot;)\r\n public CAReportDTO addReport(@Valid @RequestBody CAReportDTO caReport) {\r\n\t return this.caService.submitForm(caReport);\r\n }\r\n```\r\nwhere CAReportDTO has the following annotations (in part):\r\n```\r\n\r\npublic class CAReportDTO {\r\n\r\n\tprivate int id;\r\n\t@Size(min = 5, max = 7, message \r\n\t\t    = &quot;Employee ID must be between 5 and 7 characters long.&quot;)\r\n\t@NotNull\r\n\tprivate String empId;\r\n\tprivate int formId;\r\n\tprivate String formTitle;\r\n\t@Size(min = 4, max = 5, message \r\n\t\t    = &quot;Work location must be between 4 and 5 characters long.&quot;)\r\n\t@NotNull\r\n\tprivate String workLocId;\r\n\tprivate CAStatus statusId;\r\n\t@NotNull\r\n\t@PastOrPresent\r\n\t@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n\tprivate LocalDate incidentDate;\r\n```\r\n\r\nThe controller test is as follows (it should fail on both the empId and incidentDate fields):\r\n```\r\n\t@Test\r\n\t@WithMockUser(username = &quot;admin&quot;, authorities = { RoleConstants.HR.WRK_MNG_CAS })\r\n\tpublic void testAddInvalidReport() throws Exception {\r\n\t\tvar dto = new CAReportDTO(&quot;test&quot;, TEST_ID, &quot;w&quot;, LocalDate.now(), &quot;t&quot;);\r\n\t\tvar jString = mapper.writeValueAsString(dto);\r\n\r\n\t\tgiven(this.caService.submitForm(any(CAReportDTO.class))).willReturn(dto);\r\n\r\n\t\tthis.mvc.perform(post(&quot;/cas/reports&quot;).contentType(MediaType.APPLICATION_JSON).content(jString))\r\n\t\t\t\t.andExpect(status().is2xxSuccessful());\r\n\r\n\t\tdto.setIncidentDate(LocalDate.now().plusMonths(2));\r\n\t\tdto.setEmpId(&quot;111111111111111111111111111&quot;);\r\n\t\tjString = mapper.writeValueAsString(dto);\r\n\t\tthis.mvc.perform(post(&quot;/cas/reports&quot;).contentType(MediaType.APPLICATION_JSON).content(jString))\r\n\t\t\t\t.andExpect(status().is4xxClientError());\r\n\r\n\t}\r\n```\r\n\r\nThe test is failing because the last call returns `200` instead of the expected client error.\r\n\r\nI *did* include `org.springframework.boot:spring-boot-starter-validation` in my dependencies. \r\n\r\nThe DTO is actually in a separate library (which is using ` group: &#39;org.hibernate.validator:hibernate-validator:7.0.1.Final&#39;` for the annotations). Not sure if any version conflicts would cause this?\r\n\r\nThanks!\r\n\r\nEDIT:\r\nSetup for test class:\r\n```\r\n@WebMvcTest(CAController.class)\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class CAControllerTest {\r\n\r\n\t@Autowired\r\n\tprivate MockMvc mvc;\r\n\r\n\t@MockBean\r\n\tprivate CAService caService;\r\n\r\n\t@Autowired\r\n\tprivate ObjectMapper mapper;\r\n\r\n    // @Test methods\r\n\r\n   }\r\n\r\n```\r\n","title":"Spring @Valid Annotation Not Functioning","body":"<p>I have a Spring Boot 2.5.3 project and I am attempting to validate some models. However, the tests are returning a <code>200</code> status when I am expecting a <code>4xx</code> error.</p>\n<p>Sample endpoint under test:</p>\n<pre><code> @PostMapping(&quot;/reports&quot;)\n public CAReportDTO addReport(@Valid @RequestBody CAReportDTO caReport) {\n     return this.caService.submitForm(caReport);\n }\n</code></pre>\n<p>where CAReportDTO has the following annotations (in part):</p>\n<pre><code>\npublic class CAReportDTO {\n\n    private int id;\n    @Size(min = 5, max = 7, message \n            = &quot;Employee ID must be between 5 and 7 characters long.&quot;)\n    @NotNull\n    private String empId;\n    private int formId;\n    private String formTitle;\n    @Size(min = 4, max = 5, message \n            = &quot;Work location must be between 4 and 5 characters long.&quot;)\n    @NotNull\n    private String workLocId;\n    private CAStatus statusId;\n    @NotNull\n    @PastOrPresent\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    private LocalDate incidentDate;\n</code></pre>\n<p>The controller test is as follows (it should fail on both the empId and incidentDate fields):</p>\n<pre><code>    @Test\n    @WithMockUser(username = &quot;admin&quot;, authorities = { RoleConstants.HR.WRK_MNG_CAS })\n    public void testAddInvalidReport() throws Exception {\n        var dto = new CAReportDTO(&quot;test&quot;, TEST_ID, &quot;w&quot;, LocalDate.now(), &quot;t&quot;);\n        var jString = mapper.writeValueAsString(dto);\n\n        given(this.caService.submitForm(any(CAReportDTO.class))).willReturn(dto);\n\n        this.mvc.perform(post(&quot;/cas/reports&quot;).contentType(MediaType.APPLICATION_JSON).content(jString))\n                .andExpect(status().is2xxSuccessful());\n\n        dto.setIncidentDate(LocalDate.now().plusMonths(2));\n        dto.setEmpId(&quot;111111111111111111111111111&quot;);\n        jString = mapper.writeValueAsString(dto);\n        this.mvc.perform(post(&quot;/cas/reports&quot;).contentType(MediaType.APPLICATION_JSON).content(jString))\n                .andExpect(status().is4xxClientError());\n\n    }\n</code></pre>\n<p>The test is failing because the last call returns <code>200</code> instead of the expected client error.</p>\n<p>I <em>did</em> include <code>org.springframework.boot:spring-boot-starter-validation</code> in my dependencies.</p>\n<p>The DTO is actually in a separate library (which is using <code> group: 'org.hibernate.validator:hibernate-validator:7.0.1.Final'</code> for the annotations). Not sure if any version conflicts would cause this?</p>\n<p>Thanks!</p>\n<p>EDIT:\nSetup for test class:</p>\n<pre><code>@WebMvcTest(CAController.class)\n@ActiveProfiles(&quot;test&quot;)\npublic class CAControllerTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @MockBean\n    private CAService caService;\n\n    @Autowired\n    private ObjectMapper mapper;\n\n    // @Test methods\n\n   }\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","classloader","resource-loading"],"owner":{"account_id":21372382,"reputation":11,"user_id":17214633,"display_name":"RickyTan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634851954,"creation_date":1634851652,"question_id":69668985,"body_markdown":"When trying to fetch resources using the tried-and-true \r\n```\r\nResource[] esResources = ResourcePatternUtils.getResourcePatternResolver(resourceLoader)\r\n                .getResources(&quot;classpath*:/es/&quot; + storageFilename + &quot;.json&quot;)\r\n``` \r\n(resourceLoader is the default @Autowired provided by spring boot)\r\n\r\nesResources returns empty when the file is clearly there in the classpath under /BOOT-INF/classes/es/\r\n\r\nBigger mystery is that the code works in a separate repo of ours, running the same spring-boot version (spring-boot-starter-parent 2.4.5). \r\n\r\nStepping both repos through the debugger, I found a diff at [this step](https://github.com/spring-projects/spring-framework/blob/71036e7da52c546b513ba946cf9f4eada278c5f3/spring-core/src/main/java/org/springframework/core/io/support/PathMatchingResourcePatternResolver.java#L337) within `PathMatchingResourcePatternResolver`-- the one that works is using `TomcatEmbeddedWebappClassLoader`, while the &quot;broken&quot; one is showing `ClassLoaders$AppClassLoader`. Not sure if this is a red herring though. \r\n","title":"Spring Boot PathMatchingResourcePatternResolver not finding the expected Resources","body":"<p>When trying to fetch resources using the tried-and-true</p>\n<pre><code>Resource[] esResources = ResourcePatternUtils.getResourcePatternResolver(resourceLoader)\n                .getResources(&quot;classpath*:/es/&quot; + storageFilename + &quot;.json&quot;)\n</code></pre>\n<p>(resourceLoader is the default @Autowired provided by spring boot)</p>\n<p>esResources returns empty when the file is clearly there in the classpath under /BOOT-INF/classes/es/</p>\n<p>Bigger mystery is that the code works in a separate repo of ours, running the same spring-boot version (spring-boot-starter-parent 2.4.5).</p>\n<p>Stepping both repos through the debugger, I found a diff at <a href=\"https://github.com/spring-projects/spring-framework/blob/71036e7da52c546b513ba946cf9f4eada278c5f3/spring-core/src/main/java/org/springframework/core/io/support/PathMatchingResourcePatternResolver.java#L337\" rel=\"nofollow noreferrer\">this step</a> within <code>PathMatchingResourcePatternResolver</code>-- the one that works is using <code>TomcatEmbeddedWebappClassLoader</code>, while the &quot;broken&quot; one is showing <code>ClassLoaders$AppClassLoader</code>. Not sure if this is a red herring though.</p>\n"},{"tags":["java","amazon-web-services","kotlin","amazon-s3","http4k"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1634853899,"post_id":69668987,"comment_id":123145935,"body_markdown":"Why wouldn&#39;t it be possible? The docs claim that &quot;http4k provides a simple and uniform way to serve, consume, and test HTTP services.&quot; Did you try this? Do you have any code?","body":"Why wouldn&#39;t it be possible? The docs claim that &quot;http4k provides a simple and uniform way to serve, consume, and test HTTP services.&quot; Did you try this? Do you have any code?"},{"owner":{"account_id":18031110,"reputation":510,"user_id":13105710,"display_name":"mooglin"},"score":0,"creation_date":1635189595,"post_id":69668987,"comment_id":123224959,"body_markdown":"My problem is that there is very sparse documentation for this library and it&#39;s not at all popular either, so it&#39;s difficult to find examples of how to work with it. I know how to pass in objects can be accessed as body parameters, but I don&#39;t know how to set the inputStream directly using this package","body":"My problem is that there is very sparse documentation for this library and it&#39;s not at all popular either, so it&#39;s difficult to find examples of how to work with it. I know how to pass in objects can be accessed as body parameters, but I don&#39;t know how to set the inputStream directly using this package"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1635190523,"post_id":69668987,"comment_id":123225316,"body_markdown":"Limited documentation and unpopular doesn&#39;t sound encouraging. The AWS Java SDK includes a TransferManager that can accept streamed uploads via [PutObjectRequest](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html) afaik.","body":"Limited documentation and unpopular doesn&#39;t sound encouraging. The AWS Java SDK includes a TransferManager that can accept streamed uploads via <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html\" rel=\"nofollow noreferrer\">PutObjectRequest</a> afaik."}],"owner":{"account_id":18031110,"reputation":510,"user_id":13105710,"display_name":"mooglin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634851661,"creation_date":1634851661,"question_id":69668987,"body_markdown":"I&#39;m currently using an AWS recommended method of uploading to an S3 bucket using a presigned url that is detailed [here](https://docs.aws.amazon.com/AmazonS3/latest/userguide/PresignedUrlUploadObject.html)\r\n\r\n```\r\n// Create the connection and use it to upload the new object using the pre-signed URL.\r\n\r\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\nconnection.setDoOutput(true);\r\nconnection.setRequestMethod(&quot;PUT&quot;);\r\nOutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());\r\nout.write(&quot;This text uploaded as an object via presigned URL.&quot;);\r\nout.close();\r\n\r\n// Check the HTTP response code. To complete the upload and make the object available, \r\n// you must interact with the connection object in some way.\r\n\r\nconnection.getResponseCode();\r\nSystem.out.println(&quot;HTTP response code: &quot; + connection.getResponseCode());\r\n\r\n```\r\n\r\nI would like to instead do this using Http4k. Is such functionality possible with this toolkit? If so, could somebody please direct me in the right direction?","title":"Is it possible to use Http4k to upload to an Amazon S3 bucket with a presigned-url?","body":"<p>I'm currently using an AWS recommended method of uploading to an S3 bucket using a presigned url that is detailed <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/PresignedUrlUploadObject.html\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>// Create the connection and use it to upload the new object using the pre-signed URL.\n\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setDoOutput(true);\nconnection.setRequestMethod(&quot;PUT&quot;);\nOutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());\nout.write(&quot;This text uploaded as an object via presigned URL.&quot;);\nout.close();\n\n// Check the HTTP response code. To complete the upload and make the object available, \n// you must interact with the connection object in some way.\n\nconnection.getResponseCode();\nSystem.out.println(&quot;HTTP response code: &quot; + connection.getResponseCode());\n\n</code></pre>\n<p>I would like to instead do this using Http4k. Is such functionality possible with this toolkit? If so, could somebody please direct me in the right direction?</p>\n"},{"tags":["java","android","android-recyclerview","android-adapter"],"answers":[{"tags":[],"owner":{"account_id":2530619,"reputation":4812,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634851376,"creation_date":1634851376,"answer_id":69668941,"question_id":69668758,"body_markdown":"I suggest performing that removal logic in the constructor of the adapter rather than in `onBind`. `onBind` happens as the recycler view is finalising the details of each view holder immediately before it&#39;s shown to the user. You want to do as little as possible logic in here to keep the recycler view performant. \r\n\r\nInside the constructor (or even before the list is passed in) you should perform a loop and remove those items that don&#39;t meet the criteria before setting the instance variable. \r\n\r\nIt&#39;s been a long time since I wrote code in java and so I&#39;d end up with unhelpful incorrect syntax if I tried to do it here. ","title":"Remove certain items which are empty from RecyclerView list?","body":"<p>I suggest performing that removal logic in the constructor of the adapter rather than in <code>onBind</code>. <code>onBind</code> happens as the recycler view is finalising the details of each view holder immediately before it's shown to the user. You want to do as little as possible logic in here to keep the recycler view performant.</p>\n<p>Inside the constructor (or even before the list is passed in) you should perform a loop and remove those items that don't meet the criteria before setting the instance variable.</p>\n<p>It's been a long time since I wrote code in java and so I'd end up with unhelpful incorrect syntax if I tried to do it here.</p>\n"}],"owner":{"account_id":15611781,"reputation":319,"user_id":11262996,"display_name":"Meggan Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69668941,"answer_count":1,"score":0,"last_activity_date":1634851376,"creation_date":1634850170,"question_id":69668758,"body_markdown":"I&#39;m making an app using TMDB API and have gotten stuck at a small issue.\r\n\r\nTMDB API shows seasons and episodes which are empty, basically, those are yet to air but since those are empty, the app shows a blank item that I&#39;m trying to get rid of.\r\n\r\nHere&#39;s my adapter:\r\n```\r\npublic class SeasonAdapter extends RecyclerView.Adapter&lt;SeasonAdapter.ViewHolder&gt; {\r\n\r\n    private final List&lt;Season&gt; seasons;\r\n    private final Context context;\r\n    private final RequestOptions requestOptions;\r\n\r\n    public SeasonAdapter(List&lt;Season&gt; seasons, Context context) {\r\n        this.seasons = seasons;\r\n        this.context = context;\r\n        requestOptions = new RequestOptions().centerCrop().placeholder(R.drawable.poster_placeholder).error(R.drawable.poster_placeholder);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.item_season_item, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        final Season season = seasons.get(position);\r\n\r\n        holder.tvTitle.setText(season.getSeasonTitle());\r\n\r\n        if (season.getSeasonDate() != null &amp;&amp; !season.getSeasonDate().isEmpty()) {\r\n            holder.tvDate.setText(context.getResources().getString(R.string.aired_on) + season.getSeasonDate());\r\n        } else {\r\n            holder.tvDate.setVisibility(View.GONE);\r\n        }\r\n\r\n        if (season.getSeasonEpisodes() == 0) {\r\n            seasons.remove(position);\r\n        }\r\n\r\n        holder.tvEpisodes.setText(String.valueOf(season.getSeasonEpisodes()) + context.getResources().getString(R.string.total_episodes));\r\n        Glide.with(context).load(season.getSeasonImageURL()).apply(requestOptions).into(holder.ivPoster);\r\n\r\n        holder.itemView.setOnClickListener(v -&gt; {\r\n            Intent intent = new Intent(context, EpisodeActivity.class);\r\n            intent.putExtra(&quot;title&quot;, season.getShowTitle());\r\n            intent.putExtra(&quot;seasonTitle&quot;, season.getSeasonTitle());\r\n            intent.putExtra(&quot;seasonNo&quot;, season.getSeasonNo());\r\n            intent.putExtra(&quot;tvId&quot;, season.getTvId());\r\n            v.getContext().startActivity(intent);\r\n        });\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return seasons.size();\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public ImageView ivPoster;\r\n        public TextView tvTitle, tvDate, tvEpisodes;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            ivPoster = itemView.findViewById(R.id.ivSeasonPoster);\r\n            tvTitle = itemView.findViewById(R.id.tvSeasonTitle);\r\n            tvDate = itemView.findViewById(R.id.tvSeasonAired);\r\n            tvEpisodes = itemView.findViewById(R.id.tvSeasonEpisodes);\r\n\r\n            //Poster Corners\r\n            ivPoster.setClipToOutline(true);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried doing this:\r\n```\r\nif (season.getSeasonEpisodes() == 0) {\r\n    seasons.remove(position);\r\n}\r\n```\r\n\r\nIt does seem to hide the season which has no episodes but if a show has multiple seasons without episodes, my app crashes so I figured this isn&#39;t the right solution so any help is appreciated.","title":"Remove certain items which are empty from RecyclerView list?","body":"<p>I'm making an app using TMDB API and have gotten stuck at a small issue.</p>\n<p>TMDB API shows seasons and episodes which are empty, basically, those are yet to air but since those are empty, the app shows a blank item that I'm trying to get rid of.</p>\n<p>Here's my adapter:</p>\n<pre><code>public class SeasonAdapter extends RecyclerView.Adapter&lt;SeasonAdapter.ViewHolder&gt; {\n\n    private final List&lt;Season&gt; seasons;\n    private final Context context;\n    private final RequestOptions requestOptions;\n\n    public SeasonAdapter(List&lt;Season&gt; seasons, Context context) {\n        this.seasons = seasons;\n        this.context = context;\n        requestOptions = new RequestOptions().centerCrop().placeholder(R.drawable.poster_placeholder).error(R.drawable.poster_placeholder);\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.item_season_item, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        final Season season = seasons.get(position);\n\n        holder.tvTitle.setText(season.getSeasonTitle());\n\n        if (season.getSeasonDate() != null &amp;&amp; !season.getSeasonDate().isEmpty()) {\n            holder.tvDate.setText(context.getResources().getString(R.string.aired_on) + season.getSeasonDate());\n        } else {\n            holder.tvDate.setVisibility(View.GONE);\n        }\n\n        if (season.getSeasonEpisodes() == 0) {\n            seasons.remove(position);\n        }\n\n        holder.tvEpisodes.setText(String.valueOf(season.getSeasonEpisodes()) + context.getResources().getString(R.string.total_episodes));\n        Glide.with(context).load(season.getSeasonImageURL()).apply(requestOptions).into(holder.ivPoster);\n\n        holder.itemView.setOnClickListener(v -&gt; {\n            Intent intent = new Intent(context, EpisodeActivity.class);\n            intent.putExtra(&quot;title&quot;, season.getShowTitle());\n            intent.putExtra(&quot;seasonTitle&quot;, season.getSeasonTitle());\n            intent.putExtra(&quot;seasonNo&quot;, season.getSeasonNo());\n            intent.putExtra(&quot;tvId&quot;, season.getTvId());\n            v.getContext().startActivity(intent);\n        });\n\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return seasons.size();\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n\n        public ImageView ivPoster;\n        public TextView tvTitle, tvDate, tvEpisodes;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            ivPoster = itemView.findViewById(R.id.ivSeasonPoster);\n            tvTitle = itemView.findViewById(R.id.tvSeasonTitle);\n            tvDate = itemView.findViewById(R.id.tvSeasonAired);\n            tvEpisodes = itemView.findViewById(R.id.tvSeasonEpisodes);\n\n            //Poster Corners\n            ivPoster.setClipToOutline(true);\n        }\n    }\n}\n</code></pre>\n<p>I tried doing this:</p>\n<pre><code>if (season.getSeasonEpisodes() == 0) {\n    seasons.remove(position);\n}\n</code></pre>\n<p>It does seem to hide the season which has no episodes but if a show has multiple seasons without episodes, my app crashes so I figured this isn't the right solution so any help is appreciated.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2397695,"reputation":4935,"user_id":2096177,"accept_rate":61,"display_name":"Mathias G."},"score":0,"creation_date":1386161946,"post_id":20374065,"comment_id":123145258,"body_markdown":"I think this blogpost describes perfectly what you need: [Modification of properties in spring - propertyplaceholderconfigurer](https://web.archive.org/web/20150402034811/http://jeviathon.com/2009/08/25/modification-of-properties-in-spring-propertyplaceholderconfigurer/)","body":"I think this blogpost describes perfectly what you need: <a href=\"https://web.archive.org/web/20150402034811/http://jeviathon.com/2009/08/25/modification-of-properties-in-spring-propertyplaceholderconfigurer/\" rel=\"nofollow noreferrer\">Modification of properties in spring - propertyplaceholderconfigurer</a>"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1386166860,"post_id":20374065,"comment_id":123145259,"body_markdown":"That&#180;s is more or less what I have. I have a class that extends PropertyPlaceHolderConfig, but still dont explain how to get a property value already loaded and modify it:        getConfigurer().getResolvedProps().get(key);","body":"That&#180;s is more or less what I have. I have a class that extends PropertyPlaceHolderConfig, but still dont explain how to get a property value already loaded and modify it:        getConfigurer().getResolvedProps().get(key);"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1386167188,"post_id":20374065,"comment_id":123145260,"body_markdown":"In my case I load the propertyPlaceHolder during the startup, but I need to update some property values once the application is up and running, and a user interact with the application","body":"In my case I load the propertyPlaceHolder during the startup, but I need to update some property values once the application is up and running, and a user interact with the application"}],"answers":[{"tags":[],"owner":{"account_id":2314267,"reputation":883,"user_id":2031645,"accept_rate":43,"display_name":"J&#248;rgen Sk&#229;r Fischer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1386156979,"creation_date":1386156979,"answer_id":20374310,"question_id":20374065,"body_markdown":"Have you tried to refresh your Application Context and get the new bean?\r\n\r\ncheck out the post on https://stackoverflow.com/questions/4530193/update-database-settings-in-properties-file-in-spring\r\n","title":"Modify property of PropertyPlaceholderConfigurer","body":"<p>Have you tried to refresh your Application Context and get the new bean?</p>\n\n<p>check out the post on <a href=\"https://stackoverflow.com/questions/4530193/update-database-settings-in-properties-file-in-spring\">Update database settings in properties file in Spring</a></p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20374310,"answer_count":1,"score":0,"last_activity_date":1634851230,"creation_date":1386156306,"question_id":20374065,"body_markdown":"I have a class that extends PropertyPlaceholderConfigurer where I&#180;m injecting some properties with values form database. My question is, if once that I have my application spring running, would be possible to update a property value that I have on memory on PropertyPlaceholderConfigurer.\r\n\r\nRegards.","title":"Modify property of PropertyPlaceholderConfigurer","body":"<p>I have a class that extends PropertyPlaceholderConfigurer where I´m injecting some properties with values form database. My question is, if once that I have my application spring running, would be possible to update a property value that I have on memory on PropertyPlaceholderConfigurer.</p>\n\n<p>Regards.</p>\n"},{"tags":["java","android","navigation","fragment","bundle"],"answers":[{"tags":[],"owner":{"account_id":10817783,"reputation":1038,"user_id":7956161,"display_name":"Muhammad Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634851228,"creation_date":1634851228,"answer_id":69668915,"question_id":69668836,"body_markdown":"You need to communicate to multiple fragments via ViewModel or fragment listener\r\n\r\nfrom your `GoalFragment` \r\n\r\n \r\n\r\n        Bundle result = new Bundle();\r\n        result.putInt(&quot;goal&quot;, 1);\r\n        getParentFragmentManager().setFragmentResult(&quot;progress&quot;, result);\r\n\r\nIn Your `ProgressFragment`\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getParentFragmentManager().setFragmentResultListener(&quot;requestKey&quot;, this, new FragmentResultListener() {\r\n            @Override\r\n            public void onFragmentResult(@NonNull String requestKey, @NonNull Bundle bundle) {\r\n                // We use a String here, but any type that can be put in a Bundle is supported\r\n                String result = bundle.getInt(&quot;goal&quot;);\r\n                // Do something with the result\r\n            }\r\n        });\r\n    }\r\n\r\nYou can see the docs for detail implementation \r\nhttps://developer.android.com/guide/fragments/communicate#java","title":"Android Studio - Bundle not passing data between Fragments","body":"<p>You need to communicate to multiple fragments via ViewModel or fragment listener</p>\n<p>from your <code>GoalFragment</code></p>\n<pre><code>    Bundle result = new Bundle();\n    result.putInt(&quot;goal&quot;, 1);\n    getParentFragmentManager().setFragmentResult(&quot;progress&quot;, result);\n</code></pre>\n<p>In Your <code>ProgressFragment</code></p>\n<pre><code>@Override\npublic void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    getParentFragmentManager().setFragmentResultListener(&quot;requestKey&quot;, this, new FragmentResultListener() {\n        @Override\n        public void onFragmentResult(@NonNull String requestKey, @NonNull Bundle bundle) {\n            // We use a String here, but any type that can be put in a Bundle is supported\n            String result = bundle.getInt(&quot;goal&quot;);\n            // Do something with the result\n        }\n    });\n}\n</code></pre>\n<p>You can see the docs for detail implementation\n<a href=\"https://developer.android.com/guide/fragments/communicate#java\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/communicate#java</a></p>\n"}],"owner":{"account_id":17162039,"reputation":129,"user_id":12421440,"display_name":"Loizos Aristeidis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69668915,"answer_count":1,"score":0,"last_activity_date":1634851228,"creation_date":1634850611,"question_id":69668836,"body_markdown":"I&#39;m working on an app which contains a total of 5 Fragments, connected with a Bottom Navigation Menu. For the sake of keeping things simple, I&#39;ll use 2 of those as an example. \r\n\r\n```\r\npackage com.example.ssresilience;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link GoalsFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class GoalsFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    private Button fg_goals_socialize;\r\n    private Button fg_goals_study;\r\n    private Button fg_goals_exercise;\r\n    private Button fg_goals_setgoal;\r\n    private TextView fg_goals_placeholder;\r\n\r\n    private int check = 0;\r\n\r\n    public GoalsFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment GoalsFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static GoalsFragment newInstance(String param1, String param2) {\r\n        GoalsFragment fragment = new GoalsFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View rootView = inflater.inflate((R.layout.fragment_goals), container, false);\r\n\r\n        fg_goals_socialize = (Button)rootView.findViewById(R.id.fg_goals_socialize);\r\n        fg_goals_socialize.setOnClickListener(this::onClick);\r\n        fg_goals_study = (Button)rootView.findViewById(R.id.fg_goals_study);\r\n        fg_goals_study.setOnClickListener(this::onClick);\r\n        fg_goals_exercise = (Button)rootView.findViewById(R.id.fg_goals_exercise);\r\n        fg_goals_exercise.setOnClickListener(this::onClick);\r\n        fg_goals_setgoal = (Button)rootView.findViewById(R.id.fg_goals_setgoal);\r\n        fg_goals_setgoal.setOnClickListener(this::onClick);\r\n        fg_goals_placeholder = (TextView)rootView.findViewById(R.id.fg_goals_placeholder);\r\n\r\n        return rootView;\r\n    }\r\n\r\n    @SuppressLint({&quot;UseCompatLoadingForDrawables&quot;, &quot;ResourceAsColor&quot;, &quot;UseCompatLoadingForColorStateLists&quot;, &quot;NonConstantResourceId&quot;, &quot;SetTextI18n&quot;})\r\n    public void onClick(View v) {\r\n        switch (v.getId()) {\r\n            case R.id.fg_goals_socialize:\r\n                fg_goals_placeholder.setText(&quot;• Talk to 3 or more people, other than your family.\\n\\n&quot; +\r\n                        &quot;• Engage in phone or video calls from any device.\\n\\n&quot; +\r\n                        &quot;• Exit your house for more than 2 hours.\\n\\n&quot; +\r\n                        &quot;• Meet new people online or via your phone.&quot;);\r\n                fg_goals_socialize.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect));\r\n                fg_goals_socialize.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text));\r\n                fg_goals_study.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\r\n                fg_goals_study.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\r\n                fg_goals_exercise.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\r\n                fg_goals_exercise.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\r\n                check = 1;\r\n                break;\r\n            case R.id.fg_goals_study:\r\n                fg_goals_placeholder.setText(&quot;• Study for 1 or more hours today.\\n\\n&quot; +\r\n                        &quot;• Work for at least 1 hour on your projects.\\n\\n&quot; +\r\n                        &quot;• Talk to friends or relatives about your projects.\\n\\n&quot; +\r\n                        &quot;• Dedicate study time for the course of your liking.&quot;);\r\n                fg_goals_socialize.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\r\n                fg_goals_socialize.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\r\n                fg_goals_study.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect));\r\n                fg_goals_study.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text));\r\n                fg_goals_exercise.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\r\n                fg_goals_exercise.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\r\n                check = 2;\r\n                break;\r\n            case R.id.fg_goals_exercise:\r\n                fg_goals_placeholder.setText(&quot;• Dedicate more than 1 hour on physical exercise.\\n\\n&quot; +\r\n                        &quot;• Participate in physical exercises with friends or others.\\n\\n&quot; +\r\n                        &quot;• Achieve your physical exercise-related goal.\\n\\n&quot; +\r\n                        &quot;• Track your fitness-related progress in any way.&quot;);\r\n                fg_goals_socialize.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\r\n                fg_goals_socialize.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\r\n                fg_goals_study.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\r\n                fg_goals_study.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\r\n                fg_goals_exercise.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect));\r\n                fg_goals_exercise.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text));\r\n                check = 3;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        switch (v.getId()) {\r\n            case R.id.fg_goals_setgoal:\r\n                if(check == 0) {\r\n                    Toast.makeText(getActivity(), &quot;Please select one of the 3 Goals!&quot;,\r\n                            Toast.LENGTH_LONG).show();\r\n                }\r\n                if(check == 1) {\r\n                    Bundle args = new Bundle();\r\n                    args.putInt(&quot;goal&quot;, 1);\r\n                    ProgressFragment newFragment = new ProgressFragment();\r\n                    newFragment.setArguments(args);\r\n                    Toast.makeText(getActivity(), &quot;Current Goal: Socialize More&quot;,\r\n                            Toast.LENGTH_LONG).show();\r\n                }\r\n                if(check == 2) {\r\n                    Bundle args = new Bundle();\r\n                    args.putInt(&quot;goal&quot;, 2);\r\n                    ProgressFragment newFragment = new ProgressFragment();\r\n                    newFragment.setArguments(args);\r\n                    Toast.makeText(getActivity(), &quot;Current Goal: Enhance Study Motives&quot;,\r\n                            Toast.LENGTH_LONG).show();\r\n                }\r\n                if(check == 3) {\r\n                    Bundle args = new Bundle();\r\n                    args.putInt(&quot;goal&quot;, 3);\r\n                    ProgressFragment newFragment = new ProgressFragment();\r\n                    newFragment.setArguments(args);\r\n                    Toast.makeText(getActivity(), &quot;Current Goal: Physical Exercise&quot;,\r\n                            Toast.LENGTH_LONG).show();\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn the **GoalsFragment.java** above, there are 2 **switch** methods, one which highlights the buttons and assigns the **check** variable, while the other one below contains if statements that determine which button is pressed. These 2 are working flawlessly, so the problem is not there. According to the pressed button, in the second **switch** method, we&#39;ve got 3 different **bundles**, which are used to pass data to the Fragment **ProgressFragment.java**, when the &quot;SET GOAL&quot; button is pressed.\r\n\r\n```\r\npackage com.example.ssresilience;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link ProgressFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class ProgressFragment extends Fragment {\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public ProgressFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment ProgressFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static ProgressFragment newInstance(String param1, String param2) {\r\n        ProgressFragment fragment = new ProgressFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View rootView = inflater.inflate(R.layout.fragment_progress, container, false);\r\n\r\n        // Get the Selected Goal data from the GoalsFragment\r\n        Bundle b = getArguments();\r\n        int goal = b.getInt(&quot;goal&quot;);\r\n        System.out.println(goal);\r\n\r\n        // Set the Progress Fragment Text according to the selected Goal\r\n        TextView fg_progress_header2 = (TextView) rootView.findViewById(R.id.fg_progress_header2);\r\n        if (goal == 1) {\r\n            fg_progress_header2.setText(&quot;Socialize More&quot;);\r\n        } if (goal == 2) {\r\n            fg_progress_header2.setText(&quot;Enhance Study Motives&quot;);\r\n        } if (goal == 3) {\r\n            fg_progress_header2.setText(&quot;Physical Exercise&quot;);\r\n        }\r\n\r\n        return rootView;\r\n    }\r\n}\r\n```\r\n\r\nIn this second Fragment, I am trying to retrieve the **goal** data from one of the 3 **bundles** in **GoalsFragment.java**, and set the text of the TextViews accordingly. For testing purposes, I have included a ```System.out.println(goal);```, which returns 0, indicating that the bundle data is not retrieved properly from the first Fragment. \r\n\r\nI have even tried putting the **bundle** on the ```onCreateView``` method of **GoalsFragment.java**, just in case of faulty code below, but it still didn&#39;t work.\r\n\r\nCould anyone help me out? Nothing that I do seems to be working... \r\n\r\nThank you in advance!","title":"Android Studio - Bundle not passing data between Fragments","body":"<p>I'm working on an app which contains a total of 5 Fragments, connected with a Bottom Navigation Menu. For the sake of keeping things simple, I'll use 2 of those as an example.</p>\n<pre><code>package com.example.ssresilience;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link GoalsFragment#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class GoalsFragment extends Fragment {\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    private Button fg_goals_socialize;\n    private Button fg_goals_study;\n    private Button fg_goals_exercise;\n    private Button fg_goals_setgoal;\n    private TextView fg_goals_placeholder;\n\n    private int check = 0;\n\n    public GoalsFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment GoalsFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static GoalsFragment newInstance(String param1, String param2) {\n        GoalsFragment fragment = new GoalsFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View rootView = inflater.inflate((R.layout.fragment_goals), container, false);\n\n        fg_goals_socialize = (Button)rootView.findViewById(R.id.fg_goals_socialize);\n        fg_goals_socialize.setOnClickListener(this::onClick);\n        fg_goals_study = (Button)rootView.findViewById(R.id.fg_goals_study);\n        fg_goals_study.setOnClickListener(this::onClick);\n        fg_goals_exercise = (Button)rootView.findViewById(R.id.fg_goals_exercise);\n        fg_goals_exercise.setOnClickListener(this::onClick);\n        fg_goals_setgoal = (Button)rootView.findViewById(R.id.fg_goals_setgoal);\n        fg_goals_setgoal.setOnClickListener(this::onClick);\n        fg_goals_placeholder = (TextView)rootView.findViewById(R.id.fg_goals_placeholder);\n\n        return rootView;\n    }\n\n    @SuppressLint({&quot;UseCompatLoadingForDrawables&quot;, &quot;ResourceAsColor&quot;, &quot;UseCompatLoadingForColorStateLists&quot;, &quot;NonConstantResourceId&quot;, &quot;SetTextI18n&quot;})\n    public void onClick(View v) {\n        switch (v.getId()) {\n            case R.id.fg_goals_socialize:\n                fg_goals_placeholder.setText(&quot;• Talk to 3 or more people, other than your family.\\n\\n&quot; +\n                        &quot;• Engage in phone or video calls from any device.\\n\\n&quot; +\n                        &quot;• Exit your house for more than 2 hours.\\n\\n&quot; +\n                        &quot;• Meet new people online or via your phone.&quot;);\n                fg_goals_socialize.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect));\n                fg_goals_socialize.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text));\n                fg_goals_study.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\n                fg_goals_study.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\n                fg_goals_exercise.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\n                fg_goals_exercise.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\n                check = 1;\n                break;\n            case R.id.fg_goals_study:\n                fg_goals_placeholder.setText(&quot;• Study for 1 or more hours today.\\n\\n&quot; +\n                        &quot;• Work for at least 1 hour on your projects.\\n\\n&quot; +\n                        &quot;• Talk to friends or relatives about your projects.\\n\\n&quot; +\n                        &quot;• Dedicate study time for the course of your liking.&quot;);\n                fg_goals_socialize.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\n                fg_goals_socialize.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\n                fg_goals_study.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect));\n                fg_goals_study.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text));\n                fg_goals_exercise.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\n                fg_goals_exercise.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\n                check = 2;\n                break;\n            case R.id.fg_goals_exercise:\n                fg_goals_placeholder.setText(&quot;• Dedicate more than 1 hour on physical exercise.\\n\\n&quot; +\n                        &quot;• Participate in physical exercises with friends or others.\\n\\n&quot; +\n                        &quot;• Achieve your physical exercise-related goal.\\n\\n&quot; +\n                        &quot;• Track your fitness-related progress in any way.&quot;);\n                fg_goals_socialize.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\n                fg_goals_socialize.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\n                fg_goals_study.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect_reset));\n                fg_goals_study.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text_reset));\n                fg_goals_exercise.setBackgroundDrawable(getResources().getDrawable(R.drawable.buttoncolor_rect));\n                fg_goals_exercise.setTextColor(getResources().getColorStateList(R.color.buttoncolor_text));\n                check = 3;\n                break;\n            default:\n                break;\n        }\n        switch (v.getId()) {\n            case R.id.fg_goals_setgoal:\n                if(check == 0) {\n                    Toast.makeText(getActivity(), &quot;Please select one of the 3 Goals!&quot;,\n                            Toast.LENGTH_LONG).show();\n                }\n                if(check == 1) {\n                    Bundle args = new Bundle();\n                    args.putInt(&quot;goal&quot;, 1);\n                    ProgressFragment newFragment = new ProgressFragment();\n                    newFragment.setArguments(args);\n                    Toast.makeText(getActivity(), &quot;Current Goal: Socialize More&quot;,\n                            Toast.LENGTH_LONG).show();\n                }\n                if(check == 2) {\n                    Bundle args = new Bundle();\n                    args.putInt(&quot;goal&quot;, 2);\n                    ProgressFragment newFragment = new ProgressFragment();\n                    newFragment.setArguments(args);\n                    Toast.makeText(getActivity(), &quot;Current Goal: Enhance Study Motives&quot;,\n                            Toast.LENGTH_LONG).show();\n                }\n                if(check == 3) {\n                    Bundle args = new Bundle();\n                    args.putInt(&quot;goal&quot;, 3);\n                    ProgressFragment newFragment = new ProgressFragment();\n                    newFragment.setArguments(args);\n                    Toast.makeText(getActivity(), &quot;Current Goal: Physical Exercise&quot;,\n                            Toast.LENGTH_LONG).show();\n                }\n                break;\n            default:\n                break;\n        }\n    }\n}\n</code></pre>\n<p>In the <strong>GoalsFragment.java</strong> above, there are 2 <strong>switch</strong> methods, one which highlights the buttons and assigns the <strong>check</strong> variable, while the other one below contains if statements that determine which button is pressed. These 2 are working flawlessly, so the problem is not there. According to the pressed button, in the second <strong>switch</strong> method, we've got 3 different <strong>bundles</strong>, which are used to pass data to the Fragment <strong>ProgressFragment.java</strong>, when the &quot;SET GOAL&quot; button is pressed.</p>\n<pre><code>package com.example.ssresilience;\n\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link ProgressFragment#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class ProgressFragment extends Fragment {\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    public ProgressFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment ProgressFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static ProgressFragment newInstance(String param1, String param2) {\n        ProgressFragment fragment = new ProgressFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View rootView = inflater.inflate(R.layout.fragment_progress, container, false);\n\n        // Get the Selected Goal data from the GoalsFragment\n        Bundle b = getArguments();\n        int goal = b.getInt(&quot;goal&quot;);\n        System.out.println(goal);\n\n        // Set the Progress Fragment Text according to the selected Goal\n        TextView fg_progress_header2 = (TextView) rootView.findViewById(R.id.fg_progress_header2);\n        if (goal == 1) {\n            fg_progress_header2.setText(&quot;Socialize More&quot;);\n        } if (goal == 2) {\n            fg_progress_header2.setText(&quot;Enhance Study Motives&quot;);\n        } if (goal == 3) {\n            fg_progress_header2.setText(&quot;Physical Exercise&quot;);\n        }\n\n        return rootView;\n    }\n}\n</code></pre>\n<p>In this second Fragment, I am trying to retrieve the <strong>goal</strong> data from one of the 3 <strong>bundles</strong> in <strong>GoalsFragment.java</strong>, and set the text of the TextViews accordingly. For testing purposes, I have included a <code>System.out.println(goal);</code>, which returns 0, indicating that the bundle data is not retrieved properly from the first Fragment.</p>\n<p>I have even tried putting the <strong>bundle</strong> on the <code>onCreateView</code> method of <strong>GoalsFragment.java</strong>, just in case of faulty code below, but it still didn't work.</p>\n<p>Could anyone help me out? Nothing that I do seems to be working...</p>\n<p>Thank you in advance!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8070,"page":1922,"page_size":100}
