{"items":[{"tags":["java","zip"],"answers":[{"tags":[],"owner":{"account_id":13745626,"reputation":628,"user_id":11988351,"display_name":"Lutz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665416999,"creation_date":1664869876,"answer_id":73944651,"question_id":73943939,"body_markdown":"You can use ZipInputStream (https://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipInputStream.html) to read entries in the &quot;outer&quot; zip file as zip files as well. \r\n\r\nMeaning open the zip file as you have but then iterate over and if a entry is a zipfile itself you create a ZipInputStream with the InputStream for that ZipEntry. ","title":"Reading files inside a subdir within a zip file","body":"<p>You can use ZipInputStream (<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipInputStream.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipInputStream.html</a>) to read entries in the &quot;outer&quot; zip file as zip files as well.</p>\n<p>Meaning open the zip file as you have but then iterate over and if a entry is a zipfile itself you create a ZipInputStream with the InputStream for that ZipEntry.</p>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664871337,"creation_date":1664870850,"answer_id":73944824,"question_id":73943939,"body_markdown":"This returns the contents of the first text file inside the first Zip file in `zipPath`.\r\n\r\n    public static String readChildZip(Path zipPath) throws IOException {\r\n        try (ZipFile zipFile = new ZipFile(zipPath.toFile())) {\r\n            ZipEntry childZipEntry = zipFile.entries().nextElement();\r\n            try (InputStream childInputStream = zipFile.getInputStream(childZipEntry);\r\n                ZipInputStream childZipStream = new ZipInputStream(childInputStream)) {\r\n                childZipStream.getNextEntry();\r\n                return new String(childZipStream.readAllBytes(), StandardCharsets.UTF_8);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd this will print the contents of all text files inside the first Zip file in `zipPath`.\r\n\r\n    public static void readChildZipAll(Path zipPath) throws IOException {\r\n        try (ZipFile zipFile = new ZipFile(zipPath.toFile())) {\r\n            ZipEntry childZipEntry = zipFile.entries().nextElement();\r\n            try (InputStream childInputStream = zipFile.getInputStream(childZipEntry);\r\n                ZipInputStream childZipStream = new ZipInputStream(childInputStream)) {\r\n                ZipEntry grandChildEntry;\r\n                while ((grandChildEntry = childZipStream.getNextEntry()) != null) {\r\n                    System.out.println(grandChildEntry + &quot;:&quot;\r\n                        +  new String(childZipStream.readAllBytes(), StandardCharsets.UTF_8));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Reading files inside a subdir within a zip file","body":"<p>This returns the contents of the first text file inside the first Zip file in <code>zipPath</code>.</p>\n<pre><code>public static String readChildZip(Path zipPath) throws IOException {\n    try (ZipFile zipFile = new ZipFile(zipPath.toFile())) {\n        ZipEntry childZipEntry = zipFile.entries().nextElement();\n        try (InputStream childInputStream = zipFile.getInputStream(childZipEntry);\n            ZipInputStream childZipStream = new ZipInputStream(childInputStream)) {\n            childZipStream.getNextEntry();\n            return new String(childZipStream.readAllBytes(), StandardCharsets.UTF_8);\n        }\n    }\n}\n</code></pre>\n<p>And this will print the contents of all text files inside the first Zip file in <code>zipPath</code>.</p>\n<pre><code>public static void readChildZipAll(Path zipPath) throws IOException {\n    try (ZipFile zipFile = new ZipFile(zipPath.toFile())) {\n        ZipEntry childZipEntry = zipFile.entries().nextElement();\n        try (InputStream childInputStream = zipFile.getInputStream(childZipEntry);\n            ZipInputStream childZipStream = new ZipInputStream(childInputStream)) {\n            ZipEntry grandChildEntry;\n            while ((grandChildEntry = childZipStream.getNextEntry()) != null) {\n                System.out.println(grandChildEntry + &quot;:&quot;\n                    +  new String(childZipStream.readAllBytes(), StandardCharsets.UTF_8));\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664879334,"creation_date":1664878607,"answer_id":73946376,"question_id":73943939,"body_markdown":"You should look at using NIO ZIP File System or `ZipInputStream` if wanting to scan a ZIP.\r\n\r\nHere is an example of using ZIP File System in a recursive scanner which can be used to inspect any level of depth of JAR/ZIP/WAR/EAR hierarchy. You should adapt to suit own purposes for whatever action you need to perform on the content, this example just cats any &quot;.txt&quot; files to the console.\r\n\r\nNote that ZIP File System returns zip filesystem `Path` objects which can be used with NIO `Files.xxx()` calls such as `Files.find()` and `Find.copy()` just like you would use for `Path` that originate from default HDD filesystems.\r\n \r\n    private static Pattern ZIP_PATTERN = Pattern.compile(&quot;(?i).*\\\\.(jar|war|ear|zip)&quot;);\r\n    public static void traverseZip(Path zip) {\r\n        System.out.println(&quot;traverseZip &quot;+zip.toAbsolutePath());\r\n\r\n        try (FileSystem fs = FileSystems.newFileSystem(zip)) {\r\n            for (Path root : fs.getRootDirectories()) {\r\n                try (Stream&lt;Path&gt; stream = Files.find(root, Integer.MAX_VALUE, (p,a) -&gt; true)) {\r\n                    stream.forEach(entry -&gt; {\r\n                        System.out.println(zip.toString()+&quot; -&gt; &quot;+entry);\r\n\r\n                        // SOME ACTION HERE, for example\r\n                        if (entry.toString().endsWith(&quot;.txt&quot;)) {\r\n                            cat(entry, System.out);\r\n                        }\r\n\r\n                        if (ZIP_PATTERN.matcher(entry.toString()).matches() &amp;&amp; Files.isRegularFile(entry)) {\r\n                            traverseZip(entry);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        catch(IOException e) {\r\n            throw new UncheckedIOException(e);\r\n        }\r\n    }\r\n\r\n    private static void cat(Path path, OutputStream out) {\r\n        try {\r\n            Files.copy(path, out);\r\n        } catch (IOException e) {\r\n            throw new UncheckedIOException(e);\r\n        }\r\n    }\r\n\r\nLaunch with:\r\n\r\n    traverseZip(Path.of(&quot;some.zip&quot;));\r\n\r\n","title":"Reading files inside a subdir within a zip file","body":"<p>You should look at using NIO ZIP File System or <code>ZipInputStream</code> if wanting to scan a ZIP.</p>\n<p>Here is an example of using ZIP File System in a recursive scanner which can be used to inspect any level of depth of JAR/ZIP/WAR/EAR hierarchy. You should adapt to suit own purposes for whatever action you need to perform on the content, this example just cats any &quot;.txt&quot; files to the console.</p>\n<p>Note that ZIP File System returns zip filesystem <code>Path</code> objects which can be used with NIO <code>Files.xxx()</code> calls such as <code>Files.find()</code> and <code>Find.copy()</code> just like you would use for <code>Path</code> that originate from default HDD filesystems.</p>\n<pre><code>private static Pattern ZIP_PATTERN = Pattern.compile(&quot;(?i).*\\\\.(jar|war|ear|zip)&quot;);\npublic static void traverseZip(Path zip) {\n    System.out.println(&quot;traverseZip &quot;+zip.toAbsolutePath());\n\n    try (FileSystem fs = FileSystems.newFileSystem(zip)) {\n        for (Path root : fs.getRootDirectories()) {\n            try (Stream&lt;Path&gt; stream = Files.find(root, Integer.MAX_VALUE, (p,a) -&gt; true)) {\n                stream.forEach(entry -&gt; {\n                    System.out.println(zip.toString()+&quot; -&gt; &quot;+entry);\n\n                    // SOME ACTION HERE, for example\n                    if (entry.toString().endsWith(&quot;.txt&quot;)) {\n                        cat(entry, System.out);\n                    }\n\n                    if (ZIP_PATTERN.matcher(entry.toString()).matches() &amp;&amp; Files.isRegularFile(entry)) {\n                        traverseZip(entry);\n                    }\n                });\n            }\n        }\n    }\n    catch(IOException e) {\n        throw new UncheckedIOException(e);\n    }\n}\n\nprivate static void cat(Path path, OutputStream out) {\n    try {\n        Files.copy(path, out);\n    } catch (IOException e) {\n        throw new UncheckedIOException(e);\n    }\n}\n</code></pre>\n<p>Launch with:</p>\n<pre><code>traverseZip(Path.of(&quot;some.zip&quot;));\n</code></pre>\n"}],"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73944824,"answer_count":3,"score":0,"last_activity_date":1665416999,"creation_date":1664865508,"question_id":73943939,"body_markdown":"I have file in the following structure:\r\n\r\n    --BA.zip\r\n          |\r\n          |--- BA (directory)\r\n                |\r\n                |---BA_KKSSI_20201013.zip\r\n                |      |\r\n                |      |---BA_KKSSI_20201013.txt\r\n                |---BA_KKSSI_20201014.zip\r\n                |      |\r\n                |      |---BA_KKSSI_20201014.txt\r\n                |---BA_KKSSI_20201015.zip\r\n                       |\r\n                       |---BA_KKSSI_20201015.txt\r\n\r\nI need to read BA_KKSSI_20201013.txt without extracting the parent file which is BA.zip\r\nI have already written parts of code to read if there is no sub dirs. For example: \r\n\r\n    public static String readChildZip(Path zipPath) throws IOException {\r\n    \r\n        try (ZipFile zipFile = new ZipFile(zipPath.toFile())) {\r\n    \r\n            // since there is only one text file\r\n            ZipEntry textFile = zipFile.entries().nextElement();\r\n    \r\n            // the zip\r\n            System.out.println(zipFile.getName());\r\n    \r\n            InputStream is = zipFile.getInputStream(textFile);\r\n    \r\n            String contents = IOUtils.toString(is, StandardCharsets.UTF_8);\r\n            return contents;\r\n        }\r\n    }\r\n\r\nAbove code can process the last zip and txt part (i.e., if there are no sub-dirs within a zip) \r\n\r\nI looked through most of the SO posts and all of them propose extracting the sub-directory first and then read through the secondary zip files.\r\n\r\nIs there a way to do this without extracting in the first place?\r\n","title":"Reading files inside a subdir within a zip file","body":"<p>I have file in the following structure:</p>\n<pre><code>--BA.zip\n      |\n      |--- BA (directory)\n            |\n            |---BA_KKSSI_20201013.zip\n            |      |\n            |      |---BA_KKSSI_20201013.txt\n            |---BA_KKSSI_20201014.zip\n            |      |\n            |      |---BA_KKSSI_20201014.txt\n            |---BA_KKSSI_20201015.zip\n                   |\n                   |---BA_KKSSI_20201015.txt\n</code></pre>\n<p>I need to read BA_KKSSI_20201013.txt without extracting the parent file which is BA.zip\nI have already written parts of code to read if there is no sub dirs. For example:</p>\n<pre><code>public static String readChildZip(Path zipPath) throws IOException {\n\n    try (ZipFile zipFile = new ZipFile(zipPath.toFile())) {\n\n        // since there is only one text file\n        ZipEntry textFile = zipFile.entries().nextElement();\n\n        // the zip\n        System.out.println(zipFile.getName());\n\n        InputStream is = zipFile.getInputStream(textFile);\n\n        String contents = IOUtils.toString(is, StandardCharsets.UTF_8);\n        return contents;\n    }\n}\n</code></pre>\n<p>Above code can process the last zip and txt part (i.e., if there are no sub-dirs within a zip)</p>\n<p>I looked through most of the SO posts and all of them propose extracting the sub-directory first and then read through the secondary zip files.</p>\n<p>Is there a way to do this without extracting in the first place?</p>\n"},{"tags":["java","macos","gradle","intellij-idea"],"comments":[{"owner":{"account_id":14966839,"reputation":400,"user_id":10804821,"display_name":"Rohit Babu"},"score":0,"creation_date":1664470323,"post_id":73899091,"comment_id":130485013,"body_markdown":"No IDE builds/executes source code on its own. It uses a combination of build tools like `maven` `gradle` etc., in combination with `compiler` `interpreter` etc., You didn&#39;t specify these in your question. Your answer lies in those.","body":"No IDE builds/executes source code on its own. It uses a combination of build tools like <code>maven</code> <code>gradle</code> etc., in combination with <code>compiler</code> <code>interpreter</code> etc., You didn&#39;t specify these in your question. Your answer lies in those."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1664471078,"post_id":73899091,"comment_id":130485286,"body_markdown":"you might be using mvn or mvnw &amp; in that case executing \n`mvnw clean spring-boot:run`  via mac terminal against your project will run your spring boot code","body":"you might be using mvn or mvnw &amp; in that case executing  <code>mvnw clean spring-boot:run</code>  via mac terminal against your project will run your spring boot code"},{"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"score":0,"creation_date":1664484288,"post_id":73899091,"comment_id":130489075,"body_markdown":"Fair point @RohitBabu. I&#39;ve added `gradle` information to my question.","body":"Fair point @RohitBabu. I&#39;ve added <code>gradle</code> information to my question."},{"owner":{"account_id":14966839,"reputation":400,"user_id":10804821,"display_name":"Rohit Babu"},"score":0,"creation_date":1664484554,"post_id":73899091,"comment_id":130489144,"body_markdown":"Your run configuration is more of a GUI version of `gradle` command. As far as I know, you have to run the equivalent `gradle` command to achieve the job of run configuration. You may inspect your run configuration file in any editor (like notepad) to know more.","body":"Your run configuration is more of a GUI version of <code>gradle</code> command. As far as I know, you have to run the equivalent <code>gradle</code> command to achieve the job of run configuration. You may inspect your run configuration file in any editor (like notepad) to know more."},{"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"score":0,"creation_date":1664493077,"post_id":73899091,"comment_id":130490866,"body_markdown":"Thank you for that hint @RohitBabu. I found the run configuration file in `./.idea/workspace.xml`. It&#39;s a fairly large (337 lines) and complex file. I&#39;ll put the configuration for the run I care about in the question above.","body":"Thank you for that hint @RohitBabu. I found the run configuration file in <code>.&#47;.idea&#47;workspace.xml</code>. It&#39;s a fairly large (337 lines) and complex file. I&#39;ll put the configuration for the run I care about in the question above."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664785636,"creation_date":1664655711,"answer_id":73921498,"question_id":73899091,"body_markdown":"Execute your program through the run configuration and check the first line of the output. It should contain the call that is executed by the IDE, often something like `java -jar …`.\r\n\r\ne.g. when running a Scratch file, I get the following in the output window as first line:\r\n\r\n```\r\n/usr/lib/jvm/java-1.11.0-openjdk-amd64/bin/java -javaagent:/home/user/bin/idea-IU-222.3345.47/lib/idea_rt.jar=37117:/home/user/bin/idea-IU-222.3345.47/bin -Dfile.encoding=UTF-8 -classpath /home/user/.cache/JetBrains/IntelliJIdea2022.3/compile-server/backend_dd2372d5/scratches/out:... Scratch\r\n```","title":"Command line version of IntelliJ IDEA run configuration","body":"<p>Execute your program through the run configuration and check the first line of the output. It should contain the call that is executed by the IDE, often something like <code>java -jar …</code>.</p>\n<p>e.g. when running a Scratch file, I get the following in the output window as first line:</p>\n<pre><code>/usr/lib/jvm/java-1.11.0-openjdk-amd64/bin/java -javaagent:/home/user/bin/idea-IU-222.3345.47/lib/idea_rt.jar=37117:/home/user/bin/idea-IU-222.3345.47/bin -Dfile.encoding=UTF-8 -classpath /home/user/.cache/JetBrains/IntelliJIdea2022.3/compile-server/backend_dd2372d5/scratches/out:... Scratch\n</code></pre>\n"},{"tags":[],"owner":{"account_id":392775,"reputation":1744,"user_id":754250,"display_name":"HoaPhan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1664732065,"creation_date":1664732065,"answer_id":73927964,"question_id":73899091,"body_markdown":"At the top of your console\r\nNotice there&#39;s a command something something... java, normally it collapses into such short form, but if you click on that:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNotice it will expand and show you the full command:\r\n[![enter image description here][2]][2]\r\n\r\nIn this case, for example, ultimately, **the command is something like this**:\r\n\r\n    /Users/hoaphan/.sdkman/candidates/java/17.0.4-amzn/bin/java -XX:TieredStopAtLevel=1 \r\n    -Dspring.output.ansi.enabled=always \r\n    -Dcom.sun.management.jmxremote \r\n    -Dspring.jmx.enabled=true \r\n    -Dspring.liveBeansView.mbeanDomain \r\n    -Dspring.application.admin.enabled=true \r\n    ...blahblahblahblahblah...\r\n    com.example.bootgradlej17.Bootgradlej17Application\r\n\r\n\r\nSo you can mimic intelliJ by running such long command.\r\nBut I would suggest if this is springboot, and build by gradle, what you actually want to do is at project root, in the dir where your build.gradle is do:\r\n\r\n    ./gradlew bootRun\r\n\r\nNow if you want to mimic the JVM option IntelliJ did, you can just capture such info from an IntelliJ run using tool like VisualVM:\r\n[![enter image description here][3]][3]\r\n\r\nThen you can configure your bootRun to start with such config for JVM like:\r\n\r\n    bootRun {\r\n       jvmArgs = &quot;-Dspring.application.admin.enabled=true&quot;, &quot;-Dnannana=nenenene&quot; (etc)....\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I4PYk.png\r\n  [2]: https://i.stack.imgur.com/5WxpC.png\r\n  [3]: https://i.stack.imgur.com/RY0BZ.jpg\r\n","title":"Command line version of IntelliJ IDEA run configuration","body":"<p>At the top of your console\nNotice there's a command something something... java, normally it collapses into such short form, but if you click on that:</p>\n<p><a href=\"https://i.stack.imgur.com/I4PYk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/I4PYk.png\" alt=\"enter image description here\" /></a></p>\n<p>Notice it will expand and show you the full command:\n<a href=\"https://i.stack.imgur.com/5WxpC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5WxpC.png\" alt=\"enter image description here\" /></a></p>\n<p>In this case, for example, ultimately, <strong>the command is something like this</strong>:</p>\n<pre><code>/Users/hoaphan/.sdkman/candidates/java/17.0.4-amzn/bin/java -XX:TieredStopAtLevel=1 \n-Dspring.output.ansi.enabled=always \n-Dcom.sun.management.jmxremote \n-Dspring.jmx.enabled=true \n-Dspring.liveBeansView.mbeanDomain \n-Dspring.application.admin.enabled=true \n...blahblahblahblahblah...\ncom.example.bootgradlej17.Bootgradlej17Application\n</code></pre>\n<p>So you can mimic intelliJ by running such long command.\nBut I would suggest if this is springboot, and build by gradle, what you actually want to do is at project root, in the dir where your build.gradle is do:</p>\n<pre><code>./gradlew bootRun\n</code></pre>\n<p>Now if you want to mimic the JVM option IntelliJ did, you can just capture such info from an IntelliJ run using tool like VisualVM:\n<a href=\"https://i.stack.imgur.com/RY0BZ.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RY0BZ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Then you can configure your bootRun to start with such config for JVM like:</p>\n<pre><code>bootRun {\n   jvmArgs = &quot;-Dspring.application.admin.enabled=true&quot;, &quot;-Dnannana=nenenene&quot; (etc)....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664895962,"creation_date":1664895962,"answer_id":73949943,"question_id":73899091,"body_markdown":"Continuing my comment above ...\r\n\r\n2. On my computer (running macOS Big Sur 11.6) VisualVM cannot find the JVM arguments:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nInstead, they can be found in the java command that you explain how to reveal. E.g., mine are:\r\n\r\n    -Dspring.output.ansi.enabled=always\r\n    -Dcom.sun.management.jmxremote\r\n    -Dspring.jmx.enabled=true\r\n    -Dspring.liveBeansView.mbeanDomain\r\n    -Dspring.application.admin.enabled=true\r\n    ...\r\n\r\nPlease explain your\r\n\r\n    bootRun {\r\n       jvmArgs = &quot;-Dspring.application.admin.enabled=true&quot;, &quot;-Dnannana=nenenene&quot; (etc)....\r\n    }\r\n\r\nexample. Where and how should this text be used?\r\n\r\n3. One also needs to provide any command-line arguments that are in the IDEA configuration. These can be passed via [the `gradlew` `--args` option][2], like this:\r\n\r\n    --args=&#39;--algorithm=batch --numOfStudiesToRetrieve=600&#39;\r\n\r\nOverall, however, this approach is more *ad hoc* than I&#39;d like. It requires that one hack a) IDEA&#39;s java command to obtain the JVM arguments, b) the command-line arguments in via `gradlew`&#39;s `--args`. But I assume that the silence of IntelliJ IDEA&#39;s developers indicates that they do not support this important functionality.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lcI5P.jpg\r\n  [2]: https://stackoverflow.com/questions/11696521/how-to-pass-arguments-from-command-line-to-gradle","title":"Command line version of IntelliJ IDEA run configuration","body":"<p>Continuing my comment above ...</p>\n<ol start=\"2\">\n<li>On my computer (running macOS Big Sur 11.6) VisualVM cannot find the JVM arguments:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/lcI5P.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lcI5P.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Instead, they can be found in the java command that you explain how to reveal. E.g., mine are:</p>\n<pre><code>-Dspring.output.ansi.enabled=always\n-Dcom.sun.management.jmxremote\n-Dspring.jmx.enabled=true\n-Dspring.liveBeansView.mbeanDomain\n-Dspring.application.admin.enabled=true\n...\n</code></pre>\n<p>Please explain your</p>\n<pre><code>bootRun {\n   jvmArgs = &quot;-Dspring.application.admin.enabled=true&quot;, &quot;-Dnannana=nenenene&quot; (etc)....\n}\n</code></pre>\n<p>example. Where and how should this text be used?</p>\n<ol start=\"3\">\n<li><p>One also needs to provide any command-line arguments that are in the IDEA configuration. These can be passed via <a href=\"https://stackoverflow.com/questions/11696521/how-to-pass-arguments-from-command-line-to-gradle\">the <code>gradlew</code> <code>--args</code> option</a>, like this:</p>\n<p>--args='--algorithm=batch --numOfStudiesToRetrieve=600'</p>\n</li>\n</ol>\n<p>Overall, however, this approach is more <em>ad hoc</em> than I'd like. It requires that one hack a) IDEA's java command to obtain the JVM arguments, b) the command-line arguments in via <code>gradlew</code>'s <code>--args</code>. But I assume that the silence of IntelliJ IDEA's developers indicates that they do not support this important functionality.</p>\n"},{"tags":[],"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665416522,"creation_date":1665415307,"answer_id":74017140,"question_id":73899091,"body_markdown":"Another comment in an answer because the formatting limitations of comments are so limiting:\r\n\r\nThanks, @HoaPhan. However, when I insert a `bootRun` section like this in `build.gradle`,\r\n\r\n    bootRun {\r\n      jvmArgs = &quot;-Dspring.output.ansi.enabled=always&quot;\r\n    }\r\n\r\nIntelliJ IDEA raises \r\n\r\n    Could not compile build file &#39;&lt;path&gt;/build.gradle&#39;.\r\n    &gt; startup failed:\r\n      build file &#39;&lt;path&gt;/build.gradle&#39;: 1: Unexpected input: &#39;{&#39; @ line 1, column 9.\r\n         bootRun {\r\n                 ^\r\n\r\nThis appears to occur wherever the section is placed in the file.\r\n\r\nHowever, this does work:\r\n\r\n    bootRun {\r\n        jvmArgs = [ &quot;-Dspring.output.ansi.enabled=always&quot;,\r\n                    &quot;-Dcom.sun.management.jmxremote&quot;,\r\n                    &quot;-Dspring.jmx.enabled=true&quot;,\r\n                    &quot;-Dspring.liveBeansView.mbeanDomain&quot;,\r\n                    &quot;-Dspring.application.admin.enabled=true&quot;,\r\n                    &quot;-Dfile.encoding=UTF-8&quot;\r\n        ]\r\n    }\r\n\r\nIt&#39;s unclear why the first `bootRun {` appears to generate a syntax error and this does not.","title":"Command line version of IntelliJ IDEA run configuration","body":"<p>Another comment in an answer because the formatting limitations of comments are so limiting:</p>\n<p>Thanks, @HoaPhan. However, when I insert a <code>bootRun</code> section like this in <code>build.gradle</code>,</p>\n<pre><code>bootRun {\n  jvmArgs = &quot;-Dspring.output.ansi.enabled=always&quot;\n}\n</code></pre>\n<p>IntelliJ IDEA raises</p>\n<pre><code>Could not compile build file '&lt;path&gt;/build.gradle'.\n&gt; startup failed:\n  build file '&lt;path&gt;/build.gradle': 1: Unexpected input: '{' @ line 1, column 9.\n     bootRun {\n             ^\n</code></pre>\n<p>This appears to occur wherever the section is placed in the file.</p>\n<p>However, this does work:</p>\n<pre><code>bootRun {\n    jvmArgs = [ &quot;-Dspring.output.ansi.enabled=always&quot;,\n                &quot;-Dcom.sun.management.jmxremote&quot;,\n                &quot;-Dspring.jmx.enabled=true&quot;,\n                &quot;-Dspring.liveBeansView.mbeanDomain&quot;,\n                &quot;-Dspring.application.admin.enabled=true&quot;,\n                &quot;-Dfile.encoding=UTF-8&quot;\n    ]\n}\n</code></pre>\n<p>It's unclear why the first <code>bootRun {</code> appears to generate a syntax error and this does not.</p>\n"}],"owner":{"account_id":239945,"reputation":555,"user_id":509882,"accept_rate":23,"display_name":"Arthur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1345,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73927964,"answer_count":4,"score":3,"last_activity_date":1665416522,"creation_date":1664470035,"question_id":73899091,"body_markdown":"I have a working IntelliJ IDEA run configuration. It uses Spring Boot.\r\n\r\nI&#39;d like to execute the same run from the MacOS command line. How can I get IntelliJ IDEA to show the command (or commands) that I need execute the run configuration.\r\n\r\nThis is the `gradle` `build.gradle` file:\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.6.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;org.mountsinai&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &quot;15&quot;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n\truntimeOnly &#39;com.microsoft.sqlserver:mssql-jdbc&#39;\r\n\timplementation group: &#39;org.springframework&#39;, name: &#39;spring-aspects&#39;, version: &#39;5.3.15&#39;\r\n\timplementation group: &#39;nz.net.ultraq.thymeleaf&#39;, name: &#39;thymeleaf-layout-dialect&#39;, version: &#39;3.0.0&#39;\r\n\timplementation group: &#39;com.jayway.jsonpath&#39;, name: &#39;json-path&#39;, version: &#39;2.7.0&#39;\r\n\timplementation group: &#39;com.github.pcj&#39;, name: &#39;google-options&#39;, version: &#39;1.0.0&#39;\r\n\timplementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n\tminHeapSize = &quot;1024m&quot; // initial heap size\r\n\tmaxHeapSize = &quot;2048m&quot; // maximum heap size\r\n}\r\ntargetCompatibility = JavaVersion.VERSION_15\r\n```\r\n\r\nAnd this is the `configuration` element in the `./.idea/workspace.xml` corresponding to the run I&#39;d like to automate on the command line:\r\n```\r\n    &lt;configuration name=&quot;IrwMetadataIntegrationApplication&quot; type=&quot;SpringBootApplicationConfigurationType&quot; factoryName=&quot;Spring Boot&quot;&gt;\r\n      &lt;module name=&quot;org.mountsinai.IRWMetadataIntegration.main&quot; /&gt;\r\n      &lt;option name=&quot;SPRING_BOOT_MAIN_CLASS&quot; value=&quot;org.mountsinai.IRWMetadataIntegration.IrwMetadataIntegrationApplication&quot; /&gt;\r\n      &lt;option name=&quot;PROGRAM_PARAMETERS&quot; value=&quot;--algorithm=batch --numOfStudiesToRetrieve=600&quot; /&gt;\r\n      &lt;option name=&quot;ALTERNATIVE_JRE_PATH_ENABLED&quot; value=&quot;true&quot; /&gt;\r\n      &lt;option name=&quot;ALTERNATIVE_JRE_PATH&quot; value=&quot;15&quot; /&gt;\r\n      &lt;method v=&quot;2&quot;&gt;\r\n        &lt;option name=&quot;Make&quot; enabled=&quot;true&quot; /&gt;\r\n      &lt;/method&gt;\r\n    &lt;/configuration&gt;\r\n```\r\nMy original question can now be asked more concretely **How can one convert an IDEA configuration and `workspace.xml` file into a command (or script) that can be executed outside IntelliJ IDEA?**\r\n\r\nUsing \r\n```\r\nIntelliJ IDEA 2021.3.2 (Ultimate Edition) Build #IU-213.6777.52, built on January 27, 2022\r\n```\r\n\r\nThanks, Arthur\r\n","title":"Command line version of IntelliJ IDEA run configuration","body":"<p>I have a working IntelliJ IDEA run configuration. It uses Spring Boot.</p>\n<p>I'd like to execute the same run from the MacOS command line. How can I get IntelliJ IDEA to show the command (or commands) that I need execute the run configuration.</p>\n<p>This is the <code>gradle</code> <code>build.gradle</code> file:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'org.mountsinai'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = &quot;15&quot;\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    runtimeOnly 'com.microsoft.sqlserver:mssql-jdbc'\n    implementation group: 'org.springframework', name: 'spring-aspects', version: '5.3.15'\n    implementation group: 'nz.net.ultraq.thymeleaf', name: 'thymeleaf-layout-dialect', version: '3.0.0'\n    implementation group: 'com.jayway.jsonpath', name: 'json-path', version: '2.7.0'\n    implementation group: 'com.github.pcj', name: 'google-options', version: '1.0.0'\n    implementation 'com.google.code.gson:gson:2.9.0'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n    minHeapSize = &quot;1024m&quot; // initial heap size\n    maxHeapSize = &quot;2048m&quot; // maximum heap size\n}\ntargetCompatibility = JavaVersion.VERSION_15\n</code></pre>\n<p>And this is the <code>configuration</code> element in the <code>./.idea/workspace.xml</code> corresponding to the run I'd like to automate on the command line:</p>\n<pre><code>    &lt;configuration name=&quot;IrwMetadataIntegrationApplication&quot; type=&quot;SpringBootApplicationConfigurationType&quot; factoryName=&quot;Spring Boot&quot;&gt;\n      &lt;module name=&quot;org.mountsinai.IRWMetadataIntegration.main&quot; /&gt;\n      &lt;option name=&quot;SPRING_BOOT_MAIN_CLASS&quot; value=&quot;org.mountsinai.IRWMetadataIntegration.IrwMetadataIntegrationApplication&quot; /&gt;\n      &lt;option name=&quot;PROGRAM_PARAMETERS&quot; value=&quot;--algorithm=batch --numOfStudiesToRetrieve=600&quot; /&gt;\n      &lt;option name=&quot;ALTERNATIVE_JRE_PATH_ENABLED&quot; value=&quot;true&quot; /&gt;\n      &lt;option name=&quot;ALTERNATIVE_JRE_PATH&quot; value=&quot;15&quot; /&gt;\n      &lt;method v=&quot;2&quot;&gt;\n        &lt;option name=&quot;Make&quot; enabled=&quot;true&quot; /&gt;\n      &lt;/method&gt;\n    &lt;/configuration&gt;\n</code></pre>\n<p>My original question can now be asked more concretely <strong>How can one convert an IDEA configuration and <code>workspace.xml</code> file into a command (or script) that can be executed outside IntelliJ IDEA?</strong></p>\n<p>Using</p>\n<pre><code>IntelliJ IDEA 2021.3.2 (Ultimate Edition) Build #IU-213.6777.52, built on January 27, 2022\n</code></pre>\n<p>Thanks, Arthur</p>\n"},{"tags":["java","unit-testing","junit","mockito","spring-webflux"],"comments":[{"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"score":0,"creation_date":1665375714,"post_id":74010147,"comment_id":130677273,"body_markdown":"You can use wiremock and mock the responses for this token endpoint call. Is that a option for you ?","body":"You can use wiremock and mock the responses for this token endpoint call. Is that a option for you ?"},{"owner":{"account_id":5347729,"reputation":727,"user_id":4262784,"display_name":"Andres"},"score":0,"creation_date":1665413639,"post_id":74010147,"comment_id":130688670,"body_markdown":"Yes, sounds good. Could you provide an example? @shubham","body":"Yes, sounds good. Could you provide an example? @shubham"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":1,"creation_date":1665414206,"post_id":74010147,"comment_id":130688907,"body_markdown":"see my answer. i already showed you the idea how to do it which should be a good starting point","body":"see my answer. i already showed you the idea how to do it which should be a good starting point"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665388695,"creation_date":1665388695,"answer_id":74011751,"question_id":74010147,"body_markdown":"A cleaner and less fragile approach is don&#39;t mock `WebClient` but mock the external API using tools [WireMock][1] or [MockWebServer][2].\r\n\r\nI usually used MockWebServer. You may say it is an integration test but not the unit test. But it term of speed , MockWebServer is very fast just like unit test. Moreover, it allows you to use the real `WebClient` instance to really exercise the full HTTP stack and you can be more confident that you are testing everything.\r\n\r\nYou can do something like : \r\n``` java\r\npublic class SomeTest {\r\n    \r\n    \r\n    private MockWebServer server;\r\n\r\n    @Test\r\n    public void someTest(){\r\n\r\n        MockWebServer server = new MockWebServer();\r\n        server.start();\r\n        HttpUrl baseUrl = server.url(&quot;/token&quot;);\r\n\r\n        //stub the server to return the access token response\r\n        server.enqueue(new MockResponse().setBody(&quot;{\\&quot;access_token\\&quot;:\\&quot;ABC\\&quot;}&quot;));\r\n\r\n       //continues execute your test\r\n        ....\r\n\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n  [1]: https://github.com/wiremock/wiremock\r\n  [2]: https://github.com/square/okhttp/tree/master/mockwebserver","title":"How to create webclient unit tests with Junit and Mockito?","body":"<p>A cleaner and less fragile approach is don't mock <code>WebClient</code> but mock the external API using tools <a href=\"https://github.com/wiremock/wiremock\" rel=\"nofollow noreferrer\">WireMock</a> or <a href=\"https://github.com/square/okhttp/tree/master/mockwebserver\" rel=\"nofollow noreferrer\">MockWebServer</a>.</p>\n<p>I usually used MockWebServer. You may say it is an integration test but not the unit test. But it term of speed , MockWebServer is very fast just like unit test. Moreover, it allows you to use the real <code>WebClient</code> instance to really exercise the full HTTP stack and you can be more confident that you are testing everything.</p>\n<p>You can do something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeTest {\n    \n    \n    private MockWebServer server;\n\n    @Test\n    public void someTest(){\n\n        MockWebServer server = new MockWebServer();\n        server.start();\n        HttpUrl baseUrl = server.url(&quot;/token&quot;);\n\n        //stub the server to return the access token response\n        server.enqueue(new MockResponse().setBody(&quot;{\\&quot;access_token\\&quot;:\\&quot;ABC\\&quot;}&quot;));\n\n       //continues execute your test\n        ....\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665389079,"creation_date":1665389079,"answer_id":74011818,"question_id":74010147,"body_markdown":"Using mockito like that\r\n\r\n```\r\n    @Mock\r\n    private WebClient webClient;\r\n    @Mock\r\n    private WebClient.RequestBodyUriSpec uriSpec;\r\n    @Mock\r\n    private WebClient.RequestBodyUriSpec headerSpec;\r\n\r\n\r\n    @Test\r\n    void someTest(){\r\n            WebClient.RequestBodyUriSpec bodySpec = mock(WebClient.RequestBodyUriSpec.class);\r\n            WebClient.ResponseSpec response = mock(WebClient.ResponseSpec.class);\r\n    \r\n            when(webClient.post()).thenReturn(uriSpec);\r\n            when(uriSpec.uri(uri)).thenReturn(headerSpec);\r\n            doReturn(bodySpec).when(headerSpec).bodyValue(body);\r\n            when(bodySpec.retrieve()).thenReturn(response);\r\n    }\r\n\r\n```","title":"How to create webclient unit tests with Junit and Mockito?","body":"<p>Using mockito like that</p>\n<pre><code>    @Mock\n    private WebClient webClient;\n    @Mock\n    private WebClient.RequestBodyUriSpec uriSpec;\n    @Mock\n    private WebClient.RequestBodyUriSpec headerSpec;\n\n\n    @Test\n    void someTest(){\n            WebClient.RequestBodyUriSpec bodySpec = mock(WebClient.RequestBodyUriSpec.class);\n            WebClient.ResponseSpec response = mock(WebClient.ResponseSpec.class);\n    \n            when(webClient.post()).thenReturn(uriSpec);\n            when(uriSpec.uri(uri)).thenReturn(headerSpec);\n            doReturn(bodySpec).when(headerSpec).bodyValue(body);\n            when(bodySpec.retrieve()).thenReturn(response);\n    }\n\n</code></pre>\n"}],"owner":{"account_id":5347729,"reputation":727,"user_id":4262784,"display_name":"Andres"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74011818,"answer_count":2,"score":1,"last_activity_date":1665416385,"creation_date":1665375115,"question_id":74010147,"body_markdown":"How can I create a unit test of this **private** method returning **void** using Junit4 and Mockito?\r\n\r\n```\r\n    private void fetchToken() {\r\n        try {\r\n        webClientBuilder.build().post().uri(&quot;http://localhost:8082/token&quot;)\r\n                    .headers(httpHeaders -&gt; httpHeaders.setBasicAuth(&quot;anyusername&quot;, &quot;password&quot;)).retrieve()\r\n                    .bodyToMono(Token.class).block();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error: &quot; + e.getMessage());\r\n        }\r\n\r\n```\r\n","title":"How to create webclient unit tests with Junit and Mockito?","body":"<p>How can I create a unit test of this <strong>private</strong> method returning <strong>void</strong> using Junit4 and Mockito?</p>\n<pre><code>    private void fetchToken() {\n        try {\n        webClientBuilder.build().post().uri(&quot;http://localhost:8082/token&quot;)\n                    .headers(httpHeaders -&gt; httpHeaders.setBasicAuth(&quot;anyusername&quot;, &quot;password&quot;)).retrieve()\n                    .bodyToMono(Token.class).block();\n        } catch (Exception e) {\n            System.out.println(&quot;Error: &quot; + e.getMessage());\n        }\n\n</code></pre>\n"},{"tags":["java","performance","vectorization","simd","java-17"],"comments":[{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1665385787,"post_id":74011238,"comment_id":130679063,"body_markdown":"I can just add that I don&#39;t see any performance increases at all from using the Vector API, rather the reverse.","body":"I can just add that I don&#39;t see any performance increases at all from using the Vector API, rather the reverse."},{"owner":{"account_id":11592458,"reputation":83,"user_id":8492285,"display_name":"AlternateUsename"},"score":0,"creation_date":1665386047,"post_id":74011238,"comment_id":130679145,"body_markdown":"EDIT: for point 4 here are the results\nResult &quot;blackScholes.TestJavaPerf.testScalarPerformance&quot;:\n  0.181 &#177;(99.9%) 0.020 ops/ms [Average]\n  (min, avg, max) = (0.177, 0.181, 0.184), stdev = 0.003\n  CI (99.9%): [0.161, 0.202] (assumes normal distribution)\n\nResult &quot;blackScholes.TestJavaPerf.testVectorPerformance&quot;:\n  0.302 &#177;(99.9%) 0.007 ops/ms [Average]\n  (min, avg, max) = (0.301, 0.302, 0.304), stdev = 0.001\n  CI (99.9%): [0.296, 0.309] (assumes normal distribution)","body":"EDIT: for point 4 here are the results Result &quot;blackScholes.TestJavaPerf.testScalarPerformance&quot;:   0.181 &#177;(99.9%) 0.020 ops/ms [Average]   (min, avg, max) = (0.177, 0.181, 0.184), stdev = 0.003   CI (99.9%): [0.161, 0.202] (assumes normal distribution)  Result &quot;blackScholes.TestJavaPerf.testVectorPerformance&quot;:   0.302 &#177;(99.9%) 0.007 ops/ms [Average]   (min, avg, max) = (0.301, 0.302, 0.304), stdev = 0.001   CI (99.9%): [0.296, 0.309] (assumes normal distribution)"},{"owner":{"account_id":11592458,"reputation":83,"user_id":8492285,"display_name":"AlternateUsename"},"score":0,"creation_date":1665386131,"post_id":74011238,"comment_id":130679175,"body_markdown":"@Erik could you clarify instances where you saw regressions with java 17&#39;s vector API? sorry just curious","body":"@Erik could you clarify instances where you saw regressions with java 17&#39;s vector API? sorry just curious"},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1665388375,"post_id":74011238,"comment_id":130679868,"body_markdown":"I did some basic experiments with double arrays of various sizes. I tried out some basic algorithms and basic operations just to see what kind of performance changes would appear. What I saw was consistent performance decrease when using the Vector API.","body":"I did some basic experiments with double arrays of various sizes. I tried out some basic algorithms and basic operations just to see what kind of performance changes would appear. What I saw was consistent performance decrease when using the Vector API."},{"owner":{"account_id":9249248,"reputation":17579,"user_id":6870253,"display_name":"chtz"},"score":4,"creation_date":1665393212,"post_id":74011238,"comment_id":130681490,"body_markdown":"I&#39;m not familiar with Java&#39;s Vector implementation, but if you want to calculate `e^something`, there should also be an `exp(something)` (maybe `something.exp()`) method for that, which should be faster than a generic `pow` implementation. Maybe also something like `exp2`.","body":"I&#39;m not familiar with Java&#39;s Vector implementation, but if you want to calculate <code>e^something</code>, there should also be an <code>exp(something)</code> (maybe <code>something.exp()</code>) method for that, which should be faster than a generic <code>pow</code> implementation. Maybe also something like <code>exp2</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1665403885,"post_id":74011238,"comment_id":130684999,"body_markdown":"@chtz indeed. While there is no `exp()` method in `DoubleVector`, replacing `vE.pow(powerOperand)` with `powerOperand.lanewise(VectorOperators.EXP)` should do.","body":"@chtz indeed. While there is no <code>exp()</code> method in <code>DoubleVector</code>, replacing <code>vE.pow(powerOperand)</code> with <code>powerOperand.lanewise(VectorOperators.EXP)</code> should do."},{"owner":{"account_id":11592458,"reputation":83,"user_id":8492285,"display_name":"AlternateUsename"},"score":0,"creation_date":1665411698,"post_id":74011238,"comment_id":130687885,"body_markdown":"@Holger that worked! \nblackScholes.TestJavaPerf.testScalarPerformance                                        256000  thrpt    4         0.116 &#177;      0.003     ops/ms\n\n\nblackScholes.TestJavaPerf.testVectorPerformance                                        256000  thrpt    4         0.237 &#177;      0.005     ops/ms\n\nSo now with vector we&#39;re getting roughly double the operations per second of scalar, which is much better than before. Do you want to write the answer so I can mark it as the solution, or should I write it?","body":"@Holger that worked!  blackScholes.TestJavaPerf.testScalarPerformance                                        256000  thrpt    4         0.116 &#177;      0.003     ops/ms   blackScholes.TestJavaPerf.testVectorPerformance                                        256000  thrpt    4         0.237 &#177;      0.005     ops/ms  So now with vector we&#39;re getting roughly double the operations per second of scalar, which is much better than before. Do you want to write the answer so I can mark it as the solution, or should I write it?"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1665415501,"creation_date":1665415501,"answer_id":74017185,"question_id":74011238,"body_markdown":"This might be related to [JDK-8262275, Math vector stubs are not called for double64 vectors]\r\n\r\n&gt; For Double64Vector, the svml math vector stubs intrinsification is failing and they are not being called from jitted code.  \r\n&gt; But we do have svml double64 vectors.\r\n\r\nYou might try alternative operations, e.g. instead of `vE.pow(powerOperand)` with `vE` being a vector of *e*, you can use `powerOperand.lanewise(VectorOperators.EXP)` to perform *e*&lt;sup&gt;x&lt;/sup&gt; for all lanes.\r\n\r\nKeep in mind that this API is work in progress in incubator state…\r\n\r\n[JDK-8262275, Math vector stubs are not called for double64 vectors]: https://bugs.openjdk.org/browse/JDK-8262275","title":"Understanding Java 17 Vector slowness and performance with pow operator","body":"<p>This might be related to <a href=\"https://bugs.openjdk.org/browse/JDK-8262275\" rel=\"noreferrer\">JDK-8262275, Math vector stubs are not called for double64 vectors</a></p>\n<blockquote>\n<p>For Double64Vector, the svml math vector stubs intrinsification is failing and they are not being called from jitted code.<br />\nBut we do have svml double64 vectors.</p>\n</blockquote>\n<p>You might try alternative operations, e.g. instead of <code>vE.pow(powerOperand)</code> with <code>vE</code> being a vector of <em>e</em>, you can use <code>powerOperand.lanewise(VectorOperators.EXP)</code> to perform <em>e</em><sup>x</sup> for all lanes.</p>\n<p>Keep in mind that this API is work in progress in incubator state…</p>\n"}],"owner":{"account_id":11592458,"reputation":83,"user_id":8492285,"display_name":"AlternateUsename"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":74017185,"answer_count":1,"score":8,"last_activity_date":1665416009,"creation_date":1665385472,"question_id":74011238,"body_markdown":"I have a question relating to the pow() function in Java&#39;s 17 new Vector API feature. I&#39;m trying to implement the black scholes formula in a vectorized manner, but I&#39;m having difficulty in obtaining the same performance as the scalar implementation\r\n\r\nThe code is as follows:\r\n1) I create an array of doubles (currently, just 5.0)\r\n2) I loop over elements of that array (different looping syntax for scalar and vector)\r\n3) I create DoubleVectors from the double arrays within and do calculations (or just calculations for scalar) I am trying to do e^(value), and I believe that is the problem\r\n\r\n\r\nHere are some code snippets:\r\n```\r\n    public static double[] createArray(int arrayLength)\r\n    {\r\n        double[] array0 = new double[arrayLength];\r\n        for(int i=0;i&lt;arrayLength;i++)\r\n        {\r\n            array0[i] = 2.0;\r\n        }\r\n        return array0;\r\n    } \r\n```\r\n```\r\n    @Param({&quot;256000&quot;})\r\n    int arraySize;\r\n    public static final VectorSpecies&lt;Double&gt; SPECIES = DoubleVector.SPECIES_PREFERRED;\r\n    DoubleVector vectorTwo =  DoubleVector.broadcast(SPECIES,2);\r\n    DoubleVector vectorHundred =  DoubleVector.broadcast(SPECIES,100);\r\n\r\n    double[] scalarTwo = new double[]{2,2,2,2};\r\n    double[] scalarHundred  = new double[]{100,100,100,100};\r\n\r\n    @Setup\r\n    public void Setup()\r\n    {\r\n        javaSIMD = new JavaSIMD();\r\n        javaScalar = new JavaScalar();\r\n        spotPrices = createArray(arraySize);\r\n        timeToMaturity = createArray(arraySize);\r\n        strikePrice = createArray(arraySize);\r\n        interestRate = createArray(arraySize);\r\n        volatility = createArray(arraySize);\r\n        e = new double[arraySize];\r\n        for(int i=0;i&lt;arraySize;i++)\r\n        {\r\n            e[i] = Math.exp(1);\r\n        }\r\n        upperBound = SPECIES.loopBound(spotPrices.length);\r\n    }\r\n    @Benchmark\r\n    @BenchmarkMode(Mode.Throughput)\r\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n    public void testVectorPerformance(Blackhole bh) {\r\n        var upperBound = SPECIES.loopBound(spotPrices.length);\r\n        for (var i=0;i&lt;upperBound; i+= SPECIES.length())\r\n        {\r\n            bh.consume(javaSIMD.calculateBlackScholesSingleCalc(spotPrices,timeToMaturity,strikePrice,\r\n                    interestRate,volatility,e, i));\r\n        }\r\n    }\r\n\r\n    @Benchmark\r\n    @BenchmarkMode(Mode.Throughput)\r\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n    public void testScalarPerformance(Blackhole bh) {\r\n        for(int i=0;i&lt;arraySize;i++)\r\n        {\r\n            bh.consume(javaScalar.calculateBlackScholesSingleCycle(spotPrices,timeToMaturity,strikePrice,\r\n                    interestRate,volatility, i,normDist));\r\n        }\r\n    }\r\n```\r\n```\r\n    public DoubleVector calculateBlackScholesSingleCalc(double[] spotPrices, double[] timeToMaturity, double[] strikePrice,\r\n                                                        double[] interestRate, double[] volatility, double[] e,int i){\r\n...(skip lines)\r\n        DoubleVector vSpot = DoubleVector.fromArray(SPECIES, spotPrices, i);\r\n...(skip lines)\r\n        DoubleVector powerOperand = vRateScaled\r\n                .mul(vTime)\r\n                .neg();\r\n        DoubleVector call  = (vSpot\r\n                .mul(CDFVectorizedExcelOptimized(d1,vE)))\r\n                .sub(vStrike\r\n                .mul(vE\r\n                        .pow(powerOperand))\r\n                .mul(CDFVectorizedExcelOptimized(d2,vE)));\r\n        return call;\r\n```\r\nHere are some JMH benchmarks (2 forks,2 warmups,2 iterations) on a Ryzen 5800X using WSL: Overall, it seems ~2x slower vs the scalar version.  I ran a simple time before vs time after separately, of the method without JMH and it seems inline.  \r\n```\r\nResult &quot;blackScholes.TestJavaPerf.testScalarPerformance&quot;:\r\n  0.116 &#177;(99.9%) 0.002 ops/ms [Average]\r\n       89873915287      cycles:u                  #    4.238 GHz                      (40.43%)\r\n      242060738532      instructions:u            #    2.69  insn per cycle   \r\n\r\n      \r\nResult &quot;blackScholes.TestJavaPerf.testVectorPerformance&quot;:\r\n  0.071 &#177;(99.9%) 0.001 ops/ms [Average]\r\n       90878787665      cycles:u                  #    4.072 GHz                      (39.25%)\r\n      254117779312      instructions:u            #    2.80  insn per cycle  \r\n```\r\nI also enabled diagnostic options for the JVM. I see the following:\r\n```\r\n&quot;-XX:+UnlockDiagnosticVMOptions&quot;, &quot;-XX:+PrintIntrinsics&quot;,&quot;-XX:+PrintAssembly&quot;\r\n```\r\n```\r\n  0x00007fe451959413:   call   0x00007fe451239f00           ; ImmutableOopMap {rsi=Oop }\r\n                                                            ;*synchronization entry\r\n                                                            ; - jdk.incubator.vector.DoubleVector::arrayAddress@-1 (line 3283)\r\n                                                            ;   {runtime_call counter_overflow Runtime1 stub}\r\n  0x00007fe451959418:   jmp    0x00007fe4519593ce\r\n  0x00007fe45195941a:   movabs $0x7fe4519593ee,%r10         ;   {internal_word}\r\n  0x00007fe451959424:   mov    %r10,0x358(%r15)\r\n  0x00007fe45195942b:   jmp    0x00007fe451193100           ;   {runtime_call SafepointBlob}\r\n  0x00007fe451959430:   nop\r\n  0x00007fe451959431:   nop\r\n  0x00007fe451959432:   mov    0x3d0(%r15),%rax\r\n  0x00007fe451959439:   movq   $0x0,0x3d0(%r15)\r\n  0x00007fe451959444:   movq   $0x0,0x3d8(%r15)\r\n  0x00007fe45195944f:   add    $0x40,%rsp\r\n  0x00007fe451959453:   pop    %rbp\r\n  0x00007fe451959454:   jmp    0x00007fe451231e80           ;   {runtime_call unwind_exception Runtime1 stub}\r\n  0x00007fe451959459:   hlt    \r\n&lt;More halts cut off&gt;   \r\n[Exception Handler]\r\n  0x00007fe451959460:   call   0x00007fe451234580           ;   {no_reloc}\r\n  0x00007fe451959465:   movabs $0x7fe46e76df9a,%rdi         ;   {external_word}\r\n  0x00007fe45195946f:   and    $0xfffffffffffffff0,%rsp\r\n  0x00007fe451959473:   call   0x00007fe46e283d40           ;   {runtime_call}\r\n  0x00007fe451959478:   hlt    \r\n[Deopt Handler Code]\r\n  0x00007fe451959479:   movabs $0x7fe451959479,%r10         ;   {section_word}\r\n  0x00007fe451959483:   push   %r10\r\n  0x00007fe451959485:   jmp    0x00007fe4511923a0           ;   {runtime_call DeoptimizationBlob}\r\n  0x00007fe45195948a:   hlt    \r\n&lt;More halts cut off&gt;\r\n--------------------------------------------------------------------------------\r\n\r\n============================= C2-compiled nmethod ==============================\r\n  ** svml call failed for double_pow_32\r\n                                            @ 3   jdk.internal.misc.Unsafe::loadFence (0 bytes)   (intrinsic)\r\n                                            @ 3   jdk.internal.misc.Unsafe::loadFence (0 bytes)   (intrinsic)\r\n                                          @ 2   java.lang.Math::pow (6 bytes)   (intrinsic)\r\n```\r\n\r\nInvestigations/Questions:\r\n1) Im writing different implementations of the formula, it is not 1:1 - could this be the cause? Looking at the number of instructions according to JMH, there is roughly a 12billion difference in num of instructions. With vectorization the processor runs at a lower clock rate as well. \r\n2) Is the choice of input numbers a problem? I&#39;ve tried i+10/(array.Length) as well.\r\n3) Is there a reason I see that the SVML call fail for double_pow_32 ? I don&#39;t see this problem for smaller input array sizes BTW\r\n4) I changed the pow to mul (for both,obviously the eq is now very different) but it seems to be much faster as a result, results are as expected scalar vs vector\r\n\r\nNote: I believe it is using 256bit width vectors (checked during debugging)","title":"Understanding Java 17 Vector slowness and performance with pow operator","body":"<p>I have a question relating to the pow() function in Java's 17 new Vector API feature. I'm trying to implement the black scholes formula in a vectorized manner, but I'm having difficulty in obtaining the same performance as the scalar implementation</p>\n<p>The code is as follows:</p>\n<ol>\n<li>I create an array of doubles (currently, just 5.0)</li>\n<li>I loop over elements of that array (different looping syntax for scalar and vector)</li>\n<li>I create DoubleVectors from the double arrays within and do calculations (or just calculations for scalar) I am trying to do e^(value), and I believe that is the problem</li>\n</ol>\n<p>Here are some code snippets:</p>\n<pre><code>    public static double[] createArray(int arrayLength)\n    {\n        double[] array0 = new double[arrayLength];\n        for(int i=0;i&lt;arrayLength;i++)\n        {\n            array0[i] = 2.0;\n        }\n        return array0;\n    } \n</code></pre>\n<pre><code>    @Param({&quot;256000&quot;})\n    int arraySize;\n    public static final VectorSpecies&lt;Double&gt; SPECIES = DoubleVector.SPECIES_PREFERRED;\n    DoubleVector vectorTwo =  DoubleVector.broadcast(SPECIES,2);\n    DoubleVector vectorHundred =  DoubleVector.broadcast(SPECIES,100);\n\n    double[] scalarTwo = new double[]{2,2,2,2};\n    double[] scalarHundred  = new double[]{100,100,100,100};\n\n    @Setup\n    public void Setup()\n    {\n        javaSIMD = new JavaSIMD();\n        javaScalar = new JavaScalar();\n        spotPrices = createArray(arraySize);\n        timeToMaturity = createArray(arraySize);\n        strikePrice = createArray(arraySize);\n        interestRate = createArray(arraySize);\n        volatility = createArray(arraySize);\n        e = new double[arraySize];\n        for(int i=0;i&lt;arraySize;i++)\n        {\n            e[i] = Math.exp(1);\n        }\n        upperBound = SPECIES.loopBound(spotPrices.length);\n    }\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\n    public void testVectorPerformance(Blackhole bh) {\n        var upperBound = SPECIES.loopBound(spotPrices.length);\n        for (var i=0;i&lt;upperBound; i+= SPECIES.length())\n        {\n            bh.consume(javaSIMD.calculateBlackScholesSingleCalc(spotPrices,timeToMaturity,strikePrice,\n                    interestRate,volatility,e, i));\n        }\n    }\n\n    @Benchmark\n    @BenchmarkMode(Mode.Throughput)\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\n    public void testScalarPerformance(Blackhole bh) {\n        for(int i=0;i&lt;arraySize;i++)\n        {\n            bh.consume(javaScalar.calculateBlackScholesSingleCycle(spotPrices,timeToMaturity,strikePrice,\n                    interestRate,volatility, i,normDist));\n        }\n    }\n</code></pre>\n<pre><code>    public DoubleVector calculateBlackScholesSingleCalc(double[] spotPrices, double[] timeToMaturity, double[] strikePrice,\n                                                        double[] interestRate, double[] volatility, double[] e,int i){\n...(skip lines)\n        DoubleVector vSpot = DoubleVector.fromArray(SPECIES, spotPrices, i);\n...(skip lines)\n        DoubleVector powerOperand = vRateScaled\n                .mul(vTime)\n                .neg();\n        DoubleVector call  = (vSpot\n                .mul(CDFVectorizedExcelOptimized(d1,vE)))\n                .sub(vStrike\n                .mul(vE\n                        .pow(powerOperand))\n                .mul(CDFVectorizedExcelOptimized(d2,vE)));\n        return call;\n</code></pre>\n<p>Here are some JMH benchmarks (2 forks,2 warmups,2 iterations) on a Ryzen 5800X using WSL: Overall, it seems ~2x slower vs the scalar version.  I ran a simple time before vs time after separately, of the method without JMH and it seems inline.</p>\n<pre><code>Result &quot;blackScholes.TestJavaPerf.testScalarPerformance&quot;:\n  0.116 ±(99.9%) 0.002 ops/ms [Average]\n       89873915287      cycles:u                  #    4.238 GHz                      (40.43%)\n      242060738532      instructions:u            #    2.69  insn per cycle   \n\n      \nResult &quot;blackScholes.TestJavaPerf.testVectorPerformance&quot;:\n  0.071 ±(99.9%) 0.001 ops/ms [Average]\n       90878787665      cycles:u                  #    4.072 GHz                      (39.25%)\n      254117779312      instructions:u            #    2.80  insn per cycle  \n</code></pre>\n<p>I also enabled diagnostic options for the JVM. I see the following:</p>\n<pre><code>&quot;-XX:+UnlockDiagnosticVMOptions&quot;, &quot;-XX:+PrintIntrinsics&quot;,&quot;-XX:+PrintAssembly&quot;\n</code></pre>\n<pre><code>  0x00007fe451959413:   call   0x00007fe451239f00           ; ImmutableOopMap {rsi=Oop }\n                                                            ;*synchronization entry\n                                                            ; - jdk.incubator.vector.DoubleVector::arrayAddress@-1 (line 3283)\n                                                            ;   {runtime_call counter_overflow Runtime1 stub}\n  0x00007fe451959418:   jmp    0x00007fe4519593ce\n  0x00007fe45195941a:   movabs $0x7fe4519593ee,%r10         ;   {internal_word}\n  0x00007fe451959424:   mov    %r10,0x358(%r15)\n  0x00007fe45195942b:   jmp    0x00007fe451193100           ;   {runtime_call SafepointBlob}\n  0x00007fe451959430:   nop\n  0x00007fe451959431:   nop\n  0x00007fe451959432:   mov    0x3d0(%r15),%rax\n  0x00007fe451959439:   movq   $0x0,0x3d0(%r15)\n  0x00007fe451959444:   movq   $0x0,0x3d8(%r15)\n  0x00007fe45195944f:   add    $0x40,%rsp\n  0x00007fe451959453:   pop    %rbp\n  0x00007fe451959454:   jmp    0x00007fe451231e80           ;   {runtime_call unwind_exception Runtime1 stub}\n  0x00007fe451959459:   hlt    \n&lt;More halts cut off&gt;   \n[Exception Handler]\n  0x00007fe451959460:   call   0x00007fe451234580           ;   {no_reloc}\n  0x00007fe451959465:   movabs $0x7fe46e76df9a,%rdi         ;   {external_word}\n  0x00007fe45195946f:   and    $0xfffffffffffffff0,%rsp\n  0x00007fe451959473:   call   0x00007fe46e283d40           ;   {runtime_call}\n  0x00007fe451959478:   hlt    \n[Deopt Handler Code]\n  0x00007fe451959479:   movabs $0x7fe451959479,%r10         ;   {section_word}\n  0x00007fe451959483:   push   %r10\n  0x00007fe451959485:   jmp    0x00007fe4511923a0           ;   {runtime_call DeoptimizationBlob}\n  0x00007fe45195948a:   hlt    \n&lt;More halts cut off&gt;\n--------------------------------------------------------------------------------\n\n============================= C2-compiled nmethod ==============================\n  ** svml call failed for double_pow_32\n                                            @ 3   jdk.internal.misc.Unsafe::loadFence (0 bytes)   (intrinsic)\n                                            @ 3   jdk.internal.misc.Unsafe::loadFence (0 bytes)   (intrinsic)\n                                          @ 2   java.lang.Math::pow (6 bytes)   (intrinsic)\n</code></pre>\n<p>Investigations/Questions:</p>\n<ol>\n<li>Im writing different implementations of the formula, it is not 1:1 - could this be the cause? Looking at the number of instructions according to JMH, there is roughly a 12billion difference in num of instructions. With vectorization the processor runs at a lower clock rate as well.</li>\n<li>Is the choice of input numbers a problem? I've tried i+10/(array.Length) as well.</li>\n<li>Is there a reason I see that the SVML call fail for double_pow_32 ? I don't see this problem for smaller input array sizes BTW</li>\n<li>I changed the pow to mul (for both,obviously the eq is now very different) but it seems to be much faster as a result, results are as expected scalar vs vector</li>\n</ol>\n<p>Note: I believe it is using 256bit width vectors (checked during debugging)</p>\n"},{"tags":["java","sql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1276729043,"creation_date":1276729043,"answer_id":3057768,"question_id":3055407,"body_markdown":"Actually, I did a test with the following entities:\r\n\r\n    @Entity\r\n    public class Person {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n        private String firstName;\r\n        private String lastName;\r\n    \r\n        @ManyToMany\r\n        @Cascade(value = org.hibernate.annotations.CascadeType.DELETE_ORPHAN)\r\n        private Set&lt;Role&gt; roles = new HashSet&lt;Role&gt;();\r\n    \r\n        //...\r\n    }\r\n\r\n    @Entity\r\n    public class Role {\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n        @ManyToMany(mappedBy = &quot;roles&quot;)\r\n        private Set&lt;Person&gt; persons = new HashSet&lt;Person&gt;();\r\n\r\n        //...\r\n    }\r\n\r\nAnd with the following dataset:\r\n\r\n    &lt;dataset&gt;\r\n        &lt;PERSON id=&quot;1&quot; firstname=&quot;john&quot; lastname=&quot;doe&quot;/&gt;\r\n        &lt;PERSON id=&quot;2&quot; firstname=&quot;clark&quot; lastname=&quot;kent&quot;/&gt;\r\n        &lt;PERSON id=&quot;3&quot; firstname=&quot;james&quot; lastname=&quot;bond&quot;/&gt;\r\n        &lt;ROLE id=&quot;1&quot; name=&quot;foo&quot;/&gt;\r\n        &lt;ROLE id=&quot;2&quot; name=&quot;bar&quot;/&gt;\r\n        &lt;ROLE id=&quot;3&quot; name=&quot;boo&quot;/&gt;\r\n        &lt;ROLE id=&quot;4&quot; name=&quot;baz&quot;/&gt;\r\n        &lt;PERSON_ROLE persons_id=&quot;1&quot; roles_id=&quot;1&quot;/&gt;\r\n        &lt;PERSON_ROLE persons_id=&quot;1&quot; roles_id=&quot;2&quot;/&gt;\r\n        &lt;PERSON_ROLE persons_id=&quot;2&quot; roles_id=&quot;2&quot;/&gt;\r\n        &lt;PERSON_ROLE persons_id=&quot;2&quot; roles_id=&quot;3&quot;/&gt;\r\n        &lt;PERSON_ROLE persons_id=&quot;3&quot; roles_id=&quot;1&quot;/&gt;\r\n        &lt;PERSON_ROLE persons_id=&quot;3&quot; roles_id=&quot;4&quot;/&gt;\r\n    &lt;/dataset&gt;\r\n\r\nThe following test method:\r\n\r\n    @Test\r\n    public void testCascadeDeleteOrphanOnDelete() {\r\n        Person person = entityManager.find(Person.class, 1L);\r\n        entityManager.remove(person);\r\n        ReflectionAssert.assertPropertyLenientEquals(&quot;id&quot;, Arrays.asList(2, 3), findAllPersons());\r\n        ReflectionAssert.assertPropertyLenientEquals(&quot;id&quot;, Arrays.asList(3, 4), findAllRoles());\r\n\r\n    }\r\n\r\n    private List&lt;Person&gt; findAllPersons() {\r\n        return entityManager.createQuery(&quot;from Person&quot;).getResultList();\r\n    }\r\n\r\n    private List&lt;Role&gt; findAllRoles() {\r\n        return entityManager.createQuery(&quot;from Role&quot;).getResultList();\r\n    }\r\n\r\nJust passes. Below the produced output:\r\n\r\n&lt;pre&gt;\r\nHibernate: select personx0_.id as id17_0_, personx0_.firstName as firstName17_0_, personx0_.lastName as lastName17_0_ from Person personx0_ where personx0_.id=?\r\nHibernate: select roles0_.persons_id as persons1_1_, roles0_.roles_id as roles2_1_, rolex1_.id as id18_0_, rolex1_.name as name18_0_ from Person_Role roles0_ left outer join Role rolex1_ on roles0_.roles_id=rolex1_.id where roles0_.persons_id=?\r\nHibernate: delete from Person_Role where persons_id=?\r\nHibernate: delete from Role where id=?\r\nHibernate: delete from Role where id=?\r\nHibernate: delete from Person where id=?\r\nHibernate: select personx0_.id as id17_, personx0_.firstName as firstName17_, personx0_.lastName as lastName17_ from Person personx0_\r\nHibernate: select rolex0_.id as id18_, rolex0_.name as name18_ from Role rolex0_\r\n&lt;/pre&gt;","title":"How do I delete orphan entities using hibernate and JPA on a many-to-many relationship?","body":"<p>Actually, I did a test with the following entities:</p>\n\n<pre><code>@Entity\npublic class Person {\n    @Id\n    @GeneratedValue\n    private Long id;\n    private String firstName;\n    private String lastName;\n\n    @ManyToMany\n    @Cascade(value = org.hibernate.annotations.CascadeType.DELETE_ORPHAN)\n    private Set&lt;Role&gt; roles = new HashSet&lt;Role&gt;();\n\n    //...\n}\n\n@Entity\npublic class Role {\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String name;\n\n    @ManyToMany(mappedBy = \"roles\")\n    private Set&lt;Person&gt; persons = new HashSet&lt;Person&gt;();\n\n    //...\n}\n</code></pre>\n\n<p>And with the following dataset:</p>\n\n<pre><code>&lt;dataset&gt;\n    &lt;PERSON id=\"1\" firstname=\"john\" lastname=\"doe\"/&gt;\n    &lt;PERSON id=\"2\" firstname=\"clark\" lastname=\"kent\"/&gt;\n    &lt;PERSON id=\"3\" firstname=\"james\" lastname=\"bond\"/&gt;\n    &lt;ROLE id=\"1\" name=\"foo\"/&gt;\n    &lt;ROLE id=\"2\" name=\"bar\"/&gt;\n    &lt;ROLE id=\"3\" name=\"boo\"/&gt;\n    &lt;ROLE id=\"4\" name=\"baz\"/&gt;\n    &lt;PERSON_ROLE persons_id=\"1\" roles_id=\"1\"/&gt;\n    &lt;PERSON_ROLE persons_id=\"1\" roles_id=\"2\"/&gt;\n    &lt;PERSON_ROLE persons_id=\"2\" roles_id=\"2\"/&gt;\n    &lt;PERSON_ROLE persons_id=\"2\" roles_id=\"3\"/&gt;\n    &lt;PERSON_ROLE persons_id=\"3\" roles_id=\"1\"/&gt;\n    &lt;PERSON_ROLE persons_id=\"3\" roles_id=\"4\"/&gt;\n&lt;/dataset&gt;\n</code></pre>\n\n<p>The following test method:</p>\n\n<pre><code>@Test\npublic void testCascadeDeleteOrphanOnDelete() {\n    Person person = entityManager.find(Person.class, 1L);\n    entityManager.remove(person);\n    ReflectionAssert.assertPropertyLenientEquals(\"id\", Arrays.asList(2, 3), findAllPersons());\n    ReflectionAssert.assertPropertyLenientEquals(\"id\", Arrays.asList(3, 4), findAllRoles());\n\n}\n\nprivate List&lt;Person&gt; findAllPersons() {\n    return entityManager.createQuery(\"from Person\").getResultList();\n}\n\nprivate List&lt;Role&gt; findAllRoles() {\n    return entityManager.createQuery(\"from Role\").getResultList();\n}\n</code></pre>\n\n<p>Just passes. Below the produced output:</p>\n\n<pre>\nHibernate: select personx0_.id as id17_0_, personx0_.firstName as firstName17_0_, personx0_.lastName as lastName17_0_ from Person personx0_ where personx0_.id=?\nHibernate: select roles0_.persons_id as persons1_1_, roles0_.roles_id as roles2_1_, rolex1_.id as id18_0_, rolex1_.name as name18_0_ from Person_Role roles0_ left outer join Role rolex1_ on roles0_.roles_id=rolex1_.id where roles0_.persons_id=?\nHibernate: delete from Person_Role where persons_id=?\nHibernate: delete from Role where id=?\nHibernate: delete from Role where id=?\nHibernate: delete from Person where id=?\nHibernate: select personx0_.id as id17_, personx0_.firstName as firstName17_, personx0_.lastName as lastName17_ from Person personx0_\nHibernate: select rolex0_.id as id18_, rolex0_.name as name18_ from Role rolex0_\n</pre>\n"},{"tags":[],"owner":{"account_id":486024,"reputation":641,"user_id":902678,"accept_rate":62,"display_name":"demonz demonz"},"down_vote_count":28,"up_vote_count":1,"is_accepted":false,"score":-27,"last_activity_date":1354733419,"creation_date":1348008920,"answer_id":12486248,"question_id":3055407,"body_markdown":"try this:\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL, orphanRemoval=true, fetch = FetchType.LAZY, mappedBy = &quot;yourObject&quot;)","title":"How do I delete orphan entities using hibernate and JPA on a many-to-many relationship?","body":"<p>try this:</p>\n\n<pre><code>@ManyToMany(cascade = CascadeType.ALL, orphanRemoval=true, fetch = FetchType.LAZY, mappedBy = \"yourObject\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1816124,"reputation":507,"user_id":1651169,"display_name":"ichalos"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1350300229,"creation_date":1350300229,"answer_id":12894589,"question_id":3055407,"body_markdown":"So far there is no **orphanRemoval** attribute for the ManyToMany annotation. I have the same problem too. And the suggestion to implement it to on the database is no answer to the problem. The whole philosophy of JPA is *against* implementing logic on the database, but through the mappings. ","title":"How do I delete orphan entities using hibernate and JPA on a many-to-many relationship?","body":"<p>So far there is no <strong>orphanRemoval</strong> attribute for the ManyToMany annotation. I have the same problem too. And the suggestion to implement it to on the database is no answer to the problem. The whole philosophy of JPA is <em>against</em> implementing logic on the database, but through the mappings. </p>\n"},{"tags":[],"owner":{"account_id":76076,"reputation":21604,"user_id":218028,"accept_rate":84,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1357359177,"creation_date":1357359177,"answer_id":14168505,"question_id":3055407,"body_markdown":"From the book &quot;Pro JPA 2&quot;:\r\n\r\n&gt; Only relationships with single cardinality on the source side can\r\n&gt; enable orphan removal, which is why the orphanRemoval option is\r\n&gt; defined on the @OneToOne and @OneToMany relationship annotations, but\r\n&gt; on neither of the @ManyToOne or @ManyToMany annotations.\r\n\r\nIt&#39;s a bummer, but there is no JPA automated orphan removal for ManyToMany.","title":"How do I delete orphan entities using hibernate and JPA on a many-to-many relationship?","body":"<p>From the book \"Pro JPA 2\":</p>\n\n<blockquote>\n  <p>Only relationships with single cardinality on the source side can\n  enable orphan removal, which is why the orphanRemoval option is\n  defined on the @OneToOne and @OneToMany relationship annotations, but\n  on neither of the @ManyToOne or @ManyToMany annotations.</p>\n</blockquote>\n\n<p>It's a bummer, but there is no JPA automated orphan removal for ManyToMany.</p>\n"}],"owner":{"account_id":153296,"reputation":16708,"user_id":368453,"accept_rate":67,"display_name":"Alucard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31454,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":4,"score":28,"last_activity_date":1665415886,"creation_date":1276706743,"question_id":3055407,"body_markdown":"I want to delete orphan entities using hibernate and JPA on a many-to-many relationship but all that I found was the attribute `org.hibernate.annotations.CascadeType.DELETE_ORPHAN`, which works only for one-to-many relationships.\r\n\r\nI want to know if I can delete the orphan ones on my many-to-many relationship.\r\n","title":"How do I delete orphan entities using hibernate and JPA on a many-to-many relationship?","body":"<p>I want to delete orphan entities using hibernate and JPA on a many-to-many relationship but all that I found was the attribute <code>org.hibernate.annotations.CascadeType.DELETE_ORPHAN</code>, which works only for one-to-many relationships.</p>\n<p>I want to know if I can delete the orphan ones on my many-to-many relationship.</p>\n"},{"tags":["java","android","analytics","exoplayer","exoplayer2.x"],"answers":[{"tags":[],"owner":{"account_id":13962640,"reputation":723,"user_id":10086742,"display_name":"mahdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665415744,"creation_date":1665415744,"answer_id":74017240,"question_id":73951408,"body_markdown":"You can pass a callback to `PlaybackStatsListener` to be called when the `PlaybackStats` is ready. You can use the following snippet to read analytics stats from exoplayer:\r\n```\r\n       player.addAnalyticsListener(new PlaybackStatsListener(true, new PlaybackStatsListener.Callback() {\r\n            @Override\r\n            public void onPlaybackStatsReady(AnalyticsListener.EventTime eventTime, PlaybackStats playbackStats) {\r\n                // read PlaybackStats fields or call methods here\r\n                playbackStats.getTotalJoinTimeMs();\r\n                ...\r\n            }\r\n        }));\r\n```\r\n","title":"Exoplayer analytics total join time - app crashing","body":"<p>You can pass a callback to <code>PlaybackStatsListener</code> to be called when the <code>PlaybackStats</code> is ready. You can use the following snippet to read analytics stats from exoplayer:</p>\n<pre><code>       player.addAnalyticsListener(new PlaybackStatsListener(true, new PlaybackStatsListener.Callback() {\n            @Override\n            public void onPlaybackStatsReady(AnalyticsListener.EventTime eventTime, PlaybackStats playbackStats) {\n                // read PlaybackStats fields or call methods here\n                playbackStats.getTotalJoinTimeMs();\n                ...\n            }\n        }));\n</code></pre>\n"}],"owner":{"account_id":1215562,"reputation":41,"user_id":1183233,"display_name":"user1183233"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665415744,"creation_date":1664903608,"question_id":73951408,"body_markdown":"I&#39;m trying to get the [total join time][1] in before a video starts using the [Exoplayer Demo App][2], but the app just crashes when I launch the app with the code for this.\r\n\r\nI&#39;ve initiated the [playback stats listener][3] as follows in [PlayerActivity.js][4]\r\n\r\n    protected PlaybackStatsListener playerStatsListener = new PlaybackStatsListener(true, null);\r\n\r\nFollowing that, I add that to my player using addAnalyticsListener\r\n\r\n    player.addAnalyticsListener(playerStatsListener)\r\n\r\nWithin the [onCreate method][5], I try to retrieve the totalJoinTimeMs using this code:\r\n\r\n    long totalValidJoinTimeMs = playerStatsListener.getPlaybackStats().getTotalJoinTimeMs();\r\n\r\nHowever, the app just crashes when I have included the above line of code.\r\n\r\nAre there code examples of how this should be done?\r\n\r\n\r\n  [1]: https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/analytics/PlaybackStats.html#getTotalJoinTimeMs()\r\n  [2]: https://exoplayer.dev/demo-application.html\r\n  [3]: https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/analytics/PlaybackStats.html\r\n  [4]: https://github.com/google/ExoPlayer/blob/release-v2/demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java\r\n  [5]: https://github.com/google/ExoPlayer/blob/ab4d37f499ba49bb3cac7938eb03ebf7133ccfe6/demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java#L105","title":"Exoplayer analytics total join time - app crashing","body":"<p>I'm trying to get the <a href=\"https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/analytics/PlaybackStats.html#getTotalJoinTimeMs()\" rel=\"nofollow noreferrer\">total join time</a> in before a video starts using the <a href=\"https://exoplayer.dev/demo-application.html\" rel=\"nofollow noreferrer\">Exoplayer Demo App</a>, but the app just crashes when I launch the app with the code for this.</p>\n<p>I've initiated the <a href=\"https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/analytics/PlaybackStats.html\" rel=\"nofollow noreferrer\">playback stats listener</a> as follows in <a href=\"https://github.com/google/ExoPlayer/blob/release-v2/demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java\" rel=\"nofollow noreferrer\">PlayerActivity.js</a></p>\n<pre><code>protected PlaybackStatsListener playerStatsListener = new PlaybackStatsListener(true, null);\n</code></pre>\n<p>Following that, I add that to my player using addAnalyticsListener</p>\n<pre><code>player.addAnalyticsListener(playerStatsListener)\n</code></pre>\n<p>Within the <a href=\"https://github.com/google/ExoPlayer/blob/ab4d37f499ba49bb3cac7938eb03ebf7133ccfe6/demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java#L105\" rel=\"nofollow noreferrer\">onCreate method</a>, I try to retrieve the totalJoinTimeMs using this code:</p>\n<pre><code>long totalValidJoinTimeMs = playerStatsListener.getPlaybackStats().getTotalJoinTimeMs();\n</code></pre>\n<p>However, the app just crashes when I have included the above line of code.</p>\n<p>Are there code examples of how this should be done?</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1665412607,"post_id":74016549,"comment_id":130688265,"body_markdown":"*ERROR: no schema has been selected to create in*","body":"<i>ERROR: no schema has been selected to create in</i>"},{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":0,"creation_date":1665413003,"post_id":74016549,"comment_id":130688426,"body_markdown":"Both entities have the same table name - @Table(name = &quot;products&quot;)","body":"Both entities have the same table name - @Table(name = &quot;products&quot;)"},{"owner":{"account_id":25709128,"reputation":5,"user_id":19467960,"display_name":"Fen"},"score":0,"creation_date":1665416058,"post_id":74016549,"comment_id":130689556,"body_markdown":"Thanks! I forgot to create the schema on my postgres! @Jens","body":"Thanks! I forgot to create the schema on my postgres! @Jens"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1665416319,"post_id":74016549,"comment_id":130689662,"body_markdown":"Side note, it is discouraged to use &quot; ddl-auto: update&quot; on production database, (You can still use it for unit test ) consider using flyway or liquibase to run database creation separatly (Spring boot modules also exists).","body":"Side note, it is discouraged to use &quot; ddl-auto: update&quot; on production database, (You can still use it for unit test ) consider using flyway or liquibase to run database creation separatly (Spring boot modules also exists)."}],"owner":{"account_id":25709128,"reputation":5,"user_id":19467960,"display_name":"Fen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665415712,"creation_date":1665412395,"question_id":74016549,"body_markdown":"I am currently using springboot and use spring data jpa, postgresql. I am trying to create table using hibernate in postgresql. I think i don&#39;t use any database keywords on my table. Can anyone help me?\r\n\r\n\r\nThis is my Product class:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;products&quot;)\r\n    @Entity\r\n    public class ProductEntity {\r\n\r\n    @Id\r\n    private UUID productID;\r\n    private String productName;\r\n    private BigDecimal price;\r\n    private String description;\r\n    private double rating;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private ProductStatus productStatus;\r\n\r\n    private int quantity;\r\n\r\n    @OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;ProductImageEntity&gt; productImages;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        ProductEntity product = (ProductEntity) o;\r\n        return productID.equals(product.productID);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(productID);\r\n    }\r\n}\r\n\r\n\r\n----------\r\n This is my ProductImage class:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;product_images&quot;)\r\n    @Entity\r\n    public class ProductImageEntity {\r\n\r\n    @Id\r\n    private UUID productImageID;\r\n\r\n    private String imageName;\r\n    private String contentType;\r\n    private Long dataSize;\r\n    @Lob\r\n    private byte[] image;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;PRODUCT_ID&quot;)\r\n    private ProductEntity product;\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        ProductImageEntity that = (ProductImageEntity) o;\r\n        return productImageID.equals(that.productImageID);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(productImageID);\r\n    }\r\n}\r\n\r\n\r\n----------\r\nThis is the error log:\r\n\r\n        Hibernate: create table &quot;product_image&quot; (&quot;product_imageid&quot; uuid not null, &quot;content_type&quot; varchar(255), &quot;data_size&quot; int8, &quot;image&quot; oid, &quot;image_name&quot; varchar(255), &quot;product_id&quot; uuid, primary key (&quot;product_imageid&quot;))\r\n    2022-10-10 20:59:40.622  WARN 30832 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table &quot;product_image&quot; (&quot;product_imageid&quot; uuid not null, &quot;content_type&quot; varchar(255), &quot;data_size&quot; int8, &quot;image&quot; oid, &quot;image_name&quot; varchar(255), &quot;product_id&quot; uuid, primary key (&quot;product_imageid&quot;))&quot; via JDBC Statement\r\n    \r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table &quot;product_image&quot; (&quot;product_imageid&quot; uuid not null, &quot;content_type&quot; varchar(255), &quot;data_size&quot; int8, &quot;image&quot; oid, &quot;image_name&quot; varchar(255), &quot;product_id&quot; uuid, primary key (&quot;product_imageid&quot;))&quot; via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:293) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:74) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat com.online.shop.system.shop.service.ShopServiceApplication.main(ShopServiceApplication.java:9) ~[classes/:na]\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: no schema has been selected to create in\r\n      Position: 14\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \t... 34 common frames omitted\r\n    \r\n    Hibernate: create table &quot;products&quot; (&quot;productid&quot; uuid not null, &quot;description&quot; varchar(255), &quot;price&quot; numeric(19, 2), &quot;product_name&quot; varchar(255), &quot;product_status&quot; varchar(255), &quot;quantity&quot; int4 not null, &quot;rating&quot; float8 not null, primary key (&quot;productid&quot;))\r\n    2022-10-10 20:59:40.624  WARN 30832 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table &quot;products&quot; (&quot;productid&quot; uuid not null, &quot;description&quot; varchar(255), &quot;price&quot; numeric(19, 2), &quot;product_name&quot; varchar(255), &quot;product_status&quot; varchar(255), &quot;quantity&quot; int4 not null, &quot;rating&quot; float8 not null, primary key (&quot;productid&quot;))&quot; via JDBC Statement\r\n    \r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table &quot;products&quot; (&quot;productid&quot; uuid not null, &quot;description&quot; varchar(255), &quot;price&quot; numeric(19, 2), &quot;product_name&quot; varchar(255), &quot;product_status&quot; varchar(255), &quot;quantity&quot; int4 not null, &quot;rating&quot; float8 not null, primary key (&quot;productid&quot;))&quot; via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:293) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:74) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat com.online.shop.system.shop.service.ShopServiceApplication.main(ShopServiceApplication.java:9) ~[classes/:na]\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: no schema has been selected to create in\r\n      Position: 14\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \t... 34 common frames omitted\r\n    \r\n    Hibernate: alter table &quot;product_image&quot; add constraint &quot;FK1rni4u2te2vo1poy7l4vehuss&quot; foreign key (&quot;product_id&quot;) references &quot;products&quot;\r\n    2022-10-10 20:59:40.626  WARN 30832 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table &quot;product_image&quot; add constraint &quot;FK1rni4u2te2vo1poy7l4vehuss&quot; foreign key (&quot;product_id&quot;) references &quot;products&quot;&quot; via JDBC Statement\r\n    \r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table &quot;product_image&quot; add constraint &quot;FK1rni4u2te2vo1poy7l4vehuss&quot; foreign key (&quot;product_id&quot;) references &quot;products&quot;&quot; via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat com.online.shop.system.shop.service.ShopServiceApplication.main(ShopServiceApplication.java:9) ~[classes/:na]\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: relation &quot;product_image&quot; does not exist\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.7.jar:42.3.7]\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\r\n    \t... 33 common frames omitted\r\n\r\n\r\n----------\r\nThis is my application.yml\r\n\r\n    server:\r\n      port: 8180\r\n    \r\n    spring:\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n        open-in-view: false\r\n        show-sql: true\r\n        database-platform: org.hibernate.dialect.PostgreSQL9Dialect\r\n        properties:\r\n          hibernate:\r\n            globally_quoted_identifiers: true\r\n            dialect: org.hibernate.dialect.PostgreSQL9Dialect\r\n      datasource:\r\n        url: jdbc:postgresql://localhost:5432/postgres\r\n        username: postgres\r\n        password: root\r\n        driver-class-name: org.postgresql.Driver\r\n        platform: postgres\r\n        initialization-mode: always\r\n\r\n","title":"Error executing DDL using postgresql hibernate","body":"<p>I am currently using springboot and use spring data jpa, postgresql. I am trying to create table using hibernate in postgresql. I think i don't use any database keywords on my table. Can anyone help me?</p>\n<p>This is my Product class:</p>\n<pre><code>@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;products&quot;)\n@Entity\npublic class ProductEntity {\n\n@Id\nprivate UUID productID;\nprivate String productName;\nprivate BigDecimal price;\nprivate String description;\nprivate double rating;\n\n@Enumerated(EnumType.STRING)\nprivate ProductStatus productStatus;\n\nprivate int quantity;\n\n@OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL)\nprivate List&lt;ProductImageEntity&gt; productImages;\n\n@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    ProductEntity product = (ProductEntity) o;\n    return productID.equals(product.productID);\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(productID);\n}\n</code></pre>\n<p>}</p>\n<hr />\n<p>This is my ProductImage class:</p>\n<pre><code>@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;product_images&quot;)\n@Entity\npublic class ProductImageEntity {\n\n@Id\nprivate UUID productImageID;\n\nprivate String imageName;\nprivate String contentType;\nprivate Long dataSize;\n@Lob\nprivate byte[] image;\n\n@ManyToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;PRODUCT_ID&quot;)\nprivate ProductEntity product;\n\n@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    ProductImageEntity that = (ProductImageEntity) o;\n    return productImageID.equals(that.productImageID);\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(productImageID);\n}\n</code></pre>\n<p>}</p>\n<hr />\n<p>This is the error log:</p>\n<pre><code>    Hibernate: create table &quot;product_image&quot; (&quot;product_imageid&quot; uuid not null, &quot;content_type&quot; varchar(255), &quot;data_size&quot; int8, &quot;image&quot; oid, &quot;image_name&quot; varchar(255), &quot;product_id&quot; uuid, primary key (&quot;product_imageid&quot;))\n2022-10-10 20:59:40.622  WARN 30832 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table &quot;product_image&quot; (&quot;product_imageid&quot; uuid not null, &quot;content_type&quot; varchar(255), &quot;data_size&quot; int8, &quot;image&quot; oid, &quot;image_name&quot; varchar(255), &quot;product_id&quot; uuid, primary key (&quot;product_imageid&quot;))&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table &quot;product_image&quot; (&quot;product_imageid&quot; uuid not null, &quot;content_type&quot; varchar(255), &quot;data_size&quot; int8, &quot;image&quot; oid, &quot;image_name&quot; varchar(255), &quot;product_id&quot; uuid, primary key (&quot;product_imageid&quot;))&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:293) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:74) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\n    at com.online.shop.system.shop.service.ShopServiceApplication.main(ShopServiceApplication.java:9) ~[classes/:na]\nCaused by: org.postgresql.util.PSQLException: ERROR: no schema has been selected to create in\n  Position: 14\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.7.jar:42.3.7]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    ... 34 common frames omitted\n\nHibernate: create table &quot;products&quot; (&quot;productid&quot; uuid not null, &quot;description&quot; varchar(255), &quot;price&quot; numeric(19, 2), &quot;product_name&quot; varchar(255), &quot;product_status&quot; varchar(255), &quot;quantity&quot; int4 not null, &quot;rating&quot; float8 not null, primary key (&quot;productid&quot;))\n2022-10-10 20:59:40.624  WARN 30832 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table &quot;products&quot; (&quot;productid&quot; uuid not null, &quot;description&quot; varchar(255), &quot;price&quot; numeric(19, 2), &quot;product_name&quot; varchar(255), &quot;product_status&quot; varchar(255), &quot;quantity&quot; int4 not null, &quot;rating&quot; float8 not null, primary key (&quot;productid&quot;))&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table &quot;products&quot; (&quot;productid&quot; uuid not null, &quot;description&quot; varchar(255), &quot;price&quot; numeric(19, 2), &quot;product_name&quot; varchar(255), &quot;product_status&quot; varchar(255), &quot;quantity&quot; int4 not null, &quot;rating&quot; float8 not null, primary key (&quot;productid&quot;))&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:293) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:74) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\n    at com.online.shop.system.shop.service.ShopServiceApplication.main(ShopServiceApplication.java:9) ~[classes/:na]\nCaused by: org.postgresql.util.PSQLException: ERROR: no schema has been selected to create in\n  Position: 14\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.7.jar:42.3.7]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    ... 34 common frames omitted\n\nHibernate: alter table &quot;product_image&quot; add constraint &quot;FK1rni4u2te2vo1poy7l4vehuss&quot; foreign key (&quot;product_id&quot;) references &quot;products&quot;\n2022-10-10 20:59:40.626  WARN 30832 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table &quot;product_image&quot; add constraint &quot;FK1rni4u2te2vo1poy7l4vehuss&quot; foreign key (&quot;product_id&quot;) references &quot;products&quot;&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;alter table &quot;product_image&quot; add constraint &quot;FK1rni4u2te2vo1poy7l4vehuss&quot; foreign key (&quot;product_id&quot;) references &quot;products&quot;&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:452) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:263) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\n    at com.online.shop.system.shop.service.ShopServiceApplication.main(ShopServiceApplication.java:9) ~[classes/:na]\nCaused by: org.postgresql.util.PSQLException: ERROR: relation &quot;product_image&quot; does not exist\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2365) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:355) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:490) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:408) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:329) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:315) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:291) ~[postgresql-42.3.7.jar:42.3.7]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:286) ~[postgresql-42.3.7.jar:42.3.7]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.11.Final.jar:5.6.11.Final]\n    ... 33 common frames omitted\n</code></pre>\n<hr />\n<p>This is my application.yml</p>\n<pre><code>server:\n  port: 8180\n\nspring:\n  jpa:\n    hibernate:\n      ddl-auto: update\n    open-in-view: false\n    show-sql: true\n    database-platform: org.hibernate.dialect.PostgreSQL9Dialect\n    properties:\n      hibernate:\n        globally_quoted_identifiers: true\n        dialect: org.hibernate.dialect.PostgreSQL9Dialect\n  datasource:\n    url: jdbc:postgresql://localhost:5432/postgres\n    username: postgres\n    password: root\n    driver-class-name: org.postgresql.Driver\n    platform: postgres\n    initialization-mode: always\n</code></pre>\n"},{"tags":["java","json","dictionary"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665411189,"post_id":74016227,"comment_id":130687688,"body_markdown":"Stackoverflow is not a free code-writing service. Please take the [tour] and read [ask]. Stackoverflow will help with _specific_ problems, but will not write code for any assignments that are dumped on it.","body":"Stackoverflow is not a free code-writing service. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Stackoverflow will help with <i>specific</i> problems, but will not write code for any assignments that are dumped on it."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665411408,"creation_date":1665411408,"answer_id":74016313,"question_id":74016227,"body_markdown":"[This project](https://github.com/rzwitserloot/com.zwitserloot.json) works similarly. I wrote it.. a long long time ago, as far as I know nobody uses it. `Map&lt;String, Object&gt;` is not java-like at all; there is almost no purpose to such a thing. I encapsulated the notion into a `JSON` object instead. Also, you don&#39;t use strings to &#39;set&#39; things, again, un-java like.  Thus, this code:\r\n\r\n&gt; ```\r\n&gt; Map&lt;String, Object&gt; jsonMap = new HashMap&lt;&gt;();\r\n&gt; genericJsonMapSet(jsonMap, &quot;setid()&quot;, &quot;string&quot;, &quot;a9a9940d-593f-4546-8065-6d70370d9f64&quot;);\r\n&gt; genericJsonMapSet(jsonMap, &quot;setuserCharacteristic[1].setvalueType()&quot;, &quot;string&quot;, &quot;string&quot;);\r\n&gt; genericJsonMapSet(jsonMap, &quot;setuserCharacteristic[2].setvalue()&quot;, &quot;integer&quot;, &quot;23&quot;);\r\n&gt; ```\r\n\r\nBecomes:\r\n\r\n```java\r\nJSON j = JSON.newMap();\r\nj.get(&quot;setId&quot;).setString(&quot;a9a9940d-593f-4546-8065-6d70370d9f64&quot;);\r\nj.get(&quot;setuserCharacteristic&quot;).add().setString(&quot;string&quot;);\r\nj.get(&quot;setuserCharacteristic&quot;).get(2).setInteger(23);\r\n```\r\n\r\n`add()` is the same as `.get(i)` where i is one larger than whatever is there already. You can `get` non-existent things; they are created automatically once you `.set` anywhere in the &#39;chain&#39;. i.e.:\r\n\r\n```java\r\nJSON j = JSON.newMap();\r\nj.get(&quot;foo&quot;).get(&quot;bar&quot;).setString(&quot;hello&quot;);\r\n```\r\n\r\nGives you JSON structure:\r\n\r\n```json\r\n{\r\n  &quot;foo&quot;: {\r\n    &quot;bar&quot;: &quot;hello&quot;\r\n  }\r\n}\r\n```\r\n\r\n[Link to code on github](https://github.com/rzwitserloot/com.zwitserloot.json)\r\n","title":"Generic Json Map Setter in Java","body":"<p><a href=\"https://github.com/rzwitserloot/com.zwitserloot.json\" rel=\"nofollow noreferrer\">This project</a> works similarly. I wrote it.. a long long time ago, as far as I know nobody uses it. <code>Map&lt;String, Object&gt;</code> is not java-like at all; there is almost no purpose to such a thing. I encapsulated the notion into a <code>JSON</code> object instead. Also, you don't use strings to 'set' things, again, un-java like.  Thus, this code:</p>\n<blockquote>\n<pre><code>Map&lt;String, Object&gt; jsonMap = new HashMap&lt;&gt;();\ngenericJsonMapSet(jsonMap, &quot;setid()&quot;, &quot;string&quot;, &quot;a9a9940d-593f-4546-8065-6d70370d9f64&quot;);\ngenericJsonMapSet(jsonMap, &quot;setuserCharacteristic[1].setvalueType()&quot;, &quot;string&quot;, &quot;string&quot;);\ngenericJsonMapSet(jsonMap, &quot;setuserCharacteristic[2].setvalue()&quot;, &quot;integer&quot;, &quot;23&quot;);\n</code></pre>\n</blockquote>\n<p>Becomes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSON j = JSON.newMap();\nj.get(&quot;setId&quot;).setString(&quot;a9a9940d-593f-4546-8065-6d70370d9f64&quot;);\nj.get(&quot;setuserCharacteristic&quot;).add().setString(&quot;string&quot;);\nj.get(&quot;setuserCharacteristic&quot;).get(2).setInteger(23);\n</code></pre>\n<p><code>add()</code> is the same as <code>.get(i)</code> where i is one larger than whatever is there already. You can <code>get</code> non-existent things; they are created automatically once you <code>.set</code> anywhere in the 'chain'. i.e.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSON j = JSON.newMap();\nj.get(&quot;foo&quot;).get(&quot;bar&quot;).setString(&quot;hello&quot;);\n</code></pre>\n<p>Gives you JSON structure:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;foo&quot;: {\n    &quot;bar&quot;: &quot;hello&quot;\n  }\n}\n</code></pre>\n<p><a href=\"https://github.com/rzwitserloot/com.zwitserloot.json\" rel=\"nofollow noreferrer\">Link to code on github</a></p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665415485,"creation_date":1665415485,"answer_id":74017180,"question_id":74016227,"body_markdown":"You can make use of the function `unflatten()` of library _Josson_ to do what you want.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.create();\r\n    josson.put(&quot;id&quot;, &quot;a9a9940d-593f-4546-8065-6d70370d9f64&quot;);\r\n    josson.put(&quot;requestDate&quot;, &quot;2022-10-10 16:20:15&quot;);\r\n    josson.put(&quot;userCharacteristic[1].valueType&quot;, &quot;string&quot;);\r\n    josson.put(&quot;userCharacteristic[1].name&quot;, &quot;username&quot;);\r\n    josson.put(&quot;userCharacteristic[1].value&quot;, &quot;taner.turan&quot;);\r\n    josson.put(&quot;userCharacteristic[2].valueType&quot;, &quot;integer&quot;);\r\n    josson.put(&quot;userCharacteristic[2].name&quot;, &quot;id&quot;);\r\n    josson.put(&quot;userCharacteristic[2].value&quot;, 23);\r\n    JsonNode node = josson.getNode(&quot;unflatten(&#39;.[]&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;id&quot; : &quot;a9a9940d-593f-4546-8065-6d70370d9f64&quot;,\r\n      &quot;requestDate&quot; : &quot;2022-10-10 16:20:15&quot;,\r\n      &quot;userCharacteristic&quot; : [ {\r\n        &quot;valueType&quot; : &quot;string&quot;,\r\n        &quot;name&quot; : &quot;username&quot;,\r\n        &quot;value&quot; : &quot;taner.turan&quot;\r\n      }, {\r\n        &quot;valueType&quot; : &quot;integer&quot;,\r\n        &quot;name&quot; : &quot;id&quot;,\r\n        &quot;value&quot; : 23\r\n      } ]\r\n    }","title":"Generic Json Map Setter in Java","body":"<p>You can make use of the function <code>unflatten()</code> of library <em>Josson</em> to do what you want.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.create();\njosson.put(&quot;id&quot;, &quot;a9a9940d-593f-4546-8065-6d70370d9f64&quot;);\njosson.put(&quot;requestDate&quot;, &quot;2022-10-10 16:20:15&quot;);\njosson.put(&quot;userCharacteristic[1].valueType&quot;, &quot;string&quot;);\njosson.put(&quot;userCharacteristic[1].name&quot;, &quot;username&quot;);\njosson.put(&quot;userCharacteristic[1].value&quot;, &quot;taner.turan&quot;);\njosson.put(&quot;userCharacteristic[2].valueType&quot;, &quot;integer&quot;);\njosson.put(&quot;userCharacteristic[2].name&quot;, &quot;id&quot;);\njosson.put(&quot;userCharacteristic[2].value&quot;, 23);\nJsonNode node = josson.getNode(&quot;unflatten('.[]')&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;id&quot; : &quot;a9a9940d-593f-4546-8065-6d70370d9f64&quot;,\n  &quot;requestDate&quot; : &quot;2022-10-10 16:20:15&quot;,\n  &quot;userCharacteristic&quot; : [ {\n    &quot;valueType&quot; : &quot;string&quot;,\n    &quot;name&quot; : &quot;username&quot;,\n    &quot;value&quot; : &quot;taner.turan&quot;\n  }, {\n    &quot;valueType&quot; : &quot;integer&quot;,\n    &quot;name&quot; : &quot;id&quot;,\n    &quot;value&quot; : 23\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":18414641,"reputation":11,"user_id":13413900,"display_name":"taner.turan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1665415485,"creation_date":1665411005,"question_id":74016227,"body_markdown":"Suppose I have an empty Map&lt;String, Object&gt; map or a Map&lt;String, Object&gt; map with some fields added.\r\n\r\nIn this case, I want to create a generic java method that I can set to the map I have using the values such as map, path, value type and value object that I will give as input.\r\n\r\nThe method outline I intend to create can be seen below.\r\n\r\n\tpublic void genericJsonMapSet(Map&lt;String, Object&gt; jsonMap, String setPath, String setValueType, Object setValue) {\r\n\t\t//Set JsonMap code\r\n\t}\r\n\r\nThe json representation of the map before and after the following calls of the method to be created should be as follows.\r\n\r\n\t\tgenericJsonMapSet(jsonMap, &quot;setid()&quot;, &quot;string&quot;, &quot;a9a9940d-593f-4546-8065-6d70370d9f64&quot;);\r\n\t\tgenericJsonMapSet(jsonMap, &quot;setrequestDate()&quot;, &quot;string&quot;, &quot;2022-10-10 16:20:15&quot;);\r\n\t\tgenericJsonMapSet(jsonMap, &quot;setuserCharacteristic[1].setvalueType()&quot;, &quot;string&quot;, &quot;string&quot;);\r\n\t\tgenericJsonMapSet(jsonMap, &quot;setuserCharacteristic[1].setname()&quot;, &quot;string&quot;, &quot;username&quot;);\r\n\t\tgenericJsonMapSet(jsonMap, &quot;setuserCharacteristic[1].setvalue()&quot;, &quot;string&quot;, &quot;taner.turan&quot;);\r\n\t\tgenericJsonMapSet(jsonMap, &quot;setuserCharacteristic[2].setvalueType()&quot;, &quot;string&quot;, &quot;integer&quot;);\r\n\t\tgenericJsonMapSet(jsonMap, &quot;setuserCharacteristic[2].setname()&quot;, &quot;string&quot;, &quot;id&quot;);\r\n\t\tgenericJsonMapSet(jsonMap, &quot;setuserCharacteristic[2].setvalue()&quot;, &quot;integer&quot;, &quot;23&quot;);\r\n\r\n***Before:***\r\n```\r\n{\r\n\r\n}\r\n```\r\n***After:***\r\n```\r\n{\r\n\t&quot;id&quot;: &quot;a9a9940d-593f-4546-8065-6d70370d9f64&quot;,\r\n\t&quot;requestDate&quot;: &quot;2022-10-10 16:20:15&quot;,\r\n\t&quot;userCharacteristic&quot;: [\r\n\t\t{\r\n\t\t\t&quot;valueType&quot;: &quot;string&quot;,\r\n\t\t\t&quot;name&quot;: &quot;username&quot;,\r\n\t\t\t&quot;value&quot;: &quot;taner.turan&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;valueType&quot;: &quot;integer&quot;,\r\n\t\t\t&quot;name&quot;: &quot;id&quot;,\r\n\t\t\t&quot;value&quot;: 23\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\nCan anyone provide code for this?","title":"Generic Json Map Setter in Java","body":"<p>Suppose I have an empty Map&lt;String, Object&gt; map or a Map&lt;String, Object&gt; map with some fields added.</p>\n<p>In this case, I want to create a generic java method that I can set to the map I have using the values such as map, path, value type and value object that I will give as input.</p>\n<p>The method outline I intend to create can be seen below.</p>\n<pre><code>public void genericJsonMapSet(Map&lt;String, Object&gt; jsonMap, String setPath, String setValueType, Object setValue) {\n    //Set JsonMap code\n}\n</code></pre>\n<p>The json representation of the map before and after the following calls of the method to be created should be as follows.</p>\n<pre><code>    genericJsonMapSet(jsonMap, &quot;setid()&quot;, &quot;string&quot;, &quot;a9a9940d-593f-4546-8065-6d70370d9f64&quot;);\n    genericJsonMapSet(jsonMap, &quot;setrequestDate()&quot;, &quot;string&quot;, &quot;2022-10-10 16:20:15&quot;);\n    genericJsonMapSet(jsonMap, &quot;setuserCharacteristic[1].setvalueType()&quot;, &quot;string&quot;, &quot;string&quot;);\n    genericJsonMapSet(jsonMap, &quot;setuserCharacteristic[1].setname()&quot;, &quot;string&quot;, &quot;username&quot;);\n    genericJsonMapSet(jsonMap, &quot;setuserCharacteristic[1].setvalue()&quot;, &quot;string&quot;, &quot;taner.turan&quot;);\n    genericJsonMapSet(jsonMap, &quot;setuserCharacteristic[2].setvalueType()&quot;, &quot;string&quot;, &quot;integer&quot;);\n    genericJsonMapSet(jsonMap, &quot;setuserCharacteristic[2].setname()&quot;, &quot;string&quot;, &quot;id&quot;);\n    genericJsonMapSet(jsonMap, &quot;setuserCharacteristic[2].setvalue()&quot;, &quot;integer&quot;, &quot;23&quot;);\n</code></pre>\n<p><em><strong>Before:</strong></em></p>\n<pre><code>{\n\n}\n</code></pre>\n<p><em><strong>After:</strong></em></p>\n<pre><code>{\n    &quot;id&quot;: &quot;a9a9940d-593f-4546-8065-6d70370d9f64&quot;,\n    &quot;requestDate&quot;: &quot;2022-10-10 16:20:15&quot;,\n    &quot;userCharacteristic&quot;: [\n        {\n            &quot;valueType&quot;: &quot;string&quot;,\n            &quot;name&quot;: &quot;username&quot;,\n            &quot;value&quot;: &quot;taner.turan&quot;\n        },\n        {\n            &quot;valueType&quot;: &quot;integer&quot;,\n            &quot;name&quot;: &quot;id&quot;,\n            &quot;value&quot;: 23\n        }\n    ]\n}\n</code></pre>\n<p>Can anyone provide code for this?</p>\n"},{"tags":["java","javafx","vlc","libvlc","vlcj"],"comments":[{"owner":{"account_id":4509047,"reputation":3905,"user_id":3665698,"display_name":"mcoolive"},"score":0,"creation_date":1663158347,"post_id":73716717,"comment_id":130172366,"body_markdown":"You should add versions of vclj and vlc.","body":"You should add versions of vclj and vlc."},{"owner":{"account_id":3101468,"reputation":3914,"user_id":2625478,"accept_rate":82,"display_name":"caprica"},"score":1,"creation_date":1663181996,"post_id":73716717,"comment_id":130181570,"body_markdown":"Not sure if this will work or not, hence a comment not an answer, but try your avcodec-hw setting on the MediaPlayerFactory rather than the play() method.","body":"Not sure if this will work or not, hence a comment not an answer, but try your avcodec-hw setting on the MediaPlayerFactory rather than the play() method."},{"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"score":0,"creation_date":1665415363,"post_id":73716717,"comment_id":130689301,"body_markdown":"@caprica tested as you suggested, on windows it seems to work (CPU usage goes up) but I don&#39;t know if it&#39;s windows itself or libvlc. On linux still no effect","body":"@caprica tested as you suggested, on windows it seems to work (CPU usage goes up) but I don&#39;t know if it&#39;s windows itself or libvlc. On linux still no effect"}],"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665415271,"creation_date":1663157858,"question_id":73716717,"body_markdown":"I&#39;m writing some code to play media, I noticed that vlc mediaplayer correctly honours the `--avcodec-hw` parameter, but vlcj, with the same parameter passed to the library\r\n\r\nThis is how I build the mediaplayer component\r\n```java\r\n//This uses jfx17\r\n\r\nMediaPlayerFactory factory;\r\nEmbeddedMediaPlayer mediaPlayer;\r\n\r\nvar args = new ArrayList&lt;String&gt;();\r\nargs.add(&quot;-vv&quot;);\r\nargs.add(&quot;--network-caching=100&quot;);\r\nargs.add(&quot;--avcodec-hw=vdpau_avcodec&quot;);\r\n\r\nfactory = new MediaPlayerFactory(args);\r\nmediaPlayer = factory.mediaPlayers().newEmbeddedMediaPlayer();\r\n\r\nvar vs = new ImageViewVideoSurface(this.videoImageView);\r\nmediaPlayer.videoSurface().set(vs);\r\nvideoImageView.setPreserveRatio(true);\r\n\r\nString murl = &quot;/tmp/mytestvideo.mp4&quot;;\r\n\r\n\r\nmediaPlayer.media().play(murl);\r\nmediaPlayer.controls().start();\r\n```\r\n\r\nIn vlc I set the vdpau trough the GUI menu (tools-&gt;preferences-&gt;Input/codecs)\r\n\r\nthe command `nvidia-smi dmon` shows few percentage when using vlc (and `top` gives really low cpu usage) but 0 when using the javaFx applcation (and `top` gives a 30% cpu usage).\r\n\r\nHow can I force the GPU video decoding?\r\n\r\n**EDIT:**  \r\nHere are the versions of the software I&#39;m using:  \r\nUbuntu 20.04  \r\nvlc media player: 3.0.9.2  \r\nvlcj: 4.7.3  \r\nvlcj-natives: 4.7.0  \r\nvlcj-javafx: 1.1.0  \r\n\r\n** EDIT **\r\nedited according to @caprica no effect\r\n\r\nAlso, at runtime I force the parameter `-Dprism.forceGPU=true`\r\n","title":"Hardware acceleration honoured by Vlc player but ignored by vlcj","body":"<p>I'm writing some code to play media, I noticed that vlc mediaplayer correctly honours the <code>--avcodec-hw</code> parameter, but vlcj, with the same parameter passed to the library</p>\n<p>This is how I build the mediaplayer component</p>\n<pre class=\"lang-java prettyprint-override\"><code>//This uses jfx17\n\nMediaPlayerFactory factory;\nEmbeddedMediaPlayer mediaPlayer;\n\nvar args = new ArrayList&lt;String&gt;();\nargs.add(&quot;-vv&quot;);\nargs.add(&quot;--network-caching=100&quot;);\nargs.add(&quot;--avcodec-hw=vdpau_avcodec&quot;);\n\nfactory = new MediaPlayerFactory(args);\nmediaPlayer = factory.mediaPlayers().newEmbeddedMediaPlayer();\n\nvar vs = new ImageViewVideoSurface(this.videoImageView);\nmediaPlayer.videoSurface().set(vs);\nvideoImageView.setPreserveRatio(true);\n\nString murl = &quot;/tmp/mytestvideo.mp4&quot;;\n\n\nmediaPlayer.media().play(murl);\nmediaPlayer.controls().start();\n</code></pre>\n<p>In vlc I set the vdpau trough the GUI menu (tools-&gt;preferences-&gt;Input/codecs)</p>\n<p>the command <code>nvidia-smi dmon</code> shows few percentage when using vlc (and <code>top</code> gives really low cpu usage) but 0 when using the javaFx applcation (and <code>top</code> gives a 30% cpu usage).</p>\n<p>How can I force the GPU video decoding?</p>\n<p><strong>EDIT:</strong><br />\nHere are the versions of the software I'm using:<br />\nUbuntu 20.04<br />\nvlc media player: 3.0.9.2<br />\nvlcj: 4.7.3<br />\nvlcj-natives: 4.7.0<br />\nvlcj-javafx: 1.1.0</p>\n<p>** EDIT **\nedited according to @caprica no effect</p>\n<p>Also, at runtime I force the parameter <code>-Dprism.forceGPU=true</code></p>\n"},{"tags":["java","template-method-pattern"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1665424258,"post_id":74014236,"comment_id":130692369,"body_markdown":"How are you going to implement this? As it is, it sounds like you will use static methods to access the funcionalities. That is, to run `condition1Method`, you would call `Condition1#condition1Method`, but for `condition2AndDefaultCommonMethod` which would you call? `Condition2#condition2AndDefaultCommonMethod` or `Default#condition2AndDefaultCommonMethod`?","body":"How are you going to implement this? As it is, it sounds like you will use static methods to access the funcionalities. That is, to run <code>condition1Method</code>, you would call <code>Condition1#condition1Method</code>, but for <code>condition2AndDefaultCommonMethod</code> which would you call? <code>Condition2#condition2AndDefaultCommonMethod</code> or <code>Default#condition2AndDefaultCommonMethod</code>?"},{"owner":{"account_id":10674408,"reputation":43,"user_id":7858441,"display_name":"Jose Robles Villares"},"score":0,"creation_date":1665478694,"post_id":74014236,"comment_id":130704009,"body_markdown":"I will instantiate the corresponding Template class, then call `generalMethod` and then this method will call its corresponding `firstMethod` and `secondMethod`","body":"I will instantiate the corresponding Template class, then call <code>generalMethod</code> and then this method will call its corresponding <code>firstMethod</code> and <code>secondMethod</code>"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1665504520,"post_id":74014236,"comment_id":130714069,"body_markdown":"Looking back at it, I might be confused by your namings. I was half-thinking that `condition2AndDefaultCommonMethod` were in `Condition2Template` and `DefaultTemplate`, but that wouldn&#39;t make sense if those calls will be done within subclases of `Template`. The `condition1` and `condition2` within `Template` are not referencing `Condition2Template` and `Condition1Template`, right? In other words, for `firstMethod`, you won&#39;t instantiate neither of `Condition1Template`, `Condition2Template` nor `DefaultTemplate` inside said method, correct?","body":"Looking back at it, I might be confused by your namings. I was half-thinking that <code>condition2AndDefaultCommonMethod</code> were in <code>Condition2Template</code> and <code>DefaultTemplate</code>, but that wouldn&#39;t make sense if those calls will be done within subclases of <code>Template</code>. The <code>condition1</code> and <code>condition2</code> within <code>Template</code> are not referencing <code>Condition2Template</code> and <code>Condition1Template</code>, right? In other words, for <code>firstMethod</code>, you won&#39;t instantiate neither of <code>Condition1Template</code>, <code>Condition2Template</code> nor <code>DefaultTemplate</code> inside said method, correct?"}],"owner":{"account_id":10674408,"reputation":43,"user_id":7858441,"display_name":"Jose Robles Villares"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665415177,"creation_date":1665401404,"question_id":74014236,"body_markdown":"I have to implement a solution where the code behaves differently according to different conditions.\r\n\r\nI created some pseudocode to show it:\r\n\r\n```java\r\npublic void generalMethod() {\r\n\r\n    firstMethod();\r\n    secondMethod();\r\n    commonMethod();\r\n}\r\n\r\npublic void firstMethod(){\r\n    if (condition1){\r\n        condition1Method();\r\n    } else {\r\n        if (condition2){\r\n            condition2Method();\r\n        } else {\r\n            defaultMethod();\r\n        }\r\n        condition2AndDefaultCommonMethod();\r\n    }\r\n}\r\n\r\npublic void secondMethod(){\r\n    if (condition2 &amp;&amp; condition1){\r\n        condition1Condition2Method();\r\n    } else if(condition2) {\r\n        condition2Method();\r\n    } else {\r\n        condition1AndDefaultCommonMethod();\r\n    }\r\n}\r\n\r\n```\r\nI decided to use Template Method design pattern for it, because some code is common but some of them varies depending on conditions. Is it the right choice?\r\n[![UML diagram][1]][1]\r\n\r\n\r\nI created this small UML diagram for it, but I have a problem, because Condition2Template and DefaultTemplate would share a common method which is not used by Condition1Template or Condition1Condition2Template, so I don&#39;t think I should add it to the abstract class Template. Also, Condition1Template and DefaultTemplate share a common method too. Could you please advise on this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xTkef.png","title":"Child classes common method in Template Method design pattern","body":"<p>I have to implement a solution where the code behaves differently according to different conditions.</p>\n<p>I created some pseudocode to show it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void generalMethod() {\n\n    firstMethod();\n    secondMethod();\n    commonMethod();\n}\n\npublic void firstMethod(){\n    if (condition1){\n        condition1Method();\n    } else {\n        if (condition2){\n            condition2Method();\n        } else {\n            defaultMethod();\n        }\n        condition2AndDefaultCommonMethod();\n    }\n}\n\npublic void secondMethod(){\n    if (condition2 &amp;&amp; condition1){\n        condition1Condition2Method();\n    } else if(condition2) {\n        condition2Method();\n    } else {\n        condition1AndDefaultCommonMethod();\n    }\n}\n\n</code></pre>\n<p>I decided to use Template Method design pattern for it, because some code is common but some of them varies depending on conditions. Is it the right choice?\n<a href=\"https://i.stack.imgur.com/xTkef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xTkef.png\" alt=\"UML diagram\" /></a></p>\n<p>I created this small UML diagram for it, but I have a problem, because Condition2Template and DefaultTemplate would share a common method which is not used by Condition1Template or Condition1Condition2Template, so I don't think I should add it to the abstract class Template. Also, Condition1Template and DefaultTemplate share a common method too. Could you please advise on this?</p>\n"},{"tags":["java","typescript","type-conversion","fetch"],"comments":[{"owner":{"account_id":3446506,"reputation":279303,"user_id":2887218,"display_name":"jcalz"},"score":0,"creation_date":1665373578,"post_id":74010002,"comment_id":130676977,"body_markdown":"That&#39;s an `Array&lt;{xyz: string, abc: string}&gt;` with no conversion necessary, like [this](https://tsplay.dev/WJXqRN).  Or maybe an `Array&lt;{[k: string]: string}&gt;` like [this](https://tsplay.dev/wj1ZkW).  You don&#39;t need `Map`, probably. ... but what is the use case? What do you intend to *do* with a variable of this type?","body":"That&#39;s an <code>Array&lt;{xyz: string, abc: string}&gt;</code> with no conversion necessary, like <a href=\"https://tsplay.dev/WJXqRN\" rel=\"nofollow noreferrer\">this</a>.  Or maybe an <code>Array&lt;{[k: string]: string}&gt;</code> like <a href=\"https://tsplay.dev/wj1ZkW\" rel=\"nofollow noreferrer\">this</a>.  You don&#39;t need <code>Map</code>, probably. ... but what is the use case? What do you intend to <i>do</i> with a variable of this type?"},{"owner":{"account_id":25262716,"reputation":31,"user_id":19093394,"display_name":"dazzyCrazzy"},"score":0,"creation_date":1665377557,"post_id":74010002,"comment_id":130677479,"body_markdown":"I want to have a list of map for storing different maps value in list and throw fetch call at once","body":"I want to have a list of map for storing different maps value in list and throw fetch call at once"},{"owner":{"account_id":3446506,"reputation":279303,"user_id":2887218,"display_name":"jcalz"},"score":0,"creation_date":1665407162,"post_id":74010002,"comment_id":130686192,"body_markdown":"Sorry but I don&#39;t understand what &quot;throw fetch call at once&quot; means.  Ideally you&#39;d [edit] the question to show your use case as code, or at least pseudocode.","body":"Sorry but I don&#39;t understand what &quot;throw fetch call at once&quot; means.  Ideally you&#39;d <a href=\"https://stackoverflow.com/posts/74010002/edit\">edit</a> the question to show your use case as code, or at least pseudocode."},{"owner":{"account_id":3446506,"reputation":279303,"user_id":2887218,"display_name":"jcalz"},"score":0,"creation_date":1665409009,"post_id":74010002,"comment_id":130686866,"body_markdown":"I&#39;m assuming that because you&#39;re familiar with Java, you wouldn&#39;t be asking for `Map` if you had `xyz` and `abc` as known keys.  So I&#39;d suggest `Array&lt;{[k: string]: string}&gt;`. Then you can use built-in JS object/array manipulation methods, like [this](https://tsplay.dev/Nar1pm).   If that works for you I could write up an answer, although @caTS&#39;s answer is essentially correct and maybe could just be edited to show uses, if that&#39;s what you&#39;re doing.  Anyway, let me know if you need anything further here.","body":"I&#39;m assuming that because you&#39;re familiar with Java, you wouldn&#39;t be asking for <code>Map</code> if you had <code>xyz</code> and <code>abc</code> as known keys.  So I&#39;d suggest <code>Array&lt;{[k: string]: string}&gt;</code>. Then you can use built-in JS object/array manipulation methods, like <a href=\"https://tsplay.dev/Nar1pm\" rel=\"nofollow noreferrer\">this</a>.   If that works for you I could write up an answer, although @caTS&#39;s answer is essentially correct and maybe could just be edited to show uses, if that&#39;s what you&#39;re doing.  Anyway, let me know if you need anything further here."}],"answers":[{"tags":[],"owner":{"account_id":24301499,"reputation":24385,"user_id":18244921,"display_name":"katniss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665373589,"creation_date":1665373589,"answer_id":74010038,"question_id":74010002,"body_markdown":"Looks like you&#39;re getting an array. Arrays can be represented with the built-in generic:\r\n\r\n```ts\r\nArray&lt;T&gt;\r\n```\r\n\r\nor using `[]` (similarly to Java):\r\n\r\n```ts\r\nT[]\r\n```\r\n\r\nThe objects inside the array are normal objects, with string keys mapping to string values. This can be represented with a [Record](https://stackoverflow.com/questions/51936369/what-is-the-record-type-in-typescript):\r\n\r\n```ts\r\nRecord&lt;string, string&gt;\r\n```\r\n\r\nSo you should get either:\r\n\r\n```ts\r\nRecord&lt;string, string&gt;[]\r\n```\r\n\r\nor \r\n\r\n```ts\r\nArray&lt;Record&lt;string, string&gt;&gt;\r\n```\r\n\r\nas the type.","title":"Make list of map in typescript which is correspond to java List&lt;Map&lt;String, String&gt;&gt;","body":"<p>Looks like you're getting an array. Arrays can be represented with the built-in generic:</p>\n<pre><code>Array&lt;T&gt;\n</code></pre>\n<p>or using <code>[]</code> (similarly to Java):</p>\n<pre><code>T[]\n</code></pre>\n<p>The objects inside the array are normal objects, with string keys mapping to string values. This can be represented with a <a href=\"https://stackoverflow.com/questions/51936369/what-is-the-record-type-in-typescript\">Record</a>:</p>\n<pre><code>Record&lt;string, string&gt;\n</code></pre>\n<p>So you should get either:</p>\n<pre><code>Record&lt;string, string&gt;[]\n</code></pre>\n<p>or</p>\n<pre><code>Array&lt;Record&lt;string, string&gt;&gt;\n</code></pre>\n<p>as the type.</p>\n"},{"tags":[],"owner":{"account_id":26581434,"reputation":51,"user_id":20206025,"display_name":"gabylink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665415016,"creation_date":1665415016,"answer_id":74017072,"question_id":74010002,"body_markdown":"I think you can simply use the type `{[key: string]: string}[]`.\r\nFor example, this code is working on my side:\r\n\r\n    let foo: {[key: string]: string}[] = [];\r\n    foo = [\r\n      {\r\n       xyz: &#39;Test&#39;,\r\n       abc: &#39;Count&#39;,\r\n      },\r\n      {\r\n       xyz: &#39;Test&#39;,\r\n       abc: &#39;Latency&#39;,\r\n      },\r\n     ];\r\n    console.log(foo);","title":"Make list of map in typescript which is correspond to java List&lt;Map&lt;String, String&gt;&gt;","body":"<p>I think you can simply use the type <code>{[key: string]: string}[]</code>.\nFor example, this code is working on my side:</p>\n<pre><code>let foo: {[key: string]: string}[] = [];\nfoo = [\n  {\n   xyz: 'Test',\n   abc: 'Count',\n  },\n  {\n   xyz: 'Test',\n   abc: 'Latency',\n  },\n ];\nconsole.log(foo);\n</code></pre>\n"}],"owner":{"account_id":25262716,"reputation":31,"user_id":19093394,"display_name":"dazzyCrazzy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665415016,"creation_date":1665373132,"question_id":74010002,"body_markdown":"I am having a function with **List&lt;Map&lt;String, String&gt;&gt;** as argument type in java.\r\nI want to make a fetch call from Typescript file. For that I need to define a variable whose type should be correspond to **List&lt;Map&lt;String, String&gt;&gt;**.\r\n\r\nSince typescript does not have inbuilt type as list then how can we define List&lt;Map&lt;String, String&gt;&gt; in **Typescript** ??\r\n\r\n\r\nFor the reference -\r\nThe java function receive input as below\r\n\r\n      [\r\n       {\r\n        xyz: &#39;Test&#39;,\r\n        abc: &#39;Count&#39;,\r\n       },\r\n       {\r\n        xyz: &#39;Test&#39;,\r\n        abc: &#39;Latency&#39;,\r\n       },\r\n      ]\r\n\r\n**How can I receive this List&lt;Map&lt;String, String&gt;&gt;  in typescript** ??","title":"Make list of map in typescript which is correspond to java List&lt;Map&lt;String, String&gt;&gt;","body":"<p>I am having a function with <strong>List&lt;Map&lt;String, String&gt;&gt;</strong> as argument type in java.\nI want to make a fetch call from Typescript file. For that I need to define a variable whose type should be correspond to <strong>List&lt;Map&lt;String, String&gt;&gt;</strong>.</p>\n<p>Since typescript does not have inbuilt type as list then how can we define List&lt;Map&lt;String, String&gt;&gt; in <strong>Typescript</strong> ??</p>\n<p>For the reference -\nThe java function receive input as below</p>\n<pre><code>  [\n   {\n    xyz: 'Test',\n    abc: 'Count',\n   },\n   {\n    xyz: 'Test',\n    abc: 'Latency',\n   },\n  ]\n</code></pre>\n<p><strong>How can I receive this List&lt;Map&lt;String, String&gt;&gt;  in typescript</strong> ??</p>\n"},{"tags":["java","swing","netbeans","keylistener"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1342394079,"post_id":11487369,"comment_id":15187019,"body_markdown":"Look into [key bindings](http://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html).  May or may not solve the problem, but a generally better approach for Swing.","body":"Look into <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings</a>.  May or may not solve the problem, but a generally better approach for Swing."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1481231032,"creation_date":1342300659,"answer_id":11487455,"question_id":11487369,"body_markdown":"JPanel is not Focusable by default.  That is, it can not respond to focus related events, meaning that it can not respond to the keyevents.\r\n\r\nI would suggest trying to setFocusable on the pane to true and trying again. Make sure you click the panel first to make sure it receives focus.\r\n\r\nUnderstand though, you WILL get strange focus traversal issues, as the panel will now receive input focus as the user navigates through your forms, making it seem like the focus has been lost some where.\r\n\r\nAlso, `KeyListener`s tend to be unreliable in this kind of situation (due to the way that the focus manager works).","title":"JPanel doesn&#39;t response to KeyListener event","body":"<p>JPanel is not Focusable by default.  That is, it can not respond to focus related events, meaning that it can not respond to the keyevents.</p>\n\n<p>I would suggest trying to setFocusable on the pane to true and trying again. Make sure you click the panel first to make sure it receives focus.</p>\n\n<p>Understand though, you WILL get strange focus traversal issues, as the panel will now receive input focus as the user navigates through your forms, making it seem like the focus has been lost some where.</p>\n\n<p>Also, <code>KeyListener</code>s tend to be unreliable in this kind of situation (due to the way that the focus manager works).</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1342301482,"creation_date":1342301482,"answer_id":11487514,"question_id":11487369,"body_markdown":"Did you set that `KeyListener` for your `HelloWorld` panel would be that panel itself? Also you probably need to set that panel focusable. I tested it by this code and it seems to work as it should\r\n\r\n    class HelloWorld extends JPanel implements KeyListener{\r\n    \tpublic void keyTyped(KeyEvent e) {\r\n    \t\tSystem.out.println(&quot;keyTyped: &quot;+e);\r\n    \t}\r\n    \tpublic void keyPressed(KeyEvent e) {\r\n    \t\tSystem.out.println(&quot;keyPressed: &quot;+e);\r\n    \t}\r\n    \tpublic void keyReleased(KeyEvent e) {\r\n    \t\tSystem.out.println(&quot;keyReleased: &quot;+e);\r\n    \t}\r\n    }\r\n    \r\n    class MyFrame extends JFrame {\r\n    \tpublic MyFrame() {\r\n    \t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t\tsetSize(200,200);\r\n    \r\n    \t\tHelloWorld helloWorld=new HelloWorld();\r\n    \r\n    \t\thelloWorld.addKeyListener(helloWorld);\r\n    \t\thelloWorld.setFocusable(true);\r\n    \r\n    \t\tadd(helloWorld);\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew MyFrame();\r\n    \t}\r\n    }","title":"JPanel doesn&#39;t response to KeyListener event","body":"<p>Did you set that <code>KeyListener</code> for your <code>HelloWorld</code> panel would be that panel itself? Also you probably need to set that panel focusable. I tested it by this code and it seems to work as it should</p>\n\n<pre><code>class HelloWorld extends JPanel implements KeyListener{\n    public void keyTyped(KeyEvent e) {\n        System.out.println(\"keyTyped: \"+e);\n    }\n    public void keyPressed(KeyEvent e) {\n        System.out.println(\"keyPressed: \"+e);\n    }\n    public void keyReleased(KeyEvent e) {\n        System.out.println(\"keyReleased: \"+e);\n    }\n}\n\nclass MyFrame extends JFrame {\n    public MyFrame() {\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setSize(200,200);\n\n        HelloWorld helloWorld=new HelloWorld();\n\n        helloWorld.addKeyListener(helloWorld);\n        helloWorld.setFocusable(true);\n\n        add(helloWorld);\n        setVisible(true);\n    }\n    public static void main(String[] args) {\n        new MyFrame();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3765911,"reputation":60,"user_id":3129464,"accept_rate":75,"display_name":"marnix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392718652,"creation_date":1392717443,"answer_id":21850068,"question_id":11487369,"body_markdown":"simple you have to add\r\n\r\n\r\n    addKeylistener(new HelloWorld());","title":"JPanel doesn&#39;t response to KeyListener event","body":"<p>simple you have to add</p>\n\n<pre><code>addKeylistener(new HelloWorld());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13512014,"reputation":26,"user_id":12404262,"display_name":"Yusuf  YILDIRIM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665414670,"creation_date":1595023896,"answer_id":62962417,"question_id":11487369,"body_markdown":"add this in MyFrame method;\r\n\r\n    HelloWorld() helloWorld = new HelloWorld();\r\n    this.addKeyListener(helloWorld);","title":"JPanel doesn&#39;t response to KeyListener event","body":"<p>add this in MyFrame method;</p>\n<pre><code>HelloWorld() helloWorld = new HelloWorld();\nthis.addKeyListener(helloWorld);\n</code></pre>\n"}],"owner":{"display_name":"user586399"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32488,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":11487514,"answer_count":4,"score":9,"last_activity_date":1665414670,"creation_date":1342299718,"question_id":11487369,"body_markdown":"I have a subclass of `JFrame` that uses a class extended from `JPanel`\r\n\r\n    public class HelloWorld extends JPanel implements KeyListener\r\n\r\nI add an object of `HelloWorld` to the frame - `app.add(helloWorld);`. Now, when I press any keyboard key non of the `KeyListener` methods gets called and it seems that `helloWorld` doesn&#39;t have window focus. I have tried also to invoke `helloWorld.requestFocusInWindow();` but still doesn&#39;t respond.\r\n\r\nHow can I make it respond to key press?","title":"JPanel doesn&#39;t response to KeyListener event","body":"<p>I have a subclass of <code>JFrame</code> that uses a class extended from <code>JPanel</code></p>\n\n<pre><code>public class HelloWorld extends JPanel implements KeyListener\n</code></pre>\n\n<p>I add an object of <code>HelloWorld</code> to the frame - <code>app.add(helloWorld);</code>. Now, when I press any keyboard key non of the <code>KeyListener</code> methods gets called and it seems that <code>helloWorld</code> doesn't have window focus. I have tried also to invoke <code>helloWorld.requestFocusInWindow();</code> but still doesn't respond.</p>\n\n<p>How can I make it respond to key press?</p>\n"},{"tags":["java","spring-boot","exception","transactions","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665414441,"creation_date":1665414441,"answer_id":74016970,"question_id":74016714,"body_markdown":"Assuming that you are using ```@Transactional``` without any Propogation value i.e. default is ```REQUIRED```.&lt;br&gt;\r\nIn this case when B throws an Exception, the transaction is rolled back (even that executed in class A method. You can catch this exception for logging purpose using try catch in method of class B, but should be thrown again, ideally. Or you can do so using AOP. If you want to commit changes done in A but not in B, in case of exception, you can use ```Propogation.REQUIRES_NEW```","title":"Handle exception in spring boot inner transaction method","body":"<p>Assuming that you are using <code>@Transactional</code> without any Propogation value i.e. default is <code>REQUIRED</code>.<br>\nIn this case when B throws an Exception, the transaction is rolled back (even that executed in class A method. You can catch this exception for logging purpose using try catch in method of class B, but should be thrown again, ideally. Or you can do so using AOP. If you want to commit changes done in A but not in B, in case of exception, you can use <code>Propogation.REQUIRES_NEW</code></p>\n"}],"owner":{"account_id":26577794,"reputation":21,"user_id":20202880,"display_name":"Ali Kheiri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665414441,"creation_date":1665413164,"question_id":74016714,"body_markdown":"In the Spring Boot project, we have two classes named A and B, each of which has a Transactional method inside.\r\nWe inject class B into A and call its method.\r\nNow, if the method in class B gets an error during execution, what will happen to that error???\r\nBecause in any situation spring gives the message \r\n&quot;transaction silently rollback&quot;\r\nand the exception thrown in class B method is completely ignored and cannot be catch.\r\n\r\nHow can I catch and display the message thrown in class B&#39;s method???","title":"Handle exception in spring boot inner transaction method","body":"<p>In the Spring Boot project, we have two classes named A and B, each of which has a Transactional method inside.\nWe inject class B into A and call its method.\nNow, if the method in class B gets an error during execution, what will happen to that error???\nBecause in any situation spring gives the message\n&quot;transaction silently rollback&quot;\nand the exception thrown in class B method is completely ignored and cannot be catch.</p>\n<p>How can I catch and display the message thrown in class B's method???</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5173095,"reputation":6176,"user_id":4141049,"accept_rate":64,"display_name":"shmakova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665406010,"creation_date":1665406010,"answer_id":74015212,"question_id":74015030,"body_markdown":"You should use `AudioFocusRequest.Builder` on Android 8.0 (API level 26) and higher or try to use compat version: add this to your `build.gradle`:\r\n\r\n    dependencies {\r\n       implementation &quot;androidx.media:media:1.6.0&quot;\r\n    }\r\n\r\nAnd use `AudioFocusRequestCompat.Builder` instead of `AudioFocusRequest.Builder`","title":"Exception java.lang.NoClassDefFoundError","body":"<p>You should use <code>AudioFocusRequest.Builder</code> on Android 8.0 (API level 26) and higher or try to use compat version: add this to your <code>build.gradle</code>:</p>\n<pre><code>dependencies {\n   implementation &quot;androidx.media:media:1.6.0&quot;\n}\n</code></pre>\n<p>And use <code>AudioFocusRequestCompat.Builder</code> instead of <code>AudioFocusRequest.Builder</code></p>\n"}],"owner":{"account_id":26579954,"reputation":1,"user_id":20204757,"display_name":"Nitin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665414121,"creation_date":1665405270,"question_id":74015030,"body_markdown":"I&#39;m new to app development. I got this error in my published app on Play store. Google play console tracked this below error in the crash details section. Because of this error my app is getting bad behaviour status on play console. This error came on Android SDK 25 and below. Can anyone please show the proper full method for audio focus request in a media player where audio is played and paused from the main screen and notification area. Also the audio is stored in the raw folder locally.\r\n\r\n   \r\n\r\n     Exception java.lang.NoClassDefFoundError: Failed resolution of: Landroid/media/AudioFocusRequest$Builder;\r\n      at com.onestopstudio.sankatmochanhanuman.SankatMochanHanuman.onCreate (SankatMochanHanuman.java:197)\r\n      at android.app.Activity.performCreate (Activity.java:6977)\r\n      at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1126)\r\n      at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:2946)\r\n      at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3064)\r\n      at android.app.ActivityThread.-wrap14 (ActivityThread.java)\r\n      at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1659)\r\n      at android.os.Handler.dispatchMessage (Handler.java:102)\r\n      at android.os.Looper.loop (Looper.java:154)\r\n      at android.app.ActivityThread.main (ActivityThread.java:6816)\r\n      at java.lang.reflect.Method.invoke (Method.java)\r\n      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:1565)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1453)\r\n    Caused by java.lang.ClassNotFoundException:\r\n      at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:56)\r\n      at java.lang.ClassLoader.loadClass (ClassLoader.java:380)\r\n      at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\r\n\r\nHere is the code below I&#39;m using for audio focus request. This code is also shown in GeekForGeeks How to Manage Audio Focus in Android? question.\r\nHere is the link for GeekForGeeks topic page:- https://www.geeksforgeeks.org/how-to-manage-audio-focus-in-android\r\n\r\n     audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n        playbackAttributes = new AudioAttributes.Builder()\r\n                .setUsage(AudioAttributes.USAGE_MEDIA)\r\n                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\r\n                .build();\r\n\r\n        AudioFocusRequest focusRequest = new AudioFocusRequest.Builder(AudioManager.AUDIOFOCUS_GAIN)\r\n                .setAudioAttributes(playbackAttributes)\r\n                .setAcceptsDelayedFocusGain(true)\r\n                .setOnAudioFocusChangeListener(audioFocusChangeListener)\r\n                .build();\r\n        audioFocusRequest = audioManager.requestAudioFocus(focusRequest);\r\n        audioManager.abandonAudioFocus(audioFocusChangeListener);","title":"Exception java.lang.NoClassDefFoundError","body":"<p>I'm new to app development. I got this error in my published app on Play store. Google play console tracked this below error in the crash details section. Because of this error my app is getting bad behaviour status on play console. This error came on Android SDK 25 and below. Can anyone please show the proper full method for audio focus request in a media player where audio is played and paused from the main screen and notification area. Also the audio is stored in the raw folder locally.</p>\n<pre><code> Exception java.lang.NoClassDefFoundError: Failed resolution of: Landroid/media/AudioFocusRequest$Builder;\n  at com.onestopstudio.sankatmochanhanuman.SankatMochanHanuman.onCreate (SankatMochanHanuman.java:197)\n  at android.app.Activity.performCreate (Activity.java:6977)\n  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1126)\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:2946)\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3064)\n  at android.app.ActivityThread.-wrap14 (ActivityThread.java)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1659)\n  at android.os.Handler.dispatchMessage (Handler.java:102)\n  at android.os.Looper.loop (Looper.java:154)\n  at android.app.ActivityThread.main (ActivityThread.java:6816)\n  at java.lang.reflect.Method.invoke (Method.java)\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:1565)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1453)\nCaused by java.lang.ClassNotFoundException:\n  at dalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:56)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:380)\n  at java.lang.ClassLoader.loadClass (ClassLoader.java:312)\n</code></pre>\n<p>Here is the code below I'm using for audio focus request. This code is also shown in GeekForGeeks How to Manage Audio Focus in Android? question.\nHere is the link for GeekForGeeks topic page:- <a href=\"https://www.geeksforgeeks.org/how-to-manage-audio-focus-in-android\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-manage-audio-focus-in-android</a></p>\n<pre><code> audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\n    playbackAttributes = new AudioAttributes.Builder()\n            .setUsage(AudioAttributes.USAGE_MEDIA)\n            .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)\n            .build();\n\n    AudioFocusRequest focusRequest = new AudioFocusRequest.Builder(AudioManager.AUDIOFOCUS_GAIN)\n            .setAudioAttributes(playbackAttributes)\n            .setAcceptsDelayedFocusGain(true)\n            .setOnAudioFocusChangeListener(audioFocusChangeListener)\n            .build();\n    audioFocusRequest = audioManager.requestAudioFocus(focusRequest);\n    audioManager.abandonAudioFocus(audioFocusChangeListener);\n</code></pre>\n"},{"tags":["java","spring-boot","http","basic-authentication"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1626682742,"post_id":68437182,"comment_id":120949095,"body_markdown":"Your code doesn&#39;t compile, which makes me wonder whether you are running the code in your question.","body":"Your code doesn&#39;t compile, which makes me wonder whether you are running the code in your question."},{"owner":{"account_id":18216912,"reputation":99,"user_id":13258426,"display_name":"radurbalau"},"score":0,"creation_date":1626684549,"post_id":68437182,"comment_id":120949846,"body_markdown":"the link from response and the username and password are an example.","body":"the link from response and the username and password are an example."},{"owner":{"account_id":18216912,"reputation":99,"user_id":13258426,"display_name":"radurbalau"},"score":0,"creation_date":1626684557,"post_id":68437182,"comment_id":120949850,"body_markdown":"be sure to use   Maven: org.apache.httpcomponents:httpclient:4.5.13","body":"be sure to use   Maven: org.apache.httpcomponents:httpclient:4.5.13"}],"answers":[{"tags":[],"owner":{"account_id":6924484,"reputation":81,"user_id":5315940,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665414092,"creation_date":1665413455,"answer_id":74016787,"question_id":68437182,"body_markdown":"I stumbled on the same issue. I noticed my request with curl had the header \r\n\r\n`Authorization: Basic base64(username:password)`\r\n\r\nthat my get request was missing, then i found [this answer][1] that solved the problem but with a deprecate use of *BasicScheme.authenticate* and finally removed the deprecated part using [this other answer][2]:\r\n\r\n    httpget.setHeader( new BasicScheme(StandardCharsets.UTF_8).authenticate(credentials , httpget, null) );\r\n\r\nNow it works. Did not check the long way as specified in the first answer.\r\n\r\n  [1]: https://stackoverflow.com/a/18109238/5315940\r\n  [2]: https://stackoverflow.com/a/37494180/5315940","title":"Why do i get 401 unauthorised even though credentials are correct?","body":"<p>I stumbled on the same issue. I noticed my request with curl had the header</p>\n<p><code>Authorization: Basic base64(username:password)</code></p>\n<p>that my get request was missing, then i found <a href=\"https://stackoverflow.com/a/18109238/5315940\">this answer</a> that solved the problem but with a deprecate use of <em>BasicScheme.authenticate</em> and finally removed the deprecated part using <a href=\"https://stackoverflow.com/a/37494180/5315940\">this other answer</a>:</p>\n<pre><code>httpget.setHeader( new BasicScheme(StandardCharsets.UTF_8).authenticate(credentials , httpget, null) );\n</code></pre>\n<p>Now it works. Did not check the long way as specified in the first answer.</p>\n"}],"owner":{"account_id":18216912,"reputation":99,"user_id":13258426,"display_name":"radurbalau"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665414092,"creation_date":1626682441,"question_id":68437182,"body_markdown":"I am trying to make a get request on an API, that has basic authentication, but even though I have the correct username and password, it won&#39;t work.\r\n\r\nWhen I&#39;m trying to reach the API with curl (Linux command) it works fine.\r\n\r\n    curl -u &quot;user:password&quot; -s https://dummy/link/1\r\n\r\nDo I need to specify that the response must be `enter code here`JSON?\r\n\r\nI am using   Maven: org.apache.httpcomponents:httpclient:4.5.13 dependency\r\n\r\n    CredentialsProvider provider = new BasicCredentialsProvider();\r\n    UsernamePasswordCredentials credentials = new UsernamePasswordCredentials(&quot;user&quot;,&quot;password&quot;);\r\n    provider.setCredentials(AuthScope.ANY, credentials);\r\n\r\n    HttpClient client = HttpClientBuilder.create()\r\n        .setDefaultCredentialsProvider(provider)\r\n        .build();\r\n\r\n    HttpResponse response = client.execute(\r\n        new HttpGet(&quot;https://dummy/link/1&quot;);\r\n    int statusCode = response.getStatusLine()\r\n        .getStatusCode();\r\n\r\n    if(statusCode != HttpStatus.SC_OK){\r\n      System.out.println(statusCode);\r\n    }else{\r\n      System.out.println(response);\r\n    }\r\n","title":"Why do i get 401 unauthorised even though credentials are correct?","body":"<p>I am trying to make a get request on an API, that has basic authentication, but even though I have the correct username and password, it won't work.</p>\n<p>When I'm trying to reach the API with curl (Linux command) it works fine.</p>\n<pre><code>curl -u &quot;user:password&quot; -s https://dummy/link/1\n</code></pre>\n<p>Do I need to specify that the response must be <code>enter code here</code>JSON?</p>\n<p>I am using   Maven: org.apache.httpcomponents:httpclient:4.5.13 dependency</p>\n<pre><code>CredentialsProvider provider = new BasicCredentialsProvider();\nUsernamePasswordCredentials credentials = new UsernamePasswordCredentials(&quot;user&quot;,&quot;password&quot;);\nprovider.setCredentials(AuthScope.ANY, credentials);\n\nHttpClient client = HttpClientBuilder.create()\n    .setDefaultCredentialsProvider(provider)\n    .build();\n\nHttpResponse response = client.execute(\n    new HttpGet(&quot;https://dummy/link/1&quot;);\nint statusCode = response.getStatusLine()\n    .getStatusCode();\n\nif(statusCode != HttpStatus.SC_OK){\n  System.out.println(statusCode);\n}else{\n  System.out.println(response);\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":20964520,"reputation":292,"user_id":15403179,"display_name":"S-Flavius"},"score":0,"creation_date":1665406905,"post_id":74015326,"comment_id":130686097,"body_markdown":"Not really a StackOverflow question, but yes. Having files open usually blocks them from any access by other means. The only way to write &quot;code&quot; in Excel files, that also works while they are open is in Visual Basic","body":"Not really a StackOverflow question, but yes. Having files open usually blocks them from any access by other means. The only way to write &quot;code&quot; in Excel files, that also works while they are open is in Visual Basic"}],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665408803,"creation_date":1665408803,"answer_id":74015768,"question_id":74015326,"body_markdown":"***No.*** \r\n\r\nAnd if you are a window user than Windows itself will not let you do this. Nothing in your code will let you do so, I&#39;m afraid. You need to close the file in Excel first.\r\n\r\nI am assuming from your description that you&#39;ve got the file open yourself, in Excel. You might not be. However something else certainly does - it could be another instance of your Java application, for example. Even make sure stuff like Windows Explorer isn&#39;t accessing/using the file, e.g. to check attributes. And until you rule that out, as mentioned Windows itself will block you accessing it.","title":"Update existing Excel file using Apache POI using java","body":"<p><em><strong>No.</strong></em></p>\n<p>And if you are a window user than Windows itself will not let you do this. Nothing in your code will let you do so, I'm afraid. You need to close the file in Excel first.</p>\n<p>I am assuming from your description that you've got the file open yourself, in Excel. You might not be. However something else certainly does - it could be another instance of your Java application, for example. Even make sure stuff like Windows Explorer isn't accessing/using the file, e.g. to check attributes. And until you rule that out, as mentioned Windows itself will block you accessing it.</p>\n"}],"owner":{"account_id":19653948,"reputation":3,"user_id":14387051,"display_name":"Vivek Ghevariya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74015768,"answer_count":1,"score":0,"last_activity_date":1665413861,"creation_date":1665406548,"question_id":74015326,"body_markdown":"Is it necessary to close the open file manually before I start updating data using Apache POI? I&#39;m getting error _&quot;The process cannot acess the file because it is used by another process&quot;_. Or is there any way if Excel file is open and still I can update it using Java Apache POI?","title":"Update existing Excel file using Apache POI using java","body":"<p>Is it necessary to close the open file manually before I start updating data using Apache POI? I'm getting error <em>&quot;The process cannot acess the file because it is used by another process&quot;</em>. Or is there any way if Excel file is open and still I can update it using Java Apache POI?</p>\n"},{"tags":["java","spring","spring-boot","cross-domain"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1448755386,"post_id":33977803,"comment_id":55712157,"body_markdown":"What told you that it was an illegal request (firefox I guess) and which method is the request? Btw, if you use the most recent version of spring (4.2) you only need to add [`@CrossOrigin`](https://spring.io/blog/2015/06/08/cors-support-in-spring-framework) to method you want to allow..","body":"What told you that it was an illegal request (firefox I guess) and which method is the request? Btw, if you use the most recent version of spring (4.2) you only need to add <a href=\"https://spring.io/blog/2015/06/08/cors-support-in-spring-framework\" rel=\"nofollow noreferrer\"><code>@CrossOrigin</code></a> to method you want to allow.."},{"owner":{"account_id":69407,"reputation":10584,"user_id":201934,"accept_rate":57,"display_name":"numerical25"},"score":0,"creation_date":1448755739,"post_id":33977803,"comment_id":55712240,"body_markdown":"I am using Spring Boot v1.2.7.RELEASE Not sure what version of Spring is wrapped in that. Spring is telling me this in the console on the server and it returns a 403 forbidden. Also I do not see a annotation for @CrossOrigin","body":"I am using Spring Boot v1.2.7.RELEASE Not sure what version of Spring is wrapped in that. Spring is telling me this in the console on the server and it returns a 403 forbidden. Also I do not see a annotation for @CrossOrigin"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1448757181,"post_id":33977803,"comment_id":55712537,"body_markdown":"The annotation requires Boot 1.3 or [manually](http://blog.codeleak.pl/2015/09/override-spring-framework-version-in.html) upping the framework version to 4.2, the 1.2 Boot versions use spring 4.1 by default.","body":"The annotation requires Boot 1.3 or <a href=\"http://blog.codeleak.pl/2015/09/override-spring-framework-version-in.html\" rel=\"nofollow noreferrer\">manually</a> upping the framework version to 4.2, the 1.2 Boot versions use spring 4.1 by default."},{"owner":{"account_id":2159157,"reputation":697,"user_id":1913722,"accept_rate":100,"display_name":"allenru"},"score":0,"creation_date":1448769056,"post_id":33977803,"comment_id":55714679,"body_markdown":"I haven&#39;t tested this with Spring Boot, but you can use this library to add CORS support to versions of Spring prior to 4.2:  https://github.com/Russell-Allen/CrossOrigin","body":"I haven&#39;t tested this with Spring Boot, but you can use this library to add CORS support to versions of Spring prior to 4.2:  <a href=\"https://github.com/Russell-Allen/CrossOrigin\" rel=\"nofollow noreferrer\">github.com/Russell-Allen/CrossOrigin</a>"},{"owner":{"account_id":69407,"reputation":10584,"user_id":201934,"accept_rate":57,"display_name":"numerical25"},"score":0,"creation_date":1448782659,"post_id":33977803,"comment_id":55717053,"body_markdown":"I see what your saying. But to my knowledge. I thought `response.addHeader(&quot;Access-Control-Allow-Origin&quot;, clientOrigin);` should achieve the same goal. Its pretty much finding the origin url and giving it access. If not this, then shouldnt I be able to allow cross origin from the CORSFilter ? Ive also updated my post to include the SOCKJS java script i am using to make the call","body":"I see what your saying. But to my knowledge. I thought <code>response.addHeader(&quot;Access-Control-Allow-Origin&quot;, clientOrigin);</code> should achieve the same goal. Its pretty much finding the origin url and giving it access. If not this, then shouldnt I be able to allow cross origin from the CORSFilter ? Ive also updated my post to include the SOCKJS java script i am using to make the call"},{"owner":{"account_id":2159157,"reputation":697,"user_id":1913722,"accept_rate":100,"display_name":"allenru"},"score":0,"creation_date":1448817983,"post_id":33977803,"comment_id":55726785,"body_markdown":"Your quickest resolution is to upgrade to the latest version of SpringBoot which uses Spring 4.2, and has built in CORS support (as zapl suggested.)  If you look at the JavaDoc for DefaultSockJsService between the version you&#39;re on and the latest, you&#39;ll see the latter added CORS support.  Your attempt at implementing CORS support via the filter actually looks correct.  However, CORS uses HTTP OPTIONS requests which are not dispatched by spring unless configured to do so (and you&#39;ll need a handler.) (continued in next comment...)","body":"Your quickest resolution is to upgrade to the latest version of SpringBoot which uses Spring 4.2, and has built in CORS support (as zapl suggested.)  If you look at the JavaDoc for DefaultSockJsService between the version you&#39;re on and the latest, you&#39;ll see the latter added CORS support.  Your attempt at implementing CORS support via the filter actually looks correct.  However, CORS uses HTTP OPTIONS requests which are not dispatched by spring unless configured to do so (and you&#39;ll need a handler.) (continued in next comment...)"},{"owner":{"account_id":2159157,"reputation":697,"user_id":1913722,"accept_rate":100,"display_name":"allenru"},"score":0,"creation_date":1448818169,"post_id":33977803,"comment_id":55726843,"body_markdown":"See http://stackoverflow.com/questions/26500954/sockjs-not-passing-credential-information-when-on-a-different-domaincors for a related discussion on the pre-flight options request.  Also, take a look at the CorsPreflightController at line 186 of this class for an example handler if you choose to roll your own:  https://github.com/Russell-Allen/CrossOrigin/blob/master/src/main/com/allenru/crossorigin/CrossOriginHandlerMapping.java","body":"See <a href=\"http://stackoverflow.com/questions/26500954/sockjs-not-passing-credential-information-when-on-a-different-domaincors\" title=\"sockjs not passing credential information when on a different domaincors\">stackoverflow.com/questions/26500954/&hellip;</a> for a related discussion on the pre-flight options request.  Also, take a look at the CorsPreflightController at line 186 of this class for an example handler if you choose to roll your own:  <a href=\"https://github.com/Russell-Allen/CrossOrigin/blob/master/src/main/com/allenru/crossorigin/CrossOriginHandlerMapping.java\" rel=\"nofollow noreferrer\">github.com/Russell-Allen/CrossOrigin/blob/master/src/main/co&zwnj;&#8203;m/&hellip;</a>"},{"owner":{"account_id":7251738,"reputation":555,"user_id":5531763,"display_name":"Ashwini Rao"},"score":0,"creation_date":1448827159,"post_id":33977803,"comment_id":55730366,"body_markdown":"I am pretty sure this stack overflow link would assist you : http://stackoverflow.com/questions/32874421/websocket-in-spring-boot-app-getting-403-forbidden. So either you allow all by * or you update to latest spring boot version which has support for the same.","body":"I am pretty sure this stack overflow link would assist you : <a href=\"http://stackoverflow.com/questions/32874421/websocket-in-spring-boot-app-getting-403-forbidden\" title=\"websocket in spring boot app getting 403 forbidden\">stackoverflow.com/questions/32874421/&hellip;</a>. So either you allow all by * or you update to latest spring boot version which has support for the same."}],"answers":[{"tags":[],"owner":{"account_id":5361500,"reputation":161,"user_id":4272607,"display_name":"carfield"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1508645551,"creation_date":1508645551,"answer_id":46870417,"question_id":33977803,"body_markdown":"in your `WebsocketConfig.java`\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry stompEndpointRegistry) {\r\n        stompEndpointRegistry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\r\n    }\r\nnotice:\r\n\r\n    .setAllowedOrigins(&quot;*&quot;)","title":"Origin header value not allowed. Even though URL is allowed","body":"<p>in your <code>WebsocketConfig.java</code></p>\n\n<pre><code>@Override\npublic void registerStompEndpoints(StompEndpointRegistry stompEndpointRegistry) {\n    stompEndpointRegistry.addEndpoint(\"/ws\").setAllowedOrigins(\"*\").withSockJS();\n}\n</code></pre>\n\n<p>notice:</p>\n\n<pre><code>.setAllowedOrigins(\"*\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21990425,"reputation":21,"user_id":16263929,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624050409,"creation_date":1624050409,"answer_id":68041447,"question_id":33977803,"body_markdown":"Something I just found and I thought it might help someone.\r\nYour url must NOT have a &quot;/&quot; at the end.\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/chat&quot;)\r\n                .setAllowedOrigins(&quot;https://somewebsite.com/&quot;)\r\n                .withSockJS();\r\n    }\r\nDoesn&#39;t work.\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/chat&quot;)\r\n                .setAllowedOrigins(&quot;https://somewebsite.com&quot;)\r\n                .withSockJS();\r\n    }\r\nWorks.","title":"Origin header value not allowed. Even though URL is allowed","body":"<p>Something I just found and I thought it might help someone.\nYour url must NOT have a &quot;/&quot; at the end.</p>\n<pre><code>@Override\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/chat&quot;)\n            .setAllowedOrigins(&quot;https://somewebsite.com/&quot;)\n            .withSockJS();\n}\n</code></pre>\n<p>Doesn't work.</p>\n<pre><code>@Override\npublic void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/chat&quot;)\n            .setAllowedOrigins(&quot;https://somewebsite.com&quot;)\n            .withSockJS();\n}\n</code></pre>\n<p>Works.</p>\n"},{"tags":[],"owner":{"account_id":15511867,"reputation":111,"user_id":11190435,"display_name":"Cihat &#214;zdenoğlu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665413412,"creation_date":1665413412,"answer_id":74016769,"question_id":33977803,"body_markdown":"It&#39;s `.setAllowedOriginPatterns(&quot;*&quot;)` instead of `.setAllowedOrigins(&quot;*&quot;)` in Spring 5+ versions.. (I don&#39;t know when it was changed)","title":"Origin header value not allowed. Even though URL is allowed","body":"<p>It's <code>.setAllowedOriginPatterns(&quot;*&quot;)</code> instead of <code>.setAllowedOrigins(&quot;*&quot;)</code> in Spring 5+ versions.. (I don't know when it was changed)</p>\n"}],"owner":{"account_id":69407,"reputation":10584,"user_id":201934,"accept_rate":57,"display_name":"numerical25"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8352,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1665413412,"creation_date":1448754682,"question_id":33977803,"body_markdown":"I&#39;ve looked at other questions on the site similar to this and despite doing those resolutions, my issue remains the same.\r\n\r\nSide note, I also tried `setHeader(clientOrigin)`\r\n\r\nI am using Spring Boot v1.2.7.RELEASE and The Spring Console is what is telling me that Origin Header Value not allowed. My client returns with a 403 forbidden.\r\n\r\n#CorsFilter\r\n\r\n    package app.config;\r\n    \r\n    import java.io.IOException;\r\n    import javax.servlet.Filter;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.FilterConfig;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletResponse;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class CorsFilter implements Filter {\r\n    \r\n        private final Logger log = LoggerFactory.getLogger(CorsFilter.class);\r\n    \r\n        public CorsFilter() {\r\n            log.info(&quot;SimpleCORSFilter init&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n    \r\n            HttpServletRequest request = (HttpServletRequest) req;\r\n            HttpServletResponse response = (HttpServletResponse) res;\r\n            String clientOrigin = request.getHeader(&quot;origin&quot;);\r\n            response.addHeader(&quot;Access-Control-Allow-Origin&quot;, clientOrigin);\r\n            response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET,  DELETE, PUT&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n            response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Accept, Content-Type, Origin, Authorization, X-Auth-Token&quot;);\r\n            response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;X-Auth-Token&quot;);\r\n    \r\n            if (request.getMethod().equals(&quot;OPTIONS&quot;)) {\r\n                response.setStatus(HttpServletResponse.SC_OK);\r\n            } else {\r\n                chain.doFilter(request, response);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void init(FilterConfig filterConfig) {\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n#Request Header\r\n\r\n    Accept:*/*\r\n    Accept-Encoding:gzip, deflate, sdch\r\n    Accept-Language:en-US,en;q=0.8\r\n    Connection:keep-alive\r\n    Cookie:JSESSIONID=BDD1655C91FD8DD73A8A0B021BFFC0E7\r\n    Host:192.168.1.66:8080\r\n    Origin:http://192.168.1.66:8105\r\n    Referer:http://192.168.1.66:8105/\r\n    User-Agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.86 Safari/537.36\r\n\r\n#Response Headers\r\n\r\n    Access-Control-Allow-Credentials:true\r\n    Access-Control-Allow-Headers:Accept, Content-Type, Origin, Authorization, X-Auth-Token\r\n    Access-Control-Allow-Methods:POST, GET,  DELETE, PUT\r\n    Access-Control-Allow-Origin:http://192.168.1.66:8105\r\n    Access-Control-Expose-Headers:X-Auth-Token\r\n    Access-Control-Max-Age:3600\r\n    Cache-Control:no-store, no-cache, must-revalidate, max-age=0\r\n    Content-Length:0\r\n    Date:Sat, 28 Nov 2015 23:49:56 GMT\r\n    Server:Apache-Coyote/1.1\r\n\r\n\r\n\r\nThe call I am trying to make is a SocketJS call and its a get call. The following script is being called.\r\n\r\n    var socket = new SockJS($scope.siteUrl+&#39;/connect?TOKEN=&#39;+$localstorage.get(&#39;X-AUTH-TOKEN-TRIVIA&#39;));\r\n        $scope.stompClient = Stomp.over(socket);\r\n        $scope.stompClient.connect({&quot;Authorization&quot;:&quot;TOKEN&quot; }, function(frame) {\r\n            console.log(&#39;Connected: &#39; + frame);\r\n            stompClient.subscribe($scope.siteUrl+&#39;/socketupdate&#39;, function(greeting){\r\n                $scope.activegame = JSON.parse(greeting.body).content;\r\n            });\r\n        });\r\n\r\nAs you can see, I am passing the token as a query string because for some strange reason SocketJS does not allow me to pass the X-AUTH-TOKEN via header.\r\n\r\nMy client server is however on a different port. I am building an app utilizing ionic which is a angular based framework.\r\n\r\nI notice that the error comes from my WebSocketService\r\n\r\n    2015-11-29 03:22:32.417  WARN 33932 --- [nio-8080-exec-1] o.s.w.s.s.t.h.DefaultSockJsService       : Origin header value &#39;http://192.168.1.66:8105&#39; not allowed.\r\n\r\nwould this mean I have to set something in the WebSocketConfig that will accept this ??\r\n","title":"Origin header value not allowed. Even though URL is allowed","body":"<p>I've looked at other questions on the site similar to this and despite doing those resolutions, my issue remains the same.</p>\n\n<p>Side note, I also tried <code>setHeader(clientOrigin)</code></p>\n\n<p>I am using Spring Boot v1.2.7.RELEASE and The Spring Console is what is telling me that Origin Header Value not allowed. My client returns with a 403 forbidden.</p>\n\n<h1>CorsFilter</h1>\n\n<pre><code>package app.config;\n\nimport java.io.IOException;\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CorsFilter implements Filter {\n\n    private final Logger log = LoggerFactory.getLogger(CorsFilter.class);\n\n    public CorsFilter() {\n        log.info(\"SimpleCORSFilter init\");\n    }\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n\n        HttpServletRequest request = (HttpServletRequest) req;\n        HttpServletResponse response = (HttpServletResponse) res;\n        String clientOrigin = request.getHeader(\"origin\");\n        response.addHeader(\"Access-Control-Allow-Origin\", clientOrigin);\n        response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET,  DELETE, PUT\");\n        response.setHeader(\"Access-Control-Allow-Credentials\", \"true\");\n        response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n        response.setHeader(\"Access-Control-Allow-Headers\", \"Accept, Content-Type, Origin, Authorization, X-Auth-Token\");\n        response.addHeader(\"Access-Control-Expose-Headers\", \"X-Auth-Token\");\n\n        if (request.getMethod().equals(\"OPTIONS\")) {\n            response.setStatus(HttpServletResponse.SC_OK);\n        } else {\n            chain.doFilter(request, response);\n        }\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) {\n    }\n\n    @Override\n    public void destroy() {\n    }\n\n}\n</code></pre>\n\n<h1>Request Header</h1>\n\n<pre><code>Accept:*/*\nAccept-Encoding:gzip, deflate, sdch\nAccept-Language:en-US,en;q=0.8\nConnection:keep-alive\nCookie:JSESSIONID=BDD1655C91FD8DD73A8A0B021BFFC0E7\nHost:192.168.1.66:8080\nOrigin:http://192.168.1.66:8105\nReferer:http://192.168.1.66:8105/\nUser-Agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.86 Safari/537.36\n</code></pre>\n\n<h1>Response Headers</h1>\n\n<pre><code>Access-Control-Allow-Credentials:true\nAccess-Control-Allow-Headers:Accept, Content-Type, Origin, Authorization, X-Auth-Token\nAccess-Control-Allow-Methods:POST, GET,  DELETE, PUT\nAccess-Control-Allow-Origin:http://192.168.1.66:8105\nAccess-Control-Expose-Headers:X-Auth-Token\nAccess-Control-Max-Age:3600\nCache-Control:no-store, no-cache, must-revalidate, max-age=0\nContent-Length:0\nDate:Sat, 28 Nov 2015 23:49:56 GMT\nServer:Apache-Coyote/1.1\n</code></pre>\n\n<p>The call I am trying to make is a SocketJS call and its a get call. The following script is being called.</p>\n\n<pre><code>var socket = new SockJS($scope.siteUrl+'/connect?TOKEN='+$localstorage.get('X-AUTH-TOKEN-TRIVIA'));\n    $scope.stompClient = Stomp.over(socket);\n    $scope.stompClient.connect({\"Authorization\":\"TOKEN\" }, function(frame) {\n        console.log('Connected: ' + frame);\n        stompClient.subscribe($scope.siteUrl+'/socketupdate', function(greeting){\n            $scope.activegame = JSON.parse(greeting.body).content;\n        });\n    });\n</code></pre>\n\n<p>As you can see, I am passing the token as a query string because for some strange reason SocketJS does not allow me to pass the X-AUTH-TOKEN via header.</p>\n\n<p>My client server is however on a different port. I am building an app utilizing ionic which is a angular based framework.</p>\n\n<p>I notice that the error comes from my WebSocketService</p>\n\n<pre><code>2015-11-29 03:22:32.417  WARN 33932 --- [nio-8080-exec-1] o.s.w.s.s.t.h.DefaultSockJsService       : Origin header value 'http://192.168.1.66:8105' not allowed.\n</code></pre>\n\n<p>would this mean I have to set something in the WebSocketConfig that will accept this ??</p>\n"},{"tags":["java","spring","prometheus"],"answers":[{"tags":[],"owner":{"account_id":19878904,"reputation":186,"user_id":14563324,"display_name":"hitesh"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1665413154,"creation_date":1615825991,"answer_id":66641962,"question_id":65380040,"body_markdown":"You are missing actuator JAR:\r\n``` \r\nimplementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n```\r\n\r\nFor maven use:\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-actuator --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.7&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"what should I do to make &quot;io.micrometer.core.instrument.MeterRegistry&quot; object autowired","body":"<p>You are missing actuator JAR:</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\n</code></pre>\n<p>For maven use:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-actuator --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;version&gt;2.6.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7545914,"reputation":135,"user_id":5728971,"display_name":"bashar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8149,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66641962,"answer_count":1,"score":4,"last_activity_date":1665413154,"creation_date":1608468619,"question_id":65380040,"body_markdown":"I&#39;m trying to use MeterRegistry object in the constructor, but Intelij show me a message  `Could not autowire. No beans of &#39;MeterRegistry&#39; type found.`\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XRG7k.png\r\n\r\nI&#39;m using this dependency:\r\n\r\n    implementation group: &#39;io.micrometer&#39;, name: &#39;micrometer-registry-prometheus&#39;, version: &#39;1.3.5&#39;\r\n\r\nI have these properties in application.properties file\r\n\r\n    management.endpoint.metrics.enabled=true\r\n    management.endpoints.web.exposure.include=*\r\n    management.endpoint.prometheus.enabled=true\r\n    management.metrics.export.prometheus.enabled=true\r\n\r\nso I&#39;m wondering why it&#39;s not autowired by Spring ? what I&#39;m missing here ?","title":"what should I do to make &quot;io.micrometer.core.instrument.MeterRegistry&quot; object autowired","body":"<p>I'm trying to use MeterRegistry object in the constructor, but Intelij show me a message  <code>Could not autowire. No beans of 'MeterRegistry' type found.</code></p>\n<p><a href=\"https://i.stack.imgur.com/XRG7k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XRG7k.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm using this dependency:</p>\n<pre><code>implementation group: 'io.micrometer', name: 'micrometer-registry-prometheus', version: '1.3.5'\n</code></pre>\n<p>I have these properties in application.properties file</p>\n<pre><code>management.endpoint.metrics.enabled=true\nmanagement.endpoints.web.exposure.include=*\nmanagement.endpoint.prometheus.enabled=true\nmanagement.metrics.export.prometheus.enabled=true\n</code></pre>\n<p>so I'm wondering why it's not autowired by Spring ? what I'm missing here ?</p>\n"},{"tags":["java","filesystems","file-extension","magic-numbers"],"comments":[{"owner":{"account_id":1199790,"reputation":2102,"user_id":1170681,"accept_rate":68,"display_name":"Ayrx"},"score":0,"creation_date":1363921958,"post_id":15565221,"comment_id":22061273,"body_markdown":"Google &quot;file headers&quot; and &quot;magic numbers&quot;...","body":"Google &quot;file headers&quot; and &quot;magic numbers&quot;..."}],"answers":[{"tags":[],"owner":{"account_id":81835,"reputation":194,"user_id":230543,"display_name":"Adam Caudill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363924211,"creation_date":1363924211,"answer_id":15565222,"question_id":15565221,"body_markdown":"There&#39;s a tool called [TrID][1] that does what you are after - it current supports 5033 different file types - and can be [trained][2] to add new types. On *nix systems, there&#39;s also the [`file`][3] command, which does something similar.\r\n\r\n\r\n  [1]: http://mark0.net/soft-trid-e.html\r\n  [2]: http://mark0.net/soft-tridscan-e.html\r\n  [3]: http://en.wikipedia.org/wiki/File_%28command%29","title":"How to identify the file type even though the file-extension has been changed?","body":"<p>There's a tool called <a href=\"http://mark0.net/soft-trid-e.html\" rel=\"nofollow\">TrID</a> that does what you are after - it current supports 5033 different file types - and can be <a href=\"http://mark0.net/soft-tridscan-e.html\" rel=\"nofollow\">trained</a> to add new types. On *nix systems, there's also the <a href=\"http://en.wikipedia.org/wiki/File_%28command%29\" rel=\"nofollow\"><code>file</code></a> command, which does something similar.</p>\n"},{"tags":[],"owner":{"account_id":142651,"reputation":6584,"user_id":350491,"accept_rate":78,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363939953,"creation_date":1363938634,"answer_id":15565315,"question_id":15565221,"body_markdown":"well, its like having a database of file-format you want to read without looking for extension  in your app. Exactly as Linux does. So whenever you open a file, you need to check file-format database which type it belongs to. Though Not sure how will it work for different file types, but most of files have fixed header format, be it zip, pdf, mpg, avi, png, etc.. so this approach should work","title":"How to identify the file type even though the file-extension has been changed?","body":"<p>well, its like having a database of file-format you want to read without looking for extension  in your app. Exactly as Linux does. So whenever you open a file, you need to check file-format database which type it belongs to. Though Not sure how will it work for different file types, but most of files have fixed header format, be it zip, pdf, mpg, avi, png, etc.. so this approach should work</p>\n"},{"tags":[],"owner":{"account_id":1192700,"reputation":2253,"user_id":1165132,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363940409,"creation_date":1363940409,"answer_id":15565708,"question_id":15565221,"body_markdown":"You could try [MimeUtil2][1], but it&#39;s quite old and though not up2date. The best way is still the file extension.\r\n\r\nBut the solution from Adam is not as bad as you think. You could build your platform independent solution using a wrapper around command line calls. I think you will get much better results using this method.\r\n\r\n  [1]: http://sourceforge.net/projects/mime-util/","title":"How to identify the file type even though the file-extension has been changed?","body":"<p>You could try <a href=\"http://sourceforge.net/projects/mime-util/\" rel=\"nofollow\">MimeUtil2</a>, but it's quite old and though not up2date. The best way is still the file extension.</p>\n\n<p>But the solution from Adam is not as bad as you think. You could build your platform independent solution using a wrapper around command line calls. I think you will get much better results using this method.</p>\n"},{"tags":[],"owner":{"account_id":341523,"reputation":1210,"user_id":672186,"accept_rate":69,"display_name":"Cyril Deba"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1363941166,"creation_date":1363941166,"answer_id":15565886,"question_id":15565221,"body_markdown":"The following code snippet retrieves information about the file type\r\n\r\n    final File file = new File(&quot;file.txt&quot;);\r\n    System.out.println(&quot;File type is: &quot; + new MimetypesFileTypeMap().getContentType(file));\r\n\r\nHopefully, it may help you","title":"How to identify the file type even though the file-extension has been changed?","body":"<p>The following code snippet retrieves information about the file type</p>\n\n<pre><code>final File file = new File(\"file.txt\");\nSystem.out.println(\"File type is: \" + new MimetypesFileTypeMap().getContentType(file));\n</code></pre>\n\n<p>Hopefully, it may help you</p>\n"},{"tags":[],"owner":{"account_id":1116261,"reputation":5109,"user_id":1105514,"accept_rate":100,"display_name":"Adi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1363950218,"creation_date":1363950218,"answer_id":15568734,"question_id":15565221,"body_markdown":"One of the best libraries to do this is [Apache Tika][1]. It doesn&#39;t only read the file&#39;s header, it&#39;s also capable of performing content analysis to detect the file type. Using Tika is very simple, here&#39;s an example of detecting a file&#39;s type:\r\n\r\n    import java.net.URL;\r\n    import org.apache.tika.Tika; //Including Tika\r\n     \r\n    public class TestTika {\r\n     \r\n        public static void main(String[] args) {\r\n            Tika tika = new Tika();\r\n            String fileType = tika.detect(new URL(&quot;http://example.com/someFile.jpg&quot;));\r\n            System.out.println(fileType);\r\n        }\r\n     \r\n    }\r\n\r\n\r\n  [1]: https://tika.apache.org/","title":"How to identify the file type even though the file-extension has been changed?","body":"<p>One of the best libraries to do this is <a href=\"https://tika.apache.org/\" rel=\"noreferrer\">Apache Tika</a>. It doesn't only read the file's header, it's also capable of performing content analysis to detect the file type. Using Tika is very simple, here's an example of detecting a file's type:</p>\n\n<pre><code>import java.net.URL;\nimport org.apache.tika.Tika; //Including Tika\n\npublic class TestTika {\n\n    public static void main(String[] args) {\n        Tika tika = new Tika();\n        String fileType = tika.detect(new URL(\"http://example.com/someFile.jpg\"));\n        System.out.println(fileType);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2214334,"reputation":9847,"user_id":1955371,"display_name":"mr.spuratic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1665413100,"creation_date":1363950573,"answer_id":15568847,"question_id":15565221,"body_markdown":"Structure, magic numbers, metadata, strings and regular expressions, heuristics and statistical analysis... the tool will only be as good as the database of rules behind it.\r\n\r\nTry DROID (**[Digital Record Object IDentification tool][1]**) for identifying file types; Java, Net BSD-licensed. It is a free project of the National Archives UK, unrelated to Android. Source is available on Github and [Sourceforge][2]. The DROID documentation is good, there&#39;s also a [getting started guide][3] from the *Digital Preservation Coalition*.\r\n\r\nSee also **[Darwinsys file](http://darwinsys.com/file/)** and **[libmagic][3]**.\r\n\r\n\r\n  [1]: https://www.nationalarchives.gov.uk/information-management/manage-information/policy-process/digital-continuity/file-profiling-tool-droid/\r\n  [2]: https://droid.sourceforge.net/ \r\n  [3]: https://www.dpconline.org/handbook/tool-demos/droid-demo\r\n  [4]: http://sourceforge.net/projects/libmagic/ &quot;Sourceforge libmagic&quot;\r\n","title":"How to identify the file type even though the file-extension has been changed?","body":"<p>Structure, magic numbers, metadata, strings and regular expressions, heuristics and statistical analysis... the tool will only be as good as the database of rules behind it.</p>\n<p>Try DROID (<strong><a href=\"https://www.nationalarchives.gov.uk/information-management/manage-information/policy-process/digital-continuity/file-profiling-tool-droid/\" rel=\"nofollow noreferrer\">Digital Record Object IDentification tool</a></strong>) for identifying file types; Java, Net BSD-licensed. It is a free project of the National Archives UK, unrelated to Android. Source is available on Github and <a href=\"https://droid.sourceforge.net/\" rel=\"nofollow noreferrer\">Sourceforge</a>. The DROID documentation is good, there's also a <a href=\"https://www.dpconline.org/handbook/tool-demos/droid-demo\" rel=\"nofollow noreferrer\">getting started guide</a> from the <em>Digital Preservation Coalition</em>.</p>\n<p>See also <strong><a href=\"http://darwinsys.com/file/\" rel=\"nofollow noreferrer\">Darwinsys file</a></strong> and <strong><a href=\"https://www.dpconline.org/handbook/tool-demos/droid-demo\" rel=\"nofollow noreferrer\">libmagic</a></strong>.</p>\n"}],"owner":{"account_id":1737257,"reputation":1655,"user_id":1589522,"accept_rate":73,"display_name":"Maximin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12377,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15568847,"answer_count":6,"score":2,"last_activity_date":1665413100,"creation_date":1363921799,"question_id":15565221,"body_markdown":"Files are categorized by file-extension. So my question is, how to identify the file type even the file extension has been changed. \r\n\r\nFor example, i have a video file with name `myVideo.mp4`, i have changed it to `myVideo.txt`. So if i double-click it, the preferred text editor will open the file, and won&#39;t open the exact content. But, if i play `myVideo.txt` in a video player, the video will be played without any problem.\r\n\r\nI was just thinking of developing an application to determine the type of file without checking the file-extension and suggesting the software for opening the file. I would like to develop the application in Java.","title":"How to identify the file type even though the file-extension has been changed?","body":"<p>Files are categorized by file-extension. So my question is, how to identify the file type even the file extension has been changed. </p>\n\n<p>For example, i have a video file with name <code>myVideo.mp4</code>, i have changed it to <code>myVideo.txt</code>. So if i double-click it, the preferred text editor will open the file, and won't open the exact content. But, if i play <code>myVideo.txt</code> in a video player, the video will be played without any problem.</p>\n\n<p>I was just thinking of developing an application to determine the type of file without checking the file-extension and suggesting the software for opening the file. I would like to develop the application in Java.</p>\n"},{"tags":["java","swing","jpanel"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1665402779,"post_id":74014216,"comment_id":130684605,"body_markdown":"You should use Swing components and not extend them.  You only extend a Swing component when you override one or more of the class methods.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"You should use Swing components and not extend them.  You only extend a Swing component when you override one or more of the class methods.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":19324730,"reputation":25,"user_id":14127669,"display_name":"Єгор Чевардін"},"score":0,"creation_date":1665403576,"post_id":74014216,"comment_id":130684888,"body_markdown":"@GilbertLeBlanc , thanks for recommendation. But it does not solve my problem. I need to extend classes, so I can easier manipulate elements in the window.","body":"@GilbertLeBlanc , thanks for recommendation. But it does not solve my problem. I need to extend classes, so I can easier manipulate elements in the window."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1665413299,"post_id":74014216,"comment_id":130688545,"body_markdown":"well, why didn&#39;t you learn from your previous question https://stackoverflow.com/questions/73997328/how-to-fix-the-problem-with-showing-jpanel-element-in-java-swing - at least not completely ;) repeating: you __must not__ change the state of the component in paintComponent! Not the layout, not its state, not the children&#39;s state (which is particularly rotten, paintComponent is about painting the current component, irrespective of its children/context), __nothing__. Hope that your self-answer implies that fact (you might consider clarifying it)","body":"well, why didn&#39;t you learn from your previous question <a href=\"https://stackoverflow.com/questions/73997328/how-to-fix-the-problem-with-showing-jpanel-element-in-java-swing\" title=\"how to fix the problem with showing jpanel element in java swing\">stackoverflow.com/questions/73997328/&hellip;</a> - at least not completely ;) repeating: you <b>must not</b> change the state of the component in paintComponent! Not the layout, not its state, not the children&#39;s state (which is particularly rotten, paintComponent is about painting the current component, irrespective of its children/context), <b>nothing</b>. Hope that your self-answer implies that fact (you might consider clarifying it)"}],"answers":[{"tags":[],"owner":{"account_id":19324730,"reputation":25,"user_id":14127669,"display_name":"Єгор Чевардін"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665412694,"creation_date":1665412694,"answer_id":74016619,"question_id":74014216,"body_markdown":"It solved my problem:\r\n```java\r\npublic void setCurrentPage(Page page) {\r\n        remove(currentPage);\r\n        revalidate();\r\n        repaint();\r\n        this.currentPage = page;\r\n        add(currentPage);\r\n        revalidate();\r\n        repaint();\r\n        this.keyInfoLabel.setText(currentPage.getPageKeys());\r\n        currentPage.requestFocus();\r\n    }\r\n```","title":"How to switch JPanel on key?","body":"<p>It solved my problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setCurrentPage(Page page) {\n        remove(currentPage);\n        revalidate();\n        repaint();\n        this.currentPage = page;\n        add(currentPage);\n        revalidate();\n        repaint();\n        this.keyInfoLabel.setText(currentPage.getPageKeys());\n        currentPage.requestFocus();\n    }\n</code></pre>\n"}],"owner":{"account_id":19324730,"reputation":25,"user_id":14127669,"display_name":"Єгор Чевардін"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665412694,"creation_date":1665401291,"question_id":74014216,"body_markdown":"I need to switch Page class (extends JPanel), which located in JPanel, when pressing a specific key on the keyboard.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI created in GameBoard class method (`setCurrentPage`), that will update the page and repaint GameBoard object. But it does not work properly. Here is the code:\r\n```java\r\npublic class GameBoard extends JPanel {\r\n    private static GameBoard instance = null;\r\n    private Page currentPage = new AgreementPage(); // change to agreement page\r\n    private final Dialog dialog = Dialog.getInstance();\r\n\r\n    private final JPanel keyInfo = new JPanel();\r\n    private final JLabel keyInfoLabel = new JLabel(currentPage.getPageKeys());\r\n\r\n    private GameBoard() {\r\n        keyInfo.add(keyInfoLabel);\r\n        this.add(currentPage);\r\n        this.add(dialog);\r\n        this.add(keyInfo);\r\n    }\r\n\r\n    public static GameBoard getInstance() {\r\n        if (instance == null) {\r\n            instance = new GameBoard();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        this.setSize(WINDOW_WIDTH, WINDOW_HEIGHT);\r\n\r\n        currentPage.setBounds(0, 0, PAGE_WIDTH, PAGE_HEIGHT);\r\n        currentPage.setBackground(Color.decode(&quot;#121212&quot;));\r\n\r\n        dialog.setBounds(PAGE_WIDTH, 0, DIALOG_WIDTH, PAGE_HEIGHT);\r\n        dialog.setBackground(Color.decode(&quot;#333333&quot;));\r\n\r\n        keyInfo.setBorder(new EmptyBorder(3, 0, 0, 0));\r\n        keyInfo.setBounds(0, PAGE_HEIGHT, WINDOW_WIDTH, WINDOW_HEIGHT - PAGE_HEIGHT);\r\n        keyInfo.setBackground(Color.decode(&quot;#f6f9f9&quot;));\r\n\r\n        keyInfoLabel.setForeground(Color.decode(&quot;#121212&quot;));\r\n        keyInfoLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 24));\r\n        keyInfoLabel.setSize(keyInfo.getWidth(), keyInfoLabel.getHeight());\r\n        keyInfoLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n    }\r\n\r\n    public Page getCurrentPage() {\r\n        return currentPage;\r\n    }\r\n\r\n    public void setCurrentPage(Page page) {\r\n        //remove(currentPage);\r\n        this.currentPage = page;\r\n        //add(currentPage);\r\n        this.keyInfoLabel.setText(currentPage.getPageKeys());\r\n        revalidate();\r\n        repaint();\r\n    }\r\n\r\n    public JPanel getDialog() {\r\n        return dialog;\r\n    }\r\n}\r\n```\r\nHere is AgreementPage class, that extends from Page:\r\n```java\r\npublic class AgreementPage extends Page {\r\n    private final JLabel textLabel = new JLabel(&quot;&lt;html&gt;Are you ready for an exciting quest of adventure and discovery?&lt;/html&gt;&quot;);\r\n    private final JLabel keysLabel = new JLabel(&quot;N - not accept, Y - accept&quot;);\r\n    private final JPanel textContainer = new JPanel();\r\n    private final String pageKeys = &quot;&lt;html&gt;&lt;strong&gt;N&lt;/strong&gt; - not accept | &lt;strong&gt;Y&lt;/strong&gt; - accept&lt;/html&gt;&quot;;\r\n\r\n    public AgreementPage() {\r\n        super(&quot;Agreement&quot;);\r\n        super.setPageKeys(this.pageKeys);\r\n\r\n        textLabel.setBorder(new EmptyBorder(30, 0, 10, 0));\r\n\r\n        textContainer.setLayout(new BoxLayout(textContainer, BoxLayout.Y_AXIS));\r\n        textContainer.setBorder(new EmptyBorder(225, 0, 0, 0));\r\n\r\n\r\n        textContainer.add(textLabel);\r\n        textContainer.add(keysLabel);\r\n        this.add(textContainer);\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n\r\n        textContainer.setBackground(Color.decode(&quot;#121212&quot;));\r\n        textContainer.setSize(PAGE_WIDTH, (int)(PAGE_HEIGHT * 0.5));\r\n\r\n        textLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 16));\r\n        textLabel.setSize(textContainer.getWidth(), textLabel.getHeight());\r\n        textLabel.setForeground(Color.decode(&quot;#f6f9f9&quot;));\r\n        textLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\r\n        keysLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 16));\r\n        keysLabel.setSize(textContainer.getWidth(), keysLabel.getHeight());\r\n        keysLabel.setForeground(Color.decode(&quot;#f6f9f9&quot;));\r\n        keysLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        switch (e.getKeyCode()) {\r\n            case (KeyEvent.VK_N):\r\n                GameBoard.getInstance().setCurrentPage(new AgreementNotAcceptedPage());\r\n                break;\r\n            case (KeyEvent.VK_Y):\r\n                System.out.println(&quot;Go away!&quot;);\r\n                break;\r\n        }\r\n    }\r\n}\r\n```\r\nPage class is an abstract class, that implements KeyListener interface and extends from JPanel:\r\n```java\r\npublic abstract class Page extends JPanel implements KeyListener {\r\n    private String pageKeys;\r\n    protected String content;\r\n    protected JLabel labelName = new JLabel();\r\n\r\n    public Page(String name) {\r\n        addKeyListener(this);\r\n        this.setFocusable(true);\r\n\r\n        labelName.setText(name);\r\n        labelName.setBorder(new EmptyBorder(10, 0, 0, 0));\r\n\r\n        this.setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n        this.setBorder(new EmptyBorder(0, 20, 0, 20));\r\n\r\n        this.add(labelName);\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n\r\n        labelName.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 36));\r\n        labelName.setForeground(Color.decode(&quot;#f6f9f9&quot;));\r\n        labelName.setHorizontalAlignment(SwingConstants.CENTER);\r\n        labelName.setSize(this.getWidth(), labelName.getHeight());\r\n    }\r\n\r\n    /* keyTyped method is not needed in usage, so it is empty */\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {}\r\n\r\n    /* keyTyped method is not needed in usage, so it is empty */\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {}\r\n\r\n    @Override\r\n    public abstract void keyPressed(KeyEvent e);\r\n\r\n    public String getPageName() {\r\n        return labelName.getText();\r\n    }\r\n\r\n    public String getContent() {\r\n        return content;\r\n    }\r\n\r\n    public void setContent(String content) {\r\n        this.content = content;\r\n    }\r\n\r\n    public String getPageKeys() {\r\n        return pageKeys;\r\n    }\r\n\r\n    public void setPageKeys(String pageKeys) {\r\n        this.pageKeys = pageKeys;\r\n    }\r\n}\r\n```\r\nHere is code of window initializing:\r\n```java\r\nprivate static void setupWindow() {\r\n        System.out.println(&quot;[GameApplication]: Creating window&quot;);\r\n        window = new JFrame(&quot;Dungeon Master&quot;);\r\n        window.setResizable(false);\r\n        window.setBounds(0, 0, WINDOW_WIDTH, WINDOW_HEIGHT);\r\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        createGameBoard();\r\n        window.setVisible(true);\r\n    }\r\n\r\n    private static void createGameBoard() {\r\n        System.out.println(&quot;[GameApplication]: Creating GameBoard&quot;);\r\n        GameBoard gameBoard = GameBoard.getInstance();\r\n        window.add(gameBoard);\r\n        gameBoard.requestFocusInWindow();\r\n    }\r\n```\r\nI had an idea to extend GameBoard class from the JFrame, but not from the JPanel class, and it will make my life much easier, am I right?\r\n\r\n  [1]: https://i.stack.imgur.com/k0xvN.png","title":"How to switch JPanel on key?","body":"<p>I need to switch Page class (extends JPanel), which located in JPanel, when pressing a specific key on the keyboard.</p>\n<p><a href=\"https://i.stack.imgur.com/k0xvN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k0xvN.png\" alt=\"enter image description here\" /></a></p>\n<p>I created in GameBoard class method (<code>setCurrentPage</code>), that will update the page and repaint GameBoard object. But it does not work properly. Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GameBoard extends JPanel {\n    private static GameBoard instance = null;\n    private Page currentPage = new AgreementPage(); // change to agreement page\n    private final Dialog dialog = Dialog.getInstance();\n\n    private final JPanel keyInfo = new JPanel();\n    private final JLabel keyInfoLabel = new JLabel(currentPage.getPageKeys());\n\n    private GameBoard() {\n        keyInfo.add(keyInfoLabel);\n        this.add(currentPage);\n        this.add(dialog);\n        this.add(keyInfo);\n    }\n\n    public static GameBoard getInstance() {\n        if (instance == null) {\n            instance = new GameBoard();\n        }\n        return instance;\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        this.setSize(WINDOW_WIDTH, WINDOW_HEIGHT);\n\n        currentPage.setBounds(0, 0, PAGE_WIDTH, PAGE_HEIGHT);\n        currentPage.setBackground(Color.decode(&quot;#121212&quot;));\n\n        dialog.setBounds(PAGE_WIDTH, 0, DIALOG_WIDTH, PAGE_HEIGHT);\n        dialog.setBackground(Color.decode(&quot;#333333&quot;));\n\n        keyInfo.setBorder(new EmptyBorder(3, 0, 0, 0));\n        keyInfo.setBounds(0, PAGE_HEIGHT, WINDOW_WIDTH, WINDOW_HEIGHT - PAGE_HEIGHT);\n        keyInfo.setBackground(Color.decode(&quot;#f6f9f9&quot;));\n\n        keyInfoLabel.setForeground(Color.decode(&quot;#121212&quot;));\n        keyInfoLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 24));\n        keyInfoLabel.setSize(keyInfo.getWidth(), keyInfoLabel.getHeight());\n        keyInfoLabel.setHorizontalAlignment(SwingConstants.CENTER);\n    }\n\n    public Page getCurrentPage() {\n        return currentPage;\n    }\n\n    public void setCurrentPage(Page page) {\n        //remove(currentPage);\n        this.currentPage = page;\n        //add(currentPage);\n        this.keyInfoLabel.setText(currentPage.getPageKeys());\n        revalidate();\n        repaint();\n    }\n\n    public JPanel getDialog() {\n        return dialog;\n    }\n}\n</code></pre>\n<p>Here is AgreementPage class, that extends from Page:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AgreementPage extends Page {\n    private final JLabel textLabel = new JLabel(&quot;&lt;html&gt;Are you ready for an exciting quest of adventure and discovery?&lt;/html&gt;&quot;);\n    private final JLabel keysLabel = new JLabel(&quot;N - not accept, Y - accept&quot;);\n    private final JPanel textContainer = new JPanel();\n    private final String pageKeys = &quot;&lt;html&gt;&lt;strong&gt;N&lt;/strong&gt; - not accept | &lt;strong&gt;Y&lt;/strong&gt; - accept&lt;/html&gt;&quot;;\n\n    public AgreementPage() {\n        super(&quot;Agreement&quot;);\n        super.setPageKeys(this.pageKeys);\n\n        textLabel.setBorder(new EmptyBorder(30, 0, 10, 0));\n\n        textContainer.setLayout(new BoxLayout(textContainer, BoxLayout.Y_AXIS));\n        textContainer.setBorder(new EmptyBorder(225, 0, 0, 0));\n\n\n        textContainer.add(textLabel);\n        textContainer.add(keysLabel);\n        this.add(textContainer);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        textContainer.setBackground(Color.decode(&quot;#121212&quot;));\n        textContainer.setSize(PAGE_WIDTH, (int)(PAGE_HEIGHT * 0.5));\n\n        textLabel.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 16));\n        textLabel.setSize(textContainer.getWidth(), textLabel.getHeight());\n        textLabel.setForeground(Color.decode(&quot;#f6f9f9&quot;));\n        textLabel.setHorizontalAlignment(SwingConstants.CENTER);\n\n        keysLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 16));\n        keysLabel.setSize(textContainer.getWidth(), keysLabel.getHeight());\n        keysLabel.setForeground(Color.decode(&quot;#f6f9f9&quot;));\n        keysLabel.setHorizontalAlignment(SwingConstants.CENTER);\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        switch (e.getKeyCode()) {\n            case (KeyEvent.VK_N):\n                GameBoard.getInstance().setCurrentPage(new AgreementNotAcceptedPage());\n                break;\n            case (KeyEvent.VK_Y):\n                System.out.println(&quot;Go away!&quot;);\n                break;\n        }\n    }\n}\n</code></pre>\n<p>Page class is an abstract class, that implements KeyListener interface and extends from JPanel:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Page extends JPanel implements KeyListener {\n    private String pageKeys;\n    protected String content;\n    protected JLabel labelName = new JLabel();\n\n    public Page(String name) {\n        addKeyListener(this);\n        this.setFocusable(true);\n\n        labelName.setText(name);\n        labelName.setBorder(new EmptyBorder(10, 0, 0, 0));\n\n        this.setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n        this.setBorder(new EmptyBorder(0, 20, 0, 20));\n\n        this.add(labelName);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        labelName.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 36));\n        labelName.setForeground(Color.decode(&quot;#f6f9f9&quot;));\n        labelName.setHorizontalAlignment(SwingConstants.CENTER);\n        labelName.setSize(this.getWidth(), labelName.getHeight());\n    }\n\n    /* keyTyped method is not needed in usage, so it is empty */\n    @Override\n    public void keyTyped(KeyEvent e) {}\n\n    /* keyTyped method is not needed in usage, so it is empty */\n    @Override\n    public void keyReleased(KeyEvent e) {}\n\n    @Override\n    public abstract void keyPressed(KeyEvent e);\n\n    public String getPageName() {\n        return labelName.getText();\n    }\n\n    public String getContent() {\n        return content;\n    }\n\n    public void setContent(String content) {\n        this.content = content;\n    }\n\n    public String getPageKeys() {\n        return pageKeys;\n    }\n\n    public void setPageKeys(String pageKeys) {\n        this.pageKeys = pageKeys;\n    }\n}\n</code></pre>\n<p>Here is code of window initializing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void setupWindow() {\n        System.out.println(&quot;[GameApplication]: Creating window&quot;);\n        window = new JFrame(&quot;Dungeon Master&quot;);\n        window.setResizable(false);\n        window.setBounds(0, 0, WINDOW_WIDTH, WINDOW_HEIGHT);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        createGameBoard();\n        window.setVisible(true);\n    }\n\n    private static void createGameBoard() {\n        System.out.println(&quot;[GameApplication]: Creating GameBoard&quot;);\n        GameBoard gameBoard = GameBoard.getInstance();\n        window.add(gameBoard);\n        gameBoard.requestFocusInWindow();\n    }\n</code></pre>\n<p>I had an idea to extend GameBoard class from the JFrame, but not from the JPanel class, and it will make my life much easier, am I right?</p>\n"},{"tags":["java","hibernate","jpa","h2","blaze-persistence"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1665154150,"post_id":73987553,"comment_id":130640254,"body_markdown":"Can you share the query and error you see on H2?","body":"Can you share the query and error you see on H2?"},{"owner":{"account_id":26555631,"reputation":1,"user_id":20184299,"display_name":"Jens Gerdes"},"score":0,"creation_date":1665162879,"post_id":73987553,"comment_id":130643223,"body_markdown":"Hi @ChristianBeikov, I&#39;ve added some additional information","body":"Hi @ChristianBeikov, I&#39;ve added some additional information"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1665390253,"post_id":73987553,"comment_id":130680468,"body_markdown":"Can you please try passing `true` to the `with()` call, since H2 doesn&#39;t &quot;really&quot; support CTEs. In Hibernate 6, I implemented inlining of CTEs by default due the many bugs the WITH clause has in H2.","body":"Can you please try passing <code>true</code> to the <code>with()</code> call, since H2 doesn&#39;t &quot;really&quot; support CTEs. In Hibernate 6, I implemented inlining of CTEs by default due the many bugs the WITH clause has in H2."},{"owner":{"account_id":26555631,"reputation":1,"user_id":20184299,"display_name":"Jens Gerdes"},"score":0,"creation_date":1665394094,"post_id":73987553,"comment_id":130681813,"body_markdown":"Thanks but that results in another issue:\n    `java.lang.IllegalArgumentException: The alias a could not be found in the query: org.hibernate.query.internal.QueryImpl@ad5bb92\n\n\tat com.blazebit.persistence.integration.hibernate.base.HibernateExtendedQuerySupport.getSqlFromInfo(HibernateExtendedQuerySupport.java:233)\n\tat com.blazebit.persistence.impl.AbstractCommonQueryBuilder.collectEntityFunctionNodes(AbstractCommonQueryBuilder.java:3114)`","body":"Thanks but that results in another issue:     <code>java.lang.IllegalArgumentException: The alias a could not be found in the query: org.hibernate.query.internal.QueryImpl@ad5bb92  \tat com.blazebit.persistence.integration.hibernate.base.Hibernat&zwnj;&#8203;eExtendedQuerySuppor&zwnj;&#8203;t.getSqlFromInfo(Hib&zwnj;&#8203;ernateExtendedQueryS&zwnj;&#8203;upport.java:233) \tat com.blazebit.persistence.impl.AbstractCommonQueryBuilder.col&zwnj;&#8203;lectEntityFunctionNo&zwnj;&#8203;des(AbstractCommonQu&zwnj;&#8203;eryBuilder.java:3114&zwnj;&#8203;)</code>"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1665394214,"post_id":73987553,"comment_id":130681863,"body_markdown":"Do you think you could provide me access to this example somewhere so I can try to fix the issue?","body":"Do you think you could provide me access to this example somewhere so I can try to fix the issue?"},{"owner":{"account_id":26555631,"reputation":1,"user_id":20184299,"display_name":"Jens Gerdes"},"score":0,"creation_date":1665394456,"post_id":73987553,"comment_id":130681945,"body_markdown":"Sure. I will prepare a simplified example on github.","body":"Sure. I will prepare a simplified example on github."},{"owner":{"account_id":26555631,"reputation":1,"user_id":20184299,"display_name":"Jens Gerdes"},"score":1,"creation_date":1665400713,"post_id":73987553,"comment_id":130683928,"body_markdown":"[Here&#39;s the sample](https://github.com/jensgerdes/cte-issue)\n\nThe README explains everything required. Thanks for your support :)","body":"<a href=\"https://github.com/jensgerdes/cte-issue\" rel=\"nofollow noreferrer\">Here&#39;s the sample</a>  The README explains everything required. Thanks for your support :)"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1665488391,"post_id":73987553,"comment_id":130707411,"body_markdown":"I was able to reproduce the issue and you can watch the progress on https://github.com/Blazebit/blaze-persistence/issues/1563","body":"I was able to reproduce the issue and you can watch the progress on <a href=\"https://github.com/Blazebit/blaze-persistence/issues/1563\" rel=\"nofollow noreferrer\">github.com/Blazebit/blaze-persistence/issues/1563</a>"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1665488731,"post_id":73987553,"comment_id":130707541,"body_markdown":"And here is a possible fix for this: https://github.com/Blazebit/blaze-persistence/pull/1564","body":"And here is a possible fix for this: <a href=\"https://github.com/Blazebit/blaze-persistence/pull/1564\" rel=\"nofollow noreferrer\">github.com/Blazebit/blaze-persistence/pull/1564</a>"}],"owner":{"account_id":26555631,"reputation":1,"user_id":20184299,"display_name":"Jens Gerdes"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665412287,"creation_date":1665147610,"question_id":73987553,"body_markdown":"I am trying to implement a search that considers two different entities. These entities (Article, Story) have two fields in common: \r\n\r\n - `id`\r\n - `status_changed_at`\r\n\r\nDue to their differences, I map the user&#39;s search request to `javax.persistence.Predicate` per entity.\r\nFor each of these entities I have created a query like the following:\r\n\r\n    BlazeCriteriaQuery&lt;DbStory&gt; query = cb.createQuery(DbStory.class);\r\n    Root&lt;DbStory&gt; root = query.from(DbStory.class);\r\n    query.where(specification.toPredicate(root, query, cb));\r\n    CriteriaBuilder&lt;DbStory&gt; storyBuilder = query.createCriteriaBuilder(em);\r\n\r\n\r\nNow, I would like to sort both results by `status_changed_at` and `id` to then paginate through the results.\r\nMy first draft looks like this:\r\n\r\n    val unifiedResults = factory.create(em, Tuple.class)\r\n      .with(StoryCTE.class, storyBuilder, false)\r\n        .bind(&quot;id&quot;).select(&quot;id&quot;)\r\n        .bind(&quot;statusChangedAt&quot;).select(&quot;statusChangedAt&quot;)\r\n      end()\r\n      .with(ArticleCTE.class, articleBuilder, false)\r\n        .bind(&quot;id&quot;).select(&quot;id&quot;)\r\n        .bind(&quot;statusChangedAt&quot;).select(&quot;statusChangedAt&quot;)\r\n      .end()\r\n      .with(OtherCTE.class, false)\r\n        .from(StoryCTE.class, &quot;s&quot;)\r\n          .bind(&quot;id&quot;).select(&quot;s.id&quot;)\r\n          .bind(&quot;statusChangedAt&quot;).select(&quot;s.statusChangedAt&quot;)\r\n          .bind(&quot;type&quot;).select(&quot;&#39;story&#39;&quot;)\r\n        .unionAll()\r\n        .from(ArticleCTE.class, &quot;a&quot;)\r\n          .bind(&quot;id&quot;).select(&quot;a.id&quot;)\r\n          .bind(&quot;statusChangedAt&quot;).select(&quot;a.statusChangedAt&quot;)\r\n          .bind(&quot;type&quot;).select(&quot;&#39;article&#39;&quot;)\r\n        .endSet()\r\n        .end()\r\n      .from(OtherCTE.class)\r\n      .orderByDesc(&quot;statusChangedAt&quot;)\r\n      .orderByAsc(&quot;id&quot;)\r\n      .page(0, 100)\r\n      .getResultList();\r\n\r\nThis works on PostgreSQL. However, I fail to get this running on H2.\r\nMaybe, there is a simpler way of achieving this that also works on H2?\r\n\r\nThanks in advance\r\n\r\n**EDIT: Added requested information.**\r\n\r\n**Software used:**\r\n\r\n - PostgreSQL 10.x\r\n - H2 2.1.214\r\n - Hibernate 5.6\r\n\r\nH2-Query:\r\n\r\n    with recursive StoryCTE(id, status_changed_at) AS( select\r\n        dbstory0_.id as col_0_0_,\r\n        dbstory0_.status_changed_at as col_1_0_ \r\n    from\r\n        story dbstory0_ \r\n    UNION\r\n    ALL SELECT\r\n        NULL,\r\n        NULL \r\n    FROM\r\n        DUAL \r\n    WHERE\r\n        1=0 ), ArticleCTE(id, status_changed_at) AS( select\r\n        dbarticle0_.id as col_0_0_,\r\n        dbarticle0_.status_changed_at as col_1_0_ \r\n    from\r\n        article dbarticle0_ \r\n    UNION\r\n    ALL SELECT\r\n        NULL,\r\n        NULL \r\n    FROM\r\n        DUAL \r\n    WHERE\r\n        1=0 ), OtherCTE(id, status_changed_at, type) AS( select\r\n        storycte0_.id as col_0_0_,\r\n        storycte0_.status_changed_at as col_1_0_,\r\n        &#39;story&#39; as col_2_0_ \r\n    from\r\n        StoryCTE storycte0_ \r\n    UNION\r\n    ALL select\r\n        articlecte0_.id as col_0_0_,\r\n        articlecte0_.status_changed_at as col_1_0_,\r\n        &#39;article&#39; as col_2_0_ \r\n    from\r\n        ArticleCTE articlecte0_ \r\n    UNION\r\n    ALL SELECT\r\n        NULL,\r\n        NULL,\r\n        NULL \r\n    FROM\r\n        DUAL \r\n    WHERE\r\n        1=0 ) select\r\n        othercte0_.id as col_0_0_,\r\n        (select\r\n            count(*) \r\n        from\r\n            OtherCTE othercte1_) as col_1_0_,\r\n        othercte0_.id as id1_6_,\r\n        othercte0_.status_changed_at as status_c2_6_,\r\n        othercte0_.type as type3_6_ \r\n    from\r\n        OtherCTE othercte0_ \r\n    order by\r\n        othercte0_.status_changed_at DESC nulls last,\r\n        othercte0_.id ASC limit ?\r\n\r\nError Message (H2):\r\n\r\n    2022-10-07 19:09:00,329 [thread=main] WARN  \r\n\r\n    org.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 90109, SQLState: 90109\r\n    2022-10-07 19:09:00,329 [thread=main] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper: View &quot;OTHERCTE&quot; ist ung&#252;ltig: &quot;not compiled&quot;\r\n    View &quot;OTHERCTE&quot; is invalid: &quot;not compiled&quot;; SQL statement:\r\n    with recursive StoryCTE(id, status_changed_at) AS( select dbstory0_.id as col_0_0_, dbstory0_.status_changed_at as col_1_0_ from story dbstory0_ UNION ALL SELECT NULL, NULL FROM DUAL WHERE 1=0 ), ArticleCTE(id, status_changed_at) AS( select dbarticle0_.id as col_0_0_, dbarticle0_.status_changed_at as col_1_0_ from article dbarticle0_ UNION ALL SELECT NULL, NULL FROM DUAL WHERE 1=0 ), OtherCTE(id, status_changed_at, type) AS( select storycte0_.id as col_0_0_, storycte0_.status_changed_at as col_1_0_, &#39;story&#39; as col_2_0_ from StoryCTE storycte0_ UNION ALL select articlecte0_.id as col_0_0_, articlecte0_.status_changed_at as col_1_0_, &#39;article&#39; as col_2_0_ from ArticleCTE articlecte0_ UNION ALL SELECT NULL, NULL, NULL FROM DUAL WHERE 1=0 ) select othercte0_.id as col_0_0_, (select count(*) from OtherCTE othercte1_) as col_1_0_, othercte0_.id as id1_6_, othercte0_.status_changed_at as status_c2_6_, othercte0_.type as type3_6_ from OtherCTE othercte0_ order by othercte0_.status_changed_at DESC nulls last, othercte0_.id ASC limit ? [90109-214]\r\n    2022-10-07 19:09:00,331 [thread=main] ERROR com.blazebit.persistence.integration.hibernate.base.HibernateExtendedQuerySupport: Could not execute the following SQL query: with recursive StoryCTE(id, status_changed_at) AS( select dbstory0_.id as col_0_0_, dbstory0_.status_changed_at as col_1_0_ from story dbstory0_ UNION ALL SELECT NULL, NULL FROM DUAL WHERE 1=0 ), ArticleCTE(id, status_changed_at) AS( select dbarticle0_.id as col_0_0_, dbarticle0_.status_changed_at as col_1_0_ from article dbarticle0_ UNION ALL SELECT NULL, NULL FROM DUAL WHERE 1=0 ), OtherCTE(id, status_changed_at, type) AS( select storycte0_.id as col_0_0_, storycte0_.status_changed_at as col_1_0_, &#39;story&#39; as col_2_0_ from StoryCTE storycte0_ UNION ALL select articlecte0_.id as col_0_0_, articlecte0_.status_changed_at as col_1_0_, &#39;article&#39; as col_2_0_ from ArticleCTE articlecte0_ UNION ALL SELECT NULL, NULL, NULL FROM DUAL WHERE 1=0 ) select othercte0_.id as col_0_0_, (select count(*) from OtherCTE othercte1_) as col_1_0_, othercte0_.id as id1_6_, othercte0_.status_changed_at as status_c2_6_, othercte0_.type as type3_6_ from OtherCTE othercte0_ order by othercte0_.status_changed_at DESC nulls last, othercte0_.id ASC\r\n    \r\n    javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n    ...\r\n\r\nAnd here is the working Postgre Query\r\n\r\n        with StoryCTE(id, status_changed_at) AS( select\r\n        dbstory0_.id as col_0_0_,\r\n        dbstory0_.status_changed_at as col_1_0_ \r\n    from\r\n        story dbstory0_ ), ArticleCTE(id, status_changed_at) AS( select\r\n        dbarticle0_.id as col_0_0_,\r\n        dbarticle0_.status_changed_at as col_1_0_ \r\n    from\r\n        article dbarticle0_ ), OtherCTE(id, status_changed_at, type) AS( select\r\n        storycte0_.id as col_0_0_,\r\n        storycte0_.status_changed_at as col_1_0_,\r\n        &#39;story&#39; as col_2_0_ \r\n    from\r\n        StoryCTE storycte0_ \r\n    UNION\r\n    ALL select\r\n        articlecte0_.id as col_0_0_,\r\n        articlecte0_.status_changed_at as col_1_0_,\r\n        &#39;article&#39; as col_2_0_ \r\n    from\r\n        ArticleCTE articlecte0_ ) select\r\n        othercte0_.id as col_0_0_,\r\n        (select\r\n            count(*) \r\n        from\r\n            OtherCTE othercte1_) as col_1_0_,\r\n        othercte0_.id as id1_6_,\r\n        othercte0_.status_changed_at as status_c2_6_,\r\n        othercte0_.type as type3_6_ \r\n    from\r\n        OtherCTE othercte0_ \r\n    order by\r\n        othercte0_.status_changed_at DESC nulls last,\r\n        othercte0_.id ASC limit ?\r\n\r\n-----------------\r\n\r\n**EDIT 2**\r\nI do not understand why but I managed to get things running on:\r\n\r\n - PostgreSQL using CTE\r\n - PostgreSQL using the Inline-Query\r\n - H2 using the Inline-Query\r\n\r\nIn the code above I simply replaced the following lines:\r\n\r\n    .from(ArticleCTE.class, &quot;a&quot;)\r\n          .bind(&quot;id&quot;).select(&quot;a.id&quot;)\r\n          .bind(&quot;statusChangedAt&quot;).select(&quot;a.statusChangedAt&quot;)\r\n\r\nwith\r\n\r\n    .from(ArticleCTE.class, &quot;s&quot;) // why???\r\n      .bind(&quot;id&quot;).select(&quot;id&quot;)\r\n      .bind(&quot;statusChangedAt&quot;).select(&quot;statusChangedAt&quot;)","title":"Using multiple CTE with Blaze Persistence and H2","body":"<p>I am trying to implement a search that considers two different entities. These entities (Article, Story) have two fields in common:</p>\n<ul>\n<li><code>id</code></li>\n<li><code>status_changed_at</code></li>\n</ul>\n<p>Due to their differences, I map the user's search request to <code>javax.persistence.Predicate</code> per entity.\nFor each of these entities I have created a query like the following:</p>\n<pre><code>BlazeCriteriaQuery&lt;DbStory&gt; query = cb.createQuery(DbStory.class);\nRoot&lt;DbStory&gt; root = query.from(DbStory.class);\nquery.where(specification.toPredicate(root, query, cb));\nCriteriaBuilder&lt;DbStory&gt; storyBuilder = query.createCriteriaBuilder(em);\n</code></pre>\n<p>Now, I would like to sort both results by <code>status_changed_at</code> and <code>id</code> to then paginate through the results.\nMy first draft looks like this:</p>\n<pre><code>val unifiedResults = factory.create(em, Tuple.class)\n  .with(StoryCTE.class, storyBuilder, false)\n    .bind(&quot;id&quot;).select(&quot;id&quot;)\n    .bind(&quot;statusChangedAt&quot;).select(&quot;statusChangedAt&quot;)\n  end()\n  .with(ArticleCTE.class, articleBuilder, false)\n    .bind(&quot;id&quot;).select(&quot;id&quot;)\n    .bind(&quot;statusChangedAt&quot;).select(&quot;statusChangedAt&quot;)\n  .end()\n  .with(OtherCTE.class, false)\n    .from(StoryCTE.class, &quot;s&quot;)\n      .bind(&quot;id&quot;).select(&quot;s.id&quot;)\n      .bind(&quot;statusChangedAt&quot;).select(&quot;s.statusChangedAt&quot;)\n      .bind(&quot;type&quot;).select(&quot;'story'&quot;)\n    .unionAll()\n    .from(ArticleCTE.class, &quot;a&quot;)\n      .bind(&quot;id&quot;).select(&quot;a.id&quot;)\n      .bind(&quot;statusChangedAt&quot;).select(&quot;a.statusChangedAt&quot;)\n      .bind(&quot;type&quot;).select(&quot;'article'&quot;)\n    .endSet()\n    .end()\n  .from(OtherCTE.class)\n  .orderByDesc(&quot;statusChangedAt&quot;)\n  .orderByAsc(&quot;id&quot;)\n  .page(0, 100)\n  .getResultList();\n</code></pre>\n<p>This works on PostgreSQL. However, I fail to get this running on H2.\nMaybe, there is a simpler way of achieving this that also works on H2?</p>\n<p>Thanks in advance</p>\n<p><strong>EDIT: Added requested information.</strong></p>\n<p><strong>Software used:</strong></p>\n<ul>\n<li>PostgreSQL 10.x</li>\n<li>H2 2.1.214</li>\n<li>Hibernate 5.6</li>\n</ul>\n<p>H2-Query:</p>\n<pre><code>with recursive StoryCTE(id, status_changed_at) AS( select\n    dbstory0_.id as col_0_0_,\n    dbstory0_.status_changed_at as col_1_0_ \nfrom\n    story dbstory0_ \nUNION\nALL SELECT\n    NULL,\n    NULL \nFROM\n    DUAL \nWHERE\n    1=0 ), ArticleCTE(id, status_changed_at) AS( select\n    dbarticle0_.id as col_0_0_,\n    dbarticle0_.status_changed_at as col_1_0_ \nfrom\n    article dbarticle0_ \nUNION\nALL SELECT\n    NULL,\n    NULL \nFROM\n    DUAL \nWHERE\n    1=0 ), OtherCTE(id, status_changed_at, type) AS( select\n    storycte0_.id as col_0_0_,\n    storycte0_.status_changed_at as col_1_0_,\n    'story' as col_2_0_ \nfrom\n    StoryCTE storycte0_ \nUNION\nALL select\n    articlecte0_.id as col_0_0_,\n    articlecte0_.status_changed_at as col_1_0_,\n    'article' as col_2_0_ \nfrom\n    ArticleCTE articlecte0_ \nUNION\nALL SELECT\n    NULL,\n    NULL,\n    NULL \nFROM\n    DUAL \nWHERE\n    1=0 ) select\n    othercte0_.id as col_0_0_,\n    (select\n        count(*) \n    from\n        OtherCTE othercte1_) as col_1_0_,\n    othercte0_.id as id1_6_,\n    othercte0_.status_changed_at as status_c2_6_,\n    othercte0_.type as type3_6_ \nfrom\n    OtherCTE othercte0_ \norder by\n    othercte0_.status_changed_at DESC nulls last,\n    othercte0_.id ASC limit ?\n</code></pre>\n<p>Error Message (H2):</p>\n<pre><code>2022-10-07 19:09:00,329 [thread=main] WARN  \n\norg.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 90109, SQLState: 90109\n2022-10-07 19:09:00,329 [thread=main] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper: View &quot;OTHERCTE&quot; ist ungültig: &quot;not compiled&quot;\nView &quot;OTHERCTE&quot; is invalid: &quot;not compiled&quot;; SQL statement:\nwith recursive StoryCTE(id, status_changed_at) AS( select dbstory0_.id as col_0_0_, dbstory0_.status_changed_at as col_1_0_ from story dbstory0_ UNION ALL SELECT NULL, NULL FROM DUAL WHERE 1=0 ), ArticleCTE(id, status_changed_at) AS( select dbarticle0_.id as col_0_0_, dbarticle0_.status_changed_at as col_1_0_ from article dbarticle0_ UNION ALL SELECT NULL, NULL FROM DUAL WHERE 1=0 ), OtherCTE(id, status_changed_at, type) AS( select storycte0_.id as col_0_0_, storycte0_.status_changed_at as col_1_0_, 'story' as col_2_0_ from StoryCTE storycte0_ UNION ALL select articlecte0_.id as col_0_0_, articlecte0_.status_changed_at as col_1_0_, 'article' as col_2_0_ from ArticleCTE articlecte0_ UNION ALL SELECT NULL, NULL, NULL FROM DUAL WHERE 1=0 ) select othercte0_.id as col_0_0_, (select count(*) from OtherCTE othercte1_) as col_1_0_, othercte0_.id as id1_6_, othercte0_.status_changed_at as status_c2_6_, othercte0_.type as type3_6_ from OtherCTE othercte0_ order by othercte0_.status_changed_at DESC nulls last, othercte0_.id ASC limit ? [90109-214]\n2022-10-07 19:09:00,331 [thread=main] ERROR com.blazebit.persistence.integration.hibernate.base.HibernateExtendedQuerySupport: Could not execute the following SQL query: with recursive StoryCTE(id, status_changed_at) AS( select dbstory0_.id as col_0_0_, dbstory0_.status_changed_at as col_1_0_ from story dbstory0_ UNION ALL SELECT NULL, NULL FROM DUAL WHERE 1=0 ), ArticleCTE(id, status_changed_at) AS( select dbarticle0_.id as col_0_0_, dbarticle0_.status_changed_at as col_1_0_ from article dbarticle0_ UNION ALL SELECT NULL, NULL FROM DUAL WHERE 1=0 ), OtherCTE(id, status_changed_at, type) AS( select storycte0_.id as col_0_0_, storycte0_.status_changed_at as col_1_0_, 'story' as col_2_0_ from StoryCTE storycte0_ UNION ALL select articlecte0_.id as col_0_0_, articlecte0_.status_changed_at as col_1_0_, 'article' as col_2_0_ from ArticleCTE articlecte0_ UNION ALL SELECT NULL, NULL, NULL FROM DUAL WHERE 1=0 ) select othercte0_.id as col_0_0_, (select count(*) from OtherCTE othercte1_) as col_1_0_, othercte0_.id as id1_6_, othercte0_.status_changed_at as status_c2_6_, othercte0_.type as type3_6_ from OtherCTE othercte0_ order by othercte0_.status_changed_at DESC nulls last, othercte0_.id ASC\n\njavax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not prepare statement\n...\n</code></pre>\n<p>And here is the working Postgre Query</p>\n<pre><code>    with StoryCTE(id, status_changed_at) AS( select\n    dbstory0_.id as col_0_0_,\n    dbstory0_.status_changed_at as col_1_0_ \nfrom\n    story dbstory0_ ), ArticleCTE(id, status_changed_at) AS( select\n    dbarticle0_.id as col_0_0_,\n    dbarticle0_.status_changed_at as col_1_0_ \nfrom\n    article dbarticle0_ ), OtherCTE(id, status_changed_at, type) AS( select\n    storycte0_.id as col_0_0_,\n    storycte0_.status_changed_at as col_1_0_,\n    'story' as col_2_0_ \nfrom\n    StoryCTE storycte0_ \nUNION\nALL select\n    articlecte0_.id as col_0_0_,\n    articlecte0_.status_changed_at as col_1_0_,\n    'article' as col_2_0_ \nfrom\n    ArticleCTE articlecte0_ ) select\n    othercte0_.id as col_0_0_,\n    (select\n        count(*) \n    from\n        OtherCTE othercte1_) as col_1_0_,\n    othercte0_.id as id1_6_,\n    othercte0_.status_changed_at as status_c2_6_,\n    othercte0_.type as type3_6_ \nfrom\n    OtherCTE othercte0_ \norder by\n    othercte0_.status_changed_at DESC nulls last,\n    othercte0_.id ASC limit ?\n</code></pre>\n<hr />\n<p><strong>EDIT 2</strong>\nI do not understand why but I managed to get things running on:</p>\n<ul>\n<li>PostgreSQL using CTE</li>\n<li>PostgreSQL using the Inline-Query</li>\n<li>H2 using the Inline-Query</li>\n</ul>\n<p>In the code above I simply replaced the following lines:</p>\n<pre><code>.from(ArticleCTE.class, &quot;a&quot;)\n      .bind(&quot;id&quot;).select(&quot;a.id&quot;)\n      .bind(&quot;statusChangedAt&quot;).select(&quot;a.statusChangedAt&quot;)\n</code></pre>\n<p>with</p>\n<pre><code>.from(ArticleCTE.class, &quot;s&quot;) // why???\n  .bind(&quot;id&quot;).select(&quot;id&quot;)\n  .bind(&quot;statusChangedAt&quot;).select(&quot;statusChangedAt&quot;)\n</code></pre>\n"},{"tags":["java","hibernate","kotlin","jpa","annotations"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665412209,"creation_date":1665412209,"answer_id":74016504,"question_id":73977649,"body_markdown":"That is not possible out of the box. If you have a naming scheme, you should maybe look into `ImplicitNamingStrategy` where you should be able to access annotations of your model elements (with some casting and resolving) and generate the proper implicit names. If you also want to reuse the column length config, you&#39;d probably have to model this as `@Embeddable` which you can easily reuse.","title":"Parametrized composed annotation","body":"<p>That is not possible out of the box. If you have a naming scheme, you should maybe look into <code>ImplicitNamingStrategy</code> where you should be able to access annotations of your model elements (with some casting and resolving) and generate the proper implicit names. If you also want to reuse the column length config, you'd probably have to model this as <code>@Embeddable</code> which you can easily reuse.</p>\n"}],"owner":{"account_id":17913482,"reputation":137,"user_id":13015027,"display_name":"David Kubecka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665412209,"creation_date":1665076232,"question_id":73977649,"body_markdown":"## Use case ##\r\n\r\nSome of my entities have a `Money` field, i.e. a single class field that is backed by two DB columns. This is achieved by following Hibernate annotation:\r\n```\r\n@Columns(\r\n    columns = [\r\n        Column(name = &quot;amount_currency&quot;, length = 3, nullable = false),\r\n        Column(name = &quot;amount&quot;, nullable = false),\r\n    ],\r\n)\r\nvar amount: Money\r\n```\r\n\r\nThe annotation is visually complicated and in fact is almost the same for all `Money` fields in my entities - except for the column names.\r\n\r\n## Question ##\r\n\r\nIs it somehow possible to deduplicate this common pattern? My idea would be to create a composed annotation which I would then use like\r\n```\r\n@MoneyColumns(baseName=&quot;amount&quot;)\r\nvar amount: Money\r\n```\r\nThe problem is I totally don&#39;t know how to define such annotation. My original way of thinking was to use composed annotations with delegation ala Spring&#39;s `@AliasFor` but that seems to target only simple cases. ","title":"Parametrized composed annotation","body":"<h2>Use case</h2>\n<p>Some of my entities have a <code>Money</code> field, i.e. a single class field that is backed by two DB columns. This is achieved by following Hibernate annotation:</p>\n<pre><code>@Columns(\n    columns = [\n        Column(name = &quot;amount_currency&quot;, length = 3, nullable = false),\n        Column(name = &quot;amount&quot;, nullable = false),\n    ],\n)\nvar amount: Money\n</code></pre>\n<p>The annotation is visually complicated and in fact is almost the same for all <code>Money</code> fields in my entities - except for the column names.</p>\n<h2>Question</h2>\n<p>Is it somehow possible to deduplicate this common pattern? My idea would be to create a composed annotation which I would then use like</p>\n<pre><code>@MoneyColumns(baseName=&quot;amount&quot;)\nvar amount: Money\n</code></pre>\n<p>The problem is I totally don't know how to define such annotation. My original way of thinking was to use composed annotations with delegation ala Spring's <code>@AliasFor</code> but that seems to target only simple cases.</p>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":0,"creation_date":1582891661,"post_id":60451346,"comment_id":106942049,"body_markdown":"&quot;I need to do it outside too&quot; - outside? Outside of what? Or did you mean inside?","body":"&quot;I need to do it outside too&quot; - outside? Outside of what? Or did you mean inside?"},{"owner":{"account_id":17669562,"reputation":101,"user_id":12826078,"display_name":"itay k"},"score":0,"creation_date":1582891885,"post_id":60451346,"comment_id":106942163,"body_markdown":"I mean outside the main () the only difference between this two is the (long) between them","body":"I mean outside the main () the only difference between this two is the (long) between them"}],"answers":[{"tags":[],"owner":{"account_id":348076,"reputation":5557,"user_id":682559,"accept_rate":100,"display_name":"Nicktar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1582891864,"creation_date":1582891864,"answer_id":60451468,"question_id":60451346,"body_markdown":"Your first version reads: add up my variables, treat the result as a long, multiply by 10, add 50000 and treat that as a long.\r\n\r\nYour second version reads: add up my variables (result is an int), multiply by 10 (which is still an int but might be overflown), add 50000 (still a possibly overflown int) and treat that as a long.\r\n\r\nSo your fist version starts to treat the sum as a long value and reserves sufficient memory while your second version does this step at the very end, working with lower memory until then.","title":"What Happened in overflow of short vs log variables in Java","body":"<p>Your first version reads: add up my variables, treat the result as a long, multiply by 10, add 50000 and treat that as a long.</p>\n\n<p>Your second version reads: add up my variables (result is an int), multiply by 10 (which is still an int but might be overflown), add 50000 (still a possibly overflown int) and treat that as a long.</p>\n\n<p>So your fist version starts to treat the sum as a long value and reserves sufficient memory while your second version does this step at the very end, working with lower memory until then.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1582893104,"creation_date":1582892252,"answer_id":60451557,"question_id":60451346,"body_markdown":"Whenever an overflow happens, an `int` will move to the other end of the boundary as seen in the output of the following program:\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(Integer.MAX_VALUE);\r\n    \t\tSystem.out.println(Integer.MAX_VALUE + 1);\r\n    \t\tSystem.out.println(Integer.MIN_VALUE);\r\n    \t\tSystem.out.println(Integer.MIN_VALUE - 1);\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    2147483647\r\n    -2147483648\r\n    -2147483648\r\n    2147483647\r\n\r\n - In the case of `test1`, because of casting to `long`, the result of the intermediate calculation [`10*(long)(myByte + myShort + myInt)`] was stored as `long` which can accommodate the result without an overflow and hence you got the correct value.\r\n - In the case of `test2`, in lack of proper cast, the result of the intermediate calculation [`10*(myByte + myShort + myInt)`] was stored as `int` but the value overflew for  `int` and hence you got the negative value. \r\n \r\n\r\n","title":"What Happened in overflow of short vs log variables in Java","body":"<p>Whenever an overflow happens, an <code>int</code> will move to the other end of the boundary as seen in the output of the following program:</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(Integer.MAX_VALUE);\n        System.out.println(Integer.MAX_VALUE + 1);\n        System.out.println(Integer.MIN_VALUE);\n        System.out.println(Integer.MIN_VALUE - 1);\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>2147483647\n-2147483648\n-2147483648\n2147483647\n</code></pre>\n\n<ul>\n<li>In the case of <code>test1</code>, because of casting to <code>long</code>, the result of the intermediate calculation [<code>10*(long)(myByte + myShort + myInt)</code>] was stored as <code>long</code> which can accommodate the result without an overflow and hence you got the correct value.</li>\n<li>In the case of <code>test2</code>, in lack of proper cast, the result of the intermediate calculation [<code>10*(myByte + myShort + myInt)</code>] was stored as <code>int</code> but the value overflew for  <code>int</code> and hence you got the negative value. </li>\n</ul>\n"}],"owner":{"account_id":17669562,"reputation":101,"user_id":12826078,"display_name":"itay k"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60451557,"answer_count":2,"score":1,"last_activity_date":1665412151,"creation_date":1582891388,"question_id":60451346,"body_markdown":"I am new to java, and I don&#39;t understand the differences between these two:\r\n\r\nLets init some variables for the overflow:\r\n\r\n    byte myByte = 100;\r\n    short myShort = 5000 ;\r\n    int myInt = 2_000_150_000;\r\n\r\nI know whenever I got variable and arithmetic I need to do a casting with (long)   \r\n \r\n    long myLong = (long)(50_000 + 10 * (long)(myByte + myShort + myInt));\r\n    long myLong2 =(long)(50_000 + 10 * (myByte + myShort + myInt));\r\n\r\n    sysout(myLong);\r\n    sysout(myLong2);\r\n\r\n\r\nOUTPUT:\r\n\r\n    20001601000\r\n    -1473235480\r\n\r\n\r\nbut why do I need to do it outside two times?\r\n\r\nfor short type, this works differently:\r\n\r\n    short myShortTest = (short)(50_000 + 10*(short)(myByte + myInt +myShort));\r\n    short myShortTest2 = (short)(50_000 + 10*(myByte + myInt +myShort));\r\n    sysout(myShortTest);\r\n    sysout(myShortTest2);\r\n\r\nOUTPUT\r\n\r\n    13800\r\n    13800\r\n\r\n","title":"What Happened in overflow of short vs log variables in Java","body":"<p>I am new to java, and I don't understand the differences between these two:</p>\n<p>Lets init some variables for the overflow:</p>\n<pre><code>byte myByte = 100;\nshort myShort = 5000 ;\nint myInt = 2_000_150_000;\n</code></pre>\n<p>I know whenever I got variable and arithmetic I need to do a casting with (long)</p>\n<pre><code>long myLong = (long)(50_000 + 10 * (long)(myByte + myShort + myInt));\nlong myLong2 =(long)(50_000 + 10 * (myByte + myShort + myInt));\n\nsysout(myLong);\nsysout(myLong2);\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>20001601000\n-1473235480\n</code></pre>\n<p>but why do I need to do it outside two times?</p>\n<p>for short type, this works differently:</p>\n<pre><code>short myShortTest = (short)(50_000 + 10*(short)(myByte + myInt +myShort));\nshort myShortTest2 = (short)(50_000 + 10*(myByte + myInt +myShort));\nsysout(myShortTest);\nsysout(myShortTest2);\n</code></pre>\n<p>OUTPUT</p>\n<pre><code>13800\n13800\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","dependency-injection"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1665412087,"post_id":74015283,"comment_id":130688046,"body_markdown":"That has nothing to do with Spring.. Java doesn&#39;t work like that. You should be implementing the method and not change it. Your `CalculationServiceFTL` doesn&#39;t implement the `calculate` method. with the `AbstractRequest` method (and no `calculate(Request request)` isn&#39;t that method).","body":"That has nothing to do with Spring.. Java doesn&#39;t work like that. You should be implementing the method and not change it. Your <code>CalculationServiceFTL</code> doesn&#39;t implement the <code>calculate</code> method. with the <code>AbstractRequest</code> method (and no <code>calculate(Request request)</code> isn&#39;t that method)."}],"answers":[{"tags":[],"owner":{"account_id":25719058,"reputation":407,"user_id":19476294,"display_name":"Sumit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665411856,"creation_date":1665411856,"answer_id":74016430,"question_id":74015283,"body_markdown":"If you are implementing an interface you need to implement all the unimplemented methods from the interface you&#39;re implementing with the same method signature . \r\n\r\n    public interface CalculationService {\r\n        PriceResponse calculate(AbstractRequest request);\r\n    }\r\n\r\nso your implemented class should also have same implemented method with same signature like\r\n\r\n    @Service\r\n    public class CalculationServiceFTL implements CalculationService {\r\n        @Override\r\n        public PriceResponse calculate(AbstractRequest request) {\r\n        }\r\n    }\r\n\r\nSo in order to resolve this you can change the parameter type in interface class or your implemented service class so that those are same.\r\n","title":"Spring does not accept an abstract class inheritor as an argument","body":"<p>If you are implementing an interface you need to implement all the unimplemented methods from the interface you're implementing with the same method signature .</p>\n<pre><code>public interface CalculationService {\n    PriceResponse calculate(AbstractRequest request);\n}\n</code></pre>\n<p>so your implemented class should also have same implemented method with same signature like</p>\n<pre><code>@Service\npublic class CalculationServiceFTL implements CalculationService {\n    @Override\n    public PriceResponse calculate(AbstractRequest request) {\n    }\n}\n</code></pre>\n<p>So in order to resolve this you can change the parameter type in interface class or your implemented service class so that those are same.</p>\n"},{"tags":[],"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665412142,"creation_date":1665412142,"answer_id":74016493,"question_id":74015283,"body_markdown":"1. An abstract class cannot be instantiated directly but by its inheriting concrete classes.\r\n\r\n2. Any concrete class inheriting the abstract class should be instantiable with a constructor (if not abstract itself of course). But use of a constructor is prohibited by Spring because any class that we instantiate this way cannot be taken in charge by Spring’s automated dependency injection.\r\n\r\n","title":"Spring does not accept an abstract class inheritor as an argument","body":"<ol>\n<li><p>An abstract class cannot be instantiated directly but by its inheriting concrete classes.</p>\n</li>\n<li><p>Any concrete class inheriting the abstract class should be instantiable with a constructor (if not abstract itself of course). But use of a constructor is prohibited by Spring because any class that we instantiate this way cannot be taken in charge by Spring’s automated dependency injection.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25795615,"reputation":3,"user_id":19538847,"display_name":"desent"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74016493,"answer_count":2,"score":0,"last_activity_date":1665412142,"creation_date":1665406332,"question_id":74015283,"body_markdown":"I have the following problem while creating a model in Spring Boot.\r\n\r\nCreated an abstract model class - \r\n```\r\npublic abstract class AbstractRequest {\r\n    private String tariffType;\r\n}\r\n```\r\nAnd his heir\r\n```\r\npublic class Request extends AbstractRequest {\r\n   // some fields\r\n}\r\n```\r\nIn the controller I pass an abstract request\r\n```\r\n@PostMapping\r\npublic ResponseEntity&lt;PriceResponse&gt; calculate(@RequestBody AbstractRequest request) {\r\n    return ResponseEntity.ok(calculationService.calculate(request));\r\n}\r\n```\r\nThe service interface also has an abstract request class\r\n```\r\npublic interface CalculationService {\r\n    PriceResponse calculate(AbstractRequest request);\r\n}\r\n```\r\nIn the implementation of the service interface, I am trying to accept the successor of the abstract model\r\n```\r\n@Service\r\npublic class CalculationServiceFTL implements CalculationService {\r\n    @Override\r\n    public PriceResponse calculate(Request request) {\r\n    }\r\n}\r\n```\r\nAnd as a result I get an error\r\n```\r\nClass &#39;CalculationServiceFTL&#39; must either be declared abstract or implement abstract method &#39;calculate(AbstractRequest)&#39; in &#39;CalculationService&#39;\r\n```\r\nPlease explain why spring does not accept an abstract class heir as an argument and how should I be in this case if I can have several abstract model heirs and I need to process them differently in different services. Thanks","title":"Spring does not accept an abstract class inheritor as an argument","body":"<p>I have the following problem while creating a model in Spring Boot.</p>\n<p>Created an abstract model class -</p>\n<pre><code>public abstract class AbstractRequest {\n    private String tariffType;\n}\n</code></pre>\n<p>And his heir</p>\n<pre><code>public class Request extends AbstractRequest {\n   // some fields\n}\n</code></pre>\n<p>In the controller I pass an abstract request</p>\n<pre><code>@PostMapping\npublic ResponseEntity&lt;PriceResponse&gt; calculate(@RequestBody AbstractRequest request) {\n    return ResponseEntity.ok(calculationService.calculate(request));\n}\n</code></pre>\n<p>The service interface also has an abstract request class</p>\n<pre><code>public interface CalculationService {\n    PriceResponse calculate(AbstractRequest request);\n}\n</code></pre>\n<p>In the implementation of the service interface, I am trying to accept the successor of the abstract model</p>\n<pre><code>@Service\npublic class CalculationServiceFTL implements CalculationService {\n    @Override\n    public PriceResponse calculate(Request request) {\n    }\n}\n</code></pre>\n<p>And as a result I get an error</p>\n<pre><code>Class 'CalculationServiceFTL' must either be declared abstract or implement abstract method 'calculate(AbstractRequest)' in 'CalculationService'\n</code></pre>\n<p>Please explain why spring does not accept an abstract class heir as an argument and how should I be in this case if I can have several abstract model heirs and I need to process them differently in different services. Thanks</p>\n"},{"tags":["java","tomcat","web-deployment","windows-server-2012"],"comments":[{"owner":{"account_id":4435511,"reputation":4140,"user_id":3611464,"accept_rate":60,"display_name":"Rafik BELDI"},"score":0,"creation_date":1448016498,"post_id":33822496,"comment_id":55414774,"body_markdown":"add a firewall exception to server coming demands on port `8080` and you are done.","body":"add a firewall exception to server coming demands on port <code>8080</code> and you are done."},{"owner":{"account_id":4457062,"reputation":9,"user_id":3626965,"display_name":"user3626965"},"score":0,"creation_date":1448017566,"post_id":33822496,"comment_id":55415545,"body_markdown":"thank Rafik , i changed port to 80 and i can&#39;t connect &#39;104.199.140.141 &#39;, during IIS can run at port 80,","body":"thank Rafik , i changed port to 80 and i can&#39;t connect &#39;104.199.140.141 &#39;, during IIS can run at port 80,"},{"owner":{"account_id":4435511,"reputation":4140,"user_id":3611464,"accept_rate":60,"display_name":"Rafik BELDI"},"score":0,"creation_date":1448017614,"post_id":33822496,"comment_id":55415569,"body_markdown":"that&#39;s a bad idea , IIS is running on that port","body":"that&#39;s a bad idea , IIS is running on that port"},{"owner":{"account_id":4435511,"reputation":4140,"user_id":3611464,"accept_rate":60,"display_name":"Rafik BELDI"},"score":0,"creation_date":1448017650,"post_id":33822496,"comment_id":55415598,"body_markdown":"just add firewall incoming /outcoming demans for port 8080 and it will work","body":"just add firewall incoming /outcoming demans for port 8080 and it will work"}],"owner":{"account_id":4457062,"reputation":9,"user_id":3626965,"display_name":"user3626965"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1665411661,"creation_date":1448009686,"question_id":33822496,"body_markdown":"I want to deploy a java website in google VPS. I use tomcat and I deployed it to my running location in Windows Server 2012 at    \r\n\r\n    &quot;localhost:8080/LocationNote/login/account&quot;\r\n\r\nbut it does not run \r\n\r\n    &quot;104.199.140.141:8080/LocationNote/login/account&quot;\r\n\r\n`104.199.140.141` is my server IP.\r\n\r\nHow can clients connect to \r\n\r\n    http://104.199.140.141:8080/LocationNote/login/account\r\n","title":"Why can&#39;t users access my Java website running on Windows via an IP address?","body":"<p>I want to deploy a java website in google VPS. I use tomcat and I deployed it to my running location in Windows Server 2012 at</p>\n<pre><code>&quot;localhost:8080/LocationNote/login/account&quot;\n</code></pre>\n<p>but it does not run</p>\n<pre><code>&quot;104.199.140.141:8080/LocationNote/login/account&quot;\n</code></pre>\n<p><code>104.199.140.141</code> is my server IP.</p>\n<p>How can clients connect to</p>\n<pre><code>http://104.199.140.141:8080/LocationNote/login/account\n</code></pre>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1665291111,"post_id":74002184,"comment_id":130663342,"body_markdown":"https://projectlombok.org/api/lombok/experimental/Accessors#chain()","body":"<a href=\"https://projectlombok.org/api/lombok/experimental/Accessors#chain()\" rel=\"nofollow noreferrer\">projectlombok.org/api/lombok/experimental/Accessors#chain()</a>"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1665291428,"post_id":74002184,"comment_id":130663371,"body_markdown":"For any class of yours, and for any superclass of any of your subclasses, you&#39;re free to add setters that return a copy of their object.  If there are name conflicts with existing setters, you&#39;ll have to pick an alternate name, but you can generally build up your own fluent interfaces on top of most any object in Java.  And then there&#39;s Lombok and other frameworks that can generalize the idea.  Or switch to Kotlin, which gives you a more powerful system for extending objects only way you wantl.","body":"For any class of yours, and for any superclass of any of your subclasses, you&#39;re free to add setters that return a copy of their object.  If there are name conflicts with existing setters, you&#39;ll have to pick an alternate name, but you can generally build up your own fluent interfaces on top of most any object in Java.  And then there&#39;s Lombok and other frameworks that can generalize the idea.  Or switch to Kotlin, which gives you a more powerful system for extending objects only way you wantl."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665306232,"post_id":74002184,"comment_id":130665262,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23876405,"reputation":61,"user_id":17877535,"display_name":"SwordOfSouls"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1665411653,"creation_date":1665292490,"answer_id":74002300,"question_id":74002184,"body_markdown":"Answer solved with [Accessors][1]. \r\n\r\n    @Accessor(chain=true)\r\n\r\nOver any class which you&#39;d like to have chained.\r\n\r\n  [1]: https://projectlombok.org/api/lombok/experimental/Accessors#chain()","title":"Annotated setters that return class insance","body":"<p>Answer solved with <a href=\"https://projectlombok.org/api/lombok/experimental/Accessors#chain()\" rel=\"nofollow noreferrer\">Accessors</a>.</p>\n<pre><code>@Accessor(chain=true)\n</code></pre>\n<p>Over any class which you'd like to have chained.</p>\n"}],"owner":{"account_id":23876405,"reputation":61,"user_id":17877535,"display_name":"SwordOfSouls"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74002300,"answer_count":1,"score":1,"last_activity_date":1665411653,"creation_date":1665290705,"question_id":74002184,"body_markdown":"For some time now I have been bothered by the lack of fluent interface setters. I am aware of Lomboks system however the generated functions still return a void. Would it be possible/and how to make a setter to return its class instance? Thanks","title":"Annotated setters that return class insance","body":"<p>For some time now I have been bothered by the lack of fluent interface setters. I am aware of Lomboks system however the generated functions still return a void. Would it be possible/and how to make a setter to return its class instance? Thanks</p>\n"},{"tags":["java","hibernate","oracle19c","oracle-wallet"],"answers":[{"tags":[],"owner":{"account_id":3200009,"reputation":7174,"user_id":2702249,"accept_rate":57,"display_name":"Om Sao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665411461,"creation_date":1665398765,"answer_id":74013695,"question_id":74002602,"body_markdown":"The issue in my case was because of proxy setting. As I was connecting through Oracle&#39;s OCI Autonomous Database Wallet.\r\nI tried setting proxy using `System` class. Something like below: \r\n\r\n    System.setProperty(&quot;https.proxyHost&quot;, &quot;&lt;proxy host&gt;&quot;);\r\n    System.setProperty(&quot;https.proxyPort&quot;, &quot;80&quot;);\r\n    System.setProperty(&quot;http.proxyHost&quot;, &quot;&lt;proxy host&gt;&quot;);\r\n    System.setProperty(&quot;http.proxyPort&quot;, &quot;80&quot;);\r\n\r\n\r\n**That didn&#39;t work**.\r\n\r\n\r\nSo, I used proxy directly on my wallet. I provided path of Wallet in my `persistence.xml` as shown: \r\n\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:oracle:thin:@db_high?TNS_ADMIN=Absolute path of DB Wallet&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;TEST&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;db123&quot;/&gt;\r\n\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle12cDialect&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot; value=&quot;false&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.jdbc.use_get_generated_keys&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.jdbc.use_scrollable_resultset&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults&quot; value=&quot;false&quot; /&gt;\r\n\r\n\r\n            &lt;property name=&quot;hibernate.jdbc.batch_size&quot; value=&quot;1000&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.jdbc.batch_versioned_data&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.order_inserts&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.order_updates&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot; value=&quot;false&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.connection.autocommit&quot; value=&quot;false&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.generate_statistics&quot; value=&quot;false&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.use_sql_comments&quot; value=&quot;false&quot; /&gt; \r\n\r\nAs the `alias` is `db_high` here, so apply proxy as shown below in `tnsnames.ora` inside the `WALLET_DB` directory.\r\n\r\n    db_high = (description= (retry_count=20)(retry_delay=3)(address=(https_proxy=PROXY-URL)(https_proxy_port=PROXY_PORT)(protocol=tcps)(port=1522)(host=HOST))(connect_data=(service_name=SERVICE-HOST))(security=(ssl_server_cert_dn=&quot;CN=SOME-HOST, OU=Oracle BMCS US, O=Corporation, L=CITYNAME, ST=California, C=US&quot;)))\r\n\r\n\r\nPlease note the `https_proxy` and `https_proxy_port` here.","title":"Execution stuck: Hibernate + Oracle DB with Wallet : DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)","body":"<p>The issue in my case was because of proxy setting. As I was connecting through Oracle's OCI Autonomous Database Wallet.\nI tried setting proxy using <code>System</code> class. Something like below:</p>\n<pre><code>System.setProperty(&quot;https.proxyHost&quot;, &quot;&lt;proxy host&gt;&quot;);\nSystem.setProperty(&quot;https.proxyPort&quot;, &quot;80&quot;);\nSystem.setProperty(&quot;http.proxyHost&quot;, &quot;&lt;proxy host&gt;&quot;);\nSystem.setProperty(&quot;http.proxyPort&quot;, &quot;80&quot;);\n</code></pre>\n<p><strong>That didn't work</strong>.</p>\n<p>So, I used proxy directly on my wallet. I provided path of Wallet in my <code>persistence.xml</code> as shown:</p>\n<pre><code>        &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot;/&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:oracle:thin:@db_high?TNS_ADMIN=Absolute path of DB Wallet&quot;/&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;TEST&quot;/&gt;\n        &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;db123&quot;/&gt;\n\n        &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle12cDialect&quot; /&gt;\n        &lt;property name=&quot;hibernate.temp.use_jdbc_metadata_defaults&quot; value=&quot;false&quot; /&gt;\n        &lt;property name=&quot;hibernate.jdbc.use_get_generated_keys&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;hibernate.jdbc.use_scrollable_resultset&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults&quot; value=&quot;false&quot; /&gt;\n\n\n        &lt;property name=&quot;hibernate.jdbc.batch_size&quot; value=&quot;1000&quot; /&gt;\n        &lt;property name=&quot;hibernate.jdbc.batch_versioned_data&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;hibernate.order_inserts&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;hibernate.order_updates&quot; value=&quot;true&quot; /&gt;\n        &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot; value=&quot;false&quot; /&gt;\n        &lt;property name=&quot;hibernate.connection.autocommit&quot; value=&quot;false&quot; /&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;false&quot; /&gt;\n        &lt;property name=&quot;hibernate.generate_statistics&quot; value=&quot;false&quot; /&gt;\n        &lt;property name=&quot;hibernate.use_sql_comments&quot; value=&quot;false&quot; /&gt; \n</code></pre>\n<p>As the <code>alias</code> is <code>db_high</code> here, so apply proxy as shown below in <code>tnsnames.ora</code> inside the <code>WALLET_DB</code> directory.</p>\n<pre><code>db_high = (description= (retry_count=20)(retry_delay=3)(address=(https_proxy=PROXY-URL)(https_proxy_port=PROXY_PORT)(protocol=tcps)(port=1522)(host=HOST))(connect_data=(service_name=SERVICE-HOST))(security=(ssl_server_cert_dn=&quot;CN=SOME-HOST, OU=Oracle BMCS US, O=Corporation, L=CITYNAME, ST=California, C=US&quot;)))\n</code></pre>\n<p>Please note the <code>https_proxy</code> and <code>https_proxy_port</code> here.</p>\n"}],"owner":{"account_id":3200009,"reputation":7174,"user_id":2702249,"accept_rate":57,"display_name":"Om Sao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74013695,"answer_count":1,"score":0,"last_activity_date":1665411461,"creation_date":1665297368,"question_id":74002602,"body_markdown":"When working with `Hibernate` and Oracle DB with Wallet. \r\nGetting below error: \r\n\r\n&gt; org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl\r\n&gt; HHH000115: Hibernate connection pool size: 20 (min=1)\r\n\r\nI am trying currently with \r\n\r\n**Java/JDK**:  17\r\n\r\n**Hibernate**: &#39;org.hibernate:hibernate-core:5.4.27.Final&#39;\r\n\r\n**Oracle Autonomous DB**: 19c connection via wallet.\r\n\r\n\r\nI tried with different version of JDK(8 and 11) and Hibernate(5.3.xx, 6.4.xx, 5.2.xx). Same error everytime.\r\n","title":"Execution stuck: Hibernate + Oracle DB with Wallet : DriverManagerConnectionProviderImpl - HHH000115: Hibernate connection pool size: 20 (min=1)","body":"<p>When working with <code>Hibernate</code> and Oracle DB with Wallet.\nGetting below error:</p>\n<blockquote>\n<p>org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl\nHHH000115: Hibernate connection pool size: 20 (min=1)</p>\n</blockquote>\n<p>I am trying currently with</p>\n<p><strong>Java/JDK</strong>:  17</p>\n<p><strong>Hibernate</strong>: 'org.hibernate:hibernate-core:5.4.27.Final'</p>\n<p><strong>Oracle Autonomous DB</strong>: 19c connection via wallet.</p>\n<p>I tried with different version of JDK(8 and 11) and Hibernate(5.3.xx, 6.4.xx, 5.2.xx). Same error everytime.</p>\n"},{"tags":["javascript","java","selenium","automated-tests","selenide"],"comments":[{"owner":{"account_id":1125173,"reputation":2801,"user_id":1112631,"display_name":"Nils K&#228;hler"},"score":0,"creation_date":1665406963,"post_id":74015002,"comment_id":130686121,"body_markdown":"Are you trying to set an attribute named `value` or append an element to the `pre` element?","body":"Are you trying to set an attribute named <code>value</code> or append an element to the <code>pre</code> element?"},{"owner":{"account_id":18141370,"reputation":143,"user_id":13762114,"display_name":"Otto Rahn"},"score":0,"creation_date":1665408908,"post_id":74015002,"comment_id":130686821,"body_markdown":"@Nils K&#228;hler i am trying to enter text in pre field","body":"@Nils K&#228;hler i am trying to enter text in pre field"},{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1665411651,"post_id":74015002,"comment_id":130687859,"body_markdown":"Pls port your URL","body":"Pls port your URL"}],"answers":[{"tags":[],"owner":{"account_id":1125173,"reputation":2801,"user_id":1112631,"display_name":"Nils K&#228;hler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665411457,"creation_date":1665411457,"answer_id":74016323,"question_id":74015002,"body_markdown":"If you are trying to append to the content of the `pre` tag then use something like `executeJavaScript(&quot;arguments[0].append(&#39;RESPONSE&#39;)&quot;, element);`. That should append the response to the element in `arguments[0]`.\r\n\r\nIf you are trying to set an attribute named `value` to the `pre` element. Then `&quot;arguments[0].setAttribute(&#39;value&#39;, &#39;RESPONSE&#39;)&quot;` sets `&lt;pre role=&#39;presentation&#39; value=&quot;RESPONSE&quot;&gt;`. \r\n\r\n\r\n","title":"How to write in pre tag?","body":"<p>If you are trying to append to the content of the <code>pre</code> tag then use something like <code>executeJavaScript(&quot;arguments[0].append('RESPONSE')&quot;, element);</code>. That should append the response to the element in <code>arguments[0]</code>.</p>\n<p>If you are trying to set an attribute named <code>value</code> to the <code>pre</code> element. Then <code>&quot;arguments[0].setAttribute('value', 'RESPONSE')&quot;</code> sets <code>&lt;pre role='presentation' value=&quot;RESPONSE&quot;&gt;</code>.</p>\n"}],"owner":{"account_id":18141370,"reputation":143,"user_id":13762114,"display_name":"Otto Rahn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74016323,"answer_count":1,"score":1,"last_activity_date":1665411457,"creation_date":1665405151,"question_id":74015002,"body_markdown":"I can&#39;t write value to field using Selenium .sendKeys. So I use jsCode:\r\n\r\n    element = xpath(//pre[@role=&#39;presentation&#39;])\r\n\r\n\r\n    executeJavaScript(&quot;arguments[0].value=&#39;RESPONSE&#39;;&quot;, element)\r\n\r\nand\r\n\r\n    executeJavaScript(&quot;arguments[0].setAttribute(&#39;value&#39;, &#39;RESPONSE&#39;)&quot;, element);\r\n\r\nI can&#39;t understand why these methods don&#39;t work - the test passes but the value is not written to the field\r\n\r\n`$(&quot;div pre&quot;).append(&quot;RESPONSE&quot;)` - work in devTools\r\n\r\nFull html code:\r\n\r\n    &lt;body&gt;\r\n    \t&lt;div style=&quot;position: relative;&quot;&gt;\r\n    \t\t&lt;div aria-hidden=&quot;true&quot; class=&quot;CodeMirror-gutter-wrapper&quot; style=&quot;left: -30px;&quot;&gt;\r\n    \t\t\t&lt;div class=&quot;CodeMirror-linenumber CodeMirror-gutter-elt&quot; style=&quot;left: 0px; width: 21px;&quot;&gt;\r\n    \t\t\t\t1\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t\t&lt;pre class=&quot;CodeMirror-line&quot; role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot; style=&quot;padding-right: 0.1px;&quot;&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;\r\n    \t&lt;/div&gt;\r\n    &lt;/body&gt;","title":"How to write in pre tag?","body":"<p>I can't write value to field using Selenium .sendKeys. So I use jsCode:</p>\n<pre><code>element = xpath(//pre[@role='presentation'])\n\n\nexecuteJavaScript(&quot;arguments[0].value='RESPONSE';&quot;, element)\n</code></pre>\n<p>and</p>\n<pre><code>executeJavaScript(&quot;arguments[0].setAttribute('value', 'RESPONSE')&quot;, element);\n</code></pre>\n<p>I can't understand why these methods don't work - the test passes but the value is not written to the field</p>\n<p><code>$(&quot;div pre&quot;).append(&quot;RESPONSE&quot;)</code> - work in devTools</p>\n<p>Full html code:</p>\n<pre><code>&lt;body&gt;\n    &lt;div style=&quot;position: relative;&quot;&gt;\n        &lt;div aria-hidden=&quot;true&quot; class=&quot;CodeMirror-gutter-wrapper&quot; style=&quot;left: -30px;&quot;&gt;\n            &lt;div class=&quot;CodeMirror-linenumber CodeMirror-gutter-elt&quot; style=&quot;left: 0px; width: 21px;&quot;&gt;\n                1\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;pre class=&quot;CodeMirror-line&quot; role=&quot;presentation&quot;&gt;&lt;span role=&quot;presentation&quot; style=&quot;padding-right: 0.1px;&quot;&gt;&lt;span&gt;​&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":["java","install4j"],"comments":[{"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"score":1,"creation_date":1566814576,"post_id":57557144,"comment_id":101761600,"body_markdown":"Thanks for your edit to fix my answer, others have rejected it, but I have now applied it. Checking `infos` for null is not necessary, because the returned array is empty if there are no matching installations.","body":"Thanks for your edit to fix my answer, others have rejected it, but I have now applied it. Checking <code>infos</code> for null is not necessary, because the returned array is empty if there are no matching installations."}],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1566814466,"creation_date":1566221580,"answer_id":57557832,"question_id":57557144,"body_markdown":"The previous version is stored in the registry and as of install4j 8.0 the 64-bit installer does not check the 32-bit registry for previous installations to prevent a 64-bit installation ending up in the 32-bit program files directory.\r\n\r\nTo uninstall the 32-bit installation, add a &quot;Set a variable&quot; action to the &quot;Startup&quot; node of the installer, with the variable name &quot;previousDir&quot; and the script\r\n\r\n    if (!context.isUpdateInstallation()) {\r\n        ApplicationRegistry.ApplicationInfo[] infos = \r\n            ApplicationRegistry.getApplicationInfoById(context.getApplicationId());\r\n        if (infos.length &gt; 0) {\r\n            return infos[0].getInstallationDirectory().getPath();\r\n        }\r\n    }\r\n    return null;\r\n\r\nThen add an &quot;Execute previous uninstaller&quot; action to the &quot;Installation&quot; screen before the &quot;Install files&quot; action with the &quot;Installation directory&quot; property set to \r\n\r\n    ${installer:previousDir}\r\n\r\nand a condition expression of \r\n\r\n    context.getVariable(&quot;previousDir&quot;) != null\r\n\r\n","title":"Install4j 64-bit Setup doesn&#39;t uninstall previous 32-bit Version","body":"<p>The previous version is stored in the registry and as of install4j 8.0 the 64-bit installer does not check the 32-bit registry for previous installations to prevent a 64-bit installation ending up in the 32-bit program files directory.</p>\n\n<p>To uninstall the 32-bit installation, add a \"Set a variable\" action to the \"Startup\" node of the installer, with the variable name \"previousDir\" and the script</p>\n\n<pre><code>if (!context.isUpdateInstallation()) {\n    ApplicationRegistry.ApplicationInfo[] infos = \n        ApplicationRegistry.getApplicationInfoById(context.getApplicationId());\n    if (infos.length &gt; 0) {\n        return infos[0].getInstallationDirectory().getPath();\n    }\n}\nreturn null;\n</code></pre>\n\n<p>Then add an \"Execute previous uninstaller\" action to the \"Installation\" screen before the \"Install files\" action with the \"Installation directory\" property set to </p>\n\n<pre><code>${installer:previousDir}\n</code></pre>\n\n<p>and a condition expression of </p>\n\n<pre><code>context.getVariable(\"previousDir\") != null\n</code></pre>\n"}],"owner":{"account_id":8589997,"reputation":189,"user_id":6434881,"display_name":"Gregor G."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57557832,"answer_count":1,"score":2,"last_activity_date":1665411229,"creation_date":1566219059,"question_id":57557144,"body_markdown":"We changed our Application from 32-bit to 64-bit with the last version increase but now our installer doesn&#39;t recognize when there is a previous version installed, so it doesn&#39;t unistall the previous version when installing the new one.\r\n\r\nExample:\r\nApp version 1.0.0 32-bit\r\nApp version 2.0.0 32-bit\r\nApp version 3.0.0 64-bit\r\n\r\nApp version 1.0.0 is installed and version 2.0.0 installer is executed -&gt; App version 1.0.0 gets uninstalled and version 2.0.0 installed.\r\n\r\nApp version 2.0.0 is installed and version 3.0.0 installer is executed -&gt;\r\nApp version 2.0.0 is not touched and version 3.0.0 gets installed.\r\n\r\nWe didn&#39;t change the Application id.\r\n\r\nVersion 2.0.0 Setup was generated with Install4j 6.1.6 and Version 3.0.0 gets generated with 7.0.10","title":"Install4j 64-bit Setup doesn&#39;t uninstall previous 32-bit Version","body":"<p>We changed our Application from 32-bit to 64-bit with the last version increase but now our installer doesn't recognize when there is a previous version installed, so it doesn't unistall the previous version when installing the new one.</p>\n\n<p>Example:\nApp version 1.0.0 32-bit\nApp version 2.0.0 32-bit\nApp version 3.0.0 64-bit</p>\n\n<p>App version 1.0.0 is installed and version 2.0.0 installer is executed -> App version 1.0.0 gets uninstalled and version 2.0.0 installed.</p>\n\n<p>App version 2.0.0 is installed and version 3.0.0 installer is executed ->\nApp version 2.0.0 is not touched and version 3.0.0 gets installed.</p>\n\n<p>We didn't change the Application id.</p>\n\n<p>Version 2.0.0 Setup was generated with Install4j 6.1.6 and Version 3.0.0 gets generated with 7.0.10</p>\n"},{"tags":["java","selenium","xpath","drop-down-menu","dropdown"],"comments":[{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":1,"creation_date":1664983108,"post_id":73962596,"comment_id":130594109,"body_markdown":"Does this answer your question? [How to select a dropdown value in Selenium WebDriver using Java](https://stackoverflow.com/questions/20138761/how-to-select-a-dropdown-value-in-selenium-webdriver-using-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20138761/how-to-select-a-dropdown-value-in-selenium-webdriver-using-java\">How to select a dropdown value in Selenium WebDriver using Java</a>"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664983422,"post_id":73962596,"comment_id":130594228,"body_markdown":"@SiKing i did this but it did not worked: \tSelect dropdown = new Select(driver.findElement(By.xpath(&quot;//*[@id=\\&quot;APMNRVR\\&quot;]&quot;)));\n\tThread.sleep(6000);\n\tdropdown.selectByVisibleText(&quot;PU - 21&quot;);","body":"@SiKing i did this but it did not worked: \tSelect dropdown = new Select(driver.findElement(By.xpath(&quot;//*[@id=\\&quot;APMNRVR\\&quot;]&quot;)))&zwnj;&#8203;; \tThread.sleep(6000); \tdropdown.selectByVisibleText(&quot;PU - 21&quot;);"},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1664997204,"post_id":73962596,"comment_id":130598760,"body_markdown":"Can you explain &quot;it did not work&quot;?","body":"Can you explain &quot;it did not work&quot;?"},{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1664997263,"post_id":73962596,"comment_id":130598786,"body_markdown":"Also, you can trim your code to use just `By.id(&quot;N2JWY3F&quot;)` instead of that mess of escaped quotes.","body":"Also, you can trim your code to use just <code>By.id(&quot;N2JWY3F&quot;)</code> instead of that mess of escaped quotes."}],"answers":[{"tags":[],"owner":{"account_id":14975034,"reputation":171,"user_id":10810717,"display_name":"Pooja Jadhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664987633,"creation_date":1664987633,"answer_id":73963577,"question_id":73962596,"body_markdown":"I&#39;m guessing the drop-down isn&#39;t being clicked properly; can you check if &quot;/*[@id=&quot;N2JWY3F&quot;]&quot; has only one match, and if so, maybe you can experiment with some other attributes:\r\n\r\n```\r\ndriver.findElement(By.id(&quot;N2JWY3F&quot;));\r\nOR\r\ndriver.findElement(By.name(&quot;product[business_line]&quot;));\r\nOR\r\ndriver.findElement(By.className(&quot;admin__control-select&quot;));\r\n```\r\n\r\nIf updating the locator does not work, make sure the page is loaded and the drop-down menu is enabled before clicking. You can either wait or make sure the drop-down menu is visible on the page.","title":"How to select an option from a dropdown using Selenium","body":"<p>I'm guessing the drop-down isn't being clicked properly; can you check if &quot;/*[@id=&quot;N2JWY3F&quot;]&quot; has only one match, and if so, maybe you can experiment with some other attributes:</p>\n<pre><code>driver.findElement(By.id(&quot;N2JWY3F&quot;));\nOR\ndriver.findElement(By.name(&quot;product[business_line]&quot;));\nOR\ndriver.findElement(By.className(&quot;admin__control-select&quot;));\n</code></pre>\n<p>If updating the locator does not work, make sure the page is loaded and the drop-down menu is enabled before clicking. You can either wait or make sure the drop-down menu is visible on the page.</p>\n"},{"tags":[],"owner":{"account_id":26315879,"reputation":36,"user_id":19978672,"display_name":"GabrielFethi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665410960,"creation_date":1664993218,"answer_id":73964548,"question_id":73962596,"body_markdown":"To select a value from the dropdown on the DOM you can utilize the [Select][1] class in Selenium.\r\n\r\n```\r\nSelect drpDown = new Select(driver.findElement(By.id(&quot;N2JWY3F&quot;)));\r\ndrpDown.selectByVisibleText(&quot;PU - 21&quot;);\r\n```\r\n\r\nBasically first assign the dropdown to the Select class drpDown and then use one of the available methods to get the option you want.\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/Select.html","title":"How to select an option from a dropdown using Selenium","body":"<p>To select a value from the dropdown on the DOM you can utilize the <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/Select.html\" rel=\"nofollow noreferrer\">Select</a> class in Selenium.</p>\n<pre><code>Select drpDown = new Select(driver.findElement(By.id(&quot;N2JWY3F&quot;)));\ndrpDown.selectByVisibleText(&quot;PU - 21&quot;);\n</code></pre>\n<p>Basically first assign the dropdown to the Select class drpDown and then use one of the available methods to get the option you want.</p>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665410960,"creation_date":1664982953,"question_id":73962596,"body_markdown":"I have this dropdown:\r\n\r\n```html\r\n&lt;select class=&quot;admin__control-select&quot; data-bind=&quot;\r\n    attr: {\r\n        name: inputName,\r\n        id: uid,\r\n        disabled: disabled,\r\n        &#39;aria-describedby&#39;: noticeId\r\n    },\r\n    hasFocus: focused,\r\n    optgroup: options,\r\n    value: value,\r\n    optionsCaption: caption,\r\n    optionsValue: &#39;value&#39;,\r\n    optionsText: &#39;label&#39;&quot; name=&quot;product[business_line]&quot; id=&quot;N2JWY3F&quot; aria-describedby=&quot;notice-N2JWY3F&quot;&gt;&lt;option value=&quot;&quot;&gt; &lt;/option&gt;&lt;option data-title=&quot;PU - 21&quot; value=&quot;425&quot;&gt;PU - 21&lt;/option&gt;&lt;option data-title=&quot;PU - 35&quot; value=&quot;430&quot;&gt;PU - 35&lt;/option&gt;&lt;/select&gt;\r\n```\r\n\r\nThe XPath is:\r\n\r\n    //*[@id=&quot;N2JWY3F&quot;]\r\n\r\n\r\nIt has 2 options available: PU - 21 and PU - 35. I want to select the option: PU - 21.\r\n\r\nI did this:\r\n\r\nFirst, click on that dropdown:\r\n\r\n```java\r\ndriver.findElement(By.xpath(&quot;//*[@id=\\&quot;N2JWY3F\\&quot;]&quot;)).click();\r\n```\r\n\r\nHow can I specify the option that I want? I tried different things and not one worked.","title":"How to select an option from a dropdown using Selenium","body":"<p>I have this dropdown:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;select class=&quot;admin__control-select&quot; data-bind=&quot;\n    attr: {\n        name: inputName,\n        id: uid,\n        disabled: disabled,\n        'aria-describedby': noticeId\n    },\n    hasFocus: focused,\n    optgroup: options,\n    value: value,\n    optionsCaption: caption,\n    optionsValue: 'value',\n    optionsText: 'label'&quot; name=&quot;product[business_line]&quot; id=&quot;N2JWY3F&quot; aria-describedby=&quot;notice-N2JWY3F&quot;&gt;&lt;option value=&quot;&quot;&gt; &lt;/option&gt;&lt;option data-title=&quot;PU - 21&quot; value=&quot;425&quot;&gt;PU - 21&lt;/option&gt;&lt;option data-title=&quot;PU - 35&quot; value=&quot;430&quot;&gt;PU - 35&lt;/option&gt;&lt;/select&gt;\n</code></pre>\n<p>The XPath is:</p>\n<pre><code>//*[@id=&quot;N2JWY3F&quot;]\n</code></pre>\n<p>It has 2 options available: PU - 21 and PU - 35. I want to select the option: PU - 21.</p>\n<p>I did this:</p>\n<p>First, click on that dropdown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.findElement(By.xpath(&quot;//*[@id=\\&quot;N2JWY3F\\&quot;]&quot;)).click();\n</code></pre>\n<p>How can I specify the option that I want? I tried different things and not one worked.</p>\n"},{"tags":["java","java-8","java-11","javacompiler"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665406564,"post_id":74014287,"comment_id":130685940,"body_markdown":"I think if you&#39;re looking for particular icons to use as resources, it would probably be not such a good idea to bank on finding those resources &#39;automatically&#39; in your current runtime. So it would be better to package them with your app as your own resources. A quick workaround would be to include in your classpath resources.jar of your Java 8 runtime. It should find the icons then","body":"I think if you&#39;re looking for particular icons to use as resources, it would probably be not such a good idea to bank on finding those resources &#39;automatically&#39; in your current runtime. So it would be better to package them with your app as your own resources. A quick workaround would be to include in your classpath resources.jar of your Java 8 runtime. It should find the icons then"},{"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"score":0,"creation_date":1665418683,"post_id":74014287,"comment_id":130690509,"body_markdown":"I think you need to tinker the VM arguments a bit to &quot;opens&quot; the desktop module: `--opens java.desktop/javax.swing.plaf.metal=ALL-UNNAMED`. You probably don&#39;t have access to the icons from the JDK package at all.","body":"I think you need to tinker the VM arguments a bit to &quot;opens&quot; the desktop module: <code>--opens java.desktop&#47;javax.swing.plaf.metal=ALL-UNNAMED</code>. You probably don&#39;t have access to the icons from the JDK package at all."}],"answers":[{"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665406077,"creation_date":1665403102,"answer_id":74014608,"question_id":74014287,"body_markdown":"In OpenJDK 11 don&#39;t include that resources.jar library by default. So you have to manually add the resources jar file.\r\n\r\nIf you check the java 8 lib directory there is a `resources.jar` file that contains all those icons. In OpenJDK 11 it does not exist. like XML bind and other libraries removed from the standard java 11 package.\r\n\r\nPlease add external library and use your code to get resource.","title":"Get Resource in openjdk 11","body":"<p>In OpenJDK 11 don't include that resources.jar library by default. So you have to manually add the resources jar file.</p>\n<p>If you check the java 8 lib directory there is a <code>resources.jar</code> file that contains all those icons. In OpenJDK 11 it does not exist. like XML bind and other libraries removed from the standard java 11 package.</p>\n<p>Please add external library and use your code to get resource.</p>\n"},{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665410778,"creation_date":1665408823,"answer_id":74015772,"question_id":74014287,"body_markdown":"You have to use the jrt file system to access embedded resources:\r\n\r\n    FileSystem jrt = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;))\r\n    Path p1 = jrt.getPath(&quot;/modules/java.desktop/com/sun/java/swing/plaf/windows/icons/ListView.gif&quot;);\r\n    Path p2 = jrt.getPath(&quot;/modules/java.desktop/javax/swing/plaf/metal/icons/ocean/expanded.gif&quot;);\r\n\r\nNote also that the path needs `/modules/java.desktop` in front.\r\n\r\nFrom there you can interact with the paths using the methods in the [`Files`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/file/Files.html) class. For instance:\r\n\r\n    try (InputStream is = Files.newInputStream(p1)) {\r\n        // use is\r\n    }","title":"Get Resource in openjdk 11","body":"<p>You have to use the jrt file system to access embedded resources:</p>\n<pre><code>FileSystem jrt = FileSystems.getFileSystem(URI.create(&quot;jrt:/&quot;))\nPath p1 = jrt.getPath(&quot;/modules/java.desktop/com/sun/java/swing/plaf/windows/icons/ListView.gif&quot;);\nPath p2 = jrt.getPath(&quot;/modules/java.desktop/javax/swing/plaf/metal/icons/ocean/expanded.gif&quot;);\n</code></pre>\n<p>Note also that the path needs <code>/modules/java.desktop</code> in front.</p>\n<p>From there you can interact with the paths using the methods in the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/file/Files.html\" rel=\"nofollow noreferrer\"><code>Files</code></a> class. For instance:</p>\n<pre><code>try (InputStream is = Files.newInputStream(p1)) {\n    // use is\n}\n</code></pre>\n"}],"owner":{"account_id":15973766,"reputation":1,"user_id":11527184,"display_name":"Samir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665410778,"creation_date":1665401620,"question_id":74014287,"body_markdown":"```\r\nClassx.class.getResource(&quot;/com/sun/java/swing/plaf/windows/icons/ListView.gif&quot;);\r\n```\r\n```\r\nClassx.class.getResource(&quot;/javax/swing/plaf/metal/icons/ocean/expanded.gif&quot;);\r\n```\r\n\r\nHow can I get resource on JDK 11, which is working on JDK 8?\r\n\r\nI have tried getClass(), ClassLoader, but I am getting null.\r\n\r\n[Error Image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E91DH.png","title":"Get Resource in openjdk 11","body":"<pre><code>Classx.class.getResource(&quot;/com/sun/java/swing/plaf/windows/icons/ListView.gif&quot;);\n</code></pre>\n<pre><code>Classx.class.getResource(&quot;/javax/swing/plaf/metal/icons/ocean/expanded.gif&quot;);\n</code></pre>\n<p>How can I get resource on JDK 11, which is working on JDK 8?</p>\n<p>I have tried getClass(), ClassLoader, but I am getting null.</p>\n<p><a href=\"https://i.stack.imgur.com/E91DH.png\" rel=\"nofollow noreferrer\">Error Image</a></p>\n"},{"tags":["java","spring","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":26557785,"reputation":159,"user_id":20186121,"display_name":"Abhishek Kumar Jena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665410516,"creation_date":1665410516,"answer_id":74016119,"question_id":74013846,"body_markdown":"If you want to generate Id as the string then use generator=&quot;uuid&quot; as follows\r\n\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    private String id;\r\n\r\n    private String name;\r\ntry it and let me know","title":"Spring + ElasticSearch - How to bulk create or update document with autogenerated string _id/id","body":"<p>If you want to generate Id as the string then use generator=&quot;uuid&quot; as follows</p>\n<pre><code>@Id\n@GeneratedValue(generator = &quot;uuid&quot;)\n@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\nprivate String id;\n\nprivate String name;\n</code></pre>\n<p>try it and let me know</p>\n"}],"owner":{"account_id":26579158,"reputation":7,"user_id":20204076,"display_name":"Java2Avaj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665410516,"creation_date":1665399534,"question_id":74013846,"body_markdown":"currently, we are forcing the _id of the elastic search documents by setting the id field. This simplifies the design, as it allows to perform updates and/or creation of new documents without previously knowing whether a document is already present in the index. \r\n\r\nFor example, this is the class representing the document:\r\n\r\n    @Data\r\n    @Document(indexName = &quot;person&quot;)\r\n    public class Person {\r\n    \r\n      @Id\r\n      private String id;\r\n      \r\n      private String name;\r\n    }\r\n\r\nand this is the method for bulk create or update:\r\n\r\n     public void bulkCreateOrUpdate(final List&lt;Person&gt; personList) {\r\n    \r\n        List&lt;UpdateQuery&gt; updateList = new ArrayList&lt;&gt;();\r\n    \r\n        for (Person person : personList) {\r\n          UpdateQuery updateQuery = UpdateQuery.builder(person.getId())\r\n              .withDocument(this.operations.getElasticsearchConverter().mapObject(person))\r\n              .withDocAsUpsert(true)\r\n              .build();\r\n          updateList.add(updateQuery);\r\n        }\r\n    \r\n        this.operations.bulkUpdate(updateList,\r\n            this.operations.getIndexCoordinatesFor(this.entityClass));\r\n      }\r\n\r\nWhen saved, this is what it produces:\r\n\r\n      {\r\n        &quot;_index&quot;: &quot;person&quot;,\r\n        &quot;_type&quot;: &quot;_doc&quot;,\r\n        &quot;_id&quot;: &quot;10001&quot;,\r\n        &quot;_score&quot;: 1.0,\r\n        &quot;_source&quot;: {\r\n            &quot;_class&quot;: &quot;com.app.Person&quot;,\r\n            &quot;id&quot;: &quot;10001&quot;,\r\n            &quot;name&quot;: &quot;Miguelito&quot;,\r\n        }\r\n\r\nHow/what to modify the code so that the _id is autogenerated during saving? Is there an annotation that can be used on id field or is there a need to modify the bulkCreateOrUpdate implementation? The expected output is this:\r\n\r\n      {\r\n            &quot;_index&quot;: &quot;person&quot;,\r\n            &quot;_type&quot;: &quot;_doc&quot;,\r\n            &quot;_id&quot;: &quot;qwrqwr3242frw&quot;,\r\n            &quot;_score&quot;: 1.0,\r\n            &quot;_source&quot;: {\r\n                &quot;_class&quot;: &quot;com.app.Person&quot;,\r\n                &quot;name&quot;: &quot;Miguelito&quot;,\r\n            }\r\n\r\nPlease advice.\r\n\r\nThanks!","title":"Spring + ElasticSearch - How to bulk create or update document with autogenerated string _id/id","body":"<p>currently, we are forcing the _id of the elastic search documents by setting the id field. This simplifies the design, as it allows to perform updates and/or creation of new documents without previously knowing whether a document is already present in the index.</p>\n<p>For example, this is the class representing the document:</p>\n<pre><code>@Data\n@Document(indexName = &quot;person&quot;)\npublic class Person {\n\n  @Id\n  private String id;\n  \n  private String name;\n}\n</code></pre>\n<p>and this is the method for bulk create or update:</p>\n<pre><code> public void bulkCreateOrUpdate(final List&lt;Person&gt; personList) {\n\n    List&lt;UpdateQuery&gt; updateList = new ArrayList&lt;&gt;();\n\n    for (Person person : personList) {\n      UpdateQuery updateQuery = UpdateQuery.builder(person.getId())\n          .withDocument(this.operations.getElasticsearchConverter().mapObject(person))\n          .withDocAsUpsert(true)\n          .build();\n      updateList.add(updateQuery);\n    }\n\n    this.operations.bulkUpdate(updateList,\n        this.operations.getIndexCoordinatesFor(this.entityClass));\n  }\n</code></pre>\n<p>When saved, this is what it produces:</p>\n<pre><code>  {\n    &quot;_index&quot;: &quot;person&quot;,\n    &quot;_type&quot;: &quot;_doc&quot;,\n    &quot;_id&quot;: &quot;10001&quot;,\n    &quot;_score&quot;: 1.0,\n    &quot;_source&quot;: {\n        &quot;_class&quot;: &quot;com.app.Person&quot;,\n        &quot;id&quot;: &quot;10001&quot;,\n        &quot;name&quot;: &quot;Miguelito&quot;,\n    }\n</code></pre>\n<p>How/what to modify the code so that the _id is autogenerated during saving? Is there an annotation that can be used on id field or is there a need to modify the bulkCreateOrUpdate implementation? The expected output is this:</p>\n<pre><code>  {\n        &quot;_index&quot;: &quot;person&quot;,\n        &quot;_type&quot;: &quot;_doc&quot;,\n        &quot;_id&quot;: &quot;qwrqwr3242frw&quot;,\n        &quot;_score&quot;: 1.0,\n        &quot;_source&quot;: {\n            &quot;_class&quot;: &quot;com.app.Person&quot;,\n            &quot;name&quot;: &quot;Miguelito&quot;,\n        }\n</code></pre>\n<p>Please advice.</p>\n<p>Thanks!</p>\n"},{"tags":["windows","eclipse","java","java-7"],"comments":[{"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"score":0,"creation_date":1369759357,"post_id":14109079,"comment_id":24207566,"body_markdown":"Were you able to solve the problem?","body":"Were you able to solve the problem?"},{"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"score":0,"creation_date":1369841543,"post_id":14109079,"comment_id":24244343,"body_markdown":"Thanks, I was able figure on my end. Thanks for the response! :-)","body":"Thanks, I was able figure on my end. Thanks for the response! :-)"}],"answers":[{"tags":[],"owner":{"account_id":1202701,"reputation":1147,"user_id":1173023,"display_name":"Jaffar Ramay"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1357030142,"creation_date":1357030142,"answer_id":14109099,"question_id":14109079,"body_markdown":"Check that downloaded eclipse/JDK/JRE is compatible with your processor/OS architecture that is are they 32bit or 64bit?","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<p>Check that downloaded eclipse/JDK/JRE is compatible with your processor/OS architecture that is are they 32bit or 64bit?</p>\n"},{"tags":[],"owner":{"account_id":2105298,"reputation":16079,"user_id":1871769,"accept_rate":60,"display_name":"Rahul"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1357030853,"creation_date":1357030534,"answer_id":14109137,"question_id":14109079,"body_markdown":"please try to execute `java` from \r\n\r\n&gt; C:\\Program Files\\Java\\jdk1.7.0_10\\bin\r\n\r\ni.e from the location where java is installed.\r\n\r\nIf it is successful, it means that the error lies somewhere in the classpath.\r\n\r\nAlso, this guy seems to have had the same problem as yours, [check it out][1]\r\n\r\n\r\n  [1]: http://geekycoder.wordpress.com/2009/07/08/java-tips-adventure-in-resolving-the-java-error-error-occurred-during-initialization-of-vm/","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<p>please try to execute <code>java</code> from </p>\n\n<blockquote>\n  <p>C:\\Program Files\\Java\\jdk1.7.0_10\\bin</p>\n</blockquote>\n\n<p>i.e from the location where java is installed.</p>\n\n<p>If it is successful, it means that the error lies somewhere in the classpath.</p>\n\n<p>Also, this guy seems to have had the same problem as yours, <a href=\"http://geekycoder.wordpress.com/2009/07/08/java-tips-adventure-in-resolving-the-java-error-error-occurred-during-initialization-of-vm/\">check it out</a></p>\n"},{"tags":[],"owner":{"account_id":3057259,"reputation":266,"user_id":2590624,"display_name":"Anish"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1462354000,"creation_date":1374051452,"answer_id":17695402,"question_id":14109079,"body_markdown":"Go to Eclipse folder, locate eclipse.ini file, add following entry (before `-vmargs` if present):\r\n\r\n    -vm\r\n    C:\\Program Files\\Java\\jdk1.7.0_10\\bin\\javaw.exe\r\n\r\nSave file and execute eclipse.exe.\r\n","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<p>Go to Eclipse folder, locate eclipse.ini file, add following entry (before <code>-vmargs</code> if present):</p>\n\n<pre><code>-vm\nC:\\Program Files\\Java\\jdk1.7.0_10\\bin\\javaw.exe\n</code></pre>\n\n<p>Save file and execute eclipse.exe.</p>\n"},{"tags":[],"owner":{"account_id":5616811,"reputation":41,"user_id":4447835,"display_name":"user4447835"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431491876,"creation_date":1431491876,"answer_id":30205794,"question_id":14109079,"body_markdown":"Try placing the desired java directory in PATH before  not needed java directories in your PATH.","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<p>Try placing the desired java directory in PATH before  not needed java directories in your PATH.</p>\n"},{"tags":[],"owner":{"account_id":3547215,"reputation":516,"user_id":2962858,"display_name":"arielduarte"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446509354,"creation_date":1446509354,"answer_id":33489293,"question_id":14109079,"body_markdown":"I had the same error in my case was when I needed to update jdk 7 to jdk 8, and my bad was just I installed jdk8 and I never installed jre8, only that, the error was solved immediately when I installed jre8.","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<p>I had the same error in my case was when I needed to update jdk 7 to jdk 8, and my bad was just I installed jdk8 and I never installed jre8, only that, the error was solved immediately when I installed jre8.</p>\n"},{"tags":[],"owner":{"account_id":7237355,"reputation":11,"user_id":5522114,"display_name":"rayk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446587305,"creation_date":1446587305,"answer_id":33509723,"question_id":14109079,"body_markdown":"I had the same issue on Windows 7 and I had to install both JDK and JRE and it&#39;s a success. ","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<p>I had the same issue on Windows 7 and I had to install both JDK and JRE and it's a success. </p>\n"},{"tags":[],"owner":{"account_id":8389303,"reputation":11,"user_id":6298547,"display_name":"Aruna Manoharan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462508179,"creation_date":1462508179,"answer_id":37064140,"question_id":14109079,"body_markdown":"I faced the same problem,Eclipse splash screen for a second and it disappears.Then i noticed due to auto update of java there are two java version installed in my system. when i uninstalled one eclipse started working.\r\n\r\nThanks you..","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<p>I faced the same problem,Eclipse splash screen for a second and it disappears.Then i noticed due to auto update of java there are two java version installed in my system. when i uninstalled one eclipse started working.</p>\n\n<p>Thanks you..</p>\n"},{"tags":[],"owner":{"account_id":67276,"reputation":36662,"user_id":196919,"accept_rate":96,"display_name":"NoWar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466529110,"creation_date":1466529110,"answer_id":37950603,"question_id":14109079,"body_markdown":"I just spent about 1 hour to figure out possible solution for the same error.\r\n\r\nSo what I did under MS WIndows 7 is following\r\n\r\n1. Uninstall all Java packages of all versions.\r\n\r\n2. Download last packages  Java SE or JRE  for your 32 or 64 Windows and install it.\r\n\r\n3. First install JRE and second is Java SE.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n4. Open text editor and paste this code.\r\n\r\n\r\n    public class Hello {   \r\n     \r\n          public static void main(String[] args) {\r\n    \r\n             System.out.println(&quot;test&quot;);\r\n    \r\n          }\r\n    \r\n        } \r\n\r\n5. Save it like Hello.java\r\n\r\n6. Go to Console and compile it like \r\n\r\njavac Hello.java\r\n\r\n7. Execute the code like\r\n\r\njava Hello\r\n\r\n[![enter image description here][2]][2]\r\n\r\nShould be no error.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VVnFn.png\r\n  [2]: http://i.stack.imgur.com/iiNZG.png\r\n\r\n\r\n","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<p>I just spent about 1 hour to figure out possible solution for the same error.</p>\n\n<p>So what I did under MS WIndows 7 is following</p>\n\n<ol>\n<li><p>Uninstall all Java packages of all versions.</p></li>\n<li><p>Download last packages  Java SE or JRE  for your 32 or 64 Windows and install it.</p></li>\n<li><p>First install JRE and second is Java SE.</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/VVnFn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VVnFn.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"4\">\n<li><p>Open text editor and paste this code.</p>\n\n<p>public class Hello {   </p>\n\n<pre><code>  public static void main(String[] args) {\n\n     System.out.println(\"test\");\n\n  }\n\n} \n</code></pre></li>\n<li><p>Save it like Hello.java</p></li>\n<li><p>Go to Console and compile it like </p></li>\n</ol>\n\n<p>javac Hello.java</p>\n\n<ol start=\"7\">\n<li>Execute the code like</li>\n</ol>\n\n<p>java Hello</p>\n\n<p><a href=\"https://i.stack.imgur.com/iiNZG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iiNZG.png\" alt=\"enter image description here\"></a></p>\n\n<p>Should be no error.</p>\n"},{"tags":[],"owner":{"account_id":6690988,"reputation":179,"user_id":5160494,"display_name":"Samir 007"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1474722995,"creation_date":1474633004,"answer_id":39660569,"question_id":14109079,"body_markdown":"Not able to run Appium `{“message”:”A new session could not be created. (Original error: ‘java -version’ failed`\r\n\r\nI used `Jdk 1.8 and JRE 1.8`, `Classpath` is also set properly but I observed that Java command gives Error to initialization of VM (`java/lang/NoClassDefFoundError: java/lang/Object)`\r\n\r\n    Solution:\r\n    Uninstalled JRE and JDK completely \r\n    Installed JRE 1.8 then\r\n    Installed JDK 1.8 \r\n    Set Classpath\r\n    check Java command works or not and its working \r\n    also able to execute the Appium program thru Eclipse Kepler Service Release 2 with JDK1.8 support\r\n\r\n","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<p>Not able to run Appium <code>{“message”:”A new session could not be created. (Original error: ‘java -version’ failed</code></p>\n\n<p>I used <code>Jdk 1.8 and JRE 1.8</code>, <code>Classpath</code> is also set properly but I observed that Java command gives Error to initialization of VM (<code>java/lang/NoClassDefFoundError: java/lang/Object)</code></p>\n\n<pre><code>Solution:\nUninstalled JRE and JDK completely \nInstalled JRE 1.8 then\nInstalled JDK 1.8 \nSet Classpath\ncheck Java command works or not and its working \nalso able to execute the Appium program thru Eclipse Kepler Service Release 2 with JDK1.8 support\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12325319,"reputation":1,"user_id":9363540,"display_name":"Naveen Agrahari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522241769,"creation_date":1522239411,"answer_id":49534317,"question_id":14109079,"body_markdown":"sometime you missed some file like I missed my one file `rt.java`\r\nso better to check yours .........\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_112\\jre\\lib","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<p>sometime you missed some file like I missed my one file <code>rt.java</code>\nso better to check yours .........</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_112\\jre\\lib\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4294878,"reputation":2071,"user_id":3510195,"accept_rate":82,"display_name":"Gopal00005"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589430698,"creation_date":1589430698,"answer_id":61789360,"question_id":14109079,"body_markdown":"I&#39;ve observed this with STS and Eclipse and running java from CMD too on Windows 7/8/10 and following was my simple solution:\r\n\r\nActually, when I installed JDK 8 and STS/Eclipse it created one directory i.e. `C:\\ProgramData\\Oracle\\Java\\javapath` with the following files:\r\n\r\n - C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe\r\n - C:\\ProgramData\\Oracle\\Java\\javapath\\javaw.exe\r\n - C:\\ProgramData\\Oracle\\Java\\javapath\\javaws.exe\r\n\r\nAlong with that, it appended Path **Environment variable** of **System** with this location `C:\\ProgramData\\Oracle\\Java\\javapath`\r\n\r\nI&#39;ve just removed above entry from Path **Environment variable** of **System** and added the location of the actual JDK instead i.e. `C:\\Program Files\\Java\\jdk1.8.0_131\\bin`\r\n\r\n&gt; Now that is not necessary to add that -vm option in eclipse.ini or\r\n&gt; SpringToolSuite4.ini either.","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<p>I've observed this with STS and Eclipse and running java from CMD too on Windows 7/8/10 and following was my simple solution:</p>\n\n<p>Actually, when I installed JDK 8 and STS/Eclipse it created one directory i.e. <code>C:\\ProgramData\\Oracle\\Java\\javapath</code> with the following files:</p>\n\n<ul>\n<li>C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe</li>\n<li>C:\\ProgramData\\Oracle\\Java\\javapath\\javaw.exe</li>\n<li>C:\\ProgramData\\Oracle\\Java\\javapath\\javaws.exe</li>\n</ul>\n\n<p>Along with that, it appended Path <strong>Environment variable</strong> of <strong>System</strong> with this location <code>C:\\ProgramData\\Oracle\\Java\\javapath</code></p>\n\n<p>I've just removed above entry from Path <strong>Environment variable</strong> of <strong>System</strong> and added the location of the actual JDK instead i.e. <code>C:\\Program Files\\Java\\jdk1.8.0_131\\bin</code></p>\n\n<blockquote>\n  <p>Now that is not necessary to add that -vm option in eclipse.ini or\n  SpringToolSuite4.ini either.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21741709,"reputation":1,"user_id":16048976,"display_name":"user16048976"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622119705,"creation_date":1622119705,"answer_id":67722474,"question_id":14109079,"body_markdown":" 1. 0\r\n    \r\n    I just spent about 1 hour to figure out possible solution for the\r\n    same error.\r\n    \r\n    So what I did under MS WIndows 7 is following\r\n    \r\n    Uninstall all Java packages of all versions.\r\n    \r\n    Download last packages Java SE or JRE for your 32 or 64 Windows and\r\n    install it.\r\n    \r\n    First install JRE and second is Java SE.\r\n    \r\n     1. List item","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<ol>\n<li><p>0</p>\n<p>I just spent about 1 hour to figure out possible solution for the\nsame error.</p>\n<p>So what I did under MS WIndows 7 is following</p>\n<p>Uninstall all Java packages of all versions.</p>\n<p>Download last packages Java SE or JRE for your 32 or 64 Windows and\ninstall it.</p>\n<p>First install JRE and second is Java SE.</p>\n<ol>\n<li>List item</li>\n</ol>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22657230,"reputation":1,"user_id":16830934,"display_name":"Vaibhav Pund"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632799158,"creation_date":1632799158,"answer_id":69355410,"question_id":14109079,"body_markdown":"Below error is thrown when there are multiple versions of jdk on your machine:\r\n\r\n\r\nerror occurred during initialization of VM \r\njava/lang/NoClassDefFoundError: java/lang/Object\r\n\r\n\r\nso for this Just use below:\r\n\r\n\r\nset PATH=&quot;JDK bin path&quot; in cmd","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<p>Below error is thrown when there are multiple versions of jdk on your machine:</p>\n<p>error occurred during initialization of VM\njava/lang/NoClassDefFoundError: java/lang/Object</p>\n<p>so for this Just use below:</p>\n<p>set PATH=&quot;JDK bin path&quot; in cmd</p>\n"},{"tags":[],"owner":{"account_id":25997999,"reputation":1,"user_id":19709004,"display_name":"Indrasen Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659841001,"creation_date":1659841001,"answer_id":73264584,"question_id":14109079,"body_markdown":"I had a same issuse, my file location was in `D-drive`, and then i shifted to the `c-Drive` and it works.","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<p>I had a same issuse, my file location was in <code>D-drive</code>, and then i shifted to the <code>c-Drive</code> and it works.</p>\n"}],"owner":{"account_id":1071623,"reputation":11539,"user_id":1070732,"accept_rate":86,"display_name":"Tahir Yasin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174789,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":17695402,"answer_count":14,"score":29,"last_activity_date":1665410489,"creation_date":1357029805,"question_id":14109079,"body_markdown":"I&#39;m trying to install Java to use Eclipse (I followed all instructions to install Java and Eclipse) but my Eclipse is not starting due to some bad configuration I guess. I can&#39;t figure out why it&#39;s not working for me.\r\n\r\n**Eclipse Installation:**\r\n\r\n 1. Extracted Eclipse at `C:\\eclipse`\r\n 2. Created a shortcut to my desktop having target `C:\\eclipse\\eclipse.exe`\r\n\r\nWhen I try to run Eclipse with this shortcut, I see following Eclipse splash screen for a second and it disappears. Eclipse does not start at all.\r\n\r\n![Eclipse Splash Screen][1]\r\n\r\n**JAVA Installation:**\r\n\r\n 1. Installed JDK at `C:\\Program Files\\Java\\jdk1.7.0_10`\r\n 2. Installed JRE at `C:\\Program Files\\Java\\jre7`\r\n\r\n**Environment Variables Configuration:**\r\n\r\n    JAVA_HOME = C:\\Program Files\\Java\\jdk1.7.0_10\r\n    PATH = C:\\Program Files\\Java\\jdk1.7.0_10\\bin;\r\n\r\nI tested my Java installation using the console and figured out this issue but I don&#39;t know how to fix it, and I guess this is causing Eclipse not to start.\r\n\r\n**Problem:**\r\n\r\n![enter image description here][2]\r\n\r\n  [1]: http://i.stack.imgur.com/LlTUj.png\r\n  [2]: http://i.stack.imgur.com/aXxoU.png","title":"Error occurred during initialization of VM (java/lang/NoClassDefFoundError: java/lang/Object)","body":"<p>I'm trying to install Java to use Eclipse (I followed all instructions to install Java and Eclipse) but my Eclipse is not starting due to some bad configuration I guess. I can't figure out why it's not working for me.</p>\n\n<p><strong>Eclipse Installation:</strong></p>\n\n<ol>\n<li>Extracted Eclipse at <code>C:\\eclipse</code></li>\n<li>Created a shortcut to my desktop having target <code>C:\\eclipse\\eclipse.exe</code></li>\n</ol>\n\n<p>When I try to run Eclipse with this shortcut, I see following Eclipse splash screen for a second and it disappears. Eclipse does not start at all.</p>\n\n<p><img src=\"https://i.stack.imgur.com/LlTUj.png\" alt=\"Eclipse Splash Screen\"></p>\n\n<p><strong>JAVA Installation:</strong></p>\n\n<ol>\n<li>Installed JDK at <code>C:\\Program Files\\Java\\jdk1.7.0_10</code></li>\n<li>Installed JRE at <code>C:\\Program Files\\Java\\jre7</code></li>\n</ol>\n\n<p><strong>Environment Variables Configuration:</strong></p>\n\n<pre><code>JAVA_HOME = C:\\Program Files\\Java\\jdk1.7.0_10\nPATH = C:\\Program Files\\Java\\jdk1.7.0_10\\bin;\n</code></pre>\n\n<p>I tested my Java installation using the console and figured out this issue but I don't know how to fix it, and I guess this is causing Eclipse not to start.</p>\n\n<p><strong>Problem:</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/aXxoU.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","oracle","spring-boot","logging","logback"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1665409243,"post_id":74015698,"comment_id":130686958,"body_markdown":"And you are sure that you use Database-Appender in the logback.xml?","body":"And you are sure that you use Database-Appender in the logback.xml?"},{"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"score":0,"creation_date":1665409458,"post_id":74015698,"comment_id":130687031,"body_markdown":"@SimonMartinelli yes:  &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;Console-Appender&quot; /&gt;   \n        &lt;appender-ref ref=&quot;Database-Appender&quot;/&gt;        \n    &lt;/root&gt;","body":"@SimonMartinelli yes:  &lt;root level=&quot;INFO&quot;&gt;         &lt;appender-ref ref=&quot;Console-Appender&quot; /&gt;            &lt;appender-ref ref=&quot;Database-Appender&quot;/&gt;             &lt;/root&gt;"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1665409758,"post_id":74015698,"comment_id":130687135,"body_markdown":"and you are sure that the logback.xml is picked up","body":"and you are sure that the logback.xml is picked up"},{"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"score":0,"creation_date":1665410114,"post_id":74015698,"comment_id":130687269,"body_markdown":"@SimonMartinelli yes, because the other appenders are working fine (Console and FIle appender)","body":"@SimonMartinelli yes, because the other appenders are working fine (Console and FIle appender)"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1665410333,"post_id":74015698,"comment_id":130687374,"body_markdown":"And the db user is allowed to write to logging_event? You gave the grants?","body":"And the db user is allowed to write to logging_event? You gave the grants?"},{"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"score":0,"creation_date":1665410797,"post_id":74015698,"comment_id":130687542,"body_markdown":"@SimonMartinelli I edited my answer because I&#39;ve found this error running logback in debug mode:\n\nproblem appending event java.sql.SQLSyntaxErrorException: ORA-04043: object logging_event does not exists\n\nSo I think could be a problem related to the schema but I&#39;m not sure","body":"@SimonMartinelli I edited my answer because I&#39;ve found this error running logback in debug mode:  problem appending event java.sql.SQLSyntaxErrorException: ORA-04043: object logging_event does not exists  So I think could be a problem related to the schema but I&#39;m not sure"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1665410982,"post_id":74015698,"comment_id":130687601,"body_markdown":"This means that your user my_user does not have access to this table. Is it created in a different schema?","body":"This means that your user my_user does not have access to this table. Is it created in a different schema?"},{"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"score":0,"creation_date":1665411250,"post_id":74015698,"comment_id":130687725,"body_markdown":"@SimonMartinelli Yes: because the user I use to connect is &quot;system&quot; but the schema is the name of my project es: &quot;my_proj&quot;\n\nUnfortunately I don&#39;t know Oracle DB and how it works so I created a default DB &quot;XEPDB1&quot; for the user &quot;system&quot; running the docker image of &quot;Oracle XE&quot;.\n\nI&#39;m not sure how to fix it.","body":"@SimonMartinelli Yes: because the user I use to connect is &quot;system&quot; but the schema is the name of my project es: &quot;my_proj&quot;  Unfortunately I don&#39;t know Oracle DB and how it works so I created a default DB &quot;XEPDB1&quot; for the user &quot;system&quot; running the docker image of &quot;Oracle XE&quot;.  I&#39;m not sure how to fix it."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1665412205,"post_id":74015698,"comment_id":130688106,"body_markdown":"you have to create the tables in the my_user schema","body":"you have to create the tables in the my_user schema"},{"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"score":0,"creation_date":1665415996,"post_id":74015698,"comment_id":130689536,"body_markdown":"@SimonMartinelli I created the tables in &quot;my_user&quot; schema since the beginning. I thought the problem was related to the user &quot;system&quot; I put into the DB Appender configuration so I granted ALL privileges to the &quot;my_user&quot; user but the error is the same.","body":"@SimonMartinelli I created the tables in &quot;my_user&quot; schema since the beginning. I thought the problem was related to the user &quot;system&quot; I put into the DB Appender configuration so I granted ALL privileges to the &quot;my_user&quot; user but the error is the same."},{"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"score":1,"creation_date":1665416631,"post_id":74015698,"comment_id":130689796,"body_markdown":"SOLVED: I had to recreate the tables (in the &quot;my_user&quot; schema&quot;) in UPPERCASE and setting &quot;my_user&quot; in the DB Appender connection config.","body":"SOLVED: I had to recreate the tables (in the &quot;my_user&quot; schema&quot;) in UPPERCASE and setting &quot;my_user&quot; in the DB Appender connection config."}],"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665410210,"creation_date":1665408440,"question_id":74015698,"body_markdown":"I have a Spring Boot Java web app using Logback and I&#39;m trying to configure it to log into an Oracle DB (Oracle XE).\r\n\r\nFor some reason Logback is correctly logging on Console and File (as defined in my Logback.xml) but not into the DB. \r\n\r\nNo exception or error is raised.\r\n\r\nThis is my POM.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;ch.qos.logback.db&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;logback-core-db&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;1.2.11.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;ch.qos.logback.db&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;logback-classic-db&lt;/artifactId&gt;\r\n    \t\t  &lt;version&gt;1.2.11.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nThis is part of my Logback.xml \r\n\r\n    &lt;appender name=&quot;Database-Appender&quot; class=&quot;ch.qos.logback.classic.db.DBAppender&quot;&gt;\r\n    \t    &lt;connectionSource class=&quot;ch.qos.logback.core.db.DriverManagerConnectionSource&quot;&gt;\r\n        \t\t&lt;driverClass&gt;oracle.jdbc.OracleDriver&lt;/driverClass&gt;\r\n    \t\t    &lt;url&gt;jdbc:oracle:thin:@localhost:1521/XEPDB1&lt;/url&gt;\r\n    \t\t    &lt;user&gt;my_user&lt;/user&gt;\r\n    \t\t    &lt;password&gt;my_password&lt;/password&gt;\t\t    \t\t  \r\n    \t\t&lt;/connectionSource&gt;\t\t\r\n    \t&lt;/appender&gt;\r\n\r\nI have also created the required tables, sequence and trigger\r\n\r\n    CREATE SEQUENCE logging_event_id_seq MINVALUE 1 START WITH 1;\r\n    \r\n    CREATE TABLE logging_event \r\n      (\r\n        timestmp         NUMBER(20) NOT NULL,\r\n        formatted_message  VARCHAR2(4000) NOT NULL,\r\n        logger_name       VARCHAR(254) NOT NULL,\r\n        level_string      VARCHAR(254) NOT NULL,\r\n        thread_name       VARCHAR(254),\r\n        reference_flag    SMALLINT,\r\n        arg0              VARCHAR(254),\r\n        arg1              VARCHAR(254),\r\n        arg2              VARCHAR(254),\r\n        arg3              VARCHAR(254),\r\n        caller_filename   VARCHAR(254) NOT NULL,\r\n        caller_class      VARCHAR(254) NOT NULL,\r\n        caller_method     VARCHAR(254) NOT NULL,\r\n        caller_line       CHAR(4) NOT NULL,\r\n        event_id          NUMBER(10) PRIMARY KEY\r\n      );\r\n    \r\n    CREATE TRIGGER logging_event_id_seq_trig\r\n      BEFORE INSERT ON logging_event\r\n      FOR EACH ROW  \r\n      BEGIN  \r\n        SELECT logging_event_id_seq.NEXTVAL \r\n        INTO   :NEW.event_id \r\n        FROM   DUAL;  \r\n      END;\r\n    /\r\n    \r\n    \r\n    CREATE TABLE logging_event_property\r\n      (\r\n        event_id\t      NUMBER(10) NOT NULL,\r\n        mapped_key        VARCHAR2(254) NOT NULL,\r\n        mapped_value      VARCHAR2(1024),\r\n        PRIMARY KEY(event_id, mapped_key),\r\n        FOREIGN KEY (event_id) REFERENCES logging_event(event_id)\r\n      );\r\n      \r\n    CREATE TABLE logging_event_exception\r\n      (\r\n        event_id         NUMBER(10) NOT NULL,\r\n        i                SMALLINT NOT NULL,\r\n        trace_line       VARCHAR2(254) NOT NULL,\r\n        PRIMARY KEY(event_id, i),\r\n        FOREIGN KEY (event_id) REFERENCES logging_event(event_id)\r\n      );\r\n\r\nEDIT:\r\n\r\nI call the appender in this way:\r\n\r\n     &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;Console-Appender&quot; /&gt;   \r\n            &lt;appender-ref ref=&quot;Database-Appender&quot;/&gt;        \r\n        &lt;/root&gt;  \r\n\r\nRunning Logback in debug mode I get this error:\r\n\r\n     ORA-04043 object logging_event does not exists\r\n\r\nCan be a case sensitive problem due to the fact that my tables are in uppercase?\r\n\r\nI re-created the tables in lowercase so:\r\n- logging_event\r\n- logging_event_exception\r\n- logging_event_property\r\n\r\nBut the same error occurs:\r\n\r\n    problem appending event java.sql.SQLSyntaxErrorException: ORA-04043: object logging_event does not exists\r\n\r\n\r\nBut nothing is written into these tables, and as I said earlier, no configuration errors are thrown by running the web app.\r\n\r\nThanks.\r\n","title":"Logback DB Appender not logging into Oracle DB","body":"<p>I have a Spring Boot Java web app using Logback and I'm trying to configure it to log into an Oracle DB (Oracle XE).</p>\n<p>For some reason Logback is correctly logging on Console and File (as defined in my Logback.xml) but not into the DB.</p>\n<p>No exception or error is raised.</p>\n<p>This is my POM.xml</p>\n<pre><code>&lt;dependency&gt;\n          &lt;groupId&gt;ch.qos.logback.db&lt;/groupId&gt;\n          &lt;artifactId&gt;logback-core-db&lt;/artifactId&gt;\n          &lt;version&gt;1.2.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;ch.qos.logback.db&lt;/groupId&gt;\n          &lt;artifactId&gt;logback-classic-db&lt;/artifactId&gt;\n          &lt;version&gt;1.2.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>This is part of my Logback.xml</p>\n<pre><code>&lt;appender name=&quot;Database-Appender&quot; class=&quot;ch.qos.logback.classic.db.DBAppender&quot;&gt;\n        &lt;connectionSource class=&quot;ch.qos.logback.core.db.DriverManagerConnectionSource&quot;&gt;\n            &lt;driverClass&gt;oracle.jdbc.OracleDriver&lt;/driverClass&gt;\n            &lt;url&gt;jdbc:oracle:thin:@localhost:1521/XEPDB1&lt;/url&gt;\n            &lt;user&gt;my_user&lt;/user&gt;\n            &lt;password&gt;my_password&lt;/password&gt;                      \n        &lt;/connectionSource&gt;     \n    &lt;/appender&gt;\n</code></pre>\n<p>I have also created the required tables, sequence and trigger</p>\n<pre><code>CREATE SEQUENCE logging_event_id_seq MINVALUE 1 START WITH 1;\n\nCREATE TABLE logging_event \n  (\n    timestmp         NUMBER(20) NOT NULL,\n    formatted_message  VARCHAR2(4000) NOT NULL,\n    logger_name       VARCHAR(254) NOT NULL,\n    level_string      VARCHAR(254) NOT NULL,\n    thread_name       VARCHAR(254),\n    reference_flag    SMALLINT,\n    arg0              VARCHAR(254),\n    arg1              VARCHAR(254),\n    arg2              VARCHAR(254),\n    arg3              VARCHAR(254),\n    caller_filename   VARCHAR(254) NOT NULL,\n    caller_class      VARCHAR(254) NOT NULL,\n    caller_method     VARCHAR(254) NOT NULL,\n    caller_line       CHAR(4) NOT NULL,\n    event_id          NUMBER(10) PRIMARY KEY\n  );\n\nCREATE TRIGGER logging_event_id_seq_trig\n  BEFORE INSERT ON logging_event\n  FOR EACH ROW  \n  BEGIN  \n    SELECT logging_event_id_seq.NEXTVAL \n    INTO   :NEW.event_id \n    FROM   DUAL;  \n  END;\n/\n\n\nCREATE TABLE logging_event_property\n  (\n    event_id          NUMBER(10) NOT NULL,\n    mapped_key        VARCHAR2(254) NOT NULL,\n    mapped_value      VARCHAR2(1024),\n    PRIMARY KEY(event_id, mapped_key),\n    FOREIGN KEY (event_id) REFERENCES logging_event(event_id)\n  );\n  \nCREATE TABLE logging_event_exception\n  (\n    event_id         NUMBER(10) NOT NULL,\n    i                SMALLINT NOT NULL,\n    trace_line       VARCHAR2(254) NOT NULL,\n    PRIMARY KEY(event_id, i),\n    FOREIGN KEY (event_id) REFERENCES logging_event(event_id)\n  );\n</code></pre>\n<p>EDIT:</p>\n<p>I call the appender in this way:</p>\n<pre><code> &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;Console-Appender&quot; /&gt;   \n        &lt;appender-ref ref=&quot;Database-Appender&quot;/&gt;        \n    &lt;/root&gt;  \n</code></pre>\n<p>Running Logback in debug mode I get this error:</p>\n<pre><code> ORA-04043 object logging_event does not exists\n</code></pre>\n<p>Can be a case sensitive problem due to the fact that my tables are in uppercase?</p>\n<p>I re-created the tables in lowercase so:</p>\n<ul>\n<li>logging_event</li>\n<li>logging_event_exception</li>\n<li>logging_event_property</li>\n</ul>\n<p>But the same error occurs:</p>\n<pre><code>problem appending event java.sql.SQLSyntaxErrorException: ORA-04043: object logging_event does not exists\n</code></pre>\n<p>But nothing is written into these tables, and as I said earlier, no configuration errors are thrown by running the web app.</p>\n<p>Thanks.</p>\n"},{"tags":["java","sockets","ip","port-scanning"],"answers":[{"tags":[],"owner":{"account_id":50396,"reputation":37361,"user_id":150339,"accept_rate":71,"display_name":"Bruno Reis"},"down_vote_count":0,"up_vote_count":72,"is_accepted":true,"score":72,"last_activity_date":1342648937,"creation_date":1342632891,"answer_id":11547117,"question_id":11547082,"body_markdown":"If you need 200ms for each of the 65536 ports (in the worst case, a firewall is blocking everything, thus making you hit your timeout for every single port), the maths is pretty simple: you need 13k seconds, or about 3 hours and a half.\r\n\r\nYou have 2 (non-exclusive) options to make it faster:\r\n\r\n - reduce your timeout\r\n - paralellize your code\r\n\r\nSince the operation is I/O bound (in contrast to CPU bound -- that is, you spend time waiting for I/O, and not for some huge calculation to complete), **you can use many, many threads**. Try starting with 20. They would divide the 3 hours and a half among them, **so the maximum expected time is about 10 minutes**. Just remember that this will put pressure on the other side, ie, the scanned host will see huge network activity with &quot;unreasonable&quot; or &quot;strange&quot; patterns, making the scan extremely easy to detect.\r\n\r\nThe easiest way (ie, with minimal changes) is to use the ExecutorService and Future APIs:\r\n\r\n    public static Future&lt;Boolean&gt; portIsOpen(final ExecutorService es, final String ip, final int port, final int timeout) {\r\n      return es.submit(new Callable&lt;Boolean&gt;() {\r\n          @Override public Boolean call() {\r\n            try {\r\n              Socket socket = new Socket();\r\n              socket.connect(new InetSocketAddress(ip, port), timeout);\r\n              socket.close();\r\n              return true;\r\n            } catch (Exception ex) {\r\n              return false;\r\n            }\r\n          }\r\n       });\r\n    }\r\n\r\nThen, you can do something like:\r\n\r\n    public static void main(final String... args) {\r\n      final ExecutorService es = Executors.newFixedThreadPool(20);\r\n      final String ip = &quot;127.0.0.1&quot;;\r\n      final int timeout = 200;\r\n      final List&lt;Future&lt;Boolean&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n      for (int port = 1; port &lt;= 65535; port++) {\r\n        futures.add(portIsOpen(es, ip, port, timeout));\r\n      }\r\n      es.shutdown();\r\n      int openPorts = 0;\r\n      for (final Future&lt;Boolean&gt; f : futures) {\r\n        if (f.get()) {\r\n          openPorts++;\r\n        }\r\n      }\r\n      System.out.println(&quot;There are &quot; + openPorts + &quot; open ports on host &quot; + ip + &quot; (probed with a timeout of &quot; + timeout + &quot;ms)&quot;);\r\n    }\r\n\r\nIf you need to know *which ports are open* (and not just *how many*, as in the above example), you&#39;d need to change the return type of the function to `Future&lt;SomethingElse&gt;`, where `SomethingElse` would hold the port and the result of the scan, something like:\r\n\r\n    public final class ScanResult {\r\n      private final int port;\r\n      private final boolean isOpen;\r\n      // constructor\r\n      // getters\r\n    }\r\n\r\nThen, change `Boolean` to `ScanResult` in the first snippet, and return `new ScanResult(port, true)` or `new ScanResult(port, false)` instead of just `true` or `false`\r\n\r\nEDIT: Actually, I just noticed: in this particular case, you don&#39;t need the ScanResult class to hold result + port, and still know which port is open. Since you add the futures to a **List**, which is **ordered**, and, later on, you **process them in the same order you added them**, you could have a counter that you&#39;d increment on each iteration to know which port you are dealing with. But, hey, this is just to be complete and precise. **Don&#39;t ever try doing that**, it is horrible, I&#39;m mostly ashamed that I thought about this... **Using the ScanResult object is much cleaner**, the code is way easier to read and maintain, and allows you to, later, for example, use a `CompletionService` to improve the scanner.","title":"Fastest way to scan ports with Java","body":"<p>If you need 200ms for each of the 65536 ports (in the worst case, a firewall is blocking everything, thus making you hit your timeout for every single port), the maths is pretty simple: you need 13k seconds, or about 3 hours and a half.</p>\n\n<p>You have 2 (non-exclusive) options to make it faster:</p>\n\n<ul>\n<li>reduce your timeout</li>\n<li>paralellize your code</li>\n</ul>\n\n<p>Since the operation is I/O bound (in contrast to CPU bound -- that is, you spend time waiting for I/O, and not for some huge calculation to complete), <strong>you can use many, many threads</strong>. Try starting with 20. They would divide the 3 hours and a half among them, <strong>so the maximum expected time is about 10 minutes</strong>. Just remember that this will put pressure on the other side, ie, the scanned host will see huge network activity with \"unreasonable\" or \"strange\" patterns, making the scan extremely easy to detect.</p>\n\n<p>The easiest way (ie, with minimal changes) is to use the ExecutorService and Future APIs:</p>\n\n<pre><code>public static Future&lt;Boolean&gt; portIsOpen(final ExecutorService es, final String ip, final int port, final int timeout) {\n  return es.submit(new Callable&lt;Boolean&gt;() {\n      @Override public Boolean call() {\n        try {\n          Socket socket = new Socket();\n          socket.connect(new InetSocketAddress(ip, port), timeout);\n          socket.close();\n          return true;\n        } catch (Exception ex) {\n          return false;\n        }\n      }\n   });\n}\n</code></pre>\n\n<p>Then, you can do something like:</p>\n\n<pre><code>public static void main(final String... args) {\n  final ExecutorService es = Executors.newFixedThreadPool(20);\n  final String ip = \"127.0.0.1\";\n  final int timeout = 200;\n  final List&lt;Future&lt;Boolean&gt;&gt; futures = new ArrayList&lt;&gt;();\n  for (int port = 1; port &lt;= 65535; port++) {\n    futures.add(portIsOpen(es, ip, port, timeout));\n  }\n  es.shutdown();\n  int openPorts = 0;\n  for (final Future&lt;Boolean&gt; f : futures) {\n    if (f.get()) {\n      openPorts++;\n    }\n  }\n  System.out.println(\"There are \" + openPorts + \" open ports on host \" + ip + \" (probed with a timeout of \" + timeout + \"ms)\");\n}\n</code></pre>\n\n<p>If you need to know <em>which ports are open</em> (and not just <em>how many</em>, as in the above example), you'd need to change the return type of the function to <code>Future&lt;SomethingElse&gt;</code>, where <code>SomethingElse</code> would hold the port and the result of the scan, something like:</p>\n\n<pre><code>public final class ScanResult {\n  private final int port;\n  private final boolean isOpen;\n  // constructor\n  // getters\n}\n</code></pre>\n\n<p>Then, change <code>Boolean</code> to <code>ScanResult</code> in the first snippet, and return <code>new ScanResult(port, true)</code> or <code>new ScanResult(port, false)</code> instead of just <code>true</code> or <code>false</code></p>\n\n<p>EDIT: Actually, I just noticed: in this particular case, you don't need the ScanResult class to hold result + port, and still know which port is open. Since you add the futures to a <strong>List</strong>, which is <strong>ordered</strong>, and, later on, you <strong>process them in the same order you added them</strong>, you could have a counter that you'd increment on each iteration to know which port you are dealing with. But, hey, this is just to be complete and precise. <strong>Don't ever try doing that</strong>, it is horrible, I'm mostly ashamed that I thought about this... <strong>Using the ScanResult object is much cleaner</strong>, the code is way easier to read and maintain, and allows you to, later, for example, use a <code>CompletionService</code> to improve the scanner.</p>\n"},{"tags":[],"owner":{"account_id":1489923,"reputation":11208,"user_id":1397268,"display_name":"Hakan Serce"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1342633780,"creation_date":1342633780,"answer_id":11547373,"question_id":11547082,"body_markdown":"Apart from parallelizing the scan, you can use more advanced port scanning techniques like the ones (TCP SYN and TCP FIN scanning) explained here: http://nmap.org/nmap_doc.html. VB code of an implementation can be found here: http://h.ackack.net/spoon-worlds-fastest-port-scanner.html\r\n\r\nIn order to use these techniques, however, you need to use raw TCP/IP sockets. You should use [RockSaw][1] library for this.\r\n\r\n\r\n  [1]: http://www.savarese.com/software/rocksaw/","title":"Fastest way to scan ports with Java","body":"<p>Apart from parallelizing the scan, you can use more advanced port scanning techniques like the ones (TCP SYN and TCP FIN scanning) explained here: <a href=\"http://nmap.org/nmap_doc.html\" rel=\"nofollow\">http://nmap.org/nmap_doc.html</a>. VB code of an implementation can be found here: <a href=\"http://h.ackack.net/spoon-worlds-fastest-port-scanner.html\" rel=\"nofollow\">http://h.ackack.net/spoon-worlds-fastest-port-scanner.html</a></p>\n\n<p>In order to use these techniques, however, you need to use raw TCP/IP sockets. You should use <a href=\"http://www.savarese.com/software/rocksaw/\" rel=\"nofollow\">RockSaw</a> library for this.</p>\n"},{"tags":[],"owner":{"account_id":389459,"reputation":277,"user_id":748943,"accept_rate":43,"display_name":"Jon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562310746,"creation_date":1342726548,"answer_id":11568018,"question_id":11547082,"body_markdown":"If you decide to use the Nmap option and want to continue with Java, you should look at [Nmap4j on SourceForge.net](https://sourceforge.net/projects/nmap4j/).\r\n\r\nIt&#39;s a simple API that allows you to integrate Nmap into a java app.","title":"Fastest way to scan ports with Java","body":"<p>If you decide to use the Nmap option and want to continue with Java, you should look at <a href=\"https://sourceforge.net/projects/nmap4j/\" rel=\"nofollow noreferrer\">Nmap4j on SourceForge.net</a>.</p>\n\n<p>It's a simple API that allows you to integrate Nmap into a java app.</p>\n"},{"tags":[],"owner":{"account_id":3467532,"reputation":61,"user_id":2902714,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1432129866,"creation_date":1432129866,"answer_id":30351738,"question_id":11547082,"body_markdown":"Code sample is inspired by &quot;Bruno Reis&quot;\r\n\r\n\r\n\r\n    class PortScanner {\r\n\r\n    public static void main(final String... args) throws InterruptedException, ExecutionException {\r\n        final ExecutorService es = Executors.newFixedThreadPool(20);\r\n        final String ip = &quot;127.0.0.1&quot;;\r\n        final int timeout = 200;\r\n        final List&lt;Future&lt;ScanResult&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n        for (int port = 1; port &lt;= 65535; port++) {\r\n            // for (int port = 1; port &lt;= 80; port++) {\r\n            futures.add(portIsOpen(es, ip, port, timeout));\r\n        }\r\n        es.awaitTermination(200L, TimeUnit.MILLISECONDS);\r\n        int openPorts = 0;\r\n        for (final Future&lt;ScanResult&gt; f : futures) {\r\n            if (f.get().isOpen()) {\r\n                openPorts++;\r\n                System.out.println(f.get().getPort());\r\n            }\r\n        }\r\n        System.out.println(&quot;There are &quot; + openPorts + &quot; open ports on host &quot; + ip + &quot; (probed with a timeout of &quot;\r\n                + timeout + &quot;ms)&quot;);\r\n    }\r\n\r\n    public static Future&lt;ScanResult&gt; portIsOpen(final ExecutorService es, final String ip, final int port,\r\n            final int timeout) {\r\n        return es.submit(new Callable&lt;ScanResult&gt;() {\r\n            @Override\r\n            public ScanResult call() {\r\n                try {\r\n                    Socket socket = new Socket();\r\n                    socket.connect(new InetSocketAddress(ip, port), timeout);\r\n                    socket.close();\r\n                    return new ScanResult(port, true);\r\n                } catch (Exception ex) {\r\n                    return new ScanResult(port, false);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public static class ScanResult {\r\n        private int port;\r\n\r\n        private boolean isOpen;\r\n\r\n        public ScanResult(int port, boolean isOpen) {\r\n            super();\r\n            this.port = port;\r\n            this.isOpen = isOpen;\r\n        }\r\n\r\n        public int getPort() {\r\n            return port;\r\n        }\r\n\r\n        public void setPort(int port) {\r\n            this.port = port;\r\n        }\r\n\r\n        public boolean isOpen() {\r\n            return isOpen;\r\n        }\r\n\r\n        public void setOpen(boolean isOpen) {\r\n            this.isOpen = isOpen;\r\n        }\r\n\r\n    }\r\n    }","title":"Fastest way to scan ports with Java","body":"<p>Code sample is inspired by \"Bruno Reis\"</p>\n\n<pre><code>class PortScanner {\n\npublic static void main(final String... args) throws InterruptedException, ExecutionException {\n    final ExecutorService es = Executors.newFixedThreadPool(20);\n    final String ip = \"127.0.0.1\";\n    final int timeout = 200;\n    final List&lt;Future&lt;ScanResult&gt;&gt; futures = new ArrayList&lt;&gt;();\n    for (int port = 1; port &lt;= 65535; port++) {\n        // for (int port = 1; port &lt;= 80; port++) {\n        futures.add(portIsOpen(es, ip, port, timeout));\n    }\n    es.awaitTermination(200L, TimeUnit.MILLISECONDS);\n    int openPorts = 0;\n    for (final Future&lt;ScanResult&gt; f : futures) {\n        if (f.get().isOpen()) {\n            openPorts++;\n            System.out.println(f.get().getPort());\n        }\n    }\n    System.out.println(\"There are \" + openPorts + \" open ports on host \" + ip + \" (probed with a timeout of \"\n            + timeout + \"ms)\");\n}\n\npublic static Future&lt;ScanResult&gt; portIsOpen(final ExecutorService es, final String ip, final int port,\n        final int timeout) {\n    return es.submit(new Callable&lt;ScanResult&gt;() {\n        @Override\n        public ScanResult call() {\n            try {\n                Socket socket = new Socket();\n                socket.connect(new InetSocketAddress(ip, port), timeout);\n                socket.close();\n                return new ScanResult(port, true);\n            } catch (Exception ex) {\n                return new ScanResult(port, false);\n            }\n        }\n    });\n}\n\npublic static class ScanResult {\n    private int port;\n\n    private boolean isOpen;\n\n    public ScanResult(int port, boolean isOpen) {\n        super();\n        this.port = port;\n        this.isOpen = isOpen;\n    }\n\n    public int getPort() {\n        return port;\n    }\n\n    public void setPort(int port) {\n        this.port = port;\n    }\n\n    public boolean isOpen() {\n        return isOpen;\n    }\n\n    public void setOpen(boolean isOpen) {\n        this.isOpen = isOpen;\n    }\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26053,"reputation":1832,"user_id":67492,"accept_rate":62,"display_name":"subes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497035876,"creation_date":1497035876,"answer_id":44465268,"question_id":11547082,"body_markdown":"I wrote my own asynchronous portscanner java service that can scan ports via TCP-SYN-Scan like Nmap does. It also support IMCP ping scans and can work with a very high throughput (depending on what the network can sustain):\r\n\r\nhttps://github.com/subes/invesdwin-webproxy\r\n\r\nInternally it uses a java binding pcap and exposes its services via JMS/AMQP. Though you can also use it directly in your application if you don&#39;t mind it having root permissions.","title":"Fastest way to scan ports with Java","body":"<p>I wrote my own asynchronous portscanner java service that can scan ports via TCP-SYN-Scan like Nmap does. It also support IMCP ping scans and can work with a very high throughput (depending on what the network can sustain):</p>\n\n<p><a href=\"https://github.com/subes/invesdwin-webproxy\" rel=\"nofollow noreferrer\">https://github.com/subes/invesdwin-webproxy</a></p>\n\n<p>Internally it uses a java binding pcap and exposes its services via JMS/AMQP. Though you can also use it directly in your application if you don't mind it having root permissions.</p>\n"},{"tags":[],"owner":{"account_id":16670800,"reputation":11,"user_id":12048285,"display_name":"thatsmellything"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575313767,"creation_date":1568138523,"answer_id":57876104,"question_id":11547082,"body_markdown":"Nay, fastest way here is to use the dynamically created thread method \r\n```\r\nExecutors.newCachedThreadPool();\r\n```\r\nThis way it uses threads until all of them are taken, then when all of them are taken and there is a new task it will open up a new thread and preform the new task on it. \r\n\r\nHere&#39;s my code snippet (Creds due to Jack and Bruno Reis)\r\n\r\nI also added the function to search any IP address you type in for some added functionality and ease of use.\r\n\r\n        import java.net.InetSocketAddress;\r\n        import java.net.Socket;\r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        import java.util.Scanner;\r\n        import java.util.concurrent.Callable;\r\n        import java.util.concurrent.ExecutionException;\r\n        import java.util.concurrent.ExecutorService;\r\n        import java.util.concurrent.Executors;\r\n        import java.util.concurrent.Future;\r\n        import java.util.concurrent.TimeUnit;\r\n\r\n        class PortScanner {\r\n\r\n        public static void main(final String... args) throws InterruptedException, ExecutionException \r\n        {\r\n            final ExecutorService es = Executors.newCachedThreadPool();\r\n            System.out.print(&quot;Please input the ip address you would like to scan for open ports: &quot;);\r\n            Scanner inputScanner = new Scanner(System.in);\r\n            final String ip = inputScanner.nextLine();\r\n            final int timeout = 200;\r\n            final List&lt;Future&lt;ScanResult&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n            for (int port = 1; port &lt;= 65535; port++) {\r\n                // for (int port = 1; port &lt;= 80; port++) {\r\n                futures.add(portIsOpen(es, ip, port, timeout));\r\n            }\r\n            es.awaitTermination(200L, TimeUnit.MILLISECONDS);\r\n            int openPorts = 0;\r\n            for (final Future&lt;ScanResult&gt; f : futures) {\r\n                if (f.get().isOpen()) {\r\n                    openPorts++;\r\n                    System.out.println(f.get().getPort());\r\n                }\r\n            }\r\n            System.out.println(&quot;There are &quot; + openPorts + &quot; open ports on host &quot; + ip + &quot; (probed with a timeout of &quot;\r\n            + timeout + &quot;ms)&quot;);\r\n     es.shutdown();\r\n        }\r\n\r\n\r\n\r\n        public static Future&lt;ScanResult&gt; portIsOpen(final ExecutorService es, final String ip, final int port,\r\n        final int timeout) \r\n        {\r\n            return es.submit(new Callable&lt;ScanResult&gt;() {\r\n                @Override\r\n                public ScanResult call() {\r\n                    try {\r\n                        Socket socket = new Socket();\r\n                        socket.connect(new InetSocketAddress(ip, port), timeout);\r\n                        socket.close();\r\n                        return new ScanResult(port, true);\r\n                    } catch (Exception ex) {\r\n                        return new ScanResult(port, false);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public static class ScanResult {\r\n    private int port;\r\n\r\n    private boolean isOpen;\r\n\r\n    public ScanResult(int port, boolean isOpen) {\r\n        super();\r\n        this.port = port;\r\n        this.isOpen = isOpen;\r\n    }\r\n\r\n    public int getPort() {\r\n        return port;\r\n    }\r\n\r\n    public void setPort(int port) {\r\n        this.port = port;\r\n    }\r\n\r\n    public boolean isOpen() {\r\n        return isOpen;\r\n    }\r\n\r\n    public void setOpen(boolean isOpen) {\r\n        this.isOpen = isOpen;\r\n    }\r\n\r\n        }\r\n        }\r\n\r\n\r\n\r\n","title":"Fastest way to scan ports with Java","body":"<p>Nay, fastest way here is to use the dynamically created thread method </p>\n\n<pre><code>Executors.newCachedThreadPool();\n</code></pre>\n\n<p>This way it uses threads until all of them are taken, then when all of them are taken and there is a new task it will open up a new thread and preform the new task on it. </p>\n\n<p>Here's my code snippet (Creds due to Jack and Bruno Reis)</p>\n\n<p>I also added the function to search any IP address you type in for some added functionality and ease of use.</p>\n\n<pre><code>    import java.net.InetSocketAddress;\n    import java.net.Socket;\n    import java.util.ArrayList;\n    import java.util.List;\n    import java.util.Scanner;\n    import java.util.concurrent.Callable;\n    import java.util.concurrent.ExecutionException;\n    import java.util.concurrent.ExecutorService;\n    import java.util.concurrent.Executors;\n    import java.util.concurrent.Future;\n    import java.util.concurrent.TimeUnit;\n\n    class PortScanner {\n\n    public static void main(final String... args) throws InterruptedException, ExecutionException \n    {\n        final ExecutorService es = Executors.newCachedThreadPool();\n        System.out.print(\"Please input the ip address you would like to scan for open ports: \");\n        Scanner inputScanner = new Scanner(System.in);\n        final String ip = inputScanner.nextLine();\n        final int timeout = 200;\n        final List&lt;Future&lt;ScanResult&gt;&gt; futures = new ArrayList&lt;&gt;();\n        for (int port = 1; port &lt;= 65535; port++) {\n            // for (int port = 1; port &lt;= 80; port++) {\n            futures.add(portIsOpen(es, ip, port, timeout));\n        }\n        es.awaitTermination(200L, TimeUnit.MILLISECONDS);\n        int openPorts = 0;\n        for (final Future&lt;ScanResult&gt; f : futures) {\n            if (f.get().isOpen()) {\n                openPorts++;\n                System.out.println(f.get().getPort());\n            }\n        }\n        System.out.println(\"There are \" + openPorts + \" open ports on host \" + ip + \" (probed with a timeout of \"\n        + timeout + \"ms)\");\n es.shutdown();\n    }\n\n\n\n    public static Future&lt;ScanResult&gt; portIsOpen(final ExecutorService es, final String ip, final int port,\n    final int timeout) \n    {\n        return es.submit(new Callable&lt;ScanResult&gt;() {\n            @Override\n            public ScanResult call() {\n                try {\n                    Socket socket = new Socket();\n                    socket.connect(new InetSocketAddress(ip, port), timeout);\n                    socket.close();\n                    return new ScanResult(port, true);\n                } catch (Exception ex) {\n                    return new ScanResult(port, false);\n                }\n            }\n        });\n    }\n\n    public static class ScanResult {\nprivate int port;\n\nprivate boolean isOpen;\n\npublic ScanResult(int port, boolean isOpen) {\n    super();\n    this.port = port;\n    this.isOpen = isOpen;\n}\n\npublic int getPort() {\n    return port;\n}\n\npublic void setPort(int port) {\n    this.port = port;\n}\n\npublic boolean isOpen() {\n    return isOpen;\n}\n\npublic void setOpen(boolean isOpen) {\n    this.isOpen = isOpen;\n}\n\n    }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":439803,"reputation":550,"user_id":828976,"accept_rate":25,"display_name":"Bmis13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638860396,"creation_date":1638860396,"answer_id":70256027,"question_id":11547082,"body_markdown":"I may be late to this but you can do a bulk port scan by doing the following using NIO2 single-threaded.  By following NIO2 code with a single thread, I am able to scan all the hosts for a given port.  Please try a reasonable timeout and make sure you have large File Discriptor for process\r\n\r\n\tpublic static List&lt;HostTarget&gt; getRechabilityStatus(String...hosts,final int port, final int bulkDevicesPingTimeoutinMS) throws Exception {\r\n\r\n\t\tList&lt;AsynchronousSocketChannel&gt; channels = new ArrayList&lt;&gt;(hosts.length);\r\n\t\ttry {\r\n\t\t\tList&lt;CompletableFuture&lt;HostTarget&gt;&gt; all = new ArrayList&lt;&gt;(hosts.length);\r\n\r\n\t\t\tList&lt;HostTarget&gt; allHosts = new ArrayList(hosts.length);\r\n\t\t\tfor (String host : hosts) {\r\n\t\t\t\tInetSocketAddress address = new InetSocketAddress(host, port);\r\n\t\t\t\tHostTarget target = new HostTarget();\r\n\t\t\t\ttarget.setIpAddress(host);\r\n\t\t\t\tallHosts.add(target);\r\n\t\t\t\tAsynchronousSocketChannel client = AsynchronousSocketChannel.open();\r\n\t\t\t\tchannels.add(client);\r\n\t\t\t\tfinal CompletableFuture&lt;HostTarget&gt; targetFuture = new CompletableFuture&lt;&gt;();\r\n\t\t\t\tall.add(targetFuture);\r\n\t\t\t\tclient.connect(address, target, new CompletionHandler&lt;Void, HostTarget&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void completed(Void result, HostTarget attachment) {\r\n\t\t\t\t\t\tattachment.setIsReachable(true);\r\n\t\t\t\t\t\ttargetFuture.complete(attachment);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void failed(Throwable exc, HostTarget attachment) {\r\n\t\t\t\t\t\tattachment.setIsReachable(false);\r\n\t\t\t\t\t\tattachment.errrorMessage = exc.getMessage();\r\n\t\t\t\t\t\ttargetFuture.complete(attachment);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tif(bulkDevicesPingTimeoutinMS &gt; 0) {\r\n\t\t\t\t\tCompletableFuture.allOf(all.toArray(new CompletableFuture[]{})).get(bulkDevicesPingTimeoutinMS, TimeUnit.MILLISECONDS);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// wait for all future to be complete 1000 scan is taking 7 seconds.\r\n\t\t\t\t\tCompletableFuture.allOf(all.toArray(new CompletableFuture[]{})).join();\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception timeoutException) {\r\n\t\t\t\t// ignore\r\n\t\t\t}\r\n\t\t\treturn allHosts;\r\n\t\t}finally {\r\n\t\t\tfor(AsynchronousSocketChannel channel : channels){\r\n\t\t\t\ttry{\r\n\t\t\t\t\tchannel.close();\r\n\t\t\t\t}catch (Exception e){\r\n\t\t\t\t\tif(LOGGER.isDebugEnabled()) {\r\n\t\t\t\t\t\tLOGGER.error(&quot;Erorr while closing socket&quot;,e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n    static class HostTarget {\r\n\t\r\n\tString ipAddress;\r\n\tBoolean isReachable;\r\n     public String getIpAddress() {\r\n\t\treturn ipAddress;\r\n\t}\r\n\tpublic Boolean getIsReachable() {\r\n\t\treturn isReachable;\r\n\t}\r\n\r\n\tpublic void setIpAddress(String ipAddress) {\r\n\t\tthis.ipAddress = ipAddress;\r\n\t}\r\n\tpublic void setIsReachable(Boolean isReachable) {\r\n\t\tthis.isReachable = isReachable;\r\n\t}\r\n\t\r\n    }\r\n\r\n\r\n","title":"Fastest way to scan ports with Java","body":"<p>I may be late to this but you can do a bulk port scan by doing the following using NIO2 single-threaded.  By following NIO2 code with a single thread, I am able to scan all the hosts for a given port.  Please try a reasonable timeout and make sure you have large File Discriptor for process</p>\n<pre><code>public static List&lt;HostTarget&gt; getRechabilityStatus(String...hosts,final int port, final int bulkDevicesPingTimeoutinMS) throws Exception {\n\n    List&lt;AsynchronousSocketChannel&gt; channels = new ArrayList&lt;&gt;(hosts.length);\n    try {\n        List&lt;CompletableFuture&lt;HostTarget&gt;&gt; all = new ArrayList&lt;&gt;(hosts.length);\n\n        List&lt;HostTarget&gt; allHosts = new ArrayList(hosts.length);\n        for (String host : hosts) {\n            InetSocketAddress address = new InetSocketAddress(host, port);\n            HostTarget target = new HostTarget();\n            target.setIpAddress(host);\n            allHosts.add(target);\n            AsynchronousSocketChannel client = AsynchronousSocketChannel.open();\n            channels.add(client);\n            final CompletableFuture&lt;HostTarget&gt; targetFuture = new CompletableFuture&lt;&gt;();\n            all.add(targetFuture);\n            client.connect(address, target, new CompletionHandler&lt;Void, HostTarget&gt;() {\n                @Override\n                public void completed(Void result, HostTarget attachment) {\n                    attachment.setIsReachable(true);\n                    targetFuture.complete(attachment);\n                }\n\n                @Override\n                public void failed(Throwable exc, HostTarget attachment) {\n                    attachment.setIsReachable(false);\n                    attachment.errrorMessage = exc.getMessage();\n                    targetFuture.complete(attachment);\n                }\n            });\n        }\n\n        try {\n            if(bulkDevicesPingTimeoutinMS &gt; 0) {\n                CompletableFuture.allOf(all.toArray(new CompletableFuture[]{})).get(bulkDevicesPingTimeoutinMS, TimeUnit.MILLISECONDS);\n            }else{\n                // wait for all future to be complete 1000 scan is taking 7 seconds.\n                CompletableFuture.allOf(all.toArray(new CompletableFuture[]{})).join();\n            }\n        } catch (Exception timeoutException) {\n            // ignore\n        }\n        return allHosts;\n    }finally {\n        for(AsynchronousSocketChannel channel : channels){\n            try{\n                channel.close();\n            }catch (Exception e){\n                if(LOGGER.isDebugEnabled()) {\n                    LOGGER.error(&quot;Erorr while closing socket&quot;,e);\n                }\n            }\n\n        }\n    }\nstatic class HostTarget {\n\nString ipAddress;\nBoolean isReachable;\n public String getIpAddress() {\n    return ipAddress;\n}\npublic Boolean getIsReachable() {\n    return isReachable;\n}\n\npublic void setIpAddress(String ipAddress) {\n    this.ipAddress = ipAddress;\n}\npublic void setIsReachable(Boolean isReachable) {\n    this.isReachable = isReachable;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18996762,"reputation":173,"user_id":13957655,"display_name":"Toni Zeidler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665409811,"creation_date":1665408510,"answer_id":74015714,"question_id":11547082,"body_markdown":"Inspired by you all, but just this Code realy worked! \r\n\r\n**class PortScaner**\r\n\r\n    import java.net.InetSocketAddress;\r\n    import java.net.Socket;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    \r\n    public class PortScaner {\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException, ExecutionException {\r\n    \t\tfinal ExecutorService es = Executors.newFixedThreadPool(20);\r\n    \t\tfinal String ip = &quot;127.0.0.1&quot;;\r\n    \t\tfinal int timeout = 200;\r\n    \t\tfinal List&lt;Future&lt;ScanResult&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tfor (int port = 1; port &lt;= 65535; port++) \r\n    \t\t\tfutures.add(portIsOpen(es, ip, port, timeout));\r\n    \t\t\r\n    \t\t\r\n    \t\tes.shutdown();\r\n    \t\tint openPorts = 0;\r\n    \r\n    \t\tfor (final Future&lt;ScanResult&gt; f : futures)\r\n    \t\t\tif (f.get().isOpen()) {\r\n    \t\t\t\topenPorts++;\r\n    \t\t\t\tSystem.out.println(f.get());\r\n    \t\t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;There are &quot; + openPorts + &quot; open ports on host &quot; + ip + &quot; (probed with a timeout of &quot; + timeout + &quot;ms)&quot;);\r\n    \t}\r\n    \t\r\n    \r\n    \tpublic static Future&lt;ScanResult&gt; portIsOpen(final ExecutorService es, final String ip, final int port, final int timeout) {\r\n    \t\treturn es.submit(\r\n    \t\t\tnew Callable&lt;ScanResult&gt;() {\r\n    \t\t      \r\n    \t\t\t\t@Override \r\n    \t\t\t\tpublic ScanResult call() {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tSocket socket = new Socket();\r\n    \t\t\t\t\t\tsocket.connect(new InetSocketAddress(ip, port), timeout);\r\n    \t\t\t\t\t\tsocket.close();\r\n    \t\t\t\t\t\treturn new ScanResult(port, true);\r\n    \t\t        } catch (Exception ex) {\r\n    \t\t          return  new ScanResult(port, false);\r\n    \t\t        }\r\n    \t\t      \r\n                 }\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\n**class ScanResult**\r\n\r\n    public final class ScanResult {\r\n    \t\r\n    \tprivate final int port;\r\n    \t\r\n    \tprivate final boolean isOpen;\r\n    \r\n    \r\n    \tpublic ScanResult(int port, boolean isOpen) {\r\n    \t\tsuper();\r\n    \t\tthis.port = port;\r\n    \t\tthis.isOpen = isOpen;\r\n    \t}\r\n    \r\n    \r\n    \t/**\r\n    \t * @return the port\r\n    \t */\r\n    \tpublic int getPort() {\r\n    \t\treturn port;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @return the isOpen\r\n    \t */\r\n    \tpublic boolean isOpen() {\r\n    \t\treturn isOpen;\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;ScanResult [port=&quot; + port + &quot;, isOpen=&quot; + isOpen + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Fastest way to scan ports with Java","body":"<p>Inspired by you all, but just this Code realy worked!</p>\n<p><strong>class PortScaner</strong></p>\n<pre><code>import java.net.InetSocketAddress;\nimport java.net.Socket;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\npublic class PortScaner {\n\n    public static void main(String[] args) throws InterruptedException, ExecutionException {\n        final ExecutorService es = Executors.newFixedThreadPool(20);\n        final String ip = &quot;127.0.0.1&quot;;\n        final int timeout = 200;\n        final List&lt;Future&lt;ScanResult&gt;&gt; futures = new ArrayList&lt;&gt;();\n        \n        for (int port = 1; port &lt;= 65535; port++) \n            futures.add(portIsOpen(es, ip, port, timeout));\n        \n        \n        es.shutdown();\n        int openPorts = 0;\n\n        for (final Future&lt;ScanResult&gt; f : futures)\n            if (f.get().isOpen()) {\n                openPorts++;\n                System.out.println(f.get());\n            }\n        \n        System.out.println(&quot;There are &quot; + openPorts + &quot; open ports on host &quot; + ip + &quot; (probed with a timeout of &quot; + timeout + &quot;ms)&quot;);\n    }\n    \n\n    public static Future&lt;ScanResult&gt; portIsOpen(final ExecutorService es, final String ip, final int port, final int timeout) {\n        return es.submit(\n            new Callable&lt;ScanResult&gt;() {\n              \n                @Override \n                public ScanResult call() {\n                    try {\n                        Socket socket = new Socket();\n                        socket.connect(new InetSocketAddress(ip, port), timeout);\n                        socket.close();\n                        return new ScanResult(port, true);\n                } catch (Exception ex) {\n                  return  new ScanResult(port, false);\n                }\n              \n             }\n        });\n    }\n}\n</code></pre>\n<p><strong>class ScanResult</strong></p>\n<pre><code>public final class ScanResult {\n    \n    private final int port;\n    \n    private final boolean isOpen;\n\n\n    public ScanResult(int port, boolean isOpen) {\n        super();\n        this.port = port;\n        this.isOpen = isOpen;\n    }\n\n\n    /**\n     * @return the port\n     */\n    public int getPort() {\n        return port;\n    }\n\n    /**\n     * @return the isOpen\n     */\n    public boolean isOpen() {\n        return isOpen;\n    }\n\n\n    @Override\n    public String toString() {\n        return &quot;ScanResult [port=&quot; + port + &quot;, isOpen=&quot; + isOpen + &quot;]&quot;;\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":1365147,"reputation":3209,"user_id":1301750,"accept_rate":72,"display_name":"Rohit Malish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66636,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":11547117,"answer_count":8,"score":36,"last_activity_date":1665409811,"creation_date":1342632766,"question_id":11547082,"body_markdown":"I made a very simple port scanner, but it runs too slow, so I&#39;m looking for a way to make it scan faster. Here is my code:\r\n\r\n    public boolean portIsOpen(String ip, int port, int timeout) {\r\n        try {\r\n            Socket socket = new Socket();\r\n            socket.connect(new InetSocketAddress(ip, port), timeout);\r\n            socket.close();\r\n            return true;\r\n        } catch (Exception ex) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nThis code tests if a specific port is open on a specific ip. For timeout I used a minimum value of `200` because when I go lower it doesn&#39;t have enough time to test the port. \r\n\r\n**It works well, but takes too much to scan from 0 to 65535. Is there any other way that could maybe scan from 0 to 65535 in less than 5 minutes?**","title":"Fastest way to scan ports with Java","body":"<p>I made a very simple port scanner, but it runs too slow, so I'm looking for a way to make it scan faster. Here is my code:</p>\n\n<pre><code>public boolean portIsOpen(String ip, int port, int timeout) {\n    try {\n        Socket socket = new Socket();\n        socket.connect(new InetSocketAddress(ip, port), timeout);\n        socket.close();\n        return true;\n    } catch (Exception ex) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>This code tests if a specific port is open on a specific ip. For timeout I used a minimum value of <code>200</code> because when I go lower it doesn't have enough time to test the port. </p>\n\n<p><strong>It works well, but takes too much to scan from 0 to 65535. Is there any other way that could maybe scan from 0 to 65535 in less than 5 minutes?</strong></p>\n"},{"tags":["java","properties","path"],"comments":[{"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"score":0,"creation_date":1299272542,"post_id":5199172,"comment_id":5844594,"body_markdown":"Do you have the ability to intercept the file name before being sent to the `load()` method?","body":"Do you have the ability to intercept the file name before being sent to the <code>load()</code> method?"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1299272983,"post_id":5199172,"comment_id":5844687,"body_markdown":"Do you read the properties and then load properties from there?","body":"Do you read the properties and then load properties from there?"},{"owner":{"account_id":287767,"reputation":793,"user_id":587789,"accept_rate":59,"display_name":"ovdsrn"},"score":0,"creation_date":1299273021,"post_id":5199172,"comment_id":5844697,"body_markdown":"@adarshr: No, I can&#39;t intercept it.","body":"@adarshr: No, I can&#39;t intercept it."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1299273220,"post_id":5199172,"comment_id":5844750,"body_markdown":"You question doesn&#39;t make much sense, could you post some relevant code and sample input? I don&#39;t think I follow you. How does you properties look like? How does the code that uses that properties look like?","body":"You question doesn&#39;t make much sense, could you post some relevant code and sample input? I don&#39;t think I follow you. How does you properties look like? How does the code that uses that properties look like?"},{"owner":{"account_id":144642,"reputation":29072,"user_id":353852,"display_name":"krock"},"score":0,"creation_date":1299273851,"post_id":5199172,"comment_id":5844905,"body_markdown":"@OscarRyz The code that uses the properties is the `java.util.Properties` class which requires that you escape backslashes.  OP does not want the user to deal with this.","body":"@OscarRyz The code that uses the properties is the <code>java.util.Properties</code> class which requires that you escape backslashes.  OP does not want the user to deal with this."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1299273970,"post_id":5199172,"comment_id":5844933,"body_markdown":"@krock: Thanks. I think It may be as simple as `properties.load(new StringReader( previouslyProcessedWithEscapedBackSlashAndOtherFileContentHere ) );`  but is hard to tell since the OP doesn&#39;t provide more info.","body":"@krock: Thanks. I think It may be as simple as <code>properties.load(new StringReader( previouslyProcessedWithEscapedBackSlashAndOtherFileContentHe&zwnj;&#8203;re ) );</code>  but is hard to tell since the OP doesn&#39;t provide more info."}],"answers":[{"tags":[],"owner":{"account_id":17257,"reputation":1358,"user_id":38415,"accept_rate":83,"display_name":"Holograham"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1299272478,"creation_date":1299272478,"answer_id":5199212,"question_id":5199172,"body_markdown":"I am a bit confused with your question. Are you asking if there is a way that you can have a user edit the properties file without having to use non-intuitive \\ escape character?\r\n\r\nIf you are setting this up for a user to be able to edit perhaps you should have a program or script to create the properties file (adding in escape characters when needed)","title":"How to specify a path in a properties file to be loaded with Java Properties","body":"<p>I am a bit confused with your question. Are you asking if there is a way that you can have a user edit the properties file without having to use non-intuitive \\ escape character?</p>\n\n<p>If you are setting this up for a user to be able to edit perhaps you should have a program or script to create the properties file (adding in escape characters when needed)</p>\n"},{"tags":[],"owner":{"account_id":144642,"reputation":29072,"user_id":353852,"display_name":"krock"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1299274118,"creation_date":1299273510,"answer_id":5199377,"question_id":5199172,"body_markdown":"You might be better off defining a path for the user to place a properties file, or point them to an existing properties file (that contains comments about useful properties etc.) e.g. `${user.home}\\\\myapp\\\\myprops.properties` and then always load that file, or better yet, just provide the directory and load every file that ends in `.properties` in that directory.\r\n\r\nIf your application is a GUI app, you could also allow the user to select a file in a file dialog box.  The strings you get back out of swing and SWT labels and file choosers are java friendly and you needn&#39;t worry about escape characters.","title":"How to specify a path in a properties file to be loaded with Java Properties","body":"<p>You might be better off defining a path for the user to place a properties file, or point them to an existing properties file (that contains comments about useful properties etc.) e.g. <code>${user.home}\\\\myapp\\\\myprops.properties</code> and then always load that file, or better yet, just provide the directory and load every file that ends in <code>.properties</code> in that directory.</p>\n\n<p>If your application is a GUI app, you could also allow the user to select a file in a file dialog box.  The strings you get back out of swing and SWT labels and file choosers are java friendly and you needn't worry about escape characters.</p>\n"},{"tags":[],"owner":{"account_id":39177,"reputation":17181,"user_id":112877,"display_name":"Eugene Ryzhikov"},"down_vote_count":1,"up_vote_count":33,"is_accepted":true,"score":32,"last_activity_date":1404498152,"creation_date":1299274867,"answer_id":5199591,"question_id":5199172,"body_markdown":"Even simpler solution is to **use forward slashes**. This way your path will look like `C:/Users/Harald/Folder1/Version1/Folder2` and everything else will just work - no code change required!","title":"How to specify a path in a properties file to be loaded with Java Properties","body":"<p>Even simpler solution is to <strong>use forward slashes</strong>. This way your path will look like <code>C:/Users/Harald/Folder1/Version1/Folder2</code> and everything else will just work - no code change required!</p>\n"},{"tags":[],"owner":{"account_id":4281907,"reputation":307,"user_id":3501003,"display_name":"Umesh Bhutada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665409512,"creation_date":1665240998,"answer_id":73997989,"question_id":5199172,"body_markdown":"if in java code use `\\\\`\r\n\r\nif in the properties file use `/`\r\n","title":"How to specify a path in a properties file to be loaded with Java Properties","body":"<p>if in java code use <code>\\\\</code></p>\n<p>if in the properties file use <code>/</code></p>\n"}],"owner":{"account_id":287767,"reputation":793,"user_id":587789,"accept_rate":59,"display_name":"ovdsrn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59167,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":5199591,"answer_count":4,"score":24,"last_activity_date":1665409512,"creation_date":1299272247,"question_id":5199172,"body_markdown":"I have a .properties file I want to load in a Java Properties object.\r\nThe file contains some paths. In order to be able to load the properties file without getting a `java.lang.IllegalArgumentException: Malformed \\uxxxx encoding.` when loading the properties from the file with the method Properties.load(), I need to use the escape character &#39;\\&#39; in the path.\r\n\r\nSo my path looks like: `C:\\\\Users\\\\Harald\\\\Folder1\\\\Version1\\\\Folder2`. And it works this way, no exception is thrown.\r\n\r\nThe problem is that I can&#39;t explain to my user (because this path can be changed by the user!) that he needs to use double &#39;\\&#39; in the path.\r\n\r\nDoes anybody knows a work-around for this problem?\r\nThanks!","title":"How to specify a path in a properties file to be loaded with Java Properties","body":"<p>I have a .properties file I want to load in a Java Properties object.\nThe file contains some paths. In order to be able to load the properties file without getting a <code>java.lang.IllegalArgumentException: Malformed \\uxxxx encoding.</code> when loading the properties from the file with the method Properties.load(), I need to use the escape character '\\' in the path.</p>\n\n<p>So my path looks like: <code>C:\\\\Users\\\\Harald\\\\Folder1\\\\Version1\\\\Folder2</code>. And it works this way, no exception is thrown.</p>\n\n<p>The problem is that I can't explain to my user (because this path can be changed by the user!) that he needs to use double '\\' in the path.</p>\n\n<p>Does anybody knows a work-around for this problem?\nThanks!</p>\n"},{"tags":["java","spring-boot","unit-testing","junit"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1665410407,"post_id":74015891,"comment_id":130687410,"body_markdown":"Why do you want to verify that? If this wouldn&#39;t work Java would be broken. Apart from that a unit test is testing a unit not it&#39;s interanal","body":"Why do you want to verify that? If this wouldn&#39;t work Java would be broken. Apart from that a unit test is testing a unit not it&#39;s interanal"},{"owner":{"account_id":18037715,"reputation":1,"user_id":13110716,"display_name":"WhatHappenedHere"},"score":0,"creation_date":1665423432,"post_id":74015891,"comment_id":130692066,"body_markdown":"@SimonMartinelli The test I described doesnt make sense to me either, it was a requirement by one of my senior devs. To my understanding, if there is a test for someMethod() and the test proves that the method works, then we should be able to assume that emitObject() would also work as expected?","body":"@SimonMartinelli The test I described doesnt make sense to me either, it was a requirement by one of my senior devs. To my understanding, if there is a test for someMethod() and the test proves that the method works, then we should be able to assume that emitObject() would also work as expected?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1665468098,"post_id":74015891,"comment_id":130700815,"body_markdown":"Yes that&#39;s exactly the point. One other thing is that a method that doesn&#39;t return anything and probably changes the internal state is not suitable for testing. It&#39;s much better to have a functional style programming model","body":"Yes that&#39;s exactly the point. One other thing is that a method that doesn&#39;t return anything and probably changes the internal state is not suitable for testing. It&#39;s much better to have a functional style programming model"},{"owner":{"account_id":18037715,"reputation":1,"user_id":13110716,"display_name":"WhatHappenedHere"},"score":1,"creation_date":1665495765,"post_id":74015891,"comment_id":130710545,"body_markdown":"@SimonMartinelli thank you very much, this cleared up my confusion","body":"@SimonMartinelli thank you very much, this cleared up my confusion"}],"owner":{"account_id":18037715,"reputation":1,"user_id":13110716,"display_name":"WhatHappenedHere"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665409503,"creation_date":1665409503,"question_id":74015891,"body_markdown":"Some clarification,\r\nI am calling the emitObject() method. I would like to verify the following:\r\n- that someMethod() gets called,\r\n- that anotherObject() is created successfully\r\n- the values passed to anotherObject() constructor \r\n```\r\npublic void emitObject(CustomObject customObject1, CustomObject customObject2) {\r\n\r\n    someMethod(new anotherObject(\r\n      customObject1.someProp1,\r\n      customObject1.someProp2,\r\n      customObject2.someProp1,\r\n      customObject2.someProp2,\r\n    ));\r\n\r\n}\r\n```","title":"Spring - How do I test the arguments received by a method that is called by another method?","body":"<p>Some clarification,\nI am calling the emitObject() method. I would like to verify the following:</p>\n<ul>\n<li>that someMethod() gets called,</li>\n<li>that anotherObject() is created successfully</li>\n<li>the values passed to anotherObject() constructor</li>\n</ul>\n<pre><code>public void emitObject(CustomObject customObject1, CustomObject customObject2) {\n\n    someMethod(new anotherObject(\n      customObject1.someProp1,\n      customObject1.someProp2,\n      customObject2.someProp1,\n      customObject2.someProp2,\n    ));\n\n}\n</code></pre>\n"},{"tags":["java","stream","java-stream"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665408609,"creation_date":1665408609,"answer_id":74015733,"question_id":74015684,"body_markdown":"use `.filter()` to filter out null values:\r\n\r\n    final Set&lt;String&gt; materialIds = materials.stream().filter(s -&gt; s != null).map(Material::getUuid).collect(Collectors.toSet()); \r\n\r\n","title":"Java Stream collected object in List, shows size as 1 but object is null","body":"<p>use <code>.filter()</code> to filter out null values:</p>\n<pre><code>final Set&lt;String&gt; materialIds = materials.stream().filter(s -&gt; s != null).map(Material::getUuid).collect(Collectors.toSet()); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665408769,"creation_date":1665408769,"answer_id":74015765,"question_id":74015684,"body_markdown":"Filter out `null` elements from the stream before applying `map()`:\r\n\r\n```\r\nfinal Set&lt;String&gt; materialIds = materials.stream()\r\n    .filter(Objects::nonNull)\r\n    .map(Material::getUuid)\r\n    .collect(Collectors.toSet());\r\n```","title":"Java Stream collected object in List, shows size as 1 but object is null","body":"<p>Filter out <code>null</code> elements from the stream before applying <code>map()</code>:</p>\n<pre><code>final Set&lt;String&gt; materialIds = materials.stream()\n    .filter(Objects::nonNull)\n    .map(Material::getUuid)\n    .collect(Collectors.toSet());\n</code></pre>\n"}],"owner":{"account_id":22500078,"reputation":151,"user_id":16696520,"display_name":"Nitin Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74015765,"answer_count":2,"score":1,"last_activity_date":1665408907,"creation_date":1665408394,"question_id":74015684,"body_markdown":"I am working on a SpringBoot project, where while testing I was deliberately passing something like this in the request and got a NullPointerException:\r\n\r\n```json\r\n{\r\n    &quot;materials&quot;: [\r\n        {\r\n\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nI don&#39;t want to use @NotNull on `materials` in the Request Class as the `materials` field can be null.\r\nbut when it is not null I want to make sure a few fields are present as based on that I need to validate its value.\r\n\r\n```java\r\nfinal List&lt;Material&gt; materials = materialRequests.getMaterials().stream().map(MaterialRequest::getMaterial).collect(Collectors.toList());\r\n\r\n// Throws NullPointerException here\r\nfinal Set&lt;String&gt; materialIds = materials.stream().map(Material::getUuid).collect(Collectors.toSet()); \r\n\r\n```\r\n\r\nWhile debugging I saw this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NdFDf.png\r\n\r\n`materials` shows it has 1 element however it is null, and due to that, I get a null pointer expectation.\r\nHow can I put a check here to see whether it is null or not.. and why is the behavior like this?\r\n\r\n","title":"Java Stream collected object in List, shows size as 1 but object is null","body":"<p>I am working on a SpringBoot project, where while testing I was deliberately passing something like this in the request and got a NullPointerException:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;materials&quot;: [\n        {\n\n        }\n    ]\n}\n</code></pre>\n<p>I don't want to use @NotNull on <code>materials</code> in the Request Class as the <code>materials</code> field can be null.\nbut when it is not null I want to make sure a few fields are present as based on that I need to validate its value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;Material&gt; materials = materialRequests.getMaterials().stream().map(MaterialRequest::getMaterial).collect(Collectors.toList());\n\n// Throws NullPointerException here\nfinal Set&lt;String&gt; materialIds = materials.stream().map(Material::getUuid).collect(Collectors.toSet()); \n\n</code></pre>\n<p>While debugging I saw this:</p>\n<p><a href=\"https://i.stack.imgur.com/NdFDf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NdFDf.png\" alt=\"enter image description here\" /></a></p>\n<p><code>materials</code> shows it has 1 element however it is null, and due to that, I get a null pointer expectation.\nHow can I put a check here to see whether it is null or not.. and why is the behavior like this?</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665306862,"post_id":74003448,"comment_id":130665389,"body_markdown":"(sorry, don&#39;t know this studio, but it looks very &quot;Eclipse-like&quot;) Tried without semicolon?? So: &quot;container==0&quot;","body":"(sorry, don&#39;t know this studio, but it looks very &quot;Eclipse-like&quot;) Tried without semicolon?? So: &quot;container==0&quot;"},{"owner":{"account_id":25358435,"reputation":15,"user_id":19174162,"display_name":"Alfonso"},"score":0,"creation_date":1665307170,"post_id":74003448,"comment_id":130665446,"body_markdown":"@xerx593 I&#39;ve tried... but problem remains unluckly","body":"@xerx593 I&#39;ve tried... but problem remains unluckly"},{"owner":{"account_id":12969774,"reputation":1616,"user_id":9375979,"display_name":"Yashar Ahmadov"},"score":0,"creation_date":1665311096,"post_id":74003448,"comment_id":130666116,"body_markdown":"You are sure that `container` is updated correctly? What is the type of that variable?","body":"You are sure that <code>container</code> is updated correctly? What is the type of that variable?"},{"owner":{"account_id":25358435,"reputation":15,"user_id":19174162,"display_name":"Alfonso"},"score":0,"creation_date":1665317103,"post_id":74003448,"comment_id":130667211,"body_markdown":"@YasharAhmadov it’s an Int variable","body":"@YasharAhmadov it’s an Int variable"}],"answers":[{"tags":[],"owner":{"account_id":4999683,"reputation":3818,"user_id":4019094,"display_name":"Jaco-Ben Vosloo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665408755,"creation_date":1665408755,"answer_id":74015761,"question_id":74003448,"body_markdown":"Conditional events are notoriously unfriendly to use for two reasons\r\n1) They make your model slower - as the condition needs to be checked almost continuously\r\n2) This almost continuously checking can lead to checks missing when the condition actually changed\r\n\r\n\r\nBest practices is not too poll a variable and figure out when it changes but to control the changing of the variable and to the check there\r\n\r\n\r\nSo I suggest the following\r\n\r\n1) Make the variable private\r\n2) Create a setter and getter for the variable\r\n3) In the setter check if the variable meets your condition `==0` and then call the code that is currently in the event. \r\n\r\nAlternatively you can also call `onChange()` to force Anylogic to reevaluate all conditional events and transitions. ","title":"ANYLOGIC How to read an event condition?","body":"<p>Conditional events are notoriously unfriendly to use for two reasons</p>\n<ol>\n<li>They make your model slower - as the condition needs to be checked almost continuously</li>\n<li>This almost continuously checking can lead to checks missing when the condition actually changed</li>\n</ol>\n<p>Best practices is not too poll a variable and figure out when it changes but to control the changing of the variable and to the check there</p>\n<p>So I suggest the following</p>\n<ol>\n<li>Make the variable private</li>\n<li>Create a setter and getter for the variable</li>\n<li>In the setter check if the variable meets your condition <code>==0</code> and then call the code that is currently in the event.</li>\n</ol>\n<p>Alternatively you can also call <code>onChange()</code> to force Anylogic to reevaluate all conditional events and transitions.</p>\n"}],"owner":{"account_id":25358435,"reputation":15,"user_id":19174162,"display_name":"Alfonso"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665408755,"creation_date":1665306498,"question_id":74003448,"body_markdown":"I need to run the event in the pic with this condition (container == 0). Anyway, when the value of the variable becomes 0, the event is not triggered. How can I fix it? Many thanks. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h5Dc7.png","title":"ANYLOGIC How to read an event condition?","body":"<p>I need to run the event in the pic with this condition (container == 0). Anyway, when the value of the variable becomes 0, the event is not triggered. How can I fix it? Many thanks.</p>\n<p><a href=\"https://i.stack.imgur.com/h5Dc7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h5Dc7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":3059995,"reputation":4447,"user_id":2592874,"display_name":"David Gilbert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1404425492,"creation_date":1404425492,"answer_id":24564033,"question_id":24562775,"body_markdown":"It is the `getLegendItems()` method in the `XYPlot` class that does the visibility checking, so you could subclass XYPlot and override this method (or modify it directly if you want to build your own custom version of `JFreeChart`).","title":"Setting series visiblity to False also hides it from the legend","body":"<p>It is the <code>getLegendItems()</code> method in the <code>XYPlot</code> class that does the visibility checking, so you could subclass XYPlot and override this method (or modify it directly if you want to build your own custom version of <code>JFreeChart</code>).</p>\n"},{"tags":[],"owner":{"account_id":5395720,"reputation":261,"user_id":4297014,"display_name":"Georg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665408563,"creation_date":1430493294,"answer_id":29989599,"question_id":24562775,"body_markdown":"I suggest that you change the XYPlot.getLegendItems() default code so it does allow a series to appear in the legend even if not visible in the plot:\r\n\r\n\tfor (int i = 0; i &lt; seriesCount; i++) {\r\n\t\tboolean v1 = renderer.isSeriesVisible(i);\r\n\t\tboolean v2 = renderer.isSeriesVisibleInLegend(i);\r\n\t\tif (v2) {// original code: v1 &amp;&amp; v2\r\n\t\t\tboolean workaround = !v1 &amp;&amp; v2;\r\n\t\t\tif (workaround)  renderer.setSeriesVisible(i, true, false);// temporarily enable before getLegendItem()\r\n\t\t\tLegendItem item = renderer.getLegendItem(datasetIndex, i);\r\n\t\t\tif (workaround)  renderer.setSeriesVisible(i, false, false);\r\n\r\n","title":"Setting series visiblity to False also hides it from the legend","body":"<p>I suggest that you change the XYPlot.getLegendItems() default code so it does allow a series to appear in the legend even if not visible in the plot:</p>\n<pre><code>for (int i = 0; i &lt; seriesCount; i++) {\n    boolean v1 = renderer.isSeriesVisible(i);\n    boolean v2 = renderer.isSeriesVisibleInLegend(i);\n    if (v2) {// original code: v1 &amp;&amp; v2\n        boolean workaround = !v1 &amp;&amp; v2;\n        if (workaround)  renderer.setSeriesVisible(i, true, false);// temporarily enable before getLegendItem()\n        LegendItem item = renderer.getLegendItem(datasetIndex, i);\n        if (workaround)  renderer.setSeriesVisible(i, false, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11453701,"reputation":21,"user_id":8395434,"display_name":"Heather Chen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501521335,"creation_date":1501521335,"answer_id":45421781,"question_id":24562775,"body_markdown":"You can also call `getLegendItems()`, save it as a `LegendItemCollection` and set `plot.setFixedLegendItems(legendItems)` before any action listener occurs. This way it&#39;ll set all the legend items from the initial state, even when legend items are clicked on and off. \r\n\r\n    XYPlot plot = chart.getXYPlot();\r\n    LegendItemCollection legendItems = plot.getLegendItems();\r\n    plot.setFixedLegendItems(legendItems);\r\n    chartPanel.addChartMouseListener(new ChartMouseListener() {\r\n      @Override\r\n      public void chartMouseClicked(ChartMouseEvent chartMouseEvent) {\r\n        ChartEntity entity = chartMouseEvent.getEntity();\r\n        if (chartMouseEvent.getEntity() instanceof LegendItemEntity) {\r\n          LegendItemEntity itemEntity = (LegendItemEntity) entity;\r\n          XYDataset dataset = (XYDataset) itemEntity.getDataset();\r\n          int index = dataset.indexOf(itemEntity.getSeriesKey());\r\n          XYPlot plot = (XYPlot) chartMouseEvent.getChart().getPlot();\r\n\r\n          //set the renderer to hide the series\r\n          XYItemRenderer renderer = plot.getRenderer();\r\n          renderer.setSeriesVisible(index, !renderer.isSeriesVisible(index), true);\r\n        }\r\n      }","title":"Setting series visiblity to False also hides it from the legend","body":"<p>You can also call <code>getLegendItems()</code>, save it as a <code>LegendItemCollection</code> and set <code>plot.setFixedLegendItems(legendItems)</code> before any action listener occurs. This way it'll set all the legend items from the initial state, even when legend items are clicked on and off. </p>\n\n<pre><code>XYPlot plot = chart.getXYPlot();\nLegendItemCollection legendItems = plot.getLegendItems();\nplot.setFixedLegendItems(legendItems);\nchartPanel.addChartMouseListener(new ChartMouseListener() {\n  @Override\n  public void chartMouseClicked(ChartMouseEvent chartMouseEvent) {\n    ChartEntity entity = chartMouseEvent.getEntity();\n    if (chartMouseEvent.getEntity() instanceof LegendItemEntity) {\n      LegendItemEntity itemEntity = (LegendItemEntity) entity;\n      XYDataset dataset = (XYDataset) itemEntity.getDataset();\n      int index = dataset.indexOf(itemEntity.getSeriesKey());\n      XYPlot plot = (XYPlot) chartMouseEvent.getChart().getPlot();\n\n      //set the renderer to hide the series\n      XYItemRenderer renderer = plot.getRenderer();\n      renderer.setSeriesVisible(index, !renderer.isSeriesVisible(index), true);\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":475948,"reputation":1452,"user_id":886569,"accept_rate":60,"display_name":"codeNinja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3200,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":24564033,"answer_count":3,"score":1,"last_activity_date":1665408563,"creation_date":1404419235,"question_id":24562775,"body_markdown":"I am using JFreeChart.\r\n\r\nWhen i click on a Legend item i have put a listener. In the listener i make the series that was clicked invisble. But as a side effect the series also vanishes from the Legend. \r\n\r\nI do not want the series to vanish from the legend. What can i do so that i can show/hide series on the plot but not affect the legend.\r\n\r\nSetting the Legend to be fixed using plot.setFixedLegendItems(list) cause other mouse effects to stop working (on mouse over of data point the series line currently becomes thicker and the same in the legend).\r\n\r\n    chartPanel.addChartMouseListener(new ChartMouseListener() {\r\n        @Override\r\n        public void chartMouseClicked(ChartMouseEvent event) {\r\n            ChartEntity entity = event.getEntity();\r\n        \tif (entity instanceof LegendItemEntity) {\r\n        \t\t//*\r\n        \t\tLegendItemEntity itemEntity = (LegendItemEntity) entity;\r\n        \t\tXYDataset dataset = (XYDataset) itemEntity.getDataset();\r\n        \t\tint index = dataset.indexOf(itemEntity.getSeriesKey());\r\n        \t\tXYPlot plot = (XYPlot) event.getChart().getPlot();\r\n        \r\n        \t\t//set the renderer to hide the series\r\n        \t\tXYItemRenderer renderer = plot.getRenderer();\r\n        \t\trenderer.setSeriesVisible(index, !renderer.isSeriesVisible(index), false);\r\n        \t\trenderer.setSeriesVisibleInLegend(index, true, false);\r\n        \t\t//*/\t\t\r\n        \t}\r\n        }\r\n    });","title":"Setting series visiblity to False also hides it from the legend","body":"<p>I am using JFreeChart.</p>\n\n<p>When i click on a Legend item i have put a listener. In the listener i make the series that was clicked invisble. But as a side effect the series also vanishes from the Legend. </p>\n\n<p>I do not want the series to vanish from the legend. What can i do so that i can show/hide series on the plot but not affect the legend.</p>\n\n<p>Setting the Legend to be fixed using plot.setFixedLegendItems(list) cause other mouse effects to stop working (on mouse over of data point the series line currently becomes thicker and the same in the legend).</p>\n\n<pre><code>chartPanel.addChartMouseListener(new ChartMouseListener() {\n    @Override\n    public void chartMouseClicked(ChartMouseEvent event) {\n        ChartEntity entity = event.getEntity();\n        if (entity instanceof LegendItemEntity) {\n            //*\n            LegendItemEntity itemEntity = (LegendItemEntity) entity;\n            XYDataset dataset = (XYDataset) itemEntity.getDataset();\n            int index = dataset.indexOf(itemEntity.getSeriesKey());\n            XYPlot plot = (XYPlot) event.getChart().getPlot();\n\n            //set the renderer to hide the series\n            XYItemRenderer renderer = plot.getRenderer();\n            renderer.setSeriesVisible(index, !renderer.isSeriesVisible(index), false);\n            renderer.setSeriesVisibleInLegend(index, true, false);\n            //*/        \n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","node.js","aes","cbc-mode","node-forge"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1665407709,"post_id":74014629,"comment_id":130686390,"body_markdown":"When decrypting, the IV of the encryption must be applied. This is not the case in your code (instead you use a zero IV (16 0x00 values) for decryption), which (for CBC) results in a corrupted first block.","body":"When decrypting, the IV of the encryption must be applied. This is not the case in your code (instead you use a zero IV (16 0x00 values) for decryption), which (for CBC) results in a corrupted first block."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1665411974,"post_id":74014629,"comment_id":130688006,"body_markdown":"Note that your Java reference code has a vulnerability because of the static IV, s. e.g. [Why is using a Non-Random IV with CBC Mode a vulnerability?](https://stackoverflow.com/questions/3008139/why-is-using-a-non-random-iv-with-cbc-mode-a-vulnerability).","body":"Note that your Java reference code has a vulnerability because of the static IV, s. e.g. <a href=\"https://stackoverflow.com/questions/3008139/why-is-using-a-non-random-iv-with-cbc-mode-a-vulnerability\">Why is using a Non-Random IV with CBC Mode a vulnerability?</a>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1665408536,"creation_date":1665408536,"answer_id":74015720,"question_id":74014629,"body_markdown":"IV stands for &quot;initialization vector&quot;, and it&#39;s more or less a salt feature: It&#39;s __not__ a secret (it doesn&#39;t generally matter if others know it. If it did matter, we would call it a &#39;key&#39; instead). For some crypto algorithms it really doesn&#39;t matter, for others, it is crucial that this is unique and random, for example if you&#39;re using GCM mode (which has quite a few advantages over CBC).\r\n\r\nFor AES/CBC it probably doesn&#39;t matter, but it&#39;s crypto. If I&#39;m wrong, you probably won&#39;t know until you&#39;re hacked.\r\n\r\nAt any rate, the usual approach for IVs is as follows:\r\n\r\n* The sender randoms up an IV.\r\n* The sender sends it, plain text, to the receiver.\r\n* The communication commences with both parties applying said IV.\r\n\r\nIf you had done that with keys, that&#39;s obviously idiotic (you send the key in plain text first? Yeah, there goes your security), but IVs do not need to be secret.\r\n\r\nIn your case, the java code just straight up uses all zeroes as IV: `new byte[16]` creates a new 16-sized byte array with all zeroes and that&#39;s passed as an IV.\r\n\r\nIf you can change the node code only, replicate it: Your node code should also use an all-zeroes IV. Your node code currently randomizes up an IV.","title":"Java code not able to decrypt the encrypted string of node js","body":"<p>IV stands for &quot;initialization vector&quot;, and it's more or less a salt feature: It's <strong>not</strong> a secret (it doesn't generally matter if others know it. If it did matter, we would call it a 'key' instead). For some crypto algorithms it really doesn't matter, for others, it is crucial that this is unique and random, for example if you're using GCM mode (which has quite a few advantages over CBC).</p>\n<p>For AES/CBC it probably doesn't matter, but it's crypto. If I'm wrong, you probably won't know until you're hacked.</p>\n<p>At any rate, the usual approach for IVs is as follows:</p>\n<ul>\n<li>The sender randoms up an IV.</li>\n<li>The sender sends it, plain text, to the receiver.</li>\n<li>The communication commences with both parties applying said IV.</li>\n</ul>\n<p>If you had done that with keys, that's obviously idiotic (you send the key in plain text first? Yeah, there goes your security), but IVs do not need to be secret.</p>\n<p>In your case, the java code just straight up uses all zeroes as IV: <code>new byte[16]</code> creates a new 16-sized byte array with all zeroes and that's passed as an IV.</p>\n<p>If you can change the node code only, replicate it: Your node code should also use an all-zeroes IV. Your node code currently randomizes up an IV.</p>\n"}],"owner":{"account_id":3357022,"reputation":309,"user_id":2819720,"accept_rate":43,"display_name":"Sourav Mukherjee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74015720,"answer_count":1,"score":-1,"last_activity_date":1665408536,"creation_date":1665403242,"question_id":74014629,"body_markdown":"    const forge = require(&#39;node-forge&#39;);\r\n    \r\n        const json = { number: &#39;9246753466&#39;,\r\n                lob:&#39;Prepaid&#39;,\r\n                firstName:&#39;Mr. XYZ&#39;,\r\n                leadId:&#39;yLWJjN2YtYWVlM2&#39;,\r\n                address:\r\n                {\r\n                    addressLine1: &#39;address line 1&#39;,\r\n                    addressLine2: &#39;address line 2 &#39;,\r\n                    city: &#39;Delhi&#39;,\r\n                    pincode: &#39;123456&#39;,\r\n                },\r\n            };\r\n        let pk = &#39;SEC_PRV_KEY&#39;;\r\n             let iv = forge.random.getBytesSync(16);\r\n        \r\n        // // (other modes include: ECB, CFB, OFB, CTR, and GCM)\r\n        // // Note: CBC and ECB modes use PKCS#7 padding as default\r\n            const AES_PADDING = &quot;AES/CBC/PKCS5Padding&quot;;\r\n            let cipher = forge.cipher.createCipher(&#39;AES-CBC&#39;, pk.toString(&#39;utf-8&#39;));\r\n            cipher.start({ iv });\r\n            //cipher.update(forge.util.createBuffer(AES_PADDING));\r\n            cipher.update(forge.util.createBuffer(JSON.stringify(json), &#39;utf-8&#39;));\r\n            cipher.finish();\r\n            let encrypted = cipher.output;\r\n        // outputs encrypted hex\r\n            console.log(forge.util.encode64(Buffer.from(cipher.output.data).toString(&#39;utf-8&#39;)));\r\n            console.log(&#39;done&#39;);\r\n\r\n\r\nThe above code is for the encryption logic.\r\nBelow is the decryption logic in java :-\r\n\r\n    public static final String UTF8 = &quot;UTF-8&quot;;\r\n        private static final String AES_PADDING = &quot;AES/CBC/PKCS5Padding&quot;;\r\n        public static final String AES = &quot;AES&quot;;\r\n        public static String decrypt(String encryptedString, String privateKey) {\r\n                try {\r\n                    Cipher cipher = Cipher.getInstance(AES_PADDING);\r\n                    cipher.init(Cipher.DECRYPT_MODE, new SecretKeySpec(privateKey.getBytes(StandardCharsets.\r\n                                    UTF_8), AES),\r\n                            new IvParameterSpec(new byte[16]));\r\n                    byte[] decryptedText = cipher.doFinal(Base64.decodeBase64(encryptedString));\r\n                    return new String(decryptedText);\r\n                } catch (NoSuchPaddingException | BadPaddingException | IllegalBlockSizeException |\r\n                        NoSuchAlgorithmException\r\n                        | InvalidKeyException | InvalidAlgorithmParameterException e) {\r\n                    System.out.println(e.getMessage());\r\n                    return null;\r\n                }\r\n            }\r\n\r\nThe first few characters of the decrypted string are not matching with initial input. Can anyone help me figure out what is wrong ? I can&#39;t change the java code, but I can change the node js code.","title":"Java code not able to decrypt the encrypted string of node js","body":"<pre><code>const forge = require('node-forge');\n\n    const json = { number: '9246753466',\n            lob:'Prepaid',\n            firstName:'Mr. XYZ',\n            leadId:'yLWJjN2YtYWVlM2',\n            address:\n            {\n                addressLine1: 'address line 1',\n                addressLine2: 'address line 2 ',\n                city: 'Delhi',\n                pincode: '123456',\n            },\n        };\n    let pk = 'SEC_PRV_KEY';\n         let iv = forge.random.getBytesSync(16);\n    \n    // // (other modes include: ECB, CFB, OFB, CTR, and GCM)\n    // // Note: CBC and ECB modes use PKCS#7 padding as default\n        const AES_PADDING = &quot;AES/CBC/PKCS5Padding&quot;;\n        let cipher = forge.cipher.createCipher('AES-CBC', pk.toString('utf-8'));\n        cipher.start({ iv });\n        //cipher.update(forge.util.createBuffer(AES_PADDING));\n        cipher.update(forge.util.createBuffer(JSON.stringify(json), 'utf-8'));\n        cipher.finish();\n        let encrypted = cipher.output;\n    // outputs encrypted hex\n        console.log(forge.util.encode64(Buffer.from(cipher.output.data).toString('utf-8')));\n        console.log('done');\n</code></pre>\n<p>The above code is for the encryption logic.\nBelow is the decryption logic in java :-</p>\n<pre><code>public static final String UTF8 = &quot;UTF-8&quot;;\n    private static final String AES_PADDING = &quot;AES/CBC/PKCS5Padding&quot;;\n    public static final String AES = &quot;AES&quot;;\n    public static String decrypt(String encryptedString, String privateKey) {\n            try {\n                Cipher cipher = Cipher.getInstance(AES_PADDING);\n                cipher.init(Cipher.DECRYPT_MODE, new SecretKeySpec(privateKey.getBytes(StandardCharsets.\n                                UTF_8), AES),\n                        new IvParameterSpec(new byte[16]));\n                byte[] decryptedText = cipher.doFinal(Base64.decodeBase64(encryptedString));\n                return new String(decryptedText);\n            } catch (NoSuchPaddingException | BadPaddingException | IllegalBlockSizeException |\n                    NoSuchAlgorithmException\n                    | InvalidKeyException | InvalidAlgorithmParameterException e) {\n                System.out.println(e.getMessage());\n                return null;\n            }\n        }\n</code></pre>\n<p>The first few characters of the decrypted string are not matching with initial input. Can anyone help me figure out what is wrong ? I can't change the java code, but I can change the node js code.</p>\n"},{"tags":["java","solr","geocoding","reverse-geocoding"],"comments":[{"owner":{"account_id":1405869,"reputation":10755,"user_id":1333610,"accept_rate":86,"display_name":"arun"},"score":0,"creation_date":1361217169,"post_id":14920639,"comment_id":20974362,"body_markdown":"`FATAL: password authentication failed for user &quot;postgres&quot;` says that the password you provided for postgres is wrong. Are you able to login to postgres with the username and the password you are using here?","body":"<code>FATAL: password authentication failed for user &quot;postgres&quot;</code> says that the password you provided for postgres is wrong. Are you able to login to postgres with the username and the password you are using here?"}],"answers":[{"tags":[],"owner":{"account_id":27827,"reputation":16301,"user_id":73804,"accept_rate":87,"display_name":"patrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1362497916,"creation_date":1362497916,"answer_id":15227904,"question_id":14920639,"body_markdown":"you probably have bad characters in your jdbc.properties file.  Go to commandline in windows and hit &quot;type jdbc.properties&quot; verify that you have no misplaced newlines or spaces, etc.  I had this exact problem and this fixed it.","title":"Problems in setting gisgraphy geocoder","body":"<p>you probably have bad characters in your jdbc.properties file.  Go to commandline in windows and hit \"type jdbc.properties\" verify that you have no misplaced newlines or spaces, etc.  I had this exact problem and this fixed it.</p>\n"}],"owner":{"account_id":1642490,"reputation":2363,"user_id":1514682,"accept_rate":62,"display_name":"Khayam Gondal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1028,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15227904,"answer_count":1,"score":1,"last_activity_date":1665408536,"creation_date":1361101054,"question_id":14920639,"body_markdown":"I am using Gisgraphy for building an offline geocoder. I am using [the instructions on their website](http://www.gisgraphy.com/documentation/installation/index.htm). I followed all the steps but getting these problems:\r\n\r\n```\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [15 Feb 2013 17:21:24,795] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [15 Feb 2013 17:21:24,806] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [15 Feb 2013 17:21:24,807] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 17:52:04,415] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 17:52:04,444] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 17:52:04,444] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 18:01:37,016] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 18:01:37,019] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 18:01:37,019] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:00:07,242] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 21:00:07,245] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:00:07,245] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:02:13,228] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 21:02:13,231] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:02:13,231] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:03:04,803] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 21:03:04,806] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:03:04,807] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:03:56,037] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 21:03:56,040] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:03:56,040] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:41:57,801] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 21:41:57,803] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:41:57,804] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 22:37:28,677] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 22:37:28,681] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 22:37:28,681] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 22:54:51,368] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 22:54:51,402] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 22:54:51,404] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 22:56:42,733] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 22:56:42,736] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 22:56:42,737] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 23:04:54,523] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 23:04:54,527] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 23:04:54,528] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 15:40:14,049] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [17 Feb 2013 15:40:14,090] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 15:40:14,090] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 15:40:55,009] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [17 Feb 2013 15:40:55,012] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 15:40:55,013] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 16:26:34,452] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [17 Feb 2013 16:26:34,504] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 16:26:34,505] (main,) : will create normalize_text function\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 16:31:32,448] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\r\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [17 Feb 2013 16:31:32,450] (main,) : The normalize_text does not exists, try to create it\r\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 16:31:32,451] (main,) : will create normalize_text function\r\n```","title":"Problems in setting gisgraphy geocoder","body":"<p>I am using Gisgraphy for building an offline geocoder. I am using <a href=\"http://www.gisgraphy.com/documentation/installation/index.htm\" rel=\"nofollow noreferrer\">the instructions on their website</a>. I followed all the steps but getting these problems:</p>\n<pre><code>[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [15 Feb 2013 17:21:24,795] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [15 Feb 2013 17:21:24,806] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [15 Feb 2013 17:21:24,807] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 17:52:04,415] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 17:52:04,444] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 17:52:04,444] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 18:01:37,016] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 18:01:37,019] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 18:01:37,019] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:00:07,242] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 21:00:07,245] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:00:07,245] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:02:13,228] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 21:02:13,231] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:02:13,231] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:03:04,803] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 21:03:04,806] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:03:04,807] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:03:56,037] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 21:03:56,040] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:03:56,040] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:41:57,801] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 21:41:57,803] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 21:41:57,804] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 22:37:28,677] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 22:37:28,681] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 22:37:28,681] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 22:54:51,368] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 22:54:51,402] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 22:54:51,404] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 22:56:42,733] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 22:56:42,736] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 22:56:42,737] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 23:04:54,523] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [16 Feb 2013 23:04:54,527] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [16 Feb 2013 23:04:54,528] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 15:40:14,049] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [17 Feb 2013 15:40:14,090] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 15:40:14,090] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 15:40:55,009] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [17 Feb 2013 15:40:55,012] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 15:40:55,013] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 16:26:34,452] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [17 Feb 2013 16:26:34,504] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 16:26:34,505] (main,) : will create normalize_text function\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 16:31:32,448] (main,) : normalize_text function has generate an exception : we consider that the function is not created : org.springframework.jdbc.UncategorizedSQLException: Hibernate operation: Cannot open connection; uncategorized SQLException for SQL [???]; SQL state [null]; error code [0]; Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;); nested exception is org.apache.commons.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (FATAL: password authentication failed for user &quot;postgres&quot;)\n[ERROR] [com.gisgraphy.domain.repository.DatabaseInitializer] [17 Feb 2013 16:31:32,450] (main,) : The normalize_text does not exists, try to create it\n[INFO] [com.gisgraphy.domain.repository.DatabaseHelper] [17 Feb 2013 16:31:32,451] (main,) : will create normalize_text function\n</code></pre>\n"},{"tags":["java","spring-boot","java-8","pom.xml","properties-file"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1665409989,"post_id":74015678,"comment_id":130687220,"body_markdown":"Have you tried giving it another name? Might be some magic because it is called test...","body":"Have you tried giving it another name? Might be some magic because it is called test..."},{"owner":{"account_id":19004539,"reputation":83,"user_id":13871494,"display_name":"Shinchan"},"score":0,"creation_date":1665411666,"post_id":74015678,"comment_id":130687864,"body_markdown":"@grekier yes the same issue, the project is being built by others, is there any chance that it is being excluded in the build path or somewhere else?","body":"@grekier yes the same issue, the project is being built by others, is there any chance that it is being excluded in the build path or somewhere else?"},{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":0,"creation_date":1665413685,"post_id":74015678,"comment_id":130688690,"body_markdown":"When you say classpath folder do you mean the resources folder?","body":"When you say classpath folder do you mean the resources folder?"},{"owner":{"account_id":19004539,"reputation":83,"user_id":13871494,"display_name":"Shinchan"},"score":0,"creation_date":1665415570,"post_id":74015678,"comment_id":130689369,"body_markdown":"@johnnyutts yes resources folder","body":"@johnnyutts yes resources folder"},{"owner":{"account_id":1083984,"reputation":1741,"user_id":1080166,"accept_rate":62,"display_name":"bvanvelsen - ACA Group"},"score":0,"creation_date":1668439894,"post_id":74015678,"comment_id":131399178,"body_markdown":"Maybe you pressed some wrong button in your IDE? Is is possible that you explicitly excluded this file for packaging?","body":"Maybe you pressed some wrong button in your IDE? Is is possible that you explicitly excluded this file for packaging?"}],"owner":{"account_id":19004539,"reputation":83,"user_id":13871494,"display_name":"Shinchan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665408378,"creation_date":1665408378,"question_id":74015678,"body_markdown":"I have a custom property file called test.properties present in the classpath folder. I am loading the file in the main class using @PropertySource as below,\r\n\r\n    @Slf4j\r\n    @SpringBootApplication(scanBasePackages = &quot;packageName&quot;)\r\n    @Configuration\r\n    @EnableSwagger2\r\n    @PropertySource(value = &quot;classpath:test.properties&quot;)\r\n    @EnableConfigurationProperties(SecurityProperties.class)\r\n    @EnableScheduling\r\n    @EntityScan(\r\n            basePackageClasses = {Application.class}\r\n    )\r\n    public class Application extends SpringBootServletInitializer {}\r\n\r\nAll the files included in the classpath folder are being added to the target folder, except for this.\r\n\r\nHence, it is throwing a FileNotFound exception. The properties file is not excluded anywhere in the project.\r\n\r\nI&#39;m unable to find what the issue here is. Any help or links to the solution will be helpful.\r\n\r\nThank you.\r\n","title":"Custom Properties file in Spring is not loaded to target folder on build","body":"<p>I have a custom property file called test.properties present in the classpath folder. I am loading the file in the main class using @PropertySource as below,</p>\n<pre><code>@Slf4j\n@SpringBootApplication(scanBasePackages = &quot;packageName&quot;)\n@Configuration\n@EnableSwagger2\n@PropertySource(value = &quot;classpath:test.properties&quot;)\n@EnableConfigurationProperties(SecurityProperties.class)\n@EnableScheduling\n@EntityScan(\n        basePackageClasses = {Application.class}\n)\npublic class Application extends SpringBootServletInitializer {}\n</code></pre>\n<p>All the files included in the classpath folder are being added to the target folder, except for this.</p>\n<p>Hence, it is throwing a FileNotFound exception. The properties file is not excluded anywhere in the project.</p>\n<p>I'm unable to find what the issue here is. Any help or links to the solution will be helpful.</p>\n<p>Thank you.</p>\n"},{"tags":["java","shell","maven"],"comments":[{"owner":{"account_id":113294,"reputation":54886,"user_id":298455,"accept_rate":100,"display_name":"Nishant"},"score":2,"creation_date":1330325324,"post_id":9461069,"comment_id":11969874,"body_markdown":"did you write anything? Do you know basics of shell scripting?","body":"did you write anything? Do you know basics of shell scripting?"},{"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"score":0,"creation_date":1330326059,"post_id":9461069,"comment_id":11970017,"body_markdown":"do you have a Google installed?","body":"do you have a Google installed?"}],"answers":[{"tags":[],"owner":{"account_id":989600,"reputation":30745,"user_id":1007273,"display_name":"hovanessyan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665408104,"creation_date":1330326202,"answer_id":9461181,"question_id":9461069,"body_markdown":"First of all, if you use Maven, you can specify your main class in the pom file. This value will be parsed and will be stored in the manifest file of the jar. So the argument `-Dexec.mainClass=&quot;location_of_class_file&quot;` can be omitted.\r\n\r\nIf maven (mvn) is in your PATH variable, you can directly paste your command inside `&lt;filename&gt;.sh` and execute it. \r\nYou can create the `&lt;filename&gt;.sh` with `touch`. Remember to give it execute permissions with `chmod`. E.g. if your filename is let&#39;s say &quot;hui&quot; (that&#39;s a common filename used for testing) it will look like:\r\n\r\n    touch hui.sh\r\n    chmod u+x hui.sh","title":"How to write a shell script to execute a java file using maven","body":"<p>First of all, if you use Maven, you can specify your main class in the pom file. This value will be parsed and will be stored in the manifest file of the jar. So the argument <code>-Dexec.mainClass=&quot;location_of_class_file&quot;</code> can be omitted.</p>\n<p>If maven (mvn) is in your PATH variable, you can directly paste your command inside <code>&lt;filename&gt;.sh</code> and execute it.\nYou can create the <code>&lt;filename&gt;.sh</code> with <code>touch</code>. Remember to give it execute permissions with <code>chmod</code>. E.g. if your filename is let's say &quot;hui&quot; (that's a common filename used for testing) it will look like:</p>\n<pre><code>touch hui.sh\nchmod u+x hui.sh\n</code></pre>\n"}],"owner":{"account_id":1275039,"reputation":1174,"user_id":1230483,"accept_rate":44,"display_name":"Aashish Katta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":9461181,"answer_count":1,"score":1,"last_activity_date":1665408104,"creation_date":1330325232,"question_id":9461069,"body_markdown":"I want to create a shell script which when called run the following command\r\nmvn exec:java -Dexec.mainClass=&quot;location_of_class_file&quot; -Dexec.args=&quot;parameter&quot;;","title":"How to write a shell script to execute a java file using maven","body":"<p>I want to create a shell script which when called run the following command\nmvn exec:java -Dexec.mainClass=\"location_of_class_file\" -Dexec.args=\"parameter\";</p>\n"},{"tags":["java","if-statement","lambda"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":4,"creation_date":1665390725,"post_id":74012108,"comment_id":130680642,"body_markdown":"that depends on the logic, but it&#39;s likely not, since your ifs are based on separate booleans (or so it seems). This is, however, quite compact as code, why try to &quot;simplify&quot; what&#39;s already quite simple?","body":"that depends on the logic, but it&#39;s likely not, since your ifs are based on separate booleans (or so it seems). This is, however, quite compact as code, why try to &quot;simplify&quot; what&#39;s already quite simple?"},{"owner":{"account_id":15987214,"reputation":37,"user_id":11537279,"display_name":"ANITHA"},"score":0,"creation_date":1665390854,"post_id":74012108,"comment_id":130680701,"body_markdown":"Thank you for your response @Stultuske! I have put in here only few if,elseif statements here. In-fact there are many more in it. So, was just exploring a way, if I can simplify in some way.","body":"Thank you for your response @Stultuske! I have put in here only few if,elseif statements here. In-fact there are many more in it. So, was just exploring a way, if I can simplify in some way."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1665390925,"post_id":74012108,"comment_id":130680729,"body_markdown":"even if it is possible, it looks to me like you would just make the code much more complex","body":"even if it is possible, it looks to me like you would just make the code much more complex"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665391060,"post_id":74012108,"comment_id":130680775,"body_markdown":"Firstly, you might what to learn what [Functional programming](https://en.wikipedia.org/wiki/Functional_programming) is, and spend a bit of your time familiarizing with functional programming features (which you refer to as Java 8 lambdas). Oracle provides a fairly good [*tutorial*](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) for zero cost, just read through it, you&#39;ll find all the information that you need to start with lambdas and stream.","body":"Firstly, you might what to learn what <a href=\"https://en.wikipedia.org/wiki/Functional_programming\" rel=\"nofollow noreferrer\">Functional programming</a> is, and spend a bit of your time familiarizing with functional programming features (which you refer to as Java 8 lambdas). Oracle provides a fairly good <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\"><i>tutorial</i></a> for zero cost, just read through it, you&#39;ll find all the information that you need to start with lambdas and stream."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1665392127,"post_id":74012108,"comment_id":130681148,"body_markdown":"do the `if` and `else` involve dozen of criteria? if not, you might be [wasting your time](https://xkcd.com/1319/)..","body":"do the <code>if</code> and <code>else</code> involve dozen of criteria? if not, you might be <a href=\"https://xkcd.com/1319/\" rel=\"nofollow noreferrer\">wasting your time</a>.."}],"answers":[{"tags":[],"owner":{"account_id":11337137,"reputation":838,"user_id":8312604,"display_name":"Alexandr Arhipov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665407966,"creation_date":1665392726,"answer_id":74012493,"question_id":74012108,"body_markdown":"At first, I would remove redundant &quot;else if&quot; statements, if the only &#39;true&#39; case is possible, like this:\r\n\r\n                if(isTenantConfigPromotion){\r\n                    tenantDetails = returnsGenericUtils.getTenantConfig(sourceRetailerName, sourceHubLoginResponse);\r\n                }\r\n                if(isTrackConfigPromotion){\r\n                    returnsGenericUtils.downloadTrackConfig(sourceRetailerName, sourceHubcookies);\r\n                }\r\n                if(isReturnRulesPromotion){\r\n                    returnsGenericUtils.downloadReturnRules(sourceRetailerName, sourceHubcookies);\r\n                }\r\n                if(isReturnReasonsPromotion){\r\n                    returnsGenericUtils.downloadReturnReasons(sourceRetailerName, sourceHubcookies);\r\n                }\r\n\r\nAnd then I would think about moving the block somewhere else, cause` it looks like a side effect:\r\n\r\n    if(isTenantConfigPromotion){\r\n      tenantDetails = ..\r\n    }\r\n\r\nIf you realy want to use lambdas here, than you can try to transform boolean conditions into text values, and make something like:\r\n\r\n    private static final Map&lt;String, BiConsumer&lt;Object, Object&gt;&gt; DOWNLOADERS_MAPPING = Map.of(\r\n    \t\t\t&quot;isTrackConfigPromotion&quot;, returnsGenericUtils::getTenantConfig,\r\n    \t\t\t&quot;isReturnRulesPromotion&quot;, returnsGenericUtils::downloadReturnRules,\r\n    \t\t\t&quot;isReturnReasonsPromotion&quot;, returnsGenericUtils::downloadReturnReasons\r\n    \t);\r\n\r\n    public ReturnsRetailerConfigPromotionResponse promoteRetailerConfig(\r\n    \t\t\tReturnsRetailerConfigPromotionRequest returnsRetailerConfigPromotionRequest,\r\n    \t\t\tString configType,\r\n    \t\t\tSet&lt;String&gt; conditions\r\n    \t) {\r\n    \t\ttry {\r\n    \t\t\tconditions.forEach(condition -&gt; {\r\n    \t\t\t\tDOWNLOADERS_MAPPING.getOrDefault(condition, returnsGenericUtils::doNothing).accept(sourceRetailerName, sourceHubcookies);\r\n    \t\t\t});\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tlog.error(e.getMessage(), e);\r\n    \t\t\treturn new ReturnsRetailerConfigPromotionResponse(...);\r\n    \t\t}\r\n    \t}\r\n\r\nthan it&#39;s gonna be easier to extend the method if you get more conditions.","title":"Simplify numerous if, elseifs in java","body":"<p>At first, I would remove redundant &quot;else if&quot; statements, if the only 'true' case is possible, like this:</p>\n<pre><code>            if(isTenantConfigPromotion){\n                tenantDetails = returnsGenericUtils.getTenantConfig(sourceRetailerName, sourceHubLoginResponse);\n            }\n            if(isTrackConfigPromotion){\n                returnsGenericUtils.downloadTrackConfig(sourceRetailerName, sourceHubcookies);\n            }\n            if(isReturnRulesPromotion){\n                returnsGenericUtils.downloadReturnRules(sourceRetailerName, sourceHubcookies);\n            }\n            if(isReturnReasonsPromotion){\n                returnsGenericUtils.downloadReturnReasons(sourceRetailerName, sourceHubcookies);\n            }\n</code></pre>\n<p>And then I would think about moving the block somewhere else, cause` it looks like a side effect:</p>\n<pre><code>if(isTenantConfigPromotion){\n  tenantDetails = ..\n}\n</code></pre>\n<p>If you realy want to use lambdas here, than you can try to transform boolean conditions into text values, and make something like:</p>\n<pre><code>private static final Map&lt;String, BiConsumer&lt;Object, Object&gt;&gt; DOWNLOADERS_MAPPING = Map.of(\n            &quot;isTrackConfigPromotion&quot;, returnsGenericUtils::getTenantConfig,\n            &quot;isReturnRulesPromotion&quot;, returnsGenericUtils::downloadReturnRules,\n            &quot;isReturnReasonsPromotion&quot;, returnsGenericUtils::downloadReturnReasons\n    );\n\npublic ReturnsRetailerConfigPromotionResponse promoteRetailerConfig(\n            ReturnsRetailerConfigPromotionRequest returnsRetailerConfigPromotionRequest,\n            String configType,\n            Set&lt;String&gt; conditions\n    ) {\n        try {\n            conditions.forEach(condition -&gt; {\n                DOWNLOADERS_MAPPING.getOrDefault(condition, returnsGenericUtils::doNothing).accept(sourceRetailerName, sourceHubcookies);\n            });\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n            return new ReturnsRetailerConfigPromotionResponse(...);\n        }\n    }\n</code></pre>\n<p>than it's gonna be easier to extend the method if you get more conditions.</p>\n"}],"owner":{"account_id":15987214,"reputation":37,"user_id":11537279,"display_name":"ANITHA"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"closed_date":1665395485,"accepted_answer_id":74012493,"answer_count":1,"score":-2,"last_activity_date":1665407966,"creation_date":1665390637,"question_id":74012108,"body_markdown":"I am here to seek help w.rt. simplifying if-elseif statements in java. Here&#39;s my code below, which has numerous if, elseifs. Is it possible to simplify the below code using java lambda features? Can I reduce if, elseif statements in my method? Can we use Java 8 filter functionality here?\r\n\r\n```\r\npublic ReturnsRetailerConfigPromotionResponse promoteRetailerConfig(\r\n        ReturnsRetailerConfigPromotionRequest returnsRetailerConfigPromotionRequest,\r\n        String configType) {\r\n        try{\r\n            if(isTenantConfigPromotion){\r\n                tenantDetails = returnsGenericUtils.getTenantConfig(sourceRetailerName, sourceHubLoginResponse);\r\n            }\r\n            else if(isTrackConfigPromotion){\r\n                returnsGenericUtils.downloadTrackConfig(sourceRetailerName, sourceHubcookies);\r\n            }\r\n            else if(isReturnRulesPromotion){\r\n                returnsGenericUtils.downloadReturnRules(sourceRetailerName, sourceHubcookies);\r\n            }\r\n            else if(isReturnReasonsPromotion){\r\n                returnsGenericUtils.downloadReturnReasons(sourceRetailerName, sourceHubcookies);\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(e.getMessage(), e);\r\n            return new ReturnsRetailerConfigPromotionResponse(...);\r\n        }\r\n}","title":"Simplify numerous if, elseifs in java","body":"<p>I am here to seek help w.rt. simplifying if-elseif statements in java. Here's my code below, which has numerous if, elseifs. Is it possible to simplify the below code using java lambda features? Can I reduce if, elseif statements in my method? Can we use Java 8 filter functionality here?</p>\n<pre><code>public ReturnsRetailerConfigPromotionResponse promoteRetailerConfig(\n        ReturnsRetailerConfigPromotionRequest returnsRetailerConfigPromotionRequest,\n        String configType) {\n        try{\n            if(isTenantConfigPromotion){\n                tenantDetails = returnsGenericUtils.getTenantConfig(sourceRetailerName, sourceHubLoginResponse);\n            }\n            else if(isTrackConfigPromotion){\n                returnsGenericUtils.downloadTrackConfig(sourceRetailerName, sourceHubcookies);\n            }\n            else if(isReturnRulesPromotion){\n                returnsGenericUtils.downloadReturnRules(sourceRetailerName, sourceHubcookies);\n            }\n            else if(isReturnReasonsPromotion){\n                returnsGenericUtils.downloadReturnReasons(sourceRetailerName, sourceHubcookies);\n            }\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n            return new ReturnsRetailerConfigPromotionResponse(...);\n        }\n}\n</code></pre>\n"},{"tags":["java","aem","graalvm","graaljs"],"answers":[{"tags":[],"owner":{"account_id":25361127,"reputation":56,"user_id":19176369,"display_name":"Jack Davenport"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653272085,"creation_date":1653272085,"answer_id":72342622,"question_id":72341934,"body_markdown":"I found out what was wrong, turns out I was missing the icu4j dependency and was not importing it in my bundle&#39;s `&lt;Import-Package&gt;` tag.","title":"GraalJS error: Could not initialize class com.oracle.truffle.js.runtime.JSContext","body":"<p>I found out what was wrong, turns out I was missing the icu4j dependency and was not importing it in my bundle's <code>&lt;Import-Package&gt;</code> tag.</p>\n"}],"owner":{"account_id":25361127,"reputation":56,"user_id":19176369,"display_name":"Jack Davenport"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665407896,"creation_date":1653261817,"question_id":72341934,"body_markdown":"I am trying to use GraalJS inside of an Adobe Experience Manager instance to render React components server side. I am having issues however when attempting to run code using GraalJS. Whenever I run it I am getting an exception being thrown.\r\n\r\n    org.graalvm.polyglot.PolyglotException: java.lang.NoClassDefFoundError: Could not initialize class com.oracle.truffle.js.runtime.JSContext\r\n\tat com.oracle.truffle.js.runtime.JSEngine.createContext(JSEngine.java:72) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\r\n\tat com.oracle.truffle.js.runtime.JSEngine.createJSContext(JSEngine.java:80) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\r\n\tat com.oracle.truffle.js.lang.JavaScriptLanguage.newJSContext(JavaScriptLanguage.java:354) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\r\n\tat com.oracle.truffle.js.lang.JavaScriptLanguage.initLanguageContext(JavaScriptLanguage.java:348) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\r\n\tat com.oracle.truffle.js.lang.JavaScriptLanguage.createContext(JavaScriptLanguage.java:323) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\r\n\tat com.oracle.truffle.js.lang.JavaScriptLanguage.createContext(JavaScriptLanguage.java:113) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\r\n\tat com.oracle.truffle.api.LanguageAccessor$LanguageImpl.createEnvContext(LanguageAccessor.java:283) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\r\n\tat com.oracle.truffle.polyglot.PolyglotLanguageContext.ensureCreated(PolyglotLanguageContext.java:557) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\r\n\tat com.oracle.truffle.polyglot.PolyglotLanguageContext.ensureCreated(PolyglotLanguageContext.java:500) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\r\n\tat com.oracle.truffle.polyglot.PolyglotLanguageContext.ensureInitialized(PolyglotLanguageContext.java:642) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\r\n\tat com.oracle.truffle.polyglot.PolyglotContextImpl.eval(PolyglotContextImpl.java:1216) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\r\n\tat com.oracle.truffle.polyglot.PolyglotContextDispatch.eval(PolyglotContextDispatch.java:62) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\r\n\tat org.graalvm.polyglot.Context.eval(Context.java:379) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\r\n\r\nThis is my code:\r\n\r\n    try {\r\n        Context engine = Context.create(&quot;js&quot;);\r\n        Source source = Source.newBuilder(&quot;js&quot;, script, &quot;&lt;shell&gt;&quot;).buildLiteral();\r\n        Value value = engine.eval(source);\r\n        if (value != null) {\r\n            return value.toString();\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nAnd I&#39;m running my instance with these JVM arguments:\r\n\r\n    java -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCI -XX:+UseJVMCICompiler\r\n    --module-path=~/aem/graalvm/graal-sdk-21.3.0.jar:~/aem/graalvm/truffle-api-21.3.0.jar \r\n    --upgrade-module-path=~/aem/graalvm/compiler-21.3.0.jar:~/aem/graalvm/compiler-management-21.3.0.jar\r\n    -cp ~/aem/graalvm/launcher-common-21.3.0.jar:~/aem/graalvm/js-launcher-21.3.0.jar:~/aem/graalvm/js-21.3.0.jar:~/aem/graalvm/truffle-api-21.3.0.jar:~/aem/graalvm/graal-sdk-21.3.0.jar:~/aem/graalvm/js-scriptengine-21.3.0.jar:~/aem/graalvm/regex-21.3.0.jar:~/aem/graalvm/icu4j-70.1.jar\r\n    ... \r\n\r\nAs far as I&#39;m aware all of the required dependencies (including the js library which this class belongs to) are present in my classpath and my project&#39;s dependencies. I can run unit tests just fine, I only have this issue when running in an actual AEM instance.","title":"GraalJS error: Could not initialize class com.oracle.truffle.js.runtime.JSContext","body":"<p>I am trying to use GraalJS inside of an Adobe Experience Manager instance to render React components server side. I am having issues however when attempting to run code using GraalJS. Whenever I run it I am getting an exception being thrown.</p>\n<pre><code>org.graalvm.polyglot.PolyglotException: java.lang.NoClassDefFoundError: Could not initialize class com.oracle.truffle.js.runtime.JSContext\nat com.oracle.truffle.js.runtime.JSEngine.createContext(JSEngine.java:72) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\nat com.oracle.truffle.js.runtime.JSEngine.createJSContext(JSEngine.java:80) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\nat com.oracle.truffle.js.lang.JavaScriptLanguage.newJSContext(JavaScriptLanguage.java:354) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\nat com.oracle.truffle.js.lang.JavaScriptLanguage.initLanguageContext(JavaScriptLanguage.java:348) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\nat com.oracle.truffle.js.lang.JavaScriptLanguage.createContext(JavaScriptLanguage.java:323) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\nat com.oracle.truffle.js.lang.JavaScriptLanguage.createContext(JavaScriptLanguage.java:113) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\nat com.oracle.truffle.api.LanguageAccessor$LanguageImpl.createEnvContext(LanguageAccessor.java:283) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\nat com.oracle.truffle.polyglot.PolyglotLanguageContext.ensureCreated(PolyglotLanguageContext.java:557) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\nat com.oracle.truffle.polyglot.PolyglotLanguageContext.ensureCreated(PolyglotLanguageContext.java:500) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\nat com.oracle.truffle.polyglot.PolyglotLanguageContext.ensureInitialized(PolyglotLanguageContext.java:642) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\nat com.oracle.truffle.polyglot.PolyglotContextImpl.eval(PolyglotContextImpl.java:1216) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\nat com.oracle.truffle.polyglot.PolyglotContextDispatch.eval(PolyglotContextDispatch.java:62) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\nat org.graalvm.polyglot.Context.eval(Context.java:379) [xxxxxxxxxxxxx:2.1.0.SNAPSHOT]\n</code></pre>\n<p>This is my code:</p>\n<pre><code>try {\n    Context engine = Context.create(&quot;js&quot;);\n    Source source = Source.newBuilder(&quot;js&quot;, script, &quot;&lt;shell&gt;&quot;).buildLiteral();\n    Value value = engine.eval(source);\n    if (value != null) {\n        return value.toString();\n    }\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>And I'm running my instance with these JVM arguments:</p>\n<pre><code>java -XX:+UnlockExperimentalVMOptions -XX:+EnableJVMCI -XX:+UseJVMCICompiler\n--module-path=~/aem/graalvm/graal-sdk-21.3.0.jar:~/aem/graalvm/truffle-api-21.3.0.jar \n--upgrade-module-path=~/aem/graalvm/compiler-21.3.0.jar:~/aem/graalvm/compiler-management-21.3.0.jar\n-cp ~/aem/graalvm/launcher-common-21.3.0.jar:~/aem/graalvm/js-launcher-21.3.0.jar:~/aem/graalvm/js-21.3.0.jar:~/aem/graalvm/truffle-api-21.3.0.jar:~/aem/graalvm/graal-sdk-21.3.0.jar:~/aem/graalvm/js-scriptengine-21.3.0.jar:~/aem/graalvm/regex-21.3.0.jar:~/aem/graalvm/icu4j-70.1.jar\n... \n</code></pre>\n<p>As far as I'm aware all of the required dependencies (including the js library which this class belongs to) are present in my classpath and my project's dependencies. I can run unit tests just fine, I only have this issue when running in an actual AEM instance.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":10467026,"reputation":534,"user_id":7716142,"display_name":"minh tri Vo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665407831,"creation_date":1665407831,"answer_id":74015574,"question_id":73998453,"body_markdown":"Hopes this helps:\r\n\r\n    @Override\r\n    public boolean supportsParameter(MethodParameter parameter) {\r\n        ParameterizedType genericParameterType = (ParameterizedType) parameter.getGenericParameterType();\r\n        return parameter.getParameterType().isAssignableFrom(Map.class)\r\n                &amp;&amp; genericParameterType.getActualTypeArguments()[0].getClass().isAssignableFrom(String.class)\r\n                &amp;&amp; genericParameterType.getActualTypeArguments()[1].getClass().isAssignableFrom(String.class);\r\n\r\n    }","title":"HandlerMethodArgumentResolver supportsParameter Map&lt;String,String&gt;","body":"<p>Hopes this helps:</p>\n<pre><code>@Override\npublic boolean supportsParameter(MethodParameter parameter) {\n    ParameterizedType genericParameterType = (ParameterizedType) parameter.getGenericParameterType();\n    return parameter.getParameterType().isAssignableFrom(Map.class)\n            &amp;&amp; genericParameterType.getActualTypeArguments()[0].getClass().isAssignableFrom(String.class)\n            &amp;&amp; genericParameterType.getActualTypeArguments()[1].getClass().isAssignableFrom(String.class);\n\n}\n</code></pre>\n"}],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665407831,"creation_date":1665244582,"question_id":73998453,"body_markdown":"I have this class to handle a Map argument:\r\n\r\n    @Configuration\r\n    public class MapHandlerMethodArgumentResolver\r\n        implements HandlerMethodArgumentResolver\r\n    {\r\n        @Override\r\n        public boolean supportsParameter( MethodParameter parameter )\r\n        {\r\n            return parameter.getParameterType().isAssignableFrom( Map.class );\r\n        }\r\n    \r\n        @Override\r\n        public Object resolveArgument( MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory )\r\n        {\r\n            return Map.of();\r\n        }\r\n    }\r\n\r\nOn the method `supportsParameter` I want to check as well that the Map is of type `Map&lt;String, String&gt;`.\r\n\r\nHow can I achieve this?\r\n\r\nThanks\r\n","title":"HandlerMethodArgumentResolver supportsParameter Map&lt;String,String&gt;","body":"<p>I have this class to handle a Map argument:</p>\n<pre><code>@Configuration\npublic class MapHandlerMethodArgumentResolver\n    implements HandlerMethodArgumentResolver\n{\n    @Override\n    public boolean supportsParameter( MethodParameter parameter )\n    {\n        return parameter.getParameterType().isAssignableFrom( Map.class );\n    }\n\n    @Override\n    public Object resolveArgument( MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory )\n    {\n        return Map.of();\n    }\n}\n</code></pre>\n<p>On the method <code>supportsParameter</code> I want to check as well that the Map is of type <code>Map&lt;String, String&gt;</code>.</p>\n<p>How can I achieve this?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","command-line","profile","jcmd"],"answers":[{"tags":[],"owner":{"account_id":1988337,"reputation":598,"user_id":1782997,"display_name":"Attila T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665407675,"creation_date":1665407675,"answer_id":74015548,"question_id":73987685,"body_markdown":"If you own the application, i.e. you have access to the source code and permission to change it, you can enable the `/env` Actuator end-point which should give you the names of the active profiles. You can call this end-point from command line using cURL, for example.\r\n\r\nRef.: [Retrieving the Entire Environment][1]\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/actuator-api/htmlsingle/#env","title":"How to get a running springboot applcation&#39;s active profiles from the command line?","body":"<p>If you own the application, i.e. you have access to the source code and permission to change it, you can enable the <code>/env</code> Actuator end-point which should give you the names of the active profiles. You can call this end-point from command line using cURL, for example.</p>\n<p>Ref.: <a href=\"https://docs.spring.io/spring-boot/docs/current/actuator-api/htmlsingle/#env\" rel=\"nofollow noreferrer\">Retrieving the Entire Environment</a></p>\n"}],"owner":{"account_id":25669476,"reputation":75,"user_id":19433976,"display_name":"WesAtWork"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74015548,"answer_count":1,"score":0,"last_activity_date":1665407675,"creation_date":1665148309,"question_id":73987685,"body_markdown":"How do you get the **active profile** from a running spring boot application from the command-line?\r\n\r\nI know about `jcmd` but I could not find anything that references the springboot properties.\r\n\r\nIs there another way or am I missing something with `jcmd`?","title":"How to get a running springboot applcation&#39;s active profiles from the command line?","body":"<p>How do you get the <strong>active profile</strong> from a running spring boot application from the command-line?</p>\n<p>I know about <code>jcmd</code> but I could not find anything that references the springboot properties.</p>\n<p>Is there another way or am I missing something with <code>jcmd</code>?</p>\n"},{"tags":["version","java"],"comments":[{"owner":{"account_id":2028324,"reputation":10542,"user_id":1812732,"accept_rate":72,"display_name":"John Henckel"},"score":1,"creation_date":1412186005,"post_id":1293308,"comment_id":40987289,"body_markdown":"The answers that involve reading bytes from a file seem quite uncivilized to me. There ought to be a way to get this information using Reflection, such as Foobar.class.getTargetVersion().","body":"The answers that involve reading bytes from a file seem quite uncivilized to me. There ought to be a way to get this information using Reflection, such as Foobar.class.getTargetVersion()."}],"answers":[{"tags":[],"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250595831,"creation_date":1250595831,"answer_id":1293346,"question_id":1293308,"body_markdown":"JavaP does have an [API][1], but it&#39;s specific to the Sun JDK.\r\n\r\nIt&#39;s found in `tools.jar`, under `sun/tools/javap/Main.class`.\r\n\r\n[1]: http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Modules-sun/tools/sun.tools.javap.htm","title":"Java API to find out the JDK version a class file is compiled for?","body":"<p>JavaP does have an <a href=\"http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Modules-sun/tools/sun.tools.javap.htm\" rel=\"nofollow noreferrer\">API</a>, but it's specific to the Sun JDK.</p>\n\n<p>It's found in <code>tools.jar</code>, under <code>sun/tools/javap/Main.class</code>.</p>\n"},{"tags":[],"owner":{"account_id":12685,"reputation":35096,"user_id":25122,"accept_rate":75,"display_name":"RealHowTo"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1665407371,"creation_date":1250596137,"answer_id":1293372,"question_id":1293308,"body_markdown":"```java\r\nimport java.io.*;\r\n\r\npublic class ClassVersionChecker {\r\n    public static void main(String[] args) throws IOException {\r\n        for (int i = 0; i &lt; args.length; i++)\r\n            checkClassVersion(args[i]);\r\n    }\r\n\r\n    private static void checkClassVersion(String filename)\r\n        throws IOException\r\n    {\r\n        DataInputStream in = new DataInputStream\r\n            (new FileInputStream(filename));\r\n\r\n        int magic = in.readInt();\r\n        if(magic != 0xcafebabe) {\r\n            System.out.println(filename + &quot; is not a valid class!&quot;);;\r\n        }\r\n        int minor = in.readUnsignedShort();\r\n        int major = in.readUnsignedShort();\r\n        System.out.println(filename + &quot;: &quot; + major + &quot; . &quot; + minor);\r\n        in.close();\r\n    }\r\n}\r\n```\r\n\r\nThe possible values are :\r\n\r\n    major  minor Java platform version \r\n    45       3           1.0\r\n    45       3           1.1\r\n    46       0           1.2\r\n    47       0           1.3\r\n    48       0           1.4\r\n    49       0           5\r\n    50       0           6\r\n    51       0           7\r\n    52       0           8\r\n    53       0           9\r\n    54       0           10\r\n    55       0           11\r\n    56       0           12\r\n    57       0           13\r\n    58       0           14\r\n    59       0           15\r\n    60       0           16\r\n    61       0           17\r\n    62       0           18\r\n    63       0           19\r\n\r\nref : [The Java Virtual Machine Specification, Java SE 19 Edition ][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html#jvms-4.1","title":"Java API to find out the JDK version a class file is compiled for?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\n\npublic class ClassVersionChecker {\n    public static void main(String[] args) throws IOException {\n        for (int i = 0; i &lt; args.length; i++)\n            checkClassVersion(args[i]);\n    }\n\n    private static void checkClassVersion(String filename)\n        throws IOException\n    {\n        DataInputStream in = new DataInputStream\n            (new FileInputStream(filename));\n\n        int magic = in.readInt();\n        if(magic != 0xcafebabe) {\n            System.out.println(filename + &quot; is not a valid class!&quot;);;\n        }\n        int minor = in.readUnsignedShort();\n        int major = in.readUnsignedShort();\n        System.out.println(filename + &quot;: &quot; + major + &quot; . &quot; + minor);\n        in.close();\n    }\n}\n</code></pre>\n<p>The possible values are :</p>\n<pre><code>major  minor Java platform version \n45       3           1.0\n45       3           1.1\n46       0           1.2\n47       0           1.3\n48       0           1.4\n49       0           5\n50       0           6\n51       0           7\n52       0           8\n53       0           9\n54       0           10\n55       0           11\n56       0           12\n57       0           13\n58       0           14\n59       0           15\n60       0           16\n61       0           17\n62       0           18\n63       0           19\n</code></pre>\n<p>ref : <a href=\"https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html#jvms-4.1\" rel=\"nofollow noreferrer\">The Java Virtual Machine Specification, Java SE 19 Edition </a></p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1343524755,"creation_date":1250596162,"answer_id":1293374,"question_id":1293308,"body_markdown":"This gets you the contents of the class file:\r\n\r\n`MysteryClass.class.getResourceAsStream(&quot;MysteryClass.class&quot;)`\r\n\r\nThen look at bytes 5-8 to get the minor and major version. A mapping between those numbers and the JDK releases can be found [here][1].\r\n\r\n\r\n  [1]: http://blogs.oracle.com/darcy/entry/source_target_class_file_version","title":"Java API to find out the JDK version a class file is compiled for?","body":"<p>This gets you the contents of the class file:</p>\n\n<p><code>MysteryClass.class.getResourceAsStream(\"MysteryClass.class\")</code></p>\n\n<p>Then look at bytes 5-8 to get the minor and major version. A mapping between those numbers and the JDK releases can be found <a href=\"http://blogs.oracle.com/darcy/entry/source_target_class_file_version\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":232,"reputation":29734,"user_id":287,"accept_rate":91,"display_name":"basszero"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1250596985,"creation_date":1250596985,"answer_id":1293424,"question_id":1293308,"body_markdown":"Just read the class file directly. It&#39;s VERY easy to figure out the version. Check out the the [spec][1] and [wiki][2] and then try the code. Wrapping this code and making is more useful/pretty is left as an exercise. Alternatively, you could use a library like [BCEL][3], [ASM][4], or [JavaAssist][5]\r\n\r\n    import java.io.DataInputStream;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    \r\n    public class ClassVersionTest\r\n    {\r\n    \tprivate static final int JAVA_CLASS_MAGIC = 0xCAFEBABE;\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tDataInputStream dis = new DataInputStream(new FileInputStream(&quot;Test.class&quot;));\r\n    \t\t\tint magic = dis.readInt();\r\n    \t\t\tif(magic == JAVA_CLASS_MAGIC)\r\n    \t\t\t{\r\n    \t\t\t\tint minorVersion = dis.readUnsignedShort();\r\n    \t\t\t\tint majorVersion = dis.readUnsignedShort();\r\n    \t\t\t\t\r\n    \t\t\t\t/**\r\n    \t\t\t\t * majorVersion is ...\r\n    \t\t\t\t * J2SE 6.0 = 50 (0x32 hex),\r\n    \t\t\t\t * J2SE 5.0 = 49 (0x31 hex),\r\n    \t\t\t\t * JDK 1.4 = 48 (0x30 hex),\r\n    \t\t\t\t * JDK 1.3 = 47 (0x2F hex),\r\n    \t\t\t\t * JDK 1.2 = 46 (0x2E hex),\r\n    \t\t\t\t * JDK 1.1 = 45 (0x2D hex).\r\n    \t\t\t\t */\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;ClassVersionTest.main() &quot; + majorVersion + &quot;.&quot; + minorVersion);\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\t// not a class file\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (FileNotFoundException e)\r\n    \t\t{\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tcatch (IOException e)\r\n    \t\t{\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#75883\r\n  [2]: http://en.wikipedia.org/wiki/Class_%28file_format%29\r\n  [3]: http://jakarta.apache.org/bcel/\r\n  [4]: http://asm.ow2.org/\r\n  [5]: http://www.csg.is.titech.ac.jp/~chiba/javassist/","title":"Java API to find out the JDK version a class file is compiled for?","body":"<p>Just read the class file directly. It's VERY easy to figure out the version. Check out the the <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#75883\" rel=\"noreferrer\">spec</a> and <a href=\"http://en.wikipedia.org/wiki/Class_%28file_format%29\" rel=\"noreferrer\">wiki</a> and then try the code. Wrapping this code and making is more useful/pretty is left as an exercise. Alternatively, you could use a library like <a href=\"http://jakarta.apache.org/bcel/\" rel=\"noreferrer\">BCEL</a>, <a href=\"http://asm.ow2.org/\" rel=\"noreferrer\">ASM</a>, or <a href=\"http://www.csg.is.titech.ac.jp/~chiba/javassist/\" rel=\"noreferrer\">JavaAssist</a></p>\n\n<pre><code>import java.io.DataInputStream;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\n\npublic class ClassVersionTest\n{\n    private static final int JAVA_CLASS_MAGIC = 0xCAFEBABE;\n\n    public static void main(String[] args)\n    {\n        try\n        {\n            DataInputStream dis = new DataInputStream(new FileInputStream(\"Test.class\"));\n            int magic = dis.readInt();\n            if(magic == JAVA_CLASS_MAGIC)\n            {\n                int minorVersion = dis.readUnsignedShort();\n                int majorVersion = dis.readUnsignedShort();\n\n                /**\n                 * majorVersion is ...\n                 * J2SE 6.0 = 50 (0x32 hex),\n                 * J2SE 5.0 = 49 (0x31 hex),\n                 * JDK 1.4 = 48 (0x30 hex),\n                 * JDK 1.3 = 47 (0x2F hex),\n                 * JDK 1.2 = 46 (0x2E hex),\n                 * JDK 1.1 = 45 (0x2D hex).\n                 */\n\n                System.out.println(\"ClassVersionTest.main() \" + majorVersion + \".\" + minorVersion);\n            }\n            else\n            {\n                // not a class file\n            }\n        }\n        catch (FileNotFoundException e)\n        {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        catch (IOException e)\n        {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1250599549,"creation_date":1250599549,"answer_id":1293597,"question_id":1293308,"body_markdown":"As others have shown, it is easy enough to do by reading the first eight bytes of a class file. If you want a pre-built binary library, you can download one [here][1].\r\n\r\n\r\n  [1]: http://illegalargumentexception.blogspot.com/2009/07/java-finding-class-versions.html","title":"Java API to find out the JDK version a class file is compiled for?","body":"<p>As others have shown, it is easy enough to do by reading the first eight bytes of a class file. If you want a pre-built binary library, you can download one <a href=\"http://illegalargumentexception.blogspot.com/2009/07/java-finding-class-versions.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1250599996,"creation_date":1250599996,"answer_id":1293641,"question_id":1293308,"body_markdown":"[Apache BCEL][1] provides this API:\r\n\r\n    JavaClass c = Repository.lookupClass(&quot;com.x.MyClass&quot;)\r\n    c.getMinor();\r\n    c.getMajor();\r\n\r\n\r\n  [1]: http://jakarta.apache.org/bcel","title":"Java API to find out the JDK version a class file is compiled for?","body":"<p><a href=\"http://jakarta.apache.org/bcel\" rel=\"noreferrer\">Apache BCEL</a> provides this API:</p>\n\n<pre><code>JavaClass c = Repository.lookupClass(\"com.x.MyClass\")\nc.getMinor();\nc.getMajor();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6057,"reputation":707,"user_id":10030,"display_name":"rickumali"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1302115398,"creation_date":1302115398,"answer_id":5571374,"question_id":1293308,"body_markdown":"basszero&#39;s approach can be done via the UNIX command line, and the &quot;od(1)&quot; command:\r\n\r\n    % od -x HelloWorldJava.class |head -2\r\n    0000000 feca beba 0000 3100 dc00 0007 0102 2a00\r\n    0000020 6f63 2f6d 6e65 6564 6163 642f 6d65 2f6f\r\n\r\n&quot;feca beba&quot; is the [magic number][1]. The &quot;0000 3100&quot; is 0x31, which represents J2SE 5.0.\r\n\r\n\r\n  [1]: http://www.artima.com/insidejvm/whyCAFEBABE.html","title":"Java API to find out the JDK version a class file is compiled for?","body":"<p>basszero's approach can be done via the UNIX command line, and the \"od(1)\" command:</p>\n\n<pre><code>% od -x HelloWorldJava.class |head -2\n0000000 feca beba 0000 3100 dc00 0007 0102 2a00\n0000020 6f63 2f6d 6e65 6564 6163 642f 6d65 2f6f\n</code></pre>\n\n<p>\"feca beba\" is the <a href=\"http://www.artima.com/insidejvm/whyCAFEBABE.html\">magic number</a>. The \"0000 3100\" is 0x31, which represents J2SE 5.0.</p>\n"},{"tags":[],"owner":{"account_id":1378007,"reputation":549,"user_id":1311595,"display_name":"Daniel Wille"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1470763916,"creation_date":1470763916,"answer_id":38857103,"question_id":1293308,"body_markdown":"On Linux, you can use the `file` command on a class file, which I found easiest for my use case. For example:\r\n\r\n    $ file Foo.class\r\n    Foo.class: compiled Java class data, version 50.0 (Java 1.6)","title":"Java API to find out the JDK version a class file is compiled for?","body":"<p>On Linux, you can use the <code>file</code> command on a class file, which I found easiest for my use case. For example:</p>\n\n<pre><code>$ file Foo.class\nFoo.class: compiled Java class data, version 50.0 (Java 1.6)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3691593,"reputation":1094,"user_id":3074057,"display_name":"Beezer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608989073,"creation_date":1608989073,"answer_id":65456849,"question_id":1293308,"body_markdown":"I use this script in a batch file on windows, redirect the output and grep for the major number I am verifying for:\r\n\r\n    for /R %%f in (*.class) do (\r\n    &quot;C:\\Program Files\\Java\\JDK8\\bin\\javap&quot; -v &quot;%%f&quot; | findstr major )\r\n\r\nI run it as such:\r\n\r\n    verify.bat &gt; versionResults.txt","title":"Java API to find out the JDK version a class file is compiled for?","body":"<p>I use this script in a batch file on windows, redirect the output and grep for the major number I am verifying for:</p>\n<pre><code>for /R %%f in (*.class) do (\n&quot;C:\\Program Files\\Java\\JDK8\\bin\\javap&quot; -v &quot;%%f&quot; | findstr major )\n</code></pre>\n<p>I run it as such:</p>\n<pre><code>verify.bat &gt; versionResults.txt\n</code></pre>\n"}],"owner":{"account_id":28750,"reputation":13964,"user_id":77087,"accept_rate":94,"display_name":"Prabhu R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34277,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":1293372,"answer_count":9,"score":41,"last_activity_date":1665407371,"creation_date":1250595148,"question_id":1293308,"body_markdown":"Are there any Java APIs to find out the JDK version a class file is compiled for? Of course there is the javap tool to find out the major version as mentioned in [here][1]. However I want to do it programmatically so that that I could warn the user to compile it for the appropriate JDK\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1096148/how-to-check-the-jdk-version-used-to-compile-a-class-file","title":"Java API to find out the JDK version a class file is compiled for?","body":"<p>Are there any Java APIs to find out the JDK version a class file is compiled for? Of course there is the javap tool to find out the major version as mentioned in <a href=\"https://stackoverflow.com/questions/1096148/how-to-check-the-jdk-version-used-to-compile-a-class-file\">here</a>. However I want to do it programmatically so that that I could warn the user to compile it for the appropriate JDK</p>\n"},{"tags":["java","android","foreground-service"],"comments":[{"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"score":0,"creation_date":1665407433,"post_id":74009528,"comment_id":130686285,"body_markdown":"&quot;I found that this application has only one process &#39;service&#39; in the phone settings, but there is no &#39;activity&#39; process&quot; - Isn&#39;t this expected behaviour when running a foreground service after closing the activity?","body":"&quot;I found that this application has only one process &#39;service&#39; in the phone settings, but there is no &#39;activity&#39; process&quot; - Isn&#39;t this expected behaviour when running a foreground service after closing the activity?"}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665407174,"creation_date":1665366971,"answer_id":74009596,"question_id":74009528,"body_markdown":"Define what you mean by &quot;exit.&quot;  If you mean they go into recents and swipe the app away, or go into settings and force quit, no.  That&#39;s the user saying &quot;I want this app to end&quot;.  That will kill all services.  Something that could run even when the user says it shouldn&#39;t is basically malware.","title":"Foreground service not running when App exits","body":"<p>Define what you mean by &quot;exit.&quot;  If you mean they go into recents and swipe the app away, or go into settings and force quit, no.  That's the user saying &quot;I want this app to end&quot;.  That will kill all services.  Something that could run even when the user says it shouldn't is basically malware.</p>\n"}],"owner":{"account_id":25151706,"reputation":3,"user_id":18996959,"display_name":"Dounick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665407174,"creation_date":1665365758,"question_id":74009528,"body_markdown":"How can I keep the foreground service running even when the user quits the app?\r\nI&#39;ve tried running the service in another process, but the service still stops after I quit the app.\r\nMy AndroidManifest.xml:\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Test&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;service\r\n            android:name=&quot;.Service&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:process=&quot;:service&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:process=&quot;:activity&quot;\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\nService.java:\r\n```\r\npublic class CountdownService extends Service {\r\n    NotificationManager notificationManager;\r\n\r\n    private String createNotificationChannel(String channelId, String channelName) {\r\n        NotificationChannel chan = new NotificationChannel(channelId,\r\n                channelName, NotificationManager.IMPORTANCE_NONE);\r\n        chan.setLightColor(Color.BLUE);\r\n        chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\r\n        notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        notificationManager.createNotificationChannel(chan);\r\n        return channelId;\r\n    }\r\n\r\n    NotificationCompat.Builder builder;\r\n\r\n    @NonNull\r\n    private Notification getNotification() {\r\n        String channelId = createNotificationChannel(&quot;id&quot;, &quot;name&quot;);\r\n        builder = new NotificationCompat.Builder(this, channelId);\r\n        return builder.setOngoing(true)\r\n                .setSmallIcon(R.mipmap.ic_launcher)\r\n                .setPriority(PRIORITY_MIN)\r\n                .setCategory(Notification.CATEGORY_SERVICE)\r\n                .setContentText(&quot;Content Text&quot;)\r\n                .setSubText(&quot;Sub Text&quot;)\r\n                .setContentTitle(&quot;Content Title&quot;)\r\n                .build();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        startForeground(1, getNotification());\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n}\r\n```\r\nAnd in MainActivity, I start the service like this:\r\n```\r\nIntent intent = new Intent(this, Service.class);\r\nstartForegroundService(intent);\r\n```\r\nI found that this application has only one process &#39;service&#39; in the phone settings, but there is no &#39;activity&#39; process, what is the problem? thanks.","title":"Foreground service not running when App exits","body":"<p>How can I keep the foreground service running even when the user quits the app?\nI've tried running the service in another process, but the service still stops after I quit the app.\nMy AndroidManifest.xml:</p>\n<pre><code>&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.Test&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;service\n        android:name=&quot;.Service&quot;\n        android:enabled=&quot;true&quot;\n        android:process=&quot;:service&quot;\n        android:exported=&quot;false&quot; /&gt;\n\n    &lt;activity\n        android:process=&quot;:activity&quot;\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n<p>Service.java:</p>\n<pre><code>public class CountdownService extends Service {\n    NotificationManager notificationManager;\n\n    private String createNotificationChannel(String channelId, String channelName) {\n        NotificationChannel chan = new NotificationChannel(channelId,\n                channelName, NotificationManager.IMPORTANCE_NONE);\n        chan.setLightColor(Color.BLUE);\n        chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\n        notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        notificationManager.createNotificationChannel(chan);\n        return channelId;\n    }\n\n    NotificationCompat.Builder builder;\n\n    @NonNull\n    private Notification getNotification() {\n        String channelId = createNotificationChannel(&quot;id&quot;, &quot;name&quot;);\n        builder = new NotificationCompat.Builder(this, channelId);\n        return builder.setOngoing(true)\n                .setSmallIcon(R.mipmap.ic_launcher)\n                .setPriority(PRIORITY_MIN)\n                .setCategory(Notification.CATEGORY_SERVICE)\n                .setContentText(&quot;Content Text&quot;)\n                .setSubText(&quot;Sub Text&quot;)\n                .setContentTitle(&quot;Content Title&quot;)\n                .build();\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        startForeground(1, getNotification());\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        return START_STICKY;\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n}\n</code></pre>\n<p>And in MainActivity, I start the service like this:</p>\n<pre><code>Intent intent = new Intent(this, Service.class);\nstartForegroundService(intent);\n</code></pre>\n<p>I found that this application has only one process 'service' in the phone settings, but there is no 'activity' process, what is the problem? thanks.</p>\n"},{"tags":["java","filter","jtable"],"answers":[{"tags":[],"owner":{"account_id":21329059,"reputation":43,"user_id":15701076,"display_name":"Elia123456"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665406473,"creation_date":1665406473,"answer_id":74015313,"question_id":74015146,"body_markdown":"I solved the problem by replacing `table.getModel().getValueAt(selectRowIndex, 0).toString().trim();` with `table.getValueAt(selectRowIndex, 0).toString().trim();`\r\n\r\nMy analysis, correct me if I&#39;m wrong please, since I was using `table.getModel().getValueAt(row, column)` to retrieve the value, it was using the original table model, whereas using `table.getValueAt(row, column)` automatically updates the table model and uses the filtered table","title":"JTable mouse click event returns old value after filter","body":"<p>I solved the problem by replacing <code>table.getModel().getValueAt(selectRowIndex, 0).toString().trim();</code> with <code>table.getValueAt(selectRowIndex, 0).toString().trim();</code></p>\n<p>My analysis, correct me if I'm wrong please, since I was using <code>table.getModel().getValueAt(row, column)</code> to retrieve the value, it was using the original table model, whereas using <code>table.getValueAt(row, column)</code> automatically updates the table model and uses the filtered table</p>\n"}],"owner":{"account_id":21329059,"reputation":43,"user_id":15701076,"display_name":"Elia123456"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74015313,"answer_count":1,"score":0,"last_activity_date":1665406473,"creation_date":1665405747,"question_id":74015146,"body_markdown":"I&#39;m familiarizing myself with JTable filtering for a project I&#39;m working on to enhance my java knowledge.\r\n\r\nI&#39;m facing a problem with the values that are being returned once I click on the table after applying a filter by a String value read from a JTextField.\r\nFor example if I click a row from the original data, let&#39;s say (row 2), the values returned will be the full path and target, which are correct As shown in the ***Orignal table data image*** (Image 1)\r\n\r\nHowever, after filtering let&#39;s say by **taget** as shown in ***filtered table data image*** (Image 2) the values returned are the path of **src** project name.\r\n\r\nIf not mistaken, it has something to do with the table model after filtering.\r\n\r\n[![Orignal table data][1]][1]\r\n\r\n\r\n[![Filterd table data][2]][2]\r\n\r\n        // Code to retrieve selected rows\r\n        public String[] getClickedProject(JTable table) {\r\n                String[] projectPathAndName = new String[2];\r\n                int selectRowIndex = table.getSelectedRow();\r\n                projectPathAndName[0] = table.getModel().getValueAt(selectRowIndex, 0).toString().trim();\r\n                projectPathAndName[1] = table.getModel().getValueAt(selectRowIndex, 1).toString().trim();\r\n                return projectPathAndName;\r\n            }\r\n    \r\n    // Code to filter table\r\n    public void filterTableByProject(JTable table, String projectName) {\r\n            DefaultTableModel defaultTableModel = (DefaultTableModel) table.getModel();\r\n            TableRowSorter&lt;DefaultTableModel&gt; tableRowSorter = new TableRowSorter&lt;&gt;(defaultTableModel);\r\n            table.setRowSorter(tableRowSorter);\r\n            tableRowSorter.setRowFilter(RowFilter.regexFilter(projectName));\r\n            \r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FhtT0.png\r\n  [2]: https://i.stack.imgur.com/aOTTv.png\r\n\r\nI would appreciate any help/pointers, or sample code\r\n\r\nThank you ","title":"JTable mouse click event returns old value after filter","body":"<p>I'm familiarizing myself with JTable filtering for a project I'm working on to enhance my java knowledge.</p>\n<p>I'm facing a problem with the values that are being returned once I click on the table after applying a filter by a String value read from a JTextField.\nFor example if I click a row from the original data, let's say (row 2), the values returned will be the full path and target, which are correct As shown in the <em><strong>Orignal table data image</strong></em> (Image 1)</p>\n<p>However, after filtering let's say by <strong>taget</strong> as shown in <em><strong>filtered table data image</strong></em> (Image 2) the values returned are the path of <strong>src</strong> project name.</p>\n<p>If not mistaken, it has something to do with the table model after filtering.</p>\n<p><a href=\"https://i.stack.imgur.com/FhtT0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FhtT0.png\" alt=\"Orignal table data\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/aOTTv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aOTTv.png\" alt=\"Filterd table data\" /></a></p>\n<pre><code>    // Code to retrieve selected rows\n    public String[] getClickedProject(JTable table) {\n            String[] projectPathAndName = new String[2];\n            int selectRowIndex = table.getSelectedRow();\n            projectPathAndName[0] = table.getModel().getValueAt(selectRowIndex, 0).toString().trim();\n            projectPathAndName[1] = table.getModel().getValueAt(selectRowIndex, 1).toString().trim();\n            return projectPathAndName;\n        }\n\n// Code to filter table\npublic void filterTableByProject(JTable table, String projectName) {\n        DefaultTableModel defaultTableModel = (DefaultTableModel) table.getModel();\n        TableRowSorter&lt;DefaultTableModel&gt; tableRowSorter = new TableRowSorter&lt;&gt;(defaultTableModel);\n        table.setRowSorter(tableRowSorter);\n        tableRowSorter.setRowFilter(RowFilter.regexFilter(projectName));\n        \n    }\n</code></pre>\n<p>I would appreciate any help/pointers, or sample code</p>\n<p>Thank you</p>\n"},{"tags":["java","regex","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1665406191,"creation_date":1506803142,"answer_id":46506746,"question_id":46506657,"body_markdown":"In regex `{m,n}` is used as quantifier representing amount between `m` and `n` (inclusive). If you escaped first `{` like `\\{..}` then regex engine will not treat rest of that subexpression as description of quantifier, so it is no longer *special* which allows us to skip escaping for `}`. \r\n\r\nAlthough escaping such `}` is allowed - meaning your code will work - as you see some IDEs consider it as unnecessary and *warn* you about it. \r\n\r\n---\r\nBTW same rule applies to `\\[...]` but NOT to `\\(...)` - regex always expects `)` to be explicitly escaped *if you want to treat it as literal*. \r\n\r\n*(Speculation:)*  \r\nI am guessing that this decision was based on fact that `(...)` (including look-around, named-groups, etc.) can be used very often in regex and be nested. So we often up with regex like `( \\( ( ...) ( ) ) )` where noticing which `)` represents *literal* could be a a problem.","title":"Escape character before closing brascet is redundant","body":"<p>In regex <code>{m,n}</code> is used as quantifier representing amount between <code>m</code> and <code>n</code> (inclusive). If you escaped first <code>{</code> like <code>\\{..}</code> then regex engine will not treat rest of that subexpression as description of quantifier, so it is no longer <em>special</em> which allows us to skip escaping for <code>}</code>.</p>\n<p>Although escaping such <code>}</code> is allowed - meaning your code will work - as you see some IDEs consider it as unnecessary and <em>warn</em> you about it.</p>\n<hr />\n<p>BTW same rule applies to <code>\\[...]</code> but NOT to <code>\\(...)</code> - regex always expects <code>)</code> to be explicitly escaped <em>if you want to treat it as literal</em>.</p>\n<p><em>(Speculation:)</em><br />\nI am guessing that this decision was based on fact that <code>(...)</code> (including look-around, named-groups, etc.) can be used very often in regex and be nested. So we often up with regex like <code>( \\( ( ...) ( ) ) )</code> where noticing which <code>)</code> represents <em>literal</em> could be a a problem.</p>\n"}],"owner":{"account_id":10610495,"reputation":33,"user_id":7814573,"display_name":"Hubabuba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46506746,"answer_count":1,"score":2,"last_activity_date":1665406191,"creation_date":1506802458,"question_id":46506657,"body_markdown":"I need to match some digits between curly brackets in string, my regex look like this: `SNC{(\\\\\\d*)}`. &lt;br/&gt;\r\nAfter applying escape characters, I thought that regex should transform into `SNC\\\\\\\\{(\\\\\\d*)\\\\\\\\}`, but Intellij&#39;s inspector is suggesting that escape backslashes before closing bracket  is redundant so `SNC\\\\\\\\{(\\\\\\d*)}` is enough.  Why does it work?","title":"Escape character before closing brascet is redundant","body":"<p>I need to match some digits between curly brackets in string, my regex look like this: <code>SNC{(\\\\\\d*)}</code>. <br/>\nAfter applying escape characters, I thought that regex should transform into <code>SNC\\\\\\\\{(\\\\\\d*)\\\\\\\\}</code>, but Intellij's inspector is suggesting that escape backslashes before closing bracket  is redundant so <code>SNC\\\\\\\\{(\\\\\\d*)}</code> is enough.  Why does it work?</p>\n"},{"tags":["java","aws-lambda","json-deserialization","spring-cloud-function"],"answers":[{"tags":[],"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665406185,"creation_date":1665406185,"answer_id":74015251,"question_id":74013851,"body_markdown":"I say the simplest way to do that is to:\r\n1. Not have default values. What&#39;s the point of having them if you are saying they are not valid.\r\n2. Have the getter for the property to throw an exception if such property was not set. This way it will fail during serialization resulting in bad HTTP response","title":"Aws lambda json deserilisation provides default values for missing properties","body":"<p>I say the simplest way to do that is to:</p>\n<ol>\n<li>Not have default values. What's the point of having them if you are saying they are not valid.</li>\n<li>Have the getter for the property to throw an exception if such property was not set. This way it will fail during serialization resulting in bad HTTP response</li>\n</ol>\n"}],"owner":{"account_id":23920593,"reputation":25,"user_id":17916505,"display_name":"vignesh suresh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665406185,"creation_date":1665399547,"question_id":74013851,"body_markdown":"hey I have a function in lambda with spring cloud functions that takes a dataobject as a input param say (InputObj).\r\nThe lambda is triggered via an api gateway.\r\nThe problem is if I leave out some properties of the InputObj and send a request. I get a default value for those missing properties.\r\n\r\nWhat I would need is something like a 400 bad request error to be thrown unless the user provide all properties of the InputObj.\r\n\r\nhow can i go about doing it.\r\n\r\n","title":"Aws lambda json deserilisation provides default values for missing properties","body":"<p>hey I have a function in lambda with spring cloud functions that takes a dataobject as a input param say (InputObj).\nThe lambda is triggered via an api gateway.\nThe problem is if I leave out some properties of the InputObj and send a request. I get a default value for those missing properties.</p>\n<p>What I would need is something like a 400 bad request error to be thrown unless the user provide all properties of the InputObj.</p>\n<p>how can i go about doing it.</p>\n"},{"tags":["java","spring-boot","oauth-2.0","keycloak"],"answers":[{"tags":[],"owner":{"account_id":22140903,"reputation":105,"user_id":16390946,"display_name":"Ion Ionets"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1638523647,"creation_date":1638523647,"answer_id":70212043,"question_id":69365845,"body_markdown":"The Keycloak adapter doesn&#39;t work with WebFlux, only with MVC, so you should remove this dependency:\r\n```\r\nmavenBom &quot;org.keycloak.bom:keycloak-adapter-bom:${keycloakVersion}&quot;\r\n```\r\n\r\nYou can use \r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nand configure the Keycloak as the Oauth server:\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          keycloak:\r\n            provider: keycloak\r\n            client-id: web\r\n            client-secret: &#39;{cipher}xxxx&#39;\r\n            authorization-grant-type: authorization_code\r\n            redirect-uri: ${keycloak-client.server-url}/login/oauth2/code/keycloak\r\n            scope: openid\r\n        provider:\r\n          keycloak:\r\n            authorization-uri: ${keycloak-client.server-url}/realms/${keycloak-client.realm}/protocol/openid-connect/auth\r\n            token-uri: ${keycloak-client.server-url}/realms/${keycloak-client.realm}/protocol/openid-connect/token\r\n            user-info-uri: ${keycloak-client.server-url}/realms/${keycloak-client.realm}/protocol/openid-connect/userinfo\r\n            jwk-set-uri: ${keycloak-client.server-url}/realms/${keycloak-client.realm}/protocol/openid-connect/certs\r\n            user-name-attribute: name\r\n            user-info-authentication-method: header\r\n      resourceserver:\r\n        jwt:\r\n          jwk-set-uri: ${keycloak-client.server-url}/realms/${keycloak-client.realm}/protocol/openid-connect/certs\r\nkeycloak-client:\r\n  server-url: https://keycloakURL/auth\r\n  realm: your-realm\r\n\r\n```\r\n\r\nAnd the FilterChain:\r\n\r\n```\r\n  @Bean\r\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\r\n        http\r\n                .authorizeExchange()\r\n                .pathMatchers(constraintsConfig.getOpenUri())\r\n                .permitAll()\r\n                .and()\r\n                .authorizeExchange()\r\n                .anyExchange().authenticated()\r\n                .and()\r\n                .oauth2ResourceServer()\r\n                .jwt();\r\n        return http.build();\r\n    }\r\n\r\n```","title":"Keycloak + spring cloud gateway + authentication and authorization","body":"<p>The Keycloak adapter doesn't work with WebFlux, only with MVC, so you should remove this dependency:</p>\n<pre><code>mavenBom &quot;org.keycloak.bom:keycloak-adapter-bom:${keycloakVersion}&quot;\n</code></pre>\n<p>You can use</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and configure the Keycloak as the Oauth server:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          keycloak:\n            provider: keycloak\n            client-id: web\n            client-secret: '{cipher}xxxx'\n            authorization-grant-type: authorization_code\n            redirect-uri: ${keycloak-client.server-url}/login/oauth2/code/keycloak\n            scope: openid\n        provider:\n          keycloak:\n            authorization-uri: ${keycloak-client.server-url}/realms/${keycloak-client.realm}/protocol/openid-connect/auth\n            token-uri: ${keycloak-client.server-url}/realms/${keycloak-client.realm}/protocol/openid-connect/token\n            user-info-uri: ${keycloak-client.server-url}/realms/${keycloak-client.realm}/protocol/openid-connect/userinfo\n            jwk-set-uri: ${keycloak-client.server-url}/realms/${keycloak-client.realm}/protocol/openid-connect/certs\n            user-name-attribute: name\n            user-info-authentication-method: header\n      resourceserver:\n        jwt:\n          jwk-set-uri: ${keycloak-client.server-url}/realms/${keycloak-client.realm}/protocol/openid-connect/certs\nkeycloak-client:\n  server-url: https://keycloakURL/auth\n  realm: your-realm\n\n</code></pre>\n<p>And the FilterChain:</p>\n<pre><code>  @Bean\n    public SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) {\n        http\n                .authorizeExchange()\n                .pathMatchers(constraintsConfig.getOpenUri())\n                .permitAll()\n                .and()\n                .authorizeExchange()\n                .anyExchange().authenticated()\n                .and()\n                .oauth2ResourceServer()\n                .jwt();\n        return http.build();\n    }\n\n</code></pre>\n"}],"owner":{"account_id":4862292,"reputation":73,"user_id":3921544,"accept_rate":40,"display_name":"Chatura Mohotti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6291,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1665405924,"creation_date":1632848713,"question_id":69365845,"body_markdown":"I&#39;m trying to use keycloak for authentication and also authorization in the spring cloud gateway itself. But I&#39;m getting the below error.\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: \r\nError creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [poc/apigateway/SecurityConfig.class]: \r\nBean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: \r\nFailed to instantiate [org.springframework.security.web.server.SecurityWebFilterChain]: \r\nFactory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: \r\nclientRegistrationRepository cannot be null\r\n```\r\n\r\nMy application.properties\r\n\r\n```server.port=8005\r\nspring.application.name=api-gateway\r\n\r\nspring.cloud.gateway.default-filters=TokenRelay\r\n\r\nspring.cloud.gateway.routes[0].id=product-service\r\nspring.cloud.gateway.routes[0].uri=http://localhost:8009\r\nspring.cloud.gateway.routes[0].predicates[0]=Path=/api/product\r\n\r\nspring.cloud.gateway.routes[1].id=order-service\r\nspring.cloud.gateway.routes[1].uri=http://localhost:8008\r\nspring.cloud.gateway.routes[1].predicates[0]=Path=/api/order\r\n\r\nspring.security.oauth2.client.provider.keycloak.issuer-uri=http://localhost:8080/auth/realms/microservice-realm\r\nspring.security.oauth2.client.registration.spring-cloud-gateway-client.client-id=spring-cloud-gateway-client\r\nspring.security.oauth2.client.registration.spring-cloud-gateway-client.client-secret=d1b3670c-f1c3-480c-9cda-8e107aec7d5b\r\nspring.security.oauth2.client.registration.spring-cloud-gateway-client.scope=openid, profile, roles\r\nspring.security.oauth2.client.registration.spring-cloud-gateway-client.authorization-grant-type=authorization_code\r\nspring.security.oauth2.client.registration.spring-cloud-gateway-client.redirect-uri=http://localhost:8005/login/oauth2/code/spring-cloud-gateway-client\r\n\r\nspring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8080/auth/realms/microservice-realm\r\n\r\nkeycloak.realm=microservice-realm\r\nkeycloak.resource=spring-cloud-gateway-client\r\nkeycloak.auth-server-url=http://localhost:8080/auth\r\nkeycloak.public-client=true\r\n\r\nkeycloak.securityConstraints[0].authRoles[0]=app-user\r\nkeycloak.securityConstraints[0].securityCollections[0].patterns[0]=/api/*\r\n```\r\nMy build.gradle\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.5.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;poc&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\next {\r\n\tset(&#39;springCloudVersion&#39;, &quot;2020.0.3&quot;)\r\n\tset(&#39;keycloakVersion&#39;, &#39;4.8.3.Final&#39;)\r\n}\r\n\r\ndependencies {\r\n\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n\r\n\t// Keycloak\r\n\timplementation &#39;org.keycloak:keycloak-spring-boot-starter&#39;\r\n}\r\n\r\ndependencyManagement {\r\n\timports {\r\n\t\tmavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n\t\tmavenBom &quot;org.keycloak.bom:keycloak-adapter-bom:${keycloakVersion}&quot;\r\n\t}\r\n}\r\n\r\ntest {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\nMy SecurityConfig.java\r\n\r\n```\r\n@Configuration\r\n@EnableWebFluxSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n        http.authorizeExchange(exchanges -&gt; exchanges.anyExchange().authenticated())\r\n                .oauth2Login(withDefaults());\r\n        http.csrf().disable();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nThe issue comes when the application is booting up. What I&#39;m trying to do here is do the authentication and role bases authorization in the API gateway itself.\r\n","title":"Keycloak + spring cloud gateway + authentication and authorization","body":"<p>I'm trying to use keycloak for authentication and also authorization in the spring cloud gateway itself. But I'm getting the below error.</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'springSecurityFilterChain' defined in class path resource [poc/apigateway/SecurityConfig.class]: \nBean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: \nFailed to instantiate [org.springframework.security.web.server.SecurityWebFilterChain]: \nFactory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: \nclientRegistrationRepository cannot be null\n</code></pre>\n<p>My application.properties</p>\n<pre><code>spring.application.name=api-gateway\n\nspring.cloud.gateway.default-filters=TokenRelay\n\nspring.cloud.gateway.routes[0].id=product-service\nspring.cloud.gateway.routes[0].uri=http://localhost:8009\nspring.cloud.gateway.routes[0].predicates[0]=Path=/api/product\n\nspring.cloud.gateway.routes[1].id=order-service\nspring.cloud.gateway.routes[1].uri=http://localhost:8008\nspring.cloud.gateway.routes[1].predicates[0]=Path=/api/order\n\nspring.security.oauth2.client.provider.keycloak.issuer-uri=http://localhost:8080/auth/realms/microservice-realm\nspring.security.oauth2.client.registration.spring-cloud-gateway-client.client-id=spring-cloud-gateway-client\nspring.security.oauth2.client.registration.spring-cloud-gateway-client.client-secret=d1b3670c-f1c3-480c-9cda-8e107aec7d5b\nspring.security.oauth2.client.registration.spring-cloud-gateway-client.scope=openid, profile, roles\nspring.security.oauth2.client.registration.spring-cloud-gateway-client.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.spring-cloud-gateway-client.redirect-uri=http://localhost:8005/login/oauth2/code/spring-cloud-gateway-client\n\nspring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8080/auth/realms/microservice-realm\n\nkeycloak.realm=microservice-realm\nkeycloak.resource=spring-cloud-gateway-client\nkeycloak.auth-server-url=http://localhost:8080/auth\nkeycloak.public-client=true\n\nkeycloak.securityConstraints[0].authRoles[0]=app-user\nkeycloak.securityConstraints[0].securityCollections[0].patterns[0]=/api/*\n</code></pre>\n<p>My build.gradle</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'poc'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springCloudVersion', &quot;2020.0.3&quot;)\n    set('keycloakVersion', '4.8.3.Final')\n}\n\ndependencies {\n\n    implementation 'org.springframework.cloud:spring-cloud-starter-gateway'\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n\n    // Keycloak\n    implementation 'org.keycloak:keycloak-spring-boot-starter'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n        mavenBom &quot;org.keycloak.bom:keycloak-adapter-bom:${keycloakVersion}&quot;\n    }\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>My SecurityConfig.java</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n        http.authorizeExchange(exchanges -&gt; exchanges.anyExchange().authenticated())\n                .oauth2Login(withDefaults());\n        http.csrf().disable();\n        return http.build();\n    }\n}\n</code></pre>\n<p>The issue comes when the application is booting up. What I'm trying to do here is do the authentication and role bases authorization in the API gateway itself.</p>\n"},{"tags":["java","mysql","multithreading","spring-boot","aws-aurora-serverless"],"comments":[{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":2,"creation_date":1664369281,"post_id":73881456,"comment_id":130455430,"body_markdown":"So what changed since 2 days ago? (hint: &quot;nothing changed&quot; is the incorrect answer.)","body":"So what changed since 2 days ago? (hint: &quot;nothing changed&quot; is the incorrect answer.)"},{"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"score":0,"creation_date":1664370738,"post_id":73881456,"comment_id":130456049,"body_markdown":"Really, nothing is changed regarding the code.","body":"Really, nothing is changed regarding the code."},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":1,"creation_date":1664371929,"post_id":73881456,"comment_id":130456554,"body_markdown":"The code is only one part of the story. What about database configuration or data? Just to reemphasize the point @BillKarwin has made: something must have changed two days ago, otherwise you would not see deadlocks propping up all over the place! (To be honest, your code should handle deadlocks by attempting to re-insert the rollbacked insert at least once anyway..)Insert ... select ... statement usually applies shared lock on the rows it selects. This could potentially cause a deadlock.","body":"The code is only one part of the story. What about database configuration or data? Just to reemphasize the point @BillKarwin has made: something must have changed two days ago, otherwise you would not see deadlocks propping up all over the place! (To be honest, your code should handle deadlocks by attempting to re-insert the rollbacked insert at least once anyway..)Insert ... select ... statement usually applies shared lock on the rows it selects. This could potentially cause a deadlock."},{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1664377686,"post_id":73881456,"comment_id":130458920,"body_markdown":"Something changed. If code did not change, then one or more of data, traffic, infrastructure, software, or environment changed. Or code did change, and you didn&#39;t know.","body":"Something changed. If code did not change, then one or more of data, traffic, infrastructure, software, or environment changed. Or code did change, and you didn&#39;t know."},{"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"score":0,"creation_date":1664435081,"post_id":73881456,"comment_id":130471848,"body_markdown":"Code isn&#39;t changed, it can be easily tracked by repository history. Data isn&#39;t changed either (the data to be selected is never being modified). My only concern is that the Aurora Serverless&#39; configuration might be changed by AWS itself (as I mentioned in the question) but there&#39;s no way to check and compare it with previous one.","body":"Code isn&#39;t changed, it can be easily tracked by repository history. Data isn&#39;t changed either (the data to be selected is never being modified). My only concern is that the Aurora Serverless&#39; configuration might be changed by AWS itself (as I mentioned in the question) but there&#39;s no way to check and compare it with previous one."}],"answers":[{"tags":[],"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665405819,"creation_date":1665405819,"answer_id":74015165,"question_id":73881456,"body_markdown":"I found the problem.\r\n\r\nThe thing was, that I was removed a redundant column in the entity class which described the table which the data should be selected from and inserted into the resulting table. Afterwards, I didn&#39;t removed the same column in the DB table. \r\n\r\nMost probably, that was somehow affecting on the locking mechanism in MySQL. Once I removed the corresponding column in the table, the locking issue was resolved.","title":"How to fix &quot;Lock wait timeout exceeded; try restarting transaction&quot; for Mysql table when it was working before?","body":"<p>I found the problem.</p>\n<p>The thing was, that I was removed a redundant column in the entity class which described the table which the data should be selected from and inserted into the resulting table. Afterwards, I didn't removed the same column in the DB table.</p>\n<p>Most probably, that was somehow affecting on the locking mechanism in MySQL. Once I removed the corresponding column in the table, the locking issue was resolved.</p>\n"}],"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74015165,"answer_count":1,"score":1,"last_activity_date":1665405819,"creation_date":1664368114,"question_id":73881456,"body_markdown":"I have a Spring Boot application which asynchronously inserts data into a table:\r\n\r\n    ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(DAYS_IN_WEEK);\r\n\r\n\r\n    for (int i = 0; i &lt; DAYS_IN_WEEK; ++i) {\r\n        Runnable task = new MyThread(weekStartDate.plusDays(i));\r\n        executor.execute(task);\r\n    }\r\n\r\n    executor.shutdown();\r\n\r\n    while (!executor.awaitTermination(1, TimeUnit.SECONDS)) {\r\n        // wait until the processes in the executor will be terminated\r\n    }\r\n\r\n    log.info(&quot;Insertion is finished.&quot;);\r\n\r\nHere is MyThread:\r\n\r\n    public class MyThread implements Runnable {\r\n\r\n        // ..........\r\n\r\n        public MyThread(LocalDate date) {\r\n            // ..........\r\n        }\r\n\r\n        public void run() {\r\n            log.info(&quot;date - {}&quot;, date.format(dateTimeFormatter));\r\n\r\n            /*\r\n              The similar script is being executed:\r\n          \r\n              &quot;insert into my_table(col1, col2, ..., colN)&quot; +\r\n              &quot;    (select col1, col2, ..., date&quot; +\r\n              &quot;     from another_table &quot; +\r\n              &quot;     where date = :date&quot; +\r\n              &quot;    )&quot;;\r\n            */\r\n        }\r\n    }\r\n\r\n\r\nThe thing is that it was working perfectly throughout of months but now I get \r\n\r\n`2022-09-26 12:34:28.280 ERROR 5664 --- [pool-2-thread-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Lock wait timeout exceeded; try restarting transaction\r\n2022-09-26 12:36:58.529 ERROR 5664 --- [pool-2-thread-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : Lock wait timeout exceeded; try restarting transaction\r\n2022-09-26 12:39:26.070 ERROR 5664 --- [pool-2-thread-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Lock wait timeout exceeded; try restarting transaction\r\n2022-09-26 12:45:34.697 ERROR 5664 --- [pool-2-thread-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : Lock wait timeout exceeded; try restarting transaction`\r\n\r\nexception. All I&#39;ve searched for mention about nested transactions and locks on the same record or data, but the thing is that it was working before and also there cannot be record locks or modifications of the same record in different threads since each thread is executed on a data based on dates which can never be the same for different dates.\r\n\r\nThe database is Aurora Serverless 2.08.3 and there were no configuration changes (innodb_lock_wait_timeout, etc.) from my side (not sure if there is from AWS itself).\r\n\r\nAlso, `SHOW ENGINE INNODB STATUS;` doesn&#39;t show that there is a locked tables or rows. `sudo killall -9 mysqld` didn&#39;t help either.\r\n\r\n**So the questions is:** What can be wrong with the application which was working 2 days ago perfectly with no incident?\r\n\r\nSo any help would be highly appreciated.","title":"How to fix &quot;Lock wait timeout exceeded; try restarting transaction&quot; for Mysql table when it was working before?","body":"<p>I have a Spring Boot application which asynchronously inserts data into a table:</p>\n<pre><code>ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(DAYS_IN_WEEK);\n\n\nfor (int i = 0; i &lt; DAYS_IN_WEEK; ++i) {\n    Runnable task = new MyThread(weekStartDate.plusDays(i));\n    executor.execute(task);\n}\n\nexecutor.shutdown();\n\nwhile (!executor.awaitTermination(1, TimeUnit.SECONDS)) {\n    // wait until the processes in the executor will be terminated\n}\n\nlog.info(&quot;Insertion is finished.&quot;);\n</code></pre>\n<p>Here is MyThread:</p>\n<pre><code>public class MyThread implements Runnable {\n\n    // ..........\n\n    public MyThread(LocalDate date) {\n        // ..........\n    }\n\n    public void run() {\n        log.info(&quot;date - {}&quot;, date.format(dateTimeFormatter));\n\n        /*\n          The similar script is being executed:\n      \n          &quot;insert into my_table(col1, col2, ..., colN)&quot; +\n          &quot;    (select col1, col2, ..., date&quot; +\n          &quot;     from another_table &quot; +\n          &quot;     where date = :date&quot; +\n          &quot;    )&quot;;\n        */\n    }\n}\n</code></pre>\n<p>The thing is that it was working perfectly throughout of months but now I get</p>\n<p><code>2022-09-26 12:34:28.280 ERROR 5664 --- [pool-2-thread-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Lock wait timeout exceeded; try restarting transaction 2022-09-26 12:36:58.529 ERROR 5664 --- [pool-2-thread-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : Lock wait timeout exceeded; try restarting transaction 2022-09-26 12:39:26.070 ERROR 5664 --- [pool-2-thread-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Lock wait timeout exceeded; try restarting transaction 2022-09-26 12:45:34.697 ERROR 5664 --- [pool-2-thread-5] o.h.engine.jdbc.spi.SqlExceptionHelper   : Lock wait timeout exceeded; try restarting transaction</code></p>\n<p>exception. All I've searched for mention about nested transactions and locks on the same record or data, but the thing is that it was working before and also there cannot be record locks or modifications of the same record in different threads since each thread is executed on a data based on dates which can never be the same for different dates.</p>\n<p>The database is Aurora Serverless 2.08.3 and there were no configuration changes (innodb_lock_wait_timeout, etc.) from my side (not sure if there is from AWS itself).</p>\n<p>Also, <code>SHOW ENGINE INNODB STATUS;</code> doesn't show that there is a locked tables or rows. <code>sudo killall -9 mysqld</code> didn't help either.</p>\n<p><strong>So the questions is:</strong> What can be wrong with the application which was working 2 days ago perfectly with no incident?</p>\n<p>So any help would be highly appreciated.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":26552394,"reputation":306,"user_id":20181494,"display_name":"Janil101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665405236,"creation_date":1665405236,"answer_id":74015020,"question_id":74014841,"body_markdown":"first take a form to use the save button to send the id and you have taken wrong type in button it should be type=&quot;submit&quot; in file randomSummerCamps.html.","title":"Spring Boot saving new field in document","body":"<p>first take a form to use the save button to send the id and you have taken wrong type in button it should be type=&quot;submit&quot; in file randomSummerCamps.html.</p>\n"}],"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665405687,"creation_date":1665404296,"question_id":74014841,"body_markdown":"I will explain one by one what I want to achieve. I hosted app right now on Heroku so you can actually see how it works, I thought its easier to understand.\r\n\r\n - First log in here https://trip-advisor-app.herokuapp.com/api/auth/loginAndRegisterForm\r\n  you can use username `admin` and passoword `admin123`\r\n\r\n - After that click on `AdventureHoliday` box and than `SummerCamps`.\r\n\r\n- That is a random element from document (right now I dont have images in database for heroku) and there is a button randomize again. When page says `No more docs` just refresh page and you will have again two elements. (Right now its just two of them).\r\n\r\nWhat I want to achieve?\r\n\r\nYou see there is a save button. So if user gets `Kieve Summer Camp` and click on save button, program should save that title and id of that element in User document in some list maybe in Mongo.\r\n\r\nHow I can achieve that?\r\n\r\nHow I can get a current element ID and that save that element in User element?\r\n\r\nYou can check my repo here https://github.com/jankovicdev/TripAdvisorApp\r\n\r\nThis is my service so far:\r\n\r\n       public void saveDocument(String userId, String holidayId) {\r\n\r\n        User user = userRepository.findById(userId).orElse(null);\r\n        AdventureHolidays adventureHolidays = adventureHolidaysRepository.findById(holidayId).orElse(null);\r\n        assert user != null;\r\n        user.getAdventureHolidaysList().add(adventureHolidays);\r\n        userRepository.save(user);\r\n    }\r\n\r\nAnd controller\r\n\r\n    @GetMapping(path = &quot;/saveHoliday/{id}&quot;)\r\n    public ResponseEntity&lt;Void&gt; saveLink(@PathVariable(&quot;id&quot;) String id, String holidayId) {\r\n        userService.saveDocument(id, holidayId);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    }\r\n\r\nBut that doesnt work at all","title":"Spring Boot saving new field in document","body":"<p>I will explain one by one what I want to achieve. I hosted app right now on Heroku so you can actually see how it works, I thought its easier to understand.</p>\n<ul>\n<li><p>First log in here <a href=\"https://trip-advisor-app.herokuapp.com/api/auth/loginAndRegisterForm\" rel=\"nofollow noreferrer\">https://trip-advisor-app.herokuapp.com/api/auth/loginAndRegisterForm</a>\nyou can use username <code>admin</code> and passoword <code>admin123</code></p>\n</li>\n<li><p>After that click on <code>AdventureHoliday</code> box and than <code>SummerCamps</code>.</p>\n</li>\n<li><p>That is a random element from document (right now I dont have images in database for heroku) and there is a button randomize again. When page says <code>No more docs</code> just refresh page and you will have again two elements. (Right now its just two of them).</p>\n</li>\n</ul>\n<p>What I want to achieve?</p>\n<p>You see there is a save button. So if user gets <code>Kieve Summer Camp</code> and click on save button, program should save that title and id of that element in User document in some list maybe in Mongo.</p>\n<p>How I can achieve that?</p>\n<p>How I can get a current element ID and that save that element in User element?</p>\n<p>You can check my repo here <a href=\"https://github.com/jankovicdev/TripAdvisorApp\" rel=\"nofollow noreferrer\">https://github.com/jankovicdev/TripAdvisorApp</a></p>\n<p>This is my service so far:</p>\n<pre><code>   public void saveDocument(String userId, String holidayId) {\n\n    User user = userRepository.findById(userId).orElse(null);\n    AdventureHolidays adventureHolidays = adventureHolidaysRepository.findById(holidayId).orElse(null);\n    assert user != null;\n    user.getAdventureHolidaysList().add(adventureHolidays);\n    userRepository.save(user);\n}\n</code></pre>\n<p>And controller</p>\n<pre><code>@GetMapping(path = &quot;/saveHoliday/{id}&quot;)\npublic ResponseEntity&lt;Void&gt; saveLink(@PathVariable(&quot;id&quot;) String id, String holidayId) {\n    userService.saveDocument(id, holidayId);\n    return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n}\n</code></pre>\n<p>But that doesnt work at all</p>\n"},{"tags":["java","amazon-s3","bigdata","parquet"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665409877,"post_id":74015117,"comment_id":130687175,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":18457653,"reputation":11,"user_id":13445968,"display_name":"Anas Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665405629,"creation_date":1665405629,"question_id":74015117,"body_markdown":"I am trying to read a parquet record from S3, S3 usually returns an input stream, which I want to retrieve the data from. Am using java , and I don&#39;t want to use spark&#39;s built in reader. is there a way to do this?","title":"Is there a way to read a parquet file from an InputStream in Java?","body":"<p>I am trying to read a parquet record from S3, S3 usually returns an input stream, which I want to retrieve the data from. Am using java , and I don't want to use spark's built in reader. is there a way to do this?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":4472160,"reputation":9650,"user_id":10415047,"display_name":"R2D2"},"score":0,"creation_date":1665398910,"post_id":74013610,"comment_id":130683370,"body_markdown":"https://stackoverflow.com/questions/37839365/simple-http-tcp-health-check-for-mongodb","body":"<a href=\"https://stackoverflow.com/questions/37839365/simple-http-tcp-health-check-for-mongodb\" title=\"simple http tcp health check for mongodb\">stackoverflow.com/questions/37839365/&hellip;</a>"},{"owner":{"account_id":25326498,"reputation":1,"user_id":19147062,"display_name":"Vikas Konaparthi"},"score":0,"creation_date":1665399066,"post_id":74013610,"comment_id":130683415,"body_markdown":"I need it in Spring Boot","body":"I need it in Spring Boot"},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":1,"creation_date":1665404180,"post_id":74013610,"comment_id":130685113,"body_markdown":"Are you using actuator? https://spring.io/guides/gs/actuator-service/ Mongo health check is included.","body":"Are you using actuator? <a href=\"https://spring.io/guides/gs/actuator-service/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/actuator-service</a> Mongo health check is included."},{"owner":{"account_id":25326498,"reputation":1,"user_id":19147062,"display_name":"Vikas Konaparthi"},"score":0,"creation_date":1665406889,"post_id":74013610,"comment_id":130686085,"body_markdown":"No I am not using it.","body":"No I am not using it."}],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665405355,"creation_date":1665405355,"answer_id":74015048,"question_id":74013610,"body_markdown":"You can define it like this;\r\n\r\n`management.health.mongo.enabled=true`\r\n\r\n[Spring Boot Mongo health definiton][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.actuator.management.health.mongo.enabled","title":"How can I check mongoDb Health check in Spring Boot?","body":"<p>You can define it like this;</p>\n<p><code>management.health.mongo.enabled=true</code></p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.actuator.management.health.mongo.enabled\" rel=\"nofollow noreferrer\">Spring Boot Mongo health definiton</a></p>\n"}],"owner":{"account_id":25326498,"reputation":1,"user_id":19147062,"display_name":"Vikas Konaparthi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665405355,"creation_date":1665398312,"question_id":74013610,"body_markdown":"Is there any other way to check the health of MongoDB rather than using this.\r\n\r\n    @Override\r\n\tpublic String mongoDbHealthCheck() {\r\n\t\ttry {\r\n\t\t\tmongoTemplate.executeCommand(&quot;{ serverStatus: 1 }&quot;);\r\n\t\t\treturn &quot;Yes&quot;;\r\n\t\t}\r\n\t\tcatch(Exception e) {\r\n\t\t\tlog.error(e.getMessage());\r\n\t\t\treturn &quot;No&quot;;\r\n\t\t}\r\n\t}","title":"How can I check mongoDb Health check in Spring Boot?","body":"<p>Is there any other way to check the health of MongoDB rather than using this.</p>\n<pre><code>@Override\npublic String mongoDbHealthCheck() {\n    try {\n        mongoTemplate.executeCommand(&quot;{ serverStatus: 1 }&quot;);\n        return &quot;Yes&quot;;\n    }\n    catch(Exception e) {\n        log.error(e.getMessage());\n        return &quot;No&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1665401854,"post_id":74014066,"comment_id":130684312,"body_markdown":"How is `ForumRef` defined?","body":"How is <code>ForumRef</code> defined?"},{"owner":{"account_id":25437384,"reputation":17,"user_id":19240900,"display_name":"CMRyle"},"score":0,"creation_date":1665402161,"post_id":74014066,"comment_id":130684413,"body_markdown":"Hi Alex, ForumRef = FirebaseDatabase.getInstance().getReference.child(&quot;Forums&quot;).child(PostKey); wherein PostKey contained the specific Forum name.","body":"Hi Alex, ForumRef = FirebaseDatabase.getInstance().getReference.child(&quot;Forums&quot;).&zwnj;&#8203;child(PostKey); wherein PostKey contained the specific Forum name."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665405192,"creation_date":1665405192,"answer_id":74015012,"question_id":74014066,"body_markdown":"When you&#39;re passing the following reference:\r\n\r\n    ForumRef = FirebaseDatabase.getInstance().getReference.child(&quot;Forums&quot;).child(PostKey);\r\n\r\nTo:\r\n\r\n    .setQuery(ForumRef,Post.class)\r\n\r\nIt means that the adapter expects to render on the screen `Post` objects. If you take a closer look at your database schema, under the post key (`1st`) node, you can find a `Post` object and two strings, the `count` and the `forumname`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSee, `IUSH...2Mon`, `count`, and `forumname` are children that exist under the exact same (`1st`) node. So when reading the data from the database, the Firebase-UI library tries to map each child under the above reference into an object of type `Post`, which is actually not possible since the last two children are strings. To solve this, you have to move those two strings to a different location. As soon as inside that node will only exist `Post` objects, then the error will go away.\r\n\r\n  [1]: https://i.stack.imgur.com/JYc8f.png","title":"Fixing the error code: &quot;Can&#39;t convert object of type java.lang.String to type&quot;","body":"<p>When you're passing the following reference:</p>\n<pre><code>ForumRef = FirebaseDatabase.getInstance().getReference.child(&quot;Forums&quot;).child(PostKey);\n</code></pre>\n<p>To:</p>\n<pre><code>.setQuery(ForumRef,Post.class)\n</code></pre>\n<p>It means that the adapter expects to render on the screen <code>Post</code> objects. If you take a closer look at your database schema, under the post key (<code>1st</code>) node, you can find a <code>Post</code> object and two strings, the <code>count</code> and the <code>forumname</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/JYc8f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JYc8f.png\" alt=\"enter image description here\" /></a></p>\n<p>See, <code>IUSH...2Mon</code>, <code>count</code>, and <code>forumname</code> are children that exist under the exact same (<code>1st</code>) node. So when reading the data from the database, the Firebase-UI library tries to map each child under the above reference into an object of type <code>Post</code>, which is actually not possible since the last two children are strings. To solve this, you have to move those two strings to a different location. As soon as inside that node will only exist <code>Post</code> objects, then the error will go away.</p>\n"}],"owner":{"account_id":25437384,"reputation":17,"user_id":19240900,"display_name":"CMRyle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74015012,"answer_count":1,"score":0,"last_activity_date":1665405231,"creation_date":1665400665,"question_id":74014066,"body_markdown":"I&#39;m creating my first Android app which is a forum app wherein users can post. \r\n\r\nI read a lot of the same error, but I can&#39;t figure it out to solve my problem. I got the error once I call the method LoadPost(); which fetches the data from Direbase straight to my RecycleView. \r\n\r\n\r\n[Here is my Firebase data structure:][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5qejZ.png\r\n\r\nHere&#39;s my ViewHolder:\r\n\r\n    public class MyViewHolder3 extends RecyclerView.ViewHolder {\r\n    CircleImageView circleImageView;\r\n    TextView user_name, user_power, user_dep, date_posted, user_post_description, upvote_count;\r\n    Button upvote_btn, comment_btn;\r\n\r\n    public MyViewHolder3(@NonNull View itemView) {\r\n        super(itemView);\r\n        circleImageView = itemView.findViewById(R.id.circleImageView);\r\n        user_name = itemView.findViewById(R.id.user_name);\r\n        user_power = itemView.findViewById(R.id.user_power);\r\n        user_dep = itemView.findViewById(R.id.user_dep);\r\n        date_posted = itemView.findViewById(R.id.date_posted);\r\n        user_post_description = itemView.findViewById(R.id.user_post_description);\r\n        upvote_count = itemView.findViewById(R.id.upvote_count);\r\n\r\n        upvote_btn = itemView.findViewById(R.id.upvote_btn);\r\n        comment_btn = itemView.findViewById(R.id.comment_btn);\r\n\r\n    }\r\n\r\nHere&#39;s my Post class:\r\n\r\n    public class Post {\r\n\r\n    private String postdescription, userdep, date, username, userpower, userprofileimage;\r\n\r\n    public Post() {\r\n    }\r\n\r\n    public String getPostdescription() {\r\n        return postdescription;\r\n    }\r\n\r\n    public void setPostdescription(String postdescription) {\r\n        this.postdescription = postdescription;\r\n    }\r\n\r\n    public String getUserdep() {\r\n        return userdep;\r\n    }\r\n\r\n    public void setUserdep(String userdep) {\r\n        this.userdep = userdep;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getUserpower() {\r\n        return userpower;\r\n    }\r\n\r\n    public void setUserpower(String userpower) {\r\n        this.userpower = userpower;\r\n    }\r\n\r\n    public String getUserprofileimage() {\r\n        return userprofileimage;\r\n    }\r\n\r\n    public void setUserprofileimage(String userprofileimage) {\r\n        this.userprofileimage = userprofileimage;\r\n    }\r\n\r\n    public Post(String postdescription, String userdep, String date, String username, String userpower, String userprofileimage) {\r\n        this.postdescription = postdescription;\r\n        this.userdep = userdep;\r\n        this.date = date;\r\n        this.username = username;\r\n        this.userpower = userpower;\r\n        this.userprofileimage = userprofileimage;\r\n    }\r\n\r\nHere&#39;s my LoadPost() method:\r\n\r\n        private void LoadPost() {\r\n\r\n        options = new FirebaseRecyclerOptions.Builder&lt;Post&gt;().setQuery(ForumRef,Post.class).build();\r\n        adapter = new FirebaseRecyclerAdapter&lt;Post, MyViewHolder3&gt;(options) {\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull MyViewHolder3 holder, int position, @NonNull Post model) {\r\n            holder.user_post_description.setText(model.getPostdescription());\r\n            holder.user_dep.setText(model.getUserdep());\r\n            holder.date_posted.setText(model.getDate());\r\n            holder.user_name.setText(model.getUsername());\r\n            holder.user_power.setText(model.getUserpower());\r\n            Picasso.get().load(model.getUserprofileimage()).into(holder.circleImageView);\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public MyViewHolder3 onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.all_post_layout2,parent,false);\r\n                return new MyViewHolder3(view);\r\n            }\r\n        };\r\n        adapter.startListening();\r\n        recyclerView.setAdapter(adapter);\r\n    }\r\n\r\n\r\nAnd here&#39;s the error code I got:\r\n\r\n    com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.chitchat.Post","title":"Fixing the error code: &quot;Can&#39;t convert object of type java.lang.String to type&quot;","body":"<p>I'm creating my first Android app which is a forum app wherein users can post.</p>\n<p>I read a lot of the same error, but I can't figure it out to solve my problem. I got the error once I call the method LoadPost(); which fetches the data from Direbase straight to my RecycleView.</p>\n<p><a href=\"https://i.stack.imgur.com/5qejZ.png\" rel=\"nofollow noreferrer\">Here is my Firebase data structure:</a></p>\n<p>Here's my ViewHolder:</p>\n<pre><code>public class MyViewHolder3 extends RecyclerView.ViewHolder {\nCircleImageView circleImageView;\nTextView user_name, user_power, user_dep, date_posted, user_post_description, upvote_count;\nButton upvote_btn, comment_btn;\n\npublic MyViewHolder3(@NonNull View itemView) {\n    super(itemView);\n    circleImageView = itemView.findViewById(R.id.circleImageView);\n    user_name = itemView.findViewById(R.id.user_name);\n    user_power = itemView.findViewById(R.id.user_power);\n    user_dep = itemView.findViewById(R.id.user_dep);\n    date_posted = itemView.findViewById(R.id.date_posted);\n    user_post_description = itemView.findViewById(R.id.user_post_description);\n    upvote_count = itemView.findViewById(R.id.upvote_count);\n\n    upvote_btn = itemView.findViewById(R.id.upvote_btn);\n    comment_btn = itemView.findViewById(R.id.comment_btn);\n\n}\n</code></pre>\n<p>Here's my Post class:</p>\n<pre><code>public class Post {\n\nprivate String postdescription, userdep, date, username, userpower, userprofileimage;\n\npublic Post() {\n}\n\npublic String getPostdescription() {\n    return postdescription;\n}\n\npublic void setPostdescription(String postdescription) {\n    this.postdescription = postdescription;\n}\n\npublic String getUserdep() {\n    return userdep;\n}\n\npublic void setUserdep(String userdep) {\n    this.userdep = userdep;\n}\n\npublic String getDate() {\n    return date;\n}\n\npublic void setDate(String date) {\n    this.date = date;\n}\n\npublic String getUsername() {\n    return username;\n}\n\npublic void setUsername(String username) {\n    this.username = username;\n}\n\npublic String getUserpower() {\n    return userpower;\n}\n\npublic void setUserpower(String userpower) {\n    this.userpower = userpower;\n}\n\npublic String getUserprofileimage() {\n    return userprofileimage;\n}\n\npublic void setUserprofileimage(String userprofileimage) {\n    this.userprofileimage = userprofileimage;\n}\n\npublic Post(String postdescription, String userdep, String date, String username, String userpower, String userprofileimage) {\n    this.postdescription = postdescription;\n    this.userdep = userdep;\n    this.date = date;\n    this.username = username;\n    this.userpower = userpower;\n    this.userprofileimage = userprofileimage;\n}\n</code></pre>\n<p>Here's my LoadPost() method:</p>\n<pre><code>    private void LoadPost() {\n\n    options = new FirebaseRecyclerOptions.Builder&lt;Post&gt;().setQuery(ForumRef,Post.class).build();\n    adapter = new FirebaseRecyclerAdapter&lt;Post, MyViewHolder3&gt;(options) {\n        @Override\n        protected void onBindViewHolder(@NonNull MyViewHolder3 holder, int position, @NonNull Post model) {\n        holder.user_post_description.setText(model.getPostdescription());\n        holder.user_dep.setText(model.getUserdep());\n        holder.date_posted.setText(model.getDate());\n        holder.user_name.setText(model.getUsername());\n        holder.user_power.setText(model.getUserpower());\n        Picasso.get().load(model.getUserprofileimage()).into(holder.circleImageView);\n        }\n\n        @NonNull\n        @Override\n        public MyViewHolder3 onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.all_post_layout2,parent,false);\n            return new MyViewHolder3(view);\n        }\n    };\n    adapter.startListening();\n    recyclerView.setAdapter(adapter);\n}\n</code></pre>\n<p>And here's the error code I got:</p>\n<pre><code>com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.example.chitchat.Post\n</code></pre>\n"},{"tags":["java","websphere","remote-debugging","websphere-liberty"],"answers":[{"tags":[],"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665404978,"creation_date":1665404978,"answer_id":74014968,"question_id":73998984,"body_markdown":"I&#39;m not sure I know the answer to your question but maybe I can help clear up some confusion.  It seems like the article you referenced https://www.ibm.com/support/pages/debugging-two-applications-same-time-fails-error-connection-refused might be confusing you.   \r\n\r\nFrom a more general tooling perspective when connecting the Java debugger from Eclipse or IntellJ to a WebSphere server (either WebSphere Liberty or traditional WebSphere Application Server), you are simply configuring a connection to the entire server JVM via a single port.  Within this server you can set breakpoints and debug within one application, two applications, or any number of applications.  You can even debug through the server runtime code in the same debugger connection (this will be easier to set up if you&#39;re using the fully open source Open Liberty, but the point is that the debugger will allow you to work with any relevant application or runtime source running in that server JVM).\r\n\r\nTherefore you would expect a jvm.options to have only one JVM option for configuring the remote debugger, e.g. to look more like:\r\n&gt; -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=7777\r\n\r\nregardless of the number of applications you&#39;re debugging.\r\n\r\nThe source of the confusion might be, however, the fact that RAD, with its WebSphere-specific development tool (not just a general Java debugger tool), provides more of an application-centric point of view for debugging an app developed in the IDE workspace, deployed to a WebSphere server managed by the IDE.   It is from this IDE-centric view that you might not be able to debug two applications at once.  \r\n\r\nBy the way I&#39;m not an expert in the RAD tool, so I don&#39;t mean to vouch for that specific information in that article, but regardless, I hope this helps.\r\n\r\n","title":"How to remote debug two applications on the same WebSphere Liberty","body":"<p>I'm not sure I know the answer to your question but maybe I can help clear up some confusion.  It seems like the article you referenced <a href=\"https://www.ibm.com/support/pages/debugging-two-applications-same-time-fails-error-connection-refused\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/pages/debugging-two-applications-same-time-fails-error-connection-refused</a> might be confusing you.</p>\n<p>From a more general tooling perspective when connecting the Java debugger from Eclipse or IntellJ to a WebSphere server (either WebSphere Liberty or traditional WebSphere Application Server), you are simply configuring a connection to the entire server JVM via a single port.  Within this server you can set breakpoints and debug within one application, two applications, or any number of applications.  You can even debug through the server runtime code in the same debugger connection (this will be easier to set up if you're using the fully open source Open Liberty, but the point is that the debugger will allow you to work with any relevant application or runtime source running in that server JVM).</p>\n<p>Therefore you would expect a jvm.options to have only one JVM option for configuring the remote debugger, e.g. to look more like:</p>\n<blockquote>\n<p>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=7777</p>\n</blockquote>\n<p>regardless of the number of applications you're debugging.</p>\n<p>The source of the confusion might be, however, the fact that RAD, with its WebSphere-specific development tool (not just a general Java debugger tool), provides more of an application-centric point of view for debugging an app developed in the IDE workspace, deployed to a WebSphere server managed by the IDE.   It is from this IDE-centric view that you might not be able to debug two applications at once.</p>\n<p>By the way I'm not an expert in the RAD tool, so I don't mean to vouch for that specific information in that article, but regardless, I hope this helps.</p>\n"}],"owner":{"account_id":8370632,"reputation":780,"user_id":6285880,"accept_rate":75,"display_name":"Gianmarco F."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665404978,"creation_date":1665249032,"question_id":73998984,"body_markdown":"I have two applications Java 8 applications that exposes different typologies of services, but they rely on each other for some task. They are implemented in the same WebSphere Application Server on the remote server. &lt;br&gt;\r\nHowever, since I don&#39;t have a license for it, if I need to debug something, I&#39;m using WebSphere Liberty. So far, I only had configured the application A and I was trying to configure application B. My goal was to also set the remote debug options. &lt;br&gt;\r\n\r\nSo far, I made this in my jvm.options\r\n\r\n    -Denv.target=local\r\n    -DSRV_CFG=C:\\\\myproperties\\\\application.properties\r\n    -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=7777\r\n    -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\r\n\r\nThe two agentlib options have been issued, for me, by IntelliJ IDEA Ultimate, which proposed me the following for a remote JVM execution\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**&lt;h3&gt;The Need&lt;/h3&gt;**\r\n\r\nI need to have two applications, under the same WebSphere Liberty, because they share the same session.  \r\n\r\n**&lt;h3&gt;The Problem&lt;/h3&gt;**\r\n\r\nThough I know its 2022, I didn&#39;t have that much budget (nor time...) to remake the login process in order to not rely on a JSESSIONID as many front-ends rely on Application A, so I decided to develop Application B as a new .ear that was going to be deployed under the same WAS. &lt;br&gt;\r\nIn trying to simulate the remote debug connection scenario, where I have both applications up and running, I can&#39;t start WebSphere Liberty because of the following error\r\n\r\n    ERROR: Cannot load this JVM TI agent twice, check your java command line for duplicate jdwp options.\r\n    Error occurred during initialization of VM\r\n    agent library failed to init: jdwp\r\n\r\n\r\nIf I just try to remove one jdwp, and just try to boot the remote debug session from IntelliJ, it gives the following error\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**&lt;h3&gt;What I tried to do&lt;/h3&gt;**\r\n\r\nI&#39;ve tried to look on the internet for some solutions, specifically trying to understand if the same jdwp could be used to listen on two different ports and if WAS Liberty supported somehow remote debugging for two applications deployed under the same server. I happened to find [this][3] page by IBM itself, which states that this setup is not possible. &lt;br&gt;\r\nBut since this page is 4 years old, I was wondering if, after all this time, there&#39;s a chance somehow to do this and, if so, how.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UXSnN.png\r\n  [2]: https://i.stack.imgur.com/Vzdlc.png\r\n  [3]: https://www.ibm.com/support/pages/debugging-two-applications-same-time-fails-error-connection-refused","title":"How to remote debug two applications on the same WebSphere Liberty","body":"<p>I have two applications Java 8 applications that exposes different typologies of services, but they rely on each other for some task. They are implemented in the same WebSphere Application Server on the remote server. <br>\nHowever, since I don't have a license for it, if I need to debug something, I'm using WebSphere Liberty. So far, I only had configured the application A and I was trying to configure application B. My goal was to also set the remote debug options. <br></p>\n<p>So far, I made this in my jvm.options</p>\n<pre><code>-Denv.target=local\n-DSRV_CFG=C:\\\\myproperties\\\\application.properties\n-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=7777\n-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005\n</code></pre>\n<p>The two agentlib options have been issued, for me, by IntelliJ IDEA Ultimate, which proposed me the following for a remote JVM execution</p>\n<p><a href=\"https://i.stack.imgur.com/UXSnN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UXSnN.png\" alt=\"enter image description here\" /></a></p>\n<p><strong><h3>The Need</h3></strong></p>\n<p>I need to have two applications, under the same WebSphere Liberty, because they share the same session.</p>\n<p><strong><h3>The Problem</h3></strong></p>\n<p>Though I know its 2022, I didn't have that much budget (nor time...) to remake the login process in order to not rely on a JSESSIONID as many front-ends rely on Application A, so I decided to develop Application B as a new .ear that was going to be deployed under the same WAS. <br>\nIn trying to simulate the remote debug connection scenario, where I have both applications up and running, I can't start WebSphere Liberty because of the following error</p>\n<pre><code>ERROR: Cannot load this JVM TI agent twice, check your java command line for duplicate jdwp options.\nError occurred during initialization of VM\nagent library failed to init: jdwp\n</code></pre>\n<p>If I just try to remove one jdwp, and just try to boot the remote debug session from IntelliJ, it gives the following error</p>\n<p><a href=\"https://i.stack.imgur.com/Vzdlc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vzdlc.png\" alt=\"enter image description here\" /></a></p>\n<p><strong><h3>What I tried to do</h3></strong></p>\n<p>I've tried to look on the internet for some solutions, specifically trying to understand if the same jdwp could be used to listen on two different ports and if WAS Liberty supported somehow remote debugging for two applications deployed under the same server. I happened to find <a href=\"https://www.ibm.com/support/pages/debugging-two-applications-same-time-fails-error-connection-refused\" rel=\"nofollow noreferrer\">this</a> page by IBM itself, which states that this setup is not possible. <br>\nBut since this page is 4 years old, I was wondering if, after all this time, there's a chance somehow to do this and, if so, how.</p>\n"},{"tags":["java","android","android-studio","class","static"],"answers":[{"tags":[],"owner":{"account_id":26332661,"reputation":13,"user_id":19992954,"display_name":"MegaBread"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665404877,"creation_date":1665404877,"answer_id":74014950,"question_id":74013956,"body_markdown":"Managed to get around this issue. The way i solved this was by sending the view as a parameter in each method that needed to post snackbars: for example the write method:\r\n\r\n    public void write(String s, View view) {\r\n        if (!writing){\r\n            new Thread(() -&gt; {\r\n                try {\r\n                    writing = true;\r\n                    outputStream.write(s.getBytes());\r\n                    runOnUiThread(snackbarMsg(&quot;Sent data&quot;, view));\r\n                    lockout(3000);\r\n                    writing = false;\r\n                } catch (Exception exception) {\r\n                    writing = false;\r\n                    Log.e(TAG, &quot;Error occurred when sending data, restarting bluetooth service&quot;, exception);\r\n                    runOnUiThread(() -&gt; snackbarMsg(&quot;Could not send data, restarting bluetooth service&quot;, view));\r\n                    disconnect();\r\n                }\r\n            }).start();\r\n        } else{\r\n            runOnUiThread(snackbarMsg(&quot;Please wait a bit before sending data&quot;, view));\r\n        }\r\n    }\r\n\r\nin main:\r\n\r\n    bluetoothService.write(ConvertToString(selectedLocation), findViewById(R.id.btn_connect));","title":"Getting android view for static class","body":"<p>Managed to get around this issue. The way i solved this was by sending the view as a parameter in each method that needed to post snackbars: for example the write method:</p>\n<pre><code>public void write(String s, View view) {\n    if (!writing){\n        new Thread(() -&gt; {\n            try {\n                writing = true;\n                outputStream.write(s.getBytes());\n                runOnUiThread(snackbarMsg(&quot;Sent data&quot;, view));\n                lockout(3000);\n                writing = false;\n            } catch (Exception exception) {\n                writing = false;\n                Log.e(TAG, &quot;Error occurred when sending data, restarting bluetooth service&quot;, exception);\n                runOnUiThread(() -&gt; snackbarMsg(&quot;Could not send data, restarting bluetooth service&quot;, view));\n                disconnect();\n            }\n        }).start();\n    } else{\n        runOnUiThread(snackbarMsg(&quot;Please wait a bit before sending data&quot;, view));\n    }\n}\n</code></pre>\n<p>in main:</p>\n<pre><code>bluetoothService.write(ConvertToString(selectedLocation), findViewById(R.id.btn_connect));\n</code></pre>\n"}],"owner":{"account_id":26332661,"reputation":13,"user_id":19992954,"display_name":"MegaBread"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665404877,"creation_date":1665400154,"question_id":74013956,"body_markdown":"Ive been trying to get a class in my android app to be able to post snackbars. The class is a manager for a bluetooth connection, and ive needed to make it static in my main activity to achieve this. For this reason i cant send android context classes to it or store within in, making me unable to get the view needed to make a snackbar. All throughout the bluetooth service class i use the method runOnUiThread(() -&gt; snackbarMsg to try to show snackbars. It used to work when i sent view as a parameter of the constructor, but only for the first time the main screen showed, if i switched activity and back it would stop working, and this also caused a memory leak. Any other way to solve this? Any help is appreciated.\r\n\r\nCurrently code looks like this in main activity:\r\n\r\n    public class MainActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener{\r\n    //Initialise some static variables needed across the whole program\r\n    private static BluetoothService bluetoothService;\r\n    private static final String TAG = MainActivity.class.getSimpleName();\r\n    protected static ArrayList&lt;LocationData&gt; locations = new ArrayList&lt;&gt;();\r\n    protected static List&lt;String&gt; categories = new ArrayList&lt;&gt;();\r\n    Spinner spinner;\r\n    private static boolean doneFirstRun = false;\r\n    protected static LocationData selectedLocation = new LocationData();\r\n    MainActivity instance = this;\r\n\r\n    public MainActivity() {\r\n    }\r\n\r\n    /*\r\n    TODO: view in bluetooth service causes memory leak\r\n     */\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        try{\r\n            if (!doneFirstRun){\r\n                //Getting storage\r\n                readFromFile(MainActivity.this);\r\n\r\n                //adding example location\r\n                if (locations.size()==0){\r\n                    LocationData spaceRay = new LocationData();\r\n                    spaceRay.setName(&quot;SpaceRay&quot;);\r\n                    spaceRay.setLatitude(59.40384);\r\n                    spaceRay.setLongitude(17.95228);\r\n                    spaceRay.setInclination(-85);\r\n                    spaceRay.setDirection(200);\r\n                    spaceRay.setAltitude(99990);\r\n                    locations.add(spaceRay);\r\n                }\r\n\r\n                //Checking and asking for relevant permissions\r\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH) != PackageManager.PERMISSION_GRANTED || ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED || ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\r\n                    @SuppressLint(&quot;InlinedApi&quot;) String[] permissions = {Manifest.permission.BLUETOOTH, Manifest.permission.BLUETOOTH_CONNECT, Manifest.permission.BLUETOOTH_SCAN};\r\n                    ActivityCompat.requestPermissions(instance, permissions, 1);\r\n                }\r\n\r\n                bluetoothService = new BluetoothService();\r\n                //starting bluetooth networking activity on new thread\r\n                startBluetoothService();\r\n\r\n                doneFirstRun = true;\r\n            }\r\n        } catch (Exception exception){\r\n            Log.e(TAG, &quot;Failed to do first run through of code: &quot;, exception);\r\n        }\r\n...\r\n\r\n    protected void startBluetoothService(){\r\n        try {\r\n            Log.i(TAG, &quot;New thread started&quot;);\r\n            bluetoothService.run(MainActivity.this);\r\n        } catch (Exception e) {\r\n            Log.e(TAG, &quot;Bluetooth service failed: &quot;, e);\r\n            snackbarMsg(&quot;Bluetooth service failed&quot;);\r\n        }\r\n    }\r\n        \r\n\r\nand like this is bluetooth_service class:\r\n\r\n    public class BluetoothService extends AppCompatActivity{\r\n    private static final String TAG = BluetoothService.class.getSimpleName();\r\n    private OutputStream outputStream;\r\n    private InputStream inputStream;\r\n    private BluetoothSocket socket;\r\n    private boolean writing = false;\r\n\r\n    public BluetoothService(){\r\n    }//constructor\r\n...\r\n\r\n    //method to show snackbar message at the bottom of the screen\r\n    public Runnable snackbarMsg (String msg){\r\n        try {\r\n            View view = findViewById(R.id.btn_connect);\r\n            Snackbar snackbar = Snackbar.make(view, msg, BaseTransientBottomBar.LENGTH_SHORT);\r\n            snackbar.show();\r\n        } catch (Exception exception){\r\n            Log.e(TAG, &quot;Could not show snackbar&quot;, exception);\r\n        }\r\n        return null;\r\n    }\r\n\r\nError message looks like this: \r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n    at android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:190)\r\n    at android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:174)\r\n    at android.content.Context.obtainStyledAttributes(Context.java:809)\r\n    at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:852)\r\n    at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:819)\r\n    at androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:640)\r\n    at androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:261)\r\n    at antennalocator.util.BluetoothService.snackbarMsg(BluetoothService.java:204)\r\n    at antennalocator.util.BluetoothService.lambda$write$4$antennalocator-util-BluetoothService(BluetoothService.java:159)\r\n    at antennalocator.util.BluetoothService$$ExternalSyntheticLambda5.run(Unknown Source:4)\r\n    at java.lang.Thread.run(Thread.java:1012)\r\n\r\n\r\n\r\n","title":"Getting android view for static class","body":"<p>Ive been trying to get a class in my android app to be able to post snackbars. The class is a manager for a bluetooth connection, and ive needed to make it static in my main activity to achieve this. For this reason i cant send android context classes to it or store within in, making me unable to get the view needed to make a snackbar. All throughout the bluetooth service class i use the method runOnUiThread(() -&gt; snackbarMsg to try to show snackbars. It used to work when i sent view as a parameter of the constructor, but only for the first time the main screen showed, if i switched activity and back it would stop working, and this also caused a memory leak. Any other way to solve this? Any help is appreciated.</p>\n<p>Currently code looks like this in main activity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener{\n//Initialise some static variables needed across the whole program\nprivate static BluetoothService bluetoothService;\nprivate static final String TAG = MainActivity.class.getSimpleName();\nprotected static ArrayList&lt;LocationData&gt; locations = new ArrayList&lt;&gt;();\nprotected static List&lt;String&gt; categories = new ArrayList&lt;&gt;();\nSpinner spinner;\nprivate static boolean doneFirstRun = false;\nprotected static LocationData selectedLocation = new LocationData();\nMainActivity instance = this;\n\npublic MainActivity() {\n}\n\n/*\nTODO: view in bluetooth service causes memory leak\n */\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    try{\n        if (!doneFirstRun){\n            //Getting storage\n            readFromFile(MainActivity.this);\n\n            //adding example location\n            if (locations.size()==0){\n                LocationData spaceRay = new LocationData();\n                spaceRay.setName(&quot;SpaceRay&quot;);\n                spaceRay.setLatitude(59.40384);\n                spaceRay.setLongitude(17.95228);\n                spaceRay.setInclination(-85);\n                spaceRay.setDirection(200);\n                spaceRay.setAltitude(99990);\n                locations.add(spaceRay);\n            }\n\n            //Checking and asking for relevant permissions\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH) != PackageManager.PERMISSION_GRANTED || ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED || ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\n                @SuppressLint(&quot;InlinedApi&quot;) String[] permissions = {Manifest.permission.BLUETOOTH, Manifest.permission.BLUETOOTH_CONNECT, Manifest.permission.BLUETOOTH_SCAN};\n                ActivityCompat.requestPermissions(instance, permissions, 1);\n            }\n\n            bluetoothService = new BluetoothService();\n            //starting bluetooth networking activity on new thread\n            startBluetoothService();\n\n            doneFirstRun = true;\n        }\n    } catch (Exception exception){\n        Log.e(TAG, &quot;Failed to do first run through of code: &quot;, exception);\n    }\n</code></pre>\n<p>...</p>\n<pre><code>protected void startBluetoothService(){\n    try {\n        Log.i(TAG, &quot;New thread started&quot;);\n        bluetoothService.run(MainActivity.this);\n    } catch (Exception e) {\n        Log.e(TAG, &quot;Bluetooth service failed: &quot;, e);\n        snackbarMsg(&quot;Bluetooth service failed&quot;);\n    }\n}\n    \n</code></pre>\n<p>and like this is bluetooth_service class:</p>\n<pre><code>public class BluetoothService extends AppCompatActivity{\nprivate static final String TAG = BluetoothService.class.getSimpleName();\nprivate OutputStream outputStream;\nprivate InputStream inputStream;\nprivate BluetoothSocket socket;\nprivate boolean writing = false;\n\npublic BluetoothService(){\n}//constructor\n</code></pre>\n<p>...</p>\n<pre><code>//method to show snackbar message at the bottom of the screen\npublic Runnable snackbarMsg (String msg){\n    try {\n        View view = findViewById(R.id.btn_connect);\n        Snackbar snackbar = Snackbar.make(view, msg, BaseTransientBottomBar.LENGTH_SHORT);\n        snackbar.show();\n    } catch (Exception exception){\n        Log.e(TAG, &quot;Could not show snackbar&quot;, exception);\n    }\n    return null;\n}\n</code></pre>\n<p>Error message looks like this:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\nat android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:190)\nat android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:174)\nat android.content.Context.obtainStyledAttributes(Context.java:809)\nat androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:852)\nat androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:819)\nat androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:640)\nat androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:261)\nat antennalocator.util.BluetoothService.snackbarMsg(BluetoothService.java:204)\nat antennalocator.util.BluetoothService.lambda$write$4$antennalocator-util-BluetoothService(BluetoothService.java:159)\nat antennalocator.util.BluetoothService$$ExternalSyntheticLambda5.run(Unknown Source:4)\nat java.lang.Thread.run(Thread.java:1012)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1665393177,"post_id":74012495,"comment_id":130681474,"body_markdown":"Assuming the position of the data in each line is always the same, read each line and then use `substring` and `trim` to get the data.","body":"Assuming the position of the data in each line is always the same, read each line and then use <code>substring</code> and <code>trim</code> to get the data."},{"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"score":0,"creation_date":1665393467,"post_id":74012495,"comment_id":130681589,"body_markdown":"As you are using `Java`, then you are able to read the file line by line (such as `BufferedReader`). Now, if you wanted split the values from each line based on multiple white space, then used regex `\\s+`, but what I am seeing here is that if you are using `\\s+` to split values then you can expect wrong separate values on line, since there is white space on date value. So, you can used `\\s{2,}` to split values on each line, that will get you expected result.","body":"As you are using <code>Java</code>, then you are able to read the file line by line (such as <code>BufferedReader</code>). Now, if you wanted split the values from each line based on multiple white space, then used regex <code>\\s+</code>, but what I am seeing here is that if you are using <code>\\s+</code> to split values then you can expect wrong separate values on line, since there is white space on date value. So, you can used <code>\\s{2,}</code> to split values on each line, that will get you expected result."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1665405080,"post_id":74012495,"comment_id":130685403,"body_markdown":"Splitting by space won&#39;t work because of the date values having spaces. If it can safely be assumed that the width of each column is the same for each line, you can use `substring` to extract each field, and `trim` to remove all surplus spaces (exactly as f1sh already said).","body":"Splitting by space won&#39;t work because of the date values having spaces. If it can safely be assumed that the width of each column is the same for each line, you can use <code>substring</code> to extract each field, and <code>trim</code> to remove all surplus spaces (exactly as f1sh already said)."}],"answers":[{"tags":[],"owner":{"account_id":21888646,"reputation":7,"user_id":16175976,"display_name":"Himanshu Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665396172,"creation_date":1665393037,"answer_id":74012559,"question_id":74012495,"body_markdown":"Read each line in the file and then use regex &quot;\\\\s+&quot;(character set of multiple white spaces) in split method to seperate them.\r\n\r\nEdit: My bad, didn&#39;t notice space in date values. You can use &quot;[ ]{2,}&quot; as regex for 2 or more than 2 spaces.\r\n\r\nEdit 2\r\nThis is full code to retrieve each data from file\r\n\r\n    public static void read(String fileName){\r\n    \t//create file object\r\n    \t File file = new File(fileName);\r\n    \t \r\n    \t //create file reader\r\n    \tFileReader fileReader = null ;\r\n    \t\r\n    \t//define buffered reader\r\n    \tBufferedReader bufferedReader = null ;\r\n    \t\r\n    \ttry {\r\n    \t\tfileReader = new FileReader(file);\r\n    \t\tbufferedReader = new BufferedReader(fileReader);\r\n    \t\t\r\n    \t\tString line;\r\n    \t\t\r\n    \t\twhile((line = bufferedReader.readLine()) != null){\r\n    \t\t\t\r\n    \t\t\t//split lines into tokens (values) based on whitespace using regular expression &quot;[ ]{2,}&quot;\r\n    \t\t\t//to indicate two ore more instances of whitespace\r\n    \t\t\tString[] dataArray = line.trim().split(&quot;[ ]{2,}&quot;);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\r\n    \t\t\t//iterate over array of strings\r\n    \t\t\tfor(int i = 0 ; i&lt; dataArray.length ; i++) {\r\n    \t\t\t\t\r\n    \t\t\t\t//get each value as a string\r\n    \t\t\t\tString dateString = dataArray[i];\r\n    \t\t\t\tif(i==1) {\r\n    \t\t\t\t\tSystem.out.println(dateString);\r\n    \t\t\t\t}//prints out date in each line \r\n    \t\t\t}\r\n    \t\t}\t\r\n    \t} catch (FileNotFoundException e) {\r\n    \t\t// gets and prints filename\r\n    \t\tSystem.out.println(&quot;Sorry, &quot; + file.getName() + &quot; not found.&quot;);\r\n    \t} catch (IOException e) {\r\n    \t\t// prints the error message and info about which line\r\n    \t\te.printStackTrace();\r\n    \t}finally {\r\n    \t\t\r\n    \t\t//regardless, close file objects\r\n    \t\ttry {\r\n    \t\t\tfileReader.close();\r\n    \t\t\tbufferedReader.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }","title":"Java Scanner, how to split this input text file properly with multiple whitespaces in between?","body":"<p>Read each line in the file and then use regex &quot;\\s+&quot;(character set of multiple white spaces) in split method to seperate them.</p>\n<p>Edit: My bad, didn't notice space in date values. You can use &quot;[ ]{2,}&quot; as regex for 2 or more than 2 spaces.</p>\n<p>Edit 2\nThis is full code to retrieve each data from file</p>\n<pre><code>public static void read(String fileName){\n    //create file object\n     File file = new File(fileName);\n     \n     //create file reader\n    FileReader fileReader = null ;\n    \n    //define buffered reader\n    BufferedReader bufferedReader = null ;\n    \n    try {\n        fileReader = new FileReader(file);\n        bufferedReader = new BufferedReader(fileReader);\n        \n        String line;\n        \n        while((line = bufferedReader.readLine()) != null){\n            \n            //split lines into tokens (values) based on whitespace using regular expression &quot;[ ]{2,}&quot;\n            //to indicate two ore more instances of whitespace\n            String[] dataArray = line.trim().split(&quot;[ ]{2,}&quot;);\n            \n            \n        \n            //iterate over array of strings\n            for(int i = 0 ; i&lt; dataArray.length ; i++) {\n                \n                //get each value as a string\n                String dateString = dataArray[i];\n                if(i==1) {\n                    System.out.println(dateString);\n                }//prints out date in each line \n            }\n        }   \n    } catch (FileNotFoundException e) {\n        // gets and prints filename\n        System.out.println(&quot;Sorry, &quot; + file.getName() + &quot; not found.&quot;);\n    } catch (IOException e) {\n        // prints the error message and info about which line\n        e.printStackTrace();\n    }finally {\n        \n        //regardless, close file objects\n        try {\n            fileReader.close();\n            bufferedReader.close();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1325784,"reputation":441,"user_id":1270603,"accept_rate":62,"display_name":"Caponte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665399317,"creation_date":1665397703,"answer_id":74013469,"question_id":74012495,"body_markdown":"Here is a quick and dirty solution that works by just using the scanner. Some edge cases might fail but at least with the given input, and also with some variations of it, it seems to work fine.\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Arrays;\r\n\r\n    class Main\r\n    {\r\n      public static void main (String args[])\r\n      {\r\n    \r\n        String input =\r\n          &quot;A-4     09-20-2083  B/2\\nA/4     04/27/2048  C-2\\nA/2b     1/24/75    A/4b\\nA/4     05/07/2049  A/2b\\nA/2b     7/ 3/31    B/2\\nA/2b     5/11/53    B-4b\\nC-4     14-07-2051  A/2\\nC-2b    22-12-44    A/4\\nC-4b    11-11-2055  C.2\\nA/2b     5/11/16    C-2\\nC.4     08.01.2058  A-4b\\nB-4b    2010-11- 2  B/2b\\nB/2b    26/ 3/13    A-4b\\nC-2     18-06-06    B-4\\nC.2     08.08.09    C-2\\nA/2     01/20/99    B-2b\\nC.4     18.08.2077  B/2\\nA-4b    10-21-2086  B/4b\\nB/2b    50/ 2/ 5    A/2\\nA/4     03/08/2001  A-2b\\nA/4b    11/ 8/2085  B/4\\nA/4     03/19/2058  C.2b\\nA/4b     6/18/2051  B-2\\nA-4     03-01-2001  B-2b\\nA-4     02-14-2066  C-4\\nA/2     06/23/48    A-4\\nC-4b    18- 8-2065  B/2b\\nC-2     06-04-94    B/4\\nB/4b    2057/ 9/21  A-2b\\nC.2b    21. 8.31    A/2b\\nA/4b    11/13/2098  A/4\\nA/2     04/31/63    C-2\\nB/2b    22/ 5/ 7    A-2\\nC-4     11-09-2032  B/4b\\nC.4     08.05.2085  B-2\\nB-4     2038-10-22  C.4\\nA/2     03/09/37    C.2b\\nA/2b     4/ 9/21    A/4\\nC.2b     3.12.95    B-4\\nC-4b    26- 1-2004  C-2\\n&quot;;\r\n    \r\n        Scanner scanner = new Scanner(input);\r\n    \r\n        while (scanner.hasNextLine())\r\n        {\r\n    \r\n    \t        String line = scanner.nextLine().trim();\r\n\r\n                String[] words = line.split(&quot; &quot;);\r\n                String[] filtered = Arrays.stream(words).filter(s -&gt; !s.isEmpty()).toArray(String[]::new);\r\n    \r\n                String first = filtered[0].trim ();\r\n                String third = filtered[filtered.length - 1].trim();\r\n\r\n                String[] dateArray = Arrays.copyOfRange(filtered, 1, filtered.length - 1);\r\n\t\t        String second =  String.join(&quot;&quot;, dateArray);\r\n\r\n                System.out.println (first + &quot;||&quot; + second + &quot;||&quot; + third);\r\n        \r\n       }\r\n    \r\n       scanner.close();\r\n      }\r\n    }\r\n\r\n","title":"Java Scanner, how to split this input text file properly with multiple whitespaces in between?","body":"<p>Here is a quick and dirty solution that works by just using the scanner. Some edge cases might fail but at least with the given input, and also with some variations of it, it seems to work fine.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\n\nclass Main\n{\n  public static void main (String args[])\n  {\n\n    String input =\n      &quot;A-4     09-20-2083  B/2\\nA/4     04/27/2048  C-2\\nA/2b     1/24/75    A/4b\\nA/4     05/07/2049  A/2b\\nA/2b     7/ 3/31    B/2\\nA/2b     5/11/53    B-4b\\nC-4     14-07-2051  A/2\\nC-2b    22-12-44    A/4\\nC-4b    11-11-2055  C.2\\nA/2b     5/11/16    C-2\\nC.4     08.01.2058  A-4b\\nB-4b    2010-11- 2  B/2b\\nB/2b    26/ 3/13    A-4b\\nC-2     18-06-06    B-4\\nC.2     08.08.09    C-2\\nA/2     01/20/99    B-2b\\nC.4     18.08.2077  B/2\\nA-4b    10-21-2086  B/4b\\nB/2b    50/ 2/ 5    A/2\\nA/4     03/08/2001  A-2b\\nA/4b    11/ 8/2085  B/4\\nA/4     03/19/2058  C.2b\\nA/4b     6/18/2051  B-2\\nA-4     03-01-2001  B-2b\\nA-4     02-14-2066  C-4\\nA/2     06/23/48    A-4\\nC-4b    18- 8-2065  B/2b\\nC-2     06-04-94    B/4\\nB/4b    2057/ 9/21  A-2b\\nC.2b    21. 8.31    A/2b\\nA/4b    11/13/2098  A/4\\nA/2     04/31/63    C-2\\nB/2b    22/ 5/ 7    A-2\\nC-4     11-09-2032  B/4b\\nC.4     08.05.2085  B-2\\nB-4     2038-10-22  C.4\\nA/2     03/09/37    C.2b\\nA/2b     4/ 9/21    A/4\\nC.2b     3.12.95    B-4\\nC-4b    26- 1-2004  C-2\\n&quot;;\n\n    Scanner scanner = new Scanner(input);\n\n    while (scanner.hasNextLine())\n    {\n\n            String line = scanner.nextLine().trim();\n\n            String[] words = line.split(&quot; &quot;);\n            String[] filtered = Arrays.stream(words).filter(s -&gt; !s.isEmpty()).toArray(String[]::new);\n\n            String first = filtered[0].trim ();\n            String third = filtered[filtered.length - 1].trim();\n\n            String[] dateArray = Arrays.copyOfRange(filtered, 1, filtered.length - 1);\n            String second =  String.join(&quot;&quot;, dateArray);\n\n            System.out.println (first + &quot;||&quot; + second + &quot;||&quot; + third);\n    \n   }\n\n   scanner.close();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26545592,"reputation":176,"user_id":20175711,"display_name":"Not A Number"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665404812,"creation_date":1665404812,"answer_id":74014936,"question_id":74012495,"body_markdown":"If you need something fast to write...\r\n```\r\nString input = Files.readString(Path.of(&quot;path\\\\to\\\\your\\\\file.txt&quot;));\r\n//try-catch block omitted\r\nPattern.compile(&quot;(.+?)\\\\s+(.+?)\\\\s+(.+?)\\\\s*\\n&quot;)\r\n        .matcher(input)\r\n        .results()\r\n        .map(m -&gt; {\r\n            String firstGroupWithLetter = m.group(1);   //&quot;A-4&quot; from first line\r\n            String date = m.group(2);                   //&quot;09-20-2083&quot;\r\n            String secondGroupWithLetter = m.group(3);  //&quot;B/2&quot;\r\n            // m.group(0) is reserved for full match result or kind of that\r\n\r\n            // Do whatever you want\r\n            return null;\r\n        })\r\n        // further actions\r\n        ;\r\n```","title":"Java Scanner, how to split this input text file properly with multiple whitespaces in between?","body":"<p>If you need something fast to write...</p>\n<pre><code>String input = Files.readString(Path.of(&quot;path\\\\to\\\\your\\\\file.txt&quot;));\n//try-catch block omitted\nPattern.compile(&quot;(.+?)\\\\s+(.+?)\\\\s+(.+?)\\\\s*\\n&quot;)\n        .matcher(input)\n        .results()\n        .map(m -&gt; {\n            String firstGroupWithLetter = m.group(1);   //&quot;A-4&quot; from first line\n            String date = m.group(2);                   //&quot;09-20-2083&quot;\n            String secondGroupWithLetter = m.group(3);  //&quot;B/2&quot;\n            // m.group(0) is reserved for full match result or kind of that\n\n            // Do whatever you want\n            return null;\n        })\n        // further actions\n        ;\n</code></pre>\n"}],"owner":{"account_id":21309489,"reputation":125,"user_id":15814021,"display_name":"Prome88"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1665404812,"creation_date":1665392738,"question_id":74012495,"body_markdown":"So i had this file given:\r\n\r\n    A-4 \t09-20-2083\tB/2\r\n    A/4 \t04/27/2048\tC-2\r\n    A/2b\t 1/24/75\tA/4b\r\n    A/4 \t05/07/2049\tA/2b\r\n    A/2b\t 7/ 3/31\tB/2\r\n    A/2b\t 5/11/53\tB-4b\r\n    C-4 \t14-07-2051\tA/2\r\n    C-2b\t22-12-44\tA/4\r\n    C-4b\t11-11-2055\tC.2\r\n    A/2b\t 5/11/16\tC-2\r\n    C.4 \t08.01.2058\tA-4b\r\n    B-4b\t2010-11- 2\tB/2b\r\n    B/2b\t26/ 3/13\tA-4b\r\n    C-2 \t18-06-06\tB-4\r\n    C.2 \t08.08.09\tC-2\r\n    A/2 \t01/20/99\tB-2b\r\n    C.4 \t18.08.2077\tB/2\r\n    A-4b\t10-21-2086\tB/4b\r\n    B/2b\t50/ 2/ 5\tA/2\r\n    A/4 \t03/08/2001\tA-2b\r\n    A/4b\t11/ 8/2085\tB/4\r\n    A/4 \t03/19/2058\tC.2b\r\n    A/4b\t 6/18/2051\tB-2\r\n    A-4 \t03-01-2001\tB-2b\r\n    A-4 \t02-14-2066\tC-4\r\n    A/2 \t06/23/48\tA-4\r\n    C-4b\t18- 8-2065\tB/2b\r\n    C-2 \t06-04-94\tB/4\r\n    B/4b\t2057/ 9/21\tA-2b\r\n    C.2b\t21. 8.31\tA/2b\r\n    A/4b\t11/13/2098\tA/4\r\n    A/2 \t04/31/63\tC-2\r\n    B/2b\t22/ 5/ 7\tA-2\r\n    C-4 \t11-09-2032\tB/4b\r\n    C.4 \t08.05.2085\tB-2\r\n    B-4 \t2038-10-22\tC.4\r\n    A/2 \t03/09/37\tC.2b\r\n    A/2b\t 4/ 9/21\tA/4\r\n    C.2b\t 3.12.95\tB-4\r\n    C-4b\t26- 1-2004\tC-2\r\n\r\n\r\nAs you can seem some dates or lines have random whitespaces... so how can i read in this input correctly with regex or any other reader? Thanks a lot! \r\n","title":"Java Scanner, how to split this input text file properly with multiple whitespaces in between?","body":"<p>So i had this file given:</p>\n<pre><code>A-4     09-20-2083  B/2\nA/4     04/27/2048  C-2\nA/2b     1/24/75    A/4b\nA/4     05/07/2049  A/2b\nA/2b     7/ 3/31    B/2\nA/2b     5/11/53    B-4b\nC-4     14-07-2051  A/2\nC-2b    22-12-44    A/4\nC-4b    11-11-2055  C.2\nA/2b     5/11/16    C-2\nC.4     08.01.2058  A-4b\nB-4b    2010-11- 2  B/2b\nB/2b    26/ 3/13    A-4b\nC-2     18-06-06    B-4\nC.2     08.08.09    C-2\nA/2     01/20/99    B-2b\nC.4     18.08.2077  B/2\nA-4b    10-21-2086  B/4b\nB/2b    50/ 2/ 5    A/2\nA/4     03/08/2001  A-2b\nA/4b    11/ 8/2085  B/4\nA/4     03/19/2058  C.2b\nA/4b     6/18/2051  B-2\nA-4     03-01-2001  B-2b\nA-4     02-14-2066  C-4\nA/2     06/23/48    A-4\nC-4b    18- 8-2065  B/2b\nC-2     06-04-94    B/4\nB/4b    2057/ 9/21  A-2b\nC.2b    21. 8.31    A/2b\nA/4b    11/13/2098  A/4\nA/2     04/31/63    C-2\nB/2b    22/ 5/ 7    A-2\nC-4     11-09-2032  B/4b\nC.4     08.05.2085  B-2\nB-4     2038-10-22  C.4\nA/2     03/09/37    C.2b\nA/2b     4/ 9/21    A/4\nC.2b     3.12.95    B-4\nC-4b    26- 1-2004  C-2\n</code></pre>\n<p>As you can seem some dates or lines have random whitespaces... so how can i read in this input correctly with regex or any other reader? Thanks a lot!</p>\n"},{"tags":["java","android","xml","android-viewmodel"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1665398990,"post_id":74013571,"comment_id":130683394,"body_markdown":"https://stackoverflow.com/questions/32992211/use-databinding-library-to-set-background-color-resource-or-null","body":"<a href=\"https://stackoverflow.com/questions/32992211/use-databinding-library-to-set-background-color-resource-or-null\" title=\"use databinding library to set background color resource or null\">stackoverflow.com/questions/32992211/&hellip;</a>"},{"owner":{"account_id":12438275,"reputation":1057,"user_id":9057721,"display_name":"Style-7"},"score":0,"creation_date":1665399092,"post_id":74013571,"comment_id":130683422,"body_markdown":"Use LevelDrawable","body":"Use LevelDrawable"},{"owner":{"account_id":11451021,"reputation":269,"user_id":8393413,"display_name":"Pezcraft"},"score":0,"creation_date":1665437896,"post_id":74013571,"comment_id":130696223,"body_markdown":"@Style-7 I cannot set a level for text views. Can you give me an example of what you mean?","body":"@Style-7 I cannot set a level for text views. Can you give me an example of what you mean?"},{"owner":{"account_id":12438275,"reputation":1057,"user_id":9057721,"display_name":"Style-7"},"score":0,"creation_date":1665466310,"post_id":74013571,"comment_id":130700473,"body_markdown":"Level is a state of your view. Just set a level for set a color.","body":"Level is a state of your view. Just set a level for set a color."}],"owner":{"account_id":11451021,"reputation":269,"user_id":8393413,"display_name":"Pezcraft"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665404517,"creation_date":1665398130,"question_id":74013571,"body_markdown":"I want to set the color of a compound drawable programmatically. I think the best solution would be to use a `ViewModel`.\r\n\r\nThis is what I have so far:\r\n```xml\r\n...\r\n    &lt;data&gt;\r\n        &lt;import type=&quot;androidx.core.content.ContextCompat&quot;/&gt;\r\n        &lt;variable\r\n            name=&quot;viewmodel&quot;\r\n            type=&quot;com.pezcraft.myapplication.MainViewModel&quot; /&gt;\r\n    &lt;/data&gt;\r\n...\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textViewState&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;text&quot;\r\n                    app:drawableLeftCompat=&quot;@drawable/ic_circle&quot;\r\n                    app:drawableTint=&quot;@{ContextCompat.getColor(context, viewmodel.colorState)}&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textViewIP&quot; /&gt;\r\n```\r\n\r\n```java\r\npublic class MainViewModel extends ViewModel {\r\n    private MutableLiveData&lt;Integer&gt; colorState;\r\n\r\n    public MainViewModel() {\r\n        colorState = new MutableLiveData&lt;&gt;();\r\n    }\r\n\r\n    public MutableLiveData&lt;Integer&gt; getColorState() {\r\n        return colorState;\r\n    }\r\n}\r\n```\r\n\r\nBut it doesn&#39;t work when building...\r\n&gt; [databinding] {&quot;msg&quot;:&quot;Cannot find a setter for \\u003candroid.widget.TextView app:drawableTint\\u003e that accepts parameter type \\u0027int\\u0027\\n\\nIf a binding adapter provides the setter, check that the adapter is annotated correctly and that the parameter type matches.&quot;","title":"Is there a way to set drawableTint of TextView using viewmodel?","body":"<p>I want to set the color of a compound drawable programmatically. I think the best solution would be to use a <code>ViewModel</code>.</p>\n<p>This is what I have so far:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;data&gt;\n        &lt;import type=&quot;androidx.core.content.ContextCompat&quot;/&gt;\n        &lt;variable\n            name=&quot;viewmodel&quot;\n            type=&quot;com.pezcraft.myapplication.MainViewModel&quot; /&gt;\n    &lt;/data&gt;\n...\n                &lt;TextView\n                    android:id=&quot;@+id/textViewState&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;text&quot;\n                    app:drawableLeftCompat=&quot;@drawable/ic_circle&quot;\n                    app:drawableTint=&quot;@{ContextCompat.getColor(context, viewmodel.colorState)}&quot;\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/textViewIP&quot; /&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainViewModel extends ViewModel {\n    private MutableLiveData&lt;Integer&gt; colorState;\n\n    public MainViewModel() {\n        colorState = new MutableLiveData&lt;&gt;();\n    }\n\n    public MutableLiveData&lt;Integer&gt; getColorState() {\n        return colorState;\n    }\n}\n</code></pre>\n<p>But it doesn't work when building...</p>\n<blockquote>\n<p>[databinding] {&quot;msg&quot;:&quot;Cannot find a setter for \\u003candroid.widget.TextView app:drawableTint\\u003e that accepts parameter type \\u0027int\\u0027\\n\\nIf a binding adapter provides the setter, check that the adapter is annotated correctly and that the parameter type matches.&quot;</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","ibm-mq","spring-boot-actuator"],"comments":[{"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"score":0,"creation_date":1665403161,"post_id":74014467,"comment_id":130684756,"body_markdown":"Do you want to remove mqQueueConnectionFactory health check?","body":"Do you want to remove mqQueueConnectionFactory health check?"},{"owner":{"account_id":18178896,"reputation":101,"user_id":13227074,"display_name":"BT_Code"},"score":0,"creation_date":1665404162,"post_id":74014467,"comment_id":130685108,"body_markdown":"Yes, I want to remove that specific instance","body":"Yes, I want to remove that specific instance"},{"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"score":0,"creation_date":1665404268,"post_id":74014467,"comment_id":130685148,"body_markdown":"check my answer. You can try that.","body":"check my answer. You can try that."}],"answers":[{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665404328,"creation_date":1665403489,"answer_id":74014680,"question_id":74014467,"body_markdown":"If you want to remove any custom health-check from your /actuator/health, you can use **@ConditionalOnEnabledHealthIndicator** annotation.\r\n\r\n```java\r\n@Component\r\n@ConditionalOnEnabledHealthIndicator(&quot;mqFactory&quot;)\r\npublic class MqHealthIndicator implements HealthIndicator { \r\n    @Autowired\r\n    private MQQueueConnectionFactory mqQueueConnectionFactory;\r\n \r\n    @Override\r\n    public Health health() {\r\n        Health.Builder status;\r\n        //your logic to check if mq is up\r\n        if (mqQueueConnectionFactory is up) {\r\n             status = Health.up();\r\n        } else {\r\n             status = Health.down();\r\n        }\r\n         return status.build();\r\n    }\r\n}\r\n```\r\n\r\nand in your properties.file\r\n\r\n```\r\nmanagement.health.mqFactory.enabled=false\r\n```","title":"Spring Boot Actuator: Exclude detail from component","body":"<p>If you want to remove any custom health-check from your /actuator/health, you can use <strong>@ConditionalOnEnabledHealthIndicator</strong> annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConditionalOnEnabledHealthIndicator(&quot;mqFactory&quot;)\npublic class MqHealthIndicator implements HealthIndicator { \n    @Autowired\n    private MQQueueConnectionFactory mqQueueConnectionFactory;\n \n    @Override\n    public Health health() {\n        Health.Builder status;\n        //your logic to check if mq is up\n        if (mqQueueConnectionFactory is up) {\n             status = Health.up();\n        } else {\n             status = Health.down();\n        }\n         return status.build();\n    }\n}\n</code></pre>\n<p>and in your properties.file</p>\n<pre><code>management.health.mqFactory.enabled=false\n</code></pre>\n"}],"owner":{"account_id":18178896,"reputation":101,"user_id":13227074,"display_name":"BT_Code"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665404328,"creation_date":1665402522,"question_id":74014467,"body_markdown":"Whenever I call `/actuator/health`, there&#39;s an instance in my IBM MQ COmponent that **shouldn&#39;t** be checked, in this case `mqQueueConnectionFactory` *(Because it&#39;s a method used to generate a `MQQueueConnectionFactory` and doesn&#39;t have the required authentication to connect to our queue)*. The names do match the configured beans, so e.g. `mqQueueConnectionFactory` matches the `mqQueueConnectionFactory` bean.\r\n\r\n```json\r\n{\r\n    &quot;status&quot;: &quot;DOWN&quot;,\r\n    &quot;details&quot;: {\r\n        &quot;jms&quot;: {\r\n            &quot;status&quot;: &quot;DOWN&quot;,\r\n            &quot;details&quot;: {\r\n                &quot;connectionFactory&quot;: {\r\n                    &quot;status&quot;: &quot;UP&quot;,\r\n                    &quot;details&quot;: {\r\n                        &quot;provider&quot;: &quot;IBM MQ JMS Provider&quot;\r\n                    }\r\n                },\r\n                &quot;queueConnectionFactory&quot;: {\r\n                    &quot;status&quot;: &quot;UP&quot;,\r\n                    &quot;details&quot;: {\r\n                        &quot;provider&quot;: &quot;IBM MQ JMS Provider&quot;\r\n                    }\r\n                },\r\n                &quot;mqQueueConnectionFactory&quot;: {\r\n                    &quot;status&quot;: &quot;DOWN&quot;,\r\n                    &quot;details&quot;: {\r\n                        &quot;error&quot;: &quot;com.ibm.msg.client.jms.DetailedJMSSecurityException: JMSWMQ2013: The security authentication was not valid that was supplied for QueueManager &#39;GIMLI_A1&#39; with connection mode &#39;Client&#39; and host name &#39;gimli-a1.it.company.net(1417)&#39;.&quot;\r\n                    }\r\n                },\r\n                &quot;userCredentialsConnectionFactoryAdapter&quot;: {\r\n                    &quot;status&quot;: &quot;UP&quot;,\r\n                    &quot;details&quot;: {\r\n                        &quot;provider&quot;: &quot;IBM MQ JMS Provider&quot;\r\n                    }\r\n                },\r\n                &quot;cachingConnectionFactory&quot;: {\r\n                    &quot;status&quot;: &quot;UP&quot;,\r\n                    &quot;details&quot;: {\r\n                        &quot;provider&quot;: &quot;IBM MQ JMS Provider&quot;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        &quot;db&quot;: {\r\n            &quot;status&quot;: &quot;UP&quot;,\r\n            &quot;details&quot;: {\r\n                &quot;tnvet&quot;: {\r\n                    &quot;status&quot;: &quot;UP&quot;,\r\n                    &quot;details&quot;: {\r\n                        &quot;database&quot;: &quot;DB2&quot;,\r\n                        &quot;hello&quot;: 1\r\n                    }\r\n                },\r\n                &quot;nk&quot;: {\r\n                    &quot;status&quot;: &quot;UP&quot;,\r\n                    &quot;details&quot;: {\r\n                        &quot;database&quot;: &quot;DB2&quot;,\r\n                        &quot;hello&quot;: 1\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIs there a way to define that certain details shouldn&#39;t be included in the health check? Unfortunately reworking of removing the bean is not a option.\r\n\r\n----\r\n\r\nAdditional info:\r\n\r\n**Java version**: 8\r\n**Spring Boot version**: 2.1.9.RELEASE\r\n**Spring Boot Actuator**: 2.1.9.RELEASE\r\n**IBM MQ JMS Spring Boot Starter**: 0.0.3\r\n\r\nConfiguration file:\r\n```java\r\n@Configuration\r\npublic class AppConfiguration {\r\n\t@Value(&quot;${ibm.mq.hostName}&quot;)\r\n\tprivate String mqHostName;\r\n\t@Value(&quot;${ibm.mq.port}&quot;)\r\n\tprivate int mqPort;\r\n\t@Value(&quot;${ibm.mq.queueManager}&quot;)\r\n\tprivate String mqQueueManager;\r\n\t@Value(&quot;${ibm.mq.channel}&quot;)\r\n\tprivate String mqChannel;\r\n\t@Value(&quot;${ibm.mq.user}&quot;)\r\n\tprivate String mqUser;\r\n\t@Value(&quot;${ibm.mq.password}&quot;)\r\n\tprivate String mqPassword;\r\n\r\n\t@Bean\r\n\tpublic FilterRegistrationBean&lt;CorsFilter&gt; corsFilter() {\r\n\t\tUrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\t\tCorsConfiguration config = new CorsConfiguration();\r\n\t\tconfig.setAllowCredentials(true);\r\n\t\tconfig.addAllowedOrigin(&quot;*&quot;);\r\n\t\tconfig.addAllowedHeader(&quot;*&quot;);\r\n\t\tconfig.addAllowedMethod(&quot;*&quot;);\r\n\t\tsource.registerCorsConfiguration(&quot;/**&quot;, config);\r\n\t\tFilterRegistrationBean&lt;CorsFilter&gt; bean = new FilterRegistrationBean&lt;&gt;(new CorsFilter(source));\r\n\t\tbean.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n\t\treturn bean;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ConnectionFactory connectionFactory() throws JMSException {\r\n\t\treturn userCredentialsConnectionFactoryAdapter(mqQueueConnectionFactory());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic QueueConnectionFactory queueConnectionFactory() throws JMSException {\r\n\t\treturn userCredentialsConnectionFactoryAdapter(mqQueueConnectionFactory());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic MQQueueConnectionFactory mqQueueConnectionFactory() throws JMSException {\r\n\t\tMQQueueConnectionFactory cf = new MQQueueConnectionFactory();\r\n\r\n\t\t// Get these settings from the application properties\r\n\t\tcf.setHostName(mqHostName);\r\n\t\tcf.setPort(mqPort);\r\n\t\tcf.setQueueManager(mqQueueManager);\r\n\t\tcf.setChannel(mqChannel);\r\n\t\tcf.setTransportType(CommonConstants.WMQ_CM_CLIENT);\r\n\r\n\t\treturn cf;\r\n\t}\r\n\r\n\t@Bean(name = &quot;jmsPlatformTransactionManager&quot;)\r\n\tpublic PlatformTransactionManager platformTransactionManager(CachingConnectionFactory cachingConnectionFactory) {\r\n\t\tcachingConnectionFactory.setCacheConsumers(true);\r\n\t\tcachingConnectionFactory.setSessionCacheSize(5);\r\n\t\tcachingConnectionFactory.setReconnectOnException(true);\r\n\t\treturn new JmsTransactionManager(cachingConnectionFactory);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory(//\r\n\t\t\tPlatformTransactionManager jmsPlatformTransactionManager, //\r\n\t\t\tCachingConnectionFactory cachingConnectionFactory) {\r\n\t\tDefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory = new DefaultJmsListenerContainerFactory();\r\n\t\tdefaultJmsListenerContainerFactory.setConnectionFactory(cachingConnectionFactory);\r\n\t\tdefaultJmsListenerContainerFactory.setTransactionManager(jmsPlatformTransactionManager);\r\n\t\tdefaultJmsListenerContainerFactory.setConcurrency(&quot;1-1&quot;);\r\n\t\tdefaultJmsListenerContainerFactory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\r\n\t\tdefaultJmsListenerContainerFactory.setSessionTransacted(true);\r\n\t\treturn defaultJmsListenerContainerFactory;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic UserCredentialsConnectionFactoryAdapter userCredentialsConnectionFactoryAdapter(MQQueueConnectionFactory mqQueueConnectionFactory) {\r\n\t\tUserCredentialsConnectionFactoryAdapter userCredentialsConnectionFactoryAdapter = new UserCredentialsConnectionFactoryAdapter();\r\n\t\tuserCredentialsConnectionFactoryAdapter.setUsername(mqUser);\r\n\t\tuserCredentialsConnectionFactoryAdapter.setPassword(mqPassword);\r\n\t\tuserCredentialsConnectionFactoryAdapter.setTargetConnectionFactory(mqQueueConnectionFactory);\r\n\t\treturn userCredentialsConnectionFactoryAdapter;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic JmsListenerContainerFactory&lt;DefaultMessageListenerContainer&gt; myFactory(CachingConnectionFactory cachingConnectionFactory,\r\n\t\t\tDefaultJmsListenerContainerFactoryConfigurer configurer) {\r\n\t\tDefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n\t\tfactory.setSessionTransacted(false);\r\n\t\tfactory.setConcurrency(&quot;1-1&quot;);\r\n\t\tconfigurer.configure(factory, cachingConnectionFactory);\r\n\t\treturn factory;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CachingConnectionFactory cachingConnectionFactory(UserCredentialsConnectionFactoryAdapter userCredentialsConnectionFactoryAdapter) {\r\n\t\tCachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\r\n\t\tcachingConnectionFactory.setTargetConnectionFactory(userCredentialsConnectionFactoryAdapter);\r\n\t\tcachingConnectionFactory.setCacheConsumers(true);\r\n\t\tcachingConnectionFactory.setSessionCacheSize(5);\r\n\t\tcachingConnectionFactory.setCacheProducers(true);\r\n\t\tcachingConnectionFactory.setReconnectOnException(true);\r\n\t\treturn cachingConnectionFactory;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic JmsOperations jmsOperations(CachingConnectionFactory cachingConnectionFactory) {\r\n\t\tJmsTemplate jmsTemplate = new JmsTemplate(cachingConnectionFactory);\r\n\t\tjmsTemplate.setReceiveTimeout(10);\r\n\t\treturn jmsTemplate;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic RestTemplate restTemplate() {\r\n\t\treturn new RestTemplate();\r\n\t}\r\n}\r\n","title":"Spring Boot Actuator: Exclude detail from component","body":"<p>Whenever I call <code>/actuator/health</code>, there's an instance in my IBM MQ COmponent that <strong>shouldn't</strong> be checked, in this case <code>mqQueueConnectionFactory</code> <em>(Because it's a method used to generate a <code>MQQueueConnectionFactory</code> and doesn't have the required authentication to connect to our queue)</em>. The names do match the configured beans, so e.g. <code>mqQueueConnectionFactory</code> matches the <code>mqQueueConnectionFactory</code> bean.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;status&quot;: &quot;DOWN&quot;,\n    &quot;details&quot;: {\n        &quot;jms&quot;: {\n            &quot;status&quot;: &quot;DOWN&quot;,\n            &quot;details&quot;: {\n                &quot;connectionFactory&quot;: {\n                    &quot;status&quot;: &quot;UP&quot;,\n                    &quot;details&quot;: {\n                        &quot;provider&quot;: &quot;IBM MQ JMS Provider&quot;\n                    }\n                },\n                &quot;queueConnectionFactory&quot;: {\n                    &quot;status&quot;: &quot;UP&quot;,\n                    &quot;details&quot;: {\n                        &quot;provider&quot;: &quot;IBM MQ JMS Provider&quot;\n                    }\n                },\n                &quot;mqQueueConnectionFactory&quot;: {\n                    &quot;status&quot;: &quot;DOWN&quot;,\n                    &quot;details&quot;: {\n                        &quot;error&quot;: &quot;com.ibm.msg.client.jms.DetailedJMSSecurityException: JMSWMQ2013: The security authentication was not valid that was supplied for QueueManager 'GIMLI_A1' with connection mode 'Client' and host name 'gimli-a1.it.company.net(1417)'.&quot;\n                    }\n                },\n                &quot;userCredentialsConnectionFactoryAdapter&quot;: {\n                    &quot;status&quot;: &quot;UP&quot;,\n                    &quot;details&quot;: {\n                        &quot;provider&quot;: &quot;IBM MQ JMS Provider&quot;\n                    }\n                },\n                &quot;cachingConnectionFactory&quot;: {\n                    &quot;status&quot;: &quot;UP&quot;,\n                    &quot;details&quot;: {\n                        &quot;provider&quot;: &quot;IBM MQ JMS Provider&quot;\n                    }\n                }\n            }\n        },\n        &quot;db&quot;: {\n            &quot;status&quot;: &quot;UP&quot;,\n            &quot;details&quot;: {\n                &quot;tnvet&quot;: {\n                    &quot;status&quot;: &quot;UP&quot;,\n                    &quot;details&quot;: {\n                        &quot;database&quot;: &quot;DB2&quot;,\n                        &quot;hello&quot;: 1\n                    }\n                },\n                &quot;nk&quot;: {\n                    &quot;status&quot;: &quot;UP&quot;,\n                    &quot;details&quot;: {\n                        &quot;database&quot;: &quot;DB2&quot;,\n                        &quot;hello&quot;: 1\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Is there a way to define that certain details shouldn't be included in the health check? Unfortunately reworking of removing the bean is not a option.</p>\n<hr />\n<p>Additional info:</p>\n<p><strong>Java version</strong>: 8\n<strong>Spring Boot version</strong>: 2.1.9.RELEASE\n<strong>Spring Boot Actuator</strong>: 2.1.9.RELEASE\n<strong>IBM MQ JMS Spring Boot Starter</strong>: 0.0.3</p>\n<p>Configuration file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfiguration {\n    @Value(&quot;${ibm.mq.hostName}&quot;)\n    private String mqHostName;\n    @Value(&quot;${ibm.mq.port}&quot;)\n    private int mqPort;\n    @Value(&quot;${ibm.mq.queueManager}&quot;)\n    private String mqQueueManager;\n    @Value(&quot;${ibm.mq.channel}&quot;)\n    private String mqChannel;\n    @Value(&quot;${ibm.mq.user}&quot;)\n    private String mqUser;\n    @Value(&quot;${ibm.mq.password}&quot;)\n    private String mqPassword;\n\n    @Bean\n    public FilterRegistrationBean&lt;CorsFilter&gt; corsFilter() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.addAllowedOrigin(&quot;*&quot;);\n        config.addAllowedHeader(&quot;*&quot;);\n        config.addAllowedMethod(&quot;*&quot;);\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        FilterRegistrationBean&lt;CorsFilter&gt; bean = new FilterRegistrationBean&lt;&gt;(new CorsFilter(source));\n        bean.setOrder(Ordered.HIGHEST_PRECEDENCE);\n        return bean;\n    }\n\n    @Bean\n    public ConnectionFactory connectionFactory() throws JMSException {\n        return userCredentialsConnectionFactoryAdapter(mqQueueConnectionFactory());\n    }\n\n    @Bean\n    public QueueConnectionFactory queueConnectionFactory() throws JMSException {\n        return userCredentialsConnectionFactoryAdapter(mqQueueConnectionFactory());\n    }\n\n    @Bean\n    public MQQueueConnectionFactory mqQueueConnectionFactory() throws JMSException {\n        MQQueueConnectionFactory cf = new MQQueueConnectionFactory();\n\n        // Get these settings from the application properties\n        cf.setHostName(mqHostName);\n        cf.setPort(mqPort);\n        cf.setQueueManager(mqQueueManager);\n        cf.setChannel(mqChannel);\n        cf.setTransportType(CommonConstants.WMQ_CM_CLIENT);\n\n        return cf;\n    }\n\n    @Bean(name = &quot;jmsPlatformTransactionManager&quot;)\n    public PlatformTransactionManager platformTransactionManager(CachingConnectionFactory cachingConnectionFactory) {\n        cachingConnectionFactory.setCacheConsumers(true);\n        cachingConnectionFactory.setSessionCacheSize(5);\n        cachingConnectionFactory.setReconnectOnException(true);\n        return new JmsTransactionManager(cachingConnectionFactory);\n    }\n\n    @Bean\n    public DefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory(//\n            PlatformTransactionManager jmsPlatformTransactionManager, //\n            CachingConnectionFactory cachingConnectionFactory) {\n        DefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory = new DefaultJmsListenerContainerFactory();\n        defaultJmsListenerContainerFactory.setConnectionFactory(cachingConnectionFactory);\n        defaultJmsListenerContainerFactory.setTransactionManager(jmsPlatformTransactionManager);\n        defaultJmsListenerContainerFactory.setConcurrency(&quot;1-1&quot;);\n        defaultJmsListenerContainerFactory.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\n        defaultJmsListenerContainerFactory.setSessionTransacted(true);\n        return defaultJmsListenerContainerFactory;\n    }\n\n    @Bean\n    public UserCredentialsConnectionFactoryAdapter userCredentialsConnectionFactoryAdapter(MQQueueConnectionFactory mqQueueConnectionFactory) {\n        UserCredentialsConnectionFactoryAdapter userCredentialsConnectionFactoryAdapter = new UserCredentialsConnectionFactoryAdapter();\n        userCredentialsConnectionFactoryAdapter.setUsername(mqUser);\n        userCredentialsConnectionFactoryAdapter.setPassword(mqPassword);\n        userCredentialsConnectionFactoryAdapter.setTargetConnectionFactory(mqQueueConnectionFactory);\n        return userCredentialsConnectionFactoryAdapter;\n    }\n\n    @Bean\n    public JmsListenerContainerFactory&lt;DefaultMessageListenerContainer&gt; myFactory(CachingConnectionFactory cachingConnectionFactory,\n            DefaultJmsListenerContainerFactoryConfigurer configurer) {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        factory.setSessionTransacted(false);\n        factory.setConcurrency(&quot;1-1&quot;);\n        configurer.configure(factory, cachingConnectionFactory);\n        return factory;\n    }\n\n    @Bean\n    public CachingConnectionFactory cachingConnectionFactory(UserCredentialsConnectionFactoryAdapter userCredentialsConnectionFactoryAdapter) {\n        CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\n        cachingConnectionFactory.setTargetConnectionFactory(userCredentialsConnectionFactoryAdapter);\n        cachingConnectionFactory.setCacheConsumers(true);\n        cachingConnectionFactory.setSessionCacheSize(5);\n        cachingConnectionFactory.setCacheProducers(true);\n        cachingConnectionFactory.setReconnectOnException(true);\n        return cachingConnectionFactory;\n    }\n\n    @Bean\n    public JmsOperations jmsOperations(CachingConnectionFactory cachingConnectionFactory) {\n        JmsTemplate jmsTemplate = new JmsTemplate(cachingConnectionFactory);\n        jmsTemplate.setReceiveTimeout(10);\n        return jmsTemplate;\n    }\n\n    @Bean\n    public RestTemplate restTemplate() {\n        return new RestTemplate();\n    }\n}\n</code></pre>\n"},{"tags":["java","c++","vectorization","simd","project-panama"],"comments":[{"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"score":0,"creation_date":1665079238,"post_id":73977998,"comment_id":130621461,"body_markdown":"Java aims to be platform-independent. These seem to be  (Intel-)platform dependent operations. How should there be a direct replacement in Java?\nOne option would be call the C++ method via JNI. see https://docs.oracle.com/en/java/javase/11/docs/specs/jni/index.html or https://www.baeldung.com/jni","body":"Java aims to be platform-independent. These seem to be  (Intel-)platform dependent operations. How should there be a direct replacement in Java? One option would be call the C++ method via JNI. see <a href=\"https://docs.oracle.com/en/java/javase/11/docs/specs/jni/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/specs/jni/index.html</a> or <a href=\"https://www.baeldung.com/jni\" rel=\"nofollow noreferrer\">baeldung.com/jni</a>"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1665079702,"post_id":73977998,"comment_id":130621601,"body_markdown":"@nineninesevenfour: Maybe you missed the [project-panama] tag?  Allowing stuff like this more efficiently and/or easily than traditional JNI seems to be the whole point of https://openjdk.org/projects/panama/.  And the fact that Java `jdk.incubator.vector` (https://download.java.net/java/early_access/panama/docs/api/jdk.incubator.vector/jdk/incubator/vector/package-summary.html) is supposed to give access to something like intrinsics directly, for the JVM&#39;s JIT to emit such instructions.","body":"@nineninesevenfour: Maybe you missed the [project-panama] tag?  Allowing stuff like this more efficiently and/or easily than traditional JNI seems to be the whole point of <a href=\"https://openjdk.org/projects/panama/\" rel=\"nofollow noreferrer\">openjdk.org/projects/panama</a>.  And the fact that Java <code>jdk.incubator.vector</code> (<a href=\"https://download.java.net/java/early_access/panama/docs/api/jdk.incubator.vector/jdk/incubator/vector/package-summary.html\" rel=\"nofollow noreferrer\">download.java.net/java/early_access/panama/docs/api/&hellip;</a>) is supposed to give access to something like intrinsics directly, for the JVM&#39;s JIT to emit such instructions."},{"owner":{"account_id":1208031,"reputation":14071,"user_id":1915854,"accept_rate":63,"display_name":"Serge Rogatch"},"score":0,"creation_date":1665079704,"post_id":73977998,"comment_id":130621603,"body_markdown":"@nineninesevenfour, what is the overhead of switching the control flow from Java to C++? I&#39;m afraid it will be too high given that this method is called tens of millions of times per second and there is no way to rewrite the higher-level methods in C++.","body":"@nineninesevenfour, what is the overhead of switching the control flow from Java to C++? I&#39;m afraid it will be too high given that this method is called tens of millions of times per second and there is no way to rewrite the higher-level methods in C++."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":3,"creation_date":1665080349,"post_id":73977998,"comment_id":130621778,"body_markdown":"The docs (https://download.java.net/java/early_access/panama/docs/api/jdk.incubator.vector/jdk/incubator/vector/Vector.html#cross-lane) say that shuffles should be done with `rearrange()`.  Presumably a shuffle optimizer will figure out how to actually implement the shuffles you request in terms of machine instructions, so choose ones that can be done in a single instruction on the platform you care about.  Similar idea to A. Fog&#39;s VCL where the template `permute&lt;2,3,0,1&gt;(v)` picks shuffles https://github.com/vectorclass/version2/blob/08959ebe6ea5d8317330b242e28ba0d2938ac52f/vectori256.h#L3862","body":"The docs (<a href=\"https://download.java.net/java/early_access/panama/docs/api/jdk.incubator.vector/jdk/incubator/vector/Vector.html#cross-lane\" rel=\"nofollow noreferrer\">download.java.net/java/early_access/panama/docs/api/&hellip;</a>) say that shuffles should be done with <code>rearrange()</code>.  Presumably a shuffle optimizer will figure out how to actually implement the shuffles you request in terms of machine instructions, so choose ones that can be done in a single instruction on the platform you care about.  Similar idea to A. Fog&#39;s VCL where the template <code>permute&lt;2,3,0,1&gt;(v)</code> picks shuffles <a href=\"https://github.com/vectorclass/version2/blob/08959ebe6ea5d8317330b242e28ba0d2938ac52f/vectori256.h#L3862\" rel=\"nofollow noreferrer\">github.com/vectorclass/version2/blob/&hellip;</a>"},{"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"score":0,"creation_date":1665088029,"post_id":73977998,"comment_id":130624071,"body_markdown":"@SergeRogatch: Yes, I have overlooked the tag. My apologies.","body":"@SergeRogatch: Yes, I have overlooked the tag. My apologies."}],"answers":[{"tags":[],"owner":{"account_id":43441,"reputation":20594,"user_id":126995,"accept_rate":61,"display_name":"Soonts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665102430,"creation_date":1665102430,"answer_id":73981190,"question_id":73977998,"body_markdown":"Disclaimer: I never wrote anything similar in Java.\r\n\r\nBased on the documentation, the rearrange seems the only way to go.&lt;br/&gt;\r\nThe only issue is how to translate C intrinsics into the integers for the `VectorShuffle&lt;Float&gt;`.\r\n\r\nHere&#39;s C++ code to find out:\r\n\r\n``` lang-cpp\r\nvoid printShuffle( __m256 v, const char* name )\r\n{\r\n\t__m256i iv = _mm256_cvtps_epi32( v );\r\n\tstd::array&lt;int, 8&gt; a;\r\n\t_mm256_storeu_si256( ( __m256i* )a.data(), iv );\r\n\tprintf( &quot;%s: %i, %i, %i, %i, %i, %i, %i, %i\\n&quot;, name,\r\n\t\ta[ 0 ], a[ 1 ], a[ 2 ], a[ 3 ], a[ 4 ], a[ 5 ], a[ 6 ], a[ 7 ] );\r\n\r\n}\r\n#define TEST( expr ) printShuffle( expr, #expr )\r\n\r\nvoid printJavaRearranges()\r\n{\r\n\tconst __m256 a = _mm256_setr_ps( 0, 1, 2, 3, 4, 5, 6, 7 );\r\n\tconst __m256 b = _mm256_sub_ps( a, _mm256_set1_ps( 8 ) );\r\n\tTEST( _mm256_unpacklo_ps( a, b ) );\r\n\tTEST( _mm256_unpackhi_ps( a, b ) );\r\n\tTEST( _mm256_shuffle_ps( a, b, _MM_SHUFFLE(1,0,1,0) ) );\r\n\tTEST( _mm256_shuffle_ps( a, b, _MM_SHUFFLE(3,2,3,2) ) );\r\n\tTEST( _mm256_permute2f128_ps( a, b, 0x20 ) );\r\n\tTEST( _mm256_permute2f128_ps( a, b, 0x31 ) );\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n_mm256_unpacklo_ps( a, b ): 0, -8, 1, -7, 4, -4, 5, -3\r\n_mm256_unpackhi_ps( a, b ): 2, -6, 3, -5, 6, -2, 7, -1\r\n_mm256_shuffle_ps( a, b, _MM_SHUFFLE(1,0,1,0) ): 0, 1, -8, -7, 4, 5, -4, -3\r\n_mm256_shuffle_ps( a, b, _MM_SHUFFLE(3,2,3,2) ): 2, 3, -6, -5, 6, 7, -2, -1\r\n_mm256_permute2f128_ps( a, b, 0x20 ): 0, 1, 2, 3, -8, -7, -6, -5\r\n_mm256_permute2f128_ps( a, b, 0x31 ): 4, 5, 6, 7, -4, -3, -2, -1\r\n```\r\n\r\nThe `_mm256_permute2f128_ps` instruction can selectively zero out lanes, Java&#39;s vector API probably can&#39;t do that. Fortunately, the immediate values in your source code don&#39;t zero out any pieces.\r\n\r\nIf you&#39;re lucky, the runtime might map these values (when they are known to JIT in advance and never change) into the corresponding AVX instructions.","title":"SIMD transposition of 8x8 matrix of 32-bit values in Java","body":"<p>Disclaimer: I never wrote anything similar in Java.</p>\n<p>Based on the documentation, the rearrange seems the only way to go.<br/>\nThe only issue is how to translate C intrinsics into the integers for the <code>VectorShuffle&lt;Float&gt;</code>.</p>\n<p>Here's C++ code to find out:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>void printShuffle( __m256 v, const char* name )\n{\n    __m256i iv = _mm256_cvtps_epi32( v );\n    std::array&lt;int, 8&gt; a;\n    _mm256_storeu_si256( ( __m256i* )a.data(), iv );\n    printf( &quot;%s: %i, %i, %i, %i, %i, %i, %i, %i\\n&quot;, name,\n        a[ 0 ], a[ 1 ], a[ 2 ], a[ 3 ], a[ 4 ], a[ 5 ], a[ 6 ], a[ 7 ] );\n\n}\n#define TEST( expr ) printShuffle( expr, #expr )\n\nvoid printJavaRearranges()\n{\n    const __m256 a = _mm256_setr_ps( 0, 1, 2, 3, 4, 5, 6, 7 );\n    const __m256 b = _mm256_sub_ps( a, _mm256_set1_ps( 8 ) );\n    TEST( _mm256_unpacklo_ps( a, b ) );\n    TEST( _mm256_unpackhi_ps( a, b ) );\n    TEST( _mm256_shuffle_ps( a, b, _MM_SHUFFLE(1,0,1,0) ) );\n    TEST( _mm256_shuffle_ps( a, b, _MM_SHUFFLE(3,2,3,2) ) );\n    TEST( _mm256_permute2f128_ps( a, b, 0x20 ) );\n    TEST( _mm256_permute2f128_ps( a, b, 0x31 ) );\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>_mm256_unpacklo_ps( a, b ): 0, -8, 1, -7, 4, -4, 5, -3\n_mm256_unpackhi_ps( a, b ): 2, -6, 3, -5, 6, -2, 7, -1\n_mm256_shuffle_ps( a, b, _MM_SHUFFLE(1,0,1,0) ): 0, 1, -8, -7, 4, 5, -4, -3\n_mm256_shuffle_ps( a, b, _MM_SHUFFLE(3,2,3,2) ): 2, 3, -6, -5, 6, 7, -2, -1\n_mm256_permute2f128_ps( a, b, 0x20 ): 0, 1, 2, 3, -8, -7, -6, -5\n_mm256_permute2f128_ps( a, b, 0x31 ): 4, 5, 6, 7, -4, -3, -2, -1\n</code></pre>\n<p>The <code>_mm256_permute2f128_ps</code> instruction can selectively zero out lanes, Java's vector API probably can't do that. Fortunately, the immediate values in your source code don't zero out any pieces.</p>\n<p>If you're lucky, the runtime might map these values (when they are known to JIT in advance and never change) into the corresponding AVX instructions.</p>\n"}],"owner":{"account_id":1208031,"reputation":14071,"user_id":1915854,"accept_rate":63,"display_name":"Serge Rogatch"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665404069,"creation_date":1665078120,"question_id":73977998,"body_markdown":"I found the following code in C++ for fast transposition of an 8x8 matrix of 32-bit values: https://stackoverflow.com/a/51887176/1915854\r\n\r\n      inline void Transpose8x8Shuff(unsigned long *in)\r\n      {\r\n         __m256 *inI = reinterpret_cast&lt;__m256 *&gt;(in);\r\n         __m256 rI[8];\r\n         rI[0] = _mm256_unpacklo_ps(inI[0], inI[1]); \r\n         rI[1] = _mm256_unpackhi_ps(inI[0], inI[1]); \r\n         rI[2] = _mm256_unpacklo_ps(inI[2], inI[3]); \r\n         rI[3] = _mm256_unpackhi_ps(inI[2], inI[3]); \r\n         rI[4] = _mm256_unpacklo_ps(inI[4], inI[5]); \r\n         rI[5] = _mm256_unpackhi_ps(inI[4], inI[5]); \r\n         rI[6] = _mm256_unpacklo_ps(inI[6], inI[7]); \r\n         rI[7] = _mm256_unpackhi_ps(inI[6], inI[7]); \r\n    \r\n         __m256 rrF[8];\r\n         __m256 *rF = reinterpret_cast&lt;__m256 *&gt;(rI);\r\n         rrF[0] = _mm256_shuffle_ps(rF[0], rF[2], _MM_SHUFFLE(1,0,1,0));\r\n         rrF[1] = _mm256_shuffle_ps(rF[0], rF[2], _MM_SHUFFLE(3,2,3,2));\r\n         rrF[2] = _mm256_shuffle_ps(rF[1], rF[3], _MM_SHUFFLE(1,0,1,0)); \r\n         rrF[3] = _mm256_shuffle_ps(rF[1], rF[3], _MM_SHUFFLE(3,2,3,2));\r\n         rrF[4] = _mm256_shuffle_ps(rF[4], rF[6], _MM_SHUFFLE(1,0,1,0));\r\n         rrF[5] = _mm256_shuffle_ps(rF[4], rF[6], _MM_SHUFFLE(3,2,3,2));\r\n         rrF[6] = _mm256_shuffle_ps(rF[5], rF[7], _MM_SHUFFLE(1,0,1,0));\r\n         rrF[7] = _mm256_shuffle_ps(rF[5], rF[7], _MM_SHUFFLE(3,2,3,2));\r\n    \r\n         rF = reinterpret_cast&lt;__m256 *&gt;(in);\r\n         rF[0] = _mm256_permute2f128_ps(rrF[0], rrF[4], 0x20);\r\n         rF[1] = _mm256_permute2f128_ps(rrF[1], rrF[5], 0x20);\r\n         rF[2] = _mm256_permute2f128_ps(rrF[2], rrF[6], 0x20);\r\n         rF[3] = _mm256_permute2f128_ps(rrF[3], rrF[7], 0x20);\r\n         rF[4] = _mm256_permute2f128_ps(rrF[0], rrF[4], 0x31);\r\n         rF[5] = _mm256_permute2f128_ps(rrF[1], rrF[5], 0x31);\r\n         rF[6] = _mm256_permute2f128_ps(rrF[2], rrF[6], 0x31);\r\n         rF[7] = _mm256_permute2f128_ps(rrF[3], rrF[7], 0x31);\r\n      }\r\n\r\nHowever, converting it to Java vector API ( https://download.java.net/java/early_access/panama/docs/api/jdk.incubator.vector/jdk/incubator/vector/IntVector.html ) is not straightforward, because the Java vector API doesn&#39;t map directly to CPU instructions / C++ intrinsics.\r\n\r\nCan you share what the equivalents of the following intrinsics/macros in Java are?\r\n\r\n 1. `_mm256_unpacklo_ps()`\r\n 2. `_mm256_unpackhi_ps()`\r\n 3. `_mm256_shuffle_ps()`\r\n 4. `_MM_SHUFFLE()`\r\n 5. `_mm256_permute2f128_ps()`\r\n\r\nI can use the latest JDK 19.\r\n\r\nUPDATE: following the suggestion by @Soonts , I&#39;ve implemented the following, and it passes tests, but it&#39;s terribly slow:\r\n\r\n    public class SimdOps {\r\n        public static final VectorSpecies&lt;Integer&gt; SPECIES_INT = IntVector.SPECIES_256;\r\n        public static final VectorSpecies&lt;Long&gt; SPECIES_LONG = LongVector.SPECIES_256;\r\n        public static final VectorShuffle&lt;Integer&gt; vsUnpackLo = VectorShuffle.fromValues(SPECIES_INT, 0, -8, 1, -7, 4, -4,\r\n                5, -3);\r\n        public static final VectorShuffle&lt;Integer&gt; vsUnpackHi = VectorShuffle.fromValues(SPECIES_INT, 2, -6, 3, -5, 6, -2,\r\n                7, -1);\r\n        public static final VectorShuffle&lt;Integer&gt; vsShuffle1010 = VectorShuffle.fromValues(SPECIES_INT, 0, 1, -8, -7, 4,\r\n                5, -4, -3);\r\n        public static final VectorShuffle&lt;Integer&gt; vsShuffle3232 = VectorShuffle.fromValues(SPECIES_INT, 2, 3, -6, -5, 6, 7,\r\n                -2, -1);\r\n        public static final VectorShuffle&lt;Integer&gt; vsPermute0x20 = VectorShuffle.fromValues(SPECIES_INT, 0, 1, 2, 3, -8, -7,\r\n                -6, -5);\r\n        public static final VectorShuffle&lt;Integer&gt; vsPermute0x31 = VectorShuffle.fromValues(SPECIES_INT, 4, 5, 6, 7, -4, -3,\r\n                -2, -1);\r\n    \r\n        // Transpose 8x8 matrix of 32-bit integers, stored in 256-bit SIMD vectors\r\n        public static final void transpose8x8(IntVector[] inpM) {\r\n            assert inpM.length == Constants.INTS_PER_SIMD;\r\n            // https://stackoverflow.com/questions/25622745/transpose-an-8x8-float-using-avx-avx2\r\n            // https://stackoverflow.com/questions/73977998/simd-transposition-of-8x8-matrix-of-32-bit-values-in-java\r\n            final IntVector rI0 = inpM[0].rearrange(vsUnpackLo, inpM[1]);\r\n            final IntVector rI1 = inpM[0].rearrange(vsUnpackHi, inpM[1]);\r\n            final IntVector rI2 = inpM[2].rearrange(vsUnpackLo, inpM[3]);\r\n            final IntVector rI3 = inpM[2].rearrange(vsUnpackHi, inpM[3]);\r\n            final IntVector rI4 = inpM[4].rearrange(vsUnpackLo, inpM[5]);\r\n            final IntVector rI5 = inpM[4].rearrange(vsUnpackHi, inpM[5]);\r\n            final IntVector rI6 = inpM[6].rearrange(vsUnpackLo, inpM[7]);\r\n            final IntVector rI7 = inpM[6].rearrange(vsUnpackHi, inpM[7]);\r\n            \r\n            final IntVector rrF0 = rI0.rearrange(vsShuffle1010, rI2);\r\n            final IntVector rrF1 = rI0.rearrange(vsShuffle3232, rI2);\r\n            final IntVector rrF2 = rI1.rearrange(vsShuffle1010, rI3);\r\n            final IntVector rrF3 = rI1.rearrange(vsShuffle3232, rI3);\r\n            final IntVector rrF4 = rI4.rearrange(vsShuffle1010, rI6);\r\n            final IntVector rrF5 = rI4.rearrange(vsShuffle3232, rI6);\r\n            final IntVector rrF6 = rI5.rearrange(vsShuffle1010, rI7);\r\n            final IntVector rrF7 = rI5.rearrange(vsShuffle3232, rI7);\r\n    \r\n            inpM[0] = rrF0.rearrange(vsPermute0x20, rrF4);\r\n            inpM[1] = rrF1.rearrange(vsPermute0x20, rrF5);\r\n            inpM[2] = rrF2.rearrange(vsPermute0x20, rrF6);\r\n            inpM[3] = rrF3.rearrange(vsPermute0x20, rrF7);\r\n            inpM[4] = rrF0.rearrange(vsPermute0x31, rrF4);\r\n            inpM[5] = rrF1.rearrange(vsPermute0x31, rrF5);\r\n            inpM[6] = rrF2.rearrange(vsPermute0x31, rrF6);\r\n            inpM[7] = rrF3.rearrange(vsPermute0x31, rrF7);\r\n        }\r\n    };\r\n\r\nAnd the bottleneck is `jdk.incubator.vector.Int256Vector.rearrange(VectorShuffle, Vector)` . It&#39;s at least 10 times slower than the scalar code. Any ideas?","title":"SIMD transposition of 8x8 matrix of 32-bit values in Java","body":"<p>I found the following code in C++ for fast transposition of an 8x8 matrix of 32-bit values: <a href=\"https://stackoverflow.com/a/51887176/1915854\">https://stackoverflow.com/a/51887176/1915854</a></p>\n<pre><code>  inline void Transpose8x8Shuff(unsigned long *in)\n  {\n     __m256 *inI = reinterpret_cast&lt;__m256 *&gt;(in);\n     __m256 rI[8];\n     rI[0] = _mm256_unpacklo_ps(inI[0], inI[1]); \n     rI[1] = _mm256_unpackhi_ps(inI[0], inI[1]); \n     rI[2] = _mm256_unpacklo_ps(inI[2], inI[3]); \n     rI[3] = _mm256_unpackhi_ps(inI[2], inI[3]); \n     rI[4] = _mm256_unpacklo_ps(inI[4], inI[5]); \n     rI[5] = _mm256_unpackhi_ps(inI[4], inI[5]); \n     rI[6] = _mm256_unpacklo_ps(inI[6], inI[7]); \n     rI[7] = _mm256_unpackhi_ps(inI[6], inI[7]); \n\n     __m256 rrF[8];\n     __m256 *rF = reinterpret_cast&lt;__m256 *&gt;(rI);\n     rrF[0] = _mm256_shuffle_ps(rF[0], rF[2], _MM_SHUFFLE(1,0,1,0));\n     rrF[1] = _mm256_shuffle_ps(rF[0], rF[2], _MM_SHUFFLE(3,2,3,2));\n     rrF[2] = _mm256_shuffle_ps(rF[1], rF[3], _MM_SHUFFLE(1,0,1,0)); \n     rrF[3] = _mm256_shuffle_ps(rF[1], rF[3], _MM_SHUFFLE(3,2,3,2));\n     rrF[4] = _mm256_shuffle_ps(rF[4], rF[6], _MM_SHUFFLE(1,0,1,0));\n     rrF[5] = _mm256_shuffle_ps(rF[4], rF[6], _MM_SHUFFLE(3,2,3,2));\n     rrF[6] = _mm256_shuffle_ps(rF[5], rF[7], _MM_SHUFFLE(1,0,1,0));\n     rrF[7] = _mm256_shuffle_ps(rF[5], rF[7], _MM_SHUFFLE(3,2,3,2));\n\n     rF = reinterpret_cast&lt;__m256 *&gt;(in);\n     rF[0] = _mm256_permute2f128_ps(rrF[0], rrF[4], 0x20);\n     rF[1] = _mm256_permute2f128_ps(rrF[1], rrF[5], 0x20);\n     rF[2] = _mm256_permute2f128_ps(rrF[2], rrF[6], 0x20);\n     rF[3] = _mm256_permute2f128_ps(rrF[3], rrF[7], 0x20);\n     rF[4] = _mm256_permute2f128_ps(rrF[0], rrF[4], 0x31);\n     rF[5] = _mm256_permute2f128_ps(rrF[1], rrF[5], 0x31);\n     rF[6] = _mm256_permute2f128_ps(rrF[2], rrF[6], 0x31);\n     rF[7] = _mm256_permute2f128_ps(rrF[3], rrF[7], 0x31);\n  }\n</code></pre>\n<p>However, converting it to Java vector API ( <a href=\"https://download.java.net/java/early_access/panama/docs/api/jdk.incubator.vector/jdk/incubator/vector/IntVector.html\" rel=\"nofollow noreferrer\">https://download.java.net/java/early_access/panama/docs/api/jdk.incubator.vector/jdk/incubator/vector/IntVector.html</a> ) is not straightforward, because the Java vector API doesn't map directly to CPU instructions / C++ intrinsics.</p>\n<p>Can you share what the equivalents of the following intrinsics/macros in Java are?</p>\n<ol>\n<li><code>_mm256_unpacklo_ps()</code></li>\n<li><code>_mm256_unpackhi_ps()</code></li>\n<li><code>_mm256_shuffle_ps()</code></li>\n<li><code>_MM_SHUFFLE()</code></li>\n<li><code>_mm256_permute2f128_ps()</code></li>\n</ol>\n<p>I can use the latest JDK 19.</p>\n<p>UPDATE: following the suggestion by @Soonts , I've implemented the following, and it passes tests, but it's terribly slow:</p>\n<pre><code>public class SimdOps {\n    public static final VectorSpecies&lt;Integer&gt; SPECIES_INT = IntVector.SPECIES_256;\n    public static final VectorSpecies&lt;Long&gt; SPECIES_LONG = LongVector.SPECIES_256;\n    public static final VectorShuffle&lt;Integer&gt; vsUnpackLo = VectorShuffle.fromValues(SPECIES_INT, 0, -8, 1, -7, 4, -4,\n            5, -3);\n    public static final VectorShuffle&lt;Integer&gt; vsUnpackHi = VectorShuffle.fromValues(SPECIES_INT, 2, -6, 3, -5, 6, -2,\n            7, -1);\n    public static final VectorShuffle&lt;Integer&gt; vsShuffle1010 = VectorShuffle.fromValues(SPECIES_INT, 0, 1, -8, -7, 4,\n            5, -4, -3);\n    public static final VectorShuffle&lt;Integer&gt; vsShuffle3232 = VectorShuffle.fromValues(SPECIES_INT, 2, 3, -6, -5, 6, 7,\n            -2, -1);\n    public static final VectorShuffle&lt;Integer&gt; vsPermute0x20 = VectorShuffle.fromValues(SPECIES_INT, 0, 1, 2, 3, -8, -7,\n            -6, -5);\n    public static final VectorShuffle&lt;Integer&gt; vsPermute0x31 = VectorShuffle.fromValues(SPECIES_INT, 4, 5, 6, 7, -4, -3,\n            -2, -1);\n\n    // Transpose 8x8 matrix of 32-bit integers, stored in 256-bit SIMD vectors\n    public static final void transpose8x8(IntVector[] inpM) {\n        assert inpM.length == Constants.INTS_PER_SIMD;\n        // https://stackoverflow.com/questions/25622745/transpose-an-8x8-float-using-avx-avx2\n        // https://stackoverflow.com/questions/73977998/simd-transposition-of-8x8-matrix-of-32-bit-values-in-java\n        final IntVector rI0 = inpM[0].rearrange(vsUnpackLo, inpM[1]);\n        final IntVector rI1 = inpM[0].rearrange(vsUnpackHi, inpM[1]);\n        final IntVector rI2 = inpM[2].rearrange(vsUnpackLo, inpM[3]);\n        final IntVector rI3 = inpM[2].rearrange(vsUnpackHi, inpM[3]);\n        final IntVector rI4 = inpM[4].rearrange(vsUnpackLo, inpM[5]);\n        final IntVector rI5 = inpM[4].rearrange(vsUnpackHi, inpM[5]);\n        final IntVector rI6 = inpM[6].rearrange(vsUnpackLo, inpM[7]);\n        final IntVector rI7 = inpM[6].rearrange(vsUnpackHi, inpM[7]);\n        \n        final IntVector rrF0 = rI0.rearrange(vsShuffle1010, rI2);\n        final IntVector rrF1 = rI0.rearrange(vsShuffle3232, rI2);\n        final IntVector rrF2 = rI1.rearrange(vsShuffle1010, rI3);\n        final IntVector rrF3 = rI1.rearrange(vsShuffle3232, rI3);\n        final IntVector rrF4 = rI4.rearrange(vsShuffle1010, rI6);\n        final IntVector rrF5 = rI4.rearrange(vsShuffle3232, rI6);\n        final IntVector rrF6 = rI5.rearrange(vsShuffle1010, rI7);\n        final IntVector rrF7 = rI5.rearrange(vsShuffle3232, rI7);\n\n        inpM[0] = rrF0.rearrange(vsPermute0x20, rrF4);\n        inpM[1] = rrF1.rearrange(vsPermute0x20, rrF5);\n        inpM[2] = rrF2.rearrange(vsPermute0x20, rrF6);\n        inpM[3] = rrF3.rearrange(vsPermute0x20, rrF7);\n        inpM[4] = rrF0.rearrange(vsPermute0x31, rrF4);\n        inpM[5] = rrF1.rearrange(vsPermute0x31, rrF5);\n        inpM[6] = rrF2.rearrange(vsPermute0x31, rrF6);\n        inpM[7] = rrF3.rearrange(vsPermute0x31, rrF7);\n    }\n};\n</code></pre>\n<p>And the bottleneck is <code>jdk.incubator.vector.Int256Vector.rearrange(VectorShuffle, Vector)</code> . It's at least 10 times slower than the scalar code. Any ideas?</p>\n"},{"tags":["java","fileoutputstream"],"comments":[{"owner":{"account_id":1376,"reputation":61107,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"score":1,"creation_date":1347199893,"post_id":12339673,"comment_id":16565744,"body_markdown":"Because 3.png is a directory?","body":"Because 3.png is a directory?"}],"answers":[{"tags":[],"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"down_vote_count":0,"up_vote_count":102,"is_accepted":true,"score":102,"last_activity_date":1457804287,"creation_date":1347200070,"answer_id":12339821,"question_id":12339673,"body_markdown":"`3.png` is a directory, because you make it so by calling `f.mkdirs();`. Try `f.getParentFile().mkdirs()` instead. From the [documentation][1]:\r\n\r\n&gt; Creates the directory *named by this abstract pathname*, including any necessary but nonexistent parent directories. Note that if this operation fails it may have succeeded in creating some of the necessary parent directories.\r\n\r\n(emphasis mine). In other words, the entire path contained in the `File` instance `f` is taken to be a directory name, up to and including the final part (`3.png` in the example output).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html#mkdirs()","title":"FileOutputStream crashes with &quot;open failed: EISDIR (Is a directory)&quot; error when downloading image","body":"<p><code>3.png</code> is a directory, because you make it so by calling <code>f.mkdirs();</code>. Try <code>f.getParentFile().mkdirs()</code> instead. From the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#mkdirs()\">documentation</a>:</p>\n\n<blockquote>\n  <p>Creates the directory <em>named by this abstract pathname</em>, including any necessary but nonexistent parent directories. Note that if this operation fails it may have succeeded in creating some of the necessary parent directories.</p>\n</blockquote>\n\n<p>(emphasis mine). In other words, the entire path contained in the <code>File</code> instance <code>f</code> is taken to be a directory name, up to and including the final part (<code>3.png</code> in the example output).</p>\n"},{"tags":[],"owner":{"display_name":"user2716622"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1387954564,"creation_date":1387954564,"answer_id":20769948,"question_id":12339673,"body_markdown":"replace `f.mkdirs()` with `f.createNewFile().`","title":"FileOutputStream crashes with &quot;open failed: EISDIR (Is a directory)&quot; error when downloading image","body":"<p>replace <code>f.mkdirs()</code> with <code>f.createNewFile().</code></p>\n"},{"tags":[],"owner":{"account_id":1518906,"reputation":7242,"user_id":1419184,"accept_rate":75,"display_name":"Led Machine"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1426048772,"creation_date":1426048772,"answer_id":28978683,"question_id":12339673,"body_markdown":"The problem is that you are using the function\r\n\r\n    f.mkdirs();\r\n\r\nthis function will create a folder called &quot;3.png&quot; instead of a file called &quot;3.png&quot;, so delete this folder first, \r\n\r\n![enter image description here][1]\r\n\r\nthen replace the function\r\n\r\n    f.mkdirs();\r\n\r\nto \r\n   \r\n    f.createNewFile();\r\n\r\nHope this help.\r\n\r\n  [1]: http://i.stack.imgur.com/PMyFf.png","title":"FileOutputStream crashes with &quot;open failed: EISDIR (Is a directory)&quot; error when downloading image","body":"<p>The problem is that you are using the function</p>\n\n<pre><code>f.mkdirs();\n</code></pre>\n\n<p>this function will create a folder called \"3.png\" instead of a file called \"3.png\", so delete this folder first, </p>\n\n<p><img src=\"https://i.stack.imgur.com/PMyFf.png\" alt=\"enter image description here\"></p>\n\n<p>then replace the function</p>\n\n<pre><code>f.mkdirs();\n</code></pre>\n\n<p>to </p>\n\n<pre><code>f.createNewFile();\n</code></pre>\n\n<p>Hope this help.</p>\n"},{"tags":[],"owner":{"account_id":8107833,"reputation":21,"user_id":6108881,"display_name":"surya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478623068,"creation_date":1478623068,"answer_id":40492097,"question_id":12339673,"body_markdown":"##You can first make the directory and then further write the code.##\r\n\r\n     URL downloadURL=null;\r\n        HttpURLConnection urlConnection=null;\r\n        InputStream inputStream=null;\r\n        FileOutputStream fos=null;\r\n        Uri uri=Uri.parse(url);\r\n        try {\r\n            downloadURL=new URL(url);\r\n            urlConnection= (HttpURLConnection) downloadURL.openConnection();\r\n            inputStream=urlConnection.getInputStream();\r\n            File file=new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).getAbsolutePath()+&quot;/myAppImages/&quot;);\r\n            if(!file.exists())\r\n            {\r\n                file.mkdirs();\r\n            }\r\n            File file1=new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).getAbsolutePath()+&quot;/myAppImages/&quot;+uri.getLastPathSegment());\r\n            fos=new FileOutputStream(file1);\r\n            byte[] buffer=new byte[1024];\r\n\r\n            int read=-1;\r\n            while((read=inputStream.read(buffer))!=-1)\r\n            {\r\n               /* Message.L(&quot;&quot;+read);*/\r\n                fos.write(buffer,0,read);\r\n            }\r\n            \r\n        }\r\n\r\n###Like this you can do###\r\n\r\n    File file=new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).getAbsolutePath()+&quot;/myAppImages/&quot;);\r\n            if(!file.exists())\r\n            {\r\n                file.mkdirs();\r\n            }\r\n            File file1=new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).getAbsolutePath()+&quot;/myAppImages/&quot;+uri.getLastPathSegment());\r\n            fos=new FileOutputStream(file1);\r\n\r\n     ","title":"FileOutputStream crashes with &quot;open failed: EISDIR (Is a directory)&quot; error when downloading image","body":"<h2>You can first make the directory and then further write the code.</h2>\n\n<pre><code> URL downloadURL=null;\n    HttpURLConnection urlConnection=null;\n    InputStream inputStream=null;\n    FileOutputStream fos=null;\n    Uri uri=Uri.parse(url);\n    try {\n        downloadURL=new URL(url);\n        urlConnection= (HttpURLConnection) downloadURL.openConnection();\n        inputStream=urlConnection.getInputStream();\n        File file=new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).getAbsolutePath()+\"/myAppImages/\");\n        if(!file.exists())\n        {\n            file.mkdirs();\n        }\n        File file1=new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).getAbsolutePath()+\"/myAppImages/\"+uri.getLastPathSegment());\n        fos=new FileOutputStream(file1);\n        byte[] buffer=new byte[1024];\n\n        int read=-1;\n        while((read=inputStream.read(buffer))!=-1)\n        {\n           /* Message.L(\"\"+read);*/\n            fos.write(buffer,0,read);\n        }\n\n    }\n</code></pre>\n\n<h3>Like this you can do</h3>\n\n<pre><code>File file=new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).getAbsolutePath()+\"/myAppImages/\");\n        if(!file.exists())\n        {\n            file.mkdirs();\n        }\n        File file1=new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES).getAbsolutePath()+\"/myAppImages/\"+uri.getLastPathSegment());\n        fos=new FileOutputStream(file1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5535031,"reputation":273,"user_id":4393669,"display_name":"Mohsen Hrt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665403901,"creation_date":1665403901,"answer_id":74014761,"question_id":12339673,"body_markdown":"I encounter with this problem when     `&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;`\r\nwas not written correctly, so check manifest again.","title":"FileOutputStream crashes with &quot;open failed: EISDIR (Is a directory)&quot; error when downloading image","body":"<p>I encounter with this problem when     <code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;</code>\nwas not written correctly, so check manifest again.</p>\n"}],"owner":{"account_id":338931,"reputation":7935,"user_id":668082,"accept_rate":76,"display_name":"Omar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60839,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":12339821,"answer_count":5,"score":39,"last_activity_date":1665403901,"creation_date":1347198855,"question_id":12339673,"body_markdown":"I&#39;m trying to download an iamge from the internet, Here is the code:\r\n\r\n    try {\r\n    \t\t\t\tString imgURL = c.imgURL;\r\n    \t\t\t\tString imgPATH = c.imgPATH;\r\n    \t\t\t\tURL url = new URL(imgURL);\r\n    \t\t\t\tURLConnection conexion = url.openConnection();\r\n    \t\t\t\tconexion.connect();\r\n    \t\t\t\tint lenghtOfFile = conexion.getContentLength();\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tFile f = new File(imgPATH);\r\n    \t\t\t\t\tf.mkdirs();\r\n    \r\n    \t\t\t\t\tBufferedInputStream input = new BufferedInputStream(url.openStream());\r\n    \t\t\t\t\tBufferedOutputStream output = new BufferedOutputStream(new FileOutputStream(imgPATH), 8192); // CRASH HERE\r\n    \r\n    \t\t\t\t\tbyte data[] = new byte[8192];\r\n    \t\t\t\t\tlong total = 0;\r\n    \t\t\t\t\tint count = 0;\r\n    \t\t\t\t\tint updateUILimiter = 0;\r\n    \t\t\t\t\twhile ((count = input.read(data)) != -1) {\r\n    \t\t\t\t\t\ttotal += count;\r\n    \r\n    \t\t\t\t\t\tif (updateUILimiter == 20)\r\n    \t\t\t\t\t\t\t// publishProgress((int) (total * 100 / lenghtOfFile));\r\n    \t\t\t\t\t\t\tupdateUILimiter = 0;\r\n    \t\t\t\t\t\telse\r\n    \t\t\t\t\t\t\tupdateUILimiter++;\r\n    \r\n    \t\t\t\t\t\toutput.write(data, 0, count);\r\n    \r\n    \t\t\t\t\t\tif (isCancelled()) {\r\n    \t\t\t\t\t\t\toutput.flush();\r\n    \t\t\t\t\t\t\toutput.close();\r\n    \t\t\t\t\t\t\tinput.close();\r\n    \t\t\t\t\t\t\treturn null;\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t\toutput.flush();\r\n    \t\t\t\t\toutput.close();\r\n    \t\t\t\t\tinput.close();\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\tc.imgPATH = &quot;&quot;;\r\n    \t\t\t\t\treturn null;\r\n    \t\t\t\t}\r\n    \r\n    \r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tc.imgPATH = &quot;&quot;;\r\n    \t\t\t\treturn null;\r\n    \t\t\t}\r\n\r\nHere is the error message: \r\n\r\n&gt; /mnt/sdcard/tmp/3.png: open failed: EISDIR (Is a directory)\r\n\r\nWhy is this? \r\n\r\n&quot; /mnt/sdcard/tmp/&quot; exists.","title":"FileOutputStream crashes with &quot;open failed: EISDIR (Is a directory)&quot; error when downloading image","body":"<p>I'm trying to download an iamge from the internet, Here is the code:</p>\n\n<pre><code>try {\n                String imgURL = c.imgURL;\n                String imgPATH = c.imgPATH;\n                URL url = new URL(imgURL);\n                URLConnection conexion = url.openConnection();\n                conexion.connect();\n                int lenghtOfFile = conexion.getContentLength();\n                try {\n                    File f = new File(imgPATH);\n                    f.mkdirs();\n\n                    BufferedInputStream input = new BufferedInputStream(url.openStream());\n                    BufferedOutputStream output = new BufferedOutputStream(new FileOutputStream(imgPATH), 8192); // CRASH HERE\n\n                    byte data[] = new byte[8192];\n                    long total = 0;\n                    int count = 0;\n                    int updateUILimiter = 0;\n                    while ((count = input.read(data)) != -1) {\n                        total += count;\n\n                        if (updateUILimiter == 20)\n                            // publishProgress((int) (total * 100 / lenghtOfFile));\n                            updateUILimiter = 0;\n                        else\n                            updateUILimiter++;\n\n                        output.write(data, 0, count);\n\n                        if (isCancelled()) {\n                            output.flush();\n                            output.close();\n                            input.close();\n                            return null;\n                        }\n\n                    }\n                    output.flush();\n                    output.close();\n                    input.close();\n                } catch (Exception e) {\n                    c.imgPATH = \"\";\n                    return null;\n                }\n\n\n            } catch (Exception e) {\n                c.imgPATH = \"\";\n                return null;\n            }\n</code></pre>\n\n<p>Here is the error message: </p>\n\n<blockquote>\n  <p>/mnt/sdcard/tmp/3.png: open failed: EISDIR (Is a directory)</p>\n</blockquote>\n\n<p>Why is this? </p>\n\n<p>\" /mnt/sdcard/tmp/\" exists.</p>\n"},{"tags":["java","macos","docker","docker-java"],"answers":[{"tags":[],"owner":{"account_id":16388247,"reputation":307,"user_id":11837685,"display_name":"Flontis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1565634641,"creation_date":1565634641,"answer_id":57466423,"question_id":57339358,"body_markdown":"Played with the dependencies, downgraded to version 3.0.14 and sticked closely to this guide:\r\nhttps://www.baeldung.com/docker-java-api\r\n\r\ndon&#39;t know why but now it works.","title":"How to run a docker container from within java","body":"<p>Played with the dependencies, downgraded to version 3.0.14 and sticked closely to this guide:\n<a href=\"https://www.baeldung.com/docker-java-api\" rel=\"nofollow noreferrer\">https://www.baeldung.com/docker-java-api</a></p>\n\n<p>don't know why but now it works.</p>\n"},{"tags":[],"owner":{"account_id":3140590,"reputation":1145,"user_id":2656117,"display_name":"Ravi Wadje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665403421,"creation_date":1665403421,"answer_id":74014663,"question_id":57339358,"body_markdown":"I also faced the same issue, but the issue got resolved when I switched to JAVA 8. \r\nThere is an issue with JAVA11 and higher versions. \r\n\r\n[JAVA 11 and Docker-java issue][1]\r\n\r\n\r\n  [1]: https://github.com/bmuschko/gradle-docker-plugin/issues/874","title":"How to run a docker container from within java","body":"<p>I also faced the same issue, but the issue got resolved when I switched to JAVA 8.\nThere is an issue with JAVA11 and higher versions.</p>\n<p><a href=\"https://github.com/bmuschko/gradle-docker-plugin/issues/874\" rel=\"nofollow noreferrer\">JAVA 11 and Docker-java issue</a></p>\n"}],"owner":{"account_id":16388247,"reputation":307,"user_id":11837685,"display_name":"Flontis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2818,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57466423,"answer_count":2,"score":2,"last_activity_date":1665403421,"creation_date":1564843503,"question_id":57339358,"body_markdown":"I want to run the following command from within a Java Eclipse Project:\r\n```\r\ndocker container run -p 4000:5000 virtuprint:vp\r\n``` \r\nwhere `virtuprint:vp` is an image.\r\nI installed the docker-java api from here https://github.com/docker-java/docker-java using all its dependencies via maven.\r\nI am using MacOS, I guess that&#39;s causing my trouble.\r\n\r\nI already read the docs and wikis, and just did some test code to see if it&#39;s running (and of course it&#39;s not.)\r\n\r\n```java\r\nDockerClient dockerClient = DockerClientBuilder.getInstance().build();\r\n\r\n\t\tList&lt;Container&gt; containers = dockerClient.listContainersCmd().exec();\r\n\t\t\r\n\t\tfor(Container c: containers) {\r\n\t\t\tSystem.out.println(c.getId());\r\n\t\t}\r\n```\r\n\r\nSo I just want to print the container-ID in short term. Long term I want to run multiple docker containers on demand from within my java application.\r\nBut if I run the code I get:\r\n\r\n\r\n&gt; java.lang.NoClassDefFoundError: Could not initialize class org.newsclub.net.unix.NativeUnixSocket\r\n\r\n\r\nI guess it&#39;s because he is trying to find unix sockets on places they aren&#39;t, but I neither know where they are nor how to tell him where to find them.","title":"How to run a docker container from within java","body":"<p>I want to run the following command from within a Java Eclipse Project:</p>\n\n<pre><code>docker container run -p 4000:5000 virtuprint:vp\n</code></pre>\n\n<p>where <code>virtuprint:vp</code> is an image.\nI installed the docker-java api from here <a href=\"https://github.com/docker-java/docker-java\" rel=\"nofollow noreferrer\">https://github.com/docker-java/docker-java</a> using all its dependencies via maven.\nI am using MacOS, I guess that's causing my trouble.</p>\n\n<p>I already read the docs and wikis, and just did some test code to see if it's running (and of course it's not.)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>DockerClient dockerClient = DockerClientBuilder.getInstance().build();\n\n        List&lt;Container&gt; containers = dockerClient.listContainersCmd().exec();\n\n        for(Container c: containers) {\n            System.out.println(c.getId());\n        }\n</code></pre>\n\n<p>So I just want to print the container-ID in short term. Long term I want to run multiple docker containers on demand from within my java application.\nBut if I run the code I get:</p>\n\n<blockquote>\n  <p>java.lang.NoClassDefFoundError: Could not initialize class org.newsclub.net.unix.NativeUnixSocket</p>\n</blockquote>\n\n<p>I guess it's because he is trying to find unix sockets on places they aren't, but I neither know where they are nor how to tell him where to find them.</p>\n"},{"tags":["java","wsdl","maven-jaxb2-plugin"],"answers":[{"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665403137,"creation_date":1665403137,"answer_id":74014613,"question_id":63777308,"body_markdown":"Try to setCheckConnectionForFault to false on WebServiceTemplate. For example, replace the method:\r\n\r\n    public &lt;T&gt; T callService(JAXBElement&lt;?&gt; jaxbRequest) {\r\n        jaxbRequest.getValue();\r\n        JAXBElement&lt;T&gt; jaxbResponse;\r\n        try {\r\n            WebServiceTemplate webServiceTemplate = getWebServiceTemplate();\r\n            webServiceTemplate.setCheckConnectionForFault(false);\r\n            jaxbResponse = (JAXBElement&lt;T&gt;) webServiceTemplate.marshalSendAndReceive(jaxbRequest);\r\n        } catch (WebServiceException e) {\r\n            e.printStackTrace();\r\n            throw e;\r\n        }\r\n        return jaxbResponse.getValue();\r\n    }","title":"Getting unexpected element error when trying to communcate to soap client","body":"<p>Try to setCheckConnectionForFault to false on WebServiceTemplate. For example, replace the method:</p>\n<pre><code>public &lt;T&gt; T callService(JAXBElement&lt;?&gt; jaxbRequest) {\n    jaxbRequest.getValue();\n    JAXBElement&lt;T&gt; jaxbResponse;\n    try {\n        WebServiceTemplate webServiceTemplate = getWebServiceTemplate();\n        webServiceTemplate.setCheckConnectionForFault(false);\n        jaxbResponse = (JAXBElement&lt;T&gt;) webServiceTemplate.marshalSendAndReceive(jaxbRequest);\n    } catch (WebServiceException e) {\n        e.printStackTrace();\n        throw e;\n    }\n    return jaxbResponse.getValue();\n}\n</code></pre>\n"}],"owner":{"account_id":5716701,"reputation":419,"user_id":14152014,"display_name":"laban_luka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665403137,"creation_date":1599480375,"question_id":63777308,"body_markdown":"I&#39;m trying to consume wsdl client that can be found on this link https://tim-erp.com/ERPX_WEB/awws/ErpX.awws?wsdl\r\n\r\nMy java code looks like this\r\n\r\n    public class SoapServicesImpl extends WebServiceGatewaySupport implements SoapServices {\r\n    \r\n        @Override\r\n        public String doAuth(AuthDto authDto){\r\n            AuthStrct authStrct = new AuthStrct();\r\n            authStrct.setFirmaNaziv(authDto.getNazivFirme());\r\n            authStrct.setGodina(authDto.getGodina());\r\n            authStrct.setPassword(authDto.getPassword());\r\n            authStrct.setUsername(authDto.getUsername());\r\n            return callService(new ObjectFactory().createAuthStrct(authStrct));\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public &lt;T&gt; T callService(JAXBElement&lt;?&gt; jaxbRequest) {\r\n            jaxbRequest.getValue();\r\n            JAXBElement&lt;T&gt; jaxbResponse;\r\n            try {\r\n                jaxbResponse = (JAXBElement&lt;T&gt;) getWebServiceTemplate().marshalSendAndReceive(jaxbRequest);\r\n            } catch (WebServiceException e) {\r\n                e.printStackTrace();\r\n                throw e;\r\n            }\r\n            return jaxbResponse.getValue();\r\n        }\r\n    \r\n    }\r\n\r\npackage-info looks like this\r\n\r\n    @javax.xml.bind.annotation.XmlSchema(namespace = &quot;urn:ErpX&quot;)\r\n    package rs.sweetchoice.commonservice.generated;\r\nGenerated ObjectFactory snippet:\r\n\r\n       //\r\n    // This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.3.0 \r\n    // See &lt;a href=&quot;https://javaee.github.io/jaxb-v2/&quot;&gt;https://javaee.github.io/jaxb-v2/&lt;/a&gt; \r\n    // Any modifications to this file will be lost upon recompilation of the source schema. \r\n    // Generated on: 2020.09.05 at 01:28:42 PM CEST \r\n    //\r\n    \r\n    \r\n    package rs.sweetchoice.commonservice.generated;\r\n    \r\n    import javax.xml.bind.JAXBElement;\r\n    import javax.xml.bind.annotation.XmlElementDecl;\r\n    import javax.xml.bind.annotation.XmlRegistry;\r\n    import javax.xml.bind.annotation.adapters.HexBinaryAdapter;\r\n    import javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter;\r\n    import javax.xml.namespace.QName;\r\n    \r\n    \r\n    /**\r\n     * This object contains factory methods for each \r\n     * Java content interface and Java element interface \r\n     * generated in the rs.sweetchoice.commonservice.generated package. \r\n     * &lt;p&gt;An ObjectFactory allows you to programatically \r\n     * construct new instances of the Java representation \r\n     * for XML content. The Java representation of XML \r\n     * content can consist of schema derived interfaces \r\n     * and classes representing the binding of schema \r\n     * type definitions, element declarations and model \r\n     * groups.  Factory methods for each of these are \r\n     * provided in this class.\r\n     * \r\n     */\r\n    @XmlRegistry\r\n    public class ObjectFactory {\r\n    \r\n        private final static QName _WSID_QNAME = new QName(&quot;urn:ErpX&quot;, &quot;WSID&quot;);\r\n        private final static QName _AUTH_QNAME = new QName(&quot;urn:ErpX&quot;, &quot;authStrct&quot;);\r\n    \r\n        /**\r\n         * Create a new ObjectFactory that can be used to create new instances of schema derived classes for package: rs.sweetchoice.commonservice.generated\r\n         * \r\n         */\r\n        public ObjectFactory() {\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link AutoCompleteStrct }\r\n         * \r\n         */\r\n        public AutoCompleteStrct createAutoCompleteStrct() {\r\n            return new AutoCompleteStrct();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link KorpaStrct }\r\n         * \r\n         */\r\n        public KorpaStrct createKorpaStrct() {\r\n            return new KorpaStrct();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link CmbStrct }\r\n         * \r\n         */\r\n        public CmbStrct createCmbStrct() {\r\n            return new CmbStrct();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link AuthStrct }\r\n         * \r\n         */\r\n        @XmlElementDecl(namespace = &quot;urn:ErpX&quot;, name = &quot;authStrct&quot;)\r\n        public JAXBElement&lt;AuthStrct&gt; createAuthStrct(AuthStrct value) {\r\n            return new JAXBElement&lt;&gt;(_AUTH_QNAME, AuthStrct.class, null, value);\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link FilterStrct }\r\n         * \r\n         */\r\n        public FilterStrct createFilterStrct() {\r\n            return new FilterStrct();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link ProfakStavStrct }\r\n         * \r\n         */\r\n        public ProfakStavStrct createProfakStavStrct() {\r\n            return new ProfakStavStrct();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link ProfakStrct }\r\n         * \r\n         */\r\n        public ProfakStrct createProfakStrct() {\r\n            return new ProfakStrct();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link RacunStavStrct }\r\n         * \r\n         */\r\n        public RacunStavStrct createRacunStavStrct() {\r\n            return new RacunStavStrct();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link RacunStrct }\r\n         * \r\n         */\r\n        public RacunStrct createRacunStrct() {\r\n            return new RacunStrct();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link UplKomitStrct }\r\n         * \r\n         */\r\n        public UplKomitStrct createUplKomitStrct() {\r\n            return new UplKomitStrct();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link UplListaStavStrct }\r\n         * \r\n         */\r\n        public UplListaStavStrct createUplListaStavStrct() {\r\n            return new UplListaStavStrct();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link UplListaStrct }\r\n         * \r\n         */\r\n        public UplListaStrct createUplListaStrct() {\r\n            return new UplListaStrct();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link WsGetRoba }\r\n         * \r\n         */\r\n        public WsGetRoba createWsGetRoba() {\r\n            return new WsGetRoba();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link WsGetKomit }\r\n         * \r\n         */\r\n        public WsGetKomit createWsGetKomit() {\r\n            return new WsGetKomit();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link WsGetGrpRoba }\r\n         * \r\n         */\r\n        public WsGetGrpRoba createWsGetGrpRoba() {\r\n            return new WsGetGrpRoba();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link WsGetGrpKomit }\r\n         * \r\n         */\r\n        public WsGetGrpKomit createWsGetGrpKomit() {\r\n            return new WsGetGrpKomit();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link WsGetManuf }\r\n         * \r\n         */\r\n        public WsGetManuf createWsGetManuf() {\r\n            return new WsGetManuf();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link WsUplProfak }\r\n         * \r\n         */\r\n        public WsUplProfak createWsUplProfak() {\r\n            return new WsUplProfak();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link WsGetMagacin }\r\n         * \r\n         */\r\n        public WsGetMagacin createWsGetMagacin() {\r\n            return new WsGetMagacin();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link WsGetAkcijskeCene }\r\n         * \r\n         */\r\n        public WsGetAkcijskeCene createWsGetAkcijskeCene() {\r\n            return new WsGetAkcijskeCene();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link WsUplKomit }\r\n         * \r\n         */\r\n        public WsUplKomit createWsUplKomit() {\r\n            return new WsUplKomit();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link WsUplKomitResponse }\r\n         * \r\n         */\r\n        public WsUplKomitResponse createWsUplKomitResponse() {\r\n            return new WsUplKomitResponse();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link WsUplRacun }\r\n         * \r\n         */\r\n        public WsUplRacun createWsUplRacun() {\r\n            return new WsUplRacun();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link JAXBElement }{@code &lt;}{@link byte[]}{@code &gt;}\r\n         * \r\n         * @param value\r\n         *     Java instance representing xml element&#39;s value.\r\n         * @return\r\n         *     the new instance of {@link JAXBElement }{@code &lt;}{@link byte[]}{@code &gt;}\r\n         */\r\n        @XmlElementDecl(namespace = &quot;urn:ErpX&quot;, name = &quot;WSID&quot;)\r\n        @XmlJavaTypeAdapter(HexBinaryAdapter.class)\r\n        public JAXBElement&lt;byte[]&gt; createWSID(byte[] value) {\r\n            return new JAXBElement&lt;byte[]&gt;(_WSID_QNAME, byte[].class, null, ((byte[]) value));\r\n        }\r\n    \r\n    }\r\n\r\n\r\nAnd i get error\r\n\r\n ***javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, local:&quot;Fault&quot;). Expected elements are &lt;{urn:ErpX}WSID&gt;,&lt;{urn:ErpX}authStrct&gt;***\r\n\r\nUsing java 11 and spring boot 2.3.3.\r\n\r\n**EDIT** this is my config class\r\n\r\n\r\n    @Configuration\r\n    public class WsConfig {\r\n        @Bean\r\n        public Jaxb2Marshaller marshaller() {\r\n            Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n            marshaller.setContextPath(&quot;rs.sweetchoice.commonservice.generated&quot;);\r\n            return marshaller;\r\n        }\r\n        @Bean\r\n        public SoapServicesImpl soapServicesImpl(Jaxb2Marshaller marshaller) {\r\n            SoapServicesImpl client = new SoapServicesImpl();\r\n            client.setDefaultUri(&quot;https://tim-erp.com/ERPX_WEB/awws/ErpX.awws&quot;);\r\n            client.setMarshaller(marshaller);\r\n            client.setUnmarshaller(marshaller);\r\n            return client;\r\n        }\r\n    }\r\n","title":"Getting unexpected element error when trying to communcate to soap client","body":"<p>I'm trying to consume wsdl client that can be found on this link <a href=\"https://tim-erp.com/ERPX_WEB/awws/ErpX.awws?wsdl\" rel=\"nofollow noreferrer\">https://tim-erp.com/ERPX_WEB/awws/ErpX.awws?wsdl</a></p>\n<p>My java code looks like this</p>\n<pre><code>public class SoapServicesImpl extends WebServiceGatewaySupport implements SoapServices {\n\n    @Override\n    public String doAuth(AuthDto authDto){\n        AuthStrct authStrct = new AuthStrct();\n        authStrct.setFirmaNaziv(authDto.getNazivFirme());\n        authStrct.setGodina(authDto.getGodina());\n        authStrct.setPassword(authDto.getPassword());\n        authStrct.setUsername(authDto.getUsername());\n        return callService(new ObjectFactory().createAuthStrct(authStrct));\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public &lt;T&gt; T callService(JAXBElement&lt;?&gt; jaxbRequest) {\n        jaxbRequest.getValue();\n        JAXBElement&lt;T&gt; jaxbResponse;\n        try {\n            jaxbResponse = (JAXBElement&lt;T&gt;) getWebServiceTemplate().marshalSendAndReceive(jaxbRequest);\n        } catch (WebServiceException e) {\n            e.printStackTrace();\n            throw e;\n        }\n        return jaxbResponse.getValue();\n    }\n\n}\n</code></pre>\n<p>package-info looks like this</p>\n<pre><code>@javax.xml.bind.annotation.XmlSchema(namespace = &quot;urn:ErpX&quot;)\npackage rs.sweetchoice.commonservice.generated;\n</code></pre>\n<p>Generated ObjectFactory snippet:</p>\n<pre><code>   //\n// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.3.0 \n// See &lt;a href=&quot;https://javaee.github.io/jaxb-v2/&quot;&gt;https://javaee.github.io/jaxb-v2/&lt;/a&gt; \n// Any modifications to this file will be lost upon recompilation of the source schema. \n// Generated on: 2020.09.05 at 01:28:42 PM CEST \n//\n\n\npackage rs.sweetchoice.commonservice.generated;\n\nimport javax.xml.bind.JAXBElement;\nimport javax.xml.bind.annotation.XmlElementDecl;\nimport javax.xml.bind.annotation.XmlRegistry;\nimport javax.xml.bind.annotation.adapters.HexBinaryAdapter;\nimport javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter;\nimport javax.xml.namespace.QName;\n\n\n/**\n * This object contains factory methods for each \n * Java content interface and Java element interface \n * generated in the rs.sweetchoice.commonservice.generated package. \n * &lt;p&gt;An ObjectFactory allows you to programatically \n * construct new instances of the Java representation \n * for XML content. The Java representation of XML \n * content can consist of schema derived interfaces \n * and classes representing the binding of schema \n * type definitions, element declarations and model \n * groups.  Factory methods for each of these are \n * provided in this class.\n * \n */\n@XmlRegistry\npublic class ObjectFactory {\n\n    private final static QName _WSID_QNAME = new QName(&quot;urn:ErpX&quot;, &quot;WSID&quot;);\n    private final static QName _AUTH_QNAME = new QName(&quot;urn:ErpX&quot;, &quot;authStrct&quot;);\n\n    /**\n     * Create a new ObjectFactory that can be used to create new instances of schema derived classes for package: rs.sweetchoice.commonservice.generated\n     * \n     */\n    public ObjectFactory() {\n    }\n\n    /**\n     * Create an instance of {@link AutoCompleteStrct }\n     * \n     */\n    public AutoCompleteStrct createAutoCompleteStrct() {\n        return new AutoCompleteStrct();\n    }\n\n    /**\n     * Create an instance of {@link KorpaStrct }\n     * \n     */\n    public KorpaStrct createKorpaStrct() {\n        return new KorpaStrct();\n    }\n\n    /**\n     * Create an instance of {@link CmbStrct }\n     * \n     */\n    public CmbStrct createCmbStrct() {\n        return new CmbStrct();\n    }\n\n    /**\n     * Create an instance of {@link AuthStrct }\n     * \n     */\n    @XmlElementDecl(namespace = &quot;urn:ErpX&quot;, name = &quot;authStrct&quot;)\n    public JAXBElement&lt;AuthStrct&gt; createAuthStrct(AuthStrct value) {\n        return new JAXBElement&lt;&gt;(_AUTH_QNAME, AuthStrct.class, null, value);\n    }\n\n    /**\n     * Create an instance of {@link FilterStrct }\n     * \n     */\n    public FilterStrct createFilterStrct() {\n        return new FilterStrct();\n    }\n\n    /**\n     * Create an instance of {@link ProfakStavStrct }\n     * \n     */\n    public ProfakStavStrct createProfakStavStrct() {\n        return new ProfakStavStrct();\n    }\n\n    /**\n     * Create an instance of {@link ProfakStrct }\n     * \n     */\n    public ProfakStrct createProfakStrct() {\n        return new ProfakStrct();\n    }\n\n    /**\n     * Create an instance of {@link RacunStavStrct }\n     * \n     */\n    public RacunStavStrct createRacunStavStrct() {\n        return new RacunStavStrct();\n    }\n\n    /**\n     * Create an instance of {@link RacunStrct }\n     * \n     */\n    public RacunStrct createRacunStrct() {\n        return new RacunStrct();\n    }\n\n    /**\n     * Create an instance of {@link UplKomitStrct }\n     * \n     */\n    public UplKomitStrct createUplKomitStrct() {\n        return new UplKomitStrct();\n    }\n\n    /**\n     * Create an instance of {@link UplListaStavStrct }\n     * \n     */\n    public UplListaStavStrct createUplListaStavStrct() {\n        return new UplListaStavStrct();\n    }\n\n    /**\n     * Create an instance of {@link UplListaStrct }\n     * \n     */\n    public UplListaStrct createUplListaStrct() {\n        return new UplListaStrct();\n    }\n\n    /**\n     * Create an instance of {@link WsGetRoba }\n     * \n     */\n    public WsGetRoba createWsGetRoba() {\n        return new WsGetRoba();\n    }\n\n    /**\n     * Create an instance of {@link WsGetKomit }\n     * \n     */\n    public WsGetKomit createWsGetKomit() {\n        return new WsGetKomit();\n    }\n\n    /**\n     * Create an instance of {@link WsGetGrpRoba }\n     * \n     */\n    public WsGetGrpRoba createWsGetGrpRoba() {\n        return new WsGetGrpRoba();\n    }\n\n    /**\n     * Create an instance of {@link WsGetGrpKomit }\n     * \n     */\n    public WsGetGrpKomit createWsGetGrpKomit() {\n        return new WsGetGrpKomit();\n    }\n\n    /**\n     * Create an instance of {@link WsGetManuf }\n     * \n     */\n    public WsGetManuf createWsGetManuf() {\n        return new WsGetManuf();\n    }\n\n    /**\n     * Create an instance of {@link WsUplProfak }\n     * \n     */\n    public WsUplProfak createWsUplProfak() {\n        return new WsUplProfak();\n    }\n\n    /**\n     * Create an instance of {@link WsGetMagacin }\n     * \n     */\n    public WsGetMagacin createWsGetMagacin() {\n        return new WsGetMagacin();\n    }\n\n    /**\n     * Create an instance of {@link WsGetAkcijskeCene }\n     * \n     */\n    public WsGetAkcijskeCene createWsGetAkcijskeCene() {\n        return new WsGetAkcijskeCene();\n    }\n\n    /**\n     * Create an instance of {@link WsUplKomit }\n     * \n     */\n    public WsUplKomit createWsUplKomit() {\n        return new WsUplKomit();\n    }\n\n    /**\n     * Create an instance of {@link WsUplKomitResponse }\n     * \n     */\n    public WsUplKomitResponse createWsUplKomitResponse() {\n        return new WsUplKomitResponse();\n    }\n\n    /**\n     * Create an instance of {@link WsUplRacun }\n     * \n     */\n    public WsUplRacun createWsUplRacun() {\n        return new WsUplRacun();\n    }\n\n    /**\n     * Create an instance of {@link JAXBElement }{@code &lt;}{@link byte[]}{@code &gt;}\n     * \n     * @param value\n     *     Java instance representing xml element's value.\n     * @return\n     *     the new instance of {@link JAXBElement }{@code &lt;}{@link byte[]}{@code &gt;}\n     */\n    @XmlElementDecl(namespace = &quot;urn:ErpX&quot;, name = &quot;WSID&quot;)\n    @XmlJavaTypeAdapter(HexBinaryAdapter.class)\n    public JAXBElement&lt;byte[]&gt; createWSID(byte[] value) {\n        return new JAXBElement&lt;byte[]&gt;(_WSID_QNAME, byte[].class, null, ((byte[]) value));\n    }\n\n}\n</code></pre>\n<p>And i get error</p>\n<p><em><strong>javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, local:&quot;Fault&quot;). Expected elements are &lt;{urn:ErpX}WSID&gt;,&lt;{urn:ErpX}authStrct&gt;</strong></em></p>\n<p>Using java 11 and spring boot 2.3.3.</p>\n<p><strong>EDIT</strong> this is my config class</p>\n<pre><code>@Configuration\npublic class WsConfig {\n    @Bean\n    public Jaxb2Marshaller marshaller() {\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n        marshaller.setContextPath(&quot;rs.sweetchoice.commonservice.generated&quot;);\n        return marshaller;\n    }\n    @Bean\n    public SoapServicesImpl soapServicesImpl(Jaxb2Marshaller marshaller) {\n        SoapServicesImpl client = new SoapServicesImpl();\n        client.setDefaultUri(&quot;https://tim-erp.com/ERPX_WEB/awws/ErpX.awws&quot;);\n        client.setMarshaller(marshaller);\n        client.setUnmarshaller(marshaller);\n        return client;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":26552100,"reputation":470,"user_id":20181249,"display_name":"Sandeep Kumar Nat"},"score":0,"creation_date":1665401269,"post_id":74014145,"comment_id":130684112,"body_markdown":"where have you put your thymleaf file","body":"where have you put your thymleaf file"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1665404774,"post_id":74014145,"comment_id":130685293,"body_markdown":"Post your full error... I doubt it is an actual error but rather an INFO or WARNING indicating that it tries to find an `error.html` but doesn&#39;t find it (and this is the warning that gets log).","body":"Post your full error... I doubt it is an actual error but rather an INFO or WARNING indicating that it tries to find an <code>error.html</code> but doesn&#39;t find it (and this is the warning that gets log)."},{"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"score":0,"creation_date":1665563434,"post_id":74014145,"comment_id":130727504,"body_markdown":"Update! After adding the error.html file in the src-&gt;main-&gt;resources-&gt;templates-&gt;error folder the exception is gone. But now the swagger doesnt load and the error.html page loads by default. i have no stacktrace for the same in the console log as no error is printed","body":"Update! After adding the error.html file in the src-&gt;main-&gt;resources-&gt;templates-&gt;error folder the exception is gone. But now the swagger doesnt load and the error.html page loads by default. i have no stacktrace for the same in the console log as no error is printed"}],"answers":[{"tags":[],"owner":{"account_id":13331423,"reputation":391,"user_id":10441871,"display_name":"Shyam Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665403106,"creation_date":1665403106,"answer_id":74014609,"question_id":74014145,"body_markdown":"Make sure to put html/thymeleaf files inside\r\n``` src-&gt;main-&gt;resources-&gt;templates-&gt; YOUR_HTML files ```\r\n\r\nalso check in your pom.xml, that thymleaf has been added\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n","title":"Thymeleaf unable to find template folder with error : class path resource [templates/error] cannot be opened because it does not exist","body":"<p>Make sure to put html/thymeleaf files inside\n<code>src-&gt;main-&gt;resources-&gt;templates-&gt; YOUR_HTML files</code></p>\n<p>also check in your pom.xml, that thymleaf has been added</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665403106,"creation_date":1665400961,"question_id":74014145,"body_markdown":"While trying to load the swagger ui im getting the following error from the application:\r\n\r\n```\r\nCaused by: java.io.FileNotFoundException: class path resource [templates/error] cannot be opened because it does not exist\r\n\tat org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199) ~[spring-core-5.3.20.jar:5.3.20]\r\n\tat org.thymeleaf.spring5.templateresource.SpringResourceTemplateResource.reader(SpringResourceTemplateResource.java:103) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:223) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\r\n\t... 90 common frames omitted\r\n```\r\n\r\nthe dependency im using :\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n      &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.15.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nthis is happening after the spring boot version was updated, the previous version didnt show this issue.\r\n\r\nAlso my \r\n\r\n&gt; src/main/resources/templates\r\n\r\n folder did not have any error folder before the upgrade as well.\r\n\r\nWould appreciate if anyone knows why is this happening?","title":"Thymeleaf unable to find template folder with error : class path resource [templates/error] cannot be opened because it does not exist","body":"<p>While trying to load the swagger ui im getting the following error from the application:</p>\n<pre><code>Caused by: java.io.FileNotFoundException: class path resource [templates/error] cannot be opened because it does not exist\n    at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199) ~[spring-core-5.3.20.jar:5.3.20]\n    at org.thymeleaf.spring5.templateresource.SpringResourceTemplateResource.reader(SpringResourceTemplateResource.java:103) ~[thymeleaf-spring5-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:223) ~[thymeleaf-3.0.15.RELEASE.jar:3.0.15.RELEASE]\n    ... 90 common frames omitted\n</code></pre>\n<p>the dependency im using :</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n      &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\n      &lt;version&gt;3.0.15.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>this is happening after the spring boot version was updated, the previous version didnt show this issue.</p>\n<p>Also my</p>\n<blockquote>\n<p>src/main/resources/templates</p>\n</blockquote>\n<p>folder did not have any error folder before the upgrade as well.</p>\n<p>Would appreciate if anyone knows why is this happening?</p>\n"},{"tags":["java","class","package"],"comments":[{"owner":{"account_id":22641305,"reputation":111,"user_id":16817370,"display_name":"YUNG FOOK YONG"},"score":0,"creation_date":1665398203,"post_id":74013463,"comment_id":130683134,"body_markdown":"This might sound dumb but did you try restarting your IDE? Sometimes the IDE have delay in recognizing the new class you created.","body":"This might sound dumb but did you try restarting your IDE? Sometimes the IDE have delay in recognizing the new class you created."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665398334,"post_id":74013463,"comment_id":130683177,"body_markdown":"`java test/Hello.java`","body":"<code>java test&#47;Hello.java</code>"},{"owner":{"account_id":26578842,"reputation":93,"user_id":20203803,"display_name":"Jonas"},"score":0,"creation_date":1665398777,"post_id":74013463,"comment_id":130683325,"body_markdown":"@YUNGFOOKYONG I just did it and it didn&#39;t solve it","body":"@YUNGFOOKYONG I just did it and it didn&#39;t solve it"},{"owner":{"account_id":22641305,"reputation":111,"user_id":16817370,"display_name":"YUNG FOOK YONG"},"score":0,"creation_date":1665398915,"post_id":74013463,"comment_id":130683372,"body_markdown":"@JonasOliveiraPereira Well on my side, I recreated a package and added both of your files inside, and it is able to run with no error, can you add a screenshot of your IDE and your package?","body":"@JonasOliveiraPereira Well on my side, I recreated a package and added both of your files inside, and it is able to run with no error, can you add a screenshot of your IDE and your package?"},{"owner":{"account_id":26578842,"reputation":93,"user_id":20203803,"display_name":"Jonas"},"score":0,"creation_date":1665399042,"post_id":74013463,"comment_id":130683408,"body_markdown":"@knittl I am in test directory when I try to run it. Just tried this command inside it and it gives me &quot;Error: Could not find or load main class test.Hello.java  \nCaused by: java.lang.ClassNotFoundException: test.Hello.java&quot;. \nI tried also in the parent directory and it gave the same error I showed in the question","body":"@knittl I am in test directory when I try to run it. Just tried this command inside it and it gives me &quot;Error: Could not find or load main class test.Hello.java   Caused by: java.lang.ClassNotFoundException: test.Hello.java&quot;.  I tried also in the parent directory and it gave the same error I showed in the question"},{"owner":{"account_id":26578842,"reputation":93,"user_id":20203803,"display_name":"Jonas"},"score":0,"creation_date":1665399777,"post_id":74013463,"comment_id":130683642,"body_markdown":"@YUNGFOOKYONG I just included a picture of my IDE at the bottom of my question","body":"@YUNGFOOKYONG I just included a picture of my IDE at the bottom of my question"},{"owner":{"account_id":22641305,"reputation":111,"user_id":16817370,"display_name":"YUNG FOOK YONG"},"score":0,"creation_date":1665399973,"post_id":74013463,"comment_id":130683698,"body_markdown":"@JonasOliveiraPereira I strongly believe that this is caused by your compiler, try restarting PC or simply try it again later.","body":"@JonasOliveiraPereira I strongly believe that this is caused by your compiler, try restarting PC or simply try it again later."},{"owner":{"account_id":26578842,"reputation":93,"user_id":20203803,"display_name":"Jonas"},"score":0,"creation_date":1665401118,"post_id":74013463,"comment_id":130684057,"body_markdown":"@YUNGFOOKYONG I just installed Eclipse and ran on it and it worked. Don&#39;t know why but I guess I&#39;ll have to use Eclipse for java by now. Thanks :)","body":"@YUNGFOOKYONG I just installed Eclipse and ran on it and it worked. Don&#39;t know why but I guess I&#39;ll have to use Eclipse for java by now. Thanks :)"}],"owner":{"account_id":26578842,"reputation":93,"user_id":20203803,"display_name":"Jonas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665402976,"creation_date":1665397671,"question_id":74013463,"body_markdown":"I have two classes in the same &quot;test&quot; directory.\r\n\r\n    package test;\r\n    public class Human {\r\n        String name;\r\n        public Human(String name) {\r\n            this.name = name;\r\n        }\r\n        public void speak() {\r\n            System.out.println(name + &quot;: hello!&quot;);\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    package test;\r\n    //import test.Human &lt;- have tried this\r\n    public class Hello {\r\n        public static void main(String[] args) {\r\n            Human bia = new Human(&quot;bia&quot;);\r\n            //test.Human bia = new test.Human(&quot;bia&quot;); &lt;- have tried this\r\n            bia.speak();\r\n        }\r\n    }\r\n\r\nWhen I try to run it with `java Hello.java`, it gives me\r\n\r\n    Hello.java:4: error: cannot find symbol\r\n    \r\n     Human bia = new Human(&quot;bia&quot;);\r\n    \r\n     ^   symbol:   class Human   \r\n    \r\n     location: class Hello\r\n\r\nI also tried to run all the other versions with `java test.Hello.java` but it also doesnt work, giving me\r\n\r\n&gt; Error: Could not find or load main class test.Hello.java\r\nCaused by: java.lang.ClassNotFoundException: test.Hello.java\r\n\r\n[Picture of my IDE][1]\r\n\r\nAlso, I just found that it compiles and runs on Eclipse, but not on VS Code.\r\n\r\n  [1]: https://i.stack.imgur.com/zovVz.png\r\n","title":"Why is a class not being reckognized even though it is in the same package of the one I&#39;m running?","body":"<p>I have two classes in the same &quot;test&quot; directory.</p>\n<pre><code>package test;\npublic class Human {\n    String name;\n    public Human(String name) {\n        this.name = name;\n    }\n    public void speak() {\n        System.out.println(name + &quot;: hello!&quot;);\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>package test;\n//import test.Human &lt;- have tried this\npublic class Hello {\n    public static void main(String[] args) {\n        Human bia = new Human(&quot;bia&quot;);\n        //test.Human bia = new test.Human(&quot;bia&quot;); &lt;- have tried this\n        bia.speak();\n    }\n}\n</code></pre>\n<p>When I try to run it with <code>java Hello.java</code>, it gives me</p>\n<pre><code>Hello.java:4: error: cannot find symbol\n\n Human bia = new Human(&quot;bia&quot;);\n\n ^   symbol:   class Human   \n\n location: class Hello\n</code></pre>\n<p>I also tried to run all the other versions with <code>java test.Hello.java</code> but it also doesnt work, giving me</p>\n<blockquote>\n<p>Error: Could not find or load main class test.Hello.java\nCaused by: java.lang.ClassNotFoundException: test.Hello.java</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/zovVz.png\" rel=\"nofollow noreferrer\">Picture of my IDE</a></p>\n<p>Also, I just found that it compiles and runs on Eclipse, but not on VS Code.</p>\n"},{"tags":["java","mongodb","amazon-web-services","spring-boot","aws-documentdb"],"comments":[{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1665403752,"post_id":74014528,"comment_id":130684957,"body_markdown":"Check your security groups, so that your EC2 instance can reach the DocumentDB cluster on that port","body":"Check your security groups, so that your EC2 instance can reach the DocumentDB cluster on that port"},{"owner":{"account_id":24287687,"reputation":366,"user_id":18233221,"display_name":"Mihai A"},"score":0,"creation_date":1670333038,"post_id":74014528,"comment_id":131848150,"body_markdown":"Java code looks okay to me, as a previous user mentioned, can you check security groups and see if you can connect with mongo client from the EC2 instance?","body":"Java code looks okay to me, as a previous user mentioned, can you check security groups and see if you can connect with mongo client from the EC2 instance?"}],"owner":{"account_id":2643995,"reputation":267,"user_id":2287094,"accept_rate":50,"display_name":"user2287094"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665402774,"creation_date":1665402774,"question_id":74014528,"body_markdown":"I&#39;m trying to connect programatically to the Amazon AWS DocumentDB but I receive connect timed out. \r\n\r\nI deployed my spring boot app to the EC2. The EC2 is in the same VPC as my DocumentDB cluster.\r\n\r\nMongoDB setup\r\n\r\n```\r\nCluster identifier: mongodb\r\nInstance identifier: mongodb ( available )\r\nRegion &amp; AZ:  us-east-1c\r\nAvailability zone: us-east-1c\r\nEngine version: 4.0.0\r\n1 Instance: db.t3.medium\r\nVPC Name (ID):  vpc-07630******afaa6\r\nInstance endpoint: mongodb.ceupui6czrsm.us-east-1.docdb.amazonaws.com\r\nUsername: admininstrator\r\nPort: 27017\r\nCertificate authority: rds-ca-2019\r\nSecurity groups: sg-056d8***75f70ff1\r\n```\r\n\r\n\r\n\r\nEC2 instance\r\n\r\n```\r\nAvailability Zone: us-east-1c\r\nVPC ID:   vpc-07630******afaa6\r\n```\r\n\r\n\r\n\r\nI copied the jar and the pem file to the EC2 instance, in the same directory:\r\n\r\n```\r\n$ ls\r\ndocumentdbmongo-0.0.1-SNAPSHOT.jar  rds-ca-2019-root.pem\r\n```\r\n\r\n\r\nAnd I started as: \r\n```\r\n$ java -jar documentdbmongo-0.0.1-SNAPSHOT.jar\r\n```\r\n\r\n\r\nThe error is always the same, connect timed out:\r\n\r\n```\r\nNFO 4524 --- [onaws.com:27017] org.mongodb.driver.cluster               : \r\nException in monitor thread while connecting to server mongodb.ceupui6czrsm.us-east-1.docdb.amazonaws.com:27017\r\n\r\ncom.mongodb.MongoSocketOpenException: Exception opening socket\r\n\tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.6.1.jar!/:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:180) ~[mongodb-driver-core-4.6.1.jar!/:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193) ~[mongodb-driver-core-4.6.1.jar!/:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157) ~[mongodb-driver-core-4.6.1.jar!/:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\nCaused by: java.net.SocketTimeoutException: connect timed out\r\n\tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\r\n\tat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\r\n\tat java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:305) ~[na:na]\r\n\tat com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.6.1.jar!/:na]\r\n\tat com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.6.1.jar!/:na]\r\n\tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.6.1.jar!/:na]\r\n\r\n\r\n```\r\n\r\nLog from the Mongo:\r\n```\r\norg.mongodb.driver.client                : \r\nMongoClient with metadata {&quot;driver&quot;: \r\n{&quot;name&quot;: &quot;mongo-java-driver|sync&quot;, &quot;version&quot;: &quot;4.6.1&quot;}, \r\n&quot;os&quot;: {&quot;type&quot;: &quot;Linux&quot;, &quot;name&quot;: &quot;Linux&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;5.10.135-122.509.amzn2.x86_64&quot;}, &quot;platform&quot;: &quot;Java/Red Hat, Inc./11.0.16+8-LTS&quot;} created with settings \r\nMongoClientSettings{readPreference=ReadPreference{name=secondaryPreferred, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=false, retryReads=true, readConcern=ReadConcern{level=null}, credential=\r\n\r\nMongoCredential{mechanism=null, userName=&#39;admininstrator&#39;, source=&#39;mongodb&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@5398edd0]}, \r\n\r\nclusterSettings={hosts=[mongodb.ceupui6czrsm.us-east-1.docdb.amazonaws.com:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName=&#39;null&#39;, serverSelector=&#39;null&#39;, clusterListeners=&#39;[]&#39;, serverSelectionTimeout=&#39;30000 ms&#39;, localThreshold=&#39;30000 ms&#39;}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=\r\nSocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, \r\nserverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners=&#39;[]&#39;, serverMonitorListeners=&#39;[]&#39;}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName=&#39;null&#39;, compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\r\n\r\n```\r\n\r\n\r\nThe config class:\r\n\r\n```\r\nimport com.mongodb.MongoClientSettings;\r\nimport com.mongodb.MongoCredential;\r\nimport com.mongodb.ReadPreference;\r\nimport com.mongodb.ServerAddress;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoClients;\r\nimport com.mongodb.connection.ConnectionPoolSettings;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.InputStream;\r\nimport java.security.KeyStore;\r\nimport java.security.cert.CertificateFactory;\r\nimport java.security.cert.X509Certificate;\r\nimport java.util.Arrays;\r\nimport java.util.Objects;\r\n\r\n@Slf4j\r\n@Configuration\r\npublic class MongoConfig {\r\n\r\n\r\n    public static final String SSL_CERTIFICATE = &quot;rds-ca-2019-root.pem&quot;;\r\n    public static final String KEY_STORE_TYPE = &quot;JKS&quot;;\r\n    public static final String KEY_STORE_PROVIDER = &quot;SUN&quot;;\r\n    public static final String KEY_STORE_FILE_PREFIX = &quot;sys-connect-via-ssl-test-cacerts&quot;;\r\n    public static final String KEY_STORE_FILE_SUFFIX = &quot;.jks&quot;;\r\n    public static final String DEFAULT_KEY_STORE_PASSWORD = &quot;changeit&quot;;\r\n\r\n\r\n    public static String userName = &quot;admininstrator&quot;;\r\n    public static String databaseName = &quot;mongodb&quot;;\r\n\r\n    public static String password = &quot;p****&quot;;\r\n\r\n    public static String clusterEndPoint = &quot;mongodb.ceupui6czrsm.us-east-1.docdb.amazonaws.com&quot;;\r\n\r\n\r\n    @Bean\r\n    public MongoClient mongoClient() throws Exception {\r\n\r\n\r\n        setSslProperties();\r\n\r\n\r\n\r\n        final MongoCredential credential = MongoCredential.createCredential(userName, databaseName, password.toCharArray());\r\n\r\n        final MongoClientSettings settings = MongoClientSettings.builder()\r\n                                                                .credential(credential)\r\n                                                                .readPreference(ReadPreference.secondaryPreferred())\r\n                                                                .retryWrites(false)\r\n                                                                .applyToSslSettings(builder -&gt; builder.enabled(true))\r\n                                                                .applyToConnectionPoolSettings(connPoolBuilder -&gt;\r\n                                                                                                    ConnectionPoolSettings.builder()\r\n                                                                                                                    .   maxSize(1).build()\r\n                                                                                            )\r\n                                                                .applyToClusterSettings(builder -&gt;\r\n                                                                        builder.hosts(Arrays.asList(new ServerAddress(clusterEndPoint, 27017))\r\n                                                                        )\r\n                                                                )\r\n                                                                .build();\r\n\r\n        log.info(&quot;MongoClientSettings successfull. Returning MongoClient&quot;);\r\n\r\n        return MongoClients.create(settings);\r\n    }\r\n\r\n\r\n    /**\r\n     * This method sets the SSL properties which specify the key store file, its type and password.\r\n     *\r\n     * @throws Exception\r\n     */\r\n    private static void setSslProperties() throws Exception {\r\n\r\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, createKeyStoreFile());\r\n        System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, KEY_STORE_TYPE);\r\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, DEFAULT_KEY_STORE_PASSWORD);\r\n    }\r\n\r\n    /**\r\n     * This method returns the path of the Key Store File needed for the SSL verification during the IAM Database Authentication to\r\n     * the db instance.\r\n     *\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    private static String createKeyStoreFile() throws Exception {\r\n        return createKeyStoreFile(createCertificate()).getPath();\r\n    }\r\n\r\n    /**\r\n     * This method generates the SSL certificate.\r\n     *\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    private static X509Certificate createCertificate() throws Exception {\r\n\r\n        final CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\r\n        final ClassLoader classLoader = MongoConfig.class.getClassLoader();\r\n        final InputStream is = classLoader.getResourceAsStream(SSL_CERTIFICATE);\r\n\r\n        if (Objects.isNull(is)) {\r\n            throw new Exception(&quot;SSL_CERTIFICATE settings error&quot;);\r\n        }\r\n\r\n        return (X509Certificate) certFactory.generateCertificate(is);\r\n    }\r\n\r\n    /**\r\n     * This method creates the Key Store File.\r\n     *\r\n     * @param rootX509Certificate - the SSL certificate to be stored in the KeyStore\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    private static File createKeyStoreFile(final X509Certificate rootX509Certificate) throws Exception {\r\n        final File keyStoreFile = File.createTempFile(KEY_STORE_FILE_PREFIX, KEY_STORE_FILE_SUFFIX);\r\n        try (final FileOutputStream fos = new FileOutputStream(keyStoreFile.getPath())) {\r\n            final KeyStore ks = KeyStore.getInstance(KEY_STORE_TYPE, KEY_STORE_PROVIDER);\r\n            ks.load(null);\r\n            ks.setCertificateEntry(&quot;rootCaCertificate&quot;, rootX509Certificate);\r\n            ks.store(fos, DEFAULT_KEY_STORE_PASSWORD.toCharArray());\r\n        }\r\n        return keyStoreFile;\r\n    }\r\n}\r\n```\r\n\r\n","title":"DocumentDB connect timed out from EC2 spring boot app","body":"<p>I'm trying to connect programatically to the Amazon AWS DocumentDB but I receive connect timed out.</p>\n<p>I deployed my spring boot app to the EC2. The EC2 is in the same VPC as my DocumentDB cluster.</p>\n<p>MongoDB setup</p>\n<pre><code>Cluster identifier: mongodb\nInstance identifier: mongodb ( available )\nRegion &amp; AZ:  us-east-1c\nAvailability zone: us-east-1c\nEngine version: 4.0.0\n1 Instance: db.t3.medium\nVPC Name (ID):  vpc-07630******afaa6\nInstance endpoint: mongodb.ceupui6czrsm.us-east-1.docdb.amazonaws.com\nUsername: admininstrator\nPort: 27017\nCertificate authority: rds-ca-2019\nSecurity groups: sg-056d8***75f70ff1\n</code></pre>\n<p>EC2 instance</p>\n<pre><code>Availability Zone: us-east-1c\nVPC ID:   vpc-07630******afaa6\n</code></pre>\n<p>I copied the jar and the pem file to the EC2 instance, in the same directory:</p>\n<pre><code>$ ls\ndocumentdbmongo-0.0.1-SNAPSHOT.jar  rds-ca-2019-root.pem\n</code></pre>\n<p>And I started as:</p>\n<pre><code>$ java -jar documentdbmongo-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>The error is always the same, connect timed out:</p>\n<pre><code>NFO 4524 --- [onaws.com:27017] org.mongodb.driver.cluster               : \nException in monitor thread while connecting to server mongodb.ceupui6czrsm.us-east-1.docdb.amazonaws.com:27017\n\ncom.mongodb.MongoSocketOpenException: Exception opening socket\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.6.1.jar!/:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:180) ~[mongodb-driver-core-4.6.1.jar!/:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193) ~[mongodb-driver-core-4.6.1.jar!/:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157) ~[mongodb-driver-core-4.6.1.jar!/:na]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\nCaused by: java.net.SocketTimeoutException: connect timed out\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\n    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\n    at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:305) ~[na:na]\n    at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.6.1.jar!/:na]\n    at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.6.1.jar!/:na]\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.6.1.jar!/:na]\n\n\n</code></pre>\n<p>Log from the Mongo:</p>\n<pre><code>org.mongodb.driver.client                : \nMongoClient with metadata {&quot;driver&quot;: \n{&quot;name&quot;: &quot;mongo-java-driver|sync&quot;, &quot;version&quot;: &quot;4.6.1&quot;}, \n&quot;os&quot;: {&quot;type&quot;: &quot;Linux&quot;, &quot;name&quot;: &quot;Linux&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;5.10.135-122.509.amzn2.x86_64&quot;}, &quot;platform&quot;: &quot;Java/Red Hat, Inc./11.0.16+8-LTS&quot;} created with settings \nMongoClientSettings{readPreference=ReadPreference{name=secondaryPreferred, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=false, retryReads=true, readConcern=ReadConcern{level=null}, credential=\n\nMongoCredential{mechanism=null, userName='admininstrator', source='mongodb', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@5398edd0]}, \n\nclusterSettings={hosts=[mongodb.ceupui6czrsm.us-east-1.docdb.amazonaws.com:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=\nSocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, \nserverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\n\n</code></pre>\n<p>The config class:</p>\n<pre><code>import com.mongodb.MongoClientSettings;\nimport com.mongodb.MongoCredential;\nimport com.mongodb.ReadPreference;\nimport com.mongodb.ServerAddress;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport com.mongodb.connection.ConnectionPoolSettings;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.InputStream;\nimport java.security.KeyStore;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\nimport java.util.Arrays;\nimport java.util.Objects;\n\n@Slf4j\n@Configuration\npublic class MongoConfig {\n\n\n    public static final String SSL_CERTIFICATE = &quot;rds-ca-2019-root.pem&quot;;\n    public static final String KEY_STORE_TYPE = &quot;JKS&quot;;\n    public static final String KEY_STORE_PROVIDER = &quot;SUN&quot;;\n    public static final String KEY_STORE_FILE_PREFIX = &quot;sys-connect-via-ssl-test-cacerts&quot;;\n    public static final String KEY_STORE_FILE_SUFFIX = &quot;.jks&quot;;\n    public static final String DEFAULT_KEY_STORE_PASSWORD = &quot;changeit&quot;;\n\n\n    public static String userName = &quot;admininstrator&quot;;\n    public static String databaseName = &quot;mongodb&quot;;\n\n    public static String password = &quot;p****&quot;;\n\n    public static String clusterEndPoint = &quot;mongodb.ceupui6czrsm.us-east-1.docdb.amazonaws.com&quot;;\n\n\n    @Bean\n    public MongoClient mongoClient() throws Exception {\n\n\n        setSslProperties();\n\n\n\n        final MongoCredential credential = MongoCredential.createCredential(userName, databaseName, password.toCharArray());\n\n        final MongoClientSettings settings = MongoClientSettings.builder()\n                                                                .credential(credential)\n                                                                .readPreference(ReadPreference.secondaryPreferred())\n                                                                .retryWrites(false)\n                                                                .applyToSslSettings(builder -&gt; builder.enabled(true))\n                                                                .applyToConnectionPoolSettings(connPoolBuilder -&gt;\n                                                                                                    ConnectionPoolSettings.builder()\n                                                                                                                    .   maxSize(1).build()\n                                                                                            )\n                                                                .applyToClusterSettings(builder -&gt;\n                                                                        builder.hosts(Arrays.asList(new ServerAddress(clusterEndPoint, 27017))\n                                                                        )\n                                                                )\n                                                                .build();\n\n        log.info(&quot;MongoClientSettings successfull. Returning MongoClient&quot;);\n\n        return MongoClients.create(settings);\n    }\n\n\n    /**\n     * This method sets the SSL properties which specify the key store file, its type and password.\n     *\n     * @throws Exception\n     */\n    private static void setSslProperties() throws Exception {\n\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;, createKeyStoreFile());\n        System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, KEY_STORE_TYPE);\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, DEFAULT_KEY_STORE_PASSWORD);\n    }\n\n    /**\n     * This method returns the path of the Key Store File needed for the SSL verification during the IAM Database Authentication to\n     * the db instance.\n     *\n     * @return\n     * @throws Exception\n     */\n    private static String createKeyStoreFile() throws Exception {\n        return createKeyStoreFile(createCertificate()).getPath();\n    }\n\n    /**\n     * This method generates the SSL certificate.\n     *\n     * @return\n     * @throws Exception\n     */\n    private static X509Certificate createCertificate() throws Exception {\n\n        final CertificateFactory certFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n\n        final ClassLoader classLoader = MongoConfig.class.getClassLoader();\n        final InputStream is = classLoader.getResourceAsStream(SSL_CERTIFICATE);\n\n        if (Objects.isNull(is)) {\n            throw new Exception(&quot;SSL_CERTIFICATE settings error&quot;);\n        }\n\n        return (X509Certificate) certFactory.generateCertificate(is);\n    }\n\n    /**\n     * This method creates the Key Store File.\n     *\n     * @param rootX509Certificate - the SSL certificate to be stored in the KeyStore\n     * @return\n     * @throws Exception\n     */\n    private static File createKeyStoreFile(final X509Certificate rootX509Certificate) throws Exception {\n        final File keyStoreFile = File.createTempFile(KEY_STORE_FILE_PREFIX, KEY_STORE_FILE_SUFFIX);\n        try (final FileOutputStream fos = new FileOutputStream(keyStoreFile.getPath())) {\n            final KeyStore ks = KeyStore.getInstance(KEY_STORE_TYPE, KEY_STORE_PROVIDER);\n            ks.load(null);\n            ks.setCertificateEntry(&quot;rootCaCertificate&quot;, rootX509Certificate);\n            ks.store(fos, DEFAULT_KEY_STORE_PASSWORD.toCharArray());\n        }\n        return keyStoreFile;\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","jsp"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1545721797,"post_id":53920116,"comment_id":94682580,"body_markdown":"And what is your specific question? Show us your current attempts and let us know which part gives you trouble.","body":"And what is your specific question? Show us your current attempts and let us know which part gives you trouble."}],"answers":[{"tags":[],"owner":{"account_id":11889649,"reputation":1404,"user_id":8700934,"display_name":"Lakshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545796528,"creation_date":1545763176,"answer_id":53924758,"question_id":53920116,"body_markdown":"i assumed you have tow tables related with this question.\r\n\r\n01. inovoice_details\r\n - invoice_id\r\n - inovice (i have a no idea about what is the data stored in this column)\r\n - date\r\n\r\n02. sell_product_details\r\n - invoice_id\r\n - product_name\r\n - rate\r\n - date\r\n\r\ntry with this join query\r\n\r\n    SELECT inovoice_details.invoice, sell_product_details.product_name FROM inovoice_details INNER JOIN sell_product_details ON inovoice_details.invoice_id = sell_product_details.invoice_id WHERE inovoice_details.invoice_id =","title":"fetch value from two tables with conditions in both table","body":"<p>i assumed you have tow tables related with this question.</p>\n\n<ol>\n<li><p>inovoice_details</p>\n\n<ul>\n<li>invoice_id</li>\n<li>inovice (i have a no idea about what is the data stored in this column)</li>\n<li>date</li>\n</ul></li>\n<li><p>sell_product_details</p>\n\n<ul>\n<li>invoice_id</li>\n<li>product_name</li>\n<li>rate</li>\n<li>date</li>\n</ul></li>\n</ol>\n\n<p>try with this join query</p>\n\n<pre><code>SELECT inovoice_details.invoice, sell_product_details.product_name FROM inovoice_details INNER JOIN sell_product_details ON inovoice_details.invoice_id = sell_product_details.invoice_id WHERE inovoice_details.invoice_id =\n</code></pre>\n"}],"owner":{"account_id":14892907,"reputation":62,"user_id":10754044,"display_name":"Ankit Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1665402363,"creation_date":1545721538,"question_id":53920116,"body_markdown":"select name,id,address  from table1 and table2\r\ntable1  column name ,id\r\ntable2 column addressId,address,id(fk table1)","title":"fetch value from two tables with conditions in both table","body":"<p>select name,id,address  from table1 and table2\ntable1  column name ,id\ntable2 column addressId,address,id(fk table1)</p>\n"},{"tags":["java","java-8","callback","method-reference"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1665401949,"post_id":74014319,"comment_id":130684343,"body_markdown":"`Class.method` could be referring to a field. Perhaps the designers wanted to avoid that ambiguity...","body":"<code>Class.method</code> could be referring to a field. Perhaps the designers wanted to avoid that ambiguity..."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1665401952,"post_id":74014319,"comment_id":130684344,"body_markdown":"Because in Java, `console.log` refers to a variable (field).","body":"Because in Java, <code>console.log</code> refers to a variable (field)."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1665401961,"post_id":74014319,"comment_id":130684347,"body_markdown":"In JavaScript functions are first-class objects, so you can simply pass them to a function as arguments. Java doesn&#39;t have such a thing, so it needs method references to emulate that.","body":"In JavaScript functions are first-class objects, so you can simply pass them to a function as arguments. Java doesn&#39;t have such a thing, so it needs method references to emulate that."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1666021009,"post_id":74014319,"comment_id":130830847,"body_markdown":"there are disadvantages in using that *notation*: reading that code I would need to search what `log` is... a method, a field, ... (at least for unknown objects/methods)","body":"there are disadvantages in using that <i>notation</i>: reading that code I would need to search what <code>log</code> is... a method, a field, ... (at least for unknown objects/methods)"},{"owner":{"account_id":11527856,"reputation":536,"user_id":8447743,"display_name":"NoBullsh1t"},"score":0,"creation_date":1666119754,"post_id":74014319,"comment_id":130859091,"body_markdown":"No you don&#39;t, if you know that forEach takes a function as an argument","body":"No you don&#39;t, if you know that forEach takes a function as an argument"},{"owner":{"account_id":11527856,"reputation":536,"user_id":8447743,"display_name":"NoBullsh1t"},"score":0,"creation_date":1666514028,"post_id":74014319,"comment_id":130951430,"body_markdown":"True. The trouble with weakly typed languages. That&#39;s why TypeScript is popular. No issues there","body":"True. The trouble with weakly typed languages. That&#39;s why TypeScript is popular. No issues there"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665402088,"creation_date":1665402088,"answer_id":74014363,"question_id":74014319,"body_markdown":"Because variables and methods do not share the same namespace in Java, so you can have variables and methods with the same name.\r\n\r\nThis is valid in Java:\r\n\r\n    class Test {\r\n    \tprivate static int c;\r\n    \tprivate static int c() { return 0; }\r\n    }\r\n\r\nNow what would `Test.c` refer to here if we didn&#39;t have the `::` operator?","title":"Why is the double colon operator needed in Java?","body":"<p>Because variables and methods do not share the same namespace in Java, so you can have variables and methods with the same name.</p>\n<p>This is valid in Java:</p>\n<pre><code>class Test {\n    private static int c;\n    private static int c() { return 0; }\n}\n</code></pre>\n<p>Now what would <code>Test.c</code> refer to here if we didn't have the <code>::</code> operator?</p>\n"}],"owner":{"account_id":11527856,"reputation":536,"user_id":8447743,"display_name":"NoBullsh1t"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1665402454,"answer_count":1,"score":-3,"last_activity_date":1665402088,"creation_date":1665401805,"question_id":74014319,"body_markdown":"I&#39;m coming from a JavaScript background and I&#39;m seeing the `::` operator for the first time. I understand what it does, but I&#39;m wondering why it&#39;s necessary. In JavaScript, something like this is perfectly valid:\r\n\r\n```javascript\r\n[1, 2, 3].forEach(console.log);\r\n```\r\n\r\nThere&#39;s no need for a new operator - I&#39;m just not calling the `log` function directly/explicitly. So my question is, why doesn&#39;t that work in Java? What is there in Java that makes the `Class.method` unusable (masks it?!)?","title":"Why is the double colon operator needed in Java?","body":"<p>I'm coming from a JavaScript background and I'm seeing the <code>::</code> operator for the first time. I understand what it does, but I'm wondering why it's necessary. In JavaScript, something like this is perfectly valid:</p>\n<pre class=\"lang-js prettyprint-override\"><code>[1, 2, 3].forEach(console.log);\n</code></pre>\n<p>There's no need for a new operator - I'm just not calling the <code>log</code> function directly/explicitly. So my question is, why doesn't that work in Java? What is there in Java that makes the <code>Class.method</code> unusable (masks it?!)?</p>\n"},{"tags":["java","spring","spring-boot","annotations","spring-bean"],"comments":[{"owner":{"account_id":13384813,"reputation":955,"user_id":9659035,"display_name":"Moler"},"score":1,"creation_date":1535004868,"post_id":51979275,"comment_id":90908370,"body_markdown":"Show how you Autowire it. Btw you don&#39;t need Component annotation on service, and you don&#39;t need scanBasePackages, SpringBoot automatically scan for basePackage.","body":"Show how you Autowire it. Btw you don&#39;t need Component annotation on service, and you don&#39;t need scanBasePackages, SpringBoot automatically scan for basePackage."},{"owner":{"account_id":9207887,"reputation":1450,"user_id":8905843,"display_name":"Clomez"},"score":0,"creation_date":1535005178,"post_id":51979275,"comment_id":90908481,"body_markdown":"Added. Also you mean i dont need the &quot;at&quot;Service, since i have &quot;at&quot;Component on the interface which the service impliments? I know i dont need scanBasePackages but at this point i added it to be sure, but good to know it should work without! @Moler","body":"Added. Also you mean i dont need the &quot;at&quot;Service, since i have &quot;at&quot;Component on the interface which the service impliments? I know i dont need scanBasePackages but at this point i added it to be sure, but good to know it should work without! @Moler"},{"owner":{"account_id":13384813,"reputation":955,"user_id":9659035,"display_name":"Moler"},"score":1,"creation_date":1535005981,"post_id":51979275,"comment_id":90908830,"body_markdown":"Sorry I meant, you don&#39;t need component it at your interface. You only need Service annotation on your ComposeCounterImpl.","body":"Sorry I meant, you don&#39;t need component it at your interface. You only need Service annotation on your ComposeCounterImpl."},{"owner":{"account_id":9207887,"reputation":1450,"user_id":8905843,"display_name":"Clomez"},"score":0,"creation_date":1535006386,"post_id":51979275,"comment_id":90909034,"body_markdown":"Check, nice to know","body":"Check, nice to know"}],"answers":[{"tags":[],"owner":{"account_id":2133309,"reputation":2564,"user_id":7671876,"display_name":"codeLover"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535019095,"creation_date":1535005040,"answer_id":51979397,"question_id":51979275,"body_markdown":"You need to add the package `com.yyy.zzz.xxx.service` in your `scanBasePackages` properties as your `ControlService` lies in this package.\r\n\r\nTry this and let me know if you get any other issue\r\n\r\n**--Edit** \r\n\r\nRemove `@Component` from your `interface ComposeCounterService` (as interface never gets initialized)\r\n\r\nNow give the bean name to your Service class as :\r\n\r\n    @Service(&quot;composeCounterImpl&quot;)\r\n    public class ComposeCounterImpl implements ComposeCounterService {\r\n    /*** loots of code\r\n    }\r\n\r\nNow define your constructor as:\r\n\r\n    @Autowired\r\n    public ControlService(@Qualifier(&quot;composeCounterImpl&quot;) ComposeCounterService composeCounterService) {\r\n        this.composeCounterService = composeCounterService;\r\n    }\r\n\r\nP.S: Make sure that all the pacakges are available in the component scan","title":"Why is spring boot not finding my beans?","body":"<p>You need to add the package <code>com.yyy.zzz.xxx.service</code> in your <code>scanBasePackages</code> properties as your <code>ControlService</code> lies in this package.</p>\n\n<p>Try this and let me know if you get any other issue</p>\n\n<p><strong>--Edit</strong> </p>\n\n<p>Remove <code>@Component</code> from your <code>interface ComposeCounterService</code> (as interface never gets initialized)</p>\n\n<p>Now give the bean name to your Service class as :</p>\n\n<pre><code>@Service(\"composeCounterImpl\")\npublic class ComposeCounterImpl implements ComposeCounterService {\n/*** loots of code\n}\n</code></pre>\n\n<p>Now define your constructor as:</p>\n\n<pre><code>@Autowired\npublic ControlService(@Qualifier(\"composeCounterImpl\") ComposeCounterService composeCounterService) {\n    this.composeCounterService = composeCounterService;\n}\n</code></pre>\n\n<p>P.S: Make sure that all the pacakges are available in the component scan</p>\n"},{"tags":[],"owner":{"account_id":14127489,"reputation":371,"user_id":10206298,"display_name":"JWiryo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535007418,"creation_date":1535007418,"answer_id":51979966,"question_id":51979275,"body_markdown":"Did you use `@Autowired` on ComposeCounterService field?\r\n\r\nIf so; maybe can try using `@ComponentScan` above `@SpringBootApplication`\r\n\r\nDocumentation Here: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html\r\n\r\nHope this helps.\r\n\r\nCheers ","title":"Why is spring boot not finding my beans?","body":"<p>Did you use <code>@Autowired</code> on ComposeCounterService field?</p>\n\n<p>If so; maybe can try using <code>@ComponentScan</code> above <code>@SpringBootApplication</code></p>\n\n<p>Documentation Here: <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/ComponentScan.html</a></p>\n\n<p>Hope this helps.</p>\n\n<p>Cheers </p>\n"},{"tags":[],"owner":{"account_id":9207887,"reputation":1450,"user_id":8905843,"display_name":"Clomez"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1535630434,"creation_date":1535630434,"answer_id":52096577,"question_id":51979275,"body_markdown":"I am an absolute idiot...\r\n\r\nPeople, always check your imports...\r\nI even overlooked this and pasted only the code that would not solve the problem...\r\n\r\nI had wrong import for @service annotation.. and thats the root cause of the problem.\r\nonly took several hours of very angry debugging.","title":"Why is spring boot not finding my beans?","body":"<p>I am an absolute idiot...</p>\n\n<p>People, always check your imports...\nI even overlooked this and pasted only the code that would not solve the problem...</p>\n\n<p>I had wrong import for @service annotation.. and thats the root cause of the problem.\nonly took several hours of very angry debugging.</p>\n"},{"tags":[],"owner":{"account_id":14034143,"reputation":96,"user_id":10137241,"display_name":"Repe"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1535701295,"creation_date":1535701295,"answer_id":52110728,"question_id":51979275,"body_markdown":"the wrong import is:\r\n\r\n    import org.jvnet.hk2.annotations.Service;\r\n\r\ncorrect is:\r\n\r\n    import org.springframework.stereotype.Service;\r\n\r\nIf you just let your IDE suggest the import and press enter without reading which one it adds, this is the result.","title":"Why is spring boot not finding my beans?","body":"<p>the wrong import is:</p>\n\n<pre><code>import org.jvnet.hk2.annotations.Service;\n</code></pre>\n\n<p>correct is:</p>\n\n<pre><code>import org.springframework.stereotype.Service;\n</code></pre>\n\n<p>If you just let your IDE suggest the import and press enter without reading which one it adds, this is the result.</p>\n"},{"tags":[],"owner":{"account_id":12921582,"reputation":115,"user_id":9343850,"display_name":"kiloton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665402074,"creation_date":1665402074,"answer_id":74014359,"question_id":51979275,"body_markdown":"I had a similar problem just now, where a specific bean couldn&#39;t be found when testing. In my case the problem was a `@WebMvcTest`-annotation (wrapped inside a custom one, so I missed it). That annotation prevents SpringBoot from loading any components/beans except for those included here:\r\n\r\n&gt; Using this annotation will disable full auto-configuration and instead apply only configuration relevant to MVC tests (i.e. @Controller, @ControllerAdvice, @JsonComponent, Converter/GenericConverter, Filter, WebMvcConfigurer and HandlerMethodArgumentResolver beans but not @Component, @Service or @Repository beans).\r\n\r\nYou can force the loading of specific beans using the `@Import`-annotation like so:\r\n\r\n```\r\n@Import({ YourFirstBean.class, ThatOtherBean.class })\r\n```","title":"Why is spring boot not finding my beans?","body":"<p>I had a similar problem just now, where a specific bean couldn't be found when testing. In my case the problem was a <code>@WebMvcTest</code>-annotation (wrapped inside a custom one, so I missed it). That annotation prevents SpringBoot from loading any components/beans except for those included here:</p>\n<blockquote>\n<p>Using this annotation will disable full auto-configuration and instead apply only configuration relevant to MVC tests (i.e. @Controller, @ControllerAdvice, @JsonComponent, Converter/GenericConverter, Filter, WebMvcConfigurer and HandlerMethodArgumentResolver beans but not @Component, @Service or @Repository beans).</p>\n</blockquote>\n<p>You can force the loading of specific beans using the <code>@Import</code>-annotation like so:</p>\n<pre><code>@Import({ YourFirstBean.class, ThatOtherBean.class })\n</code></pre>\n"}],"owner":{"account_id":9207887,"reputation":1450,"user_id":8905843,"display_name":"Clomez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12011,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52110728,"answer_count":5,"score":2,"last_activity_date":1665402074,"creation_date":1535004402,"question_id":51979275,"body_markdown":"i have following error:\r\n\r\n    Parameter 0 of constructor in com.yyy.zzz.xxx.service.ControlService required a bean of type &#39;com.yyy.zzz.xxx.service.composeXML.ComposeCounterService&#39; that could not be found.\r\n\r\nUsually this is because i forget to annotate either the Service or\r\nthe interface, but i&#39;ve been looking classes the whole morning and cant find\r\nany missing annotations..\r\n\r\ninterface at this point is just:\r\n\r\n    @Component\r\n    public interface ComposeCounterService {\r\n    CLASSX init(List&lt;YYY&gt; owners) throws JAXBException;\r\n    }\r\n\r\nand implimenting service is as follows, and contains init() method if that matters in this case.\r\n\r\n    @Service\r\n    public class ComposeCounterImpl implements ComposeCounterService {\r\n    /*** loots of code\r\n    }\r\n\r\nand ApplicationConfig file is located one level above the service package. marked xxx in this post.\r\n\r\nIt contains the following package scan:\r\n\r\n    @SpringBootApplication\r\n    scanBasePackages = {&quot;com.yyy.zzz.xxx&quot;)\r\n\r\ni also tried it with array of scans like:\r\n\r\n    scanBasePackages = {&quot;com.yyy.zzz.xxx&quot;, &quot;com.yyy.zzz.xxx.service.composeXML&quot;})\r\n\r\nand without the composeXML after .service\r\nNone of these works.\r\n\r\nim pretty sure im missing something here, please send help.\r\n\r\nEDIT:\r\ninjecting style:\r\n\r\n    private final ComposeCounterService composeCounterService;\r\n    \r\n    public ControlService(ComposeCounterService composeCounterService) {\r\n        this.composeCounterService = composeCounterService;\r\n    }","title":"Why is spring boot not finding my beans?","body":"<p>i have following error:</p>\n\n<pre><code>Parameter 0 of constructor in com.yyy.zzz.xxx.service.ControlService required a bean of type 'com.yyy.zzz.xxx.service.composeXML.ComposeCounterService' that could not be found.\n</code></pre>\n\n<p>Usually this is because i forget to annotate either the Service or\nthe interface, but i've been looking classes the whole morning and cant find\nany missing annotations..</p>\n\n<p>interface at this point is just:</p>\n\n<pre><code>@Component\npublic interface ComposeCounterService {\nCLASSX init(List&lt;YYY&gt; owners) throws JAXBException;\n}\n</code></pre>\n\n<p>and implimenting service is as follows, and contains init() method if that matters in this case.</p>\n\n<pre><code>@Service\npublic class ComposeCounterImpl implements ComposeCounterService {\n/*** loots of code\n}\n</code></pre>\n\n<p>and ApplicationConfig file is located one level above the service package. marked xxx in this post.</p>\n\n<p>It contains the following package scan:</p>\n\n<pre><code>@SpringBootApplication\nscanBasePackages = {\"com.yyy.zzz.xxx\")\n</code></pre>\n\n<p>i also tried it with array of scans like:</p>\n\n<pre><code>scanBasePackages = {\"com.yyy.zzz.xxx\", \"com.yyy.zzz.xxx.service.composeXML\"})\n</code></pre>\n\n<p>and without the composeXML after .service\nNone of these works.</p>\n\n<p>im pretty sure im missing something here, please send help.</p>\n\n<p>EDIT:\ninjecting style:</p>\n\n<pre><code>private final ComposeCounterService composeCounterService;\n\npublic ControlService(ComposeCounterService composeCounterService) {\n    this.composeCounterService = composeCounterService;\n}\n</code></pre>\n"},{"tags":["java","file-io","io","access-denied"],"comments":[{"owner":{"account_id":3579096,"reputation":2566,"user_id":2987706,"accept_rate":90,"display_name":"Prashant"},"score":0,"creation_date":1424685642,"post_id":28670576,"comment_id":45635931,"body_markdown":"try to write to folder in other drive and check.","body":"try to write to folder in other drive and check."},{"owner":{"account_id":2146830,"reputation":2331,"user_id":1904282,"accept_rate":69,"display_name":"OneTwo"},"score":1,"creation_date":1424685989,"post_id":28670576,"comment_id":45636131,"body_markdown":"No it doesn&#39;t work with a different drive or a different folder.\n\nOne thing it may be is that all my folders on my pc are marked as &#39;Read Only&#39; Even though they aren&#39;t read only. And when I un-mark they just get checked again after.","body":"No it doesn&#39;t work with a different drive or a different folder.  One thing it may be is that all my folders on my pc are marked as &#39;Read Only&#39; Even though they aren&#39;t read only. And when I un-mark they just get checked again after."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1424688527,"post_id":28670576,"comment_id":45637505,"body_markdown":"@OneTwo, Is there any possibility that same path is being using by any other code. Like where you have accessed the same path and forget to release the resources.","body":"@OneTwo, Is there any possibility that same path is being using by any other code. Like where you have accessed the same path and forget to release the resources."},{"owner":{"account_id":2146830,"reputation":2331,"user_id":1904282,"accept_rate":69,"display_name":"OneTwo"},"score":0,"creation_date":1424688709,"post_id":28670576,"comment_id":45637588,"body_markdown":"No I have tried writing a byte array in a test java main method, project with nothing else and I still get the same error. I have no other applications open which are accessing the folder as far as I can see.","body":"No I have tried writing a byte array in a test java main method, project with nothing else and I still get the same error. I have no other applications open which are accessing the folder as far as I can see."},{"owner":{"account_id":14924015,"reputation":53,"user_id":10775449,"display_name":"Stefan Jankovic"},"score":1,"creation_date":1595246091,"post_id":28670576,"comment_id":111398388,"body_markdown":"I made same mistake, you must target the file not the folder. But why does it throw that exception? It has nothing to do with access of the file/folder, right?","body":"I made same mistake, you must target the file not the folder. But why does it throw that exception? It has nothing to do with access of the file/folder, right?"}],"answers":[{"tags":[],"owner":{"account_id":2146830,"reputation":2331,"user_id":1904282,"accept_rate":69,"display_name":"OneTwo"},"down_vote_count":1,"up_vote_count":132,"is_accepted":true,"score":131,"last_activity_date":1538486275,"creation_date":1424692910,"answer_id":28673369,"question_id":28670576,"body_markdown":"Ok it turns out I was doing something stupid. I hadn&#39;t appended the new file name to the path.\r\n\r\nI had\r\n\r\n    rootDirectory = &quot;C:\\\\safesite_documents&quot;\r\n\r\nbut it should have been\r\n\r\n    rootDirectory = &quot;C:\\\\safesite_documents\\\\newFile.jpg&quot; \r\n\r\n\r\nSorry it was a stupid mistake as always.","title":"Getting &quot;java.nio.file.AccessDeniedException&quot; when trying to write to a folder","body":"<p>Ok it turns out I was doing something stupid. I hadn't appended the new file name to the path.</p>\n\n<p>I had</p>\n\n<pre><code>rootDirectory = \"C:\\\\safesite_documents\"\n</code></pre>\n\n<p>but it should have been</p>\n\n<pre><code>rootDirectory = \"C:\\\\safesite_documents\\\\newFile.jpg\" \n</code></pre>\n\n<p>Sorry it was a stupid mistake as always.</p>\n"},{"tags":[],"owner":{"account_id":11599586,"reputation":151,"user_id":8497191,"display_name":"ekene"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1535371889,"creation_date":1535371889,"answer_id":52039089,"question_id":28670576,"body_markdown":"I was getting the same error when trying to copy a file. Closing a channel associated with the target file solved the problem.\r\n\r\n\r\n    Path destFile = Paths.get(&quot;dest file&quot;);\r\n    SeekableByteChannel destFileChannel = Files.newByteChannel(destFile);\r\n    //...\r\n    destFileChannel.close();  //removing this will throw java.nio.file.AccessDeniedException:\r\n    Files.copy(Paths.get(&quot;source file&quot;), destFile);\r\n    ","title":"Getting &quot;java.nio.file.AccessDeniedException&quot; when trying to write to a folder","body":"<p>I was getting the same error when trying to copy a file. Closing a channel associated with the target file solved the problem.</p>\n\n<pre><code>Path destFile = Paths.get(\"dest file\");\nSeekableByteChannel destFileChannel = Files.newByteChannel(destFile);\n//...\ndestFileChannel.close();  //removing this will throw java.nio.file.AccessDeniedException:\nFiles.copy(Paths.get(\"source file\"), destFile);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3876216,"reputation":539,"user_id":3210187,"display_name":"Thiago Lages de Alencar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567364200,"creation_date":1552749756,"answer_id":55198379,"question_id":28670576,"body_markdown":"**Not the answer for this question**  \r\n\r\nI got this exception when trying to delete a folder where i deleted the file inside.   \r\n\r\nExample:\r\n```java\r\ncreateFolder(&quot;folder&quot;);  \r\ncreateFile(&quot;folder/file&quot;);  \r\ndeleteFile(&quot;folder/file&quot;);  \r\ndeleteFolder(&quot;folder&quot;); // error here\r\n```    \r\n\r\nWhile `deleteFile(&quot;folder/file&quot;);` returned that it was deleted, the folder will only be considered empty after the program restart.\r\n\r\n&gt; On some operating systems it may not be possible to remove a file when it is open and in use by this Java virtual machine or other programs.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-\r\n\r\n[Explanation from dhke][1]\r\n\r\n  [1]: https://stackoverflow.com/a/31608180/3210187\r\n","title":"Getting &quot;java.nio.file.AccessDeniedException&quot; when trying to write to a folder","body":"<p><strong>Not the answer for this question</strong>  </p>\n\n<p>I got this exception when trying to delete a folder where i deleted the file inside.   </p>\n\n<p>Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>createFolder(\"folder\");  \ncreateFile(\"folder/file\");  \ndeleteFile(\"folder/file\");  \ndeleteFolder(\"folder\"); // error here\n</code></pre>\n\n<p>While <code>deleteFile(\"folder/file\");</code> returned that it was deleted, the folder will only be considered empty after the program restart.</p>\n\n<blockquote>\n  <p>On some operating systems it may not be possible to remove a file when it is open and in use by this Java virtual machine or other programs.</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-</a></p>\n\n<p><a href=\"https://stackoverflow.com/a/31608180/3210187\">Explanation from dhke</a></p>\n"},{"tags":[],"owner":{"account_id":2312215,"reputation":1136,"user_id":2030100,"display_name":"vinod"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1565676538,"creation_date":1565676538,"answer_id":57471991,"question_id":28670576,"body_markdown":"Delete .android folder cache files, Also delete the build folder manually from a directory and open android studio and run again.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gUJTK.png","title":"Getting &quot;java.nio.file.AccessDeniedException&quot; when trying to write to a folder","body":"<p>Delete .android folder cache files, Also delete the build folder manually from a directory and open android studio and run again.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gUJTK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gUJTK.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607710123,"creation_date":1607710123,"answer_id":65256475,"question_id":28670576,"body_markdown":"&gt; Getting `java.nio.file.AccessDeniedException` when trying to write to a folder\r\n\r\n\r\nUnobviously, Comodo antivirus has an &quot;Auto-Containment&quot; setting that can cause this exact error as well.  (e.g. the user can write to a location, but the `java.exe` and `javaw.exe` processes cannot).\r\n\r\nIn this edge-case scenario, adding an exception for the process and/or folder should help.\r\n\r\nTemporarily disabling the antivirus feature will help understand if Comodo AV is the culprit.\r\n\r\nI post this not because I use or prefer Comodo, but because it&#39;s a tremendously unobvious symptom to an otherwise functioning Java application and can cost many hours of troubleshooting file permissions that are sane and correct, but being blocked by a 3rd-party application. ","title":"Getting &quot;java.nio.file.AccessDeniedException&quot; when trying to write to a folder","body":"<blockquote>\n<p>Getting <code>java.nio.file.AccessDeniedException</code> when trying to write to a folder</p>\n</blockquote>\n<p>Unobviously, Comodo antivirus has an &quot;Auto-Containment&quot; setting that can cause this exact error as well.  (e.g. the user can write to a location, but the <code>java.exe</code> and <code>javaw.exe</code> processes cannot).</p>\n<p>In this edge-case scenario, adding an exception for the process and/or folder should help.</p>\n<p>Temporarily disabling the antivirus feature will help understand if Comodo AV is the culprit.</p>\n<p>I post this not because I use or prefer Comodo, but because it's a tremendously unobvious symptom to an otherwise functioning Java application and can cost many hours of troubleshooting file permissions that are sane and correct, but being blocked by a 3rd-party application.</p>\n"},{"tags":[],"owner":{"account_id":3039693,"reputation":1695,"user_id":2577020,"accept_rate":20,"display_name":"Tomero Indonesia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645838556,"creation_date":1645838197,"answer_id":71273313,"question_id":28670576,"body_markdown":"After long time to open my android project (Android Studio), and it getting same issue like above.\r\nAnd I solve it by &quot;Clean Project&quot;. You Just go to menu &quot;Build&quot; &gt; &quot;Clean Project&quot;.","title":"Getting &quot;java.nio.file.AccessDeniedException&quot; when trying to write to a folder","body":"<p>After long time to open my android project (Android Studio), and it getting same issue like above.\nAnd I solve it by &quot;Clean Project&quot;. You Just go to menu &quot;Build&quot; &gt; &quot;Clean Project&quot;.</p>\n"},{"tags":[],"owner":{"account_id":13822754,"reputation":392,"user_id":9977815,"display_name":"mnagdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665401356,"creation_date":1665401356,"answer_id":74014226,"question_id":28670576,"body_markdown":"I was seeing this error in my spring-boot(version : 2.6.2) project.\r\n\r\nWhen I changed the version to **2.7.2** and re-built the project, the error went away.\r\n\r\n        &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n\r\n","title":"Getting &quot;java.nio.file.AccessDeniedException&quot; when trying to write to a folder","body":"<p>I was seeing this error in my spring-boot(version : 2.6.2) project.</p>\n<p>When I changed the version to <strong>2.7.2</strong> and re-built the project, the error went away.</p>\n<pre><code>    &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n"}],"owner":{"account_id":2146830,"reputation":2331,"user_id":1904282,"accept_rate":69,"display_name":"OneTwo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279596,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":28673369,"answer_count":7,"score":80,"last_activity_date":1665401356,"creation_date":1424683946,"question_id":28670576,"body_markdown":"For some reason I keep getting `java.nio.file.AccessDeniedException` every time I try to write to a folder on my computer using a java webapp on Tomcat. This folder has permissions set to full control for everyone on my computer (Windows). Does anybody know why I get this exception?\r\n\r\n\r\nHere&#39;s my code:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public void saveDocument(String name, String siteID, byte doc[]) {\r\n        try {\r\n            Path path = Paths.get(rootDirectory + siteID);\r\n            if (Files.exists(path)) {\r\n                System.out.println(&quot;Exists: &quot; + path.toString());\r\n                Files.write(path, doc);\r\n            } else {\r\n                System.out.println(&quot;DOesn&#39;t exist&quot;);\r\n                throw new Exception(&quot;Directory for Site with ID &quot; + siteID + &quot;doesn&#39;t exist&quot;);\r\n            }\r\n        } catch (FileSystemException e) {\r\n            System.out.println(&quot;Exception: &quot; + e);\r\n            e.printStackTrace();\r\n        } catch (IOException e ) {\r\n            System.out.println(&quot;Exception: &quot; + e);\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception: &quot; + e);\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\nAnd here is the error:\r\n\r\n&gt; Exception: java.nio.file.AccessDeniedException: C:\\safesite_documents\\site1\r\n    java.nio.file.AccessDeniedException: C:\\safesite_documents\\site1\r\n\tat         sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:83)\r\n\tat     sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97)\r\n\tat sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:102)\r\n\tat sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:230)\r\n\tat java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:430)\r\n\tat java.nio.file.Files.newOutputStream(Files.java:172)\r\n\tat java.nio.file.Files.write(Files.java:3092)\r\n\r\n\r\nPossible reason why: [See my post on supersuser about how I can&#39;t uncheck &#39;Read Only&#39; for any of my folders on windows 7. Even though all the folders aren&#39;t read only to anything but java.][1]\r\n\r\n\r\n  [1]: https://superuser.com/questions/881348/cant-unset-read-only-only-applies-to-files-in-folder-in-windows-7","title":"Getting &quot;java.nio.file.AccessDeniedException&quot; when trying to write to a folder","body":"<p>For some reason I keep getting <code>java.nio.file.AccessDeniedException</code> every time I try to write to a folder on my computer using a java webapp on Tomcat. This folder has permissions set to full control for everyone on my computer (Windows). Does anybody know why I get this exception?</p>\n\n<p>Here's my code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>public void saveDocument(String name, String siteID, byte doc[]) {\n    try {\n        Path path = Paths.get(rootDirectory + siteID);\n        if (Files.exists(path)) {\n            System.out.println(\"Exists: \" + path.toString());\n            Files.write(path, doc);\n        } else {\n            System.out.println(\"DOesn't exist\");\n            throw new Exception(\"Directory for Site with ID \" + siteID + \"doesn't exist\");\n        }\n    } catch (FileSystemException e) {\n        System.out.println(\"Exception: \" + e);\n        e.printStackTrace();\n    } catch (IOException e ) {\n        System.out.println(\"Exception: \" + e);\n        e.printStackTrace();\n    } catch (Exception e) {\n        System.out.println(\"Exception: \" + e);\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>And here is the error:</p>\n\n<blockquote>\n  <p>Exception: java.nio.file.AccessDeniedException: C:\\safesite_documents\\site1\n      java.nio.file.AccessDeniedException: C:\\safesite_documents\\site1\n      at         sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:83)\n      at     sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97)\n      at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:102)\n      at sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:230)\n      at java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:430)\n      at java.nio.file.Files.newOutputStream(Files.java:172)\n      at java.nio.file.Files.write(Files.java:3092)</p>\n</blockquote>\n\n<p>Possible reason why: <a href=\"https://superuser.com/questions/881348/cant-unset-read-only-only-applies-to-files-in-folder-in-windows-7\">See my post on supersuser about how I can't uncheck 'Read Only' for any of my folders on windows 7. Even though all the folders aren't read only to anything but java.</a></p>\n"},{"tags":["java","css","templates","freemarker"],"comments":[{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":1,"creation_date":1665404664,"post_id":74014205,"comment_id":130685259,"body_markdown":"Pagination can&#39;t be done by FreeMarker itself, as it just generates text, like HTML. Pagination is done by whatever generates PDF from HTML+CSS, or the browser if you print a HTML page. So I think your best bet is doing it with CSS.","body":"Pagination can&#39;t be done by FreeMarker itself, as it just generates text, like HTML. Pagination is done by whatever generates PDF from HTML+CSS, or the browser if you print a HTML page. So I think your best bet is doing it with CSS."},{"owner":{"account_id":1921522,"reputation":375,"user_id":1732927,"accept_rate":50,"display_name":"V&#225;clav"},"score":0,"creation_date":1665408070,"post_id":74014205,"comment_id":130686514,"body_markdown":"I&#39;m not too experienced with CSS, can there be a way to call java utils class passed in Freemarker data model from CSS? Or call external logic in different way from CSS? I will need to work with DB during unique page code generation, so I need execute logic, ideally in java service that is performing Freemarker generation.","body":"I&#39;m not too experienced with CSS, can there be a way to call java utils class passed in Freemarker data model from CSS? Or call external logic in different way from CSS? I will need to work with DB during unique page code generation, so I need execute logic, ideally in java service that is performing Freemarker generation."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1665582338,"post_id":74014205,"comment_id":130734769,"body_markdown":"Ah, I believed CSS itself supports generating page numbers... but now I see `@page` etc. was never widely implemented. Although, if you generate PDF (or anything with XSL-FO) there&#39;s still hope for something like that. But if you have to do the pagination yourself, and hence the page numbering too, then CSS is irrelevant. Saw some people do some JavaScript hack for client-side pagination in the browser.","body":"Ah, I believed CSS itself supports generating page numbers... but now I see <code>@page</code> etc. was never widely implemented. Although, if you generate PDF (or anything with XSL-FO) there&#39;s still hope for something like that. But if you have to do the pagination yourself, and hence the page numbering too, then CSS is irrelevant. Saw some people do some JavaScript hack for client-side pagination in the browser."}],"owner":{"account_id":1921522,"reputation":375,"user_id":1732927,"accept_rate":50,"display_name":"V&#225;clav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665401240,"creation_date":1665401240,"question_id":74014205,"body_markdown":"I have Freemarker templates for generating pdf documents, that can have multiple pages based on variables content. I need generate unique code on each page, the generating logic takes page number as parameter. I have working utils class, callable from template used for dates formatting etc.\r\nIdeally I would like to be able call my utils class like that, with something that would provide current page number on each page (simplified example):\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;h1&gt;Utils result: ${utils.generateUniqueNumber(pageNumber)}&lt;/h1&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI will probably need to place this code into header/footer, to achieve have it on each page. \r\n\r\nCurrently I have working page counter in footer defined using css:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;head&gt;\r\n        &lt;title&gt;RESEA - Selection Notice OWCMS&lt;/title&gt;\r\n        &lt;style type=&quot;text/css&quot;&gt;\r\n        \r\n        .page-counter:before {\r\n           content: &quot;Page &quot;counter(page)&quot; of &quot;counter(pages)\r\n        }\r\n        &lt;/style&gt;\r\n    &lt;/head&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThen used in footer *&lt;div class=&quot;page-counter&quot;&gt;&lt;/div&gt;*, works as expected.\r\n\r\nI&#39;m not sure if actual paging is driven by Freemarker or CSS, so maybe I need to make CSS call my utils function.\r\n\r\nAny advise, or relevant study source is welcome! ","title":"Freemarker - call external java function with page number as parameter","body":"<p>I have Freemarker templates for generating pdf documents, that can have multiple pages based on variables content. I need generate unique code on each page, the generating logic takes page number as parameter. I have working utils class, callable from template used for dates formatting etc.\nIdeally I would like to be able call my utils class like that, with something that would provide current page number on each page (simplified example):</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1&gt;Utils result: ${utils.generateUniqueNumber(pageNumber)}&lt;/h1&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I will probably need to place this code into header/footer, to achieve have it on each page.</p>\n<p>Currently I have working page counter in footer defined using css:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;head&gt;\n    &lt;title&gt;RESEA - Selection Notice OWCMS&lt;/title&gt;\n    &lt;style type=\"text/css\"&gt;\n    \n    .page-counter:before {\n       content: \"Page \"counter(page)\" of \"counter(pages)\n    }\n    &lt;/style&gt;\n&lt;/head&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Then used in footer <em></em>, works as expected.</p>\n<p>I'm not sure if actual paging is driven by Freemarker or CSS, so maybe I need to make CSS call my utils function.</p>\n<p>Any advise, or relevant study source is welcome!</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665401234,"creation_date":1665401234,"answer_id":74014202,"question_id":73961892,"body_markdown":"IMO you should use a DTO approach for this. Lazy loading for basic attributes needs additional setup and is not really worth it. It&#39;s much better to tell the database as much as possible about what data you want.\r\n\r\nI think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(A.class)\r\n    public interface ADto {\r\n        @IdMapping\r\n        Long getId();\r\n        Set&lt;BDto&gt; getBs();\r\n\r\n        @EntityView(B.class)\r\n        interface BDto {\r\n            @IdMapping\r\n            Long getId();\r\n            Set&lt;CDto&gt; getCs();\r\n        }\r\n\r\n        @EntityView(C.class)\r\n        interface CDto {\r\n            @IdMapping\r\n            Long getId();\r\n            Double getX1();\r\n            Double getX2();\r\n            Double getZ2();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`ADto a = entityViewManager.find(entityManager, ADto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;ADto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Hibernate initialize lazy field with projection","body":"<p>IMO you should use a DTO approach for this. Lazy loading for basic attributes needs additional setup and is not really worth it. It's much better to tell the database as much as possible about what data you want.</p>\n<p>I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(A.class)\npublic interface ADto {\n    @IdMapping\n    Long getId();\n    Set&lt;BDto&gt; getBs();\n\n    @EntityView(B.class)\n    interface BDto {\n        @IdMapping\n        Long getId();\n        Set&lt;CDto&gt; getCs();\n    }\n\n    @EntityView(C.class)\n    interface CDto {\n        @IdMapping\n        Long getId();\n        Double getX1();\n        Double getX2();\n        Double getZ2();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>ADto a = entityViewManager.find(entityManager, ADto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;ADto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":7338405,"reputation":11,"user_id":7362774,"display_name":"zloutek1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665401234,"creation_date":1664979996,"question_id":73961892,"body_markdown":"I have two entites A, B, C with the following mappings.\r\n```\r\n@Enttiy\r\nclass A {\r\n   @OneToMany\r\n   private List&lt;B&gt; Bs;\r\n}\r\n\r\n@Entity\r\nclass B {\r\n   @OneToMany\r\n   private List&lt;C&gt; Cs;\r\n}\r\n\r\n@Entity\r\nclass C {\r\n   private Double x1;\r\n   private Double y1;\r\n   private Double z1;\r\n\r\n   private Double x2;\r\n   private Double y2;\r\n   private Double z2;\r\n   \r\n   //...\r\n}\r\n```\r\n\r\nThe class C is a table mapped from a CSV and therefore has many columns. \r\n\r\nIn my code I need to use `aRespository.findAll(spec)` and iterate over all Bs and all its Cs. The user can select a subset of C&#39;s colums (lets say `[x1, x2, z2]`). So the sql select from table would be simplified to just `select x2, x2, z2 form C`. \r\n\r\nIs writing a custom query with using a ResultTransformer the best option? or is there a simpler alternative. Since the query is written for enetity A, but modified only entity C. I would also like to preserve the lazy loading if possible.\r\n\r\nThank you.","title":"Hibernate initialize lazy field with projection","body":"<p>I have two entites A, B, C with the following mappings.</p>\n<pre><code>@Enttiy\nclass A {\n   @OneToMany\n   private List&lt;B&gt; Bs;\n}\n\n@Entity\nclass B {\n   @OneToMany\n   private List&lt;C&gt; Cs;\n}\n\n@Entity\nclass C {\n   private Double x1;\n   private Double y1;\n   private Double z1;\n\n   private Double x2;\n   private Double y2;\n   private Double z2;\n   \n   //...\n}\n</code></pre>\n<p>The class C is a table mapped from a CSV and therefore has many columns.</p>\n<p>In my code I need to use <code>aRespository.findAll(spec)</code> and iterate over all Bs and all its Cs. The user can select a subset of C's colums (lets say <code>[x1, x2, z2]</code>). So the sql select from table would be simplified to just <code>select x2, x2, z2 form C</code>.</p>\n<p>Is writing a custom query with using a ResultTransformer the best option? or is there a simpler alternative. Since the query is written for enetity A, but modified only entity C. I would also like to preserve the lazy loading if possible.</p>\n<p>Thank you.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"score":0,"creation_date":1665400688,"post_id":74014053,"comment_id":130683923,"body_markdown":"How are you trying to run the service? Is the mvn clean install successful?","body":"How are you trying to run the service? Is the mvn clean install successful?"},{"owner":{"account_id":26576632,"reputation":1,"user_id":20201881,"display_name":"Charissa Zahra"},"score":0,"creation_date":1665400864,"post_id":74014053,"comment_id":130683976,"body_markdown":"I can&#39;t run the project because of this issues, and i already install apache-maven-3.8.6","body":"I can&#39;t run the project because of this issues, and i already install apache-maven-3.8.6"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1665404984,"post_id":74014053,"comment_id":130685366,"body_markdown":"please add more detail, this can be related more than one scenario.","body":"please add more detail, this can be related more than one scenario."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665415635,"post_id":74014053,"comment_id":130689398,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26576632,"reputation":1,"user_id":20201881,"display_name":"Charissa Zahra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665401093,"creation_date":1665400597,"question_id":74014053,"body_markdown":"&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;co.id.mii&lt;/groupId&gt;\r\n    &lt;artifactId&gt;serverside-sibkm&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;serverside-sibkm&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;                              \r\n        &lt;dependency&gt;         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.29&lt;/version&gt;\r\n        &lt;/dependency&gt;               \r\n        &lt;dependency&gt;          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;     \r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;","title":"Command execution failed. org.apache.commons.exec.ExecuteException: Process exited with an error: 1","body":"\n<p>\n4.0.0\n       org.springframework.boot\nspring-boot-starter-parent\n2.7.4\n \n\nco.id.mii\nserverside-sibkm\n0.0.1-SNAPSHOT\nserverside-sibkm\nDemo project for Spring Boot\n\n&lt;java.version&gt;1.8&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-web\n<br />\n         org.springframework.boot\nspring-boot-starter-data-jpa\n\n\nmysql\nmysql-connector-java\n8.0.29\n<br />\n          org.springframework.boot\nspring-boot-devtools\nruntime\ntrue\n\n          org.springframework.boot\nspring-boot-starter-test\ntest\n<br />\n\n\n\n                org.springframework.boot\nspring-boot-maven-plugin\n\n\n\n</p>\n"},{"tags":["javascript","java","sikuli","sikuli-script"],"answers":[{"tags":[],"owner":{"account_id":24000399,"reputation":17,"user_id":17985399,"display_name":"Koda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665400743,"creation_date":1665400743,"answer_id":74014090,"question_id":74013809,"body_markdown":"I found something so if you use .exact() sikuli will &quot;sets the minimum Similarity to 0.99 which means exact match&quot; \r\n\r\n\r\n","title":"Sikuli click on the wrong thing","body":"<p>I found something so if you use .exact() sikuli will &quot;sets the minimum Similarity to 0.99 which means exact match&quot;</p>\n"}],"owner":{"account_id":24000399,"reputation":17,"user_id":17985399,"display_name":"Koda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74014090,"answer_count":1,"score":0,"last_activity_date":1665400743,"creation_date":1665399354,"question_id":74013809,"body_markdown":"Hello I&#39;m writtin a script with Sekuli.\r\n\r\nBut when I write example: screen.click(test.png). It happens that Sikuli just click on the wrong screenshot. I don&#39;t understand why. How can I tell to Sikuli to be more accurate ? \r\n\r\n","title":"Sikuli click on the wrong thing","body":"<p>Hello I'm writtin a script with Sekuli.</p>\n<p>But when I write example: screen.click(test.png). It happens that Sikuli just click on the wrong screenshot. I don't understand why. How can I tell to Sikuli to be more accurate ?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665400443,"creation_date":1665400443,"answer_id":74014026,"question_id":73952644,"body_markdown":"You have two options. Either you configure the unique constraint to be &quot;deferrable&quot; and also mark it as &quot;initially deferred&quot; so that the constraint is only enforced at transaction commit time, or you delete and re-insert the entries.\r\n\r\nI would suggest you to use the first option if your database supports this. You didn&#39;t specify which database you are using, but [PostgreSQL][1] supports it. You&#39;d only have to run `alter table test_table alter constraint your_unique_constraint deferrable initially deferred`.\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/14/sql-altertable.html","title":"Update Statement with hibernate switching unique key fields","body":"<p>You have two options. Either you configure the unique constraint to be &quot;deferrable&quot; and also mark it as &quot;initially deferred&quot; so that the constraint is only enforced at transaction commit time, or you delete and re-insert the entries.</p>\n<p>I would suggest you to use the first option if your database supports this. You didn't specify which database you are using, but <a href=\"https://www.postgresql.org/docs/14/sql-altertable.html\" rel=\"nofollow noreferrer\">PostgreSQL</a> supports it. You'd only have to run <code>alter table test_table alter constraint your_unique_constraint deferrable initially deferred</code>.</p>\n"}],"owner":{"account_id":450916,"reputation":1435,"user_id":846507,"accept_rate":64,"display_name":"Hauke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665400443,"creation_date":1664910891,"question_id":73952644,"body_markdown":"I&#39;m not sure exactly where the error is coming from, unfortunately, but I have a guess and would like to know the best way to solve it.\r\n\r\n**Problem**\r\n\r\nSuppose we have the following table in the database\r\n\r\n| ID       | Field A  | Field B | Field C    |\r\n| -------- | ---------| --------|------------|\r\n| 1        | A        | C       |  Something |\r\n| 2        | B        | C       |  Something else |\r\n\r\nAnd we have two unique indexes on the table\r\n\r\nUnique-Index1 (ID)\r\nUnique-Index2 (FieldA, FieldB)\r\n\r\nNow I am loading both entities\r\n\r\n```\r\n        Session session = ...();\r\n        Transaction tx = session.beginTransaction();\r\n\r\n        TestTable dataset1 = (TestTable) session.get(TestTable.class, 1);\r\n        TestTable dataset2 = (TestTable) session.get(TestTable.class, 2);\r\n```\r\n\r\nAnd now I want to do something like this\r\n\r\n```\r\nupdate testtable set fielda = &#39;B&#39; where id = 1;\r\nupdate testtable set fielda = &#39;A&#39; where id = 2;\r\n```\r\n\r\nSo at the end the unique key is not violated, but after the first statement, the unique index is violated.\r\n\r\nIn my JAVA application it looks like this\r\n```\r\ndataset1.setFieldA(&quot;B&quot;);\r\ndataset2.setFieldA(&quot;A&quot;);\r\n\r\nsession.saveOrUpdate(dataset1);\r\nsession.saveOrUpdate(dataset2);\r\n\r\ntx.commit();\r\n```\r\n\r\nAfter executing the application I get the following exception\r\n\r\n```\r\nCould not execute JDBC batch update\r\n```\r\n\r\nUnfortunately, the error is not really meaningful. Also, I don&#39;t get any information whether it might be a duplicate or not. But if I delete the unique index, it works. So my guess is that it is because of that.\r\n\r\n\r\n\r\n**Used frameworks / systems**\r\n\r\nJava 17 SE application, using Hibernate 3.2 (very old version) with the legacy mapping XML files (so still without annotations). The database is an IBM Informix database.\r\n\r\nThe database model, as well as the indexes are not generated by Java, but by regular SQL scripts.\r\n\r\nI can&#39;t change anything about the versions of Hibernate or the database either, unfortunately. Also I cannot influence how the index was created. This all happens outside the application. \r\n\r\n\r\n**Idea**\r\nThe only idea I had was to first change all records that need to be changed to fictitious values and then set the correct values again. But that would mean that two update statements are triggered per record, right?\r\n\r\nSomething like this:\r\n\r\n```\r\ndataset1.setFieldA(&quot;XXX&quot;);\r\ndataset2.setFieldA(&quot;YYY&quot;);\r\n\r\nsession.saveOrUpdate(dataset1);\r\nsession.saveOrUpdate(dataset2);\r\n\r\n\r\ndataset1.setFieldA(&quot;B&quot;);\r\ndataset2.setFieldA(&quot;A&quot;);\r\n\r\nsession.saveOrUpdate(dataset1);\r\nsession.saveOrUpdate(dataset2);\r\n\r\ntx.commit();\r\n``` \r\n\r\nHowever, I am not even sure if I need to commit the transaction. Maybe a flush or something similar is enough, but the solution is not really nice. I can kind of understand the problem, but I would also have thought that this would be legitimate within a transaction then - only at the end of the transaction the constraints have to be correct.\r\n\r\n\r\n\r\nMany greetings and thanks for your help,\r\n\r\nHauke","title":"Update Statement with hibernate switching unique key fields","body":"<p>I'm not sure exactly where the error is coming from, unfortunately, but I have a guess and would like to know the best way to solve it.</p>\n<p><strong>Problem</strong></p>\n<p>Suppose we have the following table in the database</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>Field A</th>\n<th>Field B</th>\n<th>Field C</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>A</td>\n<td>C</td>\n<td>Something</td>\n</tr>\n<tr>\n<td>2</td>\n<td>B</td>\n<td>C</td>\n<td>Something else</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>And we have two unique indexes on the table</p>\n<p>Unique-Index1 (ID)\nUnique-Index2 (FieldA, FieldB)</p>\n<p>Now I am loading both entities</p>\n<pre><code>        Session session = ...();\n        Transaction tx = session.beginTransaction();\n\n        TestTable dataset1 = (TestTable) session.get(TestTable.class, 1);\n        TestTable dataset2 = (TestTable) session.get(TestTable.class, 2);\n</code></pre>\n<p>And now I want to do something like this</p>\n<pre><code>update testtable set fielda = 'B' where id = 1;\nupdate testtable set fielda = 'A' where id = 2;\n</code></pre>\n<p>So at the end the unique key is not violated, but after the first statement, the unique index is violated.</p>\n<p>In my JAVA application it looks like this</p>\n<pre><code>dataset1.setFieldA(&quot;B&quot;);\ndataset2.setFieldA(&quot;A&quot;);\n\nsession.saveOrUpdate(dataset1);\nsession.saveOrUpdate(dataset2);\n\ntx.commit();\n</code></pre>\n<p>After executing the application I get the following exception</p>\n<pre><code>Could not execute JDBC batch update\n</code></pre>\n<p>Unfortunately, the error is not really meaningful. Also, I don't get any information whether it might be a duplicate or not. But if I delete the unique index, it works. So my guess is that it is because of that.</p>\n<p><strong>Used frameworks / systems</strong></p>\n<p>Java 17 SE application, using Hibernate 3.2 (very old version) with the legacy mapping XML files (so still without annotations). The database is an IBM Informix database.</p>\n<p>The database model, as well as the indexes are not generated by Java, but by regular SQL scripts.</p>\n<p>I can't change anything about the versions of Hibernate or the database either, unfortunately. Also I cannot influence how the index was created. This all happens outside the application.</p>\n<p><strong>Idea</strong>\nThe only idea I had was to first change all records that need to be changed to fictitious values and then set the correct values again. But that would mean that two update statements are triggered per record, right?</p>\n<p>Something like this:</p>\n<pre><code>dataset1.setFieldA(&quot;XXX&quot;);\ndataset2.setFieldA(&quot;YYY&quot;);\n\nsession.saveOrUpdate(dataset1);\nsession.saveOrUpdate(dataset2);\n\n\ndataset1.setFieldA(&quot;B&quot;);\ndataset2.setFieldA(&quot;A&quot;);\n\nsession.saveOrUpdate(dataset1);\nsession.saveOrUpdate(dataset2);\n\ntx.commit();\n</code></pre>\n<p>However, I am not even sure if I need to commit the transaction. Maybe a flush or something similar is enough, but the solution is not really nice. I can kind of understand the problem, but I would also have thought that this would be legitimate within a transaction then - only at the end of the transaction the constraints have to be correct.</p>\n<p>Many greetings and thanks for your help,</p>\n<p>Hauke</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665400411,"creation_date":1665400411,"answer_id":74014017,"question_id":74013661,"body_markdown":"From your input json, here I have assume that there is no digit present on json key. So, there is no need to add `\\d` on regex.\r\n\r\nHere, I have replace `dot (.)` on json key with character `underscore (_)`. Yes, you can replace with any character if you want.\r\n\r\n    Matcher matcher = Pattern.compile(&quot;\\&quot;([\\\\w\\\\.]*)\\&quot;[:]&quot;, Pattern.CASE_INSENSITIVE)\r\n    \t.matcher(json);\r\n    while(matcher.find()) {\r\n    \tif(matcher.group().contains(&quot;.&quot;)) {\r\n    \t\tjson = json.substring(0, matcher.start()) \r\n    \t\t\t+ matcher.group().replace(&quot;.&quot;, &quot;_&quot;) \r\n    \t\t\t\t+ json.substring(matcher.end());\r\n    \t}\r\n    }\r\n    System.out.println(json);\r\n\r\n\t\t\r\n  \r\nResult of this program as below:\r\n\r\n    {\r\n      &quot;header&quot;: {\r\n        &quot;dataModelVersion&quot;: &quot;3&quot;\r\n      },\r\n      &quot;content&quot;: {\r\n        &quot;sasl_kerberos_service_name&quot;: {\r\n          &quot;displayName&quot;: &quot;Kerberos Service Name&quot;,\r\n          &quot;identifiesControllerService&quot;: false,\r\n          &quot;name&quot;: &quot;sasl.kerberos.service.name&quot;,\r\n          &quot;sensitive&quot;: false\r\n        }\r\n      }\r\n    } \r\n\r\n  \r\n","title":"Regex in a iterative manner only for Json Keys","body":"<p>From your input json, here I have assume that there is no digit present on json key. So, there is no need to add <code>\\d</code> on regex.</p>\n<p>Here, I have replace <code>dot (.)</code> on json key with character <code>underscore (_)</code>. Yes, you can replace with any character if you want.</p>\n<pre><code>Matcher matcher = Pattern.compile(&quot;\\&quot;([\\\\w\\\\.]*)\\&quot;[:]&quot;, Pattern.CASE_INSENSITIVE)\n    .matcher(json);\nwhile(matcher.find()) {\n    if(matcher.group().contains(&quot;.&quot;)) {\n        json = json.substring(0, matcher.start()) \n            + matcher.group().replace(&quot;.&quot;, &quot;_&quot;) \n                + json.substring(matcher.end());\n    }\n}\nSystem.out.println(json);\n\n    \n</code></pre>\n<p>Result of this program as below:</p>\n<pre><code>{\n  &quot;header&quot;: {\n    &quot;dataModelVersion&quot;: &quot;3&quot;\n  },\n  &quot;content&quot;: {\n    &quot;sasl_kerberos_service_name&quot;: {\n      &quot;displayName&quot;: &quot;Kerberos Service Name&quot;,\n      &quot;identifiesControllerService&quot;: false,\n      &quot;name&quot;: &quot;sasl.kerberos.service.name&quot;,\n      &quot;sensitive&quot;: false\n    }\n  }\n} \n</code></pre>\n"}],"owner":{"account_id":3765153,"reputation":105,"user_id":3145728,"accept_rate":25,"display_name":"Scorpy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665400411,"creation_date":1665398582,"question_id":74013661,"body_markdown":"I have been trying to replace the dots with a different symbol using regex. But unable to add all the dots in capturing groups to replace. Basically this dots needs to be replaced only for keys.\r\nI have tried with `[\\w\\d]*([.])]*` which gets me all the instances where dots exists with words. But unable to set it just for keys.\r\nIf at all try ending the expression with `&quot;` and `:` like `[\\w\\d]+?([.])]*?[\\w\\d]+?[&quot;:]` it selects only the last part of the key or value.\r\n\r\n    {\r\n      &quot;header&quot;: {\r\n        &quot;dataModelVersion&quot;: &quot;3&quot;\r\n      },\r\n      &quot;content&quot;: {\r\n              &quot;sasl.kerberos.service.name&quot;: {\r\n                &quot;displayName&quot;: &quot;Kerberos Service Name&quot;,\r\n                &quot;identifiesControllerService&quot;: false,\r\n                &quot;name&quot;: &quot;sasl.kerberos.service.name&quot;,\r\n                &quot;sensitive&quot;: false\r\n              }\r\n        }\r\n    }","title":"Regex in a iterative manner only for Json Keys","body":"<p>I have been trying to replace the dots with a different symbol using regex. But unable to add all the dots in capturing groups to replace. Basically this dots needs to be replaced only for keys.\nI have tried with <code>[\\w\\d]*([.])]*</code> which gets me all the instances where dots exists with words. But unable to set it just for keys.\nIf at all try ending the expression with <code>&quot;</code> and <code>:</code> like <code>[\\w\\d]+?([.])]*?[\\w\\d]+?[&quot;:]</code> it selects only the last part of the key or value.</p>\n<pre><code>{\n  &quot;header&quot;: {\n    &quot;dataModelVersion&quot;: &quot;3&quot;\n  },\n  &quot;content&quot;: {\n          &quot;sasl.kerberos.service.name&quot;: {\n            &quot;displayName&quot;: &quot;Kerberos Service Name&quot;,\n            &quot;identifiesControllerService&quot;: false,\n            &quot;name&quot;: &quot;sasl.kerberos.service.name&quot;,\n            &quot;sensitive&quot;: false\n          }\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","json","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"display_name":"user16891224"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665400073,"creation_date":1665398724,"answer_id":74013691,"question_id":74005909,"body_markdown":"So first you need to do the POST request to create Country object:\r\n\r\n    {\r\n        &quot;name&quot;: &quot;USA&quot;,\r\n        &quot;cities&quot;: []\r\n    }\r\n\r\nSecond you need to do the POST request to create the City object and put the field country with the Primary Key (PK):\r\n\r\n    {\r\n        &quot;name&quot;: &quot;Huston&quot;,\r\n        &quot;country&quot;: 1,\r\n        &quot;neighborhoods&quot;: []\r\n    }\r\n\r\nThat&#39;s pretty much it actually. ","title":"How do POST with JSON with OneToMany?","body":"<p>So first you need to do the POST request to create Country object:</p>\n<pre><code>{\n    &quot;name&quot;: &quot;USA&quot;,\n    &quot;cities&quot;: []\n}\n</code></pre>\n<p>Second you need to do the POST request to create the City object and put the field country with the Primary Key (PK):</p>\n<pre><code>{\n    &quot;name&quot;: &quot;Huston&quot;,\n    &quot;country&quot;: 1,\n    &quot;neighborhoods&quot;: []\n}\n</code></pre>\n<p>That's pretty much it actually.</p>\n"}],"owner":{"account_id":26234332,"reputation":3,"user_id":19909750,"display_name":"jSckons"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74013691,"answer_count":1,"score":-1,"last_activity_date":1665400073,"creation_date":1665328199,"question_id":74005909,"body_markdown":"I am using SpringBoot, so lets say first, I want to make a Country, and after doing that POST with JSON how can I do other POST to create a City and adding it to the Country created?\r\n\r\nOr I cant do it with JSON?\r\n\r\nAnd idk if is a good idea having the FK pointing the name instead of the ID, in my head it works the same bc is an unique key, right?\r\n\r\nThanks!\r\n\r\nCountry code:\r\n\r\n    @Entity\r\n    @Table(uniqueConstraints = {\r\n            @UniqueConstraint(name = &quot;country_name&quot;,columnNames = &quot;name&quot;)\r\n    })\r\n    @Getter @Setter @RequiredArgsConstructor @NoArgsConstructor @ToString\r\n    public class Country implements Serializable {\r\n        @Id\r\n        @Column(updatable = false, nullable = false, unique = true)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @NonNull\r\n        private String name;\r\n    \r\n        @OneToMany(mappedBy = &quot;country&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private Set&lt;City&gt; cities = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n\r\nCity code:\r\n\r\n    @Entity\r\n    @Table(uniqueConstraints = {\r\n            @UniqueConstraint(name = &quot;city_name&quot;,columnNames = &quot;name&quot;)\r\n    \r\n    })\r\n    @Getter @Setter @RequiredArgsConstructor @NoArgsConstructor @ToString\r\n    public class City implements Serializable {\r\n        @Id\r\n        @Column(updatable = false, nullable = false, unique = true)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        \r\n        @NonNull\r\n        private String name;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;country_name&quot;, referencedColumnName = &quot;name&quot;, nullable = false,\r\n                foreignKey=@ForeignKey(name = &quot;FK_country_city&quot;))\r\n        private Country country;\r\n    \r\n        @OneToMany(mappedBy = &quot;city&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private Set&lt;Neighborhood&gt; neighborhoods = new HashSet&lt;&gt;();\r\n        \r\n    }\r\n\r\n\r\nNeiborhood code:\r\n\r\n    @Entity\r\n    @Table(uniqueConstraints = {\r\n            @UniqueConstraint(name = &quot;neighborhood_name&quot;,columnNames = &quot;name&quot;)\r\n    })\r\n    @Getter @Setter @RequiredArgsConstructor @NoArgsConstructor @ToString\r\n    public class Neighborhood implements Serializable {\r\n    \r\n        @Id\r\n        @Column(updatable = false, nullable = false, unique = true)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        \r\n        @NonNull\r\n        private String name;\r\n        @NonNull\r\n        private String neighborhoodType;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;city_name&quot;, referencedColumnName = &quot;name&quot;, nullable = false,\r\n                foreignKey=@ForeignKey(name = &quot;FK_city_neighborhood&quot;))\r\n        private City city;\r\n    \r\n    }\r\n\r\n","title":"How do POST with JSON with OneToMany?","body":"<p>I am using SpringBoot, so lets say first, I want to make a Country, and after doing that POST with JSON how can I do other POST to create a City and adding it to the Country created?</p>\n<p>Or I cant do it with JSON?</p>\n<p>And idk if is a good idea having the FK pointing the name instead of the ID, in my head it works the same bc is an unique key, right?</p>\n<p>Thanks!</p>\n<p>Country code:</p>\n<pre><code>@Entity\n@Table(uniqueConstraints = {\n        @UniqueConstraint(name = &quot;country_name&quot;,columnNames = &quot;name&quot;)\n})\n@Getter @Setter @RequiredArgsConstructor @NoArgsConstructor @ToString\npublic class Country implements Serializable {\n    @Id\n    @Column(updatable = false, nullable = false, unique = true)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NonNull\n    private String name;\n\n    @OneToMany(mappedBy = &quot;country&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;City&gt; cities = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>City code:</p>\n<pre><code>@Entity\n@Table(uniqueConstraints = {\n        @UniqueConstraint(name = &quot;city_name&quot;,columnNames = &quot;name&quot;)\n\n})\n@Getter @Setter @RequiredArgsConstructor @NoArgsConstructor @ToString\npublic class City implements Serializable {\n    @Id\n    @Column(updatable = false, nullable = false, unique = true)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @NonNull\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;country_name&quot;, referencedColumnName = &quot;name&quot;, nullable = false,\n            foreignKey=@ForeignKey(name = &quot;FK_country_city&quot;))\n    private Country country;\n\n    @OneToMany(mappedBy = &quot;city&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;Neighborhood&gt; neighborhoods = new HashSet&lt;&gt;();\n    \n}\n</code></pre>\n<p>Neiborhood code:</p>\n<pre><code>@Entity\n@Table(uniqueConstraints = {\n        @UniqueConstraint(name = &quot;neighborhood_name&quot;,columnNames = &quot;name&quot;)\n})\n@Getter @Setter @RequiredArgsConstructor @NoArgsConstructor @ToString\npublic class Neighborhood implements Serializable {\n\n    @Id\n    @Column(updatable = false, nullable = false, unique = true)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @NonNull\n    private String name;\n    @NonNull\n    private String neighborhoodType;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;city_name&quot;, referencedColumnName = &quot;name&quot;, nullable = false,\n            foreignKey=@ForeignKey(name = &quot;FK_city_neighborhood&quot;))\n    private City city;\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8037762,"reputation":402,"user_id":6060388,"display_name":"ahjo4321hsotuhsa"},"score":1,"creation_date":1665322227,"post_id":74004918,"comment_id":130668210,"body_markdown":"Try creating new emulator using  AVD","body":"Try creating new emulator using  AVD"}],"answers":[{"tags":[],"owner":{"account_id":15605721,"reputation":173,"user_id":11258507,"display_name":"tianming shi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665399699,"creation_date":1665399699,"answer_id":74013876,"question_id":74004918,"body_markdown":"Try to delete the old emulator and recreate new emulator by Devices Manager.","title":"Can&#39;t run the program because Loading Devices in emulator is not running on Android Studio","body":"<p>Try to delete the old emulator and recreate new emulator by Devices Manager.</p>\n"}],"owner":{"account_id":22608667,"reputation":1,"user_id":16789211,"display_name":"Rafif Ramadan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665399699,"creation_date":1665319888,"question_id":74004918,"body_markdown":"I just downloaded Android Studio because I have a school assignment. I was given the task to create an application. I&#39;ve downloaded the emulator and also the OS is at least **5.0 (Lollipop)**. When I first run Android Studio, the app runs. Then a few days later I reopened. My emulator &quot;Loading Devices&quot; has no Devices running.\r\n\r\n[![Android Studio Loading Devices][1]][1]\r\n\r\nWhat is the solution to that? Does anyone know a solution for such a case? I have tried **Invalidate Cache** and the problem is still the same. Can anyone help?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0DuVP.png","title":"Can&#39;t run the program because Loading Devices in emulator is not running on Android Studio","body":"<p>I just downloaded Android Studio because I have a school assignment. I was given the task to create an application. I've downloaded the emulator and also the OS is at least <strong>5.0 (Lollipop)</strong>. When I first run Android Studio, the app runs. Then a few days later I reopened. My emulator &quot;Loading Devices&quot; has no Devices running.</p>\n<p><a href=\"https://i.stack.imgur.com/0DuVP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0DuVP.png\" alt=\"Android Studio Loading Devices\" /></a></p>\n<p>What is the solution to that? Does anyone know a solution for such a case? I have tried <strong>Invalidate Cache</strong> and the problem is still the same. Can anyone help?</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665399698,"creation_date":1665399698,"answer_id":74013875,"question_id":74013517,"body_markdown":"I don&#39;t think what you are asking for is possible, but you can reduce by a lot duplicated code using Quarkus OpenAPI merge feature:\r\n\r\n&gt; a request to /q/openapi will serve the combined OpenAPI document from the static file and the model generated from application endpoints code\r\n\r\nJust create a static openapi.yml file and define reusable responses for status codes.&lt;br/&gt;\r\nEvery `@APIResponse` owns a `ref` property used to `ref`erence an element in your OpenAPI file; just reference the correct response.\r\n\r\nhttps://swagger.io/docs/specification/describing-responses/&lt;br/&gt;\r\nhttps://stackoverflow.com/questions/69173235/how-to-reference-response-components-in-openapi","title":"Combine multiple annotations into one","body":"<p>I don't think what you are asking for is possible, but you can reduce by a lot duplicated code using Quarkus OpenAPI merge feature:</p>\n<blockquote>\n<p>a request to /q/openapi will serve the combined OpenAPI document from the static file and the model generated from application endpoints code</p>\n</blockquote>\n<p>Just create a static openapi.yml file and define reusable responses for status codes.<br/>\nEvery <code>@APIResponse</code> owns a <code>ref</code> property used to <code>ref</code>erence an element in your OpenAPI file; just reference the correct response.</p>\n<p><a href=\"https://swagger.io/docs/specification/describing-responses/\" rel=\"nofollow noreferrer\">https://swagger.io/docs/specification/describing-responses/</a><br/>\n<a href=\"https://stackoverflow.com/questions/69173235/how-to-reference-response-components-in-openapi\">How to reference response components in OpenAPI?</a></p>\n"}],"owner":{"account_id":26578873,"reputation":11,"user_id":20203830,"display_name":"kadir_j"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665399698,"creation_date":1665397939,"question_id":74013517,"body_markdown":"Im using Java 11 Quarkus 2.9.2 Final and I would like to avoid duplication of a set of annotations:\r\n\r\n```\r\n      @APIResponse(\r\n          responseCode = &quot;401&quot;,\r\n          description = &quot;Unauthorized&quot;,\r\n          content = @Content(mediaType = MediaType.APPLICATION_JSON)),\r\n      @APIResponse(\r\n          responseCode = &quot;403&quot;,\r\n          description = &quot;Forbidden&quot;,\r\n          content = @Content(mediaType = MediaType.APPLICATION_JSON)),\r\n      @APIResponse(\r\n          responseCode = &quot;404&quot;,\r\n          description = &quot;Not Found&quot;,\r\n          content = @Content(mediaType = MediaType.APPLICATION_JSON))\r\n```\r\n\r\nMy plan is to make a custom annotation for it like @APIResponses40X(). \r\n\r\nIs this possible? Can someone help me?","title":"Combine multiple annotations into one","body":"<p>Im using Java 11 Quarkus 2.9.2 Final and I would like to avoid duplication of a set of annotations:</p>\n<pre><code>      @APIResponse(\n          responseCode = &quot;401&quot;,\n          description = &quot;Unauthorized&quot;,\n          content = @Content(mediaType = MediaType.APPLICATION_JSON)),\n      @APIResponse(\n          responseCode = &quot;403&quot;,\n          description = &quot;Forbidden&quot;,\n          content = @Content(mediaType = MediaType.APPLICATION_JSON)),\n      @APIResponse(\n          responseCode = &quot;404&quot;,\n          description = &quot;Not Found&quot;,\n          content = @Content(mediaType = MediaType.APPLICATION_JSON))\n</code></pre>\n<p>My plan is to make a custom annotation for it like @APIResponses40X().</p>\n<p>Is this possible? Can someone help me?</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1665391737,"post_id":74012290,"comment_id":130681008,"body_markdown":"First make sure to create Java code that actually compiles","body":"First make sure to create Java code that actually compiles"},{"owner":{"account_id":25829249,"reputation":1,"user_id":20203072,"display_name":"Quinn"},"score":0,"creation_date":1665391946,"post_id":74012290,"comment_id":130681085,"body_markdown":"@JeroenSteenbeeke I need to fill it , but I dont know how to get &quot;statusLabel &quot; from fxml","body":"@JeroenSteenbeeke I need to fill it , but I dont know how to get &quot;statusLabel &quot; from fxml"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1665399349,"post_id":74012290,"comment_id":130683497,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1665410386,"post_id":74012290,"comment_id":130687396,"body_markdown":"What actually do you want to print?  The characters &quot;statusLabel&quot;, or the text in the label &quot;Status: 200&quot;?  And why from a test case and not an app?  If an app and you want to print the text, then have `@FXML Label statusLabel;` in your controller, and call `statusLabel.getText()`.  If a test case look into TestFX library,  If you don&#39;t know what @FXML and a controller is, study an FXML tutorial.","body":"What actually do you want to print?  The characters &quot;statusLabel&quot;, or the text in the label &quot;Status: 200&quot;?  And why from a test case and not an app?  If an app and you want to print the text, then have <code>@FXML Label statusLabel;</code> in your controller, and call <code>statusLabel.getText()</code>.  If a test case look into TestFX library,  If you don&#39;t know what @FXML and a controller is, study an FXML tutorial."},{"owner":{"account_id":25829249,"reputation":1,"user_id":20203072,"display_name":"Quinn"},"score":0,"creation_date":1665411436,"post_id":74012290,"comment_id":130687790,"body_markdown":"@jewelsea I want print text in the label &quot;Status: 200&quot;","body":"@jewelsea I want print text in the label &quot;Status: 200&quot;"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1665411645,"post_id":74012290,"comment_id":130687857,"body_markdown":"In a unit test case or during application execution?  What is your purpose?  Please provide some context for the question to help answer it better.","body":"In a unit test case or during application execution?  What is your purpose?  Please provide some context for the question to help answer it better."},{"owner":{"account_id":25829249,"reputation":1,"user_id":20203072,"display_name":"Quinn"},"score":0,"creation_date":1665412307,"post_id":74012290,"comment_id":130688137,"body_markdown":"@jewelsea I need to write code into &quot;MainSceneTest&quot; which returns id=&quot;statuslabel&quot; aka &quot;Status:200&quot;. So I was thinking about loading fxml file, and using&quot;id&quot; from this fxml for printing","body":"@jewelsea I need to write code into &quot;MainSceneTest&quot; which returns id=&quot;statuslabel&quot; aka &quot;Status:200&quot;. So I was thinking about loading fxml file, and using&quot;id&quot; from this fxml for printing"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1665413486,"post_id":74012290,"comment_id":130688610,"body_markdown":"Given that you seem to be writing unit tests for JavaFX applications, you could use [TestFX](https://github.com/TestFX/TestFX/wiki/Getting-Started). Have an application load your FXML, and in your test write something like `verifyThat(&quot;#statusLabel&quot;, hasText(&quot;Status: 200&quot;));`.  I have not used TestFX, so will refer you to the documentation for details if that is something you wish to investigate.","body":"Given that you seem to be writing unit tests for JavaFX applications, you could use <a href=\"https://github.com/TestFX/TestFX/wiki/Getting-Started\" rel=\"nofollow noreferrer\">TestFX</a>. Have an application load your FXML, and in your test write something like <code>verifyThat(&quot;#statusLabel&quot;, hasText(&quot;Status: 200&quot;));</code>.  I have not used TestFX, so will refer you to the documentation for details if that is something you wish to investigate."}],"answers":[{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665399071,"creation_date":1665399071,"answer_id":74013758,"question_id":74012290,"body_markdown":"the right tool for &quot;searching for values in XML&quot; is, of course, [XPath][1].  \r\nXPath is a path-oriented query language that works on XML documents.  at runtime, XPath works similar to regular expression: it compiles an expression and finds matches in an XML document.\r\n\r\nThis is how to load a String into an XML document:\r\n\r\n\tstatic Document fromString(String xmlString) throws ParserConfigurationException, IOException, SAXException {\r\n\t\tDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n\t\treturn factory.newDocumentBuilder().parse(new InputSource(new StringReader(xmlString)));\r\n\t}\r\n\r\nin your case, the attribute name contains namespace (the part on the left side of the colon) and that makes the path expr a little more complicated then just searching for an xml attribute\r\n\r\n    String expression = &quot;/Label/@*[name()=&#39;fx:id&#39;]&quot;;\r\n\r\nThis is how to search for an XPath expr in an XML document:\r\n\r\n\t\tXPath xPath = XPathFactory.newInstance().newXPath();\r\n\t\tNode node = (Node)xPath.compile(expression).evaluate(xmlDocument, XPathConstants.NODE);\r\n\r\nand here is the complete solution\r\n\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Node;\r\n    import org.xml.sax.InputSource;\r\n    import org.xml.sax.SAXException;\r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    import javax.xml.xpath.XPath;\r\n    import javax.xml.xpath.XPathConstants;\r\n    import javax.xml.xpath.XPathFactory;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.StringReader;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class Xpath {\r\n    \r\n    \tstatic final String xmlString = &quot;&quot;&quot;\r\n    \t\t&lt;Label fx:id=&quot;statusLabel&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Status: 200&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n    \t\t\t&lt;GridPane.margin&gt;\r\n    \t\t\t\t&lt;Insets left=&quot;10.0&quot; /&gt;\r\n    \t\t\t&lt;/GridPane.margin&gt;\r\n    \t\t\t&lt;font&gt;\r\n    \t\t\t\t&lt;Font size=&quot;20.0&quot; /&gt;\r\n    \t\t\t&lt;/font&gt;\r\n    \t\t&lt;/Label&gt;\t\t\t\r\n    \t&quot;&quot;&quot;;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tDocument xmlDocument = fromString(xmlString);\r\n    \t\t\tXPath xPath = XPathFactory.newInstance().newXPath();\r\n    \t\t\tString expression = &quot;/Label/@*[name()=&#39;fx:id&#39;]&quot;;\r\n    \t\t\tNode node = (Node)xPath.compile(expression).evaluate(xmlDocument, XPathConstants.NODE);\r\n    \t\t\tSystem.out.println(node.getNodeValue());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic Document fromString(String xmlString) throws ParserConfigurationException, IOException, SAXException {\r\n    \t\tDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    \t\treturn factory.newDocumentBuilder().parse(new InputSource(new StringReader(xmlString)));\r\n    \t}\r\n    }\r\n\r\n  [1]: https://www.w3schools.com/xml/xpath_intro.asp\r\n","title":"How do I get &quot;id&quot; from fxml and you use it to printiline?","body":"<p>the right tool for &quot;searching for values in XML&quot; is, of course, <a href=\"https://www.w3schools.com/xml/xpath_intro.asp\" rel=\"nofollow noreferrer\">XPath</a>.<br />\nXPath is a path-oriented query language that works on XML documents.  at runtime, XPath works similar to regular expression: it compiles an expression and finds matches in an XML document.</p>\n<p>This is how to load a String into an XML document:</p>\n<pre><code>static Document fromString(String xmlString) throws ParserConfigurationException, IOException, SAXException {\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    return factory.newDocumentBuilder().parse(new InputSource(new StringReader(xmlString)));\n}\n</code></pre>\n<p>in your case, the attribute name contains namespace (the part on the left side of the colon) and that makes the path expr a little more complicated then just searching for an xml attribute</p>\n<pre><code>String expression = &quot;/Label/@*[name()='fx:id']&quot;;\n</code></pre>\n<p>This is how to search for an XPath expr in an XML document:</p>\n<pre><code>    XPath xPath = XPathFactory.newInstance().newXPath();\n    Node node = (Node)xPath.compile(expression).evaluate(xmlDocument, XPathConstants.NODE);\n</code></pre>\n<p>and here is the complete solution</p>\n<pre><code>import org.w3c.dom.Document;\nimport org.w3c.dom.Node;\nimport org.xml.sax.InputSource;\nimport org.xml.sax.SAXException;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathFactory;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.StringReader;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class Xpath {\n\n    static final String xmlString = &quot;&quot;&quot;\n        &lt;Label fx:id=&quot;statusLabel&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Status: 200&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowIndex=&quot;2&quot;&gt;\n            &lt;GridPane.margin&gt;\n                &lt;Insets left=&quot;10.0&quot; /&gt;\n            &lt;/GridPane.margin&gt;\n            &lt;font&gt;\n                &lt;Font size=&quot;20.0&quot; /&gt;\n            &lt;/font&gt;\n        &lt;/Label&gt;            \n    &quot;&quot;&quot;;\n\n    public static void main(String[] args) {\n        try {\n            Document xmlDocument = fromString(xmlString);\n            XPath xPath = XPathFactory.newInstance().newXPath();\n            String expression = &quot;/Label/@*[name()='fx:id']&quot;;\n            Node node = (Node)xPath.compile(expression).evaluate(xmlDocument, XPathConstants.NODE);\n            System.out.println(node.getNodeValue());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    static Document fromString(String xmlString) throws ParserConfigurationException, IOException, SAXException {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        return factory.newDocumentBuilder().parse(new InputSource(new StringReader(xmlString)));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25829249,"reputation":1,"user_id":20203072,"display_name":"Quinn"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1665402958,"answer_count":1,"score":-1,"last_activity_date":1665399325,"creation_date":1665391637,"question_id":74012290,"body_markdown":"I have fxml file called :&quot;MainScene&quot;\r\n\r\n    .....\r\n    &lt;Label fx:id=&quot;statusLabel&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Status: 200&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowIndex=&quot;2&quot;&gt;\r\n                   &lt;GridPane.margin&gt;\r\n                      &lt;Insets left=&quot;10.0&quot; /&gt;\r\n                   &lt;/GridPane.margin&gt;\r\n                   &lt;font&gt;\r\n                      &lt;Font size=&quot;20.0&quot; /&gt;\r\n                   &lt;/font&gt;\r\n                &lt;/Label&gt;\r\n    ....\r\nI need to printline &quot;statuslabel&quot;. My question is how do I get it ? I have &quot;MainSceneTest&quot;:\r\n\r\n    package wrapper.sk.machine.controller;\r\n    import org.junit.jupiter.api.DisplayName;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.fail;\r\n    \r\n    class MainSceneTest {\r\n    \r\n        @DisplayName(&quot;should create status message from status code&quot;)\r\n        System.println(statusLabel);\t// this is probably wrong or it is one of the last step\r\n\r\n        @Test\r\n        void shouldCreateStatusLabelFromStatusCode() {\r\n            fail();\r\n        }\r\n    \r\n    }\r\n\r\nThank you for any tips.\r\n\r\n\r\n","title":"How do I get &quot;id&quot; from fxml and you use it to printiline?","body":"<p>I have fxml file called :&quot;MainScene&quot;</p>\n<pre><code>.....\n&lt;Label fx:id=&quot;statusLabel&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Status: 200&quot; GridPane.columnSpan=&quot;2&quot; GridPane.rowIndex=&quot;2&quot;&gt;\n               &lt;GridPane.margin&gt;\n                  &lt;Insets left=&quot;10.0&quot; /&gt;\n               &lt;/GridPane.margin&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;20.0&quot; /&gt;\n               &lt;/font&gt;\n            &lt;/Label&gt;\n....\n</code></pre>\n<p>I need to printline &quot;statuslabel&quot;. My question is how do I get it ? I have &quot;MainSceneTest&quot;:</p>\n<pre><code>package wrapper.sk.machine.controller;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.fail;\n\nclass MainSceneTest {\n\n    @DisplayName(&quot;should create status message from status code&quot;)\n    System.println(statusLabel);    // this is probably wrong or it is one of the last step\n\n    @Test\n    void shouldCreateStatusLabelFromStatusCode() {\n        fail();\n    }\n\n}\n</code></pre>\n<p>Thank you for any tips.</p>\n"},{"tags":["java","sonarqube","java-11","devsecops"],"comments":[{"owner":{"account_id":11977399,"reputation":637,"user_id":8764150,"display_name":"Djordje Nedovic"},"score":0,"creation_date":1662983511,"post_id":73632469,"comment_id":130124805,"body_markdown":"Can you extend this log with more info, because it is nearly impossible to get an idea of what is happening from this? Thanks in advance!","body":"Can you extend this log with more info, because it is nearly impossible to get an idea of what is happening from this? Thanks in advance!"},{"owner":{"account_id":24716376,"reputation":129,"user_id":18606056,"display_name":"Developing Electronics"},"score":0,"creation_date":1663150319,"post_id":73632469,"comment_id":130169647,"body_markdown":"Its all I received in the console","body":"Its all I received in the console"}],"answers":[{"tags":[],"owner":{"account_id":11073856,"reputation":771,"user_id":8131198,"accept_rate":60,"display_name":"begarco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662711585,"creation_date":1662711585,"answer_id":73659259,"question_id":73632469,"body_markdown":"You may check you have a compatible JRE server version.\r\n\r\nCould you please provide the content of the `&lt;SONAR_HOME&gt;/logs/web.log` file ?","title":"Why Sonarqube stops before running completely?","body":"<p>You may check you have a compatible JRE server version.</p>\n<p>Could you please provide the content of the <code>&lt;SONAR_HOME&gt;/logs/web.log</code> file ?</p>\n"}],"owner":{"account_id":24716376,"reputation":129,"user_id":18606056,"display_name":"Developing Electronics"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":948,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73659259,"answer_count":1,"score":1,"last_activity_date":1665399319,"creation_date":1662540084,"question_id":73632469,"body_markdown":"I am installing Sonarqube (community version) (v8). I know I need JDK 11, so I have installed it using Windows Installer. Whatsmore, I hace changed `wrapper.java.command` to `wrapper.java.command=C:\\Program Files\\Java\\jdk-11.0.16\\bin\\java.exe` (I have tried `wrapper.java.command=C:\\Program Files\\Java\\jdk-11.0.16\\bin\\java` too, without the `.exe`). It is not working, if I look into localhost:9000 the screen shows &quot;loading&quot; and in the prompt the process ends after one second o two. This is the output:\r\n\r\n(I haved tried deleting temp folder&#39;s content and killing java task in task administrator too)\r\n```java\r\nStartSonar.bat\r\nwrapper  | --&gt; Wrapper Started as Console\r\nwrapper  | Launching a JVM...\r\njvm 1    | Wrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\r\njvm 1    |   Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\r\njvm 1    |\r\njvm 1    | 2022.09.07 10:39:27 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory C:\\sonarqube\\sonarqube-8.9.9.56886\\temp\r\njvm 1    | 2022.09.07 10:39:27 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on [HTTP: 127.0.0.1:9001, TCP: 127.0.0.1:50285]\r\njvm 1    | 2022.09.07 10:39:27 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[[key=&#39;es&#39;, ipcIndex=1, logFilenamePrefix=es]] from [C:\\sonarqube\\sonarqube-8.9.9.56886\\elasticsearch]: C:\\Program Files\\Java\\jdk-11.0.16\\bin\\java -XX:+UseG1GC -Djava.io.tmpdir=C:\\sonarqube\\sonarqube-8.9.9.56886\\temp -XX:ErrorFile=../logs/es_hs_err_pid%p.log -Des.networkaddress.cache.ttl=60 -Des.networkaddress.cache.negative.ttl=10 -XX:+AlwaysPreTouch -Xss1m -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djna.nosys=true -Djna.tmpdir=C:\\sonarqube\\sonarqube-8.9.9.56886\\temp -XX:-OmitStackTraceInFastThrow -Dio.netty.noUnsafe=true -Dio.netty.noKeySetOptimization=true -Dio.netty.recycler.maxCapacityPerThread=0 -Dio.netty.allocator.numDirectArenas=0 -Dlog4j.shutdownHookEnabled=false -Dlog4j2.disable.jmx=true -Dlog4j2.formatMsgNoLookups=true -Djava.locale.providers=COMPAT -Xmx512m -Xms512m -XX:MaxDirectMemorySize=256m -XX:+HeapDumpOnOutOfMemoryError -Delasticsearch -Des.path.home=C:\\sonarqube\\sonarqube-8.9.9.56886\\elasticsearch -Des.path.conf=C:\\sonarqube\\sonarqube-8.9.9.56886\\temp\\conf\\es -cp lib/* org.elasticsearch.bootstrap.Elasticsearch\r\njvm 1    | 2022.09.07 10:39:27 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\r\njvm 1    | 2022.09.07 10:39:50 INFO  app[][o.s.a.SchedulerImpl] Process[es] is up\r\njvm 1    | 2022.09.07 10:39:50 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[[key=&#39;web&#39;, ipcIndex=2, logFilenamePrefix=web]] from [C:\\sonarqube\\sonarqube-8.9.9.56886]: C:\\Program Files\\Java\\jdk-11.0.16\\bin\\java -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djava.io.tmpdir=C:\\sonarqube\\sonarqube-8.9.9.56886\\temp -XX:-OmitStackTraceInFastThrow --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED -Xmx512m -Xms128m -XX:+HeapDumpOnOutOfMemoryError -Dhttp.nonProxyHosts=localhost|127.*|[::1] -cp ./lib/sonar-application-8.9.9.56886.jar;C:\\sonarqube\\sonarqube-8.9.9.56886\\lib\\jdbc\\h2\\h2-1.4.199.jar org.sonar.server.app.WebServer C:\\sonarqube\\sonarqube-8.9.9.56886\\temp\\sq-process16684317784465325676properties\r\njvm 1    | 2022.09.07 10:40:03 WARN  app[][startup] ####################################################################################################################\r\njvm 1    | 2022.09.07 10:40:03 WARN  app[][startup] Default Administrator credentials are still being used. Make sure to change the password or deactivate the account.\r\njvm 1    | 2022.09.07 10:40:03 WARN  app[][startup] ####################################################################################################################\r\njvm 1    | 2022.09.07 10:40:18 INFO  app[][o.s.a.SchedulerImpl] Process[web] is stopped\r\njvm 1    | 2022.09.07 10:40:18 INFO  app[][o.s.a.SchedulerImpl] Process[es] is stopped\r\njvm 1    | 2022.09.07 10:40:18 INFO  app[][o.s.a.SchedulerImpl] SonarQube is stopped\r\nwrapper  | &lt;-- Wrapper Stopped\r\n```","title":"Why Sonarqube stops before running completely?","body":"<p>I am installing Sonarqube (community version) (v8). I know I need JDK 11, so I have installed it using Windows Installer. Whatsmore, I hace changed <code>wrapper.java.command</code> to <code>wrapper.java.command=C:\\Program Files\\Java\\jdk-11.0.16\\bin\\java.exe</code> (I have tried <code>wrapper.java.command=C:\\Program Files\\Java\\jdk-11.0.16\\bin\\java</code> too, without the <code>.exe</code>). It is not working, if I look into localhost:9000 the screen shows &quot;loading&quot; and in the prompt the process ends after one second o two. This is the output:</p>\n<p>(I haved tried deleting temp folder's content and killing java task in task administrator too)</p>\n<pre class=\"lang-java prettyprint-override\"><code>StartSonar.bat\nwrapper  | --&gt; Wrapper Started as Console\nwrapper  | Launching a JVM...\njvm 1    | Wrapper (Version 3.2.3) http://wrapper.tanukisoftware.org\njvm 1    |   Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.\njvm 1    |\njvm 1    | 2022.09.07 10:39:27 INFO  app[][o.s.a.AppFileSystem] Cleaning or creating temp directory C:\\sonarqube\\sonarqube-8.9.9.56886\\temp\njvm 1    | 2022.09.07 10:39:27 INFO  app[][o.s.a.es.EsSettings] Elasticsearch listening on [HTTP: 127.0.0.1:9001, TCP: 127.0.0.1:50285]\njvm 1    | 2022.09.07 10:39:27 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[[key='es', ipcIndex=1, logFilenamePrefix=es]] from [C:\\sonarqube\\sonarqube-8.9.9.56886\\elasticsearch]: C:\\Program Files\\Java\\jdk-11.0.16\\bin\\java -XX:+UseG1GC -Djava.io.tmpdir=C:\\sonarqube\\sonarqube-8.9.9.56886\\temp -XX:ErrorFile=../logs/es_hs_err_pid%p.log -Des.networkaddress.cache.ttl=60 -Des.networkaddress.cache.negative.ttl=10 -XX:+AlwaysPreTouch -Xss1m -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djna.nosys=true -Djna.tmpdir=C:\\sonarqube\\sonarqube-8.9.9.56886\\temp -XX:-OmitStackTraceInFastThrow -Dio.netty.noUnsafe=true -Dio.netty.noKeySetOptimization=true -Dio.netty.recycler.maxCapacityPerThread=0 -Dio.netty.allocator.numDirectArenas=0 -Dlog4j.shutdownHookEnabled=false -Dlog4j2.disable.jmx=true -Dlog4j2.formatMsgNoLookups=true -Djava.locale.providers=COMPAT -Xmx512m -Xms512m -XX:MaxDirectMemorySize=256m -XX:+HeapDumpOnOutOfMemoryError -Delasticsearch -Des.path.home=C:\\sonarqube\\sonarqube-8.9.9.56886\\elasticsearch -Des.path.conf=C:\\sonarqube\\sonarqube-8.9.9.56886\\temp\\conf\\es -cp lib/* org.elasticsearch.bootstrap.Elasticsearch\njvm 1    | 2022.09.07 10:39:27 INFO  app[][o.s.a.SchedulerImpl] Waiting for Elasticsearch to be up and running\njvm 1    | 2022.09.07 10:39:50 INFO  app[][o.s.a.SchedulerImpl] Process[es] is up\njvm 1    | 2022.09.07 10:39:50 INFO  app[][o.s.a.ProcessLauncherImpl] Launch process[[key='web', ipcIndex=2, logFilenamePrefix=web]] from [C:\\sonarqube\\sonarqube-8.9.9.56886]: C:\\Program Files\\Java\\jdk-11.0.16\\bin\\java -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djava.io.tmpdir=C:\\sonarqube\\sonarqube-8.9.9.56886\\temp -XX:-OmitStackTraceInFastThrow --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED -Xmx512m -Xms128m -XX:+HeapDumpOnOutOfMemoryError -Dhttp.nonProxyHosts=localhost|127.*|[::1] -cp ./lib/sonar-application-8.9.9.56886.jar;C:\\sonarqube\\sonarqube-8.9.9.56886\\lib\\jdbc\\h2\\h2-1.4.199.jar org.sonar.server.app.WebServer C:\\sonarqube\\sonarqube-8.9.9.56886\\temp\\sq-process16684317784465325676properties\njvm 1    | 2022.09.07 10:40:03 WARN  app[][startup] ####################################################################################################################\njvm 1    | 2022.09.07 10:40:03 WARN  app[][startup] Default Administrator credentials are still being used. Make sure to change the password or deactivate the account.\njvm 1    | 2022.09.07 10:40:03 WARN  app[][startup] ####################################################################################################################\njvm 1    | 2022.09.07 10:40:18 INFO  app[][o.s.a.SchedulerImpl] Process[web] is stopped\njvm 1    | 2022.09.07 10:40:18 INFO  app[][o.s.a.SchedulerImpl] Process[es] is stopped\njvm 1    | 2022.09.07 10:40:18 INFO  app[][o.s.a.SchedulerImpl] SonarQube is stopped\nwrapper  | &lt;-- Wrapper Stopped\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","spring-batch"],"comments":[{"owner":{"account_id":15905509,"reputation":833,"user_id":11476834,"display_name":"Jochen Reinhardt"},"score":0,"creation_date":1665399514,"post_id":74013767,"comment_id":130683560,"body_markdown":"Your duplicate key entry might be in the same chunk of data / transaction. That would mean, you won&#39;t see the key in the database because your transaction is never committed, instead it will be rolled back. How do you create the key?\nPlease show your code with the random string key generation!\nIf your database reports a duplicate key, there *is* a duplicate key ;-)","body":"Your duplicate key entry might be in the same chunk of data / transaction. That would mean, you won&#39;t see the key in the database because your transaction is never committed, instead it will be rolled back. How do you create the key? Please show your code with the random string key generation! If your database reports a duplicate key, there <i>is</i> a duplicate key ;-)"},{"owner":{"account_id":14783499,"reputation":178,"user_id":10676421,"display_name":"Marius Danciu"},"score":0,"creation_date":1665400387,"post_id":74013767,"comment_id":130683832,"body_markdown":"Do not forget that in batch you do not make the commit after every line. So I guess you are generating the same key twice, and when the batch commit you get the error.","body":"Do not forget that in batch you do not make the commit after every line. So I guess you are generating the same key twice, and when the batch commit you get the error."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1665401626,"post_id":74013767,"comment_id":130684235,"body_markdown":"Is the logic that generates keys synchronized? I suspect you are in a case where a single chunk has two items with the same key, hence your error. Please share your code or a [minimal complete example](https://stackoverflow.com/help/minimal-reproducible-example) that reproduces the issue to be able to help you in an efficient way.","body":"Is the logic that generates keys synchronized? I suspect you are in a case where a single chunk has two items with the same key, hence your error. Please share your code or a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal complete example</a> that reproduces the issue to be able to help you in an efficient way."},{"owner":{"account_id":8667660,"reputation":35,"user_id":6487536,"display_name":"Divyanshu Singh"},"score":1,"creation_date":1665556299,"post_id":74013767,"comment_id":130725272,"body_markdown":"thank you all, for your suggestions. as suggested on looking deeper found that there was issue with the source, and that was returning duplicate records to the reader.","body":"thank you all, for your suggestions. as suggested on looking deeper found that there was issue with the source, and that was returning duplicate records to the reader."}],"owner":{"account_id":8667660,"reputation":35,"user_id":6487536,"display_name":"Divyanshu Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665399167,"creation_date":1665399167,"question_id":74013767,"body_markdown":"I&#39;m using chunk oriented job, and using `ThreadPoolTaskExecutor`. My reader is synchronised using `SynchronizedItemStreamReader`. And I&#39;m getting `SQLIntegrityConstraintViolationException: Duplicate entry &#39;&lt;someValue&gt;&#39; for key &#39;Ukey_someKey`. Their is a unique constraint on this column for which I&#39;m getting the exception. There is custome logic to generate values for this unique column. Source doesn&#39;t provide duplicate values, and logic to generate random string is also fool-proof. Also, there is no entry in the db against this key. We&#39;re on mysql 5.7.33. How can I go about resolving this? ","title":"spring batch | unique constraint violation","body":"<p>I'm using chunk oriented job, and using <code>ThreadPoolTaskExecutor</code>. My reader is synchronised using <code>SynchronizedItemStreamReader</code>. And I'm getting <code>SQLIntegrityConstraintViolationException: Duplicate entry '&lt;someValue&gt;' for key 'Ukey_someKey</code>. Their is a unique constraint on this column for which I'm getting the exception. There is custome logic to generate values for this unique column. Source doesn't provide duplicate values, and logic to generate random string is also fool-proof. Also, there is no entry in the db against this key. We're on mysql 5.7.33. How can I go about resolving this?</p>\n"},{"tags":["java","spring","configuration","dependency-injection","annotations"],"comments":[{"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":2,"creation_date":1323335025,"post_id":8428439,"comment_id":10413977,"body_markdown":"possible duplicate of [Xml configuration versus Annotation based configuration](http://stackoverflow.com/questions/182393/xml-configuration-versus-annotation-based-configuration)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/182393/xml-configuration-versus-annotation-based-configuration\">Xml configuration versus Annotation based configuration</a>"},{"owner":{"account_id":418541,"reputation":8859,"user_id":795158,"accept_rate":95,"display_name":"Ivaylo Slavov"},"score":1,"creation_date":1323335261,"post_id":8428439,"comment_id":10414036,"body_markdown":"Yes, the question is very close, but I have the impression it targets the xml vs annotations in general. I am interested only when it comes to dependency injection.","body":"Yes, the question is very close, but I have the impression it targets the xml vs annotations in general. I am interested only when it comes to dependency injection."}],"answers":[{"tags":[],"owner":{"account_id":477826,"reputation":2748,"user_id":889535,"display_name":"nowaq"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1323338875,"creation_date":1323335110,"answer_id":8428535,"question_id":8428439,"body_markdown":"Take a look at this answer here: https://stackoverflow.com/questions/182393/xml-configuration-versus-annotation-based-configuration\r\n\r\nA short quote directly from there:\r\n\r\n&gt; Annotations have their use, but they are not the one silver bullet to\r\n&gt; kill XML configuration. I recommend mixing the two!\r\n&gt; \r\n&gt; For instance, if using Spring, it is entirely intuitive to use XML for\r\n&gt; the dependency injection portion of your application. This gets the\r\n&gt; code&#39;s dependencies away from the code which will be using it, by\r\n&gt; contrast, using some sort of annotation in the code that needs the\r\n&gt; dependencies makes the code aware of this automatic configuration.\r\n&gt; \r\n&gt; However, instead of using XML for transactional management, marking a\r\n&gt; method as transactional with an annotation makes perfect sense, since\r\n&gt; this is information a programmer would probably wish to know.\r\n\r\nEDIT: Also, take a look at the answers here: https://stackoverflow.com/questions/4995170/java-dependency-injection-xml-or-annotations They most probably target the area of your interest much better.","title":"Spring annotation-based DI vs xml configuration?","body":"<p>Take a look at this answer here: <a href=\"https://stackoverflow.com/questions/182393/xml-configuration-versus-annotation-based-configuration\">Xml configuration versus Annotation based configuration</a></p>\n\n<p>A short quote directly from there:</p>\n\n<blockquote>\n  <p>Annotations have their use, but they are not the one silver bullet to\n  kill XML configuration. I recommend mixing the two!</p>\n  \n  <p>For instance, if using Spring, it is entirely intuitive to use XML for\n  the dependency injection portion of your application. This gets the\n  code's dependencies away from the code which will be using it, by\n  contrast, using some sort of annotation in the code that needs the\n  dependencies makes the code aware of this automatic configuration.</p>\n  \n  <p>However, instead of using XML for transactional management, marking a\n  method as transactional with an annotation makes perfect sense, since\n  this is information a programmer would probably wish to know.</p>\n</blockquote>\n\n<p>EDIT: Also, take a look at the answers here: <a href=\"https://stackoverflow.com/questions/4995170/java-dependency-injection-xml-or-annotations\">Java Dependency injection: XML or annotations</a> They most probably target the area of your interest much better.</p>\n"},{"tags":[],"owner":{"account_id":243616,"reputation":9537,"user_id":515922,"accept_rate":89,"display_name":"Aravind A"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1323336763,"creation_date":1323336763,"answer_id":8428827,"question_id":8428439,"body_markdown":"from my experience, I would prefer(or rather am forced by limitations) to use a combination of XML and annotation based DI . If I need to inject a Map of elements inside a bean , I would have to define a util:map and autowire it . Also, I need to use XML DI to inject datasource into the sessionFactory if I have multiple datasources and so on . So a combination of both would be requited .\r\n\r\nI prefer the usage of component-scan to autodetect the services and Dao . This cuts down a lot of Configuration (We cut down the configuration files by around 50% switching to component-scan). Annotation based DI supports both byName(@Resource) and byType(@Autowired).\r\n\r\nIn short my advice to be to go for a fixture of both . I feel that more annotation support will definitely be on cards in future Spring releases.","title":"Spring annotation-based DI vs xml configuration?","body":"<p>from my experience, I would prefer(or rather am forced by limitations) to use a combination of XML and annotation based DI . If I need to inject a Map of elements inside a bean , I would have to define a util:map and autowire it . Also, I need to use XML DI to inject datasource into the sessionFactory if I have multiple datasources and so on . So a combination of both would be requited .</p>\n\n<p>I prefer the usage of component-scan to autodetect the services and Dao . This cuts down a lot of Configuration (We cut down the configuration files by around 50% switching to component-scan). Annotation based DI supports both byName(@Resource) and byType(@Autowired).</p>\n\n<p>In short my advice to be to go for a fixture of both . I feel that more annotation support will definitely be on cards in future Spring releases.</p>\n"},{"tags":[],"owner":{"account_id":418541,"reputation":8859,"user_id":795158,"accept_rate":95,"display_name":"Ivaylo Slavov"},"down_vote_count":1,"up_vote_count":41,"is_accepted":true,"score":40,"last_activity_date":1536752398,"creation_date":1323341053,"answer_id":8429703,"question_id":8428439,"body_markdown":"After reading some related posts here and having further discussion in the team we come to the following conclusions. I hope the would be useful to others here.\r\n\r\n__About XML configuration__ (which we are using up to now), we decided to keep it for dependencies defined by libraries (regardless if being developed by us, or by third parties).  \r\nLibraries, by definition, provide a particular functionality and can be used in various scenarios, not necessarily involving DI. Therefore, using annotations in the library projects we develop ourselves, would create a dependency of the DI framework (Spring in our case) to the library, making the library unusable in non-DI context. Having extra dependencies is not considered a good practice among our team (an in general IMHO). \r\n\r\nWhen we are assembling an application, the application context would define the necessary dependencies. This will simplify dependency tracking as the application becomes the central unit of combining all the referenced components, and usually this is indeed where all the wiring up should happen.\r\n \r\nXML is also good for us when providing mock implementations for many components, without recompiling the application modules that will use them. This gives us flexibility when testing running in local or production environment.\r\n\r\n__In regards to annotations__, we decided that we can benefit using them when the injected components will not vary -- for instance only a certain implementation for a component will be used troughout the application. \r\n\r\nThe annotations will be very useful for small components/applications that will not change or support different implementations of a dependency at once, and that are unlikely to be composed in a different way (for instance using different dependencies for different builds). Simple micro-services would fit in this category. \r\n\r\nSmall enough components, made up with annotations, can be used right out of the box in different projects, without having the respective applications to cover them in their XML configuration. This would simplify the application dependency wiring for the application and reduce repetitive setups. \r\n\r\nHowever, we agreed that such components should have the dependencies well described in our technical documentation, so that when assembling the entire application, one can have an idea of these dependencies without scrolling through the code, or even loading the module in the IDE. \r\n\r\nA negative side effect of annotation-configured components, is that different components could bring clashing transitive dependencies, and again it is up to the final application to resolve the conflicts. When these dependencies are not defined in XML, the conflict resolution approaches become quite limited and straying far from the best practices, if they are at all possible.\r\nSo, when going with annotations, the component has to be mature enough about what dependencies it is going use. \r\n\r\nIn general if our dependencies may vary for different scenarios, or a module can be used with different components, we decided to stick to XML. Clearly, there MUST be a _right_ balance between both approaches, and a clear idea for the usages.\r\n______\r\nAn important update regarding the mixed approach. Recently we had a case with a test framework we created for our QA team, which required dependencies from another project. The framework was designed to use the annotation approach and Spring configuration classes, while the referenced project had some xml contexts that we needed to reference. Unfortunately, the test classes (where we used `org.testng` with spring support) could only work with either the xml or java configuration classes, not mixing both. \r\n\r\nThis situation illustrates a case where mixing the approaches would clash and clearly, one must be discarded. In our case, we migrated the test framework to use spring xml contexts, but other uses could imply the other way around.","title":"Spring annotation-based DI vs xml configuration?","body":"<p>After reading some related posts here and having further discussion in the team we come to the following conclusions. I hope the would be useful to others here.</p>\n\n<p><strong>About XML configuration</strong> (which we are using up to now), we decided to keep it for dependencies defined by libraries (regardless if being developed by us, or by third parties).<br>\nLibraries, by definition, provide a particular functionality and can be used in various scenarios, not necessarily involving DI. Therefore, using annotations in the library projects we develop ourselves, would create a dependency of the DI framework (Spring in our case) to the library, making the library unusable in non-DI context. Having extra dependencies is not considered a good practice among our team (an in general IMHO). </p>\n\n<p>When we are assembling an application, the application context would define the necessary dependencies. This will simplify dependency tracking as the application becomes the central unit of combining all the referenced components, and usually this is indeed where all the wiring up should happen.</p>\n\n<p>XML is also good for us when providing mock implementations for many components, without recompiling the application modules that will use them. This gives us flexibility when testing running in local or production environment.</p>\n\n<p><strong>In regards to annotations</strong>, we decided that we can benefit using them when the injected components will not vary -- for instance only a certain implementation for a component will be used troughout the application. </p>\n\n<p>The annotations will be very useful for small components/applications that will not change or support different implementations of a dependency at once, and that are unlikely to be composed in a different way (for instance using different dependencies for different builds). Simple micro-services would fit in this category. </p>\n\n<p>Small enough components, made up with annotations, can be used right out of the box in different projects, without having the respective applications to cover them in their XML configuration. This would simplify the application dependency wiring for the application and reduce repetitive setups. </p>\n\n<p>However, we agreed that such components should have the dependencies well described in our technical documentation, so that when assembling the entire application, one can have an idea of these dependencies without scrolling through the code, or even loading the module in the IDE. </p>\n\n<p>A negative side effect of annotation-configured components, is that different components could bring clashing transitive dependencies, and again it is up to the final application to resolve the conflicts. When these dependencies are not defined in XML, the conflict resolution approaches become quite limited and straying far from the best practices, if they are at all possible.\nSo, when going with annotations, the component has to be mature enough about what dependencies it is going use. </p>\n\n<p>In general if our dependencies may vary for different scenarios, or a module can be used with different components, we decided to stick to XML. Clearly, there MUST be a <em>right</em> balance between both approaches, and a clear idea for the usages.</p>\n\n<hr>\n\n<p>An important update regarding the mixed approach. Recently we had a case with a test framework we created for our QA team, which required dependencies from another project. The framework was designed to use the annotation approach and Spring configuration classes, while the referenced project had some xml contexts that we needed to reference. Unfortunately, the test classes (where we used <code>org.testng</code> with spring support) could only work with either the xml or java configuration classes, not mixing both. </p>\n\n<p>This situation illustrates a case where mixing the approaches would clash and clearly, one must be discarded. In our case, we migrated the test framework to use spring xml contexts, but other uses could imply the other way around.</p>\n"},{"tags":[],"owner":{"account_id":3032985,"reputation":45,"user_id":2571624,"display_name":"Artur Yolchyan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445583954,"creation_date":1445583954,"answer_id":33296613,"question_id":8428439,"body_markdown":"From my own experience annotations better than xml configuration. I think in any case you can override xmls and use annotations. Also Spring 4 give us a huge support for annotations, we can override security from xml to annotations e.t.c, so we will have not 100 lines xml but 10 lines Java Code.","title":"Spring annotation-based DI vs xml configuration?","body":"<p>From my own experience annotations better than xml configuration. I think in any case you can override xmls and use annotations. Also Spring 4 give us a huge support for annotations, we can override security from xml to annotations e.t.c, so we will have not 100 lines xml but 10 lines Java Code.</p>\n"},{"tags":[],"owner":{"account_id":4742105,"reputation":3877,"user_id":3834496,"accept_rate":29,"display_name":"Pritesh Mhatre"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1582362385,"creation_date":1498287961,"answer_id":44733795,"question_id":8428439,"body_markdown":"Some advantages of using **XML configuration**:\r\n\r\n1. The XML configuration is at one place, instead of being scattered all over the source code in case of annotations. Some people may argue that IDEs like STS allow you to look at all annotations based configuration in one place, but I never like having dependencies on IDEs.\r\n2. Its takes a little more efforts to write XML config, but it saves a lot of time later when you search for dependencies and try to understand the project.\r\n3. XML keeps configuration well organized and simple. Hence is easier to understand, it helps new relatively inexperienced team members get up to speed quickly.\r\n4. Allows you to change the config without a need to recompile and redeploy code. So it is better, when it comes to production support.\r\n\r\n*So in short XML configuration takes a little more efforts, but it saves you a lot of time &amp; headache later in big projects.*\r\n\r\n***2.5 years later:***\r\n\r\n**We use annotations mostly these days, but most crucial change is that we create many small projects (instead of a one big project). Hence understanding dependencies is not a problem anymore; as each project has it&#39;s unique purpose and relatively small codebase.**","title":"Spring annotation-based DI vs xml configuration?","body":"<p>Some advantages of using <strong>XML configuration</strong>:</p>\n\n<ol>\n<li>The XML configuration is at one place, instead of being scattered all over the source code in case of annotations. Some people may argue that IDEs like STS allow you to look at all annotations based configuration in one place, but I never like having dependencies on IDEs.</li>\n<li>Its takes a little more efforts to write XML config, but it saves a lot of time later when you search for dependencies and try to understand the project.</li>\n<li>XML keeps configuration well organized and simple. Hence is easier to understand, it helps new relatively inexperienced team members get up to speed quickly.</li>\n<li>Allows you to change the config without a need to recompile and redeploy code. So it is better, when it comes to production support.</li>\n</ol>\n\n<p><em>So in short XML configuration takes a little more efforts, but it saves you a lot of time &amp; headache later in big projects.</em></p>\n\n<p><strong><em>2.5 years later:</em></strong></p>\n\n<p><strong>We use annotations mostly these days, but most crucial change is that we create many small projects (instead of a one big project). Hence understanding dependencies is not a problem anymore; as each project has it's unique purpose and relatively small codebase.</strong></p>\n"},{"tags":[],"owner":{"account_id":10880077,"reputation":1286,"user_id":7999311,"display_name":"Adam Ostrožl&#237;k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536750213,"creation_date":1536750213,"answer_id":52293614,"question_id":8428439,"body_markdown":"&gt;  Are annotations better than XML for configuring Spring?\r\n&gt; \r\n&gt; The introduction of annotation-based configurations raised the\r\n&gt; question of whether this approach is &#39;better&#39; than XML. The short\r\n&gt; answer is it depends. The long answer is that each approach has its\r\n&gt; pros and cons, and usually it is up to the developer to decide which\r\n&gt; strategy suits them better. Due to the way they are defined,\r\n&gt; annotations provide a lot of context in their declaration, leading to\r\n&gt; shorter and more concise configuration. However, XML excels at wiring\r\n&gt; up components without\r\n&gt; \r\n&gt; \r\n&gt; touching their source code or recompiling them. Some developers prefer\r\n&gt; having the wiring close to the source while others argue that\r\n&gt; annotated classes are no longer POJOs and, furthermore, that the\r\n&gt; configuration becomes decentralized and harder to control.\r\n&gt; \r\n&gt; No matter the choice, Spring can accommodate both styles and even mix\r\n&gt; them together. It’s worth pointing out that through its JavaConfig\r\n&gt; option, Spring allows annotations to be used in a non- invasive way,\r\n&gt; without touching the target components source code and that in terms\r\n&gt; of tooling, all configuration styles are supported by the Spring Tool\r\n&gt; Suite.\r\n\r\n\r\nmy personal option is that xml is better since you have all at one place and you do not need to deep into your packages to search the class.","title":"Spring annotation-based DI vs xml configuration?","body":"<blockquote>\n  <p>Are annotations better than XML for configuring Spring?</p>\n  \n  <p>The introduction of annotation-based configurations raised the\n  question of whether this approach is 'better' than XML. The short\n  answer is it depends. The long answer is that each approach has its\n  pros and cons, and usually it is up to the developer to decide which\n  strategy suits them better. Due to the way they are defined,\n  annotations provide a lot of context in their declaration, leading to\n  shorter and more concise configuration. However, XML excels at wiring\n  up components without</p>\n  \n  <p>touching their source code or recompiling them. Some developers prefer\n  having the wiring close to the source while others argue that\n  annotated classes are no longer POJOs and, furthermore, that the\n  configuration becomes decentralized and harder to control.</p>\n  \n  <p>No matter the choice, Spring can accommodate both styles and even mix\n  them together. It’s worth pointing out that through its JavaConfig\n  option, Spring allows annotations to be used in a non- invasive way,\n  without touching the target components source code and that in terms\n  of tooling, all configuration styles are supported by the Spring Tool\n  Suite.</p>\n</blockquote>\n\n<p>my personal option is that xml is better since you have all at one place and you do not need to deep into your packages to search the class.</p>\n"},{"tags":[],"owner":{"account_id":6083497,"reputation":11,"user_id":4748401,"display_name":"Uday Pratap Maurya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551720134,"creation_date":1551720134,"answer_id":54988414,"question_id":8428439,"body_markdown":"We can not tell which method is good, it depends on your project. We can nither avoid xml nor annotation. One advantage of using xml is that we can understand the project structure just seeing the xml context files, but annotation reduces lots of meta configuration. So I prefer 30% xml and 70% annotation.     ","title":"Spring annotation-based DI vs xml configuration?","body":"<p>We can not tell which method is good, it depends on your project. We can nither avoid xml nor annotation. One advantage of using xml is that we can understand the project structure just seeing the xml context files, but annotation reduces lots of meta configuration. So I prefer 30% xml and 70% annotation.     </p>\n"},{"tags":[],"owner":{"account_id":179957,"reputation":1300,"user_id":412965,"display_name":"raiks"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665399057,"creation_date":1665398688,"answer_id":74013680,"question_id":8428439,"body_markdown":"By using XML, you prevent code from being polluted with framework-specific annotations and thus creating an undesired coupling. Keep the framework at the application boundary so you can always replace it should the need arise. \r\n\r\nFrameworks come and go, but many applications live for decades. Fortunately, Spring is a non-invasive framework and doesn&#39;t bend your architecture. Keeping the configuration in XML will make it even more detached from your application.\r\n\r\nRemark: in order to benefit from all this, your application should be well-designed in the first place.","title":"Spring annotation-based DI vs xml configuration?","body":"<p>By using XML, you prevent code from being polluted with framework-specific annotations and thus creating an undesired coupling. Keep the framework at the application boundary so you can always replace it should the need arise.</p>\n<p>Frameworks come and go, but many applications live for decades. Fortunately, Spring is a non-invasive framework and doesn't bend your architecture. Keeping the configuration in XML will make it even more detached from your application.</p>\n<p>Remark: in order to benefit from all this, your application should be well-designed in the first place.</p>\n"}],"owner":{"account_id":418541,"reputation":8859,"user_id":795158,"accept_rate":95,"display_name":"Ivaylo Slavov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51850,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":8429703,"answer_count":8,"score":59,"last_activity_date":1665399057,"creation_date":1323334566,"question_id":8428439,"body_markdown":"Recently in our team we started discussing using spring annotations in code to define spring dependencies. Currently we are using context.xml to define our dependencies. Would you give me some clues for either approach, and when one is better to be used?\r\n\r\nEdit: I know this seems a duplicate question to a more-general one, but I am interested in the impacts of annotations vs configuration for dependency injection only, which I believe would have different answers and attitude than the general question.","title":"Spring annotation-based DI vs xml configuration?","body":"<p>Recently in our team we started discussing using spring annotations in code to define spring dependencies. Currently we are using context.xml to define our dependencies. Would you give me some clues for either approach, and when one is better to be used?</p>\n\n<p>Edit: I know this seems a duplicate question to a more-general one, but I am interested in the impacts of annotations vs configuration for dependency injection only, which I believe would have different answers and attitude than the general question.</p>\n"},{"tags":["java","spring-boot","spring-transactions","camunda","bpmn"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1665389901,"post_id":74011844,"comment_id":130680363,"body_markdown":"why not catch the UnexpectedRollbackException, and rethrow as a RuntimeException? or try to map the UnexpectedRollbackException to your message","body":"why not catch the UnexpectedRollbackException, and rethrow as a RuntimeException? or try to map the UnexpectedRollbackException to your message"},{"owner":{"account_id":2062574,"reputation":843,"user_id":1838804,"accept_rate":7,"display_name":"Mohammad Mirzaeyan"},"score":0,"creation_date":1665394969,"post_id":74011844,"comment_id":130682112,"body_markdown":"for more information please edit your question and put your BPMN diagram","body":"for more information please edit your question and put your BPMN diagram"},{"owner":{"account_id":26577794,"reputation":21,"user_id":20202880,"display_name":"Ali Kheiri"},"score":0,"creation_date":1665395560,"post_id":74011844,"comment_id":130682315,"body_markdown":"@Stultuske Thank you for your guidance\nThe UnexpectedRollbackException message doesn&#39;t help me try to rethrow it or map it\nThis is a message throw by camunda.\nMy problem is that the appropriate exception that I wrote inside the method to be thrown is lost or destroyed and is no longer displayed to the user.","body":"@Stultuske Thank you for your guidance The UnexpectedRollbackException message doesn&#39;t help me try to rethrow it or map it This is a message throw by camunda. My problem is that the appropriate exception that I wrote inside the method to be thrown is lost or destroyed and is no longer displayed to the user."},{"owner":{"account_id":68404,"reputation":9917,"user_id":199593,"accept_rate":50,"display_name":"edigu"},"score":0,"creation_date":1665402885,"post_id":74011844,"comment_id":130684656,"body_markdown":"`UnexpectedRollbackException` looks like an exception coming from the infrastructure layer while showing the appropriate error message to the user is a presentation concern. Without knowing much about camunda and how you utilize it,  there should be at least one or more layers in between the presentation and the infrastructure like service, domain etc. In a perfect world, I would catch the  `UnexpectedRollbackException` in one of those layers (most likely the service), wrap and rethrow as another exception type which my `ExceptionHandler` &gt; presentation  layers knows how to deal with it.","body":"<code>UnexpectedRollbackException</code> looks like an exception coming from the infrastructure layer while showing the appropriate error message to the user is a presentation concern. Without knowing much about camunda and how you utilize it,  there should be at least one or more layers in between the presentation and the infrastructure like service, domain etc. In a perfect world, I would catch the  <code>UnexpectedRollbackException</code> in one of those layers (most likely the service), wrap and rethrow as another exception type which my <code>ExceptionHandler</code> &gt; presentation  layers knows how to deal with it."}],"owner":{"account_id":26577794,"reputation":21,"user_id":20202880,"display_name":"Ali Kheiri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665398395,"creation_date":1665389222,"question_id":74011844,"body_markdown":"\r\n[![You can see the picture of my sub process, which gets an error during the send Payment stage and should return the appropriate exception message that I wrote, but the exception message itself returns Camunda.][1]][1]I have a method that is called during a process by camunda.\r\nI have put a mechanism in this method to show the appropriate error message to the user if an error occurs.\r\nBut when this method hits an error, instead of displaying my proper error message, it throws this error message:\r\nTransaction silently rolled back because it has been marked as rollback-only\r\nIn fact, camunda converts my type of error, which is a RuntimeException, to UnexpectedRollbackException.\r\n\r\nYou can see the picture of my sub process, which gets an error during the send Payment stage and should return the appropriate exception message that I wrote, but the exception message itself returns Camunda.\r\n\r\nDoes anyone have an idea to solve this problem?\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XTUd8.png","title":"Changing the type of Exception thrown by Camunda","body":"<p><a href=\"https://i.stack.imgur.com/XTUd8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XTUd8.png\" alt=\"You can see the picture of my sub process, which gets an error during the send Payment stage and should return the appropriate exception message that I wrote, but the exception message itself returns Camunda.\" /></a>I have a method that is called during a process by camunda.\nI have put a mechanism in this method to show the appropriate error message to the user if an error occurs.\nBut when this method hits an error, instead of displaying my proper error message, it throws this error message:\nTransaction silently rolled back because it has been marked as rollback-only\nIn fact, camunda converts my type of error, which is a RuntimeException, to UnexpectedRollbackException.</p>\n<p>You can see the picture of my sub process, which gets an error during the send Payment stage and should return the appropriate exception message that I wrote, but the exception message itself returns Camunda.</p>\n<p>Does anyone have an idea to solve this problem?\nThanks</p>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":3843286,"reputation":315,"user_id":3185697,"accept_rate":70,"display_name":"Juggernaut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665396563,"creation_date":1665396563,"question_id":74013250,"body_markdown":"I&#39;ve just seen such fragment of code:\r\n\r\n    @TransactionalEventListener\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public void listenSomethingChanged(SomethingChangedEvent event)\r\n    \r\nThe event contains some persistent entities which have lazy-loaded fields. As a result NPE occurs. when accessing thos lazy fields within `listenSomethingChanged`\r\n\r\n \r\nWould it create separate transaction for listener?\r\nIf there are entities if fields of event, would they become persistent again?","title":"Can @transactionalEventListener be @transactional?","body":"<p>I've just seen such fragment of code:</p>\n<pre><code>@TransactionalEventListener\n@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic void listenSomethingChanged(SomethingChangedEvent event)\n</code></pre>\n<p>The event contains some persistent entities which have lazy-loaded fields. As a result NPE occurs. when accessing thos lazy fields within <code>listenSomethingChanged</code></p>\n<p>Would it create separate transaction for listener?\nIf there are entities if fields of event, would they become persistent again?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1665390439,"post_id":74012048,"comment_id":130680533,"body_markdown":"`toString` should have no arguments. Don&#39;t declare one and just use `this` in the method.","body":"<code>toString</code> should have no arguments. Don&#39;t declare one and just use <code>this</code> in the method."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1665390490,"post_id":74012048,"comment_id":130680557,"body_markdown":"`public String toString(Family m1) ` &lt;- what is the point of the argument `Family m1`? An object knows about itself so if you want a Family object to print information about itself there is no need to pass any argument. You should override the `toString()` method, meaning override it with the same method signature as the superclass and not adding any arguments.","body":"<code>public String toString(Family m1) </code> &lt;- what is the point of the argument <code>Family m1</code>? An object knows about itself so if you want a Family object to print information about itself there is no need to pass any argument. You should override the <code>toString()</code> method, meaning override it with the same method signature as the superclass and not adding any arguments."},{"owner":{"account_id":24226684,"reputation":5,"user_id":18181069,"display_name":"BraVo"},"score":0,"creation_date":1665390724,"post_id":74012048,"comment_id":130680640,"body_markdown":"So how can I use this in a subclass?","body":"So how can I use this in a subclass?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1665390823,"post_id":74012048,"comment_id":130680681,"body_markdown":"Same way you use `this` anywhere. I don&#39;t really get your question.","body":"Same way you use <code>this</code> anywhere. I don&#39;t really get your question."},{"owner":{"account_id":24226684,"reputation":5,"user_id":18181069,"display_name":"BraVo"},"score":0,"creation_date":1665390987,"post_id":74012048,"comment_id":130680748,"body_markdown":"I mean like because this is a subclass, so I need to use &quot;super&quot; to get the data from super class. How I can use like this.fname = fname? fname is private in Member class","body":"I mean like because this is a subclass, so I need to use &quot;super&quot; to get the data from super class. How I can use like this.fname = fname? fname is private in Member class"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1665391582,"post_id":74012048,"comment_id":130680951,"body_markdown":"If you want to get `fname` you can just use the public getter you defined for that field: `this.getFname()`. Not sure however why you want to do `this.fname = fname` in the subclass. I thought you just wanted to print already existing information not set fields.....","body":"If you want to get <code>fname</code> you can just use the public getter you defined for that field: <code>this.getFname()</code>. Not sure however why you want to do <code>this.fname = fname</code> in the subclass. I thought you just wanted to print already existing information not set fields....."},{"owner":{"account_id":24226684,"reputation":5,"user_id":18181069,"display_name":"BraVo"},"score":0,"creation_date":1665391906,"post_id":74012048,"comment_id":130681067,"body_markdown":"Yeah I tried, but the result is also :Jerry Brown, DOB: 6/30/1979, Membership expires 1/10/2023, Location: EDISON, 08837, MIDDLESEX  WHich means it is also wrong...","body":"Yeah I tried, but the result is also :Jerry Brown, DOB: 6/30/1979, Membership expires 1/10/2023, Location: EDISON, 08837, MIDDLESEX  WHich means it is also wrong..."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1665392114,"post_id":74012048,"comment_id":130681144,"body_markdown":"Can you share how you actually fill `Member[] mlist`? If printing contents of it doesn&#39;t use the `toString()`method if your `Family` subclass this would mean the objects you put into that array aren&#39;t objects of that subclass.","body":"Can you share how you actually fill <code>Member[] mlist</code>? If printing contents of it doesn&#39;t use the <code>toString()</code>method if your <code>Family</code> subclass this would mean the objects you put into that array aren&#39;t objects of that subclass."},{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1665392499,"post_id":74012048,"comment_id":130681254,"body_markdown":"because you declare and create an object of class Member, if you want to create instance of class Family you should use `mlist = new Family[capacity];`","body":"because you declare and create an object of class Member, if you want to create instance of class Family you should use <code>mlist = new Family[capacity];</code>"},{"owner":{"account_id":24226684,"reputation":5,"user_id":18181069,"display_name":"BraVo"},"score":0,"creation_date":1665392998,"post_id":74012048,"comment_id":130681397,"body_markdown":"I will add the add method","body":"I will add the add method"},{"owner":{"account_id":24226684,"reputation":5,"user_id":18181069,"display_name":"BraVo"},"score":0,"creation_date":1665393162,"post_id":74012048,"comment_id":130681465,"body_markdown":"I dont think I can change mlist = new Family[capacity] because both Family and Member are put together","body":"I dont think I can change mlist = new Family[capacity] because both Family and Member are put together"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1665393557,"post_id":74012048,"comment_id":130681620,"body_markdown":"@BraVo consider creating a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) that shows your problem. Unfortunately the 2 add methods you added to your question aren&#39;t enough information as I have no idea how you call them. An example that is complete and we can run to see the problem ourselves would make helping you a lot easier.","body":"@BraVo consider creating a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a> that shows your problem. Unfortunately the 2 add methods you added to your question aren&#39;t enough information as I have no idea how you call them. An example that is complete and we can run to see the problem ourselves would make helping you a lot easier."},{"owner":{"account_id":24226684,"reputation":5,"user_id":18181069,"display_name":"BraVo"},"score":0,"creation_date":1665394994,"post_id":74012048,"comment_id":130682119,"body_markdown":"I have add more information, please check","body":"I have add more information, please check"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1665395251,"post_id":74012048,"comment_id":130682200,"body_markdown":"@BraVo The code still isn&#39;t a complete example and  doesn&#39;t show how those methods `private void A(String[] input)` and `private void AP (String[] input)` are called. It might as well be that only the first one is actually called and that is your problem but since I don&#39;t have the information to determine that I can&#39;t really do more than guess, which isn&#39;t helpful. Hence why I asked for a complete example.","body":"@BraVo The code still isn&#39;t a complete example and  doesn&#39;t show how those methods <code>private void A(String[] input)</code> and <code>private void AP (String[] input)</code> are called. It might as well be that only the first one is actually called and that is your problem but since I don&#39;t have the information to determine that I can&#39;t really do more than guess, which isn&#39;t helpful. Hence why I asked for a complete example."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665395891,"post_id":74012048,"comment_id":130682427,"body_markdown":"Your class code works in theory, see https://ideone.com/0sXqCB - whatever the issue is, it&#39;s probably not the way you subclass / override toString (that by the way would be a reproducible example)","body":"Your class code works in theory, see <a href=\"https://ideone.com/0sXqCB\" rel=\"nofollow noreferrer\">ideone.com/0sXqCB</a> - whatever the issue is, it&#39;s probably not the way you subclass / override toString (that by the way would be a reproducible example)"},{"owner":{"account_id":24226684,"reputation":5,"user_id":18181069,"display_name":"BraVo"},"score":0,"creation_date":1665396365,"post_id":74012048,"comment_id":130682558,"body_markdown":"Here I think is the full information, please check","body":"Here I think is the full information, please check"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1665399348,"post_id":74012048,"comment_id":130683495,"body_markdown":"`case &quot;AF&quot; -&gt; AF(inputs);` There is no method called `AF` in the code you posted. The code would therefor not compile.","body":"<code>case &quot;AF&quot; -&gt; AF(inputs);</code> There is no method called <code>AF</code> in the code you posted. The code would therefor not compile."},{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1665400297,"post_id":74012048,"comment_id":130683800,"body_markdown":"again you call the toString method as Member hence the Family toString method will never be called if you wanted to you can try casting it first to Family before you print the toString method, and you can also check first before casting it to Family wether the object is instance of Family or not","body":"again you call the toString method as Member hence the Family toString method will never be called if you wanted to you can try casting it first to Family before you print the toString method, and you can also check first before casting it to Family wether the object is instance of Family or not"}],"owner":{"account_id":24226684,"reputation":5,"user_id":18181069,"display_name":"BraVo"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665396482,"creation_date":1665390294,"question_id":74012048,"body_markdown":"Here is a big project, so I can just show you part of the code.\r\nThere are two different plan of membership: standard and family. When the member is standard membership, the information of that member contains(name, dob, expire date, location), but when the member&#39;s plan is family, the information of that member contains(name, dob, expire date, location, guest-pass remaining) Which means their gonna have one more element. But they have been stored in the same database. And my question is how can I print them.\r\nThe out put should be\r\n\r\n    Carl Brown, DOB: 10/7/1991, Membership expires 3/31/2023, Location: PISCATAWAY, 08854, MIDDLESEX\r\n    Jerry Brown, DOB: 6/30/1979, Membership expires 12/28/2022, Location: EDISON, 08837, MIDDLESEX, (Family) guest-pass remaining: 1\r\n\r\n\r\nBut I only get\r\n\r\n    Carl Brown, DOB: 10/7/1991, Membership expires 3/31/2023, Location: PISCATAWAY, 08854, MIDDLESEX\r\n    Jerry Brown, DOB: 6/30/1979, Membership expires 12/28/2022, Location: EDISON, 08837, MIDDLESEX\r\n\r\nHere is my code\r\n**Member**\r\n\r\n    public class Member implements Comparable&lt;Member&gt; {\r\n    private String fname;\r\n    private String lname;\r\n    private Date dob;\r\n    private Location location;\r\n    private Date expire = Date.getEXP();\r\n\r\n    @Override\r\n    public String toString() {\r\n        String info = String.format(&quot;%s %s, DOB: %s, Membership expires %s, Location: %s&quot;, fname, lname, dob,\r\n                expire, location);\r\n        return info;\r\n    }\r\n\r\n    public Member(String fname, String lname, Date dob, Location location) {\r\n        this.fname = fname;\r\n        this.lname = lname;\r\n        this.dob = dob;\r\n        this.location = location;\r\n    }\r\n\r\n    public String getFname() {\r\n        return fname;\r\n    }\r\n\r\n    public String getLname() {\r\n        return lname;\r\n    }\r\n\r\n    public Date getDOB() {\r\n        return dob;\r\n    }\r\n\r\n    public Date getEXP() {\r\n        return expire;\r\n    }\r\n\r\n    public Location getLocation() {\r\n        return location;\r\n    }\r\n\r\n}\r\n\r\nAnd it asked me to use subclass to get a Family plan,so I write this\r\n**Family**\r\n\r\n    public class Family extends Member{\r\n    private int gpRemaining;\r\n    public Family(String fname, String lname, Date dob, Location location, int gpRemaining) {\r\n        super(fname, lname, dob, location);\r\n        this.gpRemaining = gpRemaining;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String info = String.format(&quot;%s %s, DOB: %s, Membership expires %s, Location: %s, (Family) &quot; +\r\n                &quot;guest-pass remaining:&quot; + &quot; %d&quot;, this.getFname(), this.getLname(), this.getDOB(),\r\n                this.getEXP(), this.getLocation(), gpRemaining);\r\n        return info;\r\n    }\r\n\r\n    public int getGpRemaining() {\r\n        return gpRemaining;\r\n    }\r\n}\r\n\r\nAnd here is the **MemberDatabase** print method:\r\n\r\n    public class MemberDatabase {\r\n    private Member[] mlist;\r\n    private int size = 0;\r\n    private int capacity = 4;\r\n\r\n    public MemberDatabase() {\r\n        mlist = new Member[capacity];\r\n    }\r\n\r\n\r\n    public int getSize() {\r\n        return size;\r\n    }\r\n\r\n    private int find(Member member) {\r\n        for (int indexOfMember = 0; indexOfMember &lt; size; indexOfMember++) {\r\n            if(mlist[indexOfMember].equals(member)) {\r\n                return indexOfMember;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    private void grow() {\r\n        capacity += 4;\r\n        mlist = Arrays.copyOf(mlist, capacity);\r\n    }\r\n\r\n\r\n    public boolean add(Member member) {\r\n        if (find(member) != -1) {\r\n            return false;\r\n        } else {\r\n            if (size &gt;= capacity) {\r\n                return false;\r\n            }\r\n            if (size != 0 &amp;&amp; (find(member) != -1)) {\r\n                return false;\r\n            }\r\n            mlist[size++] = member;\r\n            if (size &gt;= capacity) {\r\n                grow();\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n    public boolean remove(Member member) {\r\n        if (member == null) {\r\n            return false;\r\n        }\r\n        int indexOfMember = find(member);\r\n\r\n        if (indexOfMember != -1) {\r\n            mlist[indexOfMember] = mlist[--size];\r\n            mlist[size] = null;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Print the original membership database\r\n     */\r\n\r\n    public void print() {\r\n        if (size == 0) {\r\n            System.out.println(&quot;Member database is empty!&quot;);\r\n            return;\r\n        }\r\n        System.out.println(&quot;\\n-list of members-&quot;);\r\n        for (int i = 0; i &lt; size; i++) {\r\n            System.out.println(mlist[i]);\r\n        }\r\n        System.out.println(&quot;-end of list-\\n&quot;);\r\n    }\r\n\r\nHere is the **add**method which Add the members:\r\nThe input is like \r\n\r\n&gt; A Carl Brown, 10/7/1991, Piscataway\r\n\r\n&gt; AF Jerry Brown 6/30/1979 Edison\r\n\r\n\r\n    \r\n    case A means this member has standard membership which means the \r\n    output should be \r\n    &gt; Carl Brown, DOB: 10/7/1991, Membership expires 3/31/2023, Location: PISCATAWAY, 08854, MIDDLESEX\r\n\r\n\r\n    public void run() {\r\n        System.out.println(&quot;Gym Manager running...&quot;);\r\n        String input;\r\n        String[] inputs;\r\n        creatClass();\r\n        while (scan.hasNext()) {\r\n            input = scan.nextLine();\r\n            inputs = input.split(&quot;\\\\s&quot;);\r\n            if (input.length() == 0) {\r\n                System.out.println();\r\n                continue;\r\n            }\r\n            switch (inputs[0]) {\r\n                case &quot;A&quot; -&gt; A(inputs);\r\n                case &quot;AF&quot; -&gt; AF(inputs);\r\n    \r\n    private void A(String[] input) {\r\n        String[] dobDate = input[3].split(&quot;/&quot;);\r\n        Date dob = new Date(Integer.parseInt(dobDate[0]), Integer.parseInt(dobDate[1]), Integer.parseInt(dobDate[2]));\r\n        if (isValidLocation(input[4])) {\r\n            if (isValidDOB(dob)) {\r\n                Member member = new Member(input[1], input[2], dob, Location.valueOf(input[4].toUpperCase()));\r\n                if (member !=null) {\r\n                    if (!database.add(member)) {\r\n                        System.out.println(input[1] + &quot; &quot; + input[2] + &quot; is already in the database.&quot;);\r\n                    } else System.out.println(input[1] + &quot; &quot; + input[2] + &quot; added.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n/**\r\nCase AP means that the member has family membership and the output should be \r\n\r\n&gt; Jerry Brown, DOB: 6/30/1979, Membership expires 12/28/2022, Location: EDISON, 08837, MIDDLESEX, (Family) guest-pass remaining: 1\r\n*/\r\n\r\n    private void AP (String[] input) {\r\n        String[] dobDate = input[3].split(&quot;/&quot;);\r\n        Date dob = new Date(Integer.parseInt(dobDate[0]), Integer.parseInt(dobDate[1]), Integer.parseInt(dobDate[2]));\r\n        if (isValidLocation(input[4])) {\r\n            if (isValidDOB(dob)) {\r\n                Family member = new Family(input[1], input[2], dob, Location.valueOf(input[4].toUpperCase()), 1);\r\n                if (member !=null) {\r\n                    if (!database.add(member)) {\r\n                        System.out.println(input[1] + &quot; &quot; + input[2] + &quot; is already in the database.&quot;);\r\n                    } else System.out.println(input[1] + &quot; &quot; + input[2] + &quot; added.&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n    \r\n\r\n\r\n\r\nPlease help!!\r\n\r\n","title":"How can I use subclass in java that I can print two different length of String?","body":"<p>Here is a big project, so I can just show you part of the code.\nThere are two different plan of membership: standard and family. When the member is standard membership, the information of that member contains(name, dob, expire date, location), but when the member's plan is family, the information of that member contains(name, dob, expire date, location, guest-pass remaining) Which means their gonna have one more element. But they have been stored in the same database. And my question is how can I print them.\nThe out put should be</p>\n<pre><code>Carl Brown, DOB: 10/7/1991, Membership expires 3/31/2023, Location: PISCATAWAY, 08854, MIDDLESEX\nJerry Brown, DOB: 6/30/1979, Membership expires 12/28/2022, Location: EDISON, 08837, MIDDLESEX, (Family) guest-pass remaining: 1\n</code></pre>\n<p>But I only get</p>\n<pre><code>Carl Brown, DOB: 10/7/1991, Membership expires 3/31/2023, Location: PISCATAWAY, 08854, MIDDLESEX\nJerry Brown, DOB: 6/30/1979, Membership expires 12/28/2022, Location: EDISON, 08837, MIDDLESEX\n</code></pre>\n<p>Here is my code\n<strong>Member</strong></p>\n<pre><code>public class Member implements Comparable&lt;Member&gt; {\nprivate String fname;\nprivate String lname;\nprivate Date dob;\nprivate Location location;\nprivate Date expire = Date.getEXP();\n\n@Override\npublic String toString() {\n    String info = String.format(&quot;%s %s, DOB: %s, Membership expires %s, Location: %s&quot;, fname, lname, dob,\n            expire, location);\n    return info;\n}\n\npublic Member(String fname, String lname, Date dob, Location location) {\n    this.fname = fname;\n    this.lname = lname;\n    this.dob = dob;\n    this.location = location;\n}\n\npublic String getFname() {\n    return fname;\n}\n\npublic String getLname() {\n    return lname;\n}\n\npublic Date getDOB() {\n    return dob;\n}\n\npublic Date getEXP() {\n    return expire;\n}\n\npublic Location getLocation() {\n    return location;\n}\n</code></pre>\n<p>}</p>\n<p>And it asked me to use subclass to get a Family plan,so I write this\n<strong>Family</strong></p>\n<pre><code>public class Family extends Member{\nprivate int gpRemaining;\npublic Family(String fname, String lname, Date dob, Location location, int gpRemaining) {\n    super(fname, lname, dob, location);\n    this.gpRemaining = gpRemaining;\n}\n\n@Override\npublic String toString() {\n    String info = String.format(&quot;%s %s, DOB: %s, Membership expires %s, Location: %s, (Family) &quot; +\n            &quot;guest-pass remaining:&quot; + &quot; %d&quot;, this.getFname(), this.getLname(), this.getDOB(),\n            this.getEXP(), this.getLocation(), gpRemaining);\n    return info;\n}\n\npublic int getGpRemaining() {\n    return gpRemaining;\n}\n</code></pre>\n<p>}</p>\n<p>And here is the <strong>MemberDatabase</strong> print method:</p>\n<pre><code>public class MemberDatabase {\nprivate Member[] mlist;\nprivate int size = 0;\nprivate int capacity = 4;\n\npublic MemberDatabase() {\n    mlist = new Member[capacity];\n}\n\n\npublic int getSize() {\n    return size;\n}\n\nprivate int find(Member member) {\n    for (int indexOfMember = 0; indexOfMember &lt; size; indexOfMember++) {\n        if(mlist[indexOfMember].equals(member)) {\n            return indexOfMember;\n        }\n    }\n    return -1;\n}\n\nprivate void grow() {\n    capacity += 4;\n    mlist = Arrays.copyOf(mlist, capacity);\n}\n\n\npublic boolean add(Member member) {\n    if (find(member) != -1) {\n        return false;\n    } else {\n        if (size &gt;= capacity) {\n            return false;\n        }\n        if (size != 0 &amp;&amp; (find(member) != -1)) {\n            return false;\n        }\n        mlist[size++] = member;\n        if (size &gt;= capacity) {\n            grow();\n        }\n        return true;\n    }\n}\n\npublic boolean remove(Member member) {\n    if (member == null) {\n        return false;\n    }\n    int indexOfMember = find(member);\n\n    if (indexOfMember != -1) {\n        mlist[indexOfMember] = mlist[--size];\n        mlist[size] = null;\n        return true;\n    }\n    return false;\n}\n\n/**\n * Print the original membership database\n */\n\npublic void print() {\n    if (size == 0) {\n        System.out.println(&quot;Member database is empty!&quot;);\n        return;\n    }\n    System.out.println(&quot;\\n-list of members-&quot;);\n    for (int i = 0; i &lt; size; i++) {\n        System.out.println(mlist[i]);\n    }\n    System.out.println(&quot;-end of list-\\n&quot;);\n}\n</code></pre>\n<p>Here is the <strong>add</strong>method which Add the members:\nThe input is like</p>\n<blockquote>\n<p>A Carl Brown, 10/7/1991, Piscataway</p>\n</blockquote>\n<blockquote>\n<p>AF Jerry Brown 6/30/1979 Edison</p>\n</blockquote>\n<pre><code>case A means this member has standard membership which means the \noutput should be \n&gt; Carl Brown, DOB: 10/7/1991, Membership expires 3/31/2023, Location: PISCATAWAY, 08854, MIDDLESEX\n\n\npublic void run() {\n    System.out.println(&quot;Gym Manager running...&quot;);\n    String input;\n    String[] inputs;\n    creatClass();\n    while (scan.hasNext()) {\n        input = scan.nextLine();\n        inputs = input.split(&quot;\\\\s&quot;);\n        if (input.length() == 0) {\n            System.out.println();\n            continue;\n        }\n        switch (inputs[0]) {\n            case &quot;A&quot; -&gt; A(inputs);\n            case &quot;AF&quot; -&gt; AF(inputs);\n\nprivate void A(String[] input) {\n    String[] dobDate = input[3].split(&quot;/&quot;);\n    Date dob = new Date(Integer.parseInt(dobDate[0]), Integer.parseInt(dobDate[1]), Integer.parseInt(dobDate[2]));\n    if (isValidLocation(input[4])) {\n        if (isValidDOB(dob)) {\n            Member member = new Member(input[1], input[2], dob, Location.valueOf(input[4].toUpperCase()));\n            if (member !=null) {\n                if (!database.add(member)) {\n                    System.out.println(input[1] + &quot; &quot; + input[2] + &quot; is already in the database.&quot;);\n                } else System.out.println(input[1] + &quot; &quot; + input[2] + &quot; added.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>/**\nCase AP means that the member has family membership and the output should be</p>\n<blockquote>\n<p>Jerry Brown, DOB: 6/30/1979, Membership expires 12/28/2022, Location: EDISON, 08837, MIDDLESEX, (Family) guest-pass remaining: 1\n*/</p>\n</blockquote>\n<pre><code>private void AP (String[] input) {\n    String[] dobDate = input[3].split(&quot;/&quot;);\n    Date dob = new Date(Integer.parseInt(dobDate[0]), Integer.parseInt(dobDate[1]), Integer.parseInt(dobDate[2]));\n    if (isValidLocation(input[4])) {\n        if (isValidDOB(dob)) {\n            Family member = new Family(input[1], input[2], dob, Location.valueOf(input[4].toUpperCase()), 1);\n            if (member !=null) {\n                if (!database.add(member)) {\n                    System.out.println(input[1] + &quot; &quot; + input[2] + &quot; is already in the database.&quot;);\n                } else System.out.println(input[1] + &quot; &quot; + input[2] + &quot; added.&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Please help!!</p>\n"},{"tags":["java","json","jsonnode"],"comments":[{"owner":{"account_id":8539439,"reputation":466,"user_id":6400036,"display_name":"Frighi"},"score":2,"creation_date":1592839512,"post_id":62517603,"comment_id":110561716,"body_markdown":"Does this answer your question? [Check whether a key exists or not in a nested JSON](https://stackoverflow.com/questions/31043606/check-whether-a-key-exists-or-not-in-a-nested-json)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31043606/check-whether-a-key-exists-or-not-in-a-nested-json\">Check whether a key exists or not in a nested JSON</a>"},{"owner":{"account_id":10130520,"reputation":719,"user_id":7484134,"display_name":"Benjamin Eckardt"},"score":5,"creation_date":1592839680,"post_id":62517603,"comment_id":110561817,"body_markdown":"The root node only has `links`  and `results` and does not look for nested structures.","body":"The root node only has <code>links</code>  and <code>results</code> and does not look for nested structures."},{"owner":{"account_id":18415316,"reputation":181,"user_id":13419405,"display_name":"MAryem"},"score":0,"creation_date":1592839768,"post_id":62517603,"comment_id":110561876,"body_markdown":"@Frighi no I tried it but it did not work too","body":"@Frighi no I tried it but it did not work too"},{"owner":{"account_id":18415316,"reputation":181,"user_id":13419405,"display_name":"MAryem"},"score":0,"creation_date":1592839806,"post_id":62517603,"comment_id":110561905,"body_markdown":"@BenjaminEckardt yess ! because when I test for &quot;links&quot; and &quot;results&quot; it works !! is there any solution ??","body":"@BenjaminEckardt yess ! because when I test for &quot;links&quot; and &quot;results&quot; it works !! is there any solution ??"},{"owner":{"account_id":8539439,"reputation":466,"user_id":6400036,"display_name":"Frighi"},"score":0,"creation_date":1592840077,"post_id":62517603,"comment_id":110562058,"body_markdown":"@MAryem what have you tried? it is the exactly same thing, it must work!","body":"@MAryem what have you tried? it is the exactly same thing, it must work!"},{"owner":{"account_id":18415316,"reputation":181,"user_id":13419405,"display_name":"MAryem"},"score":0,"creation_date":1592840122,"post_id":62517603,"comment_id":110562090,"body_markdown":"@Frighi I tried as mentionned in the solution : `Object obj=JSONValue.parse(body); JSONObject json = (JSONObject) obj; if(json.containsKey(r)) ...` and it returned false as output","body":"@Frighi I tried as mentionned in the solution : <code>Object obj=JSONValue.parse(body); JSONObject json = (JSONObject) obj; if(json.containsKey(r)) ...</code> and it returned false as output"},{"owner":{"account_id":8539439,"reputation":466,"user_id":6400036,"display_name":"Frighi"},"score":0,"creation_date":1592840309,"post_id":62517603,"comment_id":110562213,"body_markdown":"@MAryem be careful to *EDIT* part of the question, is the solution... it is a recursive function, have you wrote all correctly?","body":"@MAryem be careful to <i>EDIT</i> part of the question, is the solution... it is a recursive function, have you wrote all correctly?"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1592840955,"creation_date":1592840241,"answer_id":62518179,"question_id":62517603,"body_markdown":"If you&#39;re trying to find a key which is placed inside nested object, you may use \r\n`findValue(String key)` method which returns null if a value is not found by the given key:\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nJsonNode rootNode= mapper.readTree(json);\r\n\r\nString[] keys = {\r\n    &quot;id&quot;, &quot;create_date&quot;, &quot;versions_control_advanced&quot;, &quot;name&quot;, &quot;nofield&quot;\r\n};\r\n\r\nfor (String key : keys) {\r\n    JsonNode value = rootNode.findValue(key);\r\n    System.out.printf(&quot;Key %s exists? %s --&gt; value=%s%n&quot;, key, value != null,\r\n                    value == null ? null : value.asText());\r\n\r\n}\r\n```\r\nOutput:\r\n```\r\nKey id exists? true --&gt; value=276625\r\nKey create_date exists? true --&gt; value=2020-06-22T16:19:07\r\nKey versions_control_advanced exists? true --&gt; value=false\r\nKey name exists? true --&gt; value=\r\nKey nofield exists? false --&gt; value=null\r\n```","title":"check if a jsonNode contains a specific key then EXTRACT its value once it exists","body":"<p>If you're trying to find a key which is placed inside nested object, you may use\n<code>findValue(String key)</code> method which returns null if a value is not found by the given key:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nJsonNode rootNode= mapper.readTree(json);\n\nString[] keys = {\n    &quot;id&quot;, &quot;create_date&quot;, &quot;versions_control_advanced&quot;, &quot;name&quot;, &quot;nofield&quot;\n};\n\nfor (String key : keys) {\n    JsonNode value = rootNode.findValue(key);\n    System.out.printf(&quot;Key %s exists? %s --&gt; value=%s%n&quot;, key, value != null,\n                    value == null ? null : value.asText());\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Key id exists? true --&gt; value=276625\nKey create_date exists? true --&gt; value=2020-06-22T16:19:07\nKey versions_control_advanced exists? true --&gt; value=false\nKey name exists? true --&gt; value=\nKey nofield exists? false --&gt; value=null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5336470,"reputation":144,"user_id":4255253,"display_name":"Tanimak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592841187,"creation_date":1592840475,"answer_id":62518257,"question_id":62517603,"body_markdown":"I think you are not bound to the has() method. \r\n\r\nYou can convert the json to a map and then find the node recursively \r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Map&lt;String, Object&gt; map = mapper.readValue( body, Map.class );\r\n\r\n        ArrayList&lt;Object&gt; container = new ArrayList&lt;&gt;();\r\n        boolean value = find( map, &quot;id&quot;, container );\r\n\r\n        if( value )\r\n        {\r\n            System.out.println( container );\r\n        }\r\n\r\nThe recursive method should visit all the nodes and return soon as node is found \r\n\r\n    private static boolean find( Map&lt;String, Object&gt; map, String search, ArrayList&lt;Object&gt; container )\r\n        {\r\n            int i = 0;\r\n            for( String s : map.keySet() )\r\n            {\r\n                i++;\r\n                if( s.equals( search ) )\r\n                {\r\n                    container.add( map.get( s ) );\r\n                    return true;\r\n                }\r\n                if( map.get( s ) instanceof Map )\r\n                {\r\n                    boolean found = find( (Map&lt;String, Object&gt;) map.get( s ), search, container );\r\n                    if( i == map.size() || found )\r\n                    {\r\n                        return found;\r\n                    }\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n**I have edited the code to get the value also.** \r\nhope this helps. I strongly suggest you to do more research on yourself before looking for help from the community. ","title":"check if a jsonNode contains a specific key then EXTRACT its value once it exists","body":"<p>I think you are not bound to the has() method.</p>\n<p>You can convert the json to a map and then find the node recursively</p>\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n    Map&lt;String, Object&gt; map = mapper.readValue( body, Map.class );\n\n    ArrayList&lt;Object&gt; container = new ArrayList&lt;&gt;();\n    boolean value = find( map, &quot;id&quot;, container );\n\n    if( value )\n    {\n        System.out.println( container );\n    }\n</code></pre>\n<p>The recursive method should visit all the nodes and return soon as node is found</p>\n<pre><code>private static boolean find( Map&lt;String, Object&gt; map, String search, ArrayList&lt;Object&gt; container )\n    {\n        int i = 0;\n        for( String s : map.keySet() )\n        {\n            i++;\n            if( s.equals( search ) )\n            {\n                container.add( map.get( s ) );\n                return true;\n            }\n            if( map.get( s ) instanceof Map )\n            {\n                boolean found = find( (Map&lt;String, Object&gt;) map.get( s ), search, container );\n                if( i == map.size() || found )\n                {\n                    return found;\n                }\n            }\n        }\n        return false;\n    }\n</code></pre>\n<p><strong>I have edited the code to get the value also.</strong>\nhope this helps. I strongly suggest you to do more research on yourself before looking for help from the community.</p>\n"}],"owner":{"account_id":18415316,"reputation":181,"user_id":13419405,"display_name":"MAryem"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28814,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62518179,"answer_count":2,"score":3,"last_activity_date":1665396428,"creation_date":1592838645,"question_id":62517603,"body_markdown":"I have this String an I covered it to jsonNode using the ObjectMapper. Then I tried to look for a pecific key in this jsonNode so I used the &quot;.has&quot; but it did not work !! \r\nHere is what I did :\r\n\r\n```\r\n{ \r\n    &quot;links&quot;: {\r\n        &quot;data&quot;: {\r\n            &quot;self&quot;: {\r\n\t\t\t\t&quot;body&quot;: &quot;&quot;, \r\n\t\t\t\t&quot;content_type&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;href&quot;: &quot;/api/v2/nodes&quot;,\r\n\t\t\t\t&quot;method&quot;: &quot;POST&quot;, \r\n\t\t\t\t&quot;name&quot;: &quot;&quot; \r\n\t\t\t} \r\n\t\t}\r\n\t},\r\n\t&quot;results&quot;: { \r\n\t\t&quot;data&quot;: {\r\n\t\t\t&quot;properties&quot;: { \r\n\t\t\t\t&quot;container&quot;: true,\r\n\t\t\t\t&quot;container_size&quot;: 0,\r\n\t\t\t\t&quot;create_date&quot;: &quot;2020-06-22T16:19:07&quot;,\r\n\t\t\t\t&quot;create_user_id&quot;: 1000,\r\n\t\t\t\t&quot;description&quot;: &quot;&quot;\r\n\t\t\t\t&quot;description_multilingual&quot;: { \r\n\t\t\t\t    &quot;en&quot;: &quot;&quot;,\r\n\t\t\t\t    &quot;fr_FR&quot;: &quot;&quot; \r\n\t\t\t\t},\r\n\t\t\t\t&quot;external_create_date&quot;: null,\r\n\t\t\t\t&quot;external_identity&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;external_identity_type&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;external_modify_date&quot;: null,\r\n\t\t\t\t&quot;external_source&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;favorite&quot;: false,\r\n\t\t\t\t&quot;id&quot;: 276625,\r\n\t\t\t\t&quot;mime_type&quot;: null,\r\n\t\t\t\t&quot;modify_date&quot;: &quot;2020-06-22T16:19:07&quot;,\r\n\t\t\t\t&quot;modify_user_id&quot;: 1000,\r\n\t\t\t\t&quot;name&quot;: &quot;mar&quot;,\r\n\t\t\t\t&quot;name_multilingual&quot;: {\r\n\t\t\t\t    &quot;en&quot;: &quot;mar&quot;,\r\n\t\t\t\t    &quot;fr_FR&quot;: &quot;&quot;\r\n\t\t\t\t},\r\n\t\t\t\t&quot;owner&quot;: &quot;Admin&quot;,\r\n\t\t\t\t&quot;owner_group_id&quot;: 1001,\r\n\t\t\t\t&quot;owner_user_id&quot;: 1000,\r\n\t\t\t\t&quot;parent_id&quot;: 2000,\r\n\t\t\t\t&quot;permissions_model&quot;: &quot;advanced&quot;,\r\n\t\t\t\t&quot;reserved&quot;: false,\r\n\t\t\t\t&quot;reserved_date&quot;: null,\r\n\t\t\t\t&quot;reserved_shared_collaboration&quot;: false,\r\n\t\t\t\t&quot;reserved_user_id&quot;: 0,\r\n\t\t\t\t&quot;size&quot;: 0,\r\n\t\t\t\t&quot;size_formatted&quot;: &quot;0 El&#233;ments&quot;,\r\n\t\t\t\t&quot;type&quot;: 0,\r\n\t\t\t\t&quot;type_name&quot;: &quot;Dossier&quot;,\r\n\t\t\t\t&quot;versions_control_advanced&quot;: false,\r\n\t\t\t\t&quot;volume_id&quot;: -2000 \r\n\t\t\t} \r\n\t\t} \r\n\t}\r\n}\r\n```\r\n\r\nand I want to test whether it has the &quot;id&quot; key (it actually exists in line 31) so I used `.has()` as mentioned in https://stackoverflow.com/questions/17487205/how-to-check-if-a-json-key-exists:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();    \r\n    JsonNode rootNode= mapper.readTree(body);\r\n             if(rootNode.has(&quot;id&quot;)){\r\n                System.out.println(true);\r\n             }\r\n            else{\r\n                System.out.println(false);\r\n            }\r\n\r\nbut always it shows me &quot;false&quot; as output !! \r\n\r\n","title":"check if a jsonNode contains a specific key then EXTRACT its value once it exists","body":"<p>I have this String an I covered it to jsonNode using the ObjectMapper. Then I tried to look for a pecific key in this jsonNode so I used the &quot;.has&quot; but it did not work !!\nHere is what I did :</p>\n<pre><code>{ \n    &quot;links&quot;: {\n        &quot;data&quot;: {\n            &quot;self&quot;: {\n                &quot;body&quot;: &quot;&quot;, \n                &quot;content_type&quot;: &quot;&quot;,\n                &quot;href&quot;: &quot;/api/v2/nodes&quot;,\n                &quot;method&quot;: &quot;POST&quot;, \n                &quot;name&quot;: &quot;&quot; \n            } \n        }\n    },\n    &quot;results&quot;: { \n        &quot;data&quot;: {\n            &quot;properties&quot;: { \n                &quot;container&quot;: true,\n                &quot;container_size&quot;: 0,\n                &quot;create_date&quot;: &quot;2020-06-22T16:19:07&quot;,\n                &quot;create_user_id&quot;: 1000,\n                &quot;description&quot;: &quot;&quot;\n                &quot;description_multilingual&quot;: { \n                    &quot;en&quot;: &quot;&quot;,\n                    &quot;fr_FR&quot;: &quot;&quot; \n                },\n                &quot;external_create_date&quot;: null,\n                &quot;external_identity&quot;: &quot;&quot;,\n                &quot;external_identity_type&quot;: &quot;&quot;,\n                &quot;external_modify_date&quot;: null,\n                &quot;external_source&quot;: &quot;&quot;,\n                &quot;favorite&quot;: false,\n                &quot;id&quot;: 276625,\n                &quot;mime_type&quot;: null,\n                &quot;modify_date&quot;: &quot;2020-06-22T16:19:07&quot;,\n                &quot;modify_user_id&quot;: 1000,\n                &quot;name&quot;: &quot;mar&quot;,\n                &quot;name_multilingual&quot;: {\n                    &quot;en&quot;: &quot;mar&quot;,\n                    &quot;fr_FR&quot;: &quot;&quot;\n                },\n                &quot;owner&quot;: &quot;Admin&quot;,\n                &quot;owner_group_id&quot;: 1001,\n                &quot;owner_user_id&quot;: 1000,\n                &quot;parent_id&quot;: 2000,\n                &quot;permissions_model&quot;: &quot;advanced&quot;,\n                &quot;reserved&quot;: false,\n                &quot;reserved_date&quot;: null,\n                &quot;reserved_shared_collaboration&quot;: false,\n                &quot;reserved_user_id&quot;: 0,\n                &quot;size&quot;: 0,\n                &quot;size_formatted&quot;: &quot;0 Eléments&quot;,\n                &quot;type&quot;: 0,\n                &quot;type_name&quot;: &quot;Dossier&quot;,\n                &quot;versions_control_advanced&quot;: false,\n                &quot;volume_id&quot;: -2000 \n            } \n        } \n    }\n}\n</code></pre>\n<p>and I want to test whether it has the &quot;id&quot; key (it actually exists in line 31) so I used <code>.has()</code> as mentioned in <a href=\"https://stackoverflow.com/questions/17487205/how-to-check-if-a-json-key-exists\">How to check if a json key exists?</a>:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();    \nJsonNode rootNode= mapper.readTree(body);\n         if(rootNode.has(&quot;id&quot;)){\n            System.out.println(true);\n         }\n        else{\n            System.out.println(false);\n        }\n</code></pre>\n<p>but always it shows me &quot;false&quot; as output !!</p>\n"},{"tags":["java","dayofweek"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":3,"creation_date":1664998333,"post_id":73965427,"comment_id":130599080,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\nIt is unclear what you are asking or what the problem is.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/73965427/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. It is unclear what you are asking or what the problem is."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1664999794,"post_id":73965427,"comment_id":130599480,"body_markdown":"*First day of week* varies by culture. For example, in the United States, Sunday is usually considered first day of the week, not Monday as you suggest in your Question. See [`WeekFields#getFirstDayOfWeek`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/WeekFields.html#getFirstDayOfWeek()).","body":"<i>First day of week</i> varies by culture. For example, in the United States, Sunday is usually considered first day of the week, not Monday as you suggest in your Question. See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/WeekFields.html#getFirstDayOfWeek()\" rel=\"nofollow noreferrer\"><code>WeekFields#getFirstDayOfWeek</code></a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1665322827,"post_id":73965427,"comment_id":130668327,"body_markdown":"If this is for printing only and you want to take the first day of the week according to the default locale into account, you may use `LocalDate.of(year, month, day).format(DateTimeFormatter.ofPattern(&quot;e&quot;, Locale.getDefault(Locale.Category.DISPLAY)))`.","body":"If this is for printing only and you want to take the first day of the week according to the default locale into account, you may use <code>LocalDate.of(year, month, day).format(DateTimeFormatter.ofPattern(&quot;e&quot;, Locale.getDefault(Locale.Category.DISPLAY)))</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1665323219,"post_id":73965427,"comment_id":130668417,"body_markdown":"To answer the question in your title: It’s very sensible to have an `enum` like `DayOfWeek` for the days of the ISO week (Monday though Sunday). For most applications this makes a lot more sense than using numbers. On the other hand meaning that when for once you do need the number, you have just a little more work to do.","body":"To answer the question in your title: It’s very sensible to have an <code>enum</code> like <code>DayOfWeek</code> for the days of the ISO week (Monday though Sunday). For most applications this makes a lot more sense than using numbers. On the other hand meaning that when for once you do need the number, you have just a little more work to do."}],"answers":[{"tags":[],"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"ᴇʟᴇvᴀтᴇ"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664998459,"creation_date":1664998459,"answer_id":73965498,"question_id":73965427,"body_markdown":"You can use `.getValue()` to obtain the day number:\r\n\r\n    int dayNumberOfWeek = LocalDate.of(2022, 10, 02).getDayOfWeek().getValue();\r\n\r\nThe [Java docs for DayOfWeek](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/DayOfWeek.html) says:\r\n\r\n&gt; public int getValue()\r\n&gt; &lt;br&gt;Gets the day-of-week int value.\r\n&gt; &lt;br&gt;The values are numbered following the ISO-8601 standard, from 1 (Monday) to 7 (Sunday). See WeekFields.dayOfWeek() for localized week-numbering.\r\n","title":"Why getDayOfWeek does not return day number of week?","body":"<p>You can use <code>.getValue()</code> to obtain the day number:</p>\n<pre><code>int dayNumberOfWeek = LocalDate.of(2022, 10, 02).getDayOfWeek().getValue();\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\">Java docs for DayOfWeek</a> says:</p>\n<blockquote>\n<p>public int getValue()\n<br>Gets the day-of-week int value.\n<br>The values are numbered following the ISO-8601 standard, from 1 (Monday) to 7 (Sunday). See WeekFields.dayOfWeek() for localized week-numbering.</p>\n</blockquote>\n"}],"owner":{"account_id":24444492,"reputation":53,"user_id":18367674,"display_name":"Sinkos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":1,"score":-2,"last_activity_date":1665396396,"creation_date":1664998084,"question_id":73965427,"body_markdown":"I have written code to print the day number of week, from 1 - Monday ...\r\n\r\nI found this:\r\n```\r\njava.time.DayOfWeek num = LocalDate.of(year, month, day).getDayOfWeek();\r\nSystem.out.println(num);\r\n```\r\nExample output:\r\n```none\r\n&gt; FRIDAY\r\n```\r\nSo, instead of printing the *number*, it prints the *name* of the day.\r\n\r\nHow can I fix it?\r\n\r\n    import java.time.LocalDate;","title":"Why getDayOfWeek does not return day number of week?","body":"<p>I have written code to print the day number of week, from 1 - Monday ...</p>\n<p>I found this:</p>\n<pre><code>java.time.DayOfWeek num = LocalDate.of(year, month, day).getDayOfWeek();\nSystem.out.println(num);\n</code></pre>\n<p>Example output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; FRIDAY\n</code></pre>\n<p>So, instead of printing the <em>number</em>, it prints the <em>name</em> of the day.</p>\n<p>How can I fix it?</p>\n<pre><code>import java.time.LocalDate;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665396387,"creation_date":1665394866,"answer_id":74012909,"question_id":74012620,"body_markdown":"Calling `subList` returns a &quot;view&quot; of your original list. Any method accessing the list through the sub list effectively does `index + offset`.\r\n\r\nThe [JavaDoc](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-) continues to state (emphasis mine):\r\n\r\n&gt; The semantics of the list returned by this method become _undefined if the backing list (i.e., this list) is structurally modified in any way other than via the returned list_. (Structural modifications are those that change the size of this list, or otherwise perturb it in such a fashion that iterations in progress may yield incorrect results.)\r\n\r\nWhat that means is that if you remove or add elements from the original list, accessing the sub list _might_ throw an exception, because you are accessing items outside of the list. Or you might access different elements than you expect, because elements in the original list have shifted (and the sub list is only adding the offset for every index operation).\r\n\r\nIn other words: with current implementations, some structural modifications of the original list are reflected in the sublist, but there is no guarantee that they are. There are no guarantees either that your sub list will continue to work. Maybe it does, maybe it does not. Maybe it is going to an exception, or maybe it is not. Maybe it is throwing an exception later or accessing the wrong elements. Maybe it isn&#39;t. TLDR: Don&#39;t rely on _undefined behavior_.\r\n\r\nPlease note that there are other list implementations apart from `ArrayList`, e.g. `LinkedList`, which might behave differently when sublisted (there are at least two sublist implementations: `RandomAccessSubList` and `SubList`).\r\n\r\nYou can find the source of the sub list wrapper(s) in the OpenJDK source code: &lt;https://hg.openjdk.java.net/jdk/jdk/file/default/src/java.base/share/classes/java/util/AbstractList.java&gt;","title":"Can structural changes in sublist reflected in the original list, in JAVA?","body":"<p>Calling <code>subList</code> returns a &quot;view&quot; of your original list. Any method accessing the list through the sub list effectively does <code>index + offset</code>.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-\" rel=\"nofollow noreferrer\">JavaDoc</a> continues to state (emphasis mine):</p>\n<blockquote>\n<p>The semantics of the list returned by this method become <em>undefined if the backing list (i.e., this list) is structurally modified in any way other than via the returned list</em>. (Structural modifications are those that change the size of this list, or otherwise perturb it in such a fashion that iterations in progress may yield incorrect results.)</p>\n</blockquote>\n<p>What that means is that if you remove or add elements from the original list, accessing the sub list <em>might</em> throw an exception, because you are accessing items outside of the list. Or you might access different elements than you expect, because elements in the original list have shifted (and the sub list is only adding the offset for every index operation).</p>\n<p>In other words: with current implementations, some structural modifications of the original list are reflected in the sublist, but there is no guarantee that they are. There are no guarantees either that your sub list will continue to work. Maybe it does, maybe it does not. Maybe it is going to an exception, or maybe it is not. Maybe it is throwing an exception later or accessing the wrong elements. Maybe it isn't. TLDR: Don't rely on <em>undefined behavior</em>.</p>\n<p>Please note that there are other list implementations apart from <code>ArrayList</code>, e.g. <code>LinkedList</code>, which might behave differently when sublisted (there are at least two sublist implementations: <code>RandomAccessSubList</code> and <code>SubList</code>).</p>\n<p>You can find the source of the sub list wrapper(s) in the OpenJDK source code: <a href=\"https://hg.openjdk.java.net/jdk/jdk/file/default/src/java.base/share/classes/java/util/AbstractList.java\" rel=\"nofollow noreferrer\">https://hg.openjdk.java.net/jdk/jdk/file/default/src/java.base/share/classes/java/util/AbstractList.java</a></p>\n"}],"owner":{"account_id":23757056,"reputation":97,"user_id":17773053,"display_name":"xiunian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74012909,"answer_count":1,"score":1,"last_activity_date":1665396387,"creation_date":1665393386,"question_id":74012620,"body_markdown":"In the document of List class:\r\n```\r\n/*\r\nThe returned list is backed by this list, so non-structural changes in the returned list are reflected in this list, and vice-versa. \r\n*/\r\n    List&lt;E&gt; subList(int fromIndex, int toIndex);\r\n```\r\nCan structural changes in sublist reflected in the original list in JAVA?\r\nI have do an experiment and it told me the answer is &quot;can&quot;, but I am not sure.\r\nMy experiment code is below:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Student&gt; a=new ArrayList&lt;&gt;();\r\n        a.add(new Student(&quot;Lily&quot;,16));\r\n        a.add(new Student(&quot;Sam&quot;,16));\r\n        a.add(new Student(&quot;Tom&quot;,16));\r\n        a.add(new Student(&quot;Mary&quot;,16));\r\n        a.add(new Student(&quot;Mark&quot;,16));\r\n        a.add(new Student(&quot;John&quot;,16));\r\n\r\n        List&lt;Student&gt; suba=a.subList(2,5);\r\n\r\n        System.out.println(&quot;Firstly,suba:&quot;);\r\n        printall(suba);\r\n        \r\n        System.out.println(&quot;Change the structure:&quot;);\r\n        suba.remove(0);\r\n        System.out.println(&quot;suba:&quot;);\r\n        printall(suba);\r\n        System.out.println(&quot;a:&quot;);\r\n        printall(a);\r\n    }\r\n    public static void printall(List&lt;Student&gt; list){\r\n        for (Student a : list){\r\n            System.out.print(a+&quot;\\t&quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\nclass Student{\r\n    public String name;\r\n    public int age;\r\n    public Student(String name,int age){\r\n        this.name=name;\r\n        this.age=age;\r\n    }\r\n\r\n    public void hello(){\r\n        System.out.println(&quot;hello&quot;);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;name :&quot;+this.name+&quot;age :&quot;+this.age;\r\n    }\r\n}\r\n```\r\nand the result is:\r\n```\r\nFirstly,suba:\r\nname :Tomage :16\tname :Maryage :16\tname :Markage :16\t\r\nChange the structure:\r\nsuba:\r\nname :Maryage :16\tname :Markage :16\t\r\na:\r\nname :Lilyage :16\tname :Samage :16\tname :Maryage :16\tname :Markage :16\tname :Johnage :16\t\r\n```\r\nThe node Tom is deleted, the structure of the ArrayList has changed.Does my assumption true?\r\n\r\n\t","title":"Can structural changes in sublist reflected in the original list, in JAVA?","body":"<p>In the document of List class:</p>\n<pre><code>/*\nThe returned list is backed by this list, so non-structural changes in the returned list are reflected in this list, and vice-versa. \n*/\n    List&lt;E&gt; subList(int fromIndex, int toIndex);\n</code></pre>\n<p>Can structural changes in sublist reflected in the original list in JAVA?\nI have do an experiment and it told me the answer is &quot;can&quot;, but I am not sure.\nMy experiment code is below:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        ArrayList&lt;Student&gt; a=new ArrayList&lt;&gt;();\n        a.add(new Student(&quot;Lily&quot;,16));\n        a.add(new Student(&quot;Sam&quot;,16));\n        a.add(new Student(&quot;Tom&quot;,16));\n        a.add(new Student(&quot;Mary&quot;,16));\n        a.add(new Student(&quot;Mark&quot;,16));\n        a.add(new Student(&quot;John&quot;,16));\n\n        List&lt;Student&gt; suba=a.subList(2,5);\n\n        System.out.println(&quot;Firstly,suba:&quot;);\n        printall(suba);\n        \n        System.out.println(&quot;Change the structure:&quot;);\n        suba.remove(0);\n        System.out.println(&quot;suba:&quot;);\n        printall(suba);\n        System.out.println(&quot;a:&quot;);\n        printall(a);\n    }\n    public static void printall(List&lt;Student&gt; list){\n        for (Student a : list){\n            System.out.print(a+&quot;\\t&quot;);\n        }\n        System.out.println();\n    }\n}\nclass Student{\n    public String name;\n    public int age;\n    public Student(String name,int age){\n        this.name=name;\n        this.age=age;\n    }\n\n    public void hello(){\n        System.out.println(&quot;hello&quot;);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;name :&quot;+this.name+&quot;age :&quot;+this.age;\n    }\n}\n</code></pre>\n<p>and the result is:</p>\n<pre><code>Firstly,suba:\nname :Tomage :16    name :Maryage :16   name :Markage :16   \nChange the structure:\nsuba:\nname :Maryage :16   name :Markage :16   \na:\nname :Lilyage :16   name :Samage :16    name :Maryage :16   name :Markage :16   name :Johnage :16   \n</code></pre>\n<p>The node Tom is deleted, the structure of the ArrayList has changed.Does my assumption true?</p>\n"},{"tags":["java","bluetooth-lowenergy"],"answers":[{"tags":[],"owner":{"account_id":26039347,"reputation":21,"user_id":19744393,"display_name":"Dragomir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665396329,"creation_date":1665396329,"answer_id":74013216,"question_id":73323189,"body_markdown":"Problem was not at library. Problem at HID characteristic. It was not found on device, so there was no notifications from it.","title":"BLE on tinyB java characteristic has no notify","body":"<p>Problem was not at library. Problem at HID characteristic. It was not found on device, so there was no notifications from it.</p>\n"}],"owner":{"account_id":26039347,"reputation":21,"user_id":19744393,"display_name":"Dragomir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665396329,"creation_date":1660231234,"question_id":73323189,"body_markdown":"i`m trying to connect simple device(AB Shutter3) to java application on PC, but get no notification till connect. For test try \r\n\r\n    BluetoothDevice currentDev = (BluetoothDevice) container.getDevice();\r\n    \r\n            currentDev.setTrusted(true);\r\n            if(!currentDev.getConnected()) {\r\n                currentDev.connect();\r\n            }\r\n            logger.info(currentDev.getName());\r\n\r\nthen get ALL services, descriptors and try to enable notifications like:\r\n\r\n        public void findServiceAndCharacteristic(BlueToothDeviceContainer container, String serviceUid){\r\n        for (BluetoothGattService service : container.getGattServices()) {\r\n                if(service.getUUID().equals(CUSTOM_SHUTTER_SERVICE_2.value) ||\r\n                        service.getUUID().equals(CUSTOM_SHUTTER_SERVICE.value) ||\r\n                        service.getUUID().equals(GENERAL_DEVICE_INFORMATION.value)){\r\n                    List&lt;BluetoothGattCharacteristic&gt; characteristics = service.getCharacteristics();\r\n                    for(BluetoothGattCharacteristic ch : characteristics){\r\n                        logger.info(ch.getUUID());\r\n                        try {\r\n\r\n                            List&lt;BluetoothGattDescriptor&gt; descrs = ch.getDescriptors();\r\n                            for(BluetoothGattDescriptor ds : descrs){\r\n                                ds.enableValueNotifications(new BluetoothNotification&lt;byte[]&gt;() {\r\n                                    @Override\r\n                                    public void run(byte[] bytes) {\r\n                                        logger.info(ds.getUUID() + &quot;getted&quot;);\r\n                                        logger.info(&quot;BUTTON WAS PUSHED!!!&quot;);\r\n                                    }\r\n                                });\r\n                            }\r\n                        } catch (BluetoothException ex){\r\n                            logger.warn(ch.getUUID() + &quot; does not work.&quot;);\r\n                        }\r\n                        try{\r\n                            BluetoothNotification btnm = new BluetoothNotification&lt;byte[]&gt;() {\r\n                                @Override\r\n                                public void run(byte[] bytes) {\r\n                                    logger.info(ch.getUUID() + &quot;getted CH&quot;);\r\n                                    logger.info(&quot;BUTTON WAS PUSHED!!!&quot;);\r\n\r\n                                }\r\n                            };\r\n                            ch.enableValueNotifications(btnm);\r\n                    } catch (BluetoothException ex){\r\n                        logger.warn(ch.getUUID() + &quot; does not work.&quot;);\r\n                    }\r\n                        \r\n                        }\r\n\r\nbut run method does not work. What am i doing wrong, does anybody knows?","title":"BLE on tinyB java characteristic has no notify","body":"<p>i`m trying to connect simple device(AB Shutter3) to java application on PC, but get no notification till connect. For test try</p>\n<pre><code>BluetoothDevice currentDev = (BluetoothDevice) container.getDevice();\n\n        currentDev.setTrusted(true);\n        if(!currentDev.getConnected()) {\n            currentDev.connect();\n        }\n        logger.info(currentDev.getName());\n</code></pre>\n<p>then get ALL services, descriptors and try to enable notifications like:</p>\n<pre><code>    public void findServiceAndCharacteristic(BlueToothDeviceContainer container, String serviceUid){\n    for (BluetoothGattService service : container.getGattServices()) {\n            if(service.getUUID().equals(CUSTOM_SHUTTER_SERVICE_2.value) ||\n                    service.getUUID().equals(CUSTOM_SHUTTER_SERVICE.value) ||\n                    service.getUUID().equals(GENERAL_DEVICE_INFORMATION.value)){\n                List&lt;BluetoothGattCharacteristic&gt; characteristics = service.getCharacteristics();\n                for(BluetoothGattCharacteristic ch : characteristics){\n                    logger.info(ch.getUUID());\n                    try {\n\n                        List&lt;BluetoothGattDescriptor&gt; descrs = ch.getDescriptors();\n                        for(BluetoothGattDescriptor ds : descrs){\n                            ds.enableValueNotifications(new BluetoothNotification&lt;byte[]&gt;() {\n                                @Override\n                                public void run(byte[] bytes) {\n                                    logger.info(ds.getUUID() + &quot;getted&quot;);\n                                    logger.info(&quot;BUTTON WAS PUSHED!!!&quot;);\n                                }\n                            });\n                        }\n                    } catch (BluetoothException ex){\n                        logger.warn(ch.getUUID() + &quot; does not work.&quot;);\n                    }\n                    try{\n                        BluetoothNotification btnm = new BluetoothNotification&lt;byte[]&gt;() {\n                            @Override\n                            public void run(byte[] bytes) {\n                                logger.info(ch.getUUID() + &quot;getted CH&quot;);\n                                logger.info(&quot;BUTTON WAS PUSHED!!!&quot;);\n\n                            }\n                        };\n                        ch.enableValueNotifications(btnm);\n                } catch (BluetoothException ex){\n                    logger.warn(ch.getUUID() + &quot; does not work.&quot;);\n                }\n                    \n                    }\n</code></pre>\n<p>but run method does not work. What am i doing wrong, does anybody knows?</p>\n"},{"tags":["java","spring","spring-boot","ssl","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665383843,"post_id":74004341,"comment_id":130678579,"body_markdown":"Why create 2 connectors yourself? Change the port using the `management.server.port` which will create the connector for you instead of you messing around.","body":"Why create 2 connectors yourself? Change the port using the <code>management.server.port</code> which will create the connector for you instead of you messing around."},{"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"score":0,"creation_date":1665384509,"post_id":74004341,"comment_id":130678732,"body_markdown":"@M.Deinum tried to do that but still I don&#39;t have access to the port of management. I am not getting any metrics in my broswer as it should. Browser says that page can&#39;t be accessed.","body":"@M.Deinum tried to do that but still I don&#39;t have access to the port of management. I am not getting any metrics in my broswer as it should. Browser says that page can&#39;t be accessed."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665385404,"post_id":74004341,"comment_id":130678953,"body_markdown":"Ofcourse you have to remove your connector when you do that.","body":"Ofcourse you have to remove your connector when you do that."},{"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"score":0,"creation_date":1665385994,"post_id":74004341,"comment_id":130679121,"body_markdown":"@M.Deinum ok done that for `management.server.port=8080` but on http://localhost:8080/actuator/prometheus I am receiving &quot;Bad Request - This combination of host and port requires TLS.&quot; Any advices???","body":"@M.Deinum ok done that for <code>management.server.port=8080</code> but on <a href=\"http://localhost:8080/actuator/prometheus\" rel=\"nofollow noreferrer\">localhost:8080/actuator/prometheus</a> I am receiving &quot;Bad Request - This combination of host and port requires TLS.&quot; Any advices???"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665386529,"post_id":74004341,"comment_id":130679308,"body_markdown":"You can try `management.server.ssl.enabled=false`. I&#39;m not sure if it inherits the SSL from the server by default.","body":"You can try <code>management.server.ssl.enabled=false</code>. I&#39;m not sure if it inherits the SSL from the server by default."},{"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"score":0,"creation_date":1665387516,"post_id":74004341,"comment_id":130679598,"body_markdown":"@M.Deinum Tried it but now I am receing Error 404 - Not Found. Of course, I have the actuator dependency installed which means that the metrics should automatically appear without the need of Controller Class. The error message also gives the &quot;path&quot; = &quot;/login&quot; and I don&#39;t know why this redirection happens.","body":"@M.Deinum Tried it but now I am receing Error 404 - Not Found. Of course, I have the actuator dependency installed which means that the metrics should automatically appear without the need of Controller Class. The error message also gives the &quot;path&quot; = &quot;/login&quot; and I don&#39;t know why this redirection happens."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665388708,"post_id":74004341,"comment_id":130679986,"body_markdown":"You have included security so that will apply to actuator as well.","body":"You have included security so that will apply to actuator as well."},{"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"score":0,"creation_date":1665388991,"post_id":74004341,"comment_id":130680077,"body_markdown":"@M.Deinum I&#39;ve included the /actuator/prometheus path to requiresInsecure() channel. Shouldn&#39;t this solve the problem?","body":"@M.Deinum I&#39;ve included the /actuator/prometheus path to requiresInsecure() channel. Shouldn&#39;t this solve the problem?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665390746,"post_id":74004341,"comment_id":130680654,"body_markdown":"It redirects to login which means it is still secured with a username/password. What you configurd is for no https access.","body":"It redirects to login which means it is still secured with a username/password. What you configurd is for no https access."},{"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"score":0,"creation_date":1665391564,"post_id":74004341,"comment_id":130680945,"body_markdown":"@M.Deinum thank you for your contributions so far. If you think it&#39;s appropiate, please write an answer with your recommendations. I will try to manipulate security as we speak.","body":"@M.Deinum thank you for your contributions so far. If you think it&#39;s appropiate, please write an answer with your recommendations. I will try to manipulate security as we speak."},{"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"score":0,"creation_date":1665393978,"post_id":74004341,"comment_id":130681765,"body_markdown":"@M.Deinum I made it, thank you very much!!! Please write your answer, you deserve the upvote!!!","body":"@M.Deinum I made it, thank you very much!!! Please write your answer, you deserve the upvote!!!"}],"answers":[{"tags":[],"owner":{"account_id":21087616,"reputation":303,"user_id":15500332,"display_name":"Vel_More"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665396225,"creation_date":1665396225,"answer_id":74013192,"question_id":74004341,"body_markdown":"As M. Deinum suggests, it is preferable to avoid such implementations. You have to configure your application.properties file by adding these two lines.\r\n\r\n    management.server.ssl.enabled=false\r\n    management.server.port=8080\r\n\r\nThen remove that `server.http.port=8080` as well as `ServletWebServerFactory` bean declared in your Main class. Finally, add the following path in your antMatchers line in your Security Config class just after `authorizeRequests()`.\r\n\r\nThis way you will have both `/actuator/prometheus` in 8443 and 8080 port.\r\n\r\nHope this helps!!!","title":"Creation of a Tomcat Connector Creates Two Instances of the Same Spring Boot App - How to access HTTP endpoint While Starting App from HTTPS","body":"<p>As M. Deinum suggests, it is preferable to avoid such implementations. You have to configure your application.properties file by adding these two lines.</p>\n<pre><code>management.server.ssl.enabled=false\nmanagement.server.port=8080\n</code></pre>\n<p>Then remove that <code>server.http.port=8080</code> as well as <code>ServletWebServerFactory</code> bean declared in your Main class. Finally, add the following path in your antMatchers line in your Security Config class just after <code>authorizeRequests()</code>.</p>\n<p>This way you will have both <code>/actuator/prometheus</code> in 8443 and 8080 port.</p>\n<p>Hope this helps!!!</p>\n"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74013192,"answer_count":1,"score":0,"last_activity_date":1665396225,"creation_date":1665314749,"question_id":74004341,"body_markdown":"My Spring Boot application contains a login verification system that enforces users to register their credentials and verify their email by sending a confirmation form with an &quot;Activate Now&quot; button in their account. Upon the verification completion, the user may enter with their verified credentials in my application.\r\n\r\nThe latter is implemented on HTTPS on https:localhost:8443 with SSL enabled along with Spring Security.\r\n\r\n**My problem is as follows:**\r\n\r\nI want to expose actuator metrics but since I have HTTPS enabled the omonymous URL will be https:localhost:8443/actuator. I want to access that URL from http:localhost:8080/actuator and for that reason I created a second Tomcat connector which somehow solves my problem since I am receiving responce from POSTMAN.\r\n\r\nBut... As soon as, I create the second Tomcat connector I have to proceed to the verification process all over again from the start which means that the second Tomcat connector, created a second instance of my application, but running on a different port. I am providing a diagram just to help you somehow with my issue.\r\n\r\nI want to access the http:localhost:8080/actuator while maintaining the verification process which took place already from the start of my application on https:localhost:8443. Is that possible???\r\n\r\n[![Application Diagram][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eaJGq.jpg\r\n\r\n\r\n**Security Config Class**\r\n\r\n```\r\npackage com.andrekreou.iot.authentication.security;\r\n\r\nimport com.andrekreou.iot.authentication.user.ApplicationUserService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class ApplicationSecurityConfig {\r\n\r\n    private final ApplicationUserService applicationUserService;\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Bean\r\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .requiresChannel()\r\n                    .antMatchers(&quot;/greeting&quot;,&quot;/actuator/prometheus&quot;)\r\n                    .requiresInsecure()\r\n                .and()\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/api/v*/registration/**&quot;,&quot;/register*&quot;,&quot;/login&quot;,&quot;/registration&quot;,&quot;/registration-complete&quot;,&quot;/greeting&quot;).permitAll()\r\n                    //.antMatchers(&quot;/show-news-contents&quot;).hasRole(ADMIN.name())\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .usernameParameter(&quot;email&quot;)\r\n                    .permitAll()\r\n                    .defaultSuccessUrl(&quot;/&quot;,true)\r\n                    .failureUrl(&quot;/login-error&quot;)\r\n                .and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .clearAuthentication(true)\r\n                    .invalidateHttpSession(true)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\r\n                    .logoutSuccessUrl(&quot;/login&quot;);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(\r\n            AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider =\r\n                new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(applicationUserService);\r\n        return provider;\r\n    }\r\n}\r\n```\r\n\r\n**Main Class**\r\n\r\n```\r\npackage com.andrekreou.iot;\r\n\r\nimport org.apache.catalina.connector.Connector;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\r\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories\r\npublic class IotApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(IotApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ServletWebServerFactory servletContainer(@Value(&quot;${server.http.port}&quot;) int httpPort) {\r\n\t\tConnector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);\r\n\t\tconnector.setPort(httpPort);\r\n\r\n\t\tTomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\r\n\t\ttomcat.addAdditionalTomcatConnectors(connector);\r\n\t\treturn tomcat;\r\n\t}\r\n}\r\n```\r\n\r\n**Application.properties**\r\n\r\n```\r\n#Server properties for HTTPS configuration\r\nserver.ssl.enabled=true\r\nserver.ssl.key-store-type=PKCS12\r\nserver.ssl.key-store=classpath:local-ssl.p12\r\nserver.ssl.key-store-password=&lt;password&gt;\r\nserver.ssl.key-password=&lt;password&gt;\r\nserver.servlet.context-path=/\r\nserver.ssl.key-alias=local_ssl\r\nserver.port=8443\r\nserver.http.port=8080\r\n```","title":"Creation of a Tomcat Connector Creates Two Instances of the Same Spring Boot App - How to access HTTP endpoint While Starting App from HTTPS","body":"<p>My Spring Boot application contains a login verification system that enforces users to register their credentials and verify their email by sending a confirmation form with an &quot;Activate Now&quot; button in their account. Upon the verification completion, the user may enter with their verified credentials in my application.</p>\n<p>The latter is implemented on HTTPS on https:localhost:8443 with SSL enabled along with Spring Security.</p>\n<p><strong>My problem is as follows:</strong></p>\n<p>I want to expose actuator metrics but since I have HTTPS enabled the omonymous URL will be https:localhost:8443/actuator. I want to access that URL from http:localhost:8080/actuator and for that reason I created a second Tomcat connector which somehow solves my problem since I am receiving responce from POSTMAN.</p>\n<p>But... As soon as, I create the second Tomcat connector I have to proceed to the verification process all over again from the start which means that the second Tomcat connector, created a second instance of my application, but running on a different port. I am providing a diagram just to help you somehow with my issue.</p>\n<p>I want to access the http:localhost:8080/actuator while maintaining the verification process which took place already from the start of my application on https:localhost:8443. Is that possible???</p>\n<p><a href=\"https://i.stack.imgur.com/eaJGq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eaJGq.jpg\" alt=\"Application Diagram\" /></a></p>\n<p><strong>Security Config Class</strong></p>\n<pre><code>package com.andrekreou.iot.authentication.security;\n\nimport com.andrekreou.iot.authentication.user.ApplicationUserService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class ApplicationSecurityConfig {\n\n    private final ApplicationUserService applicationUserService;\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .requiresChannel()\n                    .antMatchers(&quot;/greeting&quot;,&quot;/actuator/prometheus&quot;)\n                    .requiresInsecure()\n                .and()\n                .authorizeRequests()\n                    .antMatchers(&quot;/api/v*/registration/**&quot;,&quot;/register*&quot;,&quot;/login&quot;,&quot;/registration&quot;,&quot;/registration-complete&quot;,&quot;/greeting&quot;).permitAll()\n                    //.antMatchers(&quot;/show-news-contents&quot;).hasRole(ADMIN.name())\n                    .anyRequest()\n                    .authenticated()\n                    .and()\n                .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .usernameParameter(&quot;email&quot;)\n                    .permitAll()\n                    .defaultSuccessUrl(&quot;/&quot;,true)\n                    .failureUrl(&quot;/login-error&quot;)\n                .and()\n                .logout()\n                    .logoutUrl(&quot;/logout&quot;)\n                    .clearAuthentication(true)\n                    .invalidateHttpSession(true)\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\n                    .logoutSuccessUrl(&quot;/login&quot;);\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(\n            AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider =\n                new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n}\n</code></pre>\n<p><strong>Main Class</strong></p>\n<pre><code>package com.andrekreou.iot;\n\nimport org.apache.catalina.connector.Connector;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.servlet.server.ServletWebServerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories\npublic class IotApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(IotApplication.class, args);\n    }\n\n    @Bean\n    public ServletWebServerFactory servletContainer(@Value(&quot;${server.http.port}&quot;) int httpPort) {\n        Connector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);\n        connector.setPort(httpPort);\n\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory();\n        tomcat.addAdditionalTomcatConnectors(connector);\n        return tomcat;\n    }\n}\n</code></pre>\n<p><strong>Application.properties</strong></p>\n<pre><code>#Server properties for HTTPS configuration\nserver.ssl.enabled=true\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-store=classpath:local-ssl.p12\nserver.ssl.key-store-password=&lt;password&gt;\nserver.ssl.key-password=&lt;password&gt;\nserver.servlet.context-path=/\nserver.ssl.key-alias=local_ssl\nserver.port=8443\nserver.http.port=8080\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665396018,"creation_date":1665396018,"answer_id":74013146,"question_id":74013075,"body_markdown":"You should check with built in method I believe:\r\n\r\n    mockMvc.perform(get(&quot;/verification-complete&quot;))\r\n\t\t\t\t.andExpect(redirectedUrl(&quot;/login&quot;));","title":"JUnit Test a Controller View with Spring Security throws java.lang.AssertionError: No ModelAndView found after HTTP Status 302","body":"<p>You should check with built in method I believe:</p>\n<pre><code>mockMvc.perform(get(&quot;/verification-complete&quot;))\n            .andExpect(redirectedUrl(&quot;/login&quot;));\n</code></pre>\n"}],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74013146,"answer_count":1,"score":0,"last_activity_date":1665396018,"creation_date":1665395654,"question_id":74013075,"body_markdown":"I am totally new to Spring Testing and I don&#39;t know what I am missing here. I have the below controller class that I want to test. I have also Spring Security and I have excluded that controller from antMatchers in order to get redirection to the login page. I wrote the test below but I am receiving the message of the title of this question. What should I do?\r\n\r\n**Controller Test**\r\n```\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    @DisplayName(&quot;Testing the Verification Complete view of the application&quot;)\r\n    public void testVerificationCompletePage() throws Exception{\r\n        mockMvc.perform(get(&quot;/verification-complete&quot;))\r\n                .andExpect(status().is3xxRedirection())\r\n                .andExpect(view().name(&quot;login&quot;));\r\n    }\r\n```\r\n\r\n**Controller Class**\r\n```\r\n    @GetMapping(&quot;/verification-complete&quot;)\r\n    public String showVerificationCompleteForm(){\r\n        return &quot;verification-complete&quot;;\r\n    }\r\n```\r\n\r\n**Spring Security Config**\r\n\r\n```\r\npackage com.andrekreou.iot.authentication.security;\r\n\r\nimport com.andrekreou.iot.authentication.user.ApplicationUserService;\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class ApplicationSecurityConfig {\r\n\r\n    private final ApplicationUserService applicationUserService;\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Bean\r\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable()\r\n                .requiresChannel()\r\n                    .antMatchers(&quot;/actuator/prometheus&quot;)\r\n                    .requiresInsecure()\r\n                .and()\r\n                .authorizeRequests()\r\n                    .antMatchers(\r\n                            &quot;/api/v*/registration/**&quot;,\r\n                            &quot;/register*&quot;,\r\n                            &quot;/login&quot;,\r\n                            &quot;/registration&quot;,\r\n                            &quot;/registration-complete&quot;,\r\n                            &quot;/actuator/prometheus&quot;).permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .usernameParameter(&quot;email&quot;)\r\n                    .permitAll()\r\n                    .defaultSuccessUrl(&quot;/&quot;,true)\r\n                    .failureUrl(&quot;/login-error&quot;)\r\n                .and()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .clearAuthentication(true)\r\n                    .invalidateHttpSession(true)\r\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\r\n                    .logoutSuccessUrl(&quot;/login&quot;);\r\n\r\n        return http.build();\r\n    }\r\n```","title":"JUnit Test a Controller View with Spring Security throws java.lang.AssertionError: No ModelAndView found after HTTP Status 302","body":"<p>I am totally new to Spring Testing and I don't know what I am missing here. I have the below controller class that I want to test. I have also Spring Security and I have excluded that controller from antMatchers in order to get redirection to the login page. I wrote the test below but I am receiving the message of the title of this question. What should I do?</p>\n<p><strong>Controller Test</strong></p>\n<pre><code>    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    @DisplayName(&quot;Testing the Verification Complete view of the application&quot;)\n    public void testVerificationCompletePage() throws Exception{\n        mockMvc.perform(get(&quot;/verification-complete&quot;))\n                .andExpect(status().is3xxRedirection())\n                .andExpect(view().name(&quot;login&quot;));\n    }\n</code></pre>\n<p><strong>Controller Class</strong></p>\n<pre><code>    @GetMapping(&quot;/verification-complete&quot;)\n    public String showVerificationCompleteForm(){\n        return &quot;verification-complete&quot;;\n    }\n</code></pre>\n<p><strong>Spring Security Config</strong></p>\n<pre><code>package com.andrekreou.iot.authentication.security;\n\nimport com.andrekreou.iot.authentication.user.ApplicationUserService;\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class ApplicationSecurityConfig {\n\n    private final ApplicationUserService applicationUserService;\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .requiresChannel()\n                    .antMatchers(&quot;/actuator/prometheus&quot;)\n                    .requiresInsecure()\n                .and()\n                .authorizeRequests()\n                    .antMatchers(\n                            &quot;/api/v*/registration/**&quot;,\n                            &quot;/register*&quot;,\n                            &quot;/login&quot;,\n                            &quot;/registration&quot;,\n                            &quot;/registration-complete&quot;,\n                            &quot;/actuator/prometheus&quot;).permitAll()\n                    .anyRequest()\n                    .authenticated()\n                    .and()\n                .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .usernameParameter(&quot;email&quot;)\n                    .permitAll()\n                    .defaultSuccessUrl(&quot;/&quot;,true)\n                    .failureUrl(&quot;/login-error&quot;)\n                .and()\n                .logout()\n                    .logoutUrl(&quot;/logout&quot;)\n                    .clearAuthentication(true)\n                    .invalidateHttpSession(true)\n                    .deleteCookies(&quot;JSESSIONID&quot;,&quot;Idea-2e8e7cee&quot;)\n                    .logoutSuccessUrl(&quot;/login&quot;);\n\n        return http.build();\n    }\n</code></pre>\n"},{"tags":["java","angular","spring-boot","apache","tomcat"],"comments":[{"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"score":0,"creation_date":1664543658,"post_id":73731122,"comment_id":130502213,"body_markdown":"If you getting 403, I might try these: first recreate your pom file and make sure sevurity is not there. Second, you showing the contrller with  the file with RequestParamter which is good but you don&#39;t show the web app code that send the file/request.","body":"If you getting 403, I might try these: first recreate your pom file and make sure sevurity is not there. Second, you showing the contrller with  the file with RequestParamter which is good but you don&#39;t show the web app code that send the file/request."},{"owner":{"account_id":26345073,"reputation":1,"user_id":20003592,"display_name":"Marine Gomes"},"score":0,"creation_date":1665478386,"post_id":73731122,"comment_id":130703892,"body_markdown":"I don&#39;t have any problem when i run the application with mvn spring-boot:run only when i am one a external tomcat","body":"I don&#39;t have any problem when i run the application with mvn spring-boot:run only when i am one a external tomcat"}],"answers":[{"tags":[],"owner":{"account_id":11750344,"reputation":11,"user_id":8599789,"display_name":"C Sher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665311286,"creation_date":1665311258,"answer_id":74003951,"question_id":73731122,"body_markdown":"If Postman is returning the query, then the problem is probably in the Angular front end. I believe I was getting a 403 error when I tried to send a String from my backend, it had to be wrapped in an object and unwrapped by Angular to be a string in Angular.","title":"Angular and Spring boot -&gt; POST Request response 403","body":"<p>If Postman is returning the query, then the problem is probably in the Angular front end. I believe I was getting a 403 error when I tried to send a String from my backend, it had to be wrapped in an object and unwrapped by Angular to be a string in Angular.</p>\n"}],"owner":{"account_id":26345073,"reputation":1,"user_id":20003592,"display_name":"Marine Gomes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665395962,"creation_date":1663244778,"question_id":73731122,"body_markdown":"I have a problem with Spring boot and Angular. I make a POST request which works on POSTMAN and locally but which gives me a 403 in production on tomcat with apache as reverse proxy. But it&#39;s working when I am with the embedded tomcat.\r\n\r\nI have to try everything soon. \r\n\r\nAll the solutions I&#39;ve seen say to disable CSFR but I have no authentication to access my webservice and therefore no spring-security dependency. \r\n\r\nI tried anyway but the problem is still there. And in some cases it required me to log in which I don&#39;t want to do\r\n```\r\n\r\nimport ch.megahertz.swissqrbillsgeneratorapi.properties.FileStorageProperties;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\n@SpringBootApplication(scanBasePackages = {&quot;ch.megahertz.swissqrbillsgeneratorapi.*&quot;})\r\n@EnableConfigurationProperties({\r\n        FileStorageProperties.class\r\n})\r\n\r\npublic class SwissQrBillsGeneratorApiApplication extends SpringBootServletInitializer {\r\n\r\n    static Logger logger = LoggerFactory.getLogger(SwissQrBillsGeneratorApiApplication.class);\r\n    public static void main(String[] args) {\r\n        logger.info(&quot;Run application&quot;);\r\n        SpringApplication.run(SwissQrBillsGeneratorApiApplication.class, args);\r\n    }\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\r\n        return application.sources(SwissQrBillsGeneratorApiApplication.class);\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class WebMvcConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedMethods(&quot;*&quot;)\r\n                .allowedHeaders(&quot;*&quot;)\r\n                .allowedOrigins(&quot;*&quot;)\r\n                .allowCredentials(false)\r\n                .maxAge(-1);\r\n    }\r\n\r\n}\r\n\r\n\r\nimport ch.megahertz.swissqrbillsgeneratorapi.payload.Invoice;\r\nimport ch.megahertz.swissqrbillsgeneratorapi.service.CRMService;\r\nimport ch.megahertz.swissqrbillsgeneratorapi.service.FileStorageService;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.core.io.UrlResource;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\n\r\n\r\n//@CrossOrigin(origins = {&quot;https://swissqrbillsgenerator.megahertz.ch/&quot;,&quot;http://localhost:4200/&quot;})\r\n@Slf4j\r\n@RestController\r\npublic class ApiController {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(ApiController.class);\r\n\r\n    @Autowired\r\n    private FileStorageService fileStorageService;\r\n\r\n    @Autowired\r\n    private CRMService crmService;\r\n\r\n    @GetMapping\r\n    public String generateQRBills() {\r\n        log.info(&quot;Enter in GeT API&quot;);\r\n    return &quot;Get ok&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/generate&quot;)\r\n    public ResponseEntity&lt;Resource&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n        System.out.println(&quot;Enter in generate API&quot;);\r\n        logger.info(&quot;Enter in generate API&quot;);\r\n        log.info(&quot;Enter in generate POST API&quot;);\r\n        String fileName = fileStorageService.storeFile(file);\r\n\r\n        String fileDownloadUri = ServletUriComponentsBuilder.fromCurrentContextPath()\r\n                .path(&quot;/downloadFile/&quot;)\r\n                .path(fileName)\r\n                .toUriString();\r\n\r\n        Invoice facture = crmService.getFactureInfo(fileName);\r\n        File fileWithQR = fileStorageService.addQrToFile(fileName, facture);\r\n\r\n        Resource resource = new UrlResource(fileWithQR.toURI());\r\n           return ResponseEntity.ok()\r\n                    .header(HttpHeaders.CONTENT_TYPE,Files.probeContentType(resource.getFile().toPath()))\r\n                    .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileName+ &quot;\\&quot;&quot;)\r\n                    .body(resource);\r\n\r\n\r\n    }\r\n}\r\n````\r\nDo you have any idea?","title":"Angular and Spring boot -&gt; POST Request response 403","body":"<p>I have a problem with Spring boot and Angular. I make a POST request which works on POSTMAN and locally but which gives me a 403 in production on tomcat with apache as reverse proxy. But it's working when I am with the embedded tomcat.</p>\n<p>I have to try everything soon.</p>\n<p>All the solutions I've seen say to disable CSFR but I have no authentication to access my webservice and therefore no spring-security dependency.</p>\n<p>I tried anyway but the problem is still there. And in some cases it required me to log in which I don't want to do</p>\n<pre><code>\nimport ch.megahertz.swissqrbillsgeneratorapi.properties.FileStorageProperties;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication(scanBasePackages = {&quot;ch.megahertz.swissqrbillsgeneratorapi.*&quot;})\n@EnableConfigurationProperties({\n        FileStorageProperties.class\n})\n\npublic class SwissQrBillsGeneratorApiApplication extends SpringBootServletInitializer {\n\n    static Logger logger = LoggerFactory.getLogger(SwissQrBillsGeneratorApiApplication.class);\n    public static void main(String[] args) {\n        logger.info(&quot;Run application&quot;);\n        SpringApplication.run(SwissQrBillsGeneratorApiApplication.class, args);\n    }\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n\n        return application.sources(SwissQrBillsGeneratorApiApplication.class);\n    }\n\n\n\n}\n\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedMethods(&quot;*&quot;)\n                .allowedHeaders(&quot;*&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowCredentials(false)\n                .maxAge(-1);\n    }\n\n}\n\n\nimport ch.megahertz.swissqrbillsgeneratorapi.payload.Invoice;\nimport ch.megahertz.swissqrbillsgeneratorapi.service.CRMService;\nimport ch.megahertz.swissqrbillsgeneratorapi.service.FileStorageService;\nimport lombok.extern.slf4j.Slf4j;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.UrlResource;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\n\n\n//@CrossOrigin(origins = {&quot;https://swissqrbillsgenerator.megahertz.ch/&quot;,&quot;http://localhost:4200/&quot;})\n@Slf4j\n@RestController\npublic class ApiController {\n\n    private static final Logger logger = LoggerFactory.getLogger(ApiController.class);\n\n    @Autowired\n    private FileStorageService fileStorageService;\n\n    @Autowired\n    private CRMService crmService;\n\n    @GetMapping\n    public String generateQRBills() {\n        log.info(&quot;Enter in GeT API&quot;);\n    return &quot;Get ok&quot;;\n    }\n\n    @PostMapping(&quot;/generate&quot;)\n    public ResponseEntity&lt;Resource&gt; uploadFile(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\n        System.out.println(&quot;Enter in generate API&quot;);\n        logger.info(&quot;Enter in generate API&quot;);\n        log.info(&quot;Enter in generate POST API&quot;);\n        String fileName = fileStorageService.storeFile(file);\n\n        String fileDownloadUri = ServletUriComponentsBuilder.fromCurrentContextPath()\n                .path(&quot;/downloadFile/&quot;)\n                .path(fileName)\n                .toUriString();\n\n        Invoice facture = crmService.getFactureInfo(fileName);\n        File fileWithQR = fileStorageService.addQrToFile(fileName, facture);\n\n        Resource resource = new UrlResource(fileWithQR.toURI());\n           return ResponseEntity.ok()\n                    .header(HttpHeaders.CONTENT_TYPE,Files.probeContentType(resource.getFile().toPath()))\n                    .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=\\&quot;&quot; + fileName+ &quot;\\&quot;&quot;)\n                    .body(resource);\n\n\n    }\n}\n</code></pre>\n<p>Do you have any idea?</p>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","lettuce"],"comments":[{"owner":{"account_id":5365434,"reputation":431,"user_id":4275558,"display_name":"Zolt&#225;n Barics"},"score":0,"creation_date":1627637798,"post_id":67043185,"comment_id":121214887,"body_markdown":"We have the same issue, were you able to resolve this? Thanks","body":"We have the same issue, were you able to resolve this? Thanks"},{"owner":{"account_id":9062016,"reputation":55,"user_id":7899285,"display_name":"Akash Sagar"},"score":0,"creation_date":1650865916,"post_id":67043185,"comment_id":127215104,"body_markdown":"Facing same issue.Did you get the solution for this issue.","body":"Facing same issue.Did you get the solution for this issue."}],"answers":[{"tags":[],"owner":{"account_id":25200889,"reputation":51,"user_id":19039766,"display_name":"Juyel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665395356,"creation_date":1665395356,"answer_id":74013012,"question_id":67043185,"body_markdown":"Probably Your Redis server gets crashed due to lack of memory. allocate more memory to your server or you can perform stream maxlen operation either for Redis stream so that the Redis server has the consistency of memory size.","title":"Spring Redis Stream consumer stops consuming messages (Address already in use)","body":"<p>Probably Your Redis server gets crashed due to lack of memory. allocate more memory to your server or you can perform stream maxlen operation either for Redis stream so that the Redis server has the consistency of memory size.</p>\n"}],"owner":{"account_id":21214994,"reputation":11,"user_id":15602777,"display_name":"marian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1811,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665395356,"creation_date":1618131991,"question_id":67043185,"body_markdown":"I tried to test redis streams with spring-data-redis.\r\nI&#39;ve implemented two aplications - first one adds records to the stream, second one consumes messages from the stream. \r\n\r\nIt works, but after some time (usually after already 80000+ messages were processed) the &#39;consumer app&#39; throws an exception: &quot;**org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is java.util.concurrent.CompletionException: io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379**&quot; \r\n\r\nI have installed Redis 6.2.1 on Ubuntu (win10 linux subsystem) and run it with default configuration (port is 6379). The same happens when I run Redis in Docker.\r\n\r\nI have tested Redis performance, so messages were added in a loop with no delay.\r\nI add messages to stream as:\r\n\r\n```\r\nObjectRecord&lt;String, String&gt; record = StreamRecords.newRecord()\r\n                .ofObject(message)\r\n                .withStreamKey(&quot;my-stream&quot;);\r\n\r\nredisTemplate.opsForStream()\r\n                .add(record);\r\n```\r\nI consume the messages as:\r\n```\r\nStreamReceiver.StreamReceiverOptions&lt;String, MapRecord&lt;String, String, String&gt;&gt; options =\r\n                StreamReceiver.StreamReceiverOptions.builder()\r\n                        .pollTimeout(Duration.ofSeconds(2))\r\n                        .build();\r\n\r\nStreamReceiver&lt;String, MapRecord&lt;String, String, String&gt;&gt; receiver = StreamReceiver.create(connectionFactory, options);\r\n        Flux&lt;MapRecord&lt;String, String, String&gt;&gt; messages = receiver.receive(StreamOffset.fromStart(&quot;my-tream&quot;));\r\n\r\nmessages.subscribe(new StreamSubscriber());\r\n```\r\nwhere `StreamSubscriber` is just my `org.reactivestreams.Subscriber` implementation. I tried also `StreamMessageListenerContainer` approach, but the result is the same.\r\n\r\n```\r\norg.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is java.util.concurrent.CompletionException: io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379\r\n\tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1553)\r\n\tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.lambda$getConnectionAsync$0(LettuceConnectionFactory.java:1491)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)\r\n\tat io.lettuce.core.DefaultConnectionFuture.lambda$null$0(DefaultConnectionFuture.java:257)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)\r\n\tat java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)\r\n\tat java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:143)\r\n\tat io.lettuce.core.DefaultConnectionFuture.lambda$thenCompose$1(DefaultConnectionFuture.java:254)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\r\n\tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)\r\n\tat io.lettuce.core.AbstractRedisClient.lambda$initializeChannelAsync0$4(AbstractRedisClient.java:405)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\r\n\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)\r\n\tat io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)\r\n\tat io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321)\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.util.concurrent.CompletionException: io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379\r\n\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)\r\n\t... 30 more\r\nCaused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379\r\n\tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)\r\n\tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)\r\n\tat io.lettuce.core.RedisClient.lambda$transformAsyncConnectionException$20(RedisClient.java:767)\r\n\tat io.lettuce.core.DefaultConnectionFuture.lambda$thenCompose$1(DefaultConnectionFuture.java:253)\r\n\t... 22 more\r\nCaused by: java.util.concurrent.CompletionException: io.netty.channel.AbstractChannel$AnnotatedSocketException: Address already in use: no further information: localhost/127.0.0.1:6379\r\n\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)\r\n\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)\r\n\tat java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)\r\n\t... 20 more\r\nCaused by: io.netty.channel.AbstractChannel$AnnotatedSocketException: Address already in use: no further information: localhost/127.0.0.1:6379\r\nCaused by: java.net.BindException: Address already in use: no further information\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:779)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\n`RedisTemplate` and `LettuceConnectionFactory` were created and autoconfigured by springboot (i have tried some also custom configuration, but with no success)\r\n\r\nWhat I have also observed is that redis connection is closed after message was send to the stream and new connection is created when the new message is going to be sent.\r\n```\r\n2021-04-11 09:12:11.455 DEBUG 20952 --- [input/provider1] sk.kedros.learn.camel.redis.Publisher    : sending message: {&quot;obuSn&quot;:&quot;eeee00a5-616e-46ad-80e4-50780fab1336&quot;,&quot;lon&quot;:0.0,&quot;lat&quot;:0.0,&quot;data&quot;:&quot;99761 - provider1&quot;}\r\n2021-04-11 09:12:11.455 DEBUG 20952 --- [input/provider1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory\r\n2021-04-11 09:12:11.455 DEBUG 20952 --- [input/provider1] io.lettuce.core.RedisChannelHandler      : dispatching command AsyncCommand [type=XADD, output=StatusOutput [output=null, error=&#39;null&#39;], commandType=io.lettuce.core.protocol.Command]\r\n2021-04-11 09:12:11.455 DEBUG 20952 --- [input/provider1] i.lettuce.core.protocol.DefaultEndpoint  : [channel=0xbb31e231, /127.0.0.1:51322 -&gt; localhost/127.0.0.1:6379, epid=0x1] write() writeAndFlush command AsyncCommand [type=XADD, output=StatusOutput [output=null, error=&#39;null&#39;], commandType=io.lettuce.core.protocol.Command]\r\n2021-04-11 09:12:11.455 DEBUG 20952 --- [input/provider1] i.lettuce.core.protocol.DefaultEndpoint  : [channel=0xbb31e231, /127.0.0.1:51322 -&gt; localhost/127.0.0.1:6379, epid=0x1] write() done\r\n2021-04-11 09:12:11.455 DEBUG 20952 --- [ioEventLoop-4-1] io.lettuce.core.protocol.CommandHandler  : [channel=0xbb31e231, /127.0.0.1:51322 -&gt; localhost/127.0.0.1:6379, chid=0x1] write(ctx, AsyncCommand [type=XADD, output=StatusOutput [output=null, error=&#39;null&#39;], commandType=io.lettuce.core.protocol.Command], promise)\r\n2021-04-11 09:12:11.455 DEBUG 20952 --- [ioEventLoop-4-1] io.lettuce.core.protocol.CommandEncoder  : [channel=0xbb31e231, /127.0.0.1:51322 -&gt; localhost/127.0.0.1:6379] writing command AsyncCommand [type=XADD, output=StatusOutput [output=null, error=&#39;null&#39;], commandType=io.lettuce.core.protocol.Command]\r\n2021-04-11 09:12:11.455 DEBUG 20952 --- [ioEventLoop-4-1] io.lettuce.core.protocol.CommandHandler  : [channel=0xbb31e231, /127.0.0.1:51322 -&gt; localhost/127.0.0.1:6379, chid=0x1] Received: 22 bytes, 1 commands in the stack\r\n2021-04-11 09:12:11.455 DEBUG 20952 --- [ioEventLoop-4-1] io.lettuce.core.protocol.CommandHandler  : [channel=0xbb31e231, /127.0.0.1:51322 -&gt; localhost/127.0.0.1:6379, chid=0x1] Stack contains: 1 commands\r\n2021-04-11 09:12:11.455 DEBUG 20952 --- [ioEventLoop-4-1] i.l.core.protocol.RedisStateMachine      : Decode done, empty stack: true\r\n2021-04-11 09:12:11.455 DEBUG 20952 --- [ioEventLoop-4-1] io.lettuce.core.protocol.CommandHandler  : [channel=0xbb31e231, /127.0.0.1:51322 -&gt; localhost/127.0.0.1:6379, chid=0x1] Completing command AsyncCommand [type=XADD, output=StatusOutput [output=1618125131455-2, error=&#39;null&#39;], commandType=io.lettuce.core.protocol.Command]\r\n2021-04-11 09:12:11.455 DEBUG 20952 --- [input/provider1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.\r\n```\r\nthat also influences Redis connection of the &#39;consumer app&#39; - where the redis connections are opened and closed periodically. \r\n```\r\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] o.s.d.r.stream.DefaultStreamReceiver     : [stream: loc] onStreamMessage(MapBackedRecord{recordId=1618125112425-0, kvMap={payload={&quot;obuSn&quot;:&quot;d066bdd7-21b5-46f0-81ca-09afe4fd6596&quot;,&quot;lon&quot;:0.0,&quot;lat&quot;:1.0,&quot;data&quot;:&quot;68541 - provider1&quot;}}}): Emitting item, slow-path\r\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] i.l.core.protocol.RedisStateMachine      : Decode done, empty stack: true\r\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.protocol.CommandHandler  : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, chid=0x3bdf] Completing command SubscriptionCommand [type=XREAD, output=StreamReadOutput [output=[], error=&#39;null&#39;], commandType=io.lettuce.core.protocol.Command]\r\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.RedisChannelHandler      : closeAsync()\r\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] i.lettuce.core.protocol.DefaultEndpoint  : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, epid=0x3bdf] closeAsync()\r\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] o.s.d.r.stream.DefaultStreamReceiver     : [stream: loc] onComplete()\r\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] o.s.d.r.stream.DefaultStreamReceiver     : [stream: loc] scheduleIfRequired()\r\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] o.s.d.r.stream.DefaultStreamReceiver     : [stream: loc] scheduleIfRequired(): Activating subscription\r\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] o.s.d.r.stream.DefaultStreamReceiver     : [stream: loc] scheduleIfRequired(): Activating subscription, offset ReadOffset(offset=1618125112425-0)\r\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.RedisClient              : Trying to get a Redis connection for: redis://localhost\r\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.RedisClient              : Resolved SocketAddress localhost:6379 using redis://localhost\r\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.AbstractRedisClient      : Connecting to Redis at localhost:6379\r\n2021-04-11 09:11:52.427 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.protocol.CommandHandler  : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, chid=0x3bdf] channelInactive()\r\n2021-04-11 09:11:52.427 DEBUG 21636 --- [ioEventLoop-4-8] io.lettuce.core.protocol.CommandHandler  : [channel=0x87e269ec, [id: 0x6e14c57c] (inactive), chid=0x3be0] channelRegistered()\r\n2021-04-11 09:11:52.427 DEBUG 21636 --- [ioEventLoop-4-7] i.lettuce.core.protocol.DefaultEndpoint  : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, epid=0x3bdf] deactivating endpoint handler\r\n2021-04-11 09:11:52.427 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.protocol.CommandHandler  : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, chid=0x3bdf] channelInactive() done\r\n2021-04-11 09:11:52.427 DEBUG 21636 --- [ioEventLoop-4-7] i.l.core.protocol.ConnectionWatchdog     : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, last known addr=localhost/127.0.0.1:6379] channelInactive()\r\n2021-04-11 09:11:52.427 DEBUG 21636 --- [ioEventLoop-4-7] i.l.core.protocol.ConnectionWatchdog     : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, last known addr=localhost/127.0.0.1:6379] Reconnect scheduling disabled\r\n2021-04-11 09:11:52.427 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.protocol.CommandHandler  : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, chid=0x3bdf] channelUnregistered()\r\n2021-04-11 09:11:52.432 DEBUG 21636 --- [ioEventLoop-4-8] io.lettuce.core.AbstractRedisClient      : Connecting to Redis at localhost:6379: localhost:6379\r\n\r\nio.netty.channel.AbstractChannel$AnnotatedSocketException: Address already in use: no further information: localhost/127.0.0.1:6379\r\nCaused by: java.net.BindException: Address already in use: no further information\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[na:na]\r\n```\r\nAs I mentioned, it works fine for some time, but finally it ends with **Address already in use: no further information**\r\n\r\nAm I missing something? Is it Redis installation/configuration problem? Or is it lettuce client problem? Or? \r\n","title":"Spring Redis Stream consumer stops consuming messages (Address already in use)","body":"<p>I tried to test redis streams with spring-data-redis.\nI've implemented two aplications - first one adds records to the stream, second one consumes messages from the stream.</p>\n<p>It works, but after some time (usually after already 80000+ messages were processed) the 'consumer app' throws an exception: &quot;<strong>org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is java.util.concurrent.CompletionException: io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379</strong>&quot;</p>\n<p>I have installed Redis 6.2.1 on Ubuntu (win10 linux subsystem) and run it with default configuration (port is 6379). The same happens when I run Redis in Docker.</p>\n<p>I have tested Redis performance, so messages were added in a loop with no delay.\nI add messages to stream as:</p>\n<pre><code>ObjectRecord&lt;String, String&gt; record = StreamRecords.newRecord()\n                .ofObject(message)\n                .withStreamKey(&quot;my-stream&quot;);\n\nredisTemplate.opsForStream()\n                .add(record);\n</code></pre>\n<p>I consume the messages as:</p>\n<pre><code>StreamReceiver.StreamReceiverOptions&lt;String, MapRecord&lt;String, String, String&gt;&gt; options =\n                StreamReceiver.StreamReceiverOptions.builder()\n                        .pollTimeout(Duration.ofSeconds(2))\n                        .build();\n\nStreamReceiver&lt;String, MapRecord&lt;String, String, String&gt;&gt; receiver = StreamReceiver.create(connectionFactory, options);\n        Flux&lt;MapRecord&lt;String, String, String&gt;&gt; messages = receiver.receive(StreamOffset.fromStart(&quot;my-tream&quot;));\n\nmessages.subscribe(new StreamSubscriber());\n</code></pre>\n<p>where <code>StreamSubscriber</code> is just my <code>org.reactivestreams.Subscriber</code> implementation. I tried also <code>StreamMessageListenerContainer</code> approach, but the result is the same.</p>\n<pre><code>org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is java.util.concurrent.CompletionException: io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1553)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.lambda$getConnectionAsync$0(LettuceConnectionFactory.java:1491)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\n    at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)\n    at io.lettuce.core.DefaultConnectionFuture.lambda$null$0(DefaultConnectionFuture.java:257)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)\n    at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)\n    at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:143)\n    at io.lettuce.core.DefaultConnectionFuture.lambda$thenCompose$1(DefaultConnectionFuture.java:254)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\n    at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\n    at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\n    at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)\n    at io.lettuce.core.AbstractRedisClient.lambda$initializeChannelAsync0$4(AbstractRedisClient.java:405)\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)\n    at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)\n    at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.fulfillConnectPromise(AbstractNioChannel.java:321)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:337)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.util.concurrent.CompletionException: io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)\n    at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)\n    ... 30 more\nCaused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost:6379\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)\n    at io.lettuce.core.RedisClient.lambda$transformAsyncConnectionException$20(RedisClient.java:767)\n    at io.lettuce.core.DefaultConnectionFuture.lambda$thenCompose$1(DefaultConnectionFuture.java:253)\n    ... 22 more\nCaused by: java.util.concurrent.CompletionException: io.netty.channel.AbstractChannel$AnnotatedSocketException: Address already in use: no further information: localhost/127.0.0.1:6379\n    at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)\n    at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)\n    at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)\n    ... 20 more\nCaused by: io.netty.channel.AbstractChannel$AnnotatedSocketException: Address already in use: no further information: localhost/127.0.0.1:6379\nCaused by: java.net.BindException: Address already in use: no further information\n    at java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n    at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:779)\n    at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:707)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p><code>RedisTemplate</code> and <code>LettuceConnectionFactory</code> were created and autoconfigured by springboot (i have tried some also custom configuration, but with no success)</p>\n<p>What I have also observed is that redis connection is closed after message was send to the stream and new connection is created when the new message is going to be sent.</p>\n<pre><code>2021-04-11 09:12:11.455 DEBUG 20952 --- [input/provider1] sk.kedros.learn.camel.redis.Publisher    : sending message: {&quot;obuSn&quot;:&quot;eeee00a5-616e-46ad-80e4-50780fab1336&quot;,&quot;lon&quot;:0.0,&quot;lat&quot;:0.0,&quot;data&quot;:&quot;99761 - provider1&quot;}\n2021-04-11 09:12:11.455 DEBUG 20952 --- [input/provider1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory\n2021-04-11 09:12:11.455 DEBUG 20952 --- [input/provider1] io.lettuce.core.RedisChannelHandler      : dispatching command AsyncCommand [type=XADD, output=StatusOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]\n2021-04-11 09:12:11.455 DEBUG 20952 --- [input/provider1] i.lettuce.core.protocol.DefaultEndpoint  : [channel=0xbb31e231, /127.0.0.1:51322 -&gt; localhost/127.0.0.1:6379, epid=0x1] write() writeAndFlush command AsyncCommand [type=XADD, output=StatusOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]\n2021-04-11 09:12:11.455 DEBUG 20952 --- [input/provider1] i.lettuce.core.protocol.DefaultEndpoint  : [channel=0xbb31e231, /127.0.0.1:51322 -&gt; localhost/127.0.0.1:6379, epid=0x1] write() done\n2021-04-11 09:12:11.455 DEBUG 20952 --- [ioEventLoop-4-1] io.lettuce.core.protocol.CommandHandler  : [channel=0xbb31e231, /127.0.0.1:51322 -&gt; localhost/127.0.0.1:6379, chid=0x1] write(ctx, AsyncCommand [type=XADD, output=StatusOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command], promise)\n2021-04-11 09:12:11.455 DEBUG 20952 --- [ioEventLoop-4-1] io.lettuce.core.protocol.CommandEncoder  : [channel=0xbb31e231, /127.0.0.1:51322 -&gt; localhost/127.0.0.1:6379] writing command AsyncCommand [type=XADD, output=StatusOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]\n2021-04-11 09:12:11.455 DEBUG 20952 --- [ioEventLoop-4-1] io.lettuce.core.protocol.CommandHandler  : [channel=0xbb31e231, /127.0.0.1:51322 -&gt; localhost/127.0.0.1:6379, chid=0x1] Received: 22 bytes, 1 commands in the stack\n2021-04-11 09:12:11.455 DEBUG 20952 --- [ioEventLoop-4-1] io.lettuce.core.protocol.CommandHandler  : [channel=0xbb31e231, /127.0.0.1:51322 -&gt; localhost/127.0.0.1:6379, chid=0x1] Stack contains: 1 commands\n2021-04-11 09:12:11.455 DEBUG 20952 --- [ioEventLoop-4-1] i.l.core.protocol.RedisStateMachine      : Decode done, empty stack: true\n2021-04-11 09:12:11.455 DEBUG 20952 --- [ioEventLoop-4-1] io.lettuce.core.protocol.CommandHandler  : [channel=0xbb31e231, /127.0.0.1:51322 -&gt; localhost/127.0.0.1:6379, chid=0x1] Completing command AsyncCommand [type=XADD, output=StatusOutput [output=1618125131455-2, error='null'], commandType=io.lettuce.core.protocol.Command]\n2021-04-11 09:12:11.455 DEBUG 20952 --- [input/provider1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.\n</code></pre>\n<p>that also influences Redis connection of the 'consumer app' - where the redis connections are opened and closed periodically.</p>\n<pre><code>2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] o.s.d.r.stream.DefaultStreamReceiver     : [stream: loc] onStreamMessage(MapBackedRecord{recordId=1618125112425-0, kvMap={payload={&quot;obuSn&quot;:&quot;d066bdd7-21b5-46f0-81ca-09afe4fd6596&quot;,&quot;lon&quot;:0.0,&quot;lat&quot;:1.0,&quot;data&quot;:&quot;68541 - provider1&quot;}}}): Emitting item, slow-path\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] i.l.core.protocol.RedisStateMachine      : Decode done, empty stack: true\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.protocol.CommandHandler  : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, chid=0x3bdf] Completing command SubscriptionCommand [type=XREAD, output=StreamReadOutput [output=[], error='null'], commandType=io.lettuce.core.protocol.Command]\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.RedisChannelHandler      : closeAsync()\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] i.lettuce.core.protocol.DefaultEndpoint  : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, epid=0x3bdf] closeAsync()\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] o.s.d.r.stream.DefaultStreamReceiver     : [stream: loc] onComplete()\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] o.s.d.r.stream.DefaultStreamReceiver     : [stream: loc] scheduleIfRequired()\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] o.s.d.r.stream.DefaultStreamReceiver     : [stream: loc] scheduleIfRequired(): Activating subscription\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] o.s.d.r.stream.DefaultStreamReceiver     : [stream: loc] scheduleIfRequired(): Activating subscription, offset ReadOffset(offset=1618125112425-0)\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.RedisClient              : Trying to get a Redis connection for: redis://localhost\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.RedisClient              : Resolved SocketAddress localhost:6379 using redis://localhost\n2021-04-11 09:11:52.426 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.AbstractRedisClient      : Connecting to Redis at localhost:6379\n2021-04-11 09:11:52.427 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.protocol.CommandHandler  : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, chid=0x3bdf] channelInactive()\n2021-04-11 09:11:52.427 DEBUG 21636 --- [ioEventLoop-4-8] io.lettuce.core.protocol.CommandHandler  : [channel=0x87e269ec, [id: 0x6e14c57c] (inactive), chid=0x3be0] channelRegistered()\n2021-04-11 09:11:52.427 DEBUG 21636 --- [ioEventLoop-4-7] i.lettuce.core.protocol.DefaultEndpoint  : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, epid=0x3bdf] deactivating endpoint handler\n2021-04-11 09:11:52.427 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.protocol.CommandHandler  : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, chid=0x3bdf] channelInactive() done\n2021-04-11 09:11:52.427 DEBUG 21636 --- [ioEventLoop-4-7] i.l.core.protocol.ConnectionWatchdog     : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, last known addr=localhost/127.0.0.1:6379] channelInactive()\n2021-04-11 09:11:52.427 DEBUG 21636 --- [ioEventLoop-4-7] i.l.core.protocol.ConnectionWatchdog     : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, last known addr=localhost/127.0.0.1:6379] Reconnect scheduling disabled\n2021-04-11 09:11:52.427 DEBUG 21636 --- [ioEventLoop-4-7] io.lettuce.core.protocol.CommandHandler  : [channel=0x896e94aa, /127.0.0.1:65535 -&gt; localhost/127.0.0.1:6379, chid=0x3bdf] channelUnregistered()\n2021-04-11 09:11:52.432 DEBUG 21636 --- [ioEventLoop-4-8] io.lettuce.core.AbstractRedisClient      : Connecting to Redis at localhost:6379: localhost:6379\n\nio.netty.channel.AbstractChannel$AnnotatedSocketException: Address already in use: no further information: localhost/127.0.0.1:6379\nCaused by: java.net.BindException: Address already in use: no further information\n    at java.base/sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[na:na]\n</code></pre>\n<p>As I mentioned, it works fine for some time, but finally it ends with <strong>Address already in use: no further information</strong></p>\n<p>Am I missing something? Is it Redis installation/configuration problem? Or is it lettuce client problem? Or?</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":2473440,"reputation":4508,"user_id":2154661,"display_name":"Ronald Coarite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643297539,"creation_date":1643297539,"answer_id":70881292,"question_id":68188408,"body_markdown":"I had the same problem using **newProxyInstance** and it works for me adding the following two parameters \r\n\r\nDocumentation\r\n\r\n[https://www.graalvm.org/22.0/reference-manual/native-image/DynamicProxy/][1]\r\n\r\n**-H:DynamicProxyConfigurationFiles=dynamic-proxy.json**\r\n\r\n**-H:DynamicProxyConfigurationResources=dynamic-proxy.json**\r\n\r\nExample in *application.properties*\r\n\r\n    additional-build-args: -H:ReflectionConfigurationFiles=reflect-config.json,-H:DynamicProxyConfigurationFiles=dynamic-proxy.json,-H:DynamicProxyConfigurationResources=dynamic-proxy.json\r\n\r\n\r\n  [1]: https://www.graalvm.org/22.0/reference-manual/native-image/DynamicProxy/","title":"Proxy class defined by interfaces not found","body":"<p>I had the same problem using <strong>newProxyInstance</strong> and it works for me adding the following two parameters</p>\n<p>Documentation</p>\n<p><a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/DynamicProxy/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/22.0/reference-manual/native-image/DynamicProxy/</a></p>\n<p><strong>-H:DynamicProxyConfigurationFiles=dynamic-proxy.json</strong></p>\n<p><strong>-H:DynamicProxyConfigurationResources=dynamic-proxy.json</strong></p>\n<p>Example in <em>application.properties</em></p>\n<pre><code>additional-build-args: -H:ReflectionConfigurationFiles=reflect-config.json,-H:DynamicProxyConfigurationFiles=dynamic-proxy.json,-H:DynamicProxyConfigurationResources=dynamic-proxy.json\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2525261,"reputation":31,"user_id":2194760,"display_name":"Claude Leulliette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664982546,"creation_date":1664982546,"answer_id":73962514,"question_id":68188408,"body_markdown":"I had the same problem using **Retrofit2** and it works for me adding the following  parameters \r\n\r\n\r\n**-H:DynamicProxyConfigurationFiles=dynamic-proxy.json**\r\n\r\nonly and not \r\n-H:DynamicProxyConfigurationResources=dynamic-proxy.json","title":"Proxy class defined by interfaces not found","body":"<p>I had the same problem using <strong>Retrofit2</strong> and it works for me adding the following  parameters</p>\n<p><strong>-H:DynamicProxyConfigurationFiles=dynamic-proxy.json</strong></p>\n<p>only and not\n-H:DynamicProxyConfigurationResources=dynamic-proxy.json</p>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665395171,"creation_date":1665395171,"answer_id":74012968,"question_id":68188408,"body_markdown":"For me, I changed this:\r\n\r\n    [\r\n      {&quot;interfaces&quot;:[&quot;io.fouad.demo.dao.ADao&quot;, &quot;io.fouad.demo.dao.BDao&quot;]}\r\n    ]\r\n\r\nto:\r\n\r\n    [\r\n      {&quot;interfaces&quot;:[&quot;io.fouad.demo.dao.ADao&quot;]},\r\n      {&quot;interfaces&quot;:[&quot;io.fouad.demo.dao.BDao&quot;]}\r\n    ]","title":"Proxy class defined by interfaces not found","body":"<p>For me, I changed this:</p>\n<pre><code>[\n  {&quot;interfaces&quot;:[&quot;io.fouad.demo.dao.ADao&quot;, &quot;io.fouad.demo.dao.BDao&quot;]}\n]\n</code></pre>\n<p>to:</p>\n<pre><code>[\n  {&quot;interfaces&quot;:[&quot;io.fouad.demo.dao.ADao&quot;]},\n  {&quot;interfaces&quot;:[&quot;io.fouad.demo.dao.BDao&quot;]}\n]\n</code></pre>\n"}],"owner":{"account_id":14602107,"reputation":557,"user_id":10546122,"display_name":"TamTam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1789,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1665395171,"creation_date":1625026870,"question_id":68188408,"body_markdown":"This error suddenly occurred when I try to use the feature from **awssdk**.\r\n\r\nThe full error log is:\r\n\r\n    com.oracle.svm.core.jdk.UnsupportedFeatureError: Proxy class defined by interfaces [interface \r\n    org.apache.http.conn.HttpClientConnectionManager, interface org.apache.http.pool.ConnPoolControl, interface com.amazonaws.http.conn.Wrapped] not found. \r\n    Generating proxy classes at runtime is not supported. Proxy classes need to be defined at \r\n    image build time by specifying the list of interfaces that they implement. To define proxy \r\n    classes use -H:DynamicProxyConfigurationFiles=&lt;comma-separated-config-files&gt; and - \r\n    H:DynamicProxyConfigurationResources=&lt;comma-separated-config-resources&gt; options.\r\n    Error id 9c0a59d0-dd65-4156-8c8b-33d46676e1c3-62\r\n\r\nI have followed some instructions and created a custom proxy configuration in **src/main/resource/dynamic-proxy.json**:\r\n\r\n    [ \r\n      [&quot;org.apache.http.conn.HttpClientConnectionManager&quot;, &quot;org.apache.http.pool.ConnPoolControl&quot;,&quot;com.amazonaws.http.conn.Wrapped&quot;]\r\n    ]\r\n\r\nAnd defined It in **src/main/resource/application.yaml**:\r\n    \r\n    quarkus:\r\n      native:\r\n        additional-build-args: -H:ReflectionConfigurationFiles=reflect-config.json,-H:DynamicProxyConfigurationResources=dynamic-proxy.json\r\n\r\nBut the code isn&#39;t working at all.\r\nCan you please point out what I&#39;m missing? Many thanks!\r\n","title":"Proxy class defined by interfaces not found","body":"<p>This error suddenly occurred when I try to use the feature from <strong>awssdk</strong>.</p>\n<p>The full error log is:</p>\n<pre><code>com.oracle.svm.core.jdk.UnsupportedFeatureError: Proxy class defined by interfaces [interface \norg.apache.http.conn.HttpClientConnectionManager, interface org.apache.http.pool.ConnPoolControl, interface com.amazonaws.http.conn.Wrapped] not found. \nGenerating proxy classes at runtime is not supported. Proxy classes need to be defined at \nimage build time by specifying the list of interfaces that they implement. To define proxy \nclasses use -H:DynamicProxyConfigurationFiles=&lt;comma-separated-config-files&gt; and - \nH:DynamicProxyConfigurationResources=&lt;comma-separated-config-resources&gt; options.\nError id 9c0a59d0-dd65-4156-8c8b-33d46676e1c3-62\n</code></pre>\n<p>I have followed some instructions and created a custom proxy configuration in <strong>src/main/resource/dynamic-proxy.json</strong>:</p>\n<pre><code>[ \n  [&quot;org.apache.http.conn.HttpClientConnectionManager&quot;, &quot;org.apache.http.pool.ConnPoolControl&quot;,&quot;com.amazonaws.http.conn.Wrapped&quot;]\n]\n</code></pre>\n<p>And defined It in <strong>src/main/resource/application.yaml</strong>:</p>\n<pre><code>quarkus:\n  native:\n    additional-build-args: -H:ReflectionConfigurationFiles=reflect-config.json,-H:DynamicProxyConfigurationResources=dynamic-proxy.json\n</code></pre>\n<p>But the code isn't working at all.\nCan you please point out what I'm missing? Many thanks!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9018,"page":974,"page_size":100}
