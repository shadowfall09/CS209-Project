{"items":[{"tags":["java","android","gradle","android-gradle-plugin","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":8632740,"reputation":4590,"user_id":6463877,"accept_rate":90,"display_name":"Abhishek Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1594978961,"creation_date":1594978961,"answer_id":62951355,"question_id":62722283,"body_markdown":"You&#39;re using following dependencies, \r\n\r\n\tclasspath &#39;com.github.dcendents:android-maven-gradle-plugin:1.3&#39;\r\n\r\nUpdate these with following or higher.\r\n\r\n    classpath &#39;com.github.dcendents:android-maven-gradle-plugin:1.5&#39;\r\n \r\n\r\n","title":"Get error &quot;Unable to determine constructor argument #1: missing parameter of type Factory.... &quot; trying to build Android-SimpleLocation","body":"<p>You're using following dependencies,</p>\n<pre><code>classpath 'com.github.dcendents:android-maven-gradle-plugin:1.3'\n</code></pre>\n<p>Update these with following or higher.</p>\n<pre><code>classpath 'com.github.dcendents:android-maven-gradle-plugin:1.5'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3368850,"reputation":3589,"user_id":2828651,"accept_rate":56,"display_name":"صلي علي محمد - Atef Farouk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691900282,"creation_date":1691900282,"answer_id":76891915,"question_id":62722283,"body_markdown":"Removing this line `org.gradle.unsafe.configuration-cache=true` from `gradle.properties` solved my problem","title":"Get error &quot;Unable to determine constructor argument #1: missing parameter of type Factory.... &quot; trying to build Android-SimpleLocation","body":"<p>Removing this line <code>org.gradle.unsafe.configuration-cache=true</code> from <code>gradle.properties</code> solved my problem</p>\n"}],"owner":{"account_id":499763,"reputation":72,"user_id":1195567,"display_name":"Nik Edmiidz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4536,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1691900282,"creation_date":1593808049,"question_id":62722283,"body_markdown":"When trying to build [Android-SimpleLocation][1], I get the following error:\r\n\r\n    Unable to determine constructor argument #1: missing parameter of type Factory, or no service of type Factory&lt;LoggingManagerInternal&gt;.\r\n    Open File (which is a link to my build.gradle file)\r\n\r\n\r\nAny ideas?\r\n\r\n\r\n  [1]: https://github.com/delight-im/Android-SimpleLocation","title":"Get error &quot;Unable to determine constructor argument #1: missing parameter of type Factory.... &quot; trying to build Android-SimpleLocation","body":"<p>When trying to build <a href=\"https://github.com/delight-im/Android-SimpleLocation\" rel=\"nofollow noreferrer\">Android-SimpleLocation</a>, I get the following error:</p>\n<pre><code>Unable to determine constructor argument #1: missing parameter of type Factory, or no service of type Factory&lt;LoggingManagerInternal&gt;.\nOpen File (which is a link to my build.gradle file)\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","c++","maven","intellij-idea","java-native-interface"],"comments":[{"owner":{"account_id":1511352,"reputation":1,"user_id":1413395,"accept_rate":92,"display_name":"πάντα ῥεῖ"},"score":0,"creation_date":1691247343,"post_id":76842120,"comment_id":135467690,"body_markdown":"_@occipita_ _&quot;Also are there any plugins or other modifications that will improve the experience of editing C++ files in IntelliJ IDEA?&quot;_ At least asking for such off-site resources makes your question _off-topic_ here. So why wonder about downvotes? Better act somehow to make your question _on-topic_ and avoid close votes!","body":"<i>@occipita</i> <i>&quot;Also are there any plugins or other modifications that will improve the experience of editing C++ files in IntelliJ IDEA?&quot;</i> At least asking for such off-site resources makes your question <i>off-topic</i> here. So why wonder about downvotes? Better act somehow to make your question <i>on-topic</i> and avoid close votes!"},{"owner":{"account_id":17442645,"reputation":147,"user_id":20145163,"display_name":"occipita"},"score":0,"creation_date":1691247549,"post_id":76842120,"comment_id":135467718,"body_markdown":"I&#39;m not asking for off-site resources. I&#39;m asking for experiences about using software and information about how to configure it.","body":"I&#39;m not asking for off-site resources. I&#39;m asking for experiences about using software and information about how to configure it."},{"owner":{"account_id":1511352,"reputation":1,"user_id":1413395,"accept_rate":92,"display_name":"πάντα ῥεῖ"},"score":0,"creation_date":1691247835,"post_id":76842120,"comment_id":135467758,"body_markdown":"I don&#39;t see how kinda _&quot;experience reports&quot;_ would be on topic here. Outcome: Endless amount of (mostly unconcise) answers, or &quot;I have that problem too&quot; stuff.","body":"I don&#39;t see how kinda <i>&quot;experience reports&quot;</i> would be on topic here. Outcome: Endless amount of (mostly unconcise) answers, or &quot;I have that problem too&quot; stuff."},{"owner":{"account_id":17442645,"reputation":147,"user_id":20145163,"display_name":"occipita"},"score":0,"creation_date":1691249196,"post_id":76842120,"comment_id":135467947,"body_markdown":"@πάνταῥεῖ - I really don&#39;t understand the problem.  It&#39;s a simple question about how to use &quot;software tools commonly used by programmers&quot; as listed in the help section about valid topics.  Such questions usually have answers that involve either modifying configuration settings or installing plugins that add additional features, which is what I was requesting, and somebody who has done it before is likely to know what those changes/plugins are, which is what I meant by &quot;experiences&quot; in my comment above.","body":"@πάνταῥεῖ - I really don&#39;t understand the problem.  It&#39;s a simple question about how to use &quot;software tools commonly used by programmers&quot; as listed in the help section about valid topics.  Such questions usually have answers that involve either modifying configuration settings or installing plugins that add additional features, which is what I was requesting, and somebody who has done it before is likely to know what those changes/plugins are, which is what I meant by &quot;experiences&quot; in my comment above."},{"owner":{"account_id":1511352,"reputation":1,"user_id":1413395,"accept_rate":92,"display_name":"πάντα ῥεῖ"},"score":0,"creation_date":1691249367,"post_id":76842120,"comment_id":135467965,"body_markdown":"_&quot;I&#39;m aware that there was once a third-party C++ plugin that is no longer supported in recent versions of IDEA, but is there an alternative to this?&quot;_ Asks for 3rd party resources, _off-topic_. End of discussion from my side here.","body":"<i>&quot;I&#39;m aware that there was once a third-party C++ plugin that is no longer supported in recent versions of IDEA, but is there an alternative to this?&quot;</i> Asks for 3rd party resources, <i>off-topic</i>. End of discussion from my side here."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1691270655,"post_id":76842120,"comment_id":135470060,"body_markdown":"@πάνταῥεῖ I don&#39;t agree. If someone says &quot;there was once a plugin that would solve my problem, but it is no longer supported, is there an alternative to this?&quot;, then this is not asking for plugins, it is asking for a solution.","body":"@πάνταῥεῖ I don&#39;t agree. If someone says &quot;there was once a plugin that would solve my problem, but it is no longer supported, is there an alternative to this?&quot;, then this is not asking for plugins, it is asking for a solution."},{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1691899155,"post_id":76842120,"comment_id":135552322,"body_markdown":"I am voting to reopen.","body":"I am voting to reopen."}],"answers":[{"comments":[{"owner":{"account_id":17442645,"reputation":147,"user_id":20145163,"display_name":"occipita"},"score":0,"creation_date":1691247487,"post_id":76842169,"comment_id":135467708,"body_markdown":"AFAIK, CLion doesn&#39;t support Java projects, though, so I don&#39;t see that as an option, and comments I&#39;ve seen elsewhere suggest that this can be done via a Maven plugin, but I&#39;ve not found any details about it. See, e.g. https://www.reddit.com/r/java/comments/706okm/users_of_intellij_do_you_know_a_good_workflow_to/","body":"AFAIK, CLion doesn&#39;t support Java projects, though, so I don&#39;t see that as an option, and comments I&#39;ve seen elsewhere suggest that this can be done via a Maven plugin, but I&#39;ve not found any details about it. See, e.g. <a href=\"https://www.reddit.com/r/java/comments/706okm/users_of_intellij_do_you_know_a_good_workflow_to/\" rel=\"nofollow noreferrer\">reddit.com/r/java/comments/706okm/&hellip;</a>"},{"owner":{"account_id":11533281,"reputation":161,"user_id":8451595,"display_name":"Vishwajeet Singh"},"score":0,"creation_date":1691252914,"post_id":76842169,"comment_id":135468338,"body_markdown":"The C/C++ plugin is available in the IntelliJ Plugin Repository and is actually not developed by Jetbrains but by a third party called AdvancedTools.","body":"The C/C++ plugin is available in the IntelliJ Plugin Repository and is actually not developed by Jetbrains but by a third party called AdvancedTools."}],"tags":[],"owner":{"account_id":11533281,"reputation":161,"user_id":8451595,"display_name":"Vishwajeet Singh"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691252834,"creation_date":1691246853,"answer_id":76842169,"question_id":76842120,"body_markdown":" **The C/C++ plugin is available in the IntelliJ Plugin Repository and is actually not developed by Jetbrains, but by a third party called AdvancedTools**, and has long not been updated. [C/C++ plugin ][1] I&#39;m not sure if that is related to the release of CLion, e.g. IntelliJ bought out the plugin to serve as the foundation of CLion.\r\n\r\n*It might make your IntellijIDEA crash at startup. If this happens, just delete the plugin from the folder it has been installed*\r\n\r\n\r\n\r\nCheck out this Official IntelliJ website for more information [IntelliJ Multi-platform\r\n][2]\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/1373-c-c-\r\n  [2]: https://www.jetbrains.com/help/idea/discover-intellij-idea.html#IntelliJ-IDEA-editions","title":"How can I set up IntelliJ IDEA to work on a mixed Java/C++ project","body":"<p><strong>The C/C++ plugin is available in the IntelliJ Plugin Repository and is actually not developed by Jetbrains, but by a third party called AdvancedTools</strong>, and has long not been updated. <a href=\"https://plugins.jetbrains.com/plugin/1373-c-c-\" rel=\"nofollow noreferrer\">C/C++ plugin </a> I'm not sure if that is related to the release of CLion, e.g. IntelliJ bought out the plugin to serve as the foundation of CLion.</p>\n<p><em>It might make your IntellijIDEA crash at startup. If this happens, just delete the plugin from the folder it has been installed</em></p>\n<p>Check out this Official IntelliJ website for more information <a href=\"https://www.jetbrains.com/help/idea/discover-intellij-idea.html#IntelliJ-IDEA-editions\" rel=\"nofollow noreferrer\">IntelliJ Multi-platform\n</a></p>\n"},{"tags":[],"owner":{"account_id":29167421,"reputation":39,"user_id":22344672,"display_name":"Explorer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691260588,"creation_date":1691260588,"answer_id":76843035,"question_id":76842120,"body_markdown":"I can confirm that it isn&#39;t on the list of available plugins if that helps. It does look like it has been removed. Perhaps Jetbrains didn&#39;t want the competition for CLion. \r\n\r\nCLion is better because you have an IDEE dedicated to C/C++, and this way, you can &quot;personalize&quot; it better.\r\n\r\nAs listed in the CLion FAQ page, there is currently no official standalone plugin for C/C++ editing available for IntelliJ IDEA. Just as with some other products such as Jetbrains AppCode, Jetbrains is currently keeping CLion as an exclusively paid product, without a free community edition, as indicated in this forum post.","title":"How can I set up IntelliJ IDEA to work on a mixed Java/C++ project","body":"<p>I can confirm that it isn't on the list of available plugins if that helps. It does look like it has been removed. Perhaps Jetbrains didn't want the competition for CLion.</p>\n<p>CLion is better because you have an IDEE dedicated to C/C++, and this way, you can &quot;personalize&quot; it better.</p>\n<p>As listed in the CLion FAQ page, there is currently no official standalone plugin for C/C++ editing available for IntelliJ IDEA. Just as with some other products such as Jetbrains AppCode, Jetbrains is currently keeping CLion as an exclusively paid product, without a free community edition, as indicated in this forum post.</p>\n"},{"tags":[],"owner":{"account_id":29115890,"reputation":100,"user_id":22304607,"display_name":"Vishwa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691299618,"creation_date":1691299618,"answer_id":76844513,"question_id":76842120,"body_markdown":"The C/C++ plugin is actually developed by a third party, but I think that it is not reliable, Its usage may crash your application as it is outdated.\r\n[C/C++ plugin ][1]\r\n\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/1373-c-c-","title":"How can I set up IntelliJ IDEA to work on a mixed Java/C++ project","body":"<p>The C/C++ plugin is actually developed by a third party, but I think that it is not reliable, Its usage may crash your application as it is outdated.\n<a href=\"https://plugins.jetbrains.com/plugin/1373-c-c-\" rel=\"nofollow noreferrer\">C/C++ plugin </a></p>\n"}],"owner":{"account_id":17442645,"reputation":147,"user_id":20145163,"display_name":"occipita"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":3,"score":2,"last_activity_date":1691899159,"creation_date":1691245972,"question_id":76842120,"body_markdown":"I have an existing Java project using Maven for building in IntelliJ IDEA.  I am looking to add several new classes to this project that will be implemented using C++ and JNI native methods.  How should I configure my IDE and build tools to make this work?  I&#39;m open to changing from Maven to another build tool if it makes it easier, although I admit I have previously found Gradle confusing and would rather avoid it unless it would make a substantial difference.\r\n\r\nAlso are there any plugins or other modifications that will improve the experience of editing C++ files in IntelliJ IDEA?  I&#39;m aware that there was once a third-party C++ plugin that is no longer supported in recent versions of IDEA, but is there another way of doing this?\r\n\r\n*For clarification* as stated in the comments, I am not specifically looking for off-site resources.  I am happy to accept any solution that allows me to work on a mixed Java/C++ project using JetBrains products.  As only a small portion of my project is in C++, I do not need complete C++ support (e.g. I do not require debugger integration, as I am happy to switch IDEs for such occasionally-used features, but I don&#39;t want to have to switch for day-to-day actions such as editing and rebuilding files).  If doing so involves installing a plugin then so be it, but as I stated in the comments I have been led to believe that simple Maven configuration changes will allow me to build such a project, but unfortunately the site I found this information on didn&#39;t make clear what the changes should be.","title":"How can I set up IntelliJ IDEA to work on a mixed Java/C++ project","body":"<p>I have an existing Java project using Maven for building in IntelliJ IDEA.  I am looking to add several new classes to this project that will be implemented using C++ and JNI native methods.  How should I configure my IDE and build tools to make this work?  I'm open to changing from Maven to another build tool if it makes it easier, although I admit I have previously found Gradle confusing and would rather avoid it unless it would make a substantial difference.</p>\n<p>Also are there any plugins or other modifications that will improve the experience of editing C++ files in IntelliJ IDEA?  I'm aware that there was once a third-party C++ plugin that is no longer supported in recent versions of IDEA, but is there another way of doing this?</p>\n<p><em>For clarification</em> as stated in the comments, I am not specifically looking for off-site resources.  I am happy to accept any solution that allows me to work on a mixed Java/C++ project using JetBrains products.  As only a small portion of my project is in C++, I do not need complete C++ support (e.g. I do not require debugger integration, as I am happy to switch IDEs for such occasionally-used features, but I don't want to have to switch for day-to-day actions such as editing and rebuilding files).  If doing so involves installing a plugin then so be it, but as I stated in the comments I have been led to believe that simple Maven configuration changes will allow me to build such a project, but unfortunately the site I found this information on didn't make clear what the changes should be.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":2,"creation_date":1691818440,"post_id":76887883,"comment_id":135546004,"body_markdown":"Bad practice, separate UI and logic. Plus, retrieving balance doesn&#39;t *always* meant you want to display them, sometimes you just want to check if a transfer is possible etc","body":"Bad practice, separate UI and logic. Plus, retrieving balance doesn&#39;t <i>always</i> meant you want to display them, sometimes you just want to check if a transfer is possible etc"},{"owner":{"account_id":25654570,"reputation":111,"user_id":19421233,"display_name":"Vidz Here"},"score":2,"creation_date":1691820416,"post_id":76887883,"comment_id":135546124,"body_markdown":"Its okay for initial local testing . For later use ,you can use logger. Idea is to keep what absolutely necessary for production, to keep the source bundle as light as possible ,hence any sys-outs ,verbose code  &amp; even too much logging is not appreciated.","body":"Its okay for initial local testing . For later use ,you can use logger. Idea is to keep what absolutely necessary for production, to keep the source bundle as light as possible ,hence any sys-outs ,verbose code  &amp; even too much logging is not appreciated."},{"owner":{"account_id":12457332,"reputation":7,"user_id":9070079,"display_name":"Victorb37"},"score":0,"creation_date":1691821994,"post_id":76887883,"comment_id":135546230,"body_markdown":"@Martheen excellent point - logging seems to be the suggested route for something like this from other replies.","body":"@Martheen excellent point - logging seems to be the suggested route for something like this from other replies."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1691825456,"post_id":76887883,"comment_id":135546427,"body_markdown":"No, that&#39;s a great way to build a program.  _Logger_ is also a good idea,  there are many third-party applications that let you view and archive log events.","body":"No, that&#39;s a great way to build a program.  <i>Logger</i> is also a good idea,  there are many third-party applications that let you view and archive log events."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1691829625,"post_id":76887883,"comment_id":135546745,"body_markdown":"&#39;Within a non-void method&#39; has nothing to do with it. The question here is why would you want to print the balance twice? And what does returning the balance have to do with producing output? You are already printing the balance in `main()`. That&#39;s sufficient, surely? And it doesn&#39;t output what you claim. It outputs more. Look again.","body":"&#39;Within a non-void method&#39; has nothing to do with it. The question here is why would you want to print the balance twice? And what does returning the balance have to do with producing output? You are already printing the balance in <code>main()</code>. That&#39;s sufficient, surely? And it doesn&#39;t output what you claim. It outputs more. Look again."},{"owner":{"account_id":12457332,"reputation":7,"user_id":9070079,"display_name":"Victorb37"},"score":0,"creation_date":1691859555,"post_id":76887883,"comment_id":135549698,"body_markdown":"@user207421 I didn&#39;t want to print the balance twice. I wanted to add some text prior to the balance being printed out. Hence, why I asked if it&#39;s bad practice to add the print statement. I added the non-void part to my question since this method returns a double, but I&#39;m adding a print statement in it. I&#39;m trying to polish up my fundamentals instead of just writing code that executes but isn&#39;t necessarily correct.","body":"@user207421 I didn&#39;t want to print the balance twice. I wanted to add some text prior to the balance being printed out. Hence, why I asked if it&#39;s bad practice to add the print statement. I added the non-void part to my question since this method returns a double, but I&#39;m adding a print statement in it. I&#39;m trying to polish up my fundamentals instead of just writing code that executes but isn&#39;t necessarily correct."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1691901179,"post_id":76887883,"comment_id":135552403,"body_markdown":"I&#39;m just telling you what your code actually does. &#39;Bad practice&#39; doesn&#39;t have as much to do with it as you think. Your first problem was a simple *bug*, due to the method printing something before the print method that called it could print anything at all.","body":"I&#39;m just telling you what your code actually does. &#39;Bad practice&#39; doesn&#39;t have as much to do with it as you think. Your first problem was a simple <i>bug</i>, due to the method printing something before the print method that called it could print anything at all."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1691909226,"post_id":76887883,"comment_id":135552851,"body_markdown":"I would get kind of confused seeing such an output when *only* calling a method called `get...()` - I would expect such output from a method called `print...()` or similar","body":"I would get kind of confused seeing such an output when <i>only</i> calling a method called <code>get...()</code> - I would expect such output from a method called <code>print...()</code> or similar"}],"answers":[{"tags":[],"owner":{"account_id":20440079,"reputation":1083,"user_id":14997048,"display_name":"Ankush Chavan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691818867,"creation_date":1691818867,"answer_id":76887905,"question_id":76887883,"body_markdown":"If you want to print some text as a log then good practice will be to use a logger instead of a print statement. You can do something like this assuming you have a separate UI and separate backend:\r\n\r\n```\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nLogger logger = Logger.getLogger(MyClass.class.getName());\r\n\r\npublic double getBalance() {\r\n    logger.log(Level.INFO, &quot;Your balance is: &quot; + balance);\r\n    return balance;\r\n}\r\n```","title":"Is adding System.out.print() bad practice within a non-void method?","body":"<p>If you want to print some text as a log then good practice will be to use a logger instead of a print statement. You can do something like this assuming you have a separate UI and separate backend:</p>\n<pre><code>import java.util.logging.Level;\nimport java.util.logging.Logger;\nLogger logger = Logger.getLogger(MyClass.class.getName());\n\npublic double getBalance() {\n    logger.log(Level.INFO, &quot;Your balance is: &quot; + balance);\n    return balance;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12457332,"reputation":7,"user_id":9070079,"display_name":"Victorb37"},"score":0,"creation_date":1691859729,"post_id":76888463,"comment_id":135549713,"body_markdown":"This is the exact answer I was looking for. So, per the Separation of Concerns I should have the getBalance() method that returns the balance. But, I should create separate method that prints the balance or logs it?","body":"This is the exact answer I was looking for. So, per the Separation of Concerns I should have the getBalance() method that returns the balance. But, I should create separate method that prints the balance or logs it?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1691897918,"post_id":76888463,"comment_id":135552273,"body_markdown":"Probably not.  For logging you don&#39;t write a separate method.  You just call a method provided by the logging framework.  If you are going to log info about a getter call, then that is part of the &quot;get the balance&quot; concern.  For printing the balance, &gt;&gt;I&lt;&lt; would inline the print statement in the method that you call when the user requests the balance; e.g. `balance = account.getBalance();  println(&quot;Your balance is &quot; + balance);`  Note that this is in the `ATM` class, not the `Account` class.  Interacting with the user is not the concern of an account.  That&#39;s the ATM&#39;s job.","body":"Probably not.  For logging you don&#39;t write a separate method.  You just call a method provided by the logging framework.  If you are going to log info about a getter call, then that is part of the &quot;get the balance&quot; concern.  For printing the balance, &gt;&gt;I&lt;&lt; would inline the print statement in the method that you call when the user requests the balance; e.g. <code>balance = account.getBalance();  println(&quot;Your balance is &quot; + balance);</code>  Note that this is in the <code>ATM</code> class, not the <code>Account</code> class.  Interacting with the user is not the concern of an account.  That&#39;s the ATM&#39;s job."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691897046,"creation_date":1691830216,"answer_id":76888463,"question_id":76887883,"body_markdown":"&gt; Is adding `System.out.print()` bad practice within a non-void method?\r\n\r\nWhat you are doing goes against the [&quot;Separation of Concerns&quot;](https://en.wikipedia.org/wiki/Separation_of_concerns) design principle:\r\n\r\n&gt; *&quot;In Computer Science, **separation of concerns** is a design principle for separating a computer program into distinct sections. Each section addresses a separate concern, a set of information that affects the code of a computer program.&quot;*\r\n\r\n&lt;sup&gt;(The above is from Wikipedia.  It is difficult to come up with clear and inclusive definition of what a &quot;concern&quot; actually is.  But with experience you will learn to recognize where different concerns are not being properly separated.)&lt;/sup&gt;\r\n\r\nIn this case, the two concerns are &quot;providing a way to get the balance&quot; and &quot;showing the balance to the user&quot;.\r\n\r\nHere are a couple of scenarios that illustrate why that this is a bad idea:\r\n\r\n1. Suppose that you want to use your `getBalance()` method in a `transfer(...)` operation that transfer money from one account to another.  But now you will find that an inappropriate message is sent to the user when they perform a transfer.\r\n\r\n2. Suppose that you want to use your `getBalance()` method in a `statement()` method that operation that generates a bank statement for the user.  You may want the balance to be output as part of the bank statement, but the `println` is likely to be formatting it the wrong way, and / or printing it in the wrong place.  (You might not even want it printed to standard output.) \r\n\r\n\r\nNote: if the print statement was for logging purposes, then doing that in a getter is not a separation of concerns issue.  But if that is its purpose, you should be using a logging framework rather than `System.out.print*` calls.\r\n\r\n-----------\r\n\r\nIn summary: yes it is bad practice for a getter to also print / display information for the user.\r\n\r\nIt is also a bad idea (and incorrect per the rules of accounting) to represent money using floating point types; see https://stackoverflow.com/questions/3730019.","title":"Is adding System.out.print() bad practice within a non-void method?","body":"<blockquote>\n<p>Is adding <code>System.out.print()</code> bad practice within a non-void method?</p>\n</blockquote>\n<p>What you are doing goes against the <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">&quot;Separation of Concerns&quot;</a> design principle:</p>\n<blockquote>\n<p><em>&quot;In Computer Science, <strong>separation of concerns</strong> is a design principle for separating a computer program into distinct sections. Each section addresses a separate concern, a set of information that affects the code of a computer program.&quot;</em></p>\n</blockquote>\n<p><sup>(The above is from Wikipedia.  It is difficult to come up with clear and inclusive definition of what a &quot;concern&quot; actually is.  But with experience you will learn to recognize where different concerns are not being properly separated.)</sup></p>\n<p>In this case, the two concerns are &quot;providing a way to get the balance&quot; and &quot;showing the balance to the user&quot;.</p>\n<p>Here are a couple of scenarios that illustrate why that this is a bad idea:</p>\n<ol>\n<li><p>Suppose that you want to use your <code>getBalance()</code> method in a <code>transfer(...)</code> operation that transfer money from one account to another.  But now you will find that an inappropriate message is sent to the user when they perform a transfer.</p>\n</li>\n<li><p>Suppose that you want to use your <code>getBalance()</code> method in a <code>statement()</code> method that operation that generates a bank statement for the user.  You may want the balance to be output as part of the bank statement, but the <code>println</code> is likely to be formatting it the wrong way, and / or printing it in the wrong place.  (You might not even want it printed to standard output.)</p>\n</li>\n</ol>\n<p>Note: if the print statement was for logging purposes, then doing that in a getter is not a separation of concerns issue.  But if that is its purpose, you should be using a logging framework rather than <code>System.out.print*</code> calls.</p>\n<hr />\n<p>In summary: yes it is bad practice for a getter to also print / display information for the user.</p>\n<p>It is also a bad idea (and incorrect per the rules of accounting) to represent money using floating point types; see <a href=\"https://stackoverflow.com/questions/3730019\">Why not use Double or Float to represent currency?</a>.</p>\n"}],"owner":{"account_id":12457332,"reputation":7,"user_id":9070079,"display_name":"Victorb37"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76888463,"answer_count":2,"score":-1,"last_activity_date":1691897046,"creation_date":1691818245,"question_id":76887883,"body_markdown":"I am working on a basic ATM project. I have an account class that has several methods including a getBalance method. The getBalance method returns a double value. However, I want it to print some text prior to returning the value. This is how I have it set up:\r\n\r\n\r\n```\r\npublic double getBalance() {\r\n\t\tSystem.out.print(&quot;Your balance is: &quot;);\r\n\t\treturn balance;\r\n\t}\r\n```\r\n\r\n\r\nIn my main method I just call it as:\r\n\r\n`System.out.println(account1.getBalance());`\r\n\r\n\r\n\r\nIs it bad practice to add System.out.print within my getBalance() method in this way?\r\n\r\nIt outputs everything correctly ex.: **Your balance is: 1000.0**","title":"Is adding System.out.print() bad practice within a non-void method?","body":"<p>I am working on a basic ATM project. I have an account class that has several methods including a getBalance method. The getBalance method returns a double value. However, I want it to print some text prior to returning the value. This is how I have it set up:</p>\n<pre><code>public double getBalance() {\n        System.out.print(&quot;Your balance is: &quot;);\n        return balance;\n    }\n</code></pre>\n<p>In my main method I just call it as:</p>\n<p><code>System.out.println(account1.getBalance());</code></p>\n<p>Is it bad practice to add System.out.print within my getBalance() method in this way?</p>\n<p>It outputs everything correctly ex.: <strong>Your balance is: 1000.0</strong></p>\n"},{"tags":["java","inheritance","overloading"],"comments":[{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":3,"creation_date":1336647602,"post_id":10532554,"comment_id":13624197,"body_markdown":"`boolean` does not derive from `Object`, since it is a [primitive](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)","body":"<code>boolean</code> does not derive from <code>Object</code>, since it is a <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">primitive</a>"},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":0,"creation_date":1336647621,"post_id":10532554,"comment_id":13624208,"body_markdown":"I know what a primitive is. Could have just as easily been `Boolean`.","body":"I know what a primitive is. Could have just as easily been <code>Boolean</code>."},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":0,"creation_date":1542729125,"post_id":10532554,"comment_id":93668780,"body_markdown":"6.5 years later and my comment above was completely bitchy. Sorry. (:","body":"6.5 years later and my comment above was completely bitchy. Sorry. (:"}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1336647961,"post_id":10532636,"comment_id":13624354,"body_markdown":"Java will choose the *most specific* match.","body":"Java will choose the <i>most specific</i> match."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1336648062,"post_id":10532636,"comment_id":13624393,"body_markdown":"@Di-0xide That&#39;s not what I said, and it&#39;s not correct. What I said is correct. See the JLS. You won&#39;t find waffle like &#39;latest applicable derivative&#39; in there.","body":"@Di-0xide That&#39;s not what I said, and it&#39;s not correct. What I said is correct. See the JLS. You won&#39;t find waffle like &#39;latest applicable derivative&#39; in there."},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":0,"creation_date":1336657627,"post_id":10532636,"comment_id":13628765,"body_markdown":"So for example if there were two classes `A` and `B`, where `B` extended `A`, and I had a method that was overloaded with one parameter of types `Object`, `A`, and `B`. Which is called when I call it with an object of type `A`? Which is called when I call with type `B`? Which is called when I call it with a type `C` that extends `A`?","body":"So for example if there were two classes <code>A</code> and <code>B</code>, where <code>B</code> extended <code>A</code>, and I had a method that was overloaded with one parameter of types <code>Object</code>, <code>A</code>, and <code>B</code>. Which is called when I call it with an object of type <code>A</code>? Which is called when I call with type <code>B</code>? Which is called when I call it with a type <code>C</code> that extends <code>A</code>?"},{"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"score":0,"creation_date":1336658062,"post_id":10532636,"comment_id":13628983,"body_markdown":"@di-0xide I added a short example.","body":"@di-0xide I added a short example."},{"owner":{"account_id":11106470,"reputation":1043,"user_id":8153505,"display_name":"namgold"},"score":0,"creation_date":1625145029,"post_id":10532636,"comment_id":120553686,"body_markdown":"Your example is not overloading, it is overriding","body":"Your example is not overloading, it is overriding"}],"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1336658042,"creation_date":1336647693,"answer_id":10532636,"question_id":10532554,"body_markdown":"Java will choose the most specific match, in your case a boolean will be automatically converted using auto-boxing boolean &lt;-&gt; Boolean. If you use any other type like String the Object variant will be used.\r\n\r\nThe Details you find in the [Java Language\r\nSpecification](http://docs.oracle.com/javase/specs/jls/se7/jls7.pdf)\r\nsee 8.4.9 Overloading\r\n\r\nAdded in response to comment:\r\n\r\nYou can easily test the behaviour with some code like:\r\n\r\n    class A {\r\n    \tpublic void print(Object o) {\r\n    \t\tSystem.out.println(&quot;A.print &quot; + o);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tB b = new B();\r\n    \t\tA a = new A();\r\n    \t\tb.print(&quot;test b&quot;);\r\n    \t\ta.print(&quot;test a&quot;);\r\n    \t\t((A) b).print(&quot;test a or b&quot;);\r\n    \t}\r\n    }\r\n    \r\n    class B extends A {\r\n    \tpublic void print(Object o) {\r\n    \t\tSystem.out.println(&quot;B.print &quot; + o);\r\n    \t}\r\n    }\r\n\r\nPrints:\r\n\r\n    B.print test b\r\n    A.print test a\r\n    B.print test a or b\r\n\r\nI hope now it is more clear what happens.","title":"Overloading arguments of inherited types","body":"<p>Java will choose the most specific match, in your case a boolean will be automatically converted using auto-boxing boolean &lt;-> Boolean. If you use any other type like String the Object variant will be used.</p>\n\n<p>The Details you find in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/jls7.pdf\" rel=\"nofollow\">Java Language\nSpecification</a>\nsee 8.4.9 Overloading</p>\n\n<p>Added in response to comment:</p>\n\n<p>You can easily test the behaviour with some code like:</p>\n\n<pre><code>class A {\n    public void print(Object o) {\n        System.out.println(\"A.print \" + o);\n    }\n\n    public static void main(String[] args) {\n        B b = new B();\n        A a = new A();\n        b.print(\"test b\");\n        a.print(\"test a\");\n        ((A) b).print(\"test a or b\");\n    }\n}\n\nclass B extends A {\n    public void print(Object o) {\n        System.out.println(\"B.print \" + o);\n    }\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>B.print test b\nA.print test a\nB.print test a or b\n</code></pre>\n\n<p>I hope now it is more clear what happens.</p>\n"},{"comments":[{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":0,"creation_date":1336657686,"post_id":10532761,"comment_id":13628800,"body_markdown":"I figured as much. I had changed it to specific types (no `Object` types) before I even asked the question, but the question was still on my mind.","body":"I figured as much. I had changed it to specific types (no <code>Object</code> types) before I even asked the question, but the question was still on my mind."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1336648173,"creation_date":1336648173,"answer_id":10532761,"question_id":10532554,"body_markdown":"This is a very dangerous pattern to use and is actually advised against explicitly in Effective Java. The problem is that the method signature resolution happens statically, at compile time, so it doesn&#39;t depend on the actual type of arguments at runtime, only their declared type.","title":"Overloading arguments of inherited types","body":"<p>This is a very dangerous pattern to use and is actually advised against explicitly in Effective Java. The problem is that the method signature resolution happens statically, at compile time, so it doesn't depend on the actual type of arguments at runtime, only their declared type.</p>\n"},{"comments":[{"owner":{"account_id":4783663,"reputation":183,"user_id":3864764,"display_name":"Martin"},"score":1,"creation_date":1596700406,"post_id":10532814,"comment_id":111896417,"body_markdown":"this is not strange, but absolutely expected IMHO","body":"this is not strange, but absolutely expected IMHO"}],"tags":[],"owner":{"account_id":1215623,"reputation":1938,"user_id":1183284,"display_name":"MartinK"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1336648367,"creation_date":1336648367,"answer_id":10532814,"question_id":10532554,"body_markdown":"It depends on the *type of the reference* you pass to this method. E.g.\r\n\r\n    Objeyt myObject = Boolean.TRUE;\r\n    YourClass.set(&quot;foo&quot;, myObject);\r\n\r\nwill *not* invoke the method with the Boolean in its parameter list. It will choose the `Object` version.\r\n\r\nSee e.g. the constructor for `java.util.TreeSet(Collection c)` in your jdk. Similar stuff is going on there as well (it checks if the collection is actually a `SortedSet`, but there *is* a constructor for `SortedSet`).\r\n\r\nTry\r\n\r\n    public class A {\r\n    \r\n    \tpublic void method(String str) {\r\n    \t\tSystem.out.println(&quot;foo&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic void method(Object obj) {\r\n    \t\tSystem.out.println(&quot;bar&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tA a = new A();\r\n    \t\tObject obj = &quot;A String&quot;;\r\n    \t\ta.method(obj);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThis prints *bar*. Strange but true :)","title":"Overloading arguments of inherited types","body":"<p>It depends on the <em>type of the reference</em> you pass to this method. E.g.</p>\n\n<pre><code>Objeyt myObject = Boolean.TRUE;\nYourClass.set(\"foo\", myObject);\n</code></pre>\n\n<p>will <em>not</em> invoke the method with the Boolean in its parameter list. It will choose the <code>Object</code> version.</p>\n\n<p>See e.g. the constructor for <code>java.util.TreeSet(Collection c)</code> in your jdk. Similar stuff is going on there as well (it checks if the collection is actually a <code>SortedSet</code>, but there <em>is</em> a constructor for <code>SortedSet</code>).</p>\n\n<p>Try</p>\n\n<pre><code>public class A {\n\n    public void method(String str) {\n        System.out.println(\"foo\");\n    }\n\n    public void method(Object obj) {\n        System.out.println(\"bar\");\n    }\n\n    public static void main(String[] args) {\n        A a = new A();\n        Object obj = \"A String\";\n        a.method(obj);\n    }\n\n}\n</code></pre>\n\n<p>This prints <em>bar</em>. Strange but true :)</p>\n"},{"tags":[],"owner":{"account_id":323792,"reputation":1013,"user_id":644027,"accept_rate":64,"display_name":"CrepuscularV"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491870698,"creation_date":1491870698,"answer_id":43334882,"question_id":10532554,"body_markdown":"Posting the following example:\r\n\r\n    public class Inherit {\r\n      public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, Inheritance!&quot;);\r\n        \r\n        Parent parent = new Parent();\r\n        Parent childp = new Child();\r\n        Child childc = new Child();\r\n    \r\n        System.out.println(&quot;===============================&quot;);\r\n        parent.print(parent);\r\n        parent.print(childp);\r\n        parent.print(childc);\r\n    \r\n        System.out.println(&quot;===============================&quot;);\r\n        childp.print(parent);\r\n        childp.print(childp);\r\n        childp.print(childc);\r\n    \r\n        System.out.println(&quot;===============================&quot;);\r\n        childc.print(parent);\r\n        childc.print(childp);\r\n        childc.print(childc);\r\n    \r\n      }\r\n    \r\n    }\r\n    \r\n    class Parent {\r\n        public void print(Parent x) {\r\n           System.out.println(&quot;Parent.print(Parent)&quot;);\r\n        }\r\n    }\r\n    \r\n    class Child extends Parent {\r\n    \r\n        public void print(Child x) {\r\n           System.out.println(&quot;Child.print(Child)&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void print(Parent x) {\r\n           System.out.println(&quot;Child.print(Parent)&quot;);\r\n        }\r\n    }\r\n\r\nand the output\r\n\r\n    Hello, Inheritance!\r\n    ===============================\r\n    Parent.print(Parent)\r\n    Parent.print(Parent)\r\n    Parent.print(Parent)\r\n    ===============================\r\n    Child.print(Parent)\r\n    Child.print(Parent)\r\n    Child.print(Parent)\r\n    ===============================\r\n    Child.print(Parent)\r\n    Child.print(Parent)\r\n    Child.print(Child)\r\n\r\n","title":"Overloading arguments of inherited types","body":"<p>Posting the following example:</p>\n\n<pre><code>public class Inherit {\n  public static void main(String[] args) {\n    System.out.println(\"Hello, Inheritance!\");\n\n    Parent parent = new Parent();\n    Parent childp = new Child();\n    Child childc = new Child();\n\n    System.out.println(\"===============================\");\n    parent.print(parent);\n    parent.print(childp);\n    parent.print(childc);\n\n    System.out.println(\"===============================\");\n    childp.print(parent);\n    childp.print(childp);\n    childp.print(childc);\n\n    System.out.println(\"===============================\");\n    childc.print(parent);\n    childc.print(childp);\n    childc.print(childc);\n\n  }\n\n}\n\nclass Parent {\n    public void print(Parent x) {\n       System.out.println(\"Parent.print(Parent)\");\n    }\n}\n\nclass Child extends Parent {\n\n    public void print(Child x) {\n       System.out.println(\"Child.print(Child)\");\n    }\n\n    @Override\n    public void print(Parent x) {\n       System.out.println(\"Child.print(Parent)\");\n    }\n}\n</code></pre>\n\n<p>and the output</p>\n\n<pre><code>Hello, Inheritance!\n===============================\nParent.print(Parent)\nParent.print(Parent)\nParent.print(Parent)\n===============================\nChild.print(Parent)\nChild.print(Parent)\nChild.print(Parent)\n===============================\nChild.print(Parent)\nChild.print(Parent)\nChild.print(Child)\n</code></pre>\n"}],"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1739,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":10532636,"answer_count":4,"score":2,"last_activity_date":1691895806,"creation_date":1336647409,"question_id":10532554,"body_markdown":"Alright so I just want to confirm something.\r\n\r\nI am creating a wrapper class for java&#39;s Properties class and I came a cross a little question.\r\n\r\nif I have\r\n\r\n    public static void set(String key, Object value) { _p.set(key, value.toString()); }\r\n\r\nand\r\n\r\n    public static void set(String key, SomeClass value) { _p.set(key, value.SomeMethod().toString()); }\r\n\r\nis the `Object` overload called only when none of the other overloads suffice?","title":"Overloading arguments of inherited types","body":"<p>Alright so I just want to confirm something.</p>\n\n<p>I am creating a wrapper class for java's Properties class and I came a cross a little question.</p>\n\n<p>if I have</p>\n\n<pre><code>public static void set(String key, Object value) { _p.set(key, value.toString()); }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public static void set(String key, SomeClass value) { _p.set(key, value.SomeMethod().toString()); }\n</code></pre>\n\n<p>is the <code>Object</code> overload called only when none of the other overloads suffice?</p>\n"},{"tags":["java","spring-boot","jpa","querydsl"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1691898077,"post_id":76891767,"comment_id":135552276,"body_markdown":"Without a [mre], it&#39;s impossible to say, but my first guess would be that `selectPostList()` is being invoked twice.","body":"Without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, it&#39;s impossible to say, but my first guess would be that <code>selectPostList()</code> is being invoked twice."}],"owner":{"account_id":20201934,"reputation":35,"user_id":14817408,"display_name":"Joshep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691895436,"creation_date":1691895436,"question_id":76891767,"body_markdown":"When loading posts from the posts list, 1 query to find posts that meet the conditions, 1 count query for paging, and 1 query to count comment notifications(Notification function works through HandlerInterceptor) are created.\r\n\r\nHowever, looking at the log, after the 3 queries above, 3 duplicate queries appear the same again, but I don&#39;t know why.\r\n\r\nBelow is the relevant code.\r\n\r\n```\r\n// PostRepositoryImpl\r\n\r\n// function called by controller\r\npublic Page&lt;BoardResponseForm&gt; selectPostList(String boardCategory, String category, Pageable pageable) {\r\n        List&lt;BoardResponseForm&gt; content = getPostList(boardCategory, category, pageable);\r\n        Long count = getCount(boardCategory, category);\r\n        return new PageImpl&lt;&gt;(content, pageable, count);\r\n}\r\n\r\nprivate Long getCount(String boardCategory, String category) {\r\n        Long count = jpaQueryFactory\r\n                .select(post.count())\r\n                .from(post)\r\n                .where(checkBoardCategory(boardCategory),\r\n                        checkPostCategory(category))\r\n                .fetchOne();\r\n\r\n        return count;\r\n}\r\n\r\nprivate List&lt;BoardResponseForm&gt; getPostList(String boardCategory, String category, Pageable pageable) {\r\n\r\n        List&lt;BoardResponseForm&gt; content = jpaQueryFactory\r\n                .select(new QBoardResponseForm(\r\n                        post.id,\r\n                        post.viewCount,\r\n                        post.likeCount,\r\n                        post.commentCount,\r\n                        post.title,\r\n                        post.postCategory,\r\n                        account.nickname,\r\n                        post.publishedDateTime))\r\n                .from(post)\r\n                .leftJoin(post.author, account)\r\n                .where(checkBoardCategory(boardCategory),\r\n                        checkPostCategory(category))\r\n                .orderBy(post.id.desc())\r\n                .offset(pageable.getOffset())\r\n                .limit(pageable.getPageSize())\r\n                .fetch();\r\n\r\n        return content;\r\n}\r\n\r\nprivate BooleanExpression checkBoardCategory(String boardCategory) {\r\n         return post.boardCategory.eq(boardCategory);\r\n}\r\n\r\n    private BooleanExpression checkPostCategory(String category) {\r\n        return StringUtils.hasText(category) ? post.postCategory.eq(category) : null;\r\n}\r\n```\r\n\r\nBelow is the query log.\r\n\r\nAfter 3 queries go out, the same 3 queries come again.\r\n\r\n```\r\n2023-08-13 11:39:36.636 DEBUG 1592 --- [io-8080-exec-10] org.hibernate.SQL                        : \r\n    select\r\n        post0_.id as col_0_0_,\r\n        post0_.view_count as col_1_0_,\r\n        post0_.like_count as col_2_0_,\r\n        post0_.comment_count as col_3_0_,\r\n        post0_.title as col_4_0_,\r\n        post0_.post_category as col_5_0_,\r\n        account1_.nickname as col_6_0_,\r\n        post0_.published_date_time as col_7_0_ \r\n    from\r\n        post post0_ \r\n    left outer join\r\n        account account1_ \r\n            on post0_.author_id=account1_.id \r\n    where\r\n        (\r\n            post0_.title like ? escape &#39;!&#39; \r\n            or post0_.content like ? escape &#39;!&#39; \r\n            or account1_.nickname like ? escape &#39;!&#39;\r\n        ) \r\n        and post0_.board_category=? \r\n        and post0_.post_category=? \r\n    order by\r\n        post0_.id desc limit ?\r\n2023-08-13 11:39:36.636 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [%test%]\r\n2023-08-13 11:39:36.636 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [CLOB] - [%test%]\r\n2023-08-13 11:39:36.636 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [%test%]\r\n2023-08-13 11:39:36.636 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [dimension]\r\n2023-08-13 11:39:36.636 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [notice]\r\n2023-08-13 11:39:36.644 DEBUG 1592 --- [io-8080-exec-10] org.hibernate.SQL                        : \r\n    select\r\n        count(post0_.id) as col_0_0_ \r\n    from\r\n        post post0_ cross \r\n    join\r\n        account account1_ \r\n    where\r\n        post0_.author_id=account1_.id \r\n        and (\r\n            post0_.title like ? escape &#39;!&#39; \r\n            or post0_.content like ? escape &#39;!&#39; \r\n            or account1_.nickname like ? escape &#39;!&#39;\r\n        ) \r\n        and post0_.board_category=? \r\n        and post0_.post_category=?\r\n2023-08-13 11:39:36.645 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [%test%]\r\n2023-08-13 11:39:36.645 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [CLOB] - [%test%]\r\n2023-08-13 11:39:36.645 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [%test%]\r\n2023-08-13 11:39:36.645 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [dimension]\r\n2023-08-13 11:39:36.645 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [notice]\r\n2023-08-13 11:39:36.650 DEBUG 1592 --- [io-8080-exec-10] org.hibernate.SQL                        : \r\n    select\r\n        count(notificati0_.id) as col_0_0_ \r\n    from\r\n        notification notificati0_ \r\n    where\r\n        notificati0_.account_id=? \r\n        and notificati0_.checked=?\r\n2023-08-13 11:39:36.651 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]\r\n2023-08-13 11:39:36.651 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [false]\r\n2023-08-13 11:39:37.011 DEBUG 1592 --- [nio-8080-exec-8] org.hibernate.SQL                        : \r\n    select\r\n        post0_.id as col_0_0_,\r\n        post0_.view_count as col_1_0_,\r\n        post0_.like_count as col_2_0_,\r\n        post0_.comment_count as col_3_0_,\r\n        post0_.title as col_4_0_,\r\n        post0_.post_category as col_5_0_,\r\n        account1_.nickname as col_6_0_,\r\n        post0_.published_date_time as col_7_0_ \r\n    from\r\n        post post0_ \r\n    left outer join\r\n        account account1_ \r\n            on post0_.author_id=account1_.id \r\n    where\r\n        (\r\n            post0_.title like ? escape &#39;!&#39; \r\n            or post0_.content like ? escape &#39;!&#39; \r\n            or account1_.nickname like ? escape &#39;!&#39;\r\n        ) \r\n        and post0_.board_category=? \r\n        and post0_.post_category=? \r\n    order by\r\n        post0_.id desc limit ?\r\n2023-08-13 11:39:37.011 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [%test%]\r\n2023-08-13 11:39:37.011 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [CLOB] - [%test%]\r\n2023-08-13 11:39:37.011 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [%test%]\r\n2023-08-13 11:39:37.011 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [dimension]\r\n2023-08-13 11:39:37.011 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [notice]\r\n2023-08-13 11:39:37.015 DEBUG 1592 --- [nio-8080-exec-8] org.hibernate.SQL                        : \r\n    select\r\n        count(post0_.id) as col_0_0_ \r\n    from\r\n        post post0_ cross \r\n    join\r\n        account account1_ \r\n    where\r\n        post0_.author_id=account1_.id \r\n        and (\r\n            post0_.title like ? escape &#39;!&#39; \r\n            or post0_.content like ? escape &#39;!&#39; \r\n            or account1_.nickname like ? escape &#39;!&#39;\r\n        ) \r\n        and post0_.board_category=? \r\n        and post0_.post_category=?\r\n2023-08-13 11:39:37.015 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [%test%]\r\n2023-08-13 11:39:37.015 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [CLOB] - [%test%]\r\n2023-08-13 11:39:37.015 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [%test%]\r\n2023-08-13 11:39:37.015 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [dimension]\r\n2023-08-13 11:39:37.015 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [notice]\r\n2023-08-13 11:39:37.020 DEBUG 1592 --- [nio-8080-exec-8] org.hibernate.SQL                        : \r\n    select\r\n        count(notificati0_.id) as col_0_0_ \r\n    from\r\n        notification notificati0_ \r\n    where\r\n        notificati0_.account_id=? \r\n        and notificati0_.checked=?\r\n2023-08-13 11:39:37.020 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]\r\n2023-08-13 11:39:37.020 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [false]\r\n```","title":"I wonder why queries are duplicated when using jpa querydsl","body":"<p>When loading posts from the posts list, 1 query to find posts that meet the conditions, 1 count query for paging, and 1 query to count comment notifications(Notification function works through HandlerInterceptor) are created.</p>\n<p>However, looking at the log, after the 3 queries above, 3 duplicate queries appear the same again, but I don't know why.</p>\n<p>Below is the relevant code.</p>\n<pre><code>// PostRepositoryImpl\n\n// function called by controller\npublic Page&lt;BoardResponseForm&gt; selectPostList(String boardCategory, String category, Pageable pageable) {\n        List&lt;BoardResponseForm&gt; content = getPostList(boardCategory, category, pageable);\n        Long count = getCount(boardCategory, category);\n        return new PageImpl&lt;&gt;(content, pageable, count);\n}\n\nprivate Long getCount(String boardCategory, String category) {\n        Long count = jpaQueryFactory\n                .select(post.count())\n                .from(post)\n                .where(checkBoardCategory(boardCategory),\n                        checkPostCategory(category))\n                .fetchOne();\n\n        return count;\n}\n\nprivate List&lt;BoardResponseForm&gt; getPostList(String boardCategory, String category, Pageable pageable) {\n\n        List&lt;BoardResponseForm&gt; content = jpaQueryFactory\n                .select(new QBoardResponseForm(\n                        post.id,\n                        post.viewCount,\n                        post.likeCount,\n                        post.commentCount,\n                        post.title,\n                        post.postCategory,\n                        account.nickname,\n                        post.publishedDateTime))\n                .from(post)\n                .leftJoin(post.author, account)\n                .where(checkBoardCategory(boardCategory),\n                        checkPostCategory(category))\n                .orderBy(post.id.desc())\n                .offset(pageable.getOffset())\n                .limit(pageable.getPageSize())\n                .fetch();\n\n        return content;\n}\n\nprivate BooleanExpression checkBoardCategory(String boardCategory) {\n         return post.boardCategory.eq(boardCategory);\n}\n\n    private BooleanExpression checkPostCategory(String category) {\n        return StringUtils.hasText(category) ? post.postCategory.eq(category) : null;\n}\n</code></pre>\n<p>Below is the query log.</p>\n<p>After 3 queries go out, the same 3 queries come again.</p>\n<pre><code>2023-08-13 11:39:36.636 DEBUG 1592 --- [io-8080-exec-10] org.hibernate.SQL                        : \n    select\n        post0_.id as col_0_0_,\n        post0_.view_count as col_1_0_,\n        post0_.like_count as col_2_0_,\n        post0_.comment_count as col_3_0_,\n        post0_.title as col_4_0_,\n        post0_.post_category as col_5_0_,\n        account1_.nickname as col_6_0_,\n        post0_.published_date_time as col_7_0_ \n    from\n        post post0_ \n    left outer join\n        account account1_ \n            on post0_.author_id=account1_.id \n    where\n        (\n            post0_.title like ? escape '!' \n            or post0_.content like ? escape '!' \n            or account1_.nickname like ? escape '!'\n        ) \n        and post0_.board_category=? \n        and post0_.post_category=? \n    order by\n        post0_.id desc limit ?\n2023-08-13 11:39:36.636 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [%test%]\n2023-08-13 11:39:36.636 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [CLOB] - [%test%]\n2023-08-13 11:39:36.636 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [%test%]\n2023-08-13 11:39:36.636 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [dimension]\n2023-08-13 11:39:36.636 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [notice]\n2023-08-13 11:39:36.644 DEBUG 1592 --- [io-8080-exec-10] org.hibernate.SQL                        : \n    select\n        count(post0_.id) as col_0_0_ \n    from\n        post post0_ cross \n    join\n        account account1_ \n    where\n        post0_.author_id=account1_.id \n        and (\n            post0_.title like ? escape '!' \n            or post0_.content like ? escape '!' \n            or account1_.nickname like ? escape '!'\n        ) \n        and post0_.board_category=? \n        and post0_.post_category=?\n2023-08-13 11:39:36.645 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [%test%]\n2023-08-13 11:39:36.645 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [CLOB] - [%test%]\n2023-08-13 11:39:36.645 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [%test%]\n2023-08-13 11:39:36.645 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [dimension]\n2023-08-13 11:39:36.645 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [notice]\n2023-08-13 11:39:36.650 DEBUG 1592 --- [io-8080-exec-10] org.hibernate.SQL                        : \n    select\n        count(notificati0_.id) as col_0_0_ \n    from\n        notification notificati0_ \n    where\n        notificati0_.account_id=? \n        and notificati0_.checked=?\n2023-08-13 11:39:36.651 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]\n2023-08-13 11:39:36.651 TRACE 1592 --- [io-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [false]\n2023-08-13 11:39:37.011 DEBUG 1592 --- [nio-8080-exec-8] org.hibernate.SQL                        : \n    select\n        post0_.id as col_0_0_,\n        post0_.view_count as col_1_0_,\n        post0_.like_count as col_2_0_,\n        post0_.comment_count as col_3_0_,\n        post0_.title as col_4_0_,\n        post0_.post_category as col_5_0_,\n        account1_.nickname as col_6_0_,\n        post0_.published_date_time as col_7_0_ \n    from\n        post post0_ \n    left outer join\n        account account1_ \n            on post0_.author_id=account1_.id \n    where\n        (\n            post0_.title like ? escape '!' \n            or post0_.content like ? escape '!' \n            or account1_.nickname like ? escape '!'\n        ) \n        and post0_.board_category=? \n        and post0_.post_category=? \n    order by\n        post0_.id desc limit ?\n2023-08-13 11:39:37.011 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [%test%]\n2023-08-13 11:39:37.011 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [CLOB] - [%test%]\n2023-08-13 11:39:37.011 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [%test%]\n2023-08-13 11:39:37.011 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [dimension]\n2023-08-13 11:39:37.011 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [notice]\n2023-08-13 11:39:37.015 DEBUG 1592 --- [nio-8080-exec-8] org.hibernate.SQL                        : \n    select\n        count(post0_.id) as col_0_0_ \n    from\n        post post0_ cross \n    join\n        account account1_ \n    where\n        post0_.author_id=account1_.id \n        and (\n            post0_.title like ? escape '!' \n            or post0_.content like ? escape '!' \n            or account1_.nickname like ? escape '!'\n        ) \n        and post0_.board_category=? \n        and post0_.post_category=?\n2023-08-13 11:39:37.015 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [%test%]\n2023-08-13 11:39:37.015 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [CLOB] - [%test%]\n2023-08-13 11:39:37.015 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [%test%]\n2023-08-13 11:39:37.015 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [dimension]\n2023-08-13 11:39:37.015 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [notice]\n2023-08-13 11:39:37.020 DEBUG 1592 --- [nio-8080-exec-8] org.hibernate.SQL                        : \n    select\n        count(notificati0_.id) as col_0_0_ \n    from\n        notification notificati0_ \n    where\n        notificati0_.account_id=? \n        and notificati0_.checked=?\n2023-08-13 11:39:37.020 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]\n2023-08-13 11:39:37.020 TRACE 1592 --- [nio-8080-exec-8] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [false]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1692600251,"post_id":76891421,"comment_id":135640003,"body_markdown":"I introduced an additional security chain without `securityMatcher` to implement the &quot;authorize all except the internal/...&quot; URLs I want to secure (which was the intention) so the spring /auth shouldn&#39;t be secured anymore, but I still get a 404 (and I&#39;d expect a 401(?) if that was the issue). It&#39;s more of an academic question at this point since the service doesn&#39;t even need security - but thank you anyway.","body":"I introduced an additional security chain without <code>securityMatcher</code> to implement the &quot;authorize all except the internal/...&quot; URLs I want to secure (which was the intention) so the spring /auth shouldn&#39;t be secured anymore, but I still get a 404 (and I&#39;d expect a 401(?) if that was the issue). It&#39;s more of an academic question at this point since the service doesn&#39;t even need security - but thank you anyway."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691895326,"creation_date":1691881593,"answer_id":76891421,"question_id":76881350,"body_markdown":"First **do not disable CSRF protection on OAuth2 clients**. You are configuring an OAuth2 client and requests to OAuth2 clients are secured with sessions (not access access tokens), which makes your app exposed to CSRF attacks.\r\n\r\nSecond, you use `http.securityMatcher(&quot;/internal/**&quot;)`, which limits your security filter-chain to this route only (and this is probably the cause for what you are reporting). For OAuth2 login to work, you should have as minimum:\r\n```java\r\n        // this defines wich requests are processed by the SecurityFilterChain\r\n        http.securityMatcher(&quot;/oauth2/**&quot;, &quot;/login/**&quot;, &quot;/internal/**&quot;);\r\n\r\n        // this defines access control\r\n        http.authorizeHttpRequests(req -&gt; req\r\n            .requestMatchers(new AntPathRequestMatcher(&quot;/oauth2/**&quot;), new AntPathRequestMatcher(&quot;/login/**&quot;)).permitAll()\r\n            .requestMatchers(new AntPathRequestMatcher(&quot;/internal/**&quot;)).hasRole(&quot;our_user&quot;));\r\n```\r\nBut if this `SecurityFilterChain` is the only one you expose in your app, you should probably remove your `securityMatcher` and let the filter-chain process all requests.\r\n\r\nLast, I see nothing about [authorities mapping][1] in the code you provide. You need something to convert Keycloak roles into spring authorities for `hasRole(&quot;our_user&quot;)` to work.\r\n\r\nYou&#39;d probably save time using [my starter][2] (and should probably follow [my tutorials][3] too)...\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-map-authorities\r\n  [2]: https://github.com/ch4mpy/spring-addons\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"Spring Security authorization redirect endpoint missing","body":"<p>First <strong>do not disable CSRF protection on OAuth2 clients</strong>. You are configuring an OAuth2 client and requests to OAuth2 clients are secured with sessions (not access access tokens), which makes your app exposed to CSRF attacks.</p>\n<p>Second, you use <code>http.securityMatcher(&quot;/internal/**&quot;)</code>, which limits your security filter-chain to this route only (and this is probably the cause for what you are reporting). For OAuth2 login to work, you should have as minimum:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        // this defines wich requests are processed by the SecurityFilterChain\n        http.securityMatcher(&quot;/oauth2/**&quot;, &quot;/login/**&quot;, &quot;/internal/**&quot;);\n\n        // this defines access control\n        http.authorizeHttpRequests(req -&gt; req\n            .requestMatchers(new AntPathRequestMatcher(&quot;/oauth2/**&quot;), new AntPathRequestMatcher(&quot;/login/**&quot;)).permitAll()\n            .requestMatchers(new AntPathRequestMatcher(&quot;/internal/**&quot;)).hasRole(&quot;our_user&quot;));\n</code></pre>\n<p>But if this <code>SecurityFilterChain</code> is the only one you expose in your app, you should probably remove your <code>securityMatcher</code> and let the filter-chain process all requests.</p>\n<p>Last, I see nothing about <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/login/advanced.html#oauth2login-advanced-map-authorities\" rel=\"nofollow noreferrer\">authorities mapping</a> in the code you provide. You need something to convert Keycloak roles into spring authorities for <code>hasRole(&quot;our_user&quot;)</code> to work.</p>\n<p>You'd probably save time using <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">my starter</a> (and should probably follow <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">my tutorials</a> too)...</p>\n"}],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691895326,"creation_date":1691737305,"question_id":76881350,"body_markdown":"We&#39;re currently replacing our previous keycloak adapter authorization mechanism with Spring Security because we&#39;re updating to Spring Boot 3/Spring 6, and the adapter was deprecated.\r\n\r\nHere are our spring dependencies:\r\n\r\n```\r\n   &quot;org.springframework:spring-web:6.0.9&quot;,\r\n   &quot;org.springframework.security:spring-security-config&quot;,\r\n   &quot;org.springframework.security:spring-security-oauth2-client&quot;,\r\n   &quot;org.springframework.security:spring-security-oauth2-jose&quot;,\r\n   &quot;org.springframework.boot:spring-boot-starter-actuator:3.1.1&quot;,\r\n   &quot;org.springframework.boot:spring-boot-starter-oauth2-client&quot;,\r\n   &quot;org.springframework.boot:spring-boot-starter-security&quot;\r\n```\r\n\r\nWe found a security config that worked for all of our services except one. This is the basic setup:\r\n\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          keycloak:\r\n            client-id: ${keycloak.resource}\r\n            authorization-grant-type: authorization_code\r\n            scope: openid\r\n            provider: keycloak\r\n            client-secret: ${keycloak.credentials.secret}\r\n        provider:\r\n          keycloak:\r\n            issuer-uri: ${keycloak.server.uri}\r\n            jwk-set-uri: ${keycloak.server.uri}/protocol/openid-connect/certs\r\n```\r\nAgain, this works fine for all the other services.\r\n\r\nHere&#39;s the Web Security config:\r\n\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\nclass WebSecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain authorizeDvUser(final HttpSecurity http) throws Exception {\r\n        http.formLogin(AbstractHttpConfigurer::disable)\r\n                .cors(withDefaults())\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .headers(h -&gt; h.frameOptions(HeadersConfigurer.FrameOptionsConfig::disable));\r\n\r\n\r\n        http.oauth2Login(withDefaults());\r\n\r\n        http.securityMatcher(&quot;/internal/**&quot;)\r\n                .authorizeHttpRequests(req -&gt; req\r\n                        .requestMatchers(&quot;/internal/**&quot;)\r\n                        .hasRole(&quot;our_user&quot;));\r\n\r\n        http.authorizeHttpRequests(req -&gt; req\r\n                .anyRequest()\r\n                .permitAll());\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nThe &quot;permitAll&quot; part works fine, no authentication required unless you hit an &quot;/internal&quot; path. What happens then is that we get the authentication redirect to &quot;http://localhost:8444/context_path/oauth2/authorization/keycloak&quot; as you would expect, but that is answered with a 404 - Not Found.\r\n\r\nI did enable debug logging and debugged through some of the depths of the Spring security filter chains. The debug logging states that it does issue a redirect to the authorization endpoint (obviously because we do get the 404 from it). However, the `OAuth2AuthorizationRequestRedirectFilter` (which should handle this request IIUC) never gets triggered. It does when I set a breakpoint for the services in which it works. To me this is a sign the redirect request is never received correctly.\r\n\r\nThe one difference in this service is that it doesn&#39;t have a database for session persistence, but this should create an InMemorySessionRepository which is enough for it because there&#39;s only one instance running.\r\n\r\nWhat could cause this behavior? What can I do to investigate further, I ran out of ideas what to try.\r\n\r\nI have seen [this issue](https://stackoverflow.com/questions/76754916/spring-boot-oauth2-client-authentication-authorization-endpoint-returns-404) but it seems to me the only thing he does with the endpoint setup in the answer is setting the repository for it and uses the default redirect path, as we are trying to do. I did for completeness&#39; sake add a client registration bean because there&#39;s one in that question:\r\n\r\n```\r\n@Bean\r\npublic ClientRegistrationRepository clientRegistrationRepository(final OAuth2ClientProperties clientProperties) {\r\n    final var mapper = new OAuth2ClientPropertiesMapper(clientProperties);\r\n    final ClientRegistration keycloak = mapper.asClientRegistrations().get(&quot;keycloak&quot;);\r\n    return new InMemoryClientRegistrationRepository(keycloak);\r\n}\r\n```\r\nbut that doesn&#39;t change anything.","title":"Spring Security authorization redirect endpoint missing","body":"<p>We're currently replacing our previous keycloak adapter authorization mechanism with Spring Security because we're updating to Spring Boot 3/Spring 6, and the adapter was deprecated.</p>\n<p>Here are our spring dependencies:</p>\n<pre><code>   &quot;org.springframework:spring-web:6.0.9&quot;,\n   &quot;org.springframework.security:spring-security-config&quot;,\n   &quot;org.springframework.security:spring-security-oauth2-client&quot;,\n   &quot;org.springframework.security:spring-security-oauth2-jose&quot;,\n   &quot;org.springframework.boot:spring-boot-starter-actuator:3.1.1&quot;,\n   &quot;org.springframework.boot:spring-boot-starter-oauth2-client&quot;,\n   &quot;org.springframework.boot:spring-boot-starter-security&quot;\n</code></pre>\n<p>We found a security config that worked for all of our services except one. This is the basic setup:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          keycloak:\n            client-id: ${keycloak.resource}\n            authorization-grant-type: authorization_code\n            scope: openid\n            provider: keycloak\n            client-secret: ${keycloak.credentials.secret}\n        provider:\n          keycloak:\n            issuer-uri: ${keycloak.server.uri}\n            jwk-set-uri: ${keycloak.server.uri}/protocol/openid-connect/certs\n</code></pre>\n<p>Again, this works fine for all the other services.</p>\n<p>Here's the Web Security config:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\nclass WebSecurityConfig {\n    @Bean\n    public SecurityFilterChain authorizeDvUser(final HttpSecurity http) throws Exception {\n        http.formLogin(AbstractHttpConfigurer::disable)\n                .cors(withDefaults())\n                .csrf(AbstractHttpConfigurer::disable)\n                .headers(h -&gt; h.frameOptions(HeadersConfigurer.FrameOptionsConfig::disable));\n\n\n        http.oauth2Login(withDefaults());\n\n        http.securityMatcher(&quot;/internal/**&quot;)\n                .authorizeHttpRequests(req -&gt; req\n                        .requestMatchers(&quot;/internal/**&quot;)\n                        .hasRole(&quot;our_user&quot;));\n\n        http.authorizeHttpRequests(req -&gt; req\n                .anyRequest()\n                .permitAll());\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>The &quot;permitAll&quot; part works fine, no authentication required unless you hit an &quot;/internal&quot; path. What happens then is that we get the authentication redirect to &quot;http://localhost:8444/context_path/oauth2/authorization/keycloak&quot; as you would expect, but that is answered with a 404 - Not Found.</p>\n<p>I did enable debug logging and debugged through some of the depths of the Spring security filter chains. The debug logging states that it does issue a redirect to the authorization endpoint (obviously because we do get the 404 from it). However, the <code>OAuth2AuthorizationRequestRedirectFilter</code> (which should handle this request IIUC) never gets triggered. It does when I set a breakpoint for the services in which it works. To me this is a sign the redirect request is never received correctly.</p>\n<p>The one difference in this service is that it doesn't have a database for session persistence, but this should create an InMemorySessionRepository which is enough for it because there's only one instance running.</p>\n<p>What could cause this behavior? What can I do to investigate further, I ran out of ideas what to try.</p>\n<p>I have seen <a href=\"https://stackoverflow.com/questions/76754916/spring-boot-oauth2-client-authentication-authorization-endpoint-returns-404\">this issue</a> but it seems to me the only thing he does with the endpoint setup in the answer is setting the repository for it and uses the default redirect path, as we are trying to do. I did for completeness' sake add a client registration bean because there's one in that question:</p>\n<pre><code>@Bean\npublic ClientRegistrationRepository clientRegistrationRepository(final OAuth2ClientProperties clientProperties) {\n    final var mapper = new OAuth2ClientPropertiesMapper(clientProperties);\n    final ClientRegistration keycloak = mapper.asClientRegistrations().get(&quot;keycloak&quot;);\n    return new InMemoryClientRegistrationRepository(keycloak);\n}\n</code></pre>\n<p>but that doesn't change anything.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":7602879,"reputation":1099,"user_id":5766794,"accept_rate":100,"display_name":"Jay"},"score":0,"creation_date":1480615401,"post_id":40917393,"comment_id":69047030,"body_markdown":"I really would like to see Java-8 + regex examples...","body":"I really would like to see Java-8 + regex examples..."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1691892808,"post_id":40917393,"comment_id":135552038,"body_markdown":"@Jay —&#160;As requested, a very straightforward regex example: https://stackoverflow.com/a/76891701/1108305","body":"@Jay — As requested, a very straightforward regex example: <a href=\"https://stackoverflow.com/a/76891701/1108305\">stackoverflow.com/a/76891701/1108305</a>"}],"answers":[{"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1480615471,"creation_date":1480615471,"answer_id":40917459,"question_id":40917393,"body_markdown":"Sure:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    char[] chars = text.toCharArray();\r\n    char previous = chars[0];\r\n    sb.append(chars[0]);\r\n    for(int i = 1 ; i &lt; chars.length ; i++) {\r\n        if(chars[i] != previous) {\r\n            sb.append(chars[i]);\r\n            previous = chars[i];\r\n        }\r\n    }\r\n    String res = sb.toString();","title":"How to remove adjacent duplicates in a string in Java","body":"<p>Sure:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nchar[] chars = text.toCharArray();\nchar previous = chars[0];\nsb.append(chars[0]);\nfor(int i = 1 ; i &lt; chars.length ; i++) {\n    if(chars[i] != previous) {\n        sb.append(chars[i]);\n        previous = chars[i];\n    }\n}\nString res = sb.toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3907007,"reputation":1228,"user_id":3233440,"display_name":"Jose Ferrer"},"score":0,"creation_date":1480618116,"post_id":40917640,"comment_id":69048541,"body_markdown":"O(n) time, yes, but O(n) space also.  StringBuilder resultBuilder&#39;s size is directly related to the size of String s.\nThe only practical way I see to make it O(1) space is if the deduplicated string was never stored; you&#39;d have to output it while processing.  As long as the method must return a separate deduplicated string then you will need additional storage that is directly related to the size of the input string..\nHowever, if the input were a char array then you could reuse the passed array, but with all the swaps you&#39;d go O(n^2) for time.\nSpace vs time, as always.","body":"O(n) time, yes, but O(n) space also.  StringBuilder resultBuilder&#39;s size is directly related to the size of String s. The only practical way I see to make it O(1) space is if the deduplicated string was never stored; you&#39;d have to output it while processing.  As long as the method must return a separate deduplicated string then you will need additional storage that is directly related to the size of the input string.. However, if the input were a char array then you could reuse the passed array, but with all the swaps you&#39;d go O(n^2) for time. Space vs time, as always."},{"owner":{"account_id":5888870,"reputation":378,"user_id":4636087,"display_name":"Coderslang Master"},"score":0,"creation_date":1480618499,"post_id":40917640,"comment_id":69048734,"body_markdown":"Good point, but space used for storing result is almost always ignored in space complexity analysis.","body":"Good point, but space used for storing result is almost always ignored in space complexity analysis."},{"owner":{"account_id":3907007,"reputation":1228,"user_id":3233440,"display_name":"Jose Ferrer"},"score":1,"creation_date":1480620038,"post_id":40917640,"comment_id":69049531,"body_markdown":"This method is exactly the kind of thing I would have written.  I assumed the OP meant time when I saw the question and didn&#39;t even think of space until I saw it here.  I assume the question comes from a student and thought we should provide the most accurate answer possible.  The space used by this algorithm increases linearly with the number of characters in the input string, so O(n).  O(1) would mean that the space used by the algorithm was constant; it would consume the same amount of space regardless of the length of the input string.","body":"This method is exactly the kind of thing I would have written.  I assumed the OP meant time when I saw the question and didn&#39;t even think of space until I saw it here.  I assume the question comes from a student and thought we should provide the most accurate answer possible.  The space used by this algorithm increases linearly with the number of characters in the input string, so O(n).  O(1) would mean that the space used by the algorithm was constant; it would consume the same amount of space regardless of the length of the input string."},{"owner":{"account_id":5888870,"reputation":378,"user_id":4636087,"display_name":"Coderslang Master"},"score":0,"creation_date":1480620905,"post_id":40917640,"comment_id":69050044,"body_markdown":"I absolutely agree. Edited original answer.","body":"I absolutely agree. Edited original answer."}],"tags":[],"owner":{"account_id":5888870,"reputation":378,"user_id":4636087,"display_name":"Coderslang Master"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480620856,"creation_date":1480616060,"answer_id":40917640,"question_id":40917393,"body_markdown":"O(n) time solution :\r\n\r\n    public String removeAdjacentDuplicates(String s) {\r\n        StringBuilder resultBuilder = new StringBuilder();\r\n        char previous = s.charAt(0);\r\n        resultBuilder.append(previous);\r\n        for (int i = 1; i &lt; s.length(); i++) {\r\n            char current = s.charAt(i);\r\n            if (previous != current) {\r\n                resultBuilder.append(current);\r\n                previous = current;\r\n            }\r\n        }\r\n        return resultBuilder.toString();\r\n    }\r\n\r\n","title":"How to remove adjacent duplicates in a string in Java","body":"<p>O(n) time solution :</p>\n\n<pre><code>public String removeAdjacentDuplicates(String s) {\n    StringBuilder resultBuilder = new StringBuilder();\n    char previous = s.charAt(0);\n    resultBuilder.append(previous);\n    for (int i = 1; i &lt; s.length(); i++) {\n        char current = s.charAt(i);\n        if (previous != current) {\n            resultBuilder.append(current);\n            previous = current;\n        }\n    }\n    return resultBuilder.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8090416,"reputation":446,"user_id":6096525,"display_name":"gregbert"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480620126,"creation_date":1480617068,"answer_id":40917924,"question_id":40917393,"body_markdown":"I&#39;m just starting to work with streams so bear with me...\r\n\r\n    public static String removeAdjacentDuplicates(String input) {\r\n\t    if (input.length() &lt;= 1) {\r\n\t\t    return input;\r\n    \t}\r\n\t\t\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tsb.append(input.charAt(0));\r\n\t\t\r\n\t\tIntStream.range(1, input.length())\r\n\t\t\t.mapToObj(i -&gt; input.charAt(i) != input.charAt(i - 1) ? input.charAt(i) : &quot;&quot;)\r\n\t\t\t.forEach(sb::append);\r\n\t\t\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\nor if this more your style instead of the StringBuilder:\r\n\r\n    return input.charAt(0) + String.join(&quot;&quot;, \r\n\t\tIntStream.range(1, input.length())\r\n\t\t\t.mapToObj(i -&gt; input.charAt(i) != input.charAt(i - 1) ?\r\n                String.valueOf(input.charAt(i)) : &quot;&quot;)\r\n\t\t\t.toArray(size -&gt; new String[size]));","title":"How to remove adjacent duplicates in a string in Java","body":"<p>I'm just starting to work with streams so bear with me...</p>\n\n<pre><code>public static String removeAdjacentDuplicates(String input) {\n    if (input.length() &lt;= 1) {\n        return input;\n    }\n\n    StringBuilder sb = new StringBuilder();\n    sb.append(input.charAt(0));\n\n    IntStream.range(1, input.length())\n        .mapToObj(i -&gt; input.charAt(i) != input.charAt(i - 1) ? input.charAt(i) : \"\")\n        .forEach(sb::append);\n\n    return sb.toString();\n}\n</code></pre>\n\n<p>or if this more your style instead of the StringBuilder:</p>\n\n<pre><code>return input.charAt(0) + String.join(\"\", \n    IntStream.range(1, input.length())\n        .mapToObj(i -&gt; input.charAt(i) != input.charAt(i - 1) ?\n            String.valueOf(input.charAt(i)) : \"\")\n        .toArray(size -&gt; new String[size]));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525708288,"creation_date":1524243673,"answer_id":49946534,"question_id":40917393,"body_markdown":"This is a complete solution using Java.\r\n\r\n\r\n\r\n    public class Occurence2 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// String a = &quot;ABBCDAABBBBBBBBOR&quot;; //ABCDABOR\r\n    \t\tString a = &quot;GiiinnnniiiiiGinnnaPrrooottijayyyi&quot;;//GiniGinaProtijayi\r\n    \t\tfix(a);\r\n    \t}// amin\r\n    \r\n    \tprivate static void fix(String a) {\r\n    \t\tStringBuffer sbr = new StringBuffer();\r\n    \t\tfor (int i = 0; i &lt; a.length(); i++) {\r\n    \t\t\tchar ch = a.charAt(i);\r\n    \t\t\tif (sbr.length() == 0) {\r\n    \t\t\t\tsbr.append(ch);\r\n    \t\t\t}\r\n    \t\t\tif (ch == sbr.charAt(sbr.length() - 1)) {\r\n    \t\t\t\ti++;\r\n    \t\t\t} else {\r\n    \t\t\t\tsbr.append(ch);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(sbr);\r\n    \t}// fiix\r\n    }\r\n\r\nIf you don&#39;t want to use StringBuffer, then you can simply use an empty string.\r\n\r\n\r\n    public class Test6 {\r\n    public static void main(String[] args) {\r\n    \tString a = &quot;GiiinnnniiiiiGinnnaPrrooottijayyyi&quot;;\r\n    \tfix(a);\r\n    \t}\r\n    \r\n    private static void fix(String a) {\r\n    \t  String res = &quot;&quot;;\r\n    \tint i = 0 ;\r\n    \t while(i &lt; a.length()) {\r\n    \t\t char ch = a.charAt(i);\r\n    \t\t if(res.length() == 0 ) {res += ch ;}\r\n    \t\t if(ch == res.charAt(res.length() -1)) {i++ ;}\r\n    \t\t if(ch != res.charAt(res.length() -1)) {res += ch ;}\r\n    \t }//while\r\n    \t  System.out.println(res);\r\n    }//fix\r\n    \r\n    }\r\n\r\n\r\nThe solution in Python:\r\n\r\n    a = &quot;GiniiiiGinaaaPrrrottiijayi&quot;\r\n    \r\n    reslist =[]\r\n    for ch in a:\r\n         if(len(reslist) == 0 or ch != reslist[-1]):reslist.append(ch)\r\n        \r\n    print(reslist)\r\n    print(&#39;&#39;.join(reslist))   ","title":"How to remove adjacent duplicates in a string in Java","body":"<p>This is a complete solution using Java.</p>\n\n<pre><code>public class Occurence2 {\n\n    public static void main(String[] args) {\n        // String a = \"ABBCDAABBBBBBBBOR\"; //ABCDABOR\n        String a = \"GiiinnnniiiiiGinnnaPrrooottijayyyi\";//GiniGinaProtijayi\n        fix(a);\n    }// amin\n\n    private static void fix(String a) {\n        StringBuffer sbr = new StringBuffer();\n        for (int i = 0; i &lt; a.length(); i++) {\n            char ch = a.charAt(i);\n            if (sbr.length() == 0) {\n                sbr.append(ch);\n            }\n            if (ch == sbr.charAt(sbr.length() - 1)) {\n                i++;\n            } else {\n                sbr.append(ch);\n            }\n        }\n        System.out.println(sbr);\n    }// fiix\n}\n</code></pre>\n\n<p>If you don't want to use StringBuffer, then you can simply use an empty string.</p>\n\n<pre><code>public class Test6 {\npublic static void main(String[] args) {\n    String a = \"GiiinnnniiiiiGinnnaPrrooottijayyyi\";\n    fix(a);\n    }\n\nprivate static void fix(String a) {\n      String res = \"\";\n    int i = 0 ;\n     while(i &lt; a.length()) {\n         char ch = a.charAt(i);\n         if(res.length() == 0 ) {res += ch ;}\n         if(ch == res.charAt(res.length() -1)) {i++ ;}\n         if(ch != res.charAt(res.length() -1)) {res += ch ;}\n     }//while\n      System.out.println(res);\n}//fix\n\n}\n</code></pre>\n\n<p>The solution in Python:</p>\n\n<pre><code>a = \"GiniiiiGinaaaPrrrottiijayi\"\n\nreslist =[]\nfor ch in a:\n     if(len(reslist) == 0 or ch != reslist[-1]):reslist.append(ch)\n\nprint(reslist)\nprint(''.join(reslist))   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691892782,"creation_date":1691892782,"answer_id":76891701,"question_id":40917393,"body_markdown":"Here is a regex-based solution.  I can&#39;t promise it&#39;s O(n), since the Java regex implementation doesn&#39;t guarantee any particular time complexity.\r\n\r\n```lang-java\r\nstring.replaceAll(&quot;(.)\\\\1+&quot;, &quot;$1&quot;);\r\n```\r\n\r\nThis matches any character as a capturing group, followed by one or more occurrences of that capturing group (i.e. one ore more occurrences of that character).  It replaces that sequence of characters by the result of that capturing group (i.e. by just the single character).","title":"How to remove adjacent duplicates in a string in Java","body":"<p>Here is a regex-based solution.  I can't promise it's O(n), since the Java regex implementation doesn't guarantee any particular time complexity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>string.replaceAll(&quot;(.)\\\\1+&quot;, &quot;$1&quot;);\n</code></pre>\n<p>This matches any character as a capturing group, followed by one or more occurrences of that capturing group (i.e. one ore more occurrences of that character).  It replaces that sequence of characters by the result of that capturing group (i.e. by just the single character).</p>\n"}],"owner":{"account_id":5429813,"reputation":661,"user_id":4751420,"accept_rate":82,"display_name":"NotSure"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1608,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":40917459,"answer_count":5,"score":2,"last_activity_date":1691892870,"creation_date":1480615256,"question_id":40917393,"body_markdown":"I&#39;ve been looking for this answer for a while.\r\nI&#39;ve found numbers of solutions for removing duplicates using a HashSet or LinkedHashSet but they all remove all duplicates, I&#39;m looking for only the adjacent ones. &quot;\r\nSay a string is &quot;ABBCDAABBBBBBBBOR&quot; \r\nThe required result should be &quot;ABCDABOR&quot; and not &quot;ABCDOR&quot;.\r\nCould this be achived in O(n) ? Thanks.","title":"How to remove adjacent duplicates in a string in Java","body":"<p>I've been looking for this answer for a while.\nI've found numbers of solutions for removing duplicates using a HashSet or LinkedHashSet but they all remove all duplicates, I'm looking for only the adjacent ones. \"\nSay a string is \"ABBCDAABBBBBBBBOR\" \nThe required result should be \"ABCDABOR\" and not \"ABCDOR\".\nCould this be achived in O(n) ? Thanks.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":27249107,"reputation":11,"user_id":20773883,"display_name":"Shameer Riaz"},"score":1,"creation_date":1691865899,"post_id":76890547,"comment_id":135550281,"body_markdown":"I tried this too but still not working getting the Error.. \n\nPOST http://localhost:8081/api/v1/Logs/add\nHTTP/1.1 400 \nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nContent-Type: application/json\nTransfer-Encoding: chunked\nDate: Sat, 12 Aug 2023 18:38:29 GMT\nConnection: close\n{\n  &quot;status&quot;: 400,\n  &quot;error&quot;: &quot;Bad Request&quot;,\n  &quot;path&quot;: &quot;/api/v1/Logs/add&quot;\n}\nfor other like deleting adding costumer,rooms it is working\nDELETE http://localhost:8081/api/v1/kunde/20\nHTTP/1.1 200","body":"I tried this too but still not working getting the Error..   POST <a href=\"http://localhost:8081/api/v1/Logs/add\" rel=\"nofollow noreferrer\">localhost:8081/api/v1/Logs/add</a> HTTP/1.1 400  Vary: Origin Vary: Access-Control-Request-Method Vary: Access-Control-Request-Headers Content-Type: application/json Transfer-Encoding: chunked Date: Sat, 12 Aug 2023 18:38:29 GMT Connection: close {   &quot;status&quot;: 400,   &quot;error&quot;: &quot;Bad Request&quot;,   &quot;path&quot;: &quot;/api/v1/Logs/add&quot; } for other like deleting adding costumer,rooms it is working DELETE <a href=\"http://localhost:8081/api/v1/kunde/20\" rel=\"nofollow noreferrer\">localhost:8081/api/v1/kunde/20</a> HTTP/1.1 200"},{"owner":{"account_id":28506077,"reputation":78,"user_id":21816714,"display_name":"Mohammad Nayem"},"score":0,"creation_date":1691888758,"post_id":76890547,"comment_id":135551870,"body_markdown":"The HTTP 400 Bad Request error is a general indication that the server received a request it could not understand or process due to malformed syntax. I can be wrong but this error is not directly related to the logic and database configuration or entity relationships.\n@ShameerRiaz please follow below answer, as the answer is long and has code examples, I created another separate answer.\nAlso, if my answer helped, you can accept the answer as it may help me and others, seeking similar solutions.","body":"The HTTP 400 Bad Request error is a general indication that the server received a request it could not understand or process due to malformed syntax. I can be wrong but this error is not directly related to the logic and database configuration or entity relationships. @ShameerRiaz please follow below answer, as the answer is long and has code examples, I created another separate answer. Also, if my answer helped, you can accept the answer as it may help me and others, seeking similar solutions."}],"tags":[],"owner":{"account_id":28506077,"reputation":78,"user_id":21816714,"display_name":"Mohammad Nayem"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691863694,"creation_date":1691863694,"answer_id":76890547,"question_id":76890444,"body_markdown":"You should add `@JoinColumn` annotations to specify the foreign keys:\r\n```\r\n@Entity\r\n@Table\r\npublic class RoomLogs {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    int id;\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;kunde_id&quot;)\r\n    private Kunde kunde;\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;room_id&quot;)\r\n    private Room room;\r\n\r\n    //other methods\r\n}\r\n\r\n```\r\n\r\nAlso, your **Kunde** (Customer) entity has a collection of **RoomLogs** so you should set up a bidirectional relationship between **Kunde** and **RoomLogs**:\r\n```\r\n@Entity\r\n@Table\r\npublic class Kunde {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    int id;\r\n\r\n    // Other fields\r\n\r\n    @OneToMany(mappedBy = &quot;kunde&quot;)\r\n    private List&lt;RoomLogs&gt; roomLogs = new ArrayList&lt;&gt;();\r\n\r\n    // other methods including constructors, setters, getters\r\n}\r\n\r\n```\r\n\r\nyou have set up bidirectional relationship with **Room** entity as well so you also need to update **Room** entity similarly:\r\n```\r\n@Entity\r\n@Table\r\npublic class Room {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    int id;\r\n\r\n    // Other fields and annotations\r\n\r\n    @OneToMany(mappedBy = &quot;room&quot;)\r\n    private List&lt;RoomLogs&gt; roomLogs = new ArrayList&lt;&gt;();\r\n\r\n    // other methods including constructors, setters, getters\r\n}\r\n\r\n```\r\n\r\nAlso make sure that your database configuration is properly set up in your application (such as in application.properties or application.yml), including the JDBC URL, username, and password.","title":"spring boot adding data to DB for specific request not working","body":"<p>You should add <code>@JoinColumn</code> annotations to specify the foreign keys:</p>\n<pre><code>@Entity\n@Table\npublic class RoomLogs {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    int id;\n\n    @ManyToOne(cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;kunde_id&quot;)\n    private Kunde kunde;\n\n    @ManyToOne(cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;room_id&quot;)\n    private Room room;\n\n    //other methods\n}\n\n</code></pre>\n<p>Also, your <strong>Kunde</strong> (Customer) entity has a collection of <strong>RoomLogs</strong> so you should set up a bidirectional relationship between <strong>Kunde</strong> and <strong>RoomLogs</strong>:</p>\n<pre><code>@Entity\n@Table\npublic class Kunde {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    int id;\n\n    // Other fields\n\n    @OneToMany(mappedBy = &quot;kunde&quot;)\n    private List&lt;RoomLogs&gt; roomLogs = new ArrayList&lt;&gt;();\n\n    // other methods including constructors, setters, getters\n}\n\n</code></pre>\n<p>you have set up bidirectional relationship with <strong>Room</strong> entity as well so you also need to update <strong>Room</strong> entity similarly:</p>\n<pre><code>@Entity\n@Table\npublic class Room {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    int id;\n\n    // Other fields and annotations\n\n    @OneToMany(mappedBy = &quot;room&quot;)\n    private List&lt;RoomLogs&gt; roomLogs = new ArrayList&lt;&gt;();\n\n    // other methods including constructors, setters, getters\n}\n\n</code></pre>\n<p>Also make sure that your database configuration is properly set up in your application (such as in application.properties or application.yml), including the JDBC URL, username, and password.</p>\n"},{"comments":[{"owner":{"account_id":27249107,"reputation":11,"user_id":20773883,"display_name":"Shameer Riaz"},"score":0,"creation_date":1691922285,"post_id":76891619,"comment_id":135553940,"body_markdown":"Problem is solved my adding the @RequestParam(&quot;KundenID&quot;) \nand there were @Autowired Anotation missing in the RoomLogs Service for the RoomRespo. thanks for the Help.","body":"Problem is solved my adding the @RequestParam(&quot;KundenID&quot;)  and there were @Autowired Anotation missing in the RoomLogs Service for the RoomRespo. thanks for the Help."}],"tags":[],"owner":{"account_id":28506077,"reputation":78,"user_id":21816714,"display_name":"Mohammad Nayem"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691888586,"creation_date":1691888586,"answer_id":76891619,"question_id":76890444,"body_markdown":"You&#39;re sending the data in JSON format, but your **addLogs** method in the controller is using `@RequestParam` annotations. If you&#39;re sending JSON data, you should use the `@RequestBody` annotation:\r\n\r\n```\r\n@PostMapping(&quot;/add&quot;)\r\npublic ResponseEntity&lt;String&gt; addLogs(@RequestBody Map&lt;String, Integer&gt; requestData) {\r\n    int kundenID = requestData.get(&quot;KundenID&quot;);\r\n    int roomID = requestData.get(&quot;RoomID&quot;);\r\n\r\n    //print to see if you are gettng the JSON data correctly.\r\n    System.out.println(&quot;Received JSON data: &quot; + requestData);\r\n    System.out.println(&quot;Extracted kundenID: &quot; + kundenID);\r\n    System.out.println(&quot;Extracted roomID: &quot; + roomID);\r\n    \r\n    this.roomLogsService.addLogs(kundenID, roomID);\r\n    return ResponseEntity.ok(&quot;Added&quot;);\r\n}\r\n\r\n```\r\n\r\nOn the other hand, if you want to use @RequestParam in your controller method, you can update your controller method like below:\r\n\r\n```\r\n@PostMapping(&quot;/add&quot;)\r\npublic ResponseEntity&lt;String&gt; addLogs(\r\n        @RequestParam(&quot;KundenID&quot;) int kundenID,\r\n        @RequestParam(&quot;RoomID&quot;) int roomID) {\r\n    this.roomLogsService.addLogs(kundenID, roomID);\r\n    return ResponseEntity.ok(&quot;Added&quot;);\r\n}\r\n```\r\nfor testing in for example, Postman, make sure you&#39;re sending the data as form-data.  Follow these steps:\r\n\r\n 1. Choose the HTTP method as POST.\r\n 2. Enter the URL: http://localhost:8081/api/v1/Logs/add\r\n 3. In the &quot;Body&quot; tab, select &quot;form-data&quot;.\r\n 4. Add a key-value pair: **KundenID** as Key and desired customer ID(for example 20) as Value\r\n 5. Add another key-value pair: **RoomID** as Key and desired room ID(for example 1) as Value\r\n\r\nAfter following above steps, you can send the POST request with the form-data parameters. Ensure that the parameter names in postman (**KundenID** and **RoomID**) match exactly as defined in your controller method: `@RequestParam(&quot;KundenID&quot;) int kundenID, @RequestParam(&quot;RoomID&quot;) int roomID)`","title":"spring boot adding data to DB for specific request not working","body":"<p>You're sending the data in JSON format, but your <strong>addLogs</strong> method in the controller is using <code>@RequestParam</code> annotations. If you're sending JSON data, you should use the <code>@RequestBody</code> annotation:</p>\n<pre><code>@PostMapping(&quot;/add&quot;)\npublic ResponseEntity&lt;String&gt; addLogs(@RequestBody Map&lt;String, Integer&gt; requestData) {\n    int kundenID = requestData.get(&quot;KundenID&quot;);\n    int roomID = requestData.get(&quot;RoomID&quot;);\n\n    //print to see if you are gettng the JSON data correctly.\n    System.out.println(&quot;Received JSON data: &quot; + requestData);\n    System.out.println(&quot;Extracted kundenID: &quot; + kundenID);\n    System.out.println(&quot;Extracted roomID: &quot; + roomID);\n    \n    this.roomLogsService.addLogs(kundenID, roomID);\n    return ResponseEntity.ok(&quot;Added&quot;);\n}\n\n</code></pre>\n<p>On the other hand, if you want to use @RequestParam in your controller method, you can update your controller method like below:</p>\n<pre><code>@PostMapping(&quot;/add&quot;)\npublic ResponseEntity&lt;String&gt; addLogs(\n        @RequestParam(&quot;KundenID&quot;) int kundenID,\n        @RequestParam(&quot;RoomID&quot;) int roomID) {\n    this.roomLogsService.addLogs(kundenID, roomID);\n    return ResponseEntity.ok(&quot;Added&quot;);\n}\n</code></pre>\n<p>for testing in for example, Postman, make sure you're sending the data as form-data.  Follow these steps:</p>\n<ol>\n<li>Choose the HTTP method as POST.</li>\n<li>Enter the URL: http://localhost:8081/api/v1/Logs/add</li>\n<li>In the &quot;Body&quot; tab, select &quot;form-data&quot;.</li>\n<li>Add a key-value pair: <strong>KundenID</strong> as Key and desired customer ID(for example 20) as Value</li>\n<li>Add another key-value pair: <strong>RoomID</strong> as Key and desired room ID(for example 1) as Value</li>\n</ol>\n<p>After following above steps, you can send the POST request with the form-data parameters. Ensure that the parameter names in postman (<strong>KundenID</strong> and <strong>RoomID</strong>) match exactly as defined in your controller method: <code>@RequestParam(&quot;KundenID&quot;) int kundenID, @RequestParam(&quot;RoomID&quot;) int roomID)</code></p>\n"}],"owner":{"account_id":27249107,"reputation":11,"user_id":20773883,"display_name":"Shameer Riaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691888586,"creation_date":1691862053,"question_id":76890444,"body_markdown":"\\`i have Class Customer and Rooms and it is working fine with adding deleting etc. but now i want that a person can add a Room under Customer name for and this will have a table in DB so i can show the table in Interface..\r\n\r\n**This is my RoomLogs Class**\r\n\r\n```\r\npackage com.example.Market;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table\r\npublic class RoomLogs {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;RoomLogs&quot;,\r\n            sequenceName = &quot;RoomLogs&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;RoomLogs&quot;)\r\n    int id;\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    private Kunde kunde;\r\n\r\n    @ManyToOne(cascade = CascadeType.PERSIST)\r\n    private Room room;\r\n\r\n    public RoomLogs(Kunde kunde, Room room) {\r\n        this.kunde = kunde;\r\n        this.room = room;\r\n    }\r\n\r\n    public RoomLogs() {\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@PostMapping(&quot;/add&quot;)\r\npublic ResponseEntity&lt;String&gt; addLogs(@RequestParam int KundenID, @RequestParam int RoomId) {\r\n    this.roomLogsService.addLogs(KundenID, RoomId);\r\n    return ResponseEntity.ok(&quot;Added&quot;);\r\n}\r\n```\r\n\r\nthis is the BL\r\n\r\n```\r\npublic void addLogs(int kundenId, int RoomId) {\r\n    Optional&lt;Kunde&gt; k = this.kundeRespo.findById(kundenId);\r\n    Optional&lt;Room&gt; r = this.roomRespo.findById(RoomId);\r\n    \r\n    if (k.isPresent() &amp;&amp; r.isPresent()) {\r\n        Kunde kunde = k.get();\r\n        Room room = r.get();\r\n        RoomLogs roomL = new RoomLogs(kunde, room);\r\n        room.setFree(true);\r\n        this.roomLogsRespo.save(roomL);\r\n    }\r\n}\r\n```\r\n\r\nthis is the HTTP Req i am sending\r\nPOST &lt;http://localhost:8081/api/v1/Logs/add&gt;\r\nContent-Type: application/json\r\n\r\n`{   &quot;KundenID&quot;: 20,  `\r\n\r\n` &quot;RoomID&quot;: 1 }`\r\n\r\ni tried my best to solve this problem but no luck..\r\nif anyone know where i am wrong it will be helpfull..\r\n\r\nAdd the Data in the Database.\r\n\r\nto add data in the table\r\n\r\nadd the data in DB with Add request","title":"spring boot adding data to DB for specific request not working","body":"<p>`i have Class Customer and Rooms and it is working fine with adding deleting etc. but now i want that a person can add a Room under Customer name for and this will have a table in DB so i can show the table in Interface..</p>\n<p><strong>This is my RoomLogs Class</strong></p>\n<pre><code>package com.example.Market;\n\nimport javax.persistence.*;\n\n@Entity\n@Table\npublic class RoomLogs {\n    @Id\n    @SequenceGenerator(\n            name = &quot;RoomLogs&quot;,\n            sequenceName = &quot;RoomLogs&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;RoomLogs&quot;)\n    int id;\n\n    @ManyToOne(cascade = CascadeType.PERSIST)\n    private Kunde kunde;\n\n    @ManyToOne(cascade = CascadeType.PERSIST)\n    private Room room;\n\n    public RoomLogs(Kunde kunde, Room room) {\n        this.kunde = kunde;\n        this.room = room;\n    }\n\n    public RoomLogs() {\n\n    }\n}\n</code></pre>\n<pre><code>@PostMapping(&quot;/add&quot;)\npublic ResponseEntity&lt;String&gt; addLogs(@RequestParam int KundenID, @RequestParam int RoomId) {\n    this.roomLogsService.addLogs(KundenID, RoomId);\n    return ResponseEntity.ok(&quot;Added&quot;);\n}\n</code></pre>\n<p>this is the BL</p>\n<pre><code>public void addLogs(int kundenId, int RoomId) {\n    Optional&lt;Kunde&gt; k = this.kundeRespo.findById(kundenId);\n    Optional&lt;Room&gt; r = this.roomRespo.findById(RoomId);\n    \n    if (k.isPresent() &amp;&amp; r.isPresent()) {\n        Kunde kunde = k.get();\n        Room room = r.get();\n        RoomLogs roomL = new RoomLogs(kunde, room);\n        room.setFree(true);\n        this.roomLogsRespo.save(roomL);\n    }\n}\n</code></pre>\n<p>this is the HTTP Req i am sending\nPOST <a href=\"http://localhost:8081/api/v1/Logs/add\" rel=\"nofollow noreferrer\">http://localhost:8081/api/v1/Logs/add</a>\nContent-Type: application/json</p>\n<p><code>{   &quot;KundenID&quot;: 20,  </code></p>\n<p><code> &quot;RoomID&quot;: 1 }</code></p>\n<p>i tried my best to solve this problem but no luck..\nif anyone know where i am wrong it will be helpfull..</p>\n<p>Add the Data in the Database.</p>\n<p>to add data in the table</p>\n<p>add the data in DB with Add request</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2119809,"reputation":50969,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1691886931,"post_id":76891581,"comment_id":135551778,"body_markdown":"Java modules have a namespace structure, kind of the reverse of web domain names, going from generic to specific.  The module you need is `com.alee.laf.WebLookAndFeel`.  I don&#39;t know where `com.weblookandfeel` came from.","body":"Java modules have a namespace structure, kind of the reverse of web domain names, going from generic to specific.  The module you need is <code>com.alee.laf.WebLookAndFeel</code>.  I don&#39;t know where <code>com.weblookandfeel</code> came from."},{"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"score":0,"creation_date":1691887481,"post_id":76891581,"comment_id":135551806,"body_markdown":"@TimRoberts That makes sense I am not sure why I did not get any errors while compiling but that worked but I know get a new error that has to do with same sort of dependency","body":"@TimRoberts That makes sense I am not sure why I did not get any errors while compiling but that worked but I know get a new error that has to do with same sort of dependency"},{"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"score":0,"creation_date":1691889640,"post_id":76891581,"comment_id":135551904,"body_markdown":"Did you get this resolved?","body":"Did you get this resolved?"},{"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"score":0,"creation_date":1691890442,"post_id":76891581,"comment_id":135551930,"body_markdown":"@Dale Nope check the edit","body":"@Dale Nope check the edit"}],"owner":{"account_id":20092701,"reputation":77,"user_id":21748514,"display_name":"UnSure"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691887414,"creation_date":1691886563,"question_id":76891581,"body_markdown":"I am trying to use [JByteMod](https://github.com/GraxCode/JByteMod-Beta) and I tried using the most up to date release version but when I run it, I get an error saying \r\n```\r\n[AWT-EventQueue-0] ERROR com.alee.utils.ProprietaryUtils - java.lang.NoSuchFieldException: AA_TEXT_PROPERTY_KEY\r\njava.lang.NoSuchFieldException: AA_TEXT_PROPERTY_KEY\r\n        at java.base/java.lang.Class.getField(Class.java:2149)\r\n        at com.alee.utils.ReflectUtils.getStaticFieldValue(ReflectUtils.java:440)\r\n        at com.alee.utils.ProprietaryUtils.setupUIDefaults(ProprietaryUtils.java:103)\r\n        at com.alee.laf.WebLookAndFeel.initComponentDefaults(WebLookAndFeel.java:537)\r\n        at java.desktop/javax.swing.plaf.basic.BasicLookAndFeel.getDefaults(BasicLookAndFeel.java:153)\r\n        at java.desktop/javax.swing.UIManager.setLookAndFeel(UIManager.java:593)\r\n        at java.desktop/javax.swing.UIManager.setLookAndFeel(UIManager.java:639)\r\n        at com.alee.utils.LafUtils.setupLookAndFeelSafely(LafUtils.java:1557)\r\n        at com.alee.utils.LafUtils.setupLookAndFeelSafely(LafUtils.java:1544)\r\n        at com.alee.laf.WebLookAndFeel.install(WebLookAndFeel.java:939)\r\n        at com.alee.laf.WebLookAndFeel.install(WebLookAndFeel.java:927)\r\n        at me.grax.jbytemod.utils.gui.LookUtils.setLAF(LookUtils.java:15)\r\n        at me.grax.jbytemod.JByteMod$1.run(JByteMod.java:166)\r\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n[AWT-EventQueue-0] ERROR com.alee.utils.XmlUtils - java.lang.ExceptionInInitializerError\r\njava.lang.ExceptionInInitializerError\r\n        at com.thoughtworks.xstream.XStream.setupConverters(XStream.java:807)\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:496)\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:465)\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:411)\r\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:378)\r\n        at com.alee.utils.XmlUtils.initializeXStream(XmlUtils.java:94)\r\n        at com.alee.utils.XmlUtils.getXStream(XmlUtils.java:81)\r\n        at com.alee.utils.XmlUtils.processAnnotations(XmlUtils.java:148)\r\n        at com.alee.laf.WebLookAndFeel$2.propertyChange(WebLookAndFeel.java:856)\r\n        at java.desktop/java.beans.PropertyChangeSupport.fire(PropertyChangeSupport.java:343)\r\n        at java.desktop/java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:335)\r\n        at java.desktop/javax.swing.event.SwingPropertyChangeSupport.firePropertyChange(SwingPropertyChangeSupport.java:93)\r\n        at java.desktop/java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:268)\r\n        at java.desktop/javax.swing.UIManager.setLookAndFeel(UIManager.java:602)\r\n        at java.desktop/javax.swing.UIManager.setLookAndFeel(UIManager.java:639)\r\n        at com.alee.utils.LafUtils.setupLookAndFeelSafely(LafUtils.java:1557)\r\n        at com.alee.utils.LafUtils.setupLookAndFeelSafely(LafUtils.java:1544)\r\n        at com.alee.laf.WebLookAndFeel.install(WebLookAndFeel.java:939)\r\n        at com.alee.laf.WebLookAndFeel.install(WebLookAndFeel.java:927)\r\n        at me.grax.jbytemod.utils.gui.LookUtils.setLAF(LookUtils.java:15)\r\n        at me.grax.jbytemod.JByteMod$1.run(JByteMod.java:166)\r\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5a61f5df\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\r\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\r\n        at com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:39)\r\n        at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\r\n        ... 35 more\r\n```\r\nI tried 3 other forks and I always receive a smiliar error. I asked others and they said it works fine for them. I then decided to clone the repo and try to manually compile it but I cant seem to find this dependency.\r\n```\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;com.weblaf&lt;/groupId&gt;\r\n         &lt;artifactId&gt;weblaf&lt;/artifactId&gt;\r\n         &lt;version&gt;1.2.9&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n```\r\nI tried these which seemed close and did not cause errors in maven but I would still get errors inside of inteillJ such as with this line ``WebButton.createIconWebButton(i, StyleConstants.smallRound, true);``\r\n```\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;com.weblookandfeel&lt;/groupId&gt;\r\n         &lt;artifactId&gt;weblaf-core&lt;/artifactId&gt;\r\n         &lt;version&gt;1.2.9&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;com.weblookandfeel&lt;/groupId&gt;\r\n         &lt;artifactId&gt;weblaf-ui&lt;/artifactId&gt;\r\n         &lt;version&gt;1.2.9&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;com.weblookandfeel&lt;/groupId&gt;\r\n         &lt;artifactId&gt;weblaf-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;1.2.9&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n```\r\n Even with the other forks when I cloned them and who compile correctly (so all dependencies worked from the start) I would still get an error coming from the same thing when I attempt to run it.\r\n```\r\nC:\\Users\\yozma\\Desktop\\JByte&gt;java -jar JByteMod-Remastered-2.1.4.jar\r\n[17:19:10] [INFO] Reading Language XML..\r\n[17:19:10] [INFO] Successfully loaded 215 local resources and 215 default resources\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/alee/laf/WebLookAndFeel\r\n        at me.grax.jbytemod.res.LanguageRes.fixUnicodeSupport(LanguageRes.java:33)\r\n        at me.grax.jbytemod.res.LanguageRes.&lt;init&gt;(LanguageRes.java:27)\r\n        at me.grax.jbytemod.JByteMod.initialize(JByteMod.java:173)\r\n        at me.grax.jbytemod.JByteMod.main(JByteMod.java:222)\r\nCaused by: java.lang.ClassNotFoundException: com.alee.laf.WebLookAndFeel\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n```\r\nReally, I am not too sure what this alee.laf thing is but it appears to be used in making the ui but I have no idea why its causing an error in every attempt.\r\n\r\nEdit: After adding this dependency \r\n```\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.mathiasritter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;weblaf-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.10&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n``` \r\nI now get a new error.\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: com/alee/extended/breadcrumb/WebBreadcrumbToggleButton\r\n        at me.grax.jbytemod.ui.MyTabbedPane.&lt;init&gt;(MyTabbedPane.java:21)\r\n        at me.grax.jbytemod.ui.MySplitPane.&lt;init&gt;(MySplitPane.java:13)\r\n        at me.grax.jbytemod.JByteMod.&lt;init&gt;(JByteMod.java:138)\r\n        at me.grax.jbytemod.JByteMod$2.run(JByteMod.java:231)\r\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: java.lang.ClassNotFoundException: com.alee.extended.breadcrumb.WebBreadcrumbToggleButton\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        ... 17 more\r\n```","title":"Dependency not found after compiling","body":"<p>I am trying to use <a href=\"https://github.com/GraxCode/JByteMod-Beta\" rel=\"nofollow noreferrer\">JByteMod</a> and I tried using the most up to date release version but when I run it, I get an error saying</p>\n<pre><code>[AWT-EventQueue-0] ERROR com.alee.utils.ProprietaryUtils - java.lang.NoSuchFieldException: AA_TEXT_PROPERTY_KEY\njava.lang.NoSuchFieldException: AA_TEXT_PROPERTY_KEY\n        at java.base/java.lang.Class.getField(Class.java:2149)\n        at com.alee.utils.ReflectUtils.getStaticFieldValue(ReflectUtils.java:440)\n        at com.alee.utils.ProprietaryUtils.setupUIDefaults(ProprietaryUtils.java:103)\n        at com.alee.laf.WebLookAndFeel.initComponentDefaults(WebLookAndFeel.java:537)\n        at java.desktop/javax.swing.plaf.basic.BasicLookAndFeel.getDefaults(BasicLookAndFeel.java:153)\n        at java.desktop/javax.swing.UIManager.setLookAndFeel(UIManager.java:593)\n        at java.desktop/javax.swing.UIManager.setLookAndFeel(UIManager.java:639)\n        at com.alee.utils.LafUtils.setupLookAndFeelSafely(LafUtils.java:1557)\n        at com.alee.utils.LafUtils.setupLookAndFeelSafely(LafUtils.java:1544)\n        at com.alee.laf.WebLookAndFeel.install(WebLookAndFeel.java:939)\n        at com.alee.laf.WebLookAndFeel.install(WebLookAndFeel.java:927)\n        at me.grax.jbytemod.utils.gui.LookUtils.setLAF(LookUtils.java:15)\n        at me.grax.jbytemod.JByteMod$1.run(JByteMod.java:166)\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n[AWT-EventQueue-0] ERROR com.alee.utils.XmlUtils - java.lang.ExceptionInInitializerError\njava.lang.ExceptionInInitializerError\n        at com.thoughtworks.xstream.XStream.setupConverters(XStream.java:807)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:574)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:496)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:465)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:411)\n        at com.thoughtworks.xstream.XStream.&lt;init&gt;(XStream.java:378)\n        at com.alee.utils.XmlUtils.initializeXStream(XmlUtils.java:94)\n        at com.alee.utils.XmlUtils.getXStream(XmlUtils.java:81)\n        at com.alee.utils.XmlUtils.processAnnotations(XmlUtils.java:148)\n        at com.alee.laf.WebLookAndFeel$2.propertyChange(WebLookAndFeel.java:856)\n        at java.desktop/java.beans.PropertyChangeSupport.fire(PropertyChangeSupport.java:343)\n        at java.desktop/java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:335)\n        at java.desktop/javax.swing.event.SwingPropertyChangeSupport.firePropertyChange(SwingPropertyChangeSupport.java:93)\n        at java.desktop/java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:268)\n        at java.desktop/javax.swing.UIManager.setLookAndFeel(UIManager.java:602)\n        at java.desktop/javax.swing.UIManager.setLookAndFeel(UIManager.java:639)\n        at com.alee.utils.LafUtils.setupLookAndFeelSafely(LafUtils.java:1557)\n        at com.alee.utils.LafUtils.setupLookAndFeelSafely(LafUtils.java:1544)\n        at com.alee.laf.WebLookAndFeel.install(WebLookAndFeel.java:939)\n        at com.alee.laf.WebLookAndFeel.install(WebLookAndFeel.java:927)\n        at me.grax.jbytemod.utils.gui.LookUtils.setLAF(LookUtils.java:15)\n        at me.grax.jbytemod.JByteMod$1.run(JByteMod.java:166)\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @5a61f5df\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\n        at com.thoughtworks.xstream.core.util.Fields.locate(Fields.java:39)\n        at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt;(TreeMapConverter.java:50)\n        ... 35 more\n</code></pre>\n<p>I tried 3 other forks and I always receive a smiliar error. I asked others and they said it works fine for them. I then decided to clone the repo and try to manually compile it but I cant seem to find this dependency.</p>\n<pre><code>      &lt;dependency&gt;\n         &lt;groupId&gt;com.weblaf&lt;/groupId&gt;\n         &lt;artifactId&gt;weblaf&lt;/artifactId&gt;\n         &lt;version&gt;1.2.9&lt;/version&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>I tried these which seemed close and did not cause errors in maven but I would still get errors inside of inteillJ such as with this line <code>WebButton.createIconWebButton(i, StyleConstants.smallRound, true);</code></p>\n<pre><code>      &lt;dependency&gt;\n         &lt;groupId&gt;com.weblookandfeel&lt;/groupId&gt;\n         &lt;artifactId&gt;weblaf-core&lt;/artifactId&gt;\n         &lt;version&gt;1.2.9&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;com.weblookandfeel&lt;/groupId&gt;\n         &lt;artifactId&gt;weblaf-ui&lt;/artifactId&gt;\n         &lt;version&gt;1.2.9&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;com.weblookandfeel&lt;/groupId&gt;\n         &lt;artifactId&gt;weblaf-plugin&lt;/artifactId&gt;\n         &lt;version&gt;1.2.9&lt;/version&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>Even with the other forks when I cloned them and who compile correctly (so all dependencies worked from the start) I would still get an error coming from the same thing when I attempt to run it.</p>\n<pre><code>C:\\Users\\yozma\\Desktop\\JByte&gt;java -jar JByteMod-Remastered-2.1.4.jar\n[17:19:10] [INFO] Reading Language XML..\n[17:19:10] [INFO] Successfully loaded 215 local resources and 215 default resources\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/alee/laf/WebLookAndFeel\n        at me.grax.jbytemod.res.LanguageRes.fixUnicodeSupport(LanguageRes.java:33)\n        at me.grax.jbytemod.res.LanguageRes.&lt;init&gt;(LanguageRes.java:27)\n        at me.grax.jbytemod.JByteMod.initialize(JByteMod.java:173)\n        at me.grax.jbytemod.JByteMod.main(JByteMod.java:222)\nCaused by: java.lang.ClassNotFoundException: com.alee.laf.WebLookAndFeel\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n</code></pre>\n<p>Really, I am not too sure what this alee.laf thing is but it appears to be used in making the ui but I have no idea why its causing an error in every attempt.</p>\n<p>Edit: After adding this dependency</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.mathiasritter&lt;/groupId&gt;\n            &lt;artifactId&gt;weblaf-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.2.10&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I now get a new error.</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: com/alee/extended/breadcrumb/WebBreadcrumbToggleButton\n        at me.grax.jbytemod.ui.MyTabbedPane.&lt;init&gt;(MyTabbedPane.java:21)\n        at me.grax.jbytemod.ui.MySplitPane.&lt;init&gt;(MySplitPane.java:13)\n        at me.grax.jbytemod.JByteMod.&lt;init&gt;(JByteMod.java:138)\n        at me.grax.jbytemod.JByteMod$2.run(JByteMod.java:231)\n        at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.ClassNotFoundException: com.alee.extended.breadcrumb.WebBreadcrumbToggleButton\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        ... 17 more\n</code></pre>\n"},{"tags":["java","neovim","eclipse-jdt","language-server-protocol"],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692091247,"post_id":76891586,"comment_id":135574595,"body_markdown":"Are you certain that your answer is detailed enough for other people, who are having a similar problem to yours, to use it to resolve their problem?","body":"Are you certain that your answer is detailed enough for other people, who are having a similar problem to yours, to use it to resolve their problem?"}],"tags":[],"owner":{"account_id":29191918,"reputation":1,"user_id":22363880,"display_name":"Leonidas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691886819,"creation_date":1691886819,"answer_id":76891586,"question_id":76891548,"body_markdown":"Found the solution, just move the config part to ~/.config/nvim/ftplugin/java.lua. However still show no filetype and autostart: false","title":"Neovim jdtls config can&#39;t persist","body":"<p>Found the solution, just move the config part to ~/.config/nvim/ftplugin/java.lua. However still show no filetype and autostart: false</p>\n"}],"owner":{"account_id":29191918,"reputation":1,"user_id":22363880,"display_name":"Leonidas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691886819,"creation_date":1691885436,"question_id":76891548,"body_markdown":"I&#39;m setting up my Neovim with lua and using lazy nvim as my plugin manager. I setup lsp with tsp-zero and try to setup nvim-jdtls, however it only works for the first buffer that I open.\r\nHere is the config:\r\n```\r\nreturn {\r\n    &#39;mfussenegger/nvim-jdtls&#39;,\r\n    ft = &#39;java&#39;,\r\n    config = function ()\r\n        local config = {\r\n            cmd = { vim.fn.stdpath(&#39;data&#39;) .. &#39;/mason/bin/jdtls&#39; },\r\n            root_dir = vim.fs.dirname(vim.fs.find({&#39;gradlew&#39;, &#39;.git&#39;, &#39;mvnw&#39;}, { upward = true })[1]),\r\n        }\r\n        require(&#39;jdtls&#39;).start_or_attach(config)\r\n    end\r\n}\r\n```\r\nand here is the LspInfo:\r\n[![LspInfo jdtls status](https://i.stack.imgur.com/7bPy0.png)](https://i.stack.imgur.com/7bPy0.png)","title":"Neovim jdtls config can&#39;t persist","body":"<p>I'm setting up my Neovim with lua and using lazy nvim as my plugin manager. I setup lsp with tsp-zero and try to setup nvim-jdtls, however it only works for the first buffer that I open.\nHere is the config:</p>\n<pre><code>return {\n    'mfussenegger/nvim-jdtls',\n    ft = 'java',\n    config = function ()\n        local config = {\n            cmd = { vim.fn.stdpath('data') .. '/mason/bin/jdtls' },\n            root_dir = vim.fs.dirname(vim.fs.find({'gradlew', '.git', 'mvnw'}, { upward = true })[1]),\n        }\n        require('jdtls').start_or_attach(config)\n    end\n}\n</code></pre>\n<p>and here is the LspInfo:\n<a href=\"https://i.stack.imgur.com/7bPy0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7bPy0.png\" alt=\"LspInfo jdtls status\" /></a></p>\n"},{"tags":["java","android","j2v8"],"owner":{"account_id":29214228,"reputation":1,"user_id":22381459,"display_name":"Jackor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691885967,"creation_date":1691885967,"question_id":76891566,"body_markdown":"I try to use optype.js in android, there is a function like this:\r\n```\r\nopentype.Font.prototype.stringToGlyphIndexes = function (s, options) {\r\n    ....\r\n    return bidi.getTextGlyphs(s);\r\n};\r\n```\r\ni don&#39;t know how to call it in Java.\r\n\r\n\r\nI try to call it using executeJSFunction function like this:\r\n```\r\n v8.executeJSFunction(&quot;stringToGlyphIndexes&quot;, &quot;test&quot;);\r\n```\r\nbut Logcat gives an error message of TypeError: undefined is not a function.\r\nHow should I call this JS function？","title":"Using J2V8 on Android, how should I get the function handle of JS","body":"<p>I try to use optype.js in android, there is a function like this:</p>\n<pre><code>opentype.Font.prototype.stringToGlyphIndexes = function (s, options) {\n    ....\n    return bidi.getTextGlyphs(s);\n};\n</code></pre>\n<p>i don't know how to call it in Java.</p>\n<p>I try to call it using executeJSFunction function like this:</p>\n<pre><code> v8.executeJSFunction(&quot;stringToGlyphIndexes&quot;, &quot;test&quot;);\n</code></pre>\n<p>but Logcat gives an error message of TypeError: undefined is not a function.\nHow should I call this JS function？</p>\n"},{"tags":["java","spring-boot","solr"],"comments":[{"owner":{"account_id":8505101,"reputation":4502,"user_id":6376955,"display_name":"Zeromus"},"score":0,"creation_date":1488539077,"post_id":42576199,"comment_id":72287142,"body_markdown":"where and when are you getting that exception?","body":"where and when are you getting that exception?"},{"owner":{"account_id":8998349,"reputation":398,"user_id":6707816,"accept_rate":29,"display_name":"Ravi Teja"},"score":0,"creation_date":1488539443,"post_id":42576199,"comment_id":72287333,"body_markdown":"when i am saving my publisher please see my run()","body":"when i am saving my publisher please see my run()"}],"answers":[{"tags":[],"owner":{"account_id":1799099,"reputation":97,"user_id":1637823,"display_name":"FOD"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1489817046,"creation_date":1489817046,"answer_id":42871103,"question_id":42576199,"body_markdown":"check you URL is up and correct. ","title":"solr exception Expected mime type application/octet-stream but got text/html","body":"<p>check you URL is up and correct. </p>\n"},{"tags":[],"owner":{"account_id":12711100,"reputation":3,"user_id":9234714,"display_name":"DrJunior"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556272936,"creation_date":1556272936,"answer_id":55865233,"question_id":42576199,"body_markdown":"You should annotate your solr document as @SolrDocument(solrCoreName=&quot;YOU_CORE_NAME&quot;)","title":"solr exception Expected mime type application/octet-stream but got text/html","body":"<p>You should annotate your solr document as @SolrDocument(solrCoreName=\"YOU_CORE_NAME\")</p>\n"}],"owner":{"account_id":8998349,"reputation":398,"user_id":6707816,"accept_rate":29,"display_name":"Ravi Teja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9616,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1691881375,"creation_date":1488536294,"question_id":42576199,"body_markdown":"Hi I am trying to index an entity in solr using spring boot data solr. But i am getting exception \r\n\r\n        Caused by: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http://localhost:8983/solr/portal: Expected mime type application/octet-stream but got text/html. &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt;\r\n    &lt;title&gt;Error 404 Not Found&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;&lt;h2&gt;HTTP ERROR 404&lt;/h2&gt;\r\n    &lt;p&gt;Problem accessing /solr/portal/publishers/update. Reason:\r\n    &lt;pre&gt;    Not Found&lt;/pre&gt;&lt;/p&gt;&lt;hr&gt;&lt;i&gt;&lt;small&gt;Powered by Jetty://&lt;/small&gt;&lt;/i&gt;&lt;hr/&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nThis is my publisher class\r\n\r\n        @SolrDocument\r\n    public class Publishers {\r\n    \r\n        @Id\r\n        @Field\r\n        private String advID;\r\n        @Field\r\n        private String name;\r\n        @Field\r\n        private String domain;\r\n        @Field(&quot;cat&quot;)\r\n        private String categories;\r\n\r\n         //getters and setters\r\n    }\r\n\r\nMy repository interface\r\n\r\n        public interface BookRepository extends SolrCrudRepository&lt;Publishers, String&gt; {\r\n    \r\n        List&lt;Publishers&gt; findByName(String name);\r\n    }\r\n\r\nand my base URL is `&quot;http://localhost:8983/solr/portal&quot;`. In my main class code is like below \r\n\r\n        @Resource\r\n        BookRepository repository;\r\n     @Override\r\n        public void run(String... strings) throws Exception {\r\n    this.repository.save(new Publishers(&quot;4&quot;, &quot;Sony Playstation&quot;,&quot;none&quot;, null));\r\n    }\r\n**UPDATED**\r\nI have observed that the entity class i.e `Publishers` name is automatically appending to the URL. I don&#39;t know how to tell application not to append the name in solr URL while sending a call to solr.\r\ncan anyone help me. Thanks in advance","title":"solr exception Expected mime type application/octet-stream but got text/html","body":"<p>Hi I am trying to index an entity in solr using spring boot data solr. But i am getting exception </p>\n\n<pre><code>    Caused by: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http://localhost:8983/solr/portal: Expected mime type application/octet-stream but got text/html. &lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/&gt;\n&lt;title&gt;Error 404 Not Found&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;&lt;h2&gt;HTTP ERROR 404&lt;/h2&gt;\n&lt;p&gt;Problem accessing /solr/portal/publishers/update. Reason:\n&lt;pre&gt;    Not Found&lt;/pre&gt;&lt;/p&gt;&lt;hr&gt;&lt;i&gt;&lt;small&gt;Powered by Jetty://&lt;/small&gt;&lt;/i&gt;&lt;hr/&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This is my publisher class</p>\n\n<pre><code>    @SolrDocument\npublic class Publishers {\n\n    @Id\n    @Field\n    private String advID;\n    @Field\n    private String name;\n    @Field\n    private String domain;\n    @Field(\"cat\")\n    private String categories;\n\n     //getters and setters\n}\n</code></pre>\n\n<p>My repository interface</p>\n\n<pre><code>    public interface BookRepository extends SolrCrudRepository&lt;Publishers, String&gt; {\n\n    List&lt;Publishers&gt; findByName(String name);\n}\n</code></pre>\n\n<p>and my base URL is <code>\"http://localhost:8983/solr/portal\"</code>. In my main class code is like below </p>\n\n<pre><code>    @Resource\n    BookRepository repository;\n @Override\n    public void run(String... strings) throws Exception {\nthis.repository.save(new Publishers(\"4\", \"Sony Playstation\",\"none\", null));\n}\n</code></pre>\n\n<p><strong>UPDATED</strong>\nI have observed that the entity class i.e <code>Publishers</code> name is automatically appending to the URL. I don't know how to tell application not to append the name in solr URL while sending a call to solr.\ncan anyone help me. Thanks in advance</p>\n"},{"tags":["java","jquery","ajax","json","jsp"],"comments":[{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1378793281,"post_id":18711744,"comment_id":27570589,"body_markdown":"What is the error message ?","body":"What is the error message ?"},{"owner":{"account_id":3220468,"reputation":351,"user_id":2718054,"accept_rate":19,"display_name":"Nick"},"score":0,"creation_date":1378793339,"post_id":18711744,"comment_id":27570600,"body_markdown":"I got &quot;error&quot; dialog box. and in my servlet I only write above code nothing much. please help","body":"I got &quot;error&quot; dialog box. and in my servlet I only write above code nothing much. please help"},{"owner":{"account_id":990928,"reputation":15154,"user_id":1008278,"accept_rate":67,"display_name":"VenomVendor"},"score":0,"creation_date":1378793406,"post_id":18711744,"comment_id":27570623,"body_markdown":"How are you passing back the result??\ncan you add your JSP code...","body":"How are you passing back the result?? can you add your JSP code..."},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1378793418,"post_id":18711744,"comment_id":27570628,"body_markdown":"What is your browser  console saying ??","body":"What is your browser  console saying ??"},{"owner":{"account_id":3091672,"reputation":1938,"user_id":2617644,"display_name":"Daniele"},"score":1,"creation_date":1378793452,"post_id":18711744,"comment_id":27570643,"body_markdown":"The url don&#39;t seem right, you see anything on firebug or any console?","body":"The url don&#39;t seem right, you see anything on firebug or any console?"},{"owner":{"account_id":990928,"reputation":15154,"user_id":1008278,"accept_rate":67,"display_name":"VenomVendor"},"score":0,"creation_date":1378793468,"post_id":18711744,"comment_id":27570651,"body_markdown":"@gjman2 he is not getting the result, that is for parsing the result.","body":"@gjman2 he is not getting the result, that is for parsing the result."},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1378793518,"post_id":18711744,"comment_id":27570659,"body_markdown":"Try with `url : &quot;/SerlvetToJsp&quot;`","body":"Try with <code>url : &quot;&#47;SerlvetToJsp&quot;</code>"},{"owner":{"account_id":3220468,"reputation":351,"user_id":2718054,"accept_rate":19,"display_name":"Nick"},"score":0,"creation_date":1378793532,"post_id":18711744,"comment_id":27570666,"body_markdown":"But how to get Json array I wrote only code which I write in code\\","body":"But how to get Json array I wrote only code which I write in code\\"},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1378793656,"post_id":18711744,"comment_id":27570711,"body_markdown":"@Nick Are you asking how send result(that json array) to ajax from servlet","body":"@Nick Are you asking how send result(that json array) to ajax from servlet"},{"owner":{"account_id":3220468,"reputation":351,"user_id":2718054,"accept_rate":19,"display_name":"Nick"},"score":0,"creation_date":1378794105,"post_id":18711744,"comment_id":27570888,"body_markdown":"@sᴜʀᴇsʜᴀᴛᴛᴀ: Like that. But want to fetch from servlet and display in jsp page","body":"@sᴜʀᴇsʜᴀᴛᴛᴀ: Like that. But want to fetch from servlet and display in jsp page"},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1378794273,"post_id":18711744,"comment_id":27570965,"body_markdown":"You are confused I guess,wrote the answer .&quot;)","body":"You are confused I guess,wrote the answer .&quot;)"}],"answers":[{"comments":[{"owner":{"account_id":3220468,"reputation":351,"user_id":2718054,"accept_rate":19,"display_name":"Nick"},"score":0,"creation_date":1378794319,"post_id":18711991,"comment_id":27570988,"body_markdown":"I as per requirement have to used ajax. can u explain how to do that ?","body":"I as per requirement have to used ajax. can u explain how to do that ?"}],"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378794562,"creation_date":1378794253,"answer_id":18711991,"question_id":18711744,"body_markdown":"See, if you want to pass that from servlet to jsp you need not to make a `request` (ajax), since servlet and `jsp` both exists at server side.You just set that json array  as a request attribute or session attribute and get it in jsp and display(with loop).**NO** need of ajax there.\r\n\r\n\r\nIf You need to fetch the data with synchronous call:\r\n\r\nIn servlet \r\n\r\n\r\n   \r\n\r\n       PrintWriter out = response.getWriter();\r\n       out.println(htags);\r\n\r\n\r\nI won&#39;t clutter SO with another full example,see this SO post:https://stackoverflow.com/questions/7083951/how-to-send-json-array-from-server-to-client-i-e-java-to-ajax-javascript","title":"get json array from servlet using ajax","body":"<p>See, if you want to pass that from servlet to jsp you need not to make a <code>request</code> (ajax), since servlet and <code>jsp</code> both exists at server side.You just set that json array  as a request attribute or session attribute and get it in jsp and display(with loop).<strong>NO</strong> need of ajax there.</p>\n\n<p>If You need to fetch the data with synchronous call:</p>\n\n<p>In servlet </p>\n\n<pre><code>   PrintWriter out = response.getWriter();\n   out.println(htags);\n</code></pre>\n\n<p>I won't clutter SO with another full example,see this SO post:<a href=\"https://stackoverflow.com/questions/7083951/how-to-send-json-array-from-server-to-client-i-e-java-to-ajax-javascript\">How to send JSON array from server to client, i.e. (java to AJAX/Javascript)?</a></p>\n"},{"tags":[],"owner":{"account_id":2321237,"reputation":4624,"user_id":2472111,"accept_rate":62,"display_name":"SarathSprakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378801683,"creation_date":1378799552,"answer_id":18713377,"question_id":18711744,"body_markdown":"Try this\r\n \r\nservlet code\r\n-----------------\r\n\r\n    JSONArray  htags = new JSONArray();\r\n            htags.add(&quot;#abc&quot;);\r\n            htags.add(&quot;#xyz&quot;);\r\n            htags.add(&quot;#emc&quot;);\r\n            htags.add(&quot;#netapp&quot;);\r\n    \r\n    \r\n            //top trends\r\n            JSONArray trends = new JSONArray();\r\n            trends.add(&quot;pass&quot;);\r\n            trends.add(&quot;horiz&quot;);\r\n            trends.add(&quot;software&quot;);\r\n            trends.add(&quot;banana&quot;);\r\n    response.setContentType(&quot;application/json&quot;); \r\n    response.setCharacterEncoding(&quot;utf-8&quot;); \r\n    String jsons = &quot;[&quot;+htags+&quot;,&quot;+trends+&quot;]&quot;; //Put both objects in an array of 2 elements\r\n    out.print(jsons);\r\n\r\n\r\nand on you jsp page\r\n\r\n\r\n    $.ajax({\r\n    \r\n                url : &quot;SerlvetToJsp&quot;,\r\n                dataType : &#39;json&#39;,\r\n                contentType:&quot;application/json&quot;,\r\n                error : function() {\r\n    \r\n                    alert(&quot;Error&quot;);\r\n                },\r\n                success : function(data) {\r\n                    var data1=data[0],\r\n                    var data2=data[2],\r\n                   alert(data1[0]);\r\n    \r\n                }\r\n        });","title":"get json array from servlet using ajax","body":"<p>Try this</p>\n\n<h2>servlet code</h2>\n\n<pre><code>JSONArray  htags = new JSONArray();\n        htags.add(\"#abc\");\n        htags.add(\"#xyz\");\n        htags.add(\"#emc\");\n        htags.add(\"#netapp\");\n\n\n        //top trends\n        JSONArray trends = new JSONArray();\n        trends.add(\"pass\");\n        trends.add(\"horiz\");\n        trends.add(\"software\");\n        trends.add(\"banana\");\nresponse.setContentType(\"application/json\"); \nresponse.setCharacterEncoding(\"utf-8\"); \nString jsons = \"[\"+htags+\",\"+trends+\"]\"; //Put both objects in an array of 2 elements\nout.print(jsons);\n</code></pre>\n\n<p>and on you jsp page</p>\n\n<pre><code>$.ajax({\n\n            url : \"SerlvetToJsp\",\n            dataType : 'json',\n            contentType:\"application/json\",\n            error : function() {\n\n                alert(\"Error\");\n            },\n            success : function(data) {\n                var data1=data[0],\n                var data2=data[2],\n               alert(data1[0]);\n\n            }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3749813,"reputation":47,"user_id":3117571,"display_name":"Aung Thuya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392283107,"creation_date":1392283107,"answer_id":21749764,"question_id":18711744,"body_markdown":"Servlet can use this to send json array or json object to client.\r\n\r\n    JSONArray jsonArray = [{:}, {:}];\r\n    \r\n    response.getWriter.write(jsonArray.toString());\r\n\r\nIn JSP page, this method call the request JSON to Servlet and catch the json array or json object with annonymous function(JSON.parse is used to convert string to json object or json array) method.\r\n\r\n    $(&quot;button&quot;).click(function(){\r\n      $.get(&quot;ServletToJSP&quot;,function(data,status){\r\n        alert(&quot;Data: &quot; + JSON.parse(data) + &quot;\\nStatus: &quot; + status);\r\n      });\r\n    });","title":"get json array from servlet using ajax","body":"<p>Servlet can use this to send json array or json object to client.</p>\n\n<pre><code>JSONArray jsonArray = [{:}, {:}];\n\nresponse.getWriter.write(jsonArray.toString());\n</code></pre>\n\n<p>In JSP page, this method call the request JSON to Servlet and catch the json array or json object with annonymous function(JSON.parse is used to convert string to json object or json array) method.</p>\n\n<pre><code>$(\"button\").click(function(){\n  $.get(\"ServletToJSP\",function(data,status){\n    alert(\"Data: \" + JSON.parse(data) + \"\\nStatus: \" + status);\n  });\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13103946,"reputation":1,"user_id":9467399,"display_name":"Darshan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1520606754,"creation_date":1520596364,"answer_id":49193193,"question_id":18711744,"body_markdown":"in servlet:\r\n\r\n    String uri = request.getRequestURI();\r\n            if (uri.equalsIgnoreCase(uri)) {\r\n            \t\t\tresponse.setContentType(&quot;application/json&quot;);\r\n            \t\t\t/*   get the json array      */\r\n            \t\t\tresponse.getWriter().write(array.toJSONString());\r\n            \t\t}\r\n\r\njquery:\r\n\r\n        $(&#39;#buttonid&#39;).on(&#39;click&#39;, function() {\r\n               var url=&quot;your url&quot;;\r\n            $.ajax({\r\n            \t\ttype : &#39;POST&#39;,\r\n            \t\turl : url,\r\n            \t\tdata : null,\r\n            \t\terror : function(xhr, status, error) {\r\n            \t\t\talert(&quot;error&quot;);\r\n            \t\t},\r\n            \t\tsuccess : function(data) {\r\n            \t\t\talert(&quot;success&quot;);\r\n            \t\t\t$.each(data, function(key, val) {\r\n            \t\t\tconsole.log(val);\r\n            \t\t}\r\n            \t});\r\n        });","title":"get json array from servlet using ajax","body":"<p>in servlet:</p>\n\n<pre><code>String uri = request.getRequestURI();\n        if (uri.equalsIgnoreCase(uri)) {\n                    response.setContentType(\"application/json\");\n                    /*   get the json array      */\n                    response.getWriter().write(array.toJSONString());\n                }\n</code></pre>\n\n<p>jquery:</p>\n\n<pre><code>    $('#buttonid').on('click', function() {\n           var url=\"your url\";\n        $.ajax({\n                type : 'POST',\n                url : url,\n                data : null,\n                error : function(xhr, status, error) {\n                    alert(\"error\");\n                },\n                success : function(data) {\n                    alert(\"success\");\n                    $.each(data, function(key, val) {\n                    console.log(val);\n                }\n            });\n    });\n</code></pre>\n"}],"owner":{"account_id":3220468,"reputation":351,"user_id":2718054,"accept_rate":19,"display_name":"Nick"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10621,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1691881375,"creation_date":1378793187,"question_id":18711744,"body_markdown":"I have to json array in my servlet.\r\n\r\nI want to fetch json array value and print in to jsp page using ajax.\r\n\r\n\r\nbelow is code\r\n\r\n    JSONArray  htags = new JSONArray();\r\n    \t\thtags.add(&quot;#abc&quot;);\r\n    \t\thtags.add(&quot;#xyz&quot;);\r\n    \t\thtags.add(&quot;#emc&quot;);\r\n    \t\thtags.add(&quot;#netapp&quot;);\r\n    \r\n    \t\t\r\n    \t\t//top trends\r\n    \t\tJSONArray trends = new JSONArray();\r\n    \t\ttrends.add(&quot;pass&quot;);\r\n    \t\ttrends.add(&quot;horiz&quot;);\r\n    \t\ttrends.add(&quot;software&quot;);\r\n    \t\ttrends.add(&quot;banana&quot;);\r\n\r\n**jsp**\r\n \r\nI got error msg here.\r\n\t\t\r\n\r\n    $.ajax({\r\n    \r\n    \t        url : &quot;SerlvetToJsp&quot;,\r\n    \t        dataType : &#39;json&#39;,\r\n    \t        error : function() {\r\n    \r\n    \t            alert(&quot;Error&quot;);\r\n    \t        },\r\n    \t        success : function(data) {\r\n    \t            alert(data);\r\n    \r\n    \t        }\r\n    \t});","title":"get json array from servlet using ajax","body":"<p>I have to json array in my servlet.</p>\n\n<p>I want to fetch json array value and print in to jsp page using ajax.</p>\n\n<p>below is code</p>\n\n<pre><code>JSONArray  htags = new JSONArray();\n        htags.add(\"#abc\");\n        htags.add(\"#xyz\");\n        htags.add(\"#emc\");\n        htags.add(\"#netapp\");\n\n\n        //top trends\n        JSONArray trends = new JSONArray();\n        trends.add(\"pass\");\n        trends.add(\"horiz\");\n        trends.add(\"software\");\n        trends.add(\"banana\");\n</code></pre>\n\n<p><strong>jsp</strong></p>\n\n<p>I got error msg here.</p>\n\n<pre><code>$.ajax({\n\n            url : \"SerlvetToJsp\",\n            dataType : 'json',\n            error : function() {\n\n                alert(\"Error\");\n            },\n            success : function(data) {\n                alert(data);\n\n            }\n    });\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"account_id":29202269,"reputation":13,"user_id":22372115,"display_name":"antiko11"},"score":0,"creation_date":1691736825,"post_id":76879969,"comment_id":135534658,"body_markdown":"But i need other data like name and android id when i orderByChild(&quot;number&quot;).equalTo(number) i need them, and also i have another function i used it to find data by name like ths orderByChild(&quot;name&quot;). startAt(name)","body":"But i need other data like name and android id when i orderByChild(&quot;number&quot;).equalTo(number) i need them, and also i have another function i used it to find data by name like ths orderByChild(&quot;name&quot;). startAt(name)"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1691760300,"post_id":76879969,"comment_id":135539225,"body_markdown":"You can either *also* store the addition data instead of the `true` value I used above, or you can look up each individual contact. The performance of the latter will be better than you might expect, as [Firebase pipelines such requests](https://stackoverflow.com/questions/35931526/speed-up-fetching-posts-for-my-social-network-app-by-using-query-instead-of-obse/35932786#35932786). ---  If you also need to look up by name, you can create yet another similar data structure `contacts_by_name` to use for *that* look up.","body":"You can either <i>also</i> store the addition data instead of the <code>true</code> value I used above, or you can look up each individual contact. The performance of the latter will be better than you might expect, as <a href=\"https://stackoverflow.com/questions/35931526/speed-up-fetching-posts-for-my-social-network-app-by-using-query-instead-of-obse/35932786#35932786\">Firebase pipelines such requests</a>. ---  If you also need to look up by name, you can create yet another similar data structure <code>contacts_by_name</code> to use for <i>that</i> look up."},{"owner":{"account_id":29202269,"reputation":13,"user_id":22372115,"display_name":"antiko11"},"score":0,"creation_date":1691761113,"post_id":76879969,"comment_id":135539412,"body_markdown":"Ok thank you, but how to restructuring large data 2gb?","body":"Ok thank you, but how to restructuring large data 2gb?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1691791264,"post_id":76879969,"comment_id":135544395,"body_markdown":"Nothing I said suggested restructuring the existing data, but rather to add **additional** structure to allow the new use-cases. To get the existing data into these new structures too, you can pull only the keys from `contacts` through the rest API, and then request and process them one by one","body":"Nothing I said suggested restructuring the existing data, but rather to add <b>additional</b> structure to allow the new use-cases. To get the existing data into these new structures too, you can pull only the keys from <code>contacts</code> through the rest API, and then request and process them one by one"},{"owner":{"account_id":29202269,"reputation":13,"user_id":22372115,"display_name":"antiko11"},"score":0,"creation_date":1691880916,"post_id":76879969,"comment_id":135551471,"body_markdown":"Thank you for helping, but I recently noticed that I changed the data structure as follows, excuse me look my questions again I have modified it","body":"Thank you for helping, but I recently noticed that I changed the data structure as follows, excuse me look my questions again I have modified it"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1691897202,"post_id":76879969,"comment_id":135552237,"body_markdown":"The logic remains the same as I showed in my answer: there is no way to query a list of that size efficiently in Firebase Realtime Database, so you&#39;ll need to create a separate data structure that allows you to perform the lookup.","body":"The logic remains the same as I showed in my answer: there is no way to query a list of that size efficiently in Firebase Realtime Database, so you&#39;ll need to create a separate data structure that allows you to perform the lookup."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691760351,"creation_date":1691711642,"answer_id":76879969,"question_id":76879513,"body_markdown":"&gt; i have Big Data has nearly 1 million records and more\r\n\r\nThat&#39;s probably the problem. Firebase Realtime Database keeps its indexes in memory for fast access, but that does mean it has limits to the number of items in can hold in an index before performance deteriorates. \r\n\r\nYou&#39;ll need to consider changing your data model to better fit your needs. Re-modeling the data to fit your use-cases is quite common when using NoSQL databases.\r\n\r\nFor example, if you want to access the contacts by their phone number, consider creating an extra data structure that stores precisely that data:\r\n```\r\ncontacts_by_mobile: {\r\n  &quot;770966855&quot;: {\r\n    &quot;-Moj9LK306LUDCXIbypG&quot;: true\r\n  },\r\n  &quot;711237507&quot;: {\r\n    &quot;-Moj9LK306LUDCXIbypG&quot;: true\r\n  },\r\n  &quot;711290007&quot;: {\r\n    &quot;-Moj9LK306LUDCXIbypG&quot;: true\r\n  }\r\n  ...\r\n}\r\n```\r\n\r\nYou can use this to look up the contact keys without needing to query the whole `contacts` list, and then look up the individual contacts one by one without a query. There are many ways to do this, pretty much whatever works to meet your use-case.\r\n\r\nAlso see:\r\n\r\n* https://stackoverflow.com/questions/39712833/firebase-performance-how-many-children-per-node/39713060#39713060\r\n* [NoSQL data modeling](https://highlyscalable.wordpress.com/2012/03/01/nosql-data-modeling-techniques/)","title":"Slow fetching data when querying in large data in firebase realtime","body":"<blockquote>\n<p>i have Big Data has nearly 1 million records and more</p>\n</blockquote>\n<p>That's probably the problem. Firebase Realtime Database keeps its indexes in memory for fast access, but that does mean it has limits to the number of items in can hold in an index before performance deteriorates.</p>\n<p>You'll need to consider changing your data model to better fit your needs. Re-modeling the data to fit your use-cases is quite common when using NoSQL databases.</p>\n<p>For example, if you want to access the contacts by their phone number, consider creating an extra data structure that stores precisely that data:</p>\n<pre><code>contacts_by_mobile: {\n  &quot;770966855&quot;: {\n    &quot;-Moj9LK306LUDCXIbypG&quot;: true\n  },\n  &quot;711237507&quot;: {\n    &quot;-Moj9LK306LUDCXIbypG&quot;: true\n  },\n  &quot;711290007&quot;: {\n    &quot;-Moj9LK306LUDCXIbypG&quot;: true\n  }\n  ...\n}\n</code></pre>\n<p>You can use this to look up the contact keys without needing to query the whole <code>contacts</code> list, and then look up the individual contacts one by one without a query. There are many ways to do this, pretty much whatever works to meet your use-case.</p>\n<p>Also see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/39712833/firebase-performance-how-many-children-per-node/39713060#39713060\">Firebase Performance: How many children per node?</a></li>\n<li><a href=\"https://highlyscalable.wordpress.com/2012/03/01/nosql-data-modeling-techniques/\" rel=\"nofollow noreferrer\">NoSQL data modeling</a></li>\n</ul>\n"}],"owner":{"account_id":29202269,"reputation":13,"user_id":22372115,"display_name":"antiko11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76879969,"answer_count":1,"score":1,"last_activity_date":1691880857,"creation_date":1691704301,"question_id":76879513,"body_markdown":"i have Big Data has nearly 1 million records and more , the query takes a long time in fisrt query And most of the time.\r\n\r\nmy Rules:\r\n\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;iBkH2321&quot;:{\r\n      &quot;$uid&quot;:{\r\n        &quot;.read&quot;: &quot;false&quot;,\r\n          &quot;.write&quot;: &quot;true&quot;    \r\n      }\r\n    },\r\n      &quot;Contacts&quot;:{\r\n            &quot;.indexOn&quot;: [&quot;mobile&quot;,&quot;name&quot;,&quot;android_id&quot;],\r\n           &quot;.read&quot;:&quot;root.child(&#39;iBkH2321&#39;).child(auth.uid).val() == true&quot;,\r\n          &quot;.write&quot;:&quot;root.child(&#39;iBkH2321&#39;).child(auth.uid).val() == true&quot;,\r\n      },\r\n    &quot;AppVersion&quot;:{\r\n      &quot;.read&quot;: &quot;true&quot;,\r\n          &quot;.write&quot;: &quot;false&quot;,\r\n            &quot;.indexOn&quot;:[&quot;VersionNumber&quot;]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nan data like this:\r\n\r\n```\r\n \r\n\r\n{\r\n  &quot;contacts&quot; : {\r\n  \r\n         &quot;-Moj9LK5rgNYVcD1PJ2S&quot; : {\r\n          &quot;android_id&quot; : &quot;312e62167b076ce1&quot;,\r\n          &quot;mobile&quot; : &quot;770966855&quot;,\r\n          &quot;name&quot; : &quot;عبدالله سيلان / فرع اب الشركة&quot;\r\n          },\r\n         &quot;-Moj9LKEZgZqu8tyW-4c&quot; : {\r\n          &quot;android_id&quot; : &quot;312e62167b076ce1&quot;,\r\n          &quot;mobile&quot; : &quot;711237507&quot;,\r\n          &quot;name&quot; : &quot;عبد الملك عمر / الهلال للصرافة تعز&quot;\r\n         },\r\n         &quot;-Moj9LKFmA0E6jJMuWfD&quot; : {\r\n          &quot;android_id&quot; : &quot;312e62167b076ce1&quot;,\r\n          &quot;mobile&quot; : &quot;711290007&quot;,\r\n          &quot;name&quot; : &quot;احمد هاشم /ايتي عدن للصرافة&quot;\r\n         },\r\n         .\r\n         .\r\n         .\r\n         .\r\n         .\r\n      } \r\n  &quot;iBkHop2321&quot; : {\r\n    &quot;026Z0V8ad8MnJtnfn9qt6atgMWS2&quot; : true,\r\n    &quot;0CDZ0V8aAxMnJtnre9qt6atgZiw2&quot; : true,\r\n         .\r\n         .\r\n         .\r\n         . \r\n     }\r\n```\r\n\r\nand this my code:\r\n\r\n```\r\nprivate  DatabaseReference myRef ;\r\n.\r\n.\r\n.\r\nfinal FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        myRef = database.getReference(&quot;Contacts&quot;);\r\nauth = FirebaseAuth.getInstance();\r\n.\r\n.\r\n.\r\n\r\n   private  void TestShearch(String number){\r\n        AtomicBoolean getResult = new AtomicBoolean(false);\r\n        ArrayList&lt;Contacts&gt; arrayList = new ArrayList&lt;&gt;();\r\n        ArrayContacts arrayContacts = new ArrayContacts(context, arrayList);\r\n        listView.setAdapter(arrayContacts);\r\n        Query query = myRef.orderByChild(&quot;mobile&quot;).equalTo(number).limitToLast(30);\r\n        ValueEventListener valueEventListener = new ValueEventListener() {\r\n           @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if(isAdded() &amp;&amp; activity != null) {\r\n                    arrayList.clear();\r\n                        getResult.set(true);\r\n                        for (DataSnapshot ds : snapshot.getChildren()) {\r\n                            Contacts con = ds.getValue(Contacts.class);\r\n                            arrayList.add(con);\r\n                            assert con != null;\r\n                        }\r\n                        arrayContacts.notifyDataSetChanged();\r\n                        listView.setAdapter(arrayContacts);\r\n                    } else {\r\n                        getResult.set(false);\r\n                        Toast.makeText(context, &quot;لا توجد بيانات لهذا الرقم حالياً&quot;, Toast.LENGTH_LONG).show();\r\n                    }\r\n                    progressBar.setVisibility(View.GONE);\r\n                    btn_search.setVisibility(View.VISIBLE);\r\n                    myRef.removeEventListener(this);\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                //do somthing here\r\n            }\r\n        };\r\n query.addListenerForSingleValueEvent(valueEventListener);\r\n}\r\n```\r\n\r\nnote: am using authentication in onStart():\r\n\r\n```\r\n@Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        updateUI(currentUser);\r\n    }\r\n\r\nprivate void updateUI(FirebaseUser currentUser) {\r\n        if(currentUser == null){\r\n            mAuth.signInAnonymously().addOnCompleteListener(this, new         OnCompleteListener&lt;AuthResult&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                    if(task.isSuccessful()){\r\n\r\n                        FirebaseUser user = mAuth.getCurrentUser();\r\n                        updateUI(user);\r\n                        myRef2.child(Objects.requireNonNull(mAuth.getUid())).setValue(true);\r\n                        Log.d(&quot;userAuth11&quot;, &quot;signInAnonymously:parent success&quot;);\r\n\r\n                    } else{\r\n                        Log.d(&quot;userAuth11&quot;, &quot;signInAnonymously:parent failed&quot;);\r\n                        updateUI(null);\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n```\r\n\r\nwhen i launch the app the query takes longer than 30-60 sec after that becomes faster than old query!\r\n\r\ncan you help me?\r\nthanks.\r\n\r\nI think that the problem is in the size of the data that I inquired from, as the size of the data is approximately 2 gigabytes?","title":"Slow fetching data when querying in large data in firebase realtime","body":"<p>i have Big Data has nearly 1 million records and more , the query takes a long time in fisrt query And most of the time.</p>\n<p>my Rules:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;iBkH2321&quot;:{\n      &quot;$uid&quot;:{\n        &quot;.read&quot;: &quot;false&quot;,\n          &quot;.write&quot;: &quot;true&quot;    \n      }\n    },\n      &quot;Contacts&quot;:{\n            &quot;.indexOn&quot;: [&quot;mobile&quot;,&quot;name&quot;,&quot;android_id&quot;],\n           &quot;.read&quot;:&quot;root.child('iBkH2321').child(auth.uid).val() == true&quot;,\n          &quot;.write&quot;:&quot;root.child('iBkH2321').child(auth.uid).val() == true&quot;,\n      },\n    &quot;AppVersion&quot;:{\n      &quot;.read&quot;: &quot;true&quot;,\n          &quot;.write&quot;: &quot;false&quot;,\n            &quot;.indexOn&quot;:[&quot;VersionNumber&quot;]\n    }\n  }\n}\n</code></pre>\n<p>an data like this:</p>\n<pre><code> \n\n{\n  &quot;contacts&quot; : {\n  \n         &quot;-Moj9LK5rgNYVcD1PJ2S&quot; : {\n          &quot;android_id&quot; : &quot;312e62167b076ce1&quot;,\n          &quot;mobile&quot; : &quot;770966855&quot;,\n          &quot;name&quot; : &quot;عبدالله سيلان / فرع اب الشركة&quot;\n          },\n         &quot;-Moj9LKEZgZqu8tyW-4c&quot; : {\n          &quot;android_id&quot; : &quot;312e62167b076ce1&quot;,\n          &quot;mobile&quot; : &quot;711237507&quot;,\n          &quot;name&quot; : &quot;عبد الملك عمر / الهلال للصرافة تعز&quot;\n         },\n         &quot;-Moj9LKFmA0E6jJMuWfD&quot; : {\n          &quot;android_id&quot; : &quot;312e62167b076ce1&quot;,\n          &quot;mobile&quot; : &quot;711290007&quot;,\n          &quot;name&quot; : &quot;احمد هاشم /ايتي عدن للصرافة&quot;\n         },\n         .\n         .\n         .\n         .\n         .\n      } \n  &quot;iBkHop2321&quot; : {\n    &quot;026Z0V8ad8MnJtnfn9qt6atgMWS2&quot; : true,\n    &quot;0CDZ0V8aAxMnJtnre9qt6atgZiw2&quot; : true,\n         .\n         .\n         .\n         . \n     }\n</code></pre>\n<p>and this my code:</p>\n<pre><code>private  DatabaseReference myRef ;\n.\n.\n.\nfinal FirebaseDatabase database = FirebaseDatabase.getInstance();\n        myRef = database.getReference(&quot;Contacts&quot;);\nauth = FirebaseAuth.getInstance();\n.\n.\n.\n\n   private  void TestShearch(String number){\n        AtomicBoolean getResult = new AtomicBoolean(false);\n        ArrayList&lt;Contacts&gt; arrayList = new ArrayList&lt;&gt;();\n        ArrayContacts arrayContacts = new ArrayContacts(context, arrayList);\n        listView.setAdapter(arrayContacts);\n        Query query = myRef.orderByChild(&quot;mobile&quot;).equalTo(number).limitToLast(30);\n        ValueEventListener valueEventListener = new ValueEventListener() {\n           @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if(isAdded() &amp;&amp; activity != null) {\n                    arrayList.clear();\n                        getResult.set(true);\n                        for (DataSnapshot ds : snapshot.getChildren()) {\n                            Contacts con = ds.getValue(Contacts.class);\n                            arrayList.add(con);\n                            assert con != null;\n                        }\n                        arrayContacts.notifyDataSetChanged();\n                        listView.setAdapter(arrayContacts);\n                    } else {\n                        getResult.set(false);\n                        Toast.makeText(context, &quot;لا توجد بيانات لهذا الرقم حالياً&quot;, Toast.LENGTH_LONG).show();\n                    }\n                    progressBar.setVisibility(View.GONE);\n                    btn_search.setVisibility(View.VISIBLE);\n                    myRef.removeEventListener(this);\n                }\n            }\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                //do somthing here\n            }\n        };\n query.addListenerForSingleValueEvent(valueEventListener);\n}\n</code></pre>\n<p>note: am using authentication in onStart():</p>\n<pre><code>@Override\n    protected void onStart() {\n        super.onStart();\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        updateUI(currentUser);\n    }\n\nprivate void updateUI(FirebaseUser currentUser) {\n        if(currentUser == null){\n            mAuth.signInAnonymously().addOnCompleteListener(this, new         OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                    if(task.isSuccessful()){\n\n                        FirebaseUser user = mAuth.getCurrentUser();\n                        updateUI(user);\n                        myRef2.child(Objects.requireNonNull(mAuth.getUid())).setValue(true);\n                        Log.d(&quot;userAuth11&quot;, &quot;signInAnonymously:parent success&quot;);\n\n                    } else{\n                        Log.d(&quot;userAuth11&quot;, &quot;signInAnonymously:parent failed&quot;);\n                        updateUI(null);\n                    }\n                }\n            });\n\n        }\n</code></pre>\n<p>when i launch the app the query takes longer than 30-60 sec after that becomes faster than old query!</p>\n<p>can you help me?\nthanks.</p>\n<p>I think that the problem is in the size of the data that I inquired from, as the size of the data is approximately 2 gigabytes?</p>\n"},{"tags":["java","android","xml","kotlin","layout"],"answers":[{"tags":[],"owner":{"account_id":5826843,"reputation":344,"user_id":4592885,"display_name":"Mohammad Fallah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691880173,"creation_date":1691880173,"answer_id":76891377,"question_id":76891311,"body_markdown":"In Android Studio, the layout that is shown in editor is just a preview that does not know about the theme which we set in `AndroidManifest.xml`.\r\nSo we should change the theme in the editor to see the correct preview. \r\n\r\nWell, To change the theme just select the correct theme in the top of your editor. (the dropdown which is selected &quot;Light&quot; in your picture that you shared)","title":"Why layout editor in android studio working incorrectly?","body":"<p>In Android Studio, the layout that is shown in editor is just a preview that does not know about the theme which we set in <code>AndroidManifest.xml</code>.\nSo we should change the theme in the editor to see the correct preview.</p>\n<p>Well, To change the theme just select the correct theme in the top of your editor. (the dropdown which is selected &quot;Light&quot; in your picture that you shared)</p>\n"}],"owner":{"account_id":28341094,"reputation":23,"user_id":21674811,"display_name":"Илья Жиленков"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76891377,"answer_count":1,"score":0,"last_activity_date":1691880173,"creation_date":1691878242,"question_id":76891311,"body_markdown":"I have the problem, which is that layout editor in android studio displays layout incorrectly.[screen from android studio](https://i.stack.imgur.com/9L7k4.png)\r\n\r\nI think that is layout haven&#39;t missing some attribute like xmlns:tools=&quot;&quot;.\r\n\r\nIt looks like your post is mostly code; please add some more details.\r\nIt looks like your post is mostly code; please add some more details :D\r\n\r\nLayout code is below\r\n    `\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:gravity=&quot;center_horizontal&quot;\r\n        tools:context=&quot;com.ilya.presentation.registration.RegistrationFragment&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tv_title&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;52dp&quot;\r\n        android:text=&quot;@string/registration_title&quot;\r\n        android:textSize=&quot;30sp&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/name_input_layout&quot;\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;48dp&quot;\r\n        app:counterEnabled=&quot;true&quot;\r\n        app:counterMaxLength=&quot;25&quot;\r\n        app:errorEnabled=&quot;true&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/et_name&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;@string/registration_hint_name&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/login_input_layout&quot;\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        app:counterEnabled=&quot;true&quot;\r\n        app:counterMaxLength=&quot;25&quot;\r\n        app:errorEnabled=&quot;true&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/et_login&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:hint=&quot;@string/registration_hint_login&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/password_input_layout&quot;\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        app:counterEnabled=&quot;true&quot;\r\n        app:counterMaxLength=&quot;25&quot;\r\n        app:endIconMode=&quot;password_toggle&quot;\r\n        app:errorEnabled=&quot;true&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/et_password&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:inputType=&quot;textPassword&quot;\r\n            android:hint=&quot;@string/registration_hint_password&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/repeated_password_input_layout&quot;\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        app:counterEnabled=&quot;true&quot;\r\n        app:endIconMode=&quot;password_toggle&quot;\r\n        app:counterMaxLength=&quot;25&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/et_repeated_password&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:inputType=&quot;textPassword&quot;\r\n            android:hint=&quot;@string/registration_hint_password_repeat&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_register&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;32dp&quot;\r\n        android:text=&quot;@string/registration_button_register&quot; /&gt;\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n`\r\n\r\n\r\n","title":"Why layout editor in android studio working incorrectly?","body":"<p>I have the problem, which is that layout editor in android studio displays layout incorrectly.<a href=\"https://i.stack.imgur.com/9L7k4.png\" rel=\"nofollow noreferrer\">screen from android studio</a></p>\n<p>I think that is layout haven't missing some attribute like xmlns:tools=&quot;&quot;.</p>\n<p>It looks like your post is mostly code; please add some more details.\nIt looks like your post is mostly code; please add some more details :D</p>\n<p>Layout code is below\n`\n\n</p>\n<pre><code>&lt;TextView\n    android:id=&quot;@+id/tv_title&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;52dp&quot;\n    android:text=&quot;@string/registration_title&quot;\n    android:textSize=&quot;30sp&quot; /&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/name_input_layout&quot;\n    android:layout_width=&quot;250dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;48dp&quot;\n    app:counterEnabled=&quot;true&quot;\n    app:counterMaxLength=&quot;25&quot;\n    app:errorEnabled=&quot;true&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:id=&quot;@+id/et_name&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;@string/registration_hint_name&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/login_input_layout&quot;\n    android:layout_width=&quot;250dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    app:counterEnabled=&quot;true&quot;\n    app:counterMaxLength=&quot;25&quot;\n    app:errorEnabled=&quot;true&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:id=&quot;@+id/et_login&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:hint=&quot;@string/registration_hint_login&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/password_input_layout&quot;\n    android:layout_width=&quot;250dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    app:counterEnabled=&quot;true&quot;\n    app:counterMaxLength=&quot;25&quot;\n    app:endIconMode=&quot;password_toggle&quot;\n    app:errorEnabled=&quot;true&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:id=&quot;@+id/et_password&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:inputType=&quot;textPassword&quot;\n        android:hint=&quot;@string/registration_hint_password&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/repeated_password_input_layout&quot;\n    android:layout_width=&quot;250dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    app:counterEnabled=&quot;true&quot;\n    app:endIconMode=&quot;password_toggle&quot;\n    app:counterMaxLength=&quot;25&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:id=&quot;@+id/et_repeated_password&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:inputType=&quot;textPassword&quot;\n        android:hint=&quot;@string/registration_hint_password_repeat&quot; /&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;Button\n    android:id=&quot;@+id/btn_register&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;32dp&quot;\n    android:text=&quot;@string/registration_button_register&quot; /&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"owner":{"account_id":29197405,"reputation":11,"user_id":22368197,"display_name":"Siechin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691878809,"creation_date":1691878809,"question_id":76891326,"body_markdown":"I am making a new web interface for a legacy database. It&#39;s a system within a local web. Each user has their own credentials for the database connection (a single URL, but many users). In addition, users should be able to use a single account from multiple computers simultaneously.\r\n\r\n\r\nI made a form with username and password. I created CustomAuthenticationProvider, so when a person logs in, it creates new Connection for that person and puts it into my ConnectionPool.\r\nNow I need some solution for closing connections for inactive users who haven&#39;t made any requests for an hour and logging them out.\r\nAny help and criticism are welcome.\r\n\r\nCustomAuthenticationProvider\r\n```\r\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    @Autowired\r\n    ConnectionPool connectionPool;\r\n\r\n    @Autowired\r\n    AccountLoader accountLoader;\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        String id = authentication.getName();\r\n        List&lt;Object&gt; account = accountLoader.findUserById(id);\r\n\r\n        String username = (String) account.get(0);\r\n        String password = (String) authentication.getCredentials();\r\n\r\n        try {\r\n            DriverManager.setLoginTimeout(1);\r\n            connectionPool.addConnection(id, username, password);\r\n            CustomPrincipal principal = new CustomPrincipal(id, username, (String) account.get(1));\r\n            principal.setLastActivity(new Date());\r\n            return new UsernamePasswordAuthenticationToken(principal, password, null);\r\n        } catch (SQLException e) {\r\n            throw new BadCredentialsException(&quot;Invalid password&quot;, e);\r\n        } finally {\r\n            DriverManager.setLoginTimeout(0);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\r\n    }\r\n\r\n}\r\n```\r\n\r\nConnectionPool\r\n\r\n```\r\n@Service\r\npublic class ConnectionPool {\r\n\r\n    @Value(&quot;${dao.url}&quot;)\r\n    private String url;\r\n\r\n    private final Map&lt;String, Connection&gt; pool = new HashMap&lt;&gt;();\r\n\r\n    public Connection addConnection(String id, String username, String password) throws SQLException {\r\n        Connection connection = DriverManager.getConnection(url, username, password);\r\n        pool.put(id, connection);\r\n        return connection;\r\n    }\r\n\r\n    public Connection getConnection(String id) {\r\n        return pool.get(id);\r\n    }\r\n\r\n    public void closeConnection(String id) throws SQLException {\r\n        pool.get(id).close();\r\n    }\r\n\r\n    @PreDestroy\r\n    private void closeAll() throws SQLException {\r\n        System.out.println(&quot;Closing all connections&quot;);\r\n        for (Connection connection : pool.values()) {\r\n            connection.close();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nFilterChainConfig\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class FilterChainConfig {\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager() {\r\n        return new CustomAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        return new CustomAuthenticationProvider();\r\n    }\r\n\r\n    @Bean\r\n    public CustomSuccessHandler successHandler() {\r\n        return new CustomSuccessHandler();\r\n    }\r\n\r\n    @Bean\r\n    CustomFailureHandler failureHandler() {\r\n        return new CustomFailureHandler();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeHttpRequests(auth -&gt;\r\n                        auth\r\n                                .requestMatchers(&quot;/auth/**&quot;, &quot;/css/**&quot;, &quot;/image/**&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n                )\r\n                .formLogin(configurer -&gt;\r\n                        configurer\r\n                                .loginPage(&quot;/auth/login&quot;)\r\n                                .loginProcessingUrl(&quot;/auth/login&quot;)\r\n                                .successHandler(successHandler())\r\n                                .failureHandler(failureHandler())\r\n                                .permitAll()\r\n                )\r\n                .logout(configurer -&gt;\r\n                        configurer\r\n                                .invalidateHttpSession(true)\r\n                                .clearAuthentication(true)\r\n                                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/auth/logout&quot;))\r\n                                .logoutSuccessUrl(&quot;/auth/login&quot;)\r\n                                .permitAll()\r\n                )\r\n                .authenticationManager(authenticationManager())\r\n                .authenticationProvider(authenticationProvider());\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```","title":"Auto logout after an hour of inactivity (Spring Security)","body":"<p>I am making a new web interface for a legacy database. It's a system within a local web. Each user has their own credentials for the database connection (a single URL, but many users). In addition, users should be able to use a single account from multiple computers simultaneously.</p>\n<p>I made a form with username and password. I created CustomAuthenticationProvider, so when a person logs in, it creates new Connection for that person and puts it into my ConnectionPool.\nNow I need some solution for closing connections for inactive users who haven't made any requests for an hour and logging them out.\nAny help and criticism are welcome.</p>\n<p>CustomAuthenticationProvider</p>\n<pre><code>public class CustomAuthenticationProvider implements AuthenticationProvider {\n\n    @Autowired\n    ConnectionPool connectionPool;\n\n    @Autowired\n    AccountLoader accountLoader;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        String id = authentication.getName();\n        List&lt;Object&gt; account = accountLoader.findUserById(id);\n\n        String username = (String) account.get(0);\n        String password = (String) authentication.getCredentials();\n\n        try {\n            DriverManager.setLoginTimeout(1);\n            connectionPool.addConnection(id, username, password);\n            CustomPrincipal principal = new CustomPrincipal(id, username, (String) account.get(1));\n            principal.setLastActivity(new Date());\n            return new UsernamePasswordAuthenticationToken(principal, password, null);\n        } catch (SQLException e) {\n            throw new BadCredentialsException(&quot;Invalid password&quot;, e);\n        } finally {\n            DriverManager.setLoginTimeout(0);\n        }\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\n    }\n\n}\n</code></pre>\n<p>ConnectionPool</p>\n<pre><code>@Service\npublic class ConnectionPool {\n\n    @Value(&quot;${dao.url}&quot;)\n    private String url;\n\n    private final Map&lt;String, Connection&gt; pool = new HashMap&lt;&gt;();\n\n    public Connection addConnection(String id, String username, String password) throws SQLException {\n        Connection connection = DriverManager.getConnection(url, username, password);\n        pool.put(id, connection);\n        return connection;\n    }\n\n    public Connection getConnection(String id) {\n        return pool.get(id);\n    }\n\n    public void closeConnection(String id) throws SQLException {\n        pool.get(id).close();\n    }\n\n    @PreDestroy\n    private void closeAll() throws SQLException {\n        System.out.println(&quot;Closing all connections&quot;);\n        for (Connection connection : pool.values()) {\n            connection.close();\n        }\n    }\n\n}\n</code></pre>\n<p>FilterChainConfig</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class FilterChainConfig {\n\n    @Bean\n    public AuthenticationManager authenticationManager() {\n        return new CustomAuthenticationManager();\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        return new CustomAuthenticationProvider();\n    }\n\n    @Bean\n    public CustomSuccessHandler successHandler() {\n        return new CustomSuccessHandler();\n    }\n\n    @Bean\n    CustomFailureHandler failureHandler() {\n        return new CustomFailureHandler();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeHttpRequests(auth -&gt;\n                        auth\n                                .requestMatchers(&quot;/auth/**&quot;, &quot;/css/**&quot;, &quot;/image/**&quot;).permitAll()\n                                .anyRequest().authenticated()\n                )\n                .formLogin(configurer -&gt;\n                        configurer\n                                .loginPage(&quot;/auth/login&quot;)\n                                .loginProcessingUrl(&quot;/auth/login&quot;)\n                                .successHandler(successHandler())\n                                .failureHandler(failureHandler())\n                                .permitAll()\n                )\n                .logout(configurer -&gt;\n                        configurer\n                                .invalidateHttpSession(true)\n                                .clearAuthentication(true)\n                                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/auth/logout&quot;))\n                                .logoutSuccessUrl(&quot;/auth/login&quot;)\n                                .permitAll()\n                )\n                .authenticationManager(authenticationManager())\n                .authenticationProvider(authenticationProvider());\n        return http.build();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","generics","pecs"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691878081,"creation_date":1691878081,"answer_id":76891302,"question_id":76891043,"body_markdown":"Your entire getup is wrong, probably because you slightly misunderstand what generics do; it&#39;s a very common misunderstanding.\r\n\r\n```\r\ninterface CommandHandler&lt;C extends Command&gt; {\r\n```\r\n\r\nThis says: For any given command handler, there is some type C that represents what it can handle.\r\n\r\n```\r\n    boolean supportsCommand(Class&lt;C&gt; klazz);\r\n```\r\n\r\nThis says: You may only pass instances of `java.lang.Class` representing the type I can handle.\r\n\r\nIn other words, the only sane implementation of this is `return true;`. In particular, it is not even legal to call `supportsCommand(CreateCommand.class)` on a `DeleteCommandHandler`. After all, `DeleteCommandHandler` implements `CommandHandler&lt;DeleteCommand&gt;` and therefore its `supportsCommand` method&#39;s full signature is `boolean supportsCommand(Class&lt;DeleteCommand&gt; type) {}`. It&#39;s as illegal to pass `CreateCommand.class` to that method as it is to pass &#39;5&#39; to the method `void foo(InputStream in)` - an InputStream is nothing like an `int`. A `Class&lt;DeleteCommand&gt;` is nothing like a `Class&lt;CreateCommand&gt;`. Neither is a supertype of the other, they are utterly incompatible.\r\n\r\nThis is why `.filter(commandHandler -&gt; commandHandler.supportsCommand(toBeHandled.getClass()))` is never going to compile: `toBeHandled.getClass()` is, at best, a `Class&lt;Command&gt;` and that&#39;s not going to be compatible with `Class&lt;C&gt;`.\r\n\r\nOne thing to keep in mind with generics is that generics are invariant. In plain types, `Integer extends Number` and that means an Integer is good as a number whenever you need a number. __Generics are not like that__ because universe / math, it just doesn&#39;t work that way (otherwise, I can make a list of integers, assign to a variable that represents &#39;list of any numbers&#39;, add a double to the other list, which also adds a double to my list because I just copied a reference, not the whole list, and now there&#39;s an not-an-integer in my list-of-integers and everything&#39;s broken).\r\n\r\nSurely that&#39;s not what you wanted. You wanted that param to be `Class&lt;?&gt;`. In general, `Class&lt;C&gt;` is a pretty big code small; class instances can represent things that generics cannot (`int.class` for example), and generics can represent things classes cannot (`List&lt;String&gt;`, for example. j.l.Class can&#39;t do that, only `List` (raw)).\r\n\r\nIs there a point to even having this method? If not, get rid of it. If you must have it, that param should be `Class&lt;?&gt;`.\r\n\r\n## The general idea of a link between a command handler and the command it handles\r\n\r\nThis is tricky. You mostly just cannot do this, generics aren&#39;t expressive enough.\r\n\r\n```\r\nList&lt;CommandHandler&gt;\r\n```\r\n\r\nYes, this is a warning, because it&#39;s a list of command handlers _of what commands_ - it doesn&#39;t say. And there&#39;s nothing you can put here that is going to make sense. Because surely your point is that you want to stick both, say, the handler for `CreateCommand` as well as the handler for `DeleteCommand` in this list, but then there is no type that covers both `CommandHandler&lt;CreateCommand&gt;` as well as `CommandHandler&lt;DeleteCommand&gt;` in a way that is useful (that lets you invoke these handlers properly).\r\n\r\n(i.e. you can make a `List&lt;CommandHandler&lt;? super DeleteCommand&gt;&gt;` but any command handlers you get from such a thing can only be sent delete commands. That&#39;d be a pointless system - at some point you want to add a `CreateCommand` with a `CreateCommandHandler` to go with it and you can&#39;t extend the system to account for more than a single type of command, making the whole exercise pointless).\r\n\r\nHence, we have now broken it:\r\n\r\n* Generics are 100% a figment of the compiler&#39;s imagination. It adds compile-time checking and does __nothing at all__ at runtime and can&#39;t even be checked if you wanted to.\r\n* You can&#39;t write a compile-time-checkable type for &#39;a list of command handlers&#39; in a way that isn&#39;t academic/useless.\r\n* Therefore whatever checks you want to add here have to be runtime.\r\n\r\nand voila, __broken__ - you have a compile-time-only system whose natures are wiped out at runtime&lt;sup&gt;1&lt;/sup&gt;, that you can only check at runtime, where it is no longer available.\r\n\r\n## The simple solution\r\n\r\nForget generics. They don&#39;t work here. Either just wipe them away from your CommandHandler interface, or keep em but accept that the code where you register handlers and deliver them is going to be riddled with generics warnings and you need to pile on with the hackery (such as a `Class&lt;?&gt; getSupportedCommands()` method so that you can at-runtime inspection code and e.g. make a hashmap mapping a type to its handler, none of this would be compile-time typechecked).\r\n\r\n## The complex solution\r\n\r\nInvolves type tokens and possibly annotation processors. It&#39;s rocket science java, I really, really doubt it&#39;s appropriate for the basic case here. It&#39;s probably inappropriate for _any_ such case.\r\n\r\n----\r\n\r\n[1] You can introspect a very limited amount of generics at runtime. But it&#39;s always tricky and rarely does what you want - more generally if you must insist on diving down that very deep rabbit hole, you&#39;re going to either want a standard SuperTypeToken solution or end up inventing your own, or your docs need a ton of caveats such as &#39;when writing a command handler, the type of command you handle must be reified, cannot itself have generics, and you can&#39;t build up a hierarchy of command handlers - they all have to look like `extends CommandHandler&lt;SpecificCommandType&gt;` or stuff just breaks and there is no compile time check available to ensure you&#39;re doing it right&#39; - which is the kind of caveat you really, really don&#39;t want to write in your docs.\r\n","title":"Parametrize generic list whilst filtering and mapping","body":"<p>Your entire getup is wrong, probably because you slightly misunderstand what generics do; it's a very common misunderstanding.</p>\n<pre><code>interface CommandHandler&lt;C extends Command&gt; {\n</code></pre>\n<p>This says: For any given command handler, there is some type C that represents what it can handle.</p>\n<pre><code>    boolean supportsCommand(Class&lt;C&gt; klazz);\n</code></pre>\n<p>This says: You may only pass instances of <code>java.lang.Class</code> representing the type I can handle.</p>\n<p>In other words, the only sane implementation of this is <code>return true;</code>. In particular, it is not even legal to call <code>supportsCommand(CreateCommand.class)</code> on a <code>DeleteCommandHandler</code>. After all, <code>DeleteCommandHandler</code> implements <code>CommandHandler&lt;DeleteCommand&gt;</code> and therefore its <code>supportsCommand</code> method's full signature is <code>boolean supportsCommand(Class&lt;DeleteCommand&gt; type) {}</code>. It's as illegal to pass <code>CreateCommand.class</code> to that method as it is to pass '5' to the method <code>void foo(InputStream in)</code> - an InputStream is nothing like an <code>int</code>. A <code>Class&lt;DeleteCommand&gt;</code> is nothing like a <code>Class&lt;CreateCommand&gt;</code>. Neither is a supertype of the other, they are utterly incompatible.</p>\n<p>This is why <code>.filter(commandHandler -&gt; commandHandler.supportsCommand(toBeHandled.getClass()))</code> is never going to compile: <code>toBeHandled.getClass()</code> is, at best, a <code>Class&lt;Command&gt;</code> and that's not going to be compatible with <code>Class&lt;C&gt;</code>.</p>\n<p>One thing to keep in mind with generics is that generics are invariant. In plain types, <code>Integer extends Number</code> and that means an Integer is good as a number whenever you need a number. <strong>Generics are not like that</strong> because universe / math, it just doesn't work that way (otherwise, I can make a list of integers, assign to a variable that represents 'list of any numbers', add a double to the other list, which also adds a double to my list because I just copied a reference, not the whole list, and now there's an not-an-integer in my list-of-integers and everything's broken).</p>\n<p>Surely that's not what you wanted. You wanted that param to be <code>Class&lt;?&gt;</code>. In general, <code>Class&lt;C&gt;</code> is a pretty big code small; class instances can represent things that generics cannot (<code>int.class</code> for example), and generics can represent things classes cannot (<code>List&lt;String&gt;</code>, for example. j.l.Class can't do that, only <code>List</code> (raw)).</p>\n<p>Is there a point to even having this method? If not, get rid of it. If you must have it, that param should be <code>Class&lt;?&gt;</code>.</p>\n<h2>The general idea of a link between a command handler and the command it handles</h2>\n<p>This is tricky. You mostly just cannot do this, generics aren't expressive enough.</p>\n<pre><code>List&lt;CommandHandler&gt;\n</code></pre>\n<p>Yes, this is a warning, because it's a list of command handlers <em>of what commands</em> - it doesn't say. And there's nothing you can put here that is going to make sense. Because surely your point is that you want to stick both, say, the handler for <code>CreateCommand</code> as well as the handler for <code>DeleteCommand</code> in this list, but then there is no type that covers both <code>CommandHandler&lt;CreateCommand&gt;</code> as well as <code>CommandHandler&lt;DeleteCommand&gt;</code> in a way that is useful (that lets you invoke these handlers properly).</p>\n<p>(i.e. you can make a <code>List&lt;CommandHandler&lt;? super DeleteCommand&gt;&gt;</code> but any command handlers you get from such a thing can only be sent delete commands. That'd be a pointless system - at some point you want to add a <code>CreateCommand</code> with a <code>CreateCommandHandler</code> to go with it and you can't extend the system to account for more than a single type of command, making the whole exercise pointless).</p>\n<p>Hence, we have now broken it:</p>\n<ul>\n<li>Generics are 100% a figment of the compiler's imagination. It adds compile-time checking and does <strong>nothing at all</strong> at runtime and can't even be checked if you wanted to.</li>\n<li>You can't write a compile-time-checkable type for 'a list of command handlers' in a way that isn't academic/useless.</li>\n<li>Therefore whatever checks you want to add here have to be runtime.</li>\n</ul>\n<p>and voila, <strong>broken</strong> - you have a compile-time-only system whose natures are wiped out at runtime<sup>1</sup>, that you can only check at runtime, where it is no longer available.</p>\n<h2>The simple solution</h2>\n<p>Forget generics. They don't work here. Either just wipe them away from your CommandHandler interface, or keep em but accept that the code where you register handlers and deliver them is going to be riddled with generics warnings and you need to pile on with the hackery (such as a <code>Class&lt;?&gt; getSupportedCommands()</code> method so that you can at-runtime inspection code and e.g. make a hashmap mapping a type to its handler, none of this would be compile-time typechecked).</p>\n<h2>The complex solution</h2>\n<p>Involves type tokens and possibly annotation processors. It's rocket science java, I really, really doubt it's appropriate for the basic case here. It's probably inappropriate for <em>any</em> such case.</p>\n<hr />\n<p>[1] You can introspect a very limited amount of generics at runtime. But it's always tricky and rarely does what you want - more generally if you must insist on diving down that very deep rabbit hole, you're going to either want a standard SuperTypeToken solution or end up inventing your own, or your docs need a ton of caveats such as 'when writing a command handler, the type of command you handle must be reified, cannot itself have generics, and you can't build up a hierarchy of command handlers - they all have to look like <code>extends CommandHandler&lt;SpecificCommandType&gt;</code> or stuff just breaks and there is no compile time check available to ensure you're doing it right' - which is the kind of caveat you really, really don't want to write in your docs.</p>\n"}],"owner":{"account_id":13412011,"reputation":144,"user_id":9678048,"display_name":"mtw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76891302,"answer_count":1,"score":0,"last_activity_date":1691878081,"creation_date":1691872531,"question_id":76891043,"body_markdown":"I&#39;m trying to grasp [PECS](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super) idea in java and don&#39;t know, how to apply this idea in following example:\r\n```java\r\npackage org.example;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\ninterface Command { String name();}\r\nclass DeleteCommand implements Command {\r\n\t@Override\r\n\tpublic String name() {return &quot;Delete command&quot;;}\r\n}\r\n\r\ninterface CommandHandler&lt;C extends Command&gt; {\r\n\tboolean supportsCommand(Class&lt;C&gt; klazz);\r\n\tString commandName(C command);\r\n}\r\n\r\nclass DeleteCommandHandlerImpl implements CommandHandler&lt;DeleteCommand&gt; {\r\n\t@Override\r\n\tpublic boolean supportsCommand(Class&lt;DeleteCommand&gt; klazz) {return DeleteCommand.class.isAssignableFrom(klazz);}\r\n\t@Override\r\n\tpublic String commandName(DeleteCommand command) {return command.name();}\r\n}\r\n\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tCommand toBeHandled = new DeleteCommand();\r\n\t\tList&lt;CommandHandler&gt; knownCommands = List.of(new DeleteCommandHandlerImpl());\r\n\t\tOptional&lt;String&gt; result = knownCommands\r\n\t\t\t\t.stream()\r\n\t\t\t\t.filter(commandHandler -&gt; commandHandler.supportsCommand(toBeHandled.getClass()))\r\n\t\t\t\t.findFirst()\r\n\t\t\t\t.map(commandHandler -&gt; commandHandler.commandName(toBeHandled));\r\n\t\tSystem.out.println(result);\r\n\t}\r\n}\r\n```\r\nI have a problem with line `List&lt;CommandHandler&gt; knownCommands = List.of(new DeleteCommandHandlerImpl());` It raises a compilation warning since `CommandHandler` is missing parametrized class.\r\n\r\nAccording to PECS, I&#39;m consuming from this list, so it should be `List&lt;CommandHandler&lt;? extends Command&gt;&gt; knownCommands = List.of(new DeleteCommandHandlerImpl());` but it fails compilation. How should I parametrize this list?","title":"Parametrize generic list whilst filtering and mapping","body":"<p>I'm trying to grasp <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a> idea in java and don't know, how to apply this idea in following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.util.List;\nimport java.util.Optional;\n\ninterface Command { String name();}\nclass DeleteCommand implements Command {\n    @Override\n    public String name() {return &quot;Delete command&quot;;}\n}\n\ninterface CommandHandler&lt;C extends Command&gt; {\n    boolean supportsCommand(Class&lt;C&gt; klazz);\n    String commandName(C command);\n}\n\nclass DeleteCommandHandlerImpl implements CommandHandler&lt;DeleteCommand&gt; {\n    @Override\n    public boolean supportsCommand(Class&lt;DeleteCommand&gt; klazz) {return DeleteCommand.class.isAssignableFrom(klazz);}\n    @Override\n    public String commandName(DeleteCommand command) {return command.name();}\n}\n\n\npublic class Main {\n    public static void main(String[] args) {\n        Command toBeHandled = new DeleteCommand();\n        List&lt;CommandHandler&gt; knownCommands = List.of(new DeleteCommandHandlerImpl());\n        Optional&lt;String&gt; result = knownCommands\n                .stream()\n                .filter(commandHandler -&gt; commandHandler.supportsCommand(toBeHandled.getClass()))\n                .findFirst()\n                .map(commandHandler -&gt; commandHandler.commandName(toBeHandled));\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>I have a problem with line <code>List&lt;CommandHandler&gt; knownCommands = List.of(new DeleteCommandHandlerImpl());</code> It raises a compilation warning since <code>CommandHandler</code> is missing parametrized class.</p>\n<p>According to PECS, I'm consuming from this list, so it should be <code>List&lt;CommandHandler&lt;? extends Command&gt;&gt; knownCommands = List.of(new DeleteCommandHandlerImpl());</code> but it fails compilation. How should I parametrize this list?</p>\n"},{"tags":["java","hashmap","linkedhashmap"],"comments":[{"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"score":0,"creation_date":1330457424,"post_id":9482509,"comment_id":12010646,"body_markdown":"Do you want the values (as in your question/title) or the records (key:value pairs, as in your statement)?","body":"Do you want the values (as in your question/title) or the records (key:value pairs, as in your statement)?"},{"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"score":0,"creation_date":1330458648,"post_id":9482509,"comment_id":12011063,"body_markdown":"Ok, thought so. Thanks, then see my answer (or others). I rewrote your question a bit for clarity then.","body":"Ok, thought so. Thanks, then see my answer (or others). I rewrote your question a bit for clarity then."}],"answers":[{"tags":[],"owner":{"account_id":371823,"reputation":2742,"user_id":720569,"accept_rate":71,"display_name":"Rahul Borkar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1330434714,"creation_date":1330434714,"answer_id":9482547,"question_id":9482509,"body_markdown":"You can use counter. Your foreach loop will exit when your counter reached 100.\r\n\r\n   ","title":"How to get a limited number of values from a HashMap or LinkedHashMap?","body":"<p>You can use counter. Your foreach loop will exit when your counter reached 100.</p>\n"},{"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1330434725,"creation_date":1330434725,"answer_id":9482551,"question_id":9482509,"body_markdown":"Write a loop which uses a `Iterator.next()` 100 times, and then stops.\r\n\r\nI was going to say something about `NavigableMap` and `SortedMap` - but their interfaces are defined in terms of keys, not indexes. But they may be useful nevertheless, depending on what your actual underlying problem is.","title":"How to get a limited number of values from a HashMap or LinkedHashMap?","body":"<p>Write a loop which uses a <code>Iterator.next()</code> 100 times, and then stops.</p>\n\n<p>I was going to say something about <code>NavigableMap</code> and <code>SortedMap</code> - but their interfaces are defined in terms of keys, not indexes. But they may be useful nevertheless, depending on what your actual underlying problem is.</p>\n"},{"comments":[{"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"score":0,"creation_date":1330458828,"post_id":9482561,"comment_id":12011123,"body_markdown":"+1 for Guava, I thought of that one straight away but I assumed that wasn&#39;t desired here, for some reason. Sefinitely better - in so many ways - than my ugly line, and even shorter :)","body":"+1 for Guava, I thought of that one straight away but I assumed that wasn&#39;t desired here, for some reason. Sefinitely better - in so many ways - than my ugly line, and even shorter :)"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1330434760,"creation_date":1330434760,"answer_id":9482561,"question_id":9482509,"body_markdown":"Well to start with, doing this for `HashMap` as per your title, doesn&#39;t make much sense - `HashMap` has no particular order, and the order may change between calls. It makes more sense for `LinkedHashMap` though.\r\n\r\nThere, I&#39;d use [Guava][1]&#39;s [`Iterables.limit`][2] method:\r\n\r\n    Iterable&lt;Object&gt; first100Values = Iterables.limit(map.values(), 100);\r\n\r\nor\r\n\r\n    // Or whatever type you&#39;re interested in...\r\n    Iterable&lt;Map.Entry&lt;Integer, Object&gt;&gt; firstEntries =\r\n        Iterables.limit(map.entrySet(), 100);\r\n\r\nYou can then create a list from that, or iterate over it, or whatever you want to do.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git-history/v11.0.2/javadoc/index.html\r\n  [2]: http://docs.guava-libraries.googlecode.com/git-history/v11.0.2/javadoc/com/google/common/collect/Iterables.html#limit%28java.lang.Iterable,%20int%29","title":"How to get a limited number of values from a HashMap or LinkedHashMap?","body":"<p>Well to start with, doing this for <code>HashMap</code> as per your title, doesn't make much sense - <code>HashMap</code> has no particular order, and the order may change between calls. It makes more sense for <code>LinkedHashMap</code> though.</p>\n\n<p>There, I'd use <a href=\"http://docs.guava-libraries.googlecode.com/git-history/v11.0.2/javadoc/index.html\" rel=\"noreferrer\">Guava</a>'s <a href=\"http://docs.guava-libraries.googlecode.com/git-history/v11.0.2/javadoc/com/google/common/collect/Iterables.html#limit%28java.lang.Iterable,%20int%29\" rel=\"noreferrer\"><code>Iterables.limit</code></a> method:</p>\n\n<pre><code>Iterable&lt;Object&gt; first100Values = Iterables.limit(map.values(), 100);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>// Or whatever type you're interested in...\nIterable&lt;Map.Entry&lt;Integer, Object&gt;&gt; firstEntries =\n    Iterables.limit(map.entrySet(), 100);\n</code></pre>\n\n<p>You can then create a list from that, or iterate over it, or whatever you want to do.</p>\n"},{"comments":[{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":1,"creation_date":1330435276,"post_id":9482592,"comment_id":12001583,"body_markdown":"Copying 100 object references is not that expensive. Like it.","body":"Copying 100 object references is not that expensive. Like it."},{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1330437828,"post_id":9482592,"comment_id":12002514,"body_markdown":"It&#39;ll actually copy 216 references. But still, that&#39;s not that expensive.","body":"It&#39;ll actually copy 216 references. But still, that&#39;s not that expensive."},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1330437958,"post_id":9482592,"comment_id":12002556,"body_markdown":"Ah - yes - sublist is called on the new list, that has received the entire entry set. TooManyBracketsConfusionError ;)","body":"Ah - yes - sublist is called on the new list, that has received the entire entry set. TooManyBracketsConfusionError ;)"}],"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1330434925,"creation_date":1330434925,"answer_id":9482592,"question_id":9482509,"body_markdown":"You can do:\r\n\r\n    Map&lt;Integer, Object&gt; records;\r\n    List&lt;Entry&lt;Integer, Object&gt;&gt; firstHundredRecords\r\n        = new ArrayList&lt;Entry&lt;Integer, Object&gt;&gt;(records.entrySet()).subList(0, 100);\r\n\r\nAlthough note that this will copy all the entries from the map.","title":"How to get a limited number of values from a HashMap or LinkedHashMap?","body":"<p>You can do:</p>\n\n<pre><code>Map&lt;Integer, Object&gt; records;\nList&lt;Entry&lt;Integer, Object&gt;&gt; firstHundredRecords\n    = new ArrayList&lt;Entry&lt;Integer, Object&gt;&gt;(records.entrySet()).subList(0, 100);\n</code></pre>\n\n<p>Although note that this will copy all the entries from the map.</p>\n"},{"comments":[{"owner":{"account_id":1269244,"reputation":111,"user_id":1225918,"accept_rate":75,"display_name":"Adnan Ali Ch."},"score":0,"creation_date":1330454568,"post_id":9482933,"comment_id":12009673,"body_markdown":"Map&lt;Integer, Pair&lt;Double,SelectedRoad&gt; &gt; hashmap3 = new LinkedHashMap&lt;Integer, Pair&lt;Double,SelectedRoad&gt; &gt;();\n      List&lt;Entry&lt;Integer, Object&gt;&gt; firstHundredRecords = new ArrayList&lt;&gt;();\nfor(Entry&lt;Integer, SelectedRoad&gt; entry : hashmap3.entrySet()) {\n    firstHundredRecords.add(entry);\n    if (firstHundredRecords.size()&gt;=100) break;\n}\n                                                                 But it not proper for Map&lt;Integer, Pair&lt;Double,SelectedRoad&gt; &gt; hashmap3 = new LinkedHashMap&lt;Integer, Pair&lt;Double,SelectedRoad&gt; &gt;();","body":"Map&lt;Integer, Pair&lt;Double,SelectedRoad&gt; &gt; hashmap3 = new LinkedHashMap&lt;Integer, Pair&lt;Double,SelectedRoad&gt; &gt;();       List&lt;Entry&lt;Integer, Object&gt;&gt; firstHundredRecords = new ArrayList&lt;&gt;(); for(Entry&lt;Integer, SelectedRoad&gt; entry : hashmap3.entrySet()) {     firstHundredRecords.add(entry);     if (firstHundredRecords.size()&gt;=100) break; }                                                                  But it not proper for Map&lt;Integer, Pair&lt;Double,SelectedRoad&gt; &gt; hashmap3 = new LinkedHashMap&lt;Integer, Pair&lt;Double,SelectedRoad&gt; &gt;();"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1330455276,"post_id":9482933,"comment_id":12009931,"body_markdown":"You should have `Map&lt;Integer, Pair&lt;Double,SelectedRoad&gt;&gt; entry` Your IDE should be able to auto-correct this for you.","body":"You should have <code>Map&lt;Integer, Pair&lt;Double,SelectedRoad&gt;&gt; entry</code> Your IDE should be able to auto-correct this for you."},{"owner":{"account_id":1269244,"reputation":111,"user_id":1225918,"accept_rate":75,"display_name":"Adnan Ali Ch."},"score":0,"creation_date":1330455894,"post_id":9482933,"comment_id":12010150,"body_markdown":"IDT Auto correct will return this                                      for(Entry&lt;Integer, Pair&lt;Double, SelectedRoad&gt;&gt; entry : hashmap3.entrySet()) {\n\t        \t\t\n\t        \t    firstHundredRecords.addAll((Collection&lt;? extends Entry&lt;Integer, SelectedRoad&gt;&gt;) entry);\n\t        \t    \n\t        \t    if (firstHundredRecords.size()&gt;=100) break;\n\t        \t}\n\n\t        \tint count=0;\n\t        \t  for(int j=0;j&lt;100;j++){\n\t           \t   System.out.println(&quot;value no. &quot;+count +&quot; : &quot;+ firstHundredRecords.get(j).getKey()+&quot;:::&quot; + firstHundredRecords.get(j).getValue());\n\t              count++;\n\t        \t  }","body":"IDT Auto correct will return this                                      for(Entry&lt;Integer, Pair&lt;Double, SelectedRoad&gt;&gt; entry : hashmap3.entrySet()) { \t        \t\t \t        \t    firstHundredRecords.addAll((Collection&lt;? extends Entry&lt;Integer, SelectedRoad&gt;&gt;) entry); \t        \t     \t        \t    if (firstHundredRecords.size()&gt;=100) break; \t        \t}  \t        \tint count=0; \t        \t  for(int j=0;j&lt;100;j++){ \t           \t   System.out.println(&quot;value no. &quot;+count +&quot; : &quot;+ firstHundredRecords.get(j).getKey()+&quot;:::&quot; + firstHundredRecords.get(j).getValue()); \t              count++; \t        \t  }"},{"owner":{"account_id":1269244,"reputation":111,"user_id":1225918,"accept_rate":75,"display_name":"Adnan Ali Ch."},"score":0,"creation_date":1330456004,"post_id":9482933,"comment_id":12010187,"body_markdown":"And on execution I have the following Exception                        Exception in thread &quot;main&quot; java.lang.ClassCastException: java.util.LinkedHashMap$Entry cannot be cast to java.util.Collection","body":"And on execution I have the following Exception                        Exception in thread &quot;main&quot; java.lang.ClassCastException: java.util.LinkedHashMap$Entry cannot be cast to java.util.Collection"},{"owner":{"account_id":1269244,"reputation":111,"user_id":1225918,"accept_rate":75,"display_name":"Adnan Ali Ch."},"score":0,"creation_date":1330457688,"post_id":9482933,"comment_id":12010725,"body_markdown":"Hello Mr. @Peter Lawrey: I am looking for solution from you.","body":"Hello Mr. @Peter Lawrey: I am looking for solution from you."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1330463756,"post_id":9482933,"comment_id":12013024,"body_markdown":"And what do you see in a debugger?  This means you have a generic type which is incorrect or you are casting incorrectly. You need to place a break point on the line where this error occurs or trap this exception in your debugger.","body":"And what do you see in a debugger?  This means you have a generic type which is incorrect or you are casting incorrectly. You need to place a break point on the line where this error occurs or trap this exception in your debugger."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1330436315,"creation_date":1330436315,"answer_id":9482933,"question_id":9482509,"body_markdown":"To copy only the records you need with using a library.\r\n\r\n    Map&lt;Integer, Object&gt; records;\r\n    \r\n    List&lt;Entry&lt;Integer, Object&gt;&gt; firstHundredRecords = new ArrayList&lt;&gt;();\r\n    for(Entry&lt;Integer, Object&gt; entry : records.entrySet()) {\r\n        firstHundredRecords.add(entry);\r\n        if (firstHundredRecords.size()&gt;=100) break;\r\n    }\r\n\r\n","title":"How to get a limited number of values from a HashMap or LinkedHashMap?","body":"<p>To copy only the records you need with using a library.</p>\n\n<pre><code>Map&lt;Integer, Object&gt; records;\n\nList&lt;Entry&lt;Integer, Object&gt;&gt; firstHundredRecords = new ArrayList&lt;&gt;();\nfor(Entry&lt;Integer, Object&gt; entry : records.entrySet()) {\n    firstHundredRecords.add(entry);\n    if (firstHundredRecords.size()&gt;=100) break;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1269244,"reputation":111,"user_id":1225918,"accept_rate":75,"display_name":"Adnan Ali Ch."},"score":0,"creation_date":1330459363,"post_id":9488648,"comment_id":12011331,"body_markdown":"I have  Map&lt;Integer, Pair&lt;Double,SelectedRoad&gt; &gt; hashmap3 = new LinkedHashMap&lt;Integer, Pair&lt;Double,SelectedRoad&gt; &gt;();         Now I need just 100 rows from it. Please write code. Thanks!","body":"I have  Map&lt;Integer, Pair&lt;Double,SelectedRoad&gt; &gt; hashmap3 = new LinkedHashMap&lt;Integer, Pair&lt;Double,SelectedRoad&gt; &gt;();         Now I need just 100 rows from it. Please write code. Thanks!"},{"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"score":0,"creation_date":1330459596,"post_id":9488648,"comment_id":12011424,"body_markdown":"Just substitute `Pair&lt;Double, SelectedRoad&gt;` with the `Object` in the code sample above. You&#39;ll get a `List&lt;Pair&lt;Double, SelectedRoad&gt;&gt;` of 100 elements.","body":"Just substitute <code>Pair&lt;Double, SelectedRoad&gt;</code> with the <code>Object</code> in the code sample above. You&#39;ll get a <code>List&lt;Pair&lt;Double, SelectedRoad&gt;&gt;</code> of 100 elements."},{"owner":{"account_id":1269244,"reputation":111,"user_id":1225918,"accept_rate":75,"display_name":"Adnan Ali Ch."},"score":0,"creation_date":1330460127,"post_id":9488648,"comment_id":12011628,"body_markdown":"you means                                                                   \t\t        List&lt;Pair&lt;Double,SelectedRoad&gt; &gt; mylist = new ArrayList();\n\t\t        Collections.list(Collections.enumeration(hashmap3.values())).subList(0, 100);","body":"you means                                                                   \t\t        List&lt;Pair&lt;Double,SelectedRoad&gt; &gt; mylist = new ArrayList(); \t\t        Collections.list(Collections.enumeration(hashmap3.values()))&zwnj;&#8203;.subList(0, 100);"},{"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"score":0,"creation_date":1330460941,"post_id":9488648,"comment_id":12011924,"body_markdown":"@AdnanAliCh: No, that should work as described. What you wrote would not do anything to the ArrayList. You can write this instead: `ArrayList&lt;Pair&lt;Double,SelectedRoad&gt;&gt; firstPairs = Collections.list(Collections.enumeration(hashmap3.values())).subList(0, 100)`.","body":"@AdnanAliCh: No, that should work as described. What you wrote would not do anything to the ArrayList. You can write this instead: <code>ArrayList&lt;Pair&lt;Double,SelectedRoad&gt;&gt; firstPairs = Collections.list(Collections.enumeration(hashmap3.values()))&zwnj;&#8203;.subList(0, 100)</code>."},{"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"score":0,"creation_date":1330461833,"post_id":9488648,"comment_id":12012294,"body_markdown":"@AdnanAliCh: Let us know how that works out for you and accept the answer that best matches your expectations when you are happy with the result.","body":"@AdnanAliCh: Let us know how that works out for you and accept the answer that best matches your expectations when you are happy with the result."},{"owner":{"account_id":1269244,"reputation":111,"user_id":1225918,"accept_rate":75,"display_name":"Adnan Ali Ch."},"score":0,"creation_date":1330462398,"post_id":9488648,"comment_id":12012488,"body_markdown":"Thanks a lot. Your Solution is working for me.....Do you have any improved solution rather then using subList() function..in....Some other good approach to get the same output...Collections.list(Collections.enumeration(hashmap3.values())).subList(0, 100)","body":"Thanks a lot. Your Solution is working for me.....Do you have any improved solution rather then using subList() function..in....Some other good approach to get the same output...Collections.list(Collections.enumeration(hashmap3.v&zwnj;&#8203;alues())).subList(0, 100)"},{"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"score":0,"creation_date":1330472657,"post_id":9488648,"comment_id":12016034,"body_markdown":"@AdnanAliCh: define &quot;improved&quot;. You need to be clearer on what you want from the get-go, or we&#39;ll keep going back and forth. This one works, with some caveats pointed out. What else do you want, and what caveats do you want to avoid, or what exact output do you need?","body":"@AdnanAliCh: define &quot;improved&quot;. You need to be clearer on what you want from the get-go, or we&#39;ll keep going back and forth. This one works, with some caveats pointed out. What else do you want, and what caveats do you want to avoid, or what exact output do you need?"},{"owner":{"account_id":1269244,"reputation":111,"user_id":1225918,"accept_rate":75,"display_name":"Adnan Ali Ch."},"score":0,"creation_date":1330499330,"post_id":9488648,"comment_id":12021092,"body_markdown":"Thanks for your reply. I have found the exact result, which I need.!","body":"Thanks for your reply. I have found the exact result, which I need.!"},{"owner":{"account_id":1269244,"reputation":111,"user_id":1225918,"accept_rate":75,"display_name":"Adnan Ali Ch."},"score":0,"creation_date":1330499386,"post_id":9488648,"comment_id":12021109,"body_markdown":"Overall thanks for your SOLUTION! It works fine enough for me!","body":"Overall thanks for your SOLUTION! It works fine enough for me!"}],"tags":[],"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1330472714,"creation_date":1330458453,"answer_id":9488648,"question_id":9482509,"body_markdown":"# Ugly One-Liner\r\n\r\nThis **ugly one-liner** would do (and return a `ArrayList&lt;Object&gt;` in the question&#39;s case):\r\n\r\n    Collections.list(Collections.enumeration(lhMap.values())).subList(0, 100)\r\n\r\nThis would work for a `HashMap` as well, however `HashMap` being backed by a `HashSet` there&#39;s not guarantee that you will get the first 100 values that were entered; it would work on other types, with similar limitations.\r\n\r\n**Notes:**\r\n\r\n - relatively unefficient (read the Javadoc to know why - though there&#39;s worse!),\r\n - careful when using views (read the Javadoc to know more),\r\n - I did mention it was ugly.\r\n\r\n# Step-By-Step Usage Example\r\n\r\n_(as per the OP&#39;s comment)_\r\n\r\n    Map&lt;Integer, Pair&lt;Double, SelectedRoad&gt;&gt; hashmap3 =\r\n      new LinkedHashMap&lt;Integer, Pair&lt;Double, SelectedRoad&gt;&gt;();\r\n\r\n    // [...] add 216 elements to hasmap3 here somehow\r\n\r\n    ArrayList&lt;Pair&lt;Double,SelectedRoad&gt;&gt; firstPairs = \r\n      Collections.list(Collections.enumeration(hashmap3.values())).subList(0, 100)\r\n\r\n    // you can then view your Pairs&#39; SelectedRow values with them with:\r\n    //  (assuming that:\r\n    //    - your Pair class comes from Apache Commons Lang 3.0\r\n    //    - your SelectedRoad class implements a decent toString() )\r\n    for (final Pair&lt;Double, SelectedRoad&gt; p : firstPairs) {\r\n        System.out.println(&quot;double: &quot; + p.left);\r\n        System.out.println(&quot;road  : &quot; + p.right);\r\n    }\r\n","title":"How to get a limited number of values from a HashMap or LinkedHashMap?","body":"<h1>Ugly One-Liner</h1>\n\n<p>This <strong>ugly one-liner</strong> would do (and return a <code>ArrayList&lt;Object&gt;</code> in the question's case):</p>\n\n<pre><code>Collections.list(Collections.enumeration(lhMap.values())).subList(0, 100)\n</code></pre>\n\n<p>This would work for a <code>HashMap</code> as well, however <code>HashMap</code> being backed by a <code>HashSet</code> there's not guarantee that you will get the first 100 values that were entered; it would work on other types, with similar limitations.</p>\n\n<p><strong>Notes:</strong></p>\n\n<ul>\n<li>relatively unefficient (read the Javadoc to know why - though there's worse!),</li>\n<li>careful when using views (read the Javadoc to know more),</li>\n<li>I did mention it was ugly.</li>\n</ul>\n\n<h1>Step-By-Step Usage Example</h1>\n\n<p><em>(as per the OP's comment)</em></p>\n\n<pre><code>Map&lt;Integer, Pair&lt;Double, SelectedRoad&gt;&gt; hashmap3 =\n  new LinkedHashMap&lt;Integer, Pair&lt;Double, SelectedRoad&gt;&gt;();\n\n// [...] add 216 elements to hasmap3 here somehow\n\nArrayList&lt;Pair&lt;Double,SelectedRoad&gt;&gt; firstPairs = \n  Collections.list(Collections.enumeration(hashmap3.values())).subList(0, 100)\n\n// you can then view your Pairs' SelectedRow values with them with:\n//  (assuming that:\n//    - your Pair class comes from Apache Commons Lang 3.0\n//    - your SelectedRoad class implements a decent toString() )\nfor (final Pair&lt;Double, SelectedRoad&gt; p : firstPairs) {\n    System.out.println(\"double: \" + p.left);\n    System.out.println(\"road  : \" + p.right);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691878081,"creation_date":1691878081,"answer_id":76891301,"question_id":9482509,"body_markdown":"The following one-liner will return the first 100 values of a map, or all elements if the map has fewer than 100 values.\r\n\r\n```lang-java\r\nList&lt;Object&gt; values = map.values().stream().limit(100).toList();\r\n```\r\n","title":"How to get a limited number of values from a HashMap or LinkedHashMap?","body":"<p>The following one-liner will return the first 100 values of a map, or all elements if the map has fewer than 100 values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Object&gt; values = map.values().stream().limit(100).toList();\n</code></pre>\n"}],"owner":{"account_id":1269244,"reputation":111,"user_id":1225918,"accept_rate":75,"display_name":"Adnan Ali Ch."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6709,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":9488648,"answer_count":7,"score":3,"last_activity_date":1691878081,"creation_date":1330434542,"question_id":9482509,"body_markdown":"Say I have a `LinkedHashMap` containing 216 entries, how would I get the first 100 values (here, of type `Object`) from a `LinkedHashMap&lt;Integer, Object&gt;`.\r\n","title":"How to get a limited number of values from a HashMap or LinkedHashMap?","body":"<p>Say I have a <code>LinkedHashMap</code> containing 216 entries, how would I get the first 100 values (here, of type <code>Object</code>) from a <code>LinkedHashMap&lt;Integer, Object&gt;</code>.</p>\n"},{"tags":["java","kotlin","retrofit2","google-places-api","google-directions-api"],"owner":{"account_id":29193971,"reputation":1,"user_id":22365524,"display_name":"kosi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691877907,"creation_date":1691877821,"question_id":76891290,"body_markdown":"I&#39;m trying to make use of the directions api to draw route on map. I created the interface below so I can call the getRoutes() Function inside the interface in the mainactivity and access texts from edittexts and pass them as the origin and destination, but when I use the interface, it returns an empty route with status = not found. (Mind you, the texts from the edittext is from the places api(place.name), so its a valid address)\r\n\r\n    RoutesResponse(error_message=null, routes=[], status=NOT_FOUND)\r\n\r\nthe below is the interface:\r\n\r\n\r\n\r\n    interface RouteService{\r\n        @Headers(&quot;Content-Type: application/json&quot;)\r\n        @POST(&quot;https://maps.googleapis.com/maps/api/directions/json&quot;)\r\n        fun getRoutes(\r\n            @Query(&quot;origin&quot;) origin: String,\r\n            @Query(&quot;destination&quot;) destination: String,\r\n            @Query(&quot;mode&quot;) mode: String,\r\n            @Query(&quot;key&quot;) apiKey: String\r\n        ): Call&lt;RoutesResponse&gt;\r\n    }\r\n\r\n\r\n\r\n\r\nThe only time the interface works is when I removed the &quot;@Query&quot; just like it is below.\r\n\r\n    interface RouteService{\r\n        @Headers(&quot;Content-Type: application/json&quot;)\r\n        @POST(&quot;https://maps.googleapis.com/maps/api/directions/json?destination=Nadia Bakery, Benin City, Nigeria&amp;origin=Hall 2 (Tinubu Female Hostel), Benin City, Nigeria&amp;key=API_KEY&quot;)\r\n        fun getRoutes(): Call&lt;RoutesResponse&gt;\r\n    }\r\n\r\n\r\nThe above isn&#39;t efficient, as I cannot pass texts from the edittext as origin and destination.\r\n\r\nHow else do I do this so I can be able to use texts entered in the edittext as the origin and destination?","title":"google directions api always returning empty route","body":"<p>I'm trying to make use of the directions api to draw route on map. I created the interface below so I can call the getRoutes() Function inside the interface in the mainactivity and access texts from edittexts and pass them as the origin and destination, but when I use the interface, it returns an empty route with status = not found. (Mind you, the texts from the edittext is from the places api(place.name), so its a valid address)</p>\n<pre><code>RoutesResponse(error_message=null, routes=[], status=NOT_FOUND)\n</code></pre>\n<p>the below is the interface:</p>\n<pre><code>interface RouteService{\n    @Headers(&quot;Content-Type: application/json&quot;)\n    @POST(&quot;https://maps.googleapis.com/maps/api/directions/json&quot;)\n    fun getRoutes(\n        @Query(&quot;origin&quot;) origin: String,\n        @Query(&quot;destination&quot;) destination: String,\n        @Query(&quot;mode&quot;) mode: String,\n        @Query(&quot;key&quot;) apiKey: String\n    ): Call&lt;RoutesResponse&gt;\n}\n</code></pre>\n<p>The only time the interface works is when I removed the &quot;@Query&quot; just like it is below.</p>\n<pre><code>interface RouteService{\n    @Headers(&quot;Content-Type: application/json&quot;)\n    @POST(&quot;https://maps.googleapis.com/maps/api/directions/json?destination=Nadia Bakery, Benin City, Nigeria&amp;origin=Hall 2 (Tinubu Female Hostel), Benin City, Nigeria&amp;key=API_KEY&quot;)\n    fun getRoutes(): Call&lt;RoutesResponse&gt;\n}\n</code></pre>\n<p>The above isn't efficient, as I cannot pass texts from the edittext as origin and destination.</p>\n<p>How else do I do this so I can be able to use texts entered in the edittext as the origin and destination?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1584821570,"post_id":60792658,"comment_id":107557833,"body_markdown":"Do you mean the last N entries that were added to the `Map` ?","body":"Do you mean the last N entries that were added to the <code>Map</code> ?"},{"owner":{"account_id":5194973,"reputation":1440,"user_id":4156633,"display_name":"Luca Jung"},"score":0,"creation_date":1584821572,"post_id":60792658,"comment_id":107557834,"body_markdown":"Use .size() and .get(index)","body":"Use .size() and .get(index)"},{"owner":{"account_id":11989239,"reputation":1426,"user_id":8772899,"display_name":"Adam Amin"},"score":0,"creation_date":1584821656,"post_id":60792658,"comment_id":107557863,"body_markdown":"@Abra Assume the map has 10 elements, after sorting it I want to get the last 3 elements (element 8, 9, and 10).","body":"@Abra Assume the map has 10 elements, after sorting it I want to get the last 3 elements (element 8, 9, and 10)."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1584821704,"post_id":60792658,"comment_id":107557881,"body_markdown":"@LucaJung I don&#39;t see method `get(index)` in class [LinkedHashMap](https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html)","body":"@LucaJung I don&#39;t see method <code>get(index)</code> in class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">LinkedHashMap</a>"},{"owner":{"account_id":5194973,"reputation":1440,"user_id":4156633,"display_name":"Luca Jung"},"score":0,"creation_date":1584821866,"post_id":60792658,"comment_id":107557922,"body_markdown":"@Abra Sorry, forgot that you first copy the Map to a list.","body":"@Abra Sorry, forgot that you first copy the Map to a list."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1584821975,"post_id":60792658,"comment_id":107557955,"body_markdown":"Maybe reverse the sort and get the first N elements?","body":"Maybe reverse the sort and get the first N elements?"},{"owner":{"account_id":11989239,"reputation":1426,"user_id":8772899,"display_name":"Adam Amin"},"score":0,"creation_date":1584822065,"post_id":60792658,"comment_id":107557975,"body_markdown":"@Abra Can you please tell me how to do it?","body":"@Abra Can you please tell me how to do it?"}],"answers":[{"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1691819729,"post_id":60793061,"comment_id":135546078,"body_markdown":"`Comparator.reverseOrder()` does the same thing as your custom comparator.","body":"<code>Comparator.reverseOrder()</code> does the same thing as your custom comparator."}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1584823501,"creation_date":1584823501,"answer_id":60793061,"question_id":60792658,"body_markdown":"A `Comparator` that determines whether the first `Double` is larger than the second...\r\n```java\r\npublic class ReverseDoubleComparator implements java.util.Comparator&lt;Double&gt; {\r\n    public int compare(Double d1, Double d2) {\r\n        return (d1.compareTo(d2)) * (-1);\r\n    }\r\n}\r\n```\r\nNow use this `Comparator` in `sorted()` method, i.e.\r\n```java\r\nMap&lt;String, Double&gt; sortedInds = \r\n                indDistance.entrySet().stream()\r\n                .sorted(Entry.comparingByValue(new ReverseDoubleComparator()))\r\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n```\r\n\r\n","title":"How to retrieve the last N elements from a LinkedHashMap","body":"<p>A <code>Comparator</code> that determines whether the first <code>Double</code> is larger than the second...</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class ReverseDoubleComparator implements java.util.Comparator&lt;Double&gt; {\n    public int compare(Double d1, Double d2) {\n        return (d1.compareTo(d2)) * (-1);\n    }\n}\n</code></pre>\n\n<p>Now use this <code>Comparator</code> in <code>sorted()</code> method, i.e.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Double&gt; sortedInds = \n                indDistance.entrySet().stream()\n                .sorted(Entry.comparingByValue(new ReverseDoubleComparator()))\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691820021,"creation_date":1691820021,"answer_id":76887962,"question_id":60792658,"body_markdown":"Assuming you&#39;re not using `sortedInds` for anything else other than getting the last `n` elements, you could replace collecting it to a `Map` with returning the last `n` elements as a `List`:\r\n\r\n```lang-java\r\nList&lt;Map.Entry&lt;String, Double&gt;&gt; sortedInds = indDistance.entrySet().stream()\r\n        .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n        .limit(n)\r\n        .toList();\r\n```\r\n\r\nThis sorts the `Map` in reverse order by value, limits the results just the first `n` elements, then returns the resulting `Entry` values as a `List`.","title":"How to retrieve the last N elements from a LinkedHashMap","body":"<p>Assuming you're not using <code>sortedInds</code> for anything else other than getting the last <code>n</code> elements, you could replace collecting it to a <code>Map</code> with returning the last <code>n</code> elements as a <code>List</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map.Entry&lt;String, Double&gt;&gt; sortedInds = indDistance.entrySet().stream()\n        .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n        .limit(n)\n        .toList();\n</code></pre>\n<p>This sorts the <code>Map</code> in reverse order by value, limits the results just the first <code>n</code> elements, then returns the resulting <code>Entry</code> values as a <code>List</code>.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691877674,"creation_date":1691877674,"answer_id":76891284,"question_id":60792658,"body_markdown":"The following will get the last n elements of an existing `LinkedHashMap` as a `List&lt;Entry&gt;`:\r\n\r\n```lang-java\r\nint n = 3;\r\n\r\nList&lt;Map.Entry&lt;String, Double&gt;&gt; lastN = sortedInds.entrySet().stream()\r\n        .skip(sortedInds.size() - n)\r\n        .toList();\r\n```","title":"How to retrieve the last N elements from a LinkedHashMap","body":"<p>The following will get the last n elements of an existing <code>LinkedHashMap</code> as a <code>List&lt;Entry&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int n = 3;\n\nList&lt;Map.Entry&lt;String, Double&gt;&gt; lastN = sortedInds.entrySet().stream()\n        .skip(sortedInds.size() - n)\n        .toList();\n</code></pre>\n"}],"owner":{"account_id":11989239,"reputation":1426,"user_id":8772899,"display_name":"Adam Amin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1691877674,"creation_date":1584820893,"question_id":60792658,"body_markdown":"I have a `LinkedHashMap` that is:\r\n\r\n    Map&lt;String, Double&gt; indDistance = new LinkedHashMap&lt;String, Double&gt;();\r\n\r\nThat I sort it as:\r\n\r\n    Map&lt;String, Double&gt; sortedInds = \r\n    \t\t\t\tindDistance.entrySet().stream()\r\n    \t\t\t    .sorted(Entry.comparingByValue())\r\n    \t\t\t    .collect(Collectors.toMap(Entry::getKey, Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n\r\nHow can I retrieve the last N elements from `sortedInds`?","title":"How to retrieve the last N elements from a LinkedHashMap","body":"<p>I have a <code>LinkedHashMap</code> that is:</p>\n\n<pre><code>Map&lt;String, Double&gt; indDistance = new LinkedHashMap&lt;String, Double&gt;();\n</code></pre>\n\n<p>That I sort it as:</p>\n\n<pre><code>Map&lt;String, Double&gt; sortedInds = \n                indDistance.entrySet().stream()\n                .sorted(Entry.comparingByValue())\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue, (e1, e2) -&gt; e1, LinkedHashMap::new));\n</code></pre>\n\n<p>How can I retrieve the last N elements from <code>sortedInds</code>?</p>\n"},{"tags":["java","android","sharedpreferences"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1690933619,"post_id":76813010,"comment_id":135421220,"body_markdown":"I copied your code into an activity in a fresh project and it ran fine (saved = true). Are you running this on an emulator or a real device? From what context (an activity, a service, etc)?","body":"I copied your code into an activity in a fresh project and it ran fine (saved = true). Are you running this on an emulator or a real device? From what context (an activity, a service, etc)?"}],"answers":[{"tags":[],"owner":{"account_id":5376620,"reputation":195,"user_id":4283285,"display_name":"bjubes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691877494,"creation_date":1691877494,"answer_id":76891278,"question_id":76813010,"body_markdown":"The issue was using the wrong context. My apk runs as a plugin in another app, apparently only the app&#39;s context can be used, not the plugins.","title":"Cannot commit StringSet to SharedPreferences","body":"<p>The issue was using the wrong context. My apk runs as a plugin in another app, apparently only the app's context can be used, not the plugins.</p>\n"}],"owner":{"account_id":5376620,"reputation":195,"user_id":4283285,"display_name":"bjubes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1691877494,"creation_date":1690902663,"question_id":76813010,"body_markdown":"I using the following code to create a set of strings, but everytime I call commit, it always returns false and never saves, and instead gives this error:\r\n```none\r\nCouldn&#39;t create directory for SharedPreferences file /data/user/0/com.identifier.my/shared_prefs/MyApp.xml\r\n```\r\n\r\n\r\nI am creating a new hash set every time. I am never modifying the returned stringSet in place, only iterating over it in another method. I have tried using `editor.apply()` and have tried saving in a while loop until `commit()` returns true, which it never does.\r\n\r\n\r\n        HashSet&lt;String&gt; params = new HashSet&lt;&gt;();\r\n        for (String strs : myExisitingStrings) {\r\n            params.add(strs);\r\n        }\r\n        SharedPreferences prefs =_context.getSharedPreferences(&quot;MyApp&quot;,Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = prefs.edit();\r\n        editor.remove(&quot;params&quot;); //have tried with this line removed as well\r\n        editor.putStringSet(&quot;params&quot;,params);\r\n        boolean saved = editor.commit();\r\n","title":"Cannot commit StringSet to SharedPreferences","body":"<p>I using the following code to create a set of strings, but everytime I call commit, it always returns false and never saves, and instead gives this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Couldn't create directory for SharedPreferences file /data/user/0/com.identifier.my/shared_prefs/MyApp.xml\n</code></pre>\n<p>I am creating a new hash set every time. I am never modifying the returned stringSet in place, only iterating over it in another method. I have tried using <code>editor.apply()</code> and have tried saving in a while loop until <code>commit()</code> returns true, which it never does.</p>\n<pre><code>    HashSet&lt;String&gt; params = new HashSet&lt;&gt;();\n    for (String strs : myExisitingStrings) {\n        params.add(strs);\n    }\n    SharedPreferences prefs =_context.getSharedPreferences(&quot;MyApp&quot;,Context.MODE_PRIVATE);\n    SharedPreferences.Editor editor = prefs.edit();\n    editor.remove(&quot;params&quot;); //have tried with this line removed as well\n    editor.putStringSet(&quot;params&quot;,params);\n    boolean saved = editor.commit();\n</code></pre>\n"},{"tags":["java","tomcat","intellij-idea"],"comments":[{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":0,"creation_date":1483470849,"post_id":41450629,"comment_id":70107920,"body_markdown":"You should not be manually running the .bat file at all if Tomcat properly configured in intellij. Check your tomcat configuration files, make sure they point to the correct startup, and potentially add in the option to kill the tomcat server before startup.","body":"You should not be manually running the .bat file at all if Tomcat properly configured in intellij. Check your tomcat configuration files, make sure they point to the correct startup, and potentially add in the option to kill the tomcat server before startup."},{"owner":{"account_id":9875939,"reputation":1484,"user_id":7313698,"accept_rate":67,"display_name":"Spasoje Petronijević"},"score":0,"creation_date":1483471681,"post_id":41450629,"comment_id":70108320,"body_markdown":"@Compass Thank you for answer. When I do not start tomcat manually i got 2nd error as I wrote. Which config file I should check?","body":"@Compass Thank you for answer. When I do not start tomcat manually i got 2nd error as I wrote. Which config file I should check?"},{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":0,"creation_date":1483471818,"post_id":41450629,"comment_id":70108388,"body_markdown":"I think it&#39;s this one. http://stackoverflow.com/questions/19068977/intellij-cant-start-simple-web-application-unable-to-ping-server-at-localhost","body":"I think it&#39;s this one. <a href=\"http://stackoverflow.com/questions/19068977/intellij-cant-start-simple-web-application-unable-to-ping-server-at-localhost\" title=\"intellij cant start simple web application unable to ping server at localhost\">stackoverflow.com/questions/19068977/&hellip;</a>"},{"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"score":0,"creation_date":1483475501,"post_id":41450629,"comment_id":70110089,"body_markdown":"perhaps this [answer](http://stackoverflow.com/a/35601869/1988304) of me gives you a hint ...","body":"perhaps this <a href=\"http://stackoverflow.com/a/35601869/1988304\">answer</a> of me gives you a hint ..."}],"answers":[{"comments":[{"owner":{"account_id":9875939,"reputation":1484,"user_id":7313698,"accept_rate":67,"display_name":"Spasoje Petronijević"},"score":0,"creation_date":1484046628,"post_id":41459126,"comment_id":70338780,"body_markdown":"My problem was that I was trying to use Java 1.7. Thank you for answer. Cheers. :)","body":"My problem was that I was trying to use Java 1.7. Thank you for answer. Cheers. :)"}],"tags":[],"owner":{"account_id":2257408,"reputation":4873,"user_id":1988304,"accept_rate":92,"display_name":"JimHawkins"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1483520389,"creation_date":1483517813,"answer_id":41459126,"question_id":41450629,"body_markdown":" 1. check if you&#39;re using JDK 8 with Tomcat 9\r\n 1. in your &quot;Run Configuration&quot;, go to the tab &quot;Deployment&quot; and ensure that you&#39;ve selected the correct war and chose a deployment path. For convenience, add the deployment path to the URL in the &quot;After launch&quot; section on the tab &quot;Server&quot;\r\n 1. in your screenshot, on the tab &quot;Server&quot;, I see there is no action defined in the section &quot;Before launch&quot;. Did you delete it? By default, there are two entries like `Build` and `Build &#39;simpleServlet:war&#39; artifact`. Add these entries by clicking on `+`\r\n 1. before you start your web app via IntelliJ, **ensure that Tomcat isn&#39;t running**: open a browser and enter the URL`http://localhost:8080` . There must be an error message &quot;no connection&quot; or similar. If you see the welcome page, stop Tomcat.\r\n 1. run your application via IntelliJ\r\n[![enter image description here][1]][1]\r\n \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Dk7s.png\r\n  [2]: https://i.stack.imgur.com/3k70n.png","title":"Cannot start app on tomcat with intellij","body":"<ol>\n<li>check if you're using JDK 8 with Tomcat 9</li>\n<li>in your \"Run Configuration\", go to the tab \"Deployment\" and ensure that you've selected the correct war and chose a deployment path. For convenience, add the deployment path to the URL in the \"After launch\" section on the tab \"Server\"</li>\n<li>in your screenshot, on the tab \"Server\", I see there is no action defined in the section \"Before launch\". Did you delete it? By default, there are two entries like <code>Build</code> and <code>Build 'simpleServlet:war' artifact</code>. Add these entries by clicking on <code>+</code></li>\n<li>before you start your web app via IntelliJ, <strong>ensure that Tomcat isn't running</strong>: open a browser and enter the URL<code>http://localhost:8080</code> . There must be an error message \"no connection\" or similar. If you see the welcome page, stop Tomcat.</li>\n<li>run your application via IntelliJ\n<a href=\"https://i.stack.imgur.com/9Dk7s.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9Dk7s.png\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/3k70n.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3k70n.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5763198,"reputation":171,"user_id":4548887,"display_name":"code_disciple"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499746628,"creation_date":1499746628,"answer_id":45025293,"question_id":41450629,"body_markdown":"I&#39;ve been struggling with this as a new developer and I find it&#39;s easiest when someone starts from scratch. My current version of IntelliJ is 2017.1.4. Using Tomcat 9.0.0\r\n\r\n1. File -&gt; New Project -&gt; Java -&gt; check &quot;Web Application&quot; -&gt; Name it and then Finish. &lt;i&gt;Your current project directory should contain [.idea + src + web/WEB-INF] with a default index.jsp in the web directory and a web.xml in the WEB-INF directory. &lt;/i&gt; &lt;b&gt; This step does a lot of the setup for you. This should also make steps 2 and 3 pointless.&lt;/b&gt;\r\n\r\n2. Under File -&gt; Settings -&gt; Facets, check if a Web Resource Directory exists (should point towards your web directory of your current project directory). If one doesn&#39;t, add one by hitting: + -&gt; Web -&gt; double-click resource directory to create.\r\n\r\n3. Under File -&gt; Settings -&gt; Artifacts, check if a &quot;ProjectName:war exploded&quot; exists. If not, create one by hitting: + -&gt; Web Application: Exploded -&gt; From Modules -&gt; Select and Confirm your Project Folder. \r\n\r\n4. Next to the Run button in the top-right there should be a downward arrow for &quot;Edit Configurations&quot;. Click that -&gt; Edit Configurations -&gt; + -&gt; Tomcat Server -&gt; Local. Under the Server tab, hit Configure and point to your Tomcat base directory (Ex: Tomcat 9.0.0.M22). Under Deployment Tab, hit: + -&gt; Artifact -&gt; &quot;ProjectName:war exploded&quot;. \r\n\r\n5. Add something to your index.jsp so that you can actually see a result and hit run. It should automatically open your browser to your index.jsp page. \r\n\r\nNormally you would have to configure your web.xml to your servlet class or use the welcome-file tags to specify which default pages to look for but index.html/index.jsp are defaults. So if you name your .jsp differently you will require additional configuration in your web.xml.","title":"Cannot start app on tomcat with intellij","body":"<p>I've been struggling with this as a new developer and I find it's easiest when someone starts from scratch. My current version of IntelliJ is 2017.1.4. Using Tomcat 9.0.0</p>\n\n<ol>\n<li><p>File -> New Project -> Java -> check \"Web Application\" -> Name it and then Finish. <i>Your current project directory should contain [.idea + src + web/WEB-INF] with a default index.jsp in the web directory and a web.xml in the WEB-INF directory. </i> <b> This step does a lot of the setup for you. This should also make steps 2 and 3 pointless.</b></p></li>\n<li><p>Under File -> Settings -> Facets, check if a Web Resource Directory exists (should point towards your web directory of your current project directory). If one doesn't, add one by hitting: + -> Web -> double-click resource directory to create.</p></li>\n<li><p>Under File -> Settings -> Artifacts, check if a \"ProjectName:war exploded\" exists. If not, create one by hitting: + -> Web Application: Exploded -> From Modules -> Select and Confirm your Project Folder. </p></li>\n<li><p>Next to the Run button in the top-right there should be a downward arrow for \"Edit Configurations\". Click that -> Edit Configurations -> + -> Tomcat Server -> Local. Under the Server tab, hit Configure and point to your Tomcat base directory (Ex: Tomcat 9.0.0.M22). Under Deployment Tab, hit: + -> Artifact -> \"ProjectName:war exploded\". </p></li>\n<li><p>Add something to your index.jsp so that you can actually see a result and hit run. It should automatically open your browser to your index.jsp page. </p></li>\n</ol>\n\n<p>Normally you would have to configure your web.xml to your servlet class or use the welcome-file tags to specify which default pages to look for but index.html/index.jsp are defaults. So if you name your .jsp differently you will require additional configuration in your web.xml.</p>\n"},{"tags":[],"owner":{"account_id":14722223,"reputation":1,"user_id":10632450,"display_name":"Sankara Narayanan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632312365,"creation_date":1632153250,"answer_id":69257456,"question_id":41450629,"body_markdown":"Follow below *steps* :\r\n1. IntellJ IDEA we need to point the Tomcat application server \r\nafter downloading from http://tomcat.apache.org/\r\n2. After opening the IntellJ IDEA click on the File menu on the right side\r\nyou will be able to see the list inside the File menu\r\n[Choose the File menu][1]\r\n\r\n3. Click on the `Settings` -&gt; `Build, Execution, Deployment` -&gt; `Application Server` click on the `+` icon in Application Server\r\n[Application][2]\r\n\r\n4. Point the Tomcat Home directory to the downloaded Tomcat path say `**C:/apache-tomcat-9.0.46**` press Apply and Ok button\r\n\r\n  [1]: https://i.stack.imgur.com/6vwWj.png\r\n  [2]: https://i.stack.imgur.com/BxooI.png","title":"Cannot start app on tomcat with intellij","body":"<p>Follow below <em>steps</em> :</p>\n<ol>\n<li><p>IntellJ IDEA we need to point the Tomcat application server\nafter downloading from <a href=\"http://tomcat.apache.org/\" rel=\"nofollow noreferrer\">http://tomcat.apache.org/</a></p>\n</li>\n<li><p>After opening the IntellJ IDEA click on the File menu on the right side\nyou will be able to see the list inside the File menu\n<a href=\"https://i.stack.imgur.com/6vwWj.png\" rel=\"nofollow noreferrer\">Choose the File menu</a></p>\n</li>\n<li><p>Click on the <code>Settings</code> -&gt; <code>Build, Execution, Deployment</code> -&gt; <code>Application Server</code> click on the <code>+</code> icon in Application Server\n<a href=\"https://i.stack.imgur.com/BxooI.png\" rel=\"nofollow noreferrer\">Application</a></p>\n</li>\n<li><p>Point the Tomcat Home directory to the downloaded Tomcat path say <code>**C:/apache-tomcat-9.0.46**</code> press Apply and Ok button</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14064729,"reputation":111,"user_id":10159895,"display_name":"Jayant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691877137,"creation_date":1691877137,"answer_id":76891263,"question_id":41450629,"body_markdown":"Resolved it by following the below configuration on my local:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FH9fn.png\r\n  [2]: https://i.stack.imgur.com/md1KC.png","title":"Cannot start app on tomcat with intellij","body":"<p>Resolved it by following the below configuration on my local:\n<a href=\"https://i.stack.imgur.com/FH9fn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FH9fn.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/md1KC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/md1KC.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9875939,"reputation":1484,"user_id":7313698,"accept_rate":67,"display_name":"Spasoje Petronijević"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16744,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41459126,"answer_count":4,"score":4,"last_activity_date":1691877137,"creation_date":1483470371,"question_id":41450629,"body_markdown":"I am trying to run my web app with IDEA intellij and tomcat server. I downloaded tomcat server, paste it in program files, made CATALINA_HOME and edit path to %CATALINA_HOME%\\bin; . \r\nMy run config:  \r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I start tomcat server from bin/startup.bat and try to run project I got error \r\nError running event: Address localhost:8080 already in use.\r\n\r\n When I don&#39;t start tomcat with bat file first I got an error: Application server was not connected before run configuration stop, reason: Unable to ping server at localhost:1099.\r\nWhen I run that bat script from tomcat and go to localhost:8080 i see tomcat start window.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8mtZg.png","title":"Cannot start app on tomcat with intellij","body":"<p>I am trying to run my web app with IDEA intellij and tomcat server. I downloaded tomcat server, paste it in program files, made CATALINA_HOME and edit path to %CATALINA_HOME%\\bin; . \nMy run config:  </p>\n\n<p><a href=\"https://i.stack.imgur.com/8mtZg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8mtZg.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I start tomcat server from bin/startup.bat and try to run project I got error \nError running event: Address localhost:8080 already in use.</p>\n\n<p>When I don't start tomcat with bat file first I got an error: Application server was not connected before run configuration stop, reason: Unable to ping server at localhost:1099.\nWhen I run that bat script from tomcat and go to localhost:8080 i see tomcat start window.</p>\n"},{"tags":["java","hibernate","kotlin","jpa","configuration"],"comments":[{"owner":{"account_id":28315514,"reputation":1,"user_id":21652149,"display_name":"Sawa_i"},"score":0,"creation_date":1692130065,"post_id":76886224,"comment_id":135581851,"body_markdown":"Here&#39;s the relevant &#39;Question&#39; I posted on github where this concern continued.\n\nhttps://github.com/vladmihalcea/hypersistence-utils/issues/648","body":"Here&#39;s the relevant &#39;Question&#39; I posted on github where this concern continued.  <a href=\"https://github.com/vladmihalcea/hypersistence-utils/issues/648\" rel=\"nofollow noreferrer\">github.com/vladmihalcea/hypersistence-utils/issues/648</a>"}],"owner":{"account_id":28315514,"reputation":1,"user_id":21652149,"display_name":"Sawa_i"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691876844,"creation_date":1691781371,"question_id":76886224,"body_markdown":"**OBSERVATION**\r\n\r\nHi, I&#39;m using &#39;hypersistence-utils-hibernate-52&#39; of &#39;io.hypersistence&#39; with version &#39;3.5.0&#39;\r\n\r\n[build.gradle](https://i.stack.imgur.com/PRWDb.png)\r\n\r\nNote: Though I&#39;ve tried &#39;hypersistence-utils-hibernate-55&#39; as well with same version and also 3.5.1 on both as well.\r\n\r\nAnd tried configuring hibernate by code like this:\r\n\r\n```\r\nval cfg = Configuration()\r\ncfg.configure(&quot;db/hibernate.cfg.xml&quot;)\r\nfactory = cfg.buildSessionFactory()\r\n```\r\n\r\nThe thing is I notice that my &#39;hibernate.cfg.xml&#39; properties are loaded while in implementing that function &#39;buildSessionFactory()&#39; and I can observe them alright under &#39;serviceRegistry&#39; component till &#39;HibernateTypesContributer&#39; ( To be noted they are like 79 properties there )\r\n\r\n[HibernateTypesContributer.java](https://i.stack.imgur.com/pKuE6.png)\r\n\r\nBut the thing is form here on out, through &#39;contributeType()&#39; function call.... successive function calls takes program control till first initialization of Configuration.java (inherited by Serializer), which in turn has this load() function meant to load further properties from any properties files (files already specified)\r\n\r\n[stackTrace from HibernateTypesContributer to Configuration.java](https://i.stack.imgur.com/Yulqh.png)\r\n\r\nAnd there we see that Configuration.java already has 53 properties (which it got by Environment.getProperties() on init)\r\n\r\n[Configuration.java](https://i.stack.imgur.com/xAE9j.png)\r\n\r\nload() function is about loading properties from one custom file and already 3 predefined properties file ( including hibernate.properties file )\r\n\r\n[Configuration.java load() predefined properties](https://i.stack.imgur.com/we1iJ.png)\r\n\r\nApplication.properties file had some properties which are added into Configuration.java to make its properties total be 64\r\n\r\n[After initialization of Configuration.java](https://i.stack.imgur.com/YxX6m.png)\r\n\r\nAnd these are the only properties loaded into it upon its initialzation.\r\n\r\nPS: I&#39;m certain the hibernate.cfg.xml properties loaded in beginning and confirmed, even the size can be seen to be 79 whereas in Configuration.java, 64 properties were in total ( and it definitely did not have the property I was expecting that was in the config.xml file)\r\n\r\n&gt; **BACKGROUND**\r\n&gt; I was expecting it to also load properties of hibernate.cfg.xml, especially needed for my case scenario where I put &#39;objectMapperSupplier&#39; property in my already available hibernate.cfg.xml and it ought JsonConfiguration would need Configuration to check if that property exists to create WrapperObjectMapper capable of returning objectMapperSupplier.\r\n&gt;\r\n&gt; Though there was one instance I was able to get that in the beginning when I was working with problem related to ObjectMapper, (That would mean it really was loading hibernate.cfg.xml properties) but till now, i&#39;ve not observed that.\r\n&gt;\r\n&gt; Posting here because I&#39;m unable to understand the current code being able to even pass those hibernate.cfg.xml properties. So even if I might&#39;ve messed up somehow, I&#39;d atleast now like to understand the code.\r\n\r\n**CONCLUSION**\r\nWith currently how it seems, I think the dependency has the bug.\r\n\r\n**EXPECTATION LOGICALLY**\r\nEither the following of the two things should happen:-\r\n\r\n1) Configuration.java which has load() function and loads further properties from predefined property files. ( PS: It ought to also have some path or code to load properties from &#39;hibernate.cfg.xml&#39; )\r\n\r\n\r\n2) HibernateTypesContributer.java &#39;contributeType()&#39; functions should send &#39;hibernate.cfg.xml&#39; properties ahead along. (so Configuration.java is initialized with those)\r\n\r\n","title":"&quot;hibernate.cfg.xml&quot; properties not loading in dependency Configuration.java properties. | io.hypersistence , hypersistence-utils-hibernate-52 , v3.5.0","body":"<p><strong>OBSERVATION</strong></p>\n<p>Hi, I'm using 'hypersistence-utils-hibernate-52' of 'io.hypersistence' with version '3.5.0'</p>\n<p><a href=\"https://i.stack.imgur.com/PRWDb.png\" rel=\"nofollow noreferrer\">build.gradle</a></p>\n<p>Note: Though I've tried 'hypersistence-utils-hibernate-55' as well with same version and also 3.5.1 on both as well.</p>\n<p>And tried configuring hibernate by code like this:</p>\n<pre><code>val cfg = Configuration()\ncfg.configure(&quot;db/hibernate.cfg.xml&quot;)\nfactory = cfg.buildSessionFactory()\n</code></pre>\n<p>The thing is I notice that my 'hibernate.cfg.xml' properties are loaded while in implementing that function 'buildSessionFactory()' and I can observe them alright under 'serviceRegistry' component till 'HibernateTypesContributer' ( To be noted they are like 79 properties there )</p>\n<p><a href=\"https://i.stack.imgur.com/pKuE6.png\" rel=\"nofollow noreferrer\">HibernateTypesContributer.java</a></p>\n<p>But the thing is form here on out, through 'contributeType()' function call.... successive function calls takes program control till first initialization of Configuration.java (inherited by Serializer), which in turn has this load() function meant to load further properties from any properties files (files already specified)</p>\n<p><a href=\"https://i.stack.imgur.com/Yulqh.png\" rel=\"nofollow noreferrer\">stackTrace from HibernateTypesContributer to Configuration.java</a></p>\n<p>And there we see that Configuration.java already has 53 properties (which it got by Environment.getProperties() on init)</p>\n<p><a href=\"https://i.stack.imgur.com/xAE9j.png\" rel=\"nofollow noreferrer\">Configuration.java</a></p>\n<p>load() function is about loading properties from one custom file and already 3 predefined properties file ( including hibernate.properties file )</p>\n<p><a href=\"https://i.stack.imgur.com/we1iJ.png\" rel=\"nofollow noreferrer\">Configuration.java load() predefined properties</a></p>\n<p>Application.properties file had some properties which are added into Configuration.java to make its properties total be 64</p>\n<p><a href=\"https://i.stack.imgur.com/YxX6m.png\" rel=\"nofollow noreferrer\">After initialization of Configuration.java</a></p>\n<p>And these are the only properties loaded into it upon its initialzation.</p>\n<p>PS: I'm certain the hibernate.cfg.xml properties loaded in beginning and confirmed, even the size can be seen to be 79 whereas in Configuration.java, 64 properties were in total ( and it definitely did not have the property I was expecting that was in the config.xml file)</p>\n<blockquote>\n<p><strong>BACKGROUND</strong>\nI was expecting it to also load properties of hibernate.cfg.xml, especially needed for my case scenario where I put 'objectMapperSupplier' property in my already available hibernate.cfg.xml and it ought JsonConfiguration would need Configuration to check if that property exists to create WrapperObjectMapper capable of returning objectMapperSupplier.</p>\n<p>Though there was one instance I was able to get that in the beginning when I was working with problem related to ObjectMapper, (That would mean it really was loading hibernate.cfg.xml properties) but till now, i've not observed that.</p>\n<p>Posting here because I'm unable to understand the current code being able to even pass those hibernate.cfg.xml properties. So even if I might've messed up somehow, I'd atleast now like to understand the code.</p>\n</blockquote>\n<p><strong>CONCLUSION</strong>\nWith currently how it seems, I think the dependency has the bug.</p>\n<p><strong>EXPECTATION LOGICALLY</strong>\nEither the following of the two things should happen:-</p>\n<ol>\n<li><p>Configuration.java which has load() function and loads further properties from predefined property files. ( PS: It ought to also have some path or code to load properties from 'hibernate.cfg.xml' )</p>\n</li>\n<li><p>HibernateTypesContributer.java 'contributeType()' functions should send 'hibernate.cfg.xml' properties ahead along. (so Configuration.java is initialized with those)</p>\n</li>\n</ol>\n"},{"tags":["java","android","rx-java"],"answers":[{"comments":[{"owner":{"account_id":19338624,"reputation":359,"user_id":14138691,"display_name":"Antony Nicolas Huaman Alikhan"},"score":0,"creation_date":1685243641,"post_id":76302540,"comment_id":134633710,"body_markdown":"To update propertly to androidx.core:core-ktx:1.10.1 to must need update: the kotlin plugin and the compose version, also the must have a compatibility between them. You can check this documentation if u want to understand a little more: https://developer.android.com/jetpack/androidx/releases/compose-kotlin","body":"To update propertly to androidx.core:core-ktx:1.10.1 to must need update: the kotlin plugin and the compose version, also the must have a compatibility between them. You can check this documentation if u want to understand a little more: <a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/androidx/releases/compose-kotl&zwnj;&#8203;in</a>"}],"tags":[],"owner":{"account_id":898592,"reputation":8148,"user_id":935330,"accept_rate":62,"display_name":"danilo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684717600,"creation_date":1684717600,"answer_id":76302540,"question_id":76075482,"body_markdown":"I have problems using Android Studio Flamingo | 2022.2.1 Patch 1  \r\nAfter updating 3 libraries:  \r\nin app/build.gradle I have updated:  \r\nFrom:  \r\n```\r\n    implementation &#39;androidx.core:core-ktx:1.8.0&#39;  \r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.3.1&#39;  \r\n    implementation &#39;androidx.activity:activity-compose:1.5.1&#39;  \r\n```\r\nTo:  \r\n```\r\n    implementation &#39;androidx.core:core-ktx:1.10.1&#39;  \r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.6.1&#39;  \r\n    implementation &#39;androidx.activity:activity-compose:1.7.1&#39;  \r\n```\r\nI undo it and worked.  ","title":"Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.10","body":"<p>I have problems using Android Studio Flamingo | 2022.2.1 Patch 1<br />\nAfter updating 3 libraries:<br />\nin app/build.gradle I have updated:<br />\nFrom:</p>\n<pre><code>    implementation 'androidx.core:core-ktx:1.8.0'  \n    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.3.1'  \n    implementation 'androidx.activity:activity-compose:1.5.1'  \n</code></pre>\n<p>To:</p>\n<pre><code>    implementation 'androidx.core:core-ktx:1.10.1'  \n    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.6.1'  \n    implementation 'androidx.activity:activity-compose:1.7.1'  \n</code></pre>\n<p>I undo it and worked.</p>\n"}],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3338,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1691876709,"creation_date":1682098177,"question_id":76075482,"body_markdown":"My project is in Java , but when i tried to compile the project , it throws kotlin-related error that there are duplicate classes whereas i&#39;m not really using any kotlin dependency or kotlin , any reason why this is happening Thank you .\r\n\r\n   \r\n  * This is my build gradle ( for project )\r\n\r\n  [![enter image description here][1]][1]\r\n\r\n  * This is my build gradle ( for module )\r\n\r\n  [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4ANLH.png\r\n  [2]: https://i.stack.imgur.com/nWjJC.png","title":"Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.10","body":"<p>My project is in Java , but when i tried to compile the project , it throws kotlin-related error that there are duplicate classes whereas i'm not really using any kotlin dependency or kotlin , any reason why this is happening Thank you .</p>\n<ul>\n<li>This is my build gradle ( for project )</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/4ANLH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ANLH.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>This is my build gradle ( for module )</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/nWjJC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nWjJC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","opencv","yolov8"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691938926,"post_id":76891097,"comment_id":135555641,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29052629,"reputation":1,"user_id":22255088,"display_name":"Samson Kempiak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691873677,"creation_date":1691873677,"question_id":76891097,"body_markdown":"I am trying to use a dnn opencv module to render an onnx model. However, it keeps giving me an error:\r\n```\r\nCvException [org.opencv.core.CvException: cv::Exception: OpenCV(4.7.0-dev) /home/ci/opencv/modules/dnn/src/onnx/onnx_importer.cpp:1073: error: (-2:Unspecified error) in function &#39;handleNode&#39;\r\nNode [Reshape@ai.onnx]:(onnx_node!/model.22/dfl/Reshape) parse error: OpenCV(4.7.0-dev) /home/ci/opencv/modules/dnn/src/layers/reshape_layer.cpp:109: error: (-215:Assertion failed) total(srcShape, srcRange.start, srcRange.end) == maskTotal in function &#39;computeShapeByReshapeMask&#39;\r\n]\r\n    at org.opencv.dnn.Dnn.readNetFromONNX_0(Native Method)\r\n    at org.opencv.dnn.Dnn.readNetFromONNX(Dnn.java:508)\r\n    at org.firstinspires.ftc.teamcode.vision.DeepNeuralNetworkProcessor.(DeepNeuralNetworkProcessor.java:59)\r\n    at org.firstinspires.ftc.teamcode.vision.OnnxPipeline.(OnnxPipeline.java:13)\r\n    at org.firstinspires.ftc.teamcode.vision.AIDetectThread.start(AIDetectThread.java:25)\r\n    at org.firstinspires.ftc.teamcode.vision.OnnxTestImplementation.init(OnnxTestImplementation.java:26)\r\n    at com.qualcomm.robotcore.eventloop.opmode.OpMode.internalRunOpMode(OpMode.java:181)\r\n    at com.qualcomm.robotcore.eventloop.opmode.OpModeInternal.lambda$internalInit$1$com-qualcomm-robotcore-eventloop-opmode-OpModeInternal(OpModeInternal.java:180)\r\n    at com.qualcomm.robotcore.eventloop.opmode.OpModeInternal$$ExternalSyntheticLambda1.run(D8$$SyntheticClass)\r\n    at com.qualcomm.robotcore.util.ThreadPool.logThreadLifeCycle(ThreadPool.java:737)\r\n    at com.qualcomm.robotcore.eventloop.opmode.OpModeInternal.lambda$internalInit$2$com-qualcomm-robotcore-eventloop-opmode-OpModeInternal(OpModeInternal.java:178)\r\n    at com.qualcomm.robotcore.eventloop.opmode.OpModeInternal$$ExternalSyntheticLambda2.run(D8$$SyntheticClass)\r\n```\r\n\r\nI have tried both simplifying and setting the input and ouput frames to the same resolution. Neither have even changed the error.","title":"Yolov8 unable to translate via ONNX to opencv DNN","body":"<p>I am trying to use a dnn opencv module to render an onnx model. However, it keeps giving me an error:</p>\n<pre><code>CvException [org.opencv.core.CvException: cv::Exception: OpenCV(4.7.0-dev) /home/ci/opencv/modules/dnn/src/onnx/onnx_importer.cpp:1073: error: (-2:Unspecified error) in function 'handleNode'\nNode [Reshape@ai.onnx]:(onnx_node!/model.22/dfl/Reshape) parse error: OpenCV(4.7.0-dev) /home/ci/opencv/modules/dnn/src/layers/reshape_layer.cpp:109: error: (-215:Assertion failed) total(srcShape, srcRange.start, srcRange.end) == maskTotal in function 'computeShapeByReshapeMask'\n]\n    at org.opencv.dnn.Dnn.readNetFromONNX_0(Native Method)\n    at org.opencv.dnn.Dnn.readNetFromONNX(Dnn.java:508)\n    at org.firstinspires.ftc.teamcode.vision.DeepNeuralNetworkProcessor.(DeepNeuralNetworkProcessor.java:59)\n    at org.firstinspires.ftc.teamcode.vision.OnnxPipeline.(OnnxPipeline.java:13)\n    at org.firstinspires.ftc.teamcode.vision.AIDetectThread.start(AIDetectThread.java:25)\n    at org.firstinspires.ftc.teamcode.vision.OnnxTestImplementation.init(OnnxTestImplementation.java:26)\n    at com.qualcomm.robotcore.eventloop.opmode.OpMode.internalRunOpMode(OpMode.java:181)\n    at com.qualcomm.robotcore.eventloop.opmode.OpModeInternal.lambda$internalInit$1$com-qualcomm-robotcore-eventloop-opmode-OpModeInternal(OpModeInternal.java:180)\n    at com.qualcomm.robotcore.eventloop.opmode.OpModeInternal$$ExternalSyntheticLambda1.run(D8$$SyntheticClass)\n    at com.qualcomm.robotcore.util.ThreadPool.logThreadLifeCycle(ThreadPool.java:737)\n    at com.qualcomm.robotcore.eventloop.opmode.OpModeInternal.lambda$internalInit$2$com-qualcomm-robotcore-eventloop-opmode-OpModeInternal(OpModeInternal.java:178)\n    at com.qualcomm.robotcore.eventloop.opmode.OpModeInternal$$ExternalSyntheticLambda2.run(D8$$SyntheticClass)\n</code></pre>\n<p>I have tried both simplifying and setting the input and ouput frames to the same resolution. Neither have even changed the error.</p>\n"},{"tags":["java","spring","spring-boot","docker","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":13308397,"reputation":23,"user_id":9607491,"display_name":"Akshay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691872781,"creation_date":1691872781,"answer_id":76891060,"question_id":76860040,"body_markdown":"@ things where I made change\r\n1) I was using docker image 3.12.2-management. Instead I used 3.10.25-management image.\r\n2) I was starting the container/ running the image from docker desktop by clicking on the run option of image. Instead of doing that I used following command\r\ndocker run --rm -it -p 15672:15672 -p 5672:5672 rabbitmq:3.10.25-management\r\nAnd now my publisher is able to push the message to the queue and cosumer can read/get the message from the same queue.","title":"Connection related exception while a spring-boot application tries to connect to rabbitMQ running in docker","body":"<p>@ things where I made change</p>\n<ol>\n<li>I was using docker image 3.12.2-management. Instead I used 3.10.25-management image.</li>\n<li>I was starting the container/ running the image from docker desktop by clicking on the run option of image. Instead of doing that I used following command\ndocker run --rm -it -p 15672:15672 -p 5672:5672 rabbitmq:3.10.25-management\nAnd now my publisher is able to push the message to the queue and cosumer can read/get the message from the same queue.</li>\n</ol>\n"}],"owner":{"account_id":13308397,"reputation":23,"user_id":9607491,"display_name":"Akshay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76891060,"answer_count":1,"score":0,"last_activity_date":1691872781,"creation_date":1691501324,"question_id":76860040,"body_markdown":"I am creating a producer and consumer in spring-boot running on localhost:8081, which is trying to push the message to the rabbitMQ.\r\nI am running rabbitMQ in docker.\r\n**I am using this image -&gt; rabbitmq:3.12.2-management**\r\nWhen I send request I am getting a connection refused exception.\r\nI tried to look for some of the questions similar to mine such as following but I could not solve the issue.\r\nhttps://stackoverflow.com/questions/47873835/spring-boot-not-connecting-to-rabbitmq\r\nhttps://stackoverflow.com/questions/33880410/spring-boot-cannot-connect-to-rabbitmq\r\n\r\nI am adding code, logs from my spring-boot application as well as the logs that I can see on docker desktop.\r\n\r\nMy application details are as follows\r\nRabbitMQConfig.java\r\n\r\n    package com.akshay.springbootrabbitmq.config;\r\n    \r\n    import org.springframework.amqp.core.Binding;\r\n    import org.springframework.amqp.core.BindingBuilder;\r\n    import org.springframework.amqp.core.Queue;\r\n    import org.springframework.amqp.core.TopicExchange;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class RabbitMQConfig {\r\n    \t\r\n    \t@Value(&quot;${rabbitmq.queue.name}&quot;)\r\n    \tprivate String queue;\r\n    \t\r\n    \t@Value(&quot;${rabbitmq.exchange.name}&quot;)\r\n    \tprivate String exchange;\r\n    \t\r\n    \t@Value(&quot;${rabbitmq.routing.key}&quot;)\r\n    \tprivate String routingKey;\r\n    \r\n    \t@Bean\r\n    \tpublic Queue queue() {\r\n    \t\treturn new Queue(queue);\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic TopicExchange exchange() {\r\n    \t\treturn new TopicExchange(exchange);\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic Binding bind() {\r\n    \t\treturn BindingBuilder.bind(queue())\r\n    \t\t\t\t.to(exchange())\r\n    \t\t\t\t.with(routingKey);\r\n    \t}\r\n    }\r\n\r\nRabbitMQProducer.java\r\n\r\n    package com.akshay.springbootrabbitmq.publisher;\r\n    \r\n    import org.springframework.amqp.AmqpException;\r\n    import org.springframework.amqp.rabbit.core.RabbitTemplate;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class RabbitMQProducer {\r\n    \t\r\n    \t@Value(&quot;${rabbitmq.exchange.name}&quot;)\r\n    \tprivate String exchange;\r\n    \t\r\n    \t@Value(&quot;${rabbitmq.routing.key}&quot;)\r\n    \tprivate String routingKey;\r\n    \t\r\n    \tprivate RabbitTemplate rabbitTemplate;\r\n    \r\n    \t@Autowired\r\n    \tpublic RabbitMQProducer(RabbitTemplate rabbitTemplate) {\r\n    \t\tthis.rabbitTemplate = rabbitTemplate;\r\n    \t}\r\n    \t\r\n    \tpublic void sendMessage(String message) {\r\n    \t\tSystem.out.println(&quot;Sending message - &quot;+message+&quot; to the exchange named - &quot;+exchange);\r\n    \t\ttry {\r\n    \t\t\trabbitTemplate.convertAndSend(exchange, routingKey, message);\r\n    \t\t}catch(AmqpException ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nMessageController.java\r\n\r\n    package com.akshay.springbootrabbitmq.controller;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.akshay.springbootrabbitmq.publisher.RabbitMQProducer;\r\n    \r\n    @RestController\r\n    public class MessageController {\r\n    \t\r\n    \tprivate RabbitMQProducer producer;\r\n    \r\n    \t@Autowired\r\n    \tpublic MessageController(RabbitMQProducer producer) {\r\n    \t\tthis.producer = producer;\r\n    \t}\r\n    \t\r\n    \t@GetMapping(&quot;/api/publish&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; sendMessage(@RequestParam(&quot;msg&quot;) String message){\r\n    \t\tproducer.sendMessage(message);\r\n    \t\treturn ResponseEntity.ok(&quot;Message sent to RabbitMQ&quot;);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\napplication.properties file\r\n\r\n    server.port=8081\r\n    \r\n    spring.rabbitmq.host=172.17.0.1\r\n    spring.rabbitmq.port=5672\r\n    \r\n    \r\n    rabbitmq.queue.name=JavaTest\r\n    rabbitmq.exchange.name=JavaExchange\r\n    rabbitmq.routing.key=Java_routing_key\r\n\r\nFollowing I have got from docker ps\r\n\r\n    CONTAINER ID   IMAGE                        COMMAND                  CREATED          STATUS          PORTS                                                                  NAMES\r\n    5fa2a5be9ed9   rabbitmq:3.12.2-management   &quot;docker-entrypoint.s…&quot;   13 seconds ago   Up 12 seconds   4369/tcp, 5671-5672/tcp, 15671-15672/tcp, 15691-15692/tcp, 25672/tcp   suspicious_chatelet\r\n\r\nAnd this is from docker networ inspect bridge\r\n\r\n    [\r\n        {\r\n            &quot;Name&quot;: &quot;bridge&quot;,\r\n            &quot;Id&quot;: &quot;21397db4b92db2ecc181c502b4db27d673614a1c1ae07fbf0d0751ab1e70cd85&quot;,\r\n            &quot;Created&quot;: &quot;2023-08-08T12:18:21.6715506Z&quot;,\r\n            &quot;Scope&quot;: &quot;local&quot;,\r\n            &quot;Driver&quot;: &quot;bridge&quot;,\r\n            &quot;EnableIPv6&quot;: false,\r\n            &quot;IPAM&quot;: {\r\n                &quot;Driver&quot;: &quot;default&quot;,\r\n                &quot;Options&quot;: null,\r\n                &quot;Config&quot;: [\r\n                    {\r\n                        &quot;Subnet&quot;: &quot;172.17.0.0/16&quot;,\r\n                        &quot;Gateway&quot;: &quot;172.17.0.1&quot;\r\n                    }\r\n                ]\r\n            },\r\n            &quot;Internal&quot;: false,\r\n            &quot;Attachable&quot;: false,\r\n            &quot;Ingress&quot;: false,\r\n            &quot;ConfigFrom&quot;: {\r\n                &quot;Network&quot;: &quot;&quot;\r\n            },\r\n            &quot;ConfigOnly&quot;: false,\r\n            &quot;Containers&quot;: {\r\n                &quot;5fa2a5be9ed9aff148d2318d4dfc5e10cc4581c0a6aac702ff477f6268e65c8a&quot;: {\r\n                    &quot;Name&quot;: &quot;suspicious_chatelet&quot;,\r\n                    &quot;EndpointID&quot;: &quot;54b34aa3f809b91d4e53de47c743ef1cad4d31e30a6e758fab31aed0bae11839&quot;,\r\n                    &quot;MacAddress&quot;: &quot;02:42:ac:11:00:02&quot;,\r\n                    &quot;IPv4Address&quot;: &quot;172.17.0.2/16&quot;,\r\n                    &quot;IPv6Address&quot;: &quot;&quot;\r\n                }\r\n            },\r\n            &quot;Options&quot;: {\r\n                &quot;com.docker.network.bridge.default_bridge&quot;: &quot;true&quot;,\r\n                &quot;com.docker.network.bridge.enable_icc&quot;: &quot;true&quot;,\r\n                &quot;com.docker.network.bridge.enable_ip_masquerade&quot;: &quot;true&quot;,\r\n                &quot;com.docker.network.bridge.host_binding_ipv4&quot;: &quot;0.0.0.0&quot;,\r\n                &quot;com.docker.network.bridge.name&quot;: &quot;docker0&quot;,\r\n                &quot;com.docker.network.driver.mtu&quot;: &quot;1500&quot;\r\n            },\r\n            &quot;Labels&quot;: {}\r\n        }\r\n    ]\r\n\r\nI have tried spring.rabbitmq.host=localhost also in application.properties file\r\nInspite of all these I am getting exception when I hit **localhost:8081/api/publish?msg=&quot;This is from Postman&quot;**\r\n\r\n    2023-08-08T18:53:40.395+05:30  INFO 11108 --- [nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2023-08-08T18:53:40.395+05:30  INFO 11108 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2023-08-08T18:53:40.397+05:30  INFO 11108 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n    Sending message - &quot;This is from Postman&quot; to the exchange named - JavaExchange\r\n    2023-08-08T18:53:40.453+05:30  INFO 11108 --- [nio-8081-exec-2] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\r\n    org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: no further information\r\n    \tat org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61)\r\n    \tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:594)\r\n    \tat org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:687)\r\n    \tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:257)\r\n    \tat org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2225)\r\n    \tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2198)\r\n    \tat org.springframework.amqp.rabbit.core.RabbitTemplate.send(RabbitTemplate.java:1119)\r\n    \tat org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1182)\r\n    \tat org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1175)\r\n    \tat com.akshay.springbootrabbitmq.publisher.RabbitMQProducer.sendMessage(RabbitMQProducer.java:28)\r\n    \tat com.akshay.springbootrabbitmq.controller.MessageController.sendMessage(MessageController.java:23)\r\n\r\n","title":"Connection related exception while a spring-boot application tries to connect to rabbitMQ running in docker","body":"<p>I am creating a producer and consumer in spring-boot running on localhost:8081, which is trying to push the message to the rabbitMQ.\nI am running rabbitMQ in docker.\n<strong>I am using this image -&gt; rabbitmq:3.12.2-management</strong>\nWhen I send request I am getting a connection refused exception.\nI tried to look for some of the questions similar to mine such as following but I could not solve the issue.\n<a href=\"https://stackoverflow.com/questions/47873835/spring-boot-not-connecting-to-rabbitmq\">Spring Boot not connecting to RabbitMQ</a>\n<a href=\"https://stackoverflow.com/questions/33880410/spring-boot-cannot-connect-to-rabbitmq\">spring boot cannot connect to rabbitmq</a></p>\n<p>I am adding code, logs from my spring-boot application as well as the logs that I can see on docker desktop.</p>\n<p>My application details are as follows\nRabbitMQConfig.java</p>\n<pre><code>package com.akshay.springbootrabbitmq.config;\n\nimport org.springframework.amqp.core.Binding;\nimport org.springframework.amqp.core.BindingBuilder;\nimport org.springframework.amqp.core.Queue;\nimport org.springframework.amqp.core.TopicExchange;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class RabbitMQConfig {\n    \n    @Value(&quot;${rabbitmq.queue.name}&quot;)\n    private String queue;\n    \n    @Value(&quot;${rabbitmq.exchange.name}&quot;)\n    private String exchange;\n    \n    @Value(&quot;${rabbitmq.routing.key}&quot;)\n    private String routingKey;\n\n    @Bean\n    public Queue queue() {\n        return new Queue(queue);\n    }\n    \n    @Bean\n    public TopicExchange exchange() {\n        return new TopicExchange(exchange);\n    }\n    \n    @Bean\n    public Binding bind() {\n        return BindingBuilder.bind(queue())\n                .to(exchange())\n                .with(routingKey);\n    }\n}\n</code></pre>\n<p>RabbitMQProducer.java</p>\n<pre><code>package com.akshay.springbootrabbitmq.publisher;\n\nimport org.springframework.amqp.AmqpException;\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class RabbitMQProducer {\n    \n    @Value(&quot;${rabbitmq.exchange.name}&quot;)\n    private String exchange;\n    \n    @Value(&quot;${rabbitmq.routing.key}&quot;)\n    private String routingKey;\n    \n    private RabbitTemplate rabbitTemplate;\n\n    @Autowired\n    public RabbitMQProducer(RabbitTemplate rabbitTemplate) {\n        this.rabbitTemplate = rabbitTemplate;\n    }\n    \n    public void sendMessage(String message) {\n        System.out.println(&quot;Sending message - &quot;+message+&quot; to the exchange named - &quot;+exchange);\n        try {\n            rabbitTemplate.convertAndSend(exchange, routingKey, message);\n        }catch(AmqpException ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>MessageController.java</p>\n<pre><code>package com.akshay.springbootrabbitmq.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.akshay.springbootrabbitmq.publisher.RabbitMQProducer;\n\n@RestController\npublic class MessageController {\n    \n    private RabbitMQProducer producer;\n\n    @Autowired\n    public MessageController(RabbitMQProducer producer) {\n        this.producer = producer;\n    }\n    \n    @GetMapping(&quot;/api/publish&quot;)\n    public ResponseEntity&lt;String&gt; sendMessage(@RequestParam(&quot;msg&quot;) String message){\n        producer.sendMessage(message);\n        return ResponseEntity.ok(&quot;Message sent to RabbitMQ&quot;);\n    }\n    \n}\n</code></pre>\n<p>application.properties file</p>\n<pre><code>server.port=8081\n\nspring.rabbitmq.host=172.17.0.1\nspring.rabbitmq.port=5672\n\n\nrabbitmq.queue.name=JavaTest\nrabbitmq.exchange.name=JavaExchange\nrabbitmq.routing.key=Java_routing_key\n</code></pre>\n<p>Following I have got from docker ps</p>\n<pre><code>CONTAINER ID   IMAGE                        COMMAND                  CREATED          STATUS          PORTS                                                                  NAMES\n5fa2a5be9ed9   rabbitmq:3.12.2-management   &quot;docker-entrypoint.s…&quot;   13 seconds ago   Up 12 seconds   4369/tcp, 5671-5672/tcp, 15671-15672/tcp, 15691-15692/tcp, 25672/tcp   suspicious_chatelet\n</code></pre>\n<p>And this is from docker networ inspect bridge</p>\n<pre><code>[\n    {\n        &quot;Name&quot;: &quot;bridge&quot;,\n        &quot;Id&quot;: &quot;21397db4b92db2ecc181c502b4db27d673614a1c1ae07fbf0d0751ab1e70cd85&quot;,\n        &quot;Created&quot;: &quot;2023-08-08T12:18:21.6715506Z&quot;,\n        &quot;Scope&quot;: &quot;local&quot;,\n        &quot;Driver&quot;: &quot;bridge&quot;,\n        &quot;EnableIPv6&quot;: false,\n        &quot;IPAM&quot;: {\n            &quot;Driver&quot;: &quot;default&quot;,\n            &quot;Options&quot;: null,\n            &quot;Config&quot;: [\n                {\n                    &quot;Subnet&quot;: &quot;172.17.0.0/16&quot;,\n                    &quot;Gateway&quot;: &quot;172.17.0.1&quot;\n                }\n            ]\n        },\n        &quot;Internal&quot;: false,\n        &quot;Attachable&quot;: false,\n        &quot;Ingress&quot;: false,\n        &quot;ConfigFrom&quot;: {\n            &quot;Network&quot;: &quot;&quot;\n        },\n        &quot;ConfigOnly&quot;: false,\n        &quot;Containers&quot;: {\n            &quot;5fa2a5be9ed9aff148d2318d4dfc5e10cc4581c0a6aac702ff477f6268e65c8a&quot;: {\n                &quot;Name&quot;: &quot;suspicious_chatelet&quot;,\n                &quot;EndpointID&quot;: &quot;54b34aa3f809b91d4e53de47c743ef1cad4d31e30a6e758fab31aed0bae11839&quot;,\n                &quot;MacAddress&quot;: &quot;02:42:ac:11:00:02&quot;,\n                &quot;IPv4Address&quot;: &quot;172.17.0.2/16&quot;,\n                &quot;IPv6Address&quot;: &quot;&quot;\n            }\n        },\n        &quot;Options&quot;: {\n            &quot;com.docker.network.bridge.default_bridge&quot;: &quot;true&quot;,\n            &quot;com.docker.network.bridge.enable_icc&quot;: &quot;true&quot;,\n            &quot;com.docker.network.bridge.enable_ip_masquerade&quot;: &quot;true&quot;,\n            &quot;com.docker.network.bridge.host_binding_ipv4&quot;: &quot;0.0.0.0&quot;,\n            &quot;com.docker.network.bridge.name&quot;: &quot;docker0&quot;,\n            &quot;com.docker.network.driver.mtu&quot;: &quot;1500&quot;\n        },\n        &quot;Labels&quot;: {}\n    }\n]\n</code></pre>\n<p>I have tried spring.rabbitmq.host=localhost also in application.properties file\nInspite of all these I am getting exception when I hit <strong>localhost:8081/api/publish?msg=&quot;This is from Postman&quot;</strong></p>\n<pre><code>2023-08-08T18:53:40.395+05:30  INFO 11108 --- [nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-08-08T18:53:40.395+05:30  INFO 11108 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-08-08T18:53:40.397+05:30  INFO 11108 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\nSending message - &quot;This is from Postman&quot; to the exchange named - JavaExchange\n2023-08-08T18:53:40.453+05:30  INFO 11108 --- [nio-8081-exec-2] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\norg.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: no further information\n    at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61)\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:594)\n    at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:687)\n    at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:257)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2225)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2198)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.send(RabbitTemplate.java:1119)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1182)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1175)\n    at com.akshay.springbootrabbitmq.publisher.RabbitMQProducer.sendMessage(RabbitMQProducer.java:28)\n    at com.akshay.springbootrabbitmq.controller.MessageController.sendMessage(MessageController.java:23)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","docker","docker-networking"],"answers":[{"tags":[],"owner":{"account_id":19284977,"reputation":1,"user_id":14096164,"display_name":"Azamat Ziyadullayev"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691872526,"creation_date":1691388861,"answer_id":76849188,"question_id":76836057,"body_markdown":"The reason why Postman works is simple: When you run a docker container, port forwarding is done to the port on localhost of the application inside the container.\r\n\r\nThe reason for the problem is that the Docker container itself has a separate environment and its own OS. If you make a request to localhost:9000 from an application in a Docker container, it will not send a request to localhost:9000 on Windows, but instead it will send a request to localhost of the Linux running in the container. And it cannot find the required running application from linux, because the required application is running on localhost of Windows.\r\n\r\nLocalhost in a docker container is Linux localhost and not Windows. You should not write localhost:9000 in this case, for example 192.168.1.100:9000, everything will work if there are no problems with firewall and network.\r\n\r\nNote 192.168.1.100:9000 may be different on your computer. In Windows, you can find out your IP address by typing `ipconfig` in cmd. You can find the IP here:\r\n\r\n![IPv4 field in the output of ipconfig](https://i.stack.imgur.com/1o8Qg.png)","title":"How to connect from docker container to a spring boot ap on localhost windows","body":"<p>The reason why Postman works is simple: When you run a docker container, port forwarding is done to the port on localhost of the application inside the container.</p>\n<p>The reason for the problem is that the Docker container itself has a separate environment and its own OS. If you make a request to localhost:9000 from an application in a Docker container, it will not send a request to localhost:9000 on Windows, but instead it will send a request to localhost of the Linux running in the container. And it cannot find the required running application from linux, because the required application is running on localhost of Windows.</p>\n<p>Localhost in a docker container is Linux localhost and not Windows. You should not write localhost:9000 in this case, for example 192.168.1.100:9000, everything will work if there are no problems with firewall and network.</p>\n<p>Note 192.168.1.100:9000 may be different on your computer. In Windows, you can find out your IP address by typing <code>ipconfig</code> in cmd. You can find the IP here:</p>\n<p><img src=\"https://i.stack.imgur.com/1o8Qg.png\" alt=\"IPv4 field in the output of ipconfig\" /></p>\n"}],"owner":{"account_id":29138867,"reputation":1,"user_id":22322355,"display_name":"todododo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1691872526,"creation_date":1691153213,"question_id":76836057,"body_markdown":"I have two application, one Spring Boot which run on my windows localhost machine at port:8080, and one Spring Boot docker container, which run at localhost:9000 - yes, i can access it in postam at that port, both of them.\r\nThing is, i have in spring boot docker container a call to Spring Boot service located on windows machine, and when i call that endpoint, i got this error:\r\n\r\n    failed: Connection refused: localhost/127.0.0.1:8080] with root cause\r\n    java.net.ConnectException: finishConnect(..) failed: Connection refused\r\n\r\nMy questions are, how can i change in my spring boot docker container app.yaml to be able to call that endpoint located on windows machine?\r\n\r\nI&#39;m running docker desktop on windows 10, i used --net=host but not working, and i don&#39;t know if i use host.docker.internal/8080 is going to be a success..","title":"How to connect from docker container to a spring boot ap on localhost windows","body":"<p>I have two application, one Spring Boot which run on my windows localhost machine at port:8080, and one Spring Boot docker container, which run at localhost:9000 - yes, i can access it in postam at that port, both of them.\nThing is, i have in spring boot docker container a call to Spring Boot service located on windows machine, and when i call that endpoint, i got this error:</p>\n<pre><code>failed: Connection refused: localhost/127.0.0.1:8080] with root cause\njava.net.ConnectException: finishConnect(..) failed: Connection refused\n</code></pre>\n<p>My questions are, how can i change in my spring boot docker container app.yaml to be able to call that endpoint located on windows machine?</p>\n<p>I'm running docker desktop on windows 10, i used --net=host but not working, and i don't know if i use host.docker.internal/8080 is going to be a success..</p>\n"},{"tags":["java","tostring"],"answers":[{"comments":[{"owner":{"account_id":26199978,"reputation":13,"user_id":19880520,"display_name":"Jweese1220"},"score":0,"creation_date":1691874310,"post_id":76891032,"comment_id":135551011,"body_markdown":"This was exactly what I needed. I was trying to add the method in the driver class which I suppose explains why I couldn&#39;t get it working. Now I just need to format it so it looks nice when printed. Thanks for your help!","body":"This was exactly what I needed. I was trying to add the method in the driver class which I suppose explains why I couldn&#39;t get it working. Now I just need to format it so it looks nice when printed. Thanks for your help!"}],"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691872249,"creation_date":1691872249,"answer_id":76891032,"question_id":76891025,"body_markdown":"`Dog` doesn&#39;t define a toString method, and the default toString method just returns the class name and the hashCode of the object. You just need to make a new method inside `Dog` looking like this:\r\n```java\r\n@Override // &lt;- technically optional, but very recommended\r\npublic String toString() {\r\n    return &quot;What you want to show up when printing a Dog&quot;;\r\n}\r\n```\r\n\r\nAnything returned in this method will show up when printing a `Dog`, you can make the returned value anything you&#39;d like. Returning null will probably cause issues at some point tho, so don&#39;t do that.","title":"I can&#39;t figure out how to get my monkey and dog lists to print as anything but hex codes. I think I need a toString method but I can&#39;t get it to work","body":"<p><code>Dog</code> doesn't define a toString method, and the default toString method just returns the class name and the hashCode of the object. You just need to make a new method inside <code>Dog</code> looking like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override // &lt;- technically optional, but very recommended\npublic String toString() {\n    return &quot;What you want to show up when printing a Dog&quot;;\n}\n</code></pre>\n<p>Anything returned in this method will show up when printing a <code>Dog</code>, you can make the returned value anything you'd like. Returning null will probably cause issues at some point tho, so don't do that.</p>\n"}],"owner":{"account_id":26199978,"reputation":13,"user_id":19880520,"display_name":"Jweese1220"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1691875241,"accepted_answer_id":76891032,"answer_count":1,"score":0,"last_activity_date":1691872249,"creation_date":1691872087,"question_id":76891025,"body_markdown":"I&#39;m working on a project for a java class and I&#39;m stuck on this issue. When I run the program and test menu options 4 and 5 I get lists to print but they print as [Dog@42a57993, Dog@75b84c92, Dog@6bc7c054] instead of printing the actual information from the arrays.\r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Driver {\r\n    private static ArrayList&lt;Dog&gt; dogList = new ArrayList&lt;Dog&gt;();\r\n    private static ArrayList&lt;Monkey&gt; monkeyList = new ArrayList&lt;Monkey&gt;();\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n        initializeDogList();\r\n        initializeMonkeyList();\r\n\r\n        Scanner input = new Scanner(System.in); // scanner class object\r\n        char option;\r\n        \r\n        do // loop until user quits program\r\n        {\r\n            displayMenu();\r\n            option = input.next().charAt(0);\r\n            if (option == &#39;1&#39;) { // intakeNewDog method is called\r\n                intakeNewDog(input);\r\n            }\r\n            \r\n            else if (option == &#39;2&#39;) { // intakeNewMonkey method is called\r\n            \tintakeNewMonkey(input);\r\n\r\n            }\r\n            \r\n            else if (option == &#39;3&#39;) { // reserveAnimal method is called\r\n                reserveAnimal(input);\r\n            }\r\n            \r\n            else if (option == &#39;4&#39;) { // printAnimals method is called to print the dog list\r\n                printAnimals(option);\r\n            }\r\n            \r\n            else if (option == &#39;5&#39;) { // printAnimals method is called to print the monkey list\r\n                printAnimals(option);\r\n            }\r\n            \r\n            else if (option == &#39;6&#39;) { // printAnimals method is called to print all available animals\r\n                printAnimals(option);\r\n            }\r\n            \r\n            else if (option == &#39;q&#39;) { // exit message prints and application stops running\r\n                System.out.print(&quot;You have exited the application.&quot;);\r\n                break;\r\n            }\r\n            \r\n            else { // in the event of an invalid input, tells user and prompts for a new input\r\n                System.out.print(&quot;You have entered an invalid input. Please enter a valid input.&quot;);\r\n            }\r\n        }\r\n        while (option != &#39;q&#39;);\r\n    }\r\n\r\n    // This method prints the menu options\r\n    public static void displayMenu() {\r\n        System.out.println(&quot;\\n\\n&quot;);\r\n        System.out.println(&quot;\\t\\t\\t\\tRescue Animal System Menu&quot;);\r\n        System.out.println(&quot;[1] Intake a new dog&quot;);\r\n        System.out.println(&quot;[2] Intake a new monkey&quot;);\r\n        System.out.println(&quot;[3] Reserve an animal&quot;);\r\n        System.out.println(&quot;[4] Print a list of all dogs&quot;);\r\n        System.out.println(&quot;[5] Print a list of all monkeys&quot;);\r\n        System.out.println(&quot;[6] Print a list of all animals that are not reserved&quot;);\r\n        System.out.println(&quot;[q] Quit application&quot;);\r\n        System.out.println();\r\n        System.out.println(&quot;Enter a menu selection&quot;);\r\n    }\r\n\r\n\r\n    // Adds dogs to a list for testing\r\n    public static void initializeDogList() {\r\n        Dog dog1 = new Dog(&quot;Spot&quot;, &quot;German Shepherd&quot;, &quot;male&quot;, &quot;1&quot;, &quot;25.6&quot;, &quot;05-12-2019&quot;, &quot;United States&quot;, &quot;intake&quot;, false, &quot;United States&quot;);\r\n        Dog dog2 = new Dog(&quot;Rex&quot;, &quot;Great Dane&quot;, &quot;male&quot;, &quot;3&quot;, &quot;35.2&quot;, &quot;02-03-2020&quot;, &quot;United States&quot;, &quot;Phase I&quot;, false, &quot;United States&quot;);\r\n        Dog dog3 = new Dog(&quot;Bella&quot;, &quot;Chihuahua&quot;, &quot;female&quot;, &quot;4&quot;, &quot;25.6&quot;, &quot;12-12-2019&quot;, &quot;Canada&quot;, &quot;in service&quot;, true, &quot;Canada&quot;);\r\n\r\n        dogList.add(dog1);\r\n        dogList.add(dog2);\r\n        dogList.add(dog3);\r\n    }\r\n\r\n\r\n    // Adds monkeys to a list for testing\r\n    //Optional for testing\r\n    public static void initializeMonkeyList() {\r\n    \tMonkey monkey1 = new Monkey(&quot;Joe&quot;, &quot;male&quot;, &quot;2&quot;, &quot;6.5&quot;, &quot;04-18-2021&quot;, &quot;United States&quot;, &quot;in service&quot;, false, &quot;United States&quot;, &quot;Spider Monkey&quot;, &quot;16.6&quot;, &quot;16.4&quot;, &quot;19.0&quot;);\r\n        Monkey monkey2 = new Monkey(&quot;Bob&quot;, &quot;male&quot;, &quot;3&quot;, &quot;8.5&quot;, &quot;07-20-2020&quot;, &quot;Brazil&quot;, &quot;Phase 4&quot;, true, &quot;United States&quot;, &quot;Capuchin&quot;, &quot;19&quot;, &quot;19.4&quot;, &quot;15.5&quot;);\r\n        Monkey monkey3 = new Monkey(&quot;Lisa&quot;, &quot;female&quot;, &quot;1&quot;, &quot;20.0&quot;, &quot;07-07-2022&quot;, &quot;Nairobi&quot;, &quot;in service&quot;, true, &quot;Nairobi&quot;, &quot;Howler Monkry&quot;, &quot;25.2&quot;, &quot;14&quot;, &quot;13.4&quot;);\r\n\r\n        monkeyList.add(monkey1);\r\n        monkeyList.add(monkey2);\r\n        monkeyList.add(monkey3);\r\n    \r\n    }\r\n\r\n\r\n    // Complete the intakeNewDog method\r\n    // The input validation to check that the dog is not already in the list\r\n    // is done for you\r\n    public static void intakeNewDog(Scanner scanner) {\r\n        System.out.println(&quot;What is the dog&#39;s name?&quot;);\r\n        String name = scanner.nextLine();\r\n        for(Dog dog: dogList) {\r\n            if(dog.getName().equalsIgnoreCase(name)) {\r\n                System.out.println(&quot;\\n\\nThis dog is already in our system\\n\\n&quot;);\r\n                return; //returns to menu\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;What is the dog&#39;s breed?&quot;); // this code is for adding a new dog\r\n        String breed = scanner.nextLine();\r\n        System.out.println(&quot;What is the dog&#39;s gender?&quot;);\r\n        String gender = scanner.nextLine();\r\n        System.out.println(&quot;What is the dog&#39;s age?&quot;);\r\n        String age = scanner.nextLine();\r\n        System.out.println(&quot;What is the dog&#39;s weight?&quot;);\r\n        String weight = scanner.nextLine();\r\n        System.out.println(&quot;What is the dog&#39;s acquisition date?&quot;);\r\n        String acquisitionDate = scanner.nextLine();\r\n        System.out.println(&quot;What is the dog&#39;s acquisition country?&quot;);\r\n        String acquisitionCountry = scanner.nextLine();\r\n        System.out.println(&quot;What is the dog&#39;s training status?&quot;);\r\n        String trainingStatus = scanner.nextLine();\r\n        System.out.println(&quot;Is this dog reserved?&quot;);\r\n        boolean reserved = scanner.nextBoolean();\r\n        scanner.nextLine();\r\n        System.out.println(&quot;Which country is the dog in service?&quot;);\r\n        String inServiceCountry = scanner.nextLine();\r\n        \r\n        Dog dog4 = new Dog(name, breed, gender, age, weight, acquisitionDate, acquisitionCountry, trainingStatus, reserved, inServiceCountry);\r\n        dogList.add(dog4);\r\n        System.out.println(&quot;Your entry has been added to the Dog List.&quot;);\r\n    }\r\n\r\n\r\n    public static void intakeNewMonkey(Scanner scanner) {\r\n        System.out.println(&quot;What is the monkey&#39;s name?&quot;);\r\n        String name = scanner.nextLine();\r\n        for(Monkey monkey: monkeyList) {\r\n        \tif(monkey.getName().equalsIgnoreCase(name)) {\r\n                System.out.println(&quot;\\n\\nThis monkey is already in our system\\n\\n&quot;);\r\n                return;\r\n            }\r\n        }\r\n        System.out.println(&quot;What is the monkey&#39;s gender?&quot;); // the following is to add a new monkey to the system\r\n        String gender = scanner.nextLine();\r\n        System.out.println(&quot;What is the monkey&#39;s age?&quot;);\r\n        String age = scanner.nextLine();\r\n        System.out.println(&quot;What is the monkey&#39;s weight?&quot;);\r\n        String weight = scanner.nextLine();\r\n        System.out.println(&quot;What is the monkey&#39;s acquisition date?&quot;);\r\n        String acquisitionDate = scanner.nextLine();\r\n        System.out.println(&quot;What is the monkey&#39;s acquisition country?&quot;);\r\n        String acquisitionCountry = scanner.nextLine();\r\n        System.out.println(&quot;What is the monkey&#39;s training status?&quot;);\r\n        String trainingStatus = scanner.nextLine();\r\n        System.out.println(&quot;Is this monkey reserved?&quot;);\r\n        boolean reserved = scanner.nextBoolean();\r\n        System.out.println(&quot;Which country is the monkey in service?&quot;);\r\n        String inServiceCountry = scanner.nextLine();\r\n        System.out.println(&quot;What is the monkey&#39;s species?&quot;);\r\n        String species = scanner.nextLine();\r\n        System.out.println(&quot;What is the tail length?&quot;);\r\n        String tailLength = scanner.nextLine();\r\n        System.out.println(&quot;What is the height?&quot;);\r\n        String height = scanner.nextLine();\r\n        System.out.println(&quot;What is the body length?&quot;);\r\n        String bodyLength = scanner.nextLine();\r\n        \r\n        Monkey monkey4 = new Monkey(name, gender, age, weight, acquisitionDate, acquisitionCountry, trainingStatus, reserved, inServiceCountry, species, tailLength, height, bodyLength);\r\n        monkeyList.add(monkey4);\r\n        System.out.println(&quot;Your entry has been added to the Monkey List.&quot;);\r\n  }\r\n    \r\n\r\n        \r\n        public static void reserveAnimal(Scanner scanner) {\r\n        \tscanner.nextLine();\r\n            System.out.println(&quot;Enter animal type: &quot;);\r\n            String animalType = scanner.nextLine();\r\n            if (animalType.equalsIgnoreCase(&quot;Monkey&quot;)) {\r\n                System.out.println(&quot;Enter the monkey&#39;s acquisition country: &quot;);\r\n                String country = scanner.nextLine();\r\n                for (Monkey obj: monkeyList) {\r\n                    if (obj.getAcquisitionLocation().equalsIgnoreCase(country)) {\r\n                        obj.setReserved(true);\r\n                        System.out.println(&quot;This monkey is now reserved.&quot;);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        public static void printAnimals(char option) { // print options for dogList, monkeyList, all available animals\r\n            if (option == &#39;4&#39;) {\r\n                System.out.println(dogList);\r\n            }\r\n            else if (option == &#39;5&#39;) {\r\n                System.out.println (monkeyList);\r\n            }\r\n            else if (option == &#39;6&#39;) {\r\n                for (int i = 0; i &lt; dogList.size(); i++) {\r\n                    if (dogList.get(i).getTrainingStatus().equals(&quot;in service&quot;) &amp;&amp; dogList.get(i).getReserved()==false) {\r\n                        System.out.println(dogList.get(i));\r\n                    }\r\n                }\r\n                for (int i = 0; i &lt; monkeyList.size(); i++) {\r\n                    if (monkeyList.get(i).getTrainingStatus().equals(&quot;in service&quot;) &amp;&amp; monkeyList.get(i).getReserved()==false) {\r\n                        System.out.println(monkeyList.get(i));\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nI&#39;ve tried to search for information on implementing a toString method to see if I could figure it out, but have not been successful. ","title":"I can&#39;t figure out how to get my monkey and dog lists to print as anything but hex codes. I think I need a toString method but I can&#39;t get it to work","body":"<p>I'm working on a project for a java class and I'm stuck on this issue. When I run the program and test menu options 4 and 5 I get lists to print but they print as [Dog@42a57993, Dog@75b84c92, Dog@6bc7c054] instead of printing the actual information from the arrays.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Driver {\n    private static ArrayList&lt;Dog&gt; dogList = new ArrayList&lt;Dog&gt;();\n    private static ArrayList&lt;Monkey&gt; monkeyList = new ArrayList&lt;Monkey&gt;();\n\n    public static void main(String[] args) {\n\n\n        initializeDogList();\n        initializeMonkeyList();\n\n        Scanner input = new Scanner(System.in); // scanner class object\n        char option;\n        \n        do // loop until user quits program\n        {\n            displayMenu();\n            option = input.next().charAt(0);\n            if (option == '1') { // intakeNewDog method is called\n                intakeNewDog(input);\n            }\n            \n            else if (option == '2') { // intakeNewMonkey method is called\n                intakeNewMonkey(input);\n\n            }\n            \n            else if (option == '3') { // reserveAnimal method is called\n                reserveAnimal(input);\n            }\n            \n            else if (option == '4') { // printAnimals method is called to print the dog list\n                printAnimals(option);\n            }\n            \n            else if (option == '5') { // printAnimals method is called to print the monkey list\n                printAnimals(option);\n            }\n            \n            else if (option == '6') { // printAnimals method is called to print all available animals\n                printAnimals(option);\n            }\n            \n            else if (option == 'q') { // exit message prints and application stops running\n                System.out.print(&quot;You have exited the application.&quot;);\n                break;\n            }\n            \n            else { // in the event of an invalid input, tells user and prompts for a new input\n                System.out.print(&quot;You have entered an invalid input. Please enter a valid input.&quot;);\n            }\n        }\n        while (option != 'q');\n    }\n\n    // This method prints the menu options\n    public static void displayMenu() {\n        System.out.println(&quot;\\n\\n&quot;);\n        System.out.println(&quot;\\t\\t\\t\\tRescue Animal System Menu&quot;);\n        System.out.println(&quot;[1] Intake a new dog&quot;);\n        System.out.println(&quot;[2] Intake a new monkey&quot;);\n        System.out.println(&quot;[3] Reserve an animal&quot;);\n        System.out.println(&quot;[4] Print a list of all dogs&quot;);\n        System.out.println(&quot;[5] Print a list of all monkeys&quot;);\n        System.out.println(&quot;[6] Print a list of all animals that are not reserved&quot;);\n        System.out.println(&quot;[q] Quit application&quot;);\n        System.out.println();\n        System.out.println(&quot;Enter a menu selection&quot;);\n    }\n\n\n    // Adds dogs to a list for testing\n    public static void initializeDogList() {\n        Dog dog1 = new Dog(&quot;Spot&quot;, &quot;German Shepherd&quot;, &quot;male&quot;, &quot;1&quot;, &quot;25.6&quot;, &quot;05-12-2019&quot;, &quot;United States&quot;, &quot;intake&quot;, false, &quot;United States&quot;);\n        Dog dog2 = new Dog(&quot;Rex&quot;, &quot;Great Dane&quot;, &quot;male&quot;, &quot;3&quot;, &quot;35.2&quot;, &quot;02-03-2020&quot;, &quot;United States&quot;, &quot;Phase I&quot;, false, &quot;United States&quot;);\n        Dog dog3 = new Dog(&quot;Bella&quot;, &quot;Chihuahua&quot;, &quot;female&quot;, &quot;4&quot;, &quot;25.6&quot;, &quot;12-12-2019&quot;, &quot;Canada&quot;, &quot;in service&quot;, true, &quot;Canada&quot;);\n\n        dogList.add(dog1);\n        dogList.add(dog2);\n        dogList.add(dog3);\n    }\n\n\n    // Adds monkeys to a list for testing\n    //Optional for testing\n    public static void initializeMonkeyList() {\n        Monkey monkey1 = new Monkey(&quot;Joe&quot;, &quot;male&quot;, &quot;2&quot;, &quot;6.5&quot;, &quot;04-18-2021&quot;, &quot;United States&quot;, &quot;in service&quot;, false, &quot;United States&quot;, &quot;Spider Monkey&quot;, &quot;16.6&quot;, &quot;16.4&quot;, &quot;19.0&quot;);\n        Monkey monkey2 = new Monkey(&quot;Bob&quot;, &quot;male&quot;, &quot;3&quot;, &quot;8.5&quot;, &quot;07-20-2020&quot;, &quot;Brazil&quot;, &quot;Phase 4&quot;, true, &quot;United States&quot;, &quot;Capuchin&quot;, &quot;19&quot;, &quot;19.4&quot;, &quot;15.5&quot;);\n        Monkey monkey3 = new Monkey(&quot;Lisa&quot;, &quot;female&quot;, &quot;1&quot;, &quot;20.0&quot;, &quot;07-07-2022&quot;, &quot;Nairobi&quot;, &quot;in service&quot;, true, &quot;Nairobi&quot;, &quot;Howler Monkry&quot;, &quot;25.2&quot;, &quot;14&quot;, &quot;13.4&quot;);\n\n        monkeyList.add(monkey1);\n        monkeyList.add(monkey2);\n        monkeyList.add(monkey3);\n    \n    }\n\n\n    // Complete the intakeNewDog method\n    // The input validation to check that the dog is not already in the list\n    // is done for you\n    public static void intakeNewDog(Scanner scanner) {\n        System.out.println(&quot;What is the dog's name?&quot;);\n        String name = scanner.nextLine();\n        for(Dog dog: dogList) {\n            if(dog.getName().equalsIgnoreCase(name)) {\n                System.out.println(&quot;\\n\\nThis dog is already in our system\\n\\n&quot;);\n                return; //returns to menu\n            }\n        }\n\n        System.out.println(&quot;What is the dog's breed?&quot;); // this code is for adding a new dog\n        String breed = scanner.nextLine();\n        System.out.println(&quot;What is the dog's gender?&quot;);\n        String gender = scanner.nextLine();\n        System.out.println(&quot;What is the dog's age?&quot;);\n        String age = scanner.nextLine();\n        System.out.println(&quot;What is the dog's weight?&quot;);\n        String weight = scanner.nextLine();\n        System.out.println(&quot;What is the dog's acquisition date?&quot;);\n        String acquisitionDate = scanner.nextLine();\n        System.out.println(&quot;What is the dog's acquisition country?&quot;);\n        String acquisitionCountry = scanner.nextLine();\n        System.out.println(&quot;What is the dog's training status?&quot;);\n        String trainingStatus = scanner.nextLine();\n        System.out.println(&quot;Is this dog reserved?&quot;);\n        boolean reserved = scanner.nextBoolean();\n        scanner.nextLine();\n        System.out.println(&quot;Which country is the dog in service?&quot;);\n        String inServiceCountry = scanner.nextLine();\n        \n        Dog dog4 = new Dog(name, breed, gender, age, weight, acquisitionDate, acquisitionCountry, trainingStatus, reserved, inServiceCountry);\n        dogList.add(dog4);\n        System.out.println(&quot;Your entry has been added to the Dog List.&quot;);\n    }\n\n\n    public static void intakeNewMonkey(Scanner scanner) {\n        System.out.println(&quot;What is the monkey's name?&quot;);\n        String name = scanner.nextLine();\n        for(Monkey monkey: monkeyList) {\n            if(monkey.getName().equalsIgnoreCase(name)) {\n                System.out.println(&quot;\\n\\nThis monkey is already in our system\\n\\n&quot;);\n                return;\n            }\n        }\n        System.out.println(&quot;What is the monkey's gender?&quot;); // the following is to add a new monkey to the system\n        String gender = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's age?&quot;);\n        String age = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's weight?&quot;);\n        String weight = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's acquisition date?&quot;);\n        String acquisitionDate = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's acquisition country?&quot;);\n        String acquisitionCountry = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's training status?&quot;);\n        String trainingStatus = scanner.nextLine();\n        System.out.println(&quot;Is this monkey reserved?&quot;);\n        boolean reserved = scanner.nextBoolean();\n        System.out.println(&quot;Which country is the monkey in service?&quot;);\n        String inServiceCountry = scanner.nextLine();\n        System.out.println(&quot;What is the monkey's species?&quot;);\n        String species = scanner.nextLine();\n        System.out.println(&quot;What is the tail length?&quot;);\n        String tailLength = scanner.nextLine();\n        System.out.println(&quot;What is the height?&quot;);\n        String height = scanner.nextLine();\n        System.out.println(&quot;What is the body length?&quot;);\n        String bodyLength = scanner.nextLine();\n        \n        Monkey monkey4 = new Monkey(name, gender, age, weight, acquisitionDate, acquisitionCountry, trainingStatus, reserved, inServiceCountry, species, tailLength, height, bodyLength);\n        monkeyList.add(monkey4);\n        System.out.println(&quot;Your entry has been added to the Monkey List.&quot;);\n  }\n    \n\n        \n        public static void reserveAnimal(Scanner scanner) {\n            scanner.nextLine();\n            System.out.println(&quot;Enter animal type: &quot;);\n            String animalType = scanner.nextLine();\n            if (animalType.equalsIgnoreCase(&quot;Monkey&quot;)) {\n                System.out.println(&quot;Enter the monkey's acquisition country: &quot;);\n                String country = scanner.nextLine();\n                for (Monkey obj: monkeyList) {\n                    if (obj.getAcquisitionLocation().equalsIgnoreCase(country)) {\n                        obj.setReserved(true);\n                        System.out.println(&quot;This monkey is now reserved.&quot;);\n                        return;\n                    }\n                }\n            }\n        }\n\n        public static void printAnimals(char option) { // print options for dogList, monkeyList, all available animals\n            if (option == '4') {\n                System.out.println(dogList);\n            }\n            else if (option == '5') {\n                System.out.println (monkeyList);\n            }\n            else if (option == '6') {\n                for (int i = 0; i &lt; dogList.size(); i++) {\n                    if (dogList.get(i).getTrainingStatus().equals(&quot;in service&quot;) &amp;&amp; dogList.get(i).getReserved()==false) {\n                        System.out.println(dogList.get(i));\n                    }\n                }\n                for (int i = 0; i &lt; monkeyList.size(); i++) {\n                    if (monkeyList.get(i).getTrainingStatus().equals(&quot;in service&quot;) &amp;&amp; monkeyList.get(i).getReserved()==false) {\n                        System.out.println(monkeyList.get(i));\n                    }\n                }\n            }\n\n        }\n\n}\n\n\n</code></pre>\n<p>I've tried to search for information on implementing a toString method to see if I could figure it out, but have not been successful.</p>\n"},{"tags":["java","bufferedreader","fileinputstream"],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1464063796,"creation_date":1464063796,"answer_id":37404356,"question_id":37404295,"body_markdown":"Your loop calls `numberGenerator()` on every iteration.  This means that instead of picking a single random number from 1 to 50, you&#39;re drawing a new one each time through the loop.\r\n\r\nBy the time you get through 5 or 10 iterations, it&#39;s likely you&#39;ve drawn a random number less than i.\r\n\r\nWhile you&#39;re fixing that, move the `new Random()` instantiation outside of that method. You only need one random number generator, and you can keep calling `nextInt()` on it.  You&#39;re needlessly creating a new object every time.","title":"BufferedReader not fully reading a file","body":"<p>Your loop calls <code>numberGenerator()</code> on every iteration.  This means that instead of picking a single random number from 1 to 50, you're drawing a new one each time through the loop.</p>\n\n<p>By the time you get through 5 or 10 iterations, it's likely you've drawn a random number less than i.</p>\n\n<p>While you're fixing that, move the <code>new Random()</code> instantiation outside of that method. You only need one random number generator, and you can keep calling <code>nextInt()</code> on it.  You're needlessly creating a new object every time.</p>\n"}],"owner":{"account_id":7084117,"reputation":33,"user_id":5421425,"display_name":"gabevt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":37404356,"answer_count":1,"score":-1,"last_activity_date":1691871956,"creation_date":1464063365,"question_id":37404295,"body_markdown":"I have a file with 50 lines, each line just containing one word, and I have the following class to read a random line from the file:\r\n\r\n    public class WordGenerator{\r\n\t    static Random generator;\r\n\r\n\t    static int numberGenerator(){\r\n\t\t    generator = new Random();\r\n\t\t    return generator.nextInt(50)+1; \r\n\t    }\r\n\r\n\t    static String wordSelector(){\r\n\t\t    String word = null;\r\n\t\t    FileInputStream fis = null;\r\n\t\t    BufferedReader br = null;\r\n\t\t    String temp = String.format(&quot;..%sutil%s&quot;, File.separator, File.separator);\r\n\r\n    \t\ttry{\r\n\t    \t\tfis= new FileInputStream(temp + &quot;Words.txt&quot;);\r\n    \t\t\tbr = new BufferedReader(new InputStreamReader(fis));\r\n    \t\t}catch(FileNotFoundException ex){\r\n    \t\t\tSystem.out.println(&quot;File not found: &quot; + ex);\r\n\t    \t}\r\n\r\n\t\t\r\n\t\t    try{\r\n\t\t    \tfor(int i = 0; i &lt; numberGenerator(); ++i){\r\n\t  \t    \t\tword = br.readLine();\r\n\t  \t    \t}\r\n\t\t    }catch(IOException e){\r\n\t\t\t    System.out.println(&quot;Error in line reading: &quot; + e);\r\n\t\t    }\r\n\r\n\t\t    System.out.println(word);\r\n\r\n\t\t    return word;\r\n    \t}\r\n    }\r\n\r\nThe problem is that for some reason the class is never returning anything that is located after the first 5-10 lines and just keeps returning the first ones.\r\n\r\nWhat could be causing this?","title":"BufferedReader not fully reading a file","body":"<p>I have a file with 50 lines, each line just containing one word, and I have the following class to read a random line from the file:</p>\n<pre><code>public class WordGenerator{\n    static Random generator;\n\n    static int numberGenerator(){\n        generator = new Random();\n        return generator.nextInt(50)+1; \n    }\n\n    static String wordSelector(){\n        String word = null;\n        FileInputStream fis = null;\n        BufferedReader br = null;\n        String temp = String.format(&quot;..%sutil%s&quot;, File.separator, File.separator);\n\n        try{\n            fis= new FileInputStream(temp + &quot;Words.txt&quot;);\n            br = new BufferedReader(new InputStreamReader(fis));\n        }catch(FileNotFoundException ex){\n            System.out.println(&quot;File not found: &quot; + ex);\n        }\n\n    \n        try{\n            for(int i = 0; i &lt; numberGenerator(); ++i){\n                word = br.readLine();\n            }\n        }catch(IOException e){\n            System.out.println(&quot;Error in line reading: &quot; + e);\n        }\n\n        System.out.println(word);\n\n        return word;\n    }\n}\n</code></pre>\n<p>The problem is that for some reason the class is never returning anything that is located after the first 5-10 lines and just keeps returning the first ones.</p>\n<p>What could be causing this?</p>\n"},{"tags":["java","azure","maven","azure-servicebus-queues"],"comments":[{"owner":{"account_id":23696,"reputation":24109,"user_id":59563,"accept_rate":88,"display_name":"Sean Feldman"},"score":0,"creation_date":1691609695,"post_id":76870595,"comment_id":135516257,"body_markdown":"What&#39;s the maximum lock duration on each of the queues?","body":"What&#39;s the maximum lock duration on each of the queues?"},{"owner":{"account_id":15929111,"reputation":624,"user_id":11493989,"display_name":"Ben"},"score":0,"creation_date":1691646982,"post_id":76870595,"comment_id":135520138,"body_markdown":"Sean, Message lock duration is 10 seconds configured in Azure service bus portal when creating the queues. I also tried it with 1 minute and 5 minutes.","body":"Sean, Message lock duration is 10 seconds configured in Azure service bus portal when creating the queues. I also tried it with 1 minute and 5 minutes."},{"owner":{"account_id":23696,"reputation":24109,"user_id":59563,"accept_rate":88,"display_name":"Sean Feldman"},"score":0,"creation_date":1691687276,"post_id":76870595,"comment_id":135528489,"body_markdown":"If you reduce the `number of messages` from 1500 to 100, can you reproduce the issue?","body":"If you reduce the <code>number of messages</code> from 1500 to 100, can you reproduce the issue?"},{"owner":{"account_id":15929111,"reputation":624,"user_id":11493989,"display_name":"Ben"},"score":0,"creation_date":1691689355,"post_id":76870595,"comment_id":135528922,"body_markdown":"@SeanFeldman : No it comes with high number of messages. 100 messages are no problem. The strange thing is that it gives an error at the first message. And trying to restart it a couple of times then it proceeds. Really strange. Maybe I have to use message chunks for example a for loopt with 15 loops and 100 messages each? Maybe I run into limitations because we don&#39;t use the Premium version ?","body":"@SeanFeldman : No it comes with high number of messages. 100 messages are no problem. The strange thing is that it gives an error at the first message. And trying to restart it a couple of times then it proceeds. Really strange. Maybe I have to use message chunks for example a for loopt with 15 loops and 100 messages each? Maybe I run into limitations because we don&#39;t use the Premium version ?"},{"owner":{"account_id":23696,"reputation":24109,"user_id":59563,"accept_rate":88,"display_name":"Sean Feldman"},"score":0,"creation_date":1691769029,"post_id":76870595,"comment_id":135541124,"body_markdown":"Receiving that many messages in a single receive operation will have some impacting the performance, but was thinking about lock/lease being lost for the tail of the messages. Also, are you always guaranteed to get all 1500 that you&#39;re requesting? I remember ASB only returning a sunset, never a full set.","body":"Receiving that many messages in a single receive operation will have some impacting the performance, but was thinking about lock/lease being lost for the tail of the messages. Also, are you always guaranteed to get all 1500 that you&#39;re requesting? I remember ASB only returning a sunset, never a full set."}],"answers":[{"tags":[],"owner":{"account_id":15929111,"reputation":624,"user_id":11493989,"display_name":"Ben"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1691871845,"creation_date":1691871845,"answer_id":76891006,"question_id":76870595,"body_markdown":"The problem was the high number of messages I tried to proceed at once. So I rebuild my solution so that it processes 100 messages max per batch.\r\nThanks Sean for your support.","title":"Azure Servicebus queue is locking messages or queues in my Java 8 program","body":"<p>The problem was the high number of messages I tried to proceed at once. So I rebuild my solution so that it processes 100 messages max per batch.\nThanks Sean for your support.</p>\n"}],"owner":{"account_id":15929111,"reputation":624,"user_id":11493989,"display_name":"Ben"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76891006,"answer_count":1,"score":0,"last_activity_date":1691871845,"creation_date":1691607996,"question_id":76870595,"body_markdown":"I have 2 Azure servicebus queues: queue1 and queue2.  I want to copy or move messages between these two queues with Java. I use these dependencys in my Maven file from Azure:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;azure-messaging-servicebus&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.13.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;azure&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.41.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nI use this code for creating my Azure receiverClient and senderClient:\r\n\r\n```\r\nthis.receiverClient = new ServiceBusClientBuilder()\r\n\t\t                .connectionString(props.getProperty(&quot;connection-string&quot;))\r\n\t\t                .receiver()\r\n\t\t                .queueName(props.getProperty(&quot;queue1&quot;))\r\n\t\t                .receiveMode(ServiceBusReceiveMode.PEEK_LOCK)\r\n\t\t                .buildClient();\r\n\t    \t\r\n\t    \tthis.senderClient = new ServiceBusClientBuilder()\r\n\t    \t\t\t.connectionString(props.getProperty(&quot;connection-string&quot;))\r\n\t    \t\t\t.sender()\r\n\t    \t\t\t.queueName(props.getProperty(&quot;queue2&quot;))\r\n\t    \t\t\t.buildClient();\r\n```\r\n\r\nI use a function to copy or move the messages from queue1 to queue2 like this:\r\n\r\n```\r\npublic void readMessagesFromQueue() {\r\n        //&quot;number of messages&quot; is 1500 and the &quot;duration-read-queue&quot;  is 100\r\n\t\tIterableStream&lt;ServiceBusReceivedMessage&gt; messages = receiverClient.receiveMessages(Integer.parseInt(props.getProperty(&quot;number of messages&quot;)), \r\n\t\t\t\tDuration.ofSeconds(Long.parseLong(props.getProperty(&quot;duration-read-queue&quot;))));\r\n\r\n\t\tfor (ServiceBusReceivedMessage serviceBusReceivedMessage : messages) {\r\n\r\n\t\t\tString messageBody = serviceBusReceivedMessage.getBody().toString();\r\n\t    \tMap&lt;String, Object&gt; mapQueueProperties = serviceBusReceivedMessage.getApplicationProperties();\r\n\t    \t\r\n\t    \tServiceBusMessage serviceBusMessage = new ServiceBusMessage(messageBody);\r\n\t    \tserviceBusMessage.getApplicationProperties().putAll(mapQueueProperties);\r\n\r\n\t\t\t//write the message to the local file system as a file and also the propertys\r\n\t\t\twriteMessageToFile(serviceBusMessage.getBody().toString(), fileTeller);\r\n\t\t\twritePropertiesToFile(serviceBusMessage.getApplicationProperties(), fileTeller);\r\n\r\n\t\t\tsenderClient.sendMessage(serviceBusMessage);\r\n\t\t\t\r\n\t\t\t//if it is a move from queue to queue the original message must be deleted\r\n\t\t\t//if it is a copy from queue to queue the original message must NOT be deleted\r\n\t\t\tif (props.getProperty(&quot;copy&quot;).trim().startsWith(&quot;move&quot;)) {\r\n\t\t\t\treceiverClient.complete(serviceBusReceivedMessage);\r\n\t\t\t} else if (props.getProperty(&quot;copy&quot;).trim().startsWith(&quot;copy&quot;)) {\r\n\t\t\t\treceiverClient.abandon(serviceBusReceivedMessage);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t\r\n\t\treceiverClient.close();\r\n\t\tsenderClient.close();\r\n\t}\r\n```\r\nWhen I run the program sometimes I get errors. For example when I move 1300 messages from queue1 to queue2 then it runs fine.\r\nBut when I copy the messages within a minute or so from queue2 back to queue 1 then it gives errors like this:\r\n\r\n Delivery not on receive link.\r\n2023-08-10 07:51:34 ERROR MqWorkService:230 - com.azure.messaging.servicebus.ServiceBusException: Delivery not on receive link.\r\n2023-08-10 07:51:34 ERROR MqWorkService:230 -   at com.azure.messaging.servicebus.ServiceBusReceiverAsyncClient.lambda$updateDisposition$52(ServiceBusReceiverAsyncClient.java:1478)\r\n\r\nThe error occurs on this line of code:\r\n```\r\nreceiverClient.complete(serviceBusReceivedMessage);\r\n```\r\nWhen I wait 5 minutes or so then sometimes the copy can happen sometimes I need to wait for 10 minutes or 15 minutes. \r\n\r\nSo it is a very unreliable queueing system, at this moment.\r\n\r\nWe use a standard Azure ServiceBus licence. The queues are created with a a Message Lock Duration of 10 seconds in the Azure service bus portal.\r\n\r\nAlso when the Java program is shutting down after succesfully processing the messages, it takes exactly a minute before the application exits. Can I use something like this: \r\n\r\n```\r\nSystem.exit(0)\r\n```\r\n\r\nfor faster exiting ?\r\n\r\nWhat I am doing wrong, why I am getting these errors ?\r\n\r\nThere must be some locks on the queues I think, but why ?\r\n\r\nIn the error there is also refered to a ServiceBusReceiver**Async**Client. But In my code I only use a ServiceBusReceiverClient and not the Async.\r\n","title":"Azure Servicebus queue is locking messages or queues in my Java 8 program","body":"<p>I have 2 Azure servicebus queues: queue1 and queue2.  I want to copy or move messages between these two queues with Java. I use these dependencys in my Maven file from Azure:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-messaging-servicebus&lt;/artifactId&gt;\n            &lt;version&gt;7.13.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure&lt;/artifactId&gt;\n            &lt;version&gt;1.41.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I use this code for creating my Azure receiverClient and senderClient:</p>\n<pre><code>this.receiverClient = new ServiceBusClientBuilder()\n                        .connectionString(props.getProperty(&quot;connection-string&quot;))\n                        .receiver()\n                        .queueName(props.getProperty(&quot;queue1&quot;))\n                        .receiveMode(ServiceBusReceiveMode.PEEK_LOCK)\n                        .buildClient();\n            \n            this.senderClient = new ServiceBusClientBuilder()\n                    .connectionString(props.getProperty(&quot;connection-string&quot;))\n                    .sender()\n                    .queueName(props.getProperty(&quot;queue2&quot;))\n                    .buildClient();\n</code></pre>\n<p>I use a function to copy or move the messages from queue1 to queue2 like this:</p>\n<pre><code>public void readMessagesFromQueue() {\n        //&quot;number of messages&quot; is 1500 and the &quot;duration-read-queue&quot;  is 100\n        IterableStream&lt;ServiceBusReceivedMessage&gt; messages = receiverClient.receiveMessages(Integer.parseInt(props.getProperty(&quot;number of messages&quot;)), \n                Duration.ofSeconds(Long.parseLong(props.getProperty(&quot;duration-read-queue&quot;))));\n\n        for (ServiceBusReceivedMessage serviceBusReceivedMessage : messages) {\n\n            String messageBody = serviceBusReceivedMessage.getBody().toString();\n            Map&lt;String, Object&gt; mapQueueProperties = serviceBusReceivedMessage.getApplicationProperties();\n            \n            ServiceBusMessage serviceBusMessage = new ServiceBusMessage(messageBody);\n            serviceBusMessage.getApplicationProperties().putAll(mapQueueProperties);\n\n            //write the message to the local file system as a file and also the propertys\n            writeMessageToFile(serviceBusMessage.getBody().toString(), fileTeller);\n            writePropertiesToFile(serviceBusMessage.getApplicationProperties(), fileTeller);\n\n            senderClient.sendMessage(serviceBusMessage);\n            \n            //if it is a move from queue to queue the original message must be deleted\n            //if it is a copy from queue to queue the original message must NOT be deleted\n            if (props.getProperty(&quot;copy&quot;).trim().startsWith(&quot;move&quot;)) {\n                receiverClient.complete(serviceBusReceivedMessage);\n            } else if (props.getProperty(&quot;copy&quot;).trim().startsWith(&quot;copy&quot;)) {\n                receiverClient.abandon(serviceBusReceivedMessage);\n            }\n\n        }\n        \n        receiverClient.close();\n        senderClient.close();\n    }\n</code></pre>\n<p>When I run the program sometimes I get errors. For example when I move 1300 messages from queue1 to queue2 then it runs fine.\nBut when I copy the messages within a minute or so from queue2 back to queue 1 then it gives errors like this:</p>\n<p>Delivery not on receive link.\n2023-08-10 07:51:34 ERROR MqWorkService:230 - com.azure.messaging.servicebus.ServiceBusException: Delivery not on receive link.\n2023-08-10 07:51:34 ERROR MqWorkService:230 -   at com.azure.messaging.servicebus.ServiceBusReceiverAsyncClient.lambda$updateDisposition$52(ServiceBusReceiverAsyncClient.java:1478)</p>\n<p>The error occurs on this line of code:</p>\n<pre><code>receiverClient.complete(serviceBusReceivedMessage);\n</code></pre>\n<p>When I wait 5 minutes or so then sometimes the copy can happen sometimes I need to wait for 10 minutes or 15 minutes.</p>\n<p>So it is a very unreliable queueing system, at this moment.</p>\n<p>We use a standard Azure ServiceBus licence. The queues are created with a a Message Lock Duration of 10 seconds in the Azure service bus portal.</p>\n<p>Also when the Java program is shutting down after succesfully processing the messages, it takes exactly a minute before the application exits. Can I use something like this:</p>\n<pre><code>System.exit(0)\n</code></pre>\n<p>for faster exiting ?</p>\n<p>What I am doing wrong, why I am getting these errors ?</p>\n<p>There must be some locks on the queues I think, but why ?</p>\n<p>In the error there is also refered to a ServiceBusReceiver<strong>Async</strong>Client. But In my code I only use a ServiceBusReceiverClient and not the Async.</p>\n"},{"tags":["java","eclipse","audio","javasound"],"answers":[{"comments":[{"owner":{"account_id":29041280,"reputation":3,"user_id":22246090,"display_name":"Kayla Clayton"},"score":0,"creation_date":1689691699,"post_id":76713267,"comment_id":135247905,"body_markdown":"its now moved on to throwing the error\n`Exception in thread &quot;main&quot; java.lang.ClassCastException: class com.sun.media.sound.DirectAudioDevice$DirectSDL cannot be cast to class javax.sound.sampled.Clip (com.sun.media.sound.DirectAudioDevice$DirectSDL and javax.sound.sampled.Clip are in module java.desktop of loader &#39;bootstrap&#39;)\n\tat Sound.playSound(Sound.java:35)\n\tat Program.main(Program.java:21)`\nalthough i haven&#39;t imported the com.sun class that it says (or any, to my knowledge)\nis this related or something different?","body":"its now moved on to throwing the error <code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class com.sun.media.sound.DirectAudioDevice$DirectSDL cannot be cast to class javax.sound.sampled.Clip (com.sun.media.sound.DirectAudioDevice$DirectSDL and javax.sound.sampled.Clip are in module java.desktop of loader &#39;bootstrap&#39;) \tat Sound.playSound(Sound.java:35) \tat Program.main(Program.java:21)</code> although i haven&#39;t imported the com.sun class that it says (or any, to my knowledge) is this related or something different?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1689694367,"post_id":76713267,"comment_id":135248629,"body_markdown":"Can you maybe include the line of code -&gt; `Sound.java:32` (the 32nd line of the Sound class)","body":"Can you maybe include the line of code -&gt; <code>Sound.java:32</code> (the 32nd line of the Sound class)"},{"owner":{"account_id":29041280,"reputation":3,"user_id":22246090,"display_name":"Kayla Clayton"},"score":0,"creation_date":1689698068,"post_id":76713267,"comment_id":135249381,"body_markdown":"Looking back I&#39;ve realised I didn&#39;t change my Clip instantiation to match yours, it was from the original tutorial I followed which used an AudioFormat and DataLine, I&#39;ve now changed it and it has stopped throwing any errors. Thanks for your help!","body":"Looking back I&#39;ve realised I didn&#39;t change my Clip instantiation to match yours, it was from the original tutorial I followed which used an AudioFormat and DataLine, I&#39;ve now changed it and it has stopped throwing any errors. Thanks for your help!"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1689698794,"post_id":76713267,"comment_id":135249498,"body_markdown":"Your welcome! happy it works!","body":"Your welcome! happy it works!"}],"tags":[],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689687100,"creation_date":1689686772,"answer_id":76713267,"question_id":76712989,"body_markdown":"I had faced this same issue, but instead of finding a way to fix it, I decided to work around it by copying the audio file out onto a location on my PC.\r\n\r\ntry this code to copy the file\r\n```\r\nFile audio = new File(&quot;C://somewhere//audio.wav&quot;).mkdir();\r\nFiles.copy(getClass().getResourceAsStream(&quot;resources/Sounds/facilityIndoors.wav&quot;), Paths.get(&quot;C://somewhere//audio.wav&quot;), StandardCopyOption.REPLACE_EXISTING);\r\n```\r\nand now just use the `audio` file like so\r\n```\r\nAudioInputStream audioStream = AudioSystem.getAudioInputStream(audio));\r\nClip audioClip  = AudioSystem.getClip();\r\naudioClip.open(audioStream);\r\n```\r\n","title":"Trying to play a sound in java 8 using clip is throwing java.lang.NullPointerException","body":"<p>I had faced this same issue, but instead of finding a way to fix it, I decided to work around it by copying the audio file out onto a location on my PC.</p>\n<p>try this code to copy the file</p>\n<pre><code>File audio = new File(&quot;C://somewhere//audio.wav&quot;).mkdir();\nFiles.copy(getClass().getResourceAsStream(&quot;resources/Sounds/facilityIndoors.wav&quot;), Paths.get(&quot;C://somewhere//audio.wav&quot;), StandardCopyOption.REPLACE_EXISTING);\n</code></pre>\n<p>and now just use the <code>audio</code> file like so</p>\n<pre><code>AudioInputStream audioStream = AudioSystem.getAudioInputStream(audio));\nClip audioClip  = AudioSystem.getClip();\naudioClip.open(audioStream);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691871347,"creation_date":1691870954,"answer_id":76890959,"question_id":76712989,"body_markdown":"Getting the address of the sound file correct is often tricky. If you don&#39;t specify a starting &quot;/&quot; in the address, the search is relative to the class being referenced by the **.setResource** or **.getResourceAsStream** method. In what you posted, did you have a subfolder **/Sounds** in the folder that holds the class `Sound`? If not, you&#39;d get a null error.\r\n\r\nThe &quot;/&quot; as a prefix to the address is supposed to start the search from the project folder, but I confess I am somewhat fuzzy as to how exactly that works. (I usually generate sounds on the fly rather than reference resources, so I don&#39;t use this very often). I think, for example, a Maven-based project uses the **/src/main/resources** folder, whereas other Java projects use the **/src**. But I&#39;d have to test this to confirm.\r\n\r\nIt might no longer make any difference, but as a side note, I think it&#39;s better to use **.getResource()**, which returns a `URL`, than **.getResourceAsStream()**, which returns an `InputStream`. The latter is pickier, for example, **AudioSystem.getAudioInputStream()** will reject the `InputStream` if the underlying file does not support *mark* or *reset* operations. If you supply a `URL` to **.getAudioInputStream()**, support for *mark* and *reset* is not a requirement. You can read about this in the API for [AudioSystem.getAudioStream()][1], if you compare the overloads. Using `File` as the argument (the third overload) is often not a good choice because Java cannot locate a file within a Jar.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.io.File)","title":"Trying to play a sound in java 8 using clip is throwing java.lang.NullPointerException","body":"<p>Getting the address of the sound file correct is often tricky. If you don't specify a starting &quot;/&quot; in the address, the search is relative to the class being referenced by the <strong>.setResource</strong> or <strong>.getResourceAsStream</strong> method. In what you posted, did you have a subfolder <strong>/Sounds</strong> in the folder that holds the class <code>Sound</code>? If not, you'd get a null error.</p>\n<p>The &quot;/&quot; as a prefix to the address is supposed to start the search from the project folder, but I confess I am somewhat fuzzy as to how exactly that works. (I usually generate sounds on the fly rather than reference resources, so I don't use this very often). I think, for example, a Maven-based project uses the <strong>/src/main/resources</strong> folder, whereas other Java projects use the <strong>/src</strong>. But I'd have to test this to confirm.</p>\n<p>It might no longer make any difference, but as a side note, I think it's better to use <strong>.getResource()</strong>, which returns a <code>URL</code>, than <strong>.getResourceAsStream()</strong>, which returns an <code>InputStream</code>. The latter is pickier, for example, <strong>AudioSystem.getAudioInputStream()</strong> will reject the <code>InputStream</code> if the underlying file does not support <em>mark</em> or <em>reset</em> operations. If you supply a <code>URL</code> to <strong>.getAudioInputStream()</strong>, support for <em>mark</em> and <em>reset</em> is not a requirement. You can read about this in the API for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/sampled/AudioSystem.html#getAudioInputStream(java.io.File)\" rel=\"nofollow noreferrer\">AudioSystem.getAudioStream()</a>, if you compare the overloads. Using <code>File</code> as the argument (the third overload) is often not a good choice because Java cannot locate a file within a Jar.</p>\n"}],"owner":{"account_id":29041280,"reputation":3,"user_id":22246090,"display_name":"Kayla Clayton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76713267,"answer_count":2,"score":0,"last_activity_date":1691871347,"creation_date":1689684888,"question_id":76712989,"body_markdown":"I&#39;m currently programming a small game, and am trying to implement background music. I&#39;m quite new to visual/audio in Java, and after doing some research online I found that Clip would be an option that would be compatible with how I&#39;m doing my graphics. So, I followed a tutorial of how to set it up/use it, resulting in this &#39;Sound&#39; class:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport javax.sound.sampled.*;\r\n\r\npublic class Sound implements LineListener {\r\n\t\r\n\tboolean isPlaybackCompleted;\r\n\tint playMode;\r\n    \r\n\tpublic Sound(int mode) {\r\n\t\tplayMode = mode; // 0 = background music\r\n\t}\r\n\t\r\n    @Override\r\n    public void update(LineEvent event) {\r\n        if (LineEvent.Type.START == event.getType()) {\r\n        \tisPlaybackCompleted = false;\r\n            System.out.println(&quot;Playback started.&quot;);\r\n        } else if (LineEvent.Type.STOP == event.getType()) {\r\n            isPlaybackCompleted = true;\r\n            System.out.println(&quot;Playback completed.&quot;);\r\n        }\r\n    }\r\n    \r\n    public void playSound(String soundName) throws LineUnavailableException, IOException, UnsupportedAudioFileException {\r\n    \tInputStream inputStream = getClass().getClassLoader().getResourceAsStream(&quot;./Sounds/facilityIndoors.wav&quot;);\r\n    \tAudioInputStream audioStream = AudioSystem.getAudioInputStream(inputStream);\r\n    \tAudioFormat audioFormat = audioStream.getFormat();\r\n    \tDataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\r\n    \tClip audioClip = (Clip) AudioSystem.getLine(info);\r\n    \taudioClip.addLineListener(this);\r\n    \taudioClip.open(audioStream);\r\n    \taudioClip.start();\r\n    \tswitch(playMode){\r\n    \tcase 0:\r\n    \t\tif(isPlaybackCompleted == true) {\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    \taudioClip.close();\r\n    \taudioStream.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\n(Note that the &#39;soundName&#39; argument for playSound is something I&#39;m hoping to implement later so I can switch between tracks based on a variable shared with the current map name and is currently unused, I&#39;ve just hard coded the path to a file that already exists for now for testing)\r\n\r\nAnd I have and instantiation and function call in my main \r\n\r\n```\r\n\t\tSound music = new Sound(0);\r\n\t\tmusic.playSound(map.currentMap);\r\n```\r\n\r\n\r\nWhen I try and call the playSound function though, this error throws:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat java.base/java.util.Objects.requireNonNull(Objects.java:209)\r\n\tat java.desktop/javax.sound.sampled.AudioSystem.getAudioInputStream(AudioSystem.java:1006)\r\n\tat Sound.playSound(Sound.java:37)\r\n\tat Program.main(Program.java:22)\r\n```\r\n\r\nAt first I thought I had spelt the file path wrong, but after double checking my spelling seems to be correct, as shown here: [Image of file path and file name](https://i.stack.imgur.com/aWQhs.png) \r\n&#39;Global Research FacilityJava8&#39; is my project folder, and my image references seem to start from that level, so maybe Clip doesn&#39;t start from the project folder and that could be the issue, but if it is I don&#39;t know how to resolve it.\r\n\r\nI have tried checking the file path for spelling errors, and have tried omitting some of the symbols from the start (E.G just &#39;Sounds/facilityIndoors.wav&#39; or &#39;/Sounds/facilityIndoors.wav&#39;), but the error still persisted. While checking the list of possible duplicates before posting this, I have also found a post talking about putting all of my resource folders into one &#39;resources&#39; folder and add it to the build path, which I have now tried, but to no avail, still throwing the same error. (file path is now &#39;resources/Sounds/facilityIndoors.wav&#39;)","title":"Trying to play a sound in java 8 using clip is throwing java.lang.NullPointerException","body":"<p>I'm currently programming a small game, and am trying to implement background music. I'm quite new to visual/audio in Java, and after doing some research online I found that Clip would be an option that would be compatible with how I'm doing my graphics. So, I followed a tutorial of how to set it up/use it, resulting in this 'Sound' class:</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport javax.sound.sampled.*;\n\npublic class Sound implements LineListener {\n    \n    boolean isPlaybackCompleted;\n    int playMode;\n    \n    public Sound(int mode) {\n        playMode = mode; // 0 = background music\n    }\n    \n    @Override\n    public void update(LineEvent event) {\n        if (LineEvent.Type.START == event.getType()) {\n            isPlaybackCompleted = false;\n            System.out.println(&quot;Playback started.&quot;);\n        } else if (LineEvent.Type.STOP == event.getType()) {\n            isPlaybackCompleted = true;\n            System.out.println(&quot;Playback completed.&quot;);\n        }\n    }\n    \n    public void playSound(String soundName) throws LineUnavailableException, IOException, UnsupportedAudioFileException {\n        InputStream inputStream = getClass().getClassLoader().getResourceAsStream(&quot;./Sounds/facilityIndoors.wav&quot;);\n        AudioInputStream audioStream = AudioSystem.getAudioInputStream(inputStream);\n        AudioFormat audioFormat = audioStream.getFormat();\n        DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\n        Clip audioClip = (Clip) AudioSystem.getLine(info);\n        audioClip.addLineListener(this);\n        audioClip.open(audioStream);\n        audioClip.start();\n        switch(playMode){\n        case 0:\n            if(isPlaybackCompleted == true) {\n                \n            }\n        }\n        audioClip.close();\n        audioStream.close();\n    }\n}\n\n</code></pre>\n<p>(Note that the 'soundName' argument for playSound is something I'm hoping to implement later so I can switch between tracks based on a variable shared with the current map name and is currently unused, I've just hard coded the path to a file that already exists for now for testing)</p>\n<p>And I have and instantiation and function call in my main</p>\n<pre><code>        Sound music = new Sound(0);\n        music.playSound(map.currentMap);\n</code></pre>\n<p>When I try and call the playSound function though, this error throws:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.base/java.util.Objects.requireNonNull(Objects.java:209)\n    at java.desktop/javax.sound.sampled.AudioSystem.getAudioInputStream(AudioSystem.java:1006)\n    at Sound.playSound(Sound.java:37)\n    at Program.main(Program.java:22)\n</code></pre>\n<p>At first I thought I had spelt the file path wrong, but after double checking my spelling seems to be correct, as shown here: <a href=\"https://i.stack.imgur.com/aWQhs.png\" rel=\"nofollow noreferrer\">Image of file path and file name</a>\n'Global Research FacilityJava8' is my project folder, and my image references seem to start from that level, so maybe Clip doesn't start from the project folder and that could be the issue, but if it is I don't know how to resolve it.</p>\n<p>I have tried checking the file path for spelling errors, and have tried omitting some of the symbols from the start (E.G just 'Sounds/facilityIndoors.wav' or '/Sounds/facilityIndoors.wav'), but the error still persisted. While checking the list of possible duplicates before posting this, I have also found a post talking about putting all of my resource folders into one 'resources' folder and add it to the build path, which I have now tried, but to no avail, still throwing the same error. (file path is now 'resources/Sounds/facilityIndoors.wav')</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1733936,"reputation":23935,"user_id":1586924,"accept_rate":85,"display_name":"hasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1417974253,"creation_date":1417974253,"answer_id":27345700,"question_id":27345650,"body_markdown":"Move the declaration of parsedFields to inside the while loop. otherwise you are just updating the same array and makes a new reference in myList to point to it.\r\n\r\n    List&lt;String[]&gt; myList = new ArrayList&lt;String[]&gt;();\r\n    \r\n    while (getType()) {\r\n        \r\n        String[] parsedFields = new String[fieldsToParse.length];\r\n        // …\r\n    \r\n        for (int i = 0; i &lt; fieldsToParse.length; i++) {\r\n            if (name.equals(fieldsToParse[i])) {\r\n                parsedFields[i] = fieldsToParse;\r\n    // ...\r\n            }\r\n        }\r\n        myList.add(parsedFields);\r\n    }","title":"Adding an element to a list is updating all its previous ones","body":"<p>Move the declaration of parsedFields to inside the while loop. otherwise you are just updating the same array and makes a new reference in myList to point to it.</p>\n\n<pre><code>List&lt;String[]&gt; myList = new ArrayList&lt;String[]&gt;();\n\nwhile (getType()) {\n\n    String[] parsedFields = new String[fieldsToParse.length];\n    // …\n\n    for (int i = 0; i &lt; fieldsToParse.length; i++) {\n        if (name.equals(fieldsToParse[i])) {\n            parsedFields[i] = fieldsToParse;\n// ...\n        }\n    }\n    myList.add(parsedFields);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74000,"reputation":18855,"user_id":212870,"display_name":"Alan Stokes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417974322,"creation_date":1417974322,"answer_id":27345709,"question_id":27345650,"body_markdown":"You need to create a new array each time around the loop - you only ever create one at the moment. Just move the declaration of `parsedFields` inside the loop.","title":"Adding an element to a list is updating all its previous ones","body":"<p>You need to create a new array each time around the loop - you only ever create one at the moment. Just move the declaration of <code>parsedFields</code> inside the loop.</p>\n"}],"owner":{"display_name":"user971741"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1463562115,"accepted_answer_id":27345700,"answer_count":2,"score":2,"last_activity_date":1691871161,"creation_date":1417973975,"question_id":27345650,"body_markdown":"I have list of type ` String[]` in which add arrays inside a loop that runs n times.\r\n\r\n    String[] parsedFields = new String[fieldsToParse.length];\r\n    List&lt;String[]&gt; myList= new ArrayList&lt;String[]&gt;();\r\n    \r\n    while (getType()) {\r\n    \t// ...\r\n    \tfor (int i = 0; i &lt; fieldsToParse.length; i++) {\r\n    \t\tif (name.equals(fieldsToParse[i])) {\r\n    parsedFields[i] = fieldsToParse;\r\n    // ...\r\n    \t\t}\r\n    \t}\r\n    \tmyList.add(parsedFields);\r\n    }\r\n\r\nEvery time an array is added to list the array is same but values are different.\r\n\r\nThe issue is every time I add an array in new iteration all previously added arrays in the list gets update according to the content of last array added.\r\n\r\nFor e.g. at first iteration `myList` contains:\r\n\r\n    myList &gt; array &gt; [0] = [1, 1, &#39;A&#39;]\r\n\r\nat second iteration the list will become:\r\n\r\n    myList &gt; array &gt; [0] = [2, 2, &#39;B&#39;]\r\n    myList &gt; array &gt; [0] = [2, 2, &#39;B&#39;]\r\n\r\nand at third it will:\r\n\r\n    myList &gt; array &gt; [0] = [3, 3, &#39;C&#39;]\r\n    myList &gt; array &gt; [0] = [3, 3, &#39;C&#39;]\r\n    myList &gt; array &gt; [0] = [3, 3, &#39;C&#39;]\r\n\r\nAnd when the while loop breaks, all the array elements in the list contains same arrays (which is actually the last array added). How can I stop it from updated previously added arrays?\r\n","title":"Adding an element to a list is updating all its previous ones","body":"<p>I have list of type <code> String[]</code> in which add arrays inside a loop that runs n times.</p>\n<pre><code>String[] parsedFields = new String[fieldsToParse.length];\nList&lt;String[]&gt; myList= new ArrayList&lt;String[]&gt;();\n\nwhile (getType()) {\n    // ...\n    for (int i = 0; i &lt; fieldsToParse.length; i++) {\n        if (name.equals(fieldsToParse[i])) {\nparsedFields[i] = fieldsToParse;\n// ...\n        }\n    }\n    myList.add(parsedFields);\n}\n</code></pre>\n<p>Every time an array is added to list the array is same but values are different.</p>\n<p>The issue is every time I add an array in new iteration all previously added arrays in the list gets update according to the content of last array added.</p>\n<p>For e.g. at first iteration <code>myList</code> contains:</p>\n<pre><code>myList &gt; array &gt; [0] = [1, 1, 'A']\n</code></pre>\n<p>at second iteration the list will become:</p>\n<pre><code>myList &gt; array &gt; [0] = [2, 2, 'B']\nmyList &gt; array &gt; [0] = [2, 2, 'B']\n</code></pre>\n<p>and at third it will:</p>\n<pre><code>myList &gt; array &gt; [0] = [3, 3, 'C']\nmyList &gt; array &gt; [0] = [3, 3, 'C']\nmyList &gt; array &gt; [0] = [3, 3, 'C']\n</code></pre>\n<p>And when the while loop breaks, all the array elements in the list contains same arrays (which is actually the last array added). How can I stop it from updated previously added arrays?</p>\n"},{"tags":["java","integer"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1575566110,"post_id":59200191,"comment_id":104618162,"body_markdown":"It&#39;s an abstract method","body":"It&#39;s an abstract method"},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1575566289,"post_id":59200191,"comment_id":104618252,"body_markdown":"That&#39;s not a variable declaration.  That&#39;s defining a method signature for the interface which would need to be implemented by any class implementing the interface.","body":"That&#39;s not a variable declaration.  That&#39;s defining a method signature for the interface which would need to be implemented by any class implementing the interface."}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1575566358,"creation_date":1575566358,"answer_id":59200263,"question_id":59200191,"body_markdown":"It&#39;s an [`abstract`][1] [`public`][2] method with `int` as the return type, not a variable/property. `PersonDao` being an interface, it accepts abstract methods.\r\n\r\nBoth `public` and `abstract` are implicit modifiers of the method. So it&#39;s equivalent to the following declaration:\r\n\r\n    public abstract int insertPerson(UUID id, Person person);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6020664/5761558\r\n  [2]: https://stackoverflow.com/a/43465060/5761558","title":"Proper Usage of Parentheses in Variable Declaration","body":"<p>It's an <a href=\"https://stackoverflow.com/a/6020664/5761558\"><code>abstract</code></a> <a href=\"https://stackoverflow.com/a/43465060/5761558\"><code>public</code></a> method with <code>int</code> as the return type, not a variable/property. <code>PersonDao</code> being an interface, it accepts abstract methods.</p>\n\n<p>Both <code>public</code> and <code>abstract</code> are implicit modifiers of the method. So it's equivalent to the following declaration:</p>\n\n<pre><code>public abstract int insertPerson(UUID id, Person person);\n</code></pre>\n"}],"owner":{"account_id":7270191,"reputation":23,"user_id":5543538,"display_name":"Ramin Seferov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":59200263,"answer_count":1,"score":0,"last_activity_date":1691871122,"creation_date":1575566014,"question_id":59200191,"body_markdown":"\r\nI&#39;m trying to grasp a concept within Java programming and came across the following line of code:\r\n\r\n```java\r\nint insertPerson(UUID id, Person person);\r\n```\r\n\r\nThis code snippet is part of an interface named `PersonDao`. Within this interface, there&#39;s a method declaration `insertPerson` which takes two parameters: a `UUID` named `id` and an instance of the `Person` class named `person`.\r\n\r\nHere&#39;s the interface for context:\r\n\r\n    public interface PersonDao {\r\n    \r\n        int insertPerson(UUID id, Person person);\r\n    \r\n        default int addPerson(Person person) {\r\n            UUID id = UUID.randomUUID();\r\n            return insertPerson(id, person);\r\n        }\r\n    }\r\n\r\nCould someone please provide a detailed explanation of the code line `int insertPerson(UUID id, Person person);`? How does this fit into the broader structure of the `PersonDao` interface and the `addPerson` method? Your guidance will be greatly appreciated.\r\n","title":"Proper Usage of Parentheses in Variable Declaration","body":"<p>I'm trying to grasp a concept within Java programming and came across the following line of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int insertPerson(UUID id, Person person);\n</code></pre>\n<p>This code snippet is part of an interface named <code>PersonDao</code>. Within this interface, there's a method declaration <code>insertPerson</code> which takes two parameters: a <code>UUID</code> named <code>id</code> and an instance of the <code>Person</code> class named <code>person</code>.</p>\n<p>Here's the interface for context:</p>\n<pre><code>public interface PersonDao {\n\n    int insertPerson(UUID id, Person person);\n\n    default int addPerson(Person person) {\n        UUID id = UUID.randomUUID();\n        return insertPerson(id, person);\n    }\n}\n</code></pre>\n<p>Could someone please provide a detailed explanation of the code line <code>int insertPerson(UUID id, Person person);</code>? How does this fit into the broader structure of the <code>PersonDao</code> interface and the <code>addPerson</code> method? Your guidance will be greatly appreciated.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1583972222,"post_id":60641111,"comment_id":107295619,"body_markdown":"Could you please share code samples with description to understand the use case","body":"Could you please share code samples with description to understand the use case"},{"owner":{"account_id":7270191,"reputation":23,"user_id":5543538,"display_name":"Ramin Seferov"},"score":0,"creation_date":1583989817,"post_id":60641111,"comment_id":107298918,"body_markdown":"@R.G thanks for respond. I&#39;ve edited question for being more clear","body":"@R.G thanks for respond. I&#39;ve edited question for being more clear"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1583990327,"post_id":60641111,"comment_id":107299040,"body_markdown":"If I understand the question correctly , as long as the consumer of this end point can process the BillingEntity based on what it receives this looks correct.","body":"If I understand the question correctly , as long as the consumer of this end point can process the BillingEntity based on what it receives this looks correct."}],"owner":{"account_id":7270191,"reputation":23,"user_id":5543538,"display_name":"Ramin Seferov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691870519,"creation_date":1583946076,"question_id":60641111,"body_markdown":"I&#39;m facing a challenge with structuring my Spring Framework application. I have a specific scenario where I need to execute different methods based on the return value of a controller method. To provide more context, I have a controller method named ReqFromGate which is annotated with @PostMapping(&quot;/mbilling&quot;). This method takes a BillingEntity as a request body and is responsible for handling incoming billing requests.\r\n\r\nHere&#39;s the simplified version of my controller method:\r\n\r\n    @PostMapping(&quot;/mbilling&quot;)\r\n    public BillingEntity ReqFromGate(@RequestBody BillingEntity billingEntity) {\r\n        // I want to dynamically execute different service methods based on the return type\r\n        // of this method (either account or payment)\r\n    }\r\n\r\nInside this controller method, I need to determine which of the two service methods (getMbillingForAccount and getMbillingForPayment) should be executed based on the return type of the ReqFromGate method. The return type can either be an &quot;account&quot; or a &quot;payment&quot; type BillingEntity.\r\n\r\nHere are the two service methods:\r\n\r\n\r\n    public BillingEntity getMbillingForAccount(BillingEntity billingEntity) {\r\n        // Implementation specific to account processing\r\n    }\r\n\r\n    public BillingEntity getMbillingForPayment(BillingEntity billingEntity) {\r\n        // Implementation specific to payment processing\r\n    }\r\n\r\nI&#39;m aiming to achieve dynamic method execution within the ReqFromGate controller method, where the choice of either getMbillingForAccount or getMbillingForPayment is based on the type of BillingEntity returned by the controller. This means that the getMbilling method must be able to reflect the differences in processing between the two cases.\r\n\r\nWhat would be the most effective and cleanest approach to handle this situation while adhering to Spring Framework best practices and guidelines? I appreciate any guidance or insights into how to structure this behavior effectively.","title":"Implementing Dynamic Method Execution based on Controller Return in Spring Framework","body":"<p>I'm facing a challenge with structuring my Spring Framework application. I have a specific scenario where I need to execute different methods based on the return value of a controller method. To provide more context, I have a controller method named ReqFromGate which is annotated with @PostMapping(&quot;/mbilling&quot;). This method takes a BillingEntity as a request body and is responsible for handling incoming billing requests.</p>\n<p>Here's the simplified version of my controller method:</p>\n<pre><code>@PostMapping(&quot;/mbilling&quot;)\npublic BillingEntity ReqFromGate(@RequestBody BillingEntity billingEntity) {\n    // I want to dynamically execute different service methods based on the return type\n    // of this method (either account or payment)\n}\n</code></pre>\n<p>Inside this controller method, I need to determine which of the two service methods (getMbillingForAccount and getMbillingForPayment) should be executed based on the return type of the ReqFromGate method. The return type can either be an &quot;account&quot; or a &quot;payment&quot; type BillingEntity.</p>\n<p>Here are the two service methods:</p>\n<pre><code>public BillingEntity getMbillingForAccount(BillingEntity billingEntity) {\n    // Implementation specific to account processing\n}\n\npublic BillingEntity getMbillingForPayment(BillingEntity billingEntity) {\n    // Implementation specific to payment processing\n}\n</code></pre>\n<p>I'm aiming to achieve dynamic method execution within the ReqFromGate controller method, where the choice of either getMbillingForAccount or getMbillingForPayment is based on the type of BillingEntity returned by the controller. This means that the getMbilling method must be able to reflect the differences in processing between the two cases.</p>\n<p>What would be the most effective and cleanest approach to handle this situation while adhering to Spring Framework best practices and guidelines? I appreciate any guidance or insights into how to structure this behavior effectively.</p>\n"},{"tags":["java","unit-testing","resttemplate","mockserver"],"comments":[{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":1,"creation_date":1623322196,"post_id":67919219,"comment_id":120049003,"body_markdown":"as far as I know, it is only possible if you have a wrapper for the List or use `String[]` instead of the List.","body":"as far as I know, it is only possible if you have a wrapper for the List or use <code>String[]</code> instead of the List."},{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1623322959,"post_id":67919219,"comment_id":120049301,"body_markdown":"Alternatively, maybe this is helpful https://www.baeldung.com/spring-resttemplate-json-list#3-resttemplate-with-user-list-and-parameterizedtypereference","body":"Alternatively, maybe this is helpful <a href=\"https://www.baeldung.com/spring-resttemplate-json-list#3-resttemplate-with-user-list-and-parameterizedtypereference\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1691871851,"post_id":67919219,"comment_id":135550854,"body_markdown":"The content-type is wrong; probably should be `application/json` instead.","body":"The content-type is wrong; probably should be <code>application&#47;json</code> instead."}],"owner":{"account_id":1338998,"reputation":3368,"user_id":1281081,"accept_rate":90,"display_name":"AsfK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691870454,"creation_date":1623320356,"question_id":67919219,"body_markdown":"We&#39;re calling an external API that return a simple List&lt;String&gt;, not DTO/Json, like `ResponseEntity&lt;List&lt;String&gt;&gt;`\r\n\r\nIn my tests I&#39;m trying to mock the response using `mockServer` but failed to return the result as List (just String as it not helped me):\r\n\r\n    mockServer.when(restTemplate.getForObject(any(), any()))\r\n    \t\t\t.respond(HttpResponse.response(&quot;{\\&quot;40\\&quot;, \\&quot;50\\&quot;}&quot;)\r\n    \t\t\t\t\t.withStatusCode(200)\r\n    \t\t\t\t\t.withDelay(TimeUnit.SECONDS, 1));\r\n    \r\n    String user = &quot;user&quot;;\r\n    String password = &quot;password&quot;;\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.getInterceptors().add(new BasicAuthenticationInterceptor(user, password));\r\n    List&lt;String&gt; retList = restTemplate.getForObject(URI, List.class);\r\n\r\n\r\nI tried with `[`, `]`, `{`, `}`, none of them, double parenthesis but failed to return the response as List..\r\n\r\nHow can I do that correctly?\r\n\r\nP.s. in the code all works well with the real API, response came as list as well. The issue is only in the tests, the error is: \r\n\r\n&gt; &quot;Could not extract response: no suitable HttpMessageConverter found\r\n&gt; for response type [interface java.util.List] and content type\r\n&gt; [application/octet-stream]&quot;\r\n\r\n\r\n","title":"MockServer | Return simple list in HttpResponse","body":"<p>We're calling an external API that return a simple List, not DTO/Json, like <code>ResponseEntity&lt;List&lt;String&gt;&gt;</code></p>\n<p>In my tests I'm trying to mock the response using <code>mockServer</code> but failed to return the result as List (just String as it not helped me):</p>\n<pre><code>mockServer.when(restTemplate.getForObject(any(), any()))\n            .respond(HttpResponse.response(&quot;{\\&quot;40\\&quot;, \\&quot;50\\&quot;}&quot;)\n                    .withStatusCode(200)\n                    .withDelay(TimeUnit.SECONDS, 1));\n\nString user = &quot;user&quot;;\nString password = &quot;password&quot;;\nRestTemplate restTemplate = new RestTemplate();\nrestTemplate.getInterceptors().add(new BasicAuthenticationInterceptor(user, password));\nList&lt;String&gt; retList = restTemplate.getForObject(URI, List.class);\n</code></pre>\n<p>I tried with <code>[</code>, <code>]</code>, <code>{</code>, <code>}</code>, none of them, double parenthesis but failed to return the response as List..</p>\n<p>How can I do that correctly?</p>\n<p>P.s. in the code all works well with the real API, response came as list as well. The issue is only in the tests, the error is:</p>\n<blockquote>\n<p>&quot;Could not extract response: no suitable HttpMessageConverter found\nfor response type [interface java.util.List] and content type\n[application/octet-stream]&quot;</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","mocking"],"comments":[{"owner":{"account_id":3832252,"reputation":938,"user_id":3177532,"accept_rate":91,"display_name":"solujic"},"score":1,"creation_date":1600250986,"post_id":63917232,"comment_id":113026239,"body_markdown":"pls post the whole method","body":"pls post the whole method"}],"answers":[{"tags":[],"owner":{"account_id":3482849,"reputation":92,"user_id":2914442,"display_name":"oisleyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600262784,"creation_date":1600261958,"answer_id":63920833,"question_id":63917232,"body_markdown":"I think it depends the first things coming to minds. \r\n\r\n - Which library are you for unit testing? What is the content of your\r\n   method?\r\n - Are you calling another method from you method?\r\n - Do you want to perform integration test over your entity?\r\n\r\n    If yes, you would configure database for test scope.\r\n\r\n - Why you are using static method to set your entity?\r\n\r\nIn conclusion, please share more detail by sharing code block etc","title":"Effective Testing of a Spring Boot Application Method Involving Entity Mocking","body":"<p>I think it depends the first things coming to minds.</p>\n<ul>\n<li><p>Which library are you for unit testing? What is the content of your\nmethod?</p>\n</li>\n<li><p>Are you calling another method from you method?</p>\n</li>\n<li><p>Do you want to perform integration test over your entity?</p>\n<p>If yes, you would configure database for test scope.</p>\n</li>\n<li><p>Why you are using static method to set your entity?</p>\n</li>\n</ul>\n<p>In conclusion, please share more detail by sharing code block etc</p>\n"},{"tags":[],"owner":{"account_id":2897927,"reputation":142,"user_id":2485277,"display_name":"Jaydatt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600262807,"creation_date":1600262807,"answer_id":63921093,"question_id":63917232,"body_markdown":"are you performing unit testing on this method by directly calling it?\r\nif yes then you can mock TransferEntity and use when(...).thenReturn(...) kind of snippet. but your question is very generic so difficult to answer concretely.","title":"Effective Testing of a Spring Boot Application Method Involving Entity Mocking","body":"<p>are you performing unit testing on this method by directly calling it?\nif yes then you can mock TransferEntity and use when(...).thenReturn(...) kind of snippet. but your question is very generic so difficult to answer concretely.</p>\n"}],"owner":{"account_id":7270191,"reputation":23,"user_id":5543538,"display_name":"Ramin Seferov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691870360,"creation_date":1600249053,"question_id":63917232,"body_markdown":"I&#39;m currently working on testing a method within my Spring Boot application, and I could use some guidance as my previous attempts haven&#39;t aligned with the platform&#39;s guidelines. The method I&#39;m trying to test involves setting the status of a TransferEntity. I would greatly appreciate any assistance in figuring out the appropriate testing approach for this scenario.\r\n\r\nHere&#39;s the method I&#39;m looking to test:\r\n\r\n\r\n    public static void setStatus(TransferEntity entity, String status) {\r\n        // Implementation details here\r\n    }\r\n\r\nMy main dilemma lies in how to effectively test this method. I&#39;m unsure whether I should be mocking the TransferEntity data or if there&#39;s a better approach. If someone could provide me with insights or steps on how to go about testing this method properly, I would be extremely grateful.\r\n\r\nThank you in advance for your assistance!","title":"Effective Testing of a Spring Boot Application Method Involving Entity Mocking","body":"<p>I'm currently working on testing a method within my Spring Boot application, and I could use some guidance as my previous attempts haven't aligned with the platform's guidelines. The method I'm trying to test involves setting the status of a TransferEntity. I would greatly appreciate any assistance in figuring out the appropriate testing approach for this scenario.</p>\n<p>Here's the method I'm looking to test:</p>\n<pre><code>public static void setStatus(TransferEntity entity, String status) {\n    // Implementation details here\n}\n</code></pre>\n<p>My main dilemma lies in how to effectively test this method. I'm unsure whether I should be mocking the TransferEntity data or if there's a better approach. If someone could provide me with insights or steps on how to go about testing this method properly, I would be extremely grateful.</p>\n<p>Thank you in advance for your assistance!</p>\n"},{"tags":["java","camera","fileprovider"],"owner":{"account_id":7771263,"reputation":23,"user_id":5880734,"display_name":"rafhelp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691869299,"creation_date":1691866320,"question_id":76890708,"body_markdown":"I am using fileprovider to save a photo to my device on Android 13 with the camera intent.  This only seems to work when the folder or file being saved to doesnt exist.\r\n\r\nBear in mind the device does not have external card slot, its all internal memory, so although we set the read and write permissions in the manifest, we only request for camera and read images permission during runtime.\r\n\r\nSo we set the path as:\r\n/storage/emulated/0/DCIM/NewCam/NewCamPhoto.jpg\r\n\r\nIf I manually delete the existing photo the camera works fine and saves the new photo it takes.  So I thought before we start the camera intent, lets check and delete any existing photo at location we specify.  I tried to use the code below:\r\n```\r\npublic static void deleteFolder(String folderPath) {\r\n\tLog.d(&quot;yoyo&quot;,&quot;**** SCANNER **** DELETING &quot;+folderPath);\r\n        File folder = new File(folderPath);\r\n        if (folder.exists()) {\r\n            String[] children = folder.list();\r\n            for (int i = 0; i &lt; children.length; i++) {\r\n                boolean success = deleteRecursive(new File(folder, children[i]));\r\n                if (!success) {\r\n                    return;\r\n                }\r\n            }\r\n            // The folder is now empty so delete it\r\n            folder.delete();\r\n        }\r\n    }\r\n\r\n    private static boolean deleteRecursive(File file) {\r\n        if (file.isDirectory()) {\r\n            String[] children = file.list();\r\n            for (int i = 0; i &lt; children.length; i++) {\r\n                boolean success = deleteRecursive(new File(file, children[i]));\r\n                if (!success) {\r\n                    return false;\r\n                }\r\n            }\r\n        } else {\r\n            return file.delete();\r\n        }\r\n        return true;\r\n    }\r\n```\r\n\r\nBut it does not delete anything, the photo still stays there.  So how would I delete that photo if it exists?\r\n\r\nThe camera code is:\r\n\r\n```\r\n\t\t\tIntent i = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n\t\t\tFile photo = new File(path, Name); if (photo.exists()) photo.delete();\r\n\t\t\tPhotoPath = photo.getAbsolutePath();\r\n\t\t\ti.putExtra(MediaStore.EXTRA_OUTPUT, FileProvider.getUriForFile(RunnerActivity.CurrentActivity, RunnerActivity.CurrentActivity.getPackageName() + &quot;.NewCam&quot;,photo));\r\n\t\t\tRunnerActivity.CurrentActivity.startActivityForResult(i, REQUEST_CODE_CAMERA);\r\n```\r\n\r\n\r\nAs mentioned in the details I did try to delete the photo or the folder before we start the new camera intent.  It seems that there is something stopping the deletion of the existing photo.  Maybe because its in the DCIM folder but the actual photo is in a subfolder in DCIM.\r\n\r\nThis is the FileProvider I have setup in the manifest:\r\n```\r\n&lt;provider\r\n    android:name=&quot;androidx.core.content.FileProvider&quot;\r\n    android:authorities=&quot;com.cam.newcam.scannerprovider&quot;\r\n    android:exported=&quot;false&quot;\r\n    android:grantUriPermissions=&quot;true&quot;&gt;\r\n    &lt;meta-data\r\n        android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n        android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n&lt;/provider&gt;\r\n```\r\n\r\nand in res/xml I have provider_paths.xml as:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot; /&gt;\r\n\r\n    &lt;!-- Access to a specific subdirectory within DCIM --&gt;\r\n    &lt;external-path name=&quot;external_dcim&quot; path=&quot;DCIM/NewCam&quot; /&gt;\r\n&lt;/paths&gt;\r\n```","title":"How to programmatically delete a photo from a DCIM subfolder on Android 13?","body":"<p>I am using fileprovider to save a photo to my device on Android 13 with the camera intent.  This only seems to work when the folder or file being saved to doesnt exist.</p>\n<p>Bear in mind the device does not have external card slot, its all internal memory, so although we set the read and write permissions in the manifest, we only request for camera and read images permission during runtime.</p>\n<p>So we set the path as:\n/storage/emulated/0/DCIM/NewCam/NewCamPhoto.jpg</p>\n<p>If I manually delete the existing photo the camera works fine and saves the new photo it takes.  So I thought before we start the camera intent, lets check and delete any existing photo at location we specify.  I tried to use the code below:</p>\n<pre><code>public static void deleteFolder(String folderPath) {\n    Log.d(&quot;yoyo&quot;,&quot;**** SCANNER **** DELETING &quot;+folderPath);\n        File folder = new File(folderPath);\n        if (folder.exists()) {\n            String[] children = folder.list();\n            for (int i = 0; i &lt; children.length; i++) {\n                boolean success = deleteRecursive(new File(folder, children[i]));\n                if (!success) {\n                    return;\n                }\n            }\n            // The folder is now empty so delete it\n            folder.delete();\n        }\n    }\n\n    private static boolean deleteRecursive(File file) {\n        if (file.isDirectory()) {\n            String[] children = file.list();\n            for (int i = 0; i &lt; children.length; i++) {\n                boolean success = deleteRecursive(new File(file, children[i]));\n                if (!success) {\n                    return false;\n                }\n            }\n        } else {\n            return file.delete();\n        }\n        return true;\n    }\n</code></pre>\n<p>But it does not delete anything, the photo still stays there.  So how would I delete that photo if it exists?</p>\n<p>The camera code is:</p>\n<pre><code>            Intent i = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n            File photo = new File(path, Name); if (photo.exists()) photo.delete();\n            PhotoPath = photo.getAbsolutePath();\n            i.putExtra(MediaStore.EXTRA_OUTPUT, FileProvider.getUriForFile(RunnerActivity.CurrentActivity, RunnerActivity.CurrentActivity.getPackageName() + &quot;.NewCam&quot;,photo));\n            RunnerActivity.CurrentActivity.startActivityForResult(i, REQUEST_CODE_CAMERA);\n</code></pre>\n<p>As mentioned in the details I did try to delete the photo or the folder before we start the new camera intent.  It seems that there is something stopping the deletion of the existing photo.  Maybe because its in the DCIM folder but the actual photo is in a subfolder in DCIM.</p>\n<p>This is the FileProvider I have setup in the manifest:</p>\n<pre><code>&lt;provider\n    android:name=&quot;androidx.core.content.FileProvider&quot;\n    android:authorities=&quot;com.cam.newcam.scannerprovider&quot;\n    android:exported=&quot;false&quot;\n    android:grantUriPermissions=&quot;true&quot;&gt;\n    &lt;meta-data\n        android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n        android:resource=&quot;@xml/provider_paths&quot; /&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>and in res/xml I have provider_paths.xml as:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot; /&gt;\n\n    &lt;!-- Access to a specific subdirectory within DCIM --&gt;\n    &lt;external-path name=&quot;external_dcim&quot; path=&quot;DCIM/NewCam&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-studio","parameter-passing"],"comments":[{"owner":{"account_id":6554205,"reputation":8514,"user_id":5067493,"accept_rate":81,"display_name":"Shree Krishna"},"score":0,"creation_date":1464187415,"post_id":37440327,"comment_id":62383562,"body_markdown":"Is `Log.d(&quot;ciao&quot;,myInt);` printing correct output ?","body":"Is <code>Log.d(&quot;ciao&quot;,myInt);</code> printing correct output ?"},{"owner":{"account_id":6554205,"reputation":8514,"user_id":5067493,"accept_rate":81,"display_name":"Shree Krishna"},"score":0,"creation_date":1464188282,"post_id":37440327,"comment_id":62384241,"body_markdown":"Have you tried moving that into onCreate instead of onCreateView ?","body":"Have you tried moving that into onCreate instead of onCreateView ?"},{"owner":{"account_id":8322856,"reputation":1924,"user_id":6253847,"display_name":"Sammy T"},"score":0,"creation_date":1464189307,"post_id":37440327,"comment_id":62385065,"body_markdown":"The way you have your code, as long as there&#39;s one bundle, your bundle, bundle2 and bundle3 will never be null. Why not just add and retrieve all your arguments on the same bundle?","body":"The way you have your code, as long as there&#39;s one bundle, your bundle, bundle2 and bundle3 will never be null. Why not just add and retrieve all your arguments on the same bundle?"}],"answers":[{"comments":[{"owner":{"account_id":8509385,"reputation":11,"user_id":6379859,"display_name":"Angus"},"score":0,"creation_date":1464188554,"post_id":37440742,"comment_id":62384468,"body_markdown":"where i must add TwoFragment twoFragment=TwoFragment.getInstance(&quot;value of you string&quot;);?","body":"where i must add TwoFragment twoFragment=TwoFragment.getInstance(&quot;value of you string&quot;);?"},{"owner":{"account_id":3509982,"reputation":149,"user_id":2934536,"display_name":"user2934536"},"score":0,"creation_date":1464188757,"post_id":37440742,"comment_id":62384629,"body_markdown":"in TreeFragment.java replace\nTwoFragment fgsearch2 = new TwoFragment();\nby\nTwoFragment twoFragment=TwoFragment.getInstance(&quot;value of you string&quot;);\nso now you don&#39;t want to use bundle","body":"in TreeFragment.java replace TwoFragment fgsearch2 = new TwoFragment(); by TwoFragment twoFragment=TwoFragment.getInstance(&quot;value of you string&quot;); so now you don&#39;t want to use bundle"},{"owner":{"account_id":8509385,"reputation":11,"user_id":6379859,"display_name":"Angus"},"score":0,"creation_date":1464188877,"post_id":37440742,"comment_id":62384738,"body_markdown":"sorry, can you write in complete mode? please?","body":"sorry, can you write in complete mode? please?"},{"owner":{"account_id":8509385,"reputation":11,"user_id":6379859,"display_name":"Angus"},"score":0,"creation_date":1464191330,"post_id":37440742,"comment_id":62386579,"body_markdown":"where i must put the method getInstance?","body":"where i must put the method getInstance?"},{"owner":{"account_id":8509385,"reputation":11,"user_id":6379859,"display_name":"Angus"},"score":0,"creation_date":1464191419,"post_id":37440742,"comment_id":62386655,"body_markdown":"method getInstance give me error &quot;return twoFragment&quot; and (String myInt)","body":"method getInstance give me error &quot;return twoFragment&quot; and (String myInt)"}],"tags":[],"owner":{"account_id":3509982,"reputation":149,"user_id":2934536,"display_name":"user2934536"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464191020,"creation_date":1464187928,"answer_id":37440742,"question_id":37440327,"body_markdown":"In my opinion ,you can make a static methode that return instence of the fragment that you want to start, in this methode you will init you variables like myInt in TwoFragment.\r\nSo in TwoFragment.java add this methode\r\n\r\n    public static TwoFragment getInstance(String myInt){\r\n    TwoFragment twoFragment=new TwoFragment();\r\n    twoFragment.myInt=myInt;\r\n    return twoFragment;\r\n    }\r\nand whene you need to start the fragment in other place use this code in place of default constructor\r\n\r\n   \r\n\r\n    public class ThreeFragment extends Fragment implements\r\n            android.widget.CompoundButton.OnCheckedChangeListener {\r\n    \r\n        ListView lv2;\r\n        ArrayList&lt;Planet&gt; planetList;\r\n        ListView lv;\r\n    \r\n        ArrayList&lt;Birra&gt; birraList;\r\n        BirraAdapter biAdapter;\r\n        PlanetAdapter plAdapter;\r\n        Planet p;\r\n        String myInt=&quot;&quot;;\r\n    \r\n    \r\n    \r\n        PlanetAdapter.PlanetHolder holder;\r\n    \r\n    \r\n        public ThreeFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n    \r\n            final ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment_three, container, false);\r\n    \r\n            Button mButton = (Button) rootView.findViewById(R.id.button2);\r\n            mButton.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n                    MyListFragment mlf=new MyListFragment();\r\n    \r\n                    mlf.showResult(v);\r\n                  // MyListFragment.showResult(v);\r\n                    showResult2(v);\r\n    \r\n    \r\n                }\r\n            });\r\n            //return inflater.inflate(R.layout.fragment_list2, container, false);\r\n            return rootView;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n    \r\n            lv2 = (ListView) getView().findViewById(R.id.listview2);\r\n            displayBirraList();\r\n        }\r\n    \r\n    \r\n        private void displayBirraList() {\r\n    \r\n            birraList = new ArrayList&lt;Birra&gt;();\r\n            birraList.add(new Birra(&quot;Paulaner&quot;, 6, &quot;€&quot;));\r\n            birraList.add(new Birra(&quot;Forst&quot;, 7, &quot;€&quot;));\r\n            birraList.add(new Birra(&quot;Peroni&quot;, 5, &quot;€&quot;));\r\n            birraList.add(new Birra(&quot;Corona&quot;, 5, &quot;€&quot;));\r\n            birraList.add(new Birra(&quot;Nastro Azzurro&quot;, 4, &quot;€&quot;));\r\n            biAdapter = new BirraAdapter(birraList, getContext()) {\r\n                @Override\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    int pos = lv2.getPositionForView(buttonView);\r\n                    if (pos != ListView.INVALID_POSITION) {\r\n                        Birra b = birraList.get(pos);\r\n                        b.setSelected(isChecked);\r\n    \r\n    \r\n                /*Toast.makeText(\r\n                    getActivity(),\r\n                    &quot;Clicked on Pizza: &quot; + p.getName() + &quot;. State: is &quot;\r\n                            + isChecked, Toast.LENGTH_SHORT).show();*/\r\n                    }\r\n    \r\n    \r\n                }\r\n    \r\n    \r\n            };\r\n    \r\n    \r\n            lv2.setAdapter(biAdapter);\r\n        }\r\n    \r\n    \r\n        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n    \r\n    \r\n            /*int pos = lv.getPositionForView(buttonView);\r\n            if (pos != ListView.INVALID_POSITION) {\r\n                Planet p = planetList.get(pos);\r\n                p.setSelected(isChecked);\r\n    \r\n    \r\n                *//**//**//**//*Toast.makeText(\r\n                    getActivity(),\r\n                    &quot;Clicked on Planet: &quot; + p.getName() + &quot;. State: is &quot;\r\n                            + isChecked, Toast.LENGTH_SHORT).show();*//**//**//**//*\r\n            }\r\n    */\r\n        }\r\n    \r\n    \r\n        public void showResult2(View v) {\r\n            String result = &quot;Selected Product are :&quot;;\r\n            int totalAmount = 0;\r\n           // String a = &quot;&quot;;\r\n    \r\n    \r\n            for (Birra b : biAdapter.getBox()) {\r\n    \r\n                if (b.selected) {\r\n    \r\n                    result += &quot;\\n&quot; + b.name + &quot; &quot; + b.distance + &quot;€&quot; + &quot;q.t&#224; :&quot; + b.getQuantit&#224;();\r\n                    int quantitaInt = Integer.parseInt(b.getQuantit&#224;());\r\n                    totalAmount += b.distance * quantitaInt;\r\n                  //  a=String.valueOf(totalAmount);\r\n    \r\n    \r\n                }\r\n            }\r\n          /*  for (Planet p : plAdapter.getBox()) {\r\n                if (p.isSelected()) {\r\n    \r\n    \r\n                    result += &quot;\\n&quot; + p.getName() + &quot; &quot; + p.getDistance() + &quot;€&quot; + &quot;q.t&#224; :&quot; + p.getQuantit&#224;();\r\n                    int quantitaInt = Integer.parseInt(p.getQuantit&#224;());\r\n                    //totalAmount2+=p.distance * quantitaInt;\r\n                    //z=String.valueOf(totalAmount2);\r\n    \r\n    \r\n                }\r\n            }*/\r\n    \r\n    \r\n    \r\n            Toast.makeText(getActivity(), result + &quot;\\n&quot; +myInt + &quot;\\n&quot; + &quot;Total Amount:=&quot; + totalAmount + &quot;€&quot;, Toast.LENGTH_LONG).show();\r\n               \r\n                TwoFragment fgsearch2=TwoFragment.getInstance(result);\r\n                fgsearch2.setArguments(bun2);\r\n                android.support.v4.app.FragmentTransaction transaction2 = getActivity().getSupportFragmentManager().beginTransaction();\r\n                transaction2.replace(R.id.content_main, fgsearch2);\r\n                transaction2.commit();\r\n    \r\n                \r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    }","title":"passing parameter from bundle.getString to class Paragraph od droidText doesn&#39;t work","body":"<p>In my opinion ,you can make a static methode that return instence of the fragment that you want to start, in this methode you will init you variables like myInt in TwoFragment.\nSo in TwoFragment.java add this methode</p>\n\n<pre><code>public static TwoFragment getInstance(String myInt){\nTwoFragment twoFragment=new TwoFragment();\ntwoFragment.myInt=myInt;\nreturn twoFragment;\n}\n</code></pre>\n\n<p>and whene you need to start the fragment in other place use this code in place of default constructor</p>\n\n<pre><code>public class ThreeFragment extends Fragment implements\n        android.widget.CompoundButton.OnCheckedChangeListener {\n\n    ListView lv2;\n    ArrayList&lt;Planet&gt; planetList;\n    ListView lv;\n\n    ArrayList&lt;Birra&gt; birraList;\n    BirraAdapter biAdapter;\n    PlanetAdapter plAdapter;\n    Planet p;\n    String myInt=\"\";\n\n\n\n    PlanetAdapter.PlanetHolder holder;\n\n\n    public ThreeFragment() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n\n        final ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment_three, container, false);\n\n        Button mButton = (Button) rootView.findViewById(R.id.button2);\n        mButton.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                MyListFragment mlf=new MyListFragment();\n\n                mlf.showResult(v);\n              // MyListFragment.showResult(v);\n                showResult2(v);\n\n\n            }\n        });\n        //return inflater.inflate(R.layout.fragment_list2, container, false);\n        return rootView;\n    }\n\n\n    @Override\n    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        lv2 = (ListView) getView().findViewById(R.id.listview2);\n        displayBirraList();\n    }\n\n\n    private void displayBirraList() {\n\n        birraList = new ArrayList&lt;Birra&gt;();\n        birraList.add(new Birra(\"Paulaner\", 6, \"€\"));\n        birraList.add(new Birra(\"Forst\", 7, \"€\"));\n        birraList.add(new Birra(\"Peroni\", 5, \"€\"));\n        birraList.add(new Birra(\"Corona\", 5, \"€\"));\n        birraList.add(new Birra(\"Nastro Azzurro\", 4, \"€\"));\n        biAdapter = new BirraAdapter(birraList, getContext()) {\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                int pos = lv2.getPositionForView(buttonView);\n                if (pos != ListView.INVALID_POSITION) {\n                    Birra b = birraList.get(pos);\n                    b.setSelected(isChecked);\n\n\n            /*Toast.makeText(\n                getActivity(),\n                \"Clicked on Pizza: \" + p.getName() + \". State: is \"\n                        + isChecked, Toast.LENGTH_SHORT).show();*/\n                }\n\n\n            }\n\n\n        };\n\n\n        lv2.setAdapter(biAdapter);\n    }\n\n\n    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n\n\n        /*int pos = lv.getPositionForView(buttonView);\n        if (pos != ListView.INVALID_POSITION) {\n            Planet p = planetList.get(pos);\n            p.setSelected(isChecked);\n\n\n            *//**//**//**//*Toast.makeText(\n                getActivity(),\n                \"Clicked on Planet: \" + p.getName() + \". State: is \"\n                        + isChecked, Toast.LENGTH_SHORT).show();*//**//**//**//*\n        }\n*/\n    }\n\n\n    public void showResult2(View v) {\n        String result = \"Selected Product are :\";\n        int totalAmount = 0;\n       // String a = \"\";\n\n\n        for (Birra b : biAdapter.getBox()) {\n\n            if (b.selected) {\n\n                result += \"\\n\" + b.name + \" \" + b.distance + \"€\" + \"q.tà :\" + b.getQuantità();\n                int quantitaInt = Integer.parseInt(b.getQuantità());\n                totalAmount += b.distance * quantitaInt;\n              //  a=String.valueOf(totalAmount);\n\n\n            }\n        }\n      /*  for (Planet p : plAdapter.getBox()) {\n            if (p.isSelected()) {\n\n\n                result += \"\\n\" + p.getName() + \" \" + p.getDistance() + \"€\" + \"q.tà :\" + p.getQuantità();\n                int quantitaInt = Integer.parseInt(p.getQuantità());\n                //totalAmount2+=p.distance * quantitaInt;\n                //z=String.valueOf(totalAmount2);\n\n\n            }\n        }*/\n\n\n\n        Toast.makeText(getActivity(), result + \"\\n\" +myInt + \"\\n\" + \"Total Amount:=\" + totalAmount + \"€\", Toast.LENGTH_LONG).show();\n\n            TwoFragment fgsearch2=TwoFragment.getInstance(result);\n            fgsearch2.setArguments(bun2);\n            android.support.v4.app.FragmentTransaction transaction2 = getActivity().getSupportFragmentManager().beginTransaction();\n            transaction2.replace(R.id.content_main, fgsearch2);\n            transaction2.commit();\n\n\n\n\n\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8509385,"reputation":11,"user_id":6379859,"display_name":"Angus"},"score":0,"creation_date":1464193526,"post_id":37442810,"comment_id":62388018,"body_markdown":"sorry, i must pass content of variable &quot;result&quot; from three fragment to Two fragment....","body":"sorry, i must pass content of variable &quot;result&quot; from three fragment to Two fragment...."},{"owner":{"account_id":8509385,"reputation":11,"user_id":6379859,"display_name":"Angus"},"score":0,"creation_date":1464193604,"post_id":37442810,"comment_id":62388055,"body_markdown":"where is &quot;result&quot; in TWO FRAGMENT?","body":"where is &quot;result&quot; in TWO FRAGMENT?"},{"owner":{"account_id":3509982,"reputation":149,"user_id":2934536,"display_name":"user2934536"},"score":0,"creation_date":1464193641,"post_id":37442810,"comment_id":62388082,"body_markdown":"whene we get instance of  TwoFragment we pass all variables","body":"whene we get instance of  TwoFragment we pass all variables"},{"owner":{"account_id":8509385,"reputation":11,"user_id":6379859,"display_name":"Angus"},"score":0,"creation_date":1464193896,"post_id":37442810,"comment_id":62388245,"body_markdown":"but here, public static TwoFragment getInstance(String myInt,int cazzo2,String scelta3) i must pass variable &quot;result&quot;?","body":"but here, public static TwoFragment getInstance(String myInt,int cazzo2,String scelta3) i must pass variable &quot;result&quot;?"},{"owner":{"account_id":3509982,"reputation":149,"user_id":2934536,"display_name":"user2934536"},"score":0,"creation_date":1464194001,"post_id":37442810,"comment_id":62388317,"body_markdown":"yes result in TreeFragment.java, you will find it in myInt in TwoFragment.java","body":"yes result in TreeFragment.java, you will find it in myInt in TwoFragment.java"},{"owner":{"account_id":8509385,"reputation":11,"user_id":6379859,"display_name":"Angus"},"score":0,"creation_date":1464194131,"post_id":37442810,"comment_id":62388376,"body_markdown":"public static TwoFragment getInstance(String result,int cazzo2,String scelta3) ....twoFragment.myInt=result;....this i think that is correct","body":"public static TwoFragment getInstance(String result,int cazzo2,String scelta3) ....twoFragment.myInt=result;....this i think that is correct"},{"owner":{"account_id":3509982,"reputation":149,"user_id":2934536,"display_name":"user2934536"},"score":0,"creation_date":1464194225,"post_id":37442810,"comment_id":62388432,"body_markdown":"yes here whene we initalaze the variables of second fragments","body":"yes here whene we initalaze the variables of second fragments"},{"owner":{"account_id":8509385,"reputation":11,"user_id":6379859,"display_name":"Angus"},"score":0,"creation_date":1464194291,"post_id":37442810,"comment_id":62388471,"body_markdown":"but you don&#39;t write in this way public static TwoFragment getInstance(String result,int cazzo2,String scelta3) ....twoFragment.myInt=result;","body":"but you don&#39;t write in this way public static TwoFragment getInstance(String result,int cazzo2,String scelta3) ....twoFragment.myInt=result;"},{"owner":{"account_id":8509385,"reputation":11,"user_id":6379859,"display_name":"Angus"},"score":0,"creation_date":1464194397,"post_id":37442810,"comment_id":62388533,"body_markdown":"i don&#39;t understand how you pass variable &quot;result&quot; from THREE FRAGMENT to TWO FRAGMENT....","body":"i don&#39;t understand how you pass variable &quot;result&quot; from THREE FRAGMENT to TWO FRAGMENT...."},{"owner":{"account_id":8509385,"reputation":11,"user_id":6379859,"display_name":"Angus"},"score":0,"creation_date":1464195076,"post_id":37442810,"comment_id":62388908,"body_markdown":"parameter pass correctly from THREE to TWO FRAGMENT, but the problem is in paragraph(myInt)...in document i don&#39;t see content of variable &quot;myInt&quot;","body":"parameter pass correctly from THREE to TWO FRAGMENT, but the problem is in paragraph(myInt)...in document i don&#39;t see content of variable &quot;myInt&quot;"},{"owner":{"account_id":8509385,"reputation":11,"user_id":6379859,"display_name":"Angus"},"score":0,"creation_date":1464206441,"post_id":37442810,"comment_id":62395123,"body_markdown":"can you help me,please?","body":"can you help me,please?"}],"tags":[],"owner":{"account_id":3509982,"reputation":149,"user_id":2934536,"display_name":"user2934536"},"comment_count":11,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464193368,"creation_date":1464193368,"answer_id":37442810,"question_id":37440327,"body_markdown":"    public class TwoFragment extends Fragment {\r\n    \r\n        private View v;\r\n        String myInt=&quot;&quot;;\r\n        int cazzo2;\r\n        String scelta3;\r\n    \r\n        public TwoFragment() {\r\n            // Required empty public constructor\r\n        }\r\n        public static TwoFragment getInstance(String myInt,int cazzo2,String scelta3){\r\n            TwoFragment twoFragment=new TwoFragment();\r\n            twoFragment.myInt=myInt;\r\n            twoFragment.cazzo2=cazzo2;\r\n            twoFragment.scelta3=scelta3;\r\n            return twoFragment;\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View rootView = inflater.inflate(R.layout.fragment_two, container, false);\r\n            Button mButton = (Button) rootView.findViewById(R.id.newbutton);\r\n            mButton.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n    \r\n                    //sendemail();\r\n                    createPDF();\r\n                    viewPDF();\r\n    \r\n    \r\n    \r\n                }\r\n            });\r\n            TextView titolo3 = (TextView)rootView.findViewById(R.id.result);\r\n            TextView titolo2 = (TextView)rootView.findViewById(R.id.result2);\r\n            TextView titolo4 = (TextView)rootView.findViewById(R.id.resultpizze);\r\n    \r\n            titolo3.setText(myInt);\r\n            titolo2.setText(String.valueOf(cazzo2));\r\n            titolo4.setText(scelta3);\r\n    \r\n            return rootView;\r\n        }\r\n        /* public void sendemail(){\r\n    \r\n             Intent intent = new Intent(Intent.ACTION_SEND);\r\n             intent.setData(Uri.parse(&quot;mailto:&quot;));\r\n             String[] to={&quot;marco_marcoletto@hotmail.it&quot;};\r\n             intent.putExtra(Intent.EXTRA_EMAIL,to);\r\n             intent.putExtra(Intent.EXTRA_SUBJECT, &quot;ciao&quot;);\r\n             intent.putExtra(Intent.EXTRA_TEXT, &quot;zao&quot;);\r\n             intent.setType(&quot;message/rfc822&quot;);\r\n             chooser=intent.createChooser(intent,&quot;manda email&quot;);\r\n             startActivity(chooser);\r\n         }*/\r\n        public void createPDF() {\r\n    \r\n            Document doc = new Document();\r\n    \r\n            try {\r\n                String path = Environment.getExternalStorageDirectory()\r\n                        .getAbsolutePath() + &quot;/droidText&quot;;\r\n    \r\n                File dir = new File(path);\r\n                if (!dir.exists())\r\n                    dir.mkdirs();\r\n    \r\n                Log.d(&quot;PDFCreator&quot;, &quot;PDF Path: &quot; + path);\r\n    \r\n                File file = new File(dir, &quot;sample.pdf&quot;);\r\n                FileOutputStream fOut = new FileOutputStream(file);\r\n    \r\n                PdfWriter.getInstance(doc, fOut);\r\n    \r\n                // open the document\r\n                doc.open();\r\n                ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n                Bitmap bitmap = BitmapFactory.decodeResource(getContext()\r\n                        .getResources(), R.drawable.androtuto);\r\n                bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\r\n                Image myImg = Image.getInstance(stream.toByteArray());\r\n                myImg.setAlignment(Image.MIDDLE);\r\n    \r\n                // add image to document\r\n                doc.add(myImg);\r\n    \r\n                Paragraph p1 = new Paragraph(myInt);\r\n                Log.d(&quot;ciao&quot;,myInt);\r\n    \r\n                Font paraFont = new Font(Font.COURIER);\r\n                p1.setAlignment(Paragraph.ALIGN_CENTER);\r\n                p1.setFont(paraFont);\r\n    \r\n                // add paragraph to document\r\n                doc.add(p1);\r\n    \r\n                Paragraph p2 = new Paragraph(&quot;Ciao&quot;);\r\n                Font paraFont2 = new Font(Font.COURIER, 14.0f, Color.GREEN);\r\n                p2.setAlignment(Paragraph.ALIGN_CENTER);\r\n                p2.setFont(paraFont2);\r\n    \r\n                doc.add(p2);\r\n    \r\n                stream = new ByteArrayOutputStream();\r\n                bitmap = BitmapFactory.decodeResource(getContext()\r\n                        .getResources(), R.drawable.android);\r\n                bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\r\n                myImg = Image.getInstance(stream.toByteArray());\r\n                myImg.setAlignment(Image.MIDDLE);\r\n    \r\n                // add image to document\r\n                doc.add(myImg);\r\n    \r\n                // set footer\r\n                Phrase footerText = new Phrase(&quot;Pied de page &quot;);\r\n                HeaderFooter pdfFooter = new HeaderFooter(footerText, false);\r\n                doc.setFooter(pdfFooter);\r\n    \r\n            } catch (DocumentException de) {\r\n                Log.e(&quot;PDFCreator&quot;, &quot;DocumentException:&quot; + de);\r\n            } catch (IOException e) {\r\n                Log.e(&quot;PDFCreator&quot;, &quot;ioException:&quot; + e);\r\n            } finally {\r\n                doc.close();\r\n            }\r\n    \r\n        }\r\n        public void viewPDF(){\r\n            String path = &quot;/sdcard/droidText/sample.pdf&quot;;\r\n            File targetFile = new File(path);\r\n            Uri targetUri = Uri.fromFile(targetFile);\r\n    \r\n            Intent intent;\r\n            intent = new Intent(Intent.ACTION_VIEW);\r\n            intent.setDataAndType(targetUri, &quot;application/pdf&quot;);\r\n    \r\n            startActivity(intent);\r\n        }\r\n    \r\n    }\r\n\r\nand other fragment\r\n\r\n    public class ThreeFragment extends Fragment implements\r\n            android.widget.CompoundButton.OnCheckedChangeListener {\r\n    \r\n        ListView lv2;\r\n        ArrayList&lt;Planet&gt; planetList;\r\n        ListView lv;\r\n    \r\n        ArrayList&lt;Birra&gt; birraList;\r\n        BirraAdapter biAdapter;\r\n        PlanetAdapter plAdapter;\r\n        Planet p;\r\n        String myInt=&quot;&quot;;\r\n    \r\n    \r\n    \r\n        PlanetAdapter.PlanetHolder holder;\r\n    \r\n    \r\n        public ThreeFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n    \r\n            final ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment_three, container, false);\r\n    \r\n            Button mButton = (Button) rootView.findViewById(R.id.button2);\r\n            mButton.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n                    MyListFragment mlf=new MyListFragment();\r\n    \r\n                    mlf.showResult(v);\r\n                    // MyListFragment.showResult(v);\r\n                    showResult2(v);\r\n    \r\n    \r\n                }\r\n            });\r\n            //return inflater.inflate(R.layout.fragment_list2, container, false);\r\n            return rootView;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n    \r\n            lv2 = (ListView) getView().findViewById(R.id.listview2);\r\n            displayBirraList();\r\n        }\r\n    \r\n    \r\n        private void displayBirraList() {\r\n    \r\n            birraList = new ArrayList&lt;Birra&gt;();\r\n            birraList.add(new Birra(&quot;Paulaner&quot;, 6, &quot;€&quot;));\r\n            birraList.add(new Birra(&quot;Forst&quot;, 7, &quot;€&quot;));\r\n            birraList.add(new Birra(&quot;Peroni&quot;, 5, &quot;€&quot;));\r\n            birraList.add(new Birra(&quot;Corona&quot;, 5, &quot;€&quot;));\r\n            birraList.add(new Birra(&quot;Nastro Azzurro&quot;, 4, &quot;€&quot;));\r\n            biAdapter = new BirraAdapter(birraList, getContext()) {\r\n                @Override\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    int pos = lv2.getPositionForView(buttonView);\r\n                    if (pos != ListView.INVALID_POSITION) {\r\n                        Birra b = birraList.get(pos);\r\n                        b.setSelected(isChecked);\r\n    \r\n    \r\n                /*Toast.makeText(\r\n                    getActivity(),\r\n                    &quot;Clicked on Pizza: &quot; + p.getName() + &quot;. State: is &quot;\r\n                            + isChecked, Toast.LENGTH_SHORT).show();*/\r\n                    }\r\n    \r\n    \r\n                }\r\n    \r\n    \r\n            };\r\n    \r\n    \r\n            lv2.setAdapter(biAdapter);\r\n        }\r\n    \r\n    \r\n        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n    \r\n    \r\n            /*int pos = lv.getPositionForView(buttonView);\r\n            if (pos != ListView.INVALID_POSITION) {\r\n                Planet p = planetList.get(pos);\r\n                p.setSelected(isChecked);\r\n    \r\n    \r\n                *//**//**//**//*Toast.makeText(\r\n                    getActivity(),\r\n                    &quot;Clicked on Planet: &quot; + p.getName() + &quot;. State: is &quot;\r\n                            + isChecked, Toast.LENGTH_SHORT).show();*//**//**//**//*\r\n            }\r\n    */\r\n        }\r\n    \r\n    \r\n        public void showResult2(View v) {\r\n            String result = &quot;Selected Product are :&quot;;\r\n            int totalAmount = 0;\r\n            // String a = &quot;&quot;;\r\n    \r\n    \r\n            for (Birra b : biAdapter.getBox()) {\r\n    \r\n                if (b.selected) {\r\n    \r\n                    result += &quot;\\n&quot; + b.name + &quot; &quot; + b.distance + &quot;€&quot; + &quot;q.t&#224; :&quot; + b.getQuantit&#224;();\r\n                    int quantitaInt = Integer.parseInt(b.getQuantit&#224;());\r\n                    totalAmount += b.distance * quantitaInt;\r\n                    //  a=String.valueOf(totalAmount);\r\n    \r\n    \r\n                }\r\n            }\r\n          /*  for (Planet p : plAdapter.getBox()) {\r\n                if (p.isSelected()) {\r\n    \r\n    \r\n                    result += &quot;\\n&quot; + p.getName() + &quot; &quot; + p.getDistance() + &quot;€&quot; + &quot;q.t&#224; :&quot; + p.getQuantit&#224;();\r\n                    int quantitaInt = Integer.parseInt(p.getQuantit&#224;());\r\n                    //totalAmount2+=p.distance * quantitaInt;\r\n                    //z=String.valueOf(totalAmount2);\r\n    \r\n    \r\n                }\r\n            }*/\r\n    \r\n    \r\n    \r\n            Toast.makeText(getActivity(), result + &quot;\\n&quot; +myInt + &quot;\\n&quot; + &quot;Total Amount:=&quot; + totalAmount + &quot;€&quot;, Toast.LENGTH_LONG).show();\r\n            TwoFragment fgsearch2 = TwoFragment.getInstance(result,totalAmount,&quot;test&quot;);\r\n            android.support.v4.app.FragmentTransaction transaction2 = getActivity().getSupportFragmentManager().beginTransaction();\r\n            transaction2.replace(R.id.content_main, fgsearch2);\r\n            transaction2.commit();\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    }","title":"passing parameter from bundle.getString to class Paragraph od droidText doesn&#39;t work","body":"<pre><code>public class TwoFragment extends Fragment {\n\n    private View v;\n    String myInt=\"\";\n    int cazzo2;\n    String scelta3;\n\n    public TwoFragment() {\n        // Required empty public constructor\n    }\n    public static TwoFragment getInstance(String myInt,int cazzo2,String scelta3){\n        TwoFragment twoFragment=new TwoFragment();\n        twoFragment.myInt=myInt;\n        twoFragment.cazzo2=cazzo2;\n        twoFragment.scelta3=scelta3;\n        return twoFragment;\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View rootView = inflater.inflate(R.layout.fragment_two, container, false);\n        Button mButton = (Button) rootView.findViewById(R.id.newbutton);\n        mButton.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n\n                //sendemail();\n                createPDF();\n                viewPDF();\n\n\n\n            }\n        });\n        TextView titolo3 = (TextView)rootView.findViewById(R.id.result);\n        TextView titolo2 = (TextView)rootView.findViewById(R.id.result2);\n        TextView titolo4 = (TextView)rootView.findViewById(R.id.resultpizze);\n\n        titolo3.setText(myInt);\n        titolo2.setText(String.valueOf(cazzo2));\n        titolo4.setText(scelta3);\n\n        return rootView;\n    }\n    /* public void sendemail(){\n\n         Intent intent = new Intent(Intent.ACTION_SEND);\n         intent.setData(Uri.parse(\"mailto:\"));\n         String[] to={\"marco_marcoletto@hotmail.it\"};\n         intent.putExtra(Intent.EXTRA_EMAIL,to);\n         intent.putExtra(Intent.EXTRA_SUBJECT, \"ciao\");\n         intent.putExtra(Intent.EXTRA_TEXT, \"zao\");\n         intent.setType(\"message/rfc822\");\n         chooser=intent.createChooser(intent,\"manda email\");\n         startActivity(chooser);\n     }*/\n    public void createPDF() {\n\n        Document doc = new Document();\n\n        try {\n            String path = Environment.getExternalStorageDirectory()\n                    .getAbsolutePath() + \"/droidText\";\n\n            File dir = new File(path);\n            if (!dir.exists())\n                dir.mkdirs();\n\n            Log.d(\"PDFCreator\", \"PDF Path: \" + path);\n\n            File file = new File(dir, \"sample.pdf\");\n            FileOutputStream fOut = new FileOutputStream(file);\n\n            PdfWriter.getInstance(doc, fOut);\n\n            // open the document\n            doc.open();\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\n            Bitmap bitmap = BitmapFactory.decodeResource(getContext()\n                    .getResources(), R.drawable.androtuto);\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\n            Image myImg = Image.getInstance(stream.toByteArray());\n            myImg.setAlignment(Image.MIDDLE);\n\n            // add image to document\n            doc.add(myImg);\n\n            Paragraph p1 = new Paragraph(myInt);\n            Log.d(\"ciao\",myInt);\n\n            Font paraFont = new Font(Font.COURIER);\n            p1.setAlignment(Paragraph.ALIGN_CENTER);\n            p1.setFont(paraFont);\n\n            // add paragraph to document\n            doc.add(p1);\n\n            Paragraph p2 = new Paragraph(\"Ciao\");\n            Font paraFont2 = new Font(Font.COURIER, 14.0f, Color.GREEN);\n            p2.setAlignment(Paragraph.ALIGN_CENTER);\n            p2.setFont(paraFont2);\n\n            doc.add(p2);\n\n            stream = new ByteArrayOutputStream();\n            bitmap = BitmapFactory.decodeResource(getContext()\n                    .getResources(), R.drawable.android);\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\n            myImg = Image.getInstance(stream.toByteArray());\n            myImg.setAlignment(Image.MIDDLE);\n\n            // add image to document\n            doc.add(myImg);\n\n            // set footer\n            Phrase footerText = new Phrase(\"Pied de page \");\n            HeaderFooter pdfFooter = new HeaderFooter(footerText, false);\n            doc.setFooter(pdfFooter);\n\n        } catch (DocumentException de) {\n            Log.e(\"PDFCreator\", \"DocumentException:\" + de);\n        } catch (IOException e) {\n            Log.e(\"PDFCreator\", \"ioException:\" + e);\n        } finally {\n            doc.close();\n        }\n\n    }\n    public void viewPDF(){\n        String path = \"/sdcard/droidText/sample.pdf\";\n        File targetFile = new File(path);\n        Uri targetUri = Uri.fromFile(targetFile);\n\n        Intent intent;\n        intent = new Intent(Intent.ACTION_VIEW);\n        intent.setDataAndType(targetUri, \"application/pdf\");\n\n        startActivity(intent);\n    }\n\n}\n</code></pre>\n\n<p>and other fragment</p>\n\n<pre><code>public class ThreeFragment extends Fragment implements\n        android.widget.CompoundButton.OnCheckedChangeListener {\n\n    ListView lv2;\n    ArrayList&lt;Planet&gt; planetList;\n    ListView lv;\n\n    ArrayList&lt;Birra&gt; birraList;\n    BirraAdapter biAdapter;\n    PlanetAdapter plAdapter;\n    Planet p;\n    String myInt=\"\";\n\n\n\n    PlanetAdapter.PlanetHolder holder;\n\n\n    public ThreeFragment() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n\n        final ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment_three, container, false);\n\n        Button mButton = (Button) rootView.findViewById(R.id.button2);\n        mButton.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                MyListFragment mlf=new MyListFragment();\n\n                mlf.showResult(v);\n                // MyListFragment.showResult(v);\n                showResult2(v);\n\n\n            }\n        });\n        //return inflater.inflate(R.layout.fragment_list2, container, false);\n        return rootView;\n    }\n\n\n    @Override\n    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        lv2 = (ListView) getView().findViewById(R.id.listview2);\n        displayBirraList();\n    }\n\n\n    private void displayBirraList() {\n\n        birraList = new ArrayList&lt;Birra&gt;();\n        birraList.add(new Birra(\"Paulaner\", 6, \"€\"));\n        birraList.add(new Birra(\"Forst\", 7, \"€\"));\n        birraList.add(new Birra(\"Peroni\", 5, \"€\"));\n        birraList.add(new Birra(\"Corona\", 5, \"€\"));\n        birraList.add(new Birra(\"Nastro Azzurro\", 4, \"€\"));\n        biAdapter = new BirraAdapter(birraList, getContext()) {\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                int pos = lv2.getPositionForView(buttonView);\n                if (pos != ListView.INVALID_POSITION) {\n                    Birra b = birraList.get(pos);\n                    b.setSelected(isChecked);\n\n\n            /*Toast.makeText(\n                getActivity(),\n                \"Clicked on Pizza: \" + p.getName() + \". State: is \"\n                        + isChecked, Toast.LENGTH_SHORT).show();*/\n                }\n\n\n            }\n\n\n        };\n\n\n        lv2.setAdapter(biAdapter);\n    }\n\n\n    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n\n\n        /*int pos = lv.getPositionForView(buttonView);\n        if (pos != ListView.INVALID_POSITION) {\n            Planet p = planetList.get(pos);\n            p.setSelected(isChecked);\n\n\n            *//**//**//**//*Toast.makeText(\n                getActivity(),\n                \"Clicked on Planet: \" + p.getName() + \". State: is \"\n                        + isChecked, Toast.LENGTH_SHORT).show();*//**//**//**//*\n        }\n*/\n    }\n\n\n    public void showResult2(View v) {\n        String result = \"Selected Product are :\";\n        int totalAmount = 0;\n        // String a = \"\";\n\n\n        for (Birra b : biAdapter.getBox()) {\n\n            if (b.selected) {\n\n                result += \"\\n\" + b.name + \" \" + b.distance + \"€\" + \"q.tà :\" + b.getQuantità();\n                int quantitaInt = Integer.parseInt(b.getQuantità());\n                totalAmount += b.distance * quantitaInt;\n                //  a=String.valueOf(totalAmount);\n\n\n            }\n        }\n      /*  for (Planet p : plAdapter.getBox()) {\n            if (p.isSelected()) {\n\n\n                result += \"\\n\" + p.getName() + \" \" + p.getDistance() + \"€\" + \"q.tà :\" + p.getQuantità();\n                int quantitaInt = Integer.parseInt(p.getQuantità());\n                //totalAmount2+=p.distance * quantitaInt;\n                //z=String.valueOf(totalAmount2);\n\n\n            }\n        }*/\n\n\n\n        Toast.makeText(getActivity(), result + \"\\n\" +myInt + \"\\n\" + \"Total Amount:=\" + totalAmount + \"€\", Toast.LENGTH_LONG).show();\n        TwoFragment fgsearch2 = TwoFragment.getInstance(result,totalAmount,\"test\");\n        android.support.v4.app.FragmentTransaction transaction2 = getActivity().getSupportFragmentManager().beginTransaction();\n        transaction2.replace(R.id.content_main, fgsearch2);\n        transaction2.commit();\n\n\n\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8509385,"reputation":11,"user_id":6379859,"display_name":"Angus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691869158,"creation_date":1464186897,"question_id":37440327,"body_markdown":"I don&#39;t know why variable `myInt` is null in some places in my code.\r\n\r\nIn these lines it is ok, so variable is not null: \r\n\r\n    myInt = bundle2.getString(&quot;scelta2&quot;, null);\r\n    titolo3.setText(myInt);\r\n\r\nWhen I use variable `myInt` in `Paragraph p1=new Paragraph(myInt);`, it is null. \r\n\r\nWhat can be the problem?\r\n\r\nTwoFragment.java\r\n\r\n    public class TwoFragment extends Fragment{\r\n                \r\n                    private View v;\r\n                    Intent chooser=null;\r\n                    String myInt=&quot;&quot;;\r\n                \r\n                    public TwoFragment() {\r\n                        // Required empty public constructor\r\n                    }\r\n                \r\n                    @Override\r\n                    public void onCreate(Bundle savedInstanceState) {\r\n                        super.onCreate(savedInstanceState);\r\n                    }\r\n                \r\n                    @Override\r\n                    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                             Bundle savedInstanceState) {\r\n                        // Inflate the layout for this fragment\r\n                        View rootView = inflater.inflate(R.layout.fragment_two, container, false);\r\n                        Button mButton = (Button) rootView.findViewById(R.id.newbutton);\r\n                        mButton.setOnClickListener(new View.OnClickListener() {\r\n                            public void onClick(View v) {\r\n                \r\n                                //sendemail();\r\n                                createPDF();\r\n                                viewPDF();\r\n                \r\n                \r\n                \r\n                            }\r\n                        });\r\n                        TextView titolo3 = (TextView)rootView.findViewById(R.id.result);\r\n                        TextView titolo2 = (TextView)rootView.findViewById(R.id.result2);\r\n                        TextView titolo4 = (TextView)rootView.findViewById(R.id.resultpizze);\r\n                \r\n                        //TextView titolo = (TextView)rootView.findViewById(R.id.quantit&#224;3);\r\n                \r\n                      /*  Bundle bundle2=getArguments();\r\n                        if(bundle2 != null){\r\n                            String string = bundle2.getString(&quot;scelta2&quot;, null);\r\n                            titolo3.setText(string);\r\n                        }*/\r\n                \r\n                        Bundle bundle2=getArguments();\r\n                        if(bundle2 != null){\r\n                            myInt = bundle2.getString(&quot;scelta2&quot;, null);\r\n                           titolo3.setText(myInt);\r\n                        }\r\n                \r\n                        Bundle bundle3=getArguments();\r\n                        if(bundle3 != null){\r\n                           // String myInt3 = bundle3.getString(&quot;totalebirre&quot;, null);\r\n                           //  cazzo2=Integer.parseInt(myInt3);\r\n                           int cazzo2=bundle3.getInt(&quot;totalebirre&quot;);\r\n                            titolo2.setText(String.valueOf(cazzo2));\r\n                \r\n                \r\n                \r\n                        }\r\n                        Bundle bundle=getArguments();\r\n                        if(bundle != null){\r\n                            // String myInt2 = bundle2.getString(&quot;totalepizze&quot;, null);\r\n                            //   cazzo=Integer.parseInt(myInt2);\r\n                            //titolo2.setText(myInt2);\r\n                            String string=bundle.getString(&quot;scelta3&quot;, null);\r\n                             titolo4.setText(string);\r\n                \r\n                        }\r\n                \r\n                \r\n                \r\n                        return rootView;\r\n                    }\r\n                   /* public void sendemail(){\r\n                \r\n                        Intent intent = new Intent(Intent.ACTION_SEND);\r\n                        intent.setData(Uri.parse(&quot;mailto:&quot;));\r\n                        String[] to={&quot;marco_marcoletto@hotmail.it&quot;};\r\n                        intent.putExtra(Intent.EXTRA_EMAIL,to);\r\n                        intent.putExtra(Intent.EXTRA_SUBJECT, &quot;ciao&quot;);\r\n                        intent.putExtra(Intent.EXTRA_TEXT, &quot;zao&quot;);\r\n                        intent.setType(&quot;message/rfc822&quot;);\r\n                        chooser=intent.createChooser(intent,&quot;manda email&quot;);\r\n                        startActivity(chooser);\r\n                    }*/\r\n                   public void createPDF() {\r\n                \r\n                       Document doc = new Document();\r\n                \r\n                       try {\r\n                           String path = Environment.getExternalStorageDirectory()\r\n                                   .getAbsolutePath() + &quot;/droidText&quot;;\r\n                \r\n                           File dir = new File(path);\r\n                           if (!dir.exists())\r\n                               dir.mkdirs();\r\n                \r\n                           Log.d(&quot;PDFCreator&quot;, &quot;PDF Path: &quot; + path);\r\n                \r\n                           File file = new File(dir, &quot;sample.pdf&quot;);\r\n                           FileOutputStream fOut = new FileOutputStream(file);\r\n                \r\n                           PdfWriter.getInstance(doc, fOut);\r\n                \r\n                           // open the document\r\n                           doc.open();\r\n                           ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n                           Bitmap bitmap = BitmapFactory.decodeResource(getContext()\r\n                                   .getResources(), R.drawable.androtuto);\r\n                           bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\r\n                           Image myImg = Image.getInstance(stream.toByteArray());\r\n                           myImg.setAlignment(Image.MIDDLE);\r\n                \r\n                           // add image to document\r\n                           doc.add(myImg);\r\n                \r\n                           Paragraph p1 = new Paragraph(myInt);\r\n                       Log.d(&quot;ciao&quot;,myInt);\r\n            \r\n                           Font paraFont = new Font(Font.COURIER);\r\n                           p1.setAlignment(Paragraph.ALIGN_CENTER);\r\n                           p1.setFont(paraFont);\r\n                \r\n                           // add paragraph to document\r\n                           doc.add(p1);\r\n                \r\n                           Paragraph p2 = new Paragraph(&quot;Ciao&quot;);\r\n                           Font paraFont2 = new Font(Font.COURIER, 14.0f, Color.GREEN);\r\n                           p2.setAlignment(Paragraph.ALIGN_CENTER);\r\n                           p2.setFont(paraFont2);\r\n                \r\n                           doc.add(p2);\r\n                \r\n                           stream = new ByteArrayOutputStream();\r\n                           bitmap = BitmapFactory.decodeResource(getContext()\r\n                                   .getResources(), R.drawable.android);\r\n                           bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\r\n                           myImg = Image.getInstance(stream.toByteArray());\r\n                           myImg.setAlignment(Image.MIDDLE);\r\n                \r\n                           // add image to document\r\n                           doc.add(myImg);\r\n                \r\n                           // set footer\r\n                           Phrase footerText = new Phrase(&quot;Pied de page &quot;);\r\n                           HeaderFooter pdfFooter = new HeaderFooter(footerText, false);\r\n                           doc.setFooter(pdfFooter);\r\n                \r\n                       } catch (DocumentException de) {\r\n                           Log.e(&quot;PDFCreator&quot;, &quot;DocumentException:&quot; + de);\r\n                       } catch (IOException e) {\r\n                           Log.e(&quot;PDFCreator&quot;, &quot;ioException:&quot; + e);\r\n                       } finally {\r\n                           doc.close();\r\n                       }\r\n                \r\n                   }\r\n                    public void viewPDF(){\r\n                        String path = &quot;/sdcard/droidText/sample.pdf&quot;;\r\n                        File targetFile = new File(path);\r\n                        Uri targetUri = Uri.fromFile(targetFile);\r\n                \r\n                        Intent intent;\r\n                        intent = new Intent(Intent.ACTION_VIEW);\r\n                        intent.setDataAndType(targetUri, &quot;application/pdf&quot;);\r\n                \r\n                        startActivity(intent);\r\n                    }\r\n                \r\n                }\r\n\r\nThreeFragment.java\r\n\r\n(Fragment from where I pass variables)\r\n\r\n    public class ThreeFragment extends Fragment implements\r\n            android.widget.CompoundButton.OnCheckedChangeListener {\r\n    \r\n        ListView lv2;\r\n        ArrayList&lt;Planet&gt; planetList;\r\n        ListView lv;\r\n    \r\n        ArrayList&lt;Birra&gt; birraList;\r\n        BirraAdapter biAdapter;\r\n        PlanetAdapter plAdapter;\r\n        Planet p;\r\n        String myInt=&quot;&quot;;\r\n    \r\n    \r\n    \r\n        PlanetAdapter.PlanetHolder holder;\r\n    \r\n    \r\n        public ThreeFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n    \r\n            final ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment_three, container, false);\r\n    \r\n            Button mButton = (Button) rootView.findViewById(R.id.button2);\r\n            mButton.setOnClickListener(new View.OnClickListener() {\r\n                public void onClick(View v) {\r\n                    MyListFragment mlf=new MyListFragment();\r\n    \r\n                    mlf.showResult(v);\r\n                  // MyListFragment.showResult(v);\r\n                    showResult2(v);\r\n    \r\n    \r\n                }\r\n            });\r\n            //return inflater.inflate(R.layout.fragment_list2, container, false);\r\n            return rootView;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n    \r\n            lv2 = (ListView) getView().findViewById(R.id.listview2);\r\n            displayBirraList();\r\n        }\r\n    \r\n    \r\n        private void displayBirraList() {\r\n    \r\n            birraList = new ArrayList&lt;Birra&gt;();\r\n            birraList.add(new Birra(&quot;Paulaner&quot;, 6, &quot;€&quot;));\r\n            birraList.add(new Birra(&quot;Forst&quot;, 7, &quot;€&quot;));\r\n            birraList.add(new Birra(&quot;Peroni&quot;, 5, &quot;€&quot;));\r\n            birraList.add(new Birra(&quot;Corona&quot;, 5, &quot;€&quot;));\r\n            birraList.add(new Birra(&quot;Nastro Azzurro&quot;, 4, &quot;€&quot;));\r\n            biAdapter = new BirraAdapter(birraList, getContext()) {\r\n                @Override\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    int pos = lv2.getPositionForView(buttonView);\r\n                    if (pos != ListView.INVALID_POSITION) {\r\n                        Birra b = birraList.get(pos);\r\n                        b.setSelected(isChecked);\r\n    \r\n    \r\n    \t\t\t/*Toast.makeText(\r\n                    getActivity(),\r\n                    &quot;Clicked on Pizza: &quot; + p.getName() + &quot;. State: is &quot;\r\n                            + isChecked, Toast.LENGTH_SHORT).show();*/\r\n                    }\r\n    \r\n    \r\n                }\r\n    \r\n    \r\n            };\r\n    \r\n    \r\n            lv2.setAdapter(biAdapter);\r\n        }\r\n    \r\n    \r\n        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n    \r\n    \r\n    \t\t/*int pos = lv.getPositionForView(buttonView);\r\n    \t\tif (pos != ListView.INVALID_POSITION) {\r\n    \t\t\tPlanet p = planetList.get(pos);\r\n    \t\t\tp.setSelected(isChecked);\r\n    \r\n    \r\n    \t\t\t*//**//**//**//*Toast.makeText(\r\n                    getActivity(),\r\n                    &quot;Clicked on Planet: &quot; + p.getName() + &quot;. State: is &quot;\r\n                            + isChecked, Toast.LENGTH_SHORT).show();*//**//**//**//*\r\n    \t\t}\r\n    */\r\n        }\r\n    \r\n    \r\n        public void showResult2(View v) {\r\n            String result = &quot;Selected Product are :&quot;;\r\n            int totalAmount = 0;\r\n           // String a = &quot;&quot;;\r\n    \r\n    \r\n            for (Birra b : biAdapter.getBox()) {\r\n    \r\n                if (b.selected) {\r\n    \r\n                    result += &quot;\\n&quot; + b.name + &quot; &quot; + b.distance + &quot;€&quot; + &quot;q.t&#224; :&quot; + b.getQuantit&#224;();\r\n                    int quantitaInt = Integer.parseInt(b.getQuantit&#224;());\r\n                    totalAmount += b.distance * quantitaInt;\r\n                  //  a=String.valueOf(totalAmount);\r\n    \r\n    \r\n                }\r\n            }\r\n          /*  for (Planet p : plAdapter.getBox()) {\r\n                if (p.isSelected()) {\r\n    \r\n    \r\n                    result += &quot;\\n&quot; + p.getName() + &quot; &quot; + p.getDistance() + &quot;€&quot; + &quot;q.t&#224; :&quot; + p.getQuantit&#224;();\r\n                    int quantitaInt = Integer.parseInt(p.getQuantit&#224;());\r\n                    //totalAmount2+=p.distance * quantitaInt;\r\n                    //z=String.valueOf(totalAmount2);\r\n    \r\n    \r\n                }\r\n            }*/\r\n    \r\n    \r\n    \r\n            Toast.makeText(getActivity(), result + &quot;\\n&quot; +myInt + &quot;\\n&quot; + &quot;Total Amount:=&quot; + totalAmount + &quot;€&quot;, Toast.LENGTH_LONG).show();\r\n               Bundle bun2 = new Bundle();\r\n                bun2.putString(&quot;scelta2&quot;, result);\r\n                TwoFragment fgsearch2 = new TwoFragment();\r\n                fgsearch2.setArguments(bun2);\r\n                android.support.v4.app.FragmentTransaction transaction2 = getActivity().getSupportFragmentManager().beginTransaction();\r\n                transaction2.replace(R.id.content_main, fgsearch2);\r\n                transaction2.commit();\r\n    \r\n                Bundle bun = new Bundle();\r\n               // bun.putString(&quot;totalebirre&quot;, a);\r\n            bun.putInt(&quot;totalebirre&quot;, totalAmount);\r\n                TwoFragment fgsearch = new TwoFragment();\r\n                fgsearch.setArguments(bun);\r\n                android.support.v4.app.FragmentTransaction transaction = getActivity().getSupportFragmentManager().beginTransaction();\r\n                transaction.replace(R.id.content_main2, fgsearch);\r\n                transaction.commit();\r\n        }\r\n    }\r\n\r\nMain that calls three fragments:\r\n\r\n    public class MainBirra extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.mainbirra);\r\n    \r\n            getSupportFragmentManager().beginTransaction().\r\n    \r\n                    replace(R.id.fragmentContainer2, new ThreeFragment()).commit();\r\n    \r\n    \r\n    \r\n        }\r\n      /*  @Override protected void onDestroy() {\r\n            SharedPreferences preferences=getSharedPreferences(&quot;states&quot;, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor=preferences.edit();\r\n            editor.clear().apply();\r\n            super.onDestroy();\r\n            Log.e(&quot;OnDestroy&quot;, &quot; callback_2&quot;);\r\n        }*/\r\n    }","title":"passing parameter from bundle.getString to class Paragraph od droidText doesn&#39;t work","body":"<p>I don't know why variable <code>myInt</code> is null in some places in my code.</p>\n<p>In these lines it is ok, so variable is not null:</p>\n<pre><code>myInt = bundle2.getString(&quot;scelta2&quot;, null);\ntitolo3.setText(myInt);\n</code></pre>\n<p>When I use variable <code>myInt</code> in <code>Paragraph p1=new Paragraph(myInt);</code>, it is null.</p>\n<p>What can be the problem?</p>\n<p>TwoFragment.java</p>\n<pre><code>public class TwoFragment extends Fragment{\n            \n                private View v;\n                Intent chooser=null;\n                String myInt=&quot;&quot;;\n            \n                public TwoFragment() {\n                    // Required empty public constructor\n                }\n            \n                @Override\n                public void onCreate(Bundle savedInstanceState) {\n                    super.onCreate(savedInstanceState);\n                }\n            \n                @Override\n                public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                                         Bundle savedInstanceState) {\n                    // Inflate the layout for this fragment\n                    View rootView = inflater.inflate(R.layout.fragment_two, container, false);\n                    Button mButton = (Button) rootView.findViewById(R.id.newbutton);\n                    mButton.setOnClickListener(new View.OnClickListener() {\n                        public void onClick(View v) {\n            \n                            //sendemail();\n                            createPDF();\n                            viewPDF();\n            \n            \n            \n                        }\n                    });\n                    TextView titolo3 = (TextView)rootView.findViewById(R.id.result);\n                    TextView titolo2 = (TextView)rootView.findViewById(R.id.result2);\n                    TextView titolo4 = (TextView)rootView.findViewById(R.id.resultpizze);\n            \n                    //TextView titolo = (TextView)rootView.findViewById(R.id.quantità3);\n            \n                  /*  Bundle bundle2=getArguments();\n                    if(bundle2 != null){\n                        String string = bundle2.getString(&quot;scelta2&quot;, null);\n                        titolo3.setText(string);\n                    }*/\n            \n                    Bundle bundle2=getArguments();\n                    if(bundle2 != null){\n                        myInt = bundle2.getString(&quot;scelta2&quot;, null);\n                       titolo3.setText(myInt);\n                    }\n            \n                    Bundle bundle3=getArguments();\n                    if(bundle3 != null){\n                       // String myInt3 = bundle3.getString(&quot;totalebirre&quot;, null);\n                       //  cazzo2=Integer.parseInt(myInt3);\n                       int cazzo2=bundle3.getInt(&quot;totalebirre&quot;);\n                        titolo2.setText(String.valueOf(cazzo2));\n            \n            \n            \n                    }\n                    Bundle bundle=getArguments();\n                    if(bundle != null){\n                        // String myInt2 = bundle2.getString(&quot;totalepizze&quot;, null);\n                        //   cazzo=Integer.parseInt(myInt2);\n                        //titolo2.setText(myInt2);\n                        String string=bundle.getString(&quot;scelta3&quot;, null);\n                         titolo4.setText(string);\n            \n                    }\n            \n            \n            \n                    return rootView;\n                }\n               /* public void sendemail(){\n            \n                    Intent intent = new Intent(Intent.ACTION_SEND);\n                    intent.setData(Uri.parse(&quot;mailto:&quot;));\n                    String[] to={&quot;marco_marcoletto@hotmail.it&quot;};\n                    intent.putExtra(Intent.EXTRA_EMAIL,to);\n                    intent.putExtra(Intent.EXTRA_SUBJECT, &quot;ciao&quot;);\n                    intent.putExtra(Intent.EXTRA_TEXT, &quot;zao&quot;);\n                    intent.setType(&quot;message/rfc822&quot;);\n                    chooser=intent.createChooser(intent,&quot;manda email&quot;);\n                    startActivity(chooser);\n                }*/\n               public void createPDF() {\n            \n                   Document doc = new Document();\n            \n                   try {\n                       String path = Environment.getExternalStorageDirectory()\n                               .getAbsolutePath() + &quot;/droidText&quot;;\n            \n                       File dir = new File(path);\n                       if (!dir.exists())\n                           dir.mkdirs();\n            \n                       Log.d(&quot;PDFCreator&quot;, &quot;PDF Path: &quot; + path);\n            \n                       File file = new File(dir, &quot;sample.pdf&quot;);\n                       FileOutputStream fOut = new FileOutputStream(file);\n            \n                       PdfWriter.getInstance(doc, fOut);\n            \n                       // open the document\n                       doc.open();\n                       ByteArrayOutputStream stream = new ByteArrayOutputStream();\n                       Bitmap bitmap = BitmapFactory.decodeResource(getContext()\n                               .getResources(), R.drawable.androtuto);\n                       bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\n                       Image myImg = Image.getInstance(stream.toByteArray());\n                       myImg.setAlignment(Image.MIDDLE);\n            \n                       // add image to document\n                       doc.add(myImg);\n            \n                       Paragraph p1 = new Paragraph(myInt);\n                   Log.d(&quot;ciao&quot;,myInt);\n        \n                       Font paraFont = new Font(Font.COURIER);\n                       p1.setAlignment(Paragraph.ALIGN_CENTER);\n                       p1.setFont(paraFont);\n            \n                       // add paragraph to document\n                       doc.add(p1);\n            \n                       Paragraph p2 = new Paragraph(&quot;Ciao&quot;);\n                       Font paraFont2 = new Font(Font.COURIER, 14.0f, Color.GREEN);\n                       p2.setAlignment(Paragraph.ALIGN_CENTER);\n                       p2.setFont(paraFont2);\n            \n                       doc.add(p2);\n            \n                       stream = new ByteArrayOutputStream();\n                       bitmap = BitmapFactory.decodeResource(getContext()\n                               .getResources(), R.drawable.android);\n                       bitmap.compress(Bitmap.CompressFormat.JPEG, 100, stream);\n                       myImg = Image.getInstance(stream.toByteArray());\n                       myImg.setAlignment(Image.MIDDLE);\n            \n                       // add image to document\n                       doc.add(myImg);\n            \n                       // set footer\n                       Phrase footerText = new Phrase(&quot;Pied de page &quot;);\n                       HeaderFooter pdfFooter = new HeaderFooter(footerText, false);\n                       doc.setFooter(pdfFooter);\n            \n                   } catch (DocumentException de) {\n                       Log.e(&quot;PDFCreator&quot;, &quot;DocumentException:&quot; + de);\n                   } catch (IOException e) {\n                       Log.e(&quot;PDFCreator&quot;, &quot;ioException:&quot; + e);\n                   } finally {\n                       doc.close();\n                   }\n            \n               }\n                public void viewPDF(){\n                    String path = &quot;/sdcard/droidText/sample.pdf&quot;;\n                    File targetFile = new File(path);\n                    Uri targetUri = Uri.fromFile(targetFile);\n            \n                    Intent intent;\n                    intent = new Intent(Intent.ACTION_VIEW);\n                    intent.setDataAndType(targetUri, &quot;application/pdf&quot;);\n            \n                    startActivity(intent);\n                }\n            \n            }\n</code></pre>\n<p>ThreeFragment.java</p>\n<p>(Fragment from where I pass variables)</p>\n<pre><code>public class ThreeFragment extends Fragment implements\n        android.widget.CompoundButton.OnCheckedChangeListener {\n\n    ListView lv2;\n    ArrayList&lt;Planet&gt; planetList;\n    ListView lv;\n\n    ArrayList&lt;Birra&gt; birraList;\n    BirraAdapter biAdapter;\n    PlanetAdapter plAdapter;\n    Planet p;\n    String myInt=&quot;&quot;;\n\n\n\n    PlanetAdapter.PlanetHolder holder;\n\n\n    public ThreeFragment() {\n        // Required empty public constructor\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n\n        final ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment_three, container, false);\n\n        Button mButton = (Button) rootView.findViewById(R.id.button2);\n        mButton.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                MyListFragment mlf=new MyListFragment();\n\n                mlf.showResult(v);\n              // MyListFragment.showResult(v);\n                showResult2(v);\n\n\n            }\n        });\n        //return inflater.inflate(R.layout.fragment_list2, container, false);\n        return rootView;\n    }\n\n\n    @Override\n    public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        lv2 = (ListView) getView().findViewById(R.id.listview2);\n        displayBirraList();\n    }\n\n\n    private void displayBirraList() {\n\n        birraList = new ArrayList&lt;Birra&gt;();\n        birraList.add(new Birra(&quot;Paulaner&quot;, 6, &quot;€&quot;));\n        birraList.add(new Birra(&quot;Forst&quot;, 7, &quot;€&quot;));\n        birraList.add(new Birra(&quot;Peroni&quot;, 5, &quot;€&quot;));\n        birraList.add(new Birra(&quot;Corona&quot;, 5, &quot;€&quot;));\n        birraList.add(new Birra(&quot;Nastro Azzurro&quot;, 4, &quot;€&quot;));\n        biAdapter = new BirraAdapter(birraList, getContext()) {\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                int pos = lv2.getPositionForView(buttonView);\n                if (pos != ListView.INVALID_POSITION) {\n                    Birra b = birraList.get(pos);\n                    b.setSelected(isChecked);\n\n\n            /*Toast.makeText(\n                getActivity(),\n                &quot;Clicked on Pizza: &quot; + p.getName() + &quot;. State: is &quot;\n                        + isChecked, Toast.LENGTH_SHORT).show();*/\n                }\n\n\n            }\n\n\n        };\n\n\n        lv2.setAdapter(biAdapter);\n    }\n\n\n    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n\n\n        /*int pos = lv.getPositionForView(buttonView);\n        if (pos != ListView.INVALID_POSITION) {\n            Planet p = planetList.get(pos);\n            p.setSelected(isChecked);\n\n\n            *//**//**//**//*Toast.makeText(\n                getActivity(),\n                &quot;Clicked on Planet: &quot; + p.getName() + &quot;. State: is &quot;\n                        + isChecked, Toast.LENGTH_SHORT).show();*//**//**//**//*\n        }\n*/\n    }\n\n\n    public void showResult2(View v) {\n        String result = &quot;Selected Product are :&quot;;\n        int totalAmount = 0;\n       // String a = &quot;&quot;;\n\n\n        for (Birra b : biAdapter.getBox()) {\n\n            if (b.selected) {\n\n                result += &quot;\\n&quot; + b.name + &quot; &quot; + b.distance + &quot;€&quot; + &quot;q.tà :&quot; + b.getQuantità();\n                int quantitaInt = Integer.parseInt(b.getQuantità());\n                totalAmount += b.distance * quantitaInt;\n              //  a=String.valueOf(totalAmount);\n\n\n            }\n        }\n      /*  for (Planet p : plAdapter.getBox()) {\n            if (p.isSelected()) {\n\n\n                result += &quot;\\n&quot; + p.getName() + &quot; &quot; + p.getDistance() + &quot;€&quot; + &quot;q.tà :&quot; + p.getQuantità();\n                int quantitaInt = Integer.parseInt(p.getQuantità());\n                //totalAmount2+=p.distance * quantitaInt;\n                //z=String.valueOf(totalAmount2);\n\n\n            }\n        }*/\n\n\n\n        Toast.makeText(getActivity(), result + &quot;\\n&quot; +myInt + &quot;\\n&quot; + &quot;Total Amount:=&quot; + totalAmount + &quot;€&quot;, Toast.LENGTH_LONG).show();\n           Bundle bun2 = new Bundle();\n            bun2.putString(&quot;scelta2&quot;, result);\n            TwoFragment fgsearch2 = new TwoFragment();\n            fgsearch2.setArguments(bun2);\n            android.support.v4.app.FragmentTransaction transaction2 = getActivity().getSupportFragmentManager().beginTransaction();\n            transaction2.replace(R.id.content_main, fgsearch2);\n            transaction2.commit();\n\n            Bundle bun = new Bundle();\n           // bun.putString(&quot;totalebirre&quot;, a);\n        bun.putInt(&quot;totalebirre&quot;, totalAmount);\n            TwoFragment fgsearch = new TwoFragment();\n            fgsearch.setArguments(bun);\n            android.support.v4.app.FragmentTransaction transaction = getActivity().getSupportFragmentManager().beginTransaction();\n            transaction.replace(R.id.content_main2, fgsearch);\n            transaction.commit();\n    }\n}\n</code></pre>\n<p>Main that calls three fragments:</p>\n<pre><code>public class MainBirra extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.mainbirra);\n\n        getSupportFragmentManager().beginTransaction().\n\n                replace(R.id.fragmentContainer2, new ThreeFragment()).commit();\n\n\n\n    }\n  /*  @Override protected void onDestroy() {\n        SharedPreferences preferences=getSharedPreferences(&quot;states&quot;, Context.MODE_PRIVATE);\n        SharedPreferences.Editor editor=preferences.edit();\n        editor.clear().apply();\n        super.onDestroy();\n        Log.e(&quot;OnDestroy&quot;, &quot; callback_2&quot;);\n    }*/\n}\n</code></pre>\n"},{"tags":["java","binance"],"comments":[{"owner":{"account_id":13348814,"reputation":850,"user_id":9634620,"display_name":"geekTechnique"},"score":1,"creation_date":1611453460,"post_id":65864645,"comment_id":116455878,"body_markdown":"Check here `https://api.binance.com/api/v3/ticker/price` to see what acceptable symbols you can choose from. Then you use this `https://api.binance.com/api/v1/ticker/price?symbol=LTCBTC` to, for example, get the single pair for LTCBTC. Let me know if this answers your question, or if you need more clarification.","body":"Check here <code>https:&#47;&#47;api.binance.com&#47;api&#47;v3&#47;ticker&#47;price</code> to see what acceptable symbols you can choose from. Then you use this <code>https:&#47;&#47;api.binance.com&#47;api&#47;v1&#47;ticker&#47;price?symbol=LTCBTC</code> to, for example, get the single pair for LTCBTC. Let me know if this answers your question, or if you need more clarification."},{"owner":{"account_id":17348048,"reputation":211,"user_id":12567170,"display_name":"programmer123456"},"score":1,"creation_date":1611672678,"post_id":65864645,"comment_id":116522490,"body_markdown":"Yes, now I see my mistakes. Redundant slash (&#39;/&#39;) after &quot;price&quot; and lowerCase symbol. Thank You for Your answer.","body":"Yes, now I see my mistakes. Redundant slash (&#39;/&#39;) after &quot;price&quot; and lowerCase symbol. Thank You for Your answer."}],"answers":[{"comments":[{"owner":{"account_id":19919247,"reputation":482,"user_id":14595501,"display_name":"fahdshaykh"},"score":0,"creation_date":1696062778,"post_id":66397480,"comment_id":136108306,"body_markdown":"how to fetch with specific date or date time i have searched with \nhttps://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT\nbut i want to fetch with etc.\nhttps://api.binance.com/api/v3/ticker/1274123617?symbol=BTCUSDT\nin above url after ticker the number is unix date time. but unfortunately i can&#39;t get response.","body":"how to fetch with specific date or date time i have searched with  <a href=\"https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT\" rel=\"nofollow noreferrer\">api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT</a> but i want to fetch with etc. <a href=\"https://api.binance.com/api/v3/ticker/1274123617?symbol=BTCUSDT\" rel=\"nofollow noreferrer\">api.binance.com/api/v3/ticker/1274123617?symbol=BTCUSDT</a> in above url after ticker the number is unix date time. but unfortunately i can&#39;t get response."}],"tags":[],"owner":{"account_id":15876615,"reputation":624,"user_id":11455650,"display_name":"reaver lover"},"comment_count":1,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1614419367,"creation_date":1614419367,"answer_id":66397480,"question_id":65864645,"body_markdown":"3) ```https://api.binance.com/api/v3/ticker/price/?symbol=btcusdt```\r\n\r\nYou must use Query without ```/```\r\n\r\nand Binance&#39;s /api/v3/ticker/price endpoint need symbol query as ```Upper case```.\r\n\r\nso you must request as below\r\n\r\n```https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT```","title":"How to use Binance API, simple GET price by ticker","body":"<ol start=\"3\">\n<li><code>https://api.binance.com/api/v3/ticker/price/?symbol=btcusdt</code></li>\n</ol>\n<p>You must use Query without <code>/</code></p>\n<p>and Binance's /api/v3/ticker/price endpoint need symbol query as <code>Upper case</code>.</p>\n<p>so you must request as below</p>\n<p><code>https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT</code></p>\n"},{"comments":[{"owner":{"account_id":1508365,"reputation":1869,"user_id":1411160,"display_name":"Emil Sierżęga"},"score":2,"creation_date":1651744346,"post_id":72078478,"comment_id":127437679,"body_markdown":"If you have a new question, please ask it by clicking the [Ask Question](https://stackoverflow.com/questions/ask) button. Include a link to this question if it helps provide context. - [From Review](/review/late-answers/31668339)","body":"If you have a new question, please ask it by clicking the <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a> button. Include a link to this question if it helps provide context. - <a href=\"/review/late-answers/31668339\">From Review</a>"},{"owner":{"account_id":1194778,"reputation":9454,"user_id":1166727,"accept_rate":65,"display_name":"tony gil"},"score":4,"creation_date":1654281077,"post_id":72078478,"comment_id":128061793,"body_markdown":"`?symbols=[&quot;BNBBTC&quot;,&quot;ETHUSDT&quot;]`","body":"<code>?symbols=[&quot;BNBBTC&quot;,&quot;ETHUSDT&quot;]</code>"}],"tags":[],"owner":{"account_id":7763013,"reputation":65,"user_id":5875138,"display_name":"linux_beginner"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651437625,"creation_date":1651422046,"answer_id":72078478,"question_id":65864645,"body_markdown":"Is there a chance to send more queries at once like for example\r\nBTCUSDT and ETHUSDT ?\r\n\r\nWhen I am trying various combinations I get a reply of:\r\n\r\n    {&quot;code&quot;:-1104,&quot;msg&quot;:&quot;Not all sent parameters were read; read &#39;1&#39; parameter(s) but was sent &#39;2&#39;.&quot;}","title":"How to use Binance API, simple GET price by ticker","body":"<p>Is there a chance to send more queries at once like for example\nBTCUSDT and ETHUSDT ?</p>\n<p>When I am trying various combinations I get a reply of:</p>\n<pre><code>{&quot;code&quot;:-1104,&quot;msg&quot;:&quot;Not all sent parameters were read; read '1' parameter(s) but was sent '2'.&quot;}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19919247,"reputation":482,"user_id":14595501,"display_name":"fahdshaykh"},"score":0,"creation_date":1696063459,"post_id":72157258,"comment_id":136108348,"body_markdown":"how to fetch with specific date or date time i have searched with api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT but i want to fetch with etc. api.binance.com/api/v3/ticker/1274123617?symbol=BTCUSDT in url after ticker the number is unix date time. but unfortunately i can&#39;t get response.","body":"how to fetch with specific date or date time i have searched with api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT but i want to fetch with etc. api.binance.com/api/v3/ticker/1274123617?symbol=BTCUSDT in url after ticker the number is unix date time. but unfortunately i can&#39;t get response."}],"tags":[],"owner":{"account_id":11343846,"reputation":433,"user_id":8316956,"display_name":"Humayun MHA"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1651969671,"creation_date":1651969671,"answer_id":72157258,"question_id":65864645,"body_markdown":"You can you this API link to get all pairs only current price and symbols:\r\n\r\n    https://www.binance.com/api/v3/ticker/price\r\n\r\nThis for specific symbol and price:\r\n\r\n    https://www.binance.com/api/v3/ticker/price?symbol=BNBBTC\r\n\r\nThis for all pairs with full info:\r\n\r\n    https://api.binance.com/api/v3/exchangeInfo\r\n\r\nThis for 1 pair full info:\r\n\r\n    https://api.binance.com/api/v3/exchangeInfo?symbol=BNBBTC\r\n\r\nHere is Binance API Detail pages:\r\n\r\n[https://binance-docs.github.io/apidocs/spot/en][1]\r\n\r\n[https://github.com/binance/binance-spot-api-docs/blob/master/rest-api.md][2]\r\n\r\n\r\n  [1]: https://binance-docs.github.io/apidocs/spot/en\r\n  [2]: https://github.com/binance/binance-spot-api-docs/blob/master/rest-api.md","title":"How to use Binance API, simple GET price by ticker","body":"<p>You can you this API link to get all pairs only current price and symbols:</p>\n<pre><code>https://www.binance.com/api/v3/ticker/price\n</code></pre>\n<p>This for specific symbol and price:</p>\n<pre><code>https://www.binance.com/api/v3/ticker/price?symbol=BNBBTC\n</code></pre>\n<p>This for all pairs with full info:</p>\n<pre><code>https://api.binance.com/api/v3/exchangeInfo\n</code></pre>\n<p>This for 1 pair full info:</p>\n<pre><code>https://api.binance.com/api/v3/exchangeInfo?symbol=BNBBTC\n</code></pre>\n<p>Here is Binance API Detail pages:</p>\n<p><a href=\"https://binance-docs.github.io/apidocs/spot/en\" rel=\"noreferrer\">https://binance-docs.github.io/apidocs/spot/en</a></p>\n<p><a href=\"https://github.com/binance/binance-spot-api-docs/blob/master/rest-api.md\" rel=\"noreferrer\">https://github.com/binance/binance-spot-api-docs/blob/master/rest-api.md</a></p>\n"},{"tags":[],"owner":{"account_id":26650733,"reputation":11,"user_id":20265085,"display_name":"Rebecca Mwangi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691868622,"creation_date":1691868622,"answer_id":76890827,"question_id":65864645,"body_markdown":"Yes you can send multiple symbols but you have to loop\r\n\r\n    for (const symbol of symbols) {\r\n    const query_String = await queryString({ symbol });\r\n     await axios({\r\n      method: &quot;GET&quot;,\r\n      url: `${Settings.Endpoint}/v3/ticker/price?${query_String}`,\r\n    })\r\n  }","title":"How to use Binance API, simple GET price by ticker","body":"<p>Yes you can send multiple symbols but you have to loop</p>\n<pre><code>for (const symbol of symbols) {\nconst query_String = await queryString({ symbol });\n await axios({\n  method: &quot;GET&quot;,\n  url: `${Settings.Endpoint}/v3/ticker/price?${query_String}`,\n})\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":17348048,"reputation":211,"user_id":12567170,"display_name":"programmer123456"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88696,"favorite_count":0,"down_vote_count":1,"up_vote_count":21,"answer_count":4,"score":20,"last_activity_date":1691869060,"creation_date":1611437642,"question_id":65864645,"body_markdown":"I would like to get only one pair from the response. And I can&#39;t really understand how I should pass my parameter.\r\n\r\nInstructions say:\r\n\r\n&gt; Symbol price ticker  \r\n&gt; GET ```/api/v3/ticker/price```  \r\n&gt; Latest price for a symbol or symbols.  \r\n&gt; Weight: 1 for a single symbol; 2 when the symbol parameter is omitted  \r\n&gt; Parameters:  \r\n&gt; Name\tType\tMandatory\tDescription\r\n&gt; symbol\tSTRING\tNO\t-  \r\n&gt; If the symbol is not sent, prices for all symbols will be returned in an array.&quot;\r\n\r\nI&#39;m able to get all symbols in the response body, but can&#39;t get a single one. \r\nI have already tried (in Postman) these endpoints:\r\n1) ```https://api.binance.com/api/v3/ticker/price/btcusdt```\r\n2) ```https://api.binance.com/api/v3/ticker/price/symbol=btcusdt```\r\n3) ```https://api.binance.com/api/v3/ticker/price/?symbol=btcusdt```\r\n\r\nHere is the link to entire API:\r\n```https://github.com/binance/binance-spot-api-docs/blob/master/rest-api.md#24hr-ticker-price-change-statistics```\r\n\r\nSo, which endpoint is correct? \r\n\r\n![postman result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JogUZ.png","title":"How to use Binance API, simple GET price by ticker","body":"<p>I would like to get only one pair from the response. And I can't really understand how I should pass my parameter.</p>\n<p>Instructions say:</p>\n<blockquote>\n<p>Symbol price ticker<br />\nGET <code>/api/v3/ticker/price</code><br />\nLatest price for a symbol or symbols.<br />\nWeight: 1 for a single symbol; 2 when the symbol parameter is omitted<br />\nParameters:<br />\nName  Type    Mandatory   Description\nsymbol    STRING  NO  -<br />\nIf the symbol is not sent, prices for all symbols will be returned in an array.&quot;</p>\n</blockquote>\n<p>I'm able to get all symbols in the response body, but can't get a single one.\nI have already tried (in Postman) these endpoints:</p>\n<ol>\n<li><code>https://api.binance.com/api/v3/ticker/price/btcusdt</code></li>\n<li><code>https://api.binance.com/api/v3/ticker/price/symbol=btcusdt</code></li>\n<li><code>https://api.binance.com/api/v3/ticker/price/?symbol=btcusdt</code></li>\n</ol>\n<p>Here is the link to entire API:\n<code>https://github.com/binance/binance-spot-api-docs/blob/master/rest-api.md#24hr-ticker-price-change-statistics</code></p>\n<p>So, which endpoint is correct?</p>\n<p><img src=\"https://i.stack.imgur.com/JogUZ.png\" alt=\"postman result\" /></p>\n"},{"tags":["java","android","kotlin","intellij-idea"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1691860046,"post_id":76890302,"comment_id":135549741,"body_markdown":"&quot;Recently however they introduce me forcibly to Kotlin&quot; -- they default to Kotlin. You can use Java in any Android Studio project. &quot;what do I have to change to get my Java templates&quot; -- I doubt those are coming back in terms of official support. IMHO, those templates were never very good. While *you* may not want to deal with Kotlin, please bear in mind that most of the ecosystem is moving to Kotlin, just as most of iOS development has moved to Swift and away from Objective-C. You will be increasingly isolated as a pure-Java developer, but that is certainly your choice to make.","body":"&quot;Recently however they introduce me forcibly to Kotlin&quot; -- they default to Kotlin. You can use Java in any Android Studio project. &quot;what do I have to change to get my Java templates&quot; -- I doubt those are coming back in terms of official support. IMHO, those templates were never very good. While <i>you</i> may not want to deal with Kotlin, please bear in mind that most of the ecosystem is moving to Kotlin, just as most of iOS development has moved to Swift and away from Objective-C. You will be increasingly isolated as a pure-Java developer, but that is certainly your choice to make."},{"owner":{"account_id":29212915,"reputation":29,"user_id":22380473,"display_name":"Johannes Schidlowski"},"score":0,"creation_date":1691866957,"post_id":76890302,"comment_id":135550395,"body_markdown":"Ok, this is what I feared and suspected. Now I have installed the Jetbrains Toolbox which allows me to install and keep different versions of the IDE side by side and installed the version 2023.1.5 and downgraded the project gradle from 8.0.0 to 7.4.0, which allows me to develop old fashioned. For the moment I keep both versions. ... now I have to work out how to accept here your answer :-)","body":"Ok, this is what I feared and suspected. Now I have installed the Jetbrains Toolbox which allows me to install and keep different versions of the IDE side by side and installed the version 2023.1.5 and downgraded the project gradle from 8.0.0 to 7.4.0, which allows me to develop old fashioned. For the moment I keep both versions. ... now I have to work out how to accept here your answer :-)"},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1691871356,"post_id":76890302,"comment_id":135550808,"body_markdown":"You don&#39;t need an older IDE to continue to use Java, nor do you need an older version of AGP - they all work just fine with fully Java based projects.","body":"You don&#39;t need an older IDE to continue to use Java, nor do you need an older version of AGP - they all work just fine with fully Java based projects."}],"answers":[{"comments":[{"owner":{"account_id":29212915,"reputation":29,"user_id":22380473,"display_name":"Johannes Schidlowski"},"score":0,"creation_date":1692037493,"post_id":76890780,"comment_id":135568811,"body_markdown":"I am aware of being isolated, but I am now past 60 years old and simply can&#39;t follow a new programming language in a way to become a professional. I just see in Kotlin an attempt to make it a multi-platform language, which certainly has its perks, but none of which I can make use of. I see from the syntax, that Kotlin is Swift oriented and that made me, honestly, sick. The unexplainable question marks and stuff like that drive me insane :-)\n\nI&#39;ll have a look into your book, though.","body":"I am aware of being isolated, but I am now past 60 years old and simply can&#39;t follow a new programming language in a way to become a professional. I just see in Kotlin an attempt to make it a multi-platform language, which certainly has its perks, but none of which I can make use of. I see from the syntax, that Kotlin is Swift oriented and that made me, honestly, sick. The unexplainable question marks and stuff like that drive me insane :-)  I&#39;ll have a look into your book, though."}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1691867588,"creation_date":1691867588,"answer_id":76890780,"question_id":76890302,"body_markdown":"&gt; Recently however they introduce me forcibly to Kotlin\r\n\r\nIt&#39;s more that they default projects to incorporating Kotlin into the build scripts and that templates are only available for Kotlin. You can still use Java, and there&#39;s nothing that you need to add to the project to use Java.\r\n\r\n&gt; what do I have to change to get my Java templates\r\n\r\nI doubt those are coming back in terms of official support. IMHO, those templates were never very good, often demonstrating anti-patterns or using obsolete techniques. Cutting back to just Kotlin templates might help them do a better job of maintaining the smaller roster.\r\n\r\nThere might be a plugin that offers Java templates. I am not aware of any, but I have never looked for any either.\r\n\r\n&gt; which I don&#39;t know and don&#39;t want to learn\r\n\r\nYou do not have to learn Kotlin. However, please understand that you will be increasingly isolated. The Android ecosystem is moving *strongly* towards Kotlin, just as the iOS ecosystem moved towards Swift. Right now, trying to learn Objective-C-based iOS development is very difficult, because documentation and tooling is Swift-centric. The same thing will be true for Android app development in another couple of years.\r\n\r\nAlso, note that certain technologies, such as Jetpack Compose, require Kotlin.\r\n\r\nFWIW, if you would like to at least be somewhat conversant in Kotlin, for reading documentation and blog posts and stuff, [here is a free book of mine on the subject](https://commonsware.com/Kotlin), though it is getting a bit old.","title":"How can I create pure Java Android app projects only?","body":"<blockquote>\n<p>Recently however they introduce me forcibly to Kotlin</p>\n</blockquote>\n<p>It's more that they default projects to incorporating Kotlin into the build scripts and that templates are only available for Kotlin. You can still use Java, and there's nothing that you need to add to the project to use Java.</p>\n<blockquote>\n<p>what do I have to change to get my Java templates</p>\n</blockquote>\n<p>I doubt those are coming back in terms of official support. IMHO, those templates were never very good, often demonstrating anti-patterns or using obsolete techniques. Cutting back to just Kotlin templates might help them do a better job of maintaining the smaller roster.</p>\n<p>There might be a plugin that offers Java templates. I am not aware of any, but I have never looked for any either.</p>\n<blockquote>\n<p>which I don't know and don't want to learn</p>\n</blockquote>\n<p>You do not have to learn Kotlin. However, please understand that you will be increasingly isolated. The Android ecosystem is moving <em>strongly</em> towards Kotlin, just as the iOS ecosystem moved towards Swift. Right now, trying to learn Objective-C-based iOS development is very difficult, because documentation and tooling is Swift-centric. The same thing will be true for Android app development in another couple of years.</p>\n<p>Also, note that certain technologies, such as Jetpack Compose, require Kotlin.</p>\n<p>FWIW, if you would like to at least be somewhat conversant in Kotlin, for reading documentation and blog posts and stuff, <a href=\"https://commonsware.com/Kotlin\" rel=\"nofollow noreferrer\">here is a free book of mine on the subject</a>, though it is getting a bit old.</p>\n"}],"owner":{"account_id":29212915,"reputation":29,"user_id":22380473,"display_name":"Johannes Schidlowski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76890780,"answer_count":1,"score":0,"last_activity_date":1691867588,"creation_date":1691859605,"question_id":76890302,"body_markdown":"Since very recently, all new Android App projects with Android Studio and IntelliJ have been Java and I want to keep it that way. Recently however they introduce me forcibly to Kotlin, which I don&#39;t know and don&#39;t want to learn. Do I have to downgrade and block upgrades to get this functionality back to what it was, or what do I have to change to get my Java templates and old default behaviour back to what it was, say in 2022/beginning 2023?\r\n\r\nI create a new project as always and now get *.kt files instead of *.java, and all the activity templates have become Kotlin. I have browsed all settings and can&#39;t work out where or how to change them to fall back or add the feature I want. I also can&#39;t see plugins which eventually could add the old mech.\r\n","title":"How can I create pure Java Android app projects only?","body":"<p>Since very recently, all new Android App projects with Android Studio and IntelliJ have been Java and I want to keep it that way. Recently however they introduce me forcibly to Kotlin, which I don't know and don't want to learn. Do I have to downgrade and block upgrades to get this functionality back to what it was, or what do I have to change to get my Java templates and old default behaviour back to what it was, say in 2022/beginning 2023?</p>\n<p>I create a new project as always and now get *.kt files instead of *.java, and all the activity templates have become Kotlin. I have browsed all settings and can't work out where or how to change them to fall back or add the feature I want. I also can't see plugins which eventually could add the old mech.</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":1,"creation_date":1691867468,"post_id":76890515,"comment_id":135550452,"body_markdown":"Do not tag `dsa`.  Your question has nothing to do with `Digital Signature Algorithm`.","body":"Do not tag <code>dsa</code>.  Your question has nothing to do with <code>Digital Signature Algorithm</code>."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1691867869,"post_id":76890515,"comment_id":135550482,"body_markdown":"I think you can get faster by sorting and actively searching for matching parts. I don&#39;t know how that looks with long sequences, though, but that might be a start","body":"I think you can get faster by sorting and actively searching for matching parts. I don&#39;t know how that looks with long sequences, though, but that might be a start"},{"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"score":0,"creation_date":1691870491,"post_id":76890515,"comment_id":135550726,"body_markdown":"Your example has the 7 integers from 1-7 in shuffled order. Is it guaranteed that the input will always have 1-n in some order with no integers missing or repeated?","body":"Your example has the 7 integers from 1-7 in shuffled order. Is it guaranteed that the input will always have 1-n in some order with no integers missing or repeated?"},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":1,"creation_date":1691871351,"post_id":76890515,"comment_id":135550805,"body_markdown":"By &quot;subsequence&quot; do you mean adjacent values in the array, i.e., a set with sequential indices? Or are you proposing any subset, regardless of adjacency of the elements? Please address this explicitly by providing the indices of the example array you have identified as solutions for `k=7`. Also, are all values in the array positive (as in your example), or can it contain negative values as well? I believe there&#39;s an O(n) solution if the values are all positive and must be adjacent.","body":"By &quot;subsequence&quot; do you mean adjacent values in the array, i.e., a set with sequential indices? Or are you proposing any subset, regardless of adjacency of the elements? Please address this explicitly by providing the indices of the example array you have identified as solutions for <code>k=7</code>. Also, are all values in the array positive (as in your example), or can it contain negative values as well? I believe there&#39;s an O(n) solution if the values are all positive and must be adjacent."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1691874597,"post_id":76890515,"comment_id":135551029,"body_markdown":"If this problem comes from a web page, please provide a link to that page.","body":"If this problem comes from a web page, please provide a link to that page."},{"owner":{"account_id":19973475,"reputation":103,"user_id":14775762,"display_name":"Stanislav Volodarskiy"},"score":1,"creation_date":1691878859,"post_id":76890515,"comment_id":135551359,"body_markdown":"[Subset sum](https://en.wikipedia.org/wiki/Subset_sum_problem#Pseudo-polynomial_time_dynamic_programming_solutions).","body":"<a href=\"https://en.wikipedia.org/wiki/Subset_sum_problem#Pseudo-polynomial_time_dynamic_programming_solutions\" rel=\"nofollow noreferrer\">Subset sum</a>."},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":1,"creation_date":1691880586,"post_id":76890515,"comment_id":135551449,"body_markdown":"@StanislavVolodarskiy My concern is that &quot;subset&quot; and &quot;subsequence&quot; can mean two very different things. OP needs to specify the definition they&#39;re using.","body":"@StanislavVolodarskiy My concern is that &quot;subset&quot; and &quot;subsequence&quot; can mean two very different things. OP needs to specify the definition they&#39;re using."},{"owner":{"account_id":19973475,"reputation":103,"user_id":14775762,"display_name":"Stanislav Volodarskiy"},"score":0,"creation_date":1691880874,"post_id":76890515,"comment_id":135551466,"body_markdown":"@pjs, OP mentions backtracking which is useless for sub-arrays.","body":"@pjs, OP mentions backtracking which is useless for sub-arrays."}],"owner":{"account_id":29213216,"reputation":11,"user_id":22380706,"display_name":"secret prasad"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1691891070,"answer_count":0,"score":0,"last_activity_date":1691867475,"creation_date":1691863265,"question_id":76890515,"body_markdown":"print all the subsequences having the sum k ?\r\ntake the array as \\[2,3,5,1,6,4,7\\] and k=7....\r\n\r\nAs backtracking is taking the Time Complexity: O(2^n) and the space complexity of Auxiliary Space: O(h). is there is any way to do it in lower time complexity?","title":"All subsequences having sum k","body":"<p>print all the subsequences having the sum k ?\ntake the array as [2,3,5,1,6,4,7] and k=7....</p>\n<p>As backtracking is taking the Time Complexity: O(2^n) and the space complexity of Auxiliary Space: O(h). is there is any way to do it in lower time complexity?</p>\n"},{"tags":["java","swing","random","switch-statement","do-while"],"comments":[{"owner":{"display_name":"user586399"},"score":0,"creation_date":1392660618,"post_id":21835975,"comment_id":33051265,"body_markdown":"What is the wrong specifically??? I don&#39;t observe any wrong","body":"What is the wrong specifically??? I don&#39;t observe any wrong"},{"owner":{"account_id":2661104,"reputation":1914,"user_id":2300769,"accept_rate":89,"display_name":"Hugo Sousa"},"score":0,"creation_date":1392672845,"post_id":21835975,"comment_id":33057565,"body_markdown":"Did my answer solve your problem?","body":"Did my answer solve your problem?"},{"owner":{"account_id":4035602,"reputation":1,"user_id":3320187,"display_name":"user3320187"},"score":0,"creation_date":1392736347,"post_id":21835975,"comment_id":33088970,"body_markdown":"Problema Solved... thanks! just a little confusion","body":"Problema Solved... thanks! just a little confusion"}],"answers":[{"comments":[{"owner":{"account_id":4035602,"reputation":1,"user_id":3320187,"display_name":"user3320187"},"score":0,"creation_date":1392694261,"post_id":21836248,"comment_id":33064793,"body_markdown":"Oh well, thanks for the response. here&#39;s the flow... whatever integer you want to input, the result is random. that&#39;s why I decided to solve my problem with JOptionPane.showMessageDialog(null,&quot;&quot;**+random**); even if with the cases.","body":"Oh well, thanks for the response. here&#39;s the flow... whatever integer you want to input, the result is random. that&#39;s why I decided to solve my problem with JOptionPane.showMessageDialog(null,&quot;&quot;<b>+random</b>); even if with the cases."}],"tags":[],"owner":{"account_id":2661104,"reputation":1914,"user_id":2300769,"accept_rate":89,"display_name":"Hugo Sousa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392660372,"creation_date":1392660372,"answer_id":21836248,"question_id":21835975,"body_markdown":"You want \r\n\r\n    switch(select1)\r\n\r\ninstead of \r\n\r\n    switch(random)\r\n\r\n","title":"JOptionPane with switch cases","body":"<p>You want </p>\n\n<pre><code>switch(select1)\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>switch(random)\n</code></pre>\n"}],"owner":{"account_id":4035602,"reputation":1,"user_id":3320187,"display_name":"user3320187"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15016,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691867316,"creation_date":1392659465,"question_id":21835975,"body_markdown":"Well, this code actually run but ended up with wrong output (specifically in &quot;Randoms&quot; cases)\r\n\r\nNote: it has a random generator for a random result or output\r\n\r\nI would like to know what&#39;s wrong with this code.\r\n\r\n\r\n\r\n    package gametest1;\r\n    \r\n    import java.util.Random;\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class Gametest1 \r\n    {\r\n        private static int select1;\r\n    \r\n      \r\n        public static void main(String[] args)\r\n        {\r\n            int menu1;\r\n    \r\n            do \r\n            {\r\n                String menu = JOptionPane.showInputDialog(&quot;THE BIRTHDAY GAME&quot;+&quot;\\n\\nMENU&quot;+&quot;\\n1.PLAY&quot;+&quot;\\n2.EXIT&quot;+&quot;\\n\\n&quot;); \r\n                menu1 = Integer.parseInt(menu);\r\n               \r\n                switch(menu1)\r\n                {\r\n                    case 1:\r\n                        do\r\n                           \r\n                        {\r\n                            String select = JOptionPane.showInputDialog(&quot;Choose\\n&quot;+&quot;\\nPRESS &#39;6&#39; TO EXIT&quot;+&quot;\\n\\n&quot;+&quot;\\nENTER YOUR BIRTHDAY FROM 1-5&quot;);\r\n                            int select1 = Integer.parseInt(select);\r\n                            \r\n                            Random generator = new Random();\r\n                           \r\n                           if (select1 == 6)\r\n                           {\r\n                               JOptionPane.showMessageDialog(null,&quot;BACK TO MAIN MENU!&quot;);\r\n                               break;\r\n                           }\r\n                           \r\n                           \r\n                           int random = generator.nextInt(select1);\r\n                           \r\n                           switch(random)\r\n                           {\r\n                               \r\n                               \r\n                               case 1:\r\n                               {\r\n                                   JOptionPane.showMessageDialog(null,&quot;RANDOMmessage1&quot;+random);\r\n                                   break;\r\n                               }   \r\n                               case 2:\r\n                               {\r\n                                   JOptionPane.showMessageDialog(null,&quot;RANDOMmessage2&quot;+random);\r\n                                   break;\r\n                               } \r\n                               case 3:\r\n                               {\r\n                                   JOptionPane.showMessageDialog(null,&quot;RANDOMmessage3&quot;+random);\r\n                                   break;\r\n                               }   \r\n                               case 4:\r\n                               {\r\n                                   JOptionPane.showMessageDialog(null,&quot;RANDOMmessage4&quot;+random);\r\n                                   break;\r\n                               }  \r\n                               case 5:\r\n                               {\r\n                                   JOptionPane.showMessageDialog(null,&quot;RANDOMmessage5&quot;+random);\r\n                                   break;\r\n                               }  \r\n                               \r\n                               default:\r\n                               {\r\n                               JOptionPane.showMessageDialog(null,&quot;WRONG INPUT&quot;);\r\n                               break;\r\n                               }\r\n                            \r\n                                  \r\n                           }\r\n                        }\r\n                        \r\n                        while (select1 !=5);\r\n                        break;\r\n                        \r\n                    case 2:\r\n                        JOptionPane.showMessageDialog(null,&quot;menu case2: adios!&quot;);\r\n                               System.exit(0);\r\n                    default:\r\n                         JOptionPane.showMessageDialog(null,&quot;Program will return&quot;);\r\n                        break;\r\n                        \r\n                        \r\n                }\r\n            }\r\n            while (menu1 !=2);\r\n        }\r\n        \r\n    }\r\n\r\n","title":"JOptionPane with switch cases","body":"<p>Well, this code actually run but ended up with wrong output (specifically in \"Randoms\" cases)</p>\n\n<p>Note: it has a random generator for a random result or output</p>\n\n<p>I would like to know what's wrong with this code.</p>\n\n<pre><code>package gametest1;\n\nimport java.util.Random;\nimport javax.swing.JOptionPane;\n\npublic class Gametest1 \n{\n    private static int select1;\n\n\n    public static void main(String[] args)\n    {\n        int menu1;\n\n        do \n        {\n            String menu = JOptionPane.showInputDialog(\"THE BIRTHDAY GAME\"+\"\\n\\nMENU\"+\"\\n1.PLAY\"+\"\\n2.EXIT\"+\"\\n\\n\"); \n            menu1 = Integer.parseInt(menu);\n\n            switch(menu1)\n            {\n                case 1:\n                    do\n\n                    {\n                        String select = JOptionPane.showInputDialog(\"Choose\\n\"+\"\\nPRESS '6' TO EXIT\"+\"\\n\\n\"+\"\\nENTER YOUR BIRTHDAY FROM 1-5\");\n                        int select1 = Integer.parseInt(select);\n\n                        Random generator = new Random();\n\n                       if (select1 == 6)\n                       {\n                           JOptionPane.showMessageDialog(null,\"BACK TO MAIN MENU!\");\n                           break;\n                       }\n\n\n                       int random = generator.nextInt(select1);\n\n                       switch(random)\n                       {\n\n\n                           case 1:\n                           {\n                               JOptionPane.showMessageDialog(null,\"RANDOMmessage1\"+random);\n                               break;\n                           }   \n                           case 2:\n                           {\n                               JOptionPane.showMessageDialog(null,\"RANDOMmessage2\"+random);\n                               break;\n                           } \n                           case 3:\n                           {\n                               JOptionPane.showMessageDialog(null,\"RANDOMmessage3\"+random);\n                               break;\n                           }   \n                           case 4:\n                           {\n                               JOptionPane.showMessageDialog(null,\"RANDOMmessage4\"+random);\n                               break;\n                           }  \n                           case 5:\n                           {\n                               JOptionPane.showMessageDialog(null,\"RANDOMmessage5\"+random);\n                               break;\n                           }  \n\n                           default:\n                           {\n                           JOptionPane.showMessageDialog(null,\"WRONG INPUT\");\n                           break;\n                           }\n\n\n                       }\n                    }\n\n                    while (select1 !=5);\n                    break;\n\n                case 2:\n                    JOptionPane.showMessageDialog(null,\"menu case2: adios!\");\n                           System.exit(0);\n                default:\n                     JOptionPane.showMessageDialog(null,\"Program will return\");\n                    break;\n\n\n            }\n        }\n        while (menu1 !=2);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","javafx","fxml","materialfx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1691765263,"post_id":76884533,"comment_id":135540332,"body_markdown":"*&quot;I want to collapse and expand this VBox in height so that it disappears completely.&quot;* Why not just remove it from the scene graph? Or do `setVisible(false); setManaged(false);`?","body":"<i>&quot;I want to collapse and expand this VBox in height so that it disappears completely.&quot;</i> Why not just remove it from the scene graph? Or do <code>setVisible(false); setManaged(false);</code>?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1691765464,"post_id":76884533,"comment_id":135540368,"body_markdown":"You *might* also be able to use a [`TitledPane`](https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/TitledPane.html), which basically already implements this type of functionality for you.","body":"You <i>might</i> also be able to use a <a href=\"https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/TitledPane.html\" rel=\"nofollow noreferrer\"><code>TitledPane</code></a>, which basically already implements this type of functionality for you."},{"owner":{"account_id":28630892,"reputation":1,"user_id":21921953,"display_name":"0xLairon1"},"score":0,"creation_date":1691766085,"post_id":76884533,"comment_id":135540501,"body_markdown":"@james-d How much does it lag when folding and unfolding. Everything is literally twitchy","body":"@james-d How much does it lag when folding and unfolding. Everything is literally twitchy"},{"owner":{"account_id":28630892,"reputation":1,"user_id":21921953,"display_name":"0xLairon1"},"score":0,"creation_date":1691766165,"post_id":76884533,"comment_id":135540520,"body_markdown":"&quot;Why not just remove it from the scene graph?&quot; I want to make smooth animation while doing this. TitledPane does this but is very laggy","body":"&quot;Why not just remove it from the scene graph?&quot; I want to make smooth animation while doing this. TitledPane does this but is very laggy"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1691766410,"post_id":76884533,"comment_id":135540572,"body_markdown":"I have not had any issues with &quot;lag&quot; on a titled pane. You should include in the question that you want to animate it when collapsing. Probably the approach to this is to animate the `maxHeight` property (but it depends in part on how your layout is defined; in particular on the settings on the vbox&#39;s parent). Create a [mre] showing what you have tried.","body":"I have not had any issues with &quot;lag&quot; on a titled pane. You should include in the question that you want to animate it when collapsing. Probably the approach to this is to animate the <code>maxHeight</code> property (but it depends in part on how your layout is defined; in particular on the settings on the vbox&#39;s parent). Create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing what you have tried."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1691769651,"post_id":76884533,"comment_id":135541256,"body_markdown":"*&quot;when you try to specify any height in the VBox, nothing changes. As I understand it, this is because the objects inside the VBox do not allow it to decrease.&quot;* How exactly are you trying to do that? [`height` is a read only property](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/Region.html#heightProperty)","body":"<i>&quot;when you try to specify any height in the VBox, nothing changes. As I understand it, this is because the objects inside the VBox do not allow it to decrease.&quot;</i> How exactly are you trying to do that? <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/Region.html#heightProperty\" rel=\"nofollow noreferrer\"><code>height</code> is a read only property</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1691771194,"post_id":76884533,"comment_id":135541512,"body_markdown":"This may help. https://stackoverflow.com/questions/76420533/how-to-slide-a-vbox-open-and-close-in-javafx/76424415#76424415","body":"This may help. <a href=\"https://stackoverflow.com/questions/76420533/how-to-slide-a-vbox-open-and-close-in-javafx/76424415#76424415\" title=\"how to slide a vbox open and close in javafx\">stackoverflow.com/questions/76420533/&hellip;</a>"},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":1,"creation_date":1691873753,"post_id":76884533,"comment_id":135550976,"body_markdown":"@0xLairon1 &quot;Lag&quot; and &quot;twitchy&quot; are warning signs that you&#39;re doing something seriously wrong, unless you have literally thousands of Nodes in your SceneGraph.  Most often, it&#39;s because you&#39;re doing something you shouldn&#39;t on the FXAT, or you&#39;re creating and destroying Nodes on the fly.  Both are bad approaches.","body":"@0xLairon1 &quot;Lag&quot; and &quot;twitchy&quot; are warning signs that you&#39;re doing something seriously wrong, unless you have literally thousands of Nodes in your SceneGraph.  Most often, it&#39;s because you&#39;re doing something you shouldn&#39;t on the FXAT, or you&#39;re creating and destroying Nodes on the fly.  Both are bad approaches."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1691770377,"creation_date":1691769458,"answer_id":76885089,"question_id":76884533,"body_markdown":"First note that the functionality you are describing is already implemented by [`TitledPane`](https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/TitledPane.html). Typically you should use built-in functionality, when it does what you need, instead of trying to implement it yourself.\r\n\r\nIf you want to write your own animation to collapse a pane, you can animate the value of the `maxHeightProperty()`. To collapse it, you should animate the max height from the current height to zero. To expand it again, compute the preferred height using `prefHeight(width)`, and animate the max height from zero to the preferred height. At the end of the &quot;expand&quot; animation, you probably want to set the max height to `Region.USE_PREF_HEIGHT`, so that it can continue to respect its preferred height if the contents change.\r\n\r\nA couple of implementation notes:\r\n\r\n1. The default minimum height of a `VBox` is non-zero (see [docs](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/VBox.html)). To allow it to shrink completely, you need to explicitly set the `minHeight` to zero.\r\n\r\n2. Not all containers clip the content of child nodes if they overflow the bounds allocated to them. So you probably need to explicitly provide a clip and bind it to the bounds of the content.\r\n\r\n3. You don&#39;t want the container for the expanding content to allocate extra space to it (because the algorithm described above assumes it is not taller than its preferred size). You can guarantee this (at least in cases where it&#39;s possible) by setting the `maxHeight` to `Region.USE_PREF_SIZE`.\r\n\r\nHere is a quick example:\r\n\r\n`hello-view.fxml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import io.github.palexdev.materialfx.controls.*?&gt;\r\n    &lt;?import javafx.geometry.*?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    &lt;?import javafx.scene.shape.Rectangle?&gt;\r\n    &lt;VBox spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n          fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\r\n        &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n        &lt;/padding&gt;\r\n        &lt;Button text=&quot;Expand/Collapse&quot; onAction=&quot;#expand&quot;/&gt;\r\n        &lt;VBox fx:id=&quot;expandContent&quot; minHeight=&quot;0&quot;&gt;\r\n            &lt;maxHeight&gt;&lt;Region fx:constant=&quot;USE_PREF_SIZE&quot;/&gt;&lt;/maxHeight&gt;\r\n            &lt;clip&gt;&lt;Rectangle fx:id=&quot;expandClip&quot;/&gt;&lt;/clip&gt;\r\n            &lt;MFXToggleButton selected=&quot;true&quot; text=&quot;Installed&quot; &gt;\r\n                &lt;VBox.margin&gt;\r\n                    &lt;Insets top=&quot;20&quot; bottom=&quot;5&quot; left=&quot;10&quot;  /&gt;\r\n                &lt;/VBox.margin&gt;\r\n            &lt;/MFXToggleButton&gt;\r\n            &lt;MFXToggleButton selected=&quot;true&quot; text=&quot;Releases&quot;&gt;\r\n                &lt;VBox.margin&gt;\r\n                    &lt;Insets top=&quot;10&quot; bottom=&quot;5&quot; left=&quot;10&quot; /&gt;\r\n                &lt;/VBox.margin&gt;\r\n            &lt;/MFXToggleButton&gt;\r\n            &lt;MFXToggleButton selected=&quot;true&quot; text=&quot;Modified&quot;&gt;\r\n                &lt;VBox.margin&gt;\r\n                    &lt;Insets top=&quot;10&quot; bottom=&quot;5&quot; left=&quot;10&quot; /&gt;\r\n                &lt;/VBox.margin&gt;\r\n            &lt;/MFXToggleButton&gt;\r\n            &lt;MFXToggleButton selected=&quot;false&quot; text=&quot;Snapshots&quot;&gt;\r\n                &lt;VBox.margin&gt;\r\n                    &lt;Insets top=&quot;10&quot; bottom=&quot;5&quot; left=&quot;10&quot; /&gt;\r\n                &lt;/VBox.margin&gt;\r\n            &lt;/MFXToggleButton&gt;\r\n            &lt;MFXToggleButton selected=&quot;false&quot; text=&quot;Olds&quot;&gt;\r\n                &lt;VBox.margin&gt;\r\n                    &lt;Insets top=&quot;10&quot; bottom=&quot;20&quot; left=&quot;10&quot; /&gt;\r\n                &lt;/VBox.margin&gt;\r\n            &lt;/MFXToggleButton&gt;\r\n        &lt;/VBox&gt;\r\n        &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\r\n        &lt;Button text=&quot;Hello!&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\r\n    &lt;/VBox&gt;\r\n\r\n`HelloController.java`:\r\n\r\n    package com.example.demo;\r\n    \r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.KeyValue;\r\n    import javafx.animation.Timeline;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.Region;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.util.Duration;\r\n    \r\n    public class HelloController {\r\n        @FXML\r\n        private Label welcomeText;\r\n    \r\n        @FXML\r\n        private VBox expandContent;\r\n        private boolean expanded = true;\r\n        @FXML\r\n        private Rectangle expandClip;\r\n    \r\n        @FXML\r\n        private void initialize() {\r\n            expandClip.widthProperty().bind(expandContent.widthProperty());\r\n            expandClip.heightProperty().bind(expandContent.heightProperty());\r\n        }\r\n    \r\n        @FXML\r\n        protected void onHelloButtonClick() {\r\n            welcomeText.setText(&quot;Welcome to JavaFX Application!&quot;);\r\n        }\r\n    \r\n        @FXML\r\n        private void expand() {\r\n            if (expanded) {\r\n                // animate collapse:\r\n                double currentHeight = expandContent.getHeight();\r\n                Timeline timeline = new Timeline(\r\n                        new KeyFrame(Duration.ZERO, new KeyValue(expandContent.maxHeightProperty(), currentHeight)),\r\n                        new KeyFrame(Duration.seconds(0.5), new KeyValue(expandContent.maxHeightProperty(), 0))\r\n                );\r\n                timeline.setOnFinished(e -&gt; {\r\n                    expanded = false;\r\n                });\r\n                timeline.play();\r\n            } else {\r\n                // animate expand:\r\n    \r\n                // compute the preferred height of the content:\r\n                double prefHeight = expandContent.prefHeight(expandContent.getWidth());\r\n                // animate the max height from zero to the pref height:\r\n                Timeline timeline = new Timeline(\r\n                        new KeyFrame(Duration.ZERO, new KeyValue(expandContent.maxHeightProperty(), 0)),\r\n                        new KeyFrame(Duration.seconds(0.5), new KeyValue(expandContent.maxHeightProperty(), prefHeight))\r\n                );\r\n                // when done, set the flag, and set the max height to the sentinel value\r\n                // this latter part is necessary to allow the content to continue to respect\r\n                // the pref height if the scene graph changes, etc.\r\n                timeline.setOnFinished(e -&gt; {\r\n                    expanded = true;\r\n                    expandContent.setMaxHeight(Region.USE_PREF_SIZE);\r\n                });\r\n                timeline.play();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n`HelloApplication.java`:\r\n\r\n    package com.example.demo;\r\n    \r\n    import io.github.palexdev.materialfx.css.themes.MFXThemeManager;\r\n    import io.github.palexdev.materialfx.css.themes.Themes;\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load());\r\n            MFXThemeManager.addOn(scene, Themes.DEFAULT, Themes.LEGACY);\r\n            stage.setTitle(&quot;Hello!&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nExpanded:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCollapsed:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0V16G.png\r\n  [2]: https://i.stack.imgur.com/7i0kt.png","title":"JavaFX - Collapsing VBox","body":"<p>First note that the functionality you are describing is already implemented by <a href=\"https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/TitledPane.html\" rel=\"nofollow noreferrer\"><code>TitledPane</code></a>. Typically you should use built-in functionality, when it does what you need, instead of trying to implement it yourself.</p>\n<p>If you want to write your own animation to collapse a pane, you can animate the value of the <code>maxHeightProperty()</code>. To collapse it, you should animate the max height from the current height to zero. To expand it again, compute the preferred height using <code>prefHeight(width)</code>, and animate the max height from zero to the preferred height. At the end of the &quot;expand&quot; animation, you probably want to set the max height to <code>Region.USE_PREF_HEIGHT</code>, so that it can continue to respect its preferred height if the contents change.</p>\n<p>A couple of implementation notes:</p>\n<ol>\n<li><p>The default minimum height of a <code>VBox</code> is non-zero (see <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/layout/VBox.html\" rel=\"nofollow noreferrer\">docs</a>). To allow it to shrink completely, you need to explicitly set the <code>minHeight</code> to zero.</p>\n</li>\n<li><p>Not all containers clip the content of child nodes if they overflow the bounds allocated to them. So you probably need to explicitly provide a clip and bind it to the bounds of the content.</p>\n</li>\n<li><p>You don't want the container for the expanding content to allocate extra space to it (because the algorithm described above assumes it is not taller than its preferred size). You can guarantee this (at least in cases where it's possible) by setting the <code>maxHeight</code> to <code>Region.USE_PREF_SIZE</code>.</p>\n</li>\n</ol>\n<p>Here is a quick example:</p>\n<p><code>hello-view.fxml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import io.github.palexdev.materialfx.controls.*?&gt;\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.shape.Rectangle?&gt;\n&lt;VBox spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n    &lt;Button text=&quot;Expand/Collapse&quot; onAction=&quot;#expand&quot;/&gt;\n    &lt;VBox fx:id=&quot;expandContent&quot; minHeight=&quot;0&quot;&gt;\n        &lt;maxHeight&gt;&lt;Region fx:constant=&quot;USE_PREF_SIZE&quot;/&gt;&lt;/maxHeight&gt;\n        &lt;clip&gt;&lt;Rectangle fx:id=&quot;expandClip&quot;/&gt;&lt;/clip&gt;\n        &lt;MFXToggleButton selected=&quot;true&quot; text=&quot;Installed&quot; &gt;\n            &lt;VBox.margin&gt;\n                &lt;Insets top=&quot;20&quot; bottom=&quot;5&quot; left=&quot;10&quot;  /&gt;\n            &lt;/VBox.margin&gt;\n        &lt;/MFXToggleButton&gt;\n        &lt;MFXToggleButton selected=&quot;true&quot; text=&quot;Releases&quot;&gt;\n            &lt;VBox.margin&gt;\n                &lt;Insets top=&quot;10&quot; bottom=&quot;5&quot; left=&quot;10&quot; /&gt;\n            &lt;/VBox.margin&gt;\n        &lt;/MFXToggleButton&gt;\n        &lt;MFXToggleButton selected=&quot;true&quot; text=&quot;Modified&quot;&gt;\n            &lt;VBox.margin&gt;\n                &lt;Insets top=&quot;10&quot; bottom=&quot;5&quot; left=&quot;10&quot; /&gt;\n            &lt;/VBox.margin&gt;\n        &lt;/MFXToggleButton&gt;\n        &lt;MFXToggleButton selected=&quot;false&quot; text=&quot;Snapshots&quot;&gt;\n            &lt;VBox.margin&gt;\n                &lt;Insets top=&quot;10&quot; bottom=&quot;5&quot; left=&quot;10&quot; /&gt;\n            &lt;/VBox.margin&gt;\n        &lt;/MFXToggleButton&gt;\n        &lt;MFXToggleButton selected=&quot;false&quot; text=&quot;Olds&quot;&gt;\n            &lt;VBox.margin&gt;\n                &lt;Insets top=&quot;10&quot; bottom=&quot;20&quot; left=&quot;10&quot; /&gt;\n            &lt;/VBox.margin&gt;\n        &lt;/MFXToggleButton&gt;\n    &lt;/VBox&gt;\n    &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\n    &lt;Button text=&quot;Hello!&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><code>HelloController.java</code>:</p>\n<pre><code>package com.example.demo;\n\nimport javafx.animation.KeyFrame;\nimport javafx.animation.KeyValue;\nimport javafx.animation.Timeline;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.Region;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.shape.Rectangle;\nimport javafx.util.Duration;\n\npublic class HelloController {\n    @FXML\n    private Label welcomeText;\n\n    @FXML\n    private VBox expandContent;\n    private boolean expanded = true;\n    @FXML\n    private Rectangle expandClip;\n\n    @FXML\n    private void initialize() {\n        expandClip.widthProperty().bind(expandContent.widthProperty());\n        expandClip.heightProperty().bind(expandContent.heightProperty());\n    }\n\n    @FXML\n    protected void onHelloButtonClick() {\n        welcomeText.setText(&quot;Welcome to JavaFX Application!&quot;);\n    }\n\n    @FXML\n    private void expand() {\n        if (expanded) {\n            // animate collapse:\n            double currentHeight = expandContent.getHeight();\n            Timeline timeline = new Timeline(\n                    new KeyFrame(Duration.ZERO, new KeyValue(expandContent.maxHeightProperty(), currentHeight)),\n                    new KeyFrame(Duration.seconds(0.5), new KeyValue(expandContent.maxHeightProperty(), 0))\n            );\n            timeline.setOnFinished(e -&gt; {\n                expanded = false;\n            });\n            timeline.play();\n        } else {\n            // animate expand:\n\n            // compute the preferred height of the content:\n            double prefHeight = expandContent.prefHeight(expandContent.getWidth());\n            // animate the max height from zero to the pref height:\n            Timeline timeline = new Timeline(\n                    new KeyFrame(Duration.ZERO, new KeyValue(expandContent.maxHeightProperty(), 0)),\n                    new KeyFrame(Duration.seconds(0.5), new KeyValue(expandContent.maxHeightProperty(), prefHeight))\n            );\n            // when done, set the flag, and set the max height to the sentinel value\n            // this latter part is necessary to allow the content to continue to respect\n            // the pref height if the scene graph changes, etc.\n            timeline.setOnFinished(e -&gt; {\n                expanded = true;\n                expandContent.setMaxHeight(Region.USE_PREF_SIZE);\n            });\n            timeline.play();\n        }\n\n    }\n}\n</code></pre>\n<p><code>HelloApplication.java</code>:</p>\n<pre><code>package com.example.demo;\n\nimport io.github.palexdev.materialfx.css.themes.MFXThemeManager;\nimport io.github.palexdev.materialfx.css.themes.Themes;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load());\n        MFXThemeManager.addOn(scene, Themes.DEFAULT, Themes.LEGACY);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>Expanded:</p>\n<p><a href=\"https://i.stack.imgur.com/0V16G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0V16G.png\" alt=\"enter image description here\" /></a></p>\n<p>Collapsed:</p>\n<p><a href=\"https://i.stack.imgur.com/7i0kt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7i0kt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28630892,"reputation":1,"user_id":21921953,"display_name":"0xLairon1"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1691867083,"creation_date":1691867083,"answer_id":76890753,"question_id":76884533,"body_markdown":"I figured out why my collapse animation lags so much. I think that this is due to the fact that during the animation the list with custom cells moves and lags occur at this moment. I will redo my design so that the list does not move)","title":"JavaFX - Collapsing VBox","body":"<p>I figured out why my collapse animation lags so much. I think that this is due to the fact that during the animation the list with custom cells moves and lags occur at this moment. I will redo my design so that the list does not move)</p>\n"}],"owner":{"account_id":28630892,"reputation":1,"user_id":21921953,"display_name":"0xLairon1"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691867083,"creation_date":1691764663,"question_id":76884533,"body_markdown":"I have a `VBox` containing `MFXToggleButtons`. I want to collapse and expand this `VBox` in `height` so that it disappears completely. Having thus made a settings window that, when expanded, moves other objects on the form.\r\nBut when you try to specify any `height` in the `VBox`, nothing changes. As I understand it, this is because the objects inside the `VBox` do not allow it to decrease.\r\n\r\nMy `VBox`\r\n\r\n\r\n```\r\n            &lt;VBox&gt;\r\n                &lt;MFXToggleButton selected=&quot;true&quot; text=&quot;Installed&quot; &gt;\r\n                    &lt;VBox.margin&gt;\r\n                        &lt;Insets top=&quot;20&quot; bottom=&quot;5&quot; left=&quot;10&quot;  /&gt;\r\n                    &lt;/VBox.margin&gt;\r\n                &lt;/MFXToggleButton&gt;\r\n                &lt;MFXToggleButton selected=&quot;true&quot; text=&quot;Releases&quot;&gt;\r\n                    &lt;VBox.margin&gt;\r\n                        &lt;Insets top=&quot;10&quot; bottom=&quot;5&quot; left=&quot;10&quot; /&gt;\r\n                    &lt;/VBox.margin&gt;\r\n                &lt;/MFXToggleButton&gt;\r\n                &lt;MFXToggleButton selected=&quot;true&quot; text=&quot;Modified&quot;&gt;\r\n                    &lt;VBox.margin&gt;\r\n                        &lt;Insets top=&quot;10&quot; bottom=&quot;5&quot; left=&quot;10&quot; /&gt;\r\n                    &lt;/VBox.margin&gt;\r\n                &lt;/MFXToggleButton&gt;\r\n                &lt;MFXToggleButton selected=&quot;false&quot; text=&quot;Snapshots&quot;&gt;\r\n                    &lt;VBox.margin&gt;\r\n                        &lt;Insets top=&quot;10&quot; bottom=&quot;5&quot; left=&quot;10&quot; /&gt;\r\n                    &lt;/VBox.margin&gt;\r\n                &lt;/MFXToggleButton&gt;\r\n                &lt;MFXToggleButton selected=&quot;false&quot; text=&quot;Olds&quot;&gt;\r\n                    &lt;VBox.margin&gt;\r\n                        &lt;Insets top=&quot;10&quot; bottom=&quot;20&quot; left=&quot;10&quot; /&gt;\r\n                    &lt;/VBox.margin&gt;\r\n                &lt;/MFXToggleButton&gt;\r\n            &lt;/VBox&gt;\r\n```\r\n\r\n\r\nI have already tried to use other containers and also reduce the height of the `MFXToggleButton` themselves. But it didn&#39;t give me any results.","title":"JavaFX - Collapsing VBox","body":"<p>I have a <code>VBox</code> containing <code>MFXToggleButtons</code>. I want to collapse and expand this <code>VBox</code> in <code>height</code> so that it disappears completely. Having thus made a settings window that, when expanded, moves other objects on the form.\nBut when you try to specify any <code>height</code> in the <code>VBox</code>, nothing changes. As I understand it, this is because the objects inside the <code>VBox</code> do not allow it to decrease.</p>\n<p>My <code>VBox</code></p>\n<pre><code>            &lt;VBox&gt;\n                &lt;MFXToggleButton selected=&quot;true&quot; text=&quot;Installed&quot; &gt;\n                    &lt;VBox.margin&gt;\n                        &lt;Insets top=&quot;20&quot; bottom=&quot;5&quot; left=&quot;10&quot;  /&gt;\n                    &lt;/VBox.margin&gt;\n                &lt;/MFXToggleButton&gt;\n                &lt;MFXToggleButton selected=&quot;true&quot; text=&quot;Releases&quot;&gt;\n                    &lt;VBox.margin&gt;\n                        &lt;Insets top=&quot;10&quot; bottom=&quot;5&quot; left=&quot;10&quot; /&gt;\n                    &lt;/VBox.margin&gt;\n                &lt;/MFXToggleButton&gt;\n                &lt;MFXToggleButton selected=&quot;true&quot; text=&quot;Modified&quot;&gt;\n                    &lt;VBox.margin&gt;\n                        &lt;Insets top=&quot;10&quot; bottom=&quot;5&quot; left=&quot;10&quot; /&gt;\n                    &lt;/VBox.margin&gt;\n                &lt;/MFXToggleButton&gt;\n                &lt;MFXToggleButton selected=&quot;false&quot; text=&quot;Snapshots&quot;&gt;\n                    &lt;VBox.margin&gt;\n                        &lt;Insets top=&quot;10&quot; bottom=&quot;5&quot; left=&quot;10&quot; /&gt;\n                    &lt;/VBox.margin&gt;\n                &lt;/MFXToggleButton&gt;\n                &lt;MFXToggleButton selected=&quot;false&quot; text=&quot;Olds&quot;&gt;\n                    &lt;VBox.margin&gt;\n                        &lt;Insets top=&quot;10&quot; bottom=&quot;20&quot; left=&quot;10&quot; /&gt;\n                    &lt;/VBox.margin&gt;\n                &lt;/MFXToggleButton&gt;\n            &lt;/VBox&gt;\n</code></pre>\n<p>I have already tried to use other containers and also reduce the height of the <code>MFXToggleButton</code> themselves. But it didn't give me any results.</p>\n"},{"tags":["java","visual-studio-code","javac"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1691867138,"post_id":76890732,"comment_id":135550407,"body_markdown":"*it&#39;s just that it becomes a mess when I try to use that command when the main class uses different classes* How so? Please give an example.","body":"<i>it&#39;s just that it becomes a mess when I try to use that command when the main class uses different classes</i> How so? Please give an example."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1691867180,"post_id":76890732,"comment_id":135550413,"body_markdown":"&quot;it becomes a mess when I try to use that command when the main class uses different classes&quot;, why? You don&#39;t need to put every class on the classpath, just the root directory or jar(s) or some such.","body":"&quot;it becomes a mess when I try to use that command when the main class uses different classes&quot;, why? You don&#39;t need to put every class on the classpath, just the root directory or jar(s) or some such."},{"owner":{"account_id":29213377,"reputation":1,"user_id":22380821,"display_name":"BODDAH"},"score":0,"creation_date":1691869616,"post_id":76890732,"comment_id":135550626,"body_markdown":"When the main class is using different classes in the same package, if I want to run the command javac [location].java it says that it cannot find symbol [Class name]","body":"When the main class is using different classes in the same package, if I want to run the command javac [location].java it says that it cannot find symbol [Class name]"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691870201,"post_id":76890732,"comment_id":135550700,"body_markdown":"Just try `javac -cp . Theory/*.java`","body":"Just try <code>javac -cp . Theory&#47;*.java</code>"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1691963501,"post_id":76890732,"comment_id":135558157,"body_markdown":"is the cwd the same in both cases you are comparing?","body":"is the cwd the same in both cases you are comparing?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1692002104,"post_id":76890732,"comment_id":135561801,"body_markdown":"Should be related to your working directory. Can you show your workspace and project structure?","body":"Should be related to your working directory. Can you show your workspace and project structure?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1693445028,"post_id":76890732,"comment_id":135763218,"body_markdown":"Any updates here?","body":"Any updates here?"}],"owner":{"account_id":29213377,"reputation":1,"user_id":22380821,"display_name":"BODDAH"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691866754,"creation_date":1691866754,"question_id":76890732,"body_markdown":"When I use the java/javac command on cmd as in\r\n\r\n`javac Theory/HelloWorld.java`\r\n`java Theory.HelloWorld`\r\n\r\nit works just fine, yet when I do that on the VSCode terminal it doesn&#39;t work at all and says &quot;Error: Could not find or load main class Theory.HelloWorld. Caused by: java.lang.ClassNotFoundException: Theory.HelloWorld&quot;\r\n\r\nRunning the code with the Run Java button works just fine, it&#39;s just when I want to add arguments\r\nAny ideas?\r\n\r\nPS: Using the java -cp . Theory/HelloWorld works fine, it&#39;s just that it becomes a mess when I try to use that command when the main class uses different classes\r\n\r\nI&#39;ve tried `set CLASSPATH=.`\r\nClean Java Language Server Workspace\r\nUsed different terminals\r\nConfigured Classpath in VSCode with the &quot;.&quot; path\r\n","title":"Could not find or load main class &quot;Name of class&quot; in VSCode","body":"<p>When I use the java/javac command on cmd as in</p>\n<p><code>javac Theory/HelloWorld.java</code>\n<code>java Theory.HelloWorld</code></p>\n<p>it works just fine, yet when I do that on the VSCode terminal it doesn't work at all and says &quot;Error: Could not find or load main class Theory.HelloWorld. Caused by: java.lang.ClassNotFoundException: Theory.HelloWorld&quot;</p>\n<p>Running the code with the Run Java button works just fine, it's just when I want to add arguments\nAny ideas?</p>\n<p>PS: Using the java -cp . Theory/HelloWorld works fine, it's just that it becomes a mess when I try to use that command when the main class uses different classes</p>\n<p>I've tried <code>set CLASSPATH=.</code>\nClean Java Language Server Workspace\nUsed different terminals\nConfigured Classpath in VSCode with the &quot;.&quot; path</p>\n"},{"tags":["java","spring-boot","logback","masking"],"owner":{"account_id":2254847,"reputation":249,"user_id":1986244,"accept_rate":15,"display_name":"user1986244"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691866723,"creation_date":1691866723,"question_id":76890730,"body_markdown":"I am working with logback with springboot project first time; and I have tried to look [references][1] online. I am dealing with masking sensitive data on different log files.\r\nIn this project data is coming from different api endpoints within the same module; I also have different json responses and requests that have data that need masking. I have provided example below.\r\n\r\nACCOUNT module\r\n1. /account/member/list\r\n\r\n    ```\r\n    {\r\n        &quot;name&quot;: &quot;Apple&quot;,\r\n        &quot;email&quot;: &quot;behappy@app.com&quot;,\r\n        &quot;address&quot;: &quot;Elem 4324 5684 USA&quot;\r\n    }\r\n\r\n2. /account/payment/history\r\n```\r\n{\r\n    &quot;first&quot;: &quot;Apple&quot;,\r\n    &quot;last&quot;: &quot;Large&quot;,\r\n    &quot;cardNum&quot;: &quot;444444444444&quot;\r\n}\r\n```\r\nThe masking logic on my logback file looks as follows, and I having two separate log files for the above\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n\t.......\r\n\t.......\r\n\t&lt;appender name=&quot;MEMBER&quot;\r\n\t\t----\r\n\t\t&lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n\t\t\t&lt;layout class=&quot;com.fedex.srs.cpg.paymentvalidationapi.filter.MaskingPatternLayout&quot;&gt;\r\n\t\t\t\t&lt;maskPattern&gt;\\&quot;email\\&quot;\\s*:\\s*\\&quot;(.*?)\\&quot;&lt;/maskPattern&gt;\r\n\t\t\t\t&lt;maskPattern&gt;\\&quot;address\\&quot;\\s*:\\s*\\&quot;(.*?)\\&quot;&lt;/maskPattern&gt;\r\n\t\t\t\t&lt;maskPattern&gt;\\&quot;cardNum\\&quot;\\s*:\\s*\\&quot;([0-9]{14,16})\\&quot;&lt;/maskPattern&gt; \r\n\t\t\t\t---10 more similar patterns\r\n\t\t\t&lt;/layout&gt;\r\n\t\t&lt;/encoder&gt;\r\n\t\t.......\r\n\t\t.......\r\n\t&lt;/appender&gt;\r\n\r\n\t&lt;appender name=&quot;PAYMENT&quot;\r\n\t\t----\r\n\t\t&lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n\t\t\t&lt;layout class=&quot;com.fedex.srs.cpg.paymentvalidationapi.filter.MaskingPatternLayout&quot;&gt;\r\n\t\t\t\t&lt;maskPattern&gt;\\&quot;email\\&quot;\\s*:\\s*\\&quot;(.*?)\\&quot;&lt;/maskPattern&gt;\r\n\t\t\t\t&lt;maskPattern&gt;\\&quot;address\\&quot;\\s*:\\s*\\&quot;(.*?)\\&quot;&lt;/maskPattern&gt;\r\n\t\t\t\t&lt;maskPattern&gt;\\&quot;cardNum\\&quot;\\s*:\\s*\\&quot;([0-9]{14,16})\\&quot;&lt;/maskPattern&gt; \r\n\t\t\t\t---10 more similar patterns\r\n\t\t\t&lt;/layout&gt;\r\n\t\t&lt;/encoder&gt;\r\n\t\t.......\r\n\t\t.......\r\n\t&lt;/appender&gt;\r\n&lt;/configuration&gt;\r\n```\r\nAbove encoder repeated for each appender, and I am only showing two here but I have 6 log files. I repeated Masking layout because \r\nthe order of the maskPattern important for my MaskingPatternLayout class to work\r\nI created the class based on baeldung tutorial\r\n\r\n```\r\npublic class MaskingPatternLayout extends PatternLayout {\r\n\r\n\tprivate Pattern multilinePattern;\r\n\tprivate List&lt;String&gt; maskPatterns = new ArrayList&lt;&gt;();\r\n\r\n\tpublic void addMaskPattern(String maskPattern) {\r\n\t\tmaskPatterns.add(maskPattern);\r\n\t\tmultilinePattern = Pattern.compile(maskPatterns.stream().collect(Collectors.joining(&quot;|&quot;)), Pattern.MULTILINE);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String doLayout(ILoggingEvent event) {\r\n\t\treturn maskMessage(super.doLayout(event));\r\n\t}\r\n\r\n\tprivate String maskMessage(String message) {\r\n\t\tif (multilinePattern == null) {\r\n\t\t\treturn message;\r\n\t\t}\r\n\t\tStringBuilder sb = new StringBuilder(message);\r\n\t\tMatcher matcher = multilinePattern.matcher(sb);\r\n\t\twhile (matcher.find()) {\r\n\t\t\t\r\n\t\t\tfor (int groupIndex = 1; groupIndex &lt;= matcher.groupCount(); groupIndex++)\r\n\t\t\t\tif (matcher.group(groupIndex) != null) {// b.subSequence(st, end) != null\r\n\t\t\t\t\tint st = matcher.start(groupIndex);\r\n\t\t\t\t\tint end = matcher.end(groupIndex);\r\n\t\t\t\t\t//each case represent each maskPattern on the logback.xml file\r\n\t\t\t\t\tswitch (groupIndex) {\r\n\t\t\t\t\tcase 1:// email\r\n\t\t\t\t\tcase 2:// address\r\n\t\t\t\t\t\t//mask everything\r\n\t\t\t\t\t        break;\r\n\t\t\t\t\tcase 3:// cardNum\r\n\t\t\t\t\t\t//I have logic to leave last four characters unmasked\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t.......\r\n\t\t\t\t\t........\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n}\r\n```\r\nThe logback xml maskPattern order is tightly coupled with the MaskingPatternLayout class switch statement.\r\nMy question: Is there a better way of handling this or is my current approach has cost performance wise?  If I have ten patterns only one pattern is associated with one log file, I am still running 9 of those patterns against this one particular file. Is that correct?\r\nIn above if I am logging payment information, my logback still running the email and address patterns against the payment log message; if I understand things correctly.\r\nSince it is springboot project, is autowiring Masking class helps for performance? \r\nMaybe I did not understand how things are wired. I need advice on how to approach this. Is the current approach something I can use in production environment?\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/logback-mask-sensitive-data","title":"springboot logging and masking with logback multiple sensitive data in different log files","body":"<p>I am working with logback with springboot project first time; and I have tried to look <a href=\"https://www.baeldung.com/logback-mask-sensitive-data\" rel=\"nofollow noreferrer\">references</a> online. I am dealing with masking sensitive data on different log files.\nIn this project data is coming from different api endpoints within the same module; I also have different json responses and requests that have data that need masking. I have provided example below.</p>\n<p>ACCOUNT module</p>\n<ol>\n<li><p>/account/member/list</p>\n<pre><code>{\n    &quot;name&quot;: &quot;Apple&quot;,\n    &quot;email&quot;: &quot;behappy@app.com&quot;,\n    &quot;address&quot;: &quot;Elem 4324 5684 USA&quot;\n}\n\n</code></pre>\n</li>\n<li><p>/account/payment/history</p>\n</li>\n</ol>\n<pre><code>{\n    &quot;first&quot;: &quot;Apple&quot;,\n    &quot;last&quot;: &quot;Large&quot;,\n    &quot;cardNum&quot;: &quot;444444444444&quot;\n}\n</code></pre>\n<p>The masking logic on my logback file looks as follows, and I having two separate log files for the above</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    .......\n    .......\n    &lt;appender name=&quot;MEMBER&quot;\n        ----\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n            &lt;layout class=&quot;com.fedex.srs.cpg.paymentvalidationapi.filter.MaskingPatternLayout&quot;&gt;\n                &lt;maskPattern&gt;\\&quot;email\\&quot;\\s*:\\s*\\&quot;(.*?)\\&quot;&lt;/maskPattern&gt;\n                &lt;maskPattern&gt;\\&quot;address\\&quot;\\s*:\\s*\\&quot;(.*?)\\&quot;&lt;/maskPattern&gt;\n                &lt;maskPattern&gt;\\&quot;cardNum\\&quot;\\s*:\\s*\\&quot;([0-9]{14,16})\\&quot;&lt;/maskPattern&gt; \n                ---10 more similar patterns\n            &lt;/layout&gt;\n        &lt;/encoder&gt;\n        .......\n        .......\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;PAYMENT&quot;\n        ----\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n            &lt;layout class=&quot;com.fedex.srs.cpg.paymentvalidationapi.filter.MaskingPatternLayout&quot;&gt;\n                &lt;maskPattern&gt;\\&quot;email\\&quot;\\s*:\\s*\\&quot;(.*?)\\&quot;&lt;/maskPattern&gt;\n                &lt;maskPattern&gt;\\&quot;address\\&quot;\\s*:\\s*\\&quot;(.*?)\\&quot;&lt;/maskPattern&gt;\n                &lt;maskPattern&gt;\\&quot;cardNum\\&quot;\\s*:\\s*\\&quot;([0-9]{14,16})\\&quot;&lt;/maskPattern&gt; \n                ---10 more similar patterns\n            &lt;/layout&gt;\n        &lt;/encoder&gt;\n        .......\n        .......\n    &lt;/appender&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Above encoder repeated for each appender, and I am only showing two here but I have 6 log files. I repeated Masking layout because\nthe order of the maskPattern important for my MaskingPatternLayout class to work\nI created the class based on baeldung tutorial</p>\n<pre><code>public class MaskingPatternLayout extends PatternLayout {\n\n    private Pattern multilinePattern;\n    private List&lt;String&gt; maskPatterns = new ArrayList&lt;&gt;();\n\n    public void addMaskPattern(String maskPattern) {\n        maskPatterns.add(maskPattern);\n        multilinePattern = Pattern.compile(maskPatterns.stream().collect(Collectors.joining(&quot;|&quot;)), Pattern.MULTILINE);\n    }\n\n    @Override\n    public String doLayout(ILoggingEvent event) {\n        return maskMessage(super.doLayout(event));\n    }\n\n    private String maskMessage(String message) {\n        if (multilinePattern == null) {\n            return message;\n        }\n        StringBuilder sb = new StringBuilder(message);\n        Matcher matcher = multilinePattern.matcher(sb);\n        while (matcher.find()) {\n            \n            for (int groupIndex = 1; groupIndex &lt;= matcher.groupCount(); groupIndex++)\n                if (matcher.group(groupIndex) != null) {// b.subSequence(st, end) != null\n                    int st = matcher.start(groupIndex);\n                    int end = matcher.end(groupIndex);\n                    //each case represent each maskPattern on the logback.xml file\n                    switch (groupIndex) {\n                    case 1:// email\n                    case 2:// address\n                        //mask everything\n                            break;\n                    case 3:// cardNum\n                        //I have logic to leave last four characters unmasked\n                        break;\n                    .......\n                    ........\n                    default:\n                        break;\n                    }\n                }\n\n        }\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>The logback xml maskPattern order is tightly coupled with the MaskingPatternLayout class switch statement.\nMy question: Is there a better way of handling this or is my current approach has cost performance wise?  If I have ten patterns only one pattern is associated with one log file, I am still running 9 of those patterns against this one particular file. Is that correct?\nIn above if I am logging payment information, my logback still running the email and address patterns against the payment log message; if I understand things correctly.\nSince it is springboot project, is autowiring Masking class helps for performance?\nMaybe I did not understand how things are wired. I need advice on how to approach this. Is the current approach something I can use in production environment?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":5,"creation_date":1691860656,"post_id":76890360,"comment_id":135549800,"body_markdown":"Need something else. That is **not** something you can do with [double-precision IEEE-754 floating point](https://en.wikipedia.org/wiki/Double-precision_floating-point_format). And a Java `double` **is-a** double-precision IEEE-754 floating point number.","body":"Need something else. That is <b>not</b> something you can do with <a href=\"https://en.wikipedia.org/wiki/Double-precision_floating-point_format\" rel=\"nofollow noreferrer\">double-precision IEEE-754 floating point</a>. And a Java <code>double</code> <b>is-a</b> double-precision IEEE-754 floating point number."},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":4,"creation_date":1691860661,"post_id":76890360,"comment_id":135549802,"body_markdown":"You can&#39;t control how a double is stored (although you can control how you print it out later). This sounds a bit like the [XY problem](https://meta.stackexchange.com/q/66377/223467). Can you explain what exactly you&#39;re trying to achieve?","body":"You can&#39;t control how a double is stored (although you can control how you print it out later). This sounds a bit like the <a href=\"https://meta.stackexchange.com/q/66377/223467\">XY problem</a>. Can you explain what exactly you&#39;re trying to achieve?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1691860783,"post_id":76890360,"comment_id":135549810,"body_markdown":"Nope - that&#39;s not how floating point numbers work. They don&#39;t get &#39;stored&#39; with the precision you want. If you want that to happen (though you shouldn&#39;t - why would you want to *diminish* precision?) then `BigDecimal` is what you want. You do your two decimal places thing at *presentation time* when it IS a string","body":"Nope - that&#39;s not how floating point numbers work. They don&#39;t get &#39;stored&#39; with the precision you want. If you want that to happen (though you shouldn&#39;t - why would you want to <i>diminish</i> precision?) then <code>BigDecimal</code> is what you want. You do your two decimal places thing at <i>presentation time</i> when it IS a string"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1691861537,"post_id":76890360,"comment_id":135549880,"body_markdown":"Then you need to store it as a String.","body":"Then you need to store it as a String."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1691878817,"post_id":76890360,"comment_id":135551358,"body_markdown":"This concept is fully implemented by the _[BigDecimal](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html)_ class.  You can set a decimal scale and a rounding-mode.","body":"This concept is fully implemented by the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a></i> class.  You can set a decimal scale and a rounding-mode."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691865357,"creation_date":1691865357,"answer_id":76890646,"question_id":76890360,"body_markdown":"&gt; It is necessary that the number remains double and at the same time has two zeros after the decimal point.\r\n\r\nThis is impossible, unfortunately.  There is no way whatsoever to do this.\r\n\r\nYou can print `double` values with a number of digits you choose with `DecimalFormat`.  You can store decimal values to a chosen number of digits with `BigDecimal`.  But a `double` doesn&#39;t have a number of digits -- it&#39;s just a number.","title":"two zeros after the decimal point in double","body":"<blockquote>\n<p>It is necessary that the number remains double and at the same time has two zeros after the decimal point.</p>\n</blockquote>\n<p>This is impossible, unfortunately.  There is no way whatsoever to do this.</p>\n<p>You can print <code>double</code> values with a number of digits you choose with <code>DecimalFormat</code>.  You can store decimal values to a chosen number of digits with <code>BigDecimal</code>.  But a <code>double</code> doesn't have a number of digits -- it's just a number.</p>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691866036,"creation_date":1691866036,"answer_id":76890688,"question_id":76890360,"body_markdown":"What you are asking for is impossible ***by design***. Java has IEEE Floating Point numbers. ***By design***, they have only one possible representation. And that representation ***DOES NOT*** allow you to encode the number of extraneous zeroes you want - neither in the front or the back of the number. If they are not extraneous, that is a different story. But what you are asking for are a specific number of extraneous numbers, and that is not possible using floating point.\r\n\r\nNow, I assume that you are doing this for presentation reasons. If not, then for what other reason could there be? And if it is for presentation, then the default presentation format is a `String`.\r\n\r\nIf so, and if you are willing to convert your design into a `String`, then this is a very easy problem to solve. You can simply use [`DecimalFormat`][1] to get a `String` representation of the number with the desired amount of trailing zeroes.\r\n\r\n```java\r\nimport java.math.RoundingMode;\r\nimport java.text.DecimalFormat;\r\n\r\npublic class Example\r\n{\r\n\r\n    public static void main(String[] args)\r\n    {\r\n\r\n        final DecimalFormat df = new java.text.DecimalFormat(&quot;#.00&quot;);\r\n        String number;\r\n\r\n        number = df.format(1234); //output = &quot;1234.00&quot;\r\n        System.out.println(number);\r\n\r\n        //You can also set the rounding mode, in case you want that.\r\n        //Here is the default.\r\n        number = df.format(1234.5678); //output = &quot;1234.57&quot; -- normal rounding\r\n        System.out.println(number);\r\n\r\n        //Here is Rounding DOWN\r\n        df.setRoundingMode(RoundingMode.DOWN);\r\n        number = df.format(1234.5678); //output = &quot;1234.56&quot; -- rounding DOWN\r\n        System.out.println(number);\r\n\r\n        //Try out some other rounding modes with different numbers!\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/DecimalFormat.html","title":"two zeros after the decimal point in double","body":"<p>What you are asking for is impossible <em><strong>by design</strong></em>. Java has IEEE Floating Point numbers. <em><strong>By design</strong></em>, they have only one possible representation. And that representation <em><strong>DOES NOT</strong></em> allow you to encode the number of extraneous zeroes you want - neither in the front or the back of the number. If they are not extraneous, that is a different story. But what you are asking for are a specific number of extraneous numbers, and that is not possible using floating point.</p>\n<p>Now, I assume that you are doing this for presentation reasons. If not, then for what other reason could there be? And if it is for presentation, then the default presentation format is a <code>String</code>.</p>\n<p>If so, and if you are willing to convert your design into a <code>String</code>, then this is a very easy problem to solve. You can simply use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\"><code>DecimalFormat</code></a> to get a <code>String</code> representation of the number with the desired amount of trailing zeroes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.RoundingMode;\nimport java.text.DecimalFormat;\n\npublic class Example\n{\n\n    public static void main(String[] args)\n    {\n\n        final DecimalFormat df = new java.text.DecimalFormat(&quot;#.00&quot;);\n        String number;\n\n        number = df.format(1234); //output = &quot;1234.00&quot;\n        System.out.println(number);\n\n        //You can also set the rounding mode, in case you want that.\n        //Here is the default.\n        number = df.format(1234.5678); //output = &quot;1234.57&quot; -- normal rounding\n        System.out.println(number);\n\n        //Here is Rounding DOWN\n        df.setRoundingMode(RoundingMode.DOWN);\n        number = df.format(1234.5678); //output = &quot;1234.56&quot; -- rounding DOWN\n        System.out.println(number);\n\n        //Try out some other rounding modes with different numbers!\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24136874,"reputation":91,"user_id":18103650,"display_name":"Laplas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76890646,"answer_count":2,"score":-2,"last_activity_date":1691866036,"creation_date":1691860432,"question_id":76890360,"body_markdown":"I need this variable to be stored exactly in the form of 1001.00, that is, with two zeros. How to do it. Moreover, it cannot be translated into a string or something like that. It is necessary that the number remains double and at the same time has two zeros after the decimal point.\r\n\r\n```\r\ndouble amount = 1001.00;\r\n```","title":"two zeros after the decimal point in double","body":"<p>I need this variable to be stored exactly in the form of 1001.00, that is, with two zeros. How to do it. Moreover, it cannot be translated into a string or something like that. It is necessary that the number remains double and at the same time has two zeros after the decimal point.</p>\n<pre><code>double amount = 1001.00;\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691958181,"post_id":76890676,"comment_id":135557679,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29213347,"reputation":1,"user_id":22380801,"display_name":"Ananth Roy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691865893,"creation_date":1691865893,"question_id":76890676,"body_markdown":"I want to implement a api endpoint made with spring boot and mongoDB as database. it accepts name as a paramter and it should follow fuzzy search logic. Suppose we have a data in our database, flipkart should get searched when we search with a wrong spelling flipcart.\r\nFuzzy Search logic follows:\r\n1. All words from the search query should be available in the &quot;name&quot; attribute, in any order.\r\n2. The search should tolerate small spelling mistakes.\r\n\r\nOne more example \r\ndomino cheese pizza should get searched if I search for pizza domeno  \r\n\r\nI tried all the queries but I wasnt able to do it","title":"How to implement advance search functionalities in spring boot and mongoDb","body":"<p>I want to implement a api endpoint made with spring boot and mongoDB as database. it accepts name as a paramter and it should follow fuzzy search logic. Suppose we have a data in our database, flipkart should get searched when we search with a wrong spelling flipcart.\nFuzzy Search logic follows:</p>\n<ol>\n<li>All words from the search query should be available in the &quot;name&quot; attribute, in any order.</li>\n<li>The search should tolerate small spelling mistakes.</li>\n</ol>\n<p>One more example\ndomino cheese pizza should get searched if I search for pizza domeno</p>\n<p>I tried all the queries but I wasnt able to do it</p>\n"},{"tags":["java","libgdx","box2d"],"comments":[{"owner":{"account_id":21733129,"reputation":95,"user_id":16041552,"display_name":"Fullaccess "},"score":0,"creation_date":1691625041,"post_id":76862228,"comment_id":135518323,"body_markdown":"Could It be that the projecting is done twice? Stage.draw() calls batch.setProjectionMatrix(), and if that is set the batch automatically projects all coordinates.","body":"Could It be that the projecting is done twice? Stage.draw() calls batch.setProjectionMatrix(), and if that is set the batch automatically projects all coordinates."},{"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"score":0,"creation_date":1691667708,"post_id":76862228,"comment_id":135523966,"body_markdown":"I don&#39;t quite understand, could you please explain in more detail?","body":"I don&#39;t quite understand, could you please explain in more detail?"},{"owner":{"account_id":21733129,"reputation":95,"user_id":16041552,"display_name":"Fullaccess "},"score":0,"creation_date":1691693297,"post_id":76862228,"comment_id":135529665,"body_markdown":"SpriteBatch has a setProjectionMatrix() method that once called will allow the SpriteBatch to do the coordinate conversion by itself. So when drawing, you just pass the world coordinates and dont have to bother calling project(). Stage.draw() calls batch.setProjectionMatrix() right before it starts drawing. If you call project yourself, the coordinates will be projected twice. Try just passing the coordinate as they are.","body":"SpriteBatch has a setProjectionMatrix() method that once called will allow the SpriteBatch to do the coordinate conversion by itself. So when drawing, you just pass the world coordinates and dont have to bother calling project(). Stage.draw() calls batch.setProjectionMatrix() right before it starts drawing. If you call project yourself, the coordinates will be projected twice. Try just passing the coordinate as they are."}],"answers":[{"comments":[{"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"score":1,"creation_date":1691958554,"post_id":76890661,"comment_id":135557710,"body_markdown":"Thank you! It actually works. I have one more question. I noticed that the Label text doesn&#39;t follow the body smoothly, it just jumps around. This is also well visible in your gif. When debug lines are turned on, you can see that they move smoothly, but the text jumps. Do you have any idea how to fix it?","body":"Thank you! It actually works. I have one more question. I noticed that the Label text doesn&#39;t follow the body smoothly, it just jumps around. This is also well visible in your gif. When debug lines are turned on, you can see that they move smoothly, but the text jumps. Do you have any idea how to fix it?"},{"owner":{"account_id":233979,"reputation":851,"user_id":499837,"accept_rate":60,"display_name":"bornander"},"score":0,"creation_date":1692001311,"post_id":76890661,"comment_id":135561634,"body_markdown":"If you are referring to the text jittering back and forth the that is caused by the font not being a monospaced font, so the total length of the text changes depending on what digits are being displayed. If you @Adixe swap the font out for one where all characters have the same width the problem goes away.","body":"If you are referring to the text jittering back and forth the that is caused by the font not being a monospaced font, so the total length of the text changes depending on what digits are being displayed. If you @Adixe swap the font out for one where all characters have the same width the problem goes away."},{"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"score":0,"creation_date":1692018961,"post_id":76890661,"comment_id":135565020,"body_markdown":"That&#39;s not quite my point. I mean the vibration of the font when changing the position of the body. The body changes its position smoothly, but the font seems to align itself to some kind of grid.","body":"That&#39;s not quite my point. I mean the vibration of the font when changing the position of the body. The body changes its position smoothly, but the font seems to align itself to some kind of grid."},{"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"score":1,"creation_date":1692020570,"post_id":76890661,"comment_id":135565404,"body_markdown":"I did some tests. Calling the setUseIntegerPositions(false) method on the font helped. Thanks again for your help!","body":"I did some tests. Calling the setUseIntegerPositions(false) method on the font helped. Thanks again for your help!"}],"tags":[],"owner":{"account_id":233979,"reputation":851,"user_id":499837,"accept_rate":60,"display_name":"bornander"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691865642,"creation_date":1691865642,"answer_id":76890661,"question_id":76862228,"body_markdown":"In order to translate from `World`-coordinates to `Stage`-coordinates you need to first project the `World` position onto *screen-space*, and then unproject it back into *`Stage`-space*.\r\n\r\n    Vector2 worldPosition = body.getPosition();\r\n    Vector3 screenPosition = worldCamera.project(new Vector3(worldPosition.x, worldPosition.y, 1.0f));\r\n    Vector3 stagePosition = stage.getCamera().unproject(screenPosition);\r\n    \r\n    label.setPosition(stagePosition.x, stage.getHeight() - stagePosition.y)); // stage.getHeight() - because UP is flipped.\r\n\r\n\r\nThat process will allow you to track a **Box2D** `Body` and set a `Label`s position to match it:\r\n\r\n[![Label tracking Box2D body][1]][1]\r\n\r\nFull source for the example above is included below, it uses the default font from the **libGDX** tests ([font][2] and the [font image][3]).\r\n\r\n\tpackage com.bornander.sandbox;\r\n\t\r\n\timport com.badlogic.gdx.ApplicationAdapter;\r\n\timport com.badlogic.gdx.Gdx;\r\n\timport com.badlogic.gdx.graphics.Color;\r\n\timport com.badlogic.gdx.graphics.OrthographicCamera;\r\n\timport com.badlogic.gdx.graphics.g2d.BitmapFont;\r\n\timport com.badlogic.gdx.math.Vector2;\r\n\timport com.badlogic.gdx.math.Vector3;\r\n\timport com.badlogic.gdx.physics.box2d.*;\r\n\timport com.badlogic.gdx.scenes.scene2d.Stage;\r\n\timport com.badlogic.gdx.scenes.scene2d.ui.Label;\r\n\timport com.badlogic.gdx.utils.ScreenUtils;\r\n\timport com.badlogic.gdx.utils.viewport.ScreenViewport;\r\n\t\r\n\tpublic class MyGdxSandbox extends ApplicationAdapter {\r\n\t\tWorld world;\r\n\t\tOrthographicCamera worldCamera;\r\n\t\tBox2DDebugRenderer box2DDebugRenderer;\r\n\t\r\n\t\tBody ballBody;\r\n\t\tStage stage;\r\n\t\tLabel label;\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void create () {\r\n\t\t\tworld = new World(new Vector2(0.0f, -10.0f), false);\r\n\t\t\tfloat aspectRatio = (float)Gdx.graphics.getWidth() / Gdx.graphics.getHeight();\r\n\t\t\tfloat worldCameraViewportWidth = 100.0f;\r\n\t\t\tworldCamera = new OrthographicCamera(worldCameraViewportWidth, worldCameraViewportWidth / aspectRatio);\r\n\t\t\tworldCamera.position.set(worldCamera.viewportWidth / 2.0f, worldCamera.viewportHeight / 2.0f, 1.0f);\r\n\t\t\tbox2DDebugRenderer = new Box2DDebugRenderer();\r\n\t\r\n\t\t\tCircleShape ballShape = new CircleShape();\r\n\t\t\tballShape.setRadius(4.0f);\r\n\t\r\n\t\t\tFixtureDef ballFixtureDef = new FixtureDef();\r\n\t\t\tballFixtureDef.shape = ballShape;\r\n\t\t\tballFixtureDef.friction = 0.2f;\r\n\t\t\tballFixtureDef.density = 1.0f;\r\n\t\t\tballFixtureDef.restitution = 0.65f;\r\n\t\r\n\t\t\tBodyDef ballBodyDef = new BodyDef();\r\n\t\t\tballBodyDef.type = BodyDef.BodyType.DynamicBody;\r\n\t\r\n\t\t\tballBody = world.createBody(ballBodyDef);\r\n\t\t\tballBody.createFixture(ballFixtureDef);\r\n\t\t\tballBody.setTransform(25, 50, 0);\r\n\t\t\tballBody.applyLinearImpulse(200, 0, ballBody.getPosition().x, ballBody.getPosition().y, true);\r\n\t\r\n\t\t\tPolygonShape groundShape = new PolygonShape();\r\n\t\t\tgroundShape.setAsBox(25, 2);\r\n\t\r\n\t\t\tFixtureDef groundFixtureDef = new FixtureDef();\r\n\t\t\tgroundFixtureDef.shape = groundShape;\r\n\t\t\tgroundFixtureDef.friction = 0.2f;\r\n\t\t\tgroundFixtureDef.density = 1.0f;\r\n\t\t\tgroundFixtureDef.restitution = 0.2f;\r\n\t\r\n\t\t\tBodyDef groundBodyDef = new BodyDef();\r\n\t\t\tgroundBodyDef.type = BodyDef.BodyType.StaticBody;\r\n\t\r\n\t\t\tBody ground = world.createBody(groundBodyDef);\r\n\t\t\tground.createFixture(groundFixtureDef);\r\n\t\t\tground.setTransform(50, 20, 0);\r\n\t\r\n\t\r\n\t\t\tstage = new Stage(new ScreenViewport());\r\n\t\t\tstage.setDebugAll(true);\r\n\t\t\tlabel = new Label(&quot;TEXT&quot;, new Label.LabelStyle(new BitmapFont(Gdx.files.internal(&quot;default.fnt&quot;)), Color.WHITE));\r\n\t\t\tlabel.setPosition(10, 10);\r\n\t\t\tstage.addActor(label);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void render () {\r\n\t\t\tScreenUtils.clear(0, 0, 0, 1);\r\n\t\t\tfloat delta = Gdx.graphics.getDeltaTime();\r\n\t\t\tworldCamera.update();\r\n\t\t\tworld.step(delta, 8, 8);\r\n\t\t\tVector2 ballPositionWorld = ballBody.getPosition();\r\n\t\t\tVector3 ballScreenPosition = worldCamera.project(new Vector3(ballPositionWorld.x, ballPositionWorld.y, 1.0f));\r\n\t\t\tVector3 ballStagePosition = stage.getCamera().unproject(ballScreenPosition);\r\n\t\t\tlabel.setText(String.format(&quot;(%.3f, %.3f)&quot;, ballPositionWorld.x, ballPositionWorld.y));\r\n\t\t\tlabel.pack();\r\n\t\t\tlabel.setPosition(ballStagePosition.x, stage.getHeight() - ballStagePosition.y);\r\n\t\t\tbox2DDebugRenderer.render(world, worldCamera.combined);\r\n\t\t\tstage.act();\r\n\t\t\tstage.draw();\r\n\t\t}\r\n\t}\r\n\r\n  [1]: https://i.stack.imgur.com/9TTkn.gif\r\n  [2]: https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests-android/assets/data/default.fnt\r\n  [3]: https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests-android/assets/data/default.png","title":"LibGDX camera.project() is not working properly","body":"<p>In order to translate from <code>World</code>-coordinates to <code>Stage</code>-coordinates you need to first project the <code>World</code> position onto <em>screen-space</em>, and then unproject it back into <em><code>Stage</code>-space</em>.</p>\n<pre><code>Vector2 worldPosition = body.getPosition();\nVector3 screenPosition = worldCamera.project(new Vector3(worldPosition.x, worldPosition.y, 1.0f));\nVector3 stagePosition = stage.getCamera().unproject(screenPosition);\n\nlabel.setPosition(stagePosition.x, stage.getHeight() - stagePosition.y)); // stage.getHeight() - because UP is flipped.\n</code></pre>\n<p>That process will allow you to track a <strong>Box2D</strong> <code>Body</code> and set a <code>Label</code>s position to match it:</p>\n<p><a href=\"https://i.stack.imgur.com/9TTkn.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9TTkn.gif\" alt=\"Label tracking Box2D body\" /></a></p>\n<p>Full source for the example above is included below, it uses the default font from the <strong>libGDX</strong> tests (<a href=\"https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests-android/assets/data/default.fnt\" rel=\"nofollow noreferrer\">font</a> and the <a href=\"https://github.com/libgdx/libgdx/blob/master/tests/gdx-tests-android/assets/data/default.png\" rel=\"nofollow noreferrer\">font image</a>).</p>\n<pre><code>package com.bornander.sandbox;\n\nimport com.badlogic.gdx.ApplicationAdapter;\nimport com.badlogic.gdx.Gdx;\nimport com.badlogic.gdx.graphics.Color;\nimport com.badlogic.gdx.graphics.OrthographicCamera;\nimport com.badlogic.gdx.graphics.g2d.BitmapFont;\nimport com.badlogic.gdx.math.Vector2;\nimport com.badlogic.gdx.math.Vector3;\nimport com.badlogic.gdx.physics.box2d.*;\nimport com.badlogic.gdx.scenes.scene2d.Stage;\nimport com.badlogic.gdx.scenes.scene2d.ui.Label;\nimport com.badlogic.gdx.utils.ScreenUtils;\nimport com.badlogic.gdx.utils.viewport.ScreenViewport;\n\npublic class MyGdxSandbox extends ApplicationAdapter {\n    World world;\n    OrthographicCamera worldCamera;\n    Box2DDebugRenderer box2DDebugRenderer;\n\n    Body ballBody;\n    Stage stage;\n    Label label;\n    \n    @Override\n    public void create () {\n        world = new World(new Vector2(0.0f, -10.0f), false);\n        float aspectRatio = (float)Gdx.graphics.getWidth() / Gdx.graphics.getHeight();\n        float worldCameraViewportWidth = 100.0f;\n        worldCamera = new OrthographicCamera(worldCameraViewportWidth, worldCameraViewportWidth / aspectRatio);\n        worldCamera.position.set(worldCamera.viewportWidth / 2.0f, worldCamera.viewportHeight / 2.0f, 1.0f);\n        box2DDebugRenderer = new Box2DDebugRenderer();\n\n        CircleShape ballShape = new CircleShape();\n        ballShape.setRadius(4.0f);\n\n        FixtureDef ballFixtureDef = new FixtureDef();\n        ballFixtureDef.shape = ballShape;\n        ballFixtureDef.friction = 0.2f;\n        ballFixtureDef.density = 1.0f;\n        ballFixtureDef.restitution = 0.65f;\n\n        BodyDef ballBodyDef = new BodyDef();\n        ballBodyDef.type = BodyDef.BodyType.DynamicBody;\n\n        ballBody = world.createBody(ballBodyDef);\n        ballBody.createFixture(ballFixtureDef);\n        ballBody.setTransform(25, 50, 0);\n        ballBody.applyLinearImpulse(200, 0, ballBody.getPosition().x, ballBody.getPosition().y, true);\n\n        PolygonShape groundShape = new PolygonShape();\n        groundShape.setAsBox(25, 2);\n\n        FixtureDef groundFixtureDef = new FixtureDef();\n        groundFixtureDef.shape = groundShape;\n        groundFixtureDef.friction = 0.2f;\n        groundFixtureDef.density = 1.0f;\n        groundFixtureDef.restitution = 0.2f;\n\n        BodyDef groundBodyDef = new BodyDef();\n        groundBodyDef.type = BodyDef.BodyType.StaticBody;\n\n        Body ground = world.createBody(groundBodyDef);\n        ground.createFixture(groundFixtureDef);\n        ground.setTransform(50, 20, 0);\n\n\n        stage = new Stage(new ScreenViewport());\n        stage.setDebugAll(true);\n        label = new Label(&quot;TEXT&quot;, new Label.LabelStyle(new BitmapFont(Gdx.files.internal(&quot;default.fnt&quot;)), Color.WHITE));\n        label.setPosition(10, 10);\n        stage.addActor(label);\n    }\n\n    @Override\n    public void render () {\n        ScreenUtils.clear(0, 0, 0, 1);\n        float delta = Gdx.graphics.getDeltaTime();\n        worldCamera.update();\n        world.step(delta, 8, 8);\n        Vector2 ballPositionWorld = ballBody.getPosition();\n        Vector3 ballScreenPosition = worldCamera.project(new Vector3(ballPositionWorld.x, ballPositionWorld.y, 1.0f));\n        Vector3 ballStagePosition = stage.getCamera().unproject(ballScreenPosition);\n        label.setText(String.format(&quot;(%.3f, %.3f)&quot;, ballPositionWorld.x, ballPositionWorld.y));\n        label.pack();\n        label.setPosition(ballStagePosition.x, stage.getHeight() - ballStagePosition.y);\n        box2DDebugRenderer.render(world, worldCamera.combined);\n        stage.act();\n        stage.draw();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76890661,"answer_count":1,"score":1,"last_activity_date":1691865642,"creation_date":1691518723,"question_id":76862228,"body_markdown":"I use Box2D to manage my game world. I want to display text above the body. I plan to do this by setting the Label appropriately. The problem is that the body is in the game world and the Label is in the Stage (UI). So I tried to use the *camera.project()* method to convert world coordinates to screen coordinates. Unfortunately, for some reason I couldn&#39;t do it - the Label is displayed in a different place than it should be - it is shifted down and to the left relative to the target position. When resizing the window, this position also changes, but also incorrectly.\r\nI will add that otherwise I use the *camera.unproject()* method in the same way and I have no problems here - everything works fine. I don&#39;t know why it&#39;s different the other way around.\r\n\r\n    this.camera = new OrthographicCamera(ScreenManager.WIDTH * SCALE, ScreenManager.HEIGHT * SCALE);\r\n    this.viewport = new FitViewport(ScreenManager.WIDTH, ScreenManager.HEIGHT);\r\n    this.stage = new Stage(viewport, batch);\r\n    this.world = new World(Vector2.Zero, true);\r\n\r\n    // ...\r\n\r\n    Vector3 worldPosition = new Vector3(x, y, 0);\r\n    Vector3 screenPosition = camera.project(worldPosition,\r\n        viewport.getScreenX(), viewport.getScreenY(),\r\n        viewport.getScreenWidth(), viewport.getScreenHeight());\r\n    \r\n    label.setPosition(screenPosition.x, screenPosition.y);\r\n\r\nAnd my resize method:\r\n\r\n    @Override\r\n    public void resize(int width, int height) {\r\n        viewport.update(width, height, true);\r\n    }\r\nOf course I call *act()* and *draw()* for Stage in the render method. What am I doing wrong?","title":"LibGDX camera.project() is not working properly","body":"<p>I use Box2D to manage my game world. I want to display text above the body. I plan to do this by setting the Label appropriately. The problem is that the body is in the game world and the Label is in the Stage (UI). So I tried to use the <em>camera.project()</em> method to convert world coordinates to screen coordinates. Unfortunately, for some reason I couldn't do it - the Label is displayed in a different place than it should be - it is shifted down and to the left relative to the target position. When resizing the window, this position also changes, but also incorrectly.\nI will add that otherwise I use the <em>camera.unproject()</em> method in the same way and I have no problems here - everything works fine. I don't know why it's different the other way around.</p>\n<pre><code>this.camera = new OrthographicCamera(ScreenManager.WIDTH * SCALE, ScreenManager.HEIGHT * SCALE);\nthis.viewport = new FitViewport(ScreenManager.WIDTH, ScreenManager.HEIGHT);\nthis.stage = new Stage(viewport, batch);\nthis.world = new World(Vector2.Zero, true);\n\n// ...\n\nVector3 worldPosition = new Vector3(x, y, 0);\nVector3 screenPosition = camera.project(worldPosition,\n    viewport.getScreenX(), viewport.getScreenY(),\n    viewport.getScreenWidth(), viewport.getScreenHeight());\n\nlabel.setPosition(screenPosition.x, screenPosition.y);\n</code></pre>\n<p>And my resize method:</p>\n<pre><code>@Override\npublic void resize(int width, int height) {\n    viewport.update(width, height, true);\n}\n</code></pre>\n<p>Of course I call <em>act()</em> and <em>draw()</em> for Stage in the render method. What am I doing wrong?</p>\n"},{"tags":["java","android","android-volley"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1691865759,"post_id":76890629,"comment_id":135550271,"body_markdown":"Why is it necessary to convert from Base64 to the less efficient hex representation?","body":"Why is it necessary to convert from Base64 to the less efficient hex representation?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691866411,"post_id":76890629,"comment_id":135550333,"body_markdown":"`public static String sixtyFourToHex(String s64) { return HexFormat.of().formatHex(Base64.getDecoder().decode(s64)); }`","body":"<code>public static String sixtyFourToHex(String s64) { return HexFormat.of().formatHex(Base64.getDecoder().decode(s64)); }</code>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1691870470,"post_id":76890629,"comment_id":135550725,"body_markdown":"@g00se That code you have posted requires API 34. Or is it also provided by some compatibility library?","body":"@g00se That code you have posted requires API 34. Or is it also provided by some compatibility library?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691873132,"post_id":76890629,"comment_id":135550941,"body_markdown":"It&#39;s Java 17 actually","body":"It&#39;s Java 17 actually"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691879297,"post_id":76890629,"comment_id":135551386,"body_markdown":"Or `String hex = new BigInteger(1, Base64.getDecoder().decode(b64)).toString(16);\n`","body":"Or <code>String hex = new BigInteger(1, Base64.getDecoder().decode(b64)).toString(16); </code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1691939386,"post_id":76890629,"comment_id":135555681,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":13199884,"reputation":1,"user_id":9533425,"display_name":"molige srinivas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691865162,"creation_date":1691865162,"question_id":76890629,"body_markdown":"how to convert a base64 String into HexaDecimal String and Upload to the server Of HexaDecimal String with adding headers in Volley Library in Java. what are the steps needed to upload hexadecimal string into server in volley  Thanks in Adavance\r\n\r\nI tried with base64 String and HexaDecimal(hardcode string) to upload image to server  in Volley , but unfortunately it is not stored Hexadecimal string in Server(SAP OData) , so added the base64 String in getParams method. what is the problem and why it is not uploaded base64 String/ HexaDecimal String.    another issue is how to convert Base64 string into Hexadecimal String in java android . ","title":"how to convert base64 value into Hexa decimal String and Send that hexa decimal String to Server by using volley in Java android","body":"<p>how to convert a base64 String into HexaDecimal String and Upload to the server Of HexaDecimal String with adding headers in Volley Library in Java. what are the steps needed to upload hexadecimal string into server in volley  Thanks in Adavance</p>\n<p>I tried with base64 String and HexaDecimal(hardcode string) to upload image to server  in Volley , but unfortunately it is not stored Hexadecimal string in Server(SAP OData) , so added the base64 String in getParams method. what is the problem and why it is not uploaded base64 String/ HexaDecimal String.    another issue is how to convert Base64 string into Hexadecimal String in java android .</p>\n"},{"tags":["java","spring-boot","autowired"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666247696,"post_id":74135333,"comment_id":130891524,"body_markdown":"How did you instantiate AccountPanel?","body":"How did you instantiate AccountPanel?"},{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1666247971,"post_id":74135333,"comment_id":130891599,"body_markdown":"does the `UserClientApi` needed to be the inner class of `AccountPanel` ? if not then create another class for `UserClientApi` if yes then try this https://stackoverflow.com/questions/24213823/anyway-to-inject-autowire-an-inner-class-into-an-outer-class","body":"does the <code>UserClientApi</code> needed to be the inner class of <code>AccountPanel</code> ? if not then create another class for <code>UserClientApi</code> if yes then try this <a href=\"https://stackoverflow.com/questions/24213823/anyway-to-inject-autowire-an-inner-class-into-an-outer-class\" title=\"anyway to inject autowire an inner class into an outer class\">stackoverflow.com/questions/24213823/&hellip;</a>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666248530,"post_id":74135333,"comment_id":130891762,"body_markdown":"@Aleson it isn&#39;t an inner class, the closing bracket is right before the UserClientApi class","body":"@Aleson it isn&#39;t an inner class, the closing bracket is right before the UserClientApi class"},{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1666248703,"post_id":74135333,"comment_id":130891826,"body_markdown":"by the code you showed here it looks like the `UserClientApi` is the inner class of `AccountPanel` try create new java file for the `UserClientApi` class","body":"by the code you showed here it looks like the <code>UserClientApi</code> is the inner class of <code>AccountPanel</code> try create new java file for the <code>UserClientApi</code> class"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1666255201,"post_id":74135333,"comment_id":130894165,"body_markdown":"@Aleson by the code the OP showed, it doesn&#39;t look like the UserClientApi is an inner class. I&#39;ve already pointed out there is a closing bracket for AccountPanel before the configuration of UserClientApi","body":"@Aleson by the code the OP showed, it doesn&#39;t look like the UserClientApi is an inner class. I&#39;ve already pointed out there is a closing bracket for AccountPanel before the configuration of UserClientApi"}],"owner":{"account_id":2683594,"reputation":490,"user_id":2318409,"accept_rate":80,"display_name":"Gary Greenberg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666249026,"answer_count":0,"score":0,"last_activity_date":1691863586,"creation_date":1666247382,"question_id":74135333,"body_markdown":"I have created an AccountPanel class that is using another class UserClientApi to call some microservices to process information about customers.\r\n\r\n    @Component\r\n    public class AccountPanel {\r\n    \r\n        private static final int notificationTime = 5000;\r\n    \r\n        @Autowired\r\n        private UserClientApi  api;\r\n        ...\r\n        }\r\n\r\n        @Component\r\n        public class UserClientApi  {\r\n    \r\n        @Value(&quot;${user.api.url}&quot;)\r\n        String apiUrl;\r\n    \r\n        @Autowired\r\n        RestTemplate rest;\r\n    \r\n        @Override\r\n        public Reader findUserByName(String name) {\r\n         ...\r\n        }\r\n        ...\r\n      }\r\n\r\nFirst I had problems with autowiring RestTemplate, until I added a bean that creates it.\r\nNow I am having problems with injecting UserClientApi. I tried 2 dozens of suggestions but still my api variable is always null. I tried extracting interface, added component scan, etc. Nothing is working. Can someone help me? I am using spring-boot 2.7.4 with JDK 14\r\n","title":"@Autowired component is not injected","body":"<p>I have created an AccountPanel class that is using another class UserClientApi to call some microservices to process information about customers.</p>\n<pre><code>@Component\npublic class AccountPanel {\n\n    private static final int notificationTime = 5000;\n\n    @Autowired\n    private UserClientApi  api;\n    ...\n    }\n\n    @Component\n    public class UserClientApi  {\n\n    @Value(&quot;${user.api.url}&quot;)\n    String apiUrl;\n\n    @Autowired\n    RestTemplate rest;\n\n    @Override\n    public Reader findUserByName(String name) {\n     ...\n    }\n    ...\n  }\n</code></pre>\n<p>First I had problems with autowiring RestTemplate, until I added a bean that creates it.\nNow I am having problems with injecting UserClientApi. I tried 2 dozens of suggestions but still my api variable is always null. I tried extracting interface, added component scan, etc. Nothing is working. Can someone help me? I am using spring-boot 2.7.4 with JDK 14</p>\n"},{"tags":["java","spring","junit"],"answers":[{"comments":[{"owner":{"account_id":13692159,"reputation":101,"user_id":9879683,"display_name":"newbie"},"score":0,"creation_date":1527836031,"post_id":50637616,"comment_id":88285259,"body_markdown":"thank you. is there anything you can suggest on my code design?","body":"thank you. is there anything you can suggest on my code design?"},{"owner":{"account_id":6471354,"reputation":1382,"user_id":5011400,"accept_rate":78,"display_name":"Yati Sawhney"},"score":0,"creation_date":1527836222,"post_id":50637616,"comment_id":88285368,"body_markdown":"Not much! With newer versions of spring your can simply use @Autowired with fields and avoid writing setters for them.","body":"Not much! With newer versions of spring your can simply use @Autowired with fields and avoid writing setters for them."},{"owner":{"account_id":128226,"reputation":10041,"user_id":325900,"accept_rate":78,"display_name":"DaveyDaveDave"},"score":1,"creation_date":1527836888,"post_id":50637616,"comment_id":88285710,"body_markdown":"&quot;is there anything you can suggest on my code design?&quot; - yes - learn what your code does and why it does it. Phrases like &quot;I dont use Json. I just inserted it because it works&quot; (hint: you do use JSON) strongly imply that your approach is to just copy and paste code you find and hope that it works. This will cause you completely avoidable difficulties, especially as the code you write increases in size and complexity. Spend some time reading the official documentation for the libraries you&#39;re using (in this case Spring and Mockito) to properly understand it, and it will pay off hugely.","body":"&quot;is there anything you can suggest on my code design?&quot; - yes - learn what your code does and why it does it. Phrases like &quot;I dont use Json. I just inserted it because it works&quot; (hint: you do use JSON) strongly imply that your approach is to just copy and paste code you find and hope that it works. This will cause you completely avoidable difficulties, especially as the code you write increases in size and complexity. Spend some time reading the official documentation for the libraries you&#39;re using (in this case Spring and Mockito) to properly understand it, and it will pay off hugely."},{"owner":{"account_id":106565,"reputation":18790,"user_id":283837,"accept_rate":70,"display_name":"Simeon Leyzerzon"},"score":0,"creation_date":1581286383,"post_id":50637616,"comment_id":106370717,"body_markdown":"In my case it didn&#39;t work even when having `HttpStatus.CREATED` properly specified in both the test and controller.  I suspect it to be some undocumented error in Mockito.  I ended up refactoring the controller/tests code to remove all mentions of the `ResponseEntity` wrapper, and decorating the methods with `@ResponseStatus(HttpStatus.CREATED)` or `@ResponseStatus(HttpStatus.OK)` instead which seem to work fine with Mockito","body":"In my case it didn&#39;t work even when having <code>HttpStatus.CREATED</code> properly specified in both the test and controller.  I suspect it to be some undocumented error in Mockito.  I ended up refactoring the controller/tests code to remove all mentions of the <code>ResponseEntity</code> wrapper, and decorating the methods with <code>@ResponseStatus(HttpStatus.CREATED)</code> or <code>@ResponseStatus(HttpStatus.OK)</code> instead which seem to work fine with Mockito"}],"tags":[],"owner":{"account_id":6471354,"reputation":1382,"user_id":5011400,"accept_rate":78,"display_name":"Yati Sawhney"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1527836033,"creation_date":1527835710,"answer_id":50637616,"question_id":50637581,"body_markdown":"That&#39;s what you return. \r\n\r\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\r\n\r\n`HttpStatus.CREATED` returns **201** and indicates that a resource has been created by the request\r\n\r\n\r\nHow ever in your testcase you are expecting OK(200) `.andExpect(status().isOk());`\r\n\r\nAccording to [HTTP1.1/ specs][1] Post request should always result in the creation of a resource. So it makes sense to return 201 from there. All your need to do is change your testcase assertion expected value to HTTPStatus.CREATED.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2616","title":"java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;201&gt;","body":"<p>That's what you return.</p>\n<pre><code>return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\n</code></pre>\n<p><code>HttpStatus.CREATED</code> returns <strong>201</strong> and indicates that a resource has been created by the request</p>\n<p>How ever in your testcase you are expecting OK(200) <code>.andExpect(status().isOk());</code></p>\n<p>According to <a href=\"https://www.rfc-editor.org/rfc/rfc2616\" rel=\"nofollow noreferrer\">HTTP1.1/ specs</a> Post request should always result in the creation of a resource. So it makes sense to return 201 from there. All your need to do is change your testcase assertion expected value to HTTPStatus.CREATED.</p>\n"}],"owner":{"account_id":13692159,"reputation":101,"user_id":9879683,"display_name":"newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11429,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":50637616,"answer_count":1,"score":0,"last_activity_date":1691863327,"creation_date":1527835585,"question_id":50637581,"body_markdown":"Hi I&#39;m trying to implement junit in my controller. But what I get is 201 instead of 200.\r\n\r\nBelow is my controller\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/treat&quot;)\r\n    public class TreatController {\r\n    \r\n      private final TreatService treatService;\r\n    \r\n    @Autowired\r\n      public TreatController(TreatService treatService){\r\n        this.treatService = treatService;\r\n      }\r\n    \r\n    @PostMapping\r\n      public ResponseEntity&lt;CommonResponse&gt; addNew(\r\n          @RequestBody Treat treat) throws RecordNotFoundException{\r\n        CommonResponse response = new CommonResponse();\r\n        response.setStatus(CommonConstants.OK);\r\n        response.setData(treatService.save(treat));\r\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\r\n      }\r\n    }\r\n\r\n\r\nnext is my Junit testing:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebMvcTest(TreatController.class)\r\n    public class TreatControllerTest {\r\n    \r\n      private RecordNotFoundException recordException = new RecordNotFoundException(&quot;&quot;);\r\n    \r\n      private final String title = &quot;{\\&quot;title\\&quot; : \\&quot;title\\&quot;}&quot;;\r\n    \r\n      @Autowired\r\n      private MockMvc mockMvc;\r\n    \r\n      @MockBean\r\n      private TreatService treatService;\r\n    \r\n    @Test\r\n      public void addNew() throws Exception{\r\n        Treatment treatment = new Treatment();\r\n    \r\n        given(treatmentService.save(\r\n            Mockito.any(Treat.class))).willReturn(treat);\r\n        mockMvc.perform(post(&quot;/treats&quot;)\r\n        .content(title)\r\n        .accept(MediaType.APPLICATION_JSON_VALUE)\r\n        .contentType(MediaType.APPLICATION_JSON_VALUE))\r\n    \r\n        .andDo(print())\r\n        .andExpect(status().isOk());\r\n        \r\n        Mockito.verify(treatService).save(Mockito.any(Treat.class));\r\n      }\r\n    }\r\n\r\nis there anything that I missed?\r\nBy the way, I dont use Json. I just inserted it because it works.","title":"java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;201&gt;","body":"<p>Hi I'm trying to implement junit in my controller. But what I get is 201 instead of 200.</p>\n\n<p>Below is my controller</p>\n\n<pre><code>@RestController\n@RequestMapping(value = \"/treat\")\npublic class TreatController {\n\n  private final TreatService treatService;\n\n@Autowired\n  public TreatController(TreatService treatService){\n    this.treatService = treatService;\n  }\n\n@PostMapping\n  public ResponseEntity&lt;CommonResponse&gt; addNew(\n      @RequestBody Treat treat) throws RecordNotFoundException{\n    CommonResponse response = new CommonResponse();\n    response.setStatus(CommonConstants.OK);\n    response.setData(treatService.save(treat));\n    return new ResponseEntity&lt;&gt;(response, HttpStatus.CREATED);\n  }\n}\n</code></pre>\n\n<p>next is my Junit testing:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebMvcTest(TreatController.class)\npublic class TreatControllerTest {\n\n  private RecordNotFoundException recordException = new RecordNotFoundException(\"\");\n\n  private final String title = \"{\\\"title\\\" : \\\"title\\\"}\";\n\n  @Autowired\n  private MockMvc mockMvc;\n\n  @MockBean\n  private TreatService treatService;\n\n@Test\n  public void addNew() throws Exception{\n    Treatment treatment = new Treatment();\n\n    given(treatmentService.save(\n        Mockito.any(Treat.class))).willReturn(treat);\n    mockMvc.perform(post(\"/treats\")\n    .content(title)\n    .accept(MediaType.APPLICATION_JSON_VALUE)\n    .contentType(MediaType.APPLICATION_JSON_VALUE))\n\n    .andDo(print())\n    .andExpect(status().isOk());\n\n    Mockito.verify(treatService).save(Mockito.any(Treat.class));\n  }\n}\n</code></pre>\n\n<p>is there anything that I missed?\nBy the way, I dont use Json. I just inserted it because it works.</p>\n"},{"tags":["java","generics","function-reference"],"comments":[{"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"score":0,"creation_date":1691848865,"post_id":76889316,"comment_id":135548599,"body_markdown":"Can you give us more context to why this has to be one method?","body":"Can you give us more context to why this has to be one method?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691851351,"post_id":76889316,"comment_id":135548881,"body_markdown":"A very minor nit: It&#39;s &quot;algorithm&quot;, not &quot;algorythm&quot;.","body":"A very minor nit: It&#39;s &quot;algorithm&quot;, not &quot;algorythm&quot;."}],"answers":[{"comments":[{"owner":{"account_id":14864245,"reputation":540,"user_id":10733903,"display_name":"Vlad Vyatkin"},"score":0,"creation_date":1691850565,"post_id":76889683,"comment_id":135548802,"body_markdown":"Yep, I was just going to post my own answer in a similar venue, but I like yours even better. Cheers!","body":"Yep, I was just going to post my own answer in a similar venue, but I like yours even better. Cheers!"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691851500,"post_id":76889683,"comment_id":135548894,"body_markdown":"One of those answers that makes me upvote the question too. A real deep-dive is to enter the world of &#39;number systems&#39;. Which java doesn&#39;t have in `java.*`, and I&#39;m not aware of a commonly used library. You&#39;d need the concept of a `NumericSystem&lt;T&gt;` which has functions like `public T plus(T a, T b)`, `public T randomBetween(T lowIncl, T highExcl)`, and so on. It gets very complex very quickly, a DRY approach like this answer is almost always a much better idea.","body":"One of those answers that makes me upvote the question too. A real deep-dive is to enter the world of &#39;number systems&#39;. Which java doesn&#39;t have in <code>java.*</code>, and I&#39;m not aware of a commonly used library. You&#39;d need the concept of a <code>NumericSystem&lt;T&gt;</code> which has functions like <code>public T plus(T a, T b)</code>, <code>public T randomBetween(T lowIncl, T highExcl)</code>, and so on. It gets very complex very quickly, a DRY approach like this answer is almost always a much better idea."}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1691849691,"creation_date":1691849691,"answer_id":76889683,"question_id":76889316,"body_markdown":"You can’t do it in constructor code.  There is no way to change the meaning of T at runtime using code.  Generic types are enforced by the compiler, not at runtime.\r\n\r\nIf this weren’t an abstract class, I would suggest that you make the constructor private, and create public static factory methods as a way to let allow code construct instances.\r\n\r\nSince it is an abstract class, you can just make the picker function a parameter:\r\n\r\n    protected SelectionAlgorythm(RangePair&lt;T&gt; pair,\r\n                                 BinaryOperator&lt;T&gt; picker)\r\n    {\r\n        this.pair = pair;\r\n        this.picker = picker;\r\n    }\r\n\r\n(Note that [BinaryOperator](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/BinaryOperator.html) is the same as a BiFunction where all types are the same, but is easier to read.)\r\n\r\nIf you want to restrict which picker functions are allowed, create your own inner pseudo-enum class:\r\n\r\n    protected static final class Picker&lt;V&gt; {\r\n        private final BinaryOperator&lt;V&gt; function;\r\n\r\n        private Picker(BinaryOperator&lt;V&gt; function) {\r\n            this.function = function;\r\n        }\r\n\r\n        BinaryOperation&lt;V&gt; function() {\r\n            return function;\r\n        }\r\n\r\n        public static final Picker&lt;Integer&gt; INT =\r\n            new Picker&lt;&gt;(SelectionAlgorythm::pickRandomInt);\r\n\r\n        public static final Picker&lt;Float&gt; FLOAT =\r\n            new Picker&lt;&gt;(SelectionAlgorythm::pickRandomFloat);\r\n    }\r\n\r\nThis will be typesafe since no class other than SelectionAlgorythm is capable of creating Picker instances:\r\n\r\n    protected SelectionAlgorythm(RangePair&lt;T&gt; pair,\r\n                                 Picker&lt;T&gt; picker)\r\n    {\r\n        this.pair = pair;\r\n        this.picker = picker.function();\r\n    }\r\n","title":"Making a reference to set type functions in Java","body":"<p>You can’t do it in constructor code.  There is no way to change the meaning of T at runtime using code.  Generic types are enforced by the compiler, not at runtime.</p>\n<p>If this weren’t an abstract class, I would suggest that you make the constructor private, and create public static factory methods as a way to let allow code construct instances.</p>\n<p>Since it is an abstract class, you can just make the picker function a parameter:</p>\n<pre><code>protected SelectionAlgorythm(RangePair&lt;T&gt; pair,\n                             BinaryOperator&lt;T&gt; picker)\n{\n    this.pair = pair;\n    this.picker = picker;\n}\n</code></pre>\n<p>(Note that <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/function/BinaryOperator.html\" rel=\"nofollow noreferrer\">BinaryOperator</a> is the same as a BiFunction where all types are the same, but is easier to read.)</p>\n<p>If you want to restrict which picker functions are allowed, create your own inner pseudo-enum class:</p>\n<pre><code>protected static final class Picker&lt;V&gt; {\n    private final BinaryOperator&lt;V&gt; function;\n\n    private Picker(BinaryOperator&lt;V&gt; function) {\n        this.function = function;\n    }\n\n    BinaryOperation&lt;V&gt; function() {\n        return function;\n    }\n\n    public static final Picker&lt;Integer&gt; INT =\n        new Picker&lt;&gt;(SelectionAlgorythm::pickRandomInt);\n\n    public static final Picker&lt;Float&gt; FLOAT =\n        new Picker&lt;&gt;(SelectionAlgorythm::pickRandomFloat);\n}\n</code></pre>\n<p>This will be typesafe since no class other than SelectionAlgorythm is capable of creating Picker instances:</p>\n<pre><code>protected SelectionAlgorythm(RangePair&lt;T&gt; pair,\n                             Picker&lt;T&gt; picker)\n{\n    this.pair = pair;\n    this.picker = picker.function();\n}\n</code></pre>\n"}],"owner":{"account_id":14864245,"reputation":540,"user_id":10733903,"display_name":"Vlad Vyatkin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76889683,"answer_count":1,"score":2,"last_activity_date":1691861317,"creation_date":1691844109,"question_id":76889316,"body_markdown":"I&#39;m making a generic abstract class that will work with float and integer values and will use different algorithms to generate a new value. It relies heavily on picking a random value within range, so I wanted to make a generic RandomRange kind of function.\r\n\r\nThis is the example of my code and what I&#39;m trying to achieve.\r\n```java\r\npublic abstract class SelectionAlgorythm &lt; T &gt; {\r\n  protected static Random random = new Random();\r\n  BiFunction &lt; T, T, T &gt; picker;\r\n\r\n  RangePair pair;\r\n\r\n  public abstract T value();\r\n\r\n  protected SelectionAlgorythm(RangePair &lt; T &gt; pair) {\r\n    this.pair = pair\r\n    if (pair.minRange instanceof Integer) {\r\n      picker = SelectionAlgorythm::pickRandomInt;\r\n    } else if (pair.minRange instanceof Float) {\r\n      picker = SelectionAlgorythm::pickRandomFloat;\r\n    }\r\n  }\r\n\r\n  private static Integer pickRandomInt(Integer val1, Integer val2) {\r\n    return random.nextInt((int) val2 - (int) val1) + (int) val1;\r\n  }\r\n\r\n  private static Float pickRandomFloat(Float val1, Float val2) {\r\n    return random.nextFloat() * (val2 - val1) + val1;\r\n  }\r\n\r\n  public T pickValue() {\r\n    return picker(pair.minRange, pair.maxRange);\r\n  }\r\n}\r\n```\r\n\r\nHowever I run into problems here and I can&#39;t figure out how to fix them. If I leave the code as it is, then the picker initialization lines complain that &quot;Incompatible types, T is not convertible to Integer&quot;\r\n\r\nBut I also can&#39;t just make the functions themselves generic, because random.nextInt() and random.nextFloat() expect particular values, not generics.\r\n\r\nHow do I do that? I admit, I have not worked with generics much and kind of moved away from Java recently, so I may be missing something obvious.\r\n","title":"Making a reference to set type functions in Java","body":"<p>I'm making a generic abstract class that will work with float and integer values and will use different algorithms to generate a new value. It relies heavily on picking a random value within range, so I wanted to make a generic RandomRange kind of function.</p>\n<p>This is the example of my code and what I'm trying to achieve.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class SelectionAlgorythm &lt; T &gt; {\n  protected static Random random = new Random();\n  BiFunction &lt; T, T, T &gt; picker;\n\n  RangePair pair;\n\n  public abstract T value();\n\n  protected SelectionAlgorythm(RangePair &lt; T &gt; pair) {\n    this.pair = pair\n    if (pair.minRange instanceof Integer) {\n      picker = SelectionAlgorythm::pickRandomInt;\n    } else if (pair.minRange instanceof Float) {\n      picker = SelectionAlgorythm::pickRandomFloat;\n    }\n  }\n\n  private static Integer pickRandomInt(Integer val1, Integer val2) {\n    return random.nextInt((int) val2 - (int) val1) + (int) val1;\n  }\n\n  private static Float pickRandomFloat(Float val1, Float val2) {\n    return random.nextFloat() * (val2 - val1) + val1;\n  }\n\n  public T pickValue() {\n    return picker(pair.minRange, pair.maxRange);\n  }\n}\n</code></pre>\n<p>However I run into problems here and I can't figure out how to fix them. If I leave the code as it is, then the picker initialization lines complain that &quot;Incompatible types, T is not convertible to Integer&quot;</p>\n<p>But I also can't just make the functions themselves generic, because random.nextInt() and random.nextFloat() expect particular values, not generics.</p>\n<p>How do I do that? I admit, I have not worked with generics much and kind of moved away from Java recently, so I may be missing something obvious.</p>\n"},{"tags":["java","android","ssl","httpurlconnection"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1691859190,"post_id":76890242,"comment_id":135549671,"body_markdown":"Have you tried using OkHttp, as it has [better HTTPS support](https://square.github.io/okhttp/features/https/)?","body":"Have you tried using OkHttp, as it has <a href=\"https://square.github.io/okhttp/features/https/\" rel=\"nofollow noreferrer\">better HTTPS support</a>?"}],"answers":[{"comments":[{"owner":{"account_id":207323,"reputation":4288,"user_id":457123,"accept_rate":70,"display_name":"Mathias R&#246;nnlund"},"score":0,"creation_date":1692682801,"post_id":76890390,"comment_id":135653347,"body_markdown":"Perfect. When I also added TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 it works.","body":"Perfect. When I also added TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 it works."}],"tags":[],"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691860937,"creation_date":1691860937,"answer_id":76890390,"question_id":76890242,"body_markdown":"&gt; When I disable all ciphers but the two first ones all http connections to the backend fail with exception\r\n\r\nThis means that the following ciphers are left:\r\n\r\n    TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\r\n    TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\n\r\nBoth require ECDSA authentication, which means they need an ECC certificate. Probably you only have a RSA certificate though, which means that the server does not support any ciphers which can work together with the  certificate used by the server.\r\n","title":"Android HttpsURLConnection giving SSLHandshakeException after disabling cipher suites in backend","body":"<blockquote>\n<p>When I disable all ciphers but the two first ones all http connections to the backend fail with exception</p>\n</blockquote>\n<p>This means that the following ciphers are left:</p>\n<pre><code>TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384\nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\n</code></pre>\n<p>Both require ECDSA authentication, which means they need an ECC certificate. Probably you only have a RSA certificate though, which means that the server does not support any ciphers which can work together with the  certificate used by the server.</p>\n"}],"owner":{"account_id":207323,"reputation":4288,"user_id":457123,"accept_rate":70,"display_name":"Mathias R&#246;nnlund"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76890390,"answer_count":1,"score":0,"last_activity_date":1691860937,"creation_date":1691858570,"question_id":76890242,"body_markdown":"Our backend is Azure App Service (Linux) that with default settings supports the following cipher suite:\r\n\r\n&gt; TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384  \r\n&gt; TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256  \r\n&gt; TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256  \r\n&gt; TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384  \r\n&gt; TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256  \r\n&gt; TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384  \r\n&gt; TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256  \r\n&gt; TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA  \r\n&gt; TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA  \r\n&gt; TLS_RSA_WITH_AES_256_GCM_SHA384  \r\n&gt; TLS_RSA_WITH_AES_128_GCM_SHA256  \r\n&gt; TLS_RSA_WITH_AES_256_CBC_SHA256  \r\n&gt; TLS_RSA_WITH_AES_128_CBC_SHA256  \r\n&gt; TLS_RSA_WITH_AES_256_CBC_SHA  \r\n&gt; TLS_RSA_WITH_AES_128_CBC_SHA  \r\n\r\nWhen I disable all ciphers but the two first ones all http connections to the backend fail with exception\r\n\r\n&gt; javax.net.ssl.SSLHandshakeException: connection closed\r\n\r\nWe have the following code:\r\n\r\n    URL url = new URL(urlString);\r\n    HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n    connection.setRequestMethod(&quot;GET&quot;);\r\n\r\n    SSLSocketFactory factory = connection.getSSLSocketFactory()\r\n    String[] cipherSuites = factory.getSupportedCipherSuites();\r\n    for (String suite : cipherSuites) {\r\n        System.out.println(suite);\r\n    }\r\n\r\n    connection.connect();\r\n\r\nThe SSLSocketFactory was added just to print the supported cipher suites. The output is:\r\n\r\n&gt; TLS_AES_128_GCM_SHA256  \r\n&gt; TLS_AES_256_GCM_SHA384  \r\n&gt; TLS_CHACHA20_POLY1305_SHA256  \r\n&gt; TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256  \r\n&gt; TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256  \r\n&gt; TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384  \r\n&gt; TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384  \r\n&gt; TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256  \r\n&gt; TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256  \r\n&gt; TLS_ECDHE_PSK_WITH_CHACHA20_POLY1305_SHA256  \r\n&gt; TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA  \r\n&gt; TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\r\n&gt; TLS_ECDHE_PSK_WITH_AES_128_CBC_SHA  \r\n&gt; TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA  \r\n&gt; TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA  \r\n&gt; TLS_ECDHE_PSK_WITH_AES_256_CBC_SHA  \r\n&gt; TLS_RSA_WITH_AES_128_GCM_SHA256\r\n&gt; TLS_RSA_WITH_AES_256_GCM_SHA384  \r\n&gt; TLS_RSA_WITH_AES_128_CBC_SHA  \r\n&gt; TLS_PSK_WITH_AES_128_CBC_SHA  \r\n&gt; TLS_RSA_WITH_AES_256_CBC_SHA  \r\n&gt; TLS_PSK_WITH_AES_256_CBC_SHA  \r\n&gt; SSL_RSA_WITH_3DES_EDE_CBC_SHA  \r\n&gt; TLS_EMPTY_RENEGOTIATION_INFO_SCSV  \r\n&gt; TLS_FALLBACK_SCSV  \r\n\r\nSo at least the first cipher, e.g. TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 seems to be supported by both.\r\n\r\nThe app for various historical reasons have sdk 28 as minimum and target sdk\r\n\r\n    minSdkVersion 28\r\n    targetSdkVersion 28\r\n\r\nWhy is the handshake not finding a common cipher?","title":"Android HttpsURLConnection giving SSLHandshakeException after disabling cipher suites in backend","body":"<p>Our backend is Azure App Service (Linux) that with default settings supports the following cipher suite:</p>\n<blockquote>\n<p>TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384<br />\nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256<br />\nTLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256<br />\nTLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384<br />\nTLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256<br />\nTLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384<br />\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256<br />\nTLS_ECDHE_RSA_WITH_AES_256_CBC_SHA<br />\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA<br />\nTLS_RSA_WITH_AES_256_GCM_SHA384<br />\nTLS_RSA_WITH_AES_128_GCM_SHA256<br />\nTLS_RSA_WITH_AES_256_CBC_SHA256<br />\nTLS_RSA_WITH_AES_128_CBC_SHA256<br />\nTLS_RSA_WITH_AES_256_CBC_SHA<br />\nTLS_RSA_WITH_AES_128_CBC_SHA</p>\n</blockquote>\n<p>When I disable all ciphers but the two first ones all http connections to the backend fail with exception</p>\n<blockquote>\n<p>javax.net.ssl.SSLHandshakeException: connection closed</p>\n</blockquote>\n<p>We have the following code:</p>\n<pre><code>URL url = new URL(urlString);\nHttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\nconnection.setRequestMethod(&quot;GET&quot;);\n\nSSLSocketFactory factory = connection.getSSLSocketFactory()\nString[] cipherSuites = factory.getSupportedCipherSuites();\nfor (String suite : cipherSuites) {\n    System.out.println(suite);\n}\n\nconnection.connect();\n</code></pre>\n<p>The SSLSocketFactory was added just to print the supported cipher suites. The output is:</p>\n<blockquote>\n<p>TLS_AES_128_GCM_SHA256<br />\nTLS_AES_256_GCM_SHA384<br />\nTLS_CHACHA20_POLY1305_SHA256<br />\nTLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256<br />\nTLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256<br />\nTLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384<br />\nTLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384<br />\nTLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256<br />\nTLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256<br />\nTLS_ECDHE_PSK_WITH_CHACHA20_POLY1305_SHA256<br />\nTLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA<br />\nTLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\nTLS_ECDHE_PSK_WITH_AES_128_CBC_SHA<br />\nTLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA<br />\nTLS_ECDHE_RSA_WITH_AES_256_CBC_SHA<br />\nTLS_ECDHE_PSK_WITH_AES_256_CBC_SHA<br />\nTLS_RSA_WITH_AES_128_GCM_SHA256\nTLS_RSA_WITH_AES_256_GCM_SHA384<br />\nTLS_RSA_WITH_AES_128_CBC_SHA<br />\nTLS_PSK_WITH_AES_128_CBC_SHA<br />\nTLS_RSA_WITH_AES_256_CBC_SHA<br />\nTLS_PSK_WITH_AES_256_CBC_SHA<br />\nSSL_RSA_WITH_3DES_EDE_CBC_SHA<br />\nTLS_EMPTY_RENEGOTIATION_INFO_SCSV<br />\nTLS_FALLBACK_SCSV</p>\n</blockquote>\n<p>So at least the first cipher, e.g. TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 seems to be supported by both.</p>\n<p>The app for various historical reasons have sdk 28 as minimum and target sdk</p>\n<pre><code>minSdkVersion 28\ntargetSdkVersion 28\n</code></pre>\n<p>Why is the handshake not finding a common cipher?</p>\n"},{"tags":["java","spring-boot","header","postman","api-versioning"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1691827114,"post_id":76888083,"comment_id":135546549,"body_markdown":"If you format your question properly, someone is more likely to read it and try to answer your question.","body":"If you format your question properly, someone is more likely to read it and try to answer your question."}],"owner":{"account_id":29210328,"reputation":1,"user_id":22378447,"display_name":"Pooja B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691860446,"creation_date":1691822580,"question_id":76888083,"body_markdown":"How to give multiple values to a controller for api versioning through header having same header name \r\n\r\n```lang-java\r\n@PostMapping(value = URL.ADD, headers = {&quot;X-API-VERSION=1.0&quot;, &quot;X-API-VERSION=2.0&quot;})\r\npublic int add(@RequestBody ProductVariant productVariant) {\r\n    int result = productVariantBo.add(productVariant);\r\n    return result;\r\n}\r\n```","title":"Api versioning through header having same header name","body":"<p>How to give multiple values to a controller for api versioning through header having same header name</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = URL.ADD, headers = {&quot;X-API-VERSION=1.0&quot;, &quot;X-API-VERSION=2.0&quot;})\npublic int add(@RequestBody ProductVariant productVariant) {\n    int result = productVariantBo.add(productVariant);\n    return result;\n}\n</code></pre>\n"},{"tags":["java","splash-screen"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1691915704,"post_id":76890340,"comment_id":135553363,"body_markdown":"The referenced answers all direct to creating a splash screen either using JWindow or an undecorated JFrame. As soon as you use setLocationRelativeTo(null) the window gets positioned in the center of the first screen. Problem solved.","body":"The referenced answers all direct to creating a splash screen either using JWindow or an undecorated JFrame. As soon as you use setLocationRelativeTo(null) the window gets positioned in the center of the first screen. Problem solved."}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1691877117,"answer_count":0,"score":0,"last_activity_date":1691860226,"creation_date":1691860226,"question_id":76890340,"body_markdown":"I created a Java application that uses a [Splash Screen][1].\r\nNow this splash screen shows up in the center of the desktop. Unfortunately my desktop (and that of many other users) consists of two screen side by side. The window that renders in the center always is split between the two screens.\r\n\r\nHow can my application control where the Splash Screen will show up? Is there any way to change the default behaviour?\r\n\r\nOne idea would be to remember the position where the application window was used last time and center the splash screen there.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/SplashScreen.html","title":"Java Splash Screen Location","body":"<p>I created a Java application that uses a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/SplashScreen.html\" rel=\"nofollow noreferrer\">Splash Screen</a>.\nNow this splash screen shows up in the center of the desktop. Unfortunately my desktop (and that of many other users) consists of two screen side by side. The window that renders in the center always is split between the two screens.</p>\n<p>How can my application control where the Splash Screen will show up? Is there any way to change the default behaviour?</p>\n<p>One idea would be to remember the position where the application window was used last time and center the splash screen there.</p>\n"},{"tags":["java","android","environment-variables","environment"],"answers":[{"comments":[{"owner":{"account_id":13229300,"reputation":17,"user_id":9553478,"display_name":"K White"},"score":0,"creation_date":1679580739,"post_id":75823467,"comment_id":133749685,"body_markdown":"Ah thank you! I overlooked that, updated with the bracket. Sadly it didn&#39;t, however fix the issue!","body":"Ah thank you! I overlooked that, updated with the bracket. Sadly it didn&#39;t, however fix the issue!"},{"owner":{"account_id":21257490,"reputation":76,"user_id":15638753,"display_name":"ChrisMersi"},"score":0,"creation_date":1679642596,"post_id":75823467,"comment_id":133761015,"body_markdown":"Try adding the keyword &quot;export&quot; before your PATH","body":"Try adding the keyword &quot;export&quot; before your PATH"}],"tags":[],"owner":{"account_id":21257490,"reputation":76,"user_id":15638753,"display_name":"ChrisMersi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680119146,"creation_date":1679577171,"answer_id":75823467,"question_id":75817154,"body_markdown":"Check this line carefully: ```PATH=&quot;/Users/name/Library/Android/sdk/tools/bin:$PATH}&quot;```\r\n\r\nYou are missing a left bracket, `&quot;{&quot;` after the dollar sign.","title":"&quot;Original error: Neither ANDROID_HOME nor ANDROID_SDK_ROOT environment variable was exported.&quot; Even when already set in ~/.zshrc","body":"<p>Check this line carefully: <code>PATH=&quot;/Users/name/Library/Android/sdk/tools/bin:$PATH}&quot;</code></p>\n<p>You are missing a left bracket, <code>&quot;{&quot;</code> after the dollar sign.</p>\n"}],"owner":{"account_id":13229300,"reputation":17,"user_id":9553478,"display_name":"K White"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691860175,"creation_date":1679518125,"question_id":75817154,"body_markdown":"I&#39;ve recently swapped from a macbook air to a mac pro(m1 chip, Ventura 13.2.1) for work. I never had any issues on the previous macbook with the same setup. After swapping over and doing my environment setups I&#39;m facing this issue:\r\n\r\nOriginal error: Neither ANDROID_HOME nor ANDROID_SDK_ROOT environment variable was exported.\r\n\r\nI&#39;ve set my ~/.zshrc up as\r\n```\r\n#JAVA_HOME\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_361.jdk/Contents/Home\r\n\r\n#ANDROID_HOME\r\nexport ANDROID_HOME=/Users/name/Library/Android/sdk\r\nPATH=&quot;/Users/name/Library/Android/sdk/tools:${PATH}&quot;\r\nPATH=&quot;/Users/name/Library/Android/sdk/tools/bin:$PATH}&quot;\r\nPATH=&quot;/Users/name/Library/Android/sdk/platform-tools:${PATH}&quot;\r\n```\r\nBoth return:\r\n[![Java_HOME and ANROID_HOME return][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y3wom.png\r\n\r\nI also have them set the same way in appium GUI configs.\r\n\r\nI have no issues executing the web project, only our mobile. If I set ANDROID_HOME=/Users/name/Library/Android/sdk in the IDE, it works without issue. Why would this work when set in IDE but not work when set in my ~/.zshrc? Is something failing to source? There is no difference in the values. Alongside the loads of suggestions I tried from other threads here with no luck, I also tried swapping from zsh to bash and had the same issue when setting up in .bash_profile. Any advice would be much appreciated ","title":"&quot;Original error: Neither ANDROID_HOME nor ANDROID_SDK_ROOT environment variable was exported.&quot; Even when already set in ~/.zshrc","body":"<p>I've recently swapped from a macbook air to a mac pro(m1 chip, Ventura 13.2.1) for work. I never had any issues on the previous macbook with the same setup. After swapping over and doing my environment setups I'm facing this issue:</p>\n<p>Original error: Neither ANDROID_HOME nor ANDROID_SDK_ROOT environment variable was exported.</p>\n<p>I've set my ~/.zshrc up as</p>\n<pre><code>#JAVA_HOME\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_361.jdk/Contents/Home\n\n#ANDROID_HOME\nexport ANDROID_HOME=/Users/name/Library/Android/sdk\nPATH=&quot;/Users/name/Library/Android/sdk/tools:${PATH}&quot;\nPATH=&quot;/Users/name/Library/Android/sdk/tools/bin:$PATH}&quot;\nPATH=&quot;/Users/name/Library/Android/sdk/platform-tools:${PATH}&quot;\n</code></pre>\n<p>Both return:\n<a href=\"https://i.stack.imgur.com/y3wom.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y3wom.png\" alt=\"Java_HOME and ANROID_HOME return\" /></a></p>\n<p>I also have them set the same way in appium GUI configs.</p>\n<p>I have no issues executing the web project, only our mobile. If I set ANDROID_HOME=/Users/name/Library/Android/sdk in the IDE, it works without issue. Why would this work when set in IDE but not work when set in my ~/.zshrc? Is something failing to source? There is no difference in the values. Alongside the loads of suggestions I tried from other threads here with no luck, I also tried swapping from zsh to bash and had the same issue when setting up in .bash_profile. Any advice would be much appreciated</p>\n"},{"tags":["java","sql","hibernate","jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1690213956,"post_id":76755668,"comment_id":135318807,"body_markdown":"2 question: *what exactly are you trying to do?* and *are you in control of the schema?* It seems that what you actually want is a `Person` base entity with 2 child entities, `Student` and `Faculty`. Do you really need to reflect this inheritance in the DB? If so and if you are in control of the schema, you can change the `is_faculty` to `person_type` and make it a discriminator column (see e.g. [this](https://stackoverflow.com/questions/4275517)). Also, I feel that `isFaculty` should not be part of the PK.","body":"2 question: <i>what exactly are you trying to do?</i> and <i>are you in control of the schema?</i> It seems that what you actually want is a <code>Person</code> base entity with 2 child entities, <code>Student</code> and <code>Faculty</code>. Do you really need to reflect this inheritance in the DB? If so and if you are in control of the schema, you can change the <code>is_faculty</code> to <code>person_type</code> and make it a discriminator column (see e.g. <a href=\"https://stackoverflow.com/questions/4275517\">this</a>). Also, I feel that <code>isFaculty</code> should not be part of the PK."},{"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"score":0,"creation_date":1690219030,"post_id":76755668,"comment_id":135319813,"body_markdown":"@NikosParaskevopoulos Crap, that&#39;s right, `Student` and `Facility` are both child entities, I just forgot to add `extends Person` to `Faculty`. On that note, I am in control of the schema, but these tables are just simplified examples to reproduce my problem, and not my actual schema; in this case, `is_faculty` has to be part of the primary key.\n\nI think you may be onto something there with the discriminator + secondary table, I&#39;m gonna have to check that out. Thanks.","body":"@NikosParaskevopoulos Crap, that&#39;s right, <code>Student</code> and <code>Facility</code> are both child entities, I just forgot to add <code>extends Person</code> to <code>Faculty</code>. On that note, I am in control of the schema, but these tables are just simplified examples to reproduce my problem, and not my actual schema; in this case, <code>is_faculty</code> has to be part of the primary key.  I think you may be onto something there with the discriminator + secondary table, I&#39;m gonna have to check that out. Thanks."},{"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"score":0,"creation_date":1690909179,"post_id":76755668,"comment_id":135417537,"body_markdown":"@NikosParaskevopoulos using `@SecondaryTable` and a discriminator column didn&#39;t work in this situation, since the discriminator column (`is_faculty`) is part of the composite key (`org.hibernate.AnnotationException: The &#39;@JoinColumn&#39; for a secondary table must reference the primary key`)","body":"@NikosParaskevopoulos using <code>@SecondaryTable</code> and a discriminator column didn&#39;t work in this situation, since the discriminator column (<code>is_faculty</code>) is part of the composite key (<code>org.hibernate.AnnotationException: The &#39;@JoinColumn&#39; for a secondary table must reference the primary key</code>)"},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1691400107,"post_id":76755668,"comment_id":135481205,"body_markdown":"@TwistedTea Are you able to change the primary key structure? I.e. just a single attribute like an Id? You still could use `is_faculty` as discriminator. E.g.  `@Inheritance(strategy=InheritanceType.SINGLE_TABLE)` and `@DiscriminatorColumn(name=&quot;is_faculty&quot;, discriminatorType=DiscriminatorType.BOOLEAN)` on the `Person` entity.\nIf that suits you, I might be able to write an answer :)","body":"@TwistedTea Are you able to change the primary key structure? I.e. just a single attribute like an Id? You still could use <code>is_faculty</code> as discriminator. E.g.  <code>@Inheritance(strategy=InheritanceType.SINGLE_TABLE)</code> and <code>@DiscriminatorColumn(name=&quot;is_faculty&quot;, discriminatorType=DiscriminatorType.BOOLEAN)</code> on the <code>Person</code> entity. If that suits you, I might be able to write an answer :)"},{"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"score":0,"creation_date":1691410290,"post_id":76755668,"comment_id":135483251,"body_markdown":"@J.M.Arnold sorry, a single primary key just doesn’t make sense in my exact situation. the discriminator needs to be part of the composite primary key in the parent table.","body":"@J.M.Arnold sorry, a single primary key just doesn’t make sense in my exact situation. the discriminator needs to be part of the composite primary key in the parent table."}],"answers":[{"comments":[{"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"score":1,"creation_date":1691983207,"post_id":76889291,"comment_id":135559490,"body_markdown":"I appreciate the acknowledgement that this is probably the best approach given Hibernates current state, but this belongs as a comment, not an answer.","body":"I appreciate the acknowledgement that this is probably the best approach given Hibernates current state, but this belongs as a comment, not an answer."}],"tags":[],"owner":{"account_id":13177148,"reputation":8757,"user_id":9517769,"display_name":"Amira Bedhiafi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691860036,"creation_date":1691843745,"answer_id":76889291,"question_id":76755668,"body_markdown":"If the discriminator must be part of the composite primary key, then your initial workaround is a reasonable approach given the constraints of Hibernate and SQL. You can add the `is_faculty` column to both the `student` and `faculty` tables, and ensure that they are set to `true` or `false` accordingly. \r\n\r\nYou may still encapsulate this logic within your application, ensuring that the column is managed transparently and the correct value is always used:\r\n```java\r\n@Entity\r\n@Table(name = &quot;student&quot;)\r\n@PrimaryKeyJoinColumns({\r\n\t@PrimaryKeyJoinColumn(name = &quot;name&quot;, referencedColumnName = &quot;name&quot;),\r\n\t@PrimaryKeyJoinColumn(name = &quot;address&quot;, referencedColumnName = &quot;address&quot;),\r\n\t@PrimaryKeyJoinColumn(name = &quot;is_faculty&quot;, referencedColumnName = &quot;is_faculty&quot;),\r\n})\r\npublic class Student extends Person {\r\n\r\n    @Column(name = &quot;current_grade&quot;)\r\n    private int currentGrade;\r\n\r\n    @Column(name = &quot;is_faculty&quot;, nullable = false, insertable = false, updatable = false)\r\n    private boolean isFaculty = false;\r\n\r\n    // Constructors, getters, setters, etc.\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;faculty&quot;)\r\n@PrimaryKeyJoinColumns({\r\n\t@PrimaryKeyJoinColumn(name = &quot;name&quot;, referencedColumnName = &quot;name&quot;),\r\n\t@PrimaryKeyJoinColumn(name = &quot;address&quot;, referencedColumnName = &quot;address&quot;),\r\n\t@PrimaryKeyJoinColumn(name = &quot;is_faculty&quot;, referencedColumnName = &quot;is_faculty&quot;),\r\n})\r\npublic class Faculty extends Person {\r\n\r\n    @Column(name = &quot;department&quot;, length = 2)\r\n    private String department;\r\n\r\n    @Column(name = &quot;is_faculty&quot;, nullable = false, insertable = false, updatable = false)\r\n    private boolean isFaculty = true;\r\n\r\n    // Constructors, getters, setters, etc.\r\n}\r\n```\r\n\r\nThe `insertable = false, updatable = false` attributes make it clear that the application will not directly modify these values, and you can set the values in your constructors or setters, as needed.\r\n\r\n","title":"Table Per Type - Making a Custom Join Formula in Hibernate / JPA?","body":"<p>If the discriminator must be part of the composite primary key, then your initial workaround is a reasonable approach given the constraints of Hibernate and SQL. You can add the <code>is_faculty</code> column to both the <code>student</code> and <code>faculty</code> tables, and ensure that they are set to <code>true</code> or <code>false</code> accordingly.</p>\n<p>You may still encapsulate this logic within your application, ensuring that the column is managed transparently and the correct value is always used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;student&quot;)\n@PrimaryKeyJoinColumns({\n    @PrimaryKeyJoinColumn(name = &quot;name&quot;, referencedColumnName = &quot;name&quot;),\n    @PrimaryKeyJoinColumn(name = &quot;address&quot;, referencedColumnName = &quot;address&quot;),\n    @PrimaryKeyJoinColumn(name = &quot;is_faculty&quot;, referencedColumnName = &quot;is_faculty&quot;),\n})\npublic class Student extends Person {\n\n    @Column(name = &quot;current_grade&quot;)\n    private int currentGrade;\n\n    @Column(name = &quot;is_faculty&quot;, nullable = false, insertable = false, updatable = false)\n    private boolean isFaculty = false;\n\n    // Constructors, getters, setters, etc.\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;faculty&quot;)\n@PrimaryKeyJoinColumns({\n    @PrimaryKeyJoinColumn(name = &quot;name&quot;, referencedColumnName = &quot;name&quot;),\n    @PrimaryKeyJoinColumn(name = &quot;address&quot;, referencedColumnName = &quot;address&quot;),\n    @PrimaryKeyJoinColumn(name = &quot;is_faculty&quot;, referencedColumnName = &quot;is_faculty&quot;),\n})\npublic class Faculty extends Person {\n\n    @Column(name = &quot;department&quot;, length = 2)\n    private String department;\n\n    @Column(name = &quot;is_faculty&quot;, nullable = false, insertable = false, updatable = false)\n    private boolean isFaculty = true;\n\n    // Constructors, getters, setters, etc.\n}\n</code></pre>\n<p>The <code>insertable = false, updatable = false</code> attributes make it clear that the application will not directly modify these values, and you can set the values in your constructors or setters, as needed.</p>\n"}],"owner":{"account_id":26385561,"reputation":109,"user_id":20038123,"display_name":"Twisted Tea"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1691860036,"creation_date":1690210533,"question_id":76755668,"body_markdown":"Consider the following SQL tables using a Table Per Type inheritance pattern:\r\n\r\n```sql\r\nCREATE TABLE person (\r\n  name VARCHAR(50),\r\n  address VARCHAR(50),\r\n  is_faculty BOOLEAN,\r\n  age SMALLINT NOT NULL,\r\n\r\n  PRIMARY KEY(name, address, is_faculty)\r\n);\r\n\r\nCREATE TABLE student (\r\n  name VARCHAR(50),\r\n  address VARCHAR(50),\r\n  current_grade SMALLINT,\r\n\r\n  PRIMARY KEY(name, address)\r\n);\r\n\r\nCREATE TABLE faculty (\r\n  name VARCHAR(50),\r\n  address VARCHAR(50),\r\n  department VARCHAR(2)\r\n\r\n  PRIMARY KEY(name, address)\r\n);\r\n```\r\n\r\nObviously the idea here is that if, for example, I wanted to get a faculty member, I&#39;d use the following join formula:\r\n\r\n```sql\r\nSELECT *\r\n  FROM person\r\n  INNER JOIN faculty\r\n    ON person.name = faculty.name\r\n    AND person.address = faculty.address\r\n    AND person.is_faculty = true;\r\n```\r\n\r\nNow consider the following Hibernate entities representing said tables:\r\n\r\n```java\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;person&quot;)\r\n@IdClass(PersonId.class)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class Person {\r\n    @Id\r\n    @Column(name = &quot;name&quot;, length = 50)\r\n    private String name;\r\n\r\n    @Id\r\n    @Column(name = &quot;address&quot;, length = 50)\r\n    private String address;\r\n\r\n    @Id\r\n    @Column(name = &quot;is_faculty&quot;)\r\n    private boolean isFaculty;\r\n\r\n    @Column(name = &quot;age&quot;, nullable = false)\r\n    private int age;\r\n\r\n    // Constructors, getters, setters, etc.\r\n}\r\n```\r\n```java\r\nimport java.io.Serializable;\r\nimport java.util.Objects;\r\n\r\npublic class PersonId implements Serializable {\r\n    private String name;\r\n    private String address;\r\n    private boolean isFaculty;\r\n\r\n    // Constructors, getters, setters, hashCode, equals, etc.\r\n}\r\n```\r\n```java\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;student&quot;)\r\n@PrimaryKeyJoinColumns({\r\n\t@PrimaryKeyJoinColumn(name = &quot;name&quot;, referencedColumnName = &quot;name&quot;),\r\n\t@PrimaryKeyJoinColumn(name = &quot;address&quot;, referencedColumnName = &quot;address&quot;),\r\n\t@PrimaryKeyJoinColumn(name = &quot;is_faculty&quot;, referencedColumnName = &quot;is_faculty&quot;),\r\n})\r\npublic class Student extends Person {\r\n    @Column(name = &quot;current_grade&quot;)\r\n    private int currentGrade;\r\n\r\n    // Constructors, getters, setters, etc.\r\n}\r\n```\r\n```java\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;faculty&quot;)\r\n@PrimaryKeyJoinColumns({\r\n\t@PrimaryKeyJoinColumn(name = &quot;name&quot;, referencedColumnName = &quot;name&quot;),\r\n\t@PrimaryKeyJoinColumn(name = &quot;address&quot;, referencedColumnName = &quot;address&quot;),\r\n\t@PrimaryKeyJoinColumn(name = &quot;is_faculty&quot;, referencedColumnName = &quot;is_faculty&quot;),\r\n})\r\npublic class Faculty extends Person {\r\n    @Column(name = &quot;department&quot;, length = 2)\r\n    private String department;\r\n\r\n    // Constructors, getters, setters, etc.\r\n}\r\n```\r\n\r\nThere&#39;s a clear problem here however; the `faculty` and `student` tables have no `is_faculty` column. But we still need to join on either `true` or `false` for `is_faculty`, as shown in the SELECT statement above.\r\n\r\nNormally, this would be solved by using `@JoinColumnsOrFormulas` / `@JoinColumnOrFormula` with `@JoinFormula` and `@JoinColumn` if this weren&#39;t an inheritance based join. However, to my knowledge no such alternative exists, such as `@PrimaryKeyJoinColumnsOrFormulas`.\r\n\r\nMy workaround so far has been to just add an `is_faculty` column to the `faculty` and `student` tables, so that both tables share the exact same composite PK columns (letting Hibernate join them using `PersonId`).","title":"Table Per Type - Making a Custom Join Formula in Hibernate / JPA?","body":"<p>Consider the following SQL tables using a Table Per Type inheritance pattern:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE person (\n  name VARCHAR(50),\n  address VARCHAR(50),\n  is_faculty BOOLEAN,\n  age SMALLINT NOT NULL,\n\n  PRIMARY KEY(name, address, is_faculty)\n);\n\nCREATE TABLE student (\n  name VARCHAR(50),\n  address VARCHAR(50),\n  current_grade SMALLINT,\n\n  PRIMARY KEY(name, address)\n);\n\nCREATE TABLE faculty (\n  name VARCHAR(50),\n  address VARCHAR(50),\n  department VARCHAR(2)\n\n  PRIMARY KEY(name, address)\n);\n</code></pre>\n<p>Obviously the idea here is that if, for example, I wanted to get a faculty member, I'd use the following join formula:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\n  FROM person\n  INNER JOIN faculty\n    ON person.name = faculty.name\n    AND person.address = faculty.address\n    AND person.is_faculty = true;\n</code></pre>\n<p>Now consider the following Hibernate entities representing said tables:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.*;\n\n@Entity\n@Table(name = &quot;person&quot;)\n@IdClass(PersonId.class)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class Person {\n    @Id\n    @Column(name = &quot;name&quot;, length = 50)\n    private String name;\n\n    @Id\n    @Column(name = &quot;address&quot;, length = 50)\n    private String address;\n\n    @Id\n    @Column(name = &quot;is_faculty&quot;)\n    private boolean isFaculty;\n\n    @Column(name = &quot;age&quot;, nullable = false)\n    private int age;\n\n    // Constructors, getters, setters, etc.\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.Serializable;\nimport java.util.Objects;\n\npublic class PersonId implements Serializable {\n    private String name;\n    private String address;\n    private boolean isFaculty;\n\n    // Constructors, getters, setters, hashCode, equals, etc.\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.*;\n\n@Entity\n@Table(name = &quot;student&quot;)\n@PrimaryKeyJoinColumns({\n    @PrimaryKeyJoinColumn(name = &quot;name&quot;, referencedColumnName = &quot;name&quot;),\n    @PrimaryKeyJoinColumn(name = &quot;address&quot;, referencedColumnName = &quot;address&quot;),\n    @PrimaryKeyJoinColumn(name = &quot;is_faculty&quot;, referencedColumnName = &quot;is_faculty&quot;),\n})\npublic class Student extends Person {\n    @Column(name = &quot;current_grade&quot;)\n    private int currentGrade;\n\n    // Constructors, getters, setters, etc.\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.*;\n\n@Entity\n@Table(name = &quot;faculty&quot;)\n@PrimaryKeyJoinColumns({\n    @PrimaryKeyJoinColumn(name = &quot;name&quot;, referencedColumnName = &quot;name&quot;),\n    @PrimaryKeyJoinColumn(name = &quot;address&quot;, referencedColumnName = &quot;address&quot;),\n    @PrimaryKeyJoinColumn(name = &quot;is_faculty&quot;, referencedColumnName = &quot;is_faculty&quot;),\n})\npublic class Faculty extends Person {\n    @Column(name = &quot;department&quot;, length = 2)\n    private String department;\n\n    // Constructors, getters, setters, etc.\n}\n</code></pre>\n<p>There's a clear problem here however; the <code>faculty</code> and <code>student</code> tables have no <code>is_faculty</code> column. But we still need to join on either <code>true</code> or <code>false</code> for <code>is_faculty</code>, as shown in the SELECT statement above.</p>\n<p>Normally, this would be solved by using <code>@JoinColumnsOrFormulas</code> / <code>@JoinColumnOrFormula</code> with <code>@JoinFormula</code> and <code>@JoinColumn</code> if this weren't an inheritance based join. However, to my knowledge no such alternative exists, such as <code>@PrimaryKeyJoinColumnsOrFormulas</code>.</p>\n<p>My workaround so far has been to just add an <code>is_faculty</code> column to the <code>faculty</code> and <code>student</code> tables, so that both tables share the exact same composite PK columns (letting Hibernate join them using <code>PersonId</code>).</p>\n"},{"tags":["java","javafx","scroll","mouse"],"comments":[{"owner":{"account_id":7882188,"reputation":1056,"user_id":5955739,"display_name":"lambad"},"score":0,"creation_date":1498642541,"post_id":44797039,"comment_id":76577633,"body_markdown":"I tried the code you provided and it ran successfully without crashing. When the mouse is at the border line then you can see scrolling. Can you point me to the code where you tried to loop the process .. Also provide the exception stack trace you got. .","body":"I tried the code you provided and it ran successfully without crashing. When the mouse is at the border line then you can see scrolling. Can you point me to the code where you tried to loop the process .. Also provide the exception stack trace you got. ."},{"owner":{"account_id":11210511,"reputation":1,"user_id":8224701,"display_name":"Amaury Tricquet"},"score":0,"creation_date":1498654895,"post_id":44797039,"comment_id":76586341,"body_markdown":"Thanks for your interest\nI edited the thing with more detail","body":"Thanks for your interest I edited the thing with more detail"}],"answers":[{"tags":[],"owner":{"account_id":11165575,"reputation":9,"user_id":8194365,"display_name":"SpoonDog"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498659292,"creation_date":1498659292,"answer_id":44805047,"question_id":44797039,"body_markdown":"I too tried your code and it seemed to run fine. You could try putting it into a new file and rerunning it to &quot;reset the file paths&quot;. Interesting that you got no stack trace. That tells me it could be a memory leak problem with your loop. If you are using NetBeans, you could try installing NetBeans: StatusLine Memory Usage to see if your while loop is running infinitely. Alternatively you could output some text every loop to see how many times it is running through. \r\n\r\nIf it does end up being a memory problem with your loop, try to create a set of circumstances where it only enters the loop when an action is performed, and then exits after an action is performed. Hope this helps. ","title":"Java fx 2D scrolling game","body":"<p>I too tried your code and it seemed to run fine. You could try putting it into a new file and rerunning it to \"reset the file paths\". Interesting that you got no stack trace. That tells me it could be a memory leak problem with your loop. If you are using NetBeans, you could try installing NetBeans: StatusLine Memory Usage to see if your while loop is running infinitely. Alternatively you could output some text every loop to see how many times it is running through. </p>\n\n<p>If it does end up being a memory problem with your loop, try to create a set of circumstances where it only enters the loop when an action is performed, and then exits after an action is performed. Hope this helps. </p>\n"}],"owner":{"account_id":11210511,"reputation":1,"user_id":8224701,"display_name":"Amaury Tricquet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691859727,"creation_date":1498637566,"question_id":44797039,"body_markdown":"I want to create a 2D game using java fx but I have an issue trying to make scrolling work when the mouse approaches the edge of the screen because it works for when the mouse enters the border I defined but when I try to loop that process to make it work until the mouse comes out of the border it just crashes the app. \r\nThe scrolling system I want to end up with is more or less like in strategy games like warcraft or Empire earth etc...\r\nhere is the code I work with:\r\n\r\n    import javafx.application.Application;\r\n    import static javafx.application.Application.launch;\r\n    import javax.swing.JScrollPane;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.ScrollPane;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.input.KeyCode;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.input.ScrollEvent;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.layout.StackPane;\r\n    import javafx.stage.Stage;\r\n\r\n    /** Constructs a scene with a pannable Map background. */\r\n    public class PannableView extends Application {\r\n     private Image backgroundImage;\r\n  \r\n    @Override public void init() {\r\n    backgroundImage = new Image(&quot;http://www.narniaweb.com/wp-content/uploads/2009/08/NarniaMap.jpg&quot;);\r\n     }\r\n  \r\n    @Override public void start(Stage stage) {\r\n    stage.setTitle(&quot;Drag the mouse to pan the map&quot;);\r\n    \r\n    // construct the scene contents over a stacked background.\r\n    StackPane layout = new StackPane();\r\n    layout.getChildren().setAll(\r\n      new ImageView(backgroundImage),\r\n      createKillButton()\r\n    );\r\n\r\n    // wrap the scene contents in a pannable scroll pane.\r\n    ScrollPane scroll = createScrollPane(layout);\r\n    \r\n    // show the scene.\r\n    Scene scene = new Scene(scroll);\r\n    stage.setScene(scene);\r\n    stage.show();\r\n    scroll.setOnMouseMoved(e-&gt;{\r\n    \t/*\r\n\t\t * screen movement\r\n\t\t * if cursor close to border:\r\n\t\t * \tdetect which border and move in consequences\r\n\t\t */\r\n    \r\n    int marge = 10;\r\n\t\t\r\n\t\t//TODO make camera move\r\n\t\t//left top corner\r\n\t\tif(marge &gt; e.getX() &amp;&amp; marge &gt; e.getY()){\r\n\t\t\tscroll.setVvalue(scroll.getVvalue() -0.001);\r\n\t\t\tscroll.setHvalue(scroll.getHvalue() -0.001);\r\n\t\t}//left bottom corner\r\n\t\telse if(marge &gt; e.getX() &amp;&amp; scroll.getHeight()-marge &lt; e.getY()){\r\n\t\t\tscroll.setVvalue(scroll.getVvalue() +0.001);\r\n\t\t\tscroll.setHvalue(scroll.getHvalue() -0.001);\r\n\t\t}//right top corner\r\n\t\telse if(scroll.getWidth()-marge &lt; e.getX() &amp;&amp; marge &gt; e.getY()){\r\n\t\t\tscroll.setVvalue(scroll.getVvalue() -0.001);\r\n\t\t\tscroll.setHvalue(scroll.getHvalue() +0.001);\r\n\t\t}//right bottom corner\r\n\t\telse if(scroll.getWidth()-marge &lt; e.getX() &amp;&amp; scroll.getHeight()-marge &lt; e.getY() ){\r\n\t\t\tscroll.setVvalue(scroll.getVvalue() +0.001);\r\n\t\t\tscroll.setHvalue(scroll.getHvalue() +0.001);\r\n\t\t}//top\r\n\t\telse if(marge &gt; e.getY()){\r\n\t\t\tscroll.setVvalue(scroll.getVvalue() -0.001);\r\n\t\t}//right\r\n\t\telse if(scroll.getWidth()-marge &lt; e.getX()){\r\n\t\t\tscroll.setHvalue(scroll.getHvalue() +0.001);\r\n\t\t}//bottom\r\n\t\telse if(scroll.getHeight()-marge &lt; e.getY()){\r\n\t\t\tscroll.setVvalue(scroll.getVvalue() +0.001);\r\n\t\t}//left\r\n\t\telse if(marge &gt; e.getX()){\r\n\t\t\tscroll.setHvalue(scroll.getHvalue() -0.001);\r\n\t\t}\r\n    \t\r\n    \t\r\n    });\r\n    // bind the preferred size of the scroll area to the size of the scene.\r\n    scroll.prefWidthProperty().bind(scene.widthProperty());\r\n    scroll.prefHeightProperty().bind(scene.widthProperty());\r\n    \r\n    // center the scroll contents.\r\n    scroll.setHvalue(scroll.getHmin() + (scroll.getHmax() - scroll.getHmin()) / 2);\r\n    scroll.setVvalue(scroll.getVmin() + (scroll.getVmax() - scroll.getVmin()) / 2);\r\n    }\r\n  \r\n    /** @return a control to place on the scene. */\r\n    private Button createKillButton() {\r\n    final Button killButton = new Button(&quot;Kill the evil witch&quot;);\r\n    killButton.setStyle(&quot;-fx-base: firebrick;&quot;);\r\n    killButton.setTranslateX(65);\r\n    killButton.setTranslateY(-130);\r\n    killButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n      @Override public void handle(ActionEvent t) {\r\n        killButton.setStyle(&quot;-fx-base: forestgreen;&quot;);\r\n        killButton.setText(&quot;Ding-Dong! The Witch is Dead&quot;);\r\n      }\r\n    });\r\n    return killButton;\r\n    }\r\n\r\n    /** @return a ScrollPane which scrolls the layout. */\r\n    private ScrollPane createScrollPane(Pane layout) {\r\n    ScrollPane scroll = new ScrollPane();\r\n    scroll.setHbarPolicy(ScrollPane.ScrollBarPolicy.NEVER);\r\n    scroll.setVbarPolicy(ScrollPane.ScrollBarPolicy.NEVER);\r\n    scroll.setPannable(true);\r\n    scroll.setPrefSize(800, 600);\r\n    scroll.setContent(layout);\r\n    return scroll;\r\n    }\r\n  \r\n  \r\n    public static void main(String[] args) { launch(args); }  \r\n    }\r\n\r\nI hope someone can help me with it thanks!\r\n\r\nhere is the part I try to loop:\r\n  \r\n\r\n    if(marge &gt; e.getX() &amp;&amp; marge &gt; e.getY()){\r\n        scroll.setVvalue(scroll.getVvalue() -0.001);\r\n        scroll.setHvalue(scroll.getHvalue() -0.001);\r\n    }//left bottom corner\r\n    else if(marge &gt; e.getX() &amp;&amp; scroll.getHeight()-marge &lt; e.getY()){\r\n        scroll.setVvalue(scroll.getVvalue() +0.001);\r\n        scroll.setHvalue(scroll.getHvalue() -0.001);\r\n    }//right top corner\r\n    else if(scroll.getWidth()-marge &lt; e.getX() &amp;&amp; marge &gt; e.getY()){\r\n        scroll.setVvalue(scroll.getVvalue() -0.001);\r\n        scroll.setHvalue(scroll.getHvalue() +0.001);\r\n    }//right bottom corner\r\n    else if(scroll.getWidth()-marge &lt; e.getX() &amp;&amp; scroll.getHeight()-marge &lt; e.getY() ){\r\n        scroll.setVvalue(scroll.getVvalue() +0.001);\r\n        scroll.setHvalue(scroll.getHvalue() +0.001);\r\n    }//top\r\n    else if(marge &gt; e.getY()){\r\n        scroll.setVvalue(scroll.getVvalue() -0.001);\r\n    }//right\r\n    else if(scroll.getWidth()-marge &lt; e.getX()){\r\n        scroll.setHvalue(scroll.getHvalue() +0.001);\r\n    }//bottom\r\n    else if(scroll.getHeight()-marge &lt; e.getY()){\r\n        scroll.setVvalue(scroll.getVvalue() +0.001);\r\n    }//left\r\n    else if(marge &gt; e.getX()){\r\n        scroll.setHvalue(scroll.getHvalue() -0.001);\r\n    }\r\n\r\nI tried a while loop but I simply get the app crashing without any java exception on console it simply stopped working.","title":"Java fx 2D scrolling game","body":"<p>I want to create a 2D game using java fx but I have an issue trying to make scrolling work when the mouse approaches the edge of the screen because it works for when the mouse enters the border I defined but when I try to loop that process to make it work until the mouse comes out of the border it just crashes the app.\nThe scrolling system I want to end up with is more or less like in strategy games like warcraft or Empire earth etc...\nhere is the code I work with:</p>\n<pre><code>import javafx.application.Application;\nimport static javafx.application.Application.launch;\nimport javax.swing.JScrollPane;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ScrollPane;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.input.ScrollEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\n/** Constructs a scene with a pannable Map background. */\npublic class PannableView extends Application {\n private Image backgroundImage;\n\n@Override public void init() {\nbackgroundImage = new Image(&quot;http://www.narniaweb.com/wp-content/uploads/2009/08/NarniaMap.jpg&quot;);\n }\n\n@Override public void start(Stage stage) {\nstage.setTitle(&quot;Drag the mouse to pan the map&quot;);\n\n// construct the scene contents over a stacked background.\nStackPane layout = new StackPane();\nlayout.getChildren().setAll(\n  new ImageView(backgroundImage),\n  createKillButton()\n);\n\n// wrap the scene contents in a pannable scroll pane.\nScrollPane scroll = createScrollPane(layout);\n\n// show the scene.\nScene scene = new Scene(scroll);\nstage.setScene(scene);\nstage.show();\nscroll.setOnMouseMoved(e-&gt;{\n    /*\n     * screen movement\n     * if cursor close to border:\n     *  detect which border and move in consequences\n     */\n\nint marge = 10;\n    \n    //TODO make camera move\n    //left top corner\n    if(marge &gt; e.getX() &amp;&amp; marge &gt; e.getY()){\n        scroll.setVvalue(scroll.getVvalue() -0.001);\n        scroll.setHvalue(scroll.getHvalue() -0.001);\n    }//left bottom corner\n    else if(marge &gt; e.getX() &amp;&amp; scroll.getHeight()-marge &lt; e.getY()){\n        scroll.setVvalue(scroll.getVvalue() +0.001);\n        scroll.setHvalue(scroll.getHvalue() -0.001);\n    }//right top corner\n    else if(scroll.getWidth()-marge &lt; e.getX() &amp;&amp; marge &gt; e.getY()){\n        scroll.setVvalue(scroll.getVvalue() -0.001);\n        scroll.setHvalue(scroll.getHvalue() +0.001);\n    }//right bottom corner\n    else if(scroll.getWidth()-marge &lt; e.getX() &amp;&amp; scroll.getHeight()-marge &lt; e.getY() ){\n        scroll.setVvalue(scroll.getVvalue() +0.001);\n        scroll.setHvalue(scroll.getHvalue() +0.001);\n    }//top\n    else if(marge &gt; e.getY()){\n        scroll.setVvalue(scroll.getVvalue() -0.001);\n    }//right\n    else if(scroll.getWidth()-marge &lt; e.getX()){\n        scroll.setHvalue(scroll.getHvalue() +0.001);\n    }//bottom\n    else if(scroll.getHeight()-marge &lt; e.getY()){\n        scroll.setVvalue(scroll.getVvalue() +0.001);\n    }//left\n    else if(marge &gt; e.getX()){\n        scroll.setHvalue(scroll.getHvalue() -0.001);\n    }\n    \n    \n});\n// bind the preferred size of the scroll area to the size of the scene.\nscroll.prefWidthProperty().bind(scene.widthProperty());\nscroll.prefHeightProperty().bind(scene.widthProperty());\n\n// center the scroll contents.\nscroll.setHvalue(scroll.getHmin() + (scroll.getHmax() - scroll.getHmin()) / 2);\nscroll.setVvalue(scroll.getVmin() + (scroll.getVmax() - scroll.getVmin()) / 2);\n}\n\n/** @return a control to place on the scene. */\nprivate Button createKillButton() {\nfinal Button killButton = new Button(&quot;Kill the evil witch&quot;);\nkillButton.setStyle(&quot;-fx-base: firebrick;&quot;);\nkillButton.setTranslateX(65);\nkillButton.setTranslateY(-130);\nkillButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n  @Override public void handle(ActionEvent t) {\n    killButton.setStyle(&quot;-fx-base: forestgreen;&quot;);\n    killButton.setText(&quot;Ding-Dong! The Witch is Dead&quot;);\n  }\n});\nreturn killButton;\n}\n\n/** @return a ScrollPane which scrolls the layout. */\nprivate ScrollPane createScrollPane(Pane layout) {\nScrollPane scroll = new ScrollPane();\nscroll.setHbarPolicy(ScrollPane.ScrollBarPolicy.NEVER);\nscroll.setVbarPolicy(ScrollPane.ScrollBarPolicy.NEVER);\nscroll.setPannable(true);\nscroll.setPrefSize(800, 600);\nscroll.setContent(layout);\nreturn scroll;\n}\n\n\npublic static void main(String[] args) { launch(args); }  \n}\n</code></pre>\n<p>I hope someone can help me with it thanks!</p>\n<p>here is the part I try to loop:</p>\n<pre><code>if(marge &gt; e.getX() &amp;&amp; marge &gt; e.getY()){\n    scroll.setVvalue(scroll.getVvalue() -0.001);\n    scroll.setHvalue(scroll.getHvalue() -0.001);\n}//left bottom corner\nelse if(marge &gt; e.getX() &amp;&amp; scroll.getHeight()-marge &lt; e.getY()){\n    scroll.setVvalue(scroll.getVvalue() +0.001);\n    scroll.setHvalue(scroll.getHvalue() -0.001);\n}//right top corner\nelse if(scroll.getWidth()-marge &lt; e.getX() &amp;&amp; marge &gt; e.getY()){\n    scroll.setVvalue(scroll.getVvalue() -0.001);\n    scroll.setHvalue(scroll.getHvalue() +0.001);\n}//right bottom corner\nelse if(scroll.getWidth()-marge &lt; e.getX() &amp;&amp; scroll.getHeight()-marge &lt; e.getY() ){\n    scroll.setVvalue(scroll.getVvalue() +0.001);\n    scroll.setHvalue(scroll.getHvalue() +0.001);\n}//top\nelse if(marge &gt; e.getY()){\n    scroll.setVvalue(scroll.getVvalue() -0.001);\n}//right\nelse if(scroll.getWidth()-marge &lt; e.getX()){\n    scroll.setHvalue(scroll.getHvalue() +0.001);\n}//bottom\nelse if(scroll.getHeight()-marge &lt; e.getY()){\n    scroll.setVvalue(scroll.getVvalue() +0.001);\n}//left\nelse if(marge &gt; e.getX()){\n    scroll.setHvalue(scroll.getHvalue() -0.001);\n}\n</code></pre>\n<p>I tried a while loop but I simply get the app crashing without any java exception on console it simply stopped working.</p>\n"},{"tags":["java","google-apps-script","google-sheets","cell","simple-form"],"answers":[{"tags":[],"owner":{"account_id":9729507,"reputation":61490,"user_id":7215091,"accept_rate":71,"display_name":"Cooper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691857600,"creation_date":1691856461,"answer_id":76890111,"question_id":76889815,"body_markdown":"    function deleteOldRows() {\r\n      const ss = SpreadsheetApp.getActive();\r\n      const sh = ss.getSheetByName(&quot;Sheet0&quot;);\r\n      const [hA, ...vs] = sh.getDataRange().getValues();\r\n      const dtv = new Date().valueOf();\r\n      let idx = {};\r\n      let d = 0;\r\n      hA.forEach((h, i) =&gt; idx[h] = i);\r\n      vs.forEach((r, i) =&gt; {\r\n        let dv = new Date(r[idx[&quot;COL1&quot;]]).valueOf();\r\n        if (dv &lt; dtv) { // if you only want a specific date change &lt; to  ==\r\n          sh.deleteRow(i + 2 - d++)\r\n        }\r\n      })\r\n    }\r\n\r\nStart Data:\r\n\r\n||A|B|C|D|E|\r\n|:---:|:---|:---|:---|:---|:---|\r\n|1|COL1|COL2|COL3|COL4|COL5|\r\n|2|8/1/2023|21|14|2|24|\r\n|3|8/2/2023|21|20|21|24|\r\n|4|8/3/2023|17|22|23|5|\r\n|5|8/4/2023|5|24|9|23|\r\n|6|8/5/2023|16|3|23|14|\r\n|7|8/6/2023|12|8|16|7|\r\n|8|8/7/2023|21|20|14|17|\r\n|9|8/8/2023|18|8|7|24|\r\n|10|8/9/2023|19|19|18|16|\r\n|11|8/10/2023|22|22|4|19|\r\n|12|8/11/2023|2|16|18|1|\r\n|13|8/12/2023|16|8|3|20|\r\n|14|8/13/2023|5|1|15|21|\r\n|15|8/14/2023|11|11|13|15|\r\n|16|8/15/2023|22|13|3|6|\r\n|17|8/16/2023|20|6|19|1|\r\n|18|8/17/2023|7|20|5|24|\r\n|19|8/18/2023|5|8|18|6|\r\n|20|8/19/2023|4|13|12|21|\r\n|21|8/20/2023|10|7|17|14|\r\n|22|8/21/2023|11|6|11|11|\r\n|23|8/22/2023|21|13|7|8|\r\n|24|8/23/2023|9|17|21|21|\r\n|25|8/24/2023|15|0|17|23|\r\n|26|8/25/2023|12|17|21|10|\r\n\r\nEnd Data:\r\n\r\n||A|B|C|D|E|\r\n|:---:|:---|:---|:---|:---|:---|\r\n|1|COL1|COL2|COL3|COL4|COL5|\r\n|2|8/13/2023|5|1|15|21|\r\n|3|8/14/2023|11|11|13|15|\r\n|4|8/15/2023|22|13|3|6|\r\n|5|8/16/2023|20|6|19|1|\r\n|6|8/17/2023|7|20|5|24|\r\n|7|8/18/2023|5|8|18|6|\r\n|8|8/19/2023|4|13|12|21|\r\n|9|8/20/2023|10|7|17|14|\r\n|10|8/21/2023|11|6|11|11|\r\n|11|8/22/2023|21|13|7|8|\r\n|12|8/23/2023|9|17|21|21|\r\n|13|8/24/2023|15|0|17|23|\r\n|14|8/25/2023|12|17|21|10|\r\n\r\nIf you wish to keep today, you can do this:\r\n\r\n    function deleteOldRows() {\r\n      const ss = SpreadsheetApp.getActive();\r\n      const sh = ss.getSheetByName(&quot;Sheet0&quot;);\r\n      const [hA, ...vs] = sh.getDataRange().getValues();\r\n      let dt = new Date();\r\n      const dtv = new Date(dt.getFullYear(),dt.getMonth(),dt.getDate()).valueOf();\r\n      let idx = {};\r\n      let d = 0;\r\n      hA.forEach((h, i) =&gt; idx[h] = i);\r\n      vs.forEach((r, i) =&gt; {\r\n        let dv = new Date(r[idx[&quot;COL1&quot;]]).valueOf();\r\n        if (dv &lt; dtv) {\r\n          sh.deleteRow(i + 2 - d++)\r\n        }\r\n      })\r\n    }\r\n\r\nIt depends upon whether or not your date values include time or not","title":"Google sheet cell delete at specific date","body":"<pre><code>function deleteOldRows() {\n  const ss = SpreadsheetApp.getActive();\n  const sh = ss.getSheetByName(&quot;Sheet0&quot;);\n  const [hA, ...vs] = sh.getDataRange().getValues();\n  const dtv = new Date().valueOf();\n  let idx = {};\n  let d = 0;\n  hA.forEach((h, i) =&gt; idx[h] = i);\n  vs.forEach((r, i) =&gt; {\n    let dv = new Date(r[idx[&quot;COL1&quot;]]).valueOf();\n    if (dv &lt; dtv) { // if you only want a specific date change &lt; to  ==\n      sh.deleteRow(i + 2 - d++)\n    }\n  })\n}\n</code></pre>\n<p>Start Data:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\"></th>\n<th style=\"text-align: left;\">A</th>\n<th style=\"text-align: left;\">B</th>\n<th style=\"text-align: left;\">C</th>\n<th style=\"text-align: left;\">D</th>\n<th style=\"text-align: left;\">E</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: left;\">COL1</td>\n<td style=\"text-align: left;\">COL2</td>\n<td style=\"text-align: left;\">COL3</td>\n<td style=\"text-align: left;\">COL4</td>\n<td style=\"text-align: left;\">COL5</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: left;\">8/1/2023</td>\n<td style=\"text-align: left;\">21</td>\n<td style=\"text-align: left;\">14</td>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: left;\">24</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: left;\">8/2/2023</td>\n<td style=\"text-align: left;\">21</td>\n<td style=\"text-align: left;\">20</td>\n<td style=\"text-align: left;\">21</td>\n<td style=\"text-align: left;\">24</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">4</td>\n<td style=\"text-align: left;\">8/3/2023</td>\n<td style=\"text-align: left;\">17</td>\n<td style=\"text-align: left;\">22</td>\n<td style=\"text-align: left;\">23</td>\n<td style=\"text-align: left;\">5</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">5</td>\n<td style=\"text-align: left;\">8/4/2023</td>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">24</td>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: left;\">23</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">6</td>\n<td style=\"text-align: left;\">8/5/2023</td>\n<td style=\"text-align: left;\">16</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: left;\">23</td>\n<td style=\"text-align: left;\">14</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">7</td>\n<td style=\"text-align: left;\">8/6/2023</td>\n<td style=\"text-align: left;\">12</td>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">16</td>\n<td style=\"text-align: left;\">7</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">8</td>\n<td style=\"text-align: left;\">8/7/2023</td>\n<td style=\"text-align: left;\">21</td>\n<td style=\"text-align: left;\">20</td>\n<td style=\"text-align: left;\">14</td>\n<td style=\"text-align: left;\">17</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">9</td>\n<td style=\"text-align: left;\">8/8/2023</td>\n<td style=\"text-align: left;\">18</td>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">24</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">10</td>\n<td style=\"text-align: left;\">8/9/2023</td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">18</td>\n<td style=\"text-align: left;\">16</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">11</td>\n<td style=\"text-align: left;\">8/10/2023</td>\n<td style=\"text-align: left;\">22</td>\n<td style=\"text-align: left;\">22</td>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: left;\">19</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">12</td>\n<td style=\"text-align: left;\">8/11/2023</td>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: left;\">16</td>\n<td style=\"text-align: left;\">18</td>\n<td style=\"text-align: left;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">13</td>\n<td style=\"text-align: left;\">8/12/2023</td>\n<td style=\"text-align: left;\">16</td>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: left;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">14</td>\n<td style=\"text-align: left;\">8/13/2023</td>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">15</td>\n<td style=\"text-align: left;\">21</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">15</td>\n<td style=\"text-align: left;\">8/14/2023</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">15</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">16</td>\n<td style=\"text-align: left;\">8/15/2023</td>\n<td style=\"text-align: left;\">22</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: left;\">6</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">17</td>\n<td style=\"text-align: left;\">8/16/2023</td>\n<td style=\"text-align: left;\">20</td>\n<td style=\"text-align: left;\">6</td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">18</td>\n<td style=\"text-align: left;\">8/17/2023</td>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">20</td>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">24</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">19</td>\n<td style=\"text-align: left;\">8/18/2023</td>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">18</td>\n<td style=\"text-align: left;\">6</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">20</td>\n<td style=\"text-align: left;\">8/19/2023</td>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">12</td>\n<td style=\"text-align: left;\">21</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">21</td>\n<td style=\"text-align: left;\">8/20/2023</td>\n<td style=\"text-align: left;\">10</td>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">17</td>\n<td style=\"text-align: left;\">14</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">22</td>\n<td style=\"text-align: left;\">8/21/2023</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">6</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">11</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">23</td>\n<td style=\"text-align: left;\">8/22/2023</td>\n<td style=\"text-align: left;\">21</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">8</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">24</td>\n<td style=\"text-align: left;\">8/23/2023</td>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: left;\">17</td>\n<td style=\"text-align: left;\">21</td>\n<td style=\"text-align: left;\">21</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">25</td>\n<td style=\"text-align: left;\">8/24/2023</td>\n<td style=\"text-align: left;\">15</td>\n<td style=\"text-align: left;\">0</td>\n<td style=\"text-align: left;\">17</td>\n<td style=\"text-align: left;\">23</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">26</td>\n<td style=\"text-align: left;\">8/25/2023</td>\n<td style=\"text-align: left;\">12</td>\n<td style=\"text-align: left;\">17</td>\n<td style=\"text-align: left;\">21</td>\n<td style=\"text-align: left;\">10</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>End Data:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\"></th>\n<th style=\"text-align: left;\">A</th>\n<th style=\"text-align: left;\">B</th>\n<th style=\"text-align: left;\">C</th>\n<th style=\"text-align: left;\">D</th>\n<th style=\"text-align: left;\">E</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: left;\">COL1</td>\n<td style=\"text-align: left;\">COL2</td>\n<td style=\"text-align: left;\">COL3</td>\n<td style=\"text-align: left;\">COL4</td>\n<td style=\"text-align: left;\">COL5</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: left;\">8/13/2023</td>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">15</td>\n<td style=\"text-align: left;\">21</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: left;\">8/14/2023</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">15</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">4</td>\n<td style=\"text-align: left;\">8/15/2023</td>\n<td style=\"text-align: left;\">22</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: left;\">6</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">5</td>\n<td style=\"text-align: left;\">8/16/2023</td>\n<td style=\"text-align: left;\">20</td>\n<td style=\"text-align: left;\">6</td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">1</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">6</td>\n<td style=\"text-align: left;\">8/17/2023</td>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">20</td>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">24</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">7</td>\n<td style=\"text-align: left;\">8/18/2023</td>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">18</td>\n<td style=\"text-align: left;\">6</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">8</td>\n<td style=\"text-align: left;\">8/19/2023</td>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">12</td>\n<td style=\"text-align: left;\">21</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">9</td>\n<td style=\"text-align: left;\">8/20/2023</td>\n<td style=\"text-align: left;\">10</td>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">17</td>\n<td style=\"text-align: left;\">14</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">10</td>\n<td style=\"text-align: left;\">8/21/2023</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">6</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">11</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">11</td>\n<td style=\"text-align: left;\">8/22/2023</td>\n<td style=\"text-align: left;\">21</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">8</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">12</td>\n<td style=\"text-align: left;\">8/23/2023</td>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: left;\">17</td>\n<td style=\"text-align: left;\">21</td>\n<td style=\"text-align: left;\">21</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">13</td>\n<td style=\"text-align: left;\">8/24/2023</td>\n<td style=\"text-align: left;\">15</td>\n<td style=\"text-align: left;\">0</td>\n<td style=\"text-align: left;\">17</td>\n<td style=\"text-align: left;\">23</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">14</td>\n<td style=\"text-align: left;\">8/25/2023</td>\n<td style=\"text-align: left;\">12</td>\n<td style=\"text-align: left;\">17</td>\n<td style=\"text-align: left;\">21</td>\n<td style=\"text-align: left;\">10</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>If you wish to keep today, you can do this:</p>\n<pre><code>function deleteOldRows() {\n  const ss = SpreadsheetApp.getActive();\n  const sh = ss.getSheetByName(&quot;Sheet0&quot;);\n  const [hA, ...vs] = sh.getDataRange().getValues();\n  let dt = new Date();\n  const dtv = new Date(dt.getFullYear(),dt.getMonth(),dt.getDate()).valueOf();\n  let idx = {};\n  let d = 0;\n  hA.forEach((h, i) =&gt; idx[h] = i);\n  vs.forEach((r, i) =&gt; {\n    let dv = new Date(r[idx[&quot;COL1&quot;]]).valueOf();\n    if (dv &lt; dtv) {\n      sh.deleteRow(i + 2 - d++)\n    }\n  })\n}\n</code></pre>\n<p>It depends upon whether or not your date values include time or not</p>\n"}],"owner":{"account_id":29212222,"reputation":1,"user_id":22379917,"display_name":"amit sachdeva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1691857600,"creation_date":1691851838,"question_id":76889815,"body_markdown":"there are some cells in my spreadsheet which I want to remove or delete on a specific date is over . can you help me?\r\nI already installed google script.\r\n\r\njava programming , trigger to delete cells in specific date .\r\nwaiting for response","title":"Google sheet cell delete at specific date","body":"<p>there are some cells in my spreadsheet which I want to remove or delete on a specific date is over . can you help me?\nI already installed google script.</p>\n<p>java programming , trigger to delete cells in specific date .\nwaiting for response</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":28788063,"reputation":1,"user_id":22048100,"display_name":"techie_kvy"},"score":0,"creation_date":1691826885,"post_id":76887949,"comment_id":135546530,"body_markdown":"thanks for your answer, but your answer haven&#39;t addressed my question completely. How do you think that tasklet step will provide an extra level of usage in spring batch besides springboot. \nAlso, could you please throw some light on your statement above, _That does not mean all the data has to be read in one step_, do you mean we can also read data in chunks using tasklet step?","body":"thanks for your answer, but your answer haven&#39;t addressed my question completely. How do you think that tasklet step will provide an extra level of usage in spring batch besides springboot.  Also, could you please throw some light on your statement above, <i>That does not mean all the data has to be read in one step</i>, do you mean we can also read data in chunks using tasklet step?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1691854244,"post_id":76887949,"comment_id":135549181,"body_markdown":"The tasklet can itself decide to implement chunks, yes. But whether or how it does, is up to the tasklet (that means you as developer). Only use it when you feel the Spring chunk pattern does not suit your need.","body":"The tasklet can itself decide to implement chunks, yes. But whether or how it does, is up to the tasklet (that means you as developer). Only use it when you feel the Spring chunk pattern does not suit your need."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691856782,"creation_date":1691819816,"answer_id":76887949,"question_id":76887934,"body_markdown":"In chunked mode, Spring will take care of calling a reader, forwarding the data to the processor and finally the writer. You can configure features like transation size, but the control is on Spring.\r\n\r\nIn Tasklet mode Spring will not impose the structure and the Tasklet can decide on it&#39;s own how to do the job. That does not mean all the data has to be read in one step.\r\n\r\nIt may come handy when Spring control is not useful. Just assume depending on the data multiple different databases need to be addressed - then Spring&#39;s transaction control would be meaningless.\r\n\r\nIf it helps, also study documentation for JSR-352 Java Batch, such as [Understanding Java Batch][1]. Your question is pretty much when to use Batchlet vs Chunk based processing:\r\n\r\n*For a batchlet your application code just gets control once and does whatever it needs to\r\ndo. A chunk step is different because it always contains a loop. The batch container will\r\ncreate a loop around calls to your application. The idea is that your application will do\r\nsome limited amount of processing, perhaps on a single item of data, and then return so\r\nthe container can loop around and we do it again.*\r\n\r\n*Obviously you could do this in a batchlet yourself, but the chunk model brings with it some\r\npretty fancy options that the container takes care of for you. We’ll dig into that as we work\r\nour way through the chunk programming model. But at a high level a chunk step is simply\r\nthe container calling your application in a loop until you are done. In theory each pass\r\nthrough the loop does similar processing with different data, although really that is up to\r\nyour application.*\r\n\r\n  [1]: https://www.ibm.com/support/pages/system/files/inline-files/WP102706_WLB_JSR352.002.pdf","title":"What is the use of Tasklet step in Spring Batch?","body":"<p>In chunked mode, Spring will take care of calling a reader, forwarding the data to the processor and finally the writer. You can configure features like transation size, but the control is on Spring.</p>\n<p>In Tasklet mode Spring will not impose the structure and the Tasklet can decide on it's own how to do the job. That does not mean all the data has to be read in one step.</p>\n<p>It may come handy when Spring control is not useful. Just assume depending on the data multiple different databases need to be addressed - then Spring's transaction control would be meaningless.</p>\n<p>If it helps, also study documentation for JSR-352 Java Batch, such as <a href=\"https://www.ibm.com/support/pages/system/files/inline-files/WP102706_WLB_JSR352.002.pdf\" rel=\"nofollow noreferrer\">Understanding Java Batch</a>. Your question is pretty much when to use Batchlet vs Chunk based processing:</p>\n<p><em>For a batchlet your application code just gets control once and does whatever it needs to\ndo. A chunk step is different because it always contains a loop. The batch container will\ncreate a loop around calls to your application. The idea is that your application will do\nsome limited amount of processing, perhaps on a single item of data, and then return so\nthe container can loop around and we do it again.</em></p>\n<p><em>Obviously you could do this in a batchlet yourself, but the chunk model brings with it some\npretty fancy options that the container takes care of for you. We’ll dig into that as we work\nour way through the chunk programming model. But at a high level a chunk step is simply\nthe container calling your application in a loop until you are done. In theory each pass\nthrough the loop does similar processing with different data, although really that is up to\nyour application.</em></p>\n"}],"owner":{"account_id":28788063,"reputation":1,"user_id":22048100,"display_name":"techie_kvy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691856782,"creation_date":1691819499,"question_id":76887934,"body_markdown":"There are 2 different types of steps in Spring Batch, either we can configure the job using a Tasklet step or a chunk oriented step. In chunk oriented step we can read, process and write data in chunks for better performance. Whilst the tasklet step reads, processes and writes the whole data at once like other traditional programs using spring boot.\r\n\r\nHow Tasklet step, differs from the traditional programs using springboot and what is the extra level of usage that the tasklet step provides? \r\n\r\nClear explanation of the major differences between tasklet and chunk oriented steps.","title":"What is the use of Tasklet step in Spring Batch?","body":"<p>There are 2 different types of steps in Spring Batch, either we can configure the job using a Tasklet step or a chunk oriented step. In chunk oriented step we can read, process and write data in chunks for better performance. Whilst the tasklet step reads, processes and writes the whole data at once like other traditional programs using spring boot.</p>\n<p>How Tasklet step, differs from the traditional programs using springboot and what is the extra level of usage that the tasklet step provides?</p>\n<p>Clear explanation of the major differences between tasklet and chunk oriented steps.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1691844063,"post_id":76889310,"comment_id":135548121,"body_markdown":"&quot;because b.name is just the reference of the a.name object and not a real copy&quot; Yeah, but by doing `b.name = &quot;Ernie&quot;`, you are making `b.name` refer to something else. It no longer is &quot;just the reference of the a.name object&quot;.","body":"&quot;because b.name is just the reference of the a.name object and not a real copy&quot; Yeah, but by doing <code>b.name = &quot;Ernie&quot;</code>, you are making <code>b.name</code> refer to something else. It no longer is &quot;just the reference of the a.name object&quot;."},{"owner":{"account_id":29211844,"reputation":23,"user_id":22379633,"display_name":"John Sace"},"score":0,"creation_date":1691844298,"post_id":76889310,"comment_id":135548142,"body_markdown":"Wow thank you for the quick answer :) . Okay than I got the sideeffect part wrong. How do I then force a sideeffect ?","body":"Wow thank you for the quick answer :) . Okay than I got the sideeffect part wrong. How do I then force a sideeffect ?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1691856541,"post_id":76889310,"comment_id":135549414,"body_markdown":"Both are a deep copy... Your second constructor is identical to calling `this(a.name)`, that is, calling your first constructor.","body":"Both are a deep copy... Your second constructor is identical to calling <code>this(a.name)</code>, that is, calling your first constructor."}],"answers":[{"comments":[{"owner":{"account_id":29211844,"reputation":23,"user_id":22379633,"display_name":"John Sace"},"score":0,"creation_date":1691845298,"post_id":76889343,"comment_id":135548242,"body_markdown":"Wow thank sooo much , I got it now.\nI never new that a String is immutable because all the examples for a shallow copy form my professor stated that the shallowCopy can now also change the original String. \nNow I am really confused why she said that.","body":"Wow thank sooo much , I got it now. I never new that a String is immutable because all the examples for a shallow copy form my professor stated that the shallowCopy can now also change the original String.  Now I am really confused why she said that."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1691844571,"creation_date":1691844571,"answer_id":76889343,"question_id":76889310,"body_markdown":"&gt; because `b.name` is just the reference of the `a.name` object and not a real copy&quot; \r\n\r\nYeah, that is true, until you wrote `b.name = &quot;Ernie&quot;`. That makes `b.name` a reference to something else (namely, the string &quot;Ernie&quot;). That is what the `=` operator does. `b.name` no longer is &quot;just the reference of the `a.name` object&quot;. \r\n\r\nSo you need to change `b.name` in some way, without making it a reference to something else.\r\n\r\nHowever, there is no way to do this. [`String` is immutable][1]. After the `String` is created, there is no method you can call, or (public) fields you can set, that can change what string the `String` object represents. On the other hand, you can assign a new object to an existing `String`, like you are doing here.\r\n\r\nArguably, this is one of the reasons why `String` is immutable. Making a shallow copy of `String` will not cause any unwanted side effects, so you don&#39;t actually need to deep copy `String`s.\r\n\r\nTo see the side effects, use a mutable type, like `StringBuilder`:\r\n\r\n```\r\npublic class Joo {\r\n    public StringBuilder name;\r\n\r\n    public Joo(String a) {\r\n        this.name = new StringBuilder(a);\r\n    }\r\n\r\n    public Joo(Joo a) {\r\n        this.name = a.name;\r\n    }\r\n}\r\n```\r\n\r\nRather than assigning a new instance of `StringBuilder`, mutate the object by calling one of its methods:\r\n\r\n```\r\nb.name.append(&quot;Something&quot;);\r\n```\r\n\r\nNow it prints:\r\n\r\n```\r\na :Bernt\r\nb :Bernt\r\na :BerntSomething\r\nb :BerntSomething\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/22397861/5133585","title":"I can&#39;t create an unwanted side effect with a shallow copy","body":"<blockquote>\n<p>because <code>b.name</code> is just the reference of the <code>a.name</code> object and not a real copy&quot;</p>\n</blockquote>\n<p>Yeah, that is true, until you wrote <code>b.name = &quot;Ernie&quot;</code>. That makes <code>b.name</code> a reference to something else (namely, the string &quot;Ernie&quot;). That is what the <code>=</code> operator does. <code>b.name</code> no longer is &quot;just the reference of the <code>a.name</code> object&quot;.</p>\n<p>So you need to change <code>b.name</code> in some way, without making it a reference to something else.</p>\n<p>However, there is no way to do this. <a href=\"https://stackoverflow.com/q/22397861/5133585\"><code>String</code> is immutable</a>. After the <code>String</code> is created, there is no method you can call, or (public) fields you can set, that can change what string the <code>String</code> object represents. On the other hand, you can assign a new object to an existing <code>String</code>, like you are doing here.</p>\n<p>Arguably, this is one of the reasons why <code>String</code> is immutable. Making a shallow copy of <code>String</code> will not cause any unwanted side effects, so you don't actually need to deep copy <code>String</code>s.</p>\n<p>To see the side effects, use a mutable type, like <code>StringBuilder</code>:</p>\n<pre><code>public class Joo {\n    public StringBuilder name;\n\n    public Joo(String a) {\n        this.name = new StringBuilder(a);\n    }\n\n    public Joo(Joo a) {\n        this.name = a.name;\n    }\n}\n</code></pre>\n<p>Rather than assigning a new instance of <code>StringBuilder</code>, mutate the object by calling one of its methods:</p>\n<pre><code>b.name.append(&quot;Something&quot;);\n</code></pre>\n<p>Now it prints:</p>\n<pre><code>a :Bernt\nb :Bernt\na :BerntSomething\nb :BerntSomething\n</code></pre>\n"}],"owner":{"account_id":29211844,"reputation":23,"user_id":22379633,"display_name":"John Sace"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76889343,"answer_count":1,"score":2,"last_activity_date":1691856530,"creation_date":1691843934,"question_id":76889310,"body_markdown":"I just wanted to create a shallow and a deep copy of an object. I know that in the deep copy you create a new object with the values of the object you want to copy to prevent a side effect. The thing I noticed I can&#39;t get a side effect on my shallow copy, but I don&#39;t understand why.\r\n\r\n```\r\npublic class Joo {\r\n\tpublic String name;\r\n\t\r\n\tpublic Joo(String a) {\r\n\t\tthis.name = a; \r\n\t}\r\n\tpublic Joo(Joo a) {\r\n\t\tthis.name = a.name; \r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tJoo a = new Joo(&quot;Bernt&quot;);\r\n\t\tJoo b = new Joo(a);\r\n\t\t\r\n\t\tSystem.out.println(&quot;a :&quot; +a.name); //a :Bernt\r\n\t\tSystem.out.println(&quot;b :&quot; +b.name); //b :Bernt\r\n\r\n\t\tb.name = &quot;Ernie&quot;;\r\n\t\tSystem.out.println(&quot;a :&quot; +a.name); //a :Bernt \r\n\t\tSystem.out.println(&quot;b :&quot; +b.name); //b :Ernie\r\n\t}\r\n}\r\n```\r\n\r\nI was expected that when I change b.name its also changes a.name because b.name is just the reference of the a.name object and not a real copy.","title":"I can&#39;t create an unwanted side effect with a shallow copy","body":"<p>I just wanted to create a shallow and a deep copy of an object. I know that in the deep copy you create a new object with the values of the object you want to copy to prevent a side effect. The thing I noticed I can't get a side effect on my shallow copy, but I don't understand why.</p>\n<pre><code>public class Joo {\n    public String name;\n    \n    public Joo(String a) {\n        this.name = a; \n    }\n    public Joo(Joo a) {\n        this.name = a.name; \n    }\n    \n    public static void main(String[] args) {\n        Joo a = new Joo(&quot;Bernt&quot;);\n        Joo b = new Joo(a);\n        \n        System.out.println(&quot;a :&quot; +a.name); //a :Bernt\n        System.out.println(&quot;b :&quot; +b.name); //b :Bernt\n\n        b.name = &quot;Ernie&quot;;\n        System.out.println(&quot;a :&quot; +a.name); //a :Bernt \n        System.out.println(&quot;b :&quot; +b.name); //b :Ernie\n    }\n}\n</code></pre>\n<p>I was expected that when I change b.name its also changes a.name because b.name is just the reference of the a.name object and not a real copy.</p>\n"},{"tags":["java","flutter","dart","encryption"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1691862275,"post_id":76889862,"comment_id":135549958,"body_markdown":"What did you do to see if the chosen primitives are correct? How did you come up with HKDF and HMAC-SHA-256? How are you going to make sure that the ciphertext looks the same if ECIES creates an ephemeral key pair to derive the AES key? I&#39;d suggest you perform a lot more research, then create a decryption routine for both. Decryption *is deterministic* and you can then step through to see what is happening. Note that Bouncy Castle is also open source, if you link the source you can step through the encryption / decryption code.","body":"What did you do to see if the chosen primitives are correct? How did you come up with HKDF and HMAC-SHA-256? How are you going to make sure that the ciphertext looks the same if ECIES creates an ephemeral key pair to derive the AES key? I&#39;d suggest you perform a lot more research, then create a decryption routine for both. Decryption <i>is deterministic</i> and you can then step through to see what is happening. Note that Bouncy Castle is also open source, if you link the source you can step through the encryption / decryption code."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1691863002,"post_id":76889862,"comment_id":135550034,"body_markdown":"Why do you encrypt the plaintext (`plainPin`) with AES and the AES key (`aesKey`) with ECIES (and generate a MAC for authentication) in the Java code? ECIES is a hybrid scheme that does all this for you under the hood. So why don&#39;t you just encrypt the plaintext (`plainPin`) with ECIES?","body":"Why do you encrypt the plaintext (<code>plainPin</code>) with AES and the AES key (<code>aesKey</code>) with ECIES (and generate a MAC for authentication) in the Java code? ECIES is a hybrid scheme that does all this for you under the hood. So why don&#39;t you just encrypt the plaintext (<code>plainPin</code>) with ECIES?"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1691863233,"post_id":76889862,"comment_id":135550051,"body_markdown":"Apart from that you have to keep in mind (especially cross-platform) that there are different ECIES standards. So if you use the ECIES implementation of a certain provider, you have to use the same standard on the other side (and if you implement it yourself with the corresponding effort, you have to follow the specification exactly).","body":"Apart from that you have to keep in mind (especially cross-platform) that there are different ECIES standards. So if you use the ECIES implementation of a certain provider, you have to use the same standard on the other side (and if you implement it yourself with the corresponding effort, you have to follow the specification exactly)."}],"owner":{"account_id":29212410,"reputation":11,"user_id":22380068,"display_name":"Felix Luu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1691856369,"creation_date":1691852546,"question_id":76889862,"body_markdown":"I currently have a Java class like below:\r\n\r\n```java\r\nclass Sample {\r\n    private SetPinEncryptedDTO createSetPinEncryptedPayload(PublicKeyDTO publicKeyDTO, String plainPin) throws Exception {\r\n        final String AES_CIPHER_TRANSFORMATION = &quot;AES/CBC/PKCS5PADDING&quot;;\r\n        final String ECC_CIPHER_TRANSFORMATION = &quot;ECIES&quot;;\r\n        // encrypt PIN with AES\r\n        byte[] aesKey = generateAESKey(256).getEncoded();\r\n        byte[] encryptedPin = encrypt(AES_CIPHER_TRANSFORMATION, aesKey, plainPin.getBytes(StandardCharsets.UTF_8), new byte[16]);\r\n        // encrypt AES key with ECC using the received public key. Public key is encoded with Base64\r\n        PublicKey publicKey = readEncodedECCPublicKey(Base64.decodeBase64(publicKeyDTO.getPublicKey()));\r\n        byte[] encryptedAesKey = eccEncrypt(ECC_CIPHER_TRANSFORMATION, publicKey, aesKey);\r\n        // create a payload\r\n        SetPinEncryptedDTO setPinDTO = new SetPinEncryptedDTO();\r\n        setPinDTO.setPin(Base64.encodeBase64String(encryptedPin)); // encode encrypted PIN with Base64\r\n        setPinDTO.setEncryptedSymmetricKey(Base64.encodeBase64String(encryptedAesKey));// encode encrypted AES key with Base64\r\n        setPinDTO.setChecksum(new HmacUtils(HmacAlgorithms.HMAC_SHA_256, aesKey).hmacHex(plainPin.getBytes(StandardCharsets.UTF_8)));\r\n        return setPinDTO;\r\n    }\r\n\r\n    public static SecretKey generateAESKey(int length) throws Exception {\r\n        KeyGenerator keyGen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n        keyGen.init(length);\r\n        return keyGen.generateKey();\r\n    }\r\n\r\n    public static byte[] encrypt(String cipherTransformation, byte[] keyBytes, byte[] message, byte[] ivBytes) throws Exception {\r\n        SecretKeySpec key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n        IvParameterSpec ivSpec = new IvParameterSpec(ivBytes);\r\n        Cipher aesCipher = Cipher.getInstance(cipherTransformation);\r\n        aesCipher.init(Cipher.ENCRYPT_MODE, key, ivSpec);\r\n        return aesCipher.doFinal(message);\r\n    }\r\n\r\n    public static ECPublicKey readEncodedECCPublicKey(byte[] bytesKey) throws Exception {\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;ECDH&quot;, BouncyCastleProvider.PROVIDER_NAME);\r\n        X509EncodedKeySpec x509EncodedKeySpec = new X509EncodedKeySpec(bytesKey);\r\n        return (ECPublicKey) keyFactory.generatePublic(x509EncodedKeySpec);\r\n    }\r\n\r\n    public static byte[] eccEncrypt(String eccCipherTransformation, PublicKey publicKey, byte[] plainBytes) throws Exception {\r\n        Cipher cipher = Cipher.getInstance(eccCipherTransformation, BouncyCastleProvider.PROVIDER_NAME);\r\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n        return cipher.doFinal(plainBytes);\r\n    }\r\n}\r\n```\r\n\r\nI want to convert that class to Dart, and I have written that class into the following:\r\n\r\n```dart\r\nclass Sample {\r\n  static Future&lt;Uint8List&gt; generateAESKey() async {\r\n    final algorithm = better_cryptography.AesGcm.with256bits(nonceLength: 32);\r\n    final key = algorithm.newNonce();\r\n    return Uint8List.fromList(key);\r\n  }\r\n\r\n  static Uint8List encryptAES(String cipherTransformation, Uint8List keyBytes,\r\n      Uint8List plainText, Uint8List ivBytes) {\r\n    final params = PaddedBlockCipherParameters(\r\n      ParametersWithIV&lt;KeyParameter&gt;(KeyParameter(keyBytes), ivBytes),\r\n      null, // Using PKCS7 padding by default\r\n    );\r\n\r\n    PaddedBlockCipher cipher = PaddedBlockCipher(cipherTransformation)\r\n      ..init(true, params);\r\n\r\n    Uint8List encrypted = cipher.process(plainText);\r\n    return encrypted;\r\n  }\r\n\r\n  static String eccEncrypt(String eccCipherTransformation,\r\n      ECPublicKey publicKey, Uint8List plaintext) {\r\n    var rnd = getSecureRandom();\r\n    var domainParams = ECDomainParameters(&quot;secp256r1&quot;);\r\n    // 1. Create ephemeral key pair\r\n    var ephKeyPair = (KeyGenerator(&quot;EC&quot;)\r\n          ..init(ParametersWithRandom(\r\n              ECKeyGeneratorParameters(domainParams), rnd)))\r\n        .generateKeyPair();\r\n\r\n    // 3. Get full point to ECDH shared secret, derive AES key via HKDF\r\n    var sharedSecretECPointUncomp =\r\n        (publicKey.Q! * (ephKeyPair.privateKey as ECPrivateKey).d)!\r\n            .getEncoded(false);\r\n    var ephPublicKeyUncomp =\r\n        (ephKeyPair.publicKey as ECPublicKey).Q!.getEncoded(false);\r\n    var aesKey = hkdf(ephPublicKeyUncomp, sharedSecretECPointUncomp);\r\n\r\n    // 4. Encrypt via AES-256, GCM\r\n    var nonce = rnd.nextBytes(16);\r\n    var ciphertextTag = (GCMBlockCipher(AESEngine())\r\n          ..init(true,\r\n              AEADParameters(KeyParameter(aesKey), 128, nonce, Uint8List(0))))\r\n        .process(plaintext);\r\n\r\n    // 5. Concatenate (ephemeral public key|nonce|tag|ciphertext), Base64 encode and return\r\n    return base64.encode(ephPublicKeyUncomp +\r\n        nonce +\r\n        ciphertextTag.sublist(ciphertextTag.length - 16) +\r\n        ciphertextTag.sublist(0, ciphertextTag.length - 16));\r\n  }\r\n\r\n  static basic_utils.SecureRandom getSecureRandom() {\r\n    List&lt;int&gt; seed =\r\n        List&lt;int&gt;.generate(32, (_) =&gt; Random.secure().nextInt(256));\r\n    return FortunaRandom()..seed(KeyParameter(Uint8List.fromList(seed)));\r\n  }\r\n\r\n  static Uint8List hkdf(var ephPublicKeyUnc, var sharedSecretEcPointUnc) {\r\n    var master = Uint8List.fromList(ephPublicKeyUnc + sharedSecretEcPointUnc);\r\n    var aesKey = Uint8List(32);\r\n    (HKDFKeyDerivator(SHA256Digest())..init(HkdfParameters(master, 32, null)))\r\n        .deriveKey(null, 0, aesKey, 0);\r\n    return aesKey;\r\n  }\r\n\r\n  static String hMacSha256(String data, Uint8List key) {\r\n    var hMacSha256 = crypto.Hmac(crypto.sha256, key);\r\n    return hMacSha256.convert(utf8.encode(data)).toString();\r\n  }\r\n\r\n  static Future&lt;ECPublicKey&gt; readEncodedECCPublicKey(String key) async {\r\n    ASN1Parser parser = ASN1Parser(Uint8List.fromList(base64.decode(key)));\r\n    ASN1Sequence topLevelSeq = parser.nextObject() as ASN1Sequence;\r\n    ECPoint? ecPoint;\r\n    // Extracting ECPoint\r\n    try {\r\n      ASN1Sequence publicKeySeq = topLevelSeq.elements![0] as ASN1Sequence;\r\n      ASN1BitString publicKeyBitString =\r\n      topLevelSeq.elements![1] as ASN1BitString;\r\n      List&lt;int&gt; publicKeyBytes = publicKeyBitString.stringValues!;\r\n      ecPoint = ECCurve_secp256r1().curve.decodePoint(publicKeyBytes);\r\n    } catch (e) {}\r\n    // Creating ECPublicKey object\r\n    final keyParams = ECCurve_secp256r1();\r\n    final ecPublicKey = ECPublicKey(ecPoint, keyParams);\r\n    return ecPublicKey;\r\n  }\r\n\r\n  static String hMacHex(\r\n      String hMacAlgorithm, Uint8List key, List&lt;int&gt; message) {\r\n    var hMacSha256 = crypto.Hmac(crypto.sha256, key);\r\n    var hMac = hMacSha256.convert(message);\r\n    return hex.encode(hMac.bytes);\r\n  }\r\n\r\n  static Future&lt;SetPinEncryptedDTO&gt; createSetPinEncryptedPayload(\r\n      String publicKeyFromServer, String plainPin) async {\r\n    const String AES_CIPHER_TRANSFORMATION = &quot;AES/CBC/PKCS7&quot;;\r\n    const String ECC_CIPHER_TRANSFORMATION = &quot;ECIES&quot;;\r\n    const String HMAC_ALGORITHM = &quot;SHA-256&quot;;\r\n\r\n    // Encrypt PIN with AES\r\n    final aesKey = await generateAESKey();\r\n    final encryptedPin = encryptAES(AES_CIPHER_TRANSFORMATION, aesKey,\r\n        Uint8List.fromList(utf8.encode(plainPin)), Uint8List(16));\r\n\r\n    // Encrypt AES key with ECC using the received public key. Public key is encoded with Base64.\r\n    final publicKey = await readEncodedECCPublicKey(publicKeyFromServer);\r\n    final encryptedAesKey =\r\n        eccEncrypt(ECC_CIPHER_TRANSFORMATION, publicKey, aesKey);\r\n\r\n    // Create a payload\r\n    final setPinDTO = SetPinEncryptedDTO();\r\n    setPinDTO.pin =\r\n        base64.encode(encryptedPin); // Encode encrypted PIN with Base64\r\n    setPinDTO.encryptedSymmetricKey =\r\n        encryptedAesKey; // Encode encrypted AES key with Base64\r\n    setPinDTO.checksum = hMacHex(HMAC_ALGORITHM, aesKey, utf8.encode(plainPin));\r\n    return setPinDTO;\r\n  }\r\n}\r\n```\r\n\r\nAll the functions in function createSetPinEncryptedPayload work and it seem very well, but encryptedAesKey is wrong. In Java, `Base64.encodeBase64String(encryptedAesKey)` returns a character string with length 156, but in Dart length is 172. I don&#39;t know which is wrong. How do I fix this?\r\n","title":"Support encryption algorithm &quot;ECIES&quot; using cipher with dart . language","body":"<p>I currently have a Java class like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Sample {\n    private SetPinEncryptedDTO createSetPinEncryptedPayload(PublicKeyDTO publicKeyDTO, String plainPin) throws Exception {\n        final String AES_CIPHER_TRANSFORMATION = &quot;AES/CBC/PKCS5PADDING&quot;;\n        final String ECC_CIPHER_TRANSFORMATION = &quot;ECIES&quot;;\n        // encrypt PIN with AES\n        byte[] aesKey = generateAESKey(256).getEncoded();\n        byte[] encryptedPin = encrypt(AES_CIPHER_TRANSFORMATION, aesKey, plainPin.getBytes(StandardCharsets.UTF_8), new byte[16]);\n        // encrypt AES key with ECC using the received public key. Public key is encoded with Base64\n        PublicKey publicKey = readEncodedECCPublicKey(Base64.decodeBase64(publicKeyDTO.getPublicKey()));\n        byte[] encryptedAesKey = eccEncrypt(ECC_CIPHER_TRANSFORMATION, publicKey, aesKey);\n        // create a payload\n        SetPinEncryptedDTO setPinDTO = new SetPinEncryptedDTO();\n        setPinDTO.setPin(Base64.encodeBase64String(encryptedPin)); // encode encrypted PIN with Base64\n        setPinDTO.setEncryptedSymmetricKey(Base64.encodeBase64String(encryptedAesKey));// encode encrypted AES key with Base64\n        setPinDTO.setChecksum(new HmacUtils(HmacAlgorithms.HMAC_SHA_256, aesKey).hmacHex(plainPin.getBytes(StandardCharsets.UTF_8)));\n        return setPinDTO;\n    }\n\n    public static SecretKey generateAESKey(int length) throws Exception {\n        KeyGenerator keyGen = KeyGenerator.getInstance(&quot;AES&quot;);\n        keyGen.init(length);\n        return keyGen.generateKey();\n    }\n\n    public static byte[] encrypt(String cipherTransformation, byte[] keyBytes, byte[] message, byte[] ivBytes) throws Exception {\n        SecretKeySpec key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n        IvParameterSpec ivSpec = new IvParameterSpec(ivBytes);\n        Cipher aesCipher = Cipher.getInstance(cipherTransformation);\n        aesCipher.init(Cipher.ENCRYPT_MODE, key, ivSpec);\n        return aesCipher.doFinal(message);\n    }\n\n    public static ECPublicKey readEncodedECCPublicKey(byte[] bytesKey) throws Exception {\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;ECDH&quot;, BouncyCastleProvider.PROVIDER_NAME);\n        X509EncodedKeySpec x509EncodedKeySpec = new X509EncodedKeySpec(bytesKey);\n        return (ECPublicKey) keyFactory.generatePublic(x509EncodedKeySpec);\n    }\n\n    public static byte[] eccEncrypt(String eccCipherTransformation, PublicKey publicKey, byte[] plainBytes) throws Exception {\n        Cipher cipher = Cipher.getInstance(eccCipherTransformation, BouncyCastleProvider.PROVIDER_NAME);\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey);\n        return cipher.doFinal(plainBytes);\n    }\n}\n</code></pre>\n<p>I want to convert that class to Dart, and I have written that class into the following:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>class Sample {\n  static Future&lt;Uint8List&gt; generateAESKey() async {\n    final algorithm = better_cryptography.AesGcm.with256bits(nonceLength: 32);\n    final key = algorithm.newNonce();\n    return Uint8List.fromList(key);\n  }\n\n  static Uint8List encryptAES(String cipherTransformation, Uint8List keyBytes,\n      Uint8List plainText, Uint8List ivBytes) {\n    final params = PaddedBlockCipherParameters(\n      ParametersWithIV&lt;KeyParameter&gt;(KeyParameter(keyBytes), ivBytes),\n      null, // Using PKCS7 padding by default\n    );\n\n    PaddedBlockCipher cipher = PaddedBlockCipher(cipherTransformation)\n      ..init(true, params);\n\n    Uint8List encrypted = cipher.process(plainText);\n    return encrypted;\n  }\n\n  static String eccEncrypt(String eccCipherTransformation,\n      ECPublicKey publicKey, Uint8List plaintext) {\n    var rnd = getSecureRandom();\n    var domainParams = ECDomainParameters(&quot;secp256r1&quot;);\n    // 1. Create ephemeral key pair\n    var ephKeyPair = (KeyGenerator(&quot;EC&quot;)\n          ..init(ParametersWithRandom(\n              ECKeyGeneratorParameters(domainParams), rnd)))\n        .generateKeyPair();\n\n    // 3. Get full point to ECDH shared secret, derive AES key via HKDF\n    var sharedSecretECPointUncomp =\n        (publicKey.Q! * (ephKeyPair.privateKey as ECPrivateKey).d)!\n            .getEncoded(false);\n    var ephPublicKeyUncomp =\n        (ephKeyPair.publicKey as ECPublicKey).Q!.getEncoded(false);\n    var aesKey = hkdf(ephPublicKeyUncomp, sharedSecretECPointUncomp);\n\n    // 4. Encrypt via AES-256, GCM\n    var nonce = rnd.nextBytes(16);\n    var ciphertextTag = (GCMBlockCipher(AESEngine())\n          ..init(true,\n              AEADParameters(KeyParameter(aesKey), 128, nonce, Uint8List(0))))\n        .process(plaintext);\n\n    // 5. Concatenate (ephemeral public key|nonce|tag|ciphertext), Base64 encode and return\n    return base64.encode(ephPublicKeyUncomp +\n        nonce +\n        ciphertextTag.sublist(ciphertextTag.length - 16) +\n        ciphertextTag.sublist(0, ciphertextTag.length - 16));\n  }\n\n  static basic_utils.SecureRandom getSecureRandom() {\n    List&lt;int&gt; seed =\n        List&lt;int&gt;.generate(32, (_) =&gt; Random.secure().nextInt(256));\n    return FortunaRandom()..seed(KeyParameter(Uint8List.fromList(seed)));\n  }\n\n  static Uint8List hkdf(var ephPublicKeyUnc, var sharedSecretEcPointUnc) {\n    var master = Uint8List.fromList(ephPublicKeyUnc + sharedSecretEcPointUnc);\n    var aesKey = Uint8List(32);\n    (HKDFKeyDerivator(SHA256Digest())..init(HkdfParameters(master, 32, null)))\n        .deriveKey(null, 0, aesKey, 0);\n    return aesKey;\n  }\n\n  static String hMacSha256(String data, Uint8List key) {\n    var hMacSha256 = crypto.Hmac(crypto.sha256, key);\n    return hMacSha256.convert(utf8.encode(data)).toString();\n  }\n\n  static Future&lt;ECPublicKey&gt; readEncodedECCPublicKey(String key) async {\n    ASN1Parser parser = ASN1Parser(Uint8List.fromList(base64.decode(key)));\n    ASN1Sequence topLevelSeq = parser.nextObject() as ASN1Sequence;\n    ECPoint? ecPoint;\n    // Extracting ECPoint\n    try {\n      ASN1Sequence publicKeySeq = topLevelSeq.elements![0] as ASN1Sequence;\n      ASN1BitString publicKeyBitString =\n      topLevelSeq.elements![1] as ASN1BitString;\n      List&lt;int&gt; publicKeyBytes = publicKeyBitString.stringValues!;\n      ecPoint = ECCurve_secp256r1().curve.decodePoint(publicKeyBytes);\n    } catch (e) {}\n    // Creating ECPublicKey object\n    final keyParams = ECCurve_secp256r1();\n    final ecPublicKey = ECPublicKey(ecPoint, keyParams);\n    return ecPublicKey;\n  }\n\n  static String hMacHex(\n      String hMacAlgorithm, Uint8List key, List&lt;int&gt; message) {\n    var hMacSha256 = crypto.Hmac(crypto.sha256, key);\n    var hMac = hMacSha256.convert(message);\n    return hex.encode(hMac.bytes);\n  }\n\n  static Future&lt;SetPinEncryptedDTO&gt; createSetPinEncryptedPayload(\n      String publicKeyFromServer, String plainPin) async {\n    const String AES_CIPHER_TRANSFORMATION = &quot;AES/CBC/PKCS7&quot;;\n    const String ECC_CIPHER_TRANSFORMATION = &quot;ECIES&quot;;\n    const String HMAC_ALGORITHM = &quot;SHA-256&quot;;\n\n    // Encrypt PIN with AES\n    final aesKey = await generateAESKey();\n    final encryptedPin = encryptAES(AES_CIPHER_TRANSFORMATION, aesKey,\n        Uint8List.fromList(utf8.encode(plainPin)), Uint8List(16));\n\n    // Encrypt AES key with ECC using the received public key. Public key is encoded with Base64.\n    final publicKey = await readEncodedECCPublicKey(publicKeyFromServer);\n    final encryptedAesKey =\n        eccEncrypt(ECC_CIPHER_TRANSFORMATION, publicKey, aesKey);\n\n    // Create a payload\n    final setPinDTO = SetPinEncryptedDTO();\n    setPinDTO.pin =\n        base64.encode(encryptedPin); // Encode encrypted PIN with Base64\n    setPinDTO.encryptedSymmetricKey =\n        encryptedAesKey; // Encode encrypted AES key with Base64\n    setPinDTO.checksum = hMacHex(HMAC_ALGORITHM, aesKey, utf8.encode(plainPin));\n    return setPinDTO;\n  }\n}\n</code></pre>\n<p>All the functions in function createSetPinEncryptedPayload work and it seem very well, but encryptedAesKey is wrong. In Java, <code>Base64.encodeBase64String(encryptedAesKey)</code> returns a character string with length 156, but in Dart length is 172. I don't know which is wrong. How do I fix this?</p>\n"},{"tags":["java","react-native","screen-capture","foreground-service","react-native-bridge"],"answers":[{"comments":[{"owner":{"account_id":22481280,"reputation":21,"user_id":16786075,"display_name":"Holaba"},"score":1,"creation_date":1691930135,"post_id":76890098,"comment_id":135554692,"body_markdown":"no it doesn&#39;t work","body":"no it doesn&#39;t work"}],"tags":[],"owner":{"account_id":29193473,"reputation":11,"user_id":22365140,"display_name":"Hello"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691856269,"creation_date":1691856269,"answer_id":76890098,"question_id":76888920,"body_markdown":"I have examined your code, and it seems that `MediaProjection` instance is not being passed properly to your `ScreenCaptureService`, and therefore, screen capturing does not start.\r\n\r\nIn your `ScreenCaptureModule.java`, you are creating `VirtualDisplay` which initiates capturing and is being released in the same scope. Thus, your capturing process ends immediately after you chose to start screen recording.\r\n\r\nA better approach would be not to start and then stop `MediaProjection` immediately but to keep it running as long as you need to capture the screenshots:\r\n\r\nIn your `ScreenCaptureService.java`, add a static method to start your service and pass `MediaProjection` data as an extra in the Intent:\r\n\r\n    public class ScreenCaptureService extends Service {\r\n        public static final String EXTRA_RESULT_CODE = &quot;resultCode&quot;;\r\n        public static final String EXTRA_RESULT_DATA = &quot;resultData&quot;;\r\n    \r\n        public static void start(Context context, int resultCode, Intent resultData) {\r\n            Intent i = new Intent(context, ScreenCaptureService.class);\r\n            \r\n            i.putExtra(EXTRA_RESULT_CODE, resultCode);\r\n            i.putExtra(EXTRA_RESULT_DATA, resultData);\r\n            \r\n            context.startService(i);\r\n        }\r\n        ...\r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            int resultCode = intent.getIntExtra(EXTRA_RESULT_CODE, 0);\r\n            Intent resultData = intent.getParcelableExtra(EXTRA_RESULT_DATA);\r\n            \r\n            // Initialize MediaProjection using data received from ScreenCaptureModule\r\n            MediaProjection mediaProjection = mediaProjectionManager.getMediaProjection(resultCode, resultData);\r\n            \r\n            // Initialize your VirtualDisplay and ImageReader here\r\n    \r\n            // Don&#39;t forget to stop MediaProjection when the Service is destroyed\r\n        }\r\n        ...\r\n    }\r\n\r\nIn your `ScreenCaptureModule.java`, replace `currentActivity.startService(serviceIntent);` with `ScreenCaptureService.start(currentActivity, resultCode, data);:`\r\n\r\n// ... Your existing dialog code ...\r\n.\r\n\r\n    setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n        @Override\r\n        public void onClick(DialogInterface dialog, int which) {\r\n            ScreenCaptureService.start(currentActivity, resultCode, data)\r\n            currentActivity.finish();\r\n        }\r\n    })\r\n\r\n// ...\r\nIn your `module`, do not release `MediaProjection`, `VirtualDisplay`, and `Image` within `onImageAvailable`. The capturing should be stopped once your service is stopped:\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        handler.removeCallbacks(captureRunnable);\r\n        \r\n        // Stop MediaProjection right here:\r\n        mediaProjection.stop();\r\n    \r\n        // Release VirtualDisplay if it&#39;s not already released:\r\n        if (virtualDisplay != null) {\r\n            virtualDisplay.release();\r\n        }\r\n    }\r\n\r\nFollowing these steps should keep the `MediaProjection` alive and capturing during the lifetime of your `ScreenCaptureService`. With the right code in the `ScreenCaptureService&#39;s` onStartCommand method, you should be able to start capturing screen shots immediately after Service is instantiated, storing them in the Pictures directory.","title":"saving Screenshot to Pictures Directory not working in the foreground Service in Java","body":"<p>I have examined your code, and it seems that <code>MediaProjection</code> instance is not being passed properly to your <code>ScreenCaptureService</code>, and therefore, screen capturing does not start.</p>\n<p>In your <code>ScreenCaptureModule.java</code>, you are creating <code>VirtualDisplay</code> which initiates capturing and is being released in the same scope. Thus, your capturing process ends immediately after you chose to start screen recording.</p>\n<p>A better approach would be not to start and then stop <code>MediaProjection</code> immediately but to keep it running as long as you need to capture the screenshots:</p>\n<p>In your <code>ScreenCaptureService.java</code>, add a static method to start your service and pass <code>MediaProjection</code> data as an extra in the Intent:</p>\n<pre><code>public class ScreenCaptureService extends Service {\n    public static final String EXTRA_RESULT_CODE = &quot;resultCode&quot;;\n    public static final String EXTRA_RESULT_DATA = &quot;resultData&quot;;\n\n    public static void start(Context context, int resultCode, Intent resultData) {\n        Intent i = new Intent(context, ScreenCaptureService.class);\n        \n        i.putExtra(EXTRA_RESULT_CODE, resultCode);\n        i.putExtra(EXTRA_RESULT_DATA, resultData);\n        \n        context.startService(i);\n    }\n    ...\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        int resultCode = intent.getIntExtra(EXTRA_RESULT_CODE, 0);\n        Intent resultData = intent.getParcelableExtra(EXTRA_RESULT_DATA);\n        \n        // Initialize MediaProjection using data received from ScreenCaptureModule\n        MediaProjection mediaProjection = mediaProjectionManager.getMediaProjection(resultCode, resultData);\n        \n        // Initialize your VirtualDisplay and ImageReader here\n\n        // Don't forget to stop MediaProjection when the Service is destroyed\n    }\n    ...\n}\n</code></pre>\n<p>In your <code>ScreenCaptureModule.java</code>, replace <code>currentActivity.startService(serviceIntent);</code> with <code>ScreenCaptureService.start(currentActivity, resultCode, data);:</code></p>\n<p>// ... Your existing dialog code ...\n.</p>\n<pre><code>setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n    @Override\n    public void onClick(DialogInterface dialog, int which) {\n        ScreenCaptureService.start(currentActivity, resultCode, data)\n        currentActivity.finish();\n    }\n})\n</code></pre>\n<p>// ...\nIn your <code>module</code>, do not release <code>MediaProjection</code>, <code>VirtualDisplay</code>, and <code>Image</code> within <code>onImageAvailable</code>. The capturing should be stopped once your service is stopped:</p>\n<pre><code>@Override\npublic void onDestroy() {\n    super.onDestroy();\n    handler.removeCallbacks(captureRunnable);\n    \n    // Stop MediaProjection right here:\n    mediaProjection.stop();\n\n    // Release VirtualDisplay if it's not already released:\n    if (virtualDisplay != null) {\n        virtualDisplay.release();\n    }\n}\n</code></pre>\n<p>Following these steps should keep the <code>MediaProjection</code> alive and capturing during the lifetime of your <code>ScreenCaptureService</code>. With the right code in the <code>ScreenCaptureService's</code> onStartCommand method, you should be able to start capturing screen shots immediately after Service is instantiated, storing them in the Pictures directory.</p>\n"}],"owner":{"account_id":22481280,"reputation":21,"user_id":16786075,"display_name":"Holaba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1691856269,"creation_date":1691837472,"question_id":76888920,"body_markdown":"I have a React Native project. this app should captures the user screen and activities in the foreground. React Native cannot do this thing so I used Native Modules to write java. I made two java file which are `ScreenCaptureModule.java` and `ScreenCaptureService.java`. in this app I reach to: when the user opens the app he will see a Start Screen Capture button. when the user press on this button it will show a Dialog box like this: \r\n```\r\n AlertDialog.Builder builder = new AlertDialog.Builder(currentActivity);\r\n            builder.setTitle(&quot;Welcome, user!&quot;)\r\n                    .setMessage(&quot;You are about to use my app, which captures your screen every one second. Are you willing to proceed?&quot;)\r\n                    .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            Intent serviceIntent = new Intent(currentActivity, ScreenCaptureService.class);\r\n                            currentActivity.startService(serviceIntent);\r\n                            currentActivity.finish();\r\n                        }\r\n                    })\r\n                    .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            // User declined, do nothing\r\n                        }\r\n                    })\r\n                    .show(); \r\n```\r\nif the user press on Yes the app will close and it will show a Notification like this:  \r\n\r\n```\r\n private void showNotification() {\r\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        if (notificationManager == null) {\r\n            return;\r\n        }\r\n\r\n        String channelId = &quot;screen_capture_channel&quot;;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(channelId, &quot;Screen Capture&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channelId)\r\n                .setContentTitle(&quot;Screen Capture&quot;)\r\n                .setContentText(&quot;Your screen is currently being captured. You can find the captures in the Pictures Directory.&quot;)\r\n                .setSmallIcon(R.drawable.ic_notification)\r\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n                .setAutoCancel(true);\r\n\r\n        notificationManager.notify(1, builder.build());\r\n    } \r\n```\r\nafter the Notification shown it should capture the screen every one second and save it in the Pictures Directory.  it shows the Notification but it doesn&#39;t save it in Pictures Directory. this is the problem. and now\r\nI&#39;ll give you the code of  `ScreenCapture.java` , `ScreenCaptureService.java` and `React Native`  to see How I call the methods. Again: the problem is when the app starting in the foreground it doesn&#39;t capture or save the image in the Pictures directory. it only shows a notification. \r\n\r\n#  **ScreenCaptureModule.java:** \r\n```\r\npublic class ScreenCaptureModule extends ReactContextBaseJavaModule {\r\n    private static final int REQUEST_MEDIA_PROJECTION = 1;\r\n    private final MediaProjectionManager mediaProjectionManager;\r\n    private ImageReader imageReader;\r\n    private int screenshotCounter = 1;\r\n\r\n    private final ReactApplicationContext reactContext;\r\n\r\n    public ScreenCaptureModule(ReactApplicationContext reactContext) {\r\n        super(reactContext);\r\n        this.reactContext = reactContext;\r\n        mediaProjectionManager = (MediaProjectionManager) reactContext.getSystemService(Context.MEDIA_PROJECTION_SERVICE);\r\n        reactContext.addActivityEventListener(activityEventListener);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public String getName() {\r\n        return &quot;ScreenCaptureModule&quot;;\r\n    }\r\n\r\n    @ReactMethod\r\n    public void startScreenCapture() {\r\n        Activity currentActivity = getCurrentActivity();\r\n        if (currentActivity != null) {\r\n           // Here is the show of dialog box when click on start capture button\r\n        }\r\n    }\r\n\r\n\r\n    private final ActivityEventListener activityEventListener = new BaseActivityEventListener() {\r\n      @Override\r\npublic void onActivityResult(Activity activity, int requestCode, int resultCode, Intent data) {\r\n    if (requestCode == REQUEST_MEDIA_PROJECTION &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n        MediaProjection mediaProjection = mediaProjectionManager.getMediaProjection(resultCode, data);\r\n\r\n        DisplayMetrics metrics = new DisplayMetrics();\r\n        WindowManager windowManager = (WindowManager) getReactApplicationContext().getSystemService(Context.WINDOW_SERVICE);\r\n        windowManager.getDefaultDisplay().getMetrics(metrics);\r\n        @SuppressLint(&quot;WrongConstant&quot;) ImageReader imageReader = ImageReader.newInstance(metrics.widthPixels, metrics.heightPixels, PixelFormat.RGBA_8888, 1);\r\n        VirtualDisplay virtualDisplay = mediaProjection.createVirtualDisplay(\r\n                &quot;ScreenCapture&quot;,\r\n                metrics.widthPixels,\r\n                metrics.heightPixels,\r\n                metrics.densityDpi,\r\n                DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,\r\n                imageReader.getSurface(),\r\n                null,\r\n                null\r\n        );\r\n\r\n        imageReader.setOnImageAvailableListener(new ImageReader.OnImageAvailableListener() {\r\n            @Override\r\n            public void onImageAvailable(ImageReader reader) {\r\n                Image image = null;\r\n                FileOutputStream fos = null;\r\n                Bitmap bitmap = null;\r\n\r\n                try {\r\n                    image = reader.acquireLatestImage();\r\n                    if (image != null) {\r\n                        Image.Plane[] planes = image.getPlanes();\r\n                        ByteBuffer buffer = planes[0].getBuffer();\r\n                        int pixelStride = planes[0].getPixelStride();\r\n                        int rowStride = planes[0].getRowStride();\r\n                        int rowPadding = rowStride - pixelStride * metrics.widthPixels;\r\n\r\n                        bitmap = Bitmap.createBitmap(metrics.widthPixels + rowPadding / pixelStride, metrics.heightPixels, Bitmap.Config.ARGB_8888);\r\n                        bitmap.copyPixelsFromBuffer(buffer);\r\n\r\n                        File screenshotsDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\r\n                        File screenshotFile = new File(screenshotsDir, &quot;screenshot&quot; + screenshotCounter + &quot;.png&quot;);\r\n                        screenshotCounter++;\r\n                        fos = new FileOutputStream(screenshotFile);\r\n                        bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n                        fos.flush(); // Add this line to flush the data to the file\r\n\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    if (fos != null) {\r\n                        try {\r\n                            fos.close();\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                    if (bitmap != null) {\r\n                        bitmap.recycle();\r\n                    }\r\n                    if (image != null) {\r\n                        image.close();\r\n                    }\r\n                    if (virtualDisplay != null) {\r\n                        virtualDisplay.release();\r\n                    }\r\n                    if (mediaProjection != null) {\r\n                        mediaProjection.stop();\r\n                    }\r\n                }\r\n            }\r\n        }, null);\r\n    }\r\n}\r\n\r\n    };\r\n\r\n    @SuppressLint(&quot;WrongConstant&quot;)\r\n    private VirtualDisplay createVirtualDisplay(MediaProjection mediaProjection) {\r\n        DisplayMetrics metrics = new DisplayMetrics();\r\n        WindowManager windowManager = (WindowManager) reactContext.getSystemService(Context.WINDOW_SERVICE);\r\n        windowManager.getDefaultDisplay().getMetrics(metrics);\r\n\r\n        imageReader = ImageReader.newInstance(\r\n                metrics.widthPixels,\r\n                metrics.heightPixels,\r\n                PixelFormat.RGBA_8888,\r\n                1\r\n        );\r\n\r\n        return mediaProjection.createVirtualDisplay(\r\n                &quot;ScreenCapture&quot;,\r\n                metrics.widthPixels,\r\n                metrics.heightPixels,\r\n                metrics.densityDpi,\r\n                DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,\r\n                imageReader.getSurface(),\r\n                null,\r\n                null\r\n        );\r\n    }\r\n}\r\n```\r\n# **ScreenCaptureService.java:**\r\n```\r\n\r\npublic class ScreenCaptureService extends Service {\r\n    private static final int SCREEN_CAPTURE_INTERVAL = 1000; // 1 second\r\n    private Handler handler;\r\n    private Runnable captureRunnable;\r\n    private ImageReader imageReader;\r\n    private int screenshotCounter = 1;\r\n\r\n    private VirtualDisplay virtualDisplay;\r\n\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        handler = new Handler();\r\n        captureRunnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                captureScreen();\r\n                handler.postDelayed(this, SCREEN_CAPTURE_INTERVAL);\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        handler.post(captureRunnable);\r\n        showNotification();\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        handler.removeCallbacks(captureRunnable);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    private void captureScreen() {\r\n        imageReader.setOnImageAvailableListener(new ImageReader.OnImageAvailableListener() {\r\n            @Override\r\n            public void onImageAvailable(ImageReader reader) {\r\n                Image image = null;\r\n                FileOutputStream fos = null;\r\n                Bitmap bitmap = null;\r\n\r\n                try {\r\n                    image = reader.acquireLatestImage();\r\n                    if (image != null) {\r\n                        Image.Plane[] planes = image.getPlanes();\r\n                        ByteBuffer buffer = planes[0].getBuffer();\r\n                        int pixelStride = planes[0].getPixelStride();\r\n                        int rowStride = planes[0].getRowStride();\r\n                        int rowPadding = rowStride - pixelStride * image.getWidth();\r\n\r\n                        bitmap = Bitmap.createBitmap(image.getWidth() + rowPadding / pixelStride, image.getHeight(), Bitmap.Config.ARGB_8888);\r\n                        bitmap.copyPixelsFromBuffer(buffer);\r\n\r\n                        File screenshotsDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\r\n                        File screenshotFile = new File(screenshotsDir, &quot;screenshot&quot; + screenshotCounter + &quot;.png&quot;);\r\n                        screenshotCounter++;\r\n                        fos = new FileOutputStream(screenshotFile);\r\n                        bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\r\n                        fos.flush();\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    if (fos != null) {\r\n                        try {\r\n                            fos.close();\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                    if (bitmap != null) {\r\n                        bitmap.recycle();\r\n                    }\r\n                    if (image != null) {\r\n                        image.close();\r\n                    }\r\n                    if (virtualDisplay != null) {\r\n                        virtualDisplay.release();\r\n                    }\r\n                }\r\n            }\r\n        }, null);\r\n    }\r\n\r\n    private void showNotification() {\r\n      Here is the Notification\r\n    }\r\n}\r\n\r\n```\r\n\r\n# **React Native code:**\r\n```\r\nconst {ScreenCaptureModule} = NativeModules\r\nconst App = () =&gt; {\r\n  const startScreenCapture = () =&gt; {\r\n    ScreenCaptureModule.startScrerenCapture();\r\n  };\r\n  return (\r\n    &lt;View&gt;\r\n      &lt;Button onPress={startScreenCapture} title=&quot;Start Screen Capture&quot; /&gt;\r\n\r\n    &lt;/View&gt;\r\n  )\r\n}\r\n\r\nexport default App\r\n``` \r\nThis is the full code of my project. I think the issue is that while the notification function works as expected, no captures are stored in the designated directory happened because I have something wrong in the captureScreen function in ScreenCaptureService.java.\r\n\r\nNote: I granted the WRITE_EXTERNAL_PERMISSION. and I&#39;ll give you my Manifest.xml: \r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.MEDIA_CONTENT_CONTROL&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n\r\n    &lt;application\r\n      android:name=&quot;.MainApplication&quot;\r\n      android:label=&quot;@string/app_name&quot;\r\n      android:icon=&quot;@mipmap/ic_launcher&quot;\r\n      android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n      android:allowBackup=&quot;false&quot;\r\n      android:theme=&quot;@style/AppTheme&quot;&gt;\r\n      \r\n      &lt;activity\r\n        android:name=&quot;.MainActivity&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|screenSize|smallestScreenSize|uiMode&quot;\r\n        android:launchMode=&quot;singleTask&quot;\r\n        android:windowSoftInputMode=&quot;adjustResize&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n      &lt;/activity&gt;\r\n\r\n        &lt;service android:name=&quot;com.test.ScreenCaptureService&quot; android:exported=&quot;false&quot; /&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\n","title":"saving Screenshot to Pictures Directory not working in the foreground Service in Java","body":"<p>I have a React Native project. this app should captures the user screen and activities in the foreground. React Native cannot do this thing so I used Native Modules to write java. I made two java file which are <code>ScreenCaptureModule.java</code> and <code>ScreenCaptureService.java</code>. in this app I reach to: when the user opens the app he will see a Start Screen Capture button. when the user press on this button it will show a Dialog box like this:</p>\n<pre><code> AlertDialog.Builder builder = new AlertDialog.Builder(currentActivity);\n            builder.setTitle(&quot;Welcome, user!&quot;)\n                    .setMessage(&quot;You are about to use my app, which captures your screen every one second. Are you willing to proceed?&quot;)\n                    .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialog, int which) {\n                            Intent serviceIntent = new Intent(currentActivity, ScreenCaptureService.class);\n                            currentActivity.startService(serviceIntent);\n                            currentActivity.finish();\n                        }\n                    })\n                    .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialog, int which) {\n                            // User declined, do nothing\n                        }\n                    })\n                    .show(); \n</code></pre>\n<p>if the user press on Yes the app will close and it will show a Notification like this:</p>\n<pre><code> private void showNotification() {\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        if (notificationManager == null) {\n            return;\n        }\n\n        String channelId = &quot;screen_capture_channel&quot;;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel channel = new NotificationChannel(channelId, &quot;Screen Capture&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n            notificationManager.createNotificationChannel(channel);\n        }\n\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, channelId)\n                .setContentTitle(&quot;Screen Capture&quot;)\n                .setContentText(&quot;Your screen is currently being captured. You can find the captures in the Pictures Directory.&quot;)\n                .setSmallIcon(R.drawable.ic_notification)\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n                .setAutoCancel(true);\n\n        notificationManager.notify(1, builder.build());\n    } \n</code></pre>\n<p>after the Notification shown it should capture the screen every one second and save it in the Pictures Directory.  it shows the Notification but it doesn't save it in Pictures Directory. this is the problem. and now\nI'll give you the code of  <code>ScreenCapture.java</code> , <code>ScreenCaptureService.java</code> and <code>React Native</code>  to see How I call the methods. Again: the problem is when the app starting in the foreground it doesn't capture or save the image in the Pictures directory. it only shows a notification.</p>\n<h1><strong>ScreenCaptureModule.java:</strong></h1>\n<pre><code>public class ScreenCaptureModule extends ReactContextBaseJavaModule {\n    private static final int REQUEST_MEDIA_PROJECTION = 1;\n    private final MediaProjectionManager mediaProjectionManager;\n    private ImageReader imageReader;\n    private int screenshotCounter = 1;\n\n    private final ReactApplicationContext reactContext;\n\n    public ScreenCaptureModule(ReactApplicationContext reactContext) {\n        super(reactContext);\n        this.reactContext = reactContext;\n        mediaProjectionManager = (MediaProjectionManager) reactContext.getSystemService(Context.MEDIA_PROJECTION_SERVICE);\n        reactContext.addActivityEventListener(activityEventListener);\n    }\n\n    @NonNull\n    @Override\n    public String getName() {\n        return &quot;ScreenCaptureModule&quot;;\n    }\n\n    @ReactMethod\n    public void startScreenCapture() {\n        Activity currentActivity = getCurrentActivity();\n        if (currentActivity != null) {\n           // Here is the show of dialog box when click on start capture button\n        }\n    }\n\n\n    private final ActivityEventListener activityEventListener = new BaseActivityEventListener() {\n      @Override\npublic void onActivityResult(Activity activity, int requestCode, int resultCode, Intent data) {\n    if (requestCode == REQUEST_MEDIA_PROJECTION &amp;&amp; resultCode == Activity.RESULT_OK) {\n        MediaProjection mediaProjection = mediaProjectionManager.getMediaProjection(resultCode, data);\n\n        DisplayMetrics metrics = new DisplayMetrics();\n        WindowManager windowManager = (WindowManager) getReactApplicationContext().getSystemService(Context.WINDOW_SERVICE);\n        windowManager.getDefaultDisplay().getMetrics(metrics);\n        @SuppressLint(&quot;WrongConstant&quot;) ImageReader imageReader = ImageReader.newInstance(metrics.widthPixels, metrics.heightPixels, PixelFormat.RGBA_8888, 1);\n        VirtualDisplay virtualDisplay = mediaProjection.createVirtualDisplay(\n                &quot;ScreenCapture&quot;,\n                metrics.widthPixels,\n                metrics.heightPixels,\n                metrics.densityDpi,\n                DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,\n                imageReader.getSurface(),\n                null,\n                null\n        );\n\n        imageReader.setOnImageAvailableListener(new ImageReader.OnImageAvailableListener() {\n            @Override\n            public void onImageAvailable(ImageReader reader) {\n                Image image = null;\n                FileOutputStream fos = null;\n                Bitmap bitmap = null;\n\n                try {\n                    image = reader.acquireLatestImage();\n                    if (image != null) {\n                        Image.Plane[] planes = image.getPlanes();\n                        ByteBuffer buffer = planes[0].getBuffer();\n                        int pixelStride = planes[0].getPixelStride();\n                        int rowStride = planes[0].getRowStride();\n                        int rowPadding = rowStride - pixelStride * metrics.widthPixels;\n\n                        bitmap = Bitmap.createBitmap(metrics.widthPixels + rowPadding / pixelStride, metrics.heightPixels, Bitmap.Config.ARGB_8888);\n                        bitmap.copyPixelsFromBuffer(buffer);\n\n                        File screenshotsDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\n                        File screenshotFile = new File(screenshotsDir, &quot;screenshot&quot; + screenshotCounter + &quot;.png&quot;);\n                        screenshotCounter++;\n                        fos = new FileOutputStream(screenshotFile);\n                        bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\n                        fos.flush(); // Add this line to flush the data to the file\n\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                } finally {\n                    if (fos != null) {\n                        try {\n                            fos.close();\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                    if (bitmap != null) {\n                        bitmap.recycle();\n                    }\n                    if (image != null) {\n                        image.close();\n                    }\n                    if (virtualDisplay != null) {\n                        virtualDisplay.release();\n                    }\n                    if (mediaProjection != null) {\n                        mediaProjection.stop();\n                    }\n                }\n            }\n        }, null);\n    }\n}\n\n    };\n\n    @SuppressLint(&quot;WrongConstant&quot;)\n    private VirtualDisplay createVirtualDisplay(MediaProjection mediaProjection) {\n        DisplayMetrics metrics = new DisplayMetrics();\n        WindowManager windowManager = (WindowManager) reactContext.getSystemService(Context.WINDOW_SERVICE);\n        windowManager.getDefaultDisplay().getMetrics(metrics);\n\n        imageReader = ImageReader.newInstance(\n                metrics.widthPixels,\n                metrics.heightPixels,\n                PixelFormat.RGBA_8888,\n                1\n        );\n\n        return mediaProjection.createVirtualDisplay(\n                &quot;ScreenCapture&quot;,\n                metrics.widthPixels,\n                metrics.heightPixels,\n                metrics.densityDpi,\n                DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,\n                imageReader.getSurface(),\n                null,\n                null\n        );\n    }\n}\n</code></pre>\n<h1><strong>ScreenCaptureService.java:</strong></h1>\n<pre><code>\npublic class ScreenCaptureService extends Service {\n    private static final int SCREEN_CAPTURE_INTERVAL = 1000; // 1 second\n    private Handler handler;\n    private Runnable captureRunnable;\n    private ImageReader imageReader;\n    private int screenshotCounter = 1;\n\n    private VirtualDisplay virtualDisplay;\n\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        handler = new Handler();\n        captureRunnable = new Runnable() {\n            @Override\n            public void run() {\n                captureScreen();\n                handler.postDelayed(this, SCREEN_CAPTURE_INTERVAL);\n            }\n        };\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        handler.post(captureRunnable);\n        showNotification();\n        return START_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        handler.removeCallbacks(captureRunnable);\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    private void captureScreen() {\n        imageReader.setOnImageAvailableListener(new ImageReader.OnImageAvailableListener() {\n            @Override\n            public void onImageAvailable(ImageReader reader) {\n                Image image = null;\n                FileOutputStream fos = null;\n                Bitmap bitmap = null;\n\n                try {\n                    image = reader.acquireLatestImage();\n                    if (image != null) {\n                        Image.Plane[] planes = image.getPlanes();\n                        ByteBuffer buffer = planes[0].getBuffer();\n                        int pixelStride = planes[0].getPixelStride();\n                        int rowStride = planes[0].getRowStride();\n                        int rowPadding = rowStride - pixelStride * image.getWidth();\n\n                        bitmap = Bitmap.createBitmap(image.getWidth() + rowPadding / pixelStride, image.getHeight(), Bitmap.Config.ARGB_8888);\n                        bitmap.copyPixelsFromBuffer(buffer);\n\n                        File screenshotsDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\n                        File screenshotFile = new File(screenshotsDir, &quot;screenshot&quot; + screenshotCounter + &quot;.png&quot;);\n                        screenshotCounter++;\n                        fos = new FileOutputStream(screenshotFile);\n                        bitmap.compress(Bitmap.CompressFormat.PNG, 100, fos);\n                        fos.flush();\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                } finally {\n                    if (fos != null) {\n                        try {\n                            fos.close();\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                    if (bitmap != null) {\n                        bitmap.recycle();\n                    }\n                    if (image != null) {\n                        image.close();\n                    }\n                    if (virtualDisplay != null) {\n                        virtualDisplay.release();\n                    }\n                }\n            }\n        }, null);\n    }\n\n    private void showNotification() {\n      Here is the Notification\n    }\n}\n\n</code></pre>\n<h1><strong>React Native code:</strong></h1>\n<pre><code>const {ScreenCaptureModule} = NativeModules\nconst App = () =&gt; {\n  const startScreenCapture = () =&gt; {\n    ScreenCaptureModule.startScrerenCapture();\n  };\n  return (\n    &lt;View&gt;\n      &lt;Button onPress={startScreenCapture} title=&quot;Start Screen Capture&quot; /&gt;\n\n    &lt;/View&gt;\n  )\n}\n\nexport default App\n</code></pre>\n<p>This is the full code of my project. I think the issue is that while the notification function works as expected, no captures are stored in the designated directory happened because I have something wrong in the captureScreen function in ScreenCaptureService.java.</p>\n<p>Note: I granted the WRITE_EXTERNAL_PERMISSION. and I'll give you my Manifest.xml:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MEDIA_CONTENT_CONTROL&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n\n    &lt;application\n      android:name=&quot;.MainApplication&quot;\n      android:label=&quot;@string/app_name&quot;\n      android:icon=&quot;@mipmap/ic_launcher&quot;\n      android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n      android:allowBackup=&quot;false&quot;\n      android:theme=&quot;@style/AppTheme&quot;&gt;\n      \n      &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|screenSize|smallestScreenSize|uiMode&quot;\n        android:launchMode=&quot;singleTask&quot;\n        android:windowSoftInputMode=&quot;adjustResize&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n      &lt;/activity&gt;\n\n        &lt;service android:name=&quot;com.test.ScreenCaptureService&quot; android:exported=&quot;false&quot; /&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n\n</code></pre>\n"},{"tags":["java","spring","spring-aop"],"answers":[{"comments":[{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1691859274,"post_id":76889996,"comment_id":135549678,"body_markdown":"Thank you! Does a non-managed `@Aspect` (not marked as a `@Component`) ever make sense?","body":"Thank you! Does a non-managed <code>@Aspect</code> (not marked as a <code>@Component</code>) ever make sense?"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1691860845,"post_id":76889996,"comment_id":135549816,"body_markdown":"* or declared in a `@Configuration` class","body":"* or declared in a <code>@Configuration</code> class"},{"owner":{"account_id":16161163,"reputation":90,"user_id":11667201,"display_name":"mmeqbel"},"score":1,"creation_date":1691953432,"post_id":76889996,"comment_id":135557184,"body_markdown":"no, it should be registered in the application context so Spring can dynamically proxies other beans in order to add the advices in their right places at run-time","body":"no, it should be registered in the application context so Spring can dynamically proxies other beans in order to add the advices in their right places at run-time"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1691975869,"post_id":76889996,"comment_id":135558986,"body_markdown":"Instead of `@Component`, you could also use a `@Bean` factory method in your config class. A non-managed `@Aspect` makes a whole lot of sense when it is a native AspectJ one, used via either load-time orcompile-time weaving. Then a `@Component` annotation would even be counter-productive, because it would cause the native aspect to be picked up again by Spring, which would then try to use it for Spring AOP, too.","body":"Instead of <code>@Component</code>, you could also use a <code>@Bean</code> factory method in your config class. A non-managed <code>@Aspect</code> makes a whole lot of sense when it is a native AspectJ one, used via either load-time orcompile-time weaving. Then a <code>@Component</code> annotation would even be counter-productive, because it would cause the native aspect to be picked up again by Spring, which would then try to use it for Spring AOP, too."}],"tags":[],"owner":{"account_id":16161163,"reputation":90,"user_id":11667201,"display_name":"mmeqbel"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691855478,"creation_date":1691854747,"answer_id":76889996,"question_id":76889714,"body_markdown":"`@Aspect` is part of the AspectJ library, which is a stand-alone library that shipped with Spring and therefore, Spring can&#39;t change the `@Aspect` annotation source code to add the meta `@Component` (spring can&#39;t make `@Aspect` a stereotype in another word)\r\n\r\n`@Aspect` is part of aspectj annotations: `org.aspectj.lang.annotation.Aspect`\r\n\r\nfor \r\n\r\n&gt; if @Component is not necessary for aspect classes\r\n\r\n`@Component` is there just to register the Aspect in the application context via component scan (`@ComponentScan` that you add to `Config` class let Spring search for stereotype annotations and register them in the application context) \r\n\r\n","title":"Does an @Aspect have to be a @Component?","body":"<p><code>@Aspect</code> is part of the AspectJ library, which is a stand-alone library that shipped with Spring and therefore, Spring can't change the <code>@Aspect</code> annotation source code to add the meta <code>@Component</code> (spring can't make <code>@Aspect</code> a stereotype in another word)</p>\n<p><code>@Aspect</code> is part of aspectj annotations: <code>org.aspectj.lang.annotation.Aspect</code></p>\n<p>for</p>\n<blockquote>\n<p>if @Component is not necessary for aspect classes</p>\n</blockquote>\n<p><code>@Component</code> is there just to register the Aspect in the application context via component scan (<code>@ComponentScan</code> that you add to <code>Config</code> class let Spring search for stereotype annotations and register them in the application context)</p>\n"},{"comments":[{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1691860712,"post_id":76890084,"comment_id":135549803,"body_markdown":"Does an `@Aspect` not managed by Spring ever make sense?","body":"Does an <code>@Aspect</code> not managed by Spring ever make sense?"},{"owner":{"account_id":16161163,"reputation":90,"user_id":11667201,"display_name":"mmeqbel"},"score":0,"creation_date":1691953817,"post_id":76890084,"comment_id":135557223,"body_markdown":"beans registered via java-config are still valid managed components","body":"beans registered via java-config are still valid managed components"},{"owner":{"account_id":4383566,"reputation":2775,"user_id":3574494,"display_name":"larsgrefer"},"score":0,"creation_date":1692395939,"post_id":76890084,"comment_id":135622377,"body_markdown":"@JoreJoh An `@Aspect` not mananaged by Spring does make sense, when you are not using spring-aop, but &quot;normal&quot; AspectJ with compile-time-weaving, or load-time-weaving","body":"@JoreJoh An <code>@Aspect</code> not mananaged by Spring does make sense, when you are not using spring-aop, but &quot;normal&quot; AspectJ with compile-time-weaving, or load-time-weaving"}],"tags":[],"owner":{"account_id":17900577,"reputation":11,"user_id":13004914,"display_name":"Alhassan Abubakar Sadiq"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691856051,"creation_date":1691856051,"answer_id":76890084,"question_id":76889714,"body_markdown":"In Spring, the `@Aspect` annotation is not directly related to being a stereotype annotation like `@Component`, `@Service`, or `@Repository`. Stereotype annotations are used to indicate that a class fulfills a specific role in the application, and they are often used in conjunction with component scanning to automatically discover and register those components in the Spring context.\r\n\r\nWhile `@Component`, `@Service`, and `@Repository` are all stereotype annotations, `@Aspect` serves a different purpose. It is used to declare a class as an aspect, which is a modular unit of cross-cutting concerns in Spring AOP (Aspect-Oriented Programming). Aspects are not meant to be automatically discovered by component scanning like typical Spring components.\r\n\r\nWhen you apply the `@Component` annotation to an aspect class, you&#39;re telling Spring to treat the aspect as a regular Spring component and manage its lifecycle. This is why you see the aspect being created and its advice being applied when it&#39;s a `@Component`.\r\n\r\nHowever, if you remove the `@Component` annotation from your aspect class, Spring no longer treats it as a managed component. As a result, the aspect is not registered with the Spring context, and its advice won&#39;t be applied to the target methods.\r\n\r\nTo summarize:\r\n\r\n1. The `@Aspect` annotation is not a stereotype annotation like `@Component`. It&#39;s used to define a class as an aspect to handle cross-cutting concerns.\r\n2. Adding `@Component` to an aspect class makes Spring treat it as a managed component, and the aspect&#39;s advice will be applied.\r\n3. Removing `@Component` from an aspect class will prevent Spring from managing it, and the aspect&#39;s advice won&#39;t be applied.\r\n\r\nSo, while `@Component` can be used with an aspect class to manage its lifecycle, it&#39;s not a requirement for aspects to function properly. Aspects can be used effectively without being managed components, but you&#39;ll need to manually register them with Spring&#39;s AOP configuration if they are not discovered via component scanning.","title":"Does an @Aspect have to be a @Component?","body":"<p>In Spring, the <code>@Aspect</code> annotation is not directly related to being a stereotype annotation like <code>@Component</code>, <code>@Service</code>, or <code>@Repository</code>. Stereotype annotations are used to indicate that a class fulfills a specific role in the application, and they are often used in conjunction with component scanning to automatically discover and register those components in the Spring context.</p>\n<p>While <code>@Component</code>, <code>@Service</code>, and <code>@Repository</code> are all stereotype annotations, <code>@Aspect</code> serves a different purpose. It is used to declare a class as an aspect, which is a modular unit of cross-cutting concerns in Spring AOP (Aspect-Oriented Programming). Aspects are not meant to be automatically discovered by component scanning like typical Spring components.</p>\n<p>When you apply the <code>@Component</code> annotation to an aspect class, you're telling Spring to treat the aspect as a regular Spring component and manage its lifecycle. This is why you see the aspect being created and its advice being applied when it's a <code>@Component</code>.</p>\n<p>However, if you remove the <code>@Component</code> annotation from your aspect class, Spring no longer treats it as a managed component. As a result, the aspect is not registered with the Spring context, and its advice won't be applied to the target methods.</p>\n<p>To summarize:</p>\n<ol>\n<li>The <code>@Aspect</code> annotation is not a stereotype annotation like <code>@Component</code>. It's used to define a class as an aspect to handle cross-cutting concerns.</li>\n<li>Adding <code>@Component</code> to an aspect class makes Spring treat it as a managed component, and the aspect's advice will be applied.</li>\n<li>Removing <code>@Component</code> from an aspect class will prevent Spring from managing it, and the aspect's advice won't be applied.</li>\n</ol>\n<p>So, while <code>@Component</code> can be used with an aspect class to manage its lifecycle, it's not a requirement for aspects to function properly. Aspects can be used effectively without being managed components, but you'll need to manually register them with Spring's AOP configuration if they are not discovered via component scanning.</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76889996,"answer_count":2,"score":1,"last_activity_date":1691856051,"creation_date":1691850208,"question_id":76889714,"body_markdown":"I made a tiny app to check a few things. Here&#39;s the code (assume all the files are in the same package)\r\n```java\r\n@Configuration\r\n@ComponentScan\r\n@EnableAspectJAutoProxy\r\npublic class Config {\r\n}\r\n```\r\n```java\r\n@Component\r\npublic class SomeBean {\r\n    public SomeBean() {\r\n        System.out.println(&quot;Creating SomeBean...&quot;);\r\n    }\r\n\r\n    public String someAspectedMethod() {\r\n        return &quot;some string&quot;;\r\n    }\r\n}\r\n```\r\n```java\r\n@Aspect\r\n@Component // note this\r\npublic class SomeAspect {\r\n\r\n    public SomeAspect() {\r\n        System.out.println(&quot;Creating SomeAspect...&quot;);\r\n    }\r\n\r\n    @Around(&quot;execution(String SomeBean.someAspectedMethod())&quot;)\r\n    public Object methodAdvice(ProceedingJoinPoint joinPoint) {\r\n        System.out.println(&quot;Running methodAdvice()...&quot;); // never gets printed\r\n        Object object;\r\n        try {\r\n            object = joinPoint.proceed();\r\n        } catch (Throwable e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return object;\r\n    }\r\n}\r\n```\r\n```java\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        var context = new AnnotationConfigApplicationContext(Config.class);\r\n        SomeBean someBean = context.getBean(SomeBean.class);\r\n        String returnedVal = someBean.someAspectedMethod();\r\n        System.out.println(returnedVal);\r\n        System.out.println(returnedVal.getClass());\r\n    }\r\n}\r\n```\r\nConsole output:\r\n```\r\nCreating SomeAspect...\r\nCreating SomeBean...\r\nRunning methodAspect()...\r\nsome string\r\nclass java.lang.String\r\n```\r\nI noticed that once I remove the `@Component` annotation, the aspect is no longer applied\r\n```java\r\n@Aspect\r\n// @Component\r\npublic class SomeAspect {\r\n```\r\nConsole output:\r\n```java\r\nCreating SomeBean...\r\nsome string\r\nclass java.lang.String\r\n```\r\nWhich begs the question: why isn&#39;t `@Aspect` a `@Component` (stereotype annotation) just like `@Service`, `@Repository` and a few others? And if `@Component` is not necessary for aspect classes, then why does the lack of it effectively disables my aspect?\r\n\r\n[This][1] doesn&#39;t answer my question\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33612156/how-aspect-with-component-annotation-works-under-the-hood","title":"Does an @Aspect have to be a @Component?","body":"<p>I made a tiny app to check a few things. Here's the code (assume all the files are in the same package)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ComponentScan\n@EnableAspectJAutoProxy\npublic class Config {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SomeBean {\n    public SomeBean() {\n        System.out.println(&quot;Creating SomeBean...&quot;);\n    }\n\n    public String someAspectedMethod() {\n        return &quot;some string&quot;;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component // note this\npublic class SomeAspect {\n\n    public SomeAspect() {\n        System.out.println(&quot;Creating SomeAspect...&quot;);\n    }\n\n    @Around(&quot;execution(String SomeBean.someAspectedMethod())&quot;)\n    public Object methodAdvice(ProceedingJoinPoint joinPoint) {\n        System.out.println(&quot;Running methodAdvice()...&quot;); // never gets printed\n        Object object;\n        try {\n            object = joinPoint.proceed();\n        } catch (Throwable e) {\n            throw new RuntimeException(e);\n        }\n        return object;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class App {\n    public static void main(String[] args) {\n        var context = new AnnotationConfigApplicationContext(Config.class);\n        SomeBean someBean = context.getBean(SomeBean.class);\n        String returnedVal = someBean.someAspectedMethod();\n        System.out.println(returnedVal);\n        System.out.println(returnedVal.getClass());\n    }\n}\n</code></pre>\n<p>Console output:</p>\n<pre><code>Creating SomeAspect...\nCreating SomeBean...\nRunning methodAspect()...\nsome string\nclass java.lang.String\n</code></pre>\n<p>I noticed that once I remove the <code>@Component</code> annotation, the aspect is no longer applied</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n// @Component\npublic class SomeAspect {\n</code></pre>\n<p>Console output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Creating SomeBean...\nsome string\nclass java.lang.String\n</code></pre>\n<p>Which begs the question: why isn't <code>@Aspect</code> a <code>@Component</code> (stereotype annotation) just like <code>@Service</code>, <code>@Repository</code> and a few others? And if <code>@Component</code> is not necessary for aspect classes, then why does the lack of it effectively disables my aspect?</p>\n<p><a href=\"https://stackoverflow.com/questions/33612156/how-aspect-with-component-annotation-works-under-the-hood\">This</a> doesn't answer my question</p>\n"},{"tags":["java","gradle","intellij-idea","gradle-kotlin-dsl"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1691994772,"post_id":76888617,"comment_id":135560521,"body_markdown":"Instead of using flatDir you can try to create a local Maven repository and put these libraries there. See the related discussion https://discuss.gradle.org/t/how-to-supply-source-jars-from-flatdir-for-eclipse-debugging/35670/7","body":"Instead of using flatDir you can try to create a local Maven repository and put these libraries there. See the related discussion <a href=\"https://discuss.gradle.org/t/how-to-supply-source-jars-from-flatdir-for-eclipse-debugging/35670/7\" rel=\"nofollow noreferrer\">discuss.gradle.org/t/&hellip;</a>"}],"owner":{"account_id":5255036,"reputation":1267,"user_id":4198170,"display_name":"Tobse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691855911,"creation_date":1691832543,"question_id":76888617,"body_markdown":"I have a Gradle project with Koltin-DSL which stores the dependencies in a local directory called `lib`. This folder contains my `commons-lang3-3.12.0.jar` dependency.  \r\nHow can I reference an additional `commons-lang3-3.12.0-sources.jar` which contains the sources for this dependency?\r\nAfter a Gradle import, my IDE (IntelliJ) should be able to find the source code for this dependency, in my local filesystem - without searching it only.\r\n  \r\n#### Project Structure\r\n```text\r\nroot\r\n - app\r\n   - lib\r\n     commons-lang3-3.12.0.jar\r\n     commons-lang3-3.12.0-sources.jar &lt;-- I want to reference this\r\n  build.gradle.kts\r\n```\r\n\r\n#### `build.gradle.kts`\r\n```kotlin\r\nrepositories {\r\n  flatDir {\r\n    dirs(&quot;lib&quot;)\r\n  }\r\n}\r\n\r\ndependencies {\r\n  implementation(&quot;:commons-lang3:3.12.0&quot;)\r\n}\r\n```\r\n\r\nOn Maven this would work, by just follow the naming pattern with the suffix `sources.jar`.\r\nI found an answer, from [Peter Niederwieser](https://stackoverflow.com/a/22448170/4198170) that:\r\n&gt; Adding sources and Javadoc Jars for local libraries will be supported in Gradle 1.12 or 1.13\r\nBut I didn&#39;t find any hint in the Gradle Doku, how to setup.\r\n\r\nThe `commons-lang3` was just an example, and I know I can just add it as regular dependency and let the IDE download the sources from maven central. But I have other dependencies which are not published in the maven central or GitHub. So how could I just point Gradle to the Source file or JavaDoc - without manual choosing the files in the IDE with _Choose sources...:\r\n[![enter image description here][1]][1]_\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NKZ0a.png","title":"Add sources and Javadoc Jars to Gradle for local flatdir dependency","body":"<p>I have a Gradle project with Koltin-DSL which stores the dependencies in a local directory called <code>lib</code>. This folder contains my <code>commons-lang3-3.12.0.jar</code> dependency.<br />\nHow can I reference an additional <code>commons-lang3-3.12.0-sources.jar</code> which contains the sources for this dependency?\nAfter a Gradle import, my IDE (IntelliJ) should be able to find the source code for this dependency, in my local filesystem - without searching it only.</p>\n<h4>Project Structure</h4>\n<pre><code>root\n - app\n   - lib\n     commons-lang3-3.12.0.jar\n     commons-lang3-3.12.0-sources.jar &lt;-- I want to reference this\n  build.gradle.kts\n</code></pre>\n<h4><code>build.gradle.kts</code></h4>\n<pre class=\"lang-kotlin prettyprint-override\"><code>repositories {\n  flatDir {\n    dirs(&quot;lib&quot;)\n  }\n}\n\ndependencies {\n  implementation(&quot;:commons-lang3:3.12.0&quot;)\n}\n</code></pre>\n<p>On Maven this would work, by just follow the naming pattern with the suffix <code>sources.jar</code>.\nI found an answer, from <a href=\"https://stackoverflow.com/a/22448170/4198170\">Peter Niederwieser</a> that:</p>\n<blockquote>\n<p>Adding sources and Javadoc Jars for local libraries will be supported in Gradle 1.12 or 1.13\nBut I didn't find any hint in the Gradle Doku, how to setup.</p>\n</blockquote>\n<p>The <code>commons-lang3</code> was just an example, and I know I can just add it as regular dependency and let the IDE download the sources from maven central. But I have other dependencies which are not published in the maven central or GitHub. So how could I just point Gradle to the Source file or JavaDoc - without manual choosing the files in the IDE with <em>Choose sources...:\n<a href=\"https://i.stack.imgur.com/NKZ0a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NKZ0a.png\" alt=\"enter image description here\" /></a></em></p>\n"},{"tags":["java","spring-data-jpa","mybatis","spring-mybatis"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":9,"creation_date":1447253210,"post_id":33652936,"comment_id":55079274,"body_markdown":"MyBatis is not a JPA implementation. Don&#39;t see how you could use Spring-Data-JPA with it.","body":"MyBatis is not a JPA implementation. Don&#39;t see how you could use Spring-Data-JPA with it."},{"owner":{"account_id":4989547,"reputation":544,"user_id":4012202,"accept_rate":29,"display_name":"srini"},"score":0,"creation_date":1447254559,"post_id":33652936,"comment_id":55080215,"body_markdown":"@JBNizet Interesting that you mentioned it. I happened to assume that MyBatis is a ORM implementing JPA like Hibernate does. Guess this question is invalid in that case. Thank you.","body":"@JBNizet Interesting that you mentioned it. I happened to assume that MyBatis is a ORM implementing JPA like Hibernate does. Guess this question is invalid in that case. Thank you."},{"owner":{"account_id":10891011,"reputation":123,"user_id":8006794,"display_name":"Karthikeyan"},"score":0,"creation_date":1495692126,"post_id":33652936,"comment_id":75364170,"body_markdown":"You can show the complete spring xml file and complete stack trace. It will be useful to identify","body":"You can show the complete spring xml file and complete stack trace. It will be useful to identify"},{"owner":{"account_id":942344,"reputation":4204,"user_id":970200,"display_name":"Ian Lim"},"score":1,"creation_date":1515251342,"post_id":33652936,"comment_id":83233930,"body_markdown":"You can use both of them together (which I have been doing) but according to your info above, it is not enough to determine what you are trying to achieve.","body":"You can use both of them together (which I have been doing) but according to your info above, it is not enough to determine what you are trying to achieve."}],"answers":[{"tags":[],"owner":{"account_id":8398268,"reputation":41,"user_id":6304538,"display_name":"stormning"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462641110,"creation_date":1462641110,"answer_id":37091408,"question_id":33652936,"body_markdown":"Why not try [spring-data-jpa-extra][1]\r\n\r\n\r\n  [1]: https://github.com/stormning/spring-data-jpa-extra\r\n\r\nIt provide a dynamic query solution for spring-data-jpa like mybatis, but much easier than mybatis.\r\n\r\nI think you would like it  : )","title":"Spring Data JPA &amp; MyBatis","body":"<p>Why not try <a href=\"https://github.com/stormning/spring-data-jpa-extra\" rel=\"nofollow\">spring-data-jpa-extra</a></p>\n\n<p>It provide a dynamic query solution for spring-data-jpa like mybatis, but much easier than mybatis.</p>\n\n<p>I think you would like it  : )</p>\n"},{"comments":[{"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"score":1,"creation_date":1478697936,"post_id":37167591,"comment_id":68258321,"body_markdown":"This project is not up to date nor have a working demo. The author doesn&#39;t provide any information.","body":"This project is not up to date nor have a working demo. The author doesn&#39;t provide any information."},{"owner":{"display_name":"user2053904"},"score":0,"creation_date":1478703060,"post_id":37167591,"comment_id":68261442,"body_markdown":"Last commits is on Oct 6, 2016 so they are working on the project. On Issues tab I see some topic closed 6 minutes ago. If the project is not working now will be a update to Spring-Data version trouble. Try to open an issue.","body":"Last commits is on Oct 6, 2016 so they are working on the project. On Issues tab I see some topic closed 6 minutes ago. If the project is not working now will be a update to Spring-Data version trouble. Try to open an issue."},{"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"score":0,"creation_date":1478707341,"post_id":37167591,"comment_id":68264340,"body_markdown":"I am the one who open the issues. The plugin is not up to date and can&#39;t work with latest spring version, I am on it since more than a week and the author is not really answering to my questions. If you are a user of the plugin maybe you couldn&#39;t answer to the current issue :)","body":"I am the one who open the issues. The plugin is not up to date and can&#39;t work with latest spring version, I am on it since more than a week and the author is not really answering to my questions. If you are a user of the plugin maybe you couldn&#39;t answer to the current issue :)"}],"tags":[],"owner":{"display_name":"user2053904"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1462981765,"creation_date":1462981765,"answer_id":37167591,"question_id":33652936,"body_markdown":"# Spring Data MyBatis  \nIf you would **not** like to use a JPA implementation like [Spring-Data-JPA][1] module, but you like use [Spring-Data][2] you can find   [Spring-Data-Mybatis][3] a useful project.  \n\nI know that this is not precise answer to your question but I hope that this answer can be interesting.\n\n\n  [1]: http://projects.spring.io/spring-data-jpa\n  [2]: http://projects.spring.io/spring-data/ &quot;Spring Data project&quot;\n  [3]: https://github.com/jclagache/spring-data-mybatis","title":"Spring Data JPA &amp; MyBatis","body":"<h1>Spring Data MyBatis</h1>\n<p>If you would <strong>not</strong> like to use a JPA implementation like <a href=\"http://projects.spring.io/spring-data-jpa\" rel=\"nofollow noreferrer\">Spring-Data-JPA</a> module, but you like use <a href=\"http://projects.spring.io/spring-data/\" rel=\"nofollow noreferrer\" title=\"Spring Data project\">Spring-Data</a> you can find   <a href=\"https://github.com/jclagache/spring-data-mybatis\" rel=\"nofollow noreferrer\">Spring-Data-Mybatis</a> a useful project.</p>\n<p>I know that this is not precise answer to your question but I hope that this answer can be interesting.</p>\n"},{"comments":[{"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"score":0,"creation_date":1597137420,"post_id":46882434,"comment_id":112028775,"body_markdown":"I updated the repository link since the new version is now om easyJet namespace. The project is stable.","body":"I updated the repository link since the new version is now om easyJet namespace. The project is stable."}],"tags":[],"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597137382,"creation_date":1508736216,"answer_id":46882434,"question_id":33652936,"body_markdown":"## Spring-Data-Mybatis Hatunet version\r\n\r\nI am using this project: https://github.com/hatunet/spring-data-mybatis \r\n\r\nIt fit very well with spring-data-mybatis and it have also the paginated repository.\r\n\r\nWork very well on production project.\r\n\r\n**update 08/2020**\r\n\r\n\r\nThe projet as moved to another webspace and evolved: https://github.com/easybest/spring-data-mybatis","title":"Spring Data JPA &amp; MyBatis","body":"<h2>Spring-Data-Mybatis Hatunet version</h2>\n<p>I am using this project: <a href=\"https://github.com/hatunet/spring-data-mybatis\" rel=\"nofollow noreferrer\">https://github.com/hatunet/spring-data-mybatis</a></p>\n<p>It fit very well with spring-data-mybatis and it have also the paginated repository.</p>\n<p>Work very well on production project.</p>\n<p><strong>update 08/2020</strong></p>\n<p>The projet as moved to another webspace and evolved: <a href=\"https://github.com/easybest/spring-data-mybatis\" rel=\"nofollow noreferrer\">https://github.com/easybest/spring-data-mybatis</a></p>\n"},{"comments":[{"owner":{"account_id":19916313,"reputation":1323,"user_id":14593204,"display_name":"HibaHasan"},"score":1,"creation_date":1659432256,"post_id":62900083,"comment_id":129287774,"body_markdown":"but MyBatis is an ORM framework","body":"but MyBatis is an ORM framework"},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1691313001,"post_id":62900083,"comment_id":135472525,"body_markdown":"MyBatis is a persistence framework, it is not an ORM framework. Check [this](https://mybatis.org/mybatis-3/#what-is-mybatis) @HibaHasan","body":"MyBatis is a persistence framework, it is not an ORM framework. Check <a href=\"https://mybatis.org/mybatis-3/#what-is-mybatis\" rel=\"nofollow noreferrer\">this</a> @HibaHasan"}],"tags":[],"owner":{"account_id":9922482,"reputation":179,"user_id":7345159,"display_name":"Pankaj Shet"},"comment_count":2,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1594745416,"creation_date":1594745416,"answer_id":62900083,"question_id":33652936,"body_markdown":"Mybatis does not implement JPA.\r\nMybatis is not ORM Framework.  JPA is ORM Specification which is implemented by Hibernate, Toplink, Eclipselink . Since Mybatis does  not mplement JPA, it does not come under the list of JPA providers.\r\nHence, you cannot use mybatis as a JPA framework.\r\nMybatis is a data mapper framework which is completely different framework compared to JPA.\r\nIn JPA and ORM frameworks,  you map Objects /Entities to the corresponding sql tables and you work on objects and not on tables directly unless you use their native  queries.\r\nIn mybatis , you play directly with sql data..\r\nHope this clears the difference between mybatis and JPA.\r\nHence when you want mybatis with spring data you use spring data mybatis independently and not spring data JPA.","title":"Spring Data JPA &amp; MyBatis","body":"<p>Mybatis does not implement JPA.\nMybatis is not ORM Framework.  JPA is ORM Specification which is implemented by Hibernate, Toplink, Eclipselink . Since Mybatis does  not mplement JPA, it does not come under the list of JPA providers.\nHence, you cannot use mybatis as a JPA framework.\nMybatis is a data mapper framework which is completely different framework compared to JPA.\nIn JPA and ORM frameworks,  you map Objects /Entities to the corresponding sql tables and you work on objects and not on tables directly unless you use their native  queries.\nIn mybatis , you play directly with sql data..\nHope this clears the difference between mybatis and JPA.\nHence when you want mybatis with spring data you use spring data mybatis independently and not spring data JPA.</p>\n"},{"tags":[],"owner":{"account_id":3652842,"reputation":210,"user_id":3044539,"accept_rate":20,"display_name":"Atif"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594749326,"creation_date":1594749326,"answer_id":62901144,"question_id":33652936,"body_markdown":"Here is the configuration of mybatis and jpa in spring framework. Mybatis and jpa are different framework so you cannot use mybatis as a JPA framework. Feel free to ask any question if you cannot catch up the configuration.\r\n\r\n```\r\npackage com.mastering.springbatch.config;\r\n\r\nimport org.apache.ibatis.session.SqlSessionFactory;\r\nimport org.mybatis.spring.SqlSessionFactoryBean;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.JpaVendorAdapter;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\nimport javax.sql.DataSource;\r\n\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n        basePackages = {&quot;com.mastering.springbatch.dao&quot;,\r\n                &quot;com.mastering.springbatch.repository&quot;})\r\n@EntityScan(&quot;com.mastering.springbatch.entity&quot;)\r\npublic class DataConfig {\r\n    private final String ENTITY_PACKAGE = &quot;com.mastering.springbatch.entity&quot;;\r\n    private DriverManagerDataSource dataSource;\r\n\r\n    @Primary\r\n    @Bean(value = &quot;customDataSource&quot;)\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n    public DataSource dataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        this.dataSource = dataSource;\r\n        return dataSource;\r\n    }\r\n\r\n    @Primary\r\n    @Bean(value = &quot;entityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n        LocalContainerEntityManagerFactoryBean emf =\r\n                new LocalContainerEntityManagerFactoryBean();\r\n        emf.setPackagesToScan(ENTITY_PACKAGE);\r\n        emf.setDataSource(dataSource());\r\n        emf.setJpaVendorAdapter(jpaVendorAdapter());\r\n        return emf;\r\n    }\r\n\r\n    @Primary\r\n    @Bean(value = &quot;sqlSessionFactory&quot;)\r\n    public SqlSessionFactory sqlSessionFactory() throws Exception {\r\n        SqlSessionFactoryBean factoryBean = new SqlSessionFactoryBean();\r\n        factoryBean.setDataSource(dataSource());\r\n        return factoryBean.getObject();\r\n    }\r\n\r\n\r\n    @Primary\r\n    @Bean(name = &quot;transactionManager&quot;)\r\n    public PlatformTransactionManager transactionManager() {\r\n        JpaTransactionManager tm = new JpaTransactionManager();\r\n        tm.setEntityManagerFactory(entityManagerFactory().getObject());\r\n        return tm;\r\n    }\r\n\r\n    private JpaVendorAdapter jpaVendorAdapter() {\r\n        HibernateJpaVendorAdapter jpaVendorAdapter = new HibernateJpaVendorAdapter();\r\n        jpaVendorAdapter.setShowSql(true);\r\n        jpaVendorAdapter.setGenerateDdl(true);\r\n        jpaVendorAdapter.setDatabasePlatform(&quot;org.hibernate.dialect.MySQLDialect&quot;);\r\n        return jpaVendorAdapter;\r\n    }\r\n}\r\n\r\n```\r\nhere is the `build.gradle` file\r\n```\r\nbuildscript {\r\n    ext {\r\n        springBootVersion = &#39;2.1.8.RELEASE&#39;\r\n        springBootDepManagementVersion = &#39;1.0.8.RELEASE&#39;\r\n    }\r\n    repositories {\r\n        mavenLocal()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n        classpath &quot;io.spring.gradle:dependency-management-plugin:${springBootDepManagementVersion}&quot;\r\n    }\r\n}\r\n\r\napply plugin: &#39;org.springframework.boot&#39;\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;idea&#39;\r\n\r\n\r\ngroup &#39;com.learning&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nsourceCompatibility = 1.8\r\n\r\nconfigurations {\r\n    implementation.exclude module: &quot;spring-boot-starter-tomcat&quot;\r\n}\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    compile &#39;org.mybatis:mybatis:3.5.0&#39;\r\n    compile &#39;org.mybatis:mybatis-spring:2.0.0&#39;\r\n\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-batch&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    \r\n    implementation(&quot;mysql:mysql-connector-java:8.0.14&quot;)\r\n    \r\n//    implementation(&quot;io.springfox:springfox-swagger2:2.7.0&quot;)\r\n//    implementation(&quot;io.springfox:springfox-swagger-ui:2.7.0&quot;)\r\n    \r\n    implementation(&quot;org.projectlombok:lombok:1.18.10&quot;)\r\n    annotationProcessor(&quot;org.projectlombok:lombok:1.18.10&quot;)\r\n    compile group: &#39;commons-io&#39;, name: &#39;commons-io&#39;, version: &#39;2.6&#39;\r\n\r\n    testAnnotationProcessor(&quot;org.projectlombok:lombok:1.18.10&quot;)\r\n    testCompile(&quot;junit:junit:4.12&quot;)\r\n    testCompile(&quot;org.mockito:mockito-core:2.1.0&quot;)\r\n    testCompile(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n\r\n}\r\n\r\nspringBoot {\r\n    buildInfo()\r\n}\r\n\r\n```\r\n```","title":"Spring Data JPA &amp; MyBatis","body":"<p>Here is the configuration of mybatis and jpa in spring framework. Mybatis and jpa are different framework so you cannot use mybatis as a JPA framework. Feel free to ask any question if you cannot catch up the configuration.</p>\n<pre><code>package com.mastering.springbatch.config;\n\nimport org.apache.ibatis.session.SqlSessionFactory;\nimport org.mybatis.spring.SqlSessionFactoryBean;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.JpaVendorAdapter;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.sql.DataSource;\n\n@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        basePackages = {&quot;com.mastering.springbatch.dao&quot;,\n                &quot;com.mastering.springbatch.repository&quot;})\n@EntityScan(&quot;com.mastering.springbatch.entity&quot;)\npublic class DataConfig {\n    private final String ENTITY_PACKAGE = &quot;com.mastering.springbatch.entity&quot;;\n    private DriverManagerDataSource dataSource;\n\n    @Primary\n    @Bean(value = &quot;customDataSource&quot;)\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        this.dataSource = dataSource;\n        return dataSource;\n    }\n\n    @Primary\n    @Bean(value = &quot;entityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean emf =\n                new LocalContainerEntityManagerFactoryBean();\n        emf.setPackagesToScan(ENTITY_PACKAGE);\n        emf.setDataSource(dataSource());\n        emf.setJpaVendorAdapter(jpaVendorAdapter());\n        return emf;\n    }\n\n    @Primary\n    @Bean(value = &quot;sqlSessionFactory&quot;)\n    public SqlSessionFactory sqlSessionFactory() throws Exception {\n        SqlSessionFactoryBean factoryBean = new SqlSessionFactoryBean();\n        factoryBean.setDataSource(dataSource());\n        return factoryBean.getObject();\n    }\n\n\n    @Primary\n    @Bean(name = &quot;transactionManager&quot;)\n    public PlatformTransactionManager transactionManager() {\n        JpaTransactionManager tm = new JpaTransactionManager();\n        tm.setEntityManagerFactory(entityManagerFactory().getObject());\n        return tm;\n    }\n\n    private JpaVendorAdapter jpaVendorAdapter() {\n        HibernateJpaVendorAdapter jpaVendorAdapter = new HibernateJpaVendorAdapter();\n        jpaVendorAdapter.setShowSql(true);\n        jpaVendorAdapter.setGenerateDdl(true);\n        jpaVendorAdapter.setDatabasePlatform(&quot;org.hibernate.dialect.MySQLDialect&quot;);\n        return jpaVendorAdapter;\n    }\n}\n\n</code></pre>\n<p>here is the <code>build.gradle</code> file</p>\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '2.1.8.RELEASE'\n        springBootDepManagementVersion = '1.0.8.RELEASE'\n    }\n    repositories {\n        mavenLocal()\n        mavenCentral()\n    }\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n        classpath &quot;io.spring.gradle:dependency-management-plugin:${springBootDepManagementVersion}&quot;\n    }\n}\n\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\napply plugin: 'java'\napply plugin: 'idea'\n\n\ngroup 'com.learning'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\nconfigurations {\n    implementation.exclude module: &quot;spring-boot-starter-tomcat&quot;\n}\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n}\n\ndependencies {\n    compile 'org.mybatis:mybatis:3.5.0'\n    compile 'org.mybatis:mybatis-spring:2.0.0'\n\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-batch&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    \n    implementation(&quot;mysql:mysql-connector-java:8.0.14&quot;)\n    \n//    implementation(&quot;io.springfox:springfox-swagger2:2.7.0&quot;)\n//    implementation(&quot;io.springfox:springfox-swagger-ui:2.7.0&quot;)\n    \n    implementation(&quot;org.projectlombok:lombok:1.18.10&quot;)\n    annotationProcessor(&quot;org.projectlombok:lombok:1.18.10&quot;)\n    compile group: 'commons-io', name: 'commons-io', version: '2.6'\n\n    testAnnotationProcessor(&quot;org.projectlombok:lombok:1.18.10&quot;)\n    testCompile(&quot;junit:junit:4.12&quot;)\n    testCompile(&quot;org.mockito:mockito-core:2.1.0&quot;)\n    testCompile(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n\n}\n\nspringBoot {\n    buildInfo()\n}\n\n</code></pre>\n<pre><code></code></pre>\n"}],"owner":{"account_id":4989547,"reputation":544,"user_id":4012202,"accept_rate":29,"display_name":"srini"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33368,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1691855433,"creation_date":1447252932,"question_id":33652936,"body_markdown":"I am trying to use Spring Data JPA with MyBatis. Since there isnt a Vendor Adapter for MyBatis, what is the alternative here?\r\n\r\n    &lt;bean id=&quot;entityManagerFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;com.abc.xyz.domain&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\nI am getting the below exception when I tried to initialize my application.\r\n\r\n    Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No PersistenceProvider specified in EntityManagerFactory configuration, and chosen PersistenceUnitInfo does not specify a provider class name either\r\n\r\nThanks","title":"Spring Data JPA &amp; MyBatis","body":"<p>I am trying to use Spring Data JPA with MyBatis. Since there isnt a Vendor Adapter for MyBatis, what is the alternative here?</p>\n\n<pre><code>&lt;bean id=\"entityManagerFactory\"\n    class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"packagesToScan\" value=\"com.abc.xyz.domain\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>I am getting the below exception when I tried to initialize my application.</p>\n\n<pre><code>Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: No PersistenceProvider specified in EntityManagerFactory configuration, and chosen PersistenceUnitInfo does not specify a provider class name either\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","spring","database","mongodb"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1599054509,"post_id":63705331,"comment_id":112654913,"body_markdown":"There are many ways you can write a query using Spring Data MongoDB. One way is to query using the `MongoTemplate#exists` method.","body":"There are many ways you can write a query using Spring Data MongoDB. One way is to query using the <code>MongoTemplate#exists</code> method."}],"answers":[{"comments":[{"owner":{"account_id":10846480,"reputation":8794,"user_id":7975771,"accept_rate":12,"display_name":"varman"},"score":0,"creation_date":1599056800,"post_id":63705537,"comment_id":112656232,"body_markdown":"FYI : Since you extends MongoRepostiry you don&#39;t need to use `@Repostitory`, and the type of `_id` is `ObjectId`. So  MongoRepository&lt;User, ObjectId&gt;.  And no need to use findOneBy.... just use `existsByTwitterId(String twitterId)`","body":"FYI : Since you extends MongoRepostiry you don&#39;t need to use <code>@Repostitory</code>, and the type of <code>_id</code> is <code>ObjectId</code>. So  MongoRepository&lt;User, ObjectId&gt;.  And no need to use findOneBy.... just use <code>existsByTwitterId(String twitterId)</code>"}],"tags":[],"owner":{"account_id":17832603,"reputation":109,"user_id":12952268,"display_name":"Stoil Terziev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1599050993,"creation_date":1599049708,"answer_id":63705537,"question_id":63705331,"body_markdown":"You will need a repository which will do the search. Create something like this:\r\n\r\n    @Repository(&quot;user&quot;)\r\n    public interface UserRepository extends MongoRepository&lt;User, String&gt; {\r\n    \t\r\n    \tpublic Optional&lt;User&gt; findOneByTwitterId(String twitterId);\r\n    \r\n    }\r\nThen you can check if there is a value in the optional.\r\n\r\nOf course they are plenty of other solution. You can also write a query to count how many users have this twitter id","title":"How to check if specific field has specific value in MongoDB using Java Spring?","body":"<p>You will need a repository which will do the search. Create something like this:</p>\n<pre><code>@Repository(&quot;user&quot;)\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\n    \n    public Optional&lt;User&gt; findOneByTwitterId(String twitterId);\n\n}\n</code></pre>\n<p>Then you can check if there is a value in the optional.</p>\n<p>Of course they are plenty of other solution. You can also write a query to count how many users have this twitter id</p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1691912740,"post_id":76889950,"comment_id":135553111,"body_markdown":"Basically the same answer as the [accepted answer](https://stackoverflow.com/questions/63705331/how-to-check-if-specific-field-has-specific-value-in-mongodb-using-java-spring/63705537#63705537) but with an extra annotation. Perhaps you can edit your answer and post an explanation of what that annotation does?","body":"Basically the same answer as the <a href=\"https://stackoverflow.com/questions/63705331/how-to-check-if-specific-field-has-specific-value-in-mongodb-using-java-spring/63705537#63705537\">accepted answer</a> but with an extra annotation. Perhaps you can edit your answer and post an explanation of what that annotation does?"}],"tags":[],"owner":{"account_id":12910496,"reputation":111,"user_id":9336348,"display_name":"Learner"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691853802,"creation_date":1691853802,"answer_id":76889950,"question_id":63705331,"body_markdown":"    @Repository(&quot;user&quot;)\r\n    public interface UserRepository extends MongoRepository&lt;User, String&gt; {\r\n        @Query (value = &quot; {&#39;twitterId&#39;: ?0} &quot;, count = true)\r\n        public int findByTwitterId(String twitterId);\r\n    }","title":"How to check if specific field has specific value in MongoDB using Java Spring?","body":"<pre><code>@Repository(&quot;user&quot;)\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\n    @Query (value = &quot; {'twitterId': ?0} &quot;, count = true)\n    public int findByTwitterId(String twitterId);\n}\n</code></pre>\n"}],"owner":{"display_name":"user14197608"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63705537,"answer_count":2,"score":1,"last_activity_date":1691853802,"creation_date":1599048972,"question_id":63705331,"body_markdown":"This is my structure. Let&#39;s say I have got a bunch of these objects in my collection. I want to search for value for the field `twitterId`. In this case, let&#39;s say I want to check whether `102030 ` value exists in any of my `twitterId` fields? How can I build this query in Java Spring?\r\n\r\n    { \r\n    &quot;_id&quot; : ObjectId(&quot;5f4edc8f0edc9e79dcd58cb4&quot;), \r\n    &quot;twitterId&quot; : &quot;102030&quot;, \r\n    &quot;fullName&quot; : &quot;Elon Musk&quot;, \r\n    &quot;followers&quot; : [ ], \r\n    &quot;_class&quot; : &quot;xxxx.yyyyy.model.User&quot; \r\n    }","title":"How to check if specific field has specific value in MongoDB using Java Spring?","body":"<p>This is my structure. Let's say I have got a bunch of these objects in my collection. I want to search for value for the field <code>twitterId</code>. In this case, let's say I want to check whether <code>102030 </code> value exists in any of my <code>twitterId</code> fields? How can I build this query in Java Spring?</p>\n<pre><code>{ \n&quot;_id&quot; : ObjectId(&quot;5f4edc8f0edc9e79dcd58cb4&quot;), \n&quot;twitterId&quot; : &quot;102030&quot;, \n&quot;fullName&quot; : &quot;Elon Musk&quot;, \n&quot;followers&quot; : [ ], \n&quot;_class&quot; : &quot;xxxx.yyyyy.model.User&quot; \n}\n</code></pre>\n"},{"tags":["java","or-tools","constraint-programming","cp-sat-solver"],"comments":[{"owner":{"account_id":10605067,"reputation":2646,"user_id":7810777,"display_name":"Stradivari"},"score":0,"creation_date":1585139483,"post_id":60848729,"comment_id":107656910,"body_markdown":"I don&#39;t really understand the question, can&#39;t you wait until `searchAllSolutions` finishes?","body":"I don&#39;t really understand the question, can&#39;t you wait until <code>searchAllSolutions</code> finishes?"},{"owner":{"account_id":3038988,"reputation":237,"user_id":2576456,"display_name":"sdare"},"score":0,"creation_date":1585139920,"post_id":60848729,"comment_id":107657110,"body_markdown":"As per my understanding, searchAllSolutions() is an asynchronous API. Solver calls onSolutionCallback() function once for every solution it find. There is no way to find if all the solutions have been found or we need to wait more time.","body":"As per my understanding, searchAllSolutions() is an asynchronous API. Solver calls onSolutionCallback() function once for every solution it find. There is no way to find if all the solutions have been found or we need to wait more time."},{"owner":{"account_id":13814932,"reputation":9106,"user_id":9971759,"display_name":"Laurent Perron"},"score":2,"creation_date":1585143541,"post_id":60848729,"comment_id":107659014,"body_markdown":"Actually, Solve() returns OPTIMAL when all solutions have been found, and search has terminated normally. See http://google.github.io/or-tools/python/ortools/sat/python/cp_model.html#cp_model.CpSolver.SearchForAllSolutions","body":"Actually, Solve() returns OPTIMAL when all solutions have been found, and search has terminated normally. See <a href=\"http://google.github.io/or-tools/python/ortools/sat/python/cp_model.html#cp_model.CpSolver.SearchForAllSolutions\" rel=\"nofollow noreferrer\">google.github.io/or-tools/python/ortools/sat/python/&hellip;</a>"},{"owner":{"account_id":3038988,"reputation":237,"user_id":2576456,"display_name":"sdare"},"score":0,"creation_date":1585148865,"post_id":60848729,"comment_id":107662213,"body_markdown":"I have been a noob. I misunderstood the documentation and assumed the searchAllSolutions() can return &#39;FEASIBLE&#39; sometimes and I thought there was no way to force it to search all solutions.","body":"I have been a noob. I misunderstood the documentation and assumed the searchAllSolutions() can return &#39;FEASIBLE&#39; sometimes and I thought there was no way to force it to search all solutions."},{"owner":{"account_id":3038988,"reputation":237,"user_id":2576456,"display_name":"sdare"},"score":0,"creation_date":1585196838,"post_id":60848729,"comment_id":107679442,"body_markdown":"Another related question: Is there any remote chance for a CP SAT solver to run into a non-deterministic state or run into infinite loops (or such) even when there is a feasible solution possible for given set of constraints?","body":"Another related question: Is there any remote chance for a CP SAT solver to run into a non-deterministic state or run into infinite loops (or such) even when there is a feasible solution possible for given set of constraints?"},{"owner":{"account_id":3038988,"reputation":237,"user_id":2576456,"display_name":"sdare"},"score":0,"creation_date":1585220513,"post_id":60848729,"comment_id":107687620,"body_markdown":"Thanks Laurent Perron, Stradivari. I will add the above question in overview and you can add the answer. This way it will be useful for others in future.","body":"Thanks Laurent Perron, Stradivari. I will add the above question in overview and you can add the answer. This way it will be useful for others in future."},{"owner":{"account_id":193612,"reputation":32530,"user_id":2320035,"accept_rate":79,"display_name":"sascha"},"score":0,"creation_date":1585225560,"post_id":60848729,"comment_id":107690071,"body_markdown":"@sdare Upper bounds in combinatorial-optimization are pretty uncommon. You probably started to use ortools because it&#39;s heuristics are performing good (better than some other approach you could write where you can post upper-bounds; e.g. exhaustive-search). But there is always the exponential worst-case. Depending on some very complex internals like random-restarts there is maybe even a chance of infinite-search (even if the core CDCL-SAT is *complete*). This isn&#39;t that important for the user, but you should always use time-outs and expect *some* bad runs (in production).","body":"@sdare Upper bounds in combinatorial-optimization are pretty uncommon. You probably started to use ortools because it&#39;s heuristics are performing good (better than some other approach you could write where you can post upper-bounds; e.g. exhaustive-search). But there is always the exponential worst-case. Depending on some very complex internals like random-restarts there is maybe even a chance of infinite-search (even if the core CDCL-SAT is <i>complete</i>). This isn&#39;t that important for the user, but you should always use time-outs and expect <i>some</i> bad runs (in production)."},{"owner":{"account_id":3038988,"reputation":237,"user_id":2576456,"display_name":"sdare"},"score":0,"creation_date":1585303816,"post_id":60848729,"comment_id":107717652,"body_markdown":"Thanks sascha@, Does that mean for a given set of constraints there is a remote chance that the SAT solver can run into infinite search in production, even if in past it was able to return a feasible solution for same set of constraints ?","body":"Thanks sascha@, Does that mean for a given set of constraints there is a remote chance that the SAT solver can run into infinite search in production, even if in past it was able to return a feasible solution for same set of constraints ?"},{"owner":{"account_id":193612,"reputation":32530,"user_id":2320035,"accept_rate":79,"display_name":"sascha"},"score":0,"creation_date":1585317694,"post_id":60848729,"comment_id":107724238,"body_markdown":"My remarks were more target to the solve my problem A thing -&gt; no problem. Ok, problem B is problem A without one constraint. It&#39;s easier then. The solver should have no prob..... oh it does not find a solution. These things are common in discrete-opt. Your question ` even if in past it was able to return a feasible solution for same set of constraints` sounds like asking for deterministic behaviour. If the solver is deterministic, using the same hardware, ortools version,ortools options, model / problem should ways lead to the same solution. See ortools docs. ortools has undeterministic modes","body":"My remarks were more target to the solve my problem A thing -&gt; no problem. Ok, problem B is problem A without one constraint. It&#39;s easier then. The solver should have no prob..... oh it does not find a solution. These things are common in discrete-opt. Your question ` even if in past it was able to return a feasible solution for same set of constraints` sounds like asking for deterministic behaviour. If the solver is deterministic, using the same hardware, ortools version,ortools options, model / problem should ways lead to the same solution. See ortools docs. ortools has undeterministic modes"}],"owner":{"account_id":3038988,"reputation":237,"user_id":2576456,"display_name":"sdare"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691853477,"creation_date":1585138791,"question_id":60848729,"body_markdown":"I was exploring the CP-SAT APIs for fetching all solution for given set of constraints. \r\n\r\nAs per the API documentation, onSolutionCallback() function is called for every solution found. However if I need to find all solutions for a given model, is there a way to detect the last solution or the feasibility of no more solutions through onSolutionCallback() function or other means?\r\n\r\nI found that searchAllSolutions() API can be used and we can set termination conditions based on time or number of solutions. Assuming I can wait unlimited amount of time, how do I detect that there are no more solutions feasible? \r\n\r\nhttps://developers.google.com/optimization/cp/cp_tasks\r\n\r\nAnother related question: \r\nIs there any remote chance for a CP SAT solver to run into a non-deterministic state or run into infinite loops (or such) even when there is a feasible solution possible for given set of constraints?\r\nI plan to use the CPSAT for a production usecase and hence would like to know its determinism and upper bounds for execution.\r\n\r\nEdit: Added the second question.","title":"Detecting termination in CP-SAT","body":"<p>I was exploring the CP-SAT APIs for fetching all solution for given set of constraints. </p>\n\n<p>As per the API documentation, onSolutionCallback() function is called for every solution found. However if I need to find all solutions for a given model, is there a way to detect the last solution or the feasibility of no more solutions through onSolutionCallback() function or other means?</p>\n\n<p>I found that searchAllSolutions() API can be used and we can set termination conditions based on time or number of solutions. Assuming I can wait unlimited amount of time, how do I detect that there are no more solutions feasible? </p>\n\n<p><a href=\"https://developers.google.com/optimization/cp/cp_tasks\" rel=\"nofollow noreferrer\">https://developers.google.com/optimization/cp/cp_tasks</a></p>\n\n<p>Another related question: \nIs there any remote chance for a CP SAT solver to run into a non-deterministic state or run into infinite loops (or such) even when there is a feasible solution possible for given set of constraints?\nI plan to use the CPSAT for a production usecase and hence would like to know its determinism and upper bounds for execution.</p>\n\n<p>Edit: Added the second question.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1691858260,"post_id":76889904,"comment_id":135549583,"body_markdown":"[DefaultSqlSession](https://github.com/mybatis/mybatis-3/blob/621de2602b7d6bc1ba65237b26409ebeb086c45a/src/main/java/org/apache/ibatis/session/defaults/DefaultSqlSession.java#L173) does have the implementation, delegating to `selectList` which contains the actual logic.","body":"<a href=\"https://github.com/mybatis/mybatis-3/blob/621de2602b7d6bc1ba65237b26409ebeb086c45a/src/main/java/org/apache/ibatis/session/defaults/DefaultSqlSession.java#L173\" rel=\"nofollow noreferrer\">DefaultSqlSession</a> does have the implementation, delegating to <code>selectList</code> which contains the actual logic."},{"owner":{"account_id":21426151,"reputation":1,"user_id":15783433,"display_name":"ygh"},"score":0,"creation_date":1691927209,"post_id":76889904,"comment_id":135554401,"body_markdown":"There was something I missed, thank you!","body":"There was something I missed, thank you!"}],"owner":{"account_id":21426151,"reputation":1,"user_id":15783433,"display_name":"ygh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691853126,"creation_date":1691853126,"question_id":76889904,"body_markdown":"I have a question while using the mybatis&#39;s sqlSession &#39;select&#39; function. I know that sqlSession is an interface. And I know that  mybatis&#39;s DefaultSqlSession.java implements this. So I looked at the DefaultSqlSession.java code\r\n\r\n\r\n\r\n```\r\n@Override\r\n   public void select(String statement, ResultHandler handler) {\r\n     select(statement, null, RowBounds.DEFAULT, handler);\r\n   }\r\n```\r\nThe method above is the &#39;select&#39; method of DefaultSqlSession.java.\r\n\r\nWhat I&#39;m curious about is select(statement, null, RowBounds.DEFAULT, handler);\r\nThat function is not defined in DefaultSqlSession.java, so I wonder how it can be used.\r\n\r\nI wonder where the  mybatis&#39;s sqlsession select statement was fundamentally implemented.","title":"How can I use the select function of DefaultSqlSession?","body":"<p>I have a question while using the mybatis's sqlSession 'select' function. I know that sqlSession is an interface. And I know that  mybatis's DefaultSqlSession.java implements this. So I looked at the DefaultSqlSession.java code</p>\n<pre><code>@Override\n   public void select(String statement, ResultHandler handler) {\n     select(statement, null, RowBounds.DEFAULT, handler);\n   }\n</code></pre>\n<p>The method above is the 'select' method of DefaultSqlSession.java.</p>\n<p>What I'm curious about is select(statement, null, RowBounds.DEFAULT, handler);\nThat function is not defined in DefaultSqlSession.java, so I wonder how it can be used.</p>\n<p>I wonder where the  mybatis's sqlsession select statement was fundamentally implemented.</p>\n"},{"tags":["java","spring-boot","spring-expression-language"],"comments":[{"owner":{"account_id":6014861,"reputation":18112,"user_id":7939871,"display_name":"L&#233;a Gris"},"score":0,"creation_date":1603047740,"post_id":61066447,"comment_id":113906010,"body_markdown":"[What should I do when someone answers my question?](https://stackoverflow.com/help/someone-answers)","body":"<a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}],"answers":[{"comments":[{"owner":{"account_id":3302455,"reputation":213,"user_id":2778243,"accept_rate":60,"display_name":"Carlos Luis"},"score":1,"creation_date":1586235840,"post_id":61066759,"comment_id":108046538,"body_markdown":"Thank you for the response, it did not work, it produces a syntax error right after the &#39;.&#39; on .contains(...) reads: unexpected &#39;.&#39;","body":"Thank you for the response, it did not work, it produces a syntax error right after the &#39;.&#39; on .contains(...) reads: unexpected &#39;.&#39;"}],"tags":[],"owner":{"account_id":2301478,"reputation":197,"user_id":2021693,"display_name":"Reeta Wani"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1586198593,"creation_date":1586198593,"answer_id":61066759,"question_id":61066447,"body_markdown":"Can you try writing your annotation values like this and check :\r\n\r\n    @ConditionalOnExpression(&quot;#{${conditions.values.options}}.contains(&#39;ScenarioOne&#39;)&quot;)\r\n\r\nWrite the contains method after the curly brackets.","title":"Using Spring expression language to assert if a property (with comma separated values) loaded from a properties file, contains &quot;value&quot;","body":"<p>Can you try writing your annotation values like this and check :</p>\n\n<pre><code>@ConditionalOnExpression(\"#{${conditions.values.options}}.contains('ScenarioOne')\")\n</code></pre>\n\n<p>Write the contains method after the curly brackets.</p>\n"},{"tags":[],"owner":{"account_id":3302455,"reputation":213,"user_id":2778243,"accept_rate":60,"display_name":"Carlos Luis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586237848,"creation_date":1586237848,"answer_id":61073436,"question_id":61066447,"body_markdown":"I was able to get the desired behavior using this:\r\n\r\n```\r\n@ConditionalOnExpression(&quot;#{T(java.util.Arrays).asList(&#39;${conditions.values.options}&#39;).contains(&#39;ScenarioOne&#39;)}&quot;)\r\n```\r\nSo dissecting this a little bit in the hopes to help others who may come across similar problems:\r\nIt seems that spring reads comma separated properties as an Array, this is bogus because the following can be done using spring boot:\r\n\r\nThe following two statements are valid:\r\n```\r\n@Value(&quot;${property.with.comma.separated.values}&quot;)\r\nprivate List&lt;String&gt; prop;\r\n```\r\nOR \r\n```\r\n@Value(&quot;${property.with.comma.separated.values}&quot;)\r\nprivate String [] prop;\r\n```\r\nnow the expression:\r\n```\r\n&quot;#{&#39;${conditions.values.options}&#39;.contains(&#39;ScenarioOne&#39;)}&quot;\r\n``` \r\nwill throw an error saying that the Array class does not contain a method called &#39;.contains()&#39;\r\nhence this is why I had to resort to use some method execution:\r\n```\r\nT(java.util.Arrays).asList(&#39;${conditions.values.options}&#39;)\r\n```\r\nto read the comma separated values, convert the String array into a List&lt;String&gt; and then perform the &#39;.contains(..)&#39; method invocation.\r\n\r\nI wish there was a simpler way to do it, to have to do a method invocation in there seems like overkill.\r\n\r\nI am open to sugestions &#128512;","title":"Using Spring expression language to assert if a property (with comma separated values) loaded from a properties file, contains &quot;value&quot;","body":"<p>I was able to get the desired behavior using this:</p>\n\n<pre><code>@ConditionalOnExpression(\"#{T(java.util.Arrays).asList('${conditions.values.options}').contains('ScenarioOne')}\")\n</code></pre>\n\n<p>So dissecting this a little bit in the hopes to help others who may come across similar problems:\nIt seems that spring reads comma separated properties as an Array, this is bogus because the following can be done using spring boot:</p>\n\n<p>The following two statements are valid:</p>\n\n<pre><code>@Value(\"${property.with.comma.separated.values}\")\nprivate List&lt;String&gt; prop;\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>@Value(\"${property.with.comma.separated.values}\")\nprivate String [] prop;\n</code></pre>\n\n<p>now the expression:</p>\n\n<pre><code>\"#{'${conditions.values.options}'.contains('ScenarioOne')}\"\n</code></pre>\n\n<p>will throw an error saying that the Array class does not contain a method called '.contains()'\nhence this is why I had to resort to use some method execution:</p>\n\n<pre><code>T(java.util.Arrays).asList('${conditions.values.options}')\n</code></pre>\n\n<p>to read the comma separated values, convert the String array into a List and then perform the '.contains(..)' method invocation.</p>\n\n<p>I wish there was a simpler way to do it, to have to do a method invocation in there seems like overkill.</p>\n\n<p>I am open to sugestions 😀</p>\n"},{"tags":[],"owner":{"account_id":317708,"reputation":9159,"user_id":634545,"accept_rate":73,"display_name":"user634545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691852551,"creation_date":1691852551,"answer_id":76889863,"question_id":61066447,"body_markdown":"An alternative is to implement a custom conditional annotation.\r\n\r\n`@ConditionalOnHavingValue(property = &quot;conditions.values.options&quot;, value = &quot;ScenarioOne&quot;)`\r\n\r\n\r\n```\r\n@Target({ElementType.TYPE, ElementType.METHOD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Conditional(OnHavingValueCondition.class)\r\npublic @interface ConditionalOnHavingValue {\r\n\r\n    /**\r\n     * The property that should contain the value.\r\n     */\r\n    String property();\r\n\r\n    /**\r\n     * The value that must be present.\r\n     */\r\n    String value();\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class OnHavingValueCondition extends SpringBootCondition {\r\n\r\n    @Override\r\n    public ConditionOutcome getMatchOutcome(final ConditionContext context, final AnnotatedTypeMetadata metadata) {\r\n        final MultiValueMap&lt;String, Object&gt; attributes = metadata.getAllAnnotationAttributes(ConditionalOnHavingValue.class.getName());\r\n        if (attributes == null) {\r\n            return ConditionOutcome.noMatch(&quot;Unable to retrieve attributes from ConditionalOnHavingValue annotation&quot;);\r\n        }\r\n\r\n        final String property = (String) attributes.getFirst(&quot;property&quot;);\r\n        final String value = (String) attributes.getFirst(&quot;value&quot;);\r\n\r\n        //noinspection unchecked,DataFlowIssue\r\n        final Set&lt;String&gt; propertyValues = (Set&lt;String&gt;) context.getEnvironment().getProperty(property, Set.class);\r\n\r\n        //noinspection DataFlowIssue\r\n        if (!propertyValues.contains(value)) {\r\n            return ConditionOutcome.noMatch(&quot;Unable to find the particular value in the property&quot;);\r\n        }\r\n\r\n        return ConditionOutcome.match();\r\n    }\r\n\r\n}\r\n```","title":"Using Spring expression language to assert if a property (with comma separated values) loaded from a properties file, contains &quot;value&quot;","body":"<p>An alternative is to implement a custom conditional annotation.</p>\n<p><code>@ConditionalOnHavingValue(property = &quot;conditions.values.options&quot;, value = &quot;ScenarioOne&quot;)</code></p>\n<pre><code>@Target({ElementType.TYPE, ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Conditional(OnHavingValueCondition.class)\npublic @interface ConditionalOnHavingValue {\n\n    /**\n     * The property that should contain the value.\n     */\n    String property();\n\n    /**\n     * The value that must be present.\n     */\n    String value();\n\n}\n</code></pre>\n<pre><code>public class OnHavingValueCondition extends SpringBootCondition {\n\n    @Override\n    public ConditionOutcome getMatchOutcome(final ConditionContext context, final AnnotatedTypeMetadata metadata) {\n        final MultiValueMap&lt;String, Object&gt; attributes = metadata.getAllAnnotationAttributes(ConditionalOnHavingValue.class.getName());\n        if (attributes == null) {\n            return ConditionOutcome.noMatch(&quot;Unable to retrieve attributes from ConditionalOnHavingValue annotation&quot;);\n        }\n\n        final String property = (String) attributes.getFirst(&quot;property&quot;);\n        final String value = (String) attributes.getFirst(&quot;value&quot;);\n\n        //noinspection unchecked,DataFlowIssue\n        final Set&lt;String&gt; propertyValues = (Set&lt;String&gt;) context.getEnvironment().getProperty(property, Set.class);\n\n        //noinspection DataFlowIssue\n        if (!propertyValues.contains(value)) {\n            return ConditionOutcome.noMatch(&quot;Unable to find the particular value in the property&quot;);\n        }\n\n        return ConditionOutcome.match();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3302455,"reputation":213,"user_id":2778243,"accept_rate":60,"display_name":"Carlos Luis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2216,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1691852551,"creation_date":1586197515,"question_id":61066447,"body_markdown":"I have the following problem, I have a certain configuration class in spring boot which contains beans, which I would like to be created only if a certain property which has a list of values, contains a certain value.\r\n\r\nnow the configuration class looks something like this:\r\n\r\n```java\r\n@ConditionalOnExpression(&quot;#{&#39;${conditions.values.options}&#39;.contains(&#39;ScenarioOne&#39;)}&quot;)\r\nConfigurationForScenarioOne{\r\n\r\n  @Bean\r\n  public StudentBean getStudentBean(){\r\n  ...\r\n  }\r\n}\r\n```\r\nIn the properties file I would have something like so:\r\n```\r\nconditions.values.options=${CONDITIONS_VALUES_OPTIONS}\r\n```\r\nThen provide the value of `CONDITIONS_VALUES_OPTIONS` at runtime like so:\r\n```\r\n-DCONDITIONS_VALUES_OPTIONS=ScenarioOne,ScenarioTwo,ScenarioFive\r\n```\r\nThe reason why I want to do this is to be able to deploy the app and have different beans be in use depending on the value given at runtime.\r\n\r\nI will have several of these Configuration classes that will be created based on which ones of these properties are passed. \r\nTO achieve this I was trying to rely on Spring Expression language to do the following:\r\n1-Read the property `conditions.values.options`, then convert it to a list, then verify if the list contained the desired configuration string.\r\n\r\nSo far I have tried several expressions including:\r\n```\r\n@ConditionalOnExpression(&quot;#{&#39;${conditions.values.options}&#39;.contains(&#39;ScenarioOne&#39;)}&quot;)\r\n```\r\n\r\nand other similar expressions, with no luck. Can someone help me see what I am missing here?","title":"Using Spring expression language to assert if a property (with comma separated values) loaded from a properties file, contains &quot;value&quot;","body":"<p>I have the following problem, I have a certain configuration class in spring boot which contains beans, which I would like to be created only if a certain property which has a list of values, contains a certain value.</p>\n\n<p>now the configuration class looks something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ConditionalOnExpression(\"#{'${conditions.values.options}'.contains('ScenarioOne')}\")\nConfigurationForScenarioOne{\n\n  @Bean\n  public StudentBean getStudentBean(){\n  ...\n  }\n}\n</code></pre>\n\n<p>In the properties file I would have something like so:</p>\n\n<pre><code>conditions.values.options=${CONDITIONS_VALUES_OPTIONS}\n</code></pre>\n\n<p>Then provide the value of <code>CONDITIONS_VALUES_OPTIONS</code> at runtime like so:</p>\n\n<pre><code>-DCONDITIONS_VALUES_OPTIONS=ScenarioOne,ScenarioTwo,ScenarioFive\n</code></pre>\n\n<p>The reason why I want to do this is to be able to deploy the app and have different beans be in use depending on the value given at runtime.</p>\n\n<p>I will have several of these Configuration classes that will be created based on which ones of these properties are passed. \nTO achieve this I was trying to rely on Spring Expression language to do the following:\n1-Read the property <code>conditions.values.options</code>, then convert it to a list, then verify if the list contained the desired configuration string.</p>\n\n<p>So far I have tried several expressions including:</p>\n\n<pre><code>@ConditionalOnExpression(\"#{'${conditions.values.options}'.contains('ScenarioOne')}\")\n</code></pre>\n\n<p>and other similar expressions, with no luck. Can someone help me see what I am missing here?</p>\n"},{"tags":["java","spring-boot","jdbc","connection-pooling"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1691767524,"post_id":76884571,"comment_id":135540810,"body_markdown":"Running out of connections in a pool is annoying, but it&#39;s not &quot;unexpected end of data&quot;. Maybe you&#39;re doing something weird, sharing a connection accidentally or an internal bug that manifests in your use case.","body":"Running out of connections in a pool is annoying, but it&#39;s not &quot;unexpected end of data&quot;. Maybe you&#39;re doing something weird, sharing a connection accidentally or an internal bug that manifests in your use case."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1691771656,"post_id":76884571,"comment_id":135541570,"body_markdown":"Please share the database type and version of the driver. Please also share the part of the log files preceding the exception and full stack trace. It would be helpful to set the log level to debug for the interesting packages like `org.apache.tomcat.jdbc.pool`","body":"Please share the database type and version of the driver. Please also share the part of the log files preceding the exception and full stack trace. It would be helpful to set the log level to debug for the interesting packages like <code>org.apache.tomcat.jdbc.pool</code>"},{"owner":{"account_id":6632648,"reputation":525,"user_id":5120843,"accept_rate":40,"display_name":"Morkus"},"score":0,"creation_date":1691772912,"post_id":76884571,"comment_id":135541759,"body_markdown":"Interesting....how to you go about setting the log level for the pool? Also, maybe there&#39;s a way I can get more detailed logging info. Thanks!","body":"Interesting....how to you go about setting the log level for the pool? Also, maybe there&#39;s a way I can get more detailed logging info. Thanks!"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1691773141,"post_id":76884571,"comment_id":135541795,"body_markdown":"Add to application.properties: logging.level.org.apache.tomcat.jdbc.pool=DEBUG","body":"Add to application.properties: logging.level.org.apache.tomcat.jdbc.pool=DEBUG"},{"owner":{"account_id":6632648,"reputation":525,"user_id":5120843,"accept_rate":40,"display_name":"Morkus"},"score":0,"creation_date":1691775329,"post_id":76884571,"comment_id":135542161,"body_markdown":"Nice! That&#39;s great, I think this will be very useful. Thanks.","body":"Nice! That&#39;s great, I think this will be very useful. Thanks."}],"answers":[{"comments":[{"owner":{"account_id":6632648,"reputation":525,"user_id":5120843,"accept_rate":40,"display_name":"Morkus"},"score":0,"creation_date":1691765387,"post_id":76884589,"comment_id":135540355,"body_markdown":"Won&#39;t that time out again at some point though? It&#39;s really just a couple users at the moment using this database.","body":"Won&#39;t that time out again at some point though? It&#39;s really just a couple users at the moment using this database."},{"owner":{"account_id":29206924,"reputation":1,"user_id":22375818,"display_name":"Cornelis"},"score":0,"creation_date":1691765596,"post_id":76884589,"comment_id":135540399,"body_markdown":"We can play with values to identify the problem, my first thought is this max-active value, however if you are saying now that there are only a few users, the problem might be with min/max idle","body":"We can play with values to identify the problem, my first thought is this max-active value, however if you are saying now that there are only a few users, the problem might be with min/max idle"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1691767207,"post_id":76884589,"comment_id":135540733,"body_markdown":"Have a read about [connection pool sizing](https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing).","body":"Have a read about <a href=\"https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing\" rel=\"nofollow noreferrer\">connection pool sizing</a>."},{"owner":{"account_id":6632648,"reputation":525,"user_id":5120843,"accept_rate":40,"display_name":"Morkus"},"score":0,"creation_date":1691771589,"post_id":76884589,"comment_id":135541562,"body_markdown":"So, if there are a couple users and it seems that the connection pool &quot;times out&quot; after a couple hours (not sure exactly what&#39;s happening, actually), what kind of value do you think would be appropriate as a test fro min/max idle? Thanks.","body":"So, if there are a couple users and it seems that the connection pool &quot;times out&quot; after a couple hours (not sure exactly what&#39;s happening, actually), what kind of value do you think would be appropriate as a test fro min/max idle? Thanks."}],"tags":[],"owner":{"account_id":29206924,"reputation":1,"user_id":22375818,"display_name":"Cornelis"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1691765217,"creation_date":1691765217,"answer_id":76884589,"question_id":76884571,"body_markdown":"Try increasing the max-active value, as a value of 100 might be too low depending on your application&#39;s concurrency requirements","title":"Can anyone see why Tomcat is timing out on my connection pool?","body":"<p>Try increasing the max-active value, as a value of 100 might be too low depending on your application's concurrency requirements</p>\n"}],"owner":{"account_id":6632648,"reputation":525,"user_id":5120843,"accept_rate":40,"display_name":"Morkus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1691850885,"creation_date":1691765007,"question_id":76884571,"body_markdown":" have a connection pool in my Springboot App with these settings in Application.properties:\r\n\r\n    // db user name, password, url here...\r\n    spring.datasource.tomcat.initial-size=15\r\n    spring.datasource.tomcat.max-wait=20000\r\n    spring.datasource.tomcat.max-active=100\r\n    spring.datasource.tomcat.max-idle=15\r\n    spring.datasource.tomcat.min-idle=8\r\n    spring.datasource.tomcat.default-auto-commit=true\r\n    spring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\r\n\r\nAll is OK for a while. But what&#39;s happening is that every few hours, something goes wrong and I get this Exception when trying to run the JDBC code:  \r\nUnexpected end of data.\r\n\r\nIn other classes, the Unexpected end of data Exception shows up as a SQL Exception, but it&#39;s the same message.\r\n\r\nIf I restart Tomcat, JDBC is all working again ... for a little while.\r\n\r\nThe Connection code looks like this:\r\n\r\n    try\r\n    \t(\r\n    \t\t\tfinal Connection connection = dataSource.getConnection();\r\n    \t\t\tfinal PreparedStatement statement = connection.prepareStatement(SQL_TO_RUN_HERE);\r\n    \t)\r\n    \t{\r\n    \t.\r\n    \t.\r\n    \t.\r\n    \t\r\n    \t}\r\n\r\n&quot;dataSource&quot; is injected into the class and is the Connection Pool instance.\r\n\r\nAlso, if I don&#39;t use the connection pool at all and just use `DriverManager.getConnection(...),` it always works then too with no problems.\r\n\r\nAdditional debugging info:\r\n----------------------------\r\nSQL State: 08007\r\nDetail Message: [FileMaker][FileMaker JDBC] Unexpected end of data.\r\nError code: 27026\r\n\r\nLine of code that fails: connection.prepareStatement(SQL)\r\n\r\nCan anyone see what setting is off or what setting I might need to add to the connection pool settings?\r\n\r\nThanks very much in advance,\r\n","title":"Can anyone see why Tomcat is timing out on my connection pool?","body":"<p>have a connection pool in my Springboot App with these settings in Application.properties:</p>\n<pre><code>// db user name, password, url here...\nspring.datasource.tomcat.initial-size=15\nspring.datasource.tomcat.max-wait=20000\nspring.datasource.tomcat.max-active=100\nspring.datasource.tomcat.max-idle=15\nspring.datasource.tomcat.min-idle=8\nspring.datasource.tomcat.default-auto-commit=true\nspring.datasource.type=org.apache.tomcat.jdbc.pool.DataSource\n</code></pre>\n<p>All is OK for a while. But what's happening is that every few hours, something goes wrong and I get this Exception when trying to run the JDBC code:<br />\nUnexpected end of data.</p>\n<p>In other classes, the Unexpected end of data Exception shows up as a SQL Exception, but it's the same message.</p>\n<p>If I restart Tomcat, JDBC is all working again ... for a little while.</p>\n<p>The Connection code looks like this:</p>\n<pre><code>try\n    (\n            final Connection connection = dataSource.getConnection();\n            final PreparedStatement statement = connection.prepareStatement(SQL_TO_RUN_HERE);\n    )\n    {\n    .\n    .\n    .\n    \n    }\n</code></pre>\n<p>&quot;dataSource&quot; is injected into the class and is the Connection Pool instance.</p>\n<p>Also, if I don't use the connection pool at all and just use <code>DriverManager.getConnection(...),</code> it always works then too with no problems.</p>\n<h2>Additional debugging info:</h2>\n<p>SQL State: 08007\nDetail Message: [FileMaker][FileMaker JDBC] Unexpected end of data.\nError code: 27026</p>\n<p>Line of code that fails: connection.prepareStatement(SQL)</p>\n<p>Can anyone see what setting is off or what setting I might need to add to the connection pool settings?</p>\n<p>Thanks very much in advance,</p>\n"},{"tags":["java","unit-testing","testing","unitils"],"answers":[{"comments":[{"owner":{"account_id":3522295,"reputation":2703,"user_id":2944265,"accept_rate":50,"display_name":"Zveratko"},"score":0,"creation_date":1452232169,"post_id":34659291,"comment_id":57086128,"body_markdown":"The version madness is complete, not only inside libraries, but unitils itself. The usage of mockito vs. easymock is terrible. But so far I have been kind of happy, but now I have waken up to realize that I have slept to long. DBSetup looks good, but for bigger table the setup can clutter the code heavily. Although I really agree about maintaining multiple .xmls been big burden.","body":"The version madness is complete, not only inside libraries, but unitils itself. The usage of mockito vs. easymock is terrible. But so far I have been kind of happy, but now I have waken up to realize that I have slept to long. DBSetup looks good, but for bigger table the setup can clutter the code heavily. Although I really agree about maintaining multiple .xmls been big burden."},{"owner":{"account_id":3522295,"reputation":2703,"user_id":2944265,"accept_rate":50,"display_name":"Zveratko"},"score":0,"creation_date":1452233167,"post_id":34659291,"comment_id":57086491,"body_markdown":"Another thing is that the projects you offered are Spring bounded. We are unfortunately not using Spring at all.","body":"Another thing is that the projects you offered are Spring bounded. We are unfortunately not using Spring at all."},{"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"score":0,"creation_date":1452240698,"post_id":34659291,"comment_id":57089655,"body_markdown":"@Zveratko yes and no... `DbSetup` is not bounded to Spring at all - it just needs a `DataSource` to operate on. All other mentioned by me possibilities: **yes**, they need Spring - but surprisingly it&#39;s not a blocker too, because you can use `spring-test` module within unit tests, without using Spring at all in your normal classes. I went this way in one of my projects.","body":"@Zveratko yes and no... <code>DbSetup</code> is not bounded to Spring at all - it just needs a <code>DataSource</code> to operate on. All other mentioned by me possibilities: <b>yes</b>, they need Spring - but surprisingly it&#39;s not a blocker too, because you can use <code>spring-test</code> module within unit tests, without using Spring at all in your normal classes. I went this way in one of my projects."},{"owner":{"account_id":42927,"reputation":1704,"user_id":125246,"display_name":"paulcm"},"score":3,"creation_date":1479040104,"post_id":34659291,"comment_id":68383195,"body_markdown":"Also, [AssertJ](http://joel-costigliola.github.io/assertj/) seems to provide a nice alternative to `assertReflectionEquals` with its [field-by-filed comparisons](http://joel-costigliola.github.io/assertj/assertj-core-features-highlight.html#field-by-field-comparison)","body":"Also, <a href=\"http://joel-costigliola.github.io/assertj/\" rel=\"nofollow noreferrer\">AssertJ</a> seems to provide a nice alternative to <code>assertReflectionEquals</code> with its <a href=\"http://joel-costigliola.github.io/assertj/assertj-core-features-highlight.html#field-by-field-comparison\" rel=\"nofollow noreferrer\">field-by-filed comparisons</a>"},{"owner":{"account_id":325950,"reputation":1940,"user_id":647449,"accept_rate":64,"display_name":"stantonk"},"score":0,"creation_date":1493421272,"post_id":34659291,"comment_id":74426394,"body_markdown":"@Zveratko according to https://www.versioneye.com/java/org.unitils:unitils/3.4.6 a release happened 3 months ago...","body":"@Zveratko according to <a href=\"https://www.versioneye.com/java/org.unitils:unitils/3.4.6\" rel=\"nofollow noreferrer\">versioneye.com/java/org.unitils:unitils/3.4.6</a> a release happened 3 months ago..."},{"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"score":0,"creation_date":1493701713,"post_id":34659291,"comment_id":74504168,"body_markdown":"@stantonk This was just a bugfix release. Project&#39;s homepage still seems to be dead, also it&#39;s [issue tracker](https://unitils.atlassian.net) shows no activity since June 2014 (but even that, it was just a tiny bugfix). There has been no serious activity for several years.","body":"@stantonk This was just a bugfix release. Project&#39;s homepage still seems to be dead, also it&#39;s <a href=\"https://unitils.atlassian.net\" rel=\"nofollow noreferrer\">issue tracker</a> shows no activity since June 2014 (but even that, it was just a tiny bugfix). There has been no serious activity for several years."},{"owner":{"account_id":325950,"reputation":1940,"user_id":647449,"accept_rate":64,"display_name":"stantonk"},"score":0,"creation_date":1493869593,"post_id":34659291,"comment_id":74588033,"body_markdown":"@G.Demecki that&#39;s disappointing, it&#39;s a really nice abstraction over DbUnit, made it far easier to achieve multi-database, file-based configuration for testing, and easily override Transaction behavior to rollback after each test. Is there any alternatives (besides Spring)?","body":"@G.Demecki that&#39;s disappointing, it&#39;s a really nice abstraction over DbUnit, made it far easier to achieve multi-database, file-based configuration for testing, and easily override Transaction behavior to rollback after each test. Is there any alternatives (besides Spring)?"},{"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"score":0,"creation_date":1493983196,"post_id":34659291,"comment_id":74646260,"body_markdown":"@stantonk I don&#39;t know, because I&#39;ve never used Unitils. But personally I cannot see any killer feature in Unitils which would be not available outside or would not be easy to implement.","body":"@stantonk I don&#39;t know, because I&#39;ve never used Unitils. But personally I cannot see any killer feature in Unitils which would be not available outside or would not be easy to implement."},{"owner":{"account_id":325950,"reputation":1940,"user_id":647449,"accept_rate":64,"display_name":"stantonk"},"score":0,"creation_date":1493996355,"post_id":34659291,"comment_id":74655272,"body_markdown":"@G.Demecki easy is in the eye of the person&#39;s experience and available bandwidth :). i&#39;m not aware of any where outside unitils that this functionality exists...do tell!","body":"@G.Demecki easy is in the eye of the person&#39;s experience and available bandwidth :). i&#39;m not aware of any where outside unitils that this functionality exists...do tell!"}],"tags":[],"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"comment_count":9,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1691850866,"creation_date":1452181408,"answer_id":34659291,"question_id":34658067,"body_markdown":"Unitils seems to be almost abandoned nowadays. Project is available on the GitHub [here][1] and you can look at its history and activity.\r\n\r\nAnyways my two cents...\r\n\r\n**Unitils** has serious drawbacks:\r\n\r\n - Integrates many third-party libs (easymock, dbunit, spring, dbmaintainer, xmlunit, slf4j etc) and thus forces their versions - it is a really serious drawback\r\n - Due to being dependent on many 3rd party libraries, it is almost impossible to keep it up to date without any company behind.\r\n - Unitils 4.0 is developed since 06.2011 and was planned to release at 01.2012, but now (01.2016) **after 4 years** is still not released.\r\n\r\n\r\n**DbUnit**\r\n\r\nFor database-driven apps it may seem that interesting way to go is a plain DbUnit + Spring-Test or alternatively some 3rd party tools:\r\n\r\n - [excilys/spring-dbunit][2] that comes with handy `@DataSet` annotation and is actively developed on the github, also is constantly updated to use the newest versions of DbUnit and Spring Framework.\r\n - [springtestdbunit/spring-test-dbunit][3]  which is also hosted on the github (comes with a `@DatabaseSetup` annotation).\r\n\r\nBoth are very similar, but personally I find DbUnit confusing, quite cumbersome and time-consuming. Why? Try to maintain large amount of small xml files and you find out what I mean. Also combining multiple data sets is really hard.\r\n\r\n**DbSetup**\r\n\r\n[DbSetup][4] may seem like a tempting proposition, but I also do not recommend it at all due to many drawbacks, like no compile time type checking (`Insert.values()` accepts `Object`), it does not allow arbitrary SQL execution (only inserts and deletes are permitted), using this library leads to a not readable code.\r\n\r\n---\r\n\r\nUPDATE 2023: sorry, but TBH these days, when dealing with setting up a relational database I prefer to create test fixtures as close as possible to the test case + using the source code itself. Optionally with database foreign key constraints disabled (if it makes sense).\r\nAlternatively loading the tiniest possible DB dump from SQL file is also an option - but without any weird 3rd party tools like dbunit/dbsetup/whatsoever.\r\n\r\nHope it helps.\r\n\r\n  [1]: https://github.com/arteam/unitils\r\n  [2]: https://github.com/excilys/spring-dbunit\r\n  [3]: https://github.com/springtestdbunit/spring-test-dbunit\r\n  [4]: http://dbsetup.ninja-squad.com/","title":"Is Unitils project alive?","body":"<p>Unitils seems to be almost abandoned nowadays. Project is available on the GitHub <a href=\"https://github.com/arteam/unitils\" rel=\"nofollow noreferrer\">here</a> and you can look at its history and activity.</p>\n<p>Anyways my two cents...</p>\n<p><strong>Unitils</strong> has serious drawbacks:</p>\n<ul>\n<li>Integrates many third-party libs (easymock, dbunit, spring, dbmaintainer, xmlunit, slf4j etc) and thus forces their versions - it is a really serious drawback</li>\n<li>Due to being dependent on many 3rd party libraries, it is almost impossible to keep it up to date without any company behind.</li>\n<li>Unitils 4.0 is developed since 06.2011 and was planned to release at 01.2012, but now (01.2016) <strong>after 4 years</strong> is still not released.</li>\n</ul>\n<p><strong>DbUnit</strong></p>\n<p>For database-driven apps it may seem that interesting way to go is a plain DbUnit + Spring-Test or alternatively some 3rd party tools:</p>\n<ul>\n<li><a href=\"https://github.com/excilys/spring-dbunit\" rel=\"nofollow noreferrer\">excilys/spring-dbunit</a> that comes with handy <code>@DataSet</code> annotation and is actively developed on the github, also is constantly updated to use the newest versions of DbUnit and Spring Framework.</li>\n<li><a href=\"https://github.com/springtestdbunit/spring-test-dbunit\" rel=\"nofollow noreferrer\">springtestdbunit/spring-test-dbunit</a>  which is also hosted on the github (comes with a <code>@DatabaseSetup</code> annotation).</li>\n</ul>\n<p>Both are very similar, but personally I find DbUnit confusing, quite cumbersome and time-consuming. Why? Try to maintain large amount of small xml files and you find out what I mean. Also combining multiple data sets is really hard.</p>\n<p><strong>DbSetup</strong></p>\n<p><a href=\"http://dbsetup.ninja-squad.com/\" rel=\"nofollow noreferrer\">DbSetup</a> may seem like a tempting proposition, but I also do not recommend it at all due to many drawbacks, like no compile time type checking (<code>Insert.values()</code> accepts <code>Object</code>), it does not allow arbitrary SQL execution (only inserts and deletes are permitted), using this library leads to a not readable code.</p>\n<hr />\n<p>UPDATE 2023: sorry, but TBH these days, when dealing with setting up a relational database I prefer to create test fixtures as close as possible to the test case + using the source code itself. Optionally with database foreign key constraints disabled (if it makes sense).\nAlternatively loading the tiniest possible DB dump from SQL file is also an option - but without any weird 3rd party tools like dbunit/dbsetup/whatsoever.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":3522295,"reputation":2703,"user_id":2944265,"accept_rate":50,"display_name":"Zveratko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3361,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":34659291,"answer_count":1,"score":4,"last_activity_date":1691850866,"creation_date":1452178131,"question_id":34658067,"body_markdown":"anybody knows whether [unitils project][1] is still alive. On there pages last version is 3.3 in maven repository it is 3.4.2.(Actually there is google cached version of their pages where the version is said to be 3.4.2)\r\n\r\nAnyway is there any replacement for this project. I kind of lack the vivid community around and really don&#39;t want to be bound to dying project.\r\n\r\n\r\n  [1]: http://unitils.org/","title":"Is Unitils project alive?","body":"<p>anybody knows whether <a href=\"http://unitils.org/\" rel=\"nofollow\">unitils project</a> is still alive. On there pages last version is 3.3 in maven repository it is 3.4.2.(Actually there is google cached version of their pages where the version is said to be 3.4.2)</p>\n\n<p>Anyway is there any replacement for this project. I kind of lack the vivid community around and really don't want to be bound to dying project.</p>\n"},{"tags":["java","android","dependency-injection","dagger-2","dagger"],"answers":[{"tags":[],"owner":{"account_id":1088874,"reputation":61123,"user_id":1083957,"accept_rate":93,"display_name":"azizbekian"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499947927,"creation_date":1499947927,"answer_id":45080249,"question_id":45080227,"body_markdown":"You have two methods with same name: `provideOkHttpClient()`. Rename one of them, make them distinct.","title":"Dagger2 where inject @Named @Provides in dependent module?","body":"<p>You have two methods with same name: <code>provideOkHttpClient()</code>. Rename one of them, make them distinct.</p>\n"},{"tags":[],"owner":{"account_id":2652641,"reputation":2720,"user_id":2293954,"display_name":"DeKaNszn"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1499949383,"creation_date":1499949383,"answer_id":45080811,"question_id":45080227,"body_markdown":"Your Retrofit provider should use `@Named` annotation for OkHttpClient, for example:\r\n\r\n    @Provides\r\n    @Singleton\r\n    public Retrofit provideRetrofit(@Named(&quot;cached&quot;) OkHttpClient okHttpClient)\r\n    {\r\n        return new Retrofit.Builder()\r\n                .baseUrl(&quot;...&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .client(okHttpClient)\r\n                .build();\r\n    }","title":"Dagger2 where inject @Named @Provides in dependent module?","body":"<p>Your Retrofit provider should use <code>@Named</code> annotation for OkHttpClient, for example:</p>\n\n<pre><code>@Provides\n@Singleton\npublic Retrofit provideRetrofit(@Named(\"cached\") OkHttpClient okHttpClient)\n{\n    return new Retrofit.Builder()\n            .baseUrl(\"...\")\n            .addConverterFactory(GsonConverterFactory.create())\n            .client(okHttpClient)\n            .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5754804,"reputation":2636,"user_id":4543133,"accept_rate":87,"display_name":"YTerle"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1565610816,"creation_date":1565610816,"answer_id":57460707,"question_id":45080227,"body_markdown":"If you are using kotlin, the correct way to inject named is next:\r\n\r\n`@field:[Inject Named(&quot;api1&quot;)]`.\r\n\r\nSource: https://medium.com/@WindRider/correct-usage-of-dagger-2-named-annotation-in-kotlin-8ab17ced6928","title":"Dagger2 where inject @Named @Provides in dependent module?","body":"<p>If you are using kotlin, the correct way to inject named is next:</p>\n\n<p><code>@field:[Inject Named(\"api1\")]</code>.</p>\n\n<p>Source: <a href=\"https://medium.com/@WindRider/correct-usage-of-dagger-2-named-annotation-in-kotlin-8ab17ced6928\" rel=\"nofollow noreferrer\">https://medium.com/@WindRider/correct-usage-of-dagger-2-named-annotation-in-kotlin-8ab17ced6928</a></p>\n"},{"tags":[],"owner":{"account_id":10723469,"reputation":870,"user_id":7891801,"display_name":"Devansh Maurya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691850852,"creation_date":1691850852,"answer_id":76889754,"question_id":45080227,"body_markdown":"For Kotlin, use:\r\n```lang-kt\r\n@Inject\r\n@field:Named(&quot;cached&quot;)\r\nlateinit var mOkHttpClient: OkHttpClient\r\n```\r\nFocus on the `@Named` annotation, which is specificed using `@field` [annotation use-site target][1] from Kotlin. Since, no `@Target` is specified in `@Named` annotation source code in Dagger for older versions, we need to tell the Kotlin compiler where to apply this annotation, hence the `@field` use-site annotation target. A `FIELD` `@Target` is specified for `@Inject` annotation in the source code, hence we do not need to specify a target for it explicitly and the compiler picks the correct target automatically\r\n\r\nAlso, when you have multiple annotations, they can be combined in an array-like syntax as:\r\n```lang-kt\r\n@field:[Inject Named(&quot;cached&quot;)]\r\nlateinit var mOkHttpClient: OkHttpClient\r\n```\r\n\r\nFor a more thorough understanding, refer [this][2].\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets\r\n  [2]: https://stackoverflow.com/a/59925322/7891801","title":"Dagger2 where inject @Named @Provides in dependent module?","body":"<p>For Kotlin, use:</p>\n<pre class=\"lang-kt prettyprint-override\"><code>@Inject\n@field:Named(&quot;cached&quot;)\nlateinit var mOkHttpClient: OkHttpClient\n</code></pre>\n<p>Focus on the <code>@Named</code> annotation, which is specificed using <code>@field</code> <a href=\"https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">annotation use-site target</a> from Kotlin. Since, no <code>@Target</code> is specified in <code>@Named</code> annotation source code in Dagger for older versions, we need to tell the Kotlin compiler where to apply this annotation, hence the <code>@field</code> use-site annotation target. A <code>FIELD</code> <code>@Target</code> is specified for <code>@Inject</code> annotation in the source code, hence we do not need to specify a target for it explicitly and the compiler picks the correct target automatically</p>\n<p>Also, when you have multiple annotations, they can be combined in an array-like syntax as:</p>\n<pre class=\"lang-kt prettyprint-override\"><code>@field:[Inject Named(&quot;cached&quot;)]\nlateinit var mOkHttpClient: OkHttpClient\n</code></pre>\n<p>For a more thorough understanding, refer <a href=\"https://stackoverflow.com/a/59925322/7891801\">this</a>.</p>\n"}],"owner":{"account_id":5015098,"reputation":2952,"user_id":4030157,"accept_rate":88,"display_name":"eurosecom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11166,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":45080811,"answer_count":4,"score":9,"last_activity_date":1691850852,"creation_date":1499947846,"question_id":45080227,"body_markdown":"I use dagger2 demo by https://guides.codepath.com/android/Dependency-Injection-with-Dagger-2.\r\nI want to use cached and non_cached retrofit call. I create in NetModule.java\r\n\r\n    @Provides @Named(&quot;cached&quot;)\r\n    @Singleton\r\n    OkHttpClient provideOkHttpClient(Cache cache) {\r\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\r\n                .cache(cache)\r\n                .build();\r\n        return okHttpClient;\r\n    }\r\n\r\n    @Provides @Named(&quot;non_cached&quot;)\r\n    @Singleton\r\n    OkHttpClient provideOkHttpClientNonCached() {\r\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\r\n                .build();\r\n        return okHttpClient;\r\n    }\r\n\r\nGitHubModule.java is dependent on NetModule.java. \r\nmy GitHubComponent.java\r\n\r\n    @UserScope\r\n    @Component(dependencies = NetComponent.class, modules = GitHubModule.class)\r\n    public interface GitHubComponent {\r\n    void inject(DemoDaggerActivity activity);\r\n    }\r\n\r\nmy NetComponent.java\r\n\r\n    @Singleton\r\n    @Component(modules={ApplicationModule.class, NetModule.class})\r\n    public interface NetComponent {\r\n    // downstream components need these exposed\r\n    Retrofit retrofit();\r\n    OkHttpClient okHttpClient();\r\n    SharedPreferences sharedPreferences();\r\n    }\r\n\r\nIn my `DemoDaggerActivity.java` I inject retrofit:\r\n\r\n    @Inject @Named(&quot;cached&quot;)\r\n    OkHttpClient mOkHttpClient;\r\n\r\n    @Inject\r\n    Retrofit mRetrofit;\r\n\r\nAfter rebuild project I get error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhere can I tell to dagger, that i want to use cached or non_cached retrofit?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jTWIa.png","title":"Dagger2 where inject @Named @Provides in dependent module?","body":"<p>I use dagger2 demo by <a href=\"https://guides.codepath.com/android/Dependency-Injection-with-Dagger-2\" rel=\"noreferrer\">https://guides.codepath.com/android/Dependency-Injection-with-Dagger-2</a>.\nI want to use cached and non_cached retrofit call. I create in NetModule.java</p>\n\n<pre><code>@Provides @Named(\"cached\")\n@Singleton\nOkHttpClient provideOkHttpClient(Cache cache) {\n    OkHttpClient okHttpClient = new OkHttpClient.Builder()\n            .cache(cache)\n            .build();\n    return okHttpClient;\n}\n\n@Provides @Named(\"non_cached\")\n@Singleton\nOkHttpClient provideOkHttpClientNonCached() {\n    OkHttpClient okHttpClient = new OkHttpClient.Builder()\n            .build();\n    return okHttpClient;\n}\n</code></pre>\n\n<p>GitHubModule.java is dependent on NetModule.java. \nmy GitHubComponent.java</p>\n\n<pre><code>@UserScope\n@Component(dependencies = NetComponent.class, modules = GitHubModule.class)\npublic interface GitHubComponent {\nvoid inject(DemoDaggerActivity activity);\n}\n</code></pre>\n\n<p>my NetComponent.java</p>\n\n<pre><code>@Singleton\n@Component(modules={ApplicationModule.class, NetModule.class})\npublic interface NetComponent {\n// downstream components need these exposed\nRetrofit retrofit();\nOkHttpClient okHttpClient();\nSharedPreferences sharedPreferences();\n}\n</code></pre>\n\n<p>In my <code>DemoDaggerActivity.java</code> I inject retrofit:</p>\n\n<pre><code>@Inject @Named(\"cached\")\nOkHttpClient mOkHttpClient;\n\n@Inject\nRetrofit mRetrofit;\n</code></pre>\n\n<p>After rebuild project I get error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jTWIa.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jTWIa.png\" alt=\"enter image description here\"></a></p>\n\n<p>Where can I tell to dagger, that i want to use cached or non_cached retrofit?</p>\n"},{"tags":["java","security"],"answers":[{"comments":[{"owner":{"account_id":15081,"reputation":4269,"user_id":31493,"accept_rate":38,"display_name":"Daniel Serodio"},"score":9,"creation_date":1369759411,"post_id":11937940,"comment_id":24207595,"body_markdown":"In OS X, the &quot;official&quot; way to find JAVA_HOME is running `/usr/libexec/java_home`","body":"In OS X, the &quot;official&quot; way to find JAVA_HOME is running <code>&#47;usr&#47;libexec&#47;java_home</code>"},{"owner":{"account_id":13691,"reputation":16914,"user_id":27641,"accept_rate":68,"display_name":"Andrew Ferrier"},"score":3,"creation_date":1394465549,"post_id":11937940,"comment_id":33889792,"body_markdown":"@DanielSerodio, agreed. `/usr/libexec/java_home` gives me a different answer from the `readlink`-based command above, and the former seems to be correct, in that it contains the `cacerts` file.","body":"@DanielSerodio, agreed. <code>&#47;usr&#47;libexec&#47;java_home</code> gives me a different answer from the <code>readlink</code>-based command above, and the former seems to be correct, in that it contains the <code>cacerts</code> file."},{"owner":{"account_id":1485484,"reputation":17458,"user_id":1393862,"accept_rate":84,"display_name":"Kuf"},"score":1,"creation_date":1394466686,"post_id":11937940,"comment_id":33890685,"body_markdown":"@DanielSerodio and AndrewFerrier thanks guys, answer updated.","body":"@DanielSerodio and AndrewFerrier thanks guys, answer updated."},{"owner":{"account_id":2789385,"reputation":7148,"user_id":2399935,"accept_rate":86,"display_name":"Brian"},"score":1,"creation_date":1454522066,"post_id":11937940,"comment_id":58085497,"body_markdown":"@Kuf My JDK does not have this lib/security folder on Mac Yosemite. I am positive that i am in the right $JAVA_HOME","body":"@Kuf My JDK does not have this lib/security folder on Mac Yosemite. I am positive that i am in the right $JAVA_HOME"},{"owner":{"account_id":1485484,"reputation":17458,"user_id":1393862,"accept_rate":84,"display_name":"Kuf"},"score":0,"creation_date":1454622440,"post_id":11937940,"comment_id":58139763,"body_markdown":"@BrianVanover answer updated. If it doesn&#39;t work for you please specify &#39;/usr/libexec/java_home&#39; output and JDK version","body":"@BrianVanover answer updated. If it doesn&#39;t work for you please specify &#39;/usr/libexec/java_home&#39; output and JDK version"},{"owner":{"account_id":1639650,"reputation":817,"user_id":1512358,"display_name":"Sid Sarasvati"},"score":1,"creation_date":1458746649,"post_id":11937940,"comment_id":59999672,"body_markdown":"On OSX 10.10.5 the security folder is under:\nHome/jre/lib/security","body":"On OSX 10.10.5 the security folder is under: Home/jre/lib/security"},{"owner":{"account_id":2183673,"reputation":12897,"user_id":1932588,"display_name":"Lee Meador"},"score":0,"creation_date":1571675156,"post_id":11937940,"comment_id":103311038,"body_markdown":"Your command on my Linux system says No such file or directory as there is no /usr/java/jdk1.8.0_162/lib/security/cacerts. Is the rule different for jre an jdk?","body":"Your command on my Linux system says No such file or directory as there is no /usr/java/jdk1.8.0_162/lib/security/cacerts. Is the rule different for jre an jdk?"},{"owner":{"account_id":316734,"reputation":3694,"user_id":633056,"accept_rate":88,"display_name":"atwright147"},"score":0,"creation_date":1588860738,"post_id":11937940,"comment_id":109067659,"body_markdown":"I ran this just now on Mojave with Zulu installed via brew (basically the .dmg installer) and it didn&#39;t work. I had to remove `jre/` from the path: `$(/usr/libexec/java_home)/lib/security/cacerts`","body":"I ran this just now on Mojave with Zulu installed via brew (basically the .dmg installer) and it didn&#39;t work. I had to remove <code>jre&#47;</code> from the path: <code>$(&#47;usr&#47;libexec&#47;java_home)&#47;lib&#47;security&#47;cacerts</code>"},{"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"score":0,"creation_date":1620754461,"post_id":11937940,"comment_id":119292879,"body_markdown":"how come the &quot;/usr/libexec/java_home&quot; is different than &quot;echo $JAVA_HOME&quot; ? shouldn&#39;t they be the same path?","body":"how come the &quot;/usr/libexec/java_home&quot; is different than &quot;echo $JAVA_HOME&quot; ? shouldn&#39;t they be the same path?"},{"owner":{"account_id":2405534,"reputation":1416,"user_id":2102114,"accept_rate":100,"display_name":"S Raghav"},"score":0,"creation_date":1637908133,"post_id":11937940,"comment_id":123953198,"body_markdown":"On MacOS Big Sur this was at `$(/usr/libexec/java_home)/Contents/Home/jre/lib/security/cacerts`","body":"On MacOS Big Sur this was at <code>$(&#47;usr&#47;libexec&#47;java_home)&#47;Contents&#47;Home&#47;jre&#47;lib&#47;security&#47;cac&zwnj;&#8203;erts</code>"},{"owner":{"account_id":304392,"reputation":388,"user_id":613876,"accept_rate":75,"display_name":"Bob"},"score":0,"creation_date":1657253727,"post_id":11937940,"comment_id":128771899,"body_markdown":"This doesn&#39;t appear to work in Ubuntu","body":"This doesn&#39;t appear to work in Ubuntu"}],"tags":[],"owner":{"account_id":1485484,"reputation":17458,"user_id":1393862,"accept_rate":84,"display_name":"Kuf"},"comment_count":11,"down_vote_count":0,"up_vote_count":233,"is_accepted":false,"score":233,"last_activity_date":1691850121,"creation_date":1344873390,"answer_id":11937940,"question_id":11936685,"body_markdown":"Under **Linux**, to find the location of `$JAVA_HOME`:\r\n\r\n    readlink -f /usr/bin/java | sed &quot;s:bin/java::&quot;\r\n\r\n\r\nthe `cacerts` are under `lib/security/cacerts`:\r\n\r\n    $(readlink -f /usr/bin/java | sed &quot;s:bin/java::&quot;)lib/security/cacerts\r\n\r\nUnder **mac OS X** , to find `$JAVA_HOME` run:\r\n\r\n    /usr/libexec/java_home\r\n\r\nthe `cacerts` are under `Home/lib/security/cacerts`:\r\n\r\n    $(/usr/libexec/java_home)/lib/security/cacerts\r\n\r\n**UPDATE: JDK 8 (or prior)**\r\n\r\nThe code above was tested on a computer with a JRE installed. \r\nWhen using a JDK for Java 8 (or prior), [as pR0Ps said](https://stackoverflow.com/a/27971915/369977), it&#39;s at\r\n\r\n    $(/usr/libexec/java_home)/jre/lib/security/cacerts\r\n\r\nFor Java 9 and above, both JRE and JDK use `$(/usr/libexec/java_home)/lib/security/cacerts`.","title":"How to obtain the location of cacerts of the default java installation?","body":"<p>Under <strong>Linux</strong>, to find the location of <code>$JAVA_HOME</code>:</p>\n<pre><code>readlink -f /usr/bin/java | sed &quot;s:bin/java::&quot;\n</code></pre>\n<p>the <code>cacerts</code> are under <code>lib/security/cacerts</code>:</p>\n<pre><code>$(readlink -f /usr/bin/java | sed &quot;s:bin/java::&quot;)lib/security/cacerts\n</code></pre>\n<p>Under <strong>mac OS X</strong> , to find <code>$JAVA_HOME</code> run:</p>\n<pre><code>/usr/libexec/java_home\n</code></pre>\n<p>the <code>cacerts</code> are under <code>Home/lib/security/cacerts</code>:</p>\n<pre><code>$(/usr/libexec/java_home)/lib/security/cacerts\n</code></pre>\n<p><strong>UPDATE: JDK 8 (or prior)</strong></p>\n<p>The code above was tested on a computer with a JRE installed.\nWhen using a JDK for Java 8 (or prior), <a href=\"https://stackoverflow.com/a/27971915/369977\">as pR0Ps said</a>, it's at</p>\n<pre><code>$(/usr/libexec/java_home)/jre/lib/security/cacerts\n</code></pre>\n<p>For Java 9 and above, both JRE and JDK use <code>$(/usr/libexec/java_home)/lib/security/cacerts</code>.</p>\n"},{"tags":[],"owner":{"account_id":154212,"reputation":2772,"user_id":369977,"accept_rate":100,"display_name":"pR0Ps"},"comment_count":0,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1421351790,"creation_date":1421351790,"answer_id":27971915,"question_id":11936685,"body_markdown":"As of OS X 10.10.1 (Yosemite), the location of the `cacerts` file has been changed to\r\n\r\n    $(/usr/libexec/java_home)/jre/lib/security/cacerts","title":"How to obtain the location of cacerts of the default java installation?","body":"<p>As of OS X 10.10.1 (Yosemite), the location of the <code>cacerts</code> file has been changed to</p>\n\n<pre><code>$(/usr/libexec/java_home)/jre/lib/security/cacerts\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421352016,"creation_date":1421352016,"answer_id":27971974,"question_id":11936685,"body_markdown":"You can also consult readlink -f &quot;`which java`&quot;. However it might not work for all binary wrappers. It is most likely better to actually start a Java class.","title":"How to obtain the location of cacerts of the default java installation?","body":"<p>You can also consult readlink -f \"<code>which java</code>\". However it might not work for all binary wrappers. It is most likely better to actually start a Java class.</p>\n"},{"comments":[{"owner":{"account_id":10382309,"reputation":88,"user_id":7656623,"display_name":"Somnath Singh"},"score":1,"creation_date":1600699541,"post_id":48654255,"comment_id":113162310,"body_markdown":"This is not reading the certificate installed in cacerts. i am able to if using file path and password","body":"This is not reading the certificate installed in cacerts. i am able to if using file path and password"},{"owner":{"account_id":3982855,"reputation":315,"user_id":3284361,"display_name":"Hunter Jackson"},"score":0,"creation_date":1611942691,"post_id":48654255,"comment_id":116621261,"body_markdown":"Yup @SomnathSingh is correct, this is definitely not reading the root cacerts. I have no idea what this is actually reading though.","body":"Yup @SomnathSingh is correct, this is definitely not reading the root cacerts. I have no idea what this is actually reading though."},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1611950324,"post_id":48654255,"comment_id":116624004,"body_markdown":"It reads the cacerts file in the same way the JDK implementation is using the default implementation.","body":"It reads the cacerts file in the same way the JDK implementation is using the default implementation."},{"owner":{"account_id":1028915,"reputation":2348,"user_id":1037626,"accept_rate":20,"display_name":"mgaert"},"score":0,"creation_date":1660123209,"post_id":48654255,"comment_id":129456158,"body_markdown":"Nice pointer, but I do not see how above code reveals the *location* of the cacerts file? It accesses the _content_, which is good to know, but does not answer the OP question. Or am I missing something?","body":"Nice pointer, but I do not see how above code reveals the <i>location</i> of the cacerts file? It accesses the <i>content</i>, which is good to know, but does not answer the OP question. Or am I missing something?"},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1660144887,"post_id":48654255,"comment_id":129464860,"body_markdown":"Yes the answer reads &quot;not use the file at all&quot;","body":"Yes the answer reads &quot;not use the file at all&quot;"}],"tags":[],"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"comment_count":5,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1517964230,"creation_date":1517964230,"answer_id":48654255,"question_id":11936685,"body_markdown":"If you need to access those certs programmatically it is best to not use the file at all, but access it via the trust manager. The following code is from a OpenJDK [Test][1] case (which makes sure the built cacerts collection is not empty):\n\n    TrustManagerFactory trustManagerFactory =\n        TrustManagerFactory.getInstance(&quot;PKIX&quot;);\n    trustManagerFactory.init((KeyStore) null);\n    TrustManager[] trustManagers =\n        trustManagerFactory.getTrustManagers();\n    X509TrustManager trustManager =\n        (X509TrustManager) trustManagers[0];\n    X509Certificate[] acceptedIssuers =\n        trustManager.getAcceptedIssuers();\n\nSo you don’t have to deal with file location or keystore password.\n\n\n  [1]: http://cr.openjdk.java.net/~martin/webrevs/jdk/CacertsExplorer/test/jdk/javax/net/ssl/sanity/CacertsExplorer.java.html","title":"How to obtain the location of cacerts of the default java installation?","body":"<p>If you need to access those certs programmatically it is best to not use the file at all, but access it via the trust manager. The following code is from a OpenJDK <a href=\"http://cr.openjdk.java.net/~martin/webrevs/jdk/CacertsExplorer/test/jdk/javax/net/ssl/sanity/CacertsExplorer.java.html\" rel=\"noreferrer\">Test</a> case (which makes sure the built cacerts collection is not empty):</p>\n\n<pre><code>TrustManagerFactory trustManagerFactory =\n    TrustManagerFactory.getInstance(\"PKIX\");\ntrustManagerFactory.init((KeyStore) null);\nTrustManager[] trustManagers =\n    trustManagerFactory.getTrustManagers();\nX509TrustManager trustManager =\n    (X509TrustManager) trustManagers[0];\nX509Certificate[] acceptedIssuers =\n    trustManager.getAcceptedIssuers();\n</code></pre>\n\n<p>So you don’t have to deal with file location or keystore password.</p>\n"},{"tags":[],"owner":{"account_id":15610464,"reputation":79,"user_id":11262072,"display_name":"arpurush"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1553786515,"creation_date":1553782933,"answer_id":55399974,"question_id":11936685,"body_markdown":"In High Sierra, the **cacerts** is located at : `/Library/Java/JavaVirtualMachines/jdk1.8.0_25.jdk/Contents/Home/jre/lib/security/cacerts`","title":"How to obtain the location of cacerts of the default java installation?","body":"<p>In High Sierra, the <strong>cacerts</strong> is located at : <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_25.jdk/Contents/Home/jre/lib/security/cacerts</code></p>\n"},{"comments":[{"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"score":2,"creation_date":1580414892,"post_id":56874963,"comment_id":106100126,"body_markdown":"NOTE: For current versions of sdkman w/ JDK 11, the location is `~/.sdkman/candidates/java/current/lib/security`","body":"NOTE: For current versions of sdkman w/ JDK 11, the location is <code>~&#47;.sdkman&#47;candidates&#47;java&#47;current&#47;lib&#47;security</code>"}],"tags":[],"owner":{"account_id":674339,"reputation":545,"user_id":518401,"display_name":"Nish"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1563458038,"creation_date":1562173344,"answer_id":56874963,"question_id":11936685,"body_markdown":"In MacOS Mojave, the location is:\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_192.jdk/Contents/Home/jre/lib/security/cacerts \r\n\r\nIf using sdkman to manage java versions, the cacerts is in\r\n   \r\n\r\n    ~/.sdkman/candidates/java/current/jre/lib/security","title":"How to obtain the location of cacerts of the default java installation?","body":"<p>In MacOS Mojave, the location is:</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk1.8.0_192.jdk/Contents/Home/jre/lib/security/cacerts \n</code></pre>\n\n<p>If using sdkman to manage java versions, the cacerts is in</p>\n\n<pre><code>~/.sdkman/candidates/java/current/jre/lib/security\n</code></pre>\n"},{"comments":[{"owner":{"account_id":304392,"reputation":388,"user_id":613876,"accept_rate":75,"display_name":"Bob"},"score":2,"creation_date":1657253698,"post_id":69857998,"comment_id":128771891,"body_markdown":"This is also true in 22.04","body":"This is also true in 22.04"}],"tags":[],"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636139579,"creation_date":1636138470,"answer_id":69857998,"question_id":11936685,"body_markdown":"In Ubuntu 20.04.3 LTS, the **cacerts** is located at: `/etc/ssl/certs/java/cacerts`\r\n\r\n```\r\n$ java --version\r\nopenjdk 11.0.11 2021-04-20\r\nOpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\r\nOpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\r\n```\r\n\r\n```\r\n$ ls -lah /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts*\r\n/usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts -&gt; /etc/ssl/certs/java/cacerts\r\n```","title":"How to obtain the location of cacerts of the default java installation?","body":"<p>In Ubuntu 20.04.3 LTS, the <strong>cacerts</strong> is located at: <code>/etc/ssl/certs/java/cacerts</code></p>\n<pre><code>$ java --version\nopenjdk 11.0.11 2021-04-20\nOpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\n</code></pre>\n<pre><code>$ ls -lah /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts*\n/usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts -&gt; /etc/ssl/certs/java/cacerts\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1641947025,"creation_date":1641947025,"answer_id":70674977,"question_id":11936685,"body_markdown":"For `Java 9` onwards, it&#39;s in &lt;br&gt;\r\n\r\n&gt; `${JAVA_HOME}/lib/security/cacerts`\r\n\r\nas opposed to the usual &lt;br&gt;\r\n\r\n&gt; `${JAVA_HOME}/jre/lib/security/cacerts`","title":"How to obtain the location of cacerts of the default java installation?","body":"<p>For <code>Java 9</code> onwards, it's in <br></p>\n<blockquote>\n<p><code>${JAVA_HOME}/lib/security/cacerts</code></p>\n</blockquote>\n<p>as opposed to the usual <br></p>\n<blockquote>\n<p><code>${JAVA_HOME}/jre/lib/security/cacerts</code></p>\n</blockquote>\n"}],"owner":{"account_id":35261,"reputation":163470,"user_id":99834,"accept_rate":46,"display_name":"sorin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286189,"favorite_count":0,"down_vote_count":0,"up_vote_count":141,"answer_count":8,"score":141,"last_activity_date":1691850121,"creation_date":1344869155,"question_id":11936685,"body_markdown":"I am looking on how how to obtain the location of `cacerts` of the default java installation, when you do not have `JAVA_HOME` or `JRE_HOME` defined.\r\n\r\nI need a solution that works at least for `OS X` and `Linux`.\r\n\r\nYes. `java -v` is assumed to work :)","title":"How to obtain the location of cacerts of the default java installation?","body":"<p>I am looking on how how to obtain the location of <code>cacerts</code> of the default java installation, when you do not have <code>JAVA_HOME</code> or <code>JRE_HOME</code> defined.</p>\n\n<p>I need a solution that works at least for <code>OS X</code> and <code>Linux</code>.</p>\n\n<p>Yes. <code>java -v</code> is assumed to work :)</p>\n"},{"tags":["java","android","error-handling"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1691850498,"post_id":76889623,"comment_id":135548788,"body_markdown":"That seem not to be the complete file. A valid XML file should have a root element.","body":"That seem not to be the complete file. A valid XML file should have a root element."},{"owner":{"account_id":21332522,"reputation":41,"user_id":15704156,"display_name":"M.Jamous"},"score":0,"creation_date":1691860727,"post_id":76889623,"comment_id":135549805,"body_markdown":"yes the root is just like this &quot;&lt;resources&gt;&quot;","body":"yes the root is just like this &quot;&lt;resources&gt;&quot;"}],"owner":{"account_id":21332522,"reputation":41,"user_id":15704156,"display_name":"M.Jamous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691848992,"creation_date":1691848992,"question_id":76889623,"body_markdown":"this is attr file\r\n\r\n      &lt;declare-styleable name=&quot;WeekdaysPicker&quot;&gt;\r\n        &lt;attr name=&quot;enabled&quot; format=&quot;boolean&quot; /&gt;\r\n        &lt;attr name=&quot;highlight_color&quot; format=&quot;color&quot; /&gt;\r\n\r\n        &lt;attr name=&quot;text_unselected_color&quot; format=&quot;color&quot; /&gt;\r\n        &lt;attr name=&quot;sunday_first_day&quot; format=&quot;boolean&quot; /&gt;\r\n        &lt;attr name=&quot;show_weekend&quot; format=&quot;boolean&quot; /&gt;\r\n        &lt;attr name=&quot;week_end_darker&quot; format=&quot;boolean&quot; /&gt;\r\n        &lt;attr name=&quot;weekend_color&quot; format=&quot;color&quot; /&gt;\r\n        &lt;attr name=&quot;weekend_text_color&quot; format=&quot;color&quot; /&gt;\r\n        &lt;attr name=&quot;full_size&quot; format=&quot;boolean&quot; /&gt;\r\n        &lt;attr name=&quot;recurrence&quot; format=&quot;boolean&quot; /&gt;\r\n        &lt;attr name=&quot;border_color&quot; format=&quot;color&quot; /&gt;\r\n        &lt;attr name=&quot;border_thickness&quot; format=&quot;integer&quot; /&gt;\r\n        &lt;attr name=&quot;border_highlight_color&quot; format=&quot;color&quot; /&gt;\r\n        &lt;attr name=&quot;border_highlight_thickness&quot; format=&quot;integer&quot; /&gt;\r\n    &lt;/declare-styleable&gt;\r\n\r\n    &lt;attr name=&quot;text_color&quot; format=&quot;color&quot; /&gt;\r\n    &lt;attr name=&quot;button_text_color&quot; format=&quot;reference&quot; /&gt;\r\n    &lt;attr name=&quot;button_background_color&quot; format=&quot;reference&quot; /&gt;\r\n    &lt;attr name=&quot;button_disabled_background_color&quot; format=&quot;reference&quot; /&gt;\r\n    &lt;attr name=&quot;background_color&quot; format=&quot;reference&quot; /&gt;\r\n    &lt;attr name=&quot;input_layout_background_color&quot; format=&quot;reference&quot; /&gt;\r\n    &lt;attr name=&quot;icon_color&quot; format=&quot;reference&quot; /&gt;\r\n\r\n\r\nNothing in the project has &lt;:&gt; in it, and tried Invalidate Caches and Restart didn&#39;t work, tried changing the attr values name didn&#39;t work too.\r\n","title":"How to fix &quot;Illegal char &lt;:&gt; at index 37: com.xride.app-mergeDebugResources-115:/values/values.xml&quot; in Android","body":"<p>this is attr file</p>\n<pre><code>  &lt;declare-styleable name=&quot;WeekdaysPicker&quot;&gt;\n    &lt;attr name=&quot;enabled&quot; format=&quot;boolean&quot; /&gt;\n    &lt;attr name=&quot;highlight_color&quot; format=&quot;color&quot; /&gt;\n\n    &lt;attr name=&quot;text_unselected_color&quot; format=&quot;color&quot; /&gt;\n    &lt;attr name=&quot;sunday_first_day&quot; format=&quot;boolean&quot; /&gt;\n    &lt;attr name=&quot;show_weekend&quot; format=&quot;boolean&quot; /&gt;\n    &lt;attr name=&quot;week_end_darker&quot; format=&quot;boolean&quot; /&gt;\n    &lt;attr name=&quot;weekend_color&quot; format=&quot;color&quot; /&gt;\n    &lt;attr name=&quot;weekend_text_color&quot; format=&quot;color&quot; /&gt;\n    &lt;attr name=&quot;full_size&quot; format=&quot;boolean&quot; /&gt;\n    &lt;attr name=&quot;recurrence&quot; format=&quot;boolean&quot; /&gt;\n    &lt;attr name=&quot;border_color&quot; format=&quot;color&quot; /&gt;\n    &lt;attr name=&quot;border_thickness&quot; format=&quot;integer&quot; /&gt;\n    &lt;attr name=&quot;border_highlight_color&quot; format=&quot;color&quot; /&gt;\n    &lt;attr name=&quot;border_highlight_thickness&quot; format=&quot;integer&quot; /&gt;\n&lt;/declare-styleable&gt;\n\n&lt;attr name=&quot;text_color&quot; format=&quot;color&quot; /&gt;\n&lt;attr name=&quot;button_text_color&quot; format=&quot;reference&quot; /&gt;\n&lt;attr name=&quot;button_background_color&quot; format=&quot;reference&quot; /&gt;\n&lt;attr name=&quot;button_disabled_background_color&quot; format=&quot;reference&quot; /&gt;\n&lt;attr name=&quot;background_color&quot; format=&quot;reference&quot; /&gt;\n&lt;attr name=&quot;input_layout_background_color&quot; format=&quot;reference&quot; /&gt;\n&lt;attr name=&quot;icon_color&quot; format=&quot;reference&quot; /&gt;\n</code></pre>\n<p>Nothing in the project has &lt;:&gt; in it, and tried Invalidate Caches and Restart didn't work, tried changing the attr values name didn't work too.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1691849774,"post_id":7379915,"comment_id":135548689,"body_markdown":"you are telling that `rh.executeBatchInsert()` does not work? Some error message? Which?","body":"you are telling that <code>rh.executeBatchInsert()</code> does not work? Some error message? Which?"}],"answers":[{"tags":[],"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1315761524,"creation_date":1315761524,"answer_id":7379937,"question_id":7379915,"body_markdown":"You can&#39;t call a non-static method from a static method, because the definition of &quot;non-static&quot; means something that is associated with an *instance* of the class.  You don&#39;t have an instance of the class in a static context.","title":"Java: How To Call Non Static Method From Main Method?","body":"<p>You can't call a non-static method from a static method, because the definition of \"non-static\" means something that is associated with an <em>instance</em> of the class.  You don't have an instance of the class in a static context.</p>\n"},{"comments":[{"owner":{"account_id":152243,"reputation":2057,"user_id":366628,"accept_rate":89,"display_name":"flies"},"score":0,"creation_date":1414025341,"post_id":7379939,"comment_id":41668398,"body_markdown":"I have a basic understanding of the difference between a static (class) method and a non-static (instance) method.  What I don&#39;t get is how it make sense for a class method to create an instance of its own type.","body":"I have a basic understanding of the difference between a static (class) method and a non-static (instance) method.  What I don&#39;t get is how it make sense for a class method to create an instance of its own type."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1414043074,"post_id":7379939,"comment_id":41672662,"body_markdown":"@flies: Why would it make any more or less sense than for any other method to create an instance of the type? Indeed, for factory methods (e.g. `Integer.valueOf`) that&#39;s the whole *point* of the method.","body":"@flies: Why would it make any more or less sense than for any other method to create an instance of the type? Indeed, for factory methods (e.g. <code>Integer.valueOf</code>) that&#39;s the whole <i>point</i> of the method."},{"owner":{"account_id":152243,"reputation":2057,"user_id":366628,"accept_rate":89,"display_name":"flies"},"score":0,"creation_date":1414118090,"post_id":7379939,"comment_id":41706078,"body_markdown":"If `class {...}` defines a class, then how does it make sense for the definition to instantiate the thing being defined?  It hasn&#39;t been defined yet, right?","body":"If <code>class {...}</code> defines a class, then how does it make sense for the definition to instantiate the thing being defined?  It hasn&#39;t been defined yet, right?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1414129670,"post_id":7379939,"comment_id":41708503,"body_markdown":"@flies: It doesn&#39;t... it&#39;s not clear why you think it does... It&#39;s the static method (e.g. `Integer.valueOf()` that creates the instance.","body":"@flies: It doesn&#39;t... it&#39;s not clear why you think it does... It&#39;s the static method (e.g. <code>Integer.valueOf()</code> that creates the instance."},{"owner":{"account_id":152243,"reputation":2057,"user_id":366628,"accept_rate":89,"display_name":"flies"},"score":0,"creation_date":1415724895,"post_id":7379939,"comment_id":42298991,"body_markdown":"the static method is part of the definition of the class, right?  so the definition instantiates the thing defined?","body":"the static method is part of the definition of the class, right?  so the definition instantiates the thing defined?"},{"owner":{"account_id":152243,"reputation":2057,"user_id":366628,"accept_rate":89,"display_name":"flies"},"score":0,"creation_date":1415725040,"post_id":7379939,"comment_id":42299102,"body_markdown":"wait.  The definition includes instructions to instantiate an object, but those instructions aren&#39;t carried out until the definition is compiled and the method is executed.  The definition itself does not instantiate anything, it just includes methods that instantiate objects when executed.  Is that right?","body":"wait.  The definition includes instructions to instantiate an object, but those instructions aren&#39;t carried out until the definition is compiled and the method is executed.  The definition itself does not instantiate anything, it just includes methods that instantiate objects when executed.  Is that right?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1415727048,"post_id":7379939,"comment_id":42300198,"body_markdown":"@flies: No, calling a method doesn&#39;t instantiate an object. Calling a constructor does. You should separate instantiation from method calling in your mind - they really are very distinct operations.","body":"@flies: No, calling a method doesn&#39;t instantiate an object. Calling a constructor does. You should separate instantiation from method calling in your mind - they really are very distinct operations."},{"owner":{"account_id":152243,"reputation":2057,"user_id":366628,"accept_rate":89,"display_name":"flies"},"score":0,"creation_date":1415813082,"post_id":7379939,"comment_id":42339362,"body_markdown":"I understand that calling a method per se doesn&#39;t instantiate an object.  The issue I&#39;m discussing is that there are static methods that include instructions to instantiate an object of their own class, e.g. `class MyClass { public static void main(...) { MyClass mc = new MyClass(); ... } }`.  It just looks self-referential to me.","body":"I understand that calling a method per se doesn&#39;t instantiate an object.  The issue I&#39;m discussing is that there are static methods that include instructions to instantiate an object of their own class, e.g. <code>class MyClass { public static void main(...) { MyClass mc = new MyClass(); ... } }</code>.  It just looks self-referential to me."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1415813156,"post_id":7379939,"comment_id":42339397,"body_markdown":"@flies: Well it&#39;s &quot;self-referential&quot; in that it&#39;s creating a new instance of the class in which it&#39;s declared... but I don&#39;t see why that&#39;s a problem at all.","body":"@flies: Well it&#39;s &quot;self-referential&quot; in that it&#39;s creating a new instance of the class in which it&#39;s declared... but I don&#39;t see why that&#39;s a problem at all."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":9,"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1315761552,"creation_date":1315761552,"answer_id":7379939,"question_id":7379915,"body_markdown":"You simply need to create an instance of ReportHandler:\r\n\r\n    ReportHandler rh = new ReportHandler(/* constructor args here */);\r\n    rh.executeBatchInsert(); // Having fixed name to follow conventions\r\n\r\nThe important point of instance methods is that they&#39;re meant to be specific to a particular instance of the class... so you&#39;ll need to *create* an instance first. That way the instance will have access to the right connection and prepared statement in your case. Just calling `ReportHandler.executeBatchInsert`, there isn&#39;t enough *context*.\r\n\r\nIt&#39;s really important that you understand that:\r\n\r\n- Instance methods (and fields etc) relate to a particular instance\r\n- Static methods and fields relate to the type itself, *not* a particular instance\r\n\r\nOnce you understand that fundamental difference, it makes sense that you can&#39;t call an instance method without creating an instance... For example, it makes sense to ask, &quot;What is the height of *that* person?&quot; (for a specific person) but it doesn&#39;t make sense to ask, &quot;What is the height of Person?&quot; (without specifying a person).\r\n\r\nAssuming you&#39;re leaning Java from a book or tutorial, you should read up on more examples of static and non-static methods etc - it&#39;s a *vital* distinction to understand, and you&#39;ll have all kinds of problems until you&#39;ve understood it.","title":"Java: How To Call Non Static Method From Main Method?","body":"<p>You simply need to create an instance of ReportHandler:</p>\n\n<pre><code>ReportHandler rh = new ReportHandler(/* constructor args here */);\nrh.executeBatchInsert(); // Having fixed name to follow conventions\n</code></pre>\n\n<p>The important point of instance methods is that they're meant to be specific to a particular instance of the class... so you'll need to <em>create</em> an instance first. That way the instance will have access to the right connection and prepared statement in your case. Just calling <code>ReportHandler.executeBatchInsert</code>, there isn't enough <em>context</em>.</p>\n\n<p>It's really important that you understand that:</p>\n\n<ul>\n<li>Instance methods (and fields etc) relate to a particular instance</li>\n<li>Static methods and fields relate to the type itself, <em>not</em> a particular instance</li>\n</ul>\n\n<p>Once you understand that fundamental difference, it makes sense that you can't call an instance method without creating an instance... For example, it makes sense to ask, \"What is the height of <em>that</em> person?\" (for a specific person) but it doesn't make sense to ask, \"What is the height of Person?\" (without specifying a person).</p>\n\n<p>Assuming you're leaning Java from a book or tutorial, you should read up on more examples of static and non-static methods etc - it's a <em>vital</em> distinction to understand, and you'll have all kinds of problems until you've understood it.</p>\n"},{"tags":[],"owner":{"account_id":378962,"reputation":15657,"user_id":732016,"accept_rate":83,"display_name":"wchargin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315761581,"creation_date":1315761581,"answer_id":7379943,"question_id":7379915,"body_markdown":"A static method means that you don&#39;t need to invoke the method on an instance. A non-static (instance) method requires that you invoke it on an instance. So think about it: if I have a method `changeThisItemToTheColorBlue()` and I try to run it from the main method, what instance would it change? It doesn&#39;t know. You can run an instance method _on_ an instance, like `someItem.changeThisItemToTheColorBlue()`.\r\n\r\nMore information at &lt;http://en.wikipedia.org/wiki/Method_(computer_programming)#Static_methods&gt;.","title":"Java: How To Call Non Static Method From Main Method?","body":"<p>A static method means that you don't need to invoke the method on an instance. A non-static (instance) method requires that you invoke it on an instance. So think about it: if I have a method <code>changeThisItemToTheColorBlue()</code> and I try to run it from the main method, what instance would it change? It doesn't know. You can run an instance method <em>on</em> an instance, like <code>someItem.changeThisItemToTheColorBlue()</code>.</p>\n\n<p>More information at <a href=\"http://en.wikipedia.org/wiki/Method_(computer_programming)#Static_methods\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Method_(computer_programming)#Static_methods</a>.</p>\n"},{"tags":[],"owner":{"account_id":230661,"reputation":613,"user_id":494402,"accept_rate":62,"display_name":"zero_dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315761720,"creation_date":1315761720,"answer_id":7379957,"question_id":7379915,"body_markdown":"You can think of a static member function as one that exists without the need for an object to exist.  For example, the Integer.parseInt() method from the Integer class is static.  When you need to use it, you don&#39;t need to create a new Integer object, you simply call it.  The same thing for main().  If you need to call a non-static member from it, simply put your main code in a class and then from main create a new object of your newly created class.","title":"Java: How To Call Non Static Method From Main Method?","body":"<p>You can think of a static member function as one that exists without the need for an object to exist.  For example, the Integer.parseInt() method from the Integer class is static.  When you need to use it, you don't need to create a new Integer object, you simply call it.  The same thing for main().  If you need to call a non-static member from it, simply put your main code in a class and then from main create a new object of your newly created class.</p>\n"},{"tags":[],"owner":{"account_id":242656,"reputation":26096,"user_id":514316,"accept_rate":80,"display_name":"TheOneTeam"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1315762098,"creation_date":1315762098,"answer_id":7380000,"question_id":7379915,"body_markdown":"Java is a kind of object-oriented programming, not a procedure programming. So every thing in your code should be manipulating an object.\r\n\r\n**public static void main** is only the **entry** of your program. It does not involve any object behind.\r\n\r\nSo what is coding with an object? It is simple, you need to create a particular object/instance, call their methods to change their states, or do other specific function within that object.\r\n\r\ne.g. just like\r\n\r\n    private ReportHandler rh = new ReportHandler();\r\n    rh.&lt;function declare in your Report Handler class&gt;\r\n\r\nSo when you declare a **static** method, it doesn&#39;t associate with your object/instance of your object. And it is also violate with your O-O programming. \r\n\r\n**static** method is usually be called when that function is not related to any object behind.","title":"Java: How To Call Non Static Method From Main Method?","body":"<p>Java is a kind of object-oriented programming, not a procedure programming. So every thing in your code should be manipulating an object.</p>\n\n<p><strong>public static void main</strong> is only the <strong>entry</strong> of your program. It does not involve any object behind.</p>\n\n<p>So what is coding with an object? It is simple, you need to create a particular object/instance, call their methods to change their states, or do other specific function within that object.</p>\n\n<p>e.g. just like</p>\n\n<pre><code>private ReportHandler rh = new ReportHandler();\nrh.&lt;function declare in your Report Handler class&gt;\n</code></pre>\n\n<p>So when you declare a <strong>static</strong> method, it doesn't associate with your object/instance of your object. And it is also violate with your O-O programming. </p>\n\n<p><strong>static</strong> method is usually be called when that function is not related to any object behind.</p>\n"},{"tags":[],"owner":{"account_id":6132216,"reputation":603,"user_id":4782065,"accept_rate":0,"display_name":"Ankit"},"comment_count":0,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1526078450,"creation_date":1449219857,"answer_id":34084440,"question_id":7379915,"body_markdown":"Please find answer:\r\n               \r\n    public class Customer {\r\n    \r\n        public static void main(String[] args) {\r\n            Customer customer=new Customer();\r\n            customer.business();\r\n        }\r\n   \r\n        public void business(){\r\n            System.out.println(&quot;Hi Harry&quot;);\r\n        }\r\n    }\r\n","title":"Java: How To Call Non Static Method From Main Method?","body":"<p>Please find answer:</p>\n\n<pre><code>public class Customer {\n\n    public static void main(String[] args) {\n        Customer customer=new Customer();\n        customer.business();\n    }\n\n    public void business(){\n        System.out.println(\"Hi Harry\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11728127,"reputation":1,"user_id":8584649,"display_name":"user8584649"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504972058,"creation_date":1504972058,"answer_id":46132366,"question_id":7379915,"body_markdown":"You cannot call a non-static method from the main without instance creation, whereas you can simply call a static method.\r\nThe main logic behind this is that, whenever you execute a .class file all the static data gets stored in the RAM and however, JVM(java virtual machine) would be creating context of the mentioned class which contains all the static data of the class. \r\nTherefore, it is easy to access the static data from the class without instance creation.The object contains the non-static data\r\nContext is created only once, whereas object can be created any number of times.\r\ncontext contains methods, variables etc. Whereas, object contains only data.\r\nthus, the an object can access both static and non-static data from the context of the class","title":"Java: How To Call Non Static Method From Main Method?","body":"<p>You cannot call a non-static method from the main without instance creation, whereas you can simply call a static method.\nThe main logic behind this is that, whenever you execute a .class file all the static data gets stored in the RAM and however, JVM(java virtual machine) would be creating context of the mentioned class which contains all the static data of the class. \nTherefore, it is easy to access the static data from the class without instance creation.The object contains the non-static data\nContext is created only once, whereas object can be created any number of times.\ncontext contains methods, variables etc. Whereas, object contains only data.\nthus, the an object can access both static and non-static data from the context of the class</p>\n"},{"tags":[],"owner":{"account_id":13700339,"reputation":131,"user_id":9885720,"display_name":"user9885720"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532210207,"creation_date":1532210207,"answer_id":51460440,"question_id":7379915,"body_markdown":"Since you want to call a non-static method from main, you just need to create an object of that class consisting non-static method and then you will be able to call the method using ***objectname.methodname();***\r\nBut if you write the method as static then you won&#39;t need to create object and you will be able to call the method using ***methodname();*** from main. And this will be more efficient as it will take less memory than the object created without static method.","title":"Java: How To Call Non Static Method From Main Method?","body":"<p>Since you want to call a non-static method from main, you just need to create an object of that class consisting non-static method and then you will be able to call the method using <strong><em>objectname.methodname();</em></strong>\nBut if you write the method as static then you won't need to create object and you will be able to call the method using <strong><em>methodname();</em></strong> from main. And this will be more efficient as it will take less memory than the object created without static method.</p>\n"},{"tags":[],"owner":{"account_id":6115438,"reputation":596,"user_id":7625104,"display_name":"Vicky Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561181382,"creation_date":1561181382,"answer_id":56712857,"question_id":7379915,"body_markdown":"Useful link to understand static keyword\r\nhttps://www.codeguru.com/java/tij/tij0037.shtml#Heading79","title":"Java: How To Call Non Static Method From Main Method?","body":"<p>Useful link to understand static keyword\n<a href=\"https://www.codeguru.com/java/tij/tij0037.shtml#Heading79\" rel=\"nofollow noreferrer\">https://www.codeguru.com/java/tij/tij0037.shtml#Heading79</a></p>\n"},{"comments":[{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1692120070,"post_id":76889510,"comment_id":135580219,"body_markdown":"Please make your answer way more detailed and with code snippets if possible.","body":"Please make your answer way more detailed and with code snippets if possible."}],"tags":[],"owner":{"account_id":29211853,"reputation":1,"user_id":22379639,"display_name":"Varry"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691846965,"creation_date":1691846965,"answer_id":76889510,"question_id":7379915,"body_markdown":"Let me guess, &quot;ReportHandler&quot; was written like an inner class inside of Main?\r\nI faced the same problem, and all the answers here seems to be inattentive.\r\nI moved my &quot;ReportHandler&quot; outside, and the error has gone","title":"Java: How To Call Non Static Method From Main Method?","body":"<p>Let me guess, &quot;ReportHandler&quot; was written like an inner class inside of Main?\nI faced the same problem, and all the answers here seems to be inattentive.\nI moved my &quot;ReportHandler&quot; outside, and the error has gone</p>\n"}],"owner":{"account_id":47759,"reputation":7319,"user_id":141579,"accept_rate":88,"display_name":"stighy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209291,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":7379939,"answer_count":10,"score":57,"last_activity_date":1691846965,"creation_date":1315761369,"question_id":7379915,"body_markdown":"I&#39;m learning java and now i&#39;ve the following problem: I have the main method declared as\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    ..... }\r\n\r\nInside my main method, because it is **static** I can call ONLY other static method!!! Why ?\r\n\r\nFor example: I have another class\r\n\r\n     public class ReportHandler { \t \t\r\n         private Connection conn; \t\r\n         private PreparedStatement prep;\r\n         public void executeBatchInsert() { ....\r\n     } }\r\n\r\n\r\nSo in my main class I declare a `private ReportHandler rh = new ReportHandler();`\r\n\r\nBut I can&#39;t call any method if they aren&#39;t static.\r\n\r\nWhere does this go wrong?\r\n\r\nEDIT: sorry, my question is: how to &#39;design&#39; the app to allow me to call other class from my &#39;starting point&#39; (the `static void main`).\r\n","title":"Java: How To Call Non Static Method From Main Method?","body":"<p>I'm learning java and now i've the following problem: I have the main method declared as</p>\n\n<pre><code>public static void main(String[] args) {\n\n..... }\n</code></pre>\n\n<p>Inside my main method, because it is <strong>static</strong> I can call ONLY other static method!!! Why ?</p>\n\n<p>For example: I have another class</p>\n\n<pre><code> public class ReportHandler {       \n     private Connection conn;   \n     private PreparedStatement prep;\n     public void executeBatchInsert() { ....\n } }\n</code></pre>\n\n<p>So in my main class I declare a <code>private ReportHandler rh = new ReportHandler();</code></p>\n\n<p>But I can't call any method if they aren't static.</p>\n\n<p>Where does this go wrong?</p>\n\n<p>EDIT: sorry, my question is: how to 'design' the app to allow me to call other class from my 'starting point' (the <code>static void main</code>).</p>\n"},{"tags":["java","regex","string","replace"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1307434810,"post_id":6262397,"comment_id":7305679,"body_markdown":"Oh the joy of regular expressions...","body":"Oh the joy of regular expressions..."}],"answers":[{"comments":[{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":4,"creation_date":1307434818,"post_id":6262409,"comment_id":7305683,"body_markdown":"`replace()` doesn&#39;t use regex.","body":"<code>replace()</code> doesn&#39;t use regex."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":9,"creation_date":1307435126,"post_id":6262409,"comment_id":7305763,"body_markdown":"@Adeel, `String.replace(char, char)` doesn&#39;t. `String.replace(CharSequence, CharSequence)` does.","body":"@Adeel, <code>String.replace(char, char)</code> doesn&#39;t. <code>String.replace(CharSequence, CharSequence)</code> does."},{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":1,"creation_date":1307435397,"post_id":6262409,"comment_id":7305842,"body_markdown":"@Lukas: None of those does. BTW, `replace(char, char)` is out of question, because it can&#39;t use regex, whatsoever, and the OP never used it.","body":"@Lukas: None of those does. BTW, <code>replace(char, char)</code> is out of question, because it can&#39;t use regex, whatsoever, and the OP never used it."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":3,"creation_date":1307435647,"post_id":6262409,"comment_id":7305910,"body_markdown":"@Lukas `String.replace(CharSequence, CharSequence)` uses a compiled pattern, true, but not compiled against a regular expression.","body":"@Lukas <code>String.replace(CharSequence, CharSequence)</code> uses a compiled pattern, true, but not compiled against a regular expression."},{"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"score":0,"creation_date":1307436308,"post_id":6262409,"comment_id":7306093,"body_markdown":"@Sean, yes +1, although the expression `abc` is still technically a valid regular expression.","body":"@Sean, yes +1, although the expression <code>abc</code> is still technically a valid regular expression."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":2,"creation_date":1307436478,"post_id":6262409,"comment_id":7306145,"body_markdown":"@Johan yep, it&#39;s also the first three words of a children&#39;s song. (Which is also irrelevant)","body":"@Johan yep, it&#39;s also the first three words of a children&#39;s song. (Which is also irrelevant)"},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1656669796,"post_id":6262409,"comment_id":128634121,"body_markdown":"More over, and at least in Java 8, `Matcher#replaceAll` uses a `StringBuffer` for wroking.","body":"More over, and at least in Java 8, <code>Matcher#replaceAll</code> uses a <code>StringBuffer</code> for wroking."}],"tags":[],"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"comment_count":7,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1379606864,"creation_date":1307434656,"answer_id":6262409,"question_id":6262397,"body_markdown":"`replace` and `replaceAll` uses **regex** internally which in most cases gives a serious [performance impact][1] compared to e.g., [`StringUtils.replace(..)`][2]. \r\n\r\n\r\n[`String.replaceAll()`][3]:\r\n\r\n    public String replaceAll(String regex, String replacement) {\r\n            return Pattern.compile(regex).matcher(this ).replaceAll(\r\n                 replacement);\r\n    }\r\n\r\n\r\n[`String.replace()`][3] uses Pattern.compile underneath.\r\n\r\n    public String replace(CharSequence target, CharSequence replacement) {\r\n      return Pattern.compile(target.toString(), Pattern.LITERAL)\r\n             .matcher(this ).replaceAll(\r\n               Matcher.quoteReplacement(replacement.toString()));\r\n    }\r\n\r\nAlso see [Replace all occurrences of substring in a string - which is more efficient in Java?][4]\r\n\r\n  [1]: http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Core/Collections-Jar-Zip-Logging-regex/java/util/regex/Pattern.java.htm\r\n  [2]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#replace%28java.lang.String,%20java.lang.String,%20java.lang.String%29\r\n  [3]: http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Core/lang/java/lang/String.java.htm\r\n  [4]: https://stackoverflow.com/questions/5407592/replace-all-occurrences-of-substring-in-a-string-which-is-more-efficient-in-jav","title":"String.replaceAll is considerably slower than doing the job yourself","body":"<p><code>replace</code> and <code>replaceAll</code> uses <strong>regex</strong> internally which in most cases gives a serious <a href=\"http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Core/Collections-Jar-Zip-Logging-regex/java/util/regex/Pattern.java.htm\" rel=\"nofollow noreferrer\">performance impact</a> compared to e.g., <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#replace%28java.lang.String,%20java.lang.String,%20java.lang.String%29\" rel=\"nofollow noreferrer\"><code>StringUtils.replace(..)</code></a>. </p>\n\n<p><a href=\"http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Core/lang/java/lang/String.java.htm\" rel=\"nofollow noreferrer\"><code>String.replaceAll()</code></a>:</p>\n\n<pre><code>public String replaceAll(String regex, String replacement) {\n        return Pattern.compile(regex).matcher(this ).replaceAll(\n             replacement);\n}\n</code></pre>\n\n<p><a href=\"http://www.java2s.com/Open-Source/Java-Document/6.0-JDK-Core/lang/java/lang/String.java.htm\" rel=\"nofollow noreferrer\"><code>String.replace()</code></a> uses Pattern.compile underneath.</p>\n\n<pre><code>public String replace(CharSequence target, CharSequence replacement) {\n  return Pattern.compile(target.toString(), Pattern.LITERAL)\n         .matcher(this ).replaceAll(\n           Matcher.quoteReplacement(replacement.toString()));\n}\n</code></pre>\n\n<p>Also see <a href=\"https://stackoverflow.com/questions/5407592/replace-all-occurrences-of-substring-in-a-string-which-is-more-efficient-in-jav\">Replace all occurrences of substring in a string - which is more efficient in Java?</a></p>\n"},{"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1307435080,"post_id":6262437,"comment_id":7305752,"body_markdown":"@aiiobe: `String.replace(CharSequence, CharSequence)` uses regular expressions internally...","body":"@aiiobe: <code>String.replace(CharSequence, CharSequence)</code> uses regular expressions internally..."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1307435370,"post_id":6262437,"comment_id":7305832,"body_markdown":"Yes, but with `Pattern.LITERAL` which in effect turns off all regexp overhead.","body":"Yes, but with <code>Pattern.LITERAL</code> which in effect turns off all regexp overhead."},{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1307435591,"post_id":6262437,"comment_id":7305890,"body_markdown":"But that precisely means it doesn&#39;t, you can only pass a regex to it, but it will not work as expected, I suppose.","body":"But that precisely means it doesn&#39;t, you can only pass a regex to it, but it will not work as expected, I suppose."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":1,"creation_date":1307435815,"post_id":6262437,"comment_id":7305965,"body_markdown":"Still, the compilation for a `LITERAL` pattern shouldn&#39;t be super complicated, eh? ;-)","body":"Still, the compilation for a <code>LITERAL</code> pattern shouldn&#39;t be super complicated, eh? ;-)"}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1307435535,"creation_date":1307434849,"answer_id":6262437,"question_id":6262397,"body_markdown":"When it comes to `replaceAll(&quot;[,. ]*&quot;, &quot;&quot;)` it&#39;s not that big of a surprise since it relies on regular expressions. The regex engine creates an automaton which it runs over the input. Some overhead is expected.\r\n\r\nThe second approach (`replace(&quot;,&quot;, &quot;&quot;)...`) also uses regular expressions internally. Here the given pattern is however compiled using `Pattern.LITERAL` so the regular expression overhead should be negligable.) In this case it is probably due to the fact that `Strings` are immutable (however small change you do, you will create a new string) and thus not as efficient as `StringBuffers` which manipulate the string in-place.","title":"String.replaceAll is considerably slower than doing the job yourself","body":"<p>When it comes to <code>replaceAll(\"[,. ]*\", \"\")</code> it's not that big of a surprise since it relies on regular expressions. The regex engine creates an automaton which it runs over the input. Some overhead is expected.</p>\n\n<p>The second approach (<code>replace(\",\", \"\")...</code>) also uses regular expressions internally. Here the given pattern is however compiled using <code>Pattern.LITERAL</code> so the regular expression overhead should be negligable.) In this case it is probably due to the fact that <code>Strings</code> are immutable (however small change you do, you will create a new string) and thus not as efficient as <code>StringBuffers</code> which manipulate the string in-place.</p>\n"},{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1307435267,"post_id":6262439,"comment_id":7305807,"body_markdown":"@Lukas: it doesn&#39;t change *what* is done (in this case, where the replacement is the empty string). It *might* change the performance characteristics, but I don&#39;t know if leaving out `+` is faster or slower.","body":"@Lukas: it doesn&#39;t change <i>what</i> is done (in this case, where the replacement is the empty string). It <i>might</i> change the performance characteristics, but I don&#39;t know if leaving out <code>+</code> is faster or slower."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":4,"creation_date":1307435636,"post_id":6262439,"comment_id":7305907,"body_markdown":"@Joachim, interestingly, with a simple benchmark test on your solution, `[]+` seems the fastest (1x), `[]` in the middle (1.5x) , and `[]*` the slowest (2x).","body":"@Joachim, interestingly, with a simple benchmark test on your solution, <code>[]+</code> seems the fastest (1x), <code>[]</code> in the middle (1.5x) , and <code>[]*</code> the slowest (2x)."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1307435669,"post_id":6262439,"comment_id":7305918,"body_markdown":"This answer assumes that the map he receives is reused over and over again.","body":"This answer assumes that the map he receives is reused over and over again."},{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":0,"creation_date":1307442119,"post_id":6262439,"comment_id":7307559,"body_markdown":"@Joachim, []* matches the empty String &quot;&quot;. So, for each character, a match is found of &quot;&quot; and replaced by &quot;&quot;. This causes it to be slower. You can test it by doing ....replaceAll(&quot;$$$$&quot;) and watching the output.","body":"@Joachim, []* matches the empty String &quot;&quot;. So, for each character, a match is found of &quot;&quot; and replaced by &quot;&quot;. This causes it to be slower. You can test it by doing ....replaceAll(&quot;$$$$&quot;) and watching the output."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1307443292,"post_id":6262439,"comment_id":7307853,"body_markdown":"@SJuan76: I&#39;m well aware of that (I already explained that in my answer). The only thing I didn&#39;t know was if `replaceAll(&quot;[,. ]+&quot;, &quot;&quot;)` would be slower or faster than `replaceAll(&quot;[,. ]&quot;, &quot;&quot;)`.","body":"@SJuan76: I&#39;m well aware of that (I already explained that in my answer). The only thing I didn&#39;t know was if <code>replaceAll(&quot;[,. ]+&quot;, &quot;&quot;)</code> would be slower or faster than <code>replaceAll(&quot;[,. ]&quot;, &quot;&quot;)</code>."},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1595576625,"post_id":6262439,"comment_id":111528580,"body_markdown":"@Joachim &quot;some&quot;? why are we now afraid to call out serious performance issues? Is it because the Knuth quoting brigade will pop-up with a useless essay on premature optimisation blah blah. The performance of replaceAll is terrible. If it is in the inner loop of some text processing code it can be *the* major overhead.","body":"@Joachim &quot;some&quot;? why are we now afraid to call out serious performance issues? Is it because the Knuth quoting brigade will pop-up with a useless essay on premature optimisation blah blah. The performance of replaceAll is terrible. If it is in the inner loop of some text processing code it can be <i>the</i> major overhead."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1595581199,"post_id":6262439,"comment_id":111530744,"body_markdown":"@rghome: I don&#39;t know why you think this is about fear. That sentence (written in 2011, by the way) is about the fact that you can certainly solve this with regexes with better performance than what OP was describing. And it turns out if you write a better regex, then performance gets much better indeed.","body":"@rghome: I don&#39;t know why you think this is about fear. That sentence (written in 2011, by the way) is about the fact that you can certainly solve this with regexes with better performance than what OP was describing. And it turns out if you write a better regex, then performance gets much better indeed."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1595581699,"post_id":6262439,"comment_id":111530982,"body_markdown":"@rghome: and as an off-topic comment: you complain about the &quot;Knuth quoting brigade&quot; and describe yourself as a &quot;serial downvoter&quot;. This is not a war or a fight, we&#39;re all just trying to write better software.","body":"@rghome: and as an off-topic comment: you complain about the &quot;Knuth quoting brigade&quot; and describe yourself as a &quot;serial downvoter&quot;. This is not a war or a fight, we&#39;re all just trying to write better software."},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1595586733,"post_id":6262439,"comment_id":111533238,"body_markdown":"@Joachim Sauer Please don&#39;t take my comment too seriously. But Pattern.compile is really expensive if called repeatedly (I know, I am looking at a profiled system now), and I find there can be a tendency on SO to water-down performance issues. In the interests of better software, I don&#39;t think we need to continually qualify every performance answer. So I am just pushing back a bit against the climate.","body":"@Joachim Sauer Please don&#39;t take my comment too seriously. But Pattern.compile is really expensive if called repeatedly (I know, I am looking at a profiled system now), and I find there can be a tendency on SO to water-down performance issues. In the interests of better software, I don&#39;t think we need to continually qualify every performance answer. So I am just pushing back a bit against the climate."}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":9,"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1307434857,"creation_date":1307434857,"answer_id":6262439,"question_id":6262397,"body_markdown":"While using regular expressions imparts **some** performance impact, it should not be as terrible.\r\n\r\nNote that using [`String.replaceAll()`][1] will compile the regular expression **each time** you call it.\r\n\r\nYou can avoid that by explicitly using a [`Pattern`][2] object:\r\n\r\n    Pattern p = Pattern.compile(&quot;[,. ]+&quot;);\r\n \r\n    // repeat only the following part:\r\n    String output = p.matcher(input).replaceAll(&quot;&quot;);\r\n\r\nNote also that using `+` instead of `*` avoids replacing empty strings and therefore might also speed up the process.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html","title":"String.replaceAll is considerably slower than doing the job yourself","body":"<p>While using regular expressions imparts <strong>some</strong> performance impact, it should not be as terrible.</p>\n\n<p>Note that using <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#replaceAll%28java.lang.String,%20java.lang.String%29\"><code>String.replaceAll()</code></a> will compile the regular expression <strong>each time</strong> you call it.</p>\n\n<p>You can avoid that by explicitly using a <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\"><code>Pattern</code></a> object:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"[,. ]+\");\n\n// repeat only the following part:\nString output = p.matcher(input).replaceAll(\"\");\n</code></pre>\n\n<p>Note also that using <code>+</code> instead of <code>*</code> avoids replacing empty strings and therefore might also speed up the process.</p>\n"},{"comments":[{"owner":{"account_id":146723,"reputation":9512,"user_id":357360,"accept_rate":84,"display_name":"RonK"},"score":0,"creation_date":1307561196,"post_id":6263890,"comment_id":7336670,"body_markdown":"Thanks - that explains why it worked so hard to perform the replacement","body":"Thanks - that explains why it worked so hard to perform the replacement"}],"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1307442425,"creation_date":1307442425,"answer_id":6263890,"question_id":6262397,"body_markdown":"As I have put in a comment [,. ]* matches the empty String &quot;&quot;. So, every &quot;space&quot; between characters matches the pattern. It is only noted in performance because you are replacing a lot of &quot;&quot; by &quot;&quot;.\r\n\r\nTry doing this:\r\n\r\n    Pattern p = Pattern.compile(&quot;[,. ]*&quot;);\r\n    System.out.println(p.matcher(&quot;Hello World&quot;).replaceAll(&quot;$$$&quot;);\r\n\r\nIt returns:\r\n\r\nH$$$e$$$l$$$o$$$$$$W$$$o$$$r$$$l$$$d$$$!$$$\r\n\r\nNo wonder it is slower that doing it &quot;by hand&quot;! You should try with [,. ]+\r\n","title":"String.replaceAll is considerably slower than doing the job yourself","body":"<p>As I have put in a comment [,. ]* matches the empty String \"\". So, every \"space\" between characters matches the pattern. It is only noted in performance because you are replacing a lot of \"\" by \"\".</p>\n\n<p>Try doing this:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"[,. ]*\");\nSystem.out.println(p.matcher(\"Hello World\").replaceAll(\"$$$\");\n</code></pre>\n\n<p>It returns:</p>\n\n<p>H$$$e$$$l$$$o$$$$$$W$$$o$$$r$$$l$$$d$$$!$$$</p>\n\n<p>No wonder it is slower that doing it \"by hand\"! You should try with [,. ]+</p>\n"},{"tags":[],"owner":{"account_id":2025376,"reputation":213,"user_id":1810548,"display_name":"chipukb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691846886,"creation_date":1691846886,"answer_id":76889506,"question_id":6262397,"body_markdown":"This is a very old post, but for the record, since **Java 9**, the performance characteristics of String.replace(String,String) has changed, it now does **not** use Pattern under the hood\r\n\r\nhttps://medium.com/javarevisited/micro-optimizations-in-java-string-replaceall-c6d0edf2ef6","title":"String.replaceAll is considerably slower than doing the job yourself","body":"<p>This is a very old post, but for the record, since <strong>Java 9</strong>, the performance characteristics of String.replace(String,String) has changed, it now does <strong>not</strong> use Pattern under the hood</p>\n<p><a href=\"https://medium.com/javarevisited/micro-optimizations-in-java-string-replaceall-c6d0edf2ef6\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/micro-optimizations-in-java-string-replaceall-c6d0edf2ef6</a></p>\n"}],"owner":{"account_id":146723,"reputation":9512,"user_id":357360,"accept_rate":84,"display_name":"RonK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40992,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":6262439,"answer_count":5,"score":36,"last_activity_date":1691846886,"creation_date":1307434553,"question_id":6262397,"body_markdown":"I have an old piece of code that performs find and replace of tokens within a string.\r\n\r\nIt receives a map of `from` and `to` pairs, iterates over them and for each of those pairs, iterates over the target string, looks for the `from` using `indexOf()`, and replaces it with the value of `to`. It does all the work on a `StringBuffer` and eventually returns a `String`.\r\n\r\nI replaced that code with this line: `replaceAll(&quot;[,. ]*&quot;, &quot;&quot;);`  \r\nAnd I ran some comparative performance tests.  \r\nWhen comparing for `1,000,000` iterations, I got this:\r\n&gt; Old Code: 1287ms  \r\n&gt; New Code: 4605ms  \r\n\r\n3 times longer!\r\n\r\nI then tried replacing it with 3 calls to `replace`:  \r\n `replace(&quot;,&quot;, &quot;&quot;);`    \r\n `replace(&quot;.&quot;, &quot;&quot;);`    \r\n `replace(&quot; &quot;, &quot;&quot;);`    \r\n\r\nThis resulted with the following results:\r\n&gt; Old Code: 1295  \r\n&gt; New Code: 3524\r\n\r\n2 times longer!\r\n\r\nAny idea why `replace` and `replaceAll` are so inefficient? Can I do something to make it faster?\r\n\r\n\r\n----------\r\n\r\n**Edit:** Thanks for all the answers - the main problem was indeed that `[,. ]*` did not do what I wanted it to do. Changing it to be `[,. ]+` almost equaled the performance of the non-Regex based solution.\r\nUsing a pre-compiled regex helped, but was marginal. (It is a solution very applicable for my problem.\r\n\r\nTest code:  \r\n[Replace string with Regex: [,. ]*][1]  \r\n[Replace string with Regex: [,. ]+][2]  \r\n[Replace string with Regex: [,. ]+ and Pre-Compiled Pattern][3]  \r\n\r\n\r\n  [1]: http://ideone.com/66cVN\r\n  [2]: http://ideone.com/3Ed2A\r\n  [3]: http://ideone.com/tmDD1","title":"String.replaceAll is considerably slower than doing the job yourself","body":"<p>I have an old piece of code that performs find and replace of tokens within a string.</p>\n\n<p>It receives a map of <code>from</code> and <code>to</code> pairs, iterates over them and for each of those pairs, iterates over the target string, looks for the <code>from</code> using <code>indexOf()</code>, and replaces it with the value of <code>to</code>. It does all the work on a <code>StringBuffer</code> and eventually returns a <code>String</code>.</p>\n\n<p>I replaced that code with this line: <code>replaceAll(\"[,. ]*\", \"\");</code><br>\nAnd I ran some comparative performance tests.<br>\nWhen comparing for <code>1,000,000</code> iterations, I got this:</p>\n\n<blockquote>\n  <p>Old Code: 1287ms<br>\n  New Code: 4605ms  </p>\n</blockquote>\n\n<p>3 times longer!</p>\n\n<p>I then tried replacing it with 3 calls to <code>replace</code>:<br>\n <code>replace(\",\", \"\");</code><br>\n <code>replace(\".\", \"\");</code><br>\n <code>replace(\" \", \"\");</code>    </p>\n\n<p>This resulted with the following results:</p>\n\n<blockquote>\n  <p>Old Code: 1295<br>\n  New Code: 3524</p>\n</blockquote>\n\n<p>2 times longer!</p>\n\n<p>Any idea why <code>replace</code> and <code>replaceAll</code> are so inefficient? Can I do something to make it faster?</p>\n\n<hr>\n\n<p><strong>Edit:</strong> Thanks for all the answers - the main problem was indeed that <code>[,. ]*</code> did not do what I wanted it to do. Changing it to be <code>[,. ]+</code> almost equaled the performance of the non-Regex based solution.\nUsing a pre-compiled regex helped, but was marginal. (It is a solution very applicable for my problem.</p>\n\n<p>Test code:<br>\n<a href=\"http://ideone.com/66cVN\">Replace string with Regex: [,. ]*</a><br>\n<a href=\"http://ideone.com/3Ed2A\">Replace string with Regex: [,. ]+</a><br>\n<a href=\"http://ideone.com/tmDD1\">Replace string with Regex: [,. ]+ and Pre-Compiled Pattern</a>  </p>\n"},{"tags":["java","alpine-linux","openjdk-17"],"answers":[{"comments":[{"owner":{"account_id":6307461,"reputation":365,"user_id":4900133,"display_name":"enthusiast"},"score":0,"creation_date":1641905959,"post_id":70667085,"comment_id":124925069,"body_markdown":"Thanks @Robin. Noticed just after posting the question, it points to EA. I was looking for GA and not available it seems. Any idea why its not been out yet? I couldn&#39;t see any documentation around when its going to be released.","body":"Thanks @Robin. Noticed just after posting the question, it points to EA. I was looking for GA and not available it seems. Any idea why its not been out yet? I couldn&#39;t see any documentation around when its going to be released."},{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":0,"creation_date":1641910076,"post_id":70667085,"comment_id":124926754,"body_markdown":"@enthusiast Why not build your own docker image. Looks like https://adoptium.net/releases.html?variant=openjdk17&amp;jvmVariant=hotspot allows to download JDK17 for Alpine","body":"@enthusiast Why not build your own docker image. Looks like <a href=\"https://adoptium.net/releases.html?variant=openjdk17&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">adoptium.net/&hellip;</a> allows to download JDK17 for Alpine"},{"owner":{"account_id":6307461,"reputation":365,"user_id":4900133,"display_name":"enthusiast"},"score":0,"creation_date":1641913568,"post_id":70667085,"comment_id":124928571,"body_markdown":"Yeah. I used to build custom image based on Oracle OpenJDK. There is something still pulls me back to go for Adoptium or other vendors. I may be seeing this an opportunity to do it. Thanks very much for your help, Accepting your solution.","body":"Yeah. I used to build custom image based on Oracle OpenJDK. There is something still pulls me back to go for Adoptium or other vendors. I may be seeing this an opportunity to do it. Thanks very much for your help, Accepting your solution."}],"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641905380,"creation_date":1641905380,"answer_id":70667085,"question_id":70666824,"body_markdown":"The 7th image layer in that Docker container contains the command used to download the JDK, including:\r\n\r\n    downloadUrl=&#39;https://download.java.net/java/early_access/alpine/14/binaries/openjdk-17-ea+14_linux-x64-musl_bin.tar.gz&#39;\r\n    downloadSha256=&#39;f07a1ac921333dafac1cd886ad49600ce143be7efebd32e1a02599a8a0829dd4&#39;\r\n\r\nSo it uses an early access build.","title":"OpenJDK 17 Alpine Image","body":"<p>The 7th image layer in that Docker container contains the command used to download the JDK, including:</p>\n<pre><code>downloadUrl='https://download.java.net/java/early_access/alpine/14/binaries/openjdk-17-ea+14_linux-x64-musl_bin.tar.gz'\ndownloadSha256='f07a1ac921333dafac1cd886ad49600ce143be7efebd32e1a02599a8a0829dd4'\n</code></pre>\n<p>So it uses an early access build.</p>\n"},{"tags":[],"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691846497,"creation_date":1691846497,"answer_id":76889478,"question_id":70666824,"body_markdown":"You may use:\r\n\r\nhttps://hub.docker.com/layers/library/amazoncorretto/17.0.8-alpine3.18/images/sha256-6e6f780411eae55e8dcb59391aa09dd778f0fa2c896f9c218961fdb7da52f485?context=explore\r\n\r\nor \r\n\r\namazoncorretto:17.0.7-alpine on docker hub.","title":"OpenJDK 17 Alpine Image","body":"<p>You may use:</p>\n<p><a href=\"https://hub.docker.com/layers/library/amazoncorretto/17.0.8-alpine3.18/images/sha256-6e6f780411eae55e8dcb59391aa09dd778f0fa2c896f9c218961fdb7da52f485?context=explore\" rel=\"nofollow noreferrer\">https://hub.docker.com/layers/library/amazoncorretto/17.0.8-alpine3.18/images/sha256-6e6f780411eae55e8dcb59391aa09dd778f0fa2c896f9c218961fdb7da52f485?context=explore</a></p>\n<p>or</p>\n<p>amazoncorretto:17.0.7-alpine on docker hub.</p>\n"}],"owner":{"account_id":6307461,"reputation":365,"user_id":4900133,"display_name":"enthusiast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21504,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70667085,"answer_count":2,"score":5,"last_activity_date":1691846497,"creation_date":1641904220,"question_id":70666824,"body_markdown":"I am looking for an openjdk 17 docker image based on alpine.\r\nIt looks like we have got one here\r\n\r\nhttps://hub.docker.com/layers/openjdk/library/openjdk/17-alpine/images/sha256-a996cdcc040704ec6badaf5fecf1e144c096e00231a29188596c784bcf858d05?context=explore\r\n\r\nBut the below repository shows its not ready for GA. So I wonder from where do the above docker image gets the source file.\r\n\r\nhttp://jdk.java.net/17/\r\n","title":"OpenJDK 17 Alpine Image","body":"<p>I am looking for an openjdk 17 docker image based on alpine.\nIt looks like we have got one here</p>\n<p><a href=\"https://hub.docker.com/layers/openjdk/library/openjdk/17-alpine/images/sha256-a996cdcc040704ec6badaf5fecf1e144c096e00231a29188596c784bcf858d05?context=explore\" rel=\"noreferrer\">https://hub.docker.com/layers/openjdk/library/openjdk/17-alpine/images/sha256-a996cdcc040704ec6badaf5fecf1e144c096e00231a29188596c784bcf858d05?context=explore</a></p>\n<p>But the below repository shows its not ready for GA. So I wonder from where do the above docker image gets the source file.</p>\n<p><a href=\"http://jdk.java.net/17/\" rel=\"noreferrer\">http://jdk.java.net/17/</a></p>\n"},{"tags":["java","deployment","bpmn","camunda"],"comments":[{"owner":{"account_id":3820593,"reputation":699,"user_id":3168783,"display_name":"Sebastian Menski"},"score":1,"creation_date":1466772712,"post_id":38013430,"comment_id":63470015,"body_markdown":"Is your process marked as executable? Check the Executable checkbox in the modeler or the isExecutable attribute of the process element in the BPMN XML. If so is there any log output of the engine during deployment?","body":"Is your process marked as executable? Check the Executable checkbox in the modeler or the isExecutable attribute of the process element in the BPMN XML. If so is there any log output of the engine during deployment?"},{"owner":{"account_id":50383,"reputation":2186,"user_id":150295,"accept_rate":50,"display_name":"Lista"},"score":0,"creation_date":1466775734,"post_id":38013430,"comment_id":63471867,"body_markdown":"Can you check your database and see if the process is there?","body":"Can you check your database and see if the process is there?"},{"owner":{"account_id":3724603,"reputation":8203,"user_id":3098783,"accept_rate":67,"display_name":"Jankapunkt"},"score":0,"creation_date":1466775774,"post_id":38013430,"comment_id":63471894,"body_markdown":"It works now. I do use the bpmn.io javascript modeler where isExecutable is of course false by default so I had to implement an option to set this flag first. Now it runs fine!","body":"It works now. I do use the bpmn.io javascript modeler where isExecutable is of course false by default so I had to implement an option to set this flag first. Now it runs fine!"},{"owner":{"account_id":3724603,"reputation":8203,"user_id":3098783,"accept_rate":67,"display_name":"Jankapunkt"},"score":0,"creation_date":1466775819,"post_id":38013430,"comment_id":63471931,"body_markdown":"@Lista after setting the executable flag it is also listed in the Db.","body":"@Lista after setting the executable flag it is also listed in the Db."}],"owner":{"account_id":3724603,"reputation":8203,"user_id":3098783,"accept_rate":67,"display_name":"Jankapunkt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1609,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1691845975,"creation_date":1466771178,"question_id":38013430,"body_markdown":"I have a Camunda 7.3 standalone h2-in-mem configuration which I want to integrate into my own application. When I create a deployment based on a (valid) bpmn xml String, I get no process definition in return:\r\n\r\n    public String deployProcess(WorkflowDef workflowDef) throws IOException, SQLException {\r\n    \t//prepare resources\r\n\t\tString name = workflowDef.getTitle()+&quot;.bpmn&quot;;\r\n\t\tInputStream stream = new ByteArrayInputStream(workflowDef.getBpmnXml().getBytes(Charset.defaultCharset()));\r\n\t\t\r\n\t\t//prepare deployment\r\n\t\tRepositoryService repositoryService = processEngine.getRepositoryService();\r\n\t\tfinal DeploymentBuilder deploymentBuilder = repositoryService.createDeployment();\r\n\t\tdeploymentBuilder.name(workflowDef.getId());\r\n\t\tDeploymentEntity deploymentResult;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tdeploymentResult = (DeploymentEntity) repositoryService.createDeployment().addInputStream(name, stream).deploy();\r\n\t\t} finally {\r\n\t\t\tstream.close();\r\n\t\t}\r\n\t\t\r\n\t\t//read the result\r\n\t\tString deploymentId = deploymentResult.getId();\r\n\t\tProcessDefinition processDef = repositoryService.createProcessDefinitionQuery().deploymentId(deploymentId).singleResult();\r\n\t\t\r\n\t\t//return the process definition id for later query\r\n\t\tString processDefinitionId = processDef.getId();\r\n\t\treturn processDefinitionId;\r\n\t}\r\n\r\n*Note:* The object workflowDef is just a wrapper, which contains definitions from the bpmn.io modeler, like name and the bpmn XML as String. I also make sure, that engine and db are initialized and running. \r\n\r\nAfter deploying, I get a NullPointerException at the line\r\n\r\n    String processDefinitionId = processDef.getId();\r\n\r\nEven when I try to get the definition via \r\n\r\n    repositoryService.createProcessDefinitionQuery().list();\r\n\r\nI just receive an empty list. Is there a misconception in my code?\r\n","title":"Camunda ProcessDefinition not available after deployment","body":"<p>I have a Camunda 7.3 standalone h2-in-mem configuration which I want to integrate into my own application. When I create a deployment based on a (valid) bpmn xml String, I get no process definition in return:</p>\n\n<pre><code>public String deployProcess(WorkflowDef workflowDef) throws IOException, SQLException {\n    //prepare resources\n    String name = workflowDef.getTitle()+\".bpmn\";\n    InputStream stream = new ByteArrayInputStream(workflowDef.getBpmnXml().getBytes(Charset.defaultCharset()));\n\n    //prepare deployment\n    RepositoryService repositoryService = processEngine.getRepositoryService();\n    final DeploymentBuilder deploymentBuilder = repositoryService.createDeployment();\n    deploymentBuilder.name(workflowDef.getId());\n    DeploymentEntity deploymentResult;\n\n    try {\n        deploymentResult = (DeploymentEntity) repositoryService.createDeployment().addInputStream(name, stream).deploy();\n    } finally {\n        stream.close();\n    }\n\n    //read the result\n    String deploymentId = deploymentResult.getId();\n    ProcessDefinition processDef = repositoryService.createProcessDefinitionQuery().deploymentId(deploymentId).singleResult();\n\n    //return the process definition id for later query\n    String processDefinitionId = processDef.getId();\n    return processDefinitionId;\n}\n</code></pre>\n\n<p><em>Note:</em> The object workflowDef is just a wrapper, which contains definitions from the bpmn.io modeler, like name and the bpmn XML as String. I also make sure, that engine and db are initialized and running. </p>\n\n<p>After deploying, I get a NullPointerException at the line</p>\n\n<pre><code>String processDefinitionId = processDef.getId();\n</code></pre>\n\n<p>Even when I try to get the definition via </p>\n\n<pre><code>repositoryService.createProcessDefinitionQuery().list();\n</code></pre>\n\n<p>I just receive an empty list. Is there a misconception in my code?</p>\n"},{"tags":["java","graalvm","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":19005277,"reputation":1,"user_id":13872166,"display_name":"user13872166"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593969565,"creation_date":1593969565,"answer_id":62743984,"question_id":60228053,"body_markdown":"I am not sure if it could help you at all. That class is very similar to &#39;CustomBuffer&#39;. Try to add this configuration to your reflection.json and test if it works.\r\n\r\n```\r\n{\r\n  &quot;name&quot; : &quot;org.lwjgl.PointerBuffer&quot;,\r\n  &quot;fields&quot;:[\r\n\t{&quot;name&quot;:&quot;capacity&quot;, &quot;allowUnsafeAccess&quot;:true}, \r\n\t{&quot;name&quot;:&quot;container&quot;, &quot;allowUnsafeAccess&quot;:true}, \r\n\t{&quot;name&quot;:&quot;limit&quot;, &quot;allowUnsafeAccess&quot;:true}, \r\n\t{&quot;name&quot;:&quot;mark&quot;, &quot;allowUnsafeAccess&quot;:true}, \r\n\t{&quot;name&quot;:&quot;position&quot;, &quot;allowUnsafeAccess&quot;:true}\r\n  ]\r\n}\r\n```\r\n\r\nI test it in my code and it works. I hope it helps you.","title":"Registering a class for instantiating via Unsafe.allocateInstance in graalvm native image","body":"<p>I am not sure if it could help you at all. That class is very similar to 'CustomBuffer'. Try to add this configuration to your reflection.json and test if it works.</p>\n<pre><code>{\n  &quot;name&quot; : &quot;org.lwjgl.PointerBuffer&quot;,\n  &quot;fields&quot;:[\n    {&quot;name&quot;:&quot;capacity&quot;, &quot;allowUnsafeAccess&quot;:true}, \n    {&quot;name&quot;:&quot;container&quot;, &quot;allowUnsafeAccess&quot;:true}, \n    {&quot;name&quot;:&quot;limit&quot;, &quot;allowUnsafeAccess&quot;:true}, \n    {&quot;name&quot;:&quot;mark&quot;, &quot;allowUnsafeAccess&quot;:true}, \n    {&quot;name&quot;:&quot;position&quot;, &quot;allowUnsafeAccess&quot;:true}\n  ]\n}\n</code></pre>\n<p>I test it in my code and it works. I hope it helps you.</p>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691845955,"creation_date":1691845955,"answer_id":76889434,"question_id":60228053,"body_markdown":"There is `&quot;unsafeAllocated&quot;: true` which you can set in `reflect-config.json`:\r\n&gt; Allows objects of this class to be allocated using `Unsafe.allocateInstance`\r\n\r\nThis was added by [this pull request](https://github.com/oracle/graal/pull/4393) and according to the Git tag seems to be available since GraalVM 22.1, though the documentation only seems to [mention it since version 22.2](https://www.graalvm.org/22.2/reference-manual/native-image/metadata/#specifying-reflection-metadata-in-json).","title":"Registering a class for instantiating via Unsafe.allocateInstance in graalvm native image","body":"<p>There is <code>&quot;unsafeAllocated&quot;: true</code> which you can set in <code>reflect-config.json</code>:</p>\n<blockquote>\n<p>Allows objects of this class to be allocated using <code>Unsafe.allocateInstance</code></p>\n</blockquote>\n<p>This was added by <a href=\"https://github.com/oracle/graal/pull/4393\" rel=\"nofollow noreferrer\">this pull request</a> and according to the Git tag seems to be available since GraalVM 22.1, though the documentation only seems to <a href=\"https://www.graalvm.org/22.2/reference-manual/native-image/metadata/#specifying-reflection-metadata-in-json\" rel=\"nofollow noreferrer\">mention it since version 22.2</a>.</p>\n"}],"owner":{"account_id":2966688,"reputation":233,"user_id":2519698,"display_name":"zakgof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":938,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1691845955,"creation_date":1581689727,"question_id":60228053,"body_markdown":"Graalvm native image of my application fails in runtime on the following method call:\r\n\r\n    Unsafe.allocateInstance(org.lwjgl.PointerBuffer.class);\r\n\r\nwith the exception:\r\n\r\n    java.lang.IllegalArgumentException: Class org.lwjgl.PointerBuffer is instantiated reflectively but was never registered. Register the class by using org.graalvm.nativeimage.hosted.RuntimeReflection\r\n        at com.oracle.svm.core.graal.snippets.SubstrateAllocationSnippets.hubErrorStub(SubstrateAllocationSnippets.java:246)\r\n\r\nBefore generating the native image, I launched the application with `native-image-agent` and it generated the graalvm configuration jsons, but `reflect-config.json` had no entry for `org.lwjgl.PointerBuffer`.\r\n\r\nEven if I add manually to `reflect-config.json`\r\n\r\n    {\r\n      &quot;name&quot;:&quot;org.lwjgl.PointerBuffer&quot;,\r\n      &quot;allDeclaredFields&quot;:true,\r\n      &quot;allPublicConstructors&quot; : true\r\n      &quot;allPublicFields&quot;: true,\r\n      &quot;allDeclaredMethods&quot;: true,\r\n      &quot;allPublicMethods&quot;: true\r\n    }\r\n\r\nthe native image still fails with the above-mentioned exception. Is there a way to make `Unsafe.allocateInstance` work in a native image?\r\n","title":"Registering a class for instantiating via Unsafe.allocateInstance in graalvm native image","body":"<p>Graalvm native image of my application fails in runtime on the following method call:</p>\n\n<pre><code>Unsafe.allocateInstance(org.lwjgl.PointerBuffer.class);\n</code></pre>\n\n<p>with the exception:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Class org.lwjgl.PointerBuffer is instantiated reflectively but was never registered. Register the class by using org.graalvm.nativeimage.hosted.RuntimeReflection\n    at com.oracle.svm.core.graal.snippets.SubstrateAllocationSnippets.hubErrorStub(SubstrateAllocationSnippets.java:246)\n</code></pre>\n\n<p>Before generating the native image, I launched the application with <code>native-image-agent</code> and it generated the graalvm configuration jsons, but <code>reflect-config.json</code> had no entry for <code>org.lwjgl.PointerBuffer</code>.</p>\n\n<p>Even if I add manually to <code>reflect-config.json</code></p>\n\n<pre><code>{\n  \"name\":\"org.lwjgl.PointerBuffer\",\n  \"allDeclaredFields\":true,\n  \"allPublicConstructors\" : true\n  \"allPublicFields\": true,\n  \"allDeclaredMethods\": true,\n  \"allPublicMethods\": true\n}\n</code></pre>\n\n<p>the native image still fails with the above-mentioned exception. Is there a way to make <code>Unsafe.allocateInstance</code> work in a native image?</p>\n"},{"tags":["java","hibernate","jpa","caching"],"owner":{"account_id":392230,"reputation":6617,"user_id":753377,"accept_rate":68,"display_name":"Thor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691845623,"creation_date":1691840068,"question_id":76889080,"body_markdown":"At the moment I&#39;m updating some `@org.hibernate.annotations.Cache(usage=CacheConcurrencyStrategy.READ_WRITE)` annotations with the JPA equivalent `@javax.persistence.Cacheable`. This works well on `@Entity` level, but cannot be done for `@OneToMany` relationships.\r\n\r\nMy question is similar to https://stackoverflow.com/questions/14365297/can-we-use-jpa2-annotations-to-cache-associations but I think it&#39;s appropriate to ask again after 10 years while it was self-answered with &quot;*there is no replacement for the hibernate annotation*&quot; such a long time ago.\r\n\r\n**Now my question**: Are there replacements in the `javax.persistence` or `jakarta.persistence` packages for `@org.hibernate.annotations.Cache`?\r\n\r\n```\r\n@Entity\r\n@javax.persistence.Cacheable\r\npublic class Tutor\r\n{\r\n   @org.hibernate.annotations.Cache  &lt;---- REPLACE this with JPA\r\n   @OneToMany(mappedBy=&quot;tutor&quot;)\r\n   private Set&lt;Student&gt; students;\r\n}\r\n\r\n@Entity\r\n@javax.persistence.Cacheable\r\npublic class Student\r\n{\r\n   @ManyToOne(fetch=FetchType.LAZY)\r\n   @JoinColumn(name=&quot;TUTOR_FK&quot;)\r\n   private Tutor tutor;\r\n}\r\n```\r\n\r\nBTW: If someone is reading this question in the context of performance improvements, I recommend these articles\r\n\r\n- https://stackoverflow.com/questions/3663979/how-to-use-jpa2s-cacheable-instead-of-hibernates-cache\r\n - https://www.baeldung.com/hibernate-second-level-cache\r\n - https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\r\n - https://thorben-janssen.com/best-practices-many-one-one-many-associations-mappings/","title":"Replacement of Hibernate @Cache with JPA for @OneToMany relationships","body":"<p>At the moment I'm updating some <code>@org.hibernate.annotations.Cache(usage=CacheConcurrencyStrategy.READ_WRITE)</code> annotations with the JPA equivalent <code>@javax.persistence.Cacheable</code>. This works well on <code>@Entity</code> level, but cannot be done for <code>@OneToMany</code> relationships.</p>\n<p>My question is similar to <a href=\"https://stackoverflow.com/questions/14365297/can-we-use-jpa2-annotations-to-cache-associations\">Can we use JPA2 annotations to cache associations?</a> but I think it's appropriate to ask again after 10 years while it was self-answered with &quot;<em>there is no replacement for the hibernate annotation</em>&quot; such a long time ago.</p>\n<p><strong>Now my question</strong>: Are there replacements in the <code>javax.persistence</code> or <code>jakarta.persistence</code> packages for <code>@org.hibernate.annotations.Cache</code>?</p>\n<pre><code>@Entity\n@javax.persistence.Cacheable\npublic class Tutor\n{\n   @org.hibernate.annotations.Cache  &lt;---- REPLACE this with JPA\n   @OneToMany(mappedBy=&quot;tutor&quot;)\n   private Set&lt;Student&gt; students;\n}\n\n@Entity\n@javax.persistence.Cacheable\npublic class Student\n{\n   @ManyToOne(fetch=FetchType.LAZY)\n   @JoinColumn(name=&quot;TUTOR_FK&quot;)\n   private Tutor tutor;\n}\n</code></pre>\n<p>BTW: If someone is reading this question in the context of performance improvements, I recommend these articles</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3663979/how-to-use-jpa2s-cacheable-instead-of-hibernates-cache\">How to use JPA2&#39;s @Cacheable instead of Hibernate&#39;s @Cache</a></li>\n<li><a href=\"https://www.baeldung.com/hibernate-second-level-cache\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-second-level-cache</a></li>\n<li><a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/</a></li>\n<li><a href=\"https://thorben-janssen.com/best-practices-many-one-one-many-associations-mappings/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/best-practices-many-one-one-many-associations-mappings/</a></li>\n</ul>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"owner":{"account_id":2029453,"reputation":1,"user_id":1813588,"display_name":"Sanchit Shukla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691844620,"creation_date":1691073831,"question_id":76829183,"body_markdown":"We are trying to implement kafka retry using application.yaml configuration which is working as expected. However it&#39;s blocking queue implementation any way we can implement it using non blocking retry topic using application yaml configurations only.  \r\n\r\nWe have tried to implement it using application yaml config which is working in blocking queue.\r\n\r\n    handleTestEvent-in-0:\r\n              group: test-topic-group\r\n              destination: ${TEST_EVENT_TOPIC}\r\n             consumer:\r\n               maxAttempts: 5\r\n               backOffInitialInterval: 60000\r\n               backOffMaxInterval: 1000000\r\n               backOffMultiplier: 2.0\r\n               defaultRetryable: false\r\n               retryable-exceptions:\r\n                 java.lang.RuntimeException: true","title":"Non Blocking retry implementing using kafka stream","body":"<p>We are trying to implement kafka retry using application.yaml configuration which is working as expected. However it's blocking queue implementation any way we can implement it using non blocking retry topic using application yaml configurations only.</p>\n<p>We have tried to implement it using application yaml config which is working in blocking queue.</p>\n<pre><code>handleTestEvent-in-0:\n          group: test-topic-group\n          destination: ${TEST_EVENT_TOPIC}\n         consumer:\n           maxAttempts: 5\n           backOffInitialInterval: 60000\n           backOffMaxInterval: 1000000\n           backOffMultiplier: 2.0\n           defaultRetryable: false\n           retryable-exceptions:\n             java.lang.RuntimeException: true\n</code></pre>\n"},{"tags":["java","spring-boot","junit","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1691845660,"post_id":76889250,"comment_id":135548291,"body_markdown":"Can you try loading it explicitely such as:\n\n@TestPropertySource(\n  locations = &quot;classpath:application-localtest.properties&quot;)","body":"Can you try loading it explicitely such as:  @TestPropertySource(   locations = &quot;classpath:application-localtest.properties&quot;)"},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1691847619,"post_id":76889250,"comment_id":135548480,"body_markdown":"dataSource bean is not found even after adding  @TestPropertySource( locations = &quot;classpath:application-localtest.properties&quot;)","body":"dataSource bean is not found even after adding  @TestPropertySource( locations = &quot;classpath:application-localtest.properties&quot;)"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691844527,"creation_date":1691843174,"question_id":76889250,"body_markdown":"I have 2 application.properties in a Springboot project. One for the test(application) and the other for the application.\r\n\r\nI dont understand the log here which is eventually throwing an error of not able to create the bean of the DB2 datasource. The idea is to create the bean of the H2 datasource while running the tests. However, the error shows that the error is due to the creation of the DB2 datasource bean. I have defined application-localtest.properties to establish the H2 database connection but from the log it seems that the bean for H2 datasource is not created. I think the application.properties file is overriding the application.localtest.properties file. In the log provided below it first states that activated &quot;localtest&quot; profile and then it states &quot;localtest&quot; won&#39;t apply and then the error is thrown.\r\n\r\n&gt; 2023-08-12 13:42:29.263  INFO 9516 --- [           main] d.k.d.v.a.BatchTest             : Starting VTZReportBatchTest using Java 11.0.14.1 on VM2300094 with PID 9516 (started by xx in xx\\AppServer-xxx)\r\n&gt; 2023-08-12 13:42:29.265 DEBUG 9516 --- [           main] d.k.d.v.a.BatchTest             : Running with Spring Boot v2.7.9, Spring v5.3.25\r\n&gt; 2023-08-12 13:42:29.267  INFO 9516 --- [           main] d.k.d.v.a.BatchTest             : The following 1 profile is active: &quot;localtest&quot;\r\n&gt; 2023-08-12 13:42:29.269 DEBUG 9516 --- [           main] o.s.b.SpringApplication                  : Loading source class xxx.xxxx.Batch,class xxx.xxx.config.H2Test\r\n&gt; 2023-08-12 13:42:29.354 DEBUG 9516 --- [           main] b.c.c.ConfigDataEnvironmentPostProcessor : Switching to legacy config file processing [[ConfigurationProperty@4a55a6e8 name = spring.config.use-legacy-processing, value = &#39;true&#39;, origin = class path resource [application-localtest.properties] - 2:37]]\r\n&gt; 2023-08-12 13:42:29.354 DEBUG 9516 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Activated activeProfiles localtest\r\n&gt; 2023-08-12 13:42:29.354 DEBUG 9516 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Loaded config file &#39;file:xxx/AppServer-xxx/target/classes/application.properties&#39; (classpath:/application.properties)\r\n&gt; 2023-08-12 13:42:29.355 DEBUG 9516 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Profiles already activated, &#39;[localtest]&#39; will not be applied\r\n&gt; 2023-08-12 13:42:29.355 DEBUG 9516 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Loaded config file &#39;file:xxx/AppServer-xxx/target/test-classes/application-localtest.properties&#39; (classpath:/application-localtest.properties) for profile localtest\r\n&gt; 2023-08-12 13:42:30.953  INFO 9516 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n&gt; 2023-08-12 13:42:31.144  INFO 9516 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 164 ms. Found 1 JPA repository interfaces.\r\n&gt; 2023-08-12 13:42:32.500  WARN 9516 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;getDB2Source&#39; defined in class path resource [xxxx/xx/DatasourceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method &#39;getDB2Source&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Property &#39;http://javax.xml.XMLConstants/property/accessExternalDTD&#39; is not recognized.\r\n&gt; 2023-08-12 13:42:32.535 DEBUG 9516 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\n\r\nMy Test configuration class (H2Test) is as follows -\r\n\r\n\r\n```\r\n@TestConfiguration\r\n@ActiveProfiles(&quot;localtest&quot;)\r\npublic class H2Test {\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Value(&quot;org.h2.Driver&quot;)\r\n    private String dbUrl;\r\n\r\n    @Value(&quot;jdbc:h2:mem:test&quot;)\r\n    private String dbDriverClass;\r\n    @Value(&quot;sa&quot;)\r\n    private String dbUser;\r\n\r\n    @Primary\r\n    @Bean(name=&quot;datasource&quot;)\r\n    @Profile(&quot;localtest&quot;)\r\n    @ConditionalOnMissingBean\r\n    public DataSource getH2DataSource() throws Exception{\r\n\r\n        System.out.println(&quot;___ DataSource construction started ___&quot;);\r\n\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(dbDriverClass);\r\n        dataSource.setUrl(dbUrl);\r\n        dataSource.setUsername(dbUser);\r\n        dataSource.setPassword(&quot;&quot;);\r\n\r\n        ResourceDatabasePopulator rdp = new ResourceDatabasePopulator();\r\n        rdp.setScripts(new ClassPathResource(&quot;/test/data/Create_Tables.sql&quot;));\r\n\r\n        rdp.execute(dataSource);\r\n        return dataSource;\r\n\r\n    }\r\n```\r\n\r\nThe test class is as follows -\r\n\r\n\r\n```\r\n@SpringBootTest(\r\n        classes = { Batch.class}\r\n)\r\n@AutoConfiguration\r\n@ContextConfiguration(\r\n        classes = {H2Test.class}\r\n)\r\n@ActiveProfiles(&quot;localtest&quot;)\r\npublic class BatchTest{\r\n  \r\n    String[] args={&quot;xx&quot;, &quot;xx&quot;,&quot;x&quot;,&quot;xxx&quot;,&quot;xxx&quot;};\r\n\r\n    @Test\r\n    public void testMain() throws IOException{\r\n\r\n\r\n          Batch batch =new Batch();\r\n         Assertions.assertDoesNotThrow(()-&gt;Batch.main(args));\r\n\r\n    }\r\n}\r\n```\r\nI want to run the test by calling the main method of the application in the Batch.class and intend to create the bean of the H2 datasource with the application-localtest.properties while running the test. Batch. class is the class that contains the main method and the corresponding BatchTest.class provided above.\r\n\r\n\r\n","title":"How to resolve the configuration problem with 2 application.properties in Springboot?","body":"<p>I have 2 application.properties in a Springboot project. One for the test(application) and the other for the application.</p>\n<p>I dont understand the log here which is eventually throwing an error of not able to create the bean of the DB2 datasource. The idea is to create the bean of the H2 datasource while running the tests. However, the error shows that the error is due to the creation of the DB2 datasource bean. I have defined application-localtest.properties to establish the H2 database connection but from the log it seems that the bean for H2 datasource is not created. I think the application.properties file is overriding the application.localtest.properties file. In the log provided below it first states that activated &quot;localtest&quot; profile and then it states &quot;localtest&quot; won't apply and then the error is thrown.</p>\n<blockquote>\n<p>2023-08-12 13:42:29.263  INFO 9516 --- [           main] d.k.d.v.a.BatchTest             : Starting VTZReportBatchTest using Java 11.0.14.1 on VM2300094 with PID 9516 (started by xx in xx\\AppServer-xxx)\n2023-08-12 13:42:29.265 DEBUG 9516 --- [           main] d.k.d.v.a.BatchTest             : Running with Spring Boot v2.7.9, Spring v5.3.25\n2023-08-12 13:42:29.267  INFO 9516 --- [           main] d.k.d.v.a.BatchTest             : The following 1 profile is active: &quot;localtest&quot;\n2023-08-12 13:42:29.269 DEBUG 9516 --- [           main] o.s.b.SpringApplication                  : Loading source class xxx.xxxx.Batch,class xxx.xxx.config.H2Test\n2023-08-12 13:42:29.354 DEBUG 9516 --- [           main] b.c.c.ConfigDataEnvironmentPostProcessor : Switching to legacy config file processing [[ConfigurationProperty@4a55a6e8 name = spring.config.use-legacy-processing, value = 'true', origin = class path resource [application-localtest.properties] - 2:37]]\n2023-08-12 13:42:29.354 DEBUG 9516 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Activated activeProfiles localtest\n2023-08-12 13:42:29.354 DEBUG 9516 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Loaded config file 'file:xxx/AppServer-xxx/target/classes/application.properties' (classpath:/application.properties)\n2023-08-12 13:42:29.355 DEBUG 9516 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Profiles already activated, '[localtest]' will not be applied\n2023-08-12 13:42:29.355 DEBUG 9516 --- [           main] o.s.b.c.c.ConfigFileApplicationListener  : Loaded config file 'file:xxx/AppServer-xxx/target/test-classes/application-localtest.properties' (classpath:/application-localtest.properties) for profile localtest\n2023-08-12 13:42:30.953  INFO 9516 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-08-12 13:42:31.144  INFO 9516 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 164 ms. Found 1 JPA repository interfaces.\n2023-08-12 13:42:32.500  WARN 9516 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'getDB2Source' defined in class path resource [xxxx/xx/DatasourceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'getDB2Source' threw exception; nested exception is java.lang.IllegalArgumentException: Property 'http://javax.xml.XMLConstants/property/accessExternalDTD' is not recognized.\n2023-08-12 13:42:32.535 DEBUG 9516 --- [           main] ConditionEvaluationReportLoggingListener :</p>\n</blockquote>\n<p>My Test configuration class (H2Test) is as follows -</p>\n<pre><code>@TestConfiguration\n@ActiveProfiles(&quot;localtest&quot;)\npublic class H2Test {\n\n    @Autowired\n    private Environment env;\n\n    @Value(&quot;org.h2.Driver&quot;)\n    private String dbUrl;\n\n    @Value(&quot;jdbc:h2:mem:test&quot;)\n    private String dbDriverClass;\n    @Value(&quot;sa&quot;)\n    private String dbUser;\n\n    @Primary\n    @Bean(name=&quot;datasource&quot;)\n    @Profile(&quot;localtest&quot;)\n    @ConditionalOnMissingBean\n    public DataSource getH2DataSource() throws Exception{\n\n        System.out.println(&quot;___ DataSource construction started ___&quot;);\n\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(dbDriverClass);\n        dataSource.setUrl(dbUrl);\n        dataSource.setUsername(dbUser);\n        dataSource.setPassword(&quot;&quot;);\n\n        ResourceDatabasePopulator rdp = new ResourceDatabasePopulator();\n        rdp.setScripts(new ClassPathResource(&quot;/test/data/Create_Tables.sql&quot;));\n\n        rdp.execute(dataSource);\n        return dataSource;\n\n    }\n</code></pre>\n<p>The test class is as follows -</p>\n<pre><code>@SpringBootTest(\n        classes = { Batch.class}\n)\n@AutoConfiguration\n@ContextConfiguration(\n        classes = {H2Test.class}\n)\n@ActiveProfiles(&quot;localtest&quot;)\npublic class BatchTest{\n  \n    String[] args={&quot;xx&quot;, &quot;xx&quot;,&quot;x&quot;,&quot;xxx&quot;,&quot;xxx&quot;};\n\n    @Test\n    public void testMain() throws IOException{\n\n\n          Batch batch =new Batch();\n         Assertions.assertDoesNotThrow(()-&gt;Batch.main(args));\n\n    }\n}\n</code></pre>\n<p>I want to run the test by calling the main method of the application in the Batch.class and intend to create the bean of the H2 datasource with the application-localtest.properties while running the test. Batch. class is the class that contains the main method and the corresponding BatchTest.class provided above.</p>\n"},{"tags":["java","spring-boot","logging","logback","elk"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1592002164,"post_id":62353123,"comment_id":110278155,"body_markdown":"Are you having difficulty in managing logs that are the collected output of multiple requests, or the output of a single request that&#39;s mixed up?","body":"Are you having difficulty in managing logs that are the collected output of multiple requests, or the output of a single request that&#39;s mixed up?"},{"owner":{"account_id":5330792,"reputation":787,"user_id":4251391,"display_name":"august0490"},"score":0,"creation_date":1592093588,"post_id":62353123,"comment_id":110301301,"body_markdown":"I having difficulty to order the logs from one Springboot instance when I inspect them in Kibana.","body":"I having difficulty to order the logs from one Springboot instance when I inspect them in Kibana."}],"answers":[{"comments":[{"owner":{"account_id":5330792,"reputation":787,"user_id":4251391,"display_name":"august0490"},"score":0,"creation_date":1592093360,"post_id":62354785,"comment_id":110301261,"body_markdown":"Sorry for missundertansding. I need to add a field with the sequence number so then I&#39;ll be able to order the logs in Kibana using that field.","body":"Sorry for missundertansding. I need to add a field with the sequence number so then I&#39;ll be able to order the logs in Kibana using that field."}],"tags":[],"owner":{"account_id":13339832,"reputation":199,"user_id":9628409,"display_name":"Gaurao Burghate"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592014733,"creation_date":1592014733,"answer_id":62354785,"question_id":62353123,"body_markdown":"You can use custom log pattern. Please follow below link. \r\nhttps://reflectoring.io/logging-format-logback/","title":"Is it possible to add a sequential number to each log event using Logback?","body":"<p>You can use custom log pattern. Please follow below link. \n<a href=\"https://reflectoring.io/logging-format-logback/\" rel=\"nofollow noreferrer\">https://reflectoring.io/logging-format-logback/</a></p>\n"},{"tags":[],"owner":{"account_id":29211726,"reputation":1,"user_id":22379550,"display_name":"mark ws"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691844480,"creation_date":1691844124,"answer_id":76889317,"question_id":62353123,"body_markdown":"```xml\r\n&lt;configuration&gt;\r\n    &lt;sequenceNumberGenerator class=&quot;ch.qos.logback.core.spi.BasicSequenceNumberGenerator&quot;/&gt;\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%sequenceNumber---%msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;debug&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nPS:\r\nLogback supports a sequence number field which is automatically populated at event creation. This field is fed by a sequence number generator attached to the logging context.\r\n\r\nvisit  https://logback.qos.ch/manual/configuration.html\r\n","title":"Is it possible to add a sequential number to each log event using Logback?","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;sequenceNumberGenerator class=&quot;ch.qos.logback.core.spi.BasicSequenceNumberGenerator&quot;/&gt;\n\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%sequenceNumber---%msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;debug&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>PS:\nLogback supports a sequence number field which is automatically populated at event creation. This field is fed by a sequence number generator attached to the logging context.</p>\n<p>visit  <a href=\"https://logback.qos.ch/manual/configuration.html\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/configuration.html</a></p>\n"}],"owner":{"account_id":5330792,"reputation":787,"user_id":4251391,"display_name":"august0490"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1691844480,"creation_date":1591999542,"question_id":62353123,"body_markdown":"I have an ELK mounted and my app send logs use Logback. The problem is that I loose the events order when there are many logs with the same timestamp (many fast events in the same millisecond).\r\n\r\nI would like to add a sequential number to keep the log events order when there is many logs at the same time. Is that possible? How?\r\n\r\nThank you and sorry for my English.\r\n\r\n-----\r\nEDIT:\r\n\r\nSorry, I give more information about the scenario: I&#39;m using a Springboot application which sends the logs to an ELK (Elastic-Logstash-Kibana) stack.\r\n\r\nI need to add a field with the sequence number so then I&#39;ll be able to order the logs in Kibana using that field. Currently Kibana is ordering the logs by timestamp field but sometimes there is too many logs at the same time. The logs at the same time are unordered.","title":"Is it possible to add a sequential number to each log event using Logback?","body":"<p>I have an ELK mounted and my app send logs use Logback. The problem is that I loose the events order when there are many logs with the same timestamp (many fast events in the same millisecond).</p>\n<p>I would like to add a sequential number to keep the log events order when there is many logs at the same time. Is that possible? How?</p>\n<p>Thank you and sorry for my English.</p>\n<hr />\n<p>EDIT:</p>\n<p>Sorry, I give more information about the scenario: I'm using a Springboot application which sends the logs to an ELK (Elastic-Logstash-Kibana) stack.</p>\n<p>I need to add a field with the sequence number so then I'll be able to order the logs in Kibana using that field. Currently Kibana is ordering the logs by timestamp field but sometimes there is too many logs at the same time. The logs at the same time are unordered.</p>\n"},{"tags":["java","hive","classloader","java-9","urlclassloader"],"comments":[{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":1,"creation_date":1514451525,"post_id":47897645,"comment_id":82977033,"body_markdown":"Is there a newer version of Hive? MaxPermSize has been obsolete since JDK 8. The ClassCastException is Hive making an assumption that the system class loader is a URLClassLoader (this changed in JDK 9, see release notes here: http://www.oracle.com/technetwork/java/javase/9-relnote-issues-3704069.html#JDK-8142968).","body":"Is there a newer version of Hive? MaxPermSize has been obsolete since JDK 8. The ClassCastException is Hive making an assumption that the system class loader is a URLClassLoader (this changed in JDK 9, see release notes here: <a href=\"http://www.oracle.com/technetwork/java/javase/9-relnote-issues-3704069.html#JDK-8142968\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/&hellip;</a>)."},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":1,"creation_date":1515005547,"post_id":47897645,"comment_id":83141488,"body_markdown":"As mentioned in the OP I updated to pointing to `JDK8` to avoid the `JDK9` issues that you mention.","body":"As mentioned in the OP I updated to pointing to <code>JDK8</code> to avoid the <code>JDK9</code> issues that you mention."}],"answers":[{"comments":[{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":2,"creation_date":1515005484,"post_id":48072411,"comment_id":83141455,"body_markdown":"I have a need for the JDK9 to be available on the system.  Maybe this approach can work as a workaround - but hope there were a configuration based solution.","body":"I have a need for the JDK9 to be available on the system.  Maybe this approach can work as a workaround - but hope there were a configuration based solution."}],"tags":[],"owner":{"account_id":9602323,"reputation":11,"user_id":7129388,"display_name":"player six"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514962411,"creation_date":1514961567,"answer_id":48072411,"question_id":47897645,"body_markdown":"I have the same problem, I just remove JDK 9 instead of change the environment, and problem is solved.\r\n\r\nSee hive, it uses\r\n\r\n    JAVA_HOME=&quot;$(/usr/libexec/java_home --version 1.7+)&quot; \r\n    HIVE_HOME=&quot;/usr/local/Cellar/hive/2.3.1/libexec&quot; \r\n    exec &quot;/usr/local/Cellar/hive/2.3.1/libexec/bin/hive&quot; &quot;$@&quot;.\r\n","title":"Hive: AppClassLoader cannot be cast to URLClassLoader although using JDK8","body":"<p>I have the same problem, I just remove JDK 9 instead of change the environment, and problem is solved.</p>\n\n<p>See hive, it uses</p>\n\n<pre><code>JAVA_HOME=\"$(/usr/libexec/java_home --version 1.7+)\" \nHIVE_HOME=\"/usr/local/Cellar/hive/2.3.1/libexec\" \nexec \"/usr/local/Cellar/hive/2.3.1/libexec/bin/hive\" \"$@\".\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10753883,"reputation":1,"user_id":7912372,"display_name":"Deepak Rajwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568408451,"creation_date":1568408451,"answer_id":57930292,"question_id":47897645,"body_markdown":"I was facing same error while setting up hive, initially I thought of it could be because of different java versions. \r\n\r\nBut on checking java version, it was jdk 1.8.\r\n\r\nFinally on checking jdk installed directory (/Library/Java/JavaVirtualMachine), I found jdk 1.8 and jdk 10 both were present\r\n\r\nI removed jdk 10, and finally it worked.","title":"Hive: AppClassLoader cannot be cast to URLClassLoader although using JDK8","body":"<p>I was facing same error while setting up hive, initially I thought of it could be because of different java versions. </p>\n\n<p>But on checking java version, it was jdk 1.8.</p>\n\n<p>Finally on checking jdk installed directory (/Library/Java/JavaVirtualMachine), I found jdk 1.8 and jdk 10 both were present</p>\n\n<p>I removed jdk 10, and finally it worked.</p>\n"},{"tags":[],"owner":{"account_id":15812164,"reputation":49,"user_id":11408874,"display_name":"Legend-IDK"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1579294123,"creation_date":1579294123,"answer_id":59794667,"question_id":47897645,"body_markdown":"Install jdk8 and change the path accordingly in hadoop-env.sh, which did the trick for me.","title":"Hive: AppClassLoader cannot be cast to URLClassLoader although using JDK8","body":"<p>Install jdk8 and change the path accordingly in hadoop-env.sh, which did the trick for me.</p>\n"},{"tags":[],"owner":{"account_id":28881381,"reputation":61,"user_id":22120795,"display_name":"Mathew Mani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691844222,"creation_date":1691844222,"answer_id":76889324,"question_id":47897645,"body_markdown":"I was trying to install hive in ubuntu and ran into the same issue. Installed hadoop 3.3.6 and hive 3.1.3. I had both java 11 and java 8 installed side by side. I tried changing the JAVA_HOME in the shell but it did not work. The solution was to change the JAVA_HOME in hadoop_env.sh from java11 to java8, as Legend-IDK mentioned above. Now hive is working in my ubuntu laptop.","title":"Hive: AppClassLoader cannot be cast to URLClassLoader although using JDK8","body":"<p>I was trying to install hive in ubuntu and ran into the same issue. Installed hadoop 3.3.6 and hive 3.1.3. I had both java 11 and java 8 installed side by side. I tried changing the JAVA_HOME in the shell but it did not work. The solution was to change the JAVA_HOME in hadoop_env.sh from java11 to java8, as Legend-IDK mentioned above. Now hive is working in my ubuntu laptop.</p>\n"}],"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13259,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1691844222,"creation_date":1513734016,"question_id":47897645,"body_markdown":"After installing `jdk9` I have been seeing this problem:\r\n\r\n    $hive\r\n    Java HotSpot(TM) 64-Bit Server VM warning: Ignoring option MaxPermSize; support was removed in 8.0\r\n    SLF4J: Class path contains multiple SLF4J bindings.\r\n    SLF4J: Found binding in [jar:file:/usr/local/Cellar/hive/2.3.1/libexec/lib/log4j-slf4j-impl-2.6.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/usr/local/Cellar/hadoop/2.8.1/libexec/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n    SLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: java.base/jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to java.base/java.net.URLClassLoader\r\n    \tat org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:394)\r\n    \tat org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:370)\r\n    \tat org.apache.hadoop.hive.cli.CliSessionState.&lt;init&gt;(CliSessionState.java:60)\r\n    \tat org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:708)\r\n    \tat org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:686)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat org.apache.hadoop.util.RunJar.run(RunJar.java:234)\r\n    \tat org.apache.hadoop.util.RunJar.main(RunJar.java:148)\r\n\r\nBut I have \r\n\r\n*Updated `$PATH` to point to java8*\r\n\r\n    $java -version\r\n    java version &quot;1.8.0_144&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_144-b01)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)\r\n\r\n*Updated `hive` executable to specify java8*\r\n\r\n    vi $(which hive)\r\n\r\n    #!/bin/bash\r\n    JAVA_HOME=&quot;$(/usr/libexec/java_home --version 1.8)&quot; HIVE_HOME=&quot;/usr/local/Cellar/hive/2.3.1/libexec&quot; exec &quot;/usr/local/Cellar/hive/2.3.1/libexec/bin/hive&quot; &quot;$@&quot;\r\n\r\n*Verified the updated java version does point to jdk8*\r\n\r\n    $/usr/libexec/java_home --version 1.8\r\n    /Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home\r\n\r\nWhat else should I be looking into here?\r\n\r\nThis is `hive 2.3.1` on `macos`\r\n\r\n     $hive --version\r\n    Hive 2.3.1\r\n    Git git://jcamachorodriguez-rMBP.local/Users/jcamachorodriguez/src/workspaces/hive/HIVE-apache/hive -r 7590572d9265e15286628013268b2ce785c6aa08\r\n    Compiled by jcamachorodriguez on Thu Oct 19 18:37:58 PDT 2017\r\n    From source with checksum 03c91029a6103bd91f25a6ff8a01fbcd\r\n\r\n\r\n","title":"Hive: AppClassLoader cannot be cast to URLClassLoader although using JDK8","body":"<p>After installing <code>jdk9</code> I have been seeing this problem:</p>\n\n<pre><code>$hive\nJava HotSpot(TM) 64-Bit Server VM warning: Ignoring option MaxPermSize; support was removed in 8.0\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/local/Cellar/hive/2.3.1/libexec/lib/log4j-slf4j-impl-2.6.2.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/local/Cellar/hadoop/2.8.1/libexec/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\nException in thread \"main\" java.lang.ClassCastException: java.base/jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to java.base/java.net.URLClassLoader\n    at org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:394)\n    at org.apache.hadoop.hive.ql.session.SessionState.&lt;init&gt;(SessionState.java:370)\n    at org.apache.hadoop.hive.cli.CliSessionState.&lt;init&gt;(CliSessionState.java:60)\n    at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:708)\n    at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:686)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.apache.hadoop.util.RunJar.run(RunJar.java:234)\n    at org.apache.hadoop.util.RunJar.main(RunJar.java:148)\n</code></pre>\n\n<p>But I have </p>\n\n<p><em>Updated <code>$PATH</code> to point to java8</em></p>\n\n<pre><code>$java -version\njava version \"1.8.0_144\"\nJava(TM) SE Runtime Environment (build 1.8.0_144-b01)\nJava HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)\n</code></pre>\n\n<p><em>Updated <code>hive</code> executable to specify java8</em></p>\n\n<pre><code>vi $(which hive)\n\n#!/bin/bash\nJAVA_HOME=\"$(/usr/libexec/java_home --version 1.8)\" HIVE_HOME=\"/usr/local/Cellar/hive/2.3.1/libexec\" exec \"/usr/local/Cellar/hive/2.3.1/libexec/bin/hive\" \"$@\"\n</code></pre>\n\n<p><em>Verified the updated java version does point to jdk8</em></p>\n\n<pre><code>$/usr/libexec/java_home --version 1.8\n/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home\n</code></pre>\n\n<p>What else should I be looking into here?</p>\n\n<p>This is <code>hive 2.3.1</code> on <code>macos</code></p>\n\n<pre><code> $hive --version\nHive 2.3.1\nGit git://jcamachorodriguez-rMBP.local/Users/jcamachorodriguez/src/workspaces/hive/HIVE-apache/hive -r 7590572d9265e15286628013268b2ce785c6aa08\nCompiled by jcamachorodriguez on Thu Oct 19 18:37:58 PDT 2017\nFrom source with checksum 03c91029a6103bd91f25a6ff8a01fbcd\n</code></pre>\n"},{"tags":["java","eclipse","windows-10","64-bit"],"comments":[{"owner":{"account_id":1326560,"reputation":2671,"user_id":1271255,"display_name":"minus"},"score":0,"creation_date":1497126990,"post_id":44477763,"comment_id":75950826,"body_markdown":"You are using a 32bit VM, and 64bit eclipse, It won&#39;t work. You should either install a 64bit jvm or a 32bit eclipse.","body":"You are using a 32bit VM, and 64bit eclipse, It won&#39;t work. You should either install a 64bit jvm or a 32bit eclipse."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1497127031,"post_id":44477763,"comment_id":75950838,"body_markdown":"`-vm` must be on a separate line from the javaw path, and they must come **before** the -vmargs line. It looks like you may have a 32 bit Java and a 64 bit Eclipse. They must both be 64 bit or both be 32 bit.","body":"<code>-vm</code> must be on a separate line from the javaw path, and they must come <b>before</b> the -vmargs line. It looks like you may have a 32 bit Java and a 64 bit Eclipse. They must both be 64 bit or both be 32 bit."},{"owner":{"account_id":1208583,"reputation":41,"user_id":1177576,"accept_rate":0,"display_name":"yama"},"score":0,"creation_date":1497224816,"post_id":44477763,"comment_id":75973565,"body_markdown":"Thank you for your info!\nThis works now","body":"Thank you for your info! This works now"},{"owner":{"account_id":1529698,"reputation":553,"user_id":1427210,"display_name":"Bolesław Denk"},"score":0,"creation_date":1528701967,"post_id":44477763,"comment_id":88590717,"body_markdown":"Side note: had the same problem but in my case I had duplicted -vm at the end of file.","body":"Side note: had the same problem but in my case I had duplicted -vm at the end of file."}],"answers":[{"comments":[{"owner":{"account_id":2805582,"reputation":5186,"user_id":2412895,"accept_rate":47,"display_name":"KarelG"},"score":0,"creation_date":1528975329,"post_id":50851648,"comment_id":88715061,"body_markdown":"@DaveyDaveDave removed my comment. Could not pick an appropriate comment. Should have formulate one myself. The problem is that the link is not valid. I get &quot;unauthorized request&quot;. It is best to link to the download page itself with an accurate description which to pick instead of a link to file to be downloaded because that depends on either the current user/tracking cookie/file host.","body":"@DaveyDaveDave removed my comment. Could not pick an appropriate comment. Should have formulate one myself. The problem is that the link is not valid. I get &quot;unauthorized request&quot;. It is best to link to the download page itself with an accurate description which to pick instead of a link to file to be downloaded because that depends on either the current user/tracking cookie/file host."}],"tags":[],"owner":{"account_id":10926536,"reputation":11,"user_id":8031099,"display_name":"Sachintha Weesinghe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528979339,"creation_date":1528960497,"answer_id":50851648,"question_id":44477763,"body_markdown":"Try updating your JDK to 8u171 or higher.\r\nI had the same issue with eclipse oxygen. This is worked for me.\r\n\r\nHere&#39;s the URL for downloading the latest Java 8 JDK:\r\nhttp://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html  \r\nIf that should stop working, go to http://java.oracle.com and click &quot;Java SE&quot; under top downloads.","title":"Launch error: could not create the Java virtual machine. A fatal exception has occurred","body":"<p>Try updating your JDK to 8u171 or higher.\nI had the same issue with eclipse oxygen. This is worked for me.</p>\n\n<p>Here's the URL for downloading the latest Java 8 JDK:\n<a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a><br>\nIf that should stop working, go to <a href=\"http://java.oracle.com\" rel=\"nofollow noreferrer\">http://java.oracle.com</a> and click \"Java SE\" under top downloads.</p>\n"},{"tags":[],"owner":{"account_id":19215510,"reputation":21,"user_id":14040338,"display_name":"The_real_codder"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1617798034,"creation_date":1617798034,"answer_id":66985950,"question_id":44477763,"body_markdown":"try to use java 8, it solve my problem when i degraded my jdk from 15 to 8, here is the link\r\n\r\n[JAVA][1]\r\n\r\n\r\n  [1]: https://enos.itcollege.ee/~jpoial/allalaadimised/jdk8/","title":"Launch error: could not create the Java virtual machine. A fatal exception has occurred","body":"<p>try to use java 8, it solve my problem when i degraded my jdk from 15 to 8, here is the link</p>\n<p><a href=\"https://enos.itcollege.ee/%7Ejpoial/allalaadimised/jdk8/\" rel=\"nofollow noreferrer\">JAVA</a></p>\n"}],"owner":{"account_id":1208583,"reputation":41,"user_id":1177576,"accept_rate":0,"display_name":"yama"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9591,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1691842015,"creation_date":1497126541,"question_id":44477763,"body_markdown":"Below is my Eclipse.ini\r\n\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.3.201.v20161025-1711.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.401.v20161122-1740\r\n    -product\r\n    org.eclipse.epp.package.java.product\r\n    --launcher.defaultAction\r\n    openFile\r\n    -showsplash\r\n    org.eclipse.platform\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.appendVmargs\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=1.8\r\n    -XX:+UseG1GC\r\n    -XX:+UseStringDeduplication\r\n    -Dosgi.requiredJavaVersion=1.8\r\n    -Xms256m\r\n    -Xmx1024m\r\n    -vm C:\\Program Files (x86)\\Java\\jre1.8.0_111\\bin\\javaw.exe\r\n\r\nI did add the path for javaw.exe looking at some posts. But this addition just gave me a new error\r\n\r\n1. How to fix this in my computer?\r\n\r\n2. If someone can explain me on this launch config stuff in Eclipse?","title":"Launch error: could not create the Java virtual machine. A fatal exception has occurred","body":"<p>Below is my Eclipse.ini</p>\n\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.3.201.v20161025-1711.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.401.v20161122-1740\n-product\norg.eclipse.epp.package.java.product\n--launcher.defaultAction\nopenFile\n-showsplash\norg.eclipse.platform\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vmargs\n-Dosgi.requiredJavaVersion=1.8\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n-Dosgi.requiredJavaVersion=1.8\n-Xms256m\n-Xmx1024m\n-vm C:\\Program Files (x86)\\Java\\jre1.8.0_111\\bin\\javaw.exe\n</code></pre>\n\n<p>I did add the path for javaw.exe looking at some posts. But this addition just gave me a new error</p>\n\n<ol>\n<li><p>How to fix this in my computer?</p></li>\n<li><p>If someone can explain me on this launch config stuff in Eclipse?</p></li>\n</ol>\n"},{"tags":["java","spring","jpa","spring-annotations"],"owner":{"account_id":29180693,"reputation":1,"user_id":22354956,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691840356,"creation_date":1691840356,"question_id":76889095,"body_markdown":"In order to avoid the use of an if statement when I want to check if a given String is an ENUM constant, I implemented EnumValidator:\r\n\r\n```@Documented\r\n@Constraint(validatedBy = EnumHelper.class)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.FIELD)\r\n@NotNull\r\npublic @interface EnumValidator {\r\n\r\n    Class&lt;? extends Enum&lt;?&gt;&gt; enumClass();\r\n\r\n    String message() default &quot;Is not in enum&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n}\r\n```\r\n\r\nAnd EnumHelpe which implements ConstraintValidator&lt;EnumValidator, String&gt;: \r\n\r\n```\r\n    @Override\r\n    public void initialize(EnumValidator constraintAnnotation) {\r\n        values = Stream.of(constraintAnnotation.enumClass().getEnumConstants())\r\n                .map(Enum::toString)\r\n                .collect(Collectors.toSet());\r\n        values.addAll(Stream.of(constraintAnnotation.enumClass().getEnumConstants())\r\n                .map(Enum::name)\r\n                .collect(Collectors.toSet()));\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(String value, ConstraintValidatorContext context) {\r\n        return value == null || values.contains(value);\r\n\r\n    }\r\n\r\n```\r\n\r\nThen I added the Annotation to the Entity:\r\n```  @EnumValidator(enumClass = DegreeEnum.class,message = &quot;{degree.EnumValidator.message}&quot;)\r\n  private String degree;\r\n```\r\n\r\nAnd it basically works unless I do not provide this attribute, which means null is not a valid value, even though I set it in isValid() method.\r\n\r\nAlso, the Message from ExceptionHandler is very poor and only saying &quot;Could not commit JPA transaction&quot;. This also occurs when a value is given that is not valid, so the Validation has no conclusive Error message.\r\n\r\nSeems like going back to if statements with a simple isInEnum(String string) method works much better even though it takes some more lines of code.\r\n\r\nI have checked out many solutions. One was to remove the attribute from the entity, inherit entity to sub class and create the attribute there where NULL value was not a valid option. Like this, I also had proper error messages. \r\n\r\nBut that solution is not good. \r\n\r\nIt should be working because &quot;isValid()&quot; returns true when I do not set the field.\r\n\r\nI actually came to a better solution. It is very easy compared to my other approaches:\r\n```  @Nullable\r\n  @Enumerated(EnumType.STRING)\r\n  private DegreeEnum degree;\r\n```\r\n\r\nOnly disadvantage: I cannot use the Enum extension attribute anymore, so I can only check for the Uppercase Enum Constants (which is the .name() method) and not for customized String values and Override toString() method.\r\n\r\nI would be happy to make my Custom Validator work as it should. Any ideas?","title":"EnumValidator - Could not commit JPA transcation - Not accepting NULL values - Custom Annotation","body":"<p>In order to avoid the use of an if statement when I want to check if a given String is an ENUM constant, I implemented EnumValidator:</p>\n<pre><code>@Constraint(validatedBy = EnumHelper.class)\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\n@NotNull\npublic @interface EnumValidator {\n\n    Class&lt;? extends Enum&lt;?&gt;&gt; enumClass();\n\n    String message() default &quot;Is not in enum&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n}\n</code></pre>\n<p>And EnumHelpe which implements ConstraintValidator&lt;EnumValidator, String&gt;:</p>\n<pre><code>    @Override\n    public void initialize(EnumValidator constraintAnnotation) {\n        values = Stream.of(constraintAnnotation.enumClass().getEnumConstants())\n                .map(Enum::toString)\n                .collect(Collectors.toSet());\n        values.addAll(Stream.of(constraintAnnotation.enumClass().getEnumConstants())\n                .map(Enum::name)\n                .collect(Collectors.toSet()));\n    }\n\n    @Override\n    public boolean isValid(String value, ConstraintValidatorContext context) {\n        return value == null || values.contains(value);\n\n    }\n\n</code></pre>\n<p>Then I added the Annotation to the Entity:</p>\n<pre><code>  private String degree;\n</code></pre>\n<p>And it basically works unless I do not provide this attribute, which means null is not a valid value, even though I set it in isValid() method.</p>\n<p>Also, the Message from ExceptionHandler is very poor and only saying &quot;Could not commit JPA transaction&quot;. This also occurs when a value is given that is not valid, so the Validation has no conclusive Error message.</p>\n<p>Seems like going back to if statements with a simple isInEnum(String string) method works much better even though it takes some more lines of code.</p>\n<p>I have checked out many solutions. One was to remove the attribute from the entity, inherit entity to sub class and create the attribute there where NULL value was not a valid option. Like this, I also had proper error messages.</p>\n<p>But that solution is not good.</p>\n<p>It should be working because &quot;isValid()&quot; returns true when I do not set the field.</p>\n<p>I actually came to a better solution. It is very easy compared to my other approaches:</p>\n<pre><code>  @Enumerated(EnumType.STRING)\n  private DegreeEnum degree;\n</code></pre>\n<p>Only disadvantage: I cannot use the Enum extension attribute anymore, so I can only check for the Uppercase Enum Constants (which is the .name() method) and not for customized String values and Override toString() method.</p>\n<p>I would be happy to make my Custom Validator work as it should. Any ideas?</p>\n"},{"tags":["java","arraylist","queue"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1691842056,"post_id":76889063,"comment_id":135547931,"body_markdown":"*I&#39;m trying to recreate queue using ArrayList* **Why?** [`ArrayDeque`](https://docs.oracle.com/javase/8/docs/api/java/util/ArrayDeque.html) is built-in. Note: [*The name deque is short for &quot;double ended queue&quot; and is usually pronounced &quot;deck&quot;.*](https://docs.oracle.com/javase/8/docs/api/java/util/Deque.html).","body":"<i>I&#39;m trying to recreate queue using ArrayList</i> <b>Why?</b> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayDeque.html\" rel=\"nofollow noreferrer\"><code>ArrayDeque</code></a> is built-in. Note: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Deque.html\" rel=\"nofollow noreferrer\"><i>The name deque is short for &quot;double ended queue&quot; and is usually pronounced &quot;deck&quot;.</i></a>."},{"owner":{"account_id":28145098,"reputation":1,"user_id":21507533,"display_name":"JxDev"},"score":0,"creation_date":1691845510,"post_id":76889063,"comment_id":135548270,"body_markdown":"I have an assignment that is testing my understanding of queues so we are not allowed to use the built in queue function. We have to build it our own.","body":"I have an assignment that is testing my understanding of queues so we are not allowed to use the built in queue function. We have to build it our own."}],"owner":{"account_id":28145098,"reputation":1,"user_id":21507533,"display_name":"JxDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691840191,"creation_date":1691839697,"question_id":76889063,"body_markdown":"I&#39;m giving a sample .txt file. In this file, the first 2 integers in the first line is the amount of Primary Servers and Secondary Servers there are working at a fast food restaurant. For the rest of the line, 1st integer is customer arrival time, 2nd integer is time primary server takes to serve, 3rd integer is time secondary server takes to serve. (In this case primary servers can be seen as counter server and secondary server can be seen as cook).\r\n\r\n\r\n3\t2\t\r\n\r\n3\t2\t7\r\n\r\n4\t11\t2\r\n\r\n7\t14\t7\r\n\r\n12\t3\t18\r\n\r\n14\t8\t2\r\n\r\n\r\nI have created classes for Server, Queue and Customer.\r\n\r\nI have pasted the main logic of my code here:\r\n```\r\n           for (int i = 0; i &lt; primaryServers.size(); i++) {\r\n                Server primaryServer = primaryServers.get(i);\r\n\r\n                if (!primaryServer.isBusy() &amp;&amp; !priQueue.qIsEmpty()) {\r\n                    Customer customer = priQueue.dequeue();\r\n                    primaryServer.startService(customer.getPriQueueTime());\r\n                    primaryServer.incrementQueueCount();\r\n                    primaryServer.updateTotalServiceTime(customer.getPriQueueTime());\r\n                    secQueue.enqueue(customer);\r\n                }\r\n\r\n                primaryServer.decreaseServiceTime();\r\n\r\n                if (!primaryServer.isBusy()) {\r\n                    primaryServer.incrementIdleTime();\r\n                }\r\n            }\r\n\r\n\r\n            for (int i = 0; i &lt; secondaryServers.size(); i++) {\r\n                Server secondaryServer = secondaryServers.get(i);\r\n\r\n                if (!secondaryServer.isBusy() &amp;&amp; !secQueue.qIsEmpty()) {\r\n                    Customer customer = secQueue.dequeue();\r\n                    secondaryServer.startService(customer.getSecQueueTime());\r\n                    secondaryServer.incrementQueueCount();\r\n                    secondaryServer.updateTotalServiceTime(customer.getSecQueueTime());\r\n                }\r\n\r\n                secondaryServer.decreaseServiceTime();\r\n                servedCustomers++;\r\n\r\n                if (!secondaryServer.isBusy()) {\r\n                    secondaryServer.incrementIdleTime();\r\n                }\r\n            }\r\n\r\n            currentTime++;\r\n\r\n        }\r\n```\r\n\r\nThis is the code for the output:\r\n\r\n\r\n```\r\n System.out.println(&quot;--- Server Data ---&quot;);\r\n\r\n        for(int i = 0; i &lt; primaryServers.size(); i++) {\r\n            System.out.printf(&quot;%-15s&quot;, &quot;P&quot; + (i + 1));\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n        for (Server p : primaryServers) {\r\n\r\n            System.out.printf(&quot;%-15d&quot;, p.getTotalServiceTime());\r\n\r\n        }\r\n        System.out.println(&quot;Serve Time (in minutes.)&quot;);\r\n        for (Server p : primaryServers) {\r\n\r\n            System.out.printf(&quot;%-15d&quot;, p.getIdleTime());\r\n\r\n        }\r\n\r\n        System.out.println(&quot;Idle Time (in minutes.)\\n&quot;);\r\n        for(int i = 0; i &lt; secondaryServers.size(); i++) {\r\n            System.out.printf(&quot;%-15s&quot;, &quot;S&quot; + (i + 1));\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n        for (Server s : secondaryServers) {\r\n\r\n            System.out.printf(&quot;%-15d&quot;, s.getTotalServiceTime());\r\n\r\n        }\r\n        System.out.println(&quot;Serve Time (in minutes.)&quot;);\r\n        for (Server s : secondaryServers) {\r\n\r\n            System.out.printf(&quot;%-15d&quot;, s.getIdleTime());\r\n\r\n        }\r\n        System.out.println(&quot;Idle Time (in minutes.)\\n&quot;);\r\n```\r\n\r\nThis is the result I get.\r\n--- Server Data ---\r\nP1             P2             P3\r\n0              0              0              Serve Time (in minutes.)\r\n3              3              3              Idle Time (in minutes.)\r\n\r\nS1             S2\r\n0              0              Serve Time (in minutes.)\r\n3              3              Idle Time (in minutes.)\r\n\r\nI&#39;m not sure why the data is not being passed into the queue even though I wrote the enqueue and dequeue myself\r\n\r\n\r\n```\r\n    public void enqueue(Customer customer) {\r\n        customerQueueList.add(customer);\r\n            customerInQueue++;\r\n            totalCountCustomers++;\r\n\r\n    }\r\n\r\n    public Customer dequeue() {\r\n        if (!customerQueueList.isEmpty()) {\r\n            customerInQueue--;\r\n            return customerQueueList.remove(0); // Remove and return the first customer\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\nInitially I was using an enhanced for-loop to loop through the primary servers and secondary servers to enqueue and dequeue them. I thought it might be unsure who was busy and who is not so I changed it to a normal for-loop for them to loop through every server but nothing I&#39;ve tried worked.","title":"I&#39;m trying to recreate queue using ArrayList in java but am having troubles","body":"<p>I'm giving a sample .txt file. In this file, the first 2 integers in the first line is the amount of Primary Servers and Secondary Servers there are working at a fast food restaurant. For the rest of the line, 1st integer is customer arrival time, 2nd integer is time primary server takes to serve, 3rd integer is time secondary server takes to serve. (In this case primary servers can be seen as counter server and secondary server can be seen as cook).</p>\n<p>3   2</p>\n<p>3   2   7</p>\n<p>4   11  2</p>\n<p>7   14  7</p>\n<p>12  3   18</p>\n<p>14  8   2</p>\n<p>I have created classes for Server, Queue and Customer.</p>\n<p>I have pasted the main logic of my code here:</p>\n<pre><code>           for (int i = 0; i &lt; primaryServers.size(); i++) {\n                Server primaryServer = primaryServers.get(i);\n\n                if (!primaryServer.isBusy() &amp;&amp; !priQueue.qIsEmpty()) {\n                    Customer customer = priQueue.dequeue();\n                    primaryServer.startService(customer.getPriQueueTime());\n                    primaryServer.incrementQueueCount();\n                    primaryServer.updateTotalServiceTime(customer.getPriQueueTime());\n                    secQueue.enqueue(customer);\n                }\n\n                primaryServer.decreaseServiceTime();\n\n                if (!primaryServer.isBusy()) {\n                    primaryServer.incrementIdleTime();\n                }\n            }\n\n\n            for (int i = 0; i &lt; secondaryServers.size(); i++) {\n                Server secondaryServer = secondaryServers.get(i);\n\n                if (!secondaryServer.isBusy() &amp;&amp; !secQueue.qIsEmpty()) {\n                    Customer customer = secQueue.dequeue();\n                    secondaryServer.startService(customer.getSecQueueTime());\n                    secondaryServer.incrementQueueCount();\n                    secondaryServer.updateTotalServiceTime(customer.getSecQueueTime());\n                }\n\n                secondaryServer.decreaseServiceTime();\n                servedCustomers++;\n\n                if (!secondaryServer.isBusy()) {\n                    secondaryServer.incrementIdleTime();\n                }\n            }\n\n            currentTime++;\n\n        }\n</code></pre>\n<p>This is the code for the output:</p>\n<pre><code> System.out.println(&quot;--- Server Data ---&quot;);\n\n        for(int i = 0; i &lt; primaryServers.size(); i++) {\n            System.out.printf(&quot;%-15s&quot;, &quot;P&quot; + (i + 1));\n        }\n        System.out.println(&quot;&quot;);\n        for (Server p : primaryServers) {\n\n            System.out.printf(&quot;%-15d&quot;, p.getTotalServiceTime());\n\n        }\n        System.out.println(&quot;Serve Time (in minutes.)&quot;);\n        for (Server p : primaryServers) {\n\n            System.out.printf(&quot;%-15d&quot;, p.getIdleTime());\n\n        }\n\n        System.out.println(&quot;Idle Time (in minutes.)\\n&quot;);\n        for(int i = 0; i &lt; secondaryServers.size(); i++) {\n            System.out.printf(&quot;%-15s&quot;, &quot;S&quot; + (i + 1));\n        }\n        System.out.println(&quot;&quot;);\n        for (Server s : secondaryServers) {\n\n            System.out.printf(&quot;%-15d&quot;, s.getTotalServiceTime());\n\n        }\n        System.out.println(&quot;Serve Time (in minutes.)&quot;);\n        for (Server s : secondaryServers) {\n\n            System.out.printf(&quot;%-15d&quot;, s.getIdleTime());\n\n        }\n        System.out.println(&quot;Idle Time (in minutes.)\\n&quot;);\n</code></pre>\n<p>This is the result I get.\n--- Server Data ---\nP1             P2             P3\n0              0              0              Serve Time (in minutes.)\n3              3              3              Idle Time (in minutes.)</p>\n<p>S1             S2\n0              0              Serve Time (in minutes.)\n3              3              Idle Time (in minutes.)</p>\n<p>I'm not sure why the data is not being passed into the queue even though I wrote the enqueue and dequeue myself</p>\n<pre><code>    public void enqueue(Customer customer) {\n        customerQueueList.add(customer);\n            customerInQueue++;\n            totalCountCustomers++;\n\n    }\n\n    public Customer dequeue() {\n        if (!customerQueueList.isEmpty()) {\n            customerInQueue--;\n            return customerQueueList.remove(0); // Remove and return the first customer\n        }\n        return null;\n    }\n</code></pre>\n<p>Initially I was using an enhanced for-loop to loop through the primary servers and secondary servers to enqueue and dequeue them. I thought it might be unsure who was busy and who is not so I changed it to a normal for-loop for them to loop through every server but nothing I've tried worked.</p>\n"},{"tags":["java","android","canvas","view","drawing"],"comments":[{"owner":{"account_id":3409033,"reputation":712,"user_id":4566802,"accept_rate":67,"display_name":"totoaussi"},"score":0,"creation_date":1696446217,"post_id":76889050,"comment_id":136155492,"body_markdown":"The 2nd rectangle disappears because the 0, 0, 0, 0 in saveLayer parameters means your layer has no dimensions.","body":"The 2nd rectangle disappears because the 0, 0, 0, 0 in saveLayer parameters means your layer has no dimensions."}],"owner":{"account_id":23191109,"reputation":11,"user_id":17287471,"display_name":"kamal MKA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691839474,"creation_date":1691839474,"question_id":76889050,"body_markdown":"can any one explains to me in simple way what does `canvas.saveLayer()` exactly mean ? , I&#39;m beginner in android canvas.\r\n\r\n\r\nI tried the method in this code : \r\n```\r\n\r\ncanvas.drawRect(50,50,300,300,paint);\r\ncanvas.saveLayer(0,0,0,0,paint);\r\ncanvas.drawRect(250,250,400,400,paint);\r\n```\r\nThe second rectangle disappears and I don&#39;t know why\r\n","title":"Can&#39;t understand what saveLayer() do in canvas android","body":"<p>can any one explains to me in simple way what does <code>canvas.saveLayer()</code> exactly mean ? , I'm beginner in android canvas.</p>\n<p>I tried the method in this code :</p>\n<pre><code>\ncanvas.drawRect(50,50,300,300,paint);\ncanvas.saveLayer(0,0,0,0,paint);\ncanvas.drawRect(250,250,400,400,paint);\n</code></pre>\n<p>The second rectangle disappears and I don't know why</p>\n"},{"tags":["java","json","xml","spring-boot"],"comments":[{"owner":{"account_id":5236921,"reputation":1452,"user_id":4185221,"display_name":"Sunil Dabburi"},"score":0,"creation_date":1576863702,"post_id":59429211,"comment_id":105044620,"body_markdown":"I&#39;m sorry what is the `endpoint` you are talking about? You are not sure which API endpoint to call with JSON?","body":"I&#39;m sorry what is the <code>endpoint</code> you are talking about? You are not sure which API endpoint to call with JSON?"},{"owner":{"account_id":5236921,"reputation":1452,"user_id":4185221,"display_name":"Sunil Dabburi"},"score":0,"creation_date":1576864062,"post_id":59429211,"comment_id":105044731,"body_markdown":"I am assuming your code is outside the REST project, you should have `SOAP to REST` mapping to help you find the URL. One way to solve is to configure the `Gateway` to provide the REST URL as `header`.","body":"I am assuming your code is outside the REST project, you should have <code>SOAP to REST</code> mapping to help you find the URL. One way to solve is to configure the <code>Gateway</code> to provide the REST URL as <code>header</code>."},{"owner":{"account_id":5236921,"reputation":1452,"user_id":4185221,"display_name":"Sunil Dabburi"},"score":0,"creation_date":1576864664,"post_id":59429211,"comment_id":105044921,"body_markdown":"I am not sure what `Gateway` is used. Lot of gateways provide configurations for each endpoint that&#39;s added. We can ask it to add custom headers when a request is made on a URL that way when it adds REST url as a header, you can read it and use that route your call further. If your gateway is another app custom written, it should be modified to support this functionality I believe.","body":"I am not sure what <code>Gateway</code> is used. Lot of gateways provide configurations for each endpoint that&#39;s added. We can ask it to add custom headers when a request is made on a URL that way when it adds REST url as a header, you can read it and use that route your call further. If your gateway is another app custom written, it should be modified to support this functionality I believe."},{"owner":{"account_id":5236921,"reputation":1452,"user_id":4185221,"display_name":"Sunil Dabburi"},"score":0,"creation_date":1576864744,"post_id":59429211,"comment_id":105044956,"body_markdown":"If your gateway does not support it, another way is to configure your `adapter` application to contain those mappings. configure your environment to load the mappings on initial application loading and use them to identify the REST endpoint.","body":"If your gateway does not support it, another way is to configure your <code>adapter</code> application to contain those mappings. configure your environment to load the mappings on initial application loading and use them to identify the REST endpoint."},{"owner":{"account_id":5236921,"reputation":1452,"user_id":4185221,"display_name":"Sunil Dabburi"},"score":0,"creation_date":1576865067,"post_id":59429211,"comment_id":105045061,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/204623/discussion-between-sunil-dabburi-and-paa).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/204623/discussion-between-sunil-dabburi-and-paa\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":5236921,"reputation":1452,"user_id":4185221,"display_name":"Sunil Dabburi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576868489,"creation_date":1576867683,"answer_id":59430046,"question_id":59429211,"body_markdown":"If your Gateway supports passing custom header for every endpoint, that would be the ideal way to do this. In such a case, it will send the REST endpoint in the request header, you can use that to forwarding calls.\r\n\r\nIf Gateway does not support such functionality, you can try modifying your `Adapter` code.\r\n\r\nIf you want to configure your adapter to hold the endpoint mappings, you can configure it using `@ConfigurationProperties`\r\n\r\n`EndpointRegistry` class\r\n\r\n    import java.util.Map;\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @EnableConfigurationProperties\r\n    @ConfigurationProperties(prefix = &quot;endpoint&quot;)\r\n    @Component\r\n    public class EndpointRegistry {\r\n    \r\n    \t// top key - endpoint\r\n    \t// one key - soapUrl\r\n    \t// another key - restUrl\r\n    \tprivate Map&lt;String, Map&lt;String, String&gt;&gt; api;\r\n    \r\n    \tpublic Map&lt;String, Map&lt;String, String&gt;&gt; getApi() {\r\n    \t\treturn api;\r\n    \t}\r\n    \r\n    \tpublic void setApi(Map&lt;String, Map&lt;String, String&gt;&gt; api) {\r\n    \t\tthis.api = api;\r\n    \t}\r\n    }\r\n\r\nThis will match the key pattern mentioned in your `application.properties` file as below\r\n\r\n    endpoint.api.endpoint1.soapUrl=&lt;soap-url&gt;\r\n    endpoint.api.endpoint1.restUrl=&lt;rest-url&gt;\r\n    \r\n    endpoint.api.endpoint2.soapUrl=&lt;soap-url&gt;\r\n    endpoint.api.endpoint2.restUrl=&lt;rest-url&gt;\r\n\r\nNow, `endpoint name` should be unique. You can decide on the key structure. This is just an example.\r\n\r\nHere is a test controller to verify the values:\r\n\r\n    import java.util.Map;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/endpoints&quot;)\r\n    public class EndpointController {\r\n    \r\n    \t@Autowired\r\n    \tEndpointRegistry registry;\r\n    \r\n    \t@GetMapping\r\n    \tpublic Map&lt;String, String&gt; getRestUrl(String endpoint) {\r\n    \t\treturn registry.getApi().get(endpoint);\r\n    \t}\r\n    }\r\n\r\nMake a `GET` call to `http://localhost:8080/endpoints?endpoint=endpoint1`\r\n\r\nYou should get\r\n\r\n    {\r\n       &quot;soapUrl&quot;:&quot;&lt;soap-url&gt;&quot;,\r\n       &quot;restUrl&quot;:&quot;&lt;rest-url&gt;&quot;\r\n    }\r\n\r\nThis way, you can use your `EndpointRegistry` to get the required URLs and make calls.\r\n\r\nYou can use the Spring Configuration server to update your application.properties for each environment. Check it here: https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_server.html\r\n\r\nMeanwhile, you can configure your CI pipeline to add these properties beforehand for each environment.","title":"Convert XML to JSON and Vice Versa and also how to identify REST endpoint while making XML Request?","body":"<p>If your Gateway supports passing custom header for every endpoint, that would be the ideal way to do this. In such a case, it will send the REST endpoint in the request header, you can use that to forwarding calls.</p>\n\n<p>If Gateway does not support such functionality, you can try modifying your <code>Adapter</code> code.</p>\n\n<p>If you want to configure your adapter to hold the endpoint mappings, you can configure it using <code>@ConfigurationProperties</code></p>\n\n<p><code>EndpointRegistry</code> class</p>\n\n<pre><code>import java.util.Map;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.stereotype.Component;\n\n@EnableConfigurationProperties\n@ConfigurationProperties(prefix = \"endpoint\")\n@Component\npublic class EndpointRegistry {\n\n    // top key - endpoint\n    // one key - soapUrl\n    // another key - restUrl\n    private Map&lt;String, Map&lt;String, String&gt;&gt; api;\n\n    public Map&lt;String, Map&lt;String, String&gt;&gt; getApi() {\n        return api;\n    }\n\n    public void setApi(Map&lt;String, Map&lt;String, String&gt;&gt; api) {\n        this.api = api;\n    }\n}\n</code></pre>\n\n<p>This will match the key pattern mentioned in your <code>application.properties</code> file as below</p>\n\n<pre><code>endpoint.api.endpoint1.soapUrl=&lt;soap-url&gt;\nendpoint.api.endpoint1.restUrl=&lt;rest-url&gt;\n\nendpoint.api.endpoint2.soapUrl=&lt;soap-url&gt;\nendpoint.api.endpoint2.restUrl=&lt;rest-url&gt;\n</code></pre>\n\n<p>Now, <code>endpoint name</code> should be unique. You can decide on the key structure. This is just an example.</p>\n\n<p>Here is a test controller to verify the values:</p>\n\n<pre><code>import java.util.Map;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(\"/endpoints\")\npublic class EndpointController {\n\n    @Autowired\n    EndpointRegistry registry;\n\n    @GetMapping\n    public Map&lt;String, String&gt; getRestUrl(String endpoint) {\n        return registry.getApi().get(endpoint);\n    }\n}\n</code></pre>\n\n<p>Make a <code>GET</code> call to <code>http://localhost:8080/endpoints?endpoint=endpoint1</code></p>\n\n<p>You should get</p>\n\n<pre><code>{\n   \"soapUrl\":\"&lt;soap-url&gt;\",\n   \"restUrl\":\"&lt;rest-url&gt;\"\n}\n</code></pre>\n\n<p>This way, you can use your <code>EndpointRegistry</code> to get the required URLs and make calls.</p>\n\n<p>You can use the Spring Configuration server to update your application.properties for each environment. Check it here: <a href=\"https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_server.html\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-config/multi/multi__spring_cloud_config_server.html</a></p>\n\n<p>Meanwhile, you can configure your CI pipeline to add these properties beforehand for each environment.</p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1580372923,"creation_date":1580372288,"answer_id":59981603,"question_id":59429211,"body_markdown":"You may use the [underscore-java][1] library. It has static methods to read xml and generate json.\r\n\r\n        String xmlData = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&quot;\r\n        + &quot; xmlns:urn=\\&quot;urn:ahc.com:dms:wsdls:organization\\&quot;&gt;\\n&quot;\r\n        + &quot;   &lt;soapenv:Header/&gt;\\n&quot;\r\n        + &quot;   &lt;soapenv:Body&gt;\\n&quot;\r\n        + &quot;      &lt;urn:getRoles&gt;\\n&quot;\r\n        + &quot;         &lt;getRolesRequest&gt;\\n&quot;\r\n        + &quot;            &lt;Type&gt;ABC&lt;/Type&gt;\\n&quot;\r\n        + &quot;         &lt;/getRolesRequest&gt;\\n&quot;\r\n        + &quot;      &lt;/urn:getRoles&gt;\\n&quot;\r\n        + &quot;   &lt;/soapenv:Body&gt;\\n&quot;\r\n        + &quot;&lt;/soapenv:Envelope&gt;&quot;;\r\n        Map&lt;String, Object&gt; jsonData = U.&lt;Map&lt;String, Object&gt;&gt;get(\r\n            U.&lt;Map&lt;String, Object&gt;&gt;fromXmlWithoutNamespaces(xmlData), &quot;Envelope.Body.getRoles&quot;);\r\n        System.out.println(U.toJson(jsonData));\r\n\r\nOutput:\r\n\r\n    {\r\n      &quot;getRolesRequest&quot;: {\r\n        &quot;Type&quot;: &quot;ABC&quot;\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"Convert XML to JSON and Vice Versa and also how to identify REST endpoint while making XML Request?","body":"<p>You may use the <a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">underscore-java</a> library. It has static methods to read xml and generate json.</p>\n\n<pre><code>    String xmlData = \"&lt;soapenv:Envelope xmlns:soapenv=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\"\"\n    + \" xmlns:urn=\\\"urn:ahc.com:dms:wsdls:organization\\\"&gt;\\n\"\n    + \"   &lt;soapenv:Header/&gt;\\n\"\n    + \"   &lt;soapenv:Body&gt;\\n\"\n    + \"      &lt;urn:getRoles&gt;\\n\"\n    + \"         &lt;getRolesRequest&gt;\\n\"\n    + \"            &lt;Type&gt;ABC&lt;/Type&gt;\\n\"\n    + \"         &lt;/getRolesRequest&gt;\\n\"\n    + \"      &lt;/urn:getRoles&gt;\\n\"\n    + \"   &lt;/soapenv:Body&gt;\\n\"\n    + \"&lt;/soapenv:Envelope&gt;\";\n    Map&lt;String, Object&gt; jsonData = U.&lt;Map&lt;String, Object&gt;&gt;get(\n        U.&lt;Map&lt;String, Object&gt;&gt;fromXmlWithoutNamespaces(xmlData), \"Envelope.Body.getRoles\");\n    System.out.println(U.toJson(jsonData));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\n  \"getRolesRequest\": {\n    \"Type\": \"ABC\"\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59981603,"answer_count":2,"score":0,"last_activity_date":1691839196,"creation_date":1576862862,"question_id":59429211,"body_markdown":"My company has exposed REST endpoint to external world through Proxy/Gateway. Around 1000 of customers are on-boarded to Proxy/Gateway and making XML request to SOAP based system (deployed on WebSphere App Server (WAS) V7.5).\r\n\r\nNow, we&#39;ve developed new system which only supports JSON and wanted to point to newly developed system which deployed on PCF (Pivotal Cloud Foundry).\r\n\r\nHere we don&#39;t want to ask Consumers to make any changes.\r\n\r\nNow, we&#39;re trying to developed Adapter (Spring Boot Project) which converts XML request to JSON make a request to new system and get response in JSON and again Adapter (Spring Boot Project) converts JSON to XML. Here, JSON response and XML response could be different at times.\r\n\r\nNow, I am really not able to make any decision which endpoint to call to\r\n\r\n    String xml_data = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:urn=\\&quot;urn:ahc.com:dms:wsdls:organization\\&quot;&gt;\\n&quot; + \r\n    \t\t&quot;   &lt;soapenv:Header/&gt;\\n&quot; + \r\n    \t\t&quot;   &lt;soapenv:Body&gt;\\n&quot; + \r\n    \t\t&quot;      &lt;urn:getRoles&gt;\\n&quot; + \r\n    \t\t&quot;         &lt;getRolesRequest&gt;\\n&quot; + \r\n    \t\t&quot;            &lt;Type&gt;ABC&lt;/Type&gt;\\n&quot; + \r\n    \t\t&quot;         &lt;/getRolesRequest&gt;\\n&quot; + \r\n    \t\t&quot;      &lt;/urn:getRoles&gt;\\n&quot; + \r\n    \t\t&quot;   &lt;/soapenv:Body&gt;\\n&quot; + \r\n    \t\t&quot;&lt;/soapenv:Envelope&gt;&quot;;\r\n    JSONObject obj = XML.toJSONObject(xml_data);\r\n    System.out.println(obj);\r\n\r\nIt gives me below response.\r\n\r\n    {&quot;soapenv:Envelope&quot;:{&quot;soapenv:Body&quot;:{&quot;urn:getRoles&quot;:{&quot;getRolesRequest&quot;:{&quot;Type&quot;:&quot;AYU&quot;}}},&quot;xmlns:soapenv&quot;:&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;,&quot;xmlns:urn&quot;:&quot;urn:ahc.com:dms:wsdls:organization&quot;,&quot;soapenv:Header&quot;:&quot;&quot;}}\r\n\r\nAny guidance ?\r\n\r\nNote: I want to remove `&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\` from JSON object. Also, while convering JSON to XML I want to add `&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\`","title":"Convert XML to JSON and Vice Versa and also how to identify REST endpoint while making XML Request?","body":"<p>My company has exposed REST endpoint to external world through Proxy/Gateway. Around 1000 of customers are on-boarded to Proxy/Gateway and making XML request to SOAP based system (deployed on WebSphere App Server (WAS) V7.5).</p>\n<p>Now, we've developed new system which only supports JSON and wanted to point to newly developed system which deployed on PCF (Pivotal Cloud Foundry).</p>\n<p>Here we don't want to ask Consumers to make any changes.</p>\n<p>Now, we're trying to developed Adapter (Spring Boot Project) which converts XML request to JSON make a request to new system and get response in JSON and again Adapter (Spring Boot Project) converts JSON to XML. Here, JSON response and XML response could be different at times.</p>\n<p>Now, I am really not able to make any decision which endpoint to call to</p>\n<pre><code>String xml_data = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:urn=\\&quot;urn:ahc.com:dms:wsdls:organization\\&quot;&gt;\\n&quot; + \n        &quot;   &lt;soapenv:Header/&gt;\\n&quot; + \n        &quot;   &lt;soapenv:Body&gt;\\n&quot; + \n        &quot;      &lt;urn:getRoles&gt;\\n&quot; + \n        &quot;         &lt;getRolesRequest&gt;\\n&quot; + \n        &quot;            &lt;Type&gt;ABC&lt;/Type&gt;\\n&quot; + \n        &quot;         &lt;/getRolesRequest&gt;\\n&quot; + \n        &quot;      &lt;/urn:getRoles&gt;\\n&quot; + \n        &quot;   &lt;/soapenv:Body&gt;\\n&quot; + \n        &quot;&lt;/soapenv:Envelope&gt;&quot;;\nJSONObject obj = XML.toJSONObject(xml_data);\nSystem.out.println(obj);\n</code></pre>\n<p>It gives me below response.</p>\n<pre><code>{&quot;soapenv:Envelope&quot;:{&quot;soapenv:Body&quot;:{&quot;urn:getRoles&quot;:{&quot;getRolesRequest&quot;:{&quot;Type&quot;:&quot;AYU&quot;}}},&quot;xmlns:soapenv&quot;:&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;,&quot;xmlns:urn&quot;:&quot;urn:ahc.com:dms:wsdls:organization&quot;,&quot;soapenv:Header&quot;:&quot;&quot;}}\n</code></pre>\n<p>Any guidance ?</p>\n<p>Note: I want to remove <code>&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\</code> from JSON object. Also, while convering JSON to XML I want to add <code>&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\</code></p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"score":0,"creation_date":1669801543,"post_id":74625572,"comment_id":131723589,"body_markdown":"Can you provide some details related to your Pojo","body":"Can you provide some details related to your Pojo"},{"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"score":0,"creation_date":1669801660,"post_id":74625572,"comment_id":131723629,"body_markdown":"@Daksharajkamal added some details but the question is more on how pagination can be handled when multiple specifications are linked. You can use whatever pojo you think of.","body":"@Daksharajkamal added some details but the question is more on how pagination can be handled when multiple specifications are linked. You can use whatever pojo you think of."},{"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"score":0,"creation_date":1669801729,"post_id":74625572,"comment_id":131723645,"body_markdown":"You can use Criteria API for handling pagination and multiple specifications","body":"You can use Criteria API for handling pagination and multiple specifications"},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1669802300,"post_id":74625572,"comment_id":131723844,"body_markdown":"can you share what data you have and what actually output you want to achieve?","body":"can you share what data you have and what actually output you want to achieve?"}],"answers":[{"tags":[],"owner":{"account_id":1100909,"reputation":412,"user_id":1093333,"accept_rate":90,"display_name":"Jayesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669801978,"creation_date":1669801978,"answer_id":74625746,"question_id":74625572,"body_markdown":"Have you tried [JpaRepository][1] or [ListPagingAndSortingRepository][2] or [PagingAndSortingRepository][3] as they allow pagination and creating methods like `findAllByType(...)` may solve your problem.\r\nAndd for combining results, you can use HQL type query to write a single query or create 2 queries to DB and put them in a single list/set before you return as result.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\r\n  [2]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/ListPagingAndSortingRepository.html\r\n  [3]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html","title":"Combining JPA specification with pagination","body":"<p>Have you tried <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\" rel=\"nofollow noreferrer\">JpaRepository</a> or <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/ListPagingAndSortingRepository.html\" rel=\"nofollow noreferrer\">ListPagingAndSortingRepository</a> or <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html\" rel=\"nofollow noreferrer\">PagingAndSortingRepository</a> as they allow pagination and creating methods like <code>findAllByType(...)</code> may solve your problem.\nAndd for combining results, you can use HQL type query to write a single query or create 2 queries to DB and put them in a single list/set before you return as result.</p>\n"},{"comments":[{"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"score":0,"creation_date":1669803302,"post_id":74625999,"comment_id":131724171,"body_markdown":"Also you can take some help from https://www.baeldung.com/spring-data-criteria-queries","body":"Also you can take some help from <a href=\"https://www.baeldung.com/spring-data-criteria-queries\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-criteria-queries</a>"}],"tags":[],"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669803108,"creation_date":1669803108,"answer_id":74625999,"question_id":74625572,"body_markdown":"You can handle Pagination with multiple specifications by using Criteria API.\r\nExample:\r\n\r\n    DetachedCriteria detachedCriteria = DetachedCriteria.forClass(EmployeeEntity.class, &quot;employee&quot;);\r\n\r\nNow suppose you want to filter Employee by EmployeeType which is some different entity:\r\n\r\n    detachedCriteria.createAlias(&quot;employee.type&quot;, &quot;employeeType&quot;);\r\n    detachedCriteria.add(Restrictions.eq(&quot;employeeType.name&quot;, string (example: &quot;Teachers&quot;)));\r\nSimilar way you can add more specifications, and for pagination, you can do this:\r\n\r\n    Integer pageNumber = (Integer.valueOf(page_number)-1) * 10;\r\n\r\nand then you can pass all this data using the:\r\n\r\n    resultList = findByCriteria(detachedCriteria,pageNumber,page_size);\r\nwhich will return your result based on the specification and pagination based on page_number and page_size\r\n\r\n","title":"Combining JPA specification with pagination","body":"<p>You can handle Pagination with multiple specifications by using Criteria API.\nExample:</p>\n<pre><code>DetachedCriteria detachedCriteria = DetachedCriteria.forClass(EmployeeEntity.class, &quot;employee&quot;);\n</code></pre>\n<p>Now suppose you want to filter Employee by EmployeeType which is some different entity:</p>\n<pre><code>detachedCriteria.createAlias(&quot;employee.type&quot;, &quot;employeeType&quot;);\ndetachedCriteria.add(Restrictions.eq(&quot;employeeType.name&quot;, string (example: &quot;Teachers&quot;)));\n</code></pre>\n<p>Similar way you can add more specifications, and for pagination, you can do this:</p>\n<pre><code>Integer pageNumber = (Integer.valueOf(page_number)-1) * 10;\n</code></pre>\n<p>and then you can pass all this data using the:</p>\n<pre><code>resultList = findByCriteria(detachedCriteria,pageNumber,page_size);\n</code></pre>\n<p>which will return your result based on the specification and pagination based on page_number and page_size</p>\n"},{"tags":[],"owner":{"account_id":12478391,"reputation":67,"user_id":9084034,"display_name":"Iv&#225;n P&#233;rez"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1691838874,"creation_date":1691708539,"answer_id":76879794,"question_id":74625572,"body_markdown":"There is an easy way to provide pagination using JPA specs.\r\n\r\nStarting from the controller, you need to allow two new parameters, like `int page` and `int size`. Let&#39;s say for your use case:\r\n\r\nController:\r\n```java\r\n@GetMapping(value = &quot;/employees&quot;)\r\n@ResponseStatus(HttpStatus.OK)\r\nEmployeePageResponse&lt;EmployeeDto&gt; getEmployees(EmployeeSearchCriteria criteria) {\r\n    return employeeFilterService.searchEmployee(employeeMapper.toFilter(criteria), criteria.getPage(), criteria.getSize());\r\n}\r\n```\r\nwhere:\r\n```java\r\npublic class EmployeeSearchCriteria {\r\n    private EmployeeType type;\r\n    private int page = 0;\r\n    private int size = 10;\r\n}\r\n```\r\n\r\nthe service just receives the filter you want to apply and propagates it to the repository layer.\r\n\r\nService:\r\n```java\r\n@Override\r\npublic EmployeePageResponse&lt;EmployeeDto&gt; searchEmployees(EmployeesFilter filter, int page, int size) {\r\n    Specification&lt;EmployeeEntity&gt; spec = EmployeeSpec.filterBy(filter);\r\n    // here we pass the pagination parameterers page and size\r\n    Page&lt;EmplooyeeDto&gt; pageResult = carRepository.findAll(spec, PageRequest.of(page, size));\r\n    return employeeMapper.toEmployeePageResponse(pageResult);\r\n}\r\n```\r\nFilter (using Java 17 you can just create a record):\r\n```java\r\npublic record EmployeesFilter(EmployeeType type) {}\r\n```\r\nAnd now comes the important part. Once you have the filter setup, apply it over the repository layer using JPA specs:\r\n```java\r\npublic class EmployeeSpec {\r\n\r\n    public static final String EMPLOYEE_TYPE= &quot;employeeType&quot;;\r\n\r\n    public static Specification&lt;EmployeeEntity&gt; filterBy(EmployeesFilter employeesFilter) {\r\n        return Specification\r\n                .where(hasType(employeesFilter.type()));\r\n    }\r\n\r\n    private static Specification&lt;EmployeeEntity&gt; hasType(EmployeeType type) {\r\n        return ((root, query, cb) -&gt; cb.equal(root.get(EMPLOYEE_TYPE), type));\r\n    }\r\n}\r\n```\r\nAnd finally, the repository\r\n```java\r\n@Repository\r\npublic interface EmployeeRepository extends JpaRepository&lt;EmployeeEntity, Integer&gt;, JpaSpecificationExecutor&lt;EmployeeEntity&gt; {\r\n\r\n    Page&lt;EmployeeEntity&gt; findAll(@Nullable Specification&lt;EmployeeEntity&gt; spec, @NonNull Pageable pageable);\r\n}\r\n```\r\n\r\n\r\nI wrote a small tutorial a few months ago exactly about this topic. There you can also find some examples as well as the Github repo.\r\n\r\nHope you find it useful!\r\nhttps://binarymindset.com/filter-your-data-the-right-way-using-jpa-specifications/","title":"Combining JPA specification with pagination","body":"<p>There is an easy way to provide pagination using JPA specs.</p>\n<p>Starting from the controller, you need to allow two new parameters, like <code>int page</code> and <code>int size</code>. Let's say for your use case:</p>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/employees&quot;)\n@ResponseStatus(HttpStatus.OK)\nEmployeePageResponse&lt;EmployeeDto&gt; getEmployees(EmployeeSearchCriteria criteria) {\n    return employeeFilterService.searchEmployee(employeeMapper.toFilter(criteria), criteria.getPage(), criteria.getSize());\n}\n</code></pre>\n<p>where:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmployeeSearchCriteria {\n    private EmployeeType type;\n    private int page = 0;\n    private int size = 10;\n}\n</code></pre>\n<p>the service just receives the filter you want to apply and propagates it to the repository layer.</p>\n<p>Service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic EmployeePageResponse&lt;EmployeeDto&gt; searchEmployees(EmployeesFilter filter, int page, int size) {\n    Specification&lt;EmployeeEntity&gt; spec = EmployeeSpec.filterBy(filter);\n    // here we pass the pagination parameterers page and size\n    Page&lt;EmplooyeeDto&gt; pageResult = carRepository.findAll(spec, PageRequest.of(page, size));\n    return employeeMapper.toEmployeePageResponse(pageResult);\n}\n</code></pre>\n<p>Filter (using Java 17 you can just create a record):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record EmployeesFilter(EmployeeType type) {}\n</code></pre>\n<p>And now comes the important part. Once you have the filter setup, apply it over the repository layer using JPA specs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmployeeSpec {\n\n    public static final String EMPLOYEE_TYPE= &quot;employeeType&quot;;\n\n    public static Specification&lt;EmployeeEntity&gt; filterBy(EmployeesFilter employeesFilter) {\n        return Specification\n                .where(hasType(employeesFilter.type()));\n    }\n\n    private static Specification&lt;EmployeeEntity&gt; hasType(EmployeeType type) {\n        return ((root, query, cb) -&gt; cb.equal(root.get(EMPLOYEE_TYPE), type));\n    }\n}\n</code></pre>\n<p>And finally, the repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;EmployeeEntity, Integer&gt;, JpaSpecificationExecutor&lt;EmployeeEntity&gt; {\n\n    Page&lt;EmployeeEntity&gt; findAll(@Nullable Specification&lt;EmployeeEntity&gt; spec, @NonNull Pageable pageable);\n}\n</code></pre>\n<p>I wrote a small tutorial a few months ago exactly about this topic. There you can also find some examples as well as the Github repo.</p>\n<p>Hope you find it useful!\n<a href=\"https://binarymindset.com/filter-your-data-the-right-way-using-jpa-specifications/\" rel=\"nofollow noreferrer\">https://binarymindset.com/filter-your-data-the-right-way-using-jpa-specifications/</a></p>\n"}],"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1691838874,"creation_date":1669801191,"question_id":74625572,"body_markdown":"I have a JPA specification that needs to be split up in two, but also support backend pagination. I am unsure how to accomplish this. \r\n\r\nFor example, I have Employess that can be of two types Teachers and Carers. I need to perform a filtered search (the exact search) on both and return a single unionized response, that can support pagination. Although I know how to perform the two requests, I don&#39;t know how to process the pagination when combining JPA specifications. Any hints?\r\n````\r\nclass EmployeeEntity {\r\n  private Long id;\r\n  private EmployeeType type;\r\n  private String name;\r\n\r\n} \r\n````","title":"Combining JPA specification with pagination","body":"<p>I have a JPA specification that needs to be split up in two, but also support backend pagination. I am unsure how to accomplish this.</p>\n<p>For example, I have Employess that can be of two types Teachers and Carers. I need to perform a filtered search (the exact search) on both and return a single unionized response, that can support pagination. Although I know how to perform the two requests, I don't know how to process the pagination when combining JPA specifications. Any hints?</p>\n<pre><code>class EmployeeEntity {\n  private Long id;\n  private EmployeeType type;\n  private String name;\n\n} \n</code></pre>\n"},{"tags":["java","swing","user-interface","netbeans"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691831325,"post_id":76888079,"comment_id":135546894,"body_markdown":"Slightly strange location, package `com.mycompany.coachingintelligencepro4` for your image. Does it exist and is the image in it?","body":"Slightly strange location, package <code>com.mycompany.coachingintelligencepro4</code> for your image. Does it exist and is the image in it?"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1691835753,"post_id":76888079,"comment_id":135547343,"body_markdown":"Try placing your **resources** directory (folder) directly within the root of the `src` directory of your *Project*. Perhaps even have an path scheme like: **MyProjectName/src/resources/images**. When Importing Images from the Netbeans *Image Chooser* dialog, have them imported into the **MyProjectName/src/resources/images** directory or, manually copy/paste them there and then you can just select the one you want from the *Image Chooser* dialog.","body":"Try placing your <b>resources</b> directory (folder) directly within the root of the <code>src</code> directory of your <i>Project</i>. Perhaps even have an path scheme like: <b>MyProjectName/src/resources/images</b>. When Importing Images from the Netbeans <i>Image Chooser</i> dialog, have them imported into the <b>MyProjectName/src/resources/images</b> directory or, manually copy/paste them there and then you can just select the one you want from the <i>Image Chooser</i> dialog."}],"owner":{"account_id":29210282,"reputation":1,"user_id":22378412,"display_name":"Ron ELLENBOGEN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691837161,"answer_count":0,"score":0,"last_activity_date":1691837206,"creation_date":1691822384,"question_id":76888079,"body_markdown":"I am trying to make a Java GUI using NetBeans&#39; Swing GUI Builder. I want to import an image into my GUI. From research it seems to do this you must first create a JFrame form, then drag a JPanel onto that, then drag a JLabel on top of that. After putting your image in the project package folder, you then click on the JLabel and go to its properties, click the (...) beside &quot;Icon,&quot; then select the image. For some reason when I try to run my GUI after inserting an image, the Java application icon appears in the taskbar, but no GUI appears on screen. After a few seconds, the Java application icon disappears from the taskbar, and the following error is displayed in the output box:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null\r\n\tat java.desktop/javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:232)\r\n\tat com.mycompany.coachingintelligencepro4.TestFrame.initComponents(TestFrame.java:35)\r\n\tat com.mycompany.coachingintelligencepro4.TestFrame.&lt;init&gt;(TestFrame.java:17)\r\n\tat com.mycompany.coachingintelligencepro4.TestFrame$1.run(TestFrame.java:104)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\n\r\n\r\n\r\nAlthough, when making a GUI that does not involve importing an image, it runs perfectly fine, which leads me to believe there is a problem with the image importing process.\r\n\r\nI am running Apache NetBeans IDE 18, on a MacBook Pro with MacOS Ventura 13.5.\r\n\r\nThis is the source code for my GUI class:\r\n\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\r\n */\r\npackage com.mycompany.coachingintelligencepro4;\r\n\r\n/**\r\n *\r\n * @author ronellenbogen\r\n */\r\npublic class TestFrame extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form TestFrame\r\n     */\r\n    public TestFrame() {\r\n        initComponents();\r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jPanel2 = new javax.swing.JPanel();\r\n        jLabel2 = new javax.swing.JLabel();\r\n        jLabel3 = new javax.swing.JLabel();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        jLabel3.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/com/mycompany/coachingintelligencepro4/download.jpg&quot;))); // NOI18N\r\n\r\n        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);\r\n        jPanel2.setLayout(jPanel2Layout);\r\n        jPanel2Layout.setHorizontalGroup(\r\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel2Layout.createSequentialGroup()\r\n                .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 475, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addComponent(jLabel2)\r\n                .addContainerGap(1037, Short.MAX_VALUE))\r\n        );\r\n        jPanel2Layout.setVerticalGroup(\r\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel2Layout.createSequentialGroup()\r\n                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(jPanel2Layout.createSequentialGroup()\r\n                        .addGap(112, 112, 112)\r\n                        .addComponent(jLabel2))\r\n                    .addGroup(jPanel2Layout.createSequentialGroup()\r\n                        .addContainerGap()\r\n                        .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 242, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                .addContainerGap(856, Short.MAX_VALUE))\r\n        );\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addComponent(jPanel2, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addComponent(jPanel2, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main() {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(TestFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(TestFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(TestFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(TestFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new TestFrame().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JLabel jLabel3;\r\n    private javax.swing.JPanel jPanel2;\r\n    // End of variables declaration                   \r\n}\r\n\r\n```\r\nThis is the source code for the project&#39;s main class:\r\n\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n */\r\n\r\npackage com.mycompany.coachingintelligencepro4;\r\n\r\n/**\r\n *\r\n * @author ronellenbogen\r\n */\r\npublic class CoachingIntelligencePro4 {\r\n\r\n    public static void main(String[] args) {\r\n        TestFrame.main();\r\n    }\r\n}\r\n\r\n```\r\n\r\nThank you\r\n","title":"Importing an image to NetBeans&#39; Java Swing GUI Builder","body":"<p>I am trying to make a Java GUI using NetBeans' Swing GUI Builder. I want to import an image into my GUI. From research it seems to do this you must first create a JFrame form, then drag a JPanel onto that, then drag a JLabel on top of that. After putting your image in the project package folder, you then click on the JLabel and go to its properties, click the (...) beside &quot;Icon,&quot; then select the image. For some reason when I try to run my GUI after inserting an image, the Java application icon appears in the taskbar, but no GUI appears on screen. After a few seconds, the Java application icon disappears from the taskbar, and the following error is displayed in the output box:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null\nat java.desktop/javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:232)\nat com.mycompany.coachingintelligencepro4.TestFrame.initComponents(TestFrame.java:35)\nat com.mycompany.coachingintelligencepro4.TestFrame.&lt;init&gt;(TestFrame.java:17)\nat com.mycompany.coachingintelligencepro4.TestFrame$1.run(TestFrame.java:104)\nat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\nat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\nat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n<p>Although, when making a GUI that does not involve importing an image, it runs perfectly fine, which leads me to believe there is a problem with the image importing process.</p>\n<p>I am running Apache NetBeans IDE 18, on a MacBook Pro with MacOS Ventura 13.5.</p>\n<p>This is the source code for my GUI class:</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\n */\npackage com.mycompany.coachingintelligencepro4;\n\n/**\n *\n * @author ronellenbogen\n */\npublic class TestFrame extends javax.swing.JFrame {\n\n    /**\n     * Creates new form TestFrame\n     */\n    public TestFrame() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jPanel2 = new javax.swing.JPanel();\n        jLabel2 = new javax.swing.JLabel();\n        jLabel3 = new javax.swing.JLabel();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jLabel3.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/com/mycompany/coachingintelligencepro4/download.jpg&quot;))); // NOI18N\n\n        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);\n        jPanel2.setLayout(jPanel2Layout);\n        jPanel2Layout.setHorizontalGroup(\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel2Layout.createSequentialGroup()\n                .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 475, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(jLabel2)\n                .addContainerGap(1037, Short.MAX_VALUE))\n        );\n        jPanel2Layout.setVerticalGroup(\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel2Layout.createSequentialGroup()\n                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(jPanel2Layout.createSequentialGroup()\n                        .addGap(112, 112, 112)\n                        .addComponent(jLabel2))\n                    .addGroup(jPanel2Layout.createSequentialGroup()\n                        .addContainerGap()\n                        .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 242, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                .addContainerGap(856, Short.MAX_VALUE))\n        );\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(jPanel2, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(jPanel2, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main() {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(TestFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(TestFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(TestFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(TestFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new TestFrame().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel3;\n    private javax.swing.JPanel jPanel2;\n    // End of variables declaration                   \n}\n\n</code></pre>\n<p>This is the source code for the project's main class:</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n */\n\npackage com.mycompany.coachingintelligencepro4;\n\n/**\n *\n * @author ronellenbogen\n */\npublic class CoachingIntelligencePro4 {\n\n    public static void main(String[] args) {\n        TestFrame.main();\n    }\n}\n\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","string","unicode","encoding"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1691749967,"post_id":76882703,"comment_id":135537081,"body_markdown":"See if [this](https://stackoverflow.com/questions/57131654/using-utf-8-encoding-chcp-65001-in-command-prompt-windows-powershell-window) helps.","body":"See if <a href=\"https://stackoverflow.com/questions/57131654/using-utf-8-encoding-chcp-65001-in-command-prompt-windows-powershell-window\">this</a> helps."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1691750033,"post_id":76882703,"comment_id":135537092,"body_markdown":"I can&#39;t reproduce it, I tried your code and it can be displayed correctly","body":"I can&#39;t reproduce it, I tried your code and it can be displayed correctly"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1691750322,"post_id":76882703,"comment_id":135537140,"body_markdown":"Why are you taking a string, converting it to its UTF-8 bytes and back into a string (in potentially a different character encoding)? Why not just `System.out.println(str);`?","body":"Why are you taking a string, converting it to its UTF-8 bytes and back into a string (in potentially a different character encoding)? Why not just <code>System.out.println(str);</code>?"},{"owner":{"account_id":15637170,"reputation":53,"user_id":11281686,"display_name":"user987376746090"},"score":0,"creation_date":1691750515,"post_id":76882703,"comment_id":135537171,"body_markdown":"@AndyTurner When I print only `str` then compiles but nothing is displayed","body":"@AndyTurner When I print only <code>str</code> then compiles but nothing is displayed"},{"owner":{"account_id":15637170,"reputation":53,"user_id":11281686,"display_name":"user987376746090"},"score":0,"creation_date":1691750559,"post_id":76882703,"comment_id":135537185,"body_markdown":"@时间只会一直走 Have you please tried in windows command line?","body":"@时间只会一直走 Have you please tried in windows command line?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1691752409,"post_id":76882703,"comment_id":135537558,"body_markdown":"`new String(str.getBytes(&quot;UTF-8&quot;))` will take your string, convert it to bytes using UTF-8, and then convert it back to a string using either UTF-8 (on modern JVMs, I think jdk17+), or using your platform local encoding. __If__ that is UTF-8, this is meaningless and produces the same thing as just `str`. If it&#39;s not UTF-8, you lose the game here, and your string is irrepairably gobbledygook. No matter what is happening, __do not do this part__. Your string is then converted back to byte[] a third time when sent to standard out. Your OS then converts it back to a string and prints it.","body":"<code>new String(str.getBytes(&quot;UTF-8&quot;))</code> will take your string, convert it to bytes using UTF-8, and then convert it back to a string using either UTF-8 (on modern JVMs, I think jdk17+), or using your platform local encoding. <b>If</b> that is UTF-8, this is meaningless and produces the same thing as just <code>str</code>. If it&#39;s not UTF-8, you lose the game here, and your string is irrepairably gobbledygook. No matter what is happening, <b>do not do this part</b>. Your string is then converted back to byte[] a third time when sent to standard out. Your OS then converts it back to a string and prints it."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691752544,"post_id":76882703,"comment_id":135537588,"body_markdown":"Just print `str`. If that prints nothing, go debug it. What does `System.out.println(System.getProperty(&quot;native.encoding&quot;));` print?","body":"Just print <code>str</code>. If that prints nothing, go debug it. What does <code>System.out.println(System.getProperty(&quot;native.encoding&quot;));</code> print?"},{"owner":{"account_id":15637170,"reputation":53,"user_id":11281686,"display_name":"user987376746090"},"score":0,"creation_date":1691753783,"post_id":76882703,"comment_id":135537857,"body_markdown":"@rzwitserloot it prints `null`","body":"@rzwitserloot it prints <code>null</code>"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691769895,"post_id":76882703,"comment_id":135541302,"body_markdown":"@user then you&#39;re on an old JDK. Okay, the old version of that is `System.out.println(Charset.defaultCharset())`.","body":"@user then you&#39;re on an old JDK. Okay, the old version of that is <code>System.out.println(Charset.defaultCharset())</code>."},{"owner":{"account_id":15637170,"reputation":53,"user_id":11281686,"display_name":"user987376746090"},"score":0,"creation_date":1691770436,"post_id":76882703,"comment_id":135541397,"body_markdown":"@rzwitserloot output is: `windows-1256`","body":"@rzwitserloot output is: <code>windows-1256</code>"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1691773040,"post_id":76882703,"comment_id":135541778,"body_markdown":"I don&#39;t think that can handle persian characters at all. No java code could possibly make it work.","body":"I don&#39;t think that can handle persian characters at all. No java code could possibly make it work."},{"owner":{"account_id":15637170,"reputation":53,"user_id":11281686,"display_name":"user987376746090"},"score":0,"creation_date":1691775050,"post_id":76882703,"comment_id":135542113,"body_markdown":"@rzwitserloot then what should I do? May I upgrade my jdk to newer version or else?","body":"@rzwitserloot then what should I do? May I upgrade my jdk to newer version or else?"},{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":0,"creation_date":1691782789,"post_id":76882703,"comment_id":135543411,"body_markdown":"You face a [mojibake](https://en.wikipedia.org/wiki/Mojibake) case (*example in Python for its universal intelligibility*): `&quot;سلام&quot;.encode(&#39;utf-8&#39;).decode(&#39;cp1256&#39;)` returns `&#39;ط&#179;ظ„ط&#167;ظ…&#39;`. I&#39;d guess that `System.out.println(&quot;سلام&quot;);`  or `System.out.println(str);` should work instead of `System.out.println(new String(str.getBytes(&quot;UTF-8&quot;)));`…","body":"You face a <a href=\"https://en.wikipedia.org/wiki/Mojibake\" rel=\"nofollow noreferrer\">mojibake</a> case (<i>example in Python for its universal intelligibility</i>): <code>&quot;سلام&quot;.encode(&#39;utf-8&#39;).decode(&#39;cp1256&#39;)</code> returns <code>&#39;ط&#179;ظ„ط&#167;ظ…&#39;</code>. I&#39;d guess that <code>System.out.println(&quot;سلام&quot;);</code>  or <code>System.out.println(str);</code> should work instead of <code>System.out.println(new String(str.getBytes(&quot;UTF-8&quot;)));</code>…"},{"owner":{"account_id":15637170,"reputation":53,"user_id":11281686,"display_name":"user987376746090"},"score":0,"creation_date":1691820555,"post_id":76882703,"comment_id":135546133,"body_markdown":"@JosefZ I tried `System.out.println(&quot;سلام&quot;);` but strange character is displayed","body":"@JosefZ I tried <code>System.out.println(&quot;سلام&quot;);</code> but strange character is displayed"}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1691837075,"creation_date":1691837075,"answer_id":76888896,"question_id":76882703,"body_markdown":"Your code is fine, but you have two problems:\r\n- You are using a font in the **Command Prompt** window which does not properly support Farsi characters.\r\n- Farsi is written from right to left, but the **Command Prompt** window is rendering text from left to right, so even if you use an appropriate font the Farsi text will be rendered in reverse.\r\n\r\nUsing your sample application, this is how the output was rendered in my **Command Prompt** window using *Courier New* font which supports Farsi characters:\r\n\r\n[![Farsi from cmd window][1]][1]\r\n\r\nNote that the characters were rendered correctly, but in reverse order.\r\n\r\nThere may be an easy workaround to get characters to render right to left text correctly in a **Command Prompt** window, but a better alternative approach in any case is to instead use the **Command Prompt** implementation provided by the [Microsoft&#39;s **Terminal** utility](https://learn.microsoft.com/en-us/windows/terminal/install). \r\n\r\nIf you do that then your application&#39;s output is rendered correctly without needing to make any configuration changes:\r\n\r\n[![Terminal output][2]][2]\r\n\r\nNotes:\r\n- My environment is Windows 10 using *United States* locale with a default code page of 65001. I tested using JDK 20, but any JDK version should be fine.\r\n- Unless you must use the traditional **Command Prompt** window for compatibility reasons, consider using the **Command Prompt** implementation provided by **Terminal** instead. All kinds of text rendering problems just disappear because some longstanding bugs/limitations with the traditional **Command Prompt** window have been resolved.\r\n- If you are not familiar with Terminal, this is [Microsoft&#39;s overview](https://learn.microsoft.com/en-us/windows/terminal/) description:\r\n &gt; *Windows Terminal is a modern host application for the command-line shells you already love, like Command Prompt, PowerShell, and bash\r\n &gt; (via Windows Subsystem for Linux (WSL)). Its main features include\r\n &gt; multiple tabs, panes, Unicode and UTF-8 character support, a GPU\r\n &gt; accelerated text rendering engine, and the ability to create your own\r\n &gt; themes and customize text, colors, backgrounds, and shortcuts.*\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0Rco3.png\r\n  [2]: https://i.stack.imgur.com/ZSK8m.png","title":"Java not printing Persian accurately in Windows command line","body":"<p>Your code is fine, but you have two problems:</p>\n<ul>\n<li>You are using a font in the <strong>Command Prompt</strong> window which does not properly support Farsi characters.</li>\n<li>Farsi is written from right to left, but the <strong>Command Prompt</strong> window is rendering text from left to right, so even if you use an appropriate font the Farsi text will be rendered in reverse.</li>\n</ul>\n<p>Using your sample application, this is how the output was rendered in my <strong>Command Prompt</strong> window using <em>Courier New</em> font which supports Farsi characters:</p>\n<p><a href=\"https://i.stack.imgur.com/0Rco3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Rco3.png\" alt=\"Farsi from cmd window\" /></a></p>\n<p>Note that the characters were rendered correctly, but in reverse order.</p>\n<p>There may be an easy workaround to get characters to render right to left text correctly in a <strong>Command Prompt</strong> window, but a better alternative approach in any case is to instead use the <strong>Command Prompt</strong> implementation provided by the <a href=\"https://learn.microsoft.com/en-us/windows/terminal/install\" rel=\"nofollow noreferrer\">Microsoft's <strong>Terminal</strong> utility</a>.</p>\n<p>If you do that then your application's output is rendered correctly without needing to make any configuration changes:</p>\n<p><a href=\"https://i.stack.imgur.com/ZSK8m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZSK8m.png\" alt=\"Terminal output\" /></a></p>\n<p>Notes:</p>\n<ul>\n<li>My environment is Windows 10 using <em>United States</em> locale with a default code page of 65001. I tested using JDK 20, but any JDK version should be fine.</li>\n<li>Unless you must use the traditional <strong>Command Prompt</strong> window for compatibility reasons, consider using the <strong>Command Prompt</strong> implementation provided by <strong>Terminal</strong> instead. All kinds of text rendering problems just disappear because some longstanding bugs/limitations with the traditional <strong>Command Prompt</strong> window have been resolved.</li>\n<li>If you are not familiar with Terminal, this is <a href=\"https://learn.microsoft.com/en-us/windows/terminal/\" rel=\"nofollow noreferrer\">Microsoft's overview</a> description:</li>\n</ul>\n<blockquote>\n<p><em>Windows Terminal is a modern host application for the command-line shells you already love, like Command Prompt, PowerShell, and bash\n(via Windows Subsystem for Linux (WSL)). Its main features include\nmultiple tabs, panes, Unicode and UTF-8 character support, a GPU\naccelerated text rendering engine, and the ability to create your own\nthemes and customize text, colors, backgrounds, and shortcuts.</em></p>\n</blockquote>\n"}],"owner":{"account_id":15637170,"reputation":53,"user_id":11281686,"display_name":"user987376746090"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76888896,"answer_count":1,"score":2,"last_activity_date":1691837075,"creation_date":1691749577,"question_id":76882703,"body_markdown":"Here is my code:\r\n\r\n    class Hello{\r\n    \tpublic static void main(String[] arg)throws Exception{\r\n    \t\tSystem.out.println(&quot;Hello&quot;);\r\n    \t\tString str = &quot;سلام&quot;;\r\n    \t\t\tSystem.out.println(new String(str.getBytes(&quot;UTF-8&quot;)));\r\n    \t}\r\n    }\r\n\r\nCompiling as: `javac -encoding UTF8 Hello.java` The ouput is:\r\n\r\n    C:\\Users\\Windows\\Desktop&gt;java Hello\r\n    Hello\r\n    ط&#179;ظ„ط&#167;ظ…\r\n\r\n`chcp` shows: `Active code page: 65001`\r\n\r\nHow can I display it accurately?\r\n\r\nBest Regards\r\n\r\n","title":"Java not printing Persian accurately in Windows command line","body":"<p>Here is my code:</p>\n<pre><code>class Hello{\n    public static void main(String[] arg)throws Exception{\n        System.out.println(&quot;Hello&quot;);\n        String str = &quot;سلام&quot;;\n            System.out.println(new String(str.getBytes(&quot;UTF-8&quot;)));\n    }\n}\n</code></pre>\n<p>Compiling as: <code>javac -encoding UTF8 Hello.java</code> The ouput is:</p>\n<pre><code>C:\\Users\\Windows\\Desktop&gt;java Hello\nHello\nط³ظ„ط§ظ…\n</code></pre>\n<p><code>chcp</code> shows: <code>Active code page: 65001</code></p>\n<p>How can I display it accurately?</p>\n<p>Best Regards</p>\n"},{"tags":["java","android","repeat","detection","face-detection"],"comments":[{"owner":{"account_id":13104915,"reputation":677,"user_id":9468070,"display_name":"bijaykumarpun"},"score":0,"creation_date":1557824840,"post_id":56123221,"comment_id":98885114,"body_markdown":"please put the crash report as well","body":"please put the crash report as well"},{"owner":{"account_id":15888164,"reputation":59,"user_id":11464005,"display_name":"Nicolas Borowicz"},"score":0,"creation_date":1557884761,"post_id":56123221,"comment_id":98911802,"body_markdown":"I have edited my post in order to put the crash report","body":"I have edited my post in order to put the crash report"},{"owner":{"account_id":9764543,"reputation":1315,"user_id":7238475,"accept_rate":100,"display_name":"flopshot"},"score":0,"creation_date":1557884903,"post_id":56123221,"comment_id":98911831,"body_markdown":"I’d use the new CameraX apis. Much simpler","body":"I’d use the new CameraX apis. Much simpler"}],"answers":[{"tags":[],"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1557942606,"creation_date":1557942606,"answer_id":56155072,"question_id":56123221,"body_markdown":"You&#39;re resetting mCaptureSession to null somewhere in your code before the handler method can run, or this particular mCaptureSession is never correctly initialized to begin with.\r\n\r\nYou could explicitly use a copy of mCaptureSession to pass into the Handler runnable to avoid the nullness issue if you can&#39;t find what sets the member variable to null, but then you still have to make sure nothing actually closes the session before your handler runs.","title":"How to use Handler with a CaptureSession.stopReapeating()?","body":"<p>You're resetting mCaptureSession to null somewhere in your code before the handler method can run, or this particular mCaptureSession is never correctly initialized to begin with.</p>\n\n<p>You could explicitly use a copy of mCaptureSession to pass into the Handler runnable to avoid the nullness issue if you can't find what sets the member variable to null, but then you still have to make sure nothing actually closes the session before your handler runs.</p>\n"}],"owner":{"account_id":15888164,"reputation":59,"user_id":11464005,"display_name":"Nicolas Borowicz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56155072,"answer_count":1,"score":0,"last_activity_date":1691837061,"creation_date":1557809622,"question_id":56123221,"body_markdown":"I&#39;m working on a face detection app with android studio (Based on Camera2 Api face recon). The problem is the following : the capture session is stopped when some condition are true. Then, the user can take the picture or retry (capture session is started). I would like to give time to user after he used retry button in order to replace his face. \r\n\r\nButtons retry and take picture appear when the face take more than 20% of the screen. During the same time, I use stopRepeating in order to freeze the camera capture session. I tried to put these functions in a handler, but when I put the stopRepeating inside the handler, the app crash.\r\n\r\n\r\n    if(face/sizeEc&gt;0.20 &amp;&amp; face/sizeEc&lt;0.6){\r\n    \r\n      new Handler().postDelayed(new Runnable() {\r\n    \r\n        @Override\r\n        public void run() {\r\n    \r\n          TextView textView = (TextView) getView().findViewById(R.id.picture);\r\n          textView.setVisibility(View.VISIBLE);\r\n          TextView textView2 = (TextView) getView().findViewById(R.id.picture2);\r\n          textView2.setVisibility(View.VISIBLE);\r\n          try {\r\n            mCaptureSession.stopRepeating();\r\n          } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n          }\r\n    \r\n    \r\n        }\r\n      }, 2000);\r\n\r\n      //I tried to use this handler in order to allow user to replace his head\r\n      //But there is a problem when the handler is used with stopRepeating\r\n\r\n    }\r\n\r\n\r\n\r\nand the code for the retry button : \r\n\r\n    textView2.setOnClickListener(new View.OnClickListener() {\r\n    \r\n      @Override\r\n      public void onClick(View view) {\r\n    \r\n    \r\n        try {\r\n          mCaptureSession.setRepeatingRequest(mPreviewRequest,\r\n            mCaptureCallback, mBackgroundHandler);\r\n        } catch (CameraAccessException e) {\r\n          e.printStackTrace();\r\n        }\r\n        textView.setVisibility(View.GONE);\r\n        textView2.setVisibility(View.GONE);\r\n        asDelayed=true;\r\n    \r\n    \r\n      }\r\n    });\r\n\r\nAs I said, when I do this, the app crash when I use take picture after a retry. I would like to give time to user to replace his face after using retry button.\r\n\r\n\r\n[EDIT] Here is the error\r\n\r\n2019-05-15 08:44:12.149 28923-28923/weladee.frontware.com.weladee_android E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: weladee.frontware.com.weladee_android, PID: 28923\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.hardware.camera2.CameraCaptureSession.stopRepeating()&#39; on a null object reference\r\n        at weladee.frontware.com.weladee_android.utils.front_camera.CameraFacingFront$4$1$1.run(CameraFacingFront.java:429)\r\n        at android.os.Handler.handleCallback(Handler.java:761)\r\n        at android.os.Handler.dispatchMessage(Handler.java:98)\r\n        at android.os.Looper.loop(Looper.java:156)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6523)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:942)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)","title":"How to use Handler with a CaptureSession.stopReapeating()?","body":"<p>I'm working on a face detection app with android studio (Based on Camera2 Api face recon). The problem is the following : the capture session is stopped when some condition are true. Then, the user can take the picture or retry (capture session is started). I would like to give time to user after he used retry button in order to replace his face. </p>\n\n<p>Buttons retry and take picture appear when the face take more than 20% of the screen. During the same time, I use stopRepeating in order to freeze the camera capture session. I tried to put these functions in a handler, but when I put the stopRepeating inside the handler, the app crash.</p>\n\n<pre><code>if(face/sizeEc&gt;0.20 &amp;&amp; face/sizeEc&lt;0.6){\n\n  new Handler().postDelayed(new Runnable() {\n\n    @Override\n    public void run() {\n\n      TextView textView = (TextView) getView().findViewById(R.id.picture);\n      textView.setVisibility(View.VISIBLE);\n      TextView textView2 = (TextView) getView().findViewById(R.id.picture2);\n      textView2.setVisibility(View.VISIBLE);\n      try {\n        mCaptureSession.stopRepeating();\n      } catch (CameraAccessException e) {\n        e.printStackTrace();\n      }\n\n\n    }\n  }, 2000);\n\n  //I tried to use this handler in order to allow user to replace his head\n  //But there is a problem when the handler is used with stopRepeating\n\n}\n</code></pre>\n\n<p>and the code for the retry button : </p>\n\n<pre><code>textView2.setOnClickListener(new View.OnClickListener() {\n\n  @Override\n  public void onClick(View view) {\n\n\n    try {\n      mCaptureSession.setRepeatingRequest(mPreviewRequest,\n        mCaptureCallback, mBackgroundHandler);\n    } catch (CameraAccessException e) {\n      e.printStackTrace();\n    }\n    textView.setVisibility(View.GONE);\n    textView2.setVisibility(View.GONE);\n    asDelayed=true;\n\n\n  }\n});\n</code></pre>\n\n<p>As I said, when I do this, the app crash when I use take picture after a retry. I would like to give time to user to replace his face after using retry button.</p>\n\n<p>[EDIT] Here is the error</p>\n\n<p>2019-05-15 08:44:12.149 28923-28923/weladee.frontware.com.weladee_android E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: weladee.frontware.com.weladee_android, PID: 28923\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.hardware.camera2.CameraCaptureSession.stopRepeating()' on a null object reference\n        at weladee.frontware.com.weladee_android.utils.front_camera.CameraFacingFront$4$1$1.run(CameraFacingFront.java:429)\n        at android.os.Handler.handleCallback(Handler.java:761)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:156)\n        at android.app.ActivityThread.main(ActivityThread.java:6523)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:942)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1691759840,"post_id":76883870,"comment_id":135539098,"body_markdown":"Block what? There&#39;s only one thread here, nothing to block.","body":"Block what? There&#39;s only one thread here, nothing to block."},{"owner":{"account_id":17753497,"reputation":71,"user_id":14039564,"display_name":"Squared"},"score":1,"creation_date":1691760406,"post_id":76883870,"comment_id":135539254,"body_markdown":"Why only one? There are main and Thread-0.","body":"Why only one? There are main and Thread-0."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1691760509,"post_id":76883870,"comment_id":135539280,"body_markdown":"Why do you think so?","body":"Why do you think so?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1691760675,"post_id":76883870,"comment_id":135539308,"body_markdown":"Right, one in addition to the main thread. Still there&#39;s nothing to block: Thread-0 is running and the main thread is waiting for it to finish.","body":"Right, one in addition to the main thread. Still there&#39;s nothing to block: Thread-0 is running and the main thread is waiting for it to finish."}],"answers":[{"comments":[{"owner":{"account_id":17753497,"reputation":71,"user_id":14039564,"display_name":"Squared"},"score":0,"creation_date":1691853677,"post_id":76883990,"comment_id":135549134,"body_markdown":"I read your answer without result, then read Java The Complete Reference, and now I understand that your answer is correct. There is no difference between statements object.syncMethod() and synchronized (object) { object.nonSyncMethod() } because they both do the same thing - they just say &quot;thread, try to get access to the monitor of this object&quot;. If thread call nonSyncMethod without sync block - it&#39;s not problem, because this thread doesn&#39;t try to control monitor. Am I correct? If yes - thank you so much.","body":"I read your answer without result, then read Java The Complete Reference, and now I understand that your answer is correct. There is no difference between statements object.syncMethod() and synchronized (object) { object.nonSyncMethod() } because they both do the same thing - they just say &quot;thread, try to get access to the monitor of this object&quot;. If thread call nonSyncMethod without sync block - it&#39;s not problem, because this thread doesn&#39;t try to control monitor. Am I correct? If yes - thank you so much."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1691760611,"creation_date":1691760611,"answer_id":76883990,"question_id":76883870,"body_markdown":"You misunderstood what `synchronized` means. It doesn&#39;t &quot;block&quot; an object in the sense that other methods of that object cannot run. The `run` method can totally in parallel with `method1`.\r\n\r\nWhen `synchronized` methods are called, all that happens is that the monitor of `this` is acquired. After that, if some other thread *also* tries to acquire that same monitor (either by calling a `synchronized` method on the same object, or using a `synchronized` block that synchronises on that object), then that other thread will wait until the monitor is released. The monitor is released when the `synchronized` method returns or throws an exception.\r\n\r\nIn other words, if there is only ever one thread that acquires a monitor, it will not be very different from not using `synchronized` at all. This is what happens in your code - only the main thread acquires the monitor of `mt1` by calling `method1`. The `run` method doesn&#39;t acquire any monitors.\r\n\r\nIf you also call `method1` in `run`, then both the main thread and `mt1` will try to acquire the monitor. One of them will get it, and the other will have to wait until the monitor is released.","title":"Why doesn&#39;t the call to the synchronized method block the object?","body":"<p>You misunderstood what <code>synchronized</code> means. It doesn't &quot;block&quot; an object in the sense that other methods of that object cannot run. The <code>run</code> method can totally in parallel with <code>method1</code>.</p>\n<p>When <code>synchronized</code> methods are called, all that happens is that the monitor of <code>this</code> is acquired. After that, if some other thread <em>also</em> tries to acquire that same monitor (either by calling a <code>synchronized</code> method on the same object, or using a <code>synchronized</code> block that synchronises on that object), then that other thread will wait until the monitor is released. The monitor is released when the <code>synchronized</code> method returns or throws an exception.</p>\n<p>In other words, if there is only ever one thread that acquires a monitor, it will not be very different from not using <code>synchronized</code> at all. This is what happens in your code - only the main thread acquires the monitor of <code>mt1</code> by calling <code>method1</code>. The <code>run</code> method doesn't acquire any monitors.</p>\n<p>If you also call <code>method1</code> in <code>run</code>, then both the main thread and <code>mt1</code> will try to acquire the monitor. One of them will get it, and the other will have to wait until the monitor is released.</p>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1691760980,"post_id":76884030,"comment_id":135539384,"body_markdown":"&quot;only allow a singular execution of that method on one thread at a time&quot; - that&#39;s not correct. It only allows execution of *any* synchronized method on that object on one thread at a time. If there are multiple synchronized methods, they&#39;re all synchronized against the same object.","body":"&quot;only allow a singular execution of that method on one thread at a time&quot; - that&#39;s not correct. It only allows execution of <i>any</i> synchronized method on that object on one thread at a time. If there are multiple synchronized methods, they&#39;re all synchronized against the same object."},{"owner":{"account_id":14698033,"reputation":11,"user_id":17636972,"display_name":"funkemunky"},"score":0,"creation_date":1691761151,"post_id":76884030,"comment_id":135539427,"body_markdown":"Wow I didn&#39;t know that. Learn something new every day.","body":"Wow I didn&#39;t know that. Learn something new every day."}],"tags":[],"owner":{"account_id":14698033,"reputation":11,"user_id":17636972,"display_name":"funkemunky"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691761263,"creation_date":1691760910,"answer_id":76884030,"question_id":76883870,"body_markdown":"When you synchronize methods in an object, you are telling the JVM to only allow one execution of all `synchronized` methods at a time. In your code, you are running MyThread#method() on the primary thread. While the method is executing, all other accesses to that singular method are blocked.\r\n\r\nHowever, the synchronization of a method will only block *synchronized methods* in the object, not the object itself. If you want to block an entire object, you will have to use a synchronized block on that object.\r\n\r\nIf you prefer to block the entire object of MyThread, here is how you would do that:\r\n``` lang-java\r\nclass MyThread implements Runnable {\r\n    public Thread thrd;\r\n\r\n    public MyThread() {\r\n        thrd = new Thread(this);\r\n    }\r\n\r\n    public static MyThread createAndRun() {\r\n        MyThread mt = new MyThread();\r\n        mt.thrd.start();\r\n        return mt;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        synchronized (this) {\r\n            for (int i = 0; i &lt; 10; ++i) {\r\n                System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\r\n\r\n                try {\r\n                    Thread.sleep(250);\r\n                } catch (InterruptedException exception) {\r\n                    exception.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void method() {\r\n        for (int i = 0; i &lt; 10; ++i) {\r\n            System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\r\n            try {\r\n                Thread.sleep(250);\r\n            } catch (InterruptedException exception) {\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass App {\r\n    public static void main(String[] args) {\r\n        MyThread mt1 = MyThread.createAndRun();\r\n        synchronized (mt1) {\r\n            mt1.method();\r\n        }\r\n        try {\r\n            mt1.thrd.join();\r\n        } catch (InterruptedException exc) {\r\n            System.out.println(exc);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the following output:\r\n```\r\nmain:0 main:1 main:2 main:3 main:4 main:5 main:6 main:7 main:8 main:9 Thread-0:0 Thread-0:1 Thread-0:2 Thread-0:3 Thread-0:4 Thread-0:5 Thread-0:6 Thread-0:7 Thread-0:8 Thread-0:9 \r\n```\r\n\r\n","title":"Why doesn&#39;t the call to the synchronized method block the object?","body":"<p>When you synchronize methods in an object, you are telling the JVM to only allow one execution of all <code>synchronized</code> methods at a time. In your code, you are running MyThread#method() on the primary thread. While the method is executing, all other accesses to that singular method are blocked.</p>\n<p>However, the synchronization of a method will only block <em>synchronized methods</em> in the object, not the object itself. If you want to block an entire object, you will have to use a synchronized block on that object.</p>\n<p>If you prefer to block the entire object of MyThread, here is how you would do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyThread implements Runnable {\n    public Thread thrd;\n\n    public MyThread() {\n        thrd = new Thread(this);\n    }\n\n    public static MyThread createAndRun() {\n        MyThread mt = new MyThread();\n        mt.thrd.start();\n        return mt;\n    }\n\n    @Override\n    public void run() {\n        synchronized (this) {\n            for (int i = 0; i &lt; 10; ++i) {\n                System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\n\n                try {\n                    Thread.sleep(250);\n                } catch (InterruptedException exception) {\n                    exception.printStackTrace();\n                }\n            }\n        }\n    }\n\n    public void method() {\n        for (int i = 0; i &lt; 10; ++i) {\n            System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\n            try {\n                Thread.sleep(250);\n            } catch (InterruptedException exception) {\n                exception.printStackTrace();\n            }\n        }\n    }\n}\n\nclass App {\n    public static void main(String[] args) {\n        MyThread mt1 = MyThread.createAndRun();\n        synchronized (mt1) {\n            mt1.method();\n        }\n        try {\n            mt1.thrd.join();\n        } catch (InterruptedException exc) {\n            System.out.println(exc);\n        }\n    }\n}\n</code></pre>\n<p>Here is the following output:</p>\n<pre><code>main:0 main:1 main:2 main:3 main:4 main:5 main:6 main:7 main:8 main:9 Thread-0:0 Thread-0:1 Thread-0:2 Thread-0:3 Thread-0:4 Thread-0:5 Thread-0:6 Thread-0:7 Thread-0:8 Thread-0:9 \n</code></pre>\n"}],"owner":{"account_id":17753497,"reputation":71,"user_id":14039564,"display_name":"Squared"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76883990,"answer_count":2,"score":0,"last_activity_date":1691836283,"creation_date":1691759558,"question_id":76883870,"body_markdown":"Why doesn&#39;t the call to the synchronized method block the object?\r\nI assume that mt1.method(); should block object MyThread. But it doesn&#39;t happen.\r\n```\r\nclass MyThread implements Runnable {\r\n    public Thread thrd;\r\n\r\n    public MyThread() {\r\n        thrd = new Thread(this);\r\n    }\r\n\r\n    public static MyThread createAndRun() {//Test t\r\n        MyThread mt = new MyThread();\r\n        mt.thrd.start();\r\n        return mt;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n// This way main thread doesn&#39;t block MyThread.\r\n        for (int i = 0; i &lt; 10; ++i) {\r\n            System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\r\n\r\n            try {\r\n                Thread.sleep(250);\r\n            } catch (InterruptedException exception) {\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n//main:0 Thread-0:0 main:1 Thread-0:1 main:2 Thread-0:2 main:3 Thread-0:3 main:4 Thread-0:4 main:5 Thread-0:5 Thread-0:6 main:6 Thread-0:7 main:7 Thread-0:8 main:8 Thread-0:9 main:9 \r\n\r\n\r\n\r\n\r\n\r\n//        method();// if use it instead for-lopp - all works as expected. \r\n//main:0 main:1 main:2 main:3 main:4 main:5 main:6 main:7 main:8 main:9 Thread-0:0 Thread-0:1 Thread-0:2 Thread-0:3 Thread-0:4 Thread-0:5 Thread-0:6 Thread-0:7 Thread-0:8 Thread-0:9 \r\n    }\r\n\r\n    synchronized public void method() {\r\n        for (int i = 0; i &lt; 10; ++i) {\r\n            System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\r\n            try {\r\n                Thread.sleep(250);\r\n            } catch (InterruptedException exception) {\r\n                exception.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nclass App {\r\n    public static void main(String[] args) {\r\n        MyThread mt1 = MyThread.createAndRun();\r\n        mt1.method();\r\n        try {\r\n            mt1.thrd.join();\r\n        } catch (InterruptedException exc) {\r\n            System.out.println(exc);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI assume that mt1.method(); should block object MyThread. But it doesn&#39;t happen. What don&#39;t I understand correctly?","title":"Why doesn&#39;t the call to the synchronized method block the object?","body":"<p>Why doesn't the call to the synchronized method block the object?\nI assume that mt1.method(); should block object MyThread. But it doesn't happen.</p>\n<pre><code>class MyThread implements Runnable {\n    public Thread thrd;\n\n    public MyThread() {\n        thrd = new Thread(this);\n    }\n\n    public static MyThread createAndRun() {//Test t\n        MyThread mt = new MyThread();\n        mt.thrd.start();\n        return mt;\n    }\n\n    @Override\n    public void run() {\n// This way main thread doesn't block MyThread.\n        for (int i = 0; i &lt; 10; ++i) {\n            System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\n\n            try {\n                Thread.sleep(250);\n            } catch (InterruptedException exception) {\n                exception.printStackTrace();\n            }\n        }\n//main:0 Thread-0:0 main:1 Thread-0:1 main:2 Thread-0:2 main:3 Thread-0:3 main:4 Thread-0:4 main:5 Thread-0:5 Thread-0:6 main:6 Thread-0:7 main:7 Thread-0:8 main:8 Thread-0:9 main:9 \n\n\n\n\n\n//        method();// if use it instead for-lopp - all works as expected. \n//main:0 main:1 main:2 main:3 main:4 main:5 main:6 main:7 main:8 main:9 Thread-0:0 Thread-0:1 Thread-0:2 Thread-0:3 Thread-0:4 Thread-0:5 Thread-0:6 Thread-0:7 Thread-0:8 Thread-0:9 \n    }\n\n    synchronized public void method() {\n        for (int i = 0; i &lt; 10; ++i) {\n            System.out.print(Thread.currentThread().getName() + &quot;:&quot; + i + &quot; &quot;);\n            try {\n                Thread.sleep(250);\n            } catch (InterruptedException exception) {\n                exception.printStackTrace();\n            }\n        }\n    }\n}\n\nclass App {\n    public static void main(String[] args) {\n        MyThread mt1 = MyThread.createAndRun();\n        mt1.method();\n        try {\n            mt1.thrd.join();\n        } catch (InterruptedException exc) {\n            System.out.println(exc);\n        }\n    }\n}\n</code></pre>\n<p>I assume that mt1.method(); should block object MyThread. But it doesn't happen. What don't I understand correctly?</p>\n"},{"tags":["java","spring-boot","oop","design-patterns","dto"],"comments":[{"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"score":0,"creation_date":1691854005,"post_id":76888527,"comment_id":135549157,"body_markdown":"I answered a very similar question last week, so here are my 5 cents of you want to see different views: https://stackoverflow.com/questions/76809263/relation-between-services-when-using-dtos-in-spring","body":"I answered a very similar question last week, so here are my 5 cents of you want to see different views: <a href=\"https://stackoverflow.com/questions/76809263/relation-between-services-when-using-dtos-in-spring\" title=\"relation between services when using dtos in spring\">stackoverflow.com/questions/76809263/&hellip;</a>"},{"owner":{"account_id":25654570,"reputation":111,"user_id":19421233,"display_name":"Vidz Here"},"score":0,"creation_date":1691869154,"post_id":76888527,"comment_id":135550590,"body_markdown":"One of the common pattern is to implement ModelMapperUtil class with generics methods &amp; calling those methods in serviceImpl class .","body":"One of the common pattern is to implement ModelMapperUtil class with generics methods &amp; calling those methods in serviceImpl class ."}],"answers":[{"tags":[],"owner":{"account_id":43160,"reputation":227400,"user_id":126014,"accept_rate":86,"display_name":"Mark Seemann"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1691834529,"creation_date":1691834529,"answer_id":76888755,"question_id":76888527,"body_markdown":"There&#39;s hardly any unqualified universal answer to a design problem like this one, but in general, Data Transfer Objects exist in order to model how an application interfaces with the rest of the world: JSON, XML, database rows, etc.\r\n\r\n[At the boundaries, applications aren&#39;t object-oriented][1], and DTOs aren&#39;t really proper objects, in any sense of object-orientation. As Martin Fowler wrote in [PEAA][2]:\r\n\r\n&gt; &quot;A *Data Transfer Object* is one of those objects our mothers told us never to write.&quot;\r\n\r\nDTOs should be specific to an external API, so for the same Domain Model, you may even have one DTO for representing an Entity as JSON, and another DTO for representing it as a database row.\r\n\r\nIn a typical [ports-and-adapters][3] architecture, the DTOs and Adapters are defined at the boundary of the application.\r\n\r\nIf you follow the [Dependency Inversion Principle][4] you want to keep the core Domain Model free of &#39;edge&#39; concerns, whereas the &#39;edge&#39; (or boundary) may depend on, and know of, the core Domain Model.\r\n\r\nFrom this principle it then follows that all mapping that involves DTOs must exist at the same &#39;layer&#39; as the DTOs themselves.\r\n\r\nPeople often find that [Clean Architecture][5] explains this in a way that makes sense. Dependencies may only point inwards.\r\n\r\nIf I understand the terminology of the OP correctly, put mappers in the &#39;Controller layer&#39;, since this is also where the DTOs should be, and DTOs are exclusively a &#39;Controller-layer&#39; concern.\r\n\r\nYou don&#39;t necessarily have to put the conversion logic into actual Controller classes, but the conversions belong in that layer (e.g. library or module).\r\n\r\nAs to the more specific question about services *A* and *B*, I would consider writing the APIs in terms of the Domain Model (Entities) instead of DTOs.\r\n\r\n\r\n  [1]: https://blog.ploeh.dk/2011/05/31/AttheBoundaries,ApplicationsareNotObject-Oriented\r\n  [2]: https://blog.ploeh.dk/ref/peaa\r\n  [3]: https://alistair.cockburn.us/hexagonal-architecture/\r\n  [4]: https://en.wikipedia.org/wiki/Dependency_inversion_principle\r\n  [5]: https://blog.ploeh.dk/ref/clean-architecture","title":"Where is the best place to convert Entity to DTO?","body":"<p>There's hardly any unqualified universal answer to a design problem like this one, but in general, Data Transfer Objects exist in order to model how an application interfaces with the rest of the world: JSON, XML, database rows, etc.</p>\n<p><a href=\"https://blog.ploeh.dk/2011/05/31/AttheBoundaries,ApplicationsareNotObject-Oriented\" rel=\"nofollow noreferrer\">At the boundaries, applications aren't object-oriented</a>, and DTOs aren't really proper objects, in any sense of object-orientation. As Martin Fowler wrote in <a href=\"https://blog.ploeh.dk/ref/peaa\" rel=\"nofollow noreferrer\">PEAA</a>:</p>\n<blockquote>\n<p>&quot;A <em>Data Transfer Object</em> is one of those objects our mothers told us never to write.&quot;</p>\n</blockquote>\n<p>DTOs should be specific to an external API, so for the same Domain Model, you may even have one DTO for representing an Entity as JSON, and another DTO for representing it as a database row.</p>\n<p>In a typical <a href=\"https://alistair.cockburn.us/hexagonal-architecture/\" rel=\"nofollow noreferrer\">ports-and-adapters</a> architecture, the DTOs and Adapters are defined at the boundary of the application.</p>\n<p>If you follow the <a href=\"https://en.wikipedia.org/wiki/Dependency_inversion_principle\" rel=\"nofollow noreferrer\">Dependency Inversion Principle</a> you want to keep the core Domain Model free of 'edge' concerns, whereas the 'edge' (or boundary) may depend on, and know of, the core Domain Model.</p>\n<p>From this principle it then follows that all mapping that involves DTOs must exist at the same 'layer' as the DTOs themselves.</p>\n<p>People often find that <a href=\"https://blog.ploeh.dk/ref/clean-architecture\" rel=\"nofollow noreferrer\">Clean Architecture</a> explains this in a way that makes sense. Dependencies may only point inwards.</p>\n<p>If I understand the terminology of the OP correctly, put mappers in the 'Controller layer', since this is also where the DTOs should be, and DTOs are exclusively a 'Controller-layer' concern.</p>\n<p>You don't necessarily have to put the conversion logic into actual Controller classes, but the conversions belong in that layer (e.g. library or module).</p>\n<p>As to the more specific question about services <em>A</em> and <em>B</em>, I would consider writing the APIs in terms of the Domain Model (Entities) instead of DTOs.</p>\n"},{"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1691942584,"post_id":76888828,"comment_id":135555991,"body_markdown":"So you don&#39;t use something like MapStruct to generate the conversion mappings?","body":"So you don&#39;t use something like MapStruct to generate the conversion mappings?"},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1691943603,"post_id":76888828,"comment_id":135556097,"body_markdown":"@jaco0646 When I wrote my answer I remembered this library that I used a long time ago. Maybe it&#39;s worth another try now.","body":"@jaco0646 When I wrote my answer I remembered this library that I used a long time ago. Maybe it&#39;s worth another try now."},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1691949941,"post_id":76888828,"comment_id":135556830,"body_markdown":"It wasn&#39;t my intention to promote a library. I was more curious to hear why you prefer hand rolling the mappings.","body":"It wasn&#39;t my intention to promote a library. I was more curious to hear why you prefer hand rolling the mappings."}],"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691835786,"creation_date":1691835786,"answer_id":76888828,"question_id":76888527,"body_markdown":"For the purpose of interfacing with web applications I frequently use records (&gt; Java 14), since they make class creation very easy:\r\n\r\n* I define them directly in the controllers as inner classes since they don&#39;t have any usage outside of them.\r\n* To prevent naming conflicts with entities I prepend them with an underscore.\r\n\r\nThe conversion logic isn&#39;t really logic. It&#39;s just forwarding the entities&#39; properties to the record or vice versa. Mapping lists of objects is also clear and easy using streams.","title":"Where is the best place to convert Entity to DTO?","body":"<p>For the purpose of interfacing with web applications I frequently use records (&gt; Java 14), since they make class creation very easy:</p>\n<ul>\n<li>I define them directly in the controllers as inner classes since they don't have any usage outside of them.</li>\n<li>To prevent naming conflicts with entities I prepend them with an underscore.</li>\n</ul>\n<p>The conversion logic isn't really logic. It's just forwarding the entities' properties to the record or vice versa. Mapping lists of objects is also clear and easy using streams.</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76888755,"answer_count":2,"score":0,"last_activity_date":1691835786,"creation_date":1691831077,"question_id":76888527,"body_markdown":"Other than Service, is there any better place to put the mapper for converting Entity to DTO and vice-versa?\r\n\r\nAt work, we always put Mapper into the Service layer, but I&#39;m not sure this is the best place...\r\n\r\nThe service contains a bunch of methods that take as parameter DTO objects, or return DTO objects.\r\nAnd this is smooth when those methods are invoked on the controller side.\r\nBut sometimes we have methods in ServiceA that invoke a method of ServiceB, and I would like to avoid to convert object where is not needed:\r\n\r\nExample:\r\n\r\n    // A SERVICE IMPL\r\n    public Integer save(ADto aDto) {\r\n       AEntity aEntity = aMapper.toEntity(aDto);\r\n  \r\n       BEntity bEntity = aEntity.getBEntity();\r\n       BDto bDto = bMapper.toDto(bEntity);\r\n       bService.save(bDto);\r\n       \r\n       aEntity = aRepository.save(aEntity);\r\n       return aEntity.getId();\r\n    }\r\n\r\n    // B SERVICE IMPL\r\n    public Integer save(BDto bDto) {\r\n       BEntity bEntity = bMapper.toEntity(bDto);\r\n       bEntity = bRepository.save(bEntity);\r\n       return bEntity.getId();\r\n    }\r\n\r\nIn this case, there are 2 conversions that can be avoided:\r\n- `bMapper.toDto(bEntity);` \r\n- `bMapper.toEntity(bDto);`\r\n\r\nso we ended up having &quot;duplicate&quot; methods:\r\n\r\n    Integer save(Entity entity)\r\n    Integer saveFromDto(Dto dto)\r\n    Integer save(List&lt;Entity&gt; entities)\r\n    Integer saveFromDtos(List&lt;Dto&gt; dtos)\r\n    \r\n    Entity findById(Integer id)\r\n    Dto findByIdToDto(Integer id)\r\n    List&lt;Entity&gt; findAll()\r\n    List&lt;Dto&gt; findAllToDto()\r\n\r\nI started thinking about how to refactor it, and the following possibilities came to my mind:\r\n\r\n- **Move Mapper into Controller layer**\r\n  The controller is the layer that is responsible to send data as a response, so this layer must know what has to be sent, in my opinion, it is not the responsibility of the service to know what to send. \r\n  &lt;br&gt; PRO: doesn&#39;t need a new adapter class for each service\r\n  &lt;br&gt; CONS: add conversion logic into controller\r\n\r\n- **Create an Adapter of Service and use this one into Controller layer.** &lt;br&gt;\r\nBasically, the adapter will be responsible of:\r\n&lt;br&gt;1 - invoke the mapper method to convert Dto to Entity before invoking the service method that requires entity as parameter.\r\n&lt;br&gt;2 - invoke the mapper method to convert entity to dto before returning the result to the Controller layer.\r\n  &lt;br&gt; PRO: doesn&#39;t add conversion logic into controller.\r\n  &lt;br&gt; CONS: a new Adapter class for each service.\r\n\r\nThis refactor will free the Service layer from extra work, since it will be only aware of Entity classes and not also about DTOs.\r\n\r\n","title":"Where is the best place to convert Entity to DTO?","body":"<p>Other than Service, is there any better place to put the mapper for converting Entity to DTO and vice-versa?</p>\n<p>At work, we always put Mapper into the Service layer, but I'm not sure this is the best place...</p>\n<p>The service contains a bunch of methods that take as parameter DTO objects, or return DTO objects.\nAnd this is smooth when those methods are invoked on the controller side.\nBut sometimes we have methods in ServiceA that invoke a method of ServiceB, and I would like to avoid to convert object where is not needed:</p>\n<p>Example:</p>\n<pre><code>// A SERVICE IMPL\npublic Integer save(ADto aDto) {\n   AEntity aEntity = aMapper.toEntity(aDto);\n\n   BEntity bEntity = aEntity.getBEntity();\n   BDto bDto = bMapper.toDto(bEntity);\n   bService.save(bDto);\n   \n   aEntity = aRepository.save(aEntity);\n   return aEntity.getId();\n}\n\n// B SERVICE IMPL\npublic Integer save(BDto bDto) {\n   BEntity bEntity = bMapper.toEntity(bDto);\n   bEntity = bRepository.save(bEntity);\n   return bEntity.getId();\n}\n</code></pre>\n<p>In this case, there are 2 conversions that can be avoided:</p>\n<ul>\n<li><code>bMapper.toDto(bEntity);</code></li>\n<li><code>bMapper.toEntity(bDto);</code></li>\n</ul>\n<p>so we ended up having &quot;duplicate&quot; methods:</p>\n<pre><code>Integer save(Entity entity)\nInteger saveFromDto(Dto dto)\nInteger save(List&lt;Entity&gt; entities)\nInteger saveFromDtos(List&lt;Dto&gt; dtos)\n\nEntity findById(Integer id)\nDto findByIdToDto(Integer id)\nList&lt;Entity&gt; findAll()\nList&lt;Dto&gt; findAllToDto()\n</code></pre>\n<p>I started thinking about how to refactor it, and the following possibilities came to my mind:</p>\n<ul>\n<li><p><strong>Move Mapper into Controller layer</strong>\nThe controller is the layer that is responsible to send data as a response, so this layer must know what has to be sent, in my opinion, it is not the responsibility of the service to know what to send.\n<br> PRO: doesn't need a new adapter class for each service\n<br> CONS: add conversion logic into controller</p>\n</li>\n<li><p><strong>Create an Adapter of Service and use this one into Controller layer.</strong> <br>\nBasically, the adapter will be responsible of:\n<br>1 - invoke the mapper method to convert Dto to Entity before invoking the service method that requires entity as parameter.\n<br>2 - invoke the mapper method to convert entity to dto before returning the result to the Controller layer.\n<br> PRO: doesn't add conversion logic into controller.\n<br> CONS: a new Adapter class for each service.</p>\n</li>\n</ul>\n<p>This refactor will free the Service layer from extra work, since it will be only aware of Entity classes and not also about DTOs.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1690354725,"post_id":76768617,"comment_id":135339947,"body_markdown":"You need to set it your self via: public void setItemReader(ItemReader&lt;AggregateItem&lt;T&gt;&gt; itemReader)","body":"You need to set it your self via: public void setItemReader(ItemReader&lt;AggregateItem&lt;T&gt;&gt; itemReader)"},{"owner":{"account_id":11405681,"reputation":76,"user_id":8361202,"display_name":"Vinod"},"score":0,"creation_date":1690355704,"post_id":76768617,"comment_id":135340145,"body_markdown":"@fascynacja Initialized using the setter but i am getting this error now, updated the post.","body":"@fascynacja Initialized using the setter but i am getting this error now, updated the post."},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":3,"creation_date":1690435475,"post_id":76768617,"comment_id":135354020,"body_markdown":"Please put the whole stack trace","body":"Please put the whole stack trace"},{"owner":{"account_id":21356,"reputation":47248,"user_id":51831,"accept_rate":56,"display_name":"jpalecek"},"score":0,"creation_date":1691019624,"post_id":76768617,"comment_id":135435658,"body_markdown":"But how do you pass a `FlatFileItemReader&lt;String&gt;` to something which needs `ItemStreamReader&lt;AggregateItem&lt;T&gt;&gt;`? There is your problem.","body":"But how do you pass a <code>FlatFileItemReader&lt;String&gt;</code> to something which needs <code>ItemStreamReader&lt;AggregateItem&lt;T&gt;&gt;</code>? There is your problem."}],"owner":{"account_id":11405681,"reputation":76,"user_id":8361202,"display_name":"Vinod"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691835593,"creation_date":1690353667,"question_id":76768617,"body_markdown":"Using Spring Batch, I need to read multiple lines from a text file and pass it to the processor as `List&lt;String&gt;`,  I am trying to implement AggregateItemReader, I followed the below link, but I am not able to understand how this is initialized:\r\n\r\n    \tprivate ItemStreamReader&lt;AggregateItem&lt;T&gt;&gt; itemReader;\r\n\r\nInitialized using the setter but I am getting this error now:\r\n\r\n    java.lang.ClassCastException: class java.lang.String cannot be cast to class .AggregateItem\r\n\r\nThis is my reader:\r\n\r\n     public FlatFileItemReader&lt;String&gt; gsmfFlatReader() {\r\n        return new FlatFileItemReaderBuilder&lt;String&gt;()\r\n                     .name(GSMF_READER)\r\n                     .lineMapper((line, index) -&gt; line)\r\n                     .build();\r\n         }\r\n\r\nhttps://github.com/christian-posta/batch-systems-examples/blob/master/spring-batch-example/src/main/java/org/jboss/examples/spring/batch/multiline/AggregateItemReader.java","title":"How is AggregateItemReader&#39;s itemReader is initialized","body":"<p>Using Spring Batch, I need to read multiple lines from a text file and pass it to the processor as <code>List&lt;String&gt;</code>,  I am trying to implement AggregateItemReader, I followed the below link, but I am not able to understand how this is initialized:</p>\n<pre><code>    private ItemStreamReader&lt;AggregateItem&lt;T&gt;&gt; itemReader;\n</code></pre>\n<p>Initialized using the setter but I am getting this error now:</p>\n<pre><code>java.lang.ClassCastException: class java.lang.String cannot be cast to class .AggregateItem\n</code></pre>\n<p>This is my reader:</p>\n<pre><code> public FlatFileItemReader&lt;String&gt; gsmfFlatReader() {\n    return new FlatFileItemReaderBuilder&lt;String&gt;()\n                 .name(GSMF_READER)\n                 .lineMapper((line, index) -&gt; line)\n                 .build();\n     }\n</code></pre>\n<p><a href=\"https://github.com/christian-posta/batch-systems-examples/blob/master/spring-batch-example/src/main/java/org/jboss/examples/spring/batch/multiline/AggregateItemReader.java\" rel=\"nofollow noreferrer\">https://github.com/christian-posta/batch-systems-examples/blob/master/spring-batch-example/src/main/java/org/jboss/examples/spring/batch/multiline/AggregateItemReader.java</a></p>\n"},{"tags":["java","hibernate","java-14","jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1635618987,"post_id":69781049,"comment_id":123346355,"body_markdown":"As far as I know, JPA does not support records (for details why, please see [this article](https://vladmihalcea.com/java-records-jpa-hibernate/)).","body":"As far as I know, JPA does not support records (for details why, please see <a href=\"https://vladmihalcea.com/java-records-jpa-hibernate/\" rel=\"nofollow noreferrer\">this article</a>)."}],"answers":[{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635620694,"creation_date":1635620694,"answer_id":69781312,"question_id":69781049,"body_markdown":"A `record` cannot be used as Hibernate entity because it breaks the requirements of an entity according to JPA specification. Make it `class` and use `@Immutable` annotation instead:\r\n\r\n    @Entity\r\n    @Immutable\r\n    public class Agent\r\n\r\n","title":"Javax-Persistance : Entity does not have a primary key using Java records","body":"<p>A <code>record</code> cannot be used as Hibernate entity because it breaks the requirements of an entity according to JPA specification. Make it <code>class</code> and use <code>@Immutable</code> annotation instead:</p>\n<pre><code>@Entity\n@Immutable\npublic class Agent\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1635755589,"post_id":69788032,"comment_id":123369588,"body_markdown":"A record can have more than one constructor.","body":"A record can have more than one constructor."}],"tags":[],"owner":{"account_id":265347,"reputation":1035,"user_id":2322270,"display_name":"Vaibhav Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635694354,"creation_date":1635694354,"answer_id":69788032,"question_id":69781049,"body_markdown":"Just clearing the answer for completeness (although @Turning85 and @gkatiforis have already provided correct explanation):\r\n \r\nAccording to the JPA specification, an entity must follow these requirements:\r\n\r\n - the entity class needs to be non-final,\r\n - the entity class needs to have a no-arg constructor that is either\r\n   public or protected,\r\n - the entity attributes must be non-final.\r\n\r\nHowever, as explained by this [article][1], the Java Record type is defined like this:\r\n\r\n - the associated Java class is final,\r\n - there is only one constructor that takes all attributes,\r\n - the Java record attributes are final.\r\n\r\nBut records are a good fit for a DTO projection, which is often used as a read-only representation of the data stored in your database.\r\nmore info - https://thorben-janssen.com/java-records-hibernate-jpa/\r\n\r\n\r\n  [1]: https://vladmihalcea.com/java-records-jpa-hibernate/","title":"Javax-Persistance : Entity does not have a primary key using Java records","body":"<p>Just clearing the answer for completeness (although @Turning85 and @gkatiforis have already provided correct explanation):</p>\n<p>According to the JPA specification, an entity must follow these requirements:</p>\n<ul>\n<li>the entity class needs to be non-final,</li>\n<li>the entity class needs to have a no-arg constructor that is either\npublic or protected,</li>\n<li>the entity attributes must be non-final.</li>\n</ul>\n<p>However, as explained by this <a href=\"https://vladmihalcea.com/java-records-jpa-hibernate/\" rel=\"nofollow noreferrer\">article</a>, the Java Record type is defined like this:</p>\n<ul>\n<li>the associated Java class is final,</li>\n<li>there is only one constructor that takes all attributes,</li>\n<li>the Java record attributes are final.</li>\n</ul>\n<p>But records are a good fit for a DTO projection, which is often used as a read-only representation of the data stored in your database.\nmore info - <a href=\"https://thorben-janssen.com/java-records-hibernate-jpa/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/java-records-hibernate-jpa/</a></p>\n"},{"tags":[],"owner":{"account_id":17722198,"reputation":63,"user_id":12866947,"display_name":"Pushpendra Kushvaha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691835353,"creation_date":1691835353,"answer_id":76888805,"question_id":69781049,"body_markdown":"`Entity` class internally use setter methods to set the data. As record are immutable. It only contain \r\n- fields\r\n- all-args constructor\r\n- getters\r\n- toString\r\n- equals/hashCode methods\r\n\r\nand not `setter` methods. So we can&#39;t use `record` as entities.","title":"Javax-Persistance : Entity does not have a primary key using Java records","body":"<p><code>Entity</code> class internally use setter methods to set the data. As record are immutable. It only contain</p>\n<ul>\n<li>fields</li>\n<li>all-args constructor</li>\n<li>getters</li>\n<li>toString</li>\n<li>equals/hashCode methods</li>\n</ul>\n<p>and not <code>setter</code> methods. So we can't use <code>record</code> as entities.</p>\n"}],"owner":{"account_id":23192137,"reputation":13,"user_id":17288349,"display_name":"MFT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69781312,"answer_count":3,"score":1,"last_activity_date":1691835353,"creation_date":1635618708,"question_id":69781049,"body_markdown":"\r\nI am trying to create a entity class using Java record, but I get the error message \r\n&quot;Entity does not have primary key&quot; although I assigned an ID annotation.\r\n\r\n\r\n        import javax.persistence.*;\r\n        import java.time.LocalDate;\r\n\r\n        @Entity\r\n        public record Agent (\r\n                @Id\r\n                String code,\r\n                String name,\r\n                LocalDate date,\r\n                String workingArea,\r\n                String country,\r\n                String phoneNumber,\r\n                boolean licenseToKill,\r\n                int credits,\r\n                byte[] picture)\r\n              {}\r\n\r\n\r\nWhat&#39;s wrong with this?","title":"Javax-Persistance : Entity does not have a primary key using Java records","body":"<p>I am trying to create a entity class using Java record, but I get the error message\n&quot;Entity does not have primary key&quot; although I assigned an ID annotation.</p>\n<pre><code>    import javax.persistence.*;\n    import java.time.LocalDate;\n\n    @Entity\n    public record Agent (\n            @Id\n            String code,\n            String name,\n            LocalDate date,\n            String workingArea,\n            String country,\n            String phoneNumber,\n            boolean licenseToKill,\n            int credits,\n            byte[] picture)\n          {}\n</code></pre>\n<p>What's wrong with this?</p>\n"},{"tags":["java","selenium-webdriver","testng","extentreports","selenium-extent-report"],"owner":{"account_id":29205889,"reputation":1,"user_id":22374977,"display_name":"testemulate emulate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1691834657,"creation_date":1691834657,"question_id":76888764,"body_markdown":"I am working on Java Selenium TestNG.\r\nSelenium 4.10.0\r\nTestNG 7.8.0\r\n\r\nI am trying to generate Extent Reports, but the CSS properties are not loaded, probably because of the internet restrictions I have.\r\nThe github CDN from which the CSS are taken are blocked in my organization, and would not be whitelisted. Is there a way where I can get the reports working good without internet? Any jars for css,etc are available? Or is there any alternative?\r\nPlease help!\r\n\r\nNote: I cannot use Maven, so all jars must be downloaded and then loaded into my IDE (IntelliJ)\r\n\r\nExtent Report dependencies (jar files):\r\nextentreports-4.0.9\r\nfreemarker-2.3.23\r\nbson-3.3.0\r\ngson-2.8.5\r\nhttpclient-4.5.2\r\nhttpcore-4.4.4\r\nhttpmime-4.5.2\r\nmongodb-driver-3.3.0\r\nmongodb-driver-core-3.3.0\r\ncommons-codec-1.9.0\r\ncommons-logging-1.2\r\n\r\nCode I tried:\r\n**TestBase.java (Base Class)**\r\n\r\n```\r\npackage tests;\r\n\r\nimport com.aventstack.extentreports.ExtentReports;\r\nimport com.aventstack.extentreports.ExtentTest;\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.openqa.selenium.OutputType;\r\nimport org.openqa.selenium.TakesScreenshot;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.edge.EdgeDriver;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.testng.ITestContext;\r\nimport org.testng.annotations.Listeners;\r\nimport utils.ExtentManager;\r\nimport utils.ExtentTestManager;\r\nimport utils.TestListener;\r\n\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Properties;\r\nimport java.util.Set;\r\n\r\n@Listeners(TestListener.class)\r\npublic class TestBase {\r\n    public static WebDriver driver;\r\n    public static Properties prop;\r\n\r\n    public static int TIMEOUT = 60;\r\n\r\n    public TestBase() {\r\n        try {\r\n            prop = new Properties();\r\n            FileInputStream fis = new FileInputStream(System.getProperty(&quot;user.dir&quot;) + &quot;/src/testDAta/config.properties&quot;);\r\n            prop.load(fis);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    public void setup(ITestContext context) {\r\n        System.setProperty(&quot;webdriver.edge.driver&quot;, System.getProperty(&quot;user.dir&quot;) + prop.getProperty(&quot;edge.path&quot;));\r\n        driver = new EdgeDriver();\r\n        driver.manage().window().maximize();\r\n        context.setAttribute(&quot;driver&quot;, driver);\r\n    }\r\n    public void getURL(String url){\r\n        if (url.equalsIgnoreCase(&quot;google&quot;)) {\r\n            driver.get(prop.getProperty(&quot;web.urlG&quot;));\r\n        } else if (url.equalsIgnoreCase(&quot;yahoo&quot;)) {\r\n            driver.get(prop.getProperty(&quot;web.urlY&quot;));\r\n        } else {\r\n            System.out.println(&quot;none!&quot;);\r\n        }\r\n    }\r\n\r\n    public void waitAndClickElement(WebElement element) {\r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(TIMEOUT));\r\n        wait.until(ExpectedConditions.elementToBeClickable(element)).click();\r\n    }\r\n    public void waitForElementToAppear(WebElement element){\r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(TIMEOUT));\r\n        wait.until(ExpectedConditions.visibilityOf(element));\r\n    }\r\n\r\n    public void switchWindow(int idx){\r\n        Set&lt;String&gt; allHandles = driver.getWindowHandles();\r\n        List&lt;String&gt; handlesList = new ArrayList&lt;&gt;(allHandles);\r\n        System.out.println(&quot;Handles: &quot; + handlesList);\r\n        driver.switchTo().window(handlesList.get(idx));\r\n\r\n    }\r\n    public void captureScreenshot(String screenshotName){\r\n        try{\r\n            TakesScreenshot ts = (TakesScreenshot) driver;\r\n            File srcFile = ts.getScreenshotAs(OutputType.FILE);\r\n            String destPath = System.getProperty(&quot;user.dir&quot;) + &quot;/screenshots/&quot; + screenshotName + &quot;.png&quot;;\r\n            File destFile = new File(destPath);\r\n            FileUtils.copyFile(srcFile, destFile);\r\n        }catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n**HomePage.java (PageObject file)**\r\n\r\n\r\n```\r\npackage pages;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.FindBy;\r\nimport org.openqa.selenium.support.PageFactory;\r\nimport tests.TestBase;\r\n\r\npublic class HomePage extends TestBase {\r\n    public WebDriver driver;\r\n    public HomePage(WebDriver driver){\r\n//        this.driver = driver;\r\n        PageFactory.initElements(driver, this);\r\n    }\r\n\r\n    @FindBy(id = &quot;getwebsitebtn&quot;)\r\n    WebElement txtLink;\r\n\r\n    @FindBy(xpath = &quot;//*[text()=&#39;Get Started for Free&#39;]&quot;)\r\n    WebElement getFreeBtn;\r\n\r\n    public void linkTest(){\r\n        waitAndClickElement(txtLink);\r\n        switchWindow(1);\r\n        waitAndClickElement(getFreeBtn);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**TestFile.java (Test file)**\r\n\r\n```\r\npackage tests;\r\n\r\nimport com.aventstack.extentreports.ExtentTest;\r\nimport com.aventstack.extentreports.Status;\r\nimport org.testng.ITestContext;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.Test;\r\nimport pages.HomePage;\r\nimport utils.ExtentTestManager;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class TestFile extends TestBase{\r\n\r\n\r\n    @BeforeClass\r\n    public void setItUp(ITestContext context){\r\n        setup(context);\r\n    }\r\n\r\n    public static ExtentTest extentTest;\r\n    @Test\r\n    public void urlTest() throws IOException {\r\n//        extentTest = ExtentTestManager.getTest();\r\n        // Call the setup method to initialize the driver\r\n//        getURL(&quot;Yahoo&quot;); // You can change this to &quot;Google&quot; or other URLs as needed\r\n        extentTest = ExtentTestManager.getTest();\r\n        getURL(&quot;Yahoo&quot;);\r\n\r\n        HomePage hp = new HomePage(driver); // Initialize the HomePage object after the driver is set up\r\n        hp.linkTest();\r\n        extentTest.log(Status.INFO, &quot;Clicked on Links&quot;);\r\n        captureScreenshot(&quot;snap1&quot;);\r\n        System.out.println(System.getProperty(&quot;user.dir&quot;));\r\n        extentTest.addScreenCaptureFromPath(System.getProperty(&quot;user.dir&quot;) + &quot;/screenshots/snap1.png&quot;, &quot;snapshot&quot;);\r\n        ExtentTestManager.endTest();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**testng.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;All Test Suite&quot;&gt;\r\n    &lt;test verbose=&quot;2&quot; preserve-order=&quot;true&quot; name=&quot;E:/MyCode/frmwrk&quot;&gt;\r\n        &lt;classes&gt;&lt;class name=&quot;tests.TestFile&quot;&gt;\r\n            &lt;methods&gt;&lt;include name=&quot;urlTest&quot;/&gt;\r\n            &lt;/methods&gt;\r\n        &lt;/class&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\n**ExtentManager.java**\r\n\r\n```\r\npackage utils;\r\n\r\nimport java.io.File;\r\n\r\nimport com.aventstack.extentreports.ExtentReports;\r\nimport com.aventstack.extentreports.reporter.ExtentSparkReporter;\r\nimport com.aventstack.extentreports.reporter.configuration.Theme;\r\n\r\npublic class ExtentManager {\r\n    private static ExtentReports extent;\r\n    private static String reportFileName = &quot;Test-Automaton-Report&quot; + &quot;.html&quot;;\r\n    private static String fileSeperator = System.getProperty(&quot;file.separator&quot;);\r\n    private static String reportFilepath = System.getProperty(&quot;user.dir&quot;) + fileSeperator + &quot;TestReport&quot;;\r\n    private static String reportFileLocation = reportFilepath + fileSeperator + reportFileName;\r\n\r\n    public static ExtentReports getInstance() {\r\n        if (extent == null)\r\n            createInstance();\r\n        return extent;\r\n    }\r\n\r\n    // Create an extent report instance\r\n    public static ExtentReports createInstance() {\r\n        String fileName = getReportPath(reportFilepath);\r\n\r\n        ExtentSparkReporter htmlReporter = new ExtentSparkReporter(fileName);\r\n        htmlReporter.config().setTheme(Theme.DARK);\r\n        htmlReporter.config().setDocumentTitle(reportFileName);\r\n        htmlReporter.config().setReportName(reportFileName);\r\n        htmlReporter.config().setTimeStampFormat(&quot;MMM dd, yyyy HH:mm:ss&quot;);\r\n\r\n        extent = new ExtentReports();\r\n        extent.attachReporter(htmlReporter);\r\n\r\n        return extent;\r\n    }\r\n\r\n    // Create the report path\r\n    private static String getReportPath(String path) {\r\n        File testDirectory = new File(path);\r\n        if (!testDirectory.exists()) {\r\n            if (testDirectory.mkdir()) {\r\n                System.out.println(&quot;Directory: &quot; + path + &quot; is created!&quot;);\r\n                return reportFileLocation;\r\n            } else {\r\n                System.out.println(&quot;Failed to create directory: &quot; + path);\r\n                return System.getProperty(&quot;user.dir&quot;);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Directory already exists: &quot; + path);\r\n        }\r\n        return reportFileLocation;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**ExtentTestManager.java**\r\n\r\n```\r\npackage utils;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport com.aventstack.extentreports.ExtentReports;\r\nimport com.aventstack.extentreports.ExtentTest;\r\n\r\n\r\npublic class ExtentTestManager {\r\n    static Map&lt;Long, ExtentTest&gt; extentTestMap = new HashMap&lt;&gt;();\r\n    static ExtentReports extent = ExtentManager.getInstance();\r\n\r\n    public static synchronized ExtentTest getTest() {\r\n        return extentTestMap.get(Thread.currentThread().getId());\r\n    }\r\n\r\n    public static synchronized void endTest() {\r\n        extent.flush();\r\n    }\r\n\r\n    public static synchronized ExtentTest startTest(String testName) {\r\n        ExtentTest test = extent.createTest(testName);\r\n        extentTestMap.put(Thread.currentThread().getId(), test);\r\n        return test;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**TestListener.java**\r\n\r\n```\r\npackage utils;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.io.StringWriter;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.openqa.selenium.OutputType;\r\nimport org.openqa.selenium.TakesScreenshot;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.testng.ITestContext;\r\nimport org.testng.ITestListener;\r\nimport org.testng.ITestResult;\r\n\r\nimport com.aventstack.extentreports.Status;\r\n\r\nimport tests.TestBase;\r\nimport utils.ExtentManager;\r\nimport utils.ExtentTestManager;\r\n\r\npublic class TestListener extends TestBase implements ITestListener {\r\n\r\n    public void onStart(ITestContext context) {\r\n        System.out.println(&quot;*** Test Suite &quot; + context.getName() + &quot; started ***&quot;);\r\n        System.setProperty(&quot;org.freemarker.loggerLibrary&quot;, &quot;none&quot;);\r\n    }\r\n\r\n    public void onFinish(ITestContext context) {\r\n        System.out.println((&quot;*** Test Suite &quot; + context.getName() + &quot; ending ***&quot;));\r\n        ExtentTestManager.endTest();\r\n        ExtentManager.getInstance().flush();\r\n    }\r\n\r\n    public void onTestStart(ITestResult result) {\r\n        System.out.println((&quot;*** Running test method &quot; + result.getMethod().getMethodName() + &quot;...&quot;));\r\n        ExtentTestManager.startTest(result.getMethod().getMethodName());\r\n    }\r\n\r\n    public void onTestSuccess(ITestResult result) {\r\n        System.out.println(&quot;*** Executed &quot; + result.getMethod().getMethodName() + &quot; test successfully...&quot;);\r\n        ExtentTestManager.getTest().log(Status.PASS, &quot;Test passed&quot;);\r\n    }\r\n\r\n    public void onTestFailure(ITestResult result) {\r\n        System.out.println(&quot;*** Executed &quot; + result.getMethod().getMethodName() + &quot; test FAILED...&quot;);\r\n        ExtentTestManager.getTest().log(Status.FAIL, &quot;Test Failed&quot;);\r\n        ExtentTestManager.getTest().fail(result.getThrowable());\r\n\r\n        StringWriter sw = new StringWriter();\r\n        result.getThrowable().printStackTrace(new PrintWriter(sw));\r\n        sw = null;\r\n\r\n        WebDriver driver = (WebDriver) result.getTestContext().getAttribute(&quot;driver&quot;);\r\n        String root = System.getProperty(&quot;user.dir&quot;);\r\n        TakesScreenshot ts = (TakesScreenshot) driver;\r\n        File ss = ts.getScreenshotAs(OutputType.FILE);\r\n        long random = System.currentTimeMillis();\r\n        String des = root + &quot;//target//screenshots//ss&quot; + result.getMethod().getMethodName() + random + &quot;.png&quot;;\r\n\r\n        try {\r\n            FileUtils.copyFile(ss, new File(des));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        ExtentTestManager.getTest().fail(&quot;Test skipped&quot;);\r\n        try {\r\n            ExtentTestManager.getTest().addScreenCaptureFromPath(des);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n\r\n    public void onTestSkipped(ITestResult result) {\r\n        System.out.println(&quot;*** Test &quot; + result.getMethod().getMethodName() + &quot; skipped...&quot;);\r\n        ExtentTestManager.getTest().log(Status.SKIP, &quot;Test Skipped&quot;);\r\n    }\r\n\r\n    public void onTestFailedButWithinSuccessPercentage(ITestResult result) {\r\n        System.out.println(&quot;*** Test failed but within percentage % &quot; + result.getMethod().getMethodName());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"Require Extent report to work in Offline Mode entirely due to internet restrictions","body":"<p>I am working on Java Selenium TestNG.\nSelenium 4.10.0\nTestNG 7.8.0</p>\n<p>I am trying to generate Extent Reports, but the CSS properties are not loaded, probably because of the internet restrictions I have.\nThe github CDN from which the CSS are taken are blocked in my organization, and would not be whitelisted. Is there a way where I can get the reports working good without internet? Any jars for css,etc are available? Or is there any alternative?\nPlease help!</p>\n<p>Note: I cannot use Maven, so all jars must be downloaded and then loaded into my IDE (IntelliJ)</p>\n<p>Extent Report dependencies (jar files):\nextentreports-4.0.9\nfreemarker-2.3.23\nbson-3.3.0\ngson-2.8.5\nhttpclient-4.5.2\nhttpcore-4.4.4\nhttpmime-4.5.2\nmongodb-driver-3.3.0\nmongodb-driver-core-3.3.0\ncommons-codec-1.9.0\ncommons-logging-1.2</p>\n<p>Code I tried:\n<strong>TestBase.java (Base Class)</strong></p>\n<pre><code>package tests;\n\nimport com.aventstack.extentreports.ExtentReports;\nimport com.aventstack.extentreports.ExtentTest;\nimport org.apache.commons.io.FileUtils;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.edge.EdgeDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.testng.ITestContext;\nimport org.testng.annotations.Listeners;\nimport utils.ExtentManager;\nimport utils.ExtentTestManager;\nimport utils.TestListener;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Properties;\nimport java.util.Set;\n\n@Listeners(TestListener.class)\npublic class TestBase {\n    public static WebDriver driver;\n    public static Properties prop;\n\n    public static int TIMEOUT = 60;\n\n    public TestBase() {\n        try {\n            prop = new Properties();\n            FileInputStream fis = new FileInputStream(System.getProperty(&quot;user.dir&quot;) + &quot;/src/testDAta/config.properties&quot;);\n            prop.load(fis);\n        } catch (Exception e) {\n            System.out.println(&quot;Exception: &quot; + e.getMessage());\n        }\n    }\n\n    public void setup(ITestContext context) {\n        System.setProperty(&quot;webdriver.edge.driver&quot;, System.getProperty(&quot;user.dir&quot;) + prop.getProperty(&quot;edge.path&quot;));\n        driver = new EdgeDriver();\n        driver.manage().window().maximize();\n        context.setAttribute(&quot;driver&quot;, driver);\n    }\n    public void getURL(String url){\n        if (url.equalsIgnoreCase(&quot;google&quot;)) {\n            driver.get(prop.getProperty(&quot;web.urlG&quot;));\n        } else if (url.equalsIgnoreCase(&quot;yahoo&quot;)) {\n            driver.get(prop.getProperty(&quot;web.urlY&quot;));\n        } else {\n            System.out.println(&quot;none!&quot;);\n        }\n    }\n\n    public void waitAndClickElement(WebElement element) {\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(TIMEOUT));\n        wait.until(ExpectedConditions.elementToBeClickable(element)).click();\n    }\n    public void waitForElementToAppear(WebElement element){\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(TIMEOUT));\n        wait.until(ExpectedConditions.visibilityOf(element));\n    }\n\n    public void switchWindow(int idx){\n        Set&lt;String&gt; allHandles = driver.getWindowHandles();\n        List&lt;String&gt; handlesList = new ArrayList&lt;&gt;(allHandles);\n        System.out.println(&quot;Handles: &quot; + handlesList);\n        driver.switchTo().window(handlesList.get(idx));\n\n    }\n    public void captureScreenshot(String screenshotName){\n        try{\n            TakesScreenshot ts = (TakesScreenshot) driver;\n            File srcFile = ts.getScreenshotAs(OutputType.FILE);\n            String destPath = System.getProperty(&quot;user.dir&quot;) + &quot;/screenshots/&quot; + screenshotName + &quot;.png&quot;;\n            File destFile = new File(destPath);\n            FileUtils.copyFile(srcFile, destFile);\n        }catch (IOException e){\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p><strong>HomePage.java (PageObject file)</strong></p>\n<pre><code>package pages;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\nimport org.openqa.selenium.support.PageFactory;\nimport tests.TestBase;\n\npublic class HomePage extends TestBase {\n    public WebDriver driver;\n    public HomePage(WebDriver driver){\n//        this.driver = driver;\n        PageFactory.initElements(driver, this);\n    }\n\n    @FindBy(id = &quot;getwebsitebtn&quot;)\n    WebElement txtLink;\n\n    @FindBy(xpath = &quot;//*[text()='Get Started for Free']&quot;)\n    WebElement getFreeBtn;\n\n    public void linkTest(){\n        waitAndClickElement(txtLink);\n        switchWindow(1);\n        waitAndClickElement(getFreeBtn);\n    }\n\n}\n\n</code></pre>\n<p><strong>TestFile.java (Test file)</strong></p>\n<pre><code>package tests;\n\nimport com.aventstack.extentreports.ExtentTest;\nimport com.aventstack.extentreports.Status;\nimport org.testng.ITestContext;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.Test;\nimport pages.HomePage;\nimport utils.ExtentTestManager;\n\nimport java.io.IOException;\n\npublic class TestFile extends TestBase{\n\n\n    @BeforeClass\n    public void setItUp(ITestContext context){\n        setup(context);\n    }\n\n    public static ExtentTest extentTest;\n    @Test\n    public void urlTest() throws IOException {\n//        extentTest = ExtentTestManager.getTest();\n        // Call the setup method to initialize the driver\n//        getURL(&quot;Yahoo&quot;); // You can change this to &quot;Google&quot; or other URLs as needed\n        extentTest = ExtentTestManager.getTest();\n        getURL(&quot;Yahoo&quot;);\n\n        HomePage hp = new HomePage(driver); // Initialize the HomePage object after the driver is set up\n        hp.linkTest();\n        extentTest.log(Status.INFO, &quot;Clicked on Links&quot;);\n        captureScreenshot(&quot;snap1&quot;);\n        System.out.println(System.getProperty(&quot;user.dir&quot;));\n        extentTest.addScreenCaptureFromPath(System.getProperty(&quot;user.dir&quot;) + &quot;/screenshots/snap1.png&quot;, &quot;snapshot&quot;);\n        ExtentTestManager.endTest();\n    }\n\n}\n\n</code></pre>\n<p><strong>testng.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;All Test Suite&quot;&gt;\n    &lt;test verbose=&quot;2&quot; preserve-order=&quot;true&quot; name=&quot;E:/MyCode/frmwrk&quot;&gt;\n        &lt;classes&gt;&lt;class name=&quot;tests.TestFile&quot;&gt;\n            &lt;methods&gt;&lt;include name=&quot;urlTest&quot;/&gt;\n            &lt;/methods&gt;\n        &lt;/class&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p><strong>ExtentManager.java</strong></p>\n<pre><code>package utils;\n\nimport java.io.File;\n\nimport com.aventstack.extentreports.ExtentReports;\nimport com.aventstack.extentreports.reporter.ExtentSparkReporter;\nimport com.aventstack.extentreports.reporter.configuration.Theme;\n\npublic class ExtentManager {\n    private static ExtentReports extent;\n    private static String reportFileName = &quot;Test-Automaton-Report&quot; + &quot;.html&quot;;\n    private static String fileSeperator = System.getProperty(&quot;file.separator&quot;);\n    private static String reportFilepath = System.getProperty(&quot;user.dir&quot;) + fileSeperator + &quot;TestReport&quot;;\n    private static String reportFileLocation = reportFilepath + fileSeperator + reportFileName;\n\n    public static ExtentReports getInstance() {\n        if (extent == null)\n            createInstance();\n        return extent;\n    }\n\n    // Create an extent report instance\n    public static ExtentReports createInstance() {\n        String fileName = getReportPath(reportFilepath);\n\n        ExtentSparkReporter htmlReporter = new ExtentSparkReporter(fileName);\n        htmlReporter.config().setTheme(Theme.DARK);\n        htmlReporter.config().setDocumentTitle(reportFileName);\n        htmlReporter.config().setReportName(reportFileName);\n        htmlReporter.config().setTimeStampFormat(&quot;MMM dd, yyyy HH:mm:ss&quot;);\n\n        extent = new ExtentReports();\n        extent.attachReporter(htmlReporter);\n\n        return extent;\n    }\n\n    // Create the report path\n    private static String getReportPath(String path) {\n        File testDirectory = new File(path);\n        if (!testDirectory.exists()) {\n            if (testDirectory.mkdir()) {\n                System.out.println(&quot;Directory: &quot; + path + &quot; is created!&quot;);\n                return reportFileLocation;\n            } else {\n                System.out.println(&quot;Failed to create directory: &quot; + path);\n                return System.getProperty(&quot;user.dir&quot;);\n            }\n        } else {\n            System.out.println(&quot;Directory already exists: &quot; + path);\n        }\n        return reportFileLocation;\n    }\n}\n\n</code></pre>\n<p><strong>ExtentTestManager.java</strong></p>\n<pre><code>package utils;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport com.aventstack.extentreports.ExtentReports;\nimport com.aventstack.extentreports.ExtentTest;\n\n\npublic class ExtentTestManager {\n    static Map&lt;Long, ExtentTest&gt; extentTestMap = new HashMap&lt;&gt;();\n    static ExtentReports extent = ExtentManager.getInstance();\n\n    public static synchronized ExtentTest getTest() {\n        return extentTestMap.get(Thread.currentThread().getId());\n    }\n\n    public static synchronized void endTest() {\n        extent.flush();\n    }\n\n    public static synchronized ExtentTest startTest(String testName) {\n        ExtentTest test = extent.createTest(testName);\n        extentTestMap.put(Thread.currentThread().getId(), test);\n        return test;\n    }\n}\n\n</code></pre>\n<p><strong>TestListener.java</strong></p>\n<pre><code>package utils;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.io.StringWriter;\n\nimport org.apache.commons.io.FileUtils;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.testng.ITestContext;\nimport org.testng.ITestListener;\nimport org.testng.ITestResult;\n\nimport com.aventstack.extentreports.Status;\n\nimport tests.TestBase;\nimport utils.ExtentManager;\nimport utils.ExtentTestManager;\n\npublic class TestListener extends TestBase implements ITestListener {\n\n    public void onStart(ITestContext context) {\n        System.out.println(&quot;*** Test Suite &quot; + context.getName() + &quot; started ***&quot;);\n        System.setProperty(&quot;org.freemarker.loggerLibrary&quot;, &quot;none&quot;);\n    }\n\n    public void onFinish(ITestContext context) {\n        System.out.println((&quot;*** Test Suite &quot; + context.getName() + &quot; ending ***&quot;));\n        ExtentTestManager.endTest();\n        ExtentManager.getInstance().flush();\n    }\n\n    public void onTestStart(ITestResult result) {\n        System.out.println((&quot;*** Running test method &quot; + result.getMethod().getMethodName() + &quot;...&quot;));\n        ExtentTestManager.startTest(result.getMethod().getMethodName());\n    }\n\n    public void onTestSuccess(ITestResult result) {\n        System.out.println(&quot;*** Executed &quot; + result.getMethod().getMethodName() + &quot; test successfully...&quot;);\n        ExtentTestManager.getTest().log(Status.PASS, &quot;Test passed&quot;);\n    }\n\n    public void onTestFailure(ITestResult result) {\n        System.out.println(&quot;*** Executed &quot; + result.getMethod().getMethodName() + &quot; test FAILED...&quot;);\n        ExtentTestManager.getTest().log(Status.FAIL, &quot;Test Failed&quot;);\n        ExtentTestManager.getTest().fail(result.getThrowable());\n\n        StringWriter sw = new StringWriter();\n        result.getThrowable().printStackTrace(new PrintWriter(sw));\n        sw = null;\n\n        WebDriver driver = (WebDriver) result.getTestContext().getAttribute(&quot;driver&quot;);\n        String root = System.getProperty(&quot;user.dir&quot;);\n        TakesScreenshot ts = (TakesScreenshot) driver;\n        File ss = ts.getScreenshotAs(OutputType.FILE);\n        long random = System.currentTimeMillis();\n        String des = root + &quot;//target//screenshots//ss&quot; + result.getMethod().getMethodName() + random + &quot;.png&quot;;\n\n        try {\n            FileUtils.copyFile(ss, new File(des));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        ExtentTestManager.getTest().fail(&quot;Test skipped&quot;);\n        try {\n            ExtentTestManager.getTest().addScreenCaptureFromPath(des);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n\n    public void onTestSkipped(ITestResult result) {\n        System.out.println(&quot;*** Test &quot; + result.getMethod().getMethodName() + &quot; skipped...&quot;);\n        ExtentTestManager.getTest().log(Status.SKIP, &quot;Test Skipped&quot;);\n    }\n\n    public void onTestFailedButWithinSuccessPercentage(ITestResult result) {\n        System.out.println(&quot;*** Test failed but within percentage % &quot; + result.getMethod().getMethodName());\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","openapi","openapi-generator"],"owner":{"account_id":12634959,"reputation":222,"user_id":9184784,"display_name":"tyb9900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1691834283,"creation_date":1691834283,"question_id":76888744,"body_markdown":"I have an OAS YAML file, and the Maven plugin generates POJO classes for me. \r\n\r\nHowever, it adds words to the class names of the POJO classes. In the OAS, the schema is defined with the name &quot;ApiResponse,&quot; but the plugin generates it as &quot;ModelApiResponse&quot; in the Java class. \r\n\r\nHow should I configure the plugin to create a POJO class with the name specified in the OAS?\r\n\r\nThe current config of the plugin is:\r\n\r\n    &lt;plugin&gt;\r\n    \t &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    \t &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n    \t &lt;version&gt;6.6.0&lt;/version&gt;\r\n    \t &lt;executions&gt;\r\n    \t\t&lt;execution&gt;\r\n    \t\t\t&lt;id&gt;target-spec&lt;/id&gt;\r\n    \t\t\t   &lt;goals&gt;\r\n    \t\t\t   &lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t   &lt;/goals&gt;\r\n    \t\t  &lt;configuration&gt;\r\n    \t\t\t&lt;inputSpec&gt;${project.basedir}/src/main/resources/petstore.yaml&lt;/inputSpec&gt;\r\n    \t\t    &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n    \t\t\t&lt;modelPackage&gt;com.petstorespringapi.stub.target&lt;/modelPackage&gt;\r\n    \t\t\t&lt;generateApis&gt;false&lt;/generateApis&gt;\r\n    \t\t\t&lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\r\n    \t\t\t&lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\r\n    \t     &lt;/configuration&gt;\r\n    \t    &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nHere is my petstore.yml file:\r\n\r\n    openapi: 3.0.0\r\n    info:\r\n      version: 1.0.0\r\n      title: Swagger Petstore\r\n    paths:\r\n      &#39;/pet/{petId}/uploadImage&#39;:\r\n        post:\r\n          tags:\r\n            - pet\r\n          summary: Uploads an image\r\n          description: &#39;&#39;\r\n          operationId: uploadFile\r\n          parameters:\r\n            - name: petId\r\n              in: path\r\n              description: ID of pet to update\r\n              required: true\r\n              schema:\r\n                type: integer\r\n                format: int64\r\n          requestBody:\r\n            content:\r\n              multipart/form-data:\r\n                schema:\r\n                  type: object\r\n                  properties:\r\n                    additionalMetadata:\r\n                      description: Additional data to pass to server\r\n                      type: string\r\n                    file:\r\n                      description: file to upload\r\n                      type: string\r\n                      format: binary\r\n          responses:\r\n            &#39;200&#39;:\r\n              description: successful operation\r\n              content:\r\n                application/json:\r\n                  schema:\r\n                    &#39;$ref&#39;: &#39;#/components/schemas/ApiResponse&#39;\r\n    components:\r\n      schemas:\r\n        ApiResponse:\r\n          type: object\r\n          properties:\r\n            code:\r\n              type: integer\r\n              format: int32\r\n            type:\r\n              type: string\r\n            message:\r\n              type: string\r\n\r\n\r\nHere is the generated class:\r\n\r\n\r\n    /**\r\n     * ModelApiResponse\r\n     */\r\n    \r\n    @JsonTypeName(&quot;ApiResponse&quot;)\r\n    @Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-08-12T11:49:39.983257+02:00[Europe/Copenhagen]&quot;)\r\n    public class ModelApiResponse {}","title":"Why does the Open API Generator produce different class names from the ones in the OAS?","body":"<p>I have an OAS YAML file, and the Maven plugin generates POJO classes for me.</p>\n<p>However, it adds words to the class names of the POJO classes. In the OAS, the schema is defined with the name &quot;ApiResponse,&quot; but the plugin generates it as &quot;ModelApiResponse&quot; in the Java class.</p>\n<p>How should I configure the plugin to create a POJO class with the name specified in the OAS?</p>\n<p>The current config of the plugin is:</p>\n<pre><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n     &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n     &lt;version&gt;6.6.0&lt;/version&gt;\n     &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;target-spec&lt;/id&gt;\n               &lt;goals&gt;\n               &lt;goal&gt;generate&lt;/goal&gt;\n               &lt;/goals&gt;\n          &lt;configuration&gt;\n            &lt;inputSpec&gt;${project.basedir}/src/main/resources/petstore.yaml&lt;/inputSpec&gt;\n            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n            &lt;modelPackage&gt;com.petstorespringapi.stub.target&lt;/modelPackage&gt;\n            &lt;generateApis&gt;false&lt;/generateApis&gt;\n            &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n         &lt;/configuration&gt;\n        &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Here is my petstore.yml file:</p>\n<pre><code>openapi: 3.0.0\ninfo:\n  version: 1.0.0\n  title: Swagger Petstore\npaths:\n  '/pet/{petId}/uploadImage':\n    post:\n      tags:\n        - pet\n      summary: Uploads an image\n      description: ''\n      operationId: uploadFile\n      parameters:\n        - name: petId\n          in: path\n          description: ID of pet to update\n          required: true\n          schema:\n            type: integer\n            format: int64\n      requestBody:\n        content:\n          multipart/form-data:\n            schema:\n              type: object\n              properties:\n                additionalMetadata:\n                  description: Additional data to pass to server\n                  type: string\n                file:\n                  description: file to upload\n                  type: string\n                  format: binary\n      responses:\n        '200':\n          description: successful operation\n          content:\n            application/json:\n              schema:\n                '$ref': '#/components/schemas/ApiResponse'\ncomponents:\n  schemas:\n    ApiResponse:\n      type: object\n      properties:\n        code:\n          type: integer\n          format: int32\n        type:\n          type: string\n        message:\n          type: string\n</code></pre>\n<p>Here is the generated class:</p>\n<pre><code>/**\n * ModelApiResponse\n */\n\n@JsonTypeName(&quot;ApiResponse&quot;)\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-08-12T11:49:39.983257+02:00[Europe/Copenhagen]&quot;)\npublic class ModelApiResponse {}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9882,"page":252,"page_size":100}
