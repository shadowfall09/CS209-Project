{"items":[{"tags":["java","spring-boot","aws-parameter-store"],"answers":[{"tags":[],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670946642,"creation_date":1670946642,"answer_id":74787517,"question_id":74787230,"body_markdown":"I have found one way to do that in eclipse :\r\n\r\n[![Eclipse-Run-Configurations][1]][1]\r\n\r\n\r\nHowever the main question remains valid though, how can we override bootstrap properties in our application environment wise.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oZo3f.png","title":"How to override bootstrap.properties OR how to ignore cloud config for local environment in spring boot","body":"<p>I have found one way to do that in eclipse :</p>\n<p><a href=\"https://i.stack.imgur.com/oZo3f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oZo3f.png\" alt=\"Eclipse-Run-Configurations\" /></a></p>\n<p>However the main question remains valid though, how can we override bootstrap properties in our application environment wise.</p>\n"}],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670946642,"creation_date":1670945366,"question_id":74787230,"body_markdown":"I have an application [Spring boot app] which runs in local, dev env. I have used AWS parameter store configuration in `bootstrap.properties` file as below :\r\n\r\n    aws.paramstore.enabled = true\r\n    aws.paramstore.prefix = /abc\r\n    aws.paramstore.name = xyz/jkl/wer\r\n\r\nThese are my dependencies in `pom.xml` file :\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-aws-parameter-store-config&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.263&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nThe app is running fine with the above configurations. However every time when I need to run my app in local, I need to comment out the above dependencies otherwise it throws error because these jars are in classpath and they complain about few connection not found etc. \r\n\r\nI am trying to figure out some possibilities where I don&#39;t have to make any changes in the pom.xml for running the app with local-properties. \r\n\r\nI tried to set the below property to false in bootstrap and enabled it in `application-dev.properties` file, however the app is not picking up the bootstrap configs in dev.\r\n\r\n    #false in bootstrap, enabled in application-dev.properties\r\n    aws.paramstore.enabled = false\r\n\r\nCan you help me out to resolve this issue. I do not wish to comment out the dependencies in pom every time I run my app in local. What trick can I use here.","title":"How to override bootstrap.properties OR how to ignore cloud config for local environment in spring boot","body":"<p>I have an application [Spring boot app] which runs in local, dev env. I have used AWS parameter store configuration in <code>bootstrap.properties</code> file as below :</p>\n<pre><code>aws.paramstore.enabled = true\naws.paramstore.prefix = /abc\naws.paramstore.name = xyz/jkl/wer\n</code></pre>\n<p>These are my dependencies in <code>pom.xml</code> file :</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-aws-parameter-store-config&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n        &lt;version&gt;3.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\n        &lt;version&gt;1.12.263&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The app is running fine with the above configurations. However every time when I need to run my app in local, I need to comment out the above dependencies otherwise it throws error because these jars are in classpath and they complain about few connection not found etc.</p>\n<p>I am trying to figure out some possibilities where I don't have to make any changes in the pom.xml for running the app with local-properties.</p>\n<p>I tried to set the below property to false in bootstrap and enabled it in <code>application-dev.properties</code> file, however the app is not picking up the bootstrap configs in dev.</p>\n<pre><code>#false in bootstrap, enabled in application-dev.properties\naws.paramstore.enabled = false\n</code></pre>\n<p>Can you help me out to resolve this issue. I do not wish to comment out the dependencies in pom every time I run my app in local. What trick can I use here.</p>\n"},{"tags":["java","hibernate","liquibase","db2-zos"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1614616268,"post_id":66393141,"comment_id":117432939,"body_markdown":"Better ask this in the liquibase forum.","body":"Better ask this in the liquibase forum."},{"owner":{"account_id":4111235,"reputation":123,"user_id":3373979,"accept_rate":25,"display_name":"Dileepan"},"score":0,"creation_date":1615524973,"post_id":66393141,"comment_id":117722836,"body_markdown":"Thank you. Raised this issue in liquibase forum and they asked to log this in their issue tracker.\nhttps://github.com/liquibase/liquibase/issues/1730","body":"Thank you. Raised this issue in liquibase forum and they asked to log this in their issue tracker. <a href=\"https://github.com/liquibase/liquibase/issues/1730\" rel=\"nofollow noreferrer\">github.com/liquibase/liquibase/issues/1730</a>"}],"owner":{"account_id":4111235,"reputation":123,"user_id":3373979,"accept_rate":25,"display_name":"Dileepan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670946566,"creation_date":1614375732,"question_id":66393141,"body_markdown":"I tried to implement Liquibase for my IBM DB2 zos database and when i run liquibase:generateChangeLog command, I&#39;m getting the following error.\r\n\r\n&gt; Error setting up or running Liquibase:\r\nliquibase.command.CommandExcecutionExceptoin: liquibase.exception.DatabaseException: Error executing SQL select CONSTRAINT_NAME, COLUMN_LIST as COLUMN_NAME, constraint_schema as CONSTRAINT_CONTAINER from information_schema.constraints where constraint_type=&#39;UNIQUE&#39; and ........; DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=INFORMATION_SCHEMA.CONSTRAINTS, DRIVER=4.25.13\r\n\r\nSQLCODE=-204, object not found, Basically the table/schema is not found.\r\n\r\nWhen i ran the same command in debug mode, I could see that in the following class,\r\nhttps://github.com/liquibase/liquibase/blob/master/liquibase-core/src/main/java/liquibase/snapshot/jvm/UniqueConstraintSnapshotGenerator.java\r\nthere is no logic to handle DB2z and hence it is considering no specific handler for RDBMS was provided and assuming INFORMATION_SCHEMA.\r\n\r\nWe do have logic for DB2Database, but not **DB2ZDatabase**. \r\n\r\nCan anyone please help to resolve this ?\r\n\r\n**Note: The same liquibase implementation works fine for cockroach DB.**","title":"IBM DB2z Database Liquibase - INFORMATION_SCHEMA.CONSTRAINTS table not found Exception","body":"<p>I tried to implement Liquibase for my IBM DB2 zos database and when i run liquibase:generateChangeLog command, I'm getting the following error.</p>\n<blockquote>\n<p>Error setting up or running Liquibase:\nliquibase.command.CommandExcecutionExceptoin: liquibase.exception.DatabaseException: Error executing SQL select CONSTRAINT_NAME, COLUMN_LIST as COLUMN_NAME, constraint_schema as CONSTRAINT_CONTAINER from information_schema.constraints where constraint_type='UNIQUE' and ........; DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=INFORMATION_SCHEMA.CONSTRAINTS, DRIVER=4.25.13</p>\n</blockquote>\n<p>SQLCODE=-204, object not found, Basically the table/schema is not found.</p>\n<p>When i ran the same command in debug mode, I could see that in the following class,\n<a href=\"https://github.com/liquibase/liquibase/blob/master/liquibase-core/src/main/java/liquibase/snapshot/jvm/UniqueConstraintSnapshotGenerator.java\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase/blob/master/liquibase-core/src/main/java/liquibase/snapshot/jvm/UniqueConstraintSnapshotGenerator.java</a>\nthere is no logic to handle DB2z and hence it is considering no specific handler for RDBMS was provided and assuming INFORMATION_SCHEMA.</p>\n<p>We do have logic for DB2Database, but not <strong>DB2ZDatabase</strong>.</p>\n<p>Can anyone please help to resolve this ?</p>\n<p><strong>Note: The same liquibase implementation works fine for cockroach DB.</strong></p>\n"},{"tags":["java","spring","spring-mvc","spring-security"],"answers":[{"comments":[{"owner":{"account_id":4211074,"reputation":471,"user_id":3448748,"accept_rate":25,"display_name":"Rajan Chauhan"},"score":1,"creation_date":1502812187,"post_id":44646873,"comment_id":78351293,"body_markdown":"i was getting he same error had my logoutSuccessUrl(&quot;logout&quot;) without &quot;/&quot;, adding &quot;/&quot; worked for me i.e logoutSuccessUrl(&quot;/logout&quot;)","body":"i was getting he same error had my logoutSuccessUrl(&quot;logout&quot;) without &quot;/&quot;, adding &quot;/&quot; worked for me i.e logoutSuccessUrl(&quot;/logout&quot;)"},{"owner":{"account_id":353568,"reputation":5654,"user_id":691345,"accept_rate":93,"display_name":"Martin Nuc"},"score":0,"creation_date":1539422338,"post_id":44646873,"comment_id":92503523,"body_markdown":"but how do you make that form use relative url?","body":"but how do you make that form use relative url?"},{"owner":{"account_id":420788,"reputation":1857,"user_id":798675,"accept_rate":67,"display_name":"Jeff Wang"},"score":1,"creation_date":1539629589,"post_id":44646873,"comment_id":92563186,"body_markdown":"by using `/`, the url is relative to the root of the servlet.  So if your servlet root is `https://my.domain/api`, then /logout would point to `https://my.domain/api/logout`","body":"by using <code>&#47;</code>, the url is relative to the root of the servlet.  So if your servlet root is <code>https:&#47;&#47;my.domain&#47;api</code>, then /logout would point to <code>https:&#47;&#47;my.domain&#47;api&#47;logout</code>"},{"owner":{"account_id":4255943,"reputation":398,"user_id":3481644,"accept_rate":50,"display_name":"user3481644"},"score":0,"creation_date":1640530348,"post_id":44646873,"comment_id":124599989,"body_markdown":"This solved my problem, but I am at a loss as how to map the error message to the .logoutSuccessUrl() call, there was nothing in my stack trace referencing that method.","body":"This solved my problem, but I am at a loss as how to map the error message to the .logoutSuccessUrl() call, there was nothing in my stack trace referencing that method."}],"tags":[],"owner":{"account_id":420788,"reputation":1857,"user_id":798675,"accept_rate":67,"display_name":"Jeff Wang"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1497944640,"creation_date":1497944640,"answer_id":44646873,"question_id":44646765,"body_markdown":"As the error says\r\n\r\n    .logoutSuccessUrl(&quot;logout&quot;)\r\n\r\nmust start with &quot;http&quot;, &quot;https&quot; or &quot;/&quot;","title":"IllegalArgumentException: defaultTarget must start with &#39;/&#39; or with &#39;http(s)&#39;","body":"<p>As the error says</p>\n\n<pre><code>.logoutSuccessUrl(\"logout\")\n</code></pre>\n\n<p>must start with \"http\", \"https\" or \"/\"</p>\n"},{"tags":[],"owner":{"account_id":23902268,"reputation":1,"user_id":17900267,"display_name":"Porsyak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670946285,"creation_date":1670946285,"answer_id":74787443,"question_id":44646765,"body_markdown":"In the configure(HttpSecurity http) method in .logoutSuccessUrl(&quot;/signin&quot;) I added &quot;/&quot;, everything worked.","title":"IllegalArgumentException: defaultTarget must start with &#39;/&#39; or with &#39;http(s)&#39;","body":"<p>In the configure(HttpSecurity http) method in .logoutSuccessUrl(&quot;/signin&quot;) I added &quot;/&quot;, everything worked.</p>\n"}],"owner":{"account_id":2605589,"reputation":393,"user_id":2256812,"accept_rate":70,"display_name":"Somnath Kayal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4987,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":44646873,"answer_count":2,"score":2,"last_activity_date":1670946285,"creation_date":1497944295,"question_id":44646765,"body_markdown":"I am trying to implement a persistent token based authentication with remember me functionality using spring security, where all configurations are annotation based. The problem is, when I am trying to run my application, server is throwing `IllegalArgumentException`. I&#39;m also getting the message `Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception`. I have been stuck over a day and can&#39;t able to find any clue or suggestion. Please have a look on my code.\r\n\r\n`SpringSecurityConfig.java`\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Autowired\r\n\t@Qualifier(&quot;customUserDetailsService&quot;)\r\n\tUserDetailsService userDetailsService;\r\n\t\r\n\t@Autowired\r\n\tPersistentTokenRepository persistentTokenRepository;\r\n\t\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception{\r\n\t\thttp.authorizeRequests()\r\n\t\t\t\t.antMatchers(&quot;/&quot;,&quot;/list&quot;).access(&quot;hasRole(&#39;USER&#39;) or hasRole(&#39;ADMIN&#39;) or hasRole(&#39;DBA&#39;)&quot;)\r\n\t\t\t\t.antMatchers(&quot;/new-user&quot;, &quot;/delete-user/*&quot;).access(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n\t\t\t\t.antMatchers(&quot;/edit-user/*&quot;).access(&quot;hasRole(&#39;ADMIN&#39;) or hasRole(&#39;USER&#39;)&quot;)\r\n\t\t\t\t.and()\r\n\t\t\t\t.formLogin()\r\n\t\t\t\t\t.loginPage(&quot;/login.jsp&quot;)\r\n\t\t\t\t\t.loginProcessingUrl(&quot;/login&quot;)\r\n\t\t\t\t\t.usernameParameter(&quot;ssoid&quot;)\r\n\t\t\t\t\t.passwordParameter(&quot;password&quot;)\r\n\t\t\t\t\t.defaultSuccessUrl(&quot;/home&quot;)\r\n\t\t\t\t.and()\r\n\t\t\t\t\t.logout()\r\n\t\t\t\t\t.logoutUrl(&quot;/logout&quot;)\r\n\t\t\t\t\t.logoutSuccessUrl(&quot;logout&quot;)\r\n\t\t\t\t.and()\r\n\t\t\t\t.rememberMe()\r\n\t\t\t\t\t.rememberMeParameter(&quot;remeber-me&quot;)\r\n\t\t\t\t\t.tokenRepository(persistentTokenRepository)\r\n\t\t\t\t\t.tokenValiditySeconds(46800)\r\n\t\t\t\t.and().csrf()\r\n\t\t\t\t.and().exceptionHandling().accessDeniedPage(&quot;/access_denied&quot;);\r\n\t}\r\n\t\r\n\t@Autowired\r\n\tpublic void configureGlobalSecurity(AuthenticationManagerBuilder builder) throws Exception{\r\n\t\tbuilder.userDetailsService(userDetailsService);\r\n\t\tbuilder.authenticationProvider(authenticationProvider());\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic DaoAuthenticationProvider authenticationProvider(){\r\n\t\tDaoAuthenticationProvider provider=new DaoAuthenticationProvider();\r\n\t\tprovider.setUserDetailsService(userDetailsService);\r\n\t\tprovider.setPasswordEncoder(passwordEncoder());\r\n\t\treturn provider;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder()\r\n\t{\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t@Bean\r\n    public PersistentTokenBasedRememberMeServices getPersistentTokenBasedRememberMeServices() {\r\n        PersistentTokenBasedRememberMeServices tokenBasedservice = new PersistentTokenBasedRememberMeServices(\r\n                &quot;remember-me&quot;, userDetailsService, persistentTokenRepository);\r\n        return tokenBasedservice;\r\n    }\r\n \r\n    @Bean\r\n    public AuthenticationTrustResolver getAuthenticationTrustResolver() {\r\n        return new AuthenticationTrustResolverImpl();\r\n    }\r\n    }\r\n\r\nConfiguration of spring filter chain\r\n\r\n    \r\n\r\n\r\n    public class SecurityWebAppInitializer extends AbstractSecurityWebApplicationInitializer {\r\n    }\r\n\r\nI have a custom implementation of PersistentTokenRepository for Hibernate for creating, updating and removing the remember me token.\r\n\r\nComplete stack trace of the error is,\r\n\r\n    WARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: defaultTarget must start with &#39;/&#39; or with &#39;http(s)&#39;\r\n        12:33:49.419 [localhost-startStop-1] DEBUG org.hibernate.internal.SessionFactoryImpl - HHH000031: Closing\r\n        12:33:49.419 [localhost-startStop-1] DEBUG org.hibernate.boot.registry.internal.BootstrapServiceRegistryImpl - Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries\r\n        12:33:49.419 [localhost-startStop-1] DEBUG org.hibernate.service.internal.AbstractServiceRegistryImpl - Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries\r\n        Jun 20, 2017 12:33:49 PM org.springframework.web.context.ContextLoader initWebApplicationContext\r\n        SEVERE: Context initialization failed\r\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: defaultTarget must start with &#39;/&#39; or with &#39;http(s)&#39;\r\n        \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n        \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)\r\n        \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)\r\n        \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:444)\r\n        \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:326)\r\n        \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\r\n        \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5097)\r\n        \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5615)\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n        \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1571)\r\n        \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1561)\r\n        \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n        \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        \tat java.lang.Thread.run(Unknown Source)\r\n        Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: defaultTarget must start with &#39;/&#39; or with &#39;http(s)&#39;\r\n        \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\r\n        \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\r\n        \t... 25 more\r\n        Caused by: java.lang.IllegalArgumentException: defaultTarget must start with &#39;/&#39; or with &#39;http(s)&#39;\r\n        \tat org.springframework.util.Assert.isTrue(Assert.java:68)\r\n        \tat org.springframework.security.web.authentication.AbstractAuthenticationTargetUrlRequestHandler.setDefaultTargetUrl(AbstractAuthenticationTargetUrlRequestHandler.java:138)\r\n        \tat org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.getLogoutSuccessHandler(LogoutConfigurer.java:229)\r\n        \tat org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.createLogoutFilter(LogoutConfigurer.java:295)\r\n        \tat org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.configure(LogoutConfigurer.java:249)\r\n        \tat org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.configure(LogoutConfigurer.java:62)\r\n        \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:383)\r\n        \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:329)\r\n        \tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41)\r\n        \tat org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:289)\r\n        \tat org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:74)\r\n        \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:333)\r\n        \tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41)\r\n        \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:105)\r\n        \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$88510f6d.CGLIB$springSecurityFilterChain$1(&lt;generated&gt;)\r\n        \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$88510f6d$$FastClassBySpringCGLIB$$77813f6b.invoke(&lt;generated&gt;)\r\n        \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n        \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:355)\r\n        \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$88510f6d.springSecurityFilterChain(&lt;generated&gt;)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n        \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\r\n        \t... 26 more\r\n        \r\n        Jun 20, 2017 12:33:49 PM org.apache.catalina.core.StandardContext listenerStart\r\n        SEVERE: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener\r\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: defaultTarget must start with &#39;/&#39; or with &#39;http(s)&#39;\r\n        \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n        \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)\r\n        \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)\r\n        \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:444)\r\n        \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:326)\r\n        \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\r\n        \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5097)\r\n        \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5615)\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n        \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1571)\r\n        \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1561)\r\n        \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n        \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        \tat java.lang.Thread.run(Unknown Source)\r\n        Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.IllegalArgumentException: defaultTarget must start with &#39;/&#39; or with &#39;http(s)&#39;\r\n        \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\r\n        \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\r\n        \t... 25 more\r\n        Caused by: java.lang.IllegalArgumentException: defaultTarget must start with &#39;/&#39; or with &#39;http(s)&#39;\r\n        \tat org.springframework.util.Assert.isTrue(Assert.java:68)\r\n        \tat org.springframework.security.web.authentication.AbstractAuthenticationTargetUrlRequestHandler.setDefaultTargetUrl(AbstractAuthenticationTargetUrlRequestHandler.java:138)\r\n        \tat org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.getLogoutSuccessHandler(LogoutConfigurer.java:229)\r\n        \tat org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.createLogoutFilter(LogoutConfigurer.java:295)\r\n        \tat org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.configure(LogoutConfigurer.java:249)\r\n        \tat org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.configure(LogoutConfigurer.java:62)\r\n        \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:383)\r\n        \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:329)\r\n        \tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41)\r\n        \tat org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:289)\r\n        \tat org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:74)\r\n        \tat org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:333)\r\n        \tat org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41)\r\n        \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:105)\r\n        \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$88510f6d.CGLIB$springSecurityFilterChain$1(&lt;generated&gt;)\r\n        \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$88510f6d$$FastClassBySpringCGLIB$$77813f6b.invoke(&lt;generated&gt;)\r\n        \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n        \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:355)\r\n        \tat org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$88510f6d.springSecurityFilterChain(&lt;generated&gt;)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n        \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\r\n        \t... 26 more\r\n\r\nI think the problem is in Security Configuration, but can&#39;t able to figure it out. Any suggestion would be helpful.","title":"IllegalArgumentException: defaultTarget must start with &#39;/&#39; or with &#39;http(s)&#39;","body":"<p>I am trying to implement a persistent token based authentication with remember me functionality using spring security, where all configurations are annotation based. The problem is, when I am trying to run my application, server is throwing <code>IllegalArgumentException</code>. I'm also getting the message <code>Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception</code>. I have been stuck over a day and can't able to find any clue or suggestion. Please have a look on my code.</p>\n\n<p><code>SpringSecurityConfig.java</code></p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Autowired\n@Qualifier(\"customUserDetailsService\")\nUserDetailsService userDetailsService;\n\n@Autowired\nPersistentTokenRepository persistentTokenRepository;\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception{\n    http.authorizeRequests()\n            .antMatchers(\"/\",\"/list\").access(\"hasRole('USER') or hasRole('ADMIN') or hasRole('DBA')\")\n            .antMatchers(\"/new-user\", \"/delete-user/*\").access(\"hasRole('ADMIN')\")\n            .antMatchers(\"/edit-user/*\").access(\"hasRole('ADMIN') or hasRole('USER')\")\n            .and()\n            .formLogin()\n                .loginPage(\"/login.jsp\")\n                .loginProcessingUrl(\"/login\")\n                .usernameParameter(\"ssoid\")\n                .passwordParameter(\"password\")\n                .defaultSuccessUrl(\"/home\")\n            .and()\n                .logout()\n                .logoutUrl(\"/logout\")\n                .logoutSuccessUrl(\"logout\")\n            .and()\n            .rememberMe()\n                .rememberMeParameter(\"remeber-me\")\n                .tokenRepository(persistentTokenRepository)\n                .tokenValiditySeconds(46800)\n            .and().csrf()\n            .and().exceptionHandling().accessDeniedPage(\"/access_denied\");\n}\n\n@Autowired\npublic void configureGlobalSecurity(AuthenticationManagerBuilder builder) throws Exception{\n    builder.userDetailsService(userDetailsService);\n    builder.authenticationProvider(authenticationProvider());\n}\n\n@Bean\npublic DaoAuthenticationProvider authenticationProvider(){\n    DaoAuthenticationProvider provider=new DaoAuthenticationProvider();\n    provider.setUserDetailsService(userDetailsService);\n    provider.setPasswordEncoder(passwordEncoder());\n    return provider;\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder()\n{\n    return new BCryptPasswordEncoder();\n}\n\n@Bean\npublic PersistentTokenBasedRememberMeServices getPersistentTokenBasedRememberMeServices() {\n    PersistentTokenBasedRememberMeServices tokenBasedservice = new PersistentTokenBasedRememberMeServices(\n            \"remember-me\", userDetailsService, persistentTokenRepository);\n    return tokenBasedservice;\n}\n\n@Bean\npublic AuthenticationTrustResolver getAuthenticationTrustResolver() {\n    return new AuthenticationTrustResolverImpl();\n}\n}\n</code></pre>\n\n<p>Configuration of spring filter chain</p>\n\n<pre><code>public class SecurityWebAppInitializer extends AbstractSecurityWebApplicationInitializer {\n}\n</code></pre>\n\n<p>I have a custom implementation of PersistentTokenRepository for Hibernate for creating, updating and removing the remember me token.</p>\n\n<p>Complete stack trace of the error is,</p>\n\n<pre><code>WARNING: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: defaultTarget must start with '/' or with 'http(s)'\n    12:33:49.419 [localhost-startStop-1] DEBUG org.hibernate.internal.SessionFactoryImpl - HHH000031: Closing\n    12:33:49.419 [localhost-startStop-1] DEBUG org.hibernate.boot.registry.internal.BootstrapServiceRegistryImpl - Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries\n    12:33:49.419 [localhost-startStop-1] DEBUG org.hibernate.service.internal.AbstractServiceRegistryImpl - Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries\n    Jun 20, 2017 12:33:49 PM org.springframework.web.context.ContextLoader initWebApplicationContext\n    SEVERE: Context initialization failed\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: defaultTarget must start with '/' or with 'http(s)'\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:444)\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:326)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5097)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5615)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1571)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1561)\n        at java.util.concurrent.FutureTask.run(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.lang.Thread.run(Unknown Source)\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: defaultTarget must start with '/' or with 'http(s)'\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\n        ... 25 more\n    Caused by: java.lang.IllegalArgumentException: defaultTarget must start with '/' or with 'http(s)'\n        at org.springframework.util.Assert.isTrue(Assert.java:68)\n        at org.springframework.security.web.authentication.AbstractAuthenticationTargetUrlRequestHandler.setDefaultTargetUrl(AbstractAuthenticationTargetUrlRequestHandler.java:138)\n        at org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.getLogoutSuccessHandler(LogoutConfigurer.java:229)\n        at org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.createLogoutFilter(LogoutConfigurer.java:295)\n        at org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.configure(LogoutConfigurer.java:249)\n        at org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.configure(LogoutConfigurer.java:62)\n        at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:383)\n        at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:329)\n        at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41)\n        at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:289)\n        at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:74)\n        at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:333)\n        at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41)\n        at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:105)\n        at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$88510f6d.CGLIB$springSecurityFilterChain$1(&lt;generated&gt;)\n        at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$88510f6d$$FastClassBySpringCGLIB$$77813f6b.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:355)\n        at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$88510f6d.springSecurityFilterChain(&lt;generated&gt;)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\n        ... 26 more\n\n    Jun 20, 2017 12:33:49 PM org.apache.catalina.core.StandardContext listenerStart\n    SEVERE: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: defaultTarget must start with '/' or with 'http(s)'\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:296)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:444)\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:326)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5097)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5615)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1571)\n        at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1561)\n        at java.util.concurrent.FutureTask.run(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.lang.Thread.run(Unknown Source)\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.IllegalArgumentException: defaultTarget must start with '/' or with 'http(s)'\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\n        ... 25 more\n    Caused by: java.lang.IllegalArgumentException: defaultTarget must start with '/' or with 'http(s)'\n        at org.springframework.util.Assert.isTrue(Assert.java:68)\n        at org.springframework.security.web.authentication.AbstractAuthenticationTargetUrlRequestHandler.setDefaultTargetUrl(AbstractAuthenticationTargetUrlRequestHandler.java:138)\n        at org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.getLogoutSuccessHandler(LogoutConfigurer.java:229)\n        at org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.createLogoutFilter(LogoutConfigurer.java:295)\n        at org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.configure(LogoutConfigurer.java:249)\n        at org.springframework.security.config.annotation.web.configurers.LogoutConfigurer.configure(LogoutConfigurer.java:62)\n        at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.configure(AbstractConfiguredSecurityBuilder.java:383)\n        at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:329)\n        at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41)\n        at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:289)\n        at org.springframework.security.config.annotation.web.builders.WebSecurity.performBuild(WebSecurity.java:74)\n        at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:333)\n        at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:41)\n        at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.springSecurityFilterChain(WebSecurityConfiguration.java:105)\n        at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$88510f6d.CGLIB$springSecurityFilterChain$1(&lt;generated&gt;)\n        at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$88510f6d$$FastClassBySpringCGLIB$$77813f6b.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:355)\n        at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$$EnhancerBySpringCGLIB$$88510f6d.springSecurityFilterChain(&lt;generated&gt;)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\n        ... 26 more\n</code></pre>\n\n<p>I think the problem is in Security Configuration, but can't able to figure it out. Any suggestion would be helpful.</p>\n"},{"tags":["java","spring","spring-test"],"comments":[{"owner":{"account_id":3327625,"reputation":11779,"user_id":2797275,"accept_rate":100,"display_name":"Maciej Dobrowolski"},"score":0,"creation_date":1481013152,"post_id":40990811,"comment_id":69190399,"body_markdown":"do you mean `System.getProperties()`?","body":"do you mean <code>System.getProperties()</code>?"},{"owner":{"account_id":4851799,"reputation":449,"user_id":4890659,"accept_rate":64,"display_name":"Anton"},"score":0,"creation_date":1481013244,"post_id":40990811,"comment_id":69190444,"body_markdown":"@MaciejDobrowolski System.setProperty() before ApplicationContext is launched","body":"@MaciejDobrowolski System.setProperty() before ApplicationContext is launched"},{"owner":{"account_id":3327625,"reputation":11779,"user_id":2797275,"accept_rate":100,"display_name":"Maciej Dobrowolski"},"score":0,"creation_date":1481014711,"post_id":40990811,"comment_id":69191311,"body_markdown":"Do you have to set properties globally or should they be different for each test suite?","body":"Do you have to set properties globally or should they be different for each test suite?"},{"owner":{"account_id":4851799,"reputation":449,"user_id":4890659,"accept_rate":64,"display_name":"Anton"},"score":0,"creation_date":1481014918,"post_id":40990811,"comment_id":69191424,"body_markdown":"@MaciejDobrowolski they should be globally available or at least in current ApplicationContext. I cannot bind them to the suite","body":"@MaciejDobrowolski they should be globally available or at least in current ApplicationContext. I cannot bind them to the suite"}],"answers":[{"comments":[{"owner":{"account_id":4851799,"reputation":449,"user_id":4890659,"accept_rate":64,"display_name":"Anton"},"score":0,"creation_date":1481014276,"post_id":40991201,"comment_id":69191067,"body_markdown":"Probably I should have mentioned it in question: I cannot use @RunWith(SpringJUnit4ClassRunner.class) due to parameterized tests, which require @RunWIth(Parameterized.class). I use SpringClassRule and SpringMethodRule instead","body":"Probably I should have mentioned it in question: I cannot use @RunWith(SpringJUnit4ClassRunner.class) due to parameterized tests, which require @RunWIth(Parameterized.class). I use SpringClassRule and SpringMethodRule instead"},{"owner":{"account_id":3327625,"reputation":11779,"user_id":2797275,"accept_rate":100,"display_name":"Maciej Dobrowolski"},"score":0,"creation_date":1481014387,"post_id":40991201,"comment_id":69191138,"body_markdown":"@Anton Why not extend `Parameterized` runner?","body":"@Anton Why not extend <code>Parameterized</code> runner?"},{"owner":{"account_id":4851799,"reputation":449,"user_id":4890659,"accept_rate":64,"display_name":"Anton"},"score":0,"creation_date":1481014510,"post_id":40991201,"comment_id":69191203,"body_markdown":"in that case I will not be able to set properties for ordinary, not parameterized tests","body":"in that case I will not be able to set properties for ordinary, not parameterized tests"},{"owner":{"account_id":4851799,"reputation":449,"user_id":4890659,"accept_rate":64,"display_name":"Anton"},"score":0,"creation_date":1481018203,"post_id":40991201,"comment_id":69193502,"body_markdown":"Thank you. I posted additional answer below, but will accept your answer in gratitude for spent time","body":"Thank you. I posted additional answer below, but will accept your answer in gratitude for spent time"}],"tags":[],"owner":{"account_id":3327625,"reputation":11779,"user_id":2797275,"accept_rate":100,"display_name":"Maciej Dobrowolski"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1481015989,"creation_date":1481014103,"answer_id":40991201,"question_id":40990811,"body_markdown":"I think that the most basic way of setting some properties before `ApplicationContext` sets up is to write custom runner, like that:\r\n \r\n    public class MyRunner extends SpringJUnit4ClassRunner {\r\n    \r\n        public MyRunner(Class&lt;?&gt; clazz) throws InitializationError {\r\n            super(clazz);\r\n            System.setProperty(&quot;sample.property&quot;, &quot;hello world!&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nAnd then you can use it instead your current runner. \r\n \r\n\t@RunWith(MyRunner.class)\r\n\t@SpringBootTest\r\n    //....\r\n\r\nIf your current runner seems to be declared final, you can possibly use aggregation (but I have not tested in) instead of inheritance.\r\n\r\n[Here](https://gist.github.com/MaciejDobrowolski/1c3a80564158da54fb9346e1a80fbf7d) you can find a sample Gist where this runner is used and property gets successfully resolved.\r\n\r\n*update*\r\n\r\nIf you don&#39;t want to use custom Runner (although you could have several runners setting properties for each case - with parameters, without parameters, and so on). You can use `@ClassRule` which works on static fields/methods - take a look at the example below:\r\n\r\n\t@ClassRule\r\n\tpublic static ExternalResource setProperties() {\r\n\t\treturn new ExternalResource() {\r\n\t\t\t@Override\r\n\t\t\tpublic Statement apply(Statement base, Description description) {\r\n\t\t\t\tSystem.setProperty(&quot;sample.property&quot;, &quot;hello world!&quot;);\r\n\t\t\t\treturn super.apply(base, description);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\nThis **static** method is to be placed in your test class.","title":"Spring: @BootstrapWith for ApplicationContext","body":"<p>I think that the most basic way of setting some properties before <code>ApplicationContext</code> sets up is to write custom runner, like that:</p>\n\n<pre><code>public class MyRunner extends SpringJUnit4ClassRunner {\n\n    public MyRunner(Class&lt;?&gt; clazz) throws InitializationError {\n        super(clazz);\n        System.setProperty(\"sample.property\", \"hello world!\");\n    }\n\n}\n</code></pre>\n\n<p>And then you can use it instead your current runner. </p>\n\n<pre><code>@RunWith(MyRunner.class)\n@SpringBootTest\n//....\n</code></pre>\n\n<p>If your current runner seems to be declared final, you can possibly use aggregation (but I have not tested in) instead of inheritance.</p>\n\n<p><a href=\"https://gist.github.com/MaciejDobrowolski/1c3a80564158da54fb9346e1a80fbf7d\" rel=\"nofollow noreferrer\">Here</a> you can find a sample Gist where this runner is used and property gets successfully resolved.</p>\n\n<p><em>update</em></p>\n\n<p>If you don't want to use custom Runner (although you could have several runners setting properties for each case - with parameters, without parameters, and so on). You can use <code>@ClassRule</code> which works on static fields/methods - take a look at the example below:</p>\n\n<pre><code>@ClassRule\npublic static ExternalResource setProperties() {\n    return new ExternalResource() {\n        @Override\n        public Statement apply(Statement base, Description description) {\n            System.setProperty(\"sample.property\", \"hello world!\");\n            return super.apply(base, description);\n        }\n    };\n}\n</code></pre>\n\n<p>This <strong>static</strong> method is to be placed in your test class.</p>\n"},{"tags":[],"owner":{"account_id":4851799,"reputation":449,"user_id":4890659,"accept_rate":64,"display_name":"Anton"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1481018105,"creation_date":1481018105,"answer_id":40992427,"question_id":40990811,"body_markdown":"I discovered that this is possible with extending `AnnotationConfigContextLoader` (or any other `ContextLoader`) and overriding `prepareContext()` method:\r\n\r\n    @Override\r\n    protected void prepareContext(ConfigurableApplicationContext context, MergedContextConfiguration mergedConfig) {\r\n        // set properties here\r\n        super.prepareContext(context, mergedConfig);\r\n    }\r\n\r\nThan custom loader should be specified in `@ContextConfiguration` annotation on test instance","title":"Spring: @BootstrapWith for ApplicationContext","body":"<p>I discovered that this is possible with extending <code>AnnotationConfigContextLoader</code> (or any other <code>ContextLoader</code>) and overriding <code>prepareContext()</code> method:</p>\n\n<pre><code>@Override\nprotected void prepareContext(ConfigurableApplicationContext context, MergedContextConfiguration mergedConfig) {\n    // set properties here\n    super.prepareContext(context, mergedConfig);\n}\n</code></pre>\n\n<p>Than custom loader should be specified in <code>@ContextConfiguration</code> annotation on test instance</p>\n"},{"tags":[],"owner":{"account_id":367127,"reputation":15366,"user_id":713106,"accept_rate":100,"display_name":"Brad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522082641,"creation_date":1522082641,"answer_id":49496537,"question_id":40990811,"body_markdown":"If it&#39;s just `Properties` that you want to add as part of the bootstrapping of the spring application context you can use the annotation `@TestPropertySource` at the top of your Junit test class like this...\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes={SpringConfig.class,SpringConfigForTests.class})\r\n    @TestPropertySource(properties = &quot;runDate=20180110&quot;)\r\n    public class AcceptanceTests {\r\n    ...\r\n\r\nI use this technique to load my production `SpringConfig` class (which loads properties files), then override some beans specifically for testing in `SpringConfigForTests` (and potentially loading test specific properties files), then adding the another run-time property named `runDate`.\r\n\r\nI am using Spring 4.2.5.RELEASE and it looks like this annotation has been included since 4.1","title":"Spring: @BootstrapWith for ApplicationContext","body":"<p>If it's just <code>Properties</code> that you want to add as part of the bootstrapping of the spring application context you can use the annotation <code>@TestPropertySource</code> at the top of your Junit test class like this...</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes={SpringConfig.class,SpringConfigForTests.class})\n@TestPropertySource(properties = \"runDate=20180110\")\npublic class AcceptanceTests {\n...\n</code></pre>\n\n<p>I use this technique to load my production <code>SpringConfig</code> class (which loads properties files), then override some beans specifically for testing in <code>SpringConfigForTests</code> (and potentially loading test specific properties files), then adding the another run-time property named <code>runDate</code>.</p>\n\n<p>I am using Spring 4.2.5.RELEASE and it looks like this annotation has been included since 4.1</p>\n"},{"tags":[],"owner":{"account_id":287515,"reputation":15504,"user_id":587365,"display_name":"Andrew Spencer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670946031,"creation_date":1670946031,"answer_id":74787401,"question_id":40990811,"body_markdown":"If you are ultimately consuming the program arguments as an `ApplicationArguments` then you can simply provide an `ApplicationArguments` in the test context. It will be in conflict with the empty-argument one provided via `@SpringBootTest` but you can force yours to be used by annotating it `@Primary`.\r\n\r\n    @Component\r\n    public class ArgReadingBean {\r\n      public ArgReadingBean(ApplicationArguments arguments) {\r\n        // ...\r\n      }\r\n    }\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = { TestConfig.class, ArgDependentBean.class })\r\n    public class AppArgsTest {\r\n      @Resource\r\n      private ArgReadingBean bean;\r\n\r\n      public static class TestConfig {\r\n        @Bean\r\n        @Primary\r\n        ApplicationArguments myArguments() {\r\n          return new DefaultApplicationArguments(&quot;-help&quot;);\r\n        }\r\n      }\r\n\r\n      @Test\r\n      public void testArgs() {\r\n        assertThat(bean).isNotNull(); // or whatever\r\n      }\r\n    }\r\n","title":"Spring: @BootstrapWith for ApplicationContext","body":"<p>If you are ultimately consuming the program arguments as an <code>ApplicationArguments</code> then you can simply provide an <code>ApplicationArguments</code> in the test context. It will be in conflict with the empty-argument one provided via <code>@SpringBootTest</code> but you can force yours to be used by annotating it <code>@Primary</code>.</p>\n<pre><code>@Component\npublic class ArgReadingBean {\n  public ArgReadingBean(ApplicationArguments arguments) {\n    // ...\n  }\n}\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = { TestConfig.class, ArgDependentBean.class })\npublic class AppArgsTest {\n  @Resource\n  private ArgReadingBean bean;\n\n  public static class TestConfig {\n    @Bean\n    @Primary\n    ApplicationArguments myArguments() {\n      return new DefaultApplicationArguments(&quot;-help&quot;);\n    }\n  }\n\n  @Test\n  public void testArgs() {\n    assertThat(bean).isNotNull(); // or whatever\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4851799,"reputation":449,"user_id":4890659,"accept_rate":64,"display_name":"Anton"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4856,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":40991201,"answer_count":4,"score":3,"last_activity_date":1670946031,"creation_date":1481012616,"question_id":40990811,"body_markdown":"Currently I use @BootstrapWith annotation in conjunction with custom class, which is simply sets some system properties used in test. However (as far as I understand it) those properties are being set each time TestContextManager instantiates test and TestContext with it:\r\n\r\n&gt; @BootstrapWith is a class-level annotation that is used to configure\r\n&gt; how the Spring TestContext Framework is bootstrapped\r\n\r\n[spring.io][1]\r\n\r\nIs there any way to set properties once before ApplicationContext is started?\r\n\r\n**Edit:**\r\n\r\nI cannot use `@RunWith(SpringJUnit4ClassRunner.class)` due to parameterized tests, which require `@RunWith(Parameterized.class)`. I use `SpringClassRule` and `SpringMethodRule` instead\r\n\r\nAdditionally I run not only parameterized tests, but ordinary tests as well. Thus I cannot simply extend `Parameterized` runner\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html","title":"Spring: @BootstrapWith for ApplicationContext","body":"<p>Currently I use @BootstrapWith annotation in conjunction with custom class, which is simply sets some system properties used in test. However (as far as I understand it) those properties are being set each time TestContextManager instantiates test and TestContext with it:</p>\n\n<blockquote>\n  <p>@BootstrapWith is a class-level annotation that is used to configure\n  how the Spring TestContext Framework is bootstrapped</p>\n</blockquote>\n\n<p><a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html\" rel=\"nofollow noreferrer\">spring.io</a></p>\n\n<p>Is there any way to set properties once before ApplicationContext is started?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I cannot use <code>@RunWith(SpringJUnit4ClassRunner.class)</code> due to parameterized tests, which require <code>@RunWith(Parameterized.class)</code>. I use <code>SpringClassRule</code> and <code>SpringMethodRule</code> instead</p>\n\n<p>Additionally I run not only parameterized tests, but ordinary tests as well. Thus I cannot simply extend <code>Parameterized</code> runner</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":2,"creation_date":1670942056,"post_id":74786456,"comment_id":131986294,"body_markdown":"I tried to reproduce that and cannot.  Which repositories have you configured your build to resolve dependencies from?","body":"I tried to reproduce that and cannot.  Which repositories have you configured your build to resolve dependencies from?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670946566,"post_id":74786456,"comment_id":131987972,"body_markdown":"That artifact exists in Maven central ([link](https://repo1.maven.org/maven2/commons-codec/commons-codec/1.15/commons-codec-1.15.jar)). So the most likely reason for this not to work is that you&#39;re not using that repository.","body":"That artifact exists in Maven central (<a href=\"https://repo1.maven.org/maven2/commons-codec/commons-codec/1.15/commons-codec-1.15.jar\" rel=\"nofollow noreferrer\">link</a>). So the most likely reason for this not to work is that you&#39;re not using that repository."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1670964328,"post_id":74786456,"comment_id":131993798,"body_markdown":"Does your build work on plain command line ?","body":"Does your build work on plain command line ?"}],"owner":{"account_id":20717746,"reputation":11,"user_id":15212793,"display_name":"SpaceBroetchen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670945766,"creation_date":1670941939,"question_id":74786456,"body_markdown":"I try to add an dependency on Maven to the Apache common codec repository (version 1.15). I am using the syntax from the [Apache website](https://commons.apache.org/proper/commons-codec/dependency-info.html#Apache_Maven) \r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    &lt;version&gt;1.15&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nIf I run the code I get the Error: `java: package org.apache.commons.codec.binary does not exist`\r\nMy Editor (IntelliJ IDEA) marks the repository as not found: `Dependency &#39;commons-codec:commons-codec:1.15&#39; not found`\r\nMaven is on online mode.\r\n\r\nHow could I get the repository?\r\n\r\n","title":"depend on apache commons codec","body":"<p>I try to add an dependency on Maven to the Apache common codec repository (version 1.15). I am using the syntax from the <a href=\"https://commons.apache.org/proper/commons-codec/dependency-info.html#Apache_Maven\" rel=\"nofollow noreferrer\">Apache website</a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n    &lt;version&gt;1.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If I run the code I get the Error: <code>java: package org.apache.commons.codec.binary does not exist</code>\nMy Editor (IntelliJ IDEA) marks the repository as not found: <code>Dependency 'commons-codec:commons-codec:1.15' not found</code>\nMaven is on online mode.</p>\n<p>How could I get the repository?</p>\n"},{"tags":["java","sql","spring","postgresql","hibernate"],"answers":[{"comments":[{"owner":{"account_id":25523969,"reputation":25,"user_id":19313367,"display_name":"Yiit G&#252;ne"},"score":0,"creation_date":1670945823,"post_id":74787178,"comment_id":131987719,"body_markdown":"Thank you! All of your suggestions are worked but which one would be the correct approach? Setting a new name for the table or enabling the `hibernate.aouto_quote_keyword` ?","body":"Thank you! All of your suggestions are worked but which one would be the correct approach? Setting a new name for the table or enabling the <code>hibernate.aouto_quote_keyword</code> ?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1670952667,"post_id":74787178,"comment_id":131990294,"body_markdown":"@YiitG&#252;ne Both are equally valid options, so it is more a matter of opinion or taste which one you use. The first one solves it for individual problematic object names (e.g. table names, columns names), and the second will - try - to fix it generally for names where Hibernate knows they are keywords (and if it doesn&#39;t know one, you can always use the first one to quote it anyway).","body":"@YiitG&#252;ne Both are equally valid options, so it is more a matter of opinion or taste which one you use. The first one solves it for individual problematic object names (e.g. table names, columns names), and the second will - try - to fix it generally for names where Hibernate knows they are keywords (and if it doesn&#39;t know one, you can always use the first one to quote it anyway)."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1670945119,"creation_date":1670945119,"answer_id":74787178,"question_id":74787101,"body_markdown":"`User` is a reserved word, use ``@Table(name = &quot;`user`&quot;)`` (the backticks will cause Hibernate to automatically use the datasource specific method of quoting object names), or use a different table name than a reserved word.\r\n\r\nAlternatively, try enabling the `hibernate.auto_quote_keyword` setting (for Spring Boot, try `spring.jpa.properties.hibernate.auto_quote_keyword=true`).","title":"How to handle Error executing DDL via JDBC Statement","body":"<p><code>User</code> is a reserved word, use <code>@Table(name = &quot;`user`&quot;)</code> (the backticks will cause Hibernate to automatically use the datasource specific method of quoting object names), or use a different table name than a reserved word.</p>\n<p>Alternatively, try enabling the <code>hibernate.auto_quote_keyword</code> setting (for Spring Boot, try <code>spring.jpa.properties.hibernate.auto_quote_keyword=true</code>).</p>\n"}],"owner":{"account_id":25523969,"reputation":25,"user_id":19313367,"display_name":"Yiit G&#252;ne"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":911,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1670945564,"accepted_answer_id":74787178,"answer_count":1,"score":-2,"last_activity_date":1670945591,"creation_date":1670944781,"question_id":74787101,"body_markdown":"I was following the one of the spring security tutorials and in the scope of this tutorial I have created 2 entity classes called User and Role. I dont know the exact reason but hibernate having trouble to create tables. This is the error I received;\r\n\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table user (id int8 not null, email varchar(255), name varchar(255), password varchar(255), primary key (id))&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:562) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:507) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:277) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:71) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.8.jar:5.3.8]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.8.jar:5.3.8]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.8.jar:5.3.8]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.8.jar:5.3.8]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.8.jar:5.3.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.8.jar:5.3.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.8.jar:5.3.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.8.jar:5.3.8]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.2.jar:2.5.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.2.jar:2.5.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.2.jar:2.5.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.2.jar:2.5.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.2.jar:2.5.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.2.jar:2.5.2]\r\n\tat com.example.customermanagement.CustomerManagementApplication.main(CustomerManagementApplication.java:19) ~[classes/:na]\r\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;user&quot;\r\n  Position: 14\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2552) ~[postgresql-42.2.22.jar:42.2.22]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2284) ~[postgresql-42.2.22.jar:42.2.22]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:322) ~[postgresql-42.2.22.jar:42.2.22]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481) ~[postgresql-42.2.22.jar:42.2.22]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401) ~[postgresql-42.2.22.jar:42.2.22]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322) ~[postgresql-42.2.22.jar:42.2.22]\r\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308) ~[postgresql-42.2.22.jar:42.2.22]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.22.jar:42.2.22]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.22.jar:42.2.22]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\t... 34 common frames omitted\r\n```\r\n\r\nThe role entity;\r\n\r\n```\r\npackage com.example.customermanagement.domain;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.ManyToMany;\r\nimport javax.persistence.Table;\r\nimport java.util.Collection;\r\n\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;role&quot;)\r\npublic class Role {\r\n\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.AUTO)\r\n   private Long id;\r\n   @Column(name = &quot;name&quot;)\r\n   private String name;\r\n   @ManyToMany(mappedBy = &quot;userRoles&quot;)\r\n   private Collection&lt;User&gt; roles;\r\n}\r\n```\r\n\r\nand the User entity;\r\n\r\n```\r\npackage com.example.customermanagement.domain;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.JoinTable;\r\nimport javax.persistence.ManyToMany;\r\nimport javax.persistence.Table;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\n\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.AUTO)\r\n   private Long id;\r\n   @Column(name = &quot;name&quot;)\r\n   private String name;\r\n   @Column(name = &quot;email&quot;)\r\n   private String email;\r\n   @Column(name = &quot;password&quot;)\r\n   private String password;\r\n   @ManyToMany(fetch = FetchType.EAGER)\r\n   @JoinTable(\r\n         name = &quot;user_roles&quot;,\r\n         joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n         inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n   private Collection&lt;Role&gt; userRoles = new ArrayList&lt;&gt;();\r\n}\r\n```\r\napplication.properties;\r\n\r\n```\r\nserver.port= 8080\r\n\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/customer_db\r\nspring.datasource.username=postgres\r\nspring.datasource.password=123456\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.show_sql=true\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect\r\n# Log Configuration\r\nlogging.level.root= INFO\r\nlogging.level.org.springframework.web= INFO\r\nlogging.level.org.hibernate= INFO\r\n```\r\n\r\n\r\n\r\nI thought I made a mistake in many to many connection and I followed this; https://www.baeldung.com/jpa-many-to-many#1-modeling-relationship-attributes tutorial but the result was the same","title":"How to handle Error executing DDL via JDBC Statement","body":"<p>I was following the one of the spring security tutorials and in the scope of this tutorial I have created 2 entity classes called User and Role. I dont know the exact reason but hibernate having trouble to create tables. This is the error I received;</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table user (id int8 not null, email varchar(255), name varchar(255), password varchar(255), primary key (id))&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:562) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:507) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:277) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:71) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:207) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:114) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.8.jar:5.3.8]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.8.jar:5.3.8]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.8.jar:5.3.8]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.8.jar:5.3.8]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.8.jar:5.3.8]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.8.jar:5.3.8]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.8.jar:5.3.8]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.2.jar:2.5.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.2.jar:2.5.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.2.jar:2.5.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.2.jar:2.5.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.2.jar:2.5.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.2.jar:2.5.2]\n    at com.example.customermanagement.CustomerManagementApplication.main(CustomerManagementApplication.java:19) ~[classes/:na]\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;user&quot;\n  Position: 14\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2552) ~[postgresql-42.2.22.jar:42.2.22]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2284) ~[postgresql-42.2.22.jar:42.2.22]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:322) ~[postgresql-42.2.22.jar:42.2.22]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481) ~[postgresql-42.2.22.jar:42.2.22]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401) ~[postgresql-42.2.22.jar:42.2.22]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322) ~[postgresql-42.2.22.jar:42.2.22]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308) ~[postgresql-42.2.22.jar:42.2.22]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.22.jar:42.2.22]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.22.jar:42.2.22]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    ... 34 common frames omitted\n</code></pre>\n<p>The role entity;</p>\n<pre><code>package com.example.customermanagement.domain;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.Table;\nimport java.util.Collection;\n\n@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;role&quot;)\npublic class Role {\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   private Long id;\n   @Column(name = &quot;name&quot;)\n   private String name;\n   @ManyToMany(mappedBy = &quot;userRoles&quot;)\n   private Collection&lt;User&gt; roles;\n}\n</code></pre>\n<p>and the User entity;</p>\n<pre><code>package com.example.customermanagement.domain;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.Table;\nimport java.util.ArrayList;\nimport java.util.Collection;\n\n@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;user&quot;)\npublic class User {\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   private Long id;\n   @Column(name = &quot;name&quot;)\n   private String name;\n   @Column(name = &quot;email&quot;)\n   private String email;\n   @Column(name = &quot;password&quot;)\n   private String password;\n   @ManyToMany(fetch = FetchType.EAGER)\n   @JoinTable(\n         name = &quot;user_roles&quot;,\n         joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n         inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n   private Collection&lt;Role&gt; userRoles = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>application.properties;</p>\n<pre><code>server.port= 8080\n\nspring.datasource.url=jdbc:postgresql://localhost:5432/customer_db\nspring.datasource.username=postgres\nspring.datasource.password=123456\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect\n# Log Configuration\nlogging.level.root= INFO\nlogging.level.org.springframework.web= INFO\nlogging.level.org.hibernate= INFO\n</code></pre>\n<p>I thought I made a mistake in many to many connection and I followed this; <a href=\"https://www.baeldung.com/jpa-many-to-many#1-modeling-relationship-attributes\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-many-to-many#1-modeling-relationship-attributes</a> tutorial but the result was the same</p>\n"},{"tags":["java","swagger","openapi","openapi-generator","openapi-generator-maven-plugin"],"answers":[{"comments":[{"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"score":0,"creation_date":1670840229,"post_id":74746851,"comment_id":131958179,"body_markdown":"Thanks for answer, but with your second config example all dates are generated as Strings.","body":"Thanks for answer, but with your second config example all dates are generated as Strings."},{"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"score":0,"creation_date":1670845176,"post_id":74746851,"comment_id":131959747,"body_markdown":"Problem was about using : and &quot; signs in your example. I&#39;ve edited your comment. Now it works! Thanks!","body":"Problem was about using : and &quot; signs in your example. I&#39;ve edited your comment. Now it works! Thanks!"},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1671028220,"post_id":74746851,"comment_id":132008938,"body_markdown":"oh, yes, sorry about that.  I use gradle, so wasn&#39;t sure of the syntax.  Thanks.","body":"oh, yes, sorry about that.  I use gradle, so wasn&#39;t sure of the syntax.  Thanks."}],"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670945585,"creation_date":1670609538,"answer_id":74746851,"question_id":74743308,"body_markdown":"Yes, you are so close.  Try this:\r\n```maven\r\n&lt;typeMappings&gt;\r\n    &lt;typeMapping&gt;OffsetDateTime=OffsetDateTime&lt;/typeMapping&gt;\r\n    &lt;typeMapping&gt;ZonedDateTime=ZonedDateTime&lt;/typeMapping&gt;\r\n    &lt;typeMapping&gt;LocalDateTime=LocalDateTime&lt;/typeMapping&gt;\r\n&lt;/typeMappings&gt;\r\n&lt;importMappings&gt;\r\n    &lt;importMapping&gt;OffsetDateTime=java.time.OffsetDateTime&lt;/importMapping&gt;\r\n    &lt;importMapping&gt;ZonedDateTime=java.time.ZonedDateTime&lt;/importMapping&gt;\r\n    &lt;importMapping&gt;LocalDateTime=java.time.LocalDateTime&lt;/importMapping&gt;\r\n&lt;/importMappings&gt;\r\n```\r\n\r\nWhat this is doing is telling the generator that any type of OffsetDateTime is equal to the class `OffsetDateTime`.  Then, it tells the generator that any time the class `OffsetDateTime` is used, the import for that class is `java.time.OffsetDateTime`.\r\n\r\nSo, you can also have custom type mappings that will still use the java class.  You don&#39;t have to name them after the class name.  For example, the following will still work:\r\n```maven\r\n&lt;typeMappings&gt;\r\n    &lt;typeMapping&gt;offset=OffsetDateTime&lt;/typeMapping&gt;\r\n    &lt;typeMapping&gt;zoned=ZonedDateTime&lt;/typeMapping&gt;\r\n    &lt;typeMapping&gt;local=LocalDateTime&lt;/typeMapping&gt;\r\n&lt;/typeMappings&gt;\r\n&lt;importMappings&gt;\r\n    &lt;importMapping&gt;OffsetDateTime=java.time.OffsetDateTime&lt;/importMapping&gt;\r\n    &lt;importMapping&gt;ZonedDateTime=java.time.ZonedDateTime&lt;/importMapping&gt;\r\n    &lt;importMapping&gt;LocalDateTime=java.time.LocalDateTime&lt;/importMapping&gt;\r\n&lt;/importMappings&gt;\r\n```\r\nwhen used with this schema:\r\n```yml\r\n    SomeDto:\r\n      required:\r\n        - dateTime\r\n      type: object\r\n      properties:\r\n        dateTime:\r\n          type: string\r\n          format: zoned\r\n    SomeOtherDto:\r\n      required:\r\n        - dateTime\r\n      type: object\r\n      properties:\r\n        dateTime:\r\n          type: string\r\n          format: local\r\n    EvenAnotherDto:\r\n      required:\r\n        - dateTime\r\n      type: object\r\n      properties:\r\n        dateTime:\r\n          type: string\r\n          format: offset\r\n```\r\nFurthermore, you can declare the imports inline if you would like, and not worry about the `importMappings` at all.\r\n```maven\r\n&lt;typeMappings&gt;\r\n    &lt;typeMapping&gt;OffsetDateTime=java.time.OffsetDateTime&lt;/typeMapping&gt;\r\n    &lt;typeMapping&gt;ZonedDateTime=java.time.ZonedDateTime&lt;/typeMapping&gt;\r\n    &lt;typeMapping&gt;LocalDateTime=java.time.LocalDateTime&lt;/typeMapping&gt;\r\n&lt;/typeMappings&gt;\r\n```\r\nIt&#39;s really up to you.","title":"How to use several date classes for code generation by openapi-generator-maven-plugin?","body":"<p>Yes, you are so close.  Try this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;typeMappings&gt;\n    &lt;typeMapping&gt;OffsetDateTime=OffsetDateTime&lt;/typeMapping&gt;\n    &lt;typeMapping&gt;ZonedDateTime=ZonedDateTime&lt;/typeMapping&gt;\n    &lt;typeMapping&gt;LocalDateTime=LocalDateTime&lt;/typeMapping&gt;\n&lt;/typeMappings&gt;\n&lt;importMappings&gt;\n    &lt;importMapping&gt;OffsetDateTime=java.time.OffsetDateTime&lt;/importMapping&gt;\n    &lt;importMapping&gt;ZonedDateTime=java.time.ZonedDateTime&lt;/importMapping&gt;\n    &lt;importMapping&gt;LocalDateTime=java.time.LocalDateTime&lt;/importMapping&gt;\n&lt;/importMappings&gt;\n</code></pre>\n<p>What this is doing is telling the generator that any type of OffsetDateTime is equal to the class <code>OffsetDateTime</code>.  Then, it tells the generator that any time the class <code>OffsetDateTime</code> is used, the import for that class is <code>java.time.OffsetDateTime</code>.</p>\n<p>So, you can also have custom type mappings that will still use the java class.  You don't have to name them after the class name.  For example, the following will still work:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;typeMappings&gt;\n    &lt;typeMapping&gt;offset=OffsetDateTime&lt;/typeMapping&gt;\n    &lt;typeMapping&gt;zoned=ZonedDateTime&lt;/typeMapping&gt;\n    &lt;typeMapping&gt;local=LocalDateTime&lt;/typeMapping&gt;\n&lt;/typeMappings&gt;\n&lt;importMappings&gt;\n    &lt;importMapping&gt;OffsetDateTime=java.time.OffsetDateTime&lt;/importMapping&gt;\n    &lt;importMapping&gt;ZonedDateTime=java.time.ZonedDateTime&lt;/importMapping&gt;\n    &lt;importMapping&gt;LocalDateTime=java.time.LocalDateTime&lt;/importMapping&gt;\n&lt;/importMappings&gt;\n</code></pre>\n<p>when used with this schema:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    SomeDto:\n      required:\n        - dateTime\n      type: object\n      properties:\n        dateTime:\n          type: string\n          format: zoned\n    SomeOtherDto:\n      required:\n        - dateTime\n      type: object\n      properties:\n        dateTime:\n          type: string\n          format: local\n    EvenAnotherDto:\n      required:\n        - dateTime\n      type: object\n      properties:\n        dateTime:\n          type: string\n          format: offset\n</code></pre>\n<p>Furthermore, you can declare the imports inline if you would like, and not worry about the <code>importMappings</code> at all.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;typeMappings&gt;\n    &lt;typeMapping&gt;OffsetDateTime=java.time.OffsetDateTime&lt;/typeMapping&gt;\n    &lt;typeMapping&gt;ZonedDateTime=java.time.ZonedDateTime&lt;/typeMapping&gt;\n    &lt;typeMapping&gt;LocalDateTime=java.time.LocalDateTime&lt;/typeMapping&gt;\n&lt;/typeMappings&gt;\n</code></pre>\n<p>It's really up to you.</p>\n"}],"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74746851,"answer_count":1,"score":1,"last_activity_date":1670945585,"creation_date":1670589653,"question_id":74743308,"body_markdown":"I am using openapi-generator-maven-plugin with next config:\r\n\r\n    &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;6.0.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;spring-code-generation&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;typeMappings&gt;\r\n\t\t\t\t\t\t\t\t&lt;typeMapping&gt;OffsetDateTime=ZonedDateTime&lt;/typeMapping&gt;\r\n\t\t\t\t\t\t\t&lt;/typeMappings&gt;\r\n\t\t\t\t\t\t\t&lt;importMappings&gt;\r\n\t\t\t\t\t\t\t\t&lt;importMapping&gt;java.time.OffsetDateTime=java.time.ZonedDateTime&lt;/importMapping&gt;\r\n\t\t\t\t\t\t\t&lt;/importMappings&gt;\r\n\t\t\t\t\t\t\t&lt;inputSpec&gt;\r\n\t\t\t\t\t\t\t\t${project.basedir}/openapi.yml\r\n\t\t\t\t\t\t\t&lt;/inputSpec&gt;\r\n\t\t\t\t\t\t\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n\t\t\t\t\t\t\t&lt;apiPackage&gt;api-swagger.api&lt;/apiPackage&gt;\r\n\t\t\t\t\t\t\t&lt;modelPackage&gt;api-swagger.model&lt;/modelPackage&gt;\r\n\t\t\t\t\t\t\t&lt;supportingFilesToGenerate&gt;\r\n\t\t\t\t\t\t\t\tApiUtil.java\r\n\t\t\t\t\t\t\t&lt;/supportingFilesToGenerate&gt;\r\n\t\t\t\t\t\t\t&lt;configOptions&gt;\r\n\t\t\t\t\t\t\t\t&lt;sourceFolder&gt;src/main/java/&lt;/sourceFolder&gt;\r\n\t\t\t\t\t\t\t\t&lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n\t\t\t\t\t\t\t\t&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n\t\t\t\t\t\t\t\t&lt;library&gt;spring-boot&lt;/library&gt;\r\n\t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nI need to have ability to use several datetime java classes for my models - some needs to be ZonedDateTime, some other LocalDateTime and another needs to be Date class.\r\n\r\nSomething like this:\r\n\r\n     SomeDto:\r\n      required:\r\n        - dateTime\r\n      type: object\r\n      properties:\r\n        dateTime:\r\n          type: string\r\n          format: ZonedDateTime\r\n\r\n     SomeOtherDto:\r\n      required:\r\n        - dateTime\r\n      type: object\r\n      properties:\r\n        dateTime:\r\n          type: string\r\n          format: LocalDateTime\r\n\r\n\r\nCan I have such a logic by using openapi-generator-maven-plugin ?","title":"How to use several date classes for code generation by openapi-generator-maven-plugin?","body":"<p>I am using openapi-generator-maven-plugin with next config:</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;6.0.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;spring-code-generation&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;typeMappings&gt;\n                            &lt;typeMapping&gt;OffsetDateTime=ZonedDateTime&lt;/typeMapping&gt;\n                        &lt;/typeMappings&gt;\n                        &lt;importMappings&gt;\n                            &lt;importMapping&gt;java.time.OffsetDateTime=java.time.ZonedDateTime&lt;/importMapping&gt;\n                        &lt;/importMappings&gt;\n                        &lt;inputSpec&gt;\n                            ${project.basedir}/openapi.yml\n                        &lt;/inputSpec&gt;\n                        &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                        &lt;apiPackage&gt;api-swagger.api&lt;/apiPackage&gt;\n                        &lt;modelPackage&gt;api-swagger.model&lt;/modelPackage&gt;\n                        &lt;supportingFilesToGenerate&gt;\n                            ApiUtil.java\n                        &lt;/supportingFilesToGenerate&gt;\n                        &lt;configOptions&gt;\n                            &lt;sourceFolder&gt;src/main/java/&lt;/sourceFolder&gt;\n                            &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                            &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                            &lt;library&gt;spring-boot&lt;/library&gt;\n                        &lt;/configOptions&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I need to have ability to use several datetime java classes for my models - some needs to be ZonedDateTime, some other LocalDateTime and another needs to be Date class.</p>\n<p>Something like this:</p>\n<pre><code> SomeDto:\n  required:\n    - dateTime\n  type: object\n  properties:\n    dateTime:\n      type: string\n      format: ZonedDateTime\n\n SomeOtherDto:\n  required:\n    - dateTime\n  type: object\n  properties:\n    dateTime:\n      type: string\n      format: LocalDateTime\n</code></pre>\n<p>Can I have such a logic by using openapi-generator-maven-plugin ?</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1670941677,"post_id":74785764,"comment_id":131986161,"body_markdown":"I have no idea what you are talking about","body":"I have no idea what you are talking about"},{"owner":{"account_id":8342132,"reputation":200,"user_id":6267139,"display_name":"Rhmn61"},"score":0,"creation_date":1670942135,"post_id":74785764,"comment_id":131986329,"body_markdown":"I have a custom spring boot starter which I am using in different project. Before I upgraded spring boot and java version everything was working. I updated spring version to 2.5.2 and it started generate plain-jar. In this link there is another question related plain jar , you can check .https://stackoverflow.com/questions/67663728/spring-boot-2-5-0-generates-plain-jar-file-can-i-remove-it . The project I am using that starter is looking plain-jar. But when I install related plain jar its looking normal jar. Probably I need some configuration but I couldn&#39;t find any documentation or something.","body":"I have a custom spring boot starter which I am using in different project. Before I upgraded spring boot and java version everything was working. I updated spring version to 2.5.2 and it started generate plain-jar. In this link there is another question related plain jar , you can check .<a href=\"https://stackoverflow.com/questions/67663728/spring-boot-2-5-0-generates-plain-jar-file-can-i-remove-it\" title=\"spring boot 2 5 0 generates plain jar file can i remove it\">stackoverflow.com/questions/67663728/&hellip;</a> . The project I am using that starter is looking plain-jar. But when I install related plain jar its looking normal jar. Probably I need some configuration but I couldn&#39;t find any documentation or something."}],"answers":[{"tags":[],"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670940847,"creation_date":1670940847,"answer_id":74786223,"question_id":74785764,"body_markdown":"sorry , I can&#39;t comment. I can&#39;t understand your mean. \r\n\r\ndepend on your message , I know you have write a starter that install to local maven, maybe like `mvn install` , but I don&#39;t know what is plain jar, what is normal jar. ","title":"Spring Boot project searching plain jar","body":"<p>sorry , I can't comment. I can't understand your mean.</p>\n<p>depend on your message , I know you have write a starter that install to local maven, maybe like <code>mvn install</code> , but I don't know what is plain jar, what is normal jar.</p>\n"},{"tags":[],"owner":{"account_id":8342132,"reputation":200,"user_id":6267139,"display_name":"Rhmn61"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670945569,"creation_date":1670945569,"answer_id":74787291,"question_id":74785764,"body_markdown":"In the custom starter one of the module added as a &quot;api project&quot; when I change that to &quot;compile project&quot; in build.gradle it worked. Because of &quot;api project&quot; when it generating jar and pom file it was adding classifier as a &quot;plain&quot; and it was searching plain-jar. After change it, everything worked for me. ","title":"Spring Boot project searching plain jar","body":"<p>In the custom starter one of the module added as a &quot;api project&quot; when I change that to &quot;compile project&quot; in build.gradle it worked. Because of &quot;api project&quot; when it generating jar and pom file it was adding classifier as a &quot;plain&quot; and it was searching plain-jar. After change it, everything worked for me.</p>\n"}],"owner":{"account_id":8342132,"reputation":200,"user_id":6267139,"display_name":"Rhmn61"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670945569,"creation_date":1670938818,"question_id":74785764,"body_markdown":"I am upgrading current system to spring boot 2.5.2 . I have custom spring boot starter which I installed to my local maven repository. But its generating plain jar. I installed plain jar but the project I am gonna use this starter looking for normal jar. When I disable plain jar and install normal jar , its looking plain jar. Is there any way to install both or is there any other way to look only plain jar or normal jar.\r\n\r\nJava version is 11, Gradle version is 6.8.3, spring boot version is 2.5.2 , spring boot dependency management version is 1.0.8","title":"Spring Boot project searching plain jar","body":"<p>I am upgrading current system to spring boot 2.5.2 . I have custom spring boot starter which I installed to my local maven repository. But its generating plain jar. I installed plain jar but the project I am gonna use this starter looking for normal jar. When I disable plain jar and install normal jar , its looking plain jar. Is there any way to install both or is there any other way to look only plain jar or normal jar.</p>\n<p>Java version is 11, Gradle version is 6.8.3, spring boot version is 2.5.2 , spring boot dependency management version is 1.0.8</p>\n"},{"tags":["java","swing","graphics","jpanel","paintcomponent"],"comments":[{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1390524859,"post_id":21322353,"comment_id":32140625,"body_markdown":"Basically you shouldn&#39;t use `getGraphics`. The Graphics context returned from it is not the same one that is handed to paintComponent. In your case, probably this doesn&#39;t work because calling repaint erases whatever you painted. Can you explain what you are trying to achieve? As it is, this seems like an [XY problem](http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem).","body":"Basically you shouldn&#39;t use <code>getGraphics</code>. The Graphics context returned from it is not the same one that is handed to paintComponent. In your case, probably this doesn&#39;t work because calling repaint erases whatever you painted. Can you explain what you are trying to achieve? As it is, this seems like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1390525202,"post_id":21322353,"comment_id":32140727,"body_markdown":"For example [here is a similar question](http://stackoverflow.com/questions/15986677/drawing-an-object-using-getgraphics-without-extending-jframe) but you&#39;ve said specifically you don&#39;t want to extend JPanel and override paintComponent. It would be helpful to explain what you&#39;re doing and why so solutions can be suggested.","body":"For example <a href=\"http://stackoverflow.com/questions/15986677/drawing-an-object-using-getgraphics-without-extending-jframe\">here is a similar question</a> but you&#39;ve said specifically you don&#39;t want to extend JPanel and override paintComponent. It would be helpful to explain what you&#39;re doing and why so solutions can be suggested."},{"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"score":0,"creation_date":1390525352,"post_id":21322353,"comment_id":32140763,"body_markdown":"This isn&#39;t an [XY problem](http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem) because I already know the solution to my problem. I just want to know how using the above methodology.","body":"This isn&#39;t an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a> because I already know the solution to my problem. I just want to know how using the above methodology."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1390525845,"post_id":21322353,"comment_id":32140907,"body_markdown":"You shouldn&#39;t use getGraphics. To be honest I am not even really sure why it exists in the API. As soon as the panel gets repainted (such as can happen automatically and 100% outside your control) the painting done with getGraphics will disappear. Usually the solution is to say &quot;don&#39;t use getGraphics, override paintComponent&quot;, but you&#39;ve said you don&#39;t want that.","body":"You shouldn&#39;t use getGraphics. To be honest I am not even really sure why it exists in the API. As soon as the panel gets repainted (such as can happen automatically and 100% outside your control) the painting done with getGraphics will disappear. Usually the solution is to say &quot;don&#39;t use getGraphics, override paintComponent&quot;, but you&#39;ve said you don&#39;t want that."},{"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"score":0,"creation_date":1390526016,"post_id":21322353,"comment_id":32140961,"body_markdown":"@Radiodef Then I suppose there is no way to accomplish what I ask.","body":"@Radiodef Then I suppose there is no way to accomplish what I ask."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1390526201,"post_id":21322353,"comment_id":32141019,"body_markdown":"You can easily, for example, create a BufferedImage to draw on to outside of paintComponent and then paint the image on the JPanel. But you just haven&#39;t said what you&#39;re actually trying to do.","body":"You can easily, for example, create a BufferedImage to draw on to outside of paintComponent and then paint the image on the JPanel. But you just haven&#39;t said what you&#39;re actually trying to do."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1390526337,"post_id":21322353,"comment_id":32141063,"body_markdown":"@Radiodef You&#39;d still need something to paint it to the screen, `JLabel` would be able to do it out of the box...","body":"@Radiodef You&#39;d still need something to paint it to the screen, <code>JLabel</code> would be able to do it out of the box..."}],"answers":[{"comments":[{"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"score":0,"creation_date":1390525890,"post_id":21322558,"comment_id":32140924,"body_markdown":"I don&#39;t want to inherit from `JComponent` or `JPanel` while still painting on a local instance of `JPanel` residing in my class `Panel`.","body":"I don&#39;t want to inherit from <code>JComponent</code> or <code>JPanel</code> while still painting on a local instance of <code>JPanel</code> residing in my class <code>Panel</code>."},{"owner":{"account_id":1437810,"reputation":2352,"user_id":1358817,"display_name":"Exorcismus"},"score":0,"creation_date":1390526044,"post_id":21322558,"comment_id":32140970,"body_markdown":"well I had your problem before , and this was the only way I found to enable editing paintComponent() method ,and here your not inheriting from JPanel , your doing your own paint class","body":"well I had your problem before , and this was the only way I found to enable editing paintComponent() method ,and here your not inheriting from JPanel , your doing your own paint class"},{"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"score":0,"creation_date":1390526148,"post_id":21322558,"comment_id":32141006,"body_markdown":"Doesn&#39;t look like there is a way to do it without the use of inheritance and overriding paintComponent().","body":"Doesn&#39;t look like there is a way to do it without the use of inheritance and overriding paintComponent()."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1390526165,"post_id":21322558,"comment_id":32141013,"body_markdown":"@Musy This is not how painting works in Swing. Take a look at [Performing Custom Painting](http://docs.oracle.com/javase/tutorial/uiswing/painting/) and [Painting in AWT and Swing](http://www.oracle.com/technetwork/java/painting-140037.html) for more details about how the painting process works","body":"@Musy This is not how painting works in Swing. Take a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/painting/\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> and <a href=\"http://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> for more details about how the painting process works"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1390526286,"post_id":21322558,"comment_id":32141046,"body_markdown":"You should never maintain a reference to any `Graphics` context you did not create yourself.  Swing uses a passive painting approach which means that paints can occur at any time, as deemed by the repaint manager, and anything that was previously painted will be lost...","body":"You should never maintain a reference to any <code>Graphics</code> context you did not create yourself.  Swing uses a passive painting approach which means that paints can occur at any time, as deemed by the repaint manager, and anything that was previously painted will be lost..."}],"tags":[],"owner":{"account_id":1437810,"reputation":2352,"user_id":1358817,"display_name":"Exorcismus"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1390526262,"creation_date":1390525771,"answer_id":21322558,"question_id":21322353,"body_markdown":"    class SomeComponent extends JComponent {\r\n  \r\n    \tprivate Graphics2D g2d;\r\n\r\n    \tpublic void paintComponent(Graphics g) {\r\n    \t\tg2d = (Graphics2D) g.create();\r\n    \t\tg2d.setColor(Color.BLACK);\r\n    \t\tg2d.scale(scale, scale);\r\n    \t\tg2d.drawOval(0, 0, importance, importance);\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic Graphics2D getG2d() {\r\n    \t\treturn g2d;\r\n    \t}\r\n    \tpublic void setG2d(Graphics2D g2d) {\r\n    \t\tthis.g2d = g2d;\r\n    \t}\r\n    }\r\n\r\nthen you can do the following\r\nget the SomeComponent instance  in the panel and modify it \r\n   \r\n\r\n       \r\n    Graphics2D x= v.getPanel().get(i).getG2d;\r\n    x.setColor(Color.BLUE);\r\n    v.getPanel().get(i).setG2d(x);\r\n    v.getPanel().repaint();\r\n    v.getPanel().revalidate();\r\n\r\nV is a class that extends JFrame and contains the panel in it AND\r\ni is instance of SomeComponent","title":"Java JPanel getGraphics()","body":"<pre><code>class SomeComponent extends JComponent {\n\n    private Graphics2D g2d;\n\n    public void paintComponent(Graphics g) {\n        g2d = (Graphics2D) g.create();\n        g2d.setColor(Color.BLACK);\n        g2d.scale(scale, scale);\n        g2d.drawOval(0, 0, importance, importance);\n\n    }\n\n    public Graphics2D getG2d() {\n        return g2d;\n    }\n    public void setG2d(Graphics2D g2d) {\n        this.g2d = g2d;\n    }\n}\n</code></pre>\n\n<p>then you can do the following\nget the SomeComponent instance  in the panel and modify it </p>\n\n<pre><code>Graphics2D x= v.getPanel().get(i).getG2d;\nx.setColor(Color.BLUE);\nv.getPanel().get(i).setG2d(x);\nv.getPanel().repaint();\nv.getPanel().revalidate();\n</code></pre>\n\n<p>V is a class that extends JFrame and contains the panel in it AND\ni is instance of SomeComponent</p>\n"},{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1492986245,"creation_date":1390527766,"answer_id":21322873,"question_id":21322353,"body_markdown":"Here are some very simple examples which show how to paint outside `paintComponent`.\r\n\r\nThe drawing actually happens on a `java.awt.image.BufferedImage`, and we can do that anywhere, as long as we&#39;re on the Event Dispatch Thread. (For discussion of multithreading with Swing, see [here](https://stackoverflow.com/a/29837148/2891664) and [here](https://stackoverflow.com/a/21266240/2891664).)\r\n\r\nThen, I&#39;m overriding `paintComponent`, but only to paint the image on to the panel. (I also paint a little swatch in the corner.)\r\n\r\nThis way the drawing is actually permanent, and Swing is able to repaint the panel if it needs to without causing a problem for us. We could also do something like save the image to a file easily, if we wanted to.\r\n\r\n[![PaintAnyTime screenshot][1]][1]\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.image.*;\r\n    import java.awt.event.*;\r\n    \r\n    /**\r\n     * Holding left-click draws, and\r\n     * right-clicking cycles the color.\r\n     */\r\n    class PaintAnyTime {\r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new PaintAnyTime();\r\n                }\r\n            });\r\n        }\r\n        \r\n        Color[]    colors = {Color.red, Color.blue, Color.black};\r\n        int  currentColor = 0;\r\n        BufferedImage img = new BufferedImage(256, 256, BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D  imgG2 = img.createGraphics();\r\n        \r\n        JFrame frame = new JFrame(&quot;Paint Any Time&quot;);\r\n        JPanel panel = new JPanel() {\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                // Creating a copy of the Graphics\r\n                // so any reconfiguration we do on\r\n                // it doesn&#39;t interfere with what\r\n                // Swing is doing.\r\n                Graphics2D g2 = (Graphics2D) g.create();\r\n                // Drawing the image.\r\n                int w = img.getWidth();\r\n                int h = img.getHeight();\r\n                g2.drawImage(img, 0, 0, w, h, null);\r\n                // Drawing a swatch.\r\n                Color color = colors[currentColor];\r\n                g2.setColor(color);\r\n                g2.fillRect(0, 0, 16, 16);\r\n                g2.setColor(Color.black);\r\n                g2.drawRect(-1, -1, 17, 17);\r\n                // At the end, we dispose the\r\n                // Graphics copy we&#39;ve created\r\n                g2.dispose();\r\n            }\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(img.getWidth(), img.getHeight());\r\n            }\r\n        };\r\n        \r\n        MouseAdapter drawer = new MouseAdapter() {\r\n            boolean rButtonDown;\r\n            Point prev;\r\n            \r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n                if (SwingUtilities.isLeftMouseButton(e)) {\r\n                    prev = e.getPoint();\r\n                }\r\n                if (SwingUtilities.isRightMouseButton(e) &amp;&amp; !rButtonDown) {\r\n                    // (This just behaves a little better\r\n                    // than using the mouseClicked event.)\r\n                    rButtonDown  = true;\r\n                    currentColor = (currentColor + 1) % colors.length;\r\n                    panel.repaint();\r\n                }\r\n            }\r\n            \r\n            @Override\r\n            public void mouseDragged(MouseEvent e) {\r\n                if (prev != null) {\r\n                    Point  next = e.getPoint();\r\n                    Color color = colors[currentColor];\r\n                    // We can safely paint to the\r\n                    // image any time we want to.\r\n                    imgG2.setColor(color);\r\n                    imgG2.drawLine(prev.x, prev.y, next.x, next.y);\r\n                    // We just need to repaint the\r\n                    // panel to make sure the\r\n                    // changes are visible\r\n                    // immediately.\r\n                    panel.repaint();\r\n                    prev = next;\r\n                }\r\n            }\r\n            \r\n            @Override\r\n            public void mouseReleased(MouseEvent e) {\r\n                if (SwingUtilities.isLeftMouseButton(e)) {\r\n                    prev = null;\r\n                }\r\n                if (SwingUtilities.isRightMouseButton(e)) {\r\n                    rButtonDown = false;\r\n                }\r\n            }\r\n        };\r\n        \r\n        PaintAnyTime() {\r\n            // RenderingHints let you specify\r\n            // options such as antialiasing.\r\n            imgG2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n                                RenderingHints.VALUE_ANTIALIAS_ON);\r\n            imgG2.setStroke(new BasicStroke(3));\r\n            //\r\n            panel.setBackground(Color.white);\r\n            panel.addMouseListener(drawer);\r\n            panel.addMouseMotionListener(drawer);\r\n            Cursor cursor =\r\n                Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR);\r\n            panel.setCursor(cursor);\r\n            frame.setContentPane(panel);\r\n            frame.pack();\r\n            frame.setResizable(false);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n\r\nIt&#39;s also possible to set up a `JLabel` with an `ImageIcon`, although personally I don&#39;t like this method. I don&#39;t think `JLabel` and `ImageIcon` are required by their specifications to see changes we make to the image after we&#39;ve passed it to the constructors.\r\n\r\nThis way also doesn&#39;t let us do stuff like painting the swatch. (For a slightly more complicated paint program, on the level of e.g. MSPaint, we&#39;d want to have a way to select an area and draw a bounding box around it. That&#39;s another place we&#39;d want to be able to paint directly on the panel, in addition to drawing to the image.)\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.image.*;\r\n    import java.awt.event.*;\r\n    \r\n    /**\r\n     * Holding left-click draws, and\r\n     * right-clicking cycles the color.\r\n     */\r\n    class PaintAnyTime {\r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new PaintAnyTime();\r\n                }\r\n            });\r\n        }\r\n        \r\n        Color[]    colors = {Color.red, Color.blue, Color.black};\r\n        int  currentColor = 0;\r\n        BufferedImage img = new BufferedImage(256, 256, BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D  imgG2 = img.createGraphics();\r\n        \r\n        JFrame frame = new JFrame(&quot;Paint Any Time&quot;);\r\n        JLabel label = new JLabel(new ImageIcon(img));\r\n        \r\n        MouseAdapter drawer = new MouseAdapter() {\r\n            boolean rButtonDown;\r\n            Point prev;\r\n            \r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n                if (SwingUtilities.isLeftMouseButton(e)) {\r\n                    prev = e.getPoint();\r\n                }\r\n                if (SwingUtilities.isRightMouseButton(e) &amp;&amp; !rButtonDown) {\r\n                    // (This just behaves a little better\r\n                    // than using the mouseClicked event.)\r\n                    rButtonDown  = true;\r\n                    currentColor = (currentColor + 1) % colors.length;\r\n                    label.repaint();\r\n                }\r\n            }\r\n            \r\n            @Override\r\n            public void mouseDragged(MouseEvent e) {\r\n                if (prev != null) {\r\n                    Point  next = e.getPoint();\r\n                    Color color = colors[currentColor];\r\n                    // We can safely paint to the\r\n                    // image any time we want to.\r\n                    imgG2.setColor(color);\r\n                    imgG2.drawLine(prev.x, prev.y, next.x, next.y);\r\n                    // We just need to repaint the\r\n                    // label to make sure the\r\n                    // changes are visible\r\n                    // immediately.\r\n                    label.repaint();\r\n                    prev = next;\r\n                }\r\n            }\r\n            \r\n            @Override\r\n            public void mouseReleased(MouseEvent e) {\r\n                if (SwingUtilities.isLeftMouseButton(e)) {\r\n                    prev = null;\r\n                }\r\n                if (SwingUtilities.isRightMouseButton(e)) {\r\n                    rButtonDown = false;\r\n                }\r\n            }\r\n        };\r\n        \r\n        PaintAnyTime() {\r\n            // RenderingHints let you specify\r\n            // options such as antialiasing.\r\n            imgG2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n                                RenderingHints.VALUE_ANTIALIAS_ON);\r\n            imgG2.setStroke(new BasicStroke(3));\r\n            //\r\n            label.setPreferredSize(new Dimension(img.getWidth(), img.getHeight()));\r\n            label.setBackground(Color.white);\r\n            label.setOpaque(true);\r\n            label.addMouseListener(drawer);\r\n            label.addMouseMotionListener(drawer);\r\n            Cursor cursor =\r\n                Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR);\r\n            label.setCursor(cursor);\r\n            frame.add(label, BorderLayout.CENTER);\r\n            frame.pack();\r\n            frame.setResizable(false);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/8oY2e.png","title":"Java JPanel getGraphics()","body":"<p>Here are some very simple examples which show how to paint outside <code>paintComponent</code>.</p>\n\n<p>The drawing actually happens on a <code>java.awt.image.BufferedImage</code>, and we can do that anywhere, as long as we're on the Event Dispatch Thread. (For discussion of multithreading with Swing, see <a href=\"https://stackoverflow.com/a/29837148/2891664\">here</a> and <a href=\"https://stackoverflow.com/a/21266240/2891664\">here</a>.)</p>\n\n<p>Then, I'm overriding <code>paintComponent</code>, but only to paint the image on to the panel. (I also paint a little swatch in the corner.)</p>\n\n<p>This way the drawing is actually permanent, and Swing is able to repaint the panel if it needs to without causing a problem for us. We could also do something like save the image to a file easily, if we wanted to.</p>\n\n<p><a href=\"https://i.stack.imgur.com/8oY2e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8oY2e.png\" alt=\"PaintAnyTime screenshot\"></a></p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.*;\nimport java.awt.event.*;\n\n/**\n * Holding left-click draws, and\n * right-clicking cycles the color.\n */\nclass PaintAnyTime {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new PaintAnyTime();\n            }\n        });\n    }\n\n    Color[]    colors = {Color.red, Color.blue, Color.black};\n    int  currentColor = 0;\n    BufferedImage img = new BufferedImage(256, 256, BufferedImage.TYPE_INT_ARGB);\n    Graphics2D  imgG2 = img.createGraphics();\n\n    JFrame frame = new JFrame(\"Paint Any Time\");\n    JPanel panel = new JPanel() {\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            // Creating a copy of the Graphics\n            // so any reconfiguration we do on\n            // it doesn't interfere with what\n            // Swing is doing.\n            Graphics2D g2 = (Graphics2D) g.create();\n            // Drawing the image.\n            int w = img.getWidth();\n            int h = img.getHeight();\n            g2.drawImage(img, 0, 0, w, h, null);\n            // Drawing a swatch.\n            Color color = colors[currentColor];\n            g2.setColor(color);\n            g2.fillRect(0, 0, 16, 16);\n            g2.setColor(Color.black);\n            g2.drawRect(-1, -1, 17, 17);\n            // At the end, we dispose the\n            // Graphics copy we've created\n            g2.dispose();\n        }\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(img.getWidth(), img.getHeight());\n        }\n    };\n\n    MouseAdapter drawer = new MouseAdapter() {\n        boolean rButtonDown;\n        Point prev;\n\n        @Override\n        public void mousePressed(MouseEvent e) {\n            if (SwingUtilities.isLeftMouseButton(e)) {\n                prev = e.getPoint();\n            }\n            if (SwingUtilities.isRightMouseButton(e) &amp;&amp; !rButtonDown) {\n                // (This just behaves a little better\n                // than using the mouseClicked event.)\n                rButtonDown  = true;\n                currentColor = (currentColor + 1) % colors.length;\n                panel.repaint();\n            }\n        }\n\n        @Override\n        public void mouseDragged(MouseEvent e) {\n            if (prev != null) {\n                Point  next = e.getPoint();\n                Color color = colors[currentColor];\n                // We can safely paint to the\n                // image any time we want to.\n                imgG2.setColor(color);\n                imgG2.drawLine(prev.x, prev.y, next.x, next.y);\n                // We just need to repaint the\n                // panel to make sure the\n                // changes are visible\n                // immediately.\n                panel.repaint();\n                prev = next;\n            }\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent e) {\n            if (SwingUtilities.isLeftMouseButton(e)) {\n                prev = null;\n            }\n            if (SwingUtilities.isRightMouseButton(e)) {\n                rButtonDown = false;\n            }\n        }\n    };\n\n    PaintAnyTime() {\n        // RenderingHints let you specify\n        // options such as antialiasing.\n        imgG2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                            RenderingHints.VALUE_ANTIALIAS_ON);\n        imgG2.setStroke(new BasicStroke(3));\n        //\n        panel.setBackground(Color.white);\n        panel.addMouseListener(drawer);\n        panel.addMouseMotionListener(drawer);\n        Cursor cursor =\n            Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR);\n        panel.setCursor(cursor);\n        frame.setContentPane(panel);\n        frame.pack();\n        frame.setResizable(false);\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>It's also possible to set up a <code>JLabel</code> with an <code>ImageIcon</code>, although personally I don't like this method. I don't think <code>JLabel</code> and <code>ImageIcon</code> are required by their specifications to see changes we make to the image after we've passed it to the constructors.</p>\n\n<p>This way also doesn't let us do stuff like painting the swatch. (For a slightly more complicated paint program, on the level of e.g. MSPaint, we'd want to have a way to select an area and draw a bounding box around it. That's another place we'd want to be able to paint directly on the panel, in addition to drawing to the image.)</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.*;\nimport java.awt.event.*;\n\n/**\n * Holding left-click draws, and\n * right-clicking cycles the color.\n */\nclass PaintAnyTime {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new PaintAnyTime();\n            }\n        });\n    }\n\n    Color[]    colors = {Color.red, Color.blue, Color.black};\n    int  currentColor = 0;\n    BufferedImage img = new BufferedImage(256, 256, BufferedImage.TYPE_INT_ARGB);\n    Graphics2D  imgG2 = img.createGraphics();\n\n    JFrame frame = new JFrame(\"Paint Any Time\");\n    JLabel label = new JLabel(new ImageIcon(img));\n\n    MouseAdapter drawer = new MouseAdapter() {\n        boolean rButtonDown;\n        Point prev;\n\n        @Override\n        public void mousePressed(MouseEvent e) {\n            if (SwingUtilities.isLeftMouseButton(e)) {\n                prev = e.getPoint();\n            }\n            if (SwingUtilities.isRightMouseButton(e) &amp;&amp; !rButtonDown) {\n                // (This just behaves a little better\n                // than using the mouseClicked event.)\n                rButtonDown  = true;\n                currentColor = (currentColor + 1) % colors.length;\n                label.repaint();\n            }\n        }\n\n        @Override\n        public void mouseDragged(MouseEvent e) {\n            if (prev != null) {\n                Point  next = e.getPoint();\n                Color color = colors[currentColor];\n                // We can safely paint to the\n                // image any time we want to.\n                imgG2.setColor(color);\n                imgG2.drawLine(prev.x, prev.y, next.x, next.y);\n                // We just need to repaint the\n                // label to make sure the\n                // changes are visible\n                // immediately.\n                label.repaint();\n                prev = next;\n            }\n        }\n\n        @Override\n        public void mouseReleased(MouseEvent e) {\n            if (SwingUtilities.isLeftMouseButton(e)) {\n                prev = null;\n            }\n            if (SwingUtilities.isRightMouseButton(e)) {\n                rButtonDown = false;\n            }\n        }\n    };\n\n    PaintAnyTime() {\n        // RenderingHints let you specify\n        // options such as antialiasing.\n        imgG2.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                            RenderingHints.VALUE_ANTIALIAS_ON);\n        imgG2.setStroke(new BasicStroke(3));\n        //\n        label.setPreferredSize(new Dimension(img.getWidth(), img.getHeight()));\n        label.setBackground(Color.white);\n        label.setOpaque(true);\n        label.addMouseListener(drawer);\n        label.addMouseMotionListener(drawer);\n        Cursor cursor =\n            Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR);\n        label.setCursor(cursor);\n        frame.add(label, BorderLayout.CENTER);\n        frame.pack();\n        frame.setResizable(false);\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2495635,"reputation":2575,"user_id":2172135,"accept_rate":73,"display_name":"Mushy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28490,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":21322873,"answer_count":2,"score":7,"last_activity_date":1670945558,"creation_date":1390524565,"question_id":21322353,"body_markdown":"Since Java only supports `single inheritance`, I desire to `paint` directly on an instance of a `JPanel` that is a member of the class `Panel`.  I grab an instance of `Graphics` from the member and then paint whatever I desire onto it.\r\n\r\nHow can I not inherit from `JComponent` or `JPanel` and still utilize `getGraphics()` for painting on `this` without overriding `public void paintComponent(Graphics g)`?\r\n\r\n    private class Panel {\r\n          private JPanel panel;\r\n          private Graphics g;\r\n\r\n          public Panel() {\r\n               panel = new JPanel();\r\n          }\r\n\r\n          public void draw() {\r\n               g = panel.getGraphics();\r\n               g.setColor(Color.CYAN);\r\n               g.draw(Some Component);\r\n               panel.repaint();\r\n          }\r\n    }\r\n\r\nThe panel is added to a `JFrame` that is made visible prior to calling `panel.draw()`.  This approach is not working for me and, although I already know how to paint custom components by inheriting from `JPanel` and overriding `public void paintComponent(Graphics g)`, I did not want to inherit from `JPanel`.","title":"Java JPanel getGraphics()","body":"<p>Since Java only supports <code>single inheritance</code>, I desire to <code>paint</code> directly on an instance of a <code>JPanel</code> that is a member of the class <code>Panel</code>.  I grab an instance of <code>Graphics</code> from the member and then paint whatever I desire onto it.</p>\n<p>How can I not inherit from <code>JComponent</code> or <code>JPanel</code> and still utilize <code>getGraphics()</code> for painting on <code>this</code> without overriding <code>public void paintComponent(Graphics g)</code>?</p>\n<pre><code>private class Panel {\n      private JPanel panel;\n      private Graphics g;\n\n      public Panel() {\n           panel = new JPanel();\n      }\n\n      public void draw() {\n           g = panel.getGraphics();\n           g.setColor(Color.CYAN);\n           g.draw(Some Component);\n           panel.repaint();\n      }\n}\n</code></pre>\n<p>The panel is added to a <code>JFrame</code> that is made visible prior to calling <code>panel.draw()</code>.  This approach is not working for me and, although I already know how to paint custom components by inheriting from <code>JPanel</code> and overriding <code>public void paintComponent(Graphics g)</code>, I did not want to inherit from <code>JPanel</code>.</p>\n"},{"tags":["java","apache-kafka","google-compute-engine","kafka-producer-api"],"comments":[{"owner":{"account_id":13836520,"reputation":355,"user_id":10066623,"display_name":"Anurag"},"score":0,"creation_date":1603535045,"post_id":49699293,"comment_id":114071946,"body_markdown":"Did you ever find the solution to this issue? I am also running into the exact same problem. Telnet works fine, means port is open. But the Kafka producer just keep timing out. Tried with hosting Kafka on 3 different machines, same results. if you have found the solution, can you please help?","body":"Did you ever find the solution to this issue? I am also running into the exact same problem. Telnet works fine, means port is open. But the Kafka producer just keep timing out. Tried with hosting Kafka on 3 different machines, same results. if you have found the solution, can you please help?"},{"owner":{"account_id":14493651,"reputation":75,"user_id":10468998,"display_name":"yerqueri"},"score":0,"creation_date":1625770792,"post_id":49699293,"comment_id":120723148,"body_markdown":"Did you find any solution to this","body":"Did you find any solution to this"}],"answers":[{"tags":[],"owner":{"account_id":1782258,"reputation":51,"user_id":1624670,"display_name":"Vallikranth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524583055,"creation_date":1524583055,"answer_id":50005272,"question_id":49699293,"body_markdown":"I had a similar issue pointing to Kafka cluster deployed in Docker. It is because of access issue in between your local machine and remote Kafka cluster. If you are able to package your producer app, deploy/run it on the remote google cloud, the producer app should work fine.","title":"Timeout exception while producing to a remote Kafka broker with Kafka client api 1.0.1","body":"<p>I had a similar issue pointing to Kafka cluster deployed in Docker. It is because of access issue in between your local machine and remote Kafka cluster. If you are able to package your producer app, deploy/run it on the remote google cloud, the producer app should work fine.</p>\n"},{"tags":[],"owner":{"account_id":23800529,"reputation":1,"user_id":17810813,"display_name":"hinhnhumoi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670945540,"creation_date":1670945437,"answer_id":74787252,"question_id":49699293,"body_markdown":"If you want to access from LAN, change the following 2 files:\r\n\r\nIn config/server.properties:\r\n~~~\r\nadvertised.listeners=PLAINTEXT://server.ip.in.lan:9092\r\n~~~\r\nIn config/producer.properties:\r\n~~~\r\nbootstrap.servers=server.ip.in.lan:9092\r\n~~~\r\n","title":"Timeout exception while producing to a remote Kafka broker with Kafka client api 1.0.1","body":"<p>If you want to access from LAN, change the following 2 files:</p>\n<p>In config/server.properties:</p>\n<pre><code>advertised.listeners=PLAINTEXT://server.ip.in.lan:9092\n</code></pre>\n<p>In config/producer.properties:</p>\n<pre><code>bootstrap.servers=server.ip.in.lan:9092\n</code></pre>\n"}],"owner":{"account_id":10779691,"reputation":11,"user_id":8472905,"display_name":"Suvro Ghosh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670945540,"creation_date":1523040485,"question_id":49699293,"body_markdown":"The producer-api(Kafka-client-1.0.1) cannot not produce messages in my remote Kafka broker (v1.1.0) hosted in google cloud. \r\n\r\nI have configured the server.properties file, by adding the following:\r\n\r\n    listeners=PLAINTEXT://0.0.0.0:9092\r\n\r\n    advertised.listeners=PLAINTEXT://&lt;Local-IP&gt;:9092\r\n\r\nBut same results.\r\n\r\nMy Producer Api looks like this:-\r\n\r\n    public class KafkaProducerExample {\r\n\tprivate final static String TOPIC = &quot;my-topic&quot;;\r\n    private final static String BOOTSTRAP_SERVERS =&quot;Public-IP:9092&quot;;\r\n    private static Producer&lt;Long, String&gt; createProducer() {\r\n        Properties props = new Properties();\r\n        props.put(&quot;bootstrap.servers&quot;,BOOTSTRAP_SERVERS);\r\n        \r\n        props.put(ProducerConfig.CLIENT_ID_CONFIG, &quot;KafkaExampleProducer&quot;);\r\n        props.put(&quot;key.serializer&quot;,LongSerializer.class.getName());\r\n        props.put(&quot;value.serializer&quot;,StringSerializer.class.getName());\r\n        return new KafkaProducer&lt;&gt;(props);\r\n    }\r\n    \r\n    static void runProducer(final int sendMessageCount) throws Exception {\r\n        final Producer&lt;Long, String&gt; producer = createProducer();\r\n        long time = System.currentTimeMillis();\r\n        try {\r\n            for (long index = time; index &lt; time + sendMessageCount; index++) {\r\n                final ProducerRecord&lt;Long, String&gt; record =\r\n                        new ProducerRecord&lt;&gt;(TOPIC, index,\r\n                                    &quot;Hello Suvro &quot; + index);\r\n                RecordMetadata metadata = producer.send(record).get();\r\n                long elapsedTime = System.currentTimeMillis() - time;\r\n                System.out.printf(&quot;sent record(key=%s value=%s) &quot; +\r\n                                &quot;meta(partition=%d, offset=%d) time=%d\\n&quot;,\r\n                        record.key(), record.value(), metadata.partition(),\r\n                        metadata.offset(), elapsedTime);\r\n            }\r\n        } finally {\r\n            producer.flush();\r\n            producer.close();\r\n        }\r\n    }\r\n    \r\n    public static void main(String args[]) {\r\n    \ttry {\r\n\t\t\trunProducer(5);\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n    \r\n    }\r\n\r\nThe error looks like:\r\n\r\n    java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Expiring 1 record(s) for my-topic-0: 30039 ms has passed since batch creation plus linger time\r\n\tat org.apache.kafka.clients.producer.internals.FutureRecordMetadata.valueOrError(FutureRecordMetadata.java:94)\r\n\tat org.apache.kafka.clients.producer.internals.FutureRecordMetadata.get(FutureRecordMetadata.java:64)\r\n\tat org.apache.kafka.clients.producer.internals.FutureRecordMetadata.get(FutureRecordMetadata.java:29)\r\n\tat in.gov.enam.etrade.notification.KafkaProducerExample.runProducer(KafkaProducerExample.java:39)\r\n\tat in.gov.enam.etrade.notification.KafkaProducerExample.main(KafkaProducerExample.java:54)\r\n    Caused by: org.apache.kafka.common.errors.TimeoutException: Expiring 1 record(s) for my-topic-0: 30039 ms has passed since batch creation plus linger time\r\n\r\n\r\nHowever, this entire thing worked when the zookeeper, Kafka-server and the Producer api were run on the same machine with localhost.\r\n\r\nI have no clue what I have missed or where I am going wrong.  \r\n  ","title":"Timeout exception while producing to a remote Kafka broker with Kafka client api 1.0.1","body":"<p>The producer-api(Kafka-client-1.0.1) cannot not produce messages in my remote Kafka broker (v1.1.0) hosted in google cloud. </p>\n\n<p>I have configured the server.properties file, by adding the following:</p>\n\n<pre><code>listeners=PLAINTEXT://0.0.0.0:9092\n\nadvertised.listeners=PLAINTEXT://&lt;Local-IP&gt;:9092\n</code></pre>\n\n<p>But same results.</p>\n\n<p>My Producer Api looks like this:-</p>\n\n<pre><code>public class KafkaProducerExample {\nprivate final static String TOPIC = \"my-topic\";\nprivate final static String BOOTSTRAP_SERVERS =\"Public-IP:9092\";\nprivate static Producer&lt;Long, String&gt; createProducer() {\n    Properties props = new Properties();\n    props.put(\"bootstrap.servers\",BOOTSTRAP_SERVERS);\n\n    props.put(ProducerConfig.CLIENT_ID_CONFIG, \"KafkaExampleProducer\");\n    props.put(\"key.serializer\",LongSerializer.class.getName());\n    props.put(\"value.serializer\",StringSerializer.class.getName());\n    return new KafkaProducer&lt;&gt;(props);\n}\n\nstatic void runProducer(final int sendMessageCount) throws Exception {\n    final Producer&lt;Long, String&gt; producer = createProducer();\n    long time = System.currentTimeMillis();\n    try {\n        for (long index = time; index &lt; time + sendMessageCount; index++) {\n            final ProducerRecord&lt;Long, String&gt; record =\n                    new ProducerRecord&lt;&gt;(TOPIC, index,\n                                \"Hello Suvro \" + index);\n            RecordMetadata metadata = producer.send(record).get();\n            long elapsedTime = System.currentTimeMillis() - time;\n            System.out.printf(\"sent record(key=%s value=%s) \" +\n                            \"meta(partition=%d, offset=%d) time=%d\\n\",\n                    record.key(), record.value(), metadata.partition(),\n                    metadata.offset(), elapsedTime);\n        }\n    } finally {\n        producer.flush();\n        producer.close();\n    }\n}\n\npublic static void main(String args[]) {\n    try {\n        runProducer(5);\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n\n}\n</code></pre>\n\n<p>The error looks like:</p>\n\n<pre><code>java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Expiring 1 record(s) for my-topic-0: 30039 ms has passed since batch creation plus linger time\nat org.apache.kafka.clients.producer.internals.FutureRecordMetadata.valueOrError(FutureRecordMetadata.java:94)\nat org.apache.kafka.clients.producer.internals.FutureRecordMetadata.get(FutureRecordMetadata.java:64)\nat org.apache.kafka.clients.producer.internals.FutureRecordMetadata.get(FutureRecordMetadata.java:29)\nat in.gov.enam.etrade.notification.KafkaProducerExample.runProducer(KafkaProducerExample.java:39)\nat in.gov.enam.etrade.notification.KafkaProducerExample.main(KafkaProducerExample.java:54)\nCaused by: org.apache.kafka.common.errors.TimeoutException: Expiring 1 record(s) for my-topic-0: 30039 ms has passed since batch creation plus linger time\n</code></pre>\n\n<p>However, this entire thing worked when the zookeeper, Kafka-server and the Producer api were run on the same machine with localhost.</p>\n\n<p>I have no clue what I have missed or where I am going wrong.  </p>\n"},{"tags":["java","file","path","qr-code"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1670923979,"post_id":74782421,"comment_id":131979851,"body_markdown":"Ask first, How use this application ? 1. use a console / terminal ? or others ? You can search `java-qrcode-terminal` in github to find example code. 2. how to process input ? if your application use console / terminal, you can run like `java myaap  /home/demo/data/qrcode-uuid.png` , pass save file path as appication parameter, or `java myapp`, in your java main, use `BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));` , \n`String qrcodePath = reader.readLine();`","body":"Ask first, How use this application ? 1. use a console / terminal ? or others ? You can search <code>java-qrcode-terminal</code> in github to find example code. 2. how to process input ? if your application use console / terminal, you can run like <code>java myaap  &#47;home&#47;demo&#47;data&#47;qrcode-uuid.png</code> , pass save file path as appication parameter, or <code>java myapp</code>, in your java main, use <code>BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));</code> ,  <code>String qrcodePath = reader.readLine();</code>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1670924222,"post_id":74782421,"comment_id":131979938,"body_markdown":"or you can save qrcode file to temp folder `/tmp/xxxxx.png`, and try to convert png file show like text char in terminal, like this https://raw.githubusercontent.com/alishtory/qrcode-terminal/master/example/cmdqrcode.jpg","body":"or you can save qrcode file to temp folder <code>&#47;tmp&#47;xxxxx.png</code>, and try to convert png file show like text char in terminal, like this <a href=\"https://raw.githubusercontent.com/alishtory/qrcode-terminal/master/example/cmdqrcode.jpg\" rel=\"nofollow noreferrer\">raw.githubusercontent.com/alishtory/qrcode-terminal/master/&hellip;</a>"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1670935144,"post_id":74782421,"comment_id":131983785,"body_markdown":"You say your GUI is implemented with HTML/JavaScript. Then use this to ask the user for the file path and pass it to the Java function.","body":"You say your GUI is implemented with HTML/JavaScript. Then use this to ask the user for the file path and pass it to the Java function."}],"owner":{"account_id":26868936,"reputation":1,"user_id":20451245,"display_name":"Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670945205,"creation_date":1670922870,"question_id":74782421,"body_markdown":"I actually have to do a program which create a QR Code with some information.\r\nTo generate it, I use a html/JavaScript interface who call a java function.\r\nFor now, I use a specific path, but I want the user to choose where I want to save it.\r\n\r\nThe question is, how can I ask the user where to save the file?\r\n\r\n(I&#39;m actually new in java so any advice is good :) )\r\n\r\nHere is the function:  \r\n```\r\npublic static void generateQrcode(String check) throws WriterException, IOException\r\n{\r\n    try {\r\n        UUID uuid = UUID.randomUUID();\r\n        String str = &quot;qr-code-&quot; + uuid.toString();\r\n        String path = &quot;/qr-code/&quot; + str + &quot;.png&quot;;\r\n        String charset = &quot;UTF-8&quot;;\r\n\r\n        Map&lt;EncodeHintType, ErrorCorrectionLevel&gt; hashMap = new HashMap&lt;&gt;();\r\n        hashMap.put(EncodeHintType.ERROR_CORRECTION, ErrorCorrectionLevel.L);\r\n        qrcode(check, path, charset, 250, 250);\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;An error occurred : &quot; + e);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic static void qrcode(String data, String path, String charset, int h, int w) throws WriterException, IOException\r\n{\r\n    BitMatrix matrix = new MultiFormatWriter().encode(new String(data.getBytes(charset), charset), BarcodeFormat.QR_CODE, w, h);\r\n    MatrixToImageWriter.writeToFile(matrix, path.substring(path.lastIndexOf(&#39;.&#39;) + 1), new File(path));\r\n}\r\n```\r\n\r\nI tried to use the File() method, but I think it doesn&#39;t help me.","title":"How to ask user for file Path in Java","body":"<p>I actually have to do a program which create a QR Code with some information.\nTo generate it, I use a html/JavaScript interface who call a java function.\nFor now, I use a specific path, but I want the user to choose where I want to save it.</p>\n<p>The question is, how can I ask the user where to save the file?</p>\n<p>(I'm actually new in java so any advice is good :) )</p>\n<p>Here is the function:</p>\n<pre><code>public static void generateQrcode(String check) throws WriterException, IOException\n{\n    try {\n        UUID uuid = UUID.randomUUID();\n        String str = &quot;qr-code-&quot; + uuid.toString();\n        String path = &quot;/qr-code/&quot; + str + &quot;.png&quot;;\n        String charset = &quot;UTF-8&quot;;\n\n        Map&lt;EncodeHintType, ErrorCorrectionLevel&gt; hashMap = new HashMap&lt;&gt;();\n        hashMap.put(EncodeHintType.ERROR_CORRECTION, ErrorCorrectionLevel.L);\n        qrcode(check, path, charset, 250, 250);\n    } catch (Exception e) {\n        System.out.println(&quot;An error occurred : &quot; + e);\n    }\n}\n</code></pre>\n<pre><code>public static void qrcode(String data, String path, String charset, int h, int w) throws WriterException, IOException\n{\n    BitMatrix matrix = new MultiFormatWriter().encode(new String(data.getBytes(charset), charset), BarcodeFormat.QR_CODE, w, h);\n    MatrixToImageWriter.writeToFile(matrix, path.substring(path.lastIndexOf('.') + 1), new File(path));\n}\n</code></pre>\n<p>I tried to use the File() method, but I think it doesn't help me.</p>\n"},{"tags":["java","quicksort"],"owner":{"account_id":24355737,"reputation":3,"user_id":18290946,"display_name":"DC_Fruit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670945108,"creation_date":1670773261,"question_id":74762166,"body_markdown":"I&#39;m trying to make a program where I count the amount of comparisons quicksort makes but its not 100% accurate. how would I make this comparison counter accurate?\r\n\r\nThe quicksort takes in an array of n random integers.\r\n\r\nCode I have so far:\r\n\r\n    public int QuickSort(int[] list, int from, int to) {\r\n    \tint icount = 0;\r\n    \tif (from &gt;= to) {\r\n    \t\treturn icount;\r\n    \t}\r\n    \tint p = from;\r\n    \tint i = from;\r\n    \tint j = to;\r\n    \twhile (i &lt;= j) {\r\n    \t\tif (list[i] &lt;= list[p]) {\r\n    \t\t\ti++;\r\n    \t\t\ticount++;\r\n    \t\t} else if (list[j] &gt;= list[p]) {\r\n    \t\t\tj--;\r\n    \t\t\ticount++;\r\n    \t\t} else {\r\n    \t\t\tswap(list, i, j);\r\n    \t\t\ti++;\r\n    \t\t\tj--;\r\n    \t\t\ticount++;\r\n    \t\t}\r\n    \t}\r\n    \tif (p &lt; j) {   // place the pivot in its correct position\r\n    \t\tswap(list, j, p);\r\n    \t\tp = j;\r\n    \t\ticount++;\r\n    \t} else if (p &gt; i) {\r\n    \t\tswap(list, i, p);\r\n    \t\tp = i;\r\n    \t\ticount++;\r\n    \t}\r\n    \ticount += QuickSort(list, from, p - 1);\r\n    \ticount += QuickSort(list, p + 1, to);\r\n    \treturn icount;\r\n    }\r\n\r\nIs there anything wrong with the current code? or is it not possible to be completely accurate with random integers?","title":"how to count Quicksort comparisons accurately","body":"<p>I'm trying to make a program where I count the amount of comparisons quicksort makes but its not 100% accurate. how would I make this comparison counter accurate?</p>\n<p>The quicksort takes in an array of n random integers.</p>\n<p>Code I have so far:</p>\n<pre><code>public int QuickSort(int[] list, int from, int to) {\n    int icount = 0;\n    if (from &gt;= to) {\n        return icount;\n    }\n    int p = from;\n    int i = from;\n    int j = to;\n    while (i &lt;= j) {\n        if (list[i] &lt;= list[p]) {\n            i++;\n            icount++;\n        } else if (list[j] &gt;= list[p]) {\n            j--;\n            icount++;\n        } else {\n            swap(list, i, j);\n            i++;\n            j--;\n            icount++;\n        }\n    }\n    if (p &lt; j) {   // place the pivot in its correct position\n        swap(list, j, p);\n        p = j;\n        icount++;\n    } else if (p &gt; i) {\n        swap(list, i, p);\n        p = i;\n        icount++;\n    }\n    icount += QuickSort(list, from, p - 1);\n    icount += QuickSort(list, p + 1, to);\n    return icount;\n}\n</code></pre>\n<p>Is there anything wrong with the current code? or is it not possible to be completely accurate with random integers?</p>\n"},{"tags":["java","spring","testing","junit","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":7126789,"reputation":127,"user_id":5449454,"display_name":"Daemon2017"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670940567,"creation_date":1670940567,"answer_id":74786148,"question_id":74781431,"body_markdown":"ApplicationContextInitializer helped me to solve this problem!\r\nhttps://www.logicbig.com/tutorials/spring-framework/spring-core/tests-context-initializer.html\r\n\r\nI&#39;ve created an implementation of initializer interface and moved broker there:\r\n\r\n    public class ArtemisTestContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext applicationContext) {\r\n            EmbeddedActiveMQHolder.getEmbeddedActiveMQ();\r\n        }\r\n    }\r\n\r\nAnd then I&#39;ve deleted broker from my ArtemisTestConfiguration class:\r\n\r\n    @TestConfiguration\r\n    public class ArtemisTestConfiguration {\r\n        @MockBean\r\n        ArtemisContinualConsumer artemisContinualConsumer;\r\n    \r\n        @Bean\r\n        public JmsTemplate artemisJmsTemplate() {\r\n            return new JmsTemplate(artemisTestConnectionFactory());\r\n        }\r\n    \r\n        @Bean\r\n        public ConnectionFactory artemisTestConnectionFactory() {\r\n            return new ActiveMQConnectionFactory(&quot;vm://0&quot;);\r\n        }\r\n    }\r\n\r\nIn the end I&#39;ve added initializer to the @ContextConfiguration annotation:\r\n\r\n    @SpringBootTest(classes = {Application.class})\r\n    @TestPropertySource(properties = {\r\n            &quot;activemq.broker.url=vm://0?reconnectAttempts=3&quot;,\r\n    })\r\n    @ContextConfiguration(classes = ArtemisTestConfiguration.class,\r\n        initializers = ArtemisTestContextInitializer.class)\r\n    public abstract class BaseTest {\r\n    }\r\n\r\nNow the broker starts before the application:\r\n\r\n    2022-12-13 13:58:19,742 INFO  o.a.a.a.c.server.: : AMQ221007: Server is now live\r\n    2022-12-13 13:58:22,474 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.: : Root WebApplicationContext: initialization completed in 2696 ms","title":"Start ActiveMQ broker before Application","body":"<p>ApplicationContextInitializer helped me to solve this problem!\n<a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-core/tests-context-initializer.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/spring-framework/spring-core/tests-context-initializer.html</a></p>\n<p>I've created an implementation of initializer interface and moved broker there:</p>\n<pre><code>public class ArtemisTestContextInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n    @Override\n    public void initialize(ConfigurableApplicationContext applicationContext) {\n        EmbeddedActiveMQHolder.getEmbeddedActiveMQ();\n    }\n}\n</code></pre>\n<p>And then I've deleted broker from my ArtemisTestConfiguration class:</p>\n<pre><code>@TestConfiguration\npublic class ArtemisTestConfiguration {\n    @MockBean\n    ArtemisContinualConsumer artemisContinualConsumer;\n\n    @Bean\n    public JmsTemplate artemisJmsTemplate() {\n        return new JmsTemplate(artemisTestConnectionFactory());\n    }\n\n    @Bean\n    public ConnectionFactory artemisTestConnectionFactory() {\n        return new ActiveMQConnectionFactory(&quot;vm://0&quot;);\n    }\n}\n</code></pre>\n<p>In the end I've added initializer to the @ContextConfiguration annotation:</p>\n<pre><code>@SpringBootTest(classes = {Application.class})\n@TestPropertySource(properties = {\n        &quot;activemq.broker.url=vm://0?reconnectAttempts=3&quot;,\n})\n@ContextConfiguration(classes = ArtemisTestConfiguration.class,\n    initializers = ArtemisTestContextInitializer.class)\npublic abstract class BaseTest {\n}\n</code></pre>\n<p>Now the broker starts before the application:</p>\n<pre><code>2022-12-13 13:58:19,742 INFO  o.a.a.a.c.server.: : AMQ221007: Server is now live\n2022-12-13 13:58:22,474 INFO  o.s.b.w.s.c.ServletWebServerApplicationContext.: : Root WebApplicationContext: initialization completed in 2696 ms\n</code></pre>\n"}],"owner":{"account_id":7126789,"reputation":127,"user_id":5449454,"display_name":"Daemon2017"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74786148,"answer_count":1,"score":1,"last_activity_date":1670944988,"creation_date":1670917222,"question_id":74781431,"body_markdown":"My application creates connections to the embedded ActiveMQ Artemis broker during application start, so the broker must exist before application starts.\r\n\r\nI&#39;ve created an embedded broker with the Holder pattern:\r\n\r\n    public final class EmbeddedActiveMQHolder {\r\n    \r\n        private EmbeddedActiveMQHolder() {\r\n            super();\r\n        }\r\n    \r\n        private static final EmbeddedActiveMQ embeddedActiveMQ = new EmbeddedActiveMQ();\r\n    \r\n        @SneakyThrows\r\n        public static EmbeddedActiveMQ getEmbeddedActiveMQ() {\r\n            if (embeddedActiveMQ.getActiveMQServer() == null) {\r\n                Configuration configuration = new ConfigurationImpl();\r\n                configuration.addAcceptorConfiguration(&quot;in-vm&quot;, &quot;vm://0&quot;);\r\n                configuration.setPersistenceEnabled(false);\r\n                configuration.setSecurityEnabled(false);\r\n                configuration.setCreateJournalDir(false);\r\n                configuration.setCreateBindingsDir(false);\r\n    \r\n                embeddedActiveMQ.setConfiguration(configuration);\r\n                embeddedActiveMQ.start();\r\n            }\r\n            return embeddedActiveMQ;\r\n        }\r\n    }\r\n\r\nThan I&#39;ve created a test configuration:\r\n\r\n    @TestConfiguration\r\n    public class ArtemisTestConfiguration {\r\n        @PostConstruct\r\n        @EventListener(ApplicationReadyEvent.class)\r\n        public EmbeddedActiveMQ embeddedArtemis() throws Exception {\r\n            System.out.println(&quot;ActiveMQ starting!&quot;);\r\n            return EmbeddedActiveMQHolder.getEmbeddedActiveMQ();\r\n        }\r\n    }\r\n\r\nAnd then I&#39;ve attached it to my base test class:\r\n\r\n    @SpringBootTest(classes = {Application.class})\r\n    @TestPropertySource(properties = {\r\n            &quot;activemq.broker.url=vm://0?reconnectAttempts=3&quot;,\r\n    })\r\n    @ContextConfiguration(classes = ArtemisTestConfiguration.class)\r\n    public abstract class BaseTest {\r\n    }\r\nBut the broker does not start and the message &quot;ActiveMQ starting!&quot; does not appear in the terminal, and the service returns an error:\r\n\r\n    Failed to load ApplicationContext\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    ...\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;containerFactory&#39;: Invocation of init method failed; nested exception is javax.jms.JMSException: Failed to create session factory\r\n    ...\r\n    Caused by: javax.jms.JMSException: Failed to create session factory\r\n    ...\r\n    Caused by: ActiveMQNotConnectedException[errorType=NOT_CONNECTED message=AMQ219007: Cannot connect to server(s). Tried with all available servers.]\r\n    ...\r\nWhat am I doing wrong?","title":"Start ActiveMQ broker before Application","body":"<p>My application creates connections to the embedded ActiveMQ Artemis broker during application start, so the broker must exist before application starts.</p>\n<p>I've created an embedded broker with the Holder pattern:</p>\n<pre><code>public final class EmbeddedActiveMQHolder {\n\n    private EmbeddedActiveMQHolder() {\n        super();\n    }\n\n    private static final EmbeddedActiveMQ embeddedActiveMQ = new EmbeddedActiveMQ();\n\n    @SneakyThrows\n    public static EmbeddedActiveMQ getEmbeddedActiveMQ() {\n        if (embeddedActiveMQ.getActiveMQServer() == null) {\n            Configuration configuration = new ConfigurationImpl();\n            configuration.addAcceptorConfiguration(&quot;in-vm&quot;, &quot;vm://0&quot;);\n            configuration.setPersistenceEnabled(false);\n            configuration.setSecurityEnabled(false);\n            configuration.setCreateJournalDir(false);\n            configuration.setCreateBindingsDir(false);\n\n            embeddedActiveMQ.setConfiguration(configuration);\n            embeddedActiveMQ.start();\n        }\n        return embeddedActiveMQ;\n    }\n}\n</code></pre>\n<p>Than I've created a test configuration:</p>\n<pre><code>@TestConfiguration\npublic class ArtemisTestConfiguration {\n    @PostConstruct\n    @EventListener(ApplicationReadyEvent.class)\n    public EmbeddedActiveMQ embeddedArtemis() throws Exception {\n        System.out.println(&quot;ActiveMQ starting!&quot;);\n        return EmbeddedActiveMQHolder.getEmbeddedActiveMQ();\n    }\n}\n</code></pre>\n<p>And then I've attached it to my base test class:</p>\n<pre><code>@SpringBootTest(classes = {Application.class})\n@TestPropertySource(properties = {\n        &quot;activemq.broker.url=vm://0?reconnectAttempts=3&quot;,\n})\n@ContextConfiguration(classes = ArtemisTestConfiguration.class)\npublic abstract class BaseTest {\n}\n</code></pre>\n<p>But the broker does not start and the message &quot;ActiveMQ starting!&quot; does not appear in the terminal, and the service returns an error:</p>\n<pre><code>Failed to load ApplicationContext\njava.lang.IllegalStateException: Failed to load ApplicationContext\n...\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'containerFactory': Invocation of init method failed; nested exception is javax.jms.JMSException: Failed to create session factory\n...\nCaused by: javax.jms.JMSException: Failed to create session factory\n...\nCaused by: ActiveMQNotConnectedException[errorType=NOT_CONNECTED message=AMQ219007: Cannot connect to server(s). Tried with all available servers.]\n...\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","sorting","dictionary"],"answers":[{"comments":[{"owner":{"account_id":11625235,"reputation":47,"user_id":8515191,"display_name":"Daxan"},"score":0,"creation_date":1670964296,"post_id":74787067,"comment_id":131993791,"body_markdown":"I tried it, but I get an error &quot;method insertString in interface Document cannot be applied to given types;&quot;","body":"I tried it, but I get an error &quot;method insertString in interface Document cannot be applied to given types;&quot;"}],"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670944641,"creation_date":1670944641,"answer_id":74787067,"question_id":74786949,"body_markdown":"The forEach method takes a consumer function, which takes in an Entry. The println method takes in an Object, so the arguments match. Here&#39;s an example on how to use the forEach method in your use case: \r\n```java\r\nmap_serv.entrySet().stream()\r\n            .sorted(Map.Entry.comparingByValue())\r\n            .forEach((entry) -&gt; {\r\n                docKO.insertString(docKO.getLength(), entry.getKey()+&quot; = &quot;+entry.getValue());\r\n            });\r\n```\r\nThis will put each entry in the map into your document, in the `key = value` format. If you want to change the format, just change the consumer to do something else with the entry.","title":"Getting values from map stream sorted in Java","body":"<p>The forEach method takes a consumer function, which takes in an Entry. The println method takes in an Object, so the arguments match. Here's an example on how to use the forEach method in your use case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>map_serv.entrySet().stream()\n            .sorted(Map.Entry.comparingByValue())\n            .forEach((entry) -&gt; {\n                docKO.insertString(docKO.getLength(), entry.getKey()+&quot; = &quot;+entry.getValue());\n            });\n</code></pre>\n<p>This will put each entry in the map into your document, in the <code>key = value</code> format. If you want to change the format, just change the consumer to do something else with the entry.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670944757,"creation_date":1670944757,"answer_id":74787093,"question_id":74786949,"body_markdown":"`forEach` is a terminating operation: It &quot;makes the stream go&quot; and the stuff that falls out of the end of it is &#39;handled&#39; by invoking the code you pass to it (in this case, `x -&gt; System.out.println(x)`) on each element.\r\n\r\nWhat you now want instead is a different kind of terminator: One that combines everything falling out of the stream into a single value. Hence, this is called a __collector__ - it collects all values into a single thing.\r\n\r\nThere are various collectors in the [`Collectors`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html) class; many of those take in methodrefs/closures themselves.\r\n\r\nThe one that seems relevant here is `Collectors.joining`, which requires specifically a stream of strings, and will combine them by concatenating them. You can specify optional prefix, suffix, and infixes (i.e. to turn `5`, `2`, and `10` into the string `[5, 2, 10]`, prefix = `[`, infix = `, `, suffix = `]`). Thus, you first map your data to a string, and then collect that using a string joiner collector, obtained by invoking `Collectors.joining` which makes one for you.\r\n\r\nThus:\r\n\r\n```\r\nString v = mapServ.entrySet().stream()\r\n  .sorted(Map.Entry.comparingByValue())\r\n  .map(e -&gt; e.getKey() + &quot;=&quot; + e.getValue())\r\n  .collect(Collectors.joining(&quot;\\n&quot;));\r\n\r\nassertEquals(&quot;&quot;&quot;\r\n  Value1=1\r\n  Value2=3\r\n  Value3=432\r\n  Value4=1000\r\n&quot;&quot;&quot;, v);\r\n```\r\n","title":"Getting values from map stream sorted in Java","body":"<p><code>forEach</code> is a terminating operation: It &quot;makes the stream go&quot; and the stuff that falls out of the end of it is 'handled' by invoking the code you pass to it (in this case, <code>x -&gt; System.out.println(x)</code>) on each element.</p>\n<p>What you now want instead is a different kind of terminator: One that combines everything falling out of the stream into a single value. Hence, this is called a <strong>collector</strong> - it collects all values into a single thing.</p>\n<p>There are various collectors in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\"><code>Collectors</code></a> class; many of those take in methodrefs/closures themselves.</p>\n<p>The one that seems relevant here is <code>Collectors.joining</code>, which requires specifically a stream of strings, and will combine them by concatenating them. You can specify optional prefix, suffix, and infixes (i.e. to turn <code>5</code>, <code>2</code>, and <code>10</code> into the string <code>[5, 2, 10]</code>, prefix = <code>[</code>, infix = <code>, </code>, suffix = <code>]</code>). Thus, you first map your data to a string, and then collect that using a string joiner collector, obtained by invoking <code>Collectors.joining</code> which makes one for you.</p>\n<p>Thus:</p>\n<pre><code>String v = mapServ.entrySet().stream()\n  .sorted(Map.Entry.comparingByValue())\n  .map(e -&gt; e.getKey() + &quot;=&quot; + e.getValue())\n  .collect(Collectors.joining(&quot;\\n&quot;));\n\nassertEquals(&quot;&quot;&quot;\n  Value1=1\n  Value2=3\n  Value3=432\n  Value4=1000\n&quot;&quot;&quot;, v);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11625235,"reputation":47,"user_id":8515191,"display_name":"Daxan"},"score":0,"creation_date":1670964125,"post_id":74787120,"comment_id":131993757,"body_markdown":"Thank, it works!, but, how can i reverse the order? If I try &quot;        .sorted(Map.Entry.comparingByValue().reversed())&quot; y get &quot;incompatible types: Comparator&lt;Entry&lt;Object,V&gt;&gt; cannot be converted to Comparator&lt;? super Entry&lt;String,Long&gt;&gt;&quot;","body":"Thank, it works!, but, how can i reverse the order? If I try &quot;        .sorted(Map.Entry.comparingByValue().reversed())&quot; y get &quot;incompatible types: Comparator&lt;Entry&lt;Object,V&gt;&gt; cannot be converted to Comparator&lt;? super Entry&lt;String,Long&gt;&gt;&quot;"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1670964386,"post_id":74787120,"comment_id":131993812,"body_markdown":"@Daxan you can use `.sorted(Collections.reverseOrder(Map.Entry.comparingByValue()))`","body":"@Daxan you can use <code>.sorted(Collections.reverseOrder(Map.Entry.comparingByValue(&zwnj;&#8203;)))</code>"}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670944878,"creation_date":1670944878,"answer_id":74787120,"question_id":74786949,"body_markdown":"You can try this:\r\n\r\n    String response = map_serv.entrySet().stream()\r\n            .sorted(Map.Entry.comparingByValue())\r\n            .map(e -&gt; String.format(&quot;%s=%s&quot;, e.getKey(), e.getValue()))\r\n            .collect(Collectors.joining(&quot;\\n&quot;));","title":"Getting values from map stream sorted in Java","body":"<p>You can try this:</p>\n<pre><code>String response = map_serv.entrySet().stream()\n        .sorted(Map.Entry.comparingByValue())\n        .map(e -&gt; String.format(&quot;%s=%s&quot;, e.getKey(), e.getValue()))\n        .collect(Collectors.joining(&quot;\\n&quot;));\n</code></pre>\n"}],"owner":{"account_id":11625235,"reputation":47,"user_id":8515191,"display_name":"Daxan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74787120,"answer_count":3,"score":1,"last_activity_date":1670944878,"creation_date":1670944141,"question_id":74786949,"body_markdown":"I have a map values than I can sort and print in console using:\r\n\r\n```\r\nmap_serv.entrySet().stream()\r\n            .sorted(Map.Entry.comparingByValue())\r\n            .forEach(System.out::println);\r\n```\r\n\r\nThe output its like:\r\n```\r\nValue1=1\r\nValue2=3\r\nValue3=432\r\nValue4=1000\r\n```\r\n\r\n\r\n\r\nThe method forEach gives that messsage:\r\n\r\n```\r\nrequired: Consumer&lt;? super Entry&lt;String,Long&gt;&gt;\r\n```\r\n\r\nBut I dont want to get the map printed in console, I want the values in a variable or/and printed in a jTxtPane Document\r\n\r\n```\r\ndocKO.insertString(docKO.getLength(), EACH ITEM);\r\n```","title":"Getting values from map stream sorted in Java","body":"<p>I have a map values than I can sort and print in console using:</p>\n<pre><code>map_serv.entrySet().stream()\n            .sorted(Map.Entry.comparingByValue())\n            .forEach(System.out::println);\n</code></pre>\n<p>The output its like:</p>\n<pre><code>Value1=1\nValue2=3\nValue3=432\nValue4=1000\n</code></pre>\n<p>The method forEach gives that messsage:</p>\n<pre><code>required: Consumer&lt;? super Entry&lt;String,Long&gt;&gt;\n</code></pre>\n<p>But I dont want to get the map printed in console, I want the values in a variable or/and printed in a jTxtPane Document</p>\n<pre><code>docKO.insertString(docKO.getLength(), EACH ITEM);\n</code></pre>\n"},{"tags":["java","mongodb","spring-data-jpa","jsonnode"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1670874672,"post_id":74776490,"comment_id":131969877,"body_markdown":"It&#39;s because of the way you are populating `field2`. Populate it as `obj.asText()` where `obj` refers to the object in the collection.","body":"It&#39;s because of the way you are populating <code>field2</code>. Populate it as <code>obj.asText()</code> where <code>obj</code> refers to the object in the collection."},{"owner":{"account_id":26231290,"reputation":23,"user_id":19907195,"display_name":"rwachter"},"score":0,"creation_date":1670877204,"post_id":74776490,"comment_id":131970581,"body_markdown":"It&#39;s not possible for us to do that. This is a Mongo Date field populated from a long.","body":"It&#39;s not possible for us to do that. This is a Mongo Date field populated from a long."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1670902213,"post_id":74776490,"comment_id":131975374,"body_markdown":"`field2` in the document is a sub-document (or an object). It has two fields and one of them is a _Date_ type. In general, you map the document&#39;s sub-document to an inner class and the date field to a Java&#39;s `LocalDateTime` or `java.util.Date`. In your case, it is mapping to a date data type. You can possibly convert it to a number by applying a `getTime()` method of date.","body":"<code>field2</code> in the document is a sub-document (or an object). It has two fields and one of them is a <i>Date</i> type. In general, you map the document&#39;s sub-document to an inner class and the date field to a Java&#39;s <code>LocalDateTime</code> or <code>java.util.Date</code>. In your case, it is mapping to a date data type. You can possibly convert it to a number by applying a <code>getTime()</code> method of date."},{"owner":{"account_id":26231290,"reputation":23,"user_id":19907195,"display_name":"rwachter"},"score":0,"creation_date":1670944172,"post_id":74776490,"comment_id":131987121,"body_markdown":"A solution I have for now is similar to that. I recursively work through the Document to find any Date objects and covert them to longs.\n\nI&#39;ve updated the post with my code and what I would prefer to happen.","body":"A solution I have for now is similar to that. I recursively work through the Document to find any Date objects and covert them to longs.  I&#39;ve updated the post with my code and what I would prefer to happen."}],"owner":{"account_id":26231290,"reputation":23,"user_id":19907195,"display_name":"rwachter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670944425,"creation_date":1670874010,"question_id":74776490,"body_markdown":"We are running into issues retrieving MongoDB document using Spring JPA as it relates to MongoDB date field. Here is a document\r\n\r\n```\r\n{\r\n    &quot;field1&quot;: &quot;some value&quot;,\r\n    &quot;field2&quot;: {\r\n        &quot;field2sub1&quot;: &quot;some value&quot;,\r\n        &quot;field2datefield&quot;: ISODate(1234567890)\r\n    }\r\n}\r\n```\r\n\r\nJava object:\r\n\r\n```\r\n@Data\r\nclass Dto {\r\n    private String field1;\r\n    private JsonNode field2;\r\n}\r\n```\r\n\r\nOnce we retireve the data, the Dto.field2 looks as follows:\r\n\r\n\r\n```\r\n{\r\n    &quot;field2sub1&quot;: &quot;some value&quot;,\r\n    &quot;field2datefield&quot;: {$date: &quot;2022-01-01.....&quot;}\r\n}\r\n```\r\n\r\nThe conversion is done correctly, except for what I need is \r\n\r\n```\r\n{\r\n    &quot;field2sub1&quot;: &quot;some value&quot;,\r\n    &quot;field2datefield&quot;: 1234567890\r\n}\r\n```\r\n\r\nwithout {$date: ....}.\r\n\r\nThe data is retrieved using this code:\r\n    \r\n```\r\nList&lt;Dto&gt; eventRtrs = mongoTemplate.find(query, Dto.class, &quot;collection_name&quot;)\r\n```\r\n\r\nIs there a way to specify that date fields need to be retrieved as a long or a formatted date and not as {$date ...} object?\r\n\r\n**UPDATE:**\r\n\r\nPotential solution I found was to recursively search the Document for any Date objects and convert them to Longs.\r\n\r\n```\r\nprivate void documentIterator(Map&lt;String, Object&gt; map) {\r\n    for(Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n        // if the value is another map, search one level deeper\r\n        if (entry.getValue() instanceof Map) {\r\n            documentIterator((Map&lt;String, Object&gt;) entry.getValue());\r\n        }\r\n        // if the value is a Date, change it to a Long\r\n        else if(entry.getValue() instanceof Date) {\r\n            entry.setValue(((Date) entry.getValue()).getTime());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIdeally though, I would be able to have the ObjectMapper do this conversion when it is converting the Document to a JsonNode to avoid this traversal.","title":"Issue retrieving an ISODate field from MongoDB in the correct format","body":"<p>We are running into issues retrieving MongoDB document using Spring JPA as it relates to MongoDB date field. Here is a document</p>\n<pre><code>{\n    &quot;field1&quot;: &quot;some value&quot;,\n    &quot;field2&quot;: {\n        &quot;field2sub1&quot;: &quot;some value&quot;,\n        &quot;field2datefield&quot;: ISODate(1234567890)\n    }\n}\n</code></pre>\n<p>Java object:</p>\n<pre><code>@Data\nclass Dto {\n    private String field1;\n    private JsonNode field2;\n}\n</code></pre>\n<p>Once we retireve the data, the Dto.field2 looks as follows:</p>\n<pre><code>{\n    &quot;field2sub1&quot;: &quot;some value&quot;,\n    &quot;field2datefield&quot;: {$date: &quot;2022-01-01.....&quot;}\n}\n</code></pre>\n<p>The conversion is done correctly, except for what I need is</p>\n<pre><code>{\n    &quot;field2sub1&quot;: &quot;some value&quot;,\n    &quot;field2datefield&quot;: 1234567890\n}\n</code></pre>\n<p>without {$date: ....}.</p>\n<p>The data is retrieved using this code:</p>\n<pre><code>List&lt;Dto&gt; eventRtrs = mongoTemplate.find(query, Dto.class, &quot;collection_name&quot;)\n</code></pre>\n<p>Is there a way to specify that date fields need to be retrieved as a long or a formatted date and not as {$date ...} object?</p>\n<p><strong>UPDATE:</strong></p>\n<p>Potential solution I found was to recursively search the Document for any Date objects and convert them to Longs.</p>\n<pre><code>private void documentIterator(Map&lt;String, Object&gt; map) {\n    for(Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n        // if the value is another map, search one level deeper\n        if (entry.getValue() instanceof Map) {\n            documentIterator((Map&lt;String, Object&gt;) entry.getValue());\n        }\n        // if the value is a Date, change it to a Long\n        else if(entry.getValue() instanceof Date) {\n            entry.setValue(((Date) entry.getValue()).getTime());\n        }\n    }\n}\n</code></pre>\n<p>Ideally though, I would be able to have the ObjectMapper do this conversion when it is converting the Document to a JsonNode to avoid this traversal.</p>\n"},{"tags":["java","intellij-idea","clone","git-clone","cloning"],"answers":[{"tags":[],"owner":{"account_id":10190337,"reputation":7155,"user_id":7523979,"display_name":"Dmitrii Smirnov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670944217,"creation_date":1670944217,"answer_id":74786967,"question_id":74774311,"body_markdown":"Path to git executable does not look entirely correct. I assume you use GitForWindows, and there the correct executable to use should be `C:\\Program Files\\Git\\cmd\\git.exe`. Try specifying it in settings instead.\r\n\r\nAs for the clone process, it might appear to be stuck while actually being very slow, or it might be some authentication prompt issue - e.g. git asks for credentials on some wrong tty and cannot get a response. Using an executable \r\n\r\nIf changing the executable does not help, check the [IDE logs][1] to see if there are some unhandled errors there. You cam also submit a request to [JetBrains support][2] with the logs attached. \r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/articles/207241085-Locating-IDE-log-files\r\n  [2]: https://intellij-support.jetbrains.com/hc/en-us/?intellij-idea","title":"Unable to clone repository","body":"<p>Path to git executable does not look entirely correct. I assume you use GitForWindows, and there the correct executable to use should be <code>C:\\Program Files\\Git\\cmd\\git.exe</code>. Try specifying it in settings instead.</p>\n<p>As for the clone process, it might appear to be stuck while actually being very slow, or it might be some authentication prompt issue - e.g. git asks for credentials on some wrong tty and cannot get a response. Using an executable</p>\n<p>If changing the executable does not help, check the <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241085-Locating-IDE-log-files\" rel=\"nofollow noreferrer\">IDE logs</a> to see if there are some unhandled errors there. You cam also submit a request to <a href=\"https://intellij-support.jetbrains.com/hc/en-us/?intellij-idea\" rel=\"nofollow noreferrer\">JetBrains support</a> with the logs attached.</p>\n"}],"owner":{"account_id":26807905,"reputation":1,"user_id":20398953,"display_name":"Berdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670944217,"creation_date":1670862853,"question_id":74774311,"body_markdown":"I just wanted to clone a project from github but everytime I try, the [loading bar](https://i.stack.imgur.com/QZp1G.png) goes forever. I already had a few problems with git and intellij (altough I didn&#39;t change any settings) but everytime I could fix it somehow but this time it worked fine for the last couple of weeks but now it stopped working from one to another day. Here are my [settings](https://i.stack.imgur.com/mNNQ1.png) if needed.\r\n\r\nI already tried to clear the cache but it didn&#39;t work. Tried to look up fixes on the internet but couldn&#39;t find anything that can help me. Appreciate any help :)","title":"Unable to clone repository","body":"<p>I just wanted to clone a project from github but everytime I try, the <a href=\"https://i.stack.imgur.com/QZp1G.png\" rel=\"nofollow noreferrer\">loading bar</a> goes forever. I already had a few problems with git and intellij (altough I didn't change any settings) but everytime I could fix it somehow but this time it worked fine for the last couple of weeks but now it stopped working from one to another day. Here are my <a href=\"https://i.stack.imgur.com/mNNQ1.png\" rel=\"nofollow noreferrer\">settings</a> if needed.</p>\n<p>I already tried to clear the cache but it didn't work. Tried to look up fixes on the internet but couldn't find anything that can help me. Appreciate any help :)</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1670941202,"post_id":74786208,"comment_id":131985971,"body_markdown":"Have you tried to add the Failure listener to see if something goes wrong when you call `.updateChildren(hashMap)`?","body":"Have you tried to add the Failure listener to see if something goes wrong when you call <code>.updateChildren(hashMap)</code>?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1670943941,"post_id":74786208,"comment_id":131987034,"body_markdown":"I&#39;m with Alex here: at first glance this code looks like it should work. If a failure listener doesn&#39;t show a problem, try debugging the problem locally. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do?","body":"I&#39;m with Alex here: at first glance this code looks like it should work. If a failure listener doesn&#39;t show a problem, try debugging the problem locally. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do?"}],"owner":{"account_id":27238942,"reputation":11,"user_id":20765422,"display_name":"Ibrahim Zaki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670943842,"creation_date":1670940801,"question_id":74786208,"body_markdown":"I&#39;m working on a Firebase ecommerce app, I have been trying to update the password when passing the email of the user in &quot;forgot password&quot; feature but i can&#39;t get it right.\r\n\r\nHere is my Firebase structure:\r\n\r\n![Firebase structure](https://i.stack.imgur.com/PVHTo.png)\r\n\r\n\r\nI want the method to get the user with the entered email, then update his password to a new one.\r\n\r\nHere is my code:\r\n\r\n\r\n\r\n```\r\nset_new_pass.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n        Query checkUserDatabase = reference.orderByChild(&quot;email&quot;).equalTo(user_email);\r\n        String user_newpass=new_password.getText().toString();\r\n        HashMap hashMap = new HashMap();\r\n        hashMap.put(&quot;password&quot;,user_newpass);\r\n       // hashMap.put(&quot;email&quot;,user_email);\r\n        checkUserDatabase.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()){\r\n                    //String username_ofuser =hashMap.get(&quot;username&quot;).toString();\r\n                    reference.child(user_username).updateChildren(hashMap).addOnSuccessListener(new OnSuccessListener() {\r\n                    @Override\r\n                    public void onSuccess(Object o) {\r\n                        Toast.makeText(SetNewPassword.this, &quot;your password is successfully changed!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n```\r\n\r\nHow can I achieve my results?\r\n\r\nthis code should change the password of the user that has his email entered but it doesn&#39;t change anything actually so what can i do to make it work correctly??","title":"How to change value of child of the same parent that entered other child value in forgot password feature in firebase realtime database","body":"<p>I'm working on a Firebase ecommerce app, I have been trying to update the password when passing the email of the user in &quot;forgot password&quot; feature but i can't get it right.</p>\n<p>Here is my Firebase structure:</p>\n<p><img src=\"https://i.stack.imgur.com/PVHTo.png\" alt=\"Firebase structure\" /></p>\n<p>I want the method to get the user with the entered email, then update his password to a new one.</p>\n<p>Here is my code:</p>\n<pre><code>set_new_pass.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n        Query checkUserDatabase = reference.orderByChild(&quot;email&quot;).equalTo(user_email);\n        String user_newpass=new_password.getText().toString();\n        HashMap hashMap = new HashMap();\n        hashMap.put(&quot;password&quot;,user_newpass);\n       // hashMap.put(&quot;email&quot;,user_email);\n        checkUserDatabase.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()){\n                    //String username_ofuser =hashMap.get(&quot;username&quot;).toString();\n                    reference.child(user_username).updateChildren(hashMap).addOnSuccessListener(new OnSuccessListener() {\n                    @Override\n                    public void onSuccess(Object o) {\n                        Toast.makeText(SetNewPassword.this, &quot;your password is successfully changed!&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n        }\n</code></pre>\n<p>How can I achieve my results?</p>\n<p>this code should change the password of the user that has his email entered but it doesn't change anything actually so what can i do to make it work correctly??</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1670948767,"post_id":74786869,"comment_id":131988859,"body_markdown":"Can you please [edit] your question and add a [mcve]?","body":"Can you please <a href=\"https://stackoverflow.com/posts/74786869/edit\">edit</a> your question and add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1671014983,"post_id":74786869,"comment_id":132004095,"body_markdown":"Webs can detect robotic access and block it. Ask webmaster if webcrawlers are allowed.","body":"Webs can detect robotic access and block it. Ask webmaster if webcrawlers are allowed."}],"owner":{"account_id":27241356,"reputation":1,"user_id":20767495,"display_name":"Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670943838,"creation_date":1670943838,"question_id":74786869,"body_markdown":"I&#39;ve been using selenium with chrome and I&#39;ve been trying to access a website but I keep receiving this error message:\r\n\r\nAccess Denied You don&#39;t have permission to access &quot;website&quot; on this server.\r\n\r\nThe website works fine on my regular chrome browser, but when opened through selenium I receive this error message.\r\n\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;CHL130688&#39;, ip: &#39;10.100.40.93&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;19.0.1&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver","title":"Access Denied You don&#39;t have permission to access &quot;site&quot; on this server using ChromeDriver and Chrome through Selenium Java","body":"<p>I've been using selenium with chrome and I've been trying to access a website but I keep receiving this error message:</p>\n<p>Access Denied You don't have permission to access &quot;website&quot; on this server.</p>\n<p>The website works fine on my regular chrome browser, but when opened through selenium I receive this error message.</p>\n<p>Build info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'CHL130688', ip: '10.100.40.93', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver</p>\n"},{"tags":["java","spring-boot","swagger-2.0","spring-boot-starter","springfox-boot-starter"],"comments":[{"owner":{"account_id":8174680,"reputation":2260,"user_id":6153860,"accept_rate":40,"display_name":"Young Emil"},"score":0,"creation_date":1650037563,"post_id":71482931,"comment_id":127029171,"body_markdown":"This is sometimes weird, you could be trying every possible solution online. Keep changing or downgrading the version of the swagger dependency until it is fixed. This suggestion is not ideal but works for me all the time.","body":"This is sometimes weird, you could be trying every possible solution online. Keep changing or downgrading the version of the swagger dependency until it is fixed. This suggestion is not ideal but works for me all the time."}],"answers":[{"comments":[{"owner":{"account_id":2405824,"reputation":75,"user_id":2102329,"accept_rate":80,"display_name":"mikepoole72"},"score":0,"creation_date":1647352766,"post_id":71483263,"comment_id":126345909,"body_markdown":"I did try and add that but I think it is already pulled in from this dependency that I have added. It didn&#39;t resolve the issue. My application root is directly off localhost btw,\n\n    &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-boot-starter --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;","body":"I did try and add that but I think it is already pulled in from this dependency that I have added. It didn&#39;t resolve the issue. My application root is directly off localhost btw,      &lt;!-- <a href=\"https://mvnrepository.com/artifact/io.springfox/springfox-boot-starter\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/io.springfox/springfox-boot-start&zwnj;&#8203;er</a> --&gt;     &lt;dependency&gt;         &lt;groupId&gt;io.springfox&lt;/groupId&gt;         &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;         &lt;version&gt;3.0.0&lt;/version&gt;     &lt;/dependency&gt;"},{"owner":{"account_id":11038736,"reputation":1112,"user_id":8107504,"display_name":"Parth Manaktala"},"score":0,"creation_date":1647353067,"post_id":71483263,"comment_id":126346054,"body_markdown":"@mikepoole72 Did any of the answers in this thread help? https://stackoverflow.com/questions/43545540/swagger-ui-no-mapping-found-for-http-request","body":"@mikepoole72 Did any of the answers in this thread help? <a href=\"https://stackoverflow.com/questions/43545540/swagger-ui-no-mapping-found-for-http-request\" title=\"swagger ui no mapping found for http request\">stackoverflow.com/questions/43545540/&hellip;</a>"},{"owner":{"account_id":2539887,"reputation":478,"user_id":2205911,"accept_rate":0,"display_name":"Leo Lee"},"score":0,"creation_date":1671085890,"post_id":71483263,"comment_id":132022773,"body_markdown":"swagger-ui location has moved from http://host/context-path/swagger-ui.html to http://host/context-path/swagger-ui/index.html OR http://host/context-path/swagger-ui/ for short. This makes it work much better with pulling it as a web jar and turning it off using configuration properties if not needed. [Changes in swagger-ui](http://springfox.github.io/springfox/docs/current/#getting-started)","body":"swagger-ui location has moved from <a href=\"http://host/context-path/swagger-ui.html\" rel=\"nofollow noreferrer\">host/context-path/swagger-ui.html</a> to <a href=\"http://host/context-path/swagger-ui/index.html\" rel=\"nofollow noreferrer\">host/context-path/swagger-ui/index.html</a> OR <a href=\"http://host/context-path/swagger-ui/\" rel=\"nofollow noreferrer\">host/context-path/swagger-ui</a> for short. This makes it work much better with pulling it as a web jar and turning it off using configuration properties if not needed. <a href=\"http://springfox.github.io/springfox/docs/current/#getting-started\" rel=\"nofollow noreferrer\">Changes in swagger-ui</a>"}],"tags":[],"owner":{"account_id":11038736,"reputation":1112,"user_id":8107504,"display_name":"Parth Manaktala"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647351636,"creation_date":1647351636,"answer_id":71483263,"question_id":71482931,"body_markdown":"In order to enable swagger ui using spring-fox, you need to add an additional dependency in your pom.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n(This is the latest version, you can use any version based on the usecase)\r\n\r\n\r\nThe path of the swagger UI will be at the below link or using swagger-ui.html page.\r\n\r\n    http://localhost:8080/your-app-root/swagger-ui/\r\n\r\n","title":"Can&#39;t get swagger2 to display swagger-ui.html","body":"<p>In order to enable swagger ui using spring-fox, you need to add an additional dependency in your pom.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>(This is the latest version, you can use any version based on the usecase)</p>\n<p>The path of the swagger UI will be at the below link or using swagger-ui.html page.</p>\n<pre><code>http://localhost:8080/your-app-root/swagger-ui/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10987236,"reputation":1,"user_id":8072525,"display_name":"Diana Ivanova"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670943810,"creation_date":1670943810,"answer_id":74786861,"question_id":71482931,"body_markdown":"I had a similar issue. The solution was to add a URL mapping for the controller.  like this:\r\n\r\n    @RequestMapping(&quot;/myprefix&quot;)\r\n    @RestController\r\n    public class Controller {...}\r\n\r\nOtherwise, it would resolve to the default one, which is &quot;/&quot;. Somehow http://localhost:8080/your-app-root/swagger-ui/ is trying to be resolved to the controller which is intercepting all paths url starting with &quot;/&quot;. If you change it to &quot;/myprefix&quot; as mentioned above, http://localhost:8080/your-app-root/swagger-ui/  would not be intercepted by this controller.\r\nAs a dependency I used the following: \r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.13&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nBut the above solution would also work for\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt; \r\n\r\nThats all you need to display swagger-ui.html.","title":"Can&#39;t get swagger2 to display swagger-ui.html","body":"<p>I had a similar issue. The solution was to add a URL mapping for the controller.  like this:</p>\n<pre><code>@RequestMapping(&quot;/myprefix&quot;)\n@RestController\npublic class Controller {...}\n</code></pre>\n<p>Otherwise, it would resolve to the default one, which is &quot;/&quot;. Somehow http://localhost:8080/your-app-root/swagger-ui/ is trying to be resolved to the controller which is intercepting all paths url starting with &quot;/&quot;. If you change it to &quot;/myprefix&quot; as mentioned above, http://localhost:8080/your-app-root/swagger-ui/  would not be intercepted by this controller.\nAs a dependency I used the following:</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.13&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>But the above solution would also work for</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt; \n</code></pre>\n<p>Thats all you need to display swagger-ui.html.</p>\n"}],"owner":{"account_id":2405824,"reputation":75,"user_id":2102329,"accept_rate":80,"display_name":"mikepoole72"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670943810,"creation_date":1647350194,"question_id":71482931,"body_markdown":"### The problem ###\r\nAm learning java spring boot and my problem is getting the swagger front-end to load from http://localhost:8080/swagger-ui.html#/\r\nI get the console message as follows:\r\n\r\n`WARN 23432 --- [nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /swagger-ui.html`\r\n\r\n### Background ###\r\nI&#39;ve built out a starter project using spring boot with a basic API and have tested the endpoints with postman ok.\r\nI&#39;m using v2.6.4 of spring-boot-starter-parent.\r\n\r\nI&#39;m trying out swagger for the first time and have included the following in my pom.xml\r\n\r\n`groupId io.springfox`\r\n`artifactId springfox-boot-starter`\r\n`version 3.0.0`\r\n\r\nIn my application.yml I have added the following to resolve a build issue which was related to a version/dependency mismatch.\r\n\r\n    spring:\r\n      mvc:\r\n        pathmatch:\r\n          matching-strategy: ant_path_matcher\r\n\t  \r\n\t  \r\nI&#39;ve added the following class to my config package based on a tutorial I am following.\r\n\r\n\t@Configuration\r\n\t@EnableWebMvc\r\n\t@Import(SpringDataRestConfiguration.class)\r\n\tpublic class ApplicationSwaggerConfig {\r\n\r\n\t\t@Bean\r\n\t\tpublic Docket speakersApi() {\r\n\t\t\treturn new Docket(DocumentationType.SWAGGER_2)\r\n\t\t\t\t\t.select()\r\n\t\t\t\t\t.apis(RequestHandlerSelectors.any())\r\n\t\t\t\t\t.paths(PathSelectors.any())\r\n\t\t\t\t\t.build();\r\n\t\t}\r\n\r\nI found some articles saying to override resource handling as follows to cure the problem but it is not helping:\r\n\r\n\t@Configuration\r\n\tpublic class WebMvcConfigurer extends WebMvcConfigurationSupport {\r\n\r\n\t@Override\r\n\tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\t\tregistry.addResourceHandler(&quot;/**&quot;).addResourceLocations(&quot;classpath:/static/&quot;);\r\n\t\tregistry.addResourceHandler(&quot;swagger-ui.html&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n\t\tregistry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n\t\tsuper.addResourceHandlers(registry);\r\n\t}\r\n","title":"Can&#39;t get swagger2 to display swagger-ui.html","body":"<h3>The problem</h3>\n<p>Am learning java spring boot and my problem is getting the swagger front-end to load from http://localhost:8080/swagger-ui.html#/\nI get the console message as follows:</p>\n<p><code>WARN 23432 --- [nio-8080-exec-9] o.s.web.servlet.PageNotFound             : No mapping for GET /swagger-ui.html</code></p>\n<h3>Background</h3>\n<p>I've built out a starter project using spring boot with a basic API and have tested the endpoints with postman ok.\nI'm using v2.6.4 of spring-boot-starter-parent.</p>\n<p>I'm trying out swagger for the first time and have included the following in my pom.xml</p>\n<p><code>groupId io.springfox</code>\n<code>artifactId springfox-boot-starter</code>\n<code>version 3.0.0</code></p>\n<p>In my application.yml I have added the following to resolve a build issue which was related to a version/dependency mismatch.</p>\n<pre><code>spring:\n  mvc:\n    pathmatch:\n      matching-strategy: ant_path_matcher\n  \n  \n</code></pre>\n<p>I've added the following class to my config package based on a tutorial I am following.</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@Import(SpringDataRestConfiguration.class)\npublic class ApplicationSwaggerConfig {\n\n    @Bean\n    public Docket speakersApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n</code></pre>\n<p>I found some articles saying to override resource handling as follows to cure the problem but it is not helping:</p>\n<pre><code>@Configuration\npublic class WebMvcConfigurer extends WebMvcConfigurationSupport {\n\n@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/**&quot;).addResourceLocations(&quot;classpath:/static/&quot;);\n    registry.addResourceHandler(&quot;swagger-ui.html&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\n    registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n    super.addResourceHandlers(registry);\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6978516,"reputation":36237,"user_id":5352399,"accept_rate":81,"display_name":"Wasi Ahmad"},"score":1,"creation_date":1488146146,"post_id":42474594,"comment_id":72089839,"body_markdown":"can you give the full class code of CueTimer and also the class from where you are calling cuetimer.start()?","body":"can you give the full class code of CueTimer and also the class from where you are calling cuetimer.start()?"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1488146220,"post_id":42474594,"comment_id":72089861,"body_markdown":"`main = new MainActivity();` you are not allowed to create instances of activities yourself. leave that to the system.","body":"<code>main = new MainActivity();</code> you are not allowed to create instances of activities yourself. leave that to the system."},{"owner":{"account_id":9861442,"reputation":23,"user_id":7304271,"display_name":"Simone Giusti"},"score":0,"creation_date":1488147072,"post_id":42474594,"comment_id":72090086,"body_markdown":"I commented main = new MainActivity(); since it is not used in this method","body":"I commented main = new MainActivity(); since it is not used in this method"}],"answers":[{"comments":[{"owner":{"account_id":9861442,"reputation":23,"user_id":7304271,"display_name":"Simone Giusti"},"score":0,"creation_date":1488146753,"post_id":42474735,"comment_id":72089999,"body_markdown":"I commented private MainActivity main = new MainActivity(); since it is not used in CueTimer method.","body":"I commented private MainActivity main = new MainActivity(); since it is not used in CueTimer method."},{"owner":{"account_id":9861442,"reputation":23,"user_id":7304271,"display_name":"Simone Giusti"},"score":0,"creation_date":1488146922,"post_id":42474735,"comment_id":72090048,"body_markdown":"Where should I call Looper.prepare() in the proposed code ?","body":"Where should I call Looper.prepare() in the proposed code ?"},{"owner":{"account_id":3267287,"reputation":2519,"user_id":2751535,"display_name":"j2ko"},"score":0,"creation_date":1488147020,"post_id":42474735,"comment_id":72090066,"body_markdown":"Your proposed code is not valid due to manual creation of `Activity`. If you eliminate that - you will not need to call `Looper.prepare()`.","body":"Your proposed code is not valid due to manual creation of <code>Activity</code>. If you eliminate that - you will not need to call <code>Looper.prepare()</code>."},{"owner":{"account_id":9861442,"reputation":23,"user_id":7304271,"display_name":"Simone Giusti"},"score":0,"creation_date":1488147029,"post_id":42474735,"comment_id":72090068,"body_markdown":"CueTimer activity has no xml layout. If I try to register it in AndroidManifest.xml I obtain error &#39;has not default constructor ...&#39;","body":"CueTimer activity has no xml layout. If I try to register it in AndroidManifest.xml I obtain error &#39;has not default constructor ...&#39;"},{"owner":{"account_id":3267287,"reputation":2519,"user_id":2751535,"display_name":"j2ko"},"score":0,"creation_date":1488147157,"post_id":42474735,"comment_id":72090119,"body_markdown":"You need to read about android development. Here is good intro https://developer.android.com/training/index.html. \nAs far as I see in your example `CueTimer` is `Thread` not an `Activity`","body":"You need to read about android development. Here is good intro <a href=\"https://developer.android.com/training/index.html\" rel=\"nofollow noreferrer\">developer.android.com/training/index.html</a>.  As far as I see in your example <code>CueTimer</code> is <code>Thread</code> not an <code>Activity</code>"}],"tags":[],"owner":{"account_id":3267287,"reputation":2519,"user_id":2751535,"display_name":"j2ko"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670943414,"creation_date":1488146275,"answer_id":42474735,"question_id":42474594,"body_markdown":"Each new thread should call `Looper.prepare()` in case you want to use `Handler` \r\n\r\n&gt; Threads by default do not have a message loop associated with them; \r\n&gt; to ?create one, call prepare() in the thread that is to run the loop, \r\n&gt; and then loop() to have it process messages until the loop is stopped.\r\n\r\nBut the issue in your code actually at this line : \r\n\r\n     private MainActivity main = new MainActivity();\r\n\r\nThere is two problems actually. First - looks like you creating `CueTimer` not on a main thread which causing instantiation of `MainActivity` not on main thread too. Second - never instantiate activities directly. Your activity should be registered in `AndroidManifest.xml` and accessed through `Intent`.\r\n","title":"Looper.prepare error on Timer","body":"<p>Each new thread should call <code>Looper.prepare()</code> in case you want to use <code>Handler</code></p>\n<blockquote>\n<p>Threads by default do not have a message loop associated with them;\nto ?create one, call prepare() in the thread that is to run the loop,\nand then loop() to have it process messages until the loop is stopped.</p>\n</blockquote>\n<p>But the issue in your code actually at this line :</p>\n<pre><code> private MainActivity main = new MainActivity();\n</code></pre>\n<p>There is two problems actually. First - looks like you creating <code>CueTimer</code> not on a main thread which causing instantiation of <code>MainActivity</code> not on main thread too. Second - never instantiate activities directly. Your activity should be registered in <code>AndroidManifest.xml</code> and accessed through <code>Intent</code>.</p>\n"}],"owner":{"account_id":9861442,"reputation":23,"user_id":7304271,"display_name":"Simone Giusti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":42474735,"answer_count":1,"score":0,"last_activity_date":1670943414,"creation_date":1488145354,"question_id":42474594,"body_markdown":"Suppose you have this class managing a timer. It is just a test. \r\n\r\n\r\n    package it.rockopera.scsremote;\r\n    import android.content.Context;\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n\r\n    public class CueTimer extends Thread{\r\n        private Context context;\r\n        private MainActivity main = new MainActivity();\r\n        private Timer timer;\r\n        int elapsed = 0 ;\r\n\r\n        public CueTimer(Context c){\r\n            context= c;\r\n            timer = new Timer();\r\n            timer.schedule(new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    elapsed+=1000;\r\n                    System.out.println(&quot;elapsed: &quot; + String.valueOf(elapsed));                  \r\n                }\r\n            },0,1000); //Update text every second\r\n        }\r\n    }\r\n\r\nI would like to call this method from another class in this way:\r\n\r\n    CueTimer cuetimer = new CueTimer(context);\r\n    cuetimer.start()\r\n\r\n\r\nhere&#39;s the error:\r\n\r\n&gt; Process: it.rockopera.scsremote, PID: 7562\r\n                                                                      java.lang.RuntimeException: Can&#39;t create handler inside thread that has not called Looper.prepare()\r\n                                                                          at android.os.Handler.&lt;init&gt;(Handler.java:200)\r\n                                                                          at android.os.Handler.&lt;init&gt;(Handler.java:114)\r\n                                                                          at android.app.Activity.&lt;init&gt;(Activity.java:789)\r\n                                                                          at it.rockopera.scsremote.MainActivity.&lt;init&gt;(MainActivity.java:47)\r\n                                                                          at it.rockopera.scsremote.CueTimer.&lt;init&gt;(CueTimer.java:32)\r\n                                                                          at it.rockopera.scsremote.Client$Read_SCS_MSGs.run(Client.java:477)\r\n                                                                          at java.lang.Thread.run(Thread.java:761)\r\n\r\nI try to look for this error but I can&#39;t find anything similar.\r\nThanks !!","title":"Looper.prepare error on Timer","body":"<p>Suppose you have this class managing a timer. It is just a test. </p>\n\n<pre><code>package it.rockopera.scsremote;\nimport android.content.Context;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class CueTimer extends Thread{\n    private Context context;\n    private MainActivity main = new MainActivity();\n    private Timer timer;\n    int elapsed = 0 ;\n\n    public CueTimer(Context c){\n        context= c;\n        timer = new Timer();\n        timer.schedule(new TimerTask() {\n            @Override\n            public void run() {\n                elapsed+=1000;\n                System.out.println(\"elapsed: \" + String.valueOf(elapsed));                  \n            }\n        },0,1000); //Update text every second\n    }\n}\n</code></pre>\n\n<p>I would like to call this method from another class in this way:</p>\n\n<pre><code>CueTimer cuetimer = new CueTimer(context);\ncuetimer.start()\n</code></pre>\n\n<p>here's the error:</p>\n\n<blockquote>\n  <p>Process: it.rockopera.scsremote, PID: 7562\n                                                                        java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()\n                                                                            at android.os.Handler.(Handler.java:200)\n                                                                            at android.os.Handler.(Handler.java:114)\n                                                                            at android.app.Activity.(Activity.java:789)\n                                                                            at it.rockopera.scsremote.MainActivity.(MainActivity.java:47)\n                                                                            at it.rockopera.scsremote.CueTimer.(CueTimer.java:32)\n                                                                            at it.rockopera.scsremote.Client$Read_SCS_MSGs.run(Client.java:477)\n                                                                            at java.lang.Thread.run(Thread.java:761)</p>\n</blockquote>\n\n<p>I try to look for this error but I can't find anything similar.\nThanks !!</p>\n"},{"tags":["java","maven","java-10"],"answers":[{"comments":[{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1521750497,"post_id":49437892,"comment_id":85877741,"body_markdown":"you mean the JRE? I checked for both java and javac versions and both point to java-10","body":"you mean the JRE? I checked for both java and javac versions and both point to java-10"},{"owner":{"account_id":381823,"reputation":1385,"user_id":736694,"display_name":"Yserbius"},"score":2,"creation_date":1521750559,"post_id":49437892,"comment_id":85877785,"body_markdown":"No. Either the `java` goal in Maven or the `exec` plugin, just like you did with the maven compiler plugin.","body":"No. Either the <code>java</code> goal in Maven or the <code>exec</code> plugin, just like you did with the maven compiler plugin."},{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":0,"creation_date":1521750696,"post_id":49437892,"comment_id":85877861,"body_markdown":"sorry, not really good at maven. would you mind putting more details in your answer itself?","body":"sorry, not really good at maven. would you mind putting more details in your answer itself?"},{"owner":{"account_id":381823,"reputation":1385,"user_id":736694,"display_name":"Yserbius"},"score":4,"creation_date":1521751377,"post_id":49437892,"comment_id":85878190,"body_markdown":"When you run a maven command like `compile` or `exec` you are activating a plugin. There are default plugins and configurations, you changed those for the `maven-compiler-plugin` to use Java 10. Look up &quot;maven executions&quot; and the exec plugin. Or you can try adding this to the top of your code\n`&lt;properties&gt;&lt;java.version&gt;10&lt;/java.version&gt;&lt;/properties&gt;`","body":"When you run a maven command like <code>compile</code> or <code>exec</code> you are activating a plugin. There are default plugins and configurations, you changed those for the <code>maven-compiler-plugin</code> to use Java 10. Look up &quot;maven executions&quot; and the exec plugin. Or you can try adding this to the top of your code <code>&lt;properties&gt;&lt;java.version&gt;10&lt;&#47;java.version&gt;&lt;&#47;properties&gt;</code>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1521751765,"post_id":49437892,"comment_id":85878395,"body_markdown":"Best solution for this is toolchains http://maven.apache.org/guides/mini/guide-using-toolchains.html.","body":"Best solution for this is toolchains <a href=\"http://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-using-toolchains.html</a>."},{"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"score":2,"creation_date":1521780325,"post_id":49437892,"comment_id":85886769,"body_markdown":"You seems correct. I figured out that compiled code version was 9 while execution JRE version was 10.","body":"You seems correct. I figured out that compiled code version was 9 while execution JRE version was 10."}],"tags":[],"owner":{"account_id":381823,"reputation":1385,"user_id":736694,"display_name":"Yserbius"},"comment_count":6,"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1521750457,"creation_date":1521750457,"answer_id":49437892,"question_id":49437858,"body_markdown":"You have to set the runtime plugin to Java 10 too or the root configuration. Right now it&#39;s just the compiler.","title":"var cannot be resolved to a type - java-10","body":"<p>You have to set the runtime plugin to Java 10 too or the root configuration. Right now it's just the compiler.</p>\n"},{"comments":[{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1680987552,"post_id":74786757,"comment_id":133987764,"body_markdown":"Would have been ideal if you had included the whole POM so someone reading this in the future could figure out what you changed.","body":"Would have been ideal if you had included the whole POM so someone reading this in the future could figure out what you changed."},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1680993592,"post_id":74786757,"comment_id":133988447,"body_markdown":"@FreelanceConsultant I added arrows for that. For the rest I think it&#39;s enough searchable","body":"@FreelanceConsultant I added arrows for that. For the rest I think it&#39;s enough searchable"},{"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"score":0,"creation_date":1681029731,"post_id":74786757,"comment_id":133991089,"body_markdown":"Without the rest of the pom, I have no idea where this is supposed to be placed.","body":"Without the rest of the pom, I have no idea where this is supposed to be placed."},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1689773932,"post_id":74786757,"comment_id":135260987,"body_markdown":"@FreelanceConsultant just search `maven-compiler-plugin`. If you cannot find it in your pom, then this isn&#39;t a problem for you","body":"@FreelanceConsultant just search <code>maven-compiler-plugin</code>. If you cannot find it in your pom, then this isn&#39;t a problem for you"}],"tags":[],"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670943396,"creation_date":1670943396,"answer_id":74786757,"question_id":49437858,"body_markdown":"In my case I had:\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt; &lt;-----\r\n                    &lt;target&gt;17&lt;/target&gt; &lt;-----\r\n               ...\r\n\r\n\r\nAnd I had to match this version with `&lt;java.version&gt;` value","title":"var cannot be resolved to a type - java-10","body":"<p>In my case I had:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt; &lt;-----\n                &lt;target&gt;17&lt;/target&gt; &lt;-----\n           ...\n</code></pre>\n<p>And I had to match this version with <code>&lt;java.version&gt;</code> value</p>\n"}],"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14056,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":49437892,"answer_count":2,"score":14,"last_activity_date":1670943396,"creation_date":1521750307,"question_id":49437858,"body_markdown":"I simply installed JDK 10 on my mac machine. Checked for the version:-\r\n\r\n    localhost:java-10 vinayprajapati$ java -version\r\n    java version &quot;10&quot; 2018-03-20\r\n    Java(TM) SE Runtime Environment 18.3 (build 10+46)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.3 (build 10+46, mixed mode)\r\n\r\nJust to make sure that compiler used is also same version, I ran below:-\r\n\r\n    localhost:java-10 vinayprajapati$ javac -version\r\n    javac 10\r\n\r\nI created a simple Maven project with following structure:-\r\n\r\n    localhost:java-10 vinayprajapati$ tree\r\n    .\r\n     pom.xml\r\n     src\r\n    &#160;&#160;  main\r\n    &#160;&#160; &#160;&#160;  java\r\n    &#160;&#160; &#160;&#160;      com\r\n    &#160;&#160; &#160;&#160;          practice\r\n    &#160;&#160; &#160;&#160;              java_10\r\n    &#160;&#160; &#160;&#160;                  App.java\r\n    &#160;&#160;  test\r\n    &#160;&#160;      java\r\n    &#160;&#160;          com\r\n    &#160;&#160;              practice\r\n    &#160;&#160;                  java_10\r\n    &#160;&#160;                      AppTest.java\r\n     target\r\n\r\n\r\nMy pom.xml is:-\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.practice&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;java-10&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;java-10&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;release&gt;10&lt;/release&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;6.1&lt;/version&gt; &lt;!-- Use newer version of ASM --&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nMy App.java file is:-\r\n\r\n    package com.practice.java_10;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class App {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tvar list = new ArrayList&lt;String&gt;(); \r\n    \t\tSystem.out.println(&quot;Hello Java 10! Shall I welcome you?&quot;);\r\n    \r\n    \t}\r\n    }\r\n\r\nI ran `mvn compile` and `mvn install` and both worked successfully. Proof below:-\r\n\r\n    localhost:java-10 vinayprajapati$ mvn compile\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ------------------------&lt; com.practice:java-10 &gt;------------------------\r\n    [INFO] Building java-10 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ java-10 ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory /Users/vinayprajapati/Desktop/project/java-10/java-10/src/main/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.7.0:compile (default-compile) @ java-10 ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 1 source file to /Users/vinayprajapati/Desktop/project/java-10/java-10/target/classes\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.823 s\r\n    [INFO] Finished at: 2018-03-23T01:49:13+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    localhost:java-10 vinayprajapati$ mvn install\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ------------------------&lt; com.practice:java-10 &gt;------------------------\r\n    [INFO] Building java-10 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ java-10 ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory /Users/vinayprajapati/Desktop/project/java-10/java-10/src/main/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.7.0:compile (default-compile) @ java-10 ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ java-10 ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory /Users/vinayprajapati/Desktop/project/java-10/java-10/src/test/resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.7.0:testCompile (default-testCompile) @ java-10 ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 1 source file to /Users/vinayprajapati/Desktop/project/java-10/java-10/target/test-classes\r\n    [INFO] \r\n    [INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ java-10 ---\r\n    [INFO] Surefire report directory: /Users/vinayprajapati/Desktop/project/java-10/java-10/target/surefire-reports\r\n    \r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    Running com.practice.java_10.AppTest\r\n    Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.029 sec\r\n    \r\n    Results :\r\n    \r\n    Tests run: 1, Failures: 0, Errors: 0, Skipped: 0\r\n    \r\n    [INFO] \r\n    [INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ java-10 ---\r\n    [INFO] Building jar: /Users/vinayprajapati/Desktop/project/java-10/java-10/target/java-10-0.0.1-SNAPSHOT.jar\r\n    [INFO] META-INF/maven/com.practice/java-10/pom.xml already added, skipping\r\n    [INFO] META-INF/maven/com.practice/java-10/pom.properties already added, skipping\r\n    [INFO] \r\n    [INFO] --- maven-install-plugin:2.4:install (default-install) @ java-10 ---\r\n    [INFO] Installing /Users/vinayprajapati/Desktop/project/java-10/java-10/target/java-10-0.0.1-SNAPSHOT.jar to /Users/vinayprajapati/.m2/repository/com/practice/java-10/0.0.1-SNAPSHOT/java-10-0.0.1-SNAPSHOT.jar\r\n    [INFO] Installing /Users/vinayprajapati/Desktop/project/java-10/java-10/pom.xml to /Users/vinayprajapati/.m2/repository/com/practice/java-10/0.0.1-SNAPSHOT/java-10-0.0.1-SNAPSHOT.pom\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 3.157 s\r\n    [INFO] Finished at: 2018-03-23T01:49:22+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nWhen ran `mvn exec:java -Dexec.mainClass=&quot;com.practice.java_10.App&quot;`, I got error as below :-\r\n\r\n    localhost:java-10 vinayprajapati$ mvn exec:java -Dexec.mainClass=&quot;com.practice.java_10.App&quot;\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] ------------------------&lt; com.practice:java-10 &gt;------------------------\r\n    [INFO] Building java-10 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- exec-maven-plugin:1.6.0:java (default-cli) @ java-10 ---\r\n    [WARNING] \r\n    java.lang.Error: Unresolved compilation problem: \r\n    \tvar cannot be resolved to a type\r\n    \r\n        at com.practice.java_10.App.main (App.java:11)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:564)\r\n        at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\r\n        at java.lang.Thread.run (Thread.java:844)\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.019 s\r\n    [INFO] Finished at: 2018-03-23T01:51:02+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project java-10: An exception occured while executing the Java class. Unresolved compilation problem: \r\n    [ERROR] \tvar cannot be resolved to a type\r\n    [ERROR] \r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nI am not sure why am I getting this error. Any thoughts are welcome. Meanwhile I try searching for root cause.","title":"var cannot be resolved to a type - java-10","body":"<p>I simply installed JDK 10 on my mac machine. Checked for the version:-</p>\n\n<pre><code>localhost:java-10 vinayprajapati$ java -version\njava version \"10\" 2018-03-20\nJava(TM) SE Runtime Environment 18.3 (build 10+46)\nJava HotSpot(TM) 64-Bit Server VM 18.3 (build 10+46, mixed mode)\n</code></pre>\n\n<p>Just to make sure that compiler used is also same version, I ran below:-</p>\n\n<pre><code>localhost:java-10 vinayprajapati$ javac -version\njavac 10\n</code></pre>\n\n<p>I created a simple Maven project with following structure:-</p>\n\n<pre><code>localhost:java-10 vinayprajapati$ tree\n.\n pom.xml\n src\n  main\n   java\n       com\n           practice\n               java_10\n                   App.java\n  test\n      java\n          com\n              practice\n                  java_10\n                      AppTest.java\n target\n</code></pre>\n\n<p>My pom.xml is:-</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.practice&lt;/groupId&gt;\n    &lt;artifactId&gt;java-10&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;java-10&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;10&lt;/release&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n                        &lt;artifactId&gt;asm&lt;/artifactId&gt;\n                        &lt;version&gt;6.1&lt;/version&gt; &lt;!-- Use newer version of ASM --&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>My App.java file is:-</p>\n\n<pre><code>package com.practice.java_10;\n\nimport java.util.ArrayList;\n\npublic class App {\n    public static void main(String[] args) {\n        var list = new ArrayList&lt;String&gt;(); \n        System.out.println(\"Hello Java 10! Shall I welcome you?\");\n\n    }\n}\n</code></pre>\n\n<p>I ran <code>mvn compile</code> and <code>mvn install</code> and both worked successfully. Proof below:-</p>\n\n<pre><code>localhost:java-10 vinayprajapati$ mvn compile\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------------&lt; com.practice:java-10 &gt;------------------------\n[INFO] Building java-10 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ java-10 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /Users/vinayprajapati/Desktop/project/java-10/java-10/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.7.0:compile (default-compile) @ java-10 ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /Users/vinayprajapati/Desktop/project/java-10/java-10/target/classes\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.823 s\n[INFO] Finished at: 2018-03-23T01:49:13+05:30\n[INFO] ------------------------------------------------------------------------\nlocalhost:java-10 vinayprajapati$ mvn install\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------------&lt; com.practice:java-10 &gt;------------------------\n[INFO] Building java-10 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ java-10 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /Users/vinayprajapati/Desktop/project/java-10/java-10/src/main/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.7.0:compile (default-compile) @ java-10 ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ java-10 ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /Users/vinayprajapati/Desktop/project/java-10/java-10/src/test/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.7.0:testCompile (default-testCompile) @ java-10 ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /Users/vinayprajapati/Desktop/project/java-10/java-10/target/test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ java-10 ---\n[INFO] Surefire report directory: /Users/vinayprajapati/Desktop/project/java-10/java-10/target/surefire-reports\n\n-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning com.practice.java_10.AppTest\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.029 sec\n\nResults :\n\nTests run: 1, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] \n[INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ java-10 ---\n[INFO] Building jar: /Users/vinayprajapati/Desktop/project/java-10/java-10/target/java-10-0.0.1-SNAPSHOT.jar\n[INFO] META-INF/maven/com.practice/java-10/pom.xml already added, skipping\n[INFO] META-INF/maven/com.practice/java-10/pom.properties already added, skipping\n[INFO] \n[INFO] --- maven-install-plugin:2.4:install (default-install) @ java-10 ---\n[INFO] Installing /Users/vinayprajapati/Desktop/project/java-10/java-10/target/java-10-0.0.1-SNAPSHOT.jar to /Users/vinayprajapati/.m2/repository/com/practice/java-10/0.0.1-SNAPSHOT/java-10-0.0.1-SNAPSHOT.jar\n[INFO] Installing /Users/vinayprajapati/Desktop/project/java-10/java-10/pom.xml to /Users/vinayprajapati/.m2/repository/com/practice/java-10/0.0.1-SNAPSHOT/java-10-0.0.1-SNAPSHOT.pom\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 3.157 s\n[INFO] Finished at: 2018-03-23T01:49:22+05:30\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>When ran <code>mvn exec:java -Dexec.mainClass=\"com.practice.java_10.App\"</code>, I got error as below :-</p>\n\n<pre><code>localhost:java-10 vinayprajapati$ mvn exec:java -Dexec.mainClass=\"com.practice.java_10.App\"\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------------&lt; com.practice:java-10 &gt;------------------------\n[INFO] Building java-10 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- exec-maven-plugin:1.6.0:java (default-cli) @ java-10 ---\n[WARNING] \njava.lang.Error: Unresolved compilation problem: \n    var cannot be resolved to a type\n\n    at com.practice.java_10.App.main (App.java:11)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:564)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:282)\n    at java.lang.Thread.run (Thread.java:844)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.019 s\n[INFO] Finished at: 2018-03-23T01:51:02+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:1.6.0:java (default-cli) on project java-10: An exception occured while executing the Java class. Unresolved compilation problem: \n[ERROR]     var cannot be resolved to a type\n[ERROR] \n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n\n<p>I am not sure why am I getting this error. Any thoughts are welcome. Meanwhile I try searching for root cause.</p>\n"},{"tags":["java","linux","multithreading","tomcat","liferay"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1670953197,"post_id":74786750,"comment_id":131990474,"body_markdown":"This is server-setup, not programming (please see [help/on-topic], consider bringing it over to the Liferay community - https://liferay.dev/ - where it&#39;s on-topic). Also note that you most likely are lacking at least one [basic security patch](https://liferay.dev/blogs/-/blogs/security-patches-for-liferay-portal-6-2-7-0-and-7-1) (I&#39;m not sure which is the latest for 7.0). Consider to compare one of your working servers with the one that&#39;s not working. Running a diff tool is cheap and easy.","body":"This is server-setup, not programming (please see <a href=\"https://stackoverflow.com/help/on-topic\">help center</a>, consider bringing it over to the Liferay community - <a href=\"https://liferay.dev/\" rel=\"nofollow noreferrer\">liferay.dev</a> - where it&#39;s on-topic). Also note that you most likely are lacking at least one <a href=\"https://liferay.dev/blogs/-/blogs/security-patches-for-liferay-portal-6-2-7-0-and-7-1\" rel=\"nofollow noreferrer\">basic security patch</a> (I&#39;m not sure which is the latest for 7.0). Consider to compare one of your working servers with the one that&#39;s not working. Running a diff tool is cheap and easy."},{"owner":{"account_id":1347707,"reputation":1287,"user_id":1288128,"accept_rate":40,"display_name":"Miroslav Ligas"},"score":0,"creation_date":1671201364,"post_id":74786750,"comment_id":132054436,"body_markdown":"the message usually comes when you install patches or deploy LPKG files. They might require a rester after dropping them into the deploy folder. Another interesting thing is the time step in your log. There is a big gap afther the novermebr time step.","body":"the message usually comes when you install patches or deploy LPKG files. They might require a rester after dropping them into the deploy folder. Another interesting thing is the time step in your log. There is a big gap afther the novermebr time step."},{"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"score":0,"creation_date":1671549101,"post_id":74786750,"comment_id":132120183,"body_markdown":"LPKG files were not the problem. I deleted all lpkg files from server and the message went away, but Lifray still freezes during boot. Do not mind the timestamp. I copied whole log file, but was required to shorten my post, so I deleted a lots of lines and ended up with messages from two different start attempts.","body":"LPKG files were not the problem. I deleted all lpkg files from server and the message went away, but Lifray still freezes during boot. Do not mind the timestamp. I copied whole log file, but was required to shorten my post, so I deleted a lots of lines and ended up with messages from two different start attempts."}],"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670943378,"creation_date":1670943378,"question_id":74786750,"body_markdown":"Do you have any advice of what might be wrong in my Liferay installation? I think the following log message is the most relevant:\r\n```The portal instance needs to be restarted to complete the installation of```\r\nLiferay is packed inside Tomcat; and when I try to start it it starts starting just fine, it loggs messages in console and then, all the sudden it freezes. Logs stop and application is not responding.\r\n\r\nWe have a cluster of 16 servers all running Liferay Community Edition Portal 7.0.4 GA5 inside Tomcat inside Java 8 virtual machine inside RedHat Linux. All 16 servers have the same copy of jars and wars deployed. 15 out of those 16 work just fine. But this one freezes. Other applications on the server in question work just fine, so it is probably not the Operating System related.\r\n\r\nHere are some logs for you:\r\n\r\n1. The most interesthing log is error log taken from the standard out:\r\n```\r\n\r\nThread dump for portal startup after waited 600000ms:\r\n\r\n\r\n2022-12-13 12:32:21\r\nFull thread dump Java HotSpot(TM) 64-Bit Server VM (25.231-b11 mixed mode):\r\n\r\n&quot;Attach Listener&quot; #53 daemon prio=9 os_prio=0 tid=0x00007f89d0008800 nid=0x1734 waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;com.liferay.portal.kernel.process.ProcessUtil-2&quot; #52 daemon prio=1 os_prio=0 tid=0x00007f89b85c1000 nid=0x170b runnable [0x00007f8974c19000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;com.liferay.portal.kernel.process.ProcessUtil-1&quot; #51 daemon prio=1 os_prio=0 tid=0x00007f89b9304000 nid=0x170a runnable [0x00007f89776f5000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;process reaper&quot; #50 daemon prio=10 os_prio=0 tid=0x00007f89b85ab800 nid=0x1709 runnable [0x00007f89d80ae000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Java2D Disposer&quot; #49 daemon prio=10 os_prio=0 tid=0x00007f8988190000 nid=0x14fe in Object.wait() [0x00007f8974d1a000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\r\n&quot;equinox telnet&quot; #46 daemon prio=5 os_prio=0 tid=0x0000000001885800 nid=0x14f0 runnable [0x00007f8977ffe000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Portal Startup Monitoring Thread&quot; #41 daemon prio=5 os_prio=0 tid=0x0000000001ff9000 nid=0x14c2 waiting on condition [0x00007f89774f3000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\r\n&quot;SCR Component Actor&quot; #40 daemon prio=5 os_prio=0 tid=0x0000000001fc3800 nid=0x14c1 in Object.wait() [0x00007f89775f4000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\r\n&quot;fileinstall-/opt/liferay/bundle/osgi/war&quot; #38 daemon prio=5 os_prio=0 tid=0x0000000001d4b800 nid=0x14bf in Object.wait() [0x00007f89777f6000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n\r\n&quot;fileinstall-/opt/liferay/bundle/osgi/modules&quot; #37 daemon prio=5 os_prio=0 tid=0x0000000001c84800 nid=0x14be in Object.wait() [0x00007f89778f7000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n\r\n&quot;fileinstall-/opt/liferay/bundle/osgi/shared&quot; #36 daemon prio=5 os_prio=0 tid=0x0000000001c99000 nid=0x14bd in Object.wait() [0x00007f89779f8000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n\r\n&quot;fileinstall-/opt/liferay/bundle/osgi/marketplace&quot; #35 daemon prio=5 os_prio=0 tid=0x0000000001c8c000 nid=0x14bc in Object.wait() [0x00007f8977af9000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n\r\n&quot;fileinstall-/opt/liferay/bundle/osgi/configs&quot; #34 daemon prio=5 os_prio=0 tid=0x0000000001c9a000 nid=0x14bb in Object.wait() [0x00007f8977bfa000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n\r\n&quot;fileinstall-/opt/liferay/bundle/osgi/portal&quot; #33 daemon prio=5 os_prio=0 tid=0x0000000001c92800 nid=0x14ba in Object.wait() [0x00007f8977cfb000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n\r\n&quot;Thread-6&quot; #31 daemon prio=5 os_prio=0 tid=0x00007f8984001800 nid=0x14b8 waiting on condition [0x00007f8977dfc000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\r\n&quot;Thread-5&quot; #30 daemon prio=5 os_prio=0 tid=0x0000000001875800 nid=0x14b7 waiting on condition [0x00007f8977efd000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\r\n&quot;CM Event Dispatcher&quot; #28 daemon prio=5 os_prio=0 tid=0x000000000183b800 nid=0x14b5 in Object.wait() [0x00007f89c419b000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\r\n&quot;CM Configuration Updater&quot; #27 daemon prio=5 os_prio=0 tid=0x00000000018a6800 nid=0x14b4 in Object.wait() [0x00007f89c4657000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\r\n&quot;Start Level: Equinox Container: 4023bd5b-d87a-001d-1ab8-f03d08a00709&quot; #26 daemon prio=5 os_prio=0 tid=0x00007f89959f6000 nid=0x14ac in Object.wait() [0x00007f89c4758000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\r\n&quot;Bundle File Closer&quot; #25 daemon prio=5 os_prio=0 tid=0x00007f89780b0800 nid=0x14ab in Object.wait() [0x00007f89c4551000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\r\n&quot;Refresh Thread: Equinox Container: 4023bd5b-d87a-001d-1ab8-f03d08a00709&quot; #24 daemon prio=5 os_prio=0 tid=0x00007f8996540000 nid=0x14aa in Object.wait() [0x00007f89c48d3000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\r\n&quot;Framework Event Dispatcher: Equinox Container: 4023bd5b-d87a-001d-1ab8-f03d08a00709&quot; #23 daemon prio=5 os_prio=0 tid=0x00007f899640b000 nid=0x14a9 in Object.wait() [0x00007f89c49d4000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\r\n&quot;Active Thread: Equinox Container: 4023bd5b-d87a-001d-1ab8-f03d08a00709&quot; #21 prio=5 os_prio=0 tid=0x00007f8993fce000 nid=0x14a6 waiting on condition [0x00007f89c5ad5000]\r\n   java.lang.Thread.State: TIMED_WAITING (parking)\r\n\r\n&quot;Tomcat JDBC Pool Cleaner[2070428996:1670930516054]&quot; #20 daemon prio=5 os_prio=0 tid=0x00007f899c233800 nid=0x148c in Object.wait() [0x00007f89d8dda000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n\r\n&quot;localhost-startStop-1&quot; #19 daemon prio=5 os_prio=0 tid=0x00007f899800c000 nid=0x1484 waiting on condition [0x00007f89d9ae5000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\r\n&quot;Catalina-startStop-1&quot; #18 daemon prio=5 os_prio=0 tid=0x00007f8a25eed800 nid=0x1483 waiting on condition [0x00007f89d9be7000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\r\n&quot;NioBlockingSelector.BlockPoller-1&quot; #17 daemon prio=5 os_prio=0 tid=0x00007f8a25edc000 nid=0x1482 runnable [0x00007f89f4189000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;GC Daemon&quot; #16 daemon prio=2 os_prio=0 tid=0x00007f8a25daa000 nid=0x1481 in Object.wait() [0x00007f89f44c8000]\r\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\r\n\r\n&quot;AsyncFileHandlerWriter-1414644648&quot; #15 daemon prio=5 os_prio=0 tid=0x00007f8a25913800 nid=0x147f waiting on condition [0x00007f89f4dfc000]\r\n   java.lang.Thread.State: TIMED_WAITING (parking)\r\n\r\n&quot;oneagentperiodiceventsmanaged&quot; #12 daemon prio=5 os_prio=0 tid=0x00007f8a08001000 nid=0x1471 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;oneagentautosensor&quot; #11 daemon prio=5 os_prio=0 tid=0x00007f89a8001000 nid=0x1470 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;oneagentsubpathsender&quot; #10 daemon prio=5 os_prio=0 tid=0x00007f8a04001000 nid=0x146f runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;oneagentperiodicrequests&quot; #9 daemon prio=5 os_prio=0 tid=0x00007f8a0c001000 nid=0x146d runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Service Thread&quot; #8 daemon prio=9 os_prio=0 tid=0x00007f8a25774000 nid=0x147d runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;C1 CompilerThread2&quot; #7 daemon prio=9 os_prio=0 tid=0x00007f8a25769000 nid=0x147c waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;C2 CompilerThread1&quot; #6 daemon prio=9 os_prio=0 tid=0x00007f8a25767000 nid=0x147b waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;C2 CompilerThread0&quot; #5 daemon prio=9 os_prio=0 tid=0x00007f8a25765000 nid=0x147a waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 tid=0x00007f8a25762800 nid=0x1479 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n&quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 tid=0x00007f8a2571b800 nid=0x1478 in Object.wait() [0x00007f8a18600000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\r\n&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 tid=0x00007f8a25715000 nid=0x1477 in Object.wait() [0x00007f8a18701000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n\r\n&quot;main&quot; #1 prio=5 os_prio=0 tid=0x00007f8a244ce800 nid=0x1467 waiting on condition [0x00007f8a2885f000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\r\n&quot;VM Thread&quot; os_prio=0 tid=0x00007f8a246fd000 nid=0x1476 runnable\r\n\r\n&quot;GC task thread#0 (ParallelGC)&quot; os_prio=0 tid=0x00007f8a24524800 nid=0x1472 runnable\r\n\r\n&quot;GC task thread#1 (ParallelGC)&quot; os_prio=0 tid=0x00007f8a24526800 nid=0x1473 runnable\r\n\r\n&quot;GC task thread#2 (ParallelGC)&quot; os_prio=0 tid=0x00007f8a24528800 nid=0x1474 runnable\r\n\r\n&quot;GC task thread#3 (ParallelGC)&quot; os_prio=0 tid=0x00007f8a2452a000 nid=0x1475 runnable\r\n\r\n&quot;VM Periodic Task Thread&quot; os_prio=0 tid=0x00007f8a25777000 nid=0x147e waiting on condition\r\n\r\nJNI global references: 693\r\n```\r\nI had to truncate logs to be able to post here.\r\n\r\nI am really not that good at interpreting the thread dump so if you can see what is going on here?\r\nIt appears to me that Liferay is waiting for something to happen what never happens.\r\n\r\n2. Second most interesting log is the catalina log taken durring server boot. In here you can see all what was happening before server froze:\r\n\r\n```\r\n    29-Nov-2022 15:48:58.762 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/8.0.32\r\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Feb 2 2016 19:34:53 UTC\r\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.0.32.0\r\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\r\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            3.10.0-862.3.3.el7.x86_64\r\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/java/jdk1.8.0_231-amd64/jre\r\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_231-b11\r\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\r\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /opt/liferay/liferay-ce-portal-7.0-ga5/tomcat-8.0.32\r\n    29-Nov-2022 15:48:58.765 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /opt/liferay/liferay-ce-portal-7.0-ga5/tomcat-8.0.32\r\n    29-Nov-2022 15:48:58.765 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/opt/liferay/bundle/tomcat/conf/logging.properties\r\n    29-Nov-2022 15:48:58.765 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n    29-Nov-2022 15:48:58.765 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dfile.encoding=UTF8\r\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.net.preferIPv4Stack=true\r\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.loader.WebappClassLoader.ENABLE_CLEAR_REFERENCES=false\r\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Duser.timezone=GMT\r\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx3072m\r\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -DLIFERAY_LOGS=/opt/liferay/logs\r\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dhttps.proxyHost=192.168.255.60\r\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dhttps.proxyPort=8080\r\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dhttp.proxyHost=192.168.255.60\r\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dhttp.proxyPort=8080\r\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dhttp.nonProxyHosts=localhost|127.0.0.1|11.220.10.*|11.220.11.*|11.220.11.*|11.220.11.*|11.220.11.*|11.220.11.*|11.220.11.*|11.220.11.*\r\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.endorsed.dirs=/opt/liferay/bundle/tomcat/endorsed\r\n    29-Nov-2022 15:48:58.767 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/opt/liferay/bundle/tomcat\r\n    29-Nov-2022 15:48:58.767 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/opt/liferay/bundle/tomcat\r\n    29-Nov-2022 15:48:58.767 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/opt/liferay/bundle/tomcat/temp\r\n    29-Nov-2022 15:48:58.767 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -agentpath:/opt/dynatrace/oneagent/agent/lib64/liboneagentloader.so=loglevelcon=none,tenant=c36be366-d0cd-5d68-a746-328377dac62a,tenanttoken=ozhtrfDimuukoPl,server=https://11.220.19.2:8443/communication;https://11.220.19.3:8443/communication\r\n    29-Nov-2022 15:48:58.767 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib\r\n    29-Nov-2022 15:48:58.930 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    29-Nov-2022 15:48:58.945 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n    29-Nov-2022 15:48:58.949 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 533 ms\r\n    29-Nov-2022 15:48:58.974 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service Catalina\r\n    29-Nov-2022 15:48:58.974 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.0.32\r\n    29-Nov-2022 15:48:58.983 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying configuration descriptor /opt/liferay/liferay-ce-portal-7.0-ga5/tomcat-8.0.32/conf/Catalina/localhost/ROOT.xml\r\n    13-Dec-2022 11:21:57.350 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath\r\n    Loading jar:file:/opt/liferay/liferay-ce-portal-7.0-ga5/tomcat-8.0.32/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/system.properties\r\n    Loading jar:file:/opt/liferay/liferay-ce-portal-7.0-ga5/tomcat-8.0.32/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/system.properties\r\n    Loading jar:file:/opt/liferay/liferay-ce-portal-7.0-ga5/tomcat-8.0.32/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal.properties\r\n    Loading file:/opt/liferay/liferay-ce-portal-7.0-ga5/portal-ext.properties\r\n    log4j:WARN No such property [conversionPattern] in net.logstash.log4j.JSONEventLayoutV1.\r\n    [Target Platform Indexer][main] INFO osgi.logging.org_eclipse_osgi - ServiceEvent REGISTERED {org.eclipse.osgi.service.security.TrustEngine}={service.ranking=-2147483648, osgi.signedcontent.trust.engine=org.eclipse.osgi, service.id=24, service.bundleid=0, service.scope=singleton}[Target Platform Indexer]\r\n    [Target Platform Indexer][main] INFO osgi.logging.org_eclipse_osgi - ServiceEvent REGISTERED {org.eclipse.osgi.signedcontent.SignedContentFactory}={service.id=25, service.bundleid=0, service.scope=singleton}[Target Platform Indexer]\r\n    [Target Platform Indexer][main] INFO osgi.logging.org_eclipse_osgi - ServiceEvent REGISTERED {org.eclipse.osgi.service.debug.DebugOptionsListener}={service.ranking=2147483647, listener.symbolic.name=org.eclipse.osgi, service.pid=0.org.eclipse.osgi.internal.debug.Debug, service.vendor=Eclipse.org - Equinox, service.id=26, service.bundleid=0, service.scope=singleton}[Target Platform Indexer]\r\n    [Target Platform Indexer][main] INFO osgi.logging.org_eclipse_osgi - ServiceEvent REGISTERED {org.eclipse.osgi.service.debug.DebugOptionsListener}={service.ranking=2147483647, listener.symbolic.name=org.eclipse.osgi, service.pid=0.org.eclipse.osgi.container.ModuleContainer, service.vendor=Eclipse.org - Equinox, service.id=27, service.bundleid=0, service.scope=singleton}[Target Platform Indexer]\r\n    [Target Platform Indexer][Framework stop] INFO osgi.logging.org_eclipse_osgi - ServiceEvent UNREGISTERING {com.liferay.portal.app.license.AppLicenseVerifier}={version=1.0.0, service.id=22, service.bundleid=0, service.scope=singleton}[Target Platform Indexer]\r\n    [Target Platform Indexer][Framework stop] INFO osgi.logging.org_eclipse_osgi - ServiceEvent UNREGISTERING {org.osgi.framework.hooks.resolver.ResolverHookFactory}={service.id=23, service.bundleid=0, service.scope=singleton}[Target Platform Indexer]\r\n    13-Dec-2022 11:22:31.648 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext\r\n```\r\n\r\nNothing too special here either. Only interesting thing about this log is that it ends after the line saying that it is initializing the spring root.\r\n\r\n3. In the Liferay log the most interesthing record i could find is:\r\n```\r\n    {&quot;@timestamp&quot;:&quot;2022-11-29T15:49:42.300Z&quot;,&quot;source_host&quot;:&quot;127.0.0.1&quot;,&quot;file&quot;:&quot;LPKGArtifactInstaller.java&quot;,&quot;method&quot;:&quot;_logRestartRequired&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;line_number&quot;:&quot;127&quot;,&quot;thread_name&quot;:&quot;fileinstall-\\/opt\\/liferay\\/bundle\\/osgi\\/marketplace&quot;,&quot;@version&quot;:1,&quot;logger_name&quot;:&quot;com.liferay.marketplace.deployer.internal.LPKGArtifactInstaller&quot;,&quot;message&quot;:&quot;The portal instance needs to be restarted to complete the installation of \\/opt\\/liferay\\/liferay-ce-portal-7.0-ga5\\/osgi\\/marketplace\\/Liferay Marketplace.lpkg&quot;,&quot;class&quot;:&quot;com.liferay.marketplace.deployer.internal.LPKGArtifactInstaller&quot;,&quot;mdc&quot;:{}}\r\n```\r\nI am not allowed to attach the whole log file here.\r\n\r\nHere what is interesting is that, toward the end of the log, it says that portal needs to be restarted to complete the installation. What is interesting is that whenever Tomcat is restarted the exact same logs are generated with this message that it needs to be restarted.\r\n\r\nAfter these logs logging stops in total and no log entry is written to logs unless we restart the server.\r\n\r\nThis will not fix itself if we wait, we did not notice this problem for more than 6 months and durring those 6 months nothing was logged into logs. So, it is completely frozen.\r\n\r\nAny idea? How to proceed into debugging this problem?","title":"Liferay freezes durring boot","body":"<p>Do you have any advice of what might be wrong in my Liferay installation? I think the following log message is the most relevant:\n<code>The portal instance needs to be restarted to complete the installation of</code>\nLiferay is packed inside Tomcat; and when I try to start it it starts starting just fine, it loggs messages in console and then, all the sudden it freezes. Logs stop and application is not responding.</p>\n<p>We have a cluster of 16 servers all running Liferay Community Edition Portal 7.0.4 GA5 inside Tomcat inside Java 8 virtual machine inside RedHat Linux. All 16 servers have the same copy of jars and wars deployed. 15 out of those 16 work just fine. But this one freezes. Other applications on the server in question work just fine, so it is probably not the Operating System related.</p>\n<p>Here are some logs for you:</p>\n<ol>\n<li>The most interesthing log is error log taken from the standard out:</li>\n</ol>\n<pre><code>\nThread dump for portal startup after waited 600000ms:\n\n\n2022-12-13 12:32:21\nFull thread dump Java HotSpot(TM) 64-Bit Server VM (25.231-b11 mixed mode):\n\n&quot;Attach Listener&quot; #53 daemon prio=9 os_prio=0 tid=0x00007f89d0008800 nid=0x1734 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;com.liferay.portal.kernel.process.ProcessUtil-2&quot; #52 daemon prio=1 os_prio=0 tid=0x00007f89b85c1000 nid=0x170b runnable [0x00007f8974c19000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;com.liferay.portal.kernel.process.ProcessUtil-1&quot; #51 daemon prio=1 os_prio=0 tid=0x00007f89b9304000 nid=0x170a runnable [0x00007f89776f5000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;process reaper&quot; #50 daemon prio=10 os_prio=0 tid=0x00007f89b85ab800 nid=0x1709 runnable [0x00007f89d80ae000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Java2D Disposer&quot; #49 daemon prio=10 os_prio=0 tid=0x00007f8988190000 nid=0x14fe in Object.wait() [0x00007f8974d1a000]\n   java.lang.Thread.State: WAITING (on object monitor)\n\n&quot;equinox telnet&quot; #46 daemon prio=5 os_prio=0 tid=0x0000000001885800 nid=0x14f0 runnable [0x00007f8977ffe000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Portal Startup Monitoring Thread&quot; #41 daemon prio=5 os_prio=0 tid=0x0000000001ff9000 nid=0x14c2 waiting on condition [0x00007f89774f3000]\n   java.lang.Thread.State: WAITING (parking)\n\n&quot;SCR Component Actor&quot; #40 daemon prio=5 os_prio=0 tid=0x0000000001fc3800 nid=0x14c1 in Object.wait() [0x00007f89775f4000]\n   java.lang.Thread.State: WAITING (on object monitor)\n\n&quot;fileinstall-/opt/liferay/bundle/osgi/war&quot; #38 daemon prio=5 os_prio=0 tid=0x0000000001d4b800 nid=0x14bf in Object.wait() [0x00007f89777f6000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n\n&quot;fileinstall-/opt/liferay/bundle/osgi/modules&quot; #37 daemon prio=5 os_prio=0 tid=0x0000000001c84800 nid=0x14be in Object.wait() [0x00007f89778f7000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n\n&quot;fileinstall-/opt/liferay/bundle/osgi/shared&quot; #36 daemon prio=5 os_prio=0 tid=0x0000000001c99000 nid=0x14bd in Object.wait() [0x00007f89779f8000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n\n&quot;fileinstall-/opt/liferay/bundle/osgi/marketplace&quot; #35 daemon prio=5 os_prio=0 tid=0x0000000001c8c000 nid=0x14bc in Object.wait() [0x00007f8977af9000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n\n&quot;fileinstall-/opt/liferay/bundle/osgi/configs&quot; #34 daemon prio=5 os_prio=0 tid=0x0000000001c9a000 nid=0x14bb in Object.wait() [0x00007f8977bfa000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n\n&quot;fileinstall-/opt/liferay/bundle/osgi/portal&quot; #33 daemon prio=5 os_prio=0 tid=0x0000000001c92800 nid=0x14ba in Object.wait() [0x00007f8977cfb000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n\n&quot;Thread-6&quot; #31 daemon prio=5 os_prio=0 tid=0x00007f8984001800 nid=0x14b8 waiting on condition [0x00007f8977dfc000]\n   java.lang.Thread.State: WAITING (parking)\n\n&quot;Thread-5&quot; #30 daemon prio=5 os_prio=0 tid=0x0000000001875800 nid=0x14b7 waiting on condition [0x00007f8977efd000]\n   java.lang.Thread.State: WAITING (parking)\n\n&quot;CM Event Dispatcher&quot; #28 daemon prio=5 os_prio=0 tid=0x000000000183b800 nid=0x14b5 in Object.wait() [0x00007f89c419b000]\n   java.lang.Thread.State: WAITING (on object monitor)\n\n&quot;CM Configuration Updater&quot; #27 daemon prio=5 os_prio=0 tid=0x00000000018a6800 nid=0x14b4 in Object.wait() [0x00007f89c4657000]\n   java.lang.Thread.State: WAITING (on object monitor)\n\n&quot;Start Level: Equinox Container: 4023bd5b-d87a-001d-1ab8-f03d08a00709&quot; #26 daemon prio=5 os_prio=0 tid=0x00007f89959f6000 nid=0x14ac in Object.wait() [0x00007f89c4758000]\n   java.lang.Thread.State: WAITING (on object monitor)\n\n&quot;Bundle File Closer&quot; #25 daemon prio=5 os_prio=0 tid=0x00007f89780b0800 nid=0x14ab in Object.wait() [0x00007f89c4551000]\n   java.lang.Thread.State: WAITING (on object monitor)\n\n&quot;Refresh Thread: Equinox Container: 4023bd5b-d87a-001d-1ab8-f03d08a00709&quot; #24 daemon prio=5 os_prio=0 tid=0x00007f8996540000 nid=0x14aa in Object.wait() [0x00007f89c48d3000]\n   java.lang.Thread.State: WAITING (on object monitor)\n\n&quot;Framework Event Dispatcher: Equinox Container: 4023bd5b-d87a-001d-1ab8-f03d08a00709&quot; #23 daemon prio=5 os_prio=0 tid=0x00007f899640b000 nid=0x14a9 in Object.wait() [0x00007f89c49d4000]\n   java.lang.Thread.State: WAITING (on object monitor)\n\n&quot;Active Thread: Equinox Container: 4023bd5b-d87a-001d-1ab8-f03d08a00709&quot; #21 prio=5 os_prio=0 tid=0x00007f8993fce000 nid=0x14a6 waiting on condition [0x00007f89c5ad5000]\n   java.lang.Thread.State: TIMED_WAITING (parking)\n\n&quot;Tomcat JDBC Pool Cleaner[2070428996:1670930516054]&quot; #20 daemon prio=5 os_prio=0 tid=0x00007f899c233800 nid=0x148c in Object.wait() [0x00007f89d8dda000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n\n&quot;localhost-startStop-1&quot; #19 daemon prio=5 os_prio=0 tid=0x00007f899800c000 nid=0x1484 waiting on condition [0x00007f89d9ae5000]\n   java.lang.Thread.State: WAITING (parking)\n\n&quot;Catalina-startStop-1&quot; #18 daemon prio=5 os_prio=0 tid=0x00007f8a25eed800 nid=0x1483 waiting on condition [0x00007f89d9be7000]\n   java.lang.Thread.State: WAITING (parking)\n\n&quot;NioBlockingSelector.BlockPoller-1&quot; #17 daemon prio=5 os_prio=0 tid=0x00007f8a25edc000 nid=0x1482 runnable [0x00007f89f4189000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;GC Daemon&quot; #16 daemon prio=2 os_prio=0 tid=0x00007f8a25daa000 nid=0x1481 in Object.wait() [0x00007f89f44c8000]\n   java.lang.Thread.State: TIMED_WAITING (on object monitor)\n\n&quot;AsyncFileHandlerWriter-1414644648&quot; #15 daemon prio=5 os_prio=0 tid=0x00007f8a25913800 nid=0x147f waiting on condition [0x00007f89f4dfc000]\n   java.lang.Thread.State: TIMED_WAITING (parking)\n\n&quot;oneagentperiodiceventsmanaged&quot; #12 daemon prio=5 os_prio=0 tid=0x00007f8a08001000 nid=0x1471 runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;oneagentautosensor&quot; #11 daemon prio=5 os_prio=0 tid=0x00007f89a8001000 nid=0x1470 runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;oneagentsubpathsender&quot; #10 daemon prio=5 os_prio=0 tid=0x00007f8a04001000 nid=0x146f runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;oneagentperiodicrequests&quot; #9 daemon prio=5 os_prio=0 tid=0x00007f8a0c001000 nid=0x146d runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Service Thread&quot; #8 daemon prio=9 os_prio=0 tid=0x00007f8a25774000 nid=0x147d runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C1 CompilerThread2&quot; #7 daemon prio=9 os_prio=0 tid=0x00007f8a25769000 nid=0x147c waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread1&quot; #6 daemon prio=9 os_prio=0 tid=0x00007f8a25767000 nid=0x147b waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread0&quot; #5 daemon prio=9 os_prio=0 tid=0x00007f8a25765000 nid=0x147a waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 tid=0x00007f8a25762800 nid=0x1479 runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 tid=0x00007f8a2571b800 nid=0x1478 in Object.wait() [0x00007f8a18600000]\n   java.lang.Thread.State: WAITING (on object monitor)\n\n&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 tid=0x00007f8a25715000 nid=0x1477 in Object.wait() [0x00007f8a18701000]\n   java.lang.Thread.State: WAITING (on object monitor)\n\n&quot;main&quot; #1 prio=5 os_prio=0 tid=0x00007f8a244ce800 nid=0x1467 waiting on condition [0x00007f8a2885f000]\n   java.lang.Thread.State: WAITING (parking)\n\n&quot;VM Thread&quot; os_prio=0 tid=0x00007f8a246fd000 nid=0x1476 runnable\n\n&quot;GC task thread#0 (ParallelGC)&quot; os_prio=0 tid=0x00007f8a24524800 nid=0x1472 runnable\n\n&quot;GC task thread#1 (ParallelGC)&quot; os_prio=0 tid=0x00007f8a24526800 nid=0x1473 runnable\n\n&quot;GC task thread#2 (ParallelGC)&quot; os_prio=0 tid=0x00007f8a24528800 nid=0x1474 runnable\n\n&quot;GC task thread#3 (ParallelGC)&quot; os_prio=0 tid=0x00007f8a2452a000 nid=0x1475 runnable\n\n&quot;VM Periodic Task Thread&quot; os_prio=0 tid=0x00007f8a25777000 nid=0x147e waiting on condition\n\nJNI global references: 693\n</code></pre>\n<p>I had to truncate logs to be able to post here.</p>\n<p>I am really not that good at interpreting the thread dump so if you can see what is going on here?\nIt appears to me that Liferay is waiting for something to happen what never happens.</p>\n<ol start=\"2\">\n<li>Second most interesting log is the catalina log taken durring server boot. In here you can see all what was happening before server froze:</li>\n</ol>\n<pre><code>    29-Nov-2022 15:48:58.762 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/8.0.32\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Feb 2 2016 19:34:53 UTC\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.0.32.0\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            3.10.0-862.3.3.el7.x86_64\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/java/jdk1.8.0_231-amd64/jre\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_231-b11\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\n    29-Nov-2022 15:48:58.764 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /opt/liferay/liferay-ce-portal-7.0-ga5/tomcat-8.0.32\n    29-Nov-2022 15:48:58.765 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /opt/liferay/liferay-ce-portal-7.0-ga5/tomcat-8.0.32\n    29-Nov-2022 15:48:58.765 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/opt/liferay/bundle/tomcat/conf/logging.properties\n    29-Nov-2022 15:48:58.765 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n    29-Nov-2022 15:48:58.765 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dfile.encoding=UTF8\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.net.preferIPv4Stack=true\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.loader.WebappClassLoader.ENABLE_CLEAR_REFERENCES=false\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Duser.timezone=GMT\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx3072m\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -DLIFERAY_LOGS=/opt/liferay/logs\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dhttps.proxyHost=192.168.255.60\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dhttps.proxyPort=8080\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dhttp.proxyHost=192.168.255.60\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dhttp.proxyPort=8080\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dhttp.nonProxyHosts=localhost|127.0.0.1|11.220.10.*|11.220.11.*|11.220.11.*|11.220.11.*|11.220.11.*|11.220.11.*|11.220.11.*|11.220.11.*\n    29-Nov-2022 15:48:58.766 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.endorsed.dirs=/opt/liferay/bundle/tomcat/endorsed\n    29-Nov-2022 15:48:58.767 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/opt/liferay/bundle/tomcat\n    29-Nov-2022 15:48:58.767 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/opt/liferay/bundle/tomcat\n    29-Nov-2022 15:48:58.767 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/opt/liferay/bundle/tomcat/temp\n    29-Nov-2022 15:48:58.767 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -agentpath:/opt/dynatrace/oneagent/agent/lib64/liboneagentloader.so=loglevelcon=none,tenant=c36be366-d0cd-5d68-a746-328377dac62a,tenanttoken=ozhtrfDimuukoPl,server=https://11.220.19.2:8443/communication;https://11.220.19.3:8443/communication\n    29-Nov-2022 15:48:58.767 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib\n    29-Nov-2022 15:48:58.930 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n    29-Nov-2022 15:48:58.945 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n    29-Nov-2022 15:48:58.949 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 533 ms\n    29-Nov-2022 15:48:58.974 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service Catalina\n    29-Nov-2022 15:48:58.974 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.0.32\n    29-Nov-2022 15:48:58.983 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying configuration descriptor /opt/liferay/liferay-ce-portal-7.0-ga5/tomcat-8.0.32/conf/Catalina/localhost/ROOT.xml\n    13-Dec-2022 11:21:57.350 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath\n    Loading jar:file:/opt/liferay/liferay-ce-portal-7.0-ga5/tomcat-8.0.32/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/system.properties\n    Loading jar:file:/opt/liferay/liferay-ce-portal-7.0-ga5/tomcat-8.0.32/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/system.properties\n    Loading jar:file:/opt/liferay/liferay-ce-portal-7.0-ga5/tomcat-8.0.32/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal.properties\n    Loading file:/opt/liferay/liferay-ce-portal-7.0-ga5/portal-ext.properties\n    log4j:WARN No such property [conversionPattern] in net.logstash.log4j.JSONEventLayoutV1.\n    [Target Platform Indexer][main] INFO osgi.logging.org_eclipse_osgi - ServiceEvent REGISTERED {org.eclipse.osgi.service.security.TrustEngine}={service.ranking=-2147483648, osgi.signedcontent.trust.engine=org.eclipse.osgi, service.id=24, service.bundleid=0, service.scope=singleton}[Target Platform Indexer]\n    [Target Platform Indexer][main] INFO osgi.logging.org_eclipse_osgi - ServiceEvent REGISTERED {org.eclipse.osgi.signedcontent.SignedContentFactory}={service.id=25, service.bundleid=0, service.scope=singleton}[Target Platform Indexer]\n    [Target Platform Indexer][main] INFO osgi.logging.org_eclipse_osgi - ServiceEvent REGISTERED {org.eclipse.osgi.service.debug.DebugOptionsListener}={service.ranking=2147483647, listener.symbolic.name=org.eclipse.osgi, service.pid=0.org.eclipse.osgi.internal.debug.Debug, service.vendor=Eclipse.org - Equinox, service.id=26, service.bundleid=0, service.scope=singleton}[Target Platform Indexer]\n    [Target Platform Indexer][main] INFO osgi.logging.org_eclipse_osgi - ServiceEvent REGISTERED {org.eclipse.osgi.service.debug.DebugOptionsListener}={service.ranking=2147483647, listener.symbolic.name=org.eclipse.osgi, service.pid=0.org.eclipse.osgi.container.ModuleContainer, service.vendor=Eclipse.org - Equinox, service.id=27, service.bundleid=0, service.scope=singleton}[Target Platform Indexer]\n    [Target Platform Indexer][Framework stop] INFO osgi.logging.org_eclipse_osgi - ServiceEvent UNREGISTERING {com.liferay.portal.app.license.AppLicenseVerifier}={version=1.0.0, service.id=22, service.bundleid=0, service.scope=singleton}[Target Platform Indexer]\n    [Target Platform Indexer][Framework stop] INFO osgi.logging.org_eclipse_osgi - ServiceEvent UNREGISTERING {org.osgi.framework.hooks.resolver.ResolverHookFactory}={service.id=23, service.bundleid=0, service.scope=singleton}[Target Platform Indexer]\n    13-Dec-2022 11:22:31.648 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext\n</code></pre>\n<p>Nothing too special here either. Only interesting thing about this log is that it ends after the line saying that it is initializing the spring root.</p>\n<ol start=\"3\">\n<li>In the Liferay log the most interesthing record i could find is:</li>\n</ol>\n<pre><code>    {&quot;@timestamp&quot;:&quot;2022-11-29T15:49:42.300Z&quot;,&quot;source_host&quot;:&quot;127.0.0.1&quot;,&quot;file&quot;:&quot;LPKGArtifactInstaller.java&quot;,&quot;method&quot;:&quot;_logRestartRequired&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;line_number&quot;:&quot;127&quot;,&quot;thread_name&quot;:&quot;fileinstall-\\/opt\\/liferay\\/bundle\\/osgi\\/marketplace&quot;,&quot;@version&quot;:1,&quot;logger_name&quot;:&quot;com.liferay.marketplace.deployer.internal.LPKGArtifactInstaller&quot;,&quot;message&quot;:&quot;The portal instance needs to be restarted to complete the installation of \\/opt\\/liferay\\/liferay-ce-portal-7.0-ga5\\/osgi\\/marketplace\\/Liferay Marketplace.lpkg&quot;,&quot;class&quot;:&quot;com.liferay.marketplace.deployer.internal.LPKGArtifactInstaller&quot;,&quot;mdc&quot;:{}}\n</code></pre>\n<p>I am not allowed to attach the whole log file here.</p>\n<p>Here what is interesting is that, toward the end of the log, it says that portal needs to be restarted to complete the installation. What is interesting is that whenever Tomcat is restarted the exact same logs are generated with this message that it needs to be restarted.</p>\n<p>After these logs logging stops in total and no log entry is written to logs unless we restart the server.</p>\n<p>This will not fix itself if we wait, we did not notice this problem for more than 6 months and durring those 6 months nothing was logged into logs. So, it is completely frozen.</p>\n<p>Any idea? How to proceed into debugging this problem?</p>\n"},{"tags":["java","cdi","weld","java-platform-module-system"],"comments":[{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1670820961,"post_id":74763029,"comment_id":131953894,"body_markdown":"Stack trace shows NPE on `seContainer.close();` in the `@AfterAll`.  Do the debug logs tell you anything about the instantiation in `@BeforeAll`?","body":"Stack trace shows NPE on <code>seContainer.close();</code> in the <code>@AfterAll</code>.  Do the debug logs tell you anything about the instantiation in <code>@BeforeAll</code>?"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1670821193,"post_id":74763029,"comment_id":131953924,"body_markdown":"Guessing here: you may need an `--add-reads yourTestModuleName=jakarta.enterprise.inject.se` to run your tests.","body":"Guessing here: you may need an <code>--add-reads yourTestModuleName=jakarta.enterprise.inject.se</code> to run your tests."},{"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"score":0,"creation_date":1670917122,"post_id":74763029,"comment_id":131977748,"body_markdown":"The upper part of the stacktrace I posted is from ```@BeforeAll```. This behaviour also occurs if I run in a non-modular environment (no ```modules-info.java```)","body":"The upper part of the stacktrace I posted is from <code>@BeforeAll</code>. This behaviour also occurs if I run in a non-modular environment (no <code>modules-info.java</code>)"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1670919446,"post_id":74763029,"comment_id":131978375,"body_markdown":"I&#39;m confused, in your answer above you indicate creating the `module-info.java` caused the symptoms. Now you say the behavior is independent of modules?  The error seems associated with reflection, which needs either the module or the necessary package to be open to reading.  If it&#39;s in a dependency you may need `--add-opens` with an `ALL_UNNAMED` target.","body":"I&#39;m confused, in your answer above you indicate creating the <code>module-info.java</code> caused the symptoms. Now you say the behavior is independent of modules?  The error seems associated with reflection, which needs either the module or the necessary package to be open to reading.  If it&#39;s in a dependency you may need <code>--add-opens</code> with an <code>ALL_UNNAMED</code> target."},{"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"score":0,"creation_date":1670943120,"post_id":74763029,"comment_id":131986721,"body_markdown":"I saw that behaviour with, without and with an empty &#39;&#39;&#39;modules-info.java&#39;&#39;&#39; yesterday. I must admit that currently I can not reproduce it. I have a working modular reproducer under the url in the original post. Maybe it can be helpful for folks struggling with similar issues. Sorry for not being able to reproduce yesterday&#39;s behaviour.","body":"I saw that behaviour with, without and with an empty &#39;&#39;&#39;modules-info.java&#39;&#39;&#39; yesterday. I must admit that currently I can not reproduce it. I have a working modular reproducer under the url in the original post. Maybe it can be helpful for folks struggling with similar issues. Sorry for not being able to reproduce yesterday&#39;s behaviour."},{"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"score":0,"creation_date":1670947639,"post_id":74763029,"comment_id":131988394,"body_markdown":"I had a closer look and this is what I found: as kinda old school eclipse fan boy I struggled with intellij, therefore switched back to eclipse and got my project (see reproducer above) running instantly from the ide (latest version). Switching to intellij again I also see the above exception again. Running mvn test fails with the same error.\n\neclipse has the project itself under module path. I do not currently know how to achieve that for intellij and maven. I&#39;ll have a look into that.","body":"I had a closer look and this is what I found: as kinda old school eclipse fan boy I struggled with intellij, therefore switched back to eclipse and got my project (see reproducer above) running instantly from the ide (latest version). Switching to intellij again I also see the above exception again. Running mvn test fails with the same error.  eclipse has the project itself under module path. I do not currently know how to achieve that for intellij and maven. I&#39;ll have a look into that."},{"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"score":0,"creation_date":1688366464,"post_id":74763029,"comment_id":135059315,"body_markdown":"I found no indication that Weld supports JPMS. A corresponding issue is still open: https://issues.redhat.com/browse/WELD-2493. Do not expect it to work with some minor tweaks until officially supported. Doing so would bring the people you are coding for most likely in trouble. The current situation indicates that you have to choose between Weld and JPMS.","body":"I found no indication that Weld supports JPMS. A corresponding issue is still open: <a href=\"https://issues.redhat.com/browse/WELD-2493\" rel=\"nofollow noreferrer\">issues.redhat.com/browse/WELD-2493</a>. Do not expect it to work with some minor tweaks until officially supported. Doing so would bring the people you are coding for most likely in trouble. The current situation indicates that you have to choose between Weld and JPMS."}],"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1670943253,"creation_date":1670779968,"question_id":74763029,"body_markdown":"I&#39;m new to jpms and try to setup a simple environment (java 19, graalvm, latest maven) to start a project with jpms + cdi (weld). My problem is: As soon as I create a(n even empty) ```module-info.java``` in my project weld produces an exception like below for a primitive cdi test. As soon as I remove ```module-info.java``` it disappears again and the test succeeds.\r\n\r\nI found one potential candidate for the &quot;multiple results&quot; from the exception. There is a ```beans.xml``` in ```src/main/resources/META-INF``` and in ```src/test/resources/META-INF``` but as I said it is no problem if I remove ```module-info.java``` from ```src/main/java```. I also tried with only one ```beans.xml``` in both locations but that did not change the behaviour.\r\n\r\nI could not find any hint for the reason of my problem. So any ideas are appreciated.\r\n\r\nHere comes the exception:\r\n\r\n```\r\njava.lang.IllegalStateException: WELD-ENV-000033: Invalid bean archive scanning result - found multiple results with the same reference: ...\\jpms\\common\\target\\test-classes\r\n\r\n\tat org.jboss.weld.environment.deployment.discovery.AbstractDiscoveryStrategy.performDiscovery(AbstractDiscoveryStrategy.java:124)\r\n\tat org.jboss.weld.environment.se.Weld.createDeployment(Weld.java:979)\r\n\tat org.jboss.weld.environment.se.Weld.initialize(Weld.java:796)\r\n\tat org.jboss.weld.environment.se.Weld.initialize(Weld.java:177)\r\n\tat de.ruu.lab.modules.jpms.common/de.ruu.lab.modules.jpms.common.CDITest.beforeAll(CDITest.java:29)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeAllMethod(TimeoutExtension.java:70)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllMethods$13(ClassBasedTestDescriptor.java:411)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllMethods(ClassBasedTestDescriptor.java:409)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:215)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\tSuppressed: java.lang.NullPointerException: Cannot invoke &quot;jakarta.enterprise.inject.se.SeContainer.close()&quot; because &quot;de.ruu.lab.modules.jpms.common.CDITest.seContainer&quot; is null\r\n\t\tat de.ruu.lab.modules.jpms.common/de.ruu.lab.modules.jpms.common.CDITest.afterAll(CDITest.java:36)\r\n\t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptAfterAllMethod(TimeoutExtension.java:118)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllMethods$15(ClassBasedTestDescriptor.java:439)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllMethods$16(ClassBasedTestDescriptor.java:437)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat java.base/java.util.Collections$UnmodifiableCollection.forEach(Collections.java:1092)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeAfterAllMethods(ClassBasedTestDescriptor.java:437)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:231)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:84)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:161)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:161)\r\n\t\t... 34 more\r\n```\r\n\r\n\r\nI prepared a minimal [reproducer](https://github.com/r-uu/sandbox-jpms-cdi.weld.git) that shows this effect. From the reproducer you can see, that in the end I also want to work with jpa (hibernate), but for now everything jpa/hibernate is commented out in the reproducer.","title":"jpms + cdi (weld): WELD-ENV-000033: Invalid bean archive scanning result - found multiple results with the same reference","body":"<p>I'm new to jpms and try to setup a simple environment (java 19, graalvm, latest maven) to start a project with jpms + cdi (weld). My problem is: As soon as I create a(n even empty) <code>module-info.java</code> in my project weld produces an exception like below for a primitive cdi test. As soon as I remove <code>module-info.java</code> it disappears again and the test succeeds.</p>\n<p>I found one potential candidate for the &quot;multiple results&quot; from the exception. There is a <code>beans.xml</code> in <code>src/main/resources/META-INF</code> and in <code>src/test/resources/META-INF</code> but as I said it is no problem if I remove <code>module-info.java</code> from <code>src/main/java</code>. I also tried with only one <code>beans.xml</code> in both locations but that did not change the behaviour.</p>\n<p>I could not find any hint for the reason of my problem. So any ideas are appreciated.</p>\n<p>Here comes the exception:</p>\n<pre><code>java.lang.IllegalStateException: WELD-ENV-000033: Invalid bean archive scanning result - found multiple results with the same reference: ...\\jpms\\common\\target\\test-classes\n\n    at org.jboss.weld.environment.deployment.discovery.AbstractDiscoveryStrategy.performDiscovery(AbstractDiscoveryStrategy.java:124)\n    at org.jboss.weld.environment.se.Weld.createDeployment(Weld.java:979)\n    at org.jboss.weld.environment.se.Weld.initialize(Weld.java:796)\n    at org.jboss.weld.environment.se.Weld.initialize(Weld.java:177)\n    at de.ruu.lab.modules.jpms.common/de.ruu.lab.modules.jpms.common.CDITest.beforeAll(CDITest.java:29)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeAllMethod(TimeoutExtension.java:70)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllMethods$13(ClassBasedTestDescriptor.java:411)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllMethods(ClassBasedTestDescriptor.java:409)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:215)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n    Suppressed: java.lang.NullPointerException: Cannot invoke &quot;jakarta.enterprise.inject.se.SeContainer.close()&quot; because &quot;de.ruu.lab.modules.jpms.common.CDITest.seContainer&quot; is null\n        at de.ruu.lab.modules.jpms.common/de.ruu.lab.modules.jpms.common.CDITest.afterAll(CDITest.java:36)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptAfterAllMethod(TimeoutExtension.java:118)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllMethods$15(ClassBasedTestDescriptor.java:439)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllMethods$16(ClassBasedTestDescriptor.java:437)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at java.base/java.util.Collections$UnmodifiableCollection.forEach(Collections.java:1092)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeAfterAllMethods(ClassBasedTestDescriptor.java:437)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:231)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:84)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:161)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:161)\n        ... 34 more\n</code></pre>\n<p>I prepared a minimal <a href=\"https://github.com/r-uu/sandbox-jpms-cdi.weld.git\" rel=\"nofollow noreferrer\">reproducer</a> that shows this effect. From the reproducer you can see, that in the end I also want to work with jpa (hibernate), but for now everything jpa/hibernate is commented out in the reproducer.</p>\n"},{"tags":["java","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1489423194,"creation_date":1475084182,"answer_id":39754212,"question_id":39753730,"body_markdown":"Edit: You can now increase the limit directly from `ManagedChannelBuilder`.\r\n\r\nToday, you can&#39;t increase the limit on `ManagedChannelBuilder`; you are forced to specify the transport implementation you want to use.\r\n\r\nSo most users would explicitly use `NettyChannelBuilder`, and Android users would use `OkHttpChannelBuilder`:\r\n\r\n    ManagedChannel channel = \r\n       NettyChannelBuilder.forAddress(rpcHost, grpcPort)\r\n                            .usePlaintext(true).build();\r\n\r\n\r\nI&#39;ve created [GitHub issue 2307][1] to track this.\r\n\r\n\r\n  [1]: https://github.com/grpc/grpc-java/issues/2307","title":"java-grpc: How to increase the message size limit in a ManagedChannel?","body":"<p>Edit: You can now increase the limit directly from <code>ManagedChannelBuilder</code>.</p>\n\n<p>Today, you can't increase the limit on <code>ManagedChannelBuilder</code>; you are forced to specify the transport implementation you want to use.</p>\n\n<p>So most users would explicitly use <code>NettyChannelBuilder</code>, and Android users would use <code>OkHttpChannelBuilder</code>:</p>\n\n<pre><code>ManagedChannel channel = \n   NettyChannelBuilder.forAddress(rpcHost, grpcPort)\n                        .usePlaintext(true).build();\n</code></pre>\n\n<p>I've created <a href=\"https://github.com/grpc/grpc-java/issues/2307\" rel=\"noreferrer\">GitHub issue 2307</a> to track this.</p>\n"},{"comments":[{"owner":{"account_id":14079892,"reputation":1616,"user_id":10171211,"display_name":"Seb"},"score":0,"creation_date":1695144917,"post_id":74786705,"comment_id":135983802,"body_markdown":"`maxInboundMessageSize` is ignored in my case. Which grpcVersion are you using?","body":"<code>maxInboundMessageSize</code> is ignored in my case. Which grpcVersion are you using?"},{"owner":{"account_id":8608092,"reputation":1207,"user_id":6447529,"display_name":"Uri Loya"},"score":0,"creation_date":1695222943,"post_id":74786705,"comment_id":135996361,"body_markdown":"I don&#39;t have the configuration anymore but believe it was v1.51","body":"I don&#39;t have the configuration anymore but believe it was v1.51"}],"tags":[],"owner":{"account_id":8608092,"reputation":1207,"user_id":6447529,"display_name":"Uri Loya"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670943203,"creation_date":1670943203,"answer_id":74786705,"question_id":39753730,"body_markdown":"You can increase gRPC message limit using **maxInboundMessageSize()**:\r\n~~~java\r\nManagedChannel channel = \r\n   ManagedChannelBuilder.forAddress(rpcHost, grpcPort)\r\n                        .usePlaintext(true)\r\n                        .maxInboundMessageSize(1000000) // enter the size here\r\n                        .build();\r\n~~~","title":"java-grpc: How to increase the message size limit in a ManagedChannel?","body":"<p>You can increase gRPC message limit using <strong>maxInboundMessageSize()</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ManagedChannel channel = \n   ManagedChannelBuilder.forAddress(rpcHost, grpcPort)\n                        .usePlaintext(true)\n                        .maxInboundMessageSize(1000000) // enter the size here\n                        .build();\n</code></pre>\n"}],"owner":{"account_id":411202,"reputation":41997,"user_id":783510,"accept_rate":91,"display_name":"Philipp Cla&#223;en"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14521,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":39754212,"answer_count":2,"score":8,"last_activity_date":1670943203,"creation_date":1475082570,"question_id":39753730,"body_markdown":"Our communication exceeds the default [grpc-java][1] limit on the message size:\r\n\r\n    Caused by: io.grpc.StatusRuntimeException: INTERNAL:\r\n    Frame size 4555602 exceeds maximum: 4194304.\r\n    If this is normal, increase the maxMessageSize\r\n    in the channel/server builder\r\n\r\nThat limit can be increased, see from https://github.com/grpc/grpc-java/issues/917:\r\n\r\n&gt; Set maxMessageSize() on the Channel/Server builder.\r\n\r\nWhen trying to implement the fix in our code base, however, it is not clear for me how to do that, as not all `Channel` implementations have a `maxMessageSize` method.\r\n\r\nOur code uses a [`ManagedChannel`][2]. The setup code looks like this:\r\n\r\n    ManagedChannel channel = \r\n       ManagedChannelBuilder.forAddress(rpcHost, grpcPort)\r\n                            .usePlaintext(true).build();\r\n\r\n    CatalogGrpcServiceGrpc.CatalogGrpcServiceBlockingStub stub =\r\n        CatalogGrpcServiceGrpc.newBlockingStub(channel);\r\n    CatalogRetrieverGrpcServiceAdapter grpcServiceAdapter =\r\n        new CatalogRetrieverGrpcServiceAdapter(\r\n                stub, metricRegistry);\r\n\r\nMaybe I am missing something, but I cannot see how to increase the maximum size for `ManagedChannel`. Only the `OkHttpChannelBuilder` has it ([`OkHttpChannelBuilder#maxMessageSize`][3]).\r\n\r\n**Questions:**\r\n\r\n* How can I increase the message limit with a `ManagedChannel`?\r\n* If it is not possible with `ManagedChannel`, how can I rewrite the code to use another channel implementation that support to increase the default limit?\r\n\r\n\r\n  [1]: https://github.com/grpc/grpc-java\r\n  [2]: http://www.grpc.io/grpc-java/javadoc/io/grpc/ManagedChannel.html\r\n  [3]: https://github.com/grpc/grpc-java/blob/master/okhttp/src/main/java/io/grpc/okhttp/OkHttpChannelBuilder.java#L224","title":"java-grpc: How to increase the message size limit in a ManagedChannel?","body":"<p>Our communication exceeds the default <a href=\"https://github.com/grpc/grpc-java\" rel=\"noreferrer\">grpc-java</a> limit on the message size:</p>\n\n<pre><code>Caused by: io.grpc.StatusRuntimeException: INTERNAL:\nFrame size 4555602 exceeds maximum: 4194304.\nIf this is normal, increase the maxMessageSize\nin the channel/server builder\n</code></pre>\n\n<p>That limit can be increased, see from <a href=\"https://github.com/grpc/grpc-java/issues/917\" rel=\"noreferrer\">https://github.com/grpc/grpc-java/issues/917</a>:</p>\n\n<blockquote>\n  <p>Set maxMessageSize() on the Channel/Server builder.</p>\n</blockquote>\n\n<p>When trying to implement the fix in our code base, however, it is not clear for me how to do that, as not all <code>Channel</code> implementations have a <code>maxMessageSize</code> method.</p>\n\n<p>Our code uses a <a href=\"http://www.grpc.io/grpc-java/javadoc/io/grpc/ManagedChannel.html\" rel=\"noreferrer\"><code>ManagedChannel</code></a>. The setup code looks like this:</p>\n\n<pre><code>ManagedChannel channel = \n   ManagedChannelBuilder.forAddress(rpcHost, grpcPort)\n                        .usePlaintext(true).build();\n\nCatalogGrpcServiceGrpc.CatalogGrpcServiceBlockingStub stub =\n    CatalogGrpcServiceGrpc.newBlockingStub(channel);\nCatalogRetrieverGrpcServiceAdapter grpcServiceAdapter =\n    new CatalogRetrieverGrpcServiceAdapter(\n            stub, metricRegistry);\n</code></pre>\n\n<p>Maybe I am missing something, but I cannot see how to increase the maximum size for <code>ManagedChannel</code>. Only the <code>OkHttpChannelBuilder</code> has it (<a href=\"https://github.com/grpc/grpc-java/blob/master/okhttp/src/main/java/io/grpc/okhttp/OkHttpChannelBuilder.java#L224\" rel=\"noreferrer\"><code>OkHttpChannelBuilder#maxMessageSize</code></a>).</p>\n\n<p><strong>Questions:</strong></p>\n\n<ul>\n<li>How can I increase the message limit with a <code>ManagedChannel</code>?</li>\n<li>If it is not possible with <code>ManagedChannel</code>, how can I rewrite the code to use another channel implementation that support to increase the default limit?</li>\n</ul>\n"},{"tags":["java","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1670943122,"post_id":74786137,"comment_id":131986724,"body_markdown":"The trace mentions something about the `@EnableJpaRepositories`. Could you share the class where said annotation is?","body":"The trace mentions something about the <code>@EnableJpaRepositories</code>. Could you share the class where said annotation is?"},{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1671344011,"post_id":74786137,"comment_id":132077049,"body_markdown":"you didnt use RoleType in Role class","body":"you didnt use RoleType in Role class"}],"answers":[{"tags":[],"owner":{"account_id":24864423,"reputation":34,"user_id":18739729,"display_name":"Ali Reza Shirmohammadi Yazdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670942847,"creation_date":1670942847,"answer_id":74786639,"question_id":74786137,"body_markdown":"Your query try to get Role&#39;s by type. But you&#39;re not define role type in role object.Your role object must be similar like this:\r\n\r\n    public class Role {\r\n        public Role(String name) {\r\n            super();\r\n            this.name =name;\r\n        }\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;role_id&quot;)\r\n        private Long id;\r\n\r\n        @Column(name=&quot;name&quot;)\r\n        private String name;\r\n        \r\n        @Column(name=&quot;roleType&quot;)\r\n        private RoleType roleType; \r\n\r\n    }","title":"JpaRepository in Repository package","body":"<p>Your query try to get Role's by type. But you're not define role type in role object.Your role object must be similar like this:</p>\n<pre><code>public class Role {\n    public Role(String name) {\n        super();\n        this.name =name;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;role_id&quot;)\n    private Long id;\n\n    @Column(name=&quot;name&quot;)\n    private String name;\n    \n    @Column(name=&quot;roleType&quot;)\n    private RoleType roleType; \n\n}\n</code></pre>\n"}],"owner":{"account_id":24807421,"reputation":1,"user_id":18689252,"display_name":"eliud"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670942847,"creation_date":1670940538,"question_id":74786137,"body_markdown":"While running my application(not yet done with it), I encountered these two errors. I have tried to figure out what they mean and how to resolve them with no success. Can someone kindly help me out. I am novice in Java. Thanks a lot.\r\n\r\nBelow you&#39;ll find my codes for Model,Repository and enums packages. \r\n\r\n1 Error creating bean with name &#39;roleRepository&#39; defined in ro.sda.finalproject.repository.RoleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar\r\n\r\n2 No property &#39;roleType&#39; found for type &#39;Role&#39;\r\n\r\n\r\n```\r\npackage ro.sda.finalproject.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;role&quot;)\r\npublic class Role {\r\n    public Role(String name) {\r\n        super();\r\n        this.name =name;\r\n    }\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;role_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name=&quot;name&quot;)\r\n    private String name;\r\n}\r\n```\r\n\r\n```\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\nimport ro.sda.finalproject.enums.RoleType;\r\nimport ro.sda.finalproject.model.Role;\r\n\r\nimport java.util.Optional;\r\nimport java.util.Set;\r\n\r\n@Repository\r\npublic interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\r\n\r\n    Optional&lt;Role&gt; findByType(RoleType type);\r\n\r\n    // select entity join with collection\r\n   // @Query(&quot;FROM Role r join r.users u WHERE u.id = :userId&quot;)\r\n    Set&lt;Role&gt; getRoles(Long user_id);\r\n}\r\n```\r\n\r\n```\r\npackage ro.sda.finalproject.enums;\r\n\r\npublic enum RoleType {\r\n    ADMIN, CUSTOMER, USER\r\n}\r\n```\r\n\r\n\r\n\r\nI tried commenting on the methods in RoleRepository and I did not receive any Error. But I believe this is not the solution to solving it.","title":"JpaRepository in Repository package","body":"<p>While running my application(not yet done with it), I encountered these two errors. I have tried to figure out what they mean and how to resolve them with no success. Can someone kindly help me out. I am novice in Java. Thanks a lot.</p>\n<p>Below you'll find my codes for Model,Repository and enums packages.</p>\n<p>1 Error creating bean with name 'roleRepository' defined in ro.sda.finalproject.repository.RoleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar</p>\n<p>2 No property 'roleType' found for type 'Role'</p>\n<pre><code>package ro.sda.finalproject.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;role&quot;)\npublic class Role {\n    public Role(String name) {\n        super();\n        this.name =name;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;role_id&quot;)\n    private Long id;\n\n    @Column(name=&quot;name&quot;)\n    private String name;\n}\n</code></pre>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\nimport ro.sda.finalproject.enums.RoleType;\nimport ro.sda.finalproject.model.Role;\n\nimport java.util.Optional;\nimport java.util.Set;\n\n@Repository\npublic interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\n\n    Optional&lt;Role&gt; findByType(RoleType type);\n\n    // select entity join with collection\n   // @Query(&quot;FROM Role r join r.users u WHERE u.id = :userId&quot;)\n    Set&lt;Role&gt; getRoles(Long user_id);\n}\n</code></pre>\n<pre><code>package ro.sda.finalproject.enums;\n\npublic enum RoleType {\n    ADMIN, CUSTOMER, USER\n}\n</code></pre>\n<p>I tried commenting on the methods in RoleRepository and I did not receive any Error. But I believe this is not the solution to solving it.</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":1476933,"reputation":529,"user_id":1387115,"display_name":"Alain D&#233;silets"},"score":0,"creation_date":1670611126,"post_id":74743459,"comment_id":131921397,"body_markdown":"Thx. I tried the instructions on the Java API Client link you provided. I included the &lt;dependency&gt; provided (for 8.5.3) but maven says it can&#39;t find it.  I tried with 8.5.2 and maven does find it. But it does not contain the RestClient class (which the page you provide says should be there). Tearing my hair out here!","body":"Thx. I tried the instructions on the Java API Client link you provided. I included the &lt;dependency&gt; provided (for 8.5.3) but maven says it can&#39;t find it.  I tried with 8.5.2 and maven does find it. But it does not contain the RestClient class (which the page you provide says should be there). Tearing my hair out here!"}],"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670590538,"creation_date":1670590538,"answer_id":74743459,"question_id":74742984,"body_markdown":"I recommend read Getting started documentarion:\r\n\r\nIf you work [**Java low level rest client**][1].\r\n\r\nIf you work **[Java API Client][2]**.\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/java-rest-low-usage-maven.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/installation.html#maven","title":"Can&#39;t find any of the ElasticSearch Java API classes","body":"<p>I recommend read Getting started documentarion:</p>\n<p>If you work <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/java-rest-low-usage-maven.html\" rel=\"nofollow noreferrer\"><strong>Java low level rest client</strong></a>.</p>\n<p>If you work <strong><a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/installation.html#maven\" rel=\"nofollow noreferrer\">Java API Client</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":1476933,"reputation":529,"user_id":1387115,"display_name":"Alain D&#233;silets"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670942812,"creation_date":1670942812,"answer_id":74786627,"question_id":74742984,"body_markdown":"Three things.\r\n\r\nFirst, follow the official ES documentation as suggested by rabbitbr.\r\n\r\nBUT...\r\n\r\nDon&#39;t use the latest version of elasticsearch-java because there there does not seem to be a maven artifact for that one. So instead, include the latest stable version. In my case, that was:\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.5.2&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\nFinally, make sure you also include the dependency for the elasticsearch-rest-client. This was mentioned at the end of the doc, but should really be mentioned in the installation section of the doc:\r\n\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\r\n        &lt;version&gt;8.5.2&lt;/version&gt;\r\n     &lt;/dependency&gt;","title":"Can&#39;t find any of the ElasticSearch Java API classes","body":"<p>Three things.</p>\n<p>First, follow the official ES documentation as suggested by rabbitbr.</p>\n<p>BUT...</p>\n<p>Don't use the latest version of elasticsearch-java because there there does not seem to be a maven artifact for that one. So instead, include the latest stable version. In my case, that was:</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n    &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n    &lt;version&gt;8.5.2&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>Finally, make sure you also include the dependency for the elasticsearch-rest-client. This was mentioned at the end of the doc, but should really be mentioned in the installation section of the doc:</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n    &lt;artifactId&gt;elasticsearch-rest-client&lt;/artifactId&gt;\n    &lt;version&gt;8.5.2&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1476933,"reputation":529,"user_id":1387115,"display_name":"Alain D&#233;silets"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670942812,"creation_date":1670587947,"question_id":74742984,"body_markdown":"I am trying to use ElasticSearch from Java using the high level API, as per this tutorial:\r\n\r\n    https://www.baeldung.com/elasticsearch-java\r\n\r\nbut the compiler is unable to locate most of the classes of the API.\r\n\r\nAs instructed, I have included this in my pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.elasticsearch&lt;/groupId\r\n\t&lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n\t&lt;version&gt;7.6.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd when I do a mvn build, it does download elasticsearch-7.6.2.jar to my maven repo.\r\n\r\nBut this jar does not seem to include many of the classes mentioned in the Baeldung tutorial.\r\n\r\nIn particular, it does not include the ClientConfiguration class. The command below\r\n\r\n   jar tvf elasticsearch-7.6.2.jar | grep ClientConfiguration\r\n\r\nyields nothing.\r\n\r\nNote that I have tried with a more recent version of ES (7.17.7) and likewise, it does not contain the ClientConfiguration class.\r\n\r\nSo, which dependency do I have to add in order to get those classes?\r\n\r\nThx.","title":"Can&#39;t find any of the ElasticSearch Java API classes","body":"<p>I am trying to use ElasticSearch from Java using the high level API, as per this tutorial:</p>\n<pre><code>https://www.baeldung.com/elasticsearch-java\n</code></pre>\n<p>but the compiler is unable to locate most of the classes of the API.</p>\n<p>As instructed, I have included this in my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.elasticsearch&lt;/groupId\n&lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n&lt;version&gt;7.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And when I do a mvn build, it does download elasticsearch-7.6.2.jar to my maven repo.</p>\n<p>But this jar does not seem to include many of the classes mentioned in the Baeldung tutorial.</p>\n<p>In particular, it does not include the ClientConfiguration class. The command below</p>\n<p>jar tvf elasticsearch-7.6.2.jar | grep ClientConfiguration</p>\n<p>yields nothing.</p>\n<p>Note that I have tried with a more recent version of ES (7.17.7) and likewise, it does not contain the ClientConfiguration class.</p>\n<p>So, which dependency do I have to add in order to get those classes?</p>\n<p>Thx.</p>\n"},{"tags":["java","spring-boot","containers","spring-integration"],"answers":[{"comments":[{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1668691821,"post_id":74476224,"comment_id":131471104,"body_markdown":"Yes, I think this is the good approach too, when the consumer reads an email in some instance, all the other instances will update the email flag, because they implement the observer pattern, and that&#39;s all ;)","body":"Yes, I think this is the good approach too, when the consumer reads an email in some instance, all the other instances will update the email flag, because they implement the observer pattern, and that&#39;s all ;)"},{"owner":{"account_id":17753290,"reputation":89,"user_id":12890881,"display_name":"Kiran Pawar"},"score":0,"creation_date":1668753193,"post_id":74476224,"comment_id":131487355,"body_markdown":"Thanks Artem, I did not see any documentation about the behavior so thought of asking here. I will update this ticket if I find different behavior.","body":"Thanks Artem, I did not see any documentation about the behavior so thought of asking here. I will update this ticket if I find different behavior."},{"owner":{"account_id":17753290,"reputation":89,"user_id":12890881,"display_name":"Kiran Pawar"},"score":0,"creation_date":1669699718,"post_id":74476224,"comment_id":131695975,"body_markdown":"mark messages as read = &quot;true&quot; doesn&#39;t prevent duplicate message processing in multi node scenario so we have used spring shedlock  with scheduler to process it only once.","body":"mark messages as read = &quot;true&quot; doesn&#39;t prevent duplicate message processing in multi node scenario so we have used spring shedlock  with scheduler to process it only once."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1669732896,"post_id":74476224,"comment_id":131706386,"body_markdown":"You also can use a leader election feature from Spring Integration, where only one active instance is going to pull mail box: https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#leadership-event-handling. Another feature is to use an Idempotent Receiver advice to prevent duplicates: https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#idempotent-receiver","body":"You also can use a leader election feature from Spring Integration, where only one active instance is going to pull mail box: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#leadership-event-handling\" rel=\"nofollow noreferrer\">docs.spring.io/spring-integration/docs/current/reference/htm&zwnj;&#8203;l/&hellip;</a>. Another feature is to use an Idempotent Receiver advice to prevent duplicates: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#idempotent-receiver\" rel=\"nofollow noreferrer\">docs.spring.io/spring-integration/docs/current/reference/htm&zwnj;&#8203;l/&hellip;</a>"},{"owner":{"account_id":17753290,"reputation":89,"user_id":12890881,"display_name":"Kiran Pawar"},"score":0,"creation_date":1670929048,"post_id":74476224,"comment_id":131981616,"body_markdown":"Hi @ArtemBilan, can you edit above answer with your last comment. I can then accept it as final answer.","body":"Hi @ArtemBilan, can you edit above answer with your last comment. I can then accept it as final answer."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1670942798,"post_id":74476224,"comment_id":131986603,"body_markdown":"OK. Edited my answer. Although comments are really part of the discussion and don&#39;t lose a context of the question.","body":"OK. Edited my answer. Although comments are really part of the discussion and don&#39;t lose a context of the question."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670942751,"creation_date":1668691395,"answer_id":74476224,"question_id":74475752,"body_markdown":"The `should-mark-messages-as-read=&quot;true&quot;` is enough for IMAP mail receiver to skip those messages on other instances or for subsequent fetch: `NotTerm notSeen = new NotTerm(new FlagTerm(new Flags(Flags.Flag.SEEN), true));`.\r\n\r\nDo you observe some other behavior?\r\n\r\n**UPDATE**\r\n\r\nYou also can use a leader election feature from Spring Integration, where only one active instance is going to pull mail box: https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#leadership-event-handling. Another feature is to use an Idempotent Receiver advice to prevent duplicates: https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#idempotent-receiver","title":"spring integration to read emails with multiple instances of spring boot application","body":"<p>The <code>should-mark-messages-as-read=&quot;true&quot;</code> is enough for IMAP mail receiver to skip those messages on other instances or for subsequent fetch: <code>NotTerm notSeen = new NotTerm(new FlagTerm(new Flags(Flags.Flag.SEEN), true));</code>.</p>\n<p>Do you observe some other behavior?</p>\n<p><strong>UPDATE</strong></p>\n<p>You also can use a leader election feature from Spring Integration, where only one active instance is going to pull mail box: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#leadership-event-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#leadership-event-handling</a>. Another feature is to use an Idempotent Receiver advice to prevent duplicates: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#idempotent-receiver\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#idempotent-receiver</a></p>\n"}],"owner":{"account_id":17753290,"reputation":89,"user_id":12890881,"display_name":"Kiran Pawar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74476224,"answer_count":1,"score":1,"last_activity_date":1670942751,"creation_date":1668689332,"question_id":74475752,"body_markdown":"I run a spring boot application using below configuration to read emails from a given email account. However, this springboot application is containerized and hence we have multiple instances of this application running at a given time. \r\n\r\nMy question is, Do multiple consumers[app instances] will get same message to process from the email account or it would not be available to other consumers[app instances] if anyone of the consumer reads it? I am trying to avoid duplicate processing of messages.\r\n\r\nConfiguration xml - \r\n\r\n```\r\n\r\n&lt;int-mail:inbound-channel-adapter id=&quot;imapAdapter&quot;\r\n                                      store-uri=&quot;imaps://abc.com/INBOX&quot;\r\n                                      channel=&quot;receiveChannel&quot;\r\n                                      should-delete-messages=&quot;false&quot;\r\n                                      should-mark-messages-as-read=&quot;true&quot;\r\n                                      java-mail-properties=&quot;javaMailProperties&quot;\r\n                                      auto-startup=&quot;true&quot;&gt;\r\n        &lt;int:poller max-messages-per-poll=&quot;1&quot; fixed-rate=&quot;600000&quot; /&gt;\r\n\r\n    &lt;/int-mail:inbound-channel-adapter&gt;\r\n\r\n    &lt;util:properties id=&quot;javaMailProperties&quot;&gt;\r\n        &lt;prop key=&quot;mail.imap.socketFactory.class&quot;&gt;javax.net.ssl.SSLSocketFactory&lt;/prop&gt;\r\n        &lt;prop key=&quot;mail.imap.socketFactory.fallback&quot;&gt;false&lt;/prop&gt;\r\n        &lt;prop key=&quot;mail.store.protocol&quot;&gt;imaps&lt;/prop&gt;\r\n        &lt;prop key=&quot;mail.debug&quot;&gt;false&lt;/prop&gt;\r\n        &lt;prop key=&quot;mail.smtp.ssl.protocols&quot;&gt;TLSv1.2&lt;/prop&gt;\r\n    &lt;/util:properties&gt;\r\n\r\n    &lt;bean id=&quot;mailService&quot; class=&quot;com.xpressbees.poller.EmailPoller&quot;/&gt;\r\n\r\n    &lt;int:service-activator id=&quot;serviceActivator&quot; input-channel=&quot;receiveChannel&quot; ref=&quot;mailService&quot; method=&quot;handleMail&quot;/&gt;\r\n\r\n\r\n```\r\n","title":"spring integration to read emails with multiple instances of spring boot application","body":"<p>I run a spring boot application using below configuration to read emails from a given email account. However, this springboot application is containerized and hence we have multiple instances of this application running at a given time.</p>\n<p>My question is, Do multiple consumers[app instances] will get same message to process from the email account or it would not be available to other consumers[app instances] if anyone of the consumer reads it? I am trying to avoid duplicate processing of messages.</p>\n<p>Configuration xml -</p>\n<pre><code>\n&lt;int-mail:inbound-channel-adapter id=&quot;imapAdapter&quot;\n                                      store-uri=&quot;imaps://abc.com/INBOX&quot;\n                                      channel=&quot;receiveChannel&quot;\n                                      should-delete-messages=&quot;false&quot;\n                                      should-mark-messages-as-read=&quot;true&quot;\n                                      java-mail-properties=&quot;javaMailProperties&quot;\n                                      auto-startup=&quot;true&quot;&gt;\n        &lt;int:poller max-messages-per-poll=&quot;1&quot; fixed-rate=&quot;600000&quot; /&gt;\n\n    &lt;/int-mail:inbound-channel-adapter&gt;\n\n    &lt;util:properties id=&quot;javaMailProperties&quot;&gt;\n        &lt;prop key=&quot;mail.imap.socketFactory.class&quot;&gt;javax.net.ssl.SSLSocketFactory&lt;/prop&gt;\n        &lt;prop key=&quot;mail.imap.socketFactory.fallback&quot;&gt;false&lt;/prop&gt;\n        &lt;prop key=&quot;mail.store.protocol&quot;&gt;imaps&lt;/prop&gt;\n        &lt;prop key=&quot;mail.debug&quot;&gt;false&lt;/prop&gt;\n        &lt;prop key=&quot;mail.smtp.ssl.protocols&quot;&gt;TLSv1.2&lt;/prop&gt;\n    &lt;/util:properties&gt;\n\n    &lt;bean id=&quot;mailService&quot; class=&quot;com.xpressbees.poller.EmailPoller&quot;/&gt;\n\n    &lt;int:service-activator id=&quot;serviceActivator&quot; input-channel=&quot;receiveChannel&quot; ref=&quot;mailService&quot; method=&quot;handleMail&quot;/&gt;\n\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670950145,"post_id":74786543,"comment_id":131989375,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":27241110,"reputation":1,"user_id":20767298,"display_name":"Spoorts is good"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670942526,"creation_date":1670942448,"question_id":74786543,"body_markdown":"The current code works to save the photo but I want to implement the toast code below when the user saves the image already it show image save already. Any ideas how I would do this.\r\n\r\nBelow is the source code to take the photo:\r\n\r\n```\r\n\r\nholder.save.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n        checkFolder();\r\n        final String path = imagesList.get(position).getPath();\r\n        final File file=new File(path);\r\n        String destPath = Environment.getExternalStorageDirectory().getAbsolutePath()+Common.APP_DIR;\r\n        final File destFile =new File(destPath);\r\n        try {\r\n            FileUtils.copyFileToDirectory(file, destFile);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        MediaScannerConnection.scanFile(context, new String[]{destPath + status.getTitle()},\r\n                new String[]{&quot;*/*&quot;}, new MediaScannerConnection.MediaScannerConnectionClient() {\r\n                    @Override\r\n                    public void onMediaScannerConnected() {\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onScanCompleted(String path, Uri uri) {\r\n\r\n                    }\r\n                });\r\n        Toast.makeText(context, &quot;Image Saved Successfully!&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n});\r\n```","title":"I want to add condition if user already save the image than show toast image already saved","body":"<p>The current code works to save the photo but I want to implement the toast code below when the user saves the image already it show image save already. Any ideas how I would do this.</p>\n<p>Below is the source code to take the photo:</p>\n<pre><code>\nholder.save.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        checkFolder();\n        final String path = imagesList.get(position).getPath();\n        final File file=new File(path);\n        String destPath = Environment.getExternalStorageDirectory().getAbsolutePath()+Common.APP_DIR;\n        final File destFile =new File(destPath);\n        try {\n            FileUtils.copyFileToDirectory(file, destFile);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        MediaScannerConnection.scanFile(context, new String[]{destPath + status.getTitle()},\n                new String[]{&quot;*/*&quot;}, new MediaScannerConnection.MediaScannerConnectionClient() {\n                    @Override\n                    public void onMediaScannerConnected() {\n\n                    }\n\n                    @Override\n                    public void onScanCompleted(String path, Uri uri) {\n\n                    }\n                });\n        Toast.makeText(context, &quot;Image Saved Successfully!&quot;, Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n"},{"tags":["java","hashcode"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1481589723,"post_id":41111868,"comment_id":69428384,"body_markdown":"I answered the part about List vs Set, because I couldn&#39;t find any other questions on SO about that. But the bit about 31 is already answered: see http://stackoverflow.com/questions/299304, as well as other answers if you search for why hash functions use prime numbers.","body":"I answered the part about List vs Set, because I couldn&#39;t find any other questions on SO about that. But the bit about 31 is already answered: see <a href=\"http://stackoverflow.com/questions/299304\">stackoverflow.com/questions/299304</a>, as well as other answers if you search for why hash functions use prime numbers."}],"answers":[{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1481589375,"creation_date":1481589060,"answer_id":41111919,"question_id":41111868,"body_markdown":"Sets are unordered, so `{a, b, c}` must have the same hash code as `{c, b, a}`. Addition is commutative, so adding the elements&#39; hashCodes gives you that property.\r\n\r\nLists are ordered, so while `[a, b, c]` _may_ have the same hash code as `[c, b, a]`, it does not need to -- and it&#39;d be better if it didn&#39;t, since as much as possible non-equal objects should try to have non-equal hashCodes. The ArrayList.hashCode implementation has that property.\r\n\r\nNote that Set and List both define how implementations must define `equals` and `hashCode` ([`Set.hashCode`][1], [`List.hashCode`][2]), so any (compliant) implementation of those respective collections is going to look pretty much the same. This gives you the useful property that a Set containing the same elements is equal (and thus has the same hashCode) as any other Set, regardless of the underlying implementations.\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#hashCode--\r\n[2]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#hashCode--","title":"Why Java implement different hashcode method of Set and ArrayList?","body":"<p>Sets are unordered, so <code>{a, b, c}</code> must have the same hash code as <code>{c, b, a}</code>. Addition is commutative, so adding the elements' hashCodes gives you that property.</p>\n\n<p>Lists are ordered, so while <code>[a, b, c]</code> <em>may</em> have the same hash code as <code>[c, b, a]</code>, it does not need to -- and it'd be better if it didn't, since as much as possible non-equal objects should try to have non-equal hashCodes. The ArrayList.hashCode implementation has that property.</p>\n\n<p>Note that Set and List both define how implementations must define <code>equals</code> and <code>hashCode</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html#hashCode--\" rel=\"noreferrer\"><code>Set.hashCode</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#hashCode--\" rel=\"noreferrer\"><code>List.hashCode</code></a>), so any (compliant) implementation of those respective collections is going to look pretty much the same. This gives you the useful property that a Set containing the same elements is equal (and thus has the same hashCode) as any other Set, regardless of the underlying implementations.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670942349,"creation_date":1670931529,"answer_id":74784264,"question_id":41111868,"body_markdown":"I will try to elaborate a bit more analytical, on this interesting topic.\r\n\r\nAs defined from [Oracle][1], there must be a contract between equals and hashCode.\r\n\r\nThe **general contract of hashCode is**:\r\n\r\n&gt; Whenever it is invoked on the same object more than once during an\r\n&gt; execution of a Java application, the hashCode method must consistently\r\n&gt; return the same integer, provided no information used in equals\r\n&gt; comparisons on the object is modified. This integer need not remain\r\n&gt; consistent from one execution of an application to another execution\r\n&gt; of the same application.\r\n&gt;\r\n&gt; If two objects are equal according to the\r\n&gt; equals(Object) method, then calling the hashCode method on each of the\r\n&gt; two objects must produce the same integer result. \r\n&gt;\r\n&gt; **It is not required**\r\n&gt; that if two objects are unequal according to the\r\n&gt; equals(java.lang.Object) method, then calling the hashCode method on\r\n&gt; each of the two objects must produce distinct integer results.\r\n&gt; **However, the programmer should be aware that producing distinct\r\n&gt; integer results for unequal objects may improve the performance of\r\n&gt; hash tables.** \r\n\r\nSo let&#39;s see what the contract for `equals` is for `List`. \r\n\r\nAs [documented][2] by Oracle for `equals` method:\r\n\r\n&gt; In other words, two lists are defined to be equal if they contain the\r\n&gt; same elements in the same order.\r\n\r\nSo if we check now how the `hashCode` is implemented for `List`\r\n\r\n    public int hashCode() {\r\n        int hashCode = 1;\r\n        for (E e : this)\r\n            hashCode = 31*hashCode + (e==null ? 0 : e.hashCode());\r\n        return hashCode;\r\n    }\r\n\r\nThe line `hashCode = 31*hashCode ...` ensures that the order of the list elements for which the `hashcode` method calculates the total result, affects the final result. \r\n\r\nIf this was not there and it was defined simple as `hashCode = hashCode + (e==null ? 0 : e.hashCode());` **then 2 lists with the same elements in different order might be `unequal` according to `equals` but produce the same hashcode.** This is **not necessary** according to contract, but it could improve the performance so that is why Oracle applied it. \r\n\r\nFor `Set` implementation of `hashcode` this is not required since the ordering is not related at all with `equals` of Set. 2 Sets can be unequal and this is not related at all with the ordering of elements since Set by default does not have a specific order.\r\n\r\nSo the implemented `hashcode` for `Set` does not need any shuffling with `.. 31*hashcode...` and so it can be as is.\r\n\r\n    while (i.hasNext()) {\r\n            E obj = i.next();\r\n            if (obj != null)\r\n                h += obj.hashCode();\r\n        }\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html","title":"Why Java implement different hashcode method of Set and ArrayList?","body":"<p>I will try to elaborate a bit more analytical, on this interesting topic.</p>\n<p>As defined from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html\" rel=\"nofollow noreferrer\">Oracle</a>, there must be a contract between equals and hashCode.</p>\n<p>The <strong>general contract of hashCode is</strong>:</p>\n<blockquote>\n<p>Whenever it is invoked on the same object more than once during an\nexecution of a Java application, the hashCode method must consistently\nreturn the same integer, provided no information used in equals\ncomparisons on the object is modified. This integer need not remain\nconsistent from one execution of an application to another execution\nof the same application.</p>\n<p>If two objects are equal according to the\nequals(Object) method, then calling the hashCode method on each of the\ntwo objects must produce the same integer result.</p>\n<p><strong>It is not required</strong>\nthat if two objects are unequal according to the\nequals(java.lang.Object) method, then calling the hashCode method on\neach of the two objects must produce distinct integer results.\n<strong>However, the programmer should be aware that producing distinct\ninteger results for unequal objects may improve the performance of\nhash tables.</strong></p>\n</blockquote>\n<p>So let's see what the contract for <code>equals</code> is for <code>List</code>.</p>\n<p>As <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\" rel=\"nofollow noreferrer\">documented</a> by Oracle for <code>equals</code> method:</p>\n<blockquote>\n<p>In other words, two lists are defined to be equal if they contain the\nsame elements in the same order.</p>\n</blockquote>\n<p>So if we check now how the <code>hashCode</code> is implemented for <code>List</code></p>\n<pre><code>public int hashCode() {\n    int hashCode = 1;\n    for (E e : this)\n        hashCode = 31*hashCode + (e==null ? 0 : e.hashCode());\n    return hashCode;\n}\n</code></pre>\n<p>The line <code>hashCode = 31*hashCode ...</code> ensures that the order of the list elements for which the <code>hashcode</code> method calculates the total result, affects the final result.</p>\n<p>If this was not there and it was defined simple as <code>hashCode = hashCode + (e==null ? 0 : e.hashCode());</code> <strong>then 2 lists with the same elements in different order might be <code>unequal</code> according to <code>equals</code> but produce the same hashcode.</strong> This is <strong>not necessary</strong> according to contract, but it could improve the performance so that is why Oracle applied it.</p>\n<p>For <code>Set</code> implementation of <code>hashcode</code> this is not required since the ordering is not related at all with <code>equals</code> of Set. 2 Sets can be unequal and this is not related at all with the ordering of elements since Set by default does not have a specific order.</p>\n<p>So the implemented <code>hashcode</code> for <code>Set</code> does not need any shuffling with <code>.. 31*hashcode...</code> and so it can be as is.</p>\n<pre><code>while (i.hasNext()) {\n        E obj = i.next();\n        if (obj != null)\n            h += obj.hashCode();\n    }\n</code></pre>\n"}],"owner":{"account_id":9838260,"reputation":85,"user_id":7287971,"display_name":"Hongji Chen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4857,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":41111919,"answer_count":2,"score":7,"last_activity_date":1670942349,"creation_date":1481588687,"question_id":41111868,"body_markdown":"     // this is the hashCode method of Set\r\n    public int hashCode() {\r\n        int h = 0;\r\n        Iterator&lt;E&gt; i = iterator();\r\n        while (i.hasNext()) {\r\n            E obj = i.next();\r\n            if (obj != null)\r\n                h += obj.hashCode();\r\n        }\r\n        return h;\r\n    }\r\n\r\n\r\n\r\n    //this is the hashCode method of List\r\n    public int hashCode() {\r\n        int hashCode = 1;\r\n        for (E e : this)\r\n            hashCode = 31*hashCode + (e==null ? 0 : e.hashCode());\r\n        return hashCode;\r\n    }\r\n\r\n\r\nwhy java use these two different approaches? Is there anything related to the characteristic of Set and List? \r\nWhy it uses 31 but not other numbers?\r\nThanks!","title":"Why Java implement different hashcode method of Set and ArrayList?","body":"<pre><code> // this is the hashCode method of Set\npublic int hashCode() {\n    int h = 0;\n    Iterator&lt;E&gt; i = iterator();\n    while (i.hasNext()) {\n        E obj = i.next();\n        if (obj != null)\n            h += obj.hashCode();\n    }\n    return h;\n}\n\n\n\n//this is the hashCode method of List\npublic int hashCode() {\n    int hashCode = 1;\n    for (E e : this)\n        hashCode = 31*hashCode + (e==null ? 0 : e.hashCode());\n    return hashCode;\n}\n</code></pre>\n\n<p>why java use these two different approaches? Is there anything related to the characteristic of Set and List? \nWhy it uses 31 but not other numbers?\nThanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":236301,"reputation":8390,"user_id":503688,"display_name":"yoyo"},"score":3,"creation_date":1405035900,"post_id":24551,"comment_id":38280857,"body_markdown":"Note that for structs you cannot have instance field initializers, so you have no choice but to use the constructor.","body":"Note that for structs you cannot have instance field initializers, so you have no choice but to use the constructor."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1582252077,"post_id":24551,"comment_id":106722150,"body_markdown":"Since you brought up &quot;best practice&quot;:  https://www.satisfice.com/blog/archives/5164, https://www.forbes.com/sites/mikemyatt/2012/08/15/best-practices-arent/#67d25efc407b","body":"Since you brought up &quot;best practice&quot;:  <a href=\"https://www.satisfice.com/blog/archives/5164\" rel=\"nofollow noreferrer\">satisfice.com/blog/archives/5164</a>, <a href=\"https://www.forbes.com/sites/mikemyatt/2012/08/15/best-practices-arent/#67d25efc407b\" rel=\"nofollow noreferrer\">forbes.com/sites/mikemyatt/2012/08/15/best-practices-arent/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":57501,"reputation":4679,"user_id":172272,"accept_rate":83,"display_name":"Didier A."},"score":0,"creation_date":1347393268,"post_id":24558,"comment_id":16625621,"body_markdown":"I don&#39;t really understand 1. Do you mean the default value of the type, or the value you want as default. Say I declare an int which default should be 5 I shouldn&#39;t do it in declaration, but in the constructor?","body":"I don&#39;t really understand 1. Do you mean the default value of the type, or the value you want as default. Say I declare an int which default should be 5 I shouldn&#39;t do it in declaration, but in the constructor?"},{"owner":{"account_id":914802,"reputation":3596,"user_id":947853,"accept_rate":100,"display_name":"Ricky Helgesson"},"score":4,"creation_date":1349975565,"post_id":24558,"comment_id":17380765,"body_markdown":"I expect that kokos means that you should not initialize members to their default values (0, false, null etc.), since the compiler will do that for you (1.). But if you want to initialize a field to anything other than its default value, you should do it in the declaration (2.). I think that it might be the usage of the word &quot;default&quot; that confuses you.","body":"I expect that kokos means that you should not initialize members to their default values (0, false, null etc.), since the compiler will do that for you (1.). But if you want to initialize a field to anything other than its default value, you should do it in the declaration (2.). I think that it might be the usage of the word &quot;default&quot; that confuses you."},{"owner":{"account_id":30312,"reputation":81025,"user_id":82586,"accept_rate":87,"display_name":"James"},"score":103,"creation_date":1357735811,"post_id":24558,"comment_id":19749870,"body_markdown":"I disagree with rule 1 - by not specifying a default value (regardless of whether it&#39;s initialised by the compiler or not) you are leaving the developer to *guess* or go looking for the documentation on what the default value for that particular language would be. For readability purposes, I would always specify the default value.","body":"I disagree with rule 1 - by not specifying a default value (regardless of whether it&#39;s initialised by the compiler or not) you are leaving the developer to <i>guess</i> or go looking for the documentation on what the default value for that particular language would be. For readability purposes, I would always specify the default value."},{"owner":{"account_id":472485,"reputation":106338,"user_id":880990,"display_name":"Olivier Jacot-Descombes"},"score":35,"creation_date":1363202775,"post_id":24558,"comment_id":21761484,"body_markdown":"The default value of a type `default(T)` is always the value that has an internal binary representation of `0`.","body":"The default value of a type <code>default(T)</code> is always the value that has an internal binary representation of <code>0</code>."},{"owner":{"account_id":2131923,"reputation":1643,"user_id":1892585,"display_name":"Cemafor"},"score":1,"creation_date":1367002448,"post_id":24558,"comment_id":23238344,"body_markdown":"I like to initialize the values in the declaration only when all contructors would otherwise result in that same value when they exit anyway, otherwise I have the contructor do the initialization. And I would initialize with default values if that is the &quot;default&quot; the class is expecting. The compiler *should* optimize the initialization anyway.","body":"I like to initialize the values in the declaration only when all contructors would otherwise result in that same value when they exit anyway, otherwise I have the contructor do the initialization. And I would initialize with default values if that is the &quot;default&quot; the class is expecting. The compiler <i>should</i> optimize the initialization anyway."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":3,"creation_date":1404333722,"post_id":24558,"comment_id":38003574,"body_markdown":"Explicit initialization with a default value would suggest to me that the value is likely to be read before anything else writes it; I would thus consider such declarations helpful in cases where the implication is true.","body":"Explicit initialization with a default value would suggest to me that the value is likely to be read before anything else writes it; I would thus consider such declarations helpful in cases where the implication is true."},{"owner":{"account_id":236301,"reputation":8390,"user_id":503688,"display_name":"yoyo"},"score":15,"creation_date":1405035577,"post_id":24558,"comment_id":38280789,"body_markdown":"Whether or not you like rule 1, it can&#39;t be used with readonly fields, which *must* be explicitly initialized by the time the constructor is finished.","body":"Whether or not you like rule 1, it can&#39;t be used with readonly fields, which <i>must</i> be explicitly initialized by the time the constructor is finished."},{"owner":{"account_id":1992173,"reputation":564,"user_id":1785960,"accept_rate":100,"display_name":"user1785960"},"score":0,"creation_date":1464597099,"post_id":24558,"comment_id":62534350,"body_markdown":"I want to initialize a field and take a value from Castle, I should do it in the declaration or constructor or in castle configuration file?","body":"I want to initialize a field and take a value from Castle, I should do it in the declaration or constructor or in castle configuration file?"},{"owner":{"account_id":6609714,"reputation":4086,"user_id":5105305,"accept_rate":58,"display_name":"Kasun Siyambalapitiya"},"score":0,"creation_date":1469084225,"post_id":24558,"comment_id":64394048,"body_markdown":"@kokos According to your rule 1, do we need to initialize default values in the constructor instead at the declaration or is it really needed to initialize them to default values since they are instance variables","body":"@kokos According to your rule 1, do we need to initialize default values in the constructor instead at the declaration or is it really needed to initialize them to default values since they are instance variables"},{"owner":{"account_id":4829,"reputation":8897,"user_id":7453,"accept_rate":93,"display_name":"Patrick Szalapski"},"score":0,"creation_date":1476809746,"post_id":24558,"comment_id":67499282,"body_markdown":"I disagree with rule 1 as well.  As code is meant for humans to read and only incidentally for computers to execute, I like to initialize references explicitly as it communicates that I intended to do so explicitly, rather than just lazily leaving it &quot;uninitialized&quot;, which actually initializes it to the default value.","body":"I disagree with rule 1 as well.  As code is meant for humans to read and only incidentally for computers to execute, I like to initialize references explicitly as it communicates that I intended to do so explicitly, rather than just lazily leaving it &quot;uninitialized&quot;, which actually initializes it to the default value."},{"owner":{"account_id":48818,"reputation":40628,"user_id":145173,"accept_rate":79,"display_name":"Edward Brey"},"score":48,"creation_date":1494739470,"post_id":24558,"comment_id":74951977,"body_markdown":"I disagree with those who disagree with rule 1. It&#39;s OK to expect others to learn the C# language. Just as we don&#39;t comment each `foreach` loop with &quot;this repeats the following for all items in the list&quot;, we don&#39;t need to constantly restate C#&#39;s default values. We also don&#39;t need to pretend that C# has uninitialized semantics. Since the absence of a value has a clear meaning, it&#39;s fine to leave it out. If it&#39;s ideal to be explicit, you should always use `new` when creating new delegates (as was required in C# 1). But who does that? The language is designed for conscientious coders.","body":"I disagree with those who disagree with rule 1. It&#39;s OK to expect others to learn the C# language. Just as we don&#39;t comment each <code>foreach</code> loop with &quot;this repeats the following for all items in the list&quot;, we don&#39;t need to constantly restate C#&#39;s default values. We also don&#39;t need to pretend that C# has uninitialized semantics. Since the absence of a value has a clear meaning, it&#39;s fine to leave it out. If it&#39;s ideal to be explicit, you should always use <code>new</code> when creating new delegates (as was required in C# 1). But who does that? The language is designed for conscientious coders."},{"owner":{"account_id":2997553,"reputation":990,"user_id":2543778,"accept_rate":38,"display_name":"IEnjoyEatingVegetables"},"score":1,"creation_date":1509243247,"post_id":24558,"comment_id":80938983,"body_markdown":"@James, You would need a team standard that said the default values are to be initialized at field declaration but then everyone would learn them anyway(after so many repetitions), so then your reason would become invalid. I think a developer should know what default values are and if he/she doesn&#39;t then it isn&#39;t difficult to learn them. I respectfully disagree with you","body":"@James, You would need a team standard that said the default values are to be initialized at field declaration but then everyone would learn them anyway(after so many repetitions), so then your reason would become invalid. I think a developer should know what default values are and if he/she doesn&#39;t then it isn&#39;t difficult to learn them. I respectfully disagree with you"},{"owner":{"account_id":2997553,"reputation":990,"user_id":2543778,"accept_rate":38,"display_name":"IEnjoyEatingVegetables"},"score":1,"creation_date":1509243301,"post_id":24558,"comment_id":80938994,"body_markdown":"@EdwardBrey Yes, I agree and wished I had read yours before writing mine.","body":"@EdwardBrey Yes, I agree and wished I had read yours before writing mine."},{"owner":{"account_id":30312,"reputation":81025,"user_id":82586,"accept_rate":87,"display_name":"James"},"score":1,"creation_date":1509351906,"post_id":24558,"comment_id":80967828,"body_markdown":"@JohnOsborne explicitness shows intent, I prefer to read code that clearly shows what the program should do rather than having to remember how a compiler works each time. Also, for however unlikely it is, compiler behaviour can change, I&#39;d rather not risk a breaking change for syntactic sugar. Other compilers flag uninitialised variables as errors (or warnings) for that reason, compilers aren&#39;t smart, they just abide by rules and prefer us to tell them what they ought to be doing.","body":"@JohnOsborne explicitness shows intent, I prefer to read code that clearly shows what the program should do rather than having to remember how a compiler works each time. Also, for however unlikely it is, compiler behaviour can change, I&#39;d rather not risk a breaking change for syntactic sugar. Other compilers flag uninitialised variables as errors (or warnings) for that reason, compilers aren&#39;t smart, they just abide by rules and prefer us to tell them what they ought to be doing."},{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":0,"creation_date":1561458082,"post_id":24558,"comment_id":100061237,"body_markdown":"@PatrickSzalapski I disagree with that. Computer code is literally just instructions for a computer, so in no sense is it &quot;incidental&quot; that ***computers*** execute ***computer*** code. Computer code serves as an interface between the developer and the computer, and so priority of readability and performance is subjective. I&#39;d very much argue that a good, experienced developer would learn the language, however, and not need to use &quot;readability&quot; as a crutch when programming, *especially* when doing so sacrifices performance; I want my computer to perform the tasks I tell it to well.","body":"@PatrickSzalapski I disagree with that. Computer code is literally just instructions for a computer, so in no sense is it &quot;incidental&quot; that <b><i>computers</i></b> execute <b><i>computer</i></b> code. Computer code serves as an interface between the developer and the computer, and so priority of readability and performance is subjective. I&#39;d very much argue that a good, experienced developer would learn the language, however, and not need to use &quot;readability&quot; as a crutch when programming, <i>especially</i> when doing so sacrifices performance; I want my computer to perform the tasks I tell it to well."},{"owner":{"account_id":4703233,"reputation":776,"user_id":3806231,"accept_rate":60,"display_name":"Ruben9922"},"score":1,"creation_date":1571916794,"post_id":24558,"comment_id":103402707,"body_markdown":"@EdwardBrey That&#39;s a good point, but I personally think a `foreach` without a comment is still readable/clear while an &quot;uninitialised&quot; variable isn&#39;t - I don&#39;t need to check the C# docs to remember how a `foreach` loop works, but I would need to check the docs to remember what a type&#39;s default values are.","body":"@EdwardBrey That&#39;s a good point, but I personally think a <code>foreach</code> without a comment is still readable/clear while an &quot;uninitialised&quot; variable isn&#39;t - I don&#39;t need to check the C# docs to remember how a <code>foreach</code> loop works, but I would need to check the docs to remember what a type&#39;s default values are."},{"owner":{"account_id":48818,"reputation":40628,"user_id":145173,"accept_rate":79,"display_name":"Edward Brey"},"score":1,"creation_date":1571917508,"post_id":24558,"comment_id":103403048,"body_markdown":"@Ruben9922 It wont take many trips to the docs for the all-bits-zero rule to feel as second nature as `foreach`.","body":"@Ruben9922 It wont take many trips to the docs for the all-bits-zero rule to feel as second nature as <code>foreach</code>."}],"tags":[],"owner":{"account_id":815,"reputation":43274,"user_id":1065,"accept_rate":83,"display_name":"kokos"},"comment_count":17,"down_vote_count":1,"up_vote_count":346,"is_accepted":true,"score":345,"last_activity_date":1450258095,"creation_date":1219521849,"answer_id":24558,"question_id":24551,"body_markdown":"My rules:\r\n\r\n1. Don&#39;t initialize with the default values in declaration (`null`, `false`, `0`, `0.0`).\r\n2. Prefer initialization in declaration if you don&#39;t have a constructor parameter that changes the value of the field.\r\n3. If the value of the field changes because of a constructor parameter put the initialization in the constructors.\r\n4. Be consistent in your practice (the most important rule).\r\n","title":"Initialize class fields in constructor or at declaration?","body":"<p>My rules:</p>\n\n<ol>\n<li>Don't initialize with the default values in declaration (<code>null</code>, <code>false</code>, <code>0</code>, <code>0.0</code>).</li>\n<li>Prefer initialization in declaration if you don't have a constructor parameter that changes the value of the field.</li>\n<li>If the value of the field changes because of a constructor parameter put the initialization in the constructors.</li>\n<li>Be consistent in your practice (the most important rule).</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":376908,"reputation":17637,"user_id":728675,"accept_rate":62,"display_name":"RayLuo"},"score":2,"creation_date":1493855112,"post_id":24643,"comment_id":74584735,"body_markdown":"Why is it &quot;definitely&quot; so? You provided only a style preference, without explaning its reasoning. Oh wait, never mind, according to @quibblesome &#39;s [answer](http://stackoverflow.com/a/25130/728675), they are &quot;utterly equivalent&quot;, so it is really just a personal style preference.","body":"Why is it &quot;definitely&quot; so? You provided only a style preference, without explaning its reasoning. Oh wait, never mind, according to @quibblesome &#39;s <a href=\"http://stackoverflow.com/a/25130/728675\">answer</a>, they are &quot;utterly equivalent&quot;, so it is really just a personal style preference."}],"tags":[],"owner":{"account_id":1911,"reputation":2071,"user_id":2637,"accept_rate":85,"display_name":"Noel"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1219528589,"creation_date":1219528589,"answer_id":24643,"question_id":24551,"body_markdown":"Assuming the type in your example, definitely prefer to initialize fields in the constructor. The exceptional cases are:\r\n\r\n  - Fields in static classes/methods\r\n  - Fields typed as static/final/et al\r\n\r\nI always think of the field listing at the top of a class as the table of contents (what is contained herein, not how it is used), and the constructor as the introduction. Methods of course are chapters.","title":"Initialize class fields in constructor or at declaration?","body":"<p>Assuming the type in your example, definitely prefer to initialize fields in the constructor. The exceptional cases are:</p>\n\n<ul>\n<li>Fields in static classes/methods</li>\n<li>Fields typed as static/final/et al</li>\n</ul>\n\n<p>I always think of the field listing at the top of a class as the table of contents (what is contained herein, not how it is used), and the constructor as the introduction. Methods of course are chapters.</p>\n"},{"tags":[],"owner":{"account_id":1000,"reputation":2399,"user_id":1327,"accept_rate":71,"display_name":"Dan Blair"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1334087175,"creation_date":1219529375,"answer_id":24659,"question_id":24551,"body_markdown":"What if I told you, it depends?\r\n\r\nI in general initialize everything and do it in a consistent way. Yes it&#39;s overly explicit but it&#39;s also a little easier to maintain. \r\n\r\nIf we are worried about performance, well then I initialize only what has to be done and place it in the areas it gives the most bang for the buck.\r\n\r\nIn a real time system, I question if I even need the variable or constant at all.\r\n\r\nAnd in C++ I often do next to no initialization in either place and move it into an Init() function. Why? Well, in C++ if you&#39;re initializing something that can throw an exception during object construction you open yourself to memory leaks.\r\n","title":"Initialize class fields in constructor or at declaration?","body":"<p>What if I told you, it depends?</p>\n\n<p>I in general initialize everything and do it in a consistent way. Yes it's overly explicit but it's also a little easier to maintain. </p>\n\n<p>If we are worried about performance, well then I initialize only what has to be done and place it in the areas it gives the most bang for the buck.</p>\n\n<p>In a real time system, I question if I even need the variable or constant at all.</p>\n\n<p>And in C++ I often do next to no initialization in either place and move it into an Init() function. Why? Well, in C++ if you're initializing something that can throw an exception during object construction you open yourself to memory leaks.</p>\n"},{"tags":[],"owner":{"account_id":1960,"reputation":7135,"user_id":2697,"accept_rate":76,"display_name":"Iker Jimenez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1219593551,"creation_date":1219593551,"answer_id":25126,"question_id":24551,"body_markdown":"I normally try the constructor to do nothing but getting the dependencies and initializing the related instance members with them. This will make you life easier if you want to unit test your classes.\r\n\r\nIf the value you are going to assign to an instance variable does not get influenced by any of the parameters you are going to pass to you constructor then assign it at declaration time.","title":"Initialize class fields in constructor or at declaration?","body":"<p>I normally try the constructor to do nothing but getting the dependencies and initializing the related instance members with them. This will make you life easier if you want to unit test your classes.</p>\n\n<p>If the value you are going to assign to an instance variable does not get influenced by any of the parameters you are going to pass to you constructor then assign it at declaration time.</p>\n"},{"comments":[{"owner":{"account_id":17010,"reputation":16720,"user_id":37643,"accept_rate":90,"display_name":"Wolf5"},"score":7,"creation_date":1357204691,"post_id":25130,"comment_id":19572917,"body_markdown":"That is not correct if you choose to initialize the class with GetUninitializedObject. Whatever is in the ctor will not be touched but the field declarations will be run.","body":"That is not correct if you choose to initialize the class with GetUninitializedObject. Whatever is in the ctor will not be touched but the field declarations will be run."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":34,"creation_date":1376383930,"post_id":25130,"comment_id":26680922,"body_markdown":"Actually it does matter. If the base class constructor calls a virtual method (which is generally a bad idea, but can happen) which is overridden in the derived class, then using instance variable initializers the variable will be initialized when the method is called - whereas using initialization in the constructor, they won&#39;t be. (Instance variable initializers are executed *before* the base class constructor is called.)","body":"Actually it does matter. If the base class constructor calls a virtual method (which is generally a bad idea, but can happen) which is overridden in the derived class, then using instance variable initializers the variable will be initialized when the method is called - whereas using initialization in the constructor, they won&#39;t be. (Instance variable initializers are executed <i>before</i> the base class constructor is called.)"},{"owner":{"account_id":870,"reputation":25303,"user_id":1143,"accept_rate":91,"display_name":"Quibblesome"},"score":2,"creation_date":1376421524,"post_id":25130,"comment_id":26703708,"body_markdown":"Really? I swear I grabbed this info from Richter&#39;s CLR via C# (2nd edition I think) and the gist of it was that this was syntactic sugar (I may have read it wrong?) and the CLR just jammed the variables into the constructor. But you&#39;re stating that this isn&#39;t the case, i.e. the member initialisation can fire before ctor initialisation in the crazed scenario of calling a virtual in base ctor and having an override in the class in question. Did I understand correctly? Did you just find this out? Puzzled as to this up-to-date comment on a 5 year old post (OMG has it been 5 years?).","body":"Really? I swear I grabbed this info from Richter&#39;s CLR via C# (2nd edition I think) and the gist of it was that this was syntactic sugar (I may have read it wrong?) and the CLR just jammed the variables into the constructor. But you&#39;re stating that this isn&#39;t the case, i.e. the member initialisation can fire before ctor initialisation in the crazed scenario of calling a virtual in base ctor and having an override in the class in question. Did I understand correctly? Did you just find this out? Puzzled as to this up-to-date comment on a 5 year old post (OMG has it been 5 years?)."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1424466146,"post_id":25130,"comment_id":45575810,"body_markdown":"@Quibblesome: A child class constructor will contain a chained call to the parent constructor.  A language compiler is free to include as much or as little code before that as it likes, provided that the parent constructor is called exactly once on all code paths, and limited use is made of the object under construction prior to that call.  One of my annoyances with C# is that while it can generate code which initializes fields, and code which uses constructor parameters, it offers no mechanism for initializing fields based upon constructor parameters.","body":"@Quibblesome: A child class constructor will contain a chained call to the parent constructor.  A language compiler is free to include as much or as little code before that as it likes, provided that the parent constructor is called exactly once on all code paths, and limited use is made of the object under construction prior to that call.  One of my annoyances with C# is that while it can generate code which initializes fields, and code which uses constructor parameters, it offers no mechanism for initializing fields based upon constructor parameters."},{"owner":{"account_id":5583973,"reputation":1164,"user_id":4425004,"accept_rate":67,"display_name":"Pranesh Janarthanan"},"score":1,"creation_date":1577116258,"post_id":25130,"comment_id":105097184,"body_markdown":"@Quibblesome, former one will be an issue, if the value is assigned and passed to a WCF method. Which will reset the data to default data type of the model. The best practice is to do the initialisation in constructor(later one).","body":"@Quibblesome, former one will be an issue, if the value is assigned and passed to a WCF method. Which will reset the data to default data type of the model. The best practice is to do the initialisation in constructor(later one)."}],"tags":[],"owner":{"account_id":870,"reputation":25303,"user_id":1143,"accept_rate":91,"display_name":"Quibblesome"},"comment_count":5,"down_vote_count":5,"up_vote_count":159,"is_accepted":false,"score":154,"last_activity_date":1551970744,"creation_date":1219593842,"answer_id":25130,"question_id":24551,"body_markdown":"In C# it doesn&#39;t matter. The two code samples you give are utterly equivalent. In the first example the C# compiler (or is it the CLR?) will construct an empty constructor and initialise the variables as if they were in the constructor (there&#39;s a slight nuance to this that Jon Skeet explains in the comments below).\r\nIf there is already a constructor then any initialisation &quot;above&quot; will be moved into the top of it.\r\n\r\nIn terms of best practice the former is less error prone than the latter as someone could easily add another constructor and forget to chain it.","title":"Initialize class fields in constructor or at declaration?","body":"<p>In C# it doesn't matter. The two code samples you give are utterly equivalent. In the first example the C# compiler (or is it the CLR?) will construct an empty constructor and initialise the variables as if they were in the constructor (there's a slight nuance to this that Jon Skeet explains in the comments below).\nIf there is already a constructor then any initialisation \"above\" will be moved into the top of it.</p>\n\n<p>In terms of best practice the former is less error prone than the latter as someone could easily add another constructor and forget to chain it.</p>\n"},{"comments":[{"owner":{"account_id":6123,"reputation":58531,"user_id":10174,"display_name":"Jeffrey L Whitledge"},"score":2,"creation_date":1273515613,"post_id":34484,"comment_id":2843110,"body_markdown":"In C#, fields are always set the default value first. The presence of an initializer makes no difference.","body":"In C#, fields are always set the default value first. The presence of an initializer makes no difference."}],"tags":[],"owner":{"account_id":2536,"reputation":22948,"user_id":3535,"accept_rate":100,"display_name":"John Meagher"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1220024844,"creation_date":1220024844,"answer_id":34484,"question_id":24551,"body_markdown":"There is a slight performance benefit to setting the value in the declaration.  If you set it in the constructor it is actually being set twice (first to the default value, then reset in the ctor).  ","title":"Initialize class fields in constructor or at declaration?","body":"<p>There is a slight performance benefit to setting the value in the declaration.  If you set it in the constructor it is actually being set twice (first to the default value, then reset in the ctor).  </p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1220646128,"creation_date":1220646128,"answer_id":46818,"question_id":24551,"body_markdown":"The semantics of C# differs slightly from Java here. In C# assignment in declaration is performed before calling the superclass constructor. In Java it is done immediately after which allows &#39;this&#39; to be used (particularly useful for anonymous inner classes), and means that the semantics of the two forms really do match.\r\n\r\nIf you can, make the fields final.","title":"Initialize class fields in constructor or at declaration?","body":"<p>The semantics of C# differs slightly from Java here. In C# assignment in declaration is performed before calling the superclass constructor. In Java it is done immediately after which allows 'this' to be used (particularly useful for anonymous inner classes), and means that the semantics of the two forms really do match.</p>\n\n<p>If you can, make the fields final.</p>\n"},{"comments":[{"owner":{"account_id":376908,"reputation":17637,"user_id":728675,"accept_rate":62,"display_name":"RayLuo"},"score":0,"creation_date":1493854778,"post_id":19896333,"comment_id":74584649,"body_markdown":"So if you refer the field by `derivedObject.InheritedField`, is it referring to your base one or the derived one?","body":"So if you refer the field by <code>derivedObject.InheritedField</code>, is it referring to your base one or the derived one?"},{"owner":{"account_id":108203,"reputation":18256,"user_id":287311,"accept_rate":78,"display_name":"JohnB"},"score":1,"creation_date":1658598248,"post_id":19896333,"comment_id":129093368,"body_markdown":"@RayLuo For this kind of situation, look at the compiler warnings.  There would be a warning like: *CS0108 &quot;MyProperty hides inherited member MyProperty. Use the new keyword if hiding was intended.&quot;*","body":"@RayLuo For this kind of situation, look at the compiler warnings.  There would be a warning like: <i>CS0108 &quot;MyProperty hides inherited member MyProperty. Use the new keyword if hiding was intended.&quot;</i>"}],"tags":[],"owner":{"account_id":1573250,"reputation":7551,"user_id":1460448,"accept_rate":71,"display_name":"xji"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1462958597,"creation_date":1384124205,"answer_id":19896333,"question_id":24551,"body_markdown":"I think there is one caveat. I once committed such an error: Inside of a derived class, I tried to &quot;initialize at declaration&quot; the fields inherited from an abstract base class. The result was that there existed two sets of fields, one is &quot;base&quot; and another is the newly declared ones, and it cost me quite some time to debug.\r\n\r\nThe lesson: to initialize **inherited** fields, you&#39;d do it inside of the constructor.","title":"Initialize class fields in constructor or at declaration?","body":"<p>I think there is one caveat. I once committed such an error: Inside of a derived class, I tried to \"initialize at declaration\" the fields inherited from an abstract base class. The result was that there existed two sets of fields, one is \"base\" and another is the newly declared ones, and it cost me quite some time to debug.</p>\n\n<p>The lesson: to initialize <strong>inherited</strong> fields, you'd do it inside of the constructor.</p>\n"},{"tags":[],"owner":{"account_id":417883,"reputation":3169,"user_id":794117,"accept_rate":60,"display_name":"Miroslav Holec"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1474224127,"creation_date":1439558766,"answer_id":32011236,"question_id":24551,"body_markdown":"There are many and various situations.\r\n\r\n**I just need an empty list**\r\n\r\nThe situation is clear. I just need to prepare my list and prevent an exception from being thrown when someone adds an item to the list.\r\n\r\n    public class CsvFile\r\n    {\r\n        private List&lt;CsvRow&gt; lines = new List&lt;CsvRow&gt;();\r\n\r\n        public CsvFile()\r\n        {\r\n        }\r\n    }\r\n\r\n**I know the values**\r\n\r\nI exactly know what values I want to have by default or I need to use some other logic.\r\n\r\n    public class AdminTeam\r\n    {\r\n        private List&lt;string&gt; usernames;\r\n\r\n        public AdminTeam()\r\n        {\r\n             usernames = new List&lt;string&gt;() {&quot;usernameA&quot;, &quot;usernameB&quot;};\r\n        }\r\n    }\r\n\r\nor\r\n\r\n    public class AdminTeam\r\n    {\r\n        private List&lt;string&gt; usernames;\r\n\r\n        public AdminTeam()\r\n        {\r\n             usernames = GetDefaultUsers(2);\r\n        }\r\n    }\r\n\r\n**Empty list with possible values**\r\n\r\nSometimes I expect an empty list by default with a possibility of adding values through another constructor.\r\n\r\n    public class AdminTeam\r\n    {\r\n        private List&lt;string&gt; usernames = new List&lt;string&gt;();\r\n\r\n        public AdminTeam()\r\n        {\r\n        }\r\n\r\n        public AdminTeam(List&lt;string&gt; admins)\r\n        {\r\n             admins.ForEach(x =&gt; usernames.Add(x));\r\n        }\r\n    }","title":"Initialize class fields in constructor or at declaration?","body":"<p>There are many and various situations.</p>\n\n<p><strong>I just need an empty list</strong></p>\n\n<p>The situation is clear. I just need to prepare my list and prevent an exception from being thrown when someone adds an item to the list.</p>\n\n<pre><code>public class CsvFile\n{\n    private List&lt;CsvRow&gt; lines = new List&lt;CsvRow&gt;();\n\n    public CsvFile()\n    {\n    }\n}\n</code></pre>\n\n<p><strong>I know the values</strong></p>\n\n<p>I exactly know what values I want to have by default or I need to use some other logic.</p>\n\n<pre><code>public class AdminTeam\n{\n    private List&lt;string&gt; usernames;\n\n    public AdminTeam()\n    {\n         usernames = new List&lt;string&gt;() {\"usernameA\", \"usernameB\"};\n    }\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>public class AdminTeam\n{\n    private List&lt;string&gt; usernames;\n\n    public AdminTeam()\n    {\n         usernames = GetDefaultUsers(2);\n    }\n}\n</code></pre>\n\n<p><strong>Empty list with possible values</strong></p>\n\n<p>Sometimes I expect an empty list by default with a possibility of adding values through another constructor.</p>\n\n<pre><code>public class AdminTeam\n{\n    private List&lt;string&gt; usernames = new List&lt;string&gt;();\n\n    public AdminTeam()\n    {\n    }\n\n    public AdminTeam(List&lt;string&gt; admins)\n    {\n         admins.ForEach(x =&gt; usernames.Add(x));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1453061618,"creation_date":1453060893,"answer_id":34842991,"question_id":24551,"body_markdown":"In Java, an initializer with the declaration means the field is always initialized the same way, regardless of which constructor is used (if you have more than one) or the parameters of your constructors (if they have arguments), although a constructor might subsequently change the value (if it is not final). So using an initializer with a declaration suggests to a reader that the initialized value is the value that the field has *in all cases*, regardless of which constructor is used and regardless of the parameters passed to any constructor. Therefore use an initializer with the declaration only if, and always if, the value for all constructed objects is the same.","title":"Initialize class fields in constructor or at declaration?","body":"<p>In Java, an initializer with the declaration means the field is always initialized the same way, regardless of which constructor is used (if you have more than one) or the parameters of your constructors (if they have arguments), although a constructor might subsequently change the value (if it is not final). So using an initializer with a declaration suggests to a reader that the initialized value is the value that the field has <em>in all cases</em>, regardless of which constructor is used and regardless of the parameters passed to any constructor. Therefore use an initializer with the declaration only if, and always if, the value for all constructed objects is the same.</p>\n"},{"tags":[],"owner":{"account_id":48818,"reputation":40628,"user_id":145173,"accept_rate":79,"display_name":"Edward Brey"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494740819,"creation_date":1494740819,"answer_id":43960765,"question_id":24551,"body_markdown":"The design of C# suggests that inline initialization is preferred, or it wouldn&#39;t be in the language. Any time you can avoid a cross-reference between different places in the code, you&#39;re generally better off.\r\n\r\nThere is also the matter of consistency with static field initialization, which needs to be inline for best performance. The Framework Design Guidelines for [Constructor Design][1] say this:\r\n\r\n&gt;  CONSIDER initializing static fields inline rather than explicitly using static constructors, because the runtime is able to optimize the performance of types that dont have an explicitly defined static constructor.\r\n\r\n&quot;Consider&quot; in this context means to do so unless there&#39;s a good reason not to. In the case of static initializer fields, a good reason would be if initialization is too complex to be coded inline.\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/ms229060.aspx","title":"Initialize class fields in constructor or at declaration?","body":"<p>The design of C# suggests that inline initialization is preferred, or it wouldn't be in the language. Any time you can avoid a cross-reference between different places in the code, you're generally better off.</p>\n\n<p>There is also the matter of consistency with static field initialization, which needs to be inline for best performance. The Framework Design Guidelines for <a href=\"https://msdn.microsoft.com/en-us/library/ms229060.aspx\" rel=\"nofollow noreferrer\">Constructor Design</a> say this:</p>\n\n<blockquote>\n  <p> CONSIDER initializing static fields inline rather than explicitly using static constructors, because the runtime is able to optimize the performance of types that dont have an explicitly defined static constructor.</p>\n</blockquote>\n\n<p>\"Consider\" in this context means to do so unless there's a good reason not to. In the case of static initializer fields, a good reason would be if initialization is too complex to be coded inline.</p>\n"},{"tags":[],"owner":{"account_id":6432248,"reputation":79,"user_id":4984898,"display_name":"MeanJerry"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495657639,"creation_date":1495657639,"answer_id":44167904,"question_id":24551,"body_markdown":"Being consistent is important, but this is the question to ask yourself:\r\n&quot;Do I have a constructor for anything else?&quot;\r\n\r\nTypically, I am creating models for data transfers that the class itself does nothing except work as housing for variables.\r\n\r\nIn these scenarios, I usually don&#39;t have any methods or constructors. It would feel silly to me to create a constructor for the exclusive purpose of initializing my lists, especially since I can initialize them in-line with the declaration.\r\n\r\nSo as many others have said, it depends on your usage. Keep it simple, and don&#39;t make anything extra that you don&#39;t have to.","title":"Initialize class fields in constructor or at declaration?","body":"<p>Being consistent is important, but this is the question to ask yourself:\n\"Do I have a constructor for anything else?\"</p>\n\n<p>Typically, I am creating models for data transfers that the class itself does nothing except work as housing for variables.</p>\n\n<p>In these scenarios, I usually don't have any methods or constructors. It would feel silly to me to create a constructor for the exclusive purpose of initializing my lists, especially since I can initialize them in-line with the declaration.</p>\n\n<p>So as many others have said, it depends on your usage. Keep it simple, and don't make anything extra that you don't have to.</p>\n"},{"tags":[],"owner":{"account_id":11869970,"reputation":21,"user_id":8686463,"display_name":"Joe Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508533540,"creation_date":1508533540,"answer_id":46857338,"question_id":24551,"body_markdown":"Consider the situation where you have more than one constructor. Will the initialization be different for the different constructors? If they will be the same, then why repeat for each constructor? This is in line with kokos statement, but may not be related to parameters. Let&#39;s say, for example, you want to keep a flag which shows how the object was created. Then that flag would be initialized differently for different constructors regardless of the constructor parameters. On the other hand, if you repeat the same initialization for each constructor you leave the possibility that you (unintentionally) change the initialization parameter in some of the constructors but not in others. So, the basic concept here is that common code should have a common location and not be potentially repeated in different locations. So I would say always put it in the declaration until you have a specific situation where that no longer works for you.","title":"Initialize class fields in constructor or at declaration?","body":"<p>Consider the situation where you have more than one constructor. Will the initialization be different for the different constructors? If they will be the same, then why repeat for each constructor? This is in line with kokos statement, but may not be related to parameters. Let's say, for example, you want to keep a flag which shows how the object was created. Then that flag would be initialized differently for different constructors regardless of the constructor parameters. On the other hand, if you repeat the same initialization for each constructor you leave the possibility that you (unintentionally) change the initialization parameter in some of the constructors but not in others. So, the basic concept here is that common code should have a common location and not be potentially repeated in different locations. So I would say always put it in the declaration until you have a specific situation where that no longer works for you.</p>\n"},{"tags":[],"owner":{"account_id":1561299,"reputation":1775,"user_id":1451111,"accept_rate":32,"display_name":"user1451111"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531053126,"creation_date":1531053126,"answer_id":51232030,"question_id":24551,"body_markdown":"Not a direct answer to your question about **the best practice** but an important and related refresher point is that in the case of a generic class definition, either leave it on compiler to initialize with default values or we have to use a special method to initialize fields to their default values (if that is absolute necessary for code readability).\r\n\r\n    class MyGeneric&lt;T&gt;\r\n    {\r\n    \tT data;\r\n    \t//T data = &quot;&quot;; // &lt;-- ERROR\r\n    \t//T data = 0; // &lt;-- ERROR\r\n    \t//T data = null; // &lt;-- ERROR        \r\n    \r\n    \tpublic MyGeneric()\r\n    \t{\r\n    \t\t// All of the above errors would be errors here in constructor as well\r\n    \t}\r\n    }\r\n\r\nAnd the special method to initialize a generic field to its default value is the following:\r\n\r\n    class MyGeneric&lt;T&gt;\r\n    {\r\n    \tT data = default(T);\r\n    \t\r\n    \tpublic MyGeneric()\r\n    \t{           \r\n    \t\t// The same method can be used here in constructor\r\n    \t}\r\n    }","title":"Initialize class fields in constructor or at declaration?","body":"<p>Not a direct answer to your question about <strong>the best practice</strong> but an important and related refresher point is that in the case of a generic class definition, either leave it on compiler to initialize with default values or we have to use a special method to initialize fields to their default values (if that is absolute necessary for code readability).</p>\n\n<pre><code>class MyGeneric&lt;T&gt;\n{\n    T data;\n    //T data = \"\"; // &lt;-- ERROR\n    //T data = 0; // &lt;-- ERROR\n    //T data = null; // &lt;-- ERROR        \n\n    public MyGeneric()\n    {\n        // All of the above errors would be errors here in constructor as well\n    }\n}\n</code></pre>\n\n<p>And the special method to initialize a generic field to its default value is the following:</p>\n\n<pre><code>class MyGeneric&lt;T&gt;\n{\n    T data = default(T);\n\n    public MyGeneric()\n    {           \n        // The same method can be used here in constructor\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1532595,"reputation":4652,"user_id":1429432,"accept_rate":68,"display_name":"Yousha Aleayoub"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587378194,"creation_date":1587378194,"answer_id":61320158,"question_id":24551,"body_markdown":"**When you don&#39;t need some logic or error handling:**\r\n\r\n- Initialize class fields at declaration\r\n\r\n**When you need some logic or error handling:**\r\n\r\n- Initialize class fields in constructor\r\n\r\n\r\n&gt; This works well when the initialization value is available and the\r\n&gt; initialization can be put on one line. However, this form of\r\n&gt; initialization has limitations because of its simplicity. If\r\n&gt; initialization requires some logic (for example, error handling or a\r\n&gt; for loop to fill a complex array), simple assignment is inadequate.\r\n&gt; Instance variables can be initialized in constructors, where error\r\n&gt; handling or other logic can be used.\r\n\r\n*From https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html .*","title":"Initialize class fields in constructor or at declaration?","body":"<p><strong>When you don't need some logic or error handling:</strong></p>\n\n<ul>\n<li>Initialize class fields at declaration</li>\n</ul>\n\n<p><strong>When you need some logic or error handling:</strong></p>\n\n<ul>\n<li>Initialize class fields in constructor</li>\n</ul>\n\n<blockquote>\n  <p>This works well when the initialization value is available and the\n  initialization can be put on one line. However, this form of\n  initialization has limitations because of its simplicity. If\n  initialization requires some logic (for example, error handling or a\n  for loop to fill a complex array), simple assignment is inadequate.\n  Instance variables can be initialized in constructors, where error\n  handling or other logic can be used.</p>\n</blockquote>\n\n<p><em>From <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html</a> .</em></p>\n"},{"tags":[],"owner":{"account_id":17341989,"reputation":27,"user_id":12562386,"display_name":"Indy Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670942302,"creation_date":1670942302,"answer_id":74786522,"question_id":24551,"body_markdown":"&quot;Prefer initialization in declaration&quot;, seems like a good general practice.\r\n\r\nHere is an example which cannot be initialized in the declaration so it has to be done in the constructor.\r\n&quot;Error\tCS0236\tA field initializer cannot reference the non-static field, method, or property&quot;\r\n\r\n```\r\nclass UserViewModel\r\n{\r\n\t// Cannot be set here\r\n    public ICommand UpdateCommad { get; private set; }\r\n\r\n    public UserViewModel()\r\n    {\r\n        UpdateCommad = new GenericCommand(Update_Method); // &lt;== THIS WORKS\r\n    }\r\n\r\n    void Update_Method(object? parameter) \r\n    {\r\n    }\r\n}\r\n\r\n```\r\n","title":"Initialize class fields in constructor or at declaration?","body":"<p>&quot;Prefer initialization in declaration&quot;, seems like a good general practice.</p>\n<p>Here is an example which cannot be initialized in the declaration so it has to be done in the constructor.\n&quot;Error  CS0236  A field initializer cannot reference the non-static field, method, or property&quot;</p>\n<pre><code>class UserViewModel\n{\n    // Cannot be set here\n    public ICommand UpdateCommad { get; private set; }\n\n    public UserViewModel()\n    {\n        UpdateCommad = new GenericCommand(Update_Method); // &lt;== THIS WORKS\n    }\n\n    void Update_Method(object? parameter) \n    {\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1910,"reputation":91828,"user_id":2635,"accept_rate":65,"display_name":"mmcdole"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165803,"favorite_count":0,"down_vote_count":4,"up_vote_count":472,"accepted_answer_id":24558,"answer_count":16,"score":468,"last_activity_date":1670942302,"creation_date":1219521582,"question_id":24551,"body_markdown":"I&#39;ve been programming in C# and Java recently and I am curious where the best place is to initialize my class fields.\r\n\r\nShould I do it at declaration?:\r\n\r\n    public class Dice\r\n    {\r\n        private int topFace = 1;\r\n        private Random myRand = new Random();\r\n\r\n        public void Roll()\r\n        {\r\n           // ......\r\n        }\r\n    }\r\n\r\n or in a constructor?:\r\n\r\n    public class Dice\r\n    {\r\n        private int topFace;\r\n        private Random myRand;\r\n\r\n        public Dice()\r\n        {\r\n            topFace = 1;\r\n            myRand = new Random();\r\n        }\r\n    \r\n        public void Roll()\r\n        {\r\n            // .....\r\n        }\r\n    }\r\n\r\nI&#39;m really curious what some of you veterans think is the best practice. I want to be consistent and stick to one approach.","title":"Initialize class fields in constructor or at declaration?","body":"<p>I've been programming in C# and Java recently and I am curious where the best place is to initialize my class fields.</p>\n\n<p>Should I do it at declaration?:</p>\n\n<pre><code>public class Dice\n{\n    private int topFace = 1;\n    private Random myRand = new Random();\n\n    public void Roll()\n    {\n       // ......\n    }\n}\n</code></pre>\n\n<p>or in a constructor?:</p>\n\n<pre><code>public class Dice\n{\n    private int topFace;\n    private Random myRand;\n\n    public Dice()\n    {\n        topFace = 1;\n        myRand = new Random();\n    }\n\n    public void Roll()\n    {\n        // .....\n    }\n}\n</code></pre>\n\n<p>I'm really curious what some of you veterans think is the best practice. I want to be consistent and stick to one approach.</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1670934908,"post_id":74783270,"comment_id":131983696,"body_markdown":"_I try to run it on the terminal_ [Edit] your question and post the command you use to run it on the terminal. In the _Run Configuration_ window of Eclipse, click on the _Show Command Line_ button and see what command Eclipse uses to run your program.","body":"<i>I try to run it on the terminal</i> <a href=\"https://stackoverflow.com/posts/74783270/edit\">Edit</a> your question and post the command you use to run it on the terminal. In the <i>Run Configuration</i> window of Eclipse, click on the <i>Show Command Line</i> button and see what command Eclipse uses to run your program."},{"owner":{"account_id":21921125,"reputation":27,"user_id":16204358,"display_name":"killaws"},"score":0,"creation_date":1670941772,"post_id":74783270,"comment_id":131986194,"body_markdown":"It says /Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home/bin/java -Dfile.encoding=UTF-8 -classpath /Users/thiscomputer/java/Challenge3_Parsing/bin:/Users/thiscomputer/java/Challenge3_Parsing/gson-2.8.6-javadoc.jar:/Users/thiscomputer/java/Challenge3_Parsing/gson-2.8.6.jar:/Users/thiscomputer/java/Challenge3_Parsing/gson-2.9.1.jar Parsing","body":"It says /Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Ho&zwnj;&#8203;me/bin/java -Dfile.encoding=UTF-8 -classpath /Users/thiscomputer/java/Challenge3_Parsing/bin:/Users/thisc&zwnj;&#8203;omputer/java/Challen&zwnj;&#8203;ge3_Parsing/gson-2.8&zwnj;&#8203;.6-javadoc.jar:/User&zwnj;&#8203;s/thiscomputer/java/&zwnj;&#8203;Challenge3_Parsing/g&zwnj;&#8203;son-2.8.6.jar:/Users&zwnj;&#8203;/thiscomputer/java/C&zwnj;&#8203;hallenge3_Parsing/gs&zwnj;&#8203;on-2.9.1.jar Parsing"},{"owner":{"account_id":3682084,"reputation":459,"user_id":3066816,"accept_rate":80,"display_name":"jon martin solaas"},"score":1,"creation_date":1670942374,"post_id":74783270,"comment_id":131986426,"body_markdown":"I think you should decide on which version of gson you want to use, 2.8.6 or 2.9.1. Don&#39;t know if using both is the reason for your problem, but it could be.","body":"I think you should decide on which version of gson you want to use, 2.8.6 or 2.9.1. Don&#39;t know if using both is the reason for your problem, but it could be."},{"owner":{"account_id":21921125,"reputation":27,"user_id":16204358,"display_name":"killaws"},"score":0,"creation_date":1670943163,"post_id":74783270,"comment_id":131986737,"body_markdown":"I tried `java Parsing` on terminal after removing gson-2.8.6 from Referenced Libraries and clean the project but it still shows the same error message.","body":"I tried <code>java Parsing</code> on terminal after removing gson-2.8.6 from Referenced Libraries and clean the project but it still shows the same error message."}],"owner":{"account_id":21921125,"reputation":27,"user_id":16204358,"display_name":"killaws"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670942072,"creation_date":1670926809,"question_id":74783270,"body_markdown":"The project runs okay on Eclipse which I&#39;m using but when I try to run it on the terminal it has this error:  \r\nbin % java Parsing  \r\nError: Unable to initialize main class Parsing  \r\nCaused by: java.lang.NoClassDefFoundError: com/google/gson/JsonElement \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI also selected .jars on the Order and Export tab? What am I possibly missing?  \r\nParsing.java:\r\n```\r\nimport java.util.*;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonObject;\r\n\r\n\r\npublic class Parsing {\r\n\tprivate static Scanner scanner = new Scanner(System.in);\r\n\tGson gson = new Gson();\r\n\t\r\n\tprivate ArrayList&lt;String&gt; get(String[] field) {\r\n\t\tArrayList&lt;String&gt; valueList = new ArrayList&lt;&gt;();\r\n\t\tString value;\r\n\t\t\r\n\t\tfor(int i=0; i&lt;field.length; i++) {\r\n\t\t\tSystem.out.print(field[i] + &quot;: &quot;);\r\n\t\t\tvalue = scanner.nextLine();\r\n\t\t\tvalueList.add(i, value);\r\n\t\t}\r\n\t\t\r\n\t\treturn valueList;\r\n\t}\r\n\t\r\n\tpublic void put() {\r\n\t\tJsonObject data = new JsonObject();\r\n\t\t\r\n\t\tString[] field = {\r\n\t\t\t\t&quot;name&quot;, &quot;category&quot;, &quot;price&quot;, &quot;note&quot;, &quot;description&quot;\r\n\t\t};\r\n\t\t\r\n\t\tArrayList&lt;String&gt; valueList = new ArrayList&lt;&gt;();\r\n\t\tvalueList = get(field);\r\n\t\t\r\n\t\tfor(int i=0; i&lt;field.length; i++) {\r\n\t\t\tdata.addProperty(field[i], valueList.get(i)); \r\n\t\t}\r\n\t\t\r\n\t\tString jsonField = gson.toJson(data);\r\n\t\tSystem.out.println(jsonField); \r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tParsing p = new Parsing();\r\n\t\t\r\n\t\tp.put();\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe command line:  \r\n/Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home/bin/java -Dfile.encoding=UTF-8 -classpath  /Users/thiscomputer/java/Challenge3_Parsing/bin:/Users/thiscomputer/java/Challenge3_Parsing/gson-2.8.6-javadoc.jar:/Users/thiscomputer/java/Challenge3_Parsing/gson-2.8.6.jar:/Users/thiscomputer/java/Challenge3_Parsing/gson-2.9.1.jar Parsing\r\n\r\n  [1]: https://i.stack.imgur.com/xsjGz.jpg","title":"java.lang.NoClassDefFoundError: com/google/gson/JsonElement","body":"<p>The project runs okay on Eclipse which I'm using but when I try to run it on the terminal it has this error:<br />\nbin % java Parsing<br />\nError: Unable to initialize main class Parsing<br />\nCaused by: java.lang.NoClassDefFoundError: com/google/gson/JsonElement</p>\n<p><a href=\"https://i.stack.imgur.com/xsjGz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xsjGz.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I also selected .jars on the Order and Export tab? What am I possibly missing?<br />\nParsing.java:</p>\n<pre><code>import java.util.*;\nimport com.google.gson.Gson;\nimport com.google.gson.JsonObject;\n\n\npublic class Parsing {\n    private static Scanner scanner = new Scanner(System.in);\n    Gson gson = new Gson();\n    \n    private ArrayList&lt;String&gt; get(String[] field) {\n        ArrayList&lt;String&gt; valueList = new ArrayList&lt;&gt;();\n        String value;\n        \n        for(int i=0; i&lt;field.length; i++) {\n            System.out.print(field[i] + &quot;: &quot;);\n            value = scanner.nextLine();\n            valueList.add(i, value);\n        }\n        \n        return valueList;\n    }\n    \n    public void put() {\n        JsonObject data = new JsonObject();\n        \n        String[] field = {\n                &quot;name&quot;, &quot;category&quot;, &quot;price&quot;, &quot;note&quot;, &quot;description&quot;\n        };\n        \n        ArrayList&lt;String&gt; valueList = new ArrayList&lt;&gt;();\n        valueList = get(field);\n        \n        for(int i=0; i&lt;field.length; i++) {\n            data.addProperty(field[i], valueList.get(i)); \n        }\n        \n        String jsonField = gson.toJson(data);\n        System.out.println(jsonField); \n    }\n    \n    public static void main(String[] args) {\n        Parsing p = new Parsing();\n        \n        p.put();\n    }\n}\n\n</code></pre>\n<p>The command line:<br />\n/Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home/bin/java -Dfile.encoding=UTF-8 -classpath  /Users/thiscomputer/java/Challenge3_Parsing/bin:/Users/thiscomputer/java/Challenge3_Parsing/gson-2.8.6-javadoc.jar:/Users/thiscomputer/java/Challenge3_Parsing/gson-2.8.6.jar:/Users/thiscomputer/java/Challenge3_Parsing/gson-2.9.1.jar Parsing</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1670978557,"post_id":74786438,"comment_id":131996789,"body_markdown":"how about start out by reading the docs https://cloud.spring.io/spring-cloud-static/Greenwich.SR2/multi/multi__spring_cloud_context_application_context_services.html#refresh-scope","body":"how about start out by reading the docs <a href=\"https://cloud.spring.io/spring-cloud-static/Greenwich.SR2/multi/multi__spring_cloud_context_application_context_services.html#refresh-scope\" rel=\"nofollow noreferrer\">cloud.spring.io/spring-cloud-static/Greenwich.SR2/multi/&hellip;</a>"}],"owner":{"account_id":27173612,"reputation":11,"user_id":20709925,"display_name":"prabhu_axm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670941852,"creation_date":1670941852,"question_id":74786438,"body_markdown":"I have created a AuthorizationConfiguration class in my Spring Boot likes this\r\n\r\n```java\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;rbac&quot;)\r\n@Data\r\n@Getter\r\n@RefreshScope\r\npublic class RbacConfigurations {\r\n\r\n  private boolean enabled = false;\r\n  private List&lt;RbacEndpoints&gt; endpoints;\r\n\r\n  @Data\r\n  @ConfigurationProperties(&quot;endpoints&quot;)\r\n  public static class RbacEndpoints {\r\n\r\n    public String path;\r\n    public List&lt;String&gt; methods;\r\n    public List&lt;String&gt; permissions = new ArrayList&lt;&gt;();\r\n  }\r\n\r\n}\r\n```\r\n\r\nAnd I am using this in my WebFlux&#39;s Security Configuration\r\n\r\n```java\r\n@Configuration\r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity\r\n@EnableConfigurationProperties\r\npublic class OAuth2SecurityConfig {\r\n\r\n    private final RbacConfigurations rbacConfigurations;\r\n\r\n    @Bean\r\n  protected SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) throws Exception {\r\n\r\n     var rbacEndpoints = this.rbacConfigurations.getEndpoints();\r\n\r\n    for (var rbacEndpoint : rbacEndpoints) {\r\n      String path = rbacEndpoint.getPath();\r\n      List&lt;String&gt; permissions = rbacEndpoint.getPermissions();\r\n      List&lt;String&gt; methods = rbacEndpoint.getMethods();\r\n\r\n      if (!Objects.isNull(methods) &amp;&amp; methods.size() &gt; 0) {\r\n        for (var method : methods) {\r\n          HttpMethod httpMethod = HttpMethod.valueOf(method);\r\n          http.authorizeExchange().pathMatchers(httpMethod, path).hasAnyAuthority(permissions.toArray(new String[0]));\r\n        }\r\n      } else {\r\n        http.authorizeExchange().pathMatchers(path).hasAnyAuthority(permissions.toArray(new String[0]));\r\n      }\r\n    }\r\n```\r\n\r\nIt is working fine as expected. Picking up the endpoints from application.yml file and adding Authorization on them. I am serving the yml file via Spring Cloud Config Server. But I want this to be updated with every changes on the config file (hosted on GitLab). The application is also picking up changes from the config server but this Bean is not getting reloaded.\r\n\r\nWhat should I do in order to make @RefreshScope work in this case?","title":"How to reload Security Configuration Bean in Spring Boot after picking up changes from Config Server?","body":"<p>I have created a AuthorizationConfiguration class in my Spring Boot likes this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ConfigurationProperties(prefix = &quot;rbac&quot;)\n@Data\n@Getter\n@RefreshScope\npublic class RbacConfigurations {\n\n  private boolean enabled = false;\n  private List&lt;RbacEndpoints&gt; endpoints;\n\n  @Data\n  @ConfigurationProperties(&quot;endpoints&quot;)\n  public static class RbacEndpoints {\n\n    public String path;\n    public List&lt;String&gt; methods;\n    public List&lt;String&gt; permissions = new ArrayList&lt;&gt;();\n  }\n\n}\n</code></pre>\n<p>And I am using this in my WebFlux's Security Configuration</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\n@EnableConfigurationProperties\npublic class OAuth2SecurityConfig {\n\n    private final RbacConfigurations rbacConfigurations;\n\n    @Bean\n  protected SecurityWebFilterChain securityWebFilterChain(ServerHttpSecurity http) throws Exception {\n\n     var rbacEndpoints = this.rbacConfigurations.getEndpoints();\n\n    for (var rbacEndpoint : rbacEndpoints) {\n      String path = rbacEndpoint.getPath();\n      List&lt;String&gt; permissions = rbacEndpoint.getPermissions();\n      List&lt;String&gt; methods = rbacEndpoint.getMethods();\n\n      if (!Objects.isNull(methods) &amp;&amp; methods.size() &gt; 0) {\n        for (var method : methods) {\n          HttpMethod httpMethod = HttpMethod.valueOf(method);\n          http.authorizeExchange().pathMatchers(httpMethod, path).hasAnyAuthority(permissions.toArray(new String[0]));\n        }\n      } else {\n        http.authorizeExchange().pathMatchers(path).hasAnyAuthority(permissions.toArray(new String[0]));\n      }\n    }\n</code></pre>\n<p>It is working fine as expected. Picking up the endpoints from application.yml file and adding Authorization on them. I am serving the yml file via Spring Cloud Config Server. But I want this to be updated with every changes on the config file (hosted on GitLab). The application is also picking up changes from the config server but this Bean is not getting reloaded.</p>\n<p>What should I do in order to make @RefreshScope work in this case?</p>\n"},{"tags":["java","database","jpa"],"comments":[{"owner":{"account_id":13390479,"reputation":659,"user_id":9662971,"display_name":"kedenk"},"score":1,"creation_date":1532503106,"post_id":51512912,"comment_id":89994280,"body_markdown":"What do you mean with &#39;some operations&#39;? Can you give an example? JavaEE and JPA create a transaction at a REST call for example, so the row would be part of the transaction.","body":"What do you mean with &#39;some operations&#39;? Can you give an example? JavaEE and JPA create a transaction at a REST call for example, so the row would be part of the transaction."},{"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"score":0,"creation_date":1532503427,"post_id":51512912,"comment_id":89994472,"body_markdown":"@kedenk e.g. get flight number from FLIGHTS table and update the reference in BOOKING table. Let&#39;s assume FLIGHTS table won&#39;t be updated.","body":"@kedenk e.g. get flight number from FLIGHTS table and update the reference in BOOKING table. Let&#39;s assume FLIGHTS table won&#39;t be updated."},{"owner":{"account_id":13390479,"reputation":659,"user_id":9662971,"display_name":"kedenk"},"score":1,"creation_date":1532503876,"post_id":51512912,"comment_id":89994714,"body_markdown":"And these two operations are performed within one REST call? As mentioned before, JavaEE and JPA create a transaction at a call. So you should be saved with that and don&#39;t need an explicit lock. But if you want to set a specific log, the first answer helps you.","body":"And these two operations are performed within one REST call? As mentioned before, JavaEE and JPA create a transaction at a call. So you should be saved with that and don&#39;t need an explicit lock. But if you want to set a specific log, the first answer helps you."},{"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"score":0,"creation_date":1532503933,"post_id":51512912,"comment_id":89994756,"body_markdown":"I am not doing any REST call here.","body":"I am not doing any REST call here."}],"answers":[{"tags":[],"owner":{"account_id":2252907,"reputation":2755,"user_id":1984767,"accept_rate":50,"display_name":"Leviand"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670941584,"creation_date":1532503038,"answer_id":51512960,"question_id":51512912,"body_markdown":"Yes, you can do that with `Hibernate` and with `LockModeType`.\r\n\r\nThere are many possibilities based on your needs, so the best way is to choose from [here][1].\r\n\r\n\r\n  [1]: https://vladmihalcea.com/a-beginners-guide-to-java-persistence-locking/","title":"How to lock a database row using JPA until another table is updated","body":"<p>Yes, you can do that with <code>Hibernate</code> and with <code>LockModeType</code>.</p>\n<p>There are many possibilities based on your needs, so the best way is to choose from <a href=\"https://vladmihalcea.com/a-beginners-guide-to-java-persistence-locking/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51512960,"answer_count":1,"score":1,"last_activity_date":1670941659,"creation_date":1532502842,"question_id":51512912,"body_markdown":"I am new to JPA using Hibernate/Spring. My use case is:\r\n\r\nI have 2 tables - `A` and `B`. When the user queries table `A` and gets a row, it should be locked and won&#39;t be issued to anyone else until the user is done doing some operation using the returned data and updated table `B`.\r\n\r\nI can add a column (say `IS_LOCKED`) in table `A` and then update it once the operation is complete. But I am trying to figure out if there is a better solution to this problem. Not sure if the `javax.persistence.LockModeType` is of much use in this case. ","title":"How to lock a database row using JPA until another table is updated","body":"<p>I am new to JPA using Hibernate/Spring. My use case is:</p>\n<p>I have 2 tables - <code>A</code> and <code>B</code>. When the user queries table <code>A</code> and gets a row, it should be locked and won't be issued to anyone else until the user is done doing some operation using the returned data and updated table <code>B</code>.</p>\n<p>I can add a column (say <code>IS_LOCKED</code>) in table <code>A</code> and then update it once the operation is complete. But I am trying to figure out if there is a better solution to this problem. Not sure if the <code>javax.persistence.LockModeType</code> is of much use in this case.</p>\n"},{"tags":["java","spring","jackson","lombok","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670625856,"creation_date":1670625119,"answer_id":74748866,"question_id":74721951,"body_markdown":"    @JsonProperty(access = Access.READ_ONLY)\r\n    @ApiModelProperty(hidden = true)\r\n    private BookDTO book;\r\n\r\nIf you want to hide something from Swagger you can use @ApiModelProperty(hidden = true).","title":"JsonProperty.Access.READ_ONLY not working with nested objects (Jackson)","body":"<pre><code>@JsonProperty(access = Access.READ_ONLY)\n@ApiModelProperty(hidden = true)\nprivate BookDTO book;\n</code></pre>\n<p>If you want to hide something from Swagger you can use @ApiModelProperty(hidden = true).</p>\n"},{"tags":[],"owner":{"account_id":14613673,"reputation":1,"user_id":10879125,"display_name":"msrgl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670941588,"creation_date":1670941569,"answer_id":74786375,"question_id":74721951,"body_markdown":"This should solve your problem, I had the same problem.\r\n\r\n    @JsonProperty(access = Access.READ_ONLY)\r\n    @Schema(allOf = BookDTO.class)\r\n    private BookDTO book;\r\n\r\n","title":"JsonProperty.Access.READ_ONLY not working with nested objects (Jackson)","body":"<p>This should solve your problem, I had the same problem.</p>\n<pre><code>@JsonProperty(access = Access.READ_ONLY)\n@Schema(allOf = BookDTO.class)\nprivate BookDTO book;\n</code></pre>\n"}],"owner":{"account_id":26774371,"reputation":11,"user_id":20370241,"display_name":"jpl87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":526,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1670941588,"creation_date":1670440934,"question_id":74721951,"body_markdown":"I am having some problems when using Jackson Access.READ_ONLY on a DTO inside another DTO. \r\n\r\n[AuthorDTO.class](https://i.stack.imgur.com/9hxfz.png)\r\n\r\nAuthorDTO is the RequestBody on AuthorController post/put methods and it is also the ResponseEntity object. What I want is only show BookDTO on the response, as I am doing with other AuthorDTO properties such as Author.creationDate, but it seems it does not work with BookDTO\r\n\r\n\r\n\r\nNothing I have tried so far seems to work, as AuthoDTO.BookDTO property is still part of the request, as you can see on this swagger capture:\r\n\r\n[Swagger UI RequestBody](https://i.stack.imgur.com/kgpSr.png)\r\n\r\nAny help is welcome\r\n\r\nPS: I am using Lombok and Mapstruct","title":"JsonProperty.Access.READ_ONLY not working with nested objects (Jackson)","body":"<p>I am having some problems when using Jackson Access.READ_ONLY on a DTO inside another DTO.</p>\n<p><a href=\"https://i.stack.imgur.com/9hxfz.png\" rel=\"nofollow noreferrer\">AuthorDTO.class</a></p>\n<p>AuthorDTO is the RequestBody on AuthorController post/put methods and it is also the ResponseEntity object. What I want is only show BookDTO on the response, as I am doing with other AuthorDTO properties such as Author.creationDate, but it seems it does not work with BookDTO</p>\n<p>Nothing I have tried so far seems to work, as AuthoDTO.BookDTO property is still part of the request, as you can see on this swagger capture:</p>\n<p><a href=\"https://i.stack.imgur.com/kgpSr.png\" rel=\"nofollow noreferrer\">Swagger UI RequestBody</a></p>\n<p>Any help is welcome</p>\n<p>PS: I am using Lombok and Mapstruct</p>\n"},{"tags":["java","graalvm","graalvm-native-image","lambda-authorizer","spring-native"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1661497800,"post_id":73292646,"comment_id":129790825,"body_markdown":"you can ignore unknown by using JsonIgnoreProperties check https://stackoverflow.com/a/5455563/175554","body":"you can ignore unknown by using JsonIgnoreProperties check <a href=\"https://stackoverflow.com/a/5455563/175554\">stackoverflow.com/a/5455563/175554</a>"},{"owner":{"account_id":24047929,"reputation":11,"user_id":18026750,"display_name":"shiva789"},"score":0,"creation_date":1661698102,"post_id":73292646,"comment_id":129828688,"body_markdown":"Thank you for the response, in this case lambda is returing IamPolicy response [which is present in the body part] works as expected if i upload code as jar to lambda, but when application is converted to native executable using spring native the response is getting wrapped as APIGatewayProxyResponseEvent.","body":"Thank you for the response, in this case lambda is returing IamPolicy response [which is present in the body part] works as expected if i upload code as jar to lambda, but when application is converted to native executable using spring native the response is getting wrapped as APIGatewayProxyResponseEvent."},{"owner":{"account_id":117710,"reputation":1001,"user_id":1307364,"accept_rate":50,"display_name":"Arpit"},"score":0,"creation_date":1684554857,"post_id":73292646,"comment_id":134537862,"body_markdown":"@shiva789 Did you find the solution for this problem. I am also having the same, so would be happy if you could share update on this :)","body":"@shiva789 Did you find the solution for this problem. I am also having the same, so would be happy if you could share update on this :)"}],"owner":{"account_id":24047929,"reputation":11,"user_id":18026750,"display_name":"shiva789"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670941313,"creation_date":1660051511,"question_id":73292646,"body_markdown":"Created Java authorizer lambda to validate token.\r\nWhen I deploy aws jar works as expected, getting iampolicy as response.\r\nWhen Created native image using graalvm to minimize cold start time the response is changed to APIGatewayProxyResponseEvent.\r\nGot to know from API gateway logs getting below exception \r\n\r\n     Execution failed due to configuration error: Invalid JSON in response: Unrecognized field &quot;isBase64Encoded&quot; , not marked as ignorable  \r\n\r\nAs it is expecting iampolicy as a response from authorizer instead it got below response.\r\n\r\n    {\r\n        &quot;isBase64Encoded&quot;: false,\r\n        &quot;headers&quot;: {\r\n            &quot;date&quot;: &quot;Tue, 09 Aug 2022 10:53:00 GMT&quot;,\r\n            &quot;transfer-encoding&quot;: &quot;chunked&quot;,\r\n            &quot;lambda-runtime-trace-id&quot;: &quot;&quot;,\r\n            &quot;aws-api-gateway&quot;: &quot;true&quot;,\r\n            &quot;lambda-runtime-aws-request-id&quot;: &quot;99b3-c10da8d41cfb&quot;,\r\n            &quot;id&quot;: &quot;339781a6-535f-dc19-e079-f32ae48a742c&quot;,\r\n            &quot;contentType&quot;: &quot;application/json&quot;,\r\n            &quot;lambda-runtime-invoked-function-arn&quot;: &quot;arn&quot;,\r\n            &quot;lambda-runtime-deadline-ms&quot;: &quot;1660042443373&quot;,\r\n            &quot;timestamp&quot;: &quot;1660042380735&quot;\r\n        },\r\n        &quot;body&quot;: &quot;{\\&quot;principalId\\&quot;:\\&quot;principleId\\&quot;,\\&quot;policyDocument\\&quot;:{\\&quot;Version\\&quot;:\\&quot;2012-10-17\\&quot;,\\&quot;Statement\\&quot;:[{\\&quot;Action\\&quot;:\\&quot;execute-api:Invoke\\&quot;,\\&quot;Effect\\&quot;:\\&quot;Allow\\&quot;,\\&quot;Resource\\&quot;:\\&quot;arn:resource\\&quot;}]},\\&quot;context\\&quot;:{\\&quot;sub\\&quot;:\\&quot;SamplecontextObject\\&quot;}}&quot;,\r\n        &quot;statusCode&quot;: 200\r\n    }\r\n\r\nPlease any input/suggestion will be helpful","title":"Response from java aws authorizer lambda changed to APIGatewayProxyResponseEvent from Iam Policy response pojo object","body":"<p>Created Java authorizer lambda to validate token.\nWhen I deploy aws jar works as expected, getting iampolicy as response.\nWhen Created native image using graalvm to minimize cold start time the response is changed to APIGatewayProxyResponseEvent.\nGot to know from API gateway logs getting below exception</p>\n<pre><code> Execution failed due to configuration error: Invalid JSON in response: Unrecognized field &quot;isBase64Encoded&quot; , not marked as ignorable  \n</code></pre>\n<p>As it is expecting iampolicy as a response from authorizer instead it got below response.</p>\n<pre><code>{\n    &quot;isBase64Encoded&quot;: false,\n    &quot;headers&quot;: {\n        &quot;date&quot;: &quot;Tue, 09 Aug 2022 10:53:00 GMT&quot;,\n        &quot;transfer-encoding&quot;: &quot;chunked&quot;,\n        &quot;lambda-runtime-trace-id&quot;: &quot;&quot;,\n        &quot;aws-api-gateway&quot;: &quot;true&quot;,\n        &quot;lambda-runtime-aws-request-id&quot;: &quot;99b3-c10da8d41cfb&quot;,\n        &quot;id&quot;: &quot;339781a6-535f-dc19-e079-f32ae48a742c&quot;,\n        &quot;contentType&quot;: &quot;application/json&quot;,\n        &quot;lambda-runtime-invoked-function-arn&quot;: &quot;arn&quot;,\n        &quot;lambda-runtime-deadline-ms&quot;: &quot;1660042443373&quot;,\n        &quot;timestamp&quot;: &quot;1660042380735&quot;\n    },\n    &quot;body&quot;: &quot;{\\&quot;principalId\\&quot;:\\&quot;principleId\\&quot;,\\&quot;policyDocument\\&quot;:{\\&quot;Version\\&quot;:\\&quot;2012-10-17\\&quot;,\\&quot;Statement\\&quot;:[{\\&quot;Action\\&quot;:\\&quot;execute-api:Invoke\\&quot;,\\&quot;Effect\\&quot;:\\&quot;Allow\\&quot;,\\&quot;Resource\\&quot;:\\&quot;arn:resource\\&quot;}]},\\&quot;context\\&quot;:{\\&quot;sub\\&quot;:\\&quot;SamplecontextObject\\&quot;}}&quot;,\n    &quot;statusCode&quot;: 200\n}\n</code></pre>\n<p>Please any input/suggestion will be helpful</p>\n"},{"tags":["java","math","rotation","trigonometry","angle"],"comments":[{"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1671015012,"post_id":74785974,"comment_id":132004102,"body_markdown":"One improvement, round, not floor.  `rotate_x  = (int) Math.round((posx * cos - posz * sin))`","body":"One improvement, round, not floor.  <code>rotate_x  = (int) Math.round((posx * cos - posz * sin))</code>"}],"answers":[{"comments":[{"owner":{"account_id":5063322,"reputation":1330,"user_id":4064162,"accept_rate":89,"display_name":"piraces"},"score":0,"creation_date":1671195994,"post_id":74786305,"comment_id":132052498,"body_markdown":"Welcome to SO and thanks for your answer! Please consider including some brief explanation about your answer instead of posting only code.","body":"Welcome to SO and thanks for your answer! Please consider including some brief explanation about your answer instead of posting only code."}],"tags":[],"owner":{"account_id":27240617,"reputation":1,"user_id":20766863,"display_name":"cupa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670941248,"creation_date":1670941248,"answer_id":74786305,"question_id":74785974,"body_markdown":"    public void drawImage(MapCanvas canvas,int x, int y, BufferedImage image,double angle) {\r\n        byte[] bytes = MapPalette.imageToBytes(image);\r\n\r\n        int real_x = image.getWidth()/2;\r\n        int real_y = image.getHeight()/2;\r\n\r\n        for(int x2 = 0; x2 &lt; image.getWidth(); ++x2) {\r\n            for(int y2 = 0; y2 &lt; image.getHeight(); ++y2) {\r\n\r\n                byte c =  bytes[y2 * image.getWidth() + x2];\r\n                if(c == 0) continue;\r\n                int [] sol = rotateByAngle(x2-real_x,y2-real_y,angle);\r\n                canvas.setPixel(x + sol[0], y + sol[1],c);\r\n\r\n            }\r\n        }\r\n\r\n    }","title":"Rotate an image with trigonometry","body":"<pre><code>public void drawImage(MapCanvas canvas,int x, int y, BufferedImage image,double angle) {\n    byte[] bytes = MapPalette.imageToBytes(image);\n\n    int real_x = image.getWidth()/2;\n    int real_y = image.getHeight()/2;\n\n    for(int x2 = 0; x2 &lt; image.getWidth(); ++x2) {\n        for(int y2 = 0; y2 &lt; image.getHeight(); ++y2) {\n\n            byte c =  bytes[y2 * image.getWidth() + x2];\n            if(c == 0) continue;\n            int [] sol = rotateByAngle(x2-real_x,y2-real_y,angle);\n            canvas.setPixel(x + sol[0], y + sol[1],c);\n\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27240617,"reputation":1,"user_id":20766863,"display_name":"cupa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670941248,"creation_date":1670939779,"question_id":74785974,"body_markdown":"i would like to rotate an image like the next gif:\r\n[rotation that i want](https://i.stack.imgur.com/i4SGZ.gif)\r\n\r\nbut i&#39;m getting this result:\r\n\r\n[wrong rotation](https://www.youtube.com/watch?v=ojZcrgXKzPY&amp;ab_channel=Cupa)\r\n\r\n\r\n\r\n```\r\npublic int[] rotateByAngle(int posx, int posz, double angle){\r\n    double radians = Math.toRadians(angle);\r\n    double cos = Math.cos(radians);\r\n    double sin = Math.sin(radians);\r\n\r\n\r\n\r\n    int rotate_x  = (int) Math.floor((posx * cos - posz * sin)) ;\r\n    int rotate_z  = (int) Math.floor((posx * sin  + posz * cos)) ;\r\n\r\n\r\n    return new int[] {rotate_x ,rotate_z };\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\npublic void drawImage(MapCanvas canvas,int x, int y, BufferedImage image,double angle) {\r\n    byte[] bytes = MapPalette.imageToBytes(image);\r\n\r\n    for(int x2 = 0; x2 &lt; image.getWidth(); ++x2) {\r\n        for(int y2 = 0; y2 &lt; image.getHeight(); ++y2) {\r\n            byte c =  bytes[y2 * image.getWidth() + x2];\r\n            if(c == 0) continue;\r\n            int [] sol = rotateByAngle(x2,y2,angle);\r\n            canvas.setPixel(x + sol[0], y + sol[1],c);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\ndrawImage(canvas,64,64, img.getBufferedImage(),angle);\r\n```\r\n\r\ni dont want to use =&gt; AffineTransform at = new AffineTransform();\r\ni would like to use cos and sen\r\n\r\n","title":"Rotate an image with trigonometry","body":"<p>i would like to rotate an image like the next gif:\n<a href=\"https://i.stack.imgur.com/i4SGZ.gif\" rel=\"nofollow noreferrer\">rotation that i want</a></p>\n<p>but i'm getting this result:</p>\n<p><a href=\"https://www.youtube.com/watch?v=ojZcrgXKzPY&amp;ab_channel=Cupa\" rel=\"nofollow noreferrer\">wrong rotation</a></p>\n<pre><code>public int[] rotateByAngle(int posx, int posz, double angle){\n    double radians = Math.toRadians(angle);\n    double cos = Math.cos(radians);\n    double sin = Math.sin(radians);\n\n\n\n    int rotate_x  = (int) Math.floor((posx * cos - posz * sin)) ;\n    int rotate_z  = (int) Math.floor((posx * sin  + posz * cos)) ;\n\n\n    return new int[] {rotate_x ,rotate_z };\n}\n</code></pre>\n<pre><code>public void drawImage(MapCanvas canvas,int x, int y, BufferedImage image,double angle) {\n    byte[] bytes = MapPalette.imageToBytes(image);\n\n    for(int x2 = 0; x2 &lt; image.getWidth(); ++x2) {\n        for(int y2 = 0; y2 &lt; image.getHeight(); ++y2) {\n            byte c =  bytes[y2 * image.getWidth() + x2];\n            if(c == 0) continue;\n            int [] sol = rotateByAngle(x2,y2,angle);\n            canvas.setPixel(x + sol[0], y + sol[1],c);\n        }\n    }\n\n}\n</code></pre>\n<pre><code>drawImage(canvas,64,64, img.getBufferedImage(),angle);\n</code></pre>\n<p>i dont want to use =&gt; AffineTransform at = new AffineTransform();\ni would like to use cos and sen</p>\n"},{"tags":["java","spring","routes","spring-cloud"],"comments":[{"owner":{"account_id":5363666,"reputation":1950,"user_id":4274223,"display_name":"Gregorio Palam&#224;"},"score":1,"creation_date":1670934086,"post_id":74784108,"comment_id":131983362,"body_markdown":"Looks like you need to use an API Gateway. You can do it with Spring Cloud Gateway, and set the rule according to what you need to achieve. Further details here: https://spring.io/projects/spring-cloud-gateway","body":"Looks like you need to use an API Gateway. You can do it with Spring Cloud Gateway, and set the rule according to what you need to achieve. Further details here: <a href=\"https://spring.io/projects/spring-cloud-gateway\" rel=\"nofollow noreferrer\">spring.io/projects/spring-cloud-gateway</a>"}],"answers":[{"comments":[{"owner":{"account_id":6736921,"reputation":948,"user_id":5191371,"accept_rate":0,"display_name":"Milad Bahmanabadi"},"score":0,"creation_date":1671000909,"post_id":74786235,"comment_id":132000127,"body_markdown":"thank you Yoav, i get request body with implementing WebFilter, but the problem is that urls will set only one TIme in running application, so i can&#39;t change it based on request body.","body":"thank you Yoav, i get request body with implementing WebFilter, but the problem is that urls will set only one TIme in running application, so i can&#39;t change it based on request body."}],"tags":[],"owner":{"account_id":3310905,"reputation":84,"user_id":2784451,"display_name":"Yoav Naaman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670940905,"creation_date":1670940905,"answer_id":74786235,"question_id":74784108,"body_markdown":"Best practice is not to route according to request body, but use different attributes of the HTTP request instead. Spring Cloud Gateway includes many built-in route predicate factories based on those attributes.\r\n\r\nThe problem is request body can be read only once. moreover you need to know the object class it contains in order to properly read it.\r\n \r\nIn order to construct a solution to your question, we can use Spring Cloud Gateway ModifyRequestBody to rewrite the request body after you read it and before it send to the downstream.\r\n\r\n[Read more about ModifyRequestBody][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#modify-a-request-body-gatewayfilter-factory","title":"How to change routes url based on request body in spring cloud","body":"<p>Best practice is not to route according to request body, but use different attributes of the HTTP request instead. Spring Cloud Gateway includes many built-in route predicate factories based on those attributes.</p>\n<p>The problem is request body can be read only once. moreover you need to know the object class it contains in order to properly read it.</p>\n<p>In order to construct a solution to your question, we can use Spring Cloud Gateway ModifyRequestBody to rewrite the request body after you read it and before it send to the downstream.</p>\n<p><a href=\"https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/#modify-a-request-body-gatewayfilter-factory\" rel=\"nofollow noreferrer\">Read more about ModifyRequestBody</a></p>\n"}],"owner":{"account_id":6736921,"reputation":948,"user_id":5191371,"accept_rate":0,"display_name":"Milad Bahmanabadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670940905,"creation_date":1670930813,"question_id":74784108,"body_markdown":"I want to route requests based on some values in requestBody in spring cloud, for example:   \r\n\r\nif value of `firstField` in requestBody is chagre, I want to route this request to `/chagre` api  \r\nelse if value of `firstField` in requestBody is package, I want to route this request to `/package` api\r\n\r\nAny help would be appreciated.","title":"How to change routes url based on request body in spring cloud","body":"<p>I want to route requests based on some values in requestBody in spring cloud, for example:</p>\n<p>if value of <code>firstField</code> in requestBody is chagre, I want to route this request to <code>/chagre</code> api<br />\nelse if value of <code>firstField</code> in requestBody is package, I want to route this request to <code>/package</code> api</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":1023795,"reputation":602,"user_id":1033533,"accept_rate":100,"display_name":"Bernhard"},"score":0,"creation_date":1320664098,"post_id":8035494,"comment_id":9837847,"body_markdown":"Thank you very much. Just wondering why i haven&#39;t found that :-)","body":"Thank you very much. Just wondering why i haven&#39;t found that :-)"},{"owner":{"account_id":178358,"reputation":25369,"user_id":410289,"accept_rate":0,"display_name":"Jackie"},"score":0,"creation_date":1336383904,"post_id":8035494,"comment_id":13541572,"body_markdown":"looks like this is the only way.","body":"looks like this is the only way."}],"tags":[],"owner":{"account_id":435040,"reputation":434,"user_id":821408,"display_name":"Viktor Pishchulin"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1320663468,"creation_date":1320663468,"answer_id":8035494,"question_id":8035194,"body_markdown":"Bernhard\r\n\r\nhttp://camel.apache.org/how-do-i-use-dynamic-uri-in-to.html\r\n\r\nUse the Recipient List EIP pattern, which allows you to compute the dynamic URI using an Expression.\r\nFor example using the Simple expression language as shown below:\r\n\r\n    recipientList(simple(&quot;freemarker://templateHome/${body.templateName}.ftl&quot;))","title":"Simple Expression in apache-camel uri","body":"<p>Bernhard</p>\n\n<p><a href=\"http://camel.apache.org/how-do-i-use-dynamic-uri-in-to.html\" rel=\"nofollow\">http://camel.apache.org/how-do-i-use-dynamic-uri-in-to.html</a></p>\n\n<p>Use the Recipient List EIP pattern, which allows you to compute the dynamic URI using an Expression.\nFor example using the Simple expression language as shown below:</p>\n\n<pre><code>recipientList(simple(\"freemarker://templateHome/${body.templateName}.ftl\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375922249,"creation_date":1375922249,"answer_id":18116095,"question_id":8035194,"body_markdown":"Another way is to use the &quot;CamelXsltResourceUri&quot; property in the header.\r\n\r\n    \r\n    .setHeader(&quot;CamelXsltResourceUri&quot;,simple(&quot;xslt:&lt;path&gt;/&lt;to&gt;/&lt;template&gt;&quot;))\r\n\r\n\r\n\r\n\r\n\r\n&gt; &quot;recipientList(simple(&quot;freemarker://templateHome/${body.templateName}.ftl&quot;))&quot;\r\n\r\nThe selected answer did not work for me since I had to use a custom uriresolver","title":"Simple Expression in apache-camel uri","body":"<p>Another way is to use the \"CamelXsltResourceUri\" property in the header.</p>\n\n<pre><code>.setHeader(\"CamelXsltResourceUri\",simple(\"xslt:&lt;path&gt;/&lt;to&gt;/&lt;template&gt;\"))\n</code></pre>\n\n<blockquote>\n  <p>\"recipientList(simple(\"freemarker://templateHome/${body.templateName}.ftl\"))\"</p>\n</blockquote>\n\n<p>The selected answer did not work for me since I had to use a custom uriresolver</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670940818,"creation_date":1670940818,"answer_id":74786215,"question_id":8035194,"body_markdown":"Use `toD()` then dynamic uri can be used. recipientlist is for multiple destinations, not the correct EIP.\r\n\r\nHowever you may need to avoid creating too many different URLs with your `simple()` expression. See: https://camel.apache.org/components/3.18.x/eips/toD-eip.html","title":"Simple Expression in apache-camel uri","body":"<p>Use <code>toD()</code> then dynamic uri can be used. recipientlist is for multiple destinations, not the correct EIP.</p>\n<p>However you may need to avoid creating too many different URLs with your <code>simple()</code> expression. See: <a href=\"https://camel.apache.org/components/3.18.x/eips/toD-eip.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.18.x/eips/toD-eip.html</a></p>\n"}],"owner":{"account_id":1023795,"reputation":602,"user_id":1033533,"accept_rate":100,"display_name":"Bernhard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4042,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":8035494,"answer_count":3,"score":2,"last_activity_date":1670940818,"creation_date":1320661795,"question_id":8035194,"body_markdown":"I&#39;m new to apache-camel and know i met a problem.\r\nI want to use simple expressions in my uri definition, but i don&#39;t know how.\r\n\r\nFor example:\r\n\r\n    from(&quot;foo://bar&quot;).to(&quot;foo://bar?var=${header.varName}&quot;);\r\n\r\nIs there a way to use such expressions?\r\n","title":"Simple Expression in apache-camel uri","body":"<p>I'm new to apache-camel and know i met a problem.\nI want to use simple expressions in my uri definition, but i don't know how.</p>\n\n<p>For example:</p>\n\n<pre><code>from(\"foo://bar\").to(\"foo://bar?var=${header.varName}\");\n</code></pre>\n\n<p>Is there a way to use such expressions?</p>\n"},{"tags":["java","system-administration","jmx"],"answers":[{"tags":[],"owner":{"account_id":13299,"reputation":30181,"user_id":26620,"accept_rate":83,"display_name":"Kevin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258488467,"creation_date":1258486475,"answer_id":1751213,"question_id":1751130,"body_markdown":"I&#39;m not sure about bash-like environment.  You might try some simple wrapper programs in Java (with program arguments) that invoke your MBeans on the remote server.  You can then call these wrappers from the shell script\r\n\r\nIf you can use something like Python or Perl, you might be interested in [JSR-262][1] which allows you to expose JMX operations over web services.  This is scheduled to be included in Java 7 but you might be able to use a release candidate of the [reference implementation][2]\r\n\r\n\r\n  [1]: http://jcp.org/en/jsr/detail?id=262\r\n  [2]: https://ws-jmx-connector.dev.java.net/","title":"Calling JMX MBean method from a shell script","body":"<p>I'm not sure about bash-like environment.  You might try some simple wrapper programs in Java (with program arguments) that invoke your MBeans on the remote server.  You can then call these wrappers from the shell script</p>\n\n<p>If you can use something like Python or Perl, you might be interested in <a href=\"http://jcp.org/en/jsr/detail?id=262\" rel=\"nofollow noreferrer\">JSR-262</a> which allows you to expose JMX operations over web services.  This is scheduled to be included in Java 7 but you might be able to use a release candidate of the <a href=\"https://ws-jmx-connector.dev.java.net/\" rel=\"nofollow noreferrer\">reference implementation</a></p>\n"},{"comments":[{"owner":{"account_id":34674,"reputation":14769,"user_id":98050,"accept_rate":57,"display_name":"Dougnukem"},"score":0,"creation_date":1258488843,"post_id":1751365,"comment_id":1633769,"body_markdown":"Only downside is to use the command line utility it requires JManage be running to proxy commands to your JMX servers. I&#39;d rather a more light-weight approach directly to the JMX server itself.","body":"Only downside is to use the command line utility it requires JManage be running to proxy commands to your JMX servers. I&#39;d rather a more light-weight approach directly to the JMX server itself."}],"tags":[],"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1258487980,"creation_date":1258487980,"answer_id":1751365,"question_id":1751130,"body_markdown":"Take a look at &lt;a href=&quot;http://www.jmanage.org/&quot;&gt;JManage&lt;/a&gt;. It&#39;s able to execute MBean methods and get / set attributes from &lt;a href=&quot;http://www.jmanage.org/wiki/index.php/Command_Line&quot;&gt;command line&lt;/a&gt;.","title":"Calling JMX MBean method from a shell script","body":"<p>Take a look at <a href=\"http://www.jmanage.org/\" rel=\"nofollow noreferrer\">JManage</a>. It's able to execute MBean methods and get / set attributes from <a href=\"http://www.jmanage.org/wiki/index.php/Command_Line\" rel=\"nofollow noreferrer\">command line</a>.</p>\n"},{"comments":[{"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"score":0,"creation_date":1372076358,"post_id":1751426,"comment_id":25043054,"body_markdown":"jmxterm doesn&#39;t seem to work on Java 7 https://bugs.launchpad.net/jmxterm/+bug/942693","body":"jmxterm doesn&#39;t seem to work on Java 7 <a href=\"https://bugs.launchpad.net/jmxterm/+bug/942693\" rel=\"nofollow noreferrer\">bugs.launchpad.net/jmxterm/+bug/942693</a>"}],"tags":[],"owner":{"account_id":34674,"reputation":14769,"user_id":98050,"accept_rate":57,"display_name":"Dougnukem"},"comment_count":1,"down_vote_count":0,"up_vote_count":115,"is_accepted":true,"score":115,"last_activity_date":1558612246,"creation_date":1258488628,"answer_id":1751426,"question_id":1751130,"body_markdown":"The following command line JMX utilities are available:\r\n\r\n\r\n 1. [jmxterm][1] - seems to be the most fully featured utility.\r\n 2. [cmdline-jmxclient][2] - used in the WebArchive project seems very bare bones (and no development since 2006 it looks like)\r\n 3. [Groovy script and JMX][3] - provides some really powerful JMX functionality but requires groovy and other library setup.\r\n 4. [JManage command line\r\n    functionality][4] - (downside is\r\n    that it requires a running JManage\r\n    server to proxy commands through)\r\n\r\n**Groovy JMX Example:**\r\n\r\n    import java.lang.management.*\r\n    import javax.management.ObjectName\r\n    import javax.management.remote.JMXConnectorFactory as JmxFactory\r\n    import javax.management.remote.JMXServiceURL as JmxUrl\r\n    \r\n    def serverUrl = &#39;service:jmx:rmi:///jndi/rmi://localhost:9003/jmxrmi&#39;\r\n    String beanName = &quot;com.webwars.gameplatform.data:type=udmdataloadsystem,id=0&quot;\r\n    def server = JmxFactory.connect(new JmxUrl(serverUrl)).MBeanServerConnection\r\n    def dataSystem = new GroovyMBean(server, beanName)\r\n    \r\n    println &quot;Connected to:\\n$dataSystem\\n&quot;\r\n    \r\n    println &quot;Executing jmxForceRefresh()&quot;\r\n    dataSystem.jmxForceRefresh();\r\n\r\n\r\n**cmdline-jmxclient example:**\r\n\r\nIf you have an \r\n\r\n* MBean: com.company.data:type=datasystem,id=0\r\n\r\nWith an Operation called:\r\n  \r\n*  jmxForceRefresh()\r\n\r\nThen you can write a simple bash script (assuming you download [cmdline-jmxclient-0.10.3.jar][5] and put in the same directory as your script):\r\n\r\n    #!/bin/bash\r\n    \r\n    cmdLineJMXJar=./cmdline-jmxclient-0.10.3.jar\r\n    user=yourUser\r\n    password=yourPassword\r\n    jmxHost=localhost\r\n    port=9003\r\n    \r\n    #No User and password so pass &#39;-&#39;\r\n    echo &quot;Available Operations for com.company.data:type=datasystem,id=0&quot;\r\n    java -jar ${cmdLineJMXJar} ${user}:${password} ${jmxHost}:${port} com.company.data:type=datasystem,id=0\r\n    \r\n    echo &quot;Executing XML update...&quot;\r\n    java -jar ${cmdLineJMXJar} - ${jmxHost}:${port} com.company.data:type=datasystem,id=0 jmxForceRefresh\r\n\r\n\r\n  [1]: http://wiki.cyclopsgroup.org/jmxterm\r\n  [2]: http://crawler.archive.org/cmdline-jmxclient/\r\n  [3]: http://docs.codehaus.org/display/GROOVY/Groovy+and+JMX\r\n  [4]: http://www.jmanage.org/\r\n  [5]: http://crawler.archive.org/cmdline-jmxclient/cmdline-jmxclient-0.10.3.jar","title":"Calling JMX MBean method from a shell script","body":"<p>The following command line JMX utilities are available:</p>\n\n<ol>\n<li><a href=\"http://wiki.cyclopsgroup.org/jmxterm\" rel=\"noreferrer\">jmxterm</a> - seems to be the most fully featured utility.</li>\n<li><a href=\"http://crawler.archive.org/cmdline-jmxclient/\" rel=\"noreferrer\">cmdline-jmxclient</a> - used in the WebArchive project seems very bare bones (and no development since 2006 it looks like)</li>\n<li><a href=\"http://docs.codehaus.org/display/GROOVY/Groovy+and+JMX\" rel=\"noreferrer\">Groovy script and JMX</a> - provides some really powerful JMX functionality but requires groovy and other library setup.</li>\n<li><a href=\"http://www.jmanage.org/\" rel=\"noreferrer\">JManage command line\nfunctionality</a> - (downside is\nthat it requires a running JManage\nserver to proxy commands through)</li>\n</ol>\n\n<p><strong>Groovy JMX Example:</strong></p>\n\n<pre><code>import java.lang.management.*\nimport javax.management.ObjectName\nimport javax.management.remote.JMXConnectorFactory as JmxFactory\nimport javax.management.remote.JMXServiceURL as JmxUrl\n\ndef serverUrl = 'service:jmx:rmi:///jndi/rmi://localhost:9003/jmxrmi'\nString beanName = \"com.webwars.gameplatform.data:type=udmdataloadsystem,id=0\"\ndef server = JmxFactory.connect(new JmxUrl(serverUrl)).MBeanServerConnection\ndef dataSystem = new GroovyMBean(server, beanName)\n\nprintln \"Connected to:\\n$dataSystem\\n\"\n\nprintln \"Executing jmxForceRefresh()\"\ndataSystem.jmxForceRefresh();\n</code></pre>\n\n<p><strong>cmdline-jmxclient example:</strong></p>\n\n<p>If you have an </p>\n\n<ul>\n<li>MBean: com.company.data:type=datasystem,id=0</li>\n</ul>\n\n<p>With an Operation called:</p>\n\n<ul>\n<li>jmxForceRefresh()</li>\n</ul>\n\n<p>Then you can write a simple bash script (assuming you download <a href=\"http://crawler.archive.org/cmdline-jmxclient/cmdline-jmxclient-0.10.3.jar\" rel=\"noreferrer\">cmdline-jmxclient-0.10.3.jar</a> and put in the same directory as your script):</p>\n\n<pre><code>#!/bin/bash\n\ncmdLineJMXJar=./cmdline-jmxclient-0.10.3.jar\nuser=yourUser\npassword=yourPassword\njmxHost=localhost\nport=9003\n\n#No User and password so pass '-'\necho \"Available Operations for com.company.data:type=datasystem,id=0\"\njava -jar ${cmdLineJMXJar} ${user}:${password} ${jmxHost}:${port} com.company.data:type=datasystem,id=0\n\necho \"Executing XML update...\"\njava -jar ${cmdLineJMXJar} - ${jmxHost}:${port} com.company.data:type=datasystem,id=0 jmxForceRefresh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71815,"reputation":2507,"user_id":207604,"accept_rate":50,"display_name":"Roland Hu&#223;"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1373834598,"creation_date":1258620961,"answer_id":1761851,"question_id":1751130,"body_markdown":"You might want also to have a look at [jmx4perl][1]. It provides java-less access to a remote Java EE Server&#39;s MBeans. However, a small agent servlet needs to be installed on the target platform, which provides a restful JMX Access via HTTP with a JSON payload. (Version 0.50 will add an agentless mode by implementing a JSR-160 proxy).\r\n\r\nAdvantages are quick startup times compared to launching a local java JVM and ease of use. jmx4perl comes with a full set of Perl modules which can be easily used in your own scripts:\r\n\r\n    use JMX::Jmx4Perl;\r\n    use JMX::Jmx4Perl::Alias;   # Import certains aliases for MBeans\r\n\r\n    print &quot;Memory Used: &quot;,\r\n          JMX::Jmx4Perl\r\n              -&gt;new(url =&gt; &quot;http://localhost:8080/j4p&quot;)\r\n              -&gt;get_attribute(MEMORY_HEAP_USED);\r\n\r\nYou can also use alias for common MBean/Attribute/Operation combos (e.g. for most MXBeans). \r\nFor additional features (Nagios-Plugin, XPath-like access to complex attribute types, ...), please refer to the documentation of jmx4perl. \r\n\r\n  [1]: http://www.jmx4perl.org","title":"Calling JMX MBean method from a shell script","body":"<p>You might want also to have a look at <a href=\"http://www.jmx4perl.org\" rel=\"nofollow noreferrer\">jmx4perl</a>. It provides java-less access to a remote Java EE Server's MBeans. However, a small agent servlet needs to be installed on the target platform, which provides a restful JMX Access via HTTP with a JSON payload. (Version 0.50 will add an agentless mode by implementing a JSR-160 proxy).</p>\n\n<p>Advantages are quick startup times compared to launching a local java JVM and ease of use. jmx4perl comes with a full set of Perl modules which can be easily used in your own scripts:</p>\n\n<pre><code>use JMX::Jmx4Perl;\nuse JMX::Jmx4Perl::Alias;   # Import certains aliases for MBeans\n\nprint \"Memory Used: \",\n      JMX::Jmx4Perl\n          -&gt;new(url =&gt; \"http://localhost:8080/j4p\")\n          -&gt;get_attribute(MEMORY_HEAP_USED);\n</code></pre>\n\n<p>You can also use alias for common MBean/Attribute/Operation combos (e.g. for most MXBeans). \nFor additional features (Nagios-Plugin, XPath-like access to complex attribute types, ...), please refer to the documentation of jmx4perl. </p>\n"},{"comments":[{"owner":{"account_id":452230,"reputation":2102,"user_id":848547,"accept_rate":75,"display_name":"sivann"},"score":0,"creation_date":1500622054,"post_id":4073361,"comment_id":77428662,"body_markdown":"This is great, and very fast. About 0.3 sec to return a value vs 3 seconds for jmxterm","body":"This is great, and very fast. About 0.3 sec to return a value vs 3 seconds for jmxterm"}],"tags":[],"owner":{"account_id":32541,"reputation":485,"user_id":90387,"display_name":"Austin Mills"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1288648064,"creation_date":1288648064,"answer_id":4073361,"question_id":1751130,"body_markdown":"The [Syabru Nagios JMX plugin][1] is meant to be used from Nagios, but doesn&#39;t require Nagios and is very convenient for command-line use: \r\n\r\n    ~$ ./check_jmx -U service:jmx:rmi:///jndi/rmi://localhost:1099/JMXConnector --username myuser --password mypass -O java.lang:type=Memory -A HeapMemoryUsage -K used \r\n    JMX OK - HeapMemoryUsage.used = 445012360 | &#39;HeapMemoryUsage used&#39;=445012360;;;;\r\n\r\n\r\n\r\n  [1]: http://snippets.syabru.ch/nagios-jmx-plugin/\r\n","title":"Calling JMX MBean method from a shell script","body":"<p>The <a href=\"http://snippets.syabru.ch/nagios-jmx-plugin/\" rel=\"noreferrer\">Syabru Nagios JMX plugin</a> is meant to be used from Nagios, but doesn't require Nagios and is very convenient for command-line use: </p>\n\n<pre><code>~$ ./check_jmx -U service:jmx:rmi:///jndi/rmi://localhost:1099/JMXConnector --username myuser --password mypass -O java.lang:type=Memory -A HeapMemoryUsage -K used \nJMX OK - HeapMemoryUsage.used = 445012360 | 'HeapMemoryUsage used'=445012360;;;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1692258,"reputation":26916,"user_id":1554386,"accept_rate":71,"display_name":"Alastair McCormack"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1500042585,"creation_date":1354229640,"answer_id":13636269,"question_id":1751130,"body_markdown":"I&#39;ve developed jmxfuse which exposes JMX Mbeans as a Linux FUSE filesystem with similar functionality as the /proc fs. It relies on [Jolokia](https://jolokia.org/) as the bridge to JMX. Attributes and operations are exposed for reading and writing.\r\n\r\nhttp://code.google.com/p/jmxfuse/\r\n\r\nFor example, to read an attribute:\r\n\r\n    me@oddjob:jmx$ cd log4j/root/attributes\r\n    me@oddjob:jmx$ cat priority\r\n\r\nto write an attribute:\r\n\r\n    me@oddjob:jmx$ echo &quot;WARN&quot; &gt; priority\r\n\r\nto invoke an operation:\r\n\r\n    me@oddjob:jmx$ cd Catalina/none/none/WebModule/localhost/helloworld/operations/addParameter\r\n    me@oddjob:jmx$ echo &quot;myParam myValue&quot; &gt; invoke","title":"Calling JMX MBean method from a shell script","body":"<p>I've developed jmxfuse which exposes JMX Mbeans as a Linux FUSE filesystem with similar functionality as the /proc fs. It relies on <a href=\"https://jolokia.org/\" rel=\"nofollow noreferrer\">Jolokia</a> as the bridge to JMX. Attributes and operations are exposed for reading and writing.</p>\n\n<p><a href=\"http://code.google.com/p/jmxfuse/\" rel=\"nofollow noreferrer\">http://code.google.com/p/jmxfuse/</a></p>\n\n<p>For example, to read an attribute:</p>\n\n<pre><code>me@oddjob:jmx$ cd log4j/root/attributes\nme@oddjob:jmx$ cat priority\n</code></pre>\n\n<p>to write an attribute:</p>\n\n<pre><code>me@oddjob:jmx$ echo \"WARN\" &gt; priority\n</code></pre>\n\n<p>to invoke an operation:</p>\n\n<pre><code>me@oddjob:jmx$ cd Catalina/none/none/WebModule/localhost/helloworld/operations/addParameter\nme@oddjob:jmx$ echo \"myParam myValue\" &gt; invoke\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4066589,"reputation":2207,"user_id":5214911,"accept_rate":95,"display_name":"tom"},"score":1,"creation_date":1531914858,"post_id":14964290,"comment_id":89773372,"body_markdown":"I implemented it this way from Java using a `HttpURLConnection` and I can confirm that it works. (btw. `submit=Invoke` is unnecessary)","body":"I implemented it this way from Java using a <code>HttpURLConnection</code> and I can confirm that it works. (btw. <code>submit=Invoke</code> is unnecessary)"},{"owner":{"account_id":425944,"reputation":607,"user_id":806867,"accept_rate":100,"display_name":"Psychozoic"},"score":0,"creation_date":1566318059,"post_id":14964290,"comment_id":101615764,"body_markdown":"is it possible to describe how it works? I mean, by default jmx uses `rmi`, and there i see `http`. Does it mean that server has to be configured to support jmx requests over `http`?","body":"is it possible to describe how it works? I mean, by default jmx uses <code>rmi</code>, and there i see <code>http</code>. Does it mean that server has to be configured to support jmx requests over <code>http</code>?"}],"tags":[],"owner":{"account_id":2387596,"reputation":51,"user_id":2088235,"display_name":"BBay"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1361386642,"creation_date":1361296896,"answer_id":14964290,"question_id":1751130,"body_markdown":"A little risky, but you could run a curl POST command with the values from the form from the JMX console, its URL and http authentication (if required):\r\n\r\n    curl -s -X POST --user &#39;myuser:mypass&#39;\r\n      --data &quot;action=invokeOp&amp;name=App:service=ThisServiceOp&amp;methodIndex=3&amp;arg0=value1&amp;arg1=value1&amp;submit=Invoke&quot;\r\n      http://yourhost.domain.com/jmx-console/HtmlAdaptor\r\n\r\nBeware: the method index may change with changes to the software. And the implementation of the web form could change.\r\n\r\nThe above is based on source of the JMX service page for the operation you want to perform:\r\n\r\n    http://yourhost.domain.com/jmx-console/HtmlAdaptor?action=inspectMBean&amp;name=YourJMXServiceName\r\n\r\nSource of the form:\r\n\r\n    form method=&quot;post&quot; action=&quot;HtmlAdaptor&quot;&gt;\r\n       &lt;input type=&quot;hidden&quot; name=&quot;action&quot; value=&quot;invokeOp&quot;&gt;\r\n       &lt;input type=&quot;hidden&quot; name=&quot;name&quot; value=&quot;App:service=ThisServiceOp&quot;&gt;\r\n       &lt;input type=&quot;hidden&quot; name=&quot;methodIndex&quot; value=&quot;3&quot;&gt;\r\n       &lt;hr align=&#39;left&#39; width=&#39;80&#39;&gt;\r\n       &lt;h4&gt;void ThisOperation()&lt;/h4&gt;\r\n       &lt;p&gt;Operation exposed for management&lt;/p&gt;\r\n    \t&lt;table cellspacing=&quot;2&quot; cellpadding=&quot;2&quot; border=&quot;1&quot;&gt;\r\n    \t\t&lt;tr class=&quot;OperationHeader&quot;&gt;\r\n    \t\t\t&lt;th&gt;Param&lt;/th&gt;\r\n    \t\t\t&lt;th&gt;ParamType&lt;/th&gt;\r\n    \t\t\t&lt;th&gt;ParamValue&lt;/th&gt;\r\n    \t\t\t&lt;th&gt;ParamDescription&lt;/th&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t\t&lt;tr&gt;\r\n    \t\t\t&lt;td&gt;p1&lt;/td&gt;\r\n    \t\t   &lt;td&gt;java.lang.String&lt;/td&gt;\r\n             &lt;td&gt; \r\n                &lt;input type=&quot;text&quot; name=&quot;arg0&quot;&gt;\r\n             &lt;/td&gt;\r\n             &lt;td&gt;(no description)&lt;/td&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t\t&lt;tr&gt;\r\n    \t\t\t&lt;td&gt;p2&lt;/td&gt;\r\n    \t\t   &lt;td&gt;arg1Type&lt;/td&gt;\r\n             &lt;td&gt; \r\n                &lt;input type=&quot;text&quot; name=&quot;arg1&quot;&gt;\r\n             &lt;/td&gt;\r\n             &lt;td&gt;(no description)&lt;/td&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t&lt;/table&gt;\r\n    \t&lt;input type=&quot;submit&quot; value=&quot;Invoke&quot;&gt;\r\n    &lt;/form&gt;\r\n","title":"Calling JMX MBean method from a shell script","body":"<p>A little risky, but you could run a curl POST command with the values from the form from the JMX console, its URL and http authentication (if required):</p>\n\n<pre><code>curl -s -X POST --user 'myuser:mypass'\n  --data \"action=invokeOp&amp;name=App:service=ThisServiceOp&amp;methodIndex=3&amp;arg0=value1&amp;arg1=value1&amp;submit=Invoke\"\n  http://yourhost.domain.com/jmx-console/HtmlAdaptor\n</code></pre>\n\n<p>Beware: the method index may change with changes to the software. And the implementation of the web form could change.</p>\n\n<p>The above is based on source of the JMX service page for the operation you want to perform:</p>\n\n<pre><code>http://yourhost.domain.com/jmx-console/HtmlAdaptor?action=inspectMBean&amp;name=YourJMXServiceName\n</code></pre>\n\n<p>Source of the form:</p>\n\n<pre><code>form method=\"post\" action=\"HtmlAdaptor\"&gt;\n   &lt;input type=\"hidden\" name=\"action\" value=\"invokeOp\"&gt;\n   &lt;input type=\"hidden\" name=\"name\" value=\"App:service=ThisServiceOp\"&gt;\n   &lt;input type=\"hidden\" name=\"methodIndex\" value=\"3\"&gt;\n   &lt;hr align='left' width='80'&gt;\n   &lt;h4&gt;void ThisOperation()&lt;/h4&gt;\n   &lt;p&gt;Operation exposed for management&lt;/p&gt;\n    &lt;table cellspacing=\"2\" cellpadding=\"2\" border=\"1\"&gt;\n        &lt;tr class=\"OperationHeader\"&gt;\n            &lt;th&gt;Param&lt;/th&gt;\n            &lt;th&gt;ParamType&lt;/th&gt;\n            &lt;th&gt;ParamValue&lt;/th&gt;\n            &lt;th&gt;ParamDescription&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;p1&lt;/td&gt;\n           &lt;td&gt;java.lang.String&lt;/td&gt;\n         &lt;td&gt; \n            &lt;input type=\"text\" name=\"arg0\"&gt;\n         &lt;/td&gt;\n         &lt;td&gt;(no description)&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;p2&lt;/td&gt;\n           &lt;td&gt;arg1Type&lt;/td&gt;\n         &lt;td&gt; \n            &lt;input type=\"text\" name=\"arg1\"&gt;\n         &lt;/td&gt;\n         &lt;td&gt;(no description)&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;input type=\"submit\" value=\"Invoke\"&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1783732,"reputation":11628,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1548788206,"creation_date":1408532106,"answer_id":25402898,"question_id":1751130,"body_markdown":"@Dougnukem answer helped me a lot. I have taken the Groovy approach (using groovy 2.3.3).\r\n\r\nI did some changes on Dougnukem code.\r\nThis will work with Java 7 and will print two attributes to stdout every 10 sec.\r\n\r\n            package com.my.company.jmx\r\n            import groovy.util.GroovyMBean;\r\n            import javax.management.remote.JMXServiceURL\r\n            import javax.management.remote.JMXConnectorFactory\r\n            import java.lang.management.*\r\n            \r\n                class Monitor {\r\n                \tstatic main(args) {\r\n                \t\tdef serverUrl = &#39;service:jmx:rmi:///jndi/rmi://localhost:5019/jmxrmi&#39;\r\n                \t\tString beanName = &quot;Catalina:type=DataSource,class=javax.sql.DataSource,name=\\&quot;jdbc/CommonDB\\&quot;&quot;\r\n                \t\tprintln  &quot;numIdle,numActive&quot;\r\n                \t\t\r\n                \t\twhile(1){\r\n                \t\t\tdef server = JMXConnectorFactory.connect(new JMXServiceURL(serverUrl))\r\n                           //make sure to reconnect in case the jvm was restrated \r\n                \t\t\tserver.connect()\r\n                \t\t\tGroovyMBean mbean = new GroovyMBean(server.MBeanServerConnection, beanName)\r\n                \t\t\tprintln  &quot;${mbean.numIdle},${mbean.numActive}&quot;\r\n                \t\t\tserver.close()\r\n                \t\t\tsleep(10000)\r\n                \t\t}\r\n                \t\t\r\n                \t}\r\n                }\r\n\r\nCompile this code into a jar using maven-compiler-plugin so you will not require groovy installation only the groovy-all.jar .\r\nBelow is the relevant plugin definition and dependency.\r\n\r\n \r\n\r\n       &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;compilerId&gt;groovy-eclipse-compiler&lt;/compilerId&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;groovy-eclipse-compiler&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;2.8.0-01&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;groovy-eclipse-batch&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;2.3.4-01&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\nWrap it with a bat or a shell and it will print the data to stdout.","title":"Calling JMX MBean method from a shell script","body":"<p>@Dougnukem answer helped me a lot. I have taken the Groovy approach (using groovy 2.3.3).</p>\n\n<p>I did some changes on Dougnukem code.\nThis will work with Java 7 and will print two attributes to stdout every 10 sec.</p>\n\n<pre><code>        package com.my.company.jmx\n        import groovy.util.GroovyMBean;\n        import javax.management.remote.JMXServiceURL\n        import javax.management.remote.JMXConnectorFactory\n        import java.lang.management.*\n\n            class Monitor {\n                static main(args) {\n                    def serverUrl = 'service:jmx:rmi:///jndi/rmi://localhost:5019/jmxrmi'\n                    String beanName = \"Catalina:type=DataSource,class=javax.sql.DataSource,name=\\\"jdbc/CommonDB\\\"\"\n                    println  \"numIdle,numActive\"\n\n                    while(1){\n                        def server = JMXConnectorFactory.connect(new JMXServiceURL(serverUrl))\n                       //make sure to reconnect in case the jvm was restrated \n                        server.connect()\n                        GroovyMBean mbean = new GroovyMBean(server.MBeanServerConnection, beanName)\n                        println  \"${mbean.numIdle},${mbean.numActive}\"\n                        server.close()\n                        sleep(10000)\n                    }\n\n                }\n            }\n</code></pre>\n\n<p>Compile this code into a jar using maven-compiler-plugin so you will not require groovy installation only the groovy-all.jar .\nBelow is the relevant plugin definition and dependency.</p>\n\n<pre><code>   &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;compilerId&gt;groovy-eclipse-compiler&lt;/compilerId&gt;\n                    &lt;source&gt;1.7&lt;/source&gt;\n                    &lt;target&gt;1.7&lt;/target&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                        &lt;artifactId&gt;groovy-eclipse-compiler&lt;/artifactId&gt;\n                        &lt;version&gt;2.8.0-01&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                        &lt;artifactId&gt;groovy-eclipse-batch&lt;/artifactId&gt;\n                        &lt;version&gt;2.3.4-01&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n            &lt;version&gt;2.4.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>Wrap it with a bat or a shell and it will print the data to stdout.</p>\n"},{"tags":[],"owner":{"account_id":465839,"reputation":6552,"user_id":870207,"accept_rate":0,"display_name":"teknopaul"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1601448078,"creation_date":1513605242,"answer_id":47869966,"question_id":1751130,"body_markdown":"Potentially its easiest to write this in Java\r\n\r\n    import javax.management.*;\r\n    import javax.management.remote.*;\r\n    \r\n    public class JmxInvoke {\r\n    \r\n        public static void main(String... args) throws Exception {\r\n            JMXConnectorFactory.connect(new JMXServiceURL(args[0]))\r\n                .getMBeanServerConnection().invoke(new ObjectName(args[1]), args[2], new Object[]{}, new String[]{});    \r\n        }\r\n    \r\n    }\r\n\r\nThis would compile to a single .class and needs no dependencies in server or any complicated maven packaging.\r\n\r\ncall it with\r\n\r\n    javac JmxInvoke.java\r\n    java -cp . JmxInvoke [url] [beanName] [method]\r\n\r\n","title":"Calling JMX MBean method from a shell script","body":"<p>Potentially its easiest to write this in Java</p>\n<pre><code>import javax.management.*;\nimport javax.management.remote.*;\n\npublic class JmxInvoke {\n\n    public static void main(String... args) throws Exception {\n        JMXConnectorFactory.connect(new JMXServiceURL(args[0]))\n            .getMBeanServerConnection().invoke(new ObjectName(args[1]), args[2], new Object[]{}, new String[]{});    \n    }\n\n}\n</code></pre>\n<p>This would compile to a single .class and needs no dependencies in server or any complicated maven packaging.</p>\n<p>call it with</p>\n<pre><code>javac JmxInvoke.java\njava -cp . JmxInvoke [url] [beanName] [method]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8779511,"reputation":6414,"user_id":6563567,"accept_rate":100,"display_name":"ns15"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669904092,"creation_date":1669904092,"answer_id":74643275,"question_id":1751130,"body_markdown":"Below steps describe using [jmxterm][1] from command line.\r\n\r\nFirst, download jmxterm JAR file\r\n\r\n\r\n    omega@omega-master-0:/opt/omega/data/backup$ wget https://github.com/jiaqi/jmxterm/releases/download/v1.0.4/jmxterm-1.0.4-uber.jar\r\n\r\nRun jmxterm \r\n\r\n    omega@omega-master-0:/opt/omega/data/backup$ java -jar jmxterm-1.0.4-uber.jar\r\n\r\nOpen a connection\r\n\r\n    $&gt;open localhost:9999\r\n    #Connection to localhost:9999 is opened\r\n\r\nList all JMX beans\r\n\r\n    $&gt;beans\r\n    #domain = JMImplementation:\r\n    JMImplementation:type=MBeanServerDelegate\r\n    ...\r\n    java.lang:type=Memory\r\n    java.lang:type=OperatingSystem\r\n    java.lang:type=Runtime\r\n    ...\r\n\r\nSee the stats for a bean by running command like below.\r\n\r\n    $&gt;get -b java.lang:type=Memory *\r\n    #mbean = java.lang:type=Memory:\r\n    Verbose = false;\r\n    \r\n    ObjectPendingFinalizationCount = 0;\r\n    \r\n    HeapMemoryUsage = { \r\n      committed = 4143972352;\r\n      init = 526385152;\r\n      max = 4143972352;\r\n      used = 2113527712;\r\n     };\r\n    \r\n    NonHeapMemoryUsage = { \r\n      committed = 371900416;\r\n      init = 2555904;\r\n      max = -1;\r\n      used = 320582904;\r\n     };\r\n    \r\n    ObjectName = java.lang:type=Memory;\r\n\r\n\r\n  [1]: https://github.com/jiaqi/jmxterm","title":"Calling JMX MBean method from a shell script","body":"<p>Below steps describe using <a href=\"https://github.com/jiaqi/jmxterm\" rel=\"nofollow noreferrer\">jmxterm</a> from command line.</p>\n<p>First, download jmxterm JAR file</p>\n<pre><code>omega@omega-master-0:/opt/omega/data/backup$ wget https://github.com/jiaqi/jmxterm/releases/download/v1.0.4/jmxterm-1.0.4-uber.jar\n</code></pre>\n<p>Run jmxterm</p>\n<pre><code>omega@omega-master-0:/opt/omega/data/backup$ java -jar jmxterm-1.0.4-uber.jar\n</code></pre>\n<p>Open a connection</p>\n<pre><code>$&gt;open localhost:9999\n#Connection to localhost:9999 is opened\n</code></pre>\n<p>List all JMX beans</p>\n<pre><code>$&gt;beans\n#domain = JMImplementation:\nJMImplementation:type=MBeanServerDelegate\n...\njava.lang:type=Memory\njava.lang:type=OperatingSystem\njava.lang:type=Runtime\n...\n</code></pre>\n<p>See the stats for a bean by running command like below.</p>\n<pre><code>$&gt;get -b java.lang:type=Memory *\n#mbean = java.lang:type=Memory:\nVerbose = false;\n\nObjectPendingFinalizationCount = 0;\n\nHeapMemoryUsage = { \n  committed = 4143972352;\n  init = 526385152;\n  max = 4143972352;\n  used = 2113527712;\n };\n\nNonHeapMemoryUsage = { \n  committed = 371900416;\n  init = 2555904;\n  max = -1;\n  used = 320582904;\n };\n\nObjectName = java.lang:type=Memory;\n</code></pre>\n"}],"owner":{"account_id":34674,"reputation":14769,"user_id":98050,"accept_rate":57,"display_name":"Dougnukem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156254,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":1751426,"answer_count":10,"score":112,"last_activity_date":1670940795,"creation_date":1258485626,"question_id":1751130,"body_markdown":"Are there any libraries that would allow me to call a JMX MBean method from a shell script. We expose some operations/admin commands through JMX, and we could have our admins use JConsole, or VisualVM, but some tasks are better left to automation. In that automation we&#39;d like to be able to call a JMX MBean method on our running server, preferably from a shell script.","title":"Calling JMX MBean method from a shell script","body":"<p>Are there any libraries that would allow me to call a JMX MBean method from a shell script. We expose some operations/admin commands through JMX, and we could have our admins use JConsole, or VisualVM, but some tasks are better left to automation. In that automation we'd like to be able to call a JMX MBean method on our running server, preferably from a shell script.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":1,"creation_date":1313767075,"post_id":7123555,"comment_id":8536963,"body_markdown":"@Gweebz, of course he could have tried both, but that&#39;s not the point. He&#39;s asking which is more appropriate.","body":"@Gweebz, of course he could have tried both, but that&#39;s not the point. He&#39;s asking which is more appropriate."}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1313766372,"creation_date":1313766372,"answer_id":7123572,"question_id":7123555,"body_markdown":"`assertNotNull` asserts that the object is not null.  If it is null the test fails, so you want that.","title":"AssertNull should be used or AssertNotNull","body":"<p><code>assertNotNull</code> asserts that the object is not null.  If it is null the test fails, so you want that.</p>\n"},{"comments":[{"owner":{"account_id":125140,"reputation":26301,"user_id":320724,"accept_rate":80,"display_name":"Bohn"},"score":28,"creation_date":1313766517,"post_id":7123581,"comment_id":8536803,"body_markdown":"&quot;Assert means must be.&quot;  good thing. now they make sense. thanks","body":"&quot;Assert means must be.&quot;  good thing. now they make sense. thanks"}],"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"comment_count":1,"down_vote_count":0,"up_vote_count":171,"is_accepted":true,"score":171,"last_activity_date":1478768248,"creation_date":1313766396,"answer_id":7123581,"question_id":7123555,"body_markdown":"Use `assertNotNull(obj)`. `assert` means `must be`. ","title":"AssertNull should be used or AssertNotNull","body":"<p>Use <code>assertNotNull(obj)</code>. <code>assert</code> means <code>must be</code>. </p>\n"},{"tags":[],"owner":{"account_id":7287089,"reputation":291,"user_id":5554849,"display_name":"punya"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1570941311,"creation_date":1447999985,"answer_id":33820122,"question_id":7123555,"body_markdown":"The `assertNotNull()` method means &quot;a passed parameter must not be `null`&quot;: if it is null then the test case fails.  \r\nThe `assertNull()` method means &quot;a passed parameter must be `null`&quot;: if it is not null then the test case fails.  \r\n\r\n    String str1 = null;\r\n    String str2 = &quot;hello&quot;;              \r\n\r\n    // Success.\r\n    assertNotNull(str2);\r\n\r\n    // Fail.\r\n    assertNotNull(str1);\r\n\r\n    // Success.\r\n    assertNull(str1);\r\n\r\n    // Fail.\r\n    assertNull(str2);","title":"AssertNull should be used or AssertNotNull","body":"<p>The <code>assertNotNull()</code> method means \"a passed parameter must not be <code>null</code>\": if it is null then the test case fails.<br>\nThe <code>assertNull()</code> method means \"a passed parameter must be <code>null</code>\": if it is not null then the test case fails.  </p>\n\n<pre><code>String str1 = null;\nString str2 = \"hello\";              \n\n// Success.\nassertNotNull(str2);\n\n// Fail.\nassertNotNull(str1);\n\n// Success.\nassertNull(str1);\n\n// Fail.\nassertNull(str2);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2704150,"reputation":1168,"user_id":2334114,"display_name":"ShadowGames"},"score":3,"creation_date":1641302272,"post_id":56271859,"comment_id":124765363,"body_markdown":"What needs to be imported in order to call that?","body":"What needs to be imported in order to call that?"}],"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1558602845,"creation_date":1558602845,"answer_id":56271859,"question_id":7123555,"body_markdown":"I just want to add that if you want to write special text if It null than you make it like that\r\n\r\n      Assert.assertNotNull(&quot;The object you enter return null&quot;, str1)\r\n\r\n","title":"AssertNull should be used or AssertNotNull","body":"<p>I just want to add that if you want to write special text if It null than you make it like that</p>\n\n<pre><code>  Assert.assertNotNull(\"The object you enter return null\", str1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3910227,"reputation":174,"user_id":3235791,"display_name":"Fred Danna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670940740,"creation_date":1670940740,"answer_id":74786190,"question_id":7123555,"body_markdown":"In JUnit 4, IDEA (UE 2020) suggests using `assertThat(..., notNullValue());` instead of `Assert.assertNotNull(...)`.\r\n\r\nFor instance:\r\n\r\n1. [IDEA warning][1]\r\n1. [IDEA suggestions][2]\r\n1. [IDEA fix][3]\r\n\r\n  [1]: https://i.stack.imgur.com/0QzkU.png\r\n  [2]: https://i.stack.imgur.com/jeOYe.png\r\n  [3]: https://i.stack.imgur.com/8XMXf.png","title":"AssertNull should be used or AssertNotNull","body":"<p>In JUnit 4, IDEA (UE 2020) suggests using <code>assertThat(..., notNullValue());</code> instead of <code>Assert.assertNotNull(...)</code>.</p>\n<p>For instance:</p>\n<ol>\n<li><a href=\"https://i.stack.imgur.com/0QzkU.png\" rel=\"nofollow noreferrer\">IDEA warning</a></li>\n<li><a href=\"https://i.stack.imgur.com/jeOYe.png\" rel=\"nofollow noreferrer\">IDEA suggestions</a></li>\n<li><a href=\"https://i.stack.imgur.com/8XMXf.png\" rel=\"nofollow noreferrer\">IDEA fix</a></li>\n</ol>\n"}],"owner":{"account_id":125140,"reputation":26301,"user_id":320724,"accept_rate":80,"display_name":"Bohn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349935,"favorite_count":0,"down_vote_count":2,"up_vote_count":87,"accepted_answer_id":7123581,"answer_count":5,"score":85,"last_activity_date":1670940740,"creation_date":1313766288,"question_id":7123555,"body_markdown":"This is a pretty dumb question but my first time with unit testing so:\r\nlets say I have an object variable like obj and I want my unit test to Fail if this obj is Null.\r\nso for assertions, should I say AssertNull or AssertNotNull ? I get confused how they are named.","title":"AssertNull should be used or AssertNotNull","body":"<p>This is a pretty dumb question but my first time with unit testing so:\nlets say I have an object variable like obj and I want my unit test to Fail if this obj is Null.\nso for assertions, should I say AssertNull or AssertNotNull ? I get confused how they are named.</p>\n"},{"tags":["java","android","kotlin","double","tostring"],"answers":[{"tags":[],"owner":{"account_id":8211460,"reputation":2451,"user_id":6179431,"display_name":"Sandi"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1637556272,"creation_date":1567421387,"answer_id":57755643,"question_id":57755536,"body_markdown":"You can use `.toBigDecimal().toPlainString()` on your `Double`. For example:\r\n\r\n```kotlin\r\nprintln(PI.toBigDecimal().toPlainString())\r\n```\r\n\r\nprints out:\r\n\r\n```\r\n3.141592653589793\r\n```","title":"Kotlin - How to convert Double to String in Kotlin without scientific notation?","body":"<p>You can use <code>.toBigDecimal().toPlainString()</code> on your <code>Double</code>. For example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>println(PI.toBigDecimal().toPlainString())\n</code></pre>\n<p>prints out:</p>\n<pre><code>3.141592653589793\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10471288,"reputation":1263,"user_id":7719064,"display_name":"Akshay Raiyani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604904733,"creation_date":1567421821,"answer_id":57755741,"question_id":57755536,"body_markdown":"You can try with this\r\n\r\n      val dou = 123456789.123456789\r\n      val df = DecimalFormat(&quot;0&quot;, DecimalFormatSymbols.getInstance(Locale.ENGLISH))\r\n      df.maximumFractionDigits = 340 // 340 = DecimalFormat.DOUBLE_FRACTION_DIGITS\r\n      val stringValue = df.format(dou)","title":"Kotlin - How to convert Double to String in Kotlin without scientific notation?","body":"<p>You can try with this</p>\n<pre><code>  val dou = 123456789.123456789\n  val df = DecimalFormat(&quot;0&quot;, DecimalFormatSymbols.getInstance(Locale.ENGLISH))\n  df.maximumFractionDigits = 340 // 340 = DecimalFormat.DOUBLE_FRACTION_DIGITS\n  val stringValue = df.format(dou)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2255286,"reputation":316,"user_id":1986600,"display_name":"Krin-San"},"score":0,"creation_date":1627462225,"post_id":57758224,"comment_id":121160291,"body_markdown":"Good thing about this solution is that it works in kotlin multiplatform code.","body":"Good thing about this solution is that it works in kotlin multiplatform code."}],"tags":[],"owner":{"account_id":15088793,"reputation":521,"user_id":10889271,"display_name":"Joozd"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567432652,"creation_date":1567432652,"answer_id":57758224,"question_id":57755536,"body_markdown":"```&quot;${x.toLong()}${(x%1).toString().drop(1)}&quot;.take(16)```\r\n\r\nwill do the trick. Didn&#39;t find a cleaner method but I didn&#39;t look that hard as I found something that works :)\r\n\r\nAlso, a double will hold only 15-16 digits, so you will end up getting pretty random digits at the end if you make the string larger.\r\n\r\nAlso, you can always make a nice extension function of it!\r\n\r\n\r\n```fun Double.toMyString(): String = &quot;${this.toLong()}${(this%1).toString().drop(1)}&quot;.take(16)```\r\n\r\nthen just \r\n```someLongNumber.toMyString()``` to keep your code readable!\r\n","title":"Kotlin - How to convert Double to String in Kotlin without scientific notation?","body":"<p><code>\"${x.toLong()}${(x%1).toString().drop(1)}\".take(16)</code></p>\n\n<p>will do the trick. Didn't find a cleaner method but I didn't look that hard as I found something that works :)</p>\n\n<p>Also, a double will hold only 15-16 digits, so you will end up getting pretty random digits at the end if you make the string larger.</p>\n\n<p>Also, you can always make a nice extension function of it!</p>\n\n<p><code>fun Double.toMyString(): String = \"${this.toLong()}${(this%1).toString().drop(1)}\".take(16)</code></p>\n\n<p>then just \n<code>someLongNumber.toMyString()</code> to keep your code readable!</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567433106,"creation_date":1567433106,"answer_id":57758335,"question_id":57755536,"body_markdown":"    new BigDecimal(&quot;123456789.123456789&quot;).toPlainString();\r\n\r\nThis needs a bit of explanation. Floating point, `double`, has no notion of the number of decimals used; it always is an approximation, a sum of powers of 2.\r\n`BigDecimal` is fixed point. Hence a constructor with a String must be used to have specify the precision.\r\n\r\nAnd `toPlainString` avoids the scientific E-Notation.","title":"Kotlin - How to convert Double to String in Kotlin without scientific notation?","body":"<pre><code>new BigDecimal(\"123456789.123456789\").toPlainString();\n</code></pre>\n\n<p>This needs a bit of explanation. Floating point, <code>double</code>, has no notion of the number of decimals used; it always is an approximation, a sum of powers of 2.\n<code>BigDecimal</code> is fixed point. Hence a constructor with a String must be used to have specify the precision.</p>\n\n<p>And <code>toPlainString</code> avoids the scientific E-Notation.</p>\n"},{"tags":[],"owner":{"account_id":14636108,"reputation":1436,"user_id":10570201,"display_name":"nhcodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670940299,"creation_date":1669717642,"answer_id":74612580,"question_id":57755536,"body_markdown":"I tried a lot of different approaches, but all of them had flaws. In the end I came up with this:\r\n\r\n```\r\nfun Double.toDecimalNotationString() =\r\n    String.format(&quot;%.99f&quot;, this) //convert number to string with 99 decimal places\r\n        .trimEnd(&#39;0&#39;) //remove trailing zeroes\r\n```\r\n\r\nInput:\r\n```\r\nval numbers = listOf(12300.0, 123.0, 123.123, 0.00000000123, 0.000000000000000000123, 123.000000000123)\r\nnumbers.forEach { println(it.toDecimalNotationString()) }\r\n```\r\n\r\nOutput:\r\n```\r\n12300.\r\n123.\r\n123.123\r\n0.00000000123\r\n0.000000000000000000123\r\n123.000000000123\r\n```","title":"Kotlin - How to convert Double to String in Kotlin without scientific notation?","body":"<p>I tried a lot of different approaches, but all of them had flaws. In the end I came up with this:</p>\n<pre><code>fun Double.toDecimalNotationString() =\n    String.format(&quot;%.99f&quot;, this) //convert number to string with 99 decimal places\n        .trimEnd('0') //remove trailing zeroes\n</code></pre>\n<p>Input:</p>\n<pre><code>val numbers = listOf(12300.0, 123.0, 123.123, 0.00000000123, 0.000000000000000000123, 123.000000000123)\nnumbers.forEach { println(it.toDecimalNotationString()) }\n</code></pre>\n<p>Output:</p>\n<pre><code>12300.\n123.\n123.123\n0.00000000123\n0.000000000000000000123\n123.000000000123\n</code></pre>\n"}],"owner":{"account_id":15287379,"reputation":499,"user_id":11030016,"display_name":"Damian JK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20405,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":5,"score":17,"last_activity_date":1670940299,"creation_date":1567420882,"question_id":57755536,"body_markdown":"I want to set in text view full value of Double without scientific notation (Exponential), what is best approach?\r\n\r\nI tried convert Double value using method toString() on it, but I still have scientific value.\r\n\r\n```kotlin\r\ntvDepth.text=depth.toString()\r\n```\r\n\r\n\r\nI entered value 123456789.123456789 and expect same value in textView, but instead I have:\r\n1.23456789123456789E8.\r\n\r\nI don&#39;t know how many decimal places I need, so I couldn&#39;t format it before set it in text view. I read that in Java is available static method\r\n```java\r\nDouble.toString(Double d)\r\n```\r\nbut it&#39;s not available in Kotlin. Is there any good approach to show this value correctly?","title":"Kotlin - How to convert Double to String in Kotlin without scientific notation?","body":"<p>I want to set in text view full value of Double without scientific notation (Exponential), what is best approach?</p>\n\n<p>I tried convert Double value using method toString() on it, but I still have scientific value.</p>\n\n<pre><code>tvDepth.text=depth.toString()\n</code></pre>\n\n<p>I entered value 123456789.123456789 and expect same value in textView, but instead I have:\n1.23456789123456789E8.</p>\n\n<p>I don't know how many decimal places I need, so I couldn't format it before set it in text view. I read that in Java is available static method</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Double.toString(Double d)\n</code></pre>\n\n<p>but it's not available in Kotlin. Is there any good approach to show this value correctly?</p>\n"},{"tags":["java","character-encoding"],"answers":[{"comments":[{"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"score":53,"creation_date":1412818731,"post_id":26268235,"comment_id":41212433,"body_markdown":"I tried `ISO-8859-1` and it works well. I think it&#39;s for European characters, which is fine. I still don&#39;t know why `UTF-16` doesn&#39;t work, though.","body":"I tried <code>ISO-8859-1</code> and it works well. I think it&#39;s for European characters, which is fine. I still don&#39;t know why <code>UTF-16</code> doesn&#39;t work, though."},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":2,"creation_date":1573661262,"post_id":26268235,"comment_id":103956297,"body_markdown":"If you have Notepad++, you can try opening text file and it will tell you encoding of file in Menu. You can then adapt code acorrdingly if you always get file from same source.","body":"If you have Notepad++, you can try opening text file and it will tell you encoding of file in Menu. You can then adapt code acorrdingly if you always get file from same source."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1581043379,"post_id":26268235,"comment_id":106306494,"body_markdown":"@JonathanLam Well, because if it&#39;s encoded with `ISO-8859-1`, then it&#39;s _not_ `UTF-16`.  These encodings are completely different.  A file can&#39;t be both.","body":"@JonathanLam Well, because if it&#39;s encoded with <code>ISO-8859-1</code>, then it&#39;s <i>not</i> <code>UTF-16</code>.  These encodings are completely different.  A file can&#39;t be both."},{"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"score":0,"creation_date":1581048292,"post_id":26268235,"comment_id":106307382,"body_markdown":"@DawoodsaysreinstateMonica I believe I meant I was surprised UTF-16 didn&#39;t work as well as a catch-all for European characters like ISO-8859-1 seems to do. But thanks for the info (even if six years later) :P","body":"@DawoodsaysreinstateMonica I believe I meant I was surprised UTF-16 didn&#39;t work as well as a catch-all for European characters like ISO-8859-1 seems to do. But thanks for the info (even if six years later) :P"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1581048864,"post_id":26268235,"comment_id":106307495,"body_markdown":"Sure.  UTF-16 has all the European characters in it.  But they&#39;re represented differently from ISO-8859-1.  In ISO-8859-1, all characters are represented with only 8 bits, so you&#39;re limited to 256 possible characters.  In UTF-16, most characters are represented with 16 bits, and some characters are represented with 32 bits.  So there are a lot more possible characters in UTF-16, but an ISO-8859-1 file will only require half as much space as the same data would use in UTF-16.","body":"Sure.  UTF-16 has all the European characters in it.  But they&#39;re represented differently from ISO-8859-1.  In ISO-8859-1, all characters are represented with only 8 bits, so you&#39;re limited to 256 possible characters.  In UTF-16, most characters are represented with 16 bits, and some characters are represented with 32 bits.  So there are a lot more possible characters in UTF-16, but an ISO-8859-1 file will only require half as much space as the same data would use in UTF-16."},{"owner":{"account_id":11383064,"reputation":494,"user_id":8345451,"display_name":"Divya Gupta"},"score":0,"creation_date":1671985960,"post_id":26268235,"comment_id":132204449,"body_markdown":"I didn&#39;t realise that, I was opening BufferReader using US_ASCII but my file was in UTF-8. When I changed it to UTF-8, it works perfectly.","body":"I didn&#39;t realise that, I was opening BufferReader using US_ASCII but my file was in UTF-8. When I changed it to UTF-8, it works perfectly."}],"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":6,"down_vote_count":1,"up_vote_count":103,"is_accepted":true,"score":102,"last_activity_date":1412812401,"creation_date":1412812401,"answer_id":26268235,"question_id":26268132,"body_markdown":"You probably want to have a list of supported encodings.  For each file, try each encoding in turn, maybe starting with UTF-8.  Every time you catch the `MalformedInputException`, try the next encoding.","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>You probably want to have a list of supported encodings.  For each file, try each encoding in turn, maybe starting with UTF-8.  Every time you catch the <code>MalformedInputException</code>, try the next encoding.</p>\n"},{"comments":[{"owner":{"account_id":61169,"reputation":1527,"user_id":182462,"accept_rate":58,"display_name":"malaverdiere"},"score":1,"creation_date":1457712680,"post_id":35237841,"comment_id":59546282,"body_markdown":"This is somewhat off-topic, as the OP was talking about reading, rather than writing. I had a similar issue due to BufferedWriter.write(int) - which treats that int as a character and writes it directly to the stream. The workaround is to manually convert it to string and then write.","body":"This is somewhat off-topic, as the OP was talking about reading, rather than writing. I had a similar issue due to BufferedWriter.write(int) - which treats that int as a character and writes it directly to the stream. The workaround is to manually convert it to string and then write."},{"owner":{"account_id":2716952,"reputation":789,"user_id":2344115,"display_name":"Ryboflavin"},"score":0,"creation_date":1590178707,"post_id":35237841,"comment_id":109593095,"body_markdown":"This is a sadly under voted answer, \nReally nice work Tom. \nI&#39;m wondering if this has been resolved in later versions of Java.","body":"This is a sadly under voted answer,  Really nice work Tom.  I&#39;m wondering if this has been resolved in later versions of Java."}],"tags":[],"owner":{"account_id":1961485,"reputation":3248,"user_id":1762932,"accept_rate":84,"display_name":"Tom"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1454737688,"creation_date":1454737688,"answer_id":35237841,"question_id":26268132,"body_markdown":"I also encountered this exception with error message, \r\n\r\n    java.nio.charset.MalformedInputException: Input length = 1\r\n\tat java.nio.charset.CoderResult.throwException(Unknown Source)\r\n\tat sun.nio.cs.StreamEncoder.implWrite(Unknown Source)\r\n\tat sun.nio.cs.StreamEncoder.write(Unknown Source)\r\n\tat java.io.OutputStreamWriter.write(Unknown Source)\r\n\tat java.io.BufferedWriter.flushBuffer(Unknown Source)\r\n\tat java.io.BufferedWriter.write(Unknown Source)\r\n\tat java.io.Writer.write(Unknown Source)\r\n\r\nand found that some strange bug occurs when trying to use\r\n \r\n    BufferedWriter writer = Files.newBufferedWriter(Paths.get(filePath));\r\n\r\nto write a String &quot;orazg\t54&quot; cast from a generic type in a class. \r\n\r\n    //key is of generic type &lt;Key extends Comparable&lt;Key&gt;&gt;\r\n    writer.write(item.getKey() + &quot;\\t&quot; + item.getValue() + &quot;\\n&quot;);\r\n\r\nThis String is of length 9 containing chars with the following code points:\r\n\r\n111\r\n114\r\n97\r\n122\r\n103\r\n9\r\n53\r\n52\r\n10\r\n\r\nHowever, if the BufferedWriter in the class is replaced with: \r\n\r\n    FileOutputStream outputStream = new FileOutputStream(filePath);\r\n\tBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStream));\r\n\r\nit can successfully write this String without exceptions. In addition, if I write the same String create from the characters it still works OK.\r\n\r\n    String string = new String(new char[] {111, 114, 97, 122, 103, 9, 53, 52, 10});\r\n\tBufferedWriter writer = Files.newBufferedWriter(Paths.get(&quot;a.txt&quot;));\r\n\twriter.write(string);\r\n\twriter.close();\r\n\r\nPreviously I have never encountered any Exception when using the first BufferedWriter to write any Strings. It&#39;s a strange bug that occurs to BufferedWriter created from java.nio.file.Files.newBufferedWriter(path, options)","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>I also encountered this exception with error message, </p>\n\n<pre><code>java.nio.charset.MalformedInputException: Input length = 1\nat java.nio.charset.CoderResult.throwException(Unknown Source)\nat sun.nio.cs.StreamEncoder.implWrite(Unknown Source)\nat sun.nio.cs.StreamEncoder.write(Unknown Source)\nat java.io.OutputStreamWriter.write(Unknown Source)\nat java.io.BufferedWriter.flushBuffer(Unknown Source)\nat java.io.BufferedWriter.write(Unknown Source)\nat java.io.Writer.write(Unknown Source)\n</code></pre>\n\n<p>and found that some strange bug occurs when trying to use</p>\n\n<pre><code>BufferedWriter writer = Files.newBufferedWriter(Paths.get(filePath));\n</code></pre>\n\n<p>to write a String \"orazg    54\" cast from a generic type in a class. </p>\n\n<pre><code>//key is of generic type &lt;Key extends Comparable&lt;Key&gt;&gt;\nwriter.write(item.getKey() + \"\\t\" + item.getValue() + \"\\n\");\n</code></pre>\n\n<p>This String is of length 9 containing chars with the following code points:</p>\n\n<p>111\n114\n97\n122\n103\n9\n53\n52\n10</p>\n\n<p>However, if the BufferedWriter in the class is replaced with: </p>\n\n<pre><code>FileOutputStream outputStream = new FileOutputStream(filePath);\nBufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStream));\n</code></pre>\n\n<p>it can successfully write this String without exceptions. In addition, if I write the same String create from the characters it still works OK.</p>\n\n<pre><code>String string = new String(new char[] {111, 114, 97, 122, 103, 9, 53, 52, 10});\nBufferedWriter writer = Files.newBufferedWriter(Paths.get(\"a.txt\"));\nwriter.write(string);\nwriter.close();\n</code></pre>\n\n<p>Previously I have never encountered any Exception when using the first BufferedWriter to write any Strings. It's a strange bug that occurs to BufferedWriter created from java.nio.file.Files.newBufferedWriter(path, options)</p>\n"},{"tags":[],"owner":{"account_id":6189920,"reputation":2014,"user_id":4822884,"accept_rate":60,"display_name":"francesco foresti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456158067,"creation_date":1456158067,"answer_id":35558651,"question_id":26268132,"body_markdown":"Well, the problem is that `Files.newBufferedReader(Path path)` is implemented like this :\r\n\r\n    public static BufferedReader newBufferedReader(Path path) throws IOException {\r\n        return newBufferedReader(path, StandardCharsets.UTF_8);\r\n    }\r\n\r\nso basically there is no point in specifying `UTF-8` unless you want to be descriptive in your code. \r\nIf you want to try a &quot;broader&quot; charset you could try with `StandardCharsets.UTF_16`, but you can&#39;t be 100% sure to get every possible character anyway.","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>Well, the problem is that <code>Files.newBufferedReader(Path path)</code> is implemented like this :</p>\n\n<pre><code>public static BufferedReader newBufferedReader(Path path) throws IOException {\n    return newBufferedReader(path, StandardCharsets.UTF_8);\n}\n</code></pre>\n\n<p>so basically there is no point in specifying <code>UTF-8</code> unless you want to be descriptive in your code. \nIf you want to try a \"broader\" charset you could try with <code>StandardCharsets.UTF_16</code>, but you can't be 100% sure to get every possible character anyway.</p>\n"},{"comments":[{"owner":{"account_id":1253847,"reputation":1877,"user_id":1213722,"accept_rate":0,"display_name":"mvanle"},"score":1,"creation_date":1580712425,"post_id":42850842,"comment_id":106172841,"body_markdown":"The exception handler can potentially make the `while(exception)` loop forever if it never finds a working charset in the array. The exception handler should rethrow if the end of the array is reached and no working charset is found. Also, as of time of writing this answer had &quot;-2&quot; votes. I have upvoted it to &quot;-1&quot;. I think the reason it got negative votes is because there is insufficient explanation. While I understand what the code does, other people may not. So a comment like &quot;you can try something like this&quot; may not be appreciated by some people.","body":"The exception handler can potentially make the <code>while(exception)</code> loop forever if it never finds a working charset in the array. The exception handler should rethrow if the end of the array is reached and no working charset is found. Also, as of time of writing this answer had &quot;-2&quot; votes. I have upvoted it to &quot;-1&quot;. I think the reason it got negative votes is because there is insufficient explanation. While I understand what the code does, other people may not. So a comment like &quot;you can try something like this&quot; may not be appreciated by some people."}],"tags":[],"owner":{"account_id":10480298,"reputation":11,"user_id":7725491,"display_name":"Pengxiang"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1525077306,"creation_date":1489732818,"answer_id":42850842,"question_id":26268132,"body_markdown":"you can try something like this, or just copy and past below piece.\r\n\r\n   \tboolean exception = true;\r\n\tCharset charset = Charset.defaultCharset(); //Try the default one first.\t\t\r\n\tint index = 0;\r\n\t\t\r\n\twhile(exception) {\r\n\t\ttry {\r\n\t\t\tlines = Files.readAllLines(f.toPath(),charset);\r\n\t          for (String line: lines) {\r\n\t        \t  line= line.trim();\r\n\t        \t  if(line.contains(keyword))\r\n\t        \t\t  values.add(line);\r\n\t        \t  }\t          \r\n\t        //No exception, just returns\r\n\t\t\texception = false; \r\n\t\t} catch (IOException e) {\r\n\t\t\texception = true;\r\n\t\t\t//Try the next charset\r\n\t\t\tif(index&lt;Charset.availableCharsets().values().size())\r\n\t\t\t\tcharset = (Charset) Charset.availableCharsets().values().toArray()[index];\r\n\t\t\tindex ++;\r\n\t\t}\r\n\t}","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>you can try something like this, or just copy and past below piece.</p>\n\n<pre><code>boolean exception = true;\nCharset charset = Charset.defaultCharset(); //Try the default one first.        \nint index = 0;\n\nwhile(exception) {\n    try {\n        lines = Files.readAllLines(f.toPath(),charset);\n          for (String line: lines) {\n              line= line.trim();\n              if(line.contains(keyword))\n                  values.add(line);\n              }           \n        //No exception, just returns\n        exception = false; \n    } catch (IOException e) {\n        exception = true;\n        //Try the next charset\n        if(index&lt;Charset.availableCharsets().values().size())\n            charset = (Charset) Charset.availableCharsets().values().toArray()[index];\n        index ++;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11072007,"reputation":300,"user_id":8129835,"display_name":"Kudratillo"},"score":0,"creation_date":1640510851,"post_id":43446789,"comment_id":124596564,"body_markdown":"Following also works in case you wonder reason might be using charset name instead of predefined one from StandardCharsets ```new BufferedReader(new InputStreamReader(new FileInputStream(&quot;a.txt&quot;), StandardCharsets.UTF_8));```","body":"Following also works in case you wonder reason might be using charset name instead of predefined one from StandardCharsets <code>new BufferedReader(new InputStreamReader(new FileInputStream(&quot;a.txt&quot;), StandardCharsets.UTF_8));</code>"}],"tags":[],"owner":{"account_id":6844693,"reputation":571,"user_id":5263864,"display_name":"Xin Wang"},"comment_count":1,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1492412557,"creation_date":1492412557,"answer_id":43446789,"question_id":26268132,"body_markdown":"Creating BufferedReader from Files.newBufferedReader \r\n\r\n    Files.newBufferedReader(Paths.get(&quot;a.txt&quot;), StandardCharsets.UTF_8);\r\n\r\nwhen running the application it may throw the following exception:\r\n\r\n    java.nio.charset.MalformedInputException: Input length = 1\r\n\r\nBut\r\n\r\n    new BufferedReader(new InputStreamReader(new FileInputStream(&quot;a.txt&quot;),&quot;utf-8&quot;));\r\n\r\nworks well.\r\n\r\n\r\nThe different is that, the former uses CharsetDecoder default action.\r\n\r\n&gt; The default action for malformed-input and unmappable-character errors is to **report** them.\r\n\r\nwhile the latter uses the REPLACE action.\r\n\r\n    cs.newDecoder().onMalformedInput(CodingErrorAction.REPLACE).onUnmappableCharacter(CodingErrorAction.REPLACE)\r\n\r\n\r\n","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>Creating BufferedReader from Files.newBufferedReader </p>\n\n<pre><code>Files.newBufferedReader(Paths.get(\"a.txt\"), StandardCharsets.UTF_8);\n</code></pre>\n\n<p>when running the application it may throw the following exception:</p>\n\n<pre><code>java.nio.charset.MalformedInputException: Input length = 1\n</code></pre>\n\n<p>But</p>\n\n<pre><code>new BufferedReader(new InputStreamReader(new FileInputStream(\"a.txt\"),\"utf-8\"));\n</code></pre>\n\n<p>works well.</p>\n\n<p>The different is that, the former uses CharsetDecoder default action.</p>\n\n<blockquote>\n  <p>The default action for malformed-input and unmappable-character errors is to <strong>report</strong> them.</p>\n</blockquote>\n\n<p>while the latter uses the REPLACE action.</p>\n\n<pre><code>cs.newDecoder().onMalformedInput(CodingErrorAction.REPLACE).onUnmappableCharacter(CodingErrorAction.REPLACE)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4475689,"reputation":1215,"user_id":3640867,"accept_rate":60,"display_name":"EngineerWithJava54321"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1525077218,"creation_date":1493150121,"answer_id":43619832,"question_id":26268132,"body_markdown":"I wrote the following to print a list of results to standard out based on available charsets.  Note that it also tells you what line fails from a 0 based line number in case you are troubleshooting what character is causing issues.\r\n\r\n  \tpublic static void testCharset(String fileName) {\r\n\t\tSortedMap&lt;String, Charset&gt; charsets = Charset.availableCharsets();\r\n\t\tfor (String k : charsets.keySet()) {\r\n\t\t\tint line = 0;\r\n\t\t\tboolean success = true;\r\n\t\t\ttry (BufferedReader b = Files.newBufferedReader(Paths.get(fileName),charsets.get(k))) {\r\n\t\t\t\twhile (b.ready()) {\r\n\t\t\t\t\tb.readLine();\r\n\t\t\t\t\tline++;\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tsuccess = false;\r\n\t\t\t\tSystem.out.println(k+&quot; failed on line &quot;+line);\r\n\t\t\t}\r\n\t\t\tif (success) \r\n                System.out.println(&quot;*************************  Successs &quot;+k);\r\n\t\t}\r\n\t}\r\n\t","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>I wrote the following to print a list of results to standard out based on available charsets.  Note that it also tells you what line fails from a 0 based line number in case you are troubleshooting what character is causing issues.</p>\n\n<pre><code>public static void testCharset(String fileName) {\n    SortedMap&lt;String, Charset&gt; charsets = Charset.availableCharsets();\n    for (String k : charsets.keySet()) {\n        int line = 0;\n        boolean success = true;\n        try (BufferedReader b = Files.newBufferedReader(Paths.get(fileName),charsets.get(k))) {\n            while (b.ready()) {\n                b.readLine();\n                line++;\n            }\n        } catch (IOException e) {\n            success = false;\n            System.out.println(k+\" failed on line \"+line);\n        }\n        if (success) \n            System.out.println(\"*************************  Successs \"+k);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6328,"reputation":10132,"user_id":10592,"accept_rate":79,"display_name":"Tim Cooper"},"comment_count":0,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1506932956,"creation_date":1496025618,"answer_id":44233948,"question_id":26268132,"body_markdown":"ISO-8859-1 is an all-inclusive charset, in the sense that it&#39;s guaranteed not to throw MalformedInputException. So it&#39;s good for debugging, even if your input is not in this charset.  So:-\r\n\r\n    req.setCharacterEncoding(&quot;ISO-8859-1&quot;);\r\n\r\nI had some double-right-quote/double-left-quote characters in my input, and both US-ASCII and UTF-8 threw MalformedInputException on them, but ISO-8859-1 worked.","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>ISO-8859-1 is an all-inclusive charset, in the sense that it's guaranteed not to throw MalformedInputException. So it's good for debugging, even if your input is not in this charset.  So:-</p>\n\n<pre><code>req.setCharacterEncoding(\"ISO-8859-1\");\n</code></pre>\n\n<p>I had some double-right-quote/double-left-quote characters in my input, and both US-ASCII and UTF-8 threw MalformedInputException on them, but ISO-8859-1 worked.</p>\n"},{"comments":[{"owner":{"account_id":3577370,"reputation":3514,"user_id":2986279,"accept_rate":50,"display_name":"Gaurav Khurana"},"score":0,"creation_date":1672914836,"post_id":50585702,"comment_id":132382156,"body_markdown":"thanks this solved the problem, would have been hard to find","body":"thanks this solved the problem, would have been hard to find"}],"tags":[],"owner":{"account_id":13672251,"reputation":81,"user_id":9864664,"display_name":"Vin"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1527600772,"creation_date":1527600772,"answer_id":50585702,"question_id":26268132,"body_markdown":"try this.. i had the same issue, below implementation worked for me\r\n\r\n    Reader reader = Files.newBufferedReader(Paths.get(&lt;yourfilewithpath&gt;), StandardCharsets.ISO_8859_1);\r\n\r\nthen use Reader where ever you want.\r\n\r\nforeg:\r\n\r\n\r\n    CsvToBean&lt;anyPojo&gt; csvToBean = null;\r\n        try {\r\n            Reader reader = Files.newBufferedReader(Paths.get(csvFilePath), \r\n                            StandardCharsets.ISO_8859_1);\r\n            csvToBean = new CsvToBeanBuilder(reader)\r\n                    .withType(anyPojo.class)\r\n                    .withIgnoreLeadingWhiteSpace(true)\r\n                    .withSkipLines(1)\r\n                    .build();\r\n    \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>try this.. i had the same issue, below implementation worked for me</p>\n\n<pre><code>Reader reader = Files.newBufferedReader(Paths.get(&lt;yourfilewithpath&gt;), StandardCharsets.ISO_8859_1);\n</code></pre>\n\n<p>then use Reader where ever you want.</p>\n\n<p>foreg:</p>\n\n<pre><code>CsvToBean&lt;anyPojo&gt; csvToBean = null;\n    try {\n        Reader reader = Files.newBufferedReader(Paths.get(csvFilePath), \n                        StandardCharsets.ISO_8859_1);\n        csvToBean = new CsvToBeanBuilder(reader)\n                .withType(anyPojo.class)\n                .withIgnoreLeadingWhiteSpace(true)\n                .withSkipLines(1)\n                .build();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12898503,"reputation":2596,"user_id":9328117,"display_name":"Shahid Hussain Abbasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1540547417,"creation_date":1540547417,"answer_id":53006021,"question_id":26268132,"body_markdown":"ISO_8859_1 Worked for me! I was reading text file with comma separated values","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>ISO_8859_1 Worked for me! I was reading text file with comma separated values</p>\n"},{"tags":[],"owner":{"account_id":10142585,"reputation":904,"user_id":7491837,"accept_rate":49,"display_name":"Adriano"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1564568686,"creation_date":1564568686,"answer_id":57288585,"question_id":26268132,"body_markdown":"UTF-8 works for me with Polish characters","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>UTF-8 works for me with Polish characters</p>\n"},{"tags":[],"owner":{"account_id":2229031,"reputation":757,"user_id":1967127,"display_name":"Johannes Stadler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670940185,"creation_date":1670940185,"answer_id":74786064,"question_id":26268132,"body_markdown":"Adding an additional answer for quarkus mailer and qute templates, as this is always the first result in google no matter what parts of the stack trace I searched for:\r\n\r\nIf you&#39;re using quarkus mailer and a qute template and get this `MalformedInputException` check if your templates folder contains other files than template files. In my case I had a `.png` file that I wanted to include in the mail and that was automatically read as template, therefore this encoding issue appeared.","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>Adding an additional answer for quarkus mailer and qute templates, as this is always the first result in google no matter what parts of the stack trace I searched for:</p>\n<p>If you're using quarkus mailer and a qute template and get this <code>MalformedInputException</code> check if your templates folder contains other files than template files. In my case I had a <code>.png</code> file that I wanted to include in the mail and that was automatically read as template, therefore this encoding issue appeared.</p>\n"}],"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225714,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":26268235,"answer_count":11,"score":126,"last_activity_date":1670940185,"creation_date":1412811692,"question_id":26268132,"body_markdown":"I&#39;m creating a simple wordcount program in Java that reads through a directory&#39;s text-based files.\r\n\r\nHowever, I keep on getting the error:\r\n\r\n    java.nio.charset.MalformedInputException: Input length = 1\r\n\r\nfrom this line of code:\r\n\r\n    BufferedReader reader = Files.newBufferedReader(file,Charset.forName(&quot;UTF-8&quot;));\r\n\r\nI know I probably get this because I used a `Charset` that didn&#39;t include some of the characters in the text files, some of which included characters of other languages. But I want to include those characters.\r\n\r\nI later learned at the [JavaDocs](http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#newBufferedReader-java.nio.file.Path-) that the `Charset` is optional and only used for a more efficient reading of the files, so I changed the code to:\r\n\r\n    BufferedReader reader = Files.newBufferedReader(file);\r\n\r\nBut some files still throw the `MalformedInputException`. I don&#39;t know why.\r\n\r\n**I was wondering if there is an all-inclusive `Charset` that will allow me to read text files with many different types of characters**?\r\n\r\nThanks.","title":"All inclusive Charset to avoid &quot;java.nio.charset.MalformedInputException: Input length = 1&quot;?","body":"<p>I'm creating a simple wordcount program in Java that reads through a directory's text-based files.</p>\n\n<p>However, I keep on getting the error:</p>\n\n<pre><code>java.nio.charset.MalformedInputException: Input length = 1\n</code></pre>\n\n<p>from this line of code:</p>\n\n<pre><code>BufferedReader reader = Files.newBufferedReader(file,Charset.forName(\"UTF-8\"));\n</code></pre>\n\n<p>I know I probably get this because I used a <code>Charset</code> that didn't include some of the characters in the text files, some of which included characters of other languages. But I want to include those characters.</p>\n\n<p>I later learned at the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#newBufferedReader-java.nio.file.Path-\">JavaDocs</a> that the <code>Charset</code> is optional and only used for a more efficient reading of the files, so I changed the code to:</p>\n\n<pre><code>BufferedReader reader = Files.newBufferedReader(file);\n</code></pre>\n\n<p>But some files still throw the <code>MalformedInputException</code>. I don't know why.</p>\n\n<p><strong>I was wondering if there is an all-inclusive <code>Charset</code> that will allow me to read text files with many different types of characters</strong>?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","http","web-services","soap","wsdl"],"owner":{"account_id":15915692,"reputation":1,"user_id":11484327,"display_name":"Vadym "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670940171,"creation_date":1670940171,"question_id":74786057,"body_markdown":"I have test.wsdl, and generate Java code for this test.wsdl.\r\nAfter generate code, i have many classes and interface:\r\n\r\n```\r\n@XmlSeeAlso({ObjectFactory.class, comTest.cxf.test.hdr.ObjectFactory.class})\r\n@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\r\npublic interface Test{\r\n\r\n@WebMethod(operationName = &quot;GetData&quot;, action = &quot;GET_DATA&quot;)\r\n@WebResult(name = &quot;GET_DATA_RESPONSE&quot;, targetNamespace = &quot;&quot;, partName = &quot;part1&quot;)\r\npublic GETDATARESPONSE getData(\r\n\r\n    @WebParam(partName = &quot;part1&quot;, name = &quot;GET_DATA_REQUEST&quot;, targetNamespace = &quot;&quot;)\r\n    GETDATAREQUEST part1\r\n);\r\n\r\n}\r\n```\r\n\r\nAnd when i call this method getData with params GETDATAREQUEST, service create request with body in my  GETDATAREQUEST params, but without header. And header which i need contains in class comTest.cxf.test.hdr.ObjectFactory.class. I think important annotation @XmlSeeAlso, but don&#39;t know how realise this...and binding ObjectFactory with GETDATAREQUEST\r\n\r\n\r\n\r\n\r\ni implements interface Test in TestImpl and add in this class fields comTest.cxf.test.hdr.ObjectFactory.class, but when i want get ServicesHttpPort which created wsdl, this service return interface type Test//\r\n\r\nI think important annotation @XmlSeeAlso, but don&#39;t know how realise this...and binding ObjectFactory with GETDATAREQUEST\r\n","title":"How add in request header in code generate wsdl","body":"<p>I have test.wsdl, and generate Java code for this test.wsdl.\nAfter generate code, i have many classes and interface:</p>\n<pre><code>@XmlSeeAlso({ObjectFactory.class, comTest.cxf.test.hdr.ObjectFactory.class})\n@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\npublic interface Test{\n\n@WebMethod(operationName = &quot;GetData&quot;, action = &quot;GET_DATA&quot;)\n@WebResult(name = &quot;GET_DATA_RESPONSE&quot;, targetNamespace = &quot;&quot;, partName = &quot;part1&quot;)\npublic GETDATARESPONSE getData(\n\n    @WebParam(partName = &quot;part1&quot;, name = &quot;GET_DATA_REQUEST&quot;, targetNamespace = &quot;&quot;)\n    GETDATAREQUEST part1\n);\n\n}\n</code></pre>\n<p>And when i call this method getData with params GETDATAREQUEST, service create request with body in my  GETDATAREQUEST params, but without header. And header which i need contains in class comTest.cxf.test.hdr.ObjectFactory.class. I think important annotation @XmlSeeAlso, but don't know how realise this...and binding ObjectFactory with GETDATAREQUEST</p>\n<p>i implements interface Test in TestImpl and add in this class fields comTest.cxf.test.hdr.ObjectFactory.class, but when i want get ServicesHttpPort which created wsdl, this service return interface type Test//</p>\n<p>I think important annotation @XmlSeeAlso, but don't know how realise this...and binding ObjectFactory with GETDATAREQUEST</p>\n"},{"tags":["java","c#","android","unity-game-engine"],"comments":[{"owner":{"account_id":10320707,"reputation":1766,"user_id":7613702,"display_name":"pale bone"},"score":0,"creation_date":1535657785,"post_id":52101948,"comment_id":91159530,"body_markdown":"I can use `ByteArrayOutputStream out = new ByteArrayOutputStream();\nbitmap.compress(Bitmap.CompressFormat.PNG, 100, out);` but I&#39;m assuming this will take extra computation on both sides, gotta check if that&#39;s true when quality is 100","body":"I can use <code>ByteArrayOutputStream out = new ByteArrayOutputStream(); bitmap.compress(Bitmap.CompressFormat.PNG, 100, out);</code> but I&#39;m assuming this will take extra computation on both sides, gotta check if that&#39;s true when quality is 100"}],"answers":[{"tags":[],"owner":{"account_id":4210675,"reputation":836,"user_id":3448475,"display_name":"Tubeliar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670940129,"creation_date":1670940129,"answer_id":74786051,"question_id":52101948,"body_markdown":"I was trying to do the exact same thing and my initial attempts also had a black texture. I do the array conversion with AndroidJNIHelper.ConvertFromJNIArray like you do except I used sbyte[] instead of byte[]. To set the actual image data I ended up using\r\n\r\n    imageTexture2D.SetPixelData(bytes, 0);\r\n\r\nIf I&#39;m not mistaken LoadRawTextureData is even rawer than an array of pixel data, it might be how graphics cards store textures with compression. If that is true then raw pixel data isn&#39;t in the right format and it can&#39;t be decoded.","title":"Android bitmap image to Unity C# texture","body":"<p>I was trying to do the exact same thing and my initial attempts also had a black texture. I do the array conversion with AndroidJNIHelper.ConvertFromJNIArray like you do except I used sbyte[] instead of byte[]. To set the actual image data I ended up using</p>\n<pre><code>imageTexture2D.SetPixelData(bytes, 0);\n</code></pre>\n<p>If I'm not mistaken LoadRawTextureData is even rawer than an array of pixel data, it might be how graphics cards store textures with compression. If that is true then raw pixel data isn't in the right format and it can't be decoded.</p>\n"}],"owner":{"account_id":10320707,"reputation":1766,"user_id":7613702,"display_name":"pale bone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1469,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1670940129,"creation_date":1535647405,"question_id":52101948,"body_markdown":"I&#39;m in the draw loop of an android view:\r\n\r\n            Bitmap bitmap = Bitmap.createBitmap(this.getWidth(), \r\n            this.getHeight(), Bitmap.Config.ARGB_4444);\r\n            Canvas newCanvas = new Canvas(bitmap);\r\n            super.draw(newCanvas);\r\n            Log.d(&quot;AndroidUnity&quot;,&quot;Canvas Drawn!&quot;);\r\n            mImageView.setImageBitmap(bitmap);\r\n\r\nAnd the above code shows me the **correct** drawing on the attached Image Viewer.\r\n\r\nWhen I convert the bitmap to a byte array:\r\n\r\n            ByteBuffer byteBuffer = ByteBuffer.allocate(bitmap.getByteCount());\r\n            bitmap.copyPixelsToBuffer(byteBuffer);\r\n            byte[] bytes = byteBuffer.array();\r\n\r\nimporting the bytes into Unity does not work (shows a black image on my rawimage):\r\n            \r\n            \r\n\r\n            imageTexture2D = new Texture2D(width, height, TextureFormat.ARGB4444, false);\r\n            imageTexture2D.LoadRawTextureData(bytes);\r\n            imageTexture2D.Apply();\r\n            RawImage.texture = imageTexture2D;\r\n\r\nAny ideas on how to get the Java bytes[] to display as a texture/image in Unity? I&#39;ve tested that the bytes are sending correctly, i.e. when I push a byte array of {1,2,3,4} from android, I get {1,2,3,4} on the unity side.\r\n\r\nthis isn&#39;t mentioning that Unity throws an error when trying to transfer the bytes as a byte[], so instead I have to follow [this][1] advice, on the C# side:\r\n        \r\n\r\n    void ReceieveAndroidBytes(AndroidJavaObject jo){\r\n    AndroidJavaObject bufferObject = jo.Get&lt;AndroidJavaObject&gt;(&quot;Buffer&quot;);\r\n    byte[] bytes = AndroidJNIHelper.ConvertFromJNIArray&lt;byte[]&gt;(bufferObject.GetRawObject()); }\r\n\r\nand a trivial byte[] container class &quot;Buffer&quot; on the java side\r\n\r\n  [1]: https://forum.unity.com/threads/androidjavaproxy-lang-reflect-array-exception.257348/\r\n","title":"Android bitmap image to Unity C# texture","body":"<p>I'm in the draw loop of an android view:</p>\n\n<pre><code>        Bitmap bitmap = Bitmap.createBitmap(this.getWidth(), \n        this.getHeight(), Bitmap.Config.ARGB_4444);\n        Canvas newCanvas = new Canvas(bitmap);\n        super.draw(newCanvas);\n        Log.d(\"AndroidUnity\",\"Canvas Drawn!\");\n        mImageView.setImageBitmap(bitmap);\n</code></pre>\n\n<p>And the above code shows me the <strong>correct</strong> drawing on the attached Image Viewer.</p>\n\n<p>When I convert the bitmap to a byte array:</p>\n\n<pre><code>        ByteBuffer byteBuffer = ByteBuffer.allocate(bitmap.getByteCount());\n        bitmap.copyPixelsToBuffer(byteBuffer);\n        byte[] bytes = byteBuffer.array();\n</code></pre>\n\n<p>importing the bytes into Unity does not work (shows a black image on my rawimage):</p>\n\n<pre><code>        imageTexture2D = new Texture2D(width, height, TextureFormat.ARGB4444, false);\n        imageTexture2D.LoadRawTextureData(bytes);\n        imageTexture2D.Apply();\n        RawImage.texture = imageTexture2D;\n</code></pre>\n\n<p>Any ideas on how to get the Java bytes[] to display as a texture/image in Unity? I've tested that the bytes are sending correctly, i.e. when I push a byte array of {1,2,3,4} from android, I get {1,2,3,4} on the unity side.</p>\n\n<p>this isn't mentioning that Unity throws an error when trying to transfer the bytes as a byte[], so instead I have to follow <a href=\"https://forum.unity.com/threads/androidjavaproxy-lang-reflect-array-exception.257348/\" rel=\"nofollow noreferrer\">this</a> advice, on the C# side:</p>\n\n<pre><code>void ReceieveAndroidBytes(AndroidJavaObject jo){\nAndroidJavaObject bufferObject = jo.Get&lt;AndroidJavaObject&gt;(\"Buffer\");\nbyte[] bytes = AndroidJNIHelper.ConvertFromJNIArray&lt;byte[]&gt;(bufferObject.GetRawObject()); }\n</code></pre>\n\n<p>and a trivial byte[] container class \"Buffer\" on the java side</p>\n"},{"tags":["java","owasp","maven-dependency-check-plugin"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1670841417,"post_id":74769713,"comment_id":131958531,"body_markdown":"You should read the CVEs that are mentioned at the end of each line. They usually contain the needed remediation.","body":"You should read the CVEs that are mentioned at the end of each line. They usually contain the needed remediation."}],"answers":[{"tags":[],"owner":{"account_id":264733,"reputation":1602,"user_id":1961779,"accept_rate":100,"display_name":"Adrian B."},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670841655,"creation_date":1670841213,"answer_id":74769762,"question_id":74769713,"body_markdown":"We don&#39;t have sufficient context for this, so I&#39;m going to assume we&#39;re talking about Maven and it&#39;s [dependency check plugin][1].\r\n\r\nAny dependency found to be problematic. Use [Mvn Repo][2] to identify newer (not vulnerable) libs. I&#39;ve added as an example the scala lib, and you can see a column with known vulnerabilities for it. pick one that is not vulnerable and update your pom.xml file with it. If you notive that Maven does not update the dependency based on whatever version you supply, it could be that you&#39;re getting a transitive dependency from somewhere else that&#39;s overriding you. to discover it, you can use `mvn dependency:tree` in a command line to see from where each version is resolved. And, if there&#39;s no other option, look into using [dependencyManagement][3] in your pom.xml to impose a specific version.\r\n\r\nThere is also the case that there is no vulnerability-free version available, in which case, you should either replace the library, or, if it&#39;s an acceptable risk, look into using suppression files (see example 7 in the plugin link above) for that particular CVE. \r\n\r\n[nvd.nist.gov][4] is a very good site where you can find details about each individual CVE. You can find the CVE number at the end of each finding in your report. Search for it on this website and it should tell you if there is any special remediation to be done or even how to reproduce to find out if you&#39;re vulnerable.\r\n\r\n\r\n  [1]: https://jeremylong.github.io/DependencyCheck/dependency-check-maven/\r\n  [2]: https://mvnrepository.com/artifact/org.scala-lang/scala-library\r\n  [3]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\r\n  [4]: https://nvd.nist.gov/vuln/detail/CVE-2022-41946","title":"What to do when Owasp dependency finds vulnerabilities","body":"<p>We don't have sufficient context for this, so I'm going to assume we're talking about Maven and it's <a href=\"https://jeremylong.github.io/DependencyCheck/dependency-check-maven/\" rel=\"nofollow noreferrer\">dependency check plugin</a>.</p>\n<p>Any dependency found to be problematic. Use <a href=\"https://mvnrepository.com/artifact/org.scala-lang/scala-library\" rel=\"nofollow noreferrer\">Mvn Repo</a> to identify newer (not vulnerable) libs. I've added as an example the scala lib, and you can see a column with known vulnerabilities for it. pick one that is not vulnerable and update your pom.xml file with it. If you notive that Maven does not update the dependency based on whatever version you supply, it could be that you're getting a transitive dependency from somewhere else that's overriding you. to discover it, you can use <code>mvn dependency:tree</code> in a command line to see from where each version is resolved. And, if there's no other option, look into using <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow noreferrer\">dependencyManagement</a> in your pom.xml to impose a specific version.</p>\n<p>There is also the case that there is no vulnerability-free version available, in which case, you should either replace the library, or, if it's an acceptable risk, look into using suppression files (see example 7 in the plugin link above) for that particular CVE.</p>\n<p><a href=\"https://nvd.nist.gov/vuln/detail/CVE-2022-41946\" rel=\"nofollow noreferrer\">nvd.nist.gov</a> is a very good site where you can find details about each individual CVE. You can find the CVE number at the end of each finding in your report. Search for it on this website and it should tell you if there is any special remediation to be done or even how to reproduce to find out if you're vulnerable.</p>\n"}],"owner":{"account_id":27227436,"reputation":21,"user_id":20755725,"display_name":"Vignesh Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1670939888,"creation_date":1670840945,"question_id":74769713,"body_markdown":"I want to ask, that what to do when Owasp dependency-check finds vulnerabilities. \r\n\r\nI&#39;ve recently deployed to a project and I&#39;m a fresher, so I don&#39;t know what to do. \r\n\r\nI&#39;ve got a list of dependency those are vulnerabilities so how to find the stable one so that I can update that.\r\n\r\nHere is the error.\r\n\r\n\r\n```\r\nOne or more dependencies were identified with known vulnerabilities in &lt;Project-name&gt;:\r\n\r\ncommons-beanutils-1.9.4.jar (pkg:maven/commons-beanutils/commons-beanutils@1.9.4, cpe:2.3:a:apache:commons_beanutils:1.9.4:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:1.9.4:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-cli-1.4.jar (pkg:maven/commons-cli/commons-cli@1.4, cpe:2.3:a:apache:commons_net:1.4:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-codec-1.11.jar (pkg:maven/commons-codec/commons-codec@1.11, cpe:2.3:a:apache:commons_net:1.11:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-codec-1.15.jar (pkg:maven/commons-codec/commons-codec@1.15, cpe:2.3:a:apache:commons_net:1.15:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-collections-3.2.2.jar (pkg:maven/commons-collections/commons-collections@3.2.2, cpe:2.3:a:apache:commons_collections:3.2.2:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:3.2.2:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-fileupload-1.4.jar (pkg:maven/commons-fileupload/commons-fileupload@1.4, cpe:2.3:a:apache:commons_fileupload:1.4:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:1.4:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-io-2.6.jar (pkg:maven/commons-io/commons-io@2.6, cpe:2.3:a:apache:commons_net:2.6:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-io-2.7.jar (pkg:maven/commons-io/commons-io@2.7, cpe:2.3:a:apache:commons_io:2.7:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:2.7:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-lang-2.4.jar (pkg:maven/commons-lang/commons-lang@2.4, cpe:2.3:a:apache:commons_net:2.4:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-logging-1.2.jar (pkg:maven/commons-logging/commons-logging@1.2, cpe:2.3:a:apache:commons_net:1.2:*:*:*:*:*:*:*) : CVE-2021-37533\r\ncommons-text-1.7.jar (pkg:maven/org.apache.commons/commons-text@1.7, cpe:2.3:a:apache:commons_net:1.7:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_text:1.7:*:*:*:*:*:*:*) : CVE-2021-37533, CVE-2022-42889\r\njackson-databind-2.11.4.jar (pkg:maven/com.fasterxml.jackson.core/jackson-databind@2.11.4, cpe:2.3:a:fasterxml:jackson-databind:2.11.4:*:*:*:*:*:*:*) : CVE-2022-42003, CVE-2022-42004\r\nlang-tag-1.4.4.jar (pkg:maven/com.nimbusds/lang-tag@1.4.4, cpe:2.3:a:nim-lang:nim-lang:1.4.4:*:*:*:*:*:*:*, cpe:2.3:a:tag_project:tag:1.4.4:*:*:*:*:*:*:*) : CVE-2020-29242, CVE-2020-29243, CVE-2020-29244, CVE-2020-29245\r\nlogstash-logback-encoder-5.3.jar/META-INF/maven/commons-lang/commons-lang/pom.xml (pkg:maven/commons-lang/commons-lang@2.6, cpe:2.3:a:apache:commons_net:2.6:*:*:*:*:*:*:*) : CVE-2021-37533\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-buffer/pom.xml (pkg:maven/io.netty/netty-buffer@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec-dns/pom.xml (pkg:maven/io.netty/netty-codec-dns@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec-http/pom.xml (pkg:maven/io.netty/netty-codec-http@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec-socks/pom.xml (pkg:maven/io.netty/netty-codec-socks@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec/pom.xml (pkg:maven/io.netty/netty-codec@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-common/pom.xml (pkg:maven/io.netty/netty-common@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-handler-proxy/pom.xml (pkg:maven/io.netty/netty-handler-proxy@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-handler/pom.xml (pkg:maven/io.netty/netty-handler@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver-dns-classes-macos/pom.xml (pkg:maven/io.netty/netty-resolver-dns-classes-macos@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver-dns-native-macos/pom.xml (pkg:maven/io.netty/netty-resolver-dns-native-macos@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver-dns/pom.xml (pkg:maven/io.netty/netty-resolver-dns@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver/pom.xml (pkg:maven/io.netty/netty-resolver@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport-classes-epoll/pom.xml (pkg:maven/io.netty/netty-transport-classes-epoll@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport-native-epoll/pom.xml (pkg:maven/io.netty/netty-transport-native-epoll@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport-native-unix-common/pom.xml (pkg:maven/io.netty/netty-transport-native-unix-common@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport/pom.xml (pkg:maven/io.netty/netty-transport@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\r\npostgresql-42.2.18.jar (pkg:maven/org.postgresql/postgresql@42.2.18, cpe:2.3:a:postgresql:postgresql:42.2.18:*:*:*:*:*:*:*, cpe:2.3:a:postgresql:postgresql_jdbc_driver:42.2.18:*:*:*:*:*:*:*) : CVE-2022-31197, CVE-2022-41946\r\nscala-library-2.13.4.jar (pkg:maven/org.scala-lang/scala-library@2.13.4, cpe:2.3:a:scala-lang:scala:2.13.4:*:*:*:*:*:*:*) : CVE-2022-36944\r\nscala-reflect-2.13.2.jar (pkg:maven/org.scala-lang/scala-reflect@2.13.2, cpe:2.3:a:scala-lang:scala:2.13.2:*:*:*:*:*:*:*) : CVE-2022-36944\r\nsnakeyaml-1.27.jar (pkg:maven/org.yaml/snakeyaml@1.27, cpe:2.3:a:snakeyaml_project:snakeyaml:1.27:*:*:*:*:*:*:*, cpe:2.3:a:yaml_project:yaml:1.27:*:*:*:*:*:*:*) : CVE-2022-25857, CVE-2022-38749, CVE-2022-38750, CVE-2022-38751, CVE-2022-38752, CVE-2022-41854\r\nspring-security-config-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-config@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\r\nspring-security-core-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-core@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\r\nspring-security-crypto-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-crypto@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\r\nspring-security-web-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-web@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\r\ntomcat-embed-core-9.0.54.jar (pkg:maven/org.apache.tomcat.embed/tomcat-embed-core@9.0.54, cpe:2.3:a:apache:tomcat:9.0.54:*:*:*:*:*:*:*, cpe:2.3:a:apache_tomcat:apache_tomcat:9.0.54:*:*:*:*:*:*:*) : CVE-2021-43980, CVE-2022-34305, CVE-2022-42252\r\ntomcat-embed-websocket-9.0.55.jar (pkg:maven/org.apache.tomcat.embed/tomcat-embed-websocket@9.0.55, cpe:2.3:a:apache:tomcat:9.0.55:*:*:*:*:*:*:*, cpe:2.3:a:apache_tomcat:apache_tomcat:9.0.55:*:*:*:*:*:*:*) : CVE-2021-43980, CVE-2022-34305, CVE-2022-42252\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/com.fasterxml.jackson.core/jackson-databind/pom.xml (pkg:maven/com.fasterxml.jackson.core/jackson-databind@2.12.3, cpe:2.3:a:fasterxml:jackson-databind:2.12.3:*:*:*:*:*:*:*) : CVE-2022-42003, CVE-2022-42004\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/commons-io/commons-io/pom.xml (pkg:maven/commons-io/commons-io@2.9.0, cpe:2.3:a:apache:commons_io:2.9.0:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:2.9.0:*:*:*:*:*:*:*) : CVE-2021-37533\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.apache.commons/commons-lang3/pom.xml (pkg:maven/org.apache.commons/commons-lang3@3.8.1, cpe:2.3:a:apache:commons_net:3.8.1:*:*:*:*:*:*:*) : CVE-2021-37533\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.apache.commons/commons-text/pom.xml (pkg:maven/org.apache.commons/commons-text@1.6, cpe:2.3:a:apache:commons_net:1.6:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_text:1.6:*:*:*:*:*:*:*) : CVE-2021-37533, CVE-2022-42889\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty.http2/http2-common/pom.xml (pkg:maven/org.eclipse.jetty.http2/http2-common@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty.http2/http2-server/pom.xml (pkg:maven/org.eclipse.jetty.http2/http2-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty_http_server:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-client/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-client@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-conscrypt-client/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-conscrypt-client@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-conscrypt-server/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-conscrypt-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-server/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-client/pom.xml (pkg:maven/org.eclipse.jetty/jetty-client@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-continuation/pom.xml (pkg:maven/org.eclipse.jetty/jetty-continuation@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-http/pom.xml (pkg:maven/org.eclipse.jetty/jetty-http@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-security/pom.xml (pkg:maven/org.eclipse.jetty/jetty-security@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-server/pom.xml (pkg:maven/org.eclipse.jetty/jetty-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-servlet/pom.xml (pkg:maven/org.eclipse.jetty/jetty-servlet@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-servlets/pom.xml (pkg:maven/org.eclipse.jetty/jetty-servlets@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-util-ajax/pom.xml (pkg:maven/org.eclipse.jetty/jetty-util-ajax@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-util/pom.xml (pkg:maven/org.eclipse.jetty/jetty-util@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-webapp/pom.xml (pkg:maven/org.eclipse.jetty/jetty-webapp@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-xml/pom.xml (pkg:maven/org.eclipse.jetty/jetty-xml@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\r\n\r\n\r\nSee the dependency-check report for more details.\r\n```\r\n\r\nHelp will be highly appreciated.\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\nI&#39;m expecting any suggestion for the next step","title":"What to do when Owasp dependency finds vulnerabilities","body":"<p>I want to ask, that what to do when Owasp dependency-check finds vulnerabilities.</p>\n<p>I've recently deployed to a project and I'm a fresher, so I don't know what to do.</p>\n<p>I've got a list of dependency those are vulnerabilities so how to find the stable one so that I can update that.</p>\n<p>Here is the error.</p>\n<pre><code>One or more dependencies were identified with known vulnerabilities in &lt;Project-name&gt;:\n\ncommons-beanutils-1.9.4.jar (pkg:maven/commons-beanutils/commons-beanutils@1.9.4, cpe:2.3:a:apache:commons_beanutils:1.9.4:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:1.9.4:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-cli-1.4.jar (pkg:maven/commons-cli/commons-cli@1.4, cpe:2.3:a:apache:commons_net:1.4:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-codec-1.11.jar (pkg:maven/commons-codec/commons-codec@1.11, cpe:2.3:a:apache:commons_net:1.11:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-codec-1.15.jar (pkg:maven/commons-codec/commons-codec@1.15, cpe:2.3:a:apache:commons_net:1.15:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-collections-3.2.2.jar (pkg:maven/commons-collections/commons-collections@3.2.2, cpe:2.3:a:apache:commons_collections:3.2.2:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:3.2.2:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-fileupload-1.4.jar (pkg:maven/commons-fileupload/commons-fileupload@1.4, cpe:2.3:a:apache:commons_fileupload:1.4:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:1.4:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-io-2.6.jar (pkg:maven/commons-io/commons-io@2.6, cpe:2.3:a:apache:commons_net:2.6:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-io-2.7.jar (pkg:maven/commons-io/commons-io@2.7, cpe:2.3:a:apache:commons_io:2.7:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:2.7:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-lang-2.4.jar (pkg:maven/commons-lang/commons-lang@2.4, cpe:2.3:a:apache:commons_net:2.4:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-logging-1.2.jar (pkg:maven/commons-logging/commons-logging@1.2, cpe:2.3:a:apache:commons_net:1.2:*:*:*:*:*:*:*) : CVE-2021-37533\ncommons-text-1.7.jar (pkg:maven/org.apache.commons/commons-text@1.7, cpe:2.3:a:apache:commons_net:1.7:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_text:1.7:*:*:*:*:*:*:*) : CVE-2021-37533, CVE-2022-42889\njackson-databind-2.11.4.jar (pkg:maven/com.fasterxml.jackson.core/jackson-databind@2.11.4, cpe:2.3:a:fasterxml:jackson-databind:2.11.4:*:*:*:*:*:*:*) : CVE-2022-42003, CVE-2022-42004\nlang-tag-1.4.4.jar (pkg:maven/com.nimbusds/lang-tag@1.4.4, cpe:2.3:a:nim-lang:nim-lang:1.4.4:*:*:*:*:*:*:*, cpe:2.3:a:tag_project:tag:1.4.4:*:*:*:*:*:*:*) : CVE-2020-29242, CVE-2020-29243, CVE-2020-29244, CVE-2020-29245\nlogstash-logback-encoder-5.3.jar/META-INF/maven/commons-lang/commons-lang/pom.xml (pkg:maven/commons-lang/commons-lang@2.6, cpe:2.3:a:apache:commons_net:2.6:*:*:*:*:*:*:*) : CVE-2021-37533\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-buffer/pom.xml (pkg:maven/io.netty/netty-buffer@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec-dns/pom.xml (pkg:maven/io.netty/netty-codec-dns@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec-http/pom.xml (pkg:maven/io.netty/netty-codec-http@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec-socks/pom.xml (pkg:maven/io.netty/netty-codec-socks@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-codec/pom.xml (pkg:maven/io.netty/netty-codec@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-common/pom.xml (pkg:maven/io.netty/netty-common@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-handler-proxy/pom.xml (pkg:maven/io.netty/netty-handler-proxy@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-handler/pom.xml (pkg:maven/io.netty/netty-handler@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver-dns-classes-macos/pom.xml (pkg:maven/io.netty/netty-resolver-dns-classes-macos@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver-dns-native-macos/pom.xml (pkg:maven/io.netty/netty-resolver-dns-native-macos@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver-dns/pom.xml (pkg:maven/io.netty/netty-resolver-dns@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-resolver/pom.xml (pkg:maven/io.netty/netty-resolver@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport-classes-epoll/pom.xml (pkg:maven/io.netty/netty-transport-classes-epoll@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport-native-epoll/pom.xml (pkg:maven/io.netty/netty-transport-native-epoll@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport-native-unix-common/pom.xml (pkg:maven/io.netty/netty-transport-native-unix-common@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\nmicrometer-registry-statsd-1.8.1.jar/META-INF/maven/io.netty/netty-transport/pom.xml (pkg:maven/io.netty/netty-transport@4.1.70.Final, cpe:2.3:a:netty:netty:4.1.70:*:*:*:*:*:*:*) : CVE-2021-43797, CVE-2022-24823\npostgresql-42.2.18.jar (pkg:maven/org.postgresql/postgresql@42.2.18, cpe:2.3:a:postgresql:postgresql:42.2.18:*:*:*:*:*:*:*, cpe:2.3:a:postgresql:postgresql_jdbc_driver:42.2.18:*:*:*:*:*:*:*) : CVE-2022-31197, CVE-2022-41946\nscala-library-2.13.4.jar (pkg:maven/org.scala-lang/scala-library@2.13.4, cpe:2.3:a:scala-lang:scala:2.13.4:*:*:*:*:*:*:*) : CVE-2022-36944\nscala-reflect-2.13.2.jar (pkg:maven/org.scala-lang/scala-reflect@2.13.2, cpe:2.3:a:scala-lang:scala:2.13.2:*:*:*:*:*:*:*) : CVE-2022-36944\nsnakeyaml-1.27.jar (pkg:maven/org.yaml/snakeyaml@1.27, cpe:2.3:a:snakeyaml_project:snakeyaml:1.27:*:*:*:*:*:*:*, cpe:2.3:a:yaml_project:yaml:1.27:*:*:*:*:*:*:*) : CVE-2022-25857, CVE-2022-38749, CVE-2022-38750, CVE-2022-38751, CVE-2022-38752, CVE-2022-41854\nspring-security-config-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-config@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\nspring-security-core-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-core@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\nspring-security-crypto-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-crypto@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\nspring-security-web-5.4.9.jar (pkg:maven/org.springframework.security/spring-security-web@5.4.9, cpe:2.3:a:pivotal_software:spring_security:5.4.9:*:*:*:*:*:*:*) : CVE-2018-1258\ntomcat-embed-core-9.0.54.jar (pkg:maven/org.apache.tomcat.embed/tomcat-embed-core@9.0.54, cpe:2.3:a:apache:tomcat:9.0.54:*:*:*:*:*:*:*, cpe:2.3:a:apache_tomcat:apache_tomcat:9.0.54:*:*:*:*:*:*:*) : CVE-2021-43980, CVE-2022-34305, CVE-2022-42252\ntomcat-embed-websocket-9.0.55.jar (pkg:maven/org.apache.tomcat.embed/tomcat-embed-websocket@9.0.55, cpe:2.3:a:apache:tomcat:9.0.55:*:*:*:*:*:*:*, cpe:2.3:a:apache_tomcat:apache_tomcat:9.0.55:*:*:*:*:*:*:*) : CVE-2021-43980, CVE-2022-34305, CVE-2022-42252\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/com.fasterxml.jackson.core/jackson-databind/pom.xml (pkg:maven/com.fasterxml.jackson.core/jackson-databind@2.12.3, cpe:2.3:a:fasterxml:jackson-databind:2.12.3:*:*:*:*:*:*:*) : CVE-2022-42003, CVE-2022-42004\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/commons-io/commons-io/pom.xml (pkg:maven/commons-io/commons-io@2.9.0, cpe:2.3:a:apache:commons_io:2.9.0:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_net:2.9.0:*:*:*:*:*:*:*) : CVE-2021-37533\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.apache.commons/commons-lang3/pom.xml (pkg:maven/org.apache.commons/commons-lang3@3.8.1, cpe:2.3:a:apache:commons_net:3.8.1:*:*:*:*:*:*:*) : CVE-2021-37533\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.apache.commons/commons-text/pom.xml (pkg:maven/org.apache.commons/commons-text@1.6, cpe:2.3:a:apache:commons_net:1.6:*:*:*:*:*:*:*, cpe:2.3:a:apache:commons_text:1.6:*:*:*:*:*:*:*) : CVE-2021-37533, CVE-2022-42889\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty.http2/http2-common/pom.xml (pkg:maven/org.eclipse.jetty.http2/http2-common@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty.http2/http2-server/pom.xml (pkg:maven/org.eclipse.jetty.http2/http2-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty_http_server:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-client/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-client@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-conscrypt-client/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-conscrypt-client@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-conscrypt-server/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-conscrypt-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-alpn-server/pom.xml (pkg:maven/org.eclipse.jetty/jetty-alpn-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-client/pom.xml (pkg:maven/org.eclipse.jetty/jetty-client@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-continuation/pom.xml (pkg:maven/org.eclipse.jetty/jetty-continuation@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-http/pom.xml (pkg:maven/org.eclipse.jetty/jetty-http@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-security/pom.xml (pkg:maven/org.eclipse.jetty/jetty-security@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-server/pom.xml (pkg:maven/org.eclipse.jetty/jetty-server@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-servlet/pom.xml (pkg:maven/org.eclipse.jetty/jetty-servlet@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-servlets/pom.xml (pkg:maven/org.eclipse.jetty/jetty-servlets@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-util-ajax/pom.xml (pkg:maven/org.eclipse.jetty/jetty-util-ajax@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-util/pom.xml (pkg:maven/org.eclipse.jetty/jetty-util@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-webapp/pom.xml (pkg:maven/org.eclipse.jetty/jetty-webapp@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\nwiremock-jre8-standalone-2.28.1.jar/META-INF/maven/org.eclipse.jetty/jetty-xml/pom.xml (pkg:maven/org.eclipse.jetty/jetty-xml@9.4.41.v20210516, cpe:2.3:a:eclipse:jetty:9.4.41:20210516:*:*:*:*:*:*, cpe:2.3:a:jetty:jetty:9.4.41:20210516:*:*:*:*:*:*) : CVE-2022-2047, CVE-2022-2048\n\n\nSee the dependency-check report for more details.\n</code></pre>\n<p>Help will be highly appreciated.</p>\n<p>Thanks</p>\n<p>I'm expecting any suggestion for the next step</p>\n"},{"tags":["java","android","unity-game-engine","bluetooth","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":2599975,"reputation":59,"user_id":2252671,"accept_rate":57,"display_name":"user2252671"},"score":0,"creation_date":1682344181,"post_id":73430196,"comment_id":134195694,"body_markdown":"Hi @JungJaeWoo I am working on something similar, but I get an error when I call activity.requestPermissions. &quot;AndroidJavaException: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/core/app/ActivityCompat;&quot; . I am setting the activity from unity  &quot; AndroidJavaClass unityClass = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\n                AndroidJavaObject activity = unityClass.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\n                _pluginClass.SetStatic&lt;AndroidJavaObject&gt;(&quot;mainActivity&quot;, activity);. **any hint what is the issue?**","body":"Hi @JungJaeWoo I am working on something similar, but I get an error when I call activity.requestPermissions. &quot;AndroidJavaException: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/core/app/ActivityCompat;&quot; . I am setting the activity from unity  &quot; AndroidJavaClass unityClass = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);                 AndroidJavaObject activity = unityClass.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);                 _pluginClass.SetStatic&lt;AndroidJavaObject&gt;(&quot;mainActivity&quot;, activity);. <b>any hint what is the issue?</b>"}],"answers":[{"tags":[],"owner":{"account_id":26117569,"reputation":1,"user_id":19810436,"display_name":"JungJaeWoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661090229,"creation_date":1661090229,"answer_id":73435140,"question_id":73430196,"body_markdown":"I found the solution!\r\n\r\nThe problem was that I tried to use Toast method which should be used in UI thread, but the callback is actually called in binder thread, so the thread was terminated before starting discoverServices. \r\n\r\nAlso, be sure that connectGatt, disconnect, close should be run in the main thread, maybe in some devices, so using new Handler(Looper.getMainLooper()).post is recommended.\r\n\r\n\r\n&gt; ConnectGatt must be called in ui thread on some kind of phonesIn\r\n&gt; Android-BLE-Library BleManagerHandler::enqueue can be called in\r\n&gt; worker thread, BluetoothGattCallback::onConnectionStateChange is also\r\n&gt; called in binder thread . so this two condition could cause this\r\n&gt; issue!\r\n\r\n(https://github.com/NordicSemiconductor/Android-BLE-Library/issues/159)","title":"connecting BLE with Unity doesn&#39;t work. (scan works.)","body":"<p>I found the solution!</p>\n<p>The problem was that I tried to use Toast method which should be used in UI thread, but the callback is actually called in binder thread, so the thread was terminated before starting discoverServices.</p>\n<p>Also, be sure that connectGatt, disconnect, close should be run in the main thread, maybe in some devices, so using new Handler(Looper.getMainLooper()).post is recommended.</p>\n<blockquote>\n<p>ConnectGatt must be called in ui thread on some kind of phonesIn\nAndroid-BLE-Library BleManagerHandler::enqueue can be called in\nworker thread, BluetoothGattCallback::onConnectionStateChange is also\ncalled in binder thread . so this two condition could cause this\nissue!</p>\n</blockquote>\n<p>(<a href=\"https://github.com/NordicSemiconductor/Android-BLE-Library/issues/159\" rel=\"nofollow noreferrer\">https://github.com/NordicSemiconductor/Android-BLE-Library/issues/159</a>)</p>\n"}],"owner":{"account_id":26117569,"reputation":1,"user_id":19810436,"display_name":"JungJaeWoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670939806,"creation_date":1661030107,"question_id":73430196,"body_markdown":"I have a trouble with connecting BLE devices with Unity. \r\n\r\nActually, scanning was successful. \r\nBut connecting doesn&#39;t work at all.\r\n\r\nTo use BLE in Unity, I made a plugin using Android Studio.\r\n\r\nI don&#39;t know why \r\ndevice.connectGatt(current_activity, false, gattClientCallback); \r\ndoesn&#39;t make my BLE peripheral device(Arduino Nano 33 BLE) connects even though it returns BluetoothGATT correctly. \r\nThe text &quot;set ble_gatt : true&quot; shows when I called \r\nBLE.bleControllerObj.Call(&quot;connect&quot;, address); in Unity. (This calls connect function of plugin/)\r\nHowever, the connection doesn&#39;t happen, i.e. the callback onConnectionStateChange isn&#39;t called at all. (I know because &quot;Connection success!&quot; doesn&#39;t appear.)\r\nThe strange thing is that after device.connectGatt(current_activity, false, gattClientCallback); executed, then the ble peripheral device stops advertising without connecting, so I can&#39;t scan the ble device by other apps before terminating Unity app. I guess connecting request is sent to the ble peripheral device.\r\n\r\n(Here, BLE is the name of Unity script, and bleControllerObj is an AndroidJavaObject instance in Unity.)\r\n\r\nAlso, I checked my device and peripheral ble device can be connected with existing nRF Connect app. \r\n\r\nPlease let me know what I&#39;m missing. Or should I upload my Unity script too?\r\n\r\n\r\nHere is a full code of java plugin I used.\r\n\r\n```\r\npackage com.example.ble;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Activity;\r\nimport android.bluetooth.BluetoothAdapter;\r\nimport android.bluetooth.BluetoothDevice;\r\nimport android.bluetooth.BluetoothGatt;\r\nimport android.bluetooth.BluetoothGattCallback;\r\nimport android.bluetooth.BluetoothGattCharacteristic;\r\nimport android.bluetooth.BluetoothManager;\r\nimport android.bluetooth.BluetoothProfile;\r\nimport android.bluetooth.le.BluetoothLeScanner;\r\nimport android.bluetooth.le.ScanCallback;\r\nimport android.bluetooth.le.ScanResult;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.util.Log;\r\nimport android.widget.Toast;\r\n\r\n\r\npublic class BLEcontroller {\r\n\r\n    public static Activity current_activity;\r\n    public static Context context;\r\n    public static BLEcontroller instance;\r\n\r\n    public BluetoothAdapter ble_adapter;\r\n    public BluetoothLeScanner leScanner;\r\n    public List&lt;BluetoothDevice&gt; scanned_devices = new ArrayList&lt;BluetoothDevice&gt;();\r\n    public boolean connected_ = false;\r\n    public BluetoothGatt ble_gatt;\r\n    public BluetoothManager ble_manager;\r\n\r\n    private void showText(String msg) {\r\n        Toast.makeText(context, msg, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n\r\n    public static BLEcontroller getInstance() {\r\n        if (instance == null) {\r\n            instance = new BLEcontroller();\r\n            current_activity = UnityPlayer.currentActivity;\r\n            context = UnityPlayer.currentActivity.getApplicationContext();\r\n        }\r\n\r\n        instance.scanned_devices= new ArrayList&lt;BluetoothDevice&gt;();\r\n\r\n        return instance;\r\n    }\r\n\r\n    public void setContext(Activity _activity, Context _context){\r\n        current_activity=_activity;\r\n        context=_context;\r\n    }\r\n\r\n    public void init() {\r\n        Log.e(&quot;Unity&quot;, &quot;init start!!!&quot; );\r\n        ble_manager = (BluetoothManager) current_activity.getSystemService(Context.BLUETOOTH_SERVICE);\r\n        ble_adapter = ble_manager.getAdapter();\r\n\r\n        Toast.makeText(context, &quot;init start and scanner : &quot;+(leScanner!=null), Toast.LENGTH_SHORT).show();\r\n        Log.e(&quot;Unity&quot;, &quot;init start and scanner : &quot;+(leScanner!=null) );\r\n        checkBLEAvailable();\r\n\r\n        leScanner = ble_adapter.getBluetoothLeScanner();\r\n\r\n        if (!current_activity.getPackageManager().hasSystemFeature(PackageManager.FEATURE_BLUETOOTH_LE)) {\r\n            Toast.makeText(context, &quot;BlE isn&#39;t supported.&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        if (leScanner == null) {\r\n            Toast.makeText(context, &quot;scanner is null&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    private void checkBLEAvailable() {\r\n\r\n        if (ble_adapter == null || !ble_adapter.isEnabled()) {\r\n            showText(&quot;ble is disabled&quot;);\r\n            requestEnableBle();\r\n        }\r\n\r\n        requestPermissions();\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    public void startScan() {\r\n        showText(&quot;There were &quot; + scanned_devices.size() + &quot; devices&quot;);\r\n        scanned_devices.clear();\r\n        Log.e(&quot;Unity&quot;, &quot;clear devices&quot;);\r\n        if (leScanner == null) {\r\n            showText(&quot;leScanner was null!&quot;);\r\n            Log.e(&quot;Unity&quot;, &quot;leScanner is null!&quot;);\r\n        }\r\n        Log.e(&quot;Unity&quot;, &quot;startScan in java.&quot;);\r\n        leScanner.startScan(mScanCallback);\r\n        showText(&quot;start scan&quot;);\r\n\r\n    }\r\n\r\n\r\n    public int getScanned_devicesNum(){\r\n        return scanned_devices.size();\r\n    }\r\n\r\n    public boolean isConnected(){\r\n        return connected_;\r\n    }\r\n\r\n    public BluetoothDevice getScanned_device(int i){\r\n        return scanned_devices.get(i);\r\n    }\r\n\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    public void stopScan(){\r\n        leScanner.stopScan(mScanCallback);\r\n        showText(&quot;scan stop.&quot;);\r\n    }\r\n\r\n    private ScanCallback mScanCallback = new ScanCallback() {\r\n        @Override\r\n        public void onScanResult(int callbackType, ScanResult result) {\r\n            processResult(result);\r\n        }\r\n\r\n        @Override\r\n        public void onBatchScanResults(List&lt;ScanResult&gt; results) {\r\n            for (ScanResult result : results) {\r\n                processResult(result);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onScanFailed(int errorCode) {\r\n            showText(&quot;scanFailed with &quot;+errorCode);\r\n        }\r\n\r\n        @SuppressLint(&quot;MissingPermission&quot;)\r\n        private void processResult(final ScanResult result) {\r\n            boolean add_result=true;\r\n            if(result.getDevice().getName()==null) {\r\n                Log.e(&quot;Unity&quot;, &quot;No device name&quot;);\r\n                add_result = false;\r\n            }\r\n            for (BluetoothDevice device : scanned_devices){\r\n                if (device.getAddress()==result.getDevice().getAddress()){\r\n                    Log.e(&quot;Unity&quot;, &quot;Already exists : &quot; +device.getName());\r\n                    add_result=false;\r\n                }\r\n            }\r\n            if (add_result){\r\n                scanned_devices.add(result.getDevice());\r\n            }\r\n            tidyUpScanned_devices();\r\n        }\r\n    };\r\n\r\n    public void tidyUpScanned_devices(){\r\n        ArrayList&lt;BluetoothDevice&gt; arrayList=new ArrayList&lt;&gt;();\r\n\r\n        for (int i=0; i&lt;scanned_devices.size(); i++){\r\n            if (getDeviceIndex(arrayList, scanned_devices.get(i))==-1){\r\n                arrayList.add(scanned_devices.get(i));\r\n            }\r\n        }\r\n        scanned_devices.clear();\r\n        scanned_devices=arrayList;\r\n    }\r\n\r\n    private int getDeviceIndex(List&lt;BluetoothDevice&gt; list, BluetoothDevice device){\r\n        for (int i=0; i&lt;list.size(); i++){\r\n            if (device.getAddress().equalsIgnoreCase(list.get(i).getAddress())){\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    public void connect(String address) {\r\n        if (!ble_adapter.isEnabled()) {\r\n            showText(&quot;Turn on BLE&quot;);\r\n            return;\r\n        }\r\n\r\n        for (BluetoothDevice device : scanned_devices) {\r\n            if (device.getAddress().equals(address)) {\r\n                showText((&quot;try connecting device : &quot; + address));\r\n                disconnectGattServer();\r\n                ble_gatt = device.connectGatt(current_activity, false, gattClientCallback);\r\n                showText(&quot;set ble_gatt : &quot; + (ble_gatt != null));\r\n            }\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    public void connect() {\r\n        if (!ble_adapter.isEnabled()) {\r\n            showText(&quot;Turn on BLE&quot;);\r\n            return;\r\n        }\r\n\r\n        for (BluetoothDevice device : scanned_devices) {\r\n            showText((&quot;try connecting device : &quot; + device.getAddress()));\r\n            disconnectGattServer();\r\n            ble_gatt = device.connectGatt(current_activity, false, gattClientCallback);\r\n            showText(&quot;set ble_gatt : &quot; + (ble_gatt != null));\r\n            return;\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    public void disconnectGattServer() {\r\n        /*showText(&quot;Closing Gatt connection&quot;);\r\n        // reset the connection flag\r\n        connected_ = false;\r\n        // disconnect and close the gatt\r\n        if (ble_gatt != null) {\r\n            ble_gatt.disconnect();\r\n            ble_gatt.close();\r\n        }*/\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    // Gatt Client Callback class\r\n    private BluetoothGattCallback gattClientCallback=new BluetoothGattCallback() {\r\n\r\n        @Override\r\n        public void onConnectionStateChange(BluetoothGatt _gatt, int _status, int _new_state) {\r\n            super.onConnectionStateChange(_gatt, _status, _new_state);\r\n            showText(&quot;Connection Success!&quot;);\r\n            if (_status != BluetoothGatt.GATT_SUCCESS) {\r\n                showText(&quot;failed connecting&quot;);\r\n                disconnectGattServer();\r\n                return;\r\n            }\r\n            if (_new_state == BluetoothProfile.STATE_CONNECTED) {\r\n                // set the connection flag\r\n                connected_ = true;\r\n                showText(&quot;Connected to the GATT server&quot;);\r\n                _gatt.discoverServices();\r\n            } else if (_new_state == BluetoothProfile.STATE_DISCONNECTED) {\r\n                disconnectGattServer();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onServicesDiscovered(BluetoothGatt _gatt, int _status) {\r\n            super.onServicesDiscovered(_gatt, _status);\r\n            // check if the discovery failed\r\n            if (_status != BluetoothGatt.GATT_SUCCESS) {\r\n                showText(&quot;Device service discovery failed, status: &quot; + _status);\r\n                return;\r\n            }\r\n            showText(&quot;service discovered : &quot;+_gatt.getServices().get(0).getUuid());\r\n        }\r\n\r\n        @Override\r\n        public void onCharacteristicChanged(BluetoothGatt _gatt, BluetoothGattCharacteristic _characteristic) {\r\n            super.onCharacteristicChanged(_gatt, _characteristic);\r\n\r\n            showText( &quot;characteristic changed: &quot; + _characteristic.getValue().toString());\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onCharacteristicWrite(BluetoothGatt _gatt, BluetoothGattCharacteristic _characteristic, int _status) {\r\n            super.onCharacteristicWrite(_gatt, _characteristic, _status);\r\n            if (_status == BluetoothGatt.GATT_SUCCESS) {\r\n                showText(&quot;Characteristic written successfully&quot;);\r\n            } else {\r\n                showText(&quot;Characteristic write unsuccessful, status: &quot; + _status);\r\n                disconnectGattServer();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\r\n            super.onCharacteristicRead(gatt, characteristic, status);\r\n            if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                showText(&quot;Characteristic read successfully&quot;);\r\n            } else {\r\n                showText(&quot;Characteristic read unsuccessful, status: &quot; + status);\r\n            }\r\n        }\r\n\r\n        // Log the value of the characteristic\r\n        // @param characteristic\r\n        private void readCharacteristic(BluetoothGattCharacteristic _characteristic) {\r\n            byte[] msg = _characteristic.getValue();\r\n            showText( &quot;read: &quot; + msg.toString());\r\n        }\r\n    };\r\n\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    private void requestEnableBle() {\r\n        Intent ble_enable_intent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n        current_activity.startActivityForResult(ble_enable_intent, 1);\r\n\r\n    }\r\n\r\n    private void requestPermissions(){\r\n        current_activity.requestPermissions(\r\n                new String[] {Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.BLUETOOTH_SCAN,\r\n                Manifest.permission.BLUETOOTH_CONNECT}, 2);\r\n    }\r\n\r\n}\r\n```\r\n","title":"connecting BLE with Unity doesn&#39;t work. (scan works.)","body":"<p>I have a trouble with connecting BLE devices with Unity.</p>\n<p>Actually, scanning was successful.\nBut connecting doesn't work at all.</p>\n<p>To use BLE in Unity, I made a plugin using Android Studio.</p>\n<p>I don't know why\ndevice.connectGatt(current_activity, false, gattClientCallback);\ndoesn't make my BLE peripheral device(Arduino Nano 33 BLE) connects even though it returns BluetoothGATT correctly.\nThe text &quot;set ble_gatt : true&quot; shows when I called\nBLE.bleControllerObj.Call(&quot;connect&quot;, address); in Unity. (This calls connect function of plugin/)\nHowever, the connection doesn't happen, i.e. the callback onConnectionStateChange isn't called at all. (I know because &quot;Connection success!&quot; doesn't appear.)\nThe strange thing is that after device.connectGatt(current_activity, false, gattClientCallback); executed, then the ble peripheral device stops advertising without connecting, so I can't scan the ble device by other apps before terminating Unity app. I guess connecting request is sent to the ble peripheral device.</p>\n<p>(Here, BLE is the name of Unity script, and bleControllerObj is an AndroidJavaObject instance in Unity.)</p>\n<p>Also, I checked my device and peripheral ble device can be connected with existing nRF Connect app.</p>\n<p>Please let me know what I'm missing. Or should I upload my Unity script too?</p>\n<p>Here is a full code of java plugin I used.</p>\n<pre><code>package com.example.ble;\n\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothGatt;\nimport android.bluetooth.BluetoothGattCallback;\nimport android.bluetooth.BluetoothGattCharacteristic;\nimport android.bluetooth.BluetoothManager;\nimport android.bluetooth.BluetoothProfile;\nimport android.bluetooth.le.BluetoothLeScanner;\nimport android.bluetooth.le.ScanCallback;\nimport android.bluetooth.le.ScanResult;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.util.Log;\nimport android.widget.Toast;\n\n\npublic class BLEcontroller {\n\n    public static Activity current_activity;\n    public static Context context;\n    public static BLEcontroller instance;\n\n    public BluetoothAdapter ble_adapter;\n    public BluetoothLeScanner leScanner;\n    public List&lt;BluetoothDevice&gt; scanned_devices = new ArrayList&lt;BluetoothDevice&gt;();\n    public boolean connected_ = false;\n    public BluetoothGatt ble_gatt;\n    public BluetoothManager ble_manager;\n\n    private void showText(String msg) {\n        Toast.makeText(context, msg, Toast.LENGTH_SHORT).show();\n    }\n\n\n    public static BLEcontroller getInstance() {\n        if (instance == null) {\n            instance = new BLEcontroller();\n            current_activity = UnityPlayer.currentActivity;\n            context = UnityPlayer.currentActivity.getApplicationContext();\n        }\n\n        instance.scanned_devices= new ArrayList&lt;BluetoothDevice&gt;();\n\n        return instance;\n    }\n\n    public void setContext(Activity _activity, Context _context){\n        current_activity=_activity;\n        context=_context;\n    }\n\n    public void init() {\n        Log.e(&quot;Unity&quot;, &quot;init start!!!&quot; );\n        ble_manager = (BluetoothManager) current_activity.getSystemService(Context.BLUETOOTH_SERVICE);\n        ble_adapter = ble_manager.getAdapter();\n\n        Toast.makeText(context, &quot;init start and scanner : &quot;+(leScanner!=null), Toast.LENGTH_SHORT).show();\n        Log.e(&quot;Unity&quot;, &quot;init start and scanner : &quot;+(leScanner!=null) );\n        checkBLEAvailable();\n\n        leScanner = ble_adapter.getBluetoothLeScanner();\n\n        if (!current_activity.getPackageManager().hasSystemFeature(PackageManager.FEATURE_BLUETOOTH_LE)) {\n            Toast.makeText(context, &quot;BlE isn't supported.&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        if (leScanner == null) {\n            Toast.makeText(context, &quot;scanner is null&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n\n\n\n    private void checkBLEAvailable() {\n\n        if (ble_adapter == null || !ble_adapter.isEnabled()) {\n            showText(&quot;ble is disabled&quot;);\n            requestEnableBle();\n        }\n\n        requestPermissions();\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    public void startScan() {\n        showText(&quot;There were &quot; + scanned_devices.size() + &quot; devices&quot;);\n        scanned_devices.clear();\n        Log.e(&quot;Unity&quot;, &quot;clear devices&quot;);\n        if (leScanner == null) {\n            showText(&quot;leScanner was null!&quot;);\n            Log.e(&quot;Unity&quot;, &quot;leScanner is null!&quot;);\n        }\n        Log.e(&quot;Unity&quot;, &quot;startScan in java.&quot;);\n        leScanner.startScan(mScanCallback);\n        showText(&quot;start scan&quot;);\n\n    }\n\n\n    public int getScanned_devicesNum(){\n        return scanned_devices.size();\n    }\n\n    public boolean isConnected(){\n        return connected_;\n    }\n\n    public BluetoothDevice getScanned_device(int i){\n        return scanned_devices.get(i);\n    }\n\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    public void stopScan(){\n        leScanner.stopScan(mScanCallback);\n        showText(&quot;scan stop.&quot;);\n    }\n\n    private ScanCallback mScanCallback = new ScanCallback() {\n        @Override\n        public void onScanResult(int callbackType, ScanResult result) {\n            processResult(result);\n        }\n\n        @Override\n        public void onBatchScanResults(List&lt;ScanResult&gt; results) {\n            for (ScanResult result : results) {\n                processResult(result);\n            }\n        }\n\n        @Override\n        public void onScanFailed(int errorCode) {\n            showText(&quot;scanFailed with &quot;+errorCode);\n        }\n\n        @SuppressLint(&quot;MissingPermission&quot;)\n        private void processResult(final ScanResult result) {\n            boolean add_result=true;\n            if(result.getDevice().getName()==null) {\n                Log.e(&quot;Unity&quot;, &quot;No device name&quot;);\n                add_result = false;\n            }\n            for (BluetoothDevice device : scanned_devices){\n                if (device.getAddress()==result.getDevice().getAddress()){\n                    Log.e(&quot;Unity&quot;, &quot;Already exists : &quot; +device.getName());\n                    add_result=false;\n                }\n            }\n            if (add_result){\n                scanned_devices.add(result.getDevice());\n            }\n            tidyUpScanned_devices();\n        }\n    };\n\n    public void tidyUpScanned_devices(){\n        ArrayList&lt;BluetoothDevice&gt; arrayList=new ArrayList&lt;&gt;();\n\n        for (int i=0; i&lt;scanned_devices.size(); i++){\n            if (getDeviceIndex(arrayList, scanned_devices.get(i))==-1){\n                arrayList.add(scanned_devices.get(i));\n            }\n        }\n        scanned_devices.clear();\n        scanned_devices=arrayList;\n    }\n\n    private int getDeviceIndex(List&lt;BluetoothDevice&gt; list, BluetoothDevice device){\n        for (int i=0; i&lt;list.size(); i++){\n            if (device.getAddress().equalsIgnoreCase(list.get(i).getAddress())){\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    public void connect(String address) {\n        if (!ble_adapter.isEnabled()) {\n            showText(&quot;Turn on BLE&quot;);\n            return;\n        }\n\n        for (BluetoothDevice device : scanned_devices) {\n            if (device.getAddress().equals(address)) {\n                showText((&quot;try connecting device : &quot; + address));\n                disconnectGattServer();\n                ble_gatt = device.connectGatt(current_activity, false, gattClientCallback);\n                showText(&quot;set ble_gatt : &quot; + (ble_gatt != null));\n            }\n        }\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    public void connect() {\n        if (!ble_adapter.isEnabled()) {\n            showText(&quot;Turn on BLE&quot;);\n            return;\n        }\n\n        for (BluetoothDevice device : scanned_devices) {\n            showText((&quot;try connecting device : &quot; + device.getAddress()));\n            disconnectGattServer();\n            ble_gatt = device.connectGatt(current_activity, false, gattClientCallback);\n            showText(&quot;set ble_gatt : &quot; + (ble_gatt != null));\n            return;\n        }\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    public void disconnectGattServer() {\n        /*showText(&quot;Closing Gatt connection&quot;);\n        // reset the connection flag\n        connected_ = false;\n        // disconnect and close the gatt\n        if (ble_gatt != null) {\n            ble_gatt.disconnect();\n            ble_gatt.close();\n        }*/\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    // Gatt Client Callback class\n    private BluetoothGattCallback gattClientCallback=new BluetoothGattCallback() {\n\n        @Override\n        public void onConnectionStateChange(BluetoothGatt _gatt, int _status, int _new_state) {\n            super.onConnectionStateChange(_gatt, _status, _new_state);\n            showText(&quot;Connection Success!&quot;);\n            if (_status != BluetoothGatt.GATT_SUCCESS) {\n                showText(&quot;failed connecting&quot;);\n                disconnectGattServer();\n                return;\n            }\n            if (_new_state == BluetoothProfile.STATE_CONNECTED) {\n                // set the connection flag\n                connected_ = true;\n                showText(&quot;Connected to the GATT server&quot;);\n                _gatt.discoverServices();\n            } else if (_new_state == BluetoothProfile.STATE_DISCONNECTED) {\n                disconnectGattServer();\n            }\n        }\n\n        @Override\n        public void onServicesDiscovered(BluetoothGatt _gatt, int _status) {\n            super.onServicesDiscovered(_gatt, _status);\n            // check if the discovery failed\n            if (_status != BluetoothGatt.GATT_SUCCESS) {\n                showText(&quot;Device service discovery failed, status: &quot; + _status);\n                return;\n            }\n            showText(&quot;service discovered : &quot;+_gatt.getServices().get(0).getUuid());\n        }\n\n        @Override\n        public void onCharacteristicChanged(BluetoothGatt _gatt, BluetoothGattCharacteristic _characteristic) {\n            super.onCharacteristicChanged(_gatt, _characteristic);\n\n            showText( &quot;characteristic changed: &quot; + _characteristic.getValue().toString());\n\n        }\n\n        @Override\n        public void onCharacteristicWrite(BluetoothGatt _gatt, BluetoothGattCharacteristic _characteristic, int _status) {\n            super.onCharacteristicWrite(_gatt, _characteristic, _status);\n            if (_status == BluetoothGatt.GATT_SUCCESS) {\n                showText(&quot;Characteristic written successfully&quot;);\n            } else {\n                showText(&quot;Characteristic write unsuccessful, status: &quot; + _status);\n                disconnectGattServer();\n            }\n        }\n\n        @Override\n        public void onCharacteristicRead(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic, int status) {\n            super.onCharacteristicRead(gatt, characteristic, status);\n            if (status == BluetoothGatt.GATT_SUCCESS) {\n                showText(&quot;Characteristic read successfully&quot;);\n            } else {\n                showText(&quot;Characteristic read unsuccessful, status: &quot; + status);\n            }\n        }\n\n        // Log the value of the characteristic\n        // @param characteristic\n        private void readCharacteristic(BluetoothGattCharacteristic _characteristic) {\n            byte[] msg = _characteristic.getValue();\n            showText( &quot;read: &quot; + msg.toString());\n        }\n    };\n\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    private void requestEnableBle() {\n        Intent ble_enable_intent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n        current_activity.startActivityForResult(ble_enable_intent, 1);\n\n    }\n\n    private void requestPermissions(){\n        current_activity.requestPermissions(\n                new String[] {Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.BLUETOOTH_SCAN,\n                Manifest.permission.BLUETOOTH_CONNECT}, 2);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","hql"],"owner":{"account_id":15874014,"reputation":21,"user_id":11453801,"display_name":"Lucas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670939724,"creation_date":1670939724,"question_id":74785953,"body_markdown":"I have a problem with Spring or Hibernate. \r\n\r\nLets say i have a class call Dad with a list of Child.\r\n\r\n```\r\npublic class Dad {\r\n    private Long id;\r\n    \r\n    @OneToMany(mappedBy=&quot;dad&quot;, cascade = CascadeType.ALL)\r\n    @Where(clause = &quot;exclude_date is null&quot;)\r\n    private List&lt;Child&gt; childs\r\n}\r\n\r\npublic class Child{\r\n    private Long id;\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;dad_id&quot;)\r\n    private Dad dad;\r\n\r\n    private Calendar excludeDate;\r\n\r\n}\r\n\r\ncontroller:\r\n\r\n  @PutMapping\r\n  @Transactional\r\n  public ResponseEntity&lt;JSONObject&gt; update(@RequestBody Dad dad){\r\n\r\ntry{\r\n   service.saveOrUpdate(dad);\r\n}catch (Exception e){\r\n   return sucess;\r\n}\r\n\r\ntry {\r\n   D newDto = service.findById(dad.getId());\r\n   return sucess;\r\n} catch (Exception e) {\r\n   return error;\r\n}\r\n  }\r\n```\r\n\r\nIn my controller i have a PUT method that a when i receive a object Dad whith a child with excludeDate set i updated the objects. But because of my @Where condition the return of dad should be without the excluded childs. But is not working. \r\n\r\nWhen i debug the code i find out that Spring or Hibernate identify the list of childs on the save as @123 and when i do the findById i get the same list @123 so probably the list is not being reloaded from the database.\r\n","title":"Spring or Hibernate reutilizes the result of a previous consult","body":"<p>I have a problem with Spring or Hibernate.</p>\n<p>Lets say i have a class call Dad with a list of Child.</p>\n<pre><code>public class Dad {\n    private Long id;\n    \n    @OneToMany(mappedBy=&quot;dad&quot;, cascade = CascadeType.ALL)\n    @Where(clause = &quot;exclude_date is null&quot;)\n    private List&lt;Child&gt; childs\n}\n\npublic class Child{\n    private Long id;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;dad_id&quot;)\n    private Dad dad;\n\n    private Calendar excludeDate;\n\n}\n\ncontroller:\n\n  @PutMapping\n  @Transactional\n  public ResponseEntity&lt;JSONObject&gt; update(@RequestBody Dad dad){\n\ntry{\n   service.saveOrUpdate(dad);\n}catch (Exception e){\n   return sucess;\n}\n\ntry {\n   D newDto = service.findById(dad.getId());\n   return sucess;\n} catch (Exception e) {\n   return error;\n}\n  }\n</code></pre>\n<p>In my controller i have a PUT method that a when i receive a object Dad whith a child with excludeDate set i updated the objects. But because of my @Where condition the return of dad should be without the excluded childs. But is not working.</p>\n<p>When i debug the code i find out that Spring or Hibernate identify the list of childs on the save as @123 and when i do the findById i get the same list @123 so probably the list is not being reloaded from the database.</p>\n"},{"tags":["java","spring-boot","logging","log4j2"],"comments":[{"owner":{"account_id":11516104,"reputation":155,"user_id":8439424,"display_name":"yobb"},"score":0,"creation_date":1670927485,"post_id":74783286,"comment_id":131981071,"body_markdown":"This seems related but did not get an answer https://stackoverflow.com/q/73432624/8439424","body":"This seems related but did not get an answer <a href=\"https://stackoverflow.com/q/73432624/8439424\">stackoverflow.com/q/73432624/8439424</a>"}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670939623,"creation_date":1670939623,"answer_id":74785931,"question_id":74783286,"body_markdown":"The `spring-boot-starter-parent` POM files manages the version of hundreds of library versions (cf. its parent [`spring-boot-dependencies`](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-dependencies), where the `&lt;dependencyManagement&gt;` occurs). All Log4j2 artifacts are among them.\r\n\r\nEven if `log4j-layout-template-json:2.18.0` has a dependency on `log4j-core:2.18.0`, Maven will select version `2.17.2` of the latter and cause the version problem you are experiencing.\r\n\r\nIn order for all Log4j2 artifacts to have the same version, you need to override the `log4j2.version` property specified in `spring-boot-dependencies`:\r\n\r\n```lang-xml\r\n&lt;properties&gt;\r\n    &lt;log4j2.version&gt;2.19.0&lt;/log4j2.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nand **remove** explicit versions from your POM file.","title":"IllegalAccessError after updating log4j JSONTemplateLayout package","body":"<p>The <code>spring-boot-starter-parent</code> POM files manages the version of hundreds of library versions (cf. its parent <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-dependencies\" rel=\"nofollow noreferrer\"><code>spring-boot-dependencies</code></a>, where the <code>&lt;dependencyManagement&gt;</code> occurs). All Log4j2 artifacts are among them.</p>\n<p>Even if <code>log4j-layout-template-json:2.18.0</code> has a dependency on <code>log4j-core:2.18.0</code>, Maven will select version <code>2.17.2</code> of the latter and cause the version problem you are experiencing.</p>\n<p>In order for all Log4j2 artifacts to have the same version, you need to override the <code>log4j2.version</code> property specified in <code>spring-boot-dependencies</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;log4j2.version&gt;2.19.0&lt;/log4j2.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>and <strong>remove</strong> explicit versions from your POM file.</p>\n"}],"owner":{"account_id":11516104,"reputation":155,"user_id":8439424,"display_name":"yobb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74785931,"answer_count":1,"score":2,"last_activity_date":1670939623,"creation_date":1670926887,"question_id":74783286,"body_markdown":"I am running a Spring boot application on java-17-openjdk. I use the log4j-layout-template-json package to output json logs to stdout.\r\n\r\nEverything has been working fine until I updated the package version from 2.17.2 to 2.18.0, now I get these stack traces every time the app attempts to log something:\r\n\r\n```\r\n2022-12-13 10:28:59,028 main ERROR An exception occurred processing Appender Console org.apache.logging.log4j.core.appender.AppenderLoggingException: java.lang.IllegalAccessError: class org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder tried to access method &#39;void org.apache.logging.log4j.core.layout.TextEncoderHelper.encodeText(java.nio.charset.CharsetEncoder, java.nio.CharBuffer, java.nio.ByteBuffer, java.lang.StringBuilder, org.apache.logging.log4j.core.layout.ByteBufferDestination)&#39; (org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder and org.apache.logging.log4j.core.layout.TextEncoderHelper are in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @76fb509a)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:165)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:675)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:633)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:616)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:552)\r\n\tat org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\r\n\tat org.apache.logging.log4j.core.Logger.log(Logger.java:161)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1994)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1852)\r\n\tat org.apache.commons.logging.LogAdapter$Log4jLog.log(LogAdapter.java:270)\r\n\tat org.apache.commons.logging.LogAdapter$Log4jLog.info(LogAdapter.java:230)\r\n\tat org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:55)\r\n\tat org.springframework.boot.SpringApplication.logStartupInfo(SpringApplication.java:618)\r\n\tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:377)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat org.engine.App.main(App.java:40)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\r\nCaused by: java.lang.IllegalAccessError: class org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder tried to access method &#39;void org.apache.logging.log4j.core.layout.TextEncoderHelper.encodeText(java.nio.charset.CharsetEncoder, java.nio.CharBuffer, java.nio.ByteBuffer, java.lang.StringBuilder, org.apache.logging.log4j.core.layout.ByteBufferDestination)&#39; (org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder and org.apache.logging.log4j.core.layout.TextEncoderHelper are in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @76fb509a)\r\n\tat org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder.encode(JsonTemplateLayout.java:241)\r\n\tat org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder.encode(JsonTemplateLayout.java:216)\r\n\tat org.apache.logging.log4j.layout.template.json.JsonTemplateLayout.encode(JsonTemplateLayout.java:304)\r\n\tat org.apache.logging.log4j.layout.template.json.JsonTemplateLayout.encode(JsonTemplateLayout.java:58)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.directEncodeEvent(AbstractOutputStreamAppender.java:215)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:208)\r\n\tat org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:199)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\r\n\t... 31 more\r\n\r\n```\r\n\r\nAs one can see, the problem already occurs for logs made by spring itself. Updating log4j-layout-template-json to the latest version (2.19.0) did not fix the problem.\r\n\r\nNote that this only appears when trying to execute the jar file of the app but not when running surefire and failsafe tests with maven and spring-mvc.\r\n\r\nFor more details on my version of java:\r\n```\r\n$ java --version\r\nopenjdk 17.0.5 2022-10-18\r\nOpenJDK Runtime Environment (build 17.0.5+8-Ubuntu-2ubuntu120.04)\r\nOpenJDK 64-Bit Server VM (build 17.0.5+8-Ubuntu-2ubuntu120.04, mixed mode, sharing)\r\n```\r\n\r\nHere is a sample of my pom.xml file:\r\n\r\n```xml\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.3&lt;/version&gt;\r\n    &lt;relativePath/&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-layout-template-json&lt;/artifactId&gt;\r\n      &lt;version&gt;2.18.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\nMy log4j config file is as follows:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:JSONLogLayout.json&quot;&gt;&lt;/JsonTemplateLayout&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n\r\n        &lt;logger name=&quot;org.jooq&quot; level=&quot;warn&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n        &lt;/logger&gt;\r\n\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```","title":"IllegalAccessError after updating log4j JSONTemplateLayout package","body":"<p>I am running a Spring boot application on java-17-openjdk. I use the log4j-layout-template-json package to output json logs to stdout.</p>\n<p>Everything has been working fine until I updated the package version from 2.17.2 to 2.18.0, now I get these stack traces every time the app attempts to log something:</p>\n<pre><code>2022-12-13 10:28:59,028 main ERROR An exception occurred processing Appender Console org.apache.logging.log4j.core.appender.AppenderLoggingException: java.lang.IllegalAccessError: class org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder tried to access method 'void org.apache.logging.log4j.core.layout.TextEncoderHelper.encodeText(java.nio.charset.CharsetEncoder, java.nio.CharBuffer, java.nio.ByteBuffer, java.lang.StringBuilder, org.apache.logging.log4j.core.layout.ByteBufferDestination)' (org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder and org.apache.logging.log4j.core.layout.TextEncoderHelper are in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @76fb509a)\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:165)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\n    at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:675)\n    at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:633)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:616)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:552)\n    at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\n    at org.apache.logging.log4j.core.Logger.log(Logger.java:161)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1994)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1852)\n    at org.apache.commons.logging.LogAdapter$Log4jLog.log(LogAdapter.java:270)\n    at org.apache.commons.logging.LogAdapter$Log4jLog.info(LogAdapter.java:230)\n    at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:55)\n    at org.springframework.boot.SpringApplication.logStartupInfo(SpringApplication.java:618)\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:377)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at org.engine.App.main(App.java:40)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65)\nCaused by: java.lang.IllegalAccessError: class org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder tried to access method 'void org.apache.logging.log4j.core.layout.TextEncoderHelper.encodeText(java.nio.charset.CharsetEncoder, java.nio.CharBuffer, java.nio.ByteBuffer, java.lang.StringBuilder, org.apache.logging.log4j.core.layout.ByteBufferDestination)' (org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder and org.apache.logging.log4j.core.layout.TextEncoderHelper are in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @76fb509a)\n    at org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder.encode(JsonTemplateLayout.java:241)\n    at org.apache.logging.log4j.layout.template.json.JsonTemplateLayout$StringBuilderEncoder.encode(JsonTemplateLayout.java:216)\n    at org.apache.logging.log4j.layout.template.json.JsonTemplateLayout.encode(JsonTemplateLayout.java:304)\n    at org.apache.logging.log4j.layout.template.json.JsonTemplateLayout.encode(JsonTemplateLayout.java:58)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.directEncodeEvent(AbstractOutputStreamAppender.java:215)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.tryAppend(AbstractOutputStreamAppender.java:208)\n    at org.apache.logging.log4j.core.appender.AbstractOutputStreamAppender.append(AbstractOutputStreamAppender.java:199)\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\n    ... 31 more\n\n</code></pre>\n<p>As one can see, the problem already occurs for logs made by spring itself. Updating log4j-layout-template-json to the latest version (2.19.0) did not fix the problem.</p>\n<p>Note that this only appears when trying to execute the jar file of the app but not when running surefire and failsafe tests with maven and spring-mvc.</p>\n<p>For more details on my version of java:</p>\n<pre><code>$ java --version\nopenjdk 17.0.5 2022-10-18\nOpenJDK Runtime Environment (build 17.0.5+8-Ubuntu-2ubuntu120.04)\nOpenJDK 64-Bit Server VM (build 17.0.5+8-Ubuntu-2ubuntu120.04, mixed mode, sharing)\n</code></pre>\n<p>Here is a sample of my pom.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;relativePath/&gt;\n  &lt;/parent&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-layout-template-json&lt;/artifactId&gt;\n      &lt;version&gt;2.18.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>My log4j config file is as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:JSONLogLayout.json&quot;&gt;&lt;/JsonTemplateLayout&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n\n        &lt;logger name=&quot;org.jooq&quot; level=&quot;warn&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;Console&quot; /&gt;\n        &lt;/logger&gt;\n\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1670939864,"post_id":74785701,"comment_id":131985468,"body_markdown":"Typescript would allow to treat them the same because it cares about object shape, Java only cares about class names &amp; hierarchy. Your transform code could probably be automated via some mapper: https://www.baeldung.com/java-performance-mapping-frameworks - mapper frameworks are mostly reflection but one of the few ways to treat objects of the same shape with the same code","body":"Typescript would allow to treat them the same because it cares about object shape, Java only cares about class names &amp; hierarchy. Your transform code could probably be automated via some mapper: <a href=\"https://www.baeldung.com/java-performance-mapping-frameworks\" rel=\"nofollow noreferrer\">baeldung.com/java-performance-mapping-frameworks</a> - mapper frameworks are mostly reflection but one of the few ways to treat objects of the same shape with the same code"}],"answers":[{"comments":[{"owner":{"account_id":27240405,"reputation":1,"user_id":20766683,"display_name":"obgraf"},"score":0,"creation_date":1670939374,"post_id":74785850,"comment_id":131985293,"body_markdown":"The generated classes are almost the same. There is plenty of duplicate code in the &quot;generated-sources&quot; folder. My intention is to avoid that duplicate transformation in my code.","body":"The generated classes are almost the same. There is plenty of duplicate code in the &quot;generated-sources&quot; folder. My intention is to avoid that duplicate transformation in my code."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670939388,"creation_date":1670939179,"answer_id":74785850,"question_id":74785701,"body_markdown":"As long as the generated classes don&#39;t have anything in common, you can&#39;t. Even though the fields look the same, Java has no way of addressing them in the same way.\r\n\r\nThe easiest solution is to have code that looks like it&#39;s duplicate but operates on different classes, as you&#39;ve already mentioned in the question.\r\n\r\nThe clean solution is to change the code that generates those `FaultType` classes. Either also generate the code that converts to a single `CustomFault` class, or have the `FaultTypes` implement an interface, so you can implement your conversion code using that.","title":"avoid duplication in Java due to auto generated similar classes","body":"<p>As long as the generated classes don't have anything in common, you can't. Even though the fields look the same, Java has no way of addressing them in the same way.</p>\n<p>The easiest solution is to have code that looks like it's duplicate but operates on different classes, as you've already mentioned in the question.</p>\n<p>The clean solution is to change the code that generates those <code>FaultType</code> classes. Either also generate the code that converts to a single <code>CustomFault</code> class, or have the <code>FaultTypes</code> implement an interface, so you can implement your conversion code using that.</p>\n"},{"tags":[],"owner":{"account_id":1465201,"reputation":181,"user_id":1378276,"display_name":"McMonster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670939594,"creation_date":1670939594,"answer_id":74785925,"question_id":74785701,"body_markdown":"You could construct something like that using relfection, but you most certainly **should not** attempt this. \r\n\r\nIf you have control over the generated code then use an interface, as mentioned earlier. Otherwise just accept the reality of writing this boilerplate code.","title":"avoid duplication in Java due to auto generated similar classes","body":"<p>You could construct something like that using relfection, but you most certainly <strong>should not</strong> attempt this.</p>\n<p>If you have control over the generated code then use an interface, as mentioned earlier. Otherwise just accept the reality of writing this boilerplate code.</p>\n"}],"owner":{"account_id":27240405,"reputation":1,"user_id":20766683,"display_name":"obgraf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670939594,"creation_date":1670938441,"question_id":74785701,"body_markdown":"\r\n[Multiple instances ][1]\r\n\r\nEach FaultType comes from a different package. For example \r\n\r\n**com.test.package1.FaultType** \r\n\r\nand \r\n\r\n**com.test.package2.FaultType** \r\n\r\nare exactly identical (but this might change in the future). These classes are auto generated and cannot be modified. I have created a custom internal class \r\n\r\n\r\n```\r\npublic class CustomFault {\r\n\r\n    private String type;\r\n    private int number;\r\n    private String description;\r\n    private String retryAfter;\r\n    private String system;\r\n    private String nativeError;\r\n    private String nativeDescription;\r\n```\r\n\r\nthat will be created by copying values from FaultType to CustomFault. \r\n\r\nMy goal is to avoid code duplication. So I want to create a common method that will return a new instance of CustomFault by using generic code instead of my current situation.\r\n\r\n```\r\nCustomFault transformFault(com.test.package1.FaultType fault) {\r\n //duplicate code here\r\n}\r\n\r\nCustomFault transformFault(com.test.package2.FaultType fault) {\r\n //duplicate code here\r\n}\r\n\r\nCustomFault transformFault(com.test.package3.FaultType fault) {\r\n //duplicate code here\r\n}\r\n```\r\n\r\nHow can I do it in Java (my current version is Java 8). \r\n\r\n\r\n\r\n\r\n\r\nI have tried to use generics, without luck. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tWUjh.png","title":"avoid duplication in Java due to auto generated similar classes","body":"<p><a href=\"https://i.stack.imgur.com/tWUjh.png\" rel=\"nofollow noreferrer\">Multiple instances </a></p>\n<p>Each FaultType comes from a different package. For example</p>\n<p><strong>com.test.package1.FaultType</strong></p>\n<p>and</p>\n<p><strong>com.test.package2.FaultType</strong></p>\n<p>are exactly identical (but this might change in the future). These classes are auto generated and cannot be modified. I have created a custom internal class</p>\n<pre><code>public class CustomFault {\n\n    private String type;\n    private int number;\n    private String description;\n    private String retryAfter;\n    private String system;\n    private String nativeError;\n    private String nativeDescription;\n</code></pre>\n<p>that will be created by copying values from FaultType to CustomFault.</p>\n<p>My goal is to avoid code duplication. So I want to create a common method that will return a new instance of CustomFault by using generic code instead of my current situation.</p>\n<pre><code>CustomFault transformFault(com.test.package1.FaultType fault) {\n //duplicate code here\n}\n\nCustomFault transformFault(com.test.package2.FaultType fault) {\n //duplicate code here\n}\n\nCustomFault transformFault(com.test.package3.FaultType fault) {\n //duplicate code here\n}\n</code></pre>\n<p>How can I do it in Java (my current version is Java 8).</p>\n<p>I have tried to use generics, without luck.</p>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1670939175,"post_id":74785742,"comment_id":131985224,"body_markdown":"It looks like you are configuring Gradle to load artifacts from the `libs` dir which is not the same thing as putting those things on the classpath.  It is difficult to say for sure without more info, but my suspicioun is that you want those sql files on your runtime classpath and if so, putting them in `src/main/resources/` and eliminating your `flatDir` stuff may be the right thing to do.","body":"It looks like you are configuring Gradle to load artifacts from the <code>libs</code> dir which is not the same thing as putting those things on the classpath.  It is difficult to say for sure without more info, but my suspicioun is that you want those sql files on your runtime classpath and if so, putting them in <code>src&#47;main&#47;resources&#47;</code> and eliminating your <code>flatDir</code> stuff may be the right thing to do."}],"answers":[{"tags":[],"owner":{"account_id":26069264,"reputation":34,"user_id":19769250,"display_name":"wbiller"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670939517,"creation_date":1670939517,"answer_id":74785910,"question_id":74785742,"body_markdown":"Everything you have in libs directory needs to go to src/main/resources. Then it will be visible on the classpath.","title":"Spring in application.yaml dont see classpath of my lib","body":"<p>Everything you have in libs directory needs to go to src/main/resources. Then it will be visible on the classpath.</p>\n"}],"owner":{"account_id":19985221,"reputation":21,"user_id":20708977,"display_name":"Valentine Ezerins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74785910,"answer_count":1,"score":0,"last_activity_date":1670939517,"creation_date":1670938718,"question_id":74785742,"body_markdown":"i try to use conf files from lib, but applcation.yaml dont see classpath to lib\r\n\r\nthis is my gradle.build\r\n\r\n&gt;! [image of apllication.yaml](https://i.stack.imgur.com/Aj4zB.png)\r\n\r\n````\r\nplugins { \r\n  id &#39;java&#39; \r\n  id &#39;org.springframework.boot&#39; version &#39;2.7.6&#39; \r\n  id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39; \r\n}\r\n\r\ngroup = &#39;common&#39; \r\nversion = &#39;0.0.1-SNAPSHOT&#39; \r\nsourceCompatibility = &#39;8&#39;\r\n\r\nconfigurations { \r\n  compileOnly { \r\n    extendsFrom annotationProcessor \r\n  } \r\n}\r\n\r\nrepositories { \r\n  mavenCentral() \r\n  flatDir { \r\n    dirs &#39;libs&#39; \r\n  } \r\n}\r\n\r\ndependencies { \r\n  implementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39; \r\n  implementation &#39;org.mockito:mockito-core:4.9.0&#39;\r\n  implementation &#39;org.springframework.boot:spring-boot-starter-web&#39; \r\n  implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39; \r\n  implementation group: &#39;ma.glasnost.orika&#39;, name: &#39;orika-core&#39;, version: &#39;1.5.4&#39; \r\n  implementation &#39;common:0.3.2&#39; \r\n  implementation group: &#39;org.springdoc&#39;, name: &#39;springdoc-openapi-ui&#39;, version: &#39;1.6.13&#39; \r\n  implementation group: &#39;com.oracle.database.jdbc&#39;, name: &#39;ojdbc8&#39;, version: &#39;21.7.0.0&#39; \r\n  implementation &#39;org.postgresql:postgresql&#39; \r\n  implementation &#39;org.jetbrains:annotations:23.0.0&#39; \r\n  implementation &#39;org.springframework.boot:spring-boot-starter-cache:2.7.6&#39; \r\n  implementation &#39;org.springframework.boot:spring-boot-starter-data-redis:2.7.6&#39; \r\n  compileOnly &#39;org.projectlombok:lombok&#39; \r\n  annotationProcessor &#39;org.projectlombok:lombok&#39; \r\n  testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39; \r\n}\r\n\r\ntasks.named(&#39;test&#39;) { \r\n  useJUnitPlatform() \r\n}\r\n````\r\n\r\nCan someome explain me what i do wrong?","title":"Spring in application.yaml dont see classpath of my lib","body":"<p>i try to use conf files from lib, but applcation.yaml dont see classpath to lib</p>\n<p>this is my gradle.build</p>\n<blockquote class=\"spoiler\">\n<p> <a href=\"https://i.stack.imgur.com/Aj4zB.png\" rel=\"nofollow noreferrer\">image of apllication.yaml</a></p>\n</blockquote>\n<pre><code>plugins { \n  id 'java' \n  id 'org.springframework.boot' version '2.7.6' \n  id 'io.spring.dependency-management' version '1.1.0' \n}\n\ngroup = 'common' \nversion = '0.0.1-SNAPSHOT' \nsourceCompatibility = '8'\n\nconfigurations { \n  compileOnly { \n    extendsFrom annotationProcessor \n  } \n}\n\nrepositories { \n  mavenCentral() \n  flatDir { \n    dirs 'libs' \n  } \n}\n\ndependencies { \n  implementation 'org.springframework.boot:spring-boot-starter-jdbc' \n  implementation 'org.mockito:mockito-core:4.9.0'\n  implementation 'org.springframework.boot:spring-boot-starter-web' \n  implementation 'org.springframework.boot:spring-boot-starter-data-jpa' \n  implementation group: 'ma.glasnost.orika', name: 'orika-core', version: '1.5.4' \n  implementation 'common:0.3.2' \n  implementation group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '1.6.13' \n  implementation group: 'com.oracle.database.jdbc', name: 'ojdbc8', version: '21.7.0.0' \n  implementation 'org.postgresql:postgresql' \n  implementation 'org.jetbrains:annotations:23.0.0' \n  implementation 'org.springframework.boot:spring-boot-starter-cache:2.7.6' \n  implementation 'org.springframework.boot:spring-boot-starter-data-redis:2.7.6' \n  compileOnly 'org.projectlombok:lombok' \n  annotationProcessor 'org.projectlombok:lombok' \n  testImplementation 'org.springframework.boot:spring-boot-starter-test' \n}\n\ntasks.named('test') { \n  useJUnitPlatform() \n}\n</code></pre>\n<p>Can someome explain me what i do wrong?</p>\n"},{"tags":["java","jboss"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1670957698,"post_id":74785777,"comment_id":131991938,"body_markdown":"I&#39;m posting as a comment because it requires a subscription to see this, but https://access.redhat.com/solutions/6981120.","body":"I&#39;m posting as a comment because it requires a subscription to see this, but <a href=\"https://access.redhat.com/solutions/6981120\" rel=\"nofollow noreferrer\">access.redhat.com/solutions/6981120</a>."},{"owner":{"account_id":24880569,"reputation":1,"user_id":18753833,"display_name":"Re Viki"},"score":0,"creation_date":1670966069,"post_id":74785777,"comment_id":131994226,"body_markdown":"yes i saw it, but cannot view it, plus it says `SOLUTION IN PROGRESS ` which means there is no solution for it yet","body":"yes i saw it, but cannot view it, plus it says <code>SOLUTION IN PROGRESS </code> which means there is no solution for it yet"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1671037743,"post_id":74785777,"comment_id":132012875,"body_markdown":"There is a solution in that document. I apologize I can&#39;t share more other than a patch is required. I assume you&#39;ve got a Red Hat account given the version of JBoss EAP being used.","body":"There is a solution in that document. I apologize I can&#39;t share more other than a patch is required. I assume you&#39;ve got a Red Hat account given the version of JBoss EAP being used."}],"owner":{"account_id":24880569,"reputation":1,"user_id":18753833,"display_name":"Re Viki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670938869,"creation_date":1670938869,"question_id":74785777,"body_markdown":"```\r\nException in thread &quot;Thread-3&quot; java.lang.NoClassDefFoundError: org/jboss/modules/ModuleLoadException\r\n        at org.jboss.ejb.client.EJBClientContext.getDefault(EJBClientContext.java:110)\r\n        at org.wildfly.common.context.ContextManager.getPrivileged(ContextManager.java:286)\r\n        at org.jboss.ejb.client.EJBClientContext.getCurrent(EJBClientContext.java:861)\r\n        at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:165)\r\n        at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:116)\r\n        at com.sun.proxy.$Proxy2.sendResponse(Unknown Source)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.ClassNotFoundException: org.jboss.modules.ModuleLoadException\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n        ... 9 more\r\n```\r\n\r\nHello, after updating the Jboss to newer version, it started to throw above error. obviously it cannot find `jboss-client.jar` but i do not understand why?  any hint will be much appreciated.\r\n\r\nThanks in advance ","title":"EAP 7.4.8 jboss-client.jar throws NoClassDefFoundError","body":"<pre><code>Exception in thread &quot;Thread-3&quot; java.lang.NoClassDefFoundError: org/jboss/modules/ModuleLoadException\n        at org.jboss.ejb.client.EJBClientContext.getDefault(EJBClientContext.java:110)\n        at org.wildfly.common.context.ContextManager.getPrivileged(ContextManager.java:286)\n        at org.jboss.ejb.client.EJBClientContext.getCurrent(EJBClientContext.java:861)\n        at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:165)\n        at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:116)\n        at com.sun.proxy.$Proxy2.sendResponse(Unknown Source)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.ClassNotFoundException: org.jboss.modules.ModuleLoadException\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 9 more\n</code></pre>\n<p>Hello, after updating the Jboss to newer version, it started to throw above error. obviously it cannot find <code>jboss-client.jar</code> but i do not understand why?  any hint will be much appreciated.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","sendgrid"],"answers":[{"comments":[{"owner":{"account_id":13978,"reputation":71456,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"score":1,"creation_date":1644536330,"post_id":71070005,"comment_id":125640051,"body_markdown":"It is probably also worth considering that inboxes may be less likely to happily receive emails containing .exe or .rar file attachments and may block them. So, even if SendGrid is happy sending them, you might find your email blocked on the recipient side.","body":"It is probably also worth considering that inboxes may be less likely to happily receive emails containing .exe or .rar file attachments and may block them. So, even if SendGrid is happy sending them, you might find your email blocked on the recipient side."}],"tags":[],"owner":{"account_id":1007631,"reputation":1078,"user_id":1020941,"display_name":"Nisd"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644515702,"creation_date":1644515702,"answer_id":71070005,"question_id":71068523,"body_markdown":"According to their documentation the only limit is 30MB or less.\r\n\r\nhttps://docs.sendgrid.com/api-reference/mail-send/limitations\r\n\r\nFrom having used SendGrid in the past, I would be surprised if they limit what file types you can send.","title":"SendGrid emailing API , which types of email attachment supported by SendGrid","body":"<p>According to their documentation the only limit is 30MB or less.</p>\n<p><a href=\"https://docs.sendgrid.com/api-reference/mail-send/limitations\" rel=\"nofollow noreferrer\">https://docs.sendgrid.com/api-reference/mail-send/limitations</a></p>\n<p>From having used SendGrid in the past, I would be surprised if they limit what file types you can send.</p>\n"},{"tags":[],"owner":{"account_id":24266573,"reputation":16,"user_id":18215369,"display_name":"Ian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670937939,"creation_date":1670937939,"answer_id":74785603,"question_id":71068523,"body_markdown":"Just a small precision: The total size of your email, including attachments, must be less than 30MB. \r\n\r\nTheir recommendation is not to exceed 10MB","title":"SendGrid emailing API , which types of email attachment supported by SendGrid","body":"<p>Just a small precision: The total size of your email, including attachments, must be less than 30MB.</p>\n<p>Their recommendation is not to exceed 10MB</p>\n"}],"owner":{"account_id":6051517,"reputation":227,"user_id":6817506,"accept_rate":71,"display_name":"ks_on_v"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74785603,"answer_count":2,"score":0,"last_activity_date":1670937939,"creation_date":1644509733,"question_id":71068523,"body_markdown":"I&#39;m using next code for send email attachments:\r\n\r\n    Attachments attachments3 = new Attachments();\r\n    Base64 x = new Base64();\r\n    String imageDataString = x.encodeAsString(fileData);\r\n    attachments3.setContent(imageDataString);\r\n    attachments3.setType(&quot;image/png&quot;);//&quot;application/pdf&quot;\r\n    attachments3.setFilename(&quot;x.png&quot;);\r\n    attachments3.setDisposition(&quot;attachment&quot;);\r\n    attachments3.setContentId(&quot;Banner&quot;);\r\n    mail.addAttachments(attachments3);\r\n\r\nHere there is setter setType. \r\n\r\nDo SendGrid have white list for type of attachment?\r\n\r\nFor example i can&#39;t send .exe or .rar files in another services. I want know prohibitions for SendGrid.","title":"SendGrid emailing API , which types of email attachment supported by SendGrid","body":"<p>I'm using next code for send email attachments:</p>\n<pre><code>Attachments attachments3 = new Attachments();\nBase64 x = new Base64();\nString imageDataString = x.encodeAsString(fileData);\nattachments3.setContent(imageDataString);\nattachments3.setType(&quot;image/png&quot;);//&quot;application/pdf&quot;\nattachments3.setFilename(&quot;x.png&quot;);\nattachments3.setDisposition(&quot;attachment&quot;);\nattachments3.setContentId(&quot;Banner&quot;);\nmail.addAttachments(attachments3);\n</code></pre>\n<p>Here there is setter setType.</p>\n<p>Do SendGrid have white list for type of attachment?</p>\n<p>For example i can't send .exe or .rar files in another services. I want know prohibitions for SendGrid.</p>\n"},{"tags":["java","spring-boot","apache-poi"],"owner":{"account_id":16518030,"reputation":113,"user_id":11934922,"display_name":"Rishabh Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670937873,"creation_date":1670937873,"question_id":74785584,"body_markdown":"We have a process to uplod file which includes two steps-\r\n\r\n1. get file content via multipart request from UI and save into database.\r\n  code from controller is given below-\r\n\r\n        public Response uploadCallbacks(\r\n                @ApiParam(value = &quot;A unique identifier&quot;, required = true) @PathParam(&quot;campaignId&quot;) Integer id,\r\n                @ApiParam(value = &quot;The file input stream data in chunks&quot;, required = true) @FormDataParam(&quot;file&quot;) InputStream inputStream,\r\n                @ApiParam(value = &quot;The content disposition of file&quot;, required = true) @FormDataParam(&quot;file&quot;) FormDataContentDisposition data,\r\n                @Context SecurityContext securityContext) throws IOException\r\n        { callbackUploadService.process(inputStream, data, id, u);\r\n\r\n\r\n\r\n\r\n2. Fetch stream from DB and read the input stream\r\nBut at first step if we are trying to convert this stream to POI WorkBook object\r\n\r\n    Workbook wb = StreamingReader.builder().sstCacheSize(100).open(uploadedInputStream);\r\n\r\n then it is giving below error\r\n\t\r\n    Exception in thread &quot;main&quot; org.apache.poi.openxml4j.exceptions.NotOfficeXmlFileException: No valid entries or contents found, this is not a valid OOXML (Office Open XML) file`\r\n\r\n\r\n**NOTE- THIS PIECE OF CODE IS WORKING FINE ON LOCAL MACHINE AS WELL AS IN SOME OTHER ENV , ISSUE IS WITH SOME ENVIRONMENTS ONLY WHEN EXCEL FILE CONTAINS 17 COLUMNS AND 25 ROWS IF NO OF ROWS DECREASES IT WORK FINE(ON LOCAL MACHINE EXCEL FILE WITH 17 ROWS AND 1000/2000 ROWS WORKING FINE).**\r\n\r\n","title":"Getting NotOfficeXmlFileException while converting input stream (Multipart data) to Workbook POI","body":"<p>We have a process to uplod file which includes two steps-</p>\n<ol>\n<li><p>get file content via multipart request from UI and save into database.\ncode from controller is given below-</p>\n<pre><code> public Response uploadCallbacks(\n         @ApiParam(value = &quot;A unique identifier&quot;, required = true) @PathParam(&quot;campaignId&quot;) Integer id,\n         @ApiParam(value = &quot;The file input stream data in chunks&quot;, required = true) @FormDataParam(&quot;file&quot;) InputStream inputStream,\n         @ApiParam(value = &quot;The content disposition of file&quot;, required = true) @FormDataParam(&quot;file&quot;) FormDataContentDisposition data,\n         @Context SecurityContext securityContext) throws IOException\n { callbackUploadService.process(inputStream, data, id, u);\n</code></pre>\n</li>\n<li><p>Fetch stream from DB and read the input stream\nBut at first step if we are trying to convert this stream to POI WorkBook object</p>\n<p>Workbook wb = StreamingReader.builder().sstCacheSize(100).open(uploadedInputStream);</p>\n</li>\n</ol>\n<p>then it is giving below error</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.poi.openxml4j.exceptions.NotOfficeXmlFileException: No valid entries or contents found, this is not a valid OOXML (Office Open XML) file`\n</code></pre>\n<p><strong>NOTE- THIS PIECE OF CODE IS WORKING FINE ON LOCAL MACHINE AS WELL AS IN SOME OTHER ENV , ISSUE IS WITH SOME ENVIRONMENTS ONLY WHEN EXCEL FILE CONTAINS 17 COLUMNS AND 25 ROWS IF NO OF ROWS DECREASES IT WORK FINE(ON LOCAL MACHINE EXCEL FILE WITH 17 ROWS AND 1000/2000 ROWS WORKING FINE).</strong></p>\n"},{"tags":["java","spring","nginx","apache-kafka","websocket"],"owner":{"account_id":18010089,"reputation":1,"user_id":13089984,"display_name":"Puneet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670937260,"creation_date":1670937260,"question_id":74785462,"body_markdown":"\r\nMy applicaion have 3 instance which are reading data from kafka having same group id each node have disjoint data (different data) and client will connect to a socket to the application using nginx but as nginx will load balance it will send request to a particular node so chances are that it will not have data for that. The id in request is same as the partition key of kafka. So is there a solution to route nginx to the correct application which have the data of id as after socket connection there will be continous flow of data from server(data coming from kafka)  to client.","title":"Custom routing via nginx based on which application node getting different data from kafka","body":"<p>My applicaion have 3 instance which are reading data from kafka having same group id each node have disjoint data (different data) and client will connect to a socket to the application using nginx but as nginx will load balance it will send request to a particular node so chances are that it will not have data for that. The id in request is same as the partition key of kafka. So is there a solution to route nginx to the correct application which have the data of id as after socket connection there will be continous flow of data from server(data coming from kafka)  to client.</p>\n"},{"tags":["java","android","exception"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664981421,"post_id":73960602,"comment_id":130593459,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26525527,"reputation":3,"user_id":20158589,"display_name":"nat34"},"score":0,"creation_date":1664990674,"post_id":73960602,"comment_id":130596687,"body_markdown":"My question, is why does it throw the expectation whenever I do the ```mediaPlayer.prepare()``` method. I pass the URL using setDataSource. and prepare should call onPrepared when it is ready to play audio... but again, the exception happens, for some reason. \nAnd I&#39;m not sure why it happens.... that&#39;s what I&#39;m asking.","body":"My question, is why does it throw the expectation whenever I do the <code>mediaPlayer.prepare()</code> method. I pass the URL using setDataSource. and prepare should call onPrepared when it is ready to play audio... but again, the exception happens, for some reason.  And I&#39;m not sure why it happens.... that&#39;s what I&#39;m asking."}],"answers":[{"tags":[],"owner":{"account_id":1442484,"reputation":476,"user_id":1362165,"display_name":"Mike Macpherson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670937248,"creation_date":1670937248,"answer_id":74785460,"question_id":73960602,"body_markdown":"Try using  https://www.ilemon.mobi/fightnIncastle1.mp3  as the URL.  I suspect it&#39;s something to do with non-https stream.","title":"Android MediaPlayer java.io.IOException: Prepare failed.: status=0x1, cant fix","body":"<p>Try using  <a href=\"https://www.ilemon.mobi/fightnIncastle1.mp3\" rel=\"nofollow noreferrer\">https://www.ilemon.mobi/fightnIncastle1.mp3</a>  as the URL.  I suspect it's something to do with non-https stream.</p>\n"}],"owner":{"account_id":26525527,"reputation":3,"user_id":20158589,"display_name":"nat34"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670937248,"creation_date":1664974180,"question_id":73960602,"body_markdown":"I&#39;ve tried a lot of things... but none seem to work.\r\nMost of them from here:\r\nhttps://stackoverflow.com/questions/55479574/android-mediaplayer-java-io-ioexception-prepare-failed-status-0x1\r\n\r\nSo I tried to play music using MediaPlayer in android, But the prepare always fails with the same exception. Here is my onStartCommand function:\r\n```\r\n@Override\r\n    public int onStartCommand(Intent intent,int flags, int startId)\r\n    {\r\n        Toast.makeText(this, &quot;Service on start&quot;, Toast.LENGTH_LONG).show();\r\n        String lnk = intent.getExtras().getString(&quot;link&quot;);\r\n        mediaPlayerM.reset();\r\n        if(!mediaPlayerM.isPlaying())\r\n        {\r\n            try\r\n            {\r\n                mediaPlayerM.setDataSource(lnk);\r\n                mediaPlayerM.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n                mediaPlayerM.prepare();\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                System.out.print(e.toString());\r\n                Toast.makeText(this, e.toString(), Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n        return START_STICKY;\r\n    }\r\n```\r\n\r\nand the onPrepared function:\r\n```\r\npublic void onPrepared(MediaPlayer mp)\r\n    {\r\n        if(!mediaPlayerM.isPlaying())\r\n        {\r\n            mediaPlayerM.start();\r\n        }\r\n    }\r\n```\r\n\r\nSo basically I try debugging, and everytime variable e (which is the exception) is the same ```java.io.IOException: Prepare failed.: status=0x1.```\r\n\r\nBtw, the URL I pass is: ```http://www.ilemon.mobi/fightnIncastle1.mp3```, which should work fine.\r\n\r\nTL;DR:\r\nMy question, is why does it throw the expectation whenever I USE the mediaPlayer.prepare() method. I pass the URL using setDataSource. and prepare should call onPrepared when it is ready to play audio... but again, the exception happens, for some reason. And I&#39;m not sure why it happens.... that&#39;s what I&#39;m asking.\r\n(I have all the permissions in the manifest)","title":"Android MediaPlayer java.io.IOException: Prepare failed.: status=0x1, cant fix","body":"<p>I've tried a lot of things... but none seem to work.\nMost of them from here:\n<a href=\"https://stackoverflow.com/questions/55479574/android-mediaplayer-java-io-ioexception-prepare-failed-status-0x1\">Android MediaPlayer java.io.IOException: Prepare failed.: status=0x1</a></p>\n<p>So I tried to play music using MediaPlayer in android, But the prepare always fails with the same exception. Here is my onStartCommand function:</p>\n<pre><code>@Override\n    public int onStartCommand(Intent intent,int flags, int startId)\n    {\n        Toast.makeText(this, &quot;Service on start&quot;, Toast.LENGTH_LONG).show();\n        String lnk = intent.getExtras().getString(&quot;link&quot;);\n        mediaPlayerM.reset();\n        if(!mediaPlayerM.isPlaying())\n        {\n            try\n            {\n                mediaPlayerM.setDataSource(lnk);\n                mediaPlayerM.setAudioStreamType(AudioManager.STREAM_MUSIC);\n                mediaPlayerM.prepare();\n            }\n            catch (Exception e)\n            {\n                System.out.print(e.toString());\n                Toast.makeText(this, e.toString(), Toast.LENGTH_LONG).show();\n            }\n        }\n        return START_STICKY;\n    }\n</code></pre>\n<p>and the onPrepared function:</p>\n<pre><code>public void onPrepared(MediaPlayer mp)\n    {\n        if(!mediaPlayerM.isPlaying())\n        {\n            mediaPlayerM.start();\n        }\n    }\n</code></pre>\n<p>So basically I try debugging, and everytime variable e (which is the exception) is the same <code>java.io.IOException: Prepare failed.: status=0x1.</code></p>\n<p>Btw, the URL I pass is: <code>http://www.ilemon.mobi/fightnIncastle1.mp3</code>, which should work fine.</p>\n<p>TL;DR:\nMy question, is why does it throw the expectation whenever I USE the mediaPlayer.prepare() method. I pass the URL using setDataSource. and prepare should call onPrepared when it is ready to play audio... but again, the exception happens, for some reason. And I'm not sure why it happens.... that's what I'm asking.\n(I have all the permissions in the manifest)</p>\n"},{"tags":["java","mongodb","docker","networking"],"answers":[{"comments":[{"owner":{"account_id":12861519,"reputation":79,"user_id":9303116,"display_name":"william"},"score":2,"creation_date":1517548277,"post_id":48575908,"comment_id":84148617,"body_markdown":"mongodb-driver version 3.4 , **mongodbTemplate** no api for set **autoConnectRetry**","body":"mongodb-driver version 3.4 , <b>mongodbTemplate</b> no api for set <b>autoConnectRetry</b>"}],"tags":[],"owner":{"account_id":8496927,"reputation":34,"user_id":6371250,"display_name":"aparajith vangal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1517547187,"creation_date":1517547187,"answer_id":48575908,"question_id":48575520,"body_markdown":"You can try,\r\n**autoConnectRetry** simply means the driver will automatically attempt to reconnect to the server(s) after unexpected disconnects. In production environments you usually want this set to true.\r\n\r\nThis is from another post, https://stackoverflow.com/questions/6520439/how-to-configure-mongodb-java-driver-mongooptions-for-production-use \r\n\r\n","title":"Every 15 minutes there will be this exception, look at the fillInStackTrace information","body":"<p>You can try,\n<strong>autoConnectRetry</strong> simply means the driver will automatically attempt to reconnect to the server(s) after unexpected disconnects. In production environments you usually want this set to true.</p>\n\n<p>This is from another post, <a href=\"https://stackoverflow.com/questions/6520439/how-to-configure-mongodb-java-driver-mongooptions-for-production-use\">How to configure MongoDB Java driver MongoOptions for production use?</a> </p>\n"},{"tags":[],"owner":{"account_id":18249863,"reputation":21,"user_id":13285094,"display_name":"peisun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670936969,"creation_date":1670936589,"answer_id":74785323,"question_id":48575520,"body_markdown":"for everybody who is experiencing the same random `MongoSocketReadException`, you may need the `socketTimeoutMS` or `maxIdleTimeMS` parameters instead. The parameter `autoConnectRetry` is not exposed any more in the mongodb connection string.\r\n\r\nOur situation: we switched to mongodb atlas serverless solution for our development and testing environments, ever since then we got this `MongoSocketReadException` like every 15 min. or randomly. We are also behind a enterprise firewall. \r\n\r\nAccording to https://www.mongodb.com/docs/v6.0/tutorial/connection-pool-performance-tuning/:\r\n\r\n&gt; a misconfigured firewall closes a socket connection incorrectly and the driver cannot detect that the connection closed improperly.\r\n&gt; you need =&gt; Use socketTimeoutMS to ensure that sockets are always closed. Set socketTimeoutMS to two or three times the length of the slowest operation that the driver runs.\r\n\r\nbecause the `socketTimeoutMS` is by default 0, which will never timeout.\r\n\r\nAnd another parameter `maxIdleTimeMS` may also affect the connection because if the socket is closed and on the client side it&#39;s not detected, the connection will be still waiting in idle time and not cloesd. And by default it&#39;s 0 meaning it waits forever with no upper boundaries. \r\n\r\nSo configure this to a small amount may help the driver to close the the problematic connection with its closed socket, before it tries to connect to the db using the same connection and presumes the connection is still there.\r\n\r\nSo our solution:\r\n`...mongodbUri...?socketTimeoutMS=150000&amp;maxIdleTimeMS=150000`\r\n\r\nwe changed the `socketTimeoutMS` from 0 to 15s and same for the `maxIdleTimeMS`.","title":"Every 15 minutes there will be this exception, look at the fillInStackTrace information","body":"<p>for everybody who is experiencing the same random <code>MongoSocketReadException</code>, you may need the <code>socketTimeoutMS</code> or <code>maxIdleTimeMS</code> parameters instead. The parameter <code>autoConnectRetry</code> is not exposed any more in the mongodb connection string.</p>\n<p>Our situation: we switched to mongodb atlas serverless solution for our development and testing environments, ever since then we got this <code>MongoSocketReadException</code> like every 15 min. or randomly. We are also behind a enterprise firewall.</p>\n<p>According to <a href=\"https://www.mongodb.com/docs/v6.0/tutorial/connection-pool-performance-tuning/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/v6.0/tutorial/connection-pool-performance-tuning/</a>:</p>\n<blockquote>\n<p>a misconfigured firewall closes a socket connection incorrectly and the driver cannot detect that the connection closed improperly.\nyou need =&gt; Use socketTimeoutMS to ensure that sockets are always closed. Set socketTimeoutMS to two or three times the length of the slowest operation that the driver runs.</p>\n</blockquote>\n<p>because the <code>socketTimeoutMS</code> is by default 0, which will never timeout.</p>\n<p>And another parameter <code>maxIdleTimeMS</code> may also affect the connection because if the socket is closed and on the client side it's not detected, the connection will be still waiting in idle time and not cloesd. And by default it's 0 meaning it waits forever with no upper boundaries.</p>\n<p>So configure this to a small amount may help the driver to close the the problematic connection with its closed socket, before it tries to connect to the db using the same connection and presumes the connection is still there.</p>\n<p>So our solution:\n<code>...mongodbUri...?socketTimeoutMS=150000&amp;maxIdleTimeMS=150000</code></p>\n<p>we changed the <code>socketTimeoutMS</code> from 0 to 15s and same for the <code>maxIdleTimeMS</code>.</p>\n"}],"owner":{"account_id":12861519,"reputation":79,"user_id":9303116,"display_name":"william"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3662,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":48575908,"answer_count":2,"score":1,"last_activity_date":1670936969,"creation_date":1517544113,"question_id":48575520,"body_markdown":"**Problem Description:** MongoDB version is 3.4 &lt;br&gt;\r\nIn fact, did not do anything on the normal query, write,  &lt;br&gt;\r\nbecause it is in the testing phase, QPS is small.\r\n\r\n**Question: &lt;br&gt;**\r\n1: How is this anomaly produced.&lt;br&gt;\r\n2: what configuration or adjustment needs to be done? help me\r\n\r\n\r\n    02-01 15:11:47 WARN  - Got socket exception on connection [connectionId{localValue:43}] to 172.16.199.96:22001. All connections to 172.16.199.96:22001 will be closed.\r\n    02-01 15:11:47 INFO  - Closed connection [connectionId{localValue:43}] to 172.16.199.96:22001 because there was a socket exception raised by this connection.\r\n            org.springframework.data.mongodb.UncategorizedMongoDbException: Exception receiving message; nested exception is com.mongodb.MongoSocketReadException: Exception receiving message\r\n                at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:107)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2135)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:1978)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:1784)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:1767)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.find(MongoTemplate.java:641)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:606)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:598)\r\n                at com.xxx.xxx.xxx.xxx(xxxService.java:46)\r\n                at com.xxx.xxx.xxx.xxx(xxxService.java:157)\r\n                at com.xxx.xxx.xxx.xxx(xxxService.java:142)\r\n                at com.xxx.xxx.xxx.xxx(xxxService.java:87)\r\n                at com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\r\n                at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\r\n                at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\r\n                at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\r\n                at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\r\n                at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\r\n                at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:100)\r\n                at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\r\n                at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\r\n                at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\r\n                at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\r\n                at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n                at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n                at java.lang.Thread.run(Thread.java:748)\r\n            Caused by: com.mongodb.MongoSocketReadException: Exception receiving message\r\n                at com.mongodb.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:483)\r\n                at com.mongodb.connection.InternalStreamConnection.receiveMessage(InternalStreamConnection.java:228)\r\n                at com.mongodb.connection.UsageTrackingInternalConnection.receiveMessage(UsageTrackingInternalConnection.java:96)\r\n                at com.mongodb.connection.DefaultConnectionPool$PooledConnection.receiveMessage(DefaultConnectionPool.java:440)\r\n                at com.mongodb.connection.CommandProtocol.execute(CommandProtocol.java:112)\r\n                at com.mongodb.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:168)\r\n                at com.mongodb.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:289)\r\n                at com.mongodb.connection.DefaultServerConnection.command(DefaultServerConnection.java:176)\r\n                at com.mongodb.operation.CommandOperationHelper.executeWrappedCommandProtocol(CommandOperationHelper.java:216)\r\n                at com.mongodb.operation.CommandOperationHelper.executeWrappedCommandProtocol(CommandOperationHelper.java:207)\r\n                at com.mongodb.operation.CommandOperationHelper.executeWrappedCommandProtocol(CommandOperationHelper.java:113)\r\n                at com.mongodb.operation.FindOperation$1.call(FindOperation.java:516)\r\n                at com.mongodb.operation.FindOperation$1.call(FindOperation.java:510)\r\n                at com.mongodb.operation.OperationHelper.withConnectionSource(OperationHelper.java:431)\r\n                at com.mongodb.operation.OperationHelper.withConnection(OperationHelper.java:404)\r\n                at com.mongodb.operation.FindOperation.execute(FindOperation.java:510)\r\n                at com.mongodb.operation.FindOperation.execute(FindOperation.java:81)\r\n                at com.mongodb.Mongo.execute(Mongo.java:836)\r\n                at com.mongodb.Mongo$2.execute(Mongo.java:823)\r\n                at com.mongodb.DBCursor.initializeCursor(DBCursor.java:870)\r\n                at com.mongodb.DBCursor.hasNext(DBCursor.java:142)\r\n                at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:1964)\r\n                ... 37 common frames omitted\r\n            Caused by: java.net.SocketException: Connection reset\r\n                at java.net.SocketInputStream.read(SocketInputStream.java:210)\r\n                at java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n                at com.mongodb.connection.SocketStream.read(SocketStream.java:85)\r\n                at com.mongodb.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:494)\r\n                at com.mongodb.connection.InternalStreamConnection.receiveMessage(InternalStreamConnection.java:224)\r\n                ... 57 common frames omitted\r\n\r\n\r\n**java version 1.8. &lt;br&gt;\r\nspring boot version 1.5.3. &lt;br&gt;\r\ndeployed with docker.**\r\n\r\n    mongo.hosts=ip:port,ip:port,ip:port\r\n    mongo.database.name=dbname\r\n    mongo.username=username\r\n    mongo.password=pwd\r\n    mongo.connections.per.host=32\r\n    mongo.max.wait.time=2000\r\n    mongo.connect.timeout=2000\r\n\r\n\r\n\r\n\r\n","title":"Every 15 minutes there will be this exception, look at the fillInStackTrace information","body":"<p><strong>Problem Description:</strong> MongoDB version is 3.4 <br>\nIn fact, did not do anything on the normal query, write,  <br>\nbecause it is in the testing phase, QPS is small.</p>\n\n<p><strong>Question: <br></strong>\n1: How is this anomaly produced.<br>\n2: what configuration or adjustment needs to be done? help me</p>\n\n<pre><code>02-01 15:11:47 WARN  - Got socket exception on connection [connectionId{localValue:43}] to 172.16.199.96:22001. All connections to 172.16.199.96:22001 will be closed.\n02-01 15:11:47 INFO  - Closed connection [connectionId{localValue:43}] to 172.16.199.96:22001 because there was a socket exception raised by this connection.\n        org.springframework.data.mongodb.UncategorizedMongoDbException: Exception receiving message; nested exception is com.mongodb.MongoSocketReadException: Exception receiving message\n            at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:107)\n            at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2135)\n            at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:1978)\n            at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:1784)\n            at org.springframework.data.mongodb.core.MongoTemplate.doFind(MongoTemplate.java:1767)\n            at org.springframework.data.mongodb.core.MongoTemplate.find(MongoTemplate.java:641)\n            at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:606)\n            at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:598)\n            at com.xxx.xxx.xxx.xxx(xxxService.java:46)\n            at com.xxx.xxx.xxx.xxx(xxxService.java:157)\n            at com.xxx.xxx.xxx.xxx(xxxService.java:142)\n            at com.xxx.xxx.xxx.xxx(xxxService.java:87)\n            at com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\n            at com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\n            at com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\n            at com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\n            at com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\n            at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n            at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:100)\n            at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\n            at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\n            at com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\n            at com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n            at java.lang.Thread.run(Thread.java:748)\n        Caused by: com.mongodb.MongoSocketReadException: Exception receiving message\n            at com.mongodb.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:483)\n            at com.mongodb.connection.InternalStreamConnection.receiveMessage(InternalStreamConnection.java:228)\n            at com.mongodb.connection.UsageTrackingInternalConnection.receiveMessage(UsageTrackingInternalConnection.java:96)\n            at com.mongodb.connection.DefaultConnectionPool$PooledConnection.receiveMessage(DefaultConnectionPool.java:440)\n            at com.mongodb.connection.CommandProtocol.execute(CommandProtocol.java:112)\n            at com.mongodb.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:168)\n            at com.mongodb.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:289)\n            at com.mongodb.connection.DefaultServerConnection.command(DefaultServerConnection.java:176)\n            at com.mongodb.operation.CommandOperationHelper.executeWrappedCommandProtocol(CommandOperationHelper.java:216)\n            at com.mongodb.operation.CommandOperationHelper.executeWrappedCommandProtocol(CommandOperationHelper.java:207)\n            at com.mongodb.operation.CommandOperationHelper.executeWrappedCommandProtocol(CommandOperationHelper.java:113)\n            at com.mongodb.operation.FindOperation$1.call(FindOperation.java:516)\n            at com.mongodb.operation.FindOperation$1.call(FindOperation.java:510)\n            at com.mongodb.operation.OperationHelper.withConnectionSource(OperationHelper.java:431)\n            at com.mongodb.operation.OperationHelper.withConnection(OperationHelper.java:404)\n            at com.mongodb.operation.FindOperation.execute(FindOperation.java:510)\n            at com.mongodb.operation.FindOperation.execute(FindOperation.java:81)\n            at com.mongodb.Mongo.execute(Mongo.java:836)\n            at com.mongodb.Mongo$2.execute(Mongo.java:823)\n            at com.mongodb.DBCursor.initializeCursor(DBCursor.java:870)\n            at com.mongodb.DBCursor.hasNext(DBCursor.java:142)\n            at org.springframework.data.mongodb.core.MongoTemplate.executeFindMultiInternal(MongoTemplate.java:1964)\n            ... 37 common frames omitted\n        Caused by: java.net.SocketException: Connection reset\n            at java.net.SocketInputStream.read(SocketInputStream.java:210)\n            at java.net.SocketInputStream.read(SocketInputStream.java:141)\n            at com.mongodb.connection.SocketStream.read(SocketStream.java:85)\n            at com.mongodb.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:494)\n            at com.mongodb.connection.InternalStreamConnection.receiveMessage(InternalStreamConnection.java:224)\n            ... 57 common frames omitted\n</code></pre>\n\n<p><strong>java version 1.8. <br>\nspring boot version 1.5.3. <br>\ndeployed with docker.</strong></p>\n\n<pre><code>mongo.hosts=ip:port,ip:port,ip:port\nmongo.database.name=dbname\nmongo.username=username\nmongo.password=pwd\nmongo.connections.per.host=32\nmongo.max.wait.time=2000\nmongo.connect.timeout=2000\n</code></pre>\n"},{"tags":["java","linked-list","queue"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1670921740,"post_id":74781412,"comment_id":131979027,"body_markdown":"What `Queue` do you mean? `java.util.Queue` is an interface and doesn&#39;t have an implementation for the `size()` method and I couldn&#39;t find (in reasonable time) any implementation of that interface that calculates the size by traversing.","body":"What <code>Queue</code> do you mean? <code>java.util.Queue</code> is an interface and doesn&#39;t have an implementation for the <code>size()</code> method and I couldn&#39;t find (in reasonable time) any implementation of that interface that calculates the size by traversing."},{"owner":{"account_id":27237089,"reputation":1,"user_id":20763838,"display_name":"wb lin"},"score":0,"creation_date":1670925007,"post_id":74781412,"comment_id":131980219,"body_markdown":"ConcurrentLinkedQueue","body":"ConcurrentLinkedQueue"}],"answers":[{"comments":[{"owner":{"account_id":27237089,"reputation":1,"user_id":20763838,"display_name":"wb lin"},"score":0,"creation_date":1670918269,"post_id":74781492,"comment_id":131978055,"body_markdown":"Why does linkedList do this?","body":"Why does linkedList do this?"},{"owner":{"account_id":27237089,"reputation":1,"user_id":20763838,"display_name":"wb lin"},"score":0,"creation_date":1670918373,"post_id":74781492,"comment_id":131978085,"body_markdown":"From the perspective of resources, I agree with you. But I always feel strange","body":"From the perspective of resources, I agree with you. But I always feel strange"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1670921115,"post_id":74781492,"comment_id":131978836,"body_markdown":"Imagine you have a few thousand entries in a linked list. How many read operations would it cost you to find out the size, unless you have a field for it?","body":"Imagine you have a few thousand entries in a linked list. How many read operations would it cost you to find out the size, unless you have a field for it?"},{"owner":{"account_id":27237089,"reputation":1,"user_id":20763838,"display_name":"wb lin"},"score":0,"creation_date":1670925083,"post_id":74781492,"comment_id":131980256,"body_markdown":"In the case of large amount of data, the queue will have similar problems","body":"In the case of large amount of data, the queue will have similar problems"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1670930268,"post_id":74781492,"comment_id":131982017,"body_markdown":"What Queue do you mean? java.util.Queue is an interface and doesn&#39;t have an implementation...","body":"What Queue do you mean? java.util.Queue is an interface and doesn&#39;t have an implementation..."},{"owner":{"account_id":27237089,"reputation":1,"user_id":20763838,"display_name":"wb lin"},"score":0,"creation_date":1670981699,"post_id":74781492,"comment_id":131997251,"body_markdown":"Maybe I didn&#39;t describe it clearly. It should be the implementation of ConcurrentLinkedQueue, which has been roughly understood by now. Thank you very much","body":"Maybe I didn&#39;t describe it clearly. It should be the implementation of ConcurrentLinkedQueue, which has been roughly understood by now. Thank you very much"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670917566,"creation_date":1670917566,"answer_id":74781492,"question_id":74781412,"body_markdown":"This is likely the cost of holding/aquiring the value.\r\n\r\nWhen you keep a static variable it costs memory and the time to keep the value up to date - while you still do not know whether you need the value at all.\r\n\r\nIn contrary you can calculate the value, e.g. by traversing the list. This will cost time.\r\n\r\nSo depending on the amount of data you store, the dynamics of insertion/deletion, how you need to access the data and how often you need the size one or the other implementation may be beneficial. That is why the platform offers many different collection types.","title":"Design principles in java","body":"<p>This is likely the cost of holding/aquiring the value.</p>\n<p>When you keep a static variable it costs memory and the time to keep the value up to date - while you still do not know whether you need the value at all.</p>\n<p>In contrary you can calculate the value, e.g. by traversing the list. This will cost time.</p>\n<p>So depending on the amount of data you store, the dynamics of insertion/deletion, how you need to access the data and how often you need the size one or the other implementation may be beneficial. That is why the platform offers many different collection types.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670936899,"creation_date":1670936899,"answer_id":74785391,"question_id":74781412,"body_markdown":"The likely reason is the cost to update a `size` field.\r\n\r\n`ConcurrentLinkedQueue` is written for high-performance concurrent `offer()` and `poll()` operations and is written trying to minimize contention for the same memory location.\r\n\r\nMaintaining a `size` field would require updates to that field on every call to `offer()` and `poll()` and that update must be atomically (maybe using `AtomicLong` which under contention may need to loop several times until the value has been changed).\r\n\r\nFor a queue the size is normally less important than the simple &quot;is empty&quot; / &quot;is not empty&quot; property (and a similar &quot;is full&quot; / &quot;is not full&quot; - but for an effectively unlimited queue like `ConcurrentLinkedQueue` it is impossible to reach a &quot;full&quot; state).","title":"Design principles in java","body":"<p>The likely reason is the cost to update a <code>size</code> field.</p>\n<p><code>ConcurrentLinkedQueue</code> is written for high-performance concurrent <code>offer()</code> and <code>poll()</code> operations and is written trying to minimize contention for the same memory location.</p>\n<p>Maintaining a <code>size</code> field would require updates to that field on every call to <code>offer()</code> and <code>poll()</code> and that update must be atomically (maybe using <code>AtomicLong</code> which under contention may need to loop several times until the value has been changed).</p>\n<p>For a queue the size is normally less important than the simple &quot;is empty&quot; / &quot;is not empty&quot; property (and a similar &quot;is full&quot; / &quot;is not full&quot; - but for an effectively unlimited queue like <code>ConcurrentLinkedQueue</code> it is impossible to reach a &quot;full&quot; state).</p>\n"}],"owner":{"account_id":27237089,"reputation":1,"user_id":20763838,"display_name":"wb lin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670936899,"creation_date":1670917097,"question_id":74781412,"body_markdown":"Why does the underlying source code of a java queue get its size by traversing rather than maintaining static variables? For example, linkedList tracks size through static variables and wants to know why it is designed.\r\n\r\nDo not add entities unless necessary","title":"Design principles in java","body":"<p>Why does the underlying source code of a java queue get its size by traversing rather than maintaining static variables? For example, linkedList tracks size through static variables and wants to know why it is designed.</p>\n<p>Do not add entities unless necessary</p>\n"},{"tags":["java","docker"],"owner":{"account_id":27239907,"reputation":1,"user_id":20766258,"display_name":"zzzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670935936,"creation_date":1670935936,"question_id":74785163,"body_markdown":"I&#39;m connecting to database service running on localhost. Via java program running on docker I would like to connect to that service.\r\nHere is small example:\r\n\r\n```\r\nConnection con = DriverManager.getConnection(&quot;jdbc:db2://host.docker.internal:1000/database&quot;,&quot;user&quot;,&quot;******&quot;);\r\nlogger.info(&quot;connection created&quot;);\r\n```\r\n\r\nIn case, that database service isn&#39;t available, getting connection will never expire. So no timeout exception or unable to connect exception will be thrown. Thread will be remain seated and will not end. \r\nAnd this will happen not just for jdbc connection, but also for e.g. http, jms, ...\r\n\r\n\r\nIs it possible to set timeout in docker for host.docker.internal?","title":"Is it possible to set timeout for any connection to host.docker.internal in java application under docker containter?","body":"<p>I'm connecting to database service running on localhost. Via java program running on docker I would like to connect to that service.\nHere is small example:</p>\n<pre><code>Connection con = DriverManager.getConnection(&quot;jdbc:db2://host.docker.internal:1000/database&quot;,&quot;user&quot;,&quot;******&quot;);\nlogger.info(&quot;connection created&quot;);\n</code></pre>\n<p>In case, that database service isn't available, getting connection will never expire. So no timeout exception or unable to connect exception will be thrown. Thread will be remain seated and will not end.\nAnd this will happen not just for jdbc connection, but also for e.g. http, jms, ...</p>\n<p>Is it possible to set timeout in docker for host.docker.internal?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-annotations"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1670359070,"post_id":74708760,"comment_id":131857533,"body_markdown":"Have you verified that you are using the correct [`@Value`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html) annotation?","body":"Have you verified that you are using the correct <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Value.html\" rel=\"nofollow noreferrer\"><code>@Value</code></a> annotation?"},{"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"score":1,"creation_date":1670359261,"post_id":74708760,"comment_id":131857597,"body_markdown":"@Turing85 \nimport org.springframework.beans.factory.annotation.Value;\n\nAlso added at number 6 in list","body":"@Turing85  import org.springframework.beans.factory.annotation.Value;  Also added at number 6 in list"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1670359528,"post_id":74708760,"comment_id":131857676,"body_markdown":"Can you provide a [MRE], e.g. in form of a git repository?","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, e.g. in form of a git repository?"},{"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"score":0,"creation_date":1670359977,"post_id":74708760,"comment_id":131857815,"body_markdown":"@Turing85 I can, but sad thing is, its working in other sample project where I tried to replicate it but not in a project which I am working on and it cannot be shared. So I am searching for options which I need to look into like project configuration or spell check or resources folder tagging or anything which I am certainly missing here.","body":"@Turing85 I can, but sad thing is, its working in other sample project where I tried to replicate it but not in a project which I am working on and it cannot be shared. So I am searching for options which I need to look into like project configuration or spell check or resources folder tagging or anything which I am certainly missing here."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1670360254,"post_id":74708760,"comment_id":131857898,"body_markdown":"Run the program with `--trace` to check if your application.properties are loaded.","body":"Run the program with <code>--trace</code> to check if your application.properties are loaded."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1670361951,"post_id":74708760,"comment_id":131858398,"body_markdown":"Spring boot has default rule to scan packages (package containing the @ SpringBootApplication class ..), but if the name of your class&#39;s package doesn&#39;t match then you have to add it to a @ComponentScan annotation.","body":"Spring boot has default rule to scan packages (package containing the @ SpringBootApplication class ..), but if the name of your class&#39;s package doesn&#39;t match then you have to add it to a @ComponentScan annotation."},{"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"score":0,"creation_date":1670362252,"post_id":74708760,"comment_id":131858487,"body_markdown":"Check that file.name is defined in your application.properties file.  Then check that you have `@ComponentScan(basePackages = {&quot;com.whatever.appname.*&quot;})` at the top of your your SpringBootApplication class.","body":"Check that file.name is defined in your application.properties file.  Then check that you have <code>@ComponentScan(basePackages = {&quot;com.whatever.appname.*&quot;})</code> at the top of your your SpringBootApplication class."},{"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"score":0,"creation_date":1670362818,"post_id":74708760,"comment_id":131858642,"body_markdown":"@old_dd\nAfter adding &#39;@ComponentScan&#39; getting below error in editor and suggesting to remove it:\n\nRedundant declaration: &#39;@SpringBootApplication&#39; already applies given &#39;@ComponentScan &#39;","body":"@old_dd After adding &#39;@ComponentScan&#39; getting below error in editor and suggesting to remove it:  Redundant declaration: &#39;@SpringBootApplication&#39; already applies given &#39;@ComponentScan &#39;"},{"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"score":0,"creation_date":1670363107,"post_id":74708760,"comment_id":131858707,"body_markdown":"did you add the basePackages attribute?  SpringBootApplication includes ComponentScan, but the default value, If specific packages are not defined, will cause scanning to occur from the package of the class with this annotation.","body":"did you add the basePackages attribute?  SpringBootApplication includes ComponentScan, but the default value, If specific packages are not defined, will cause scanning to occur from the package of the class with this annotation."},{"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"score":0,"creation_date":1670364654,"post_id":74708760,"comment_id":131859069,"body_markdown":"Note sure about solution, but application.properties file was definitely not being loaded at runtime.\nSo removed &#39;@Value&#39; (which I don&#39;t wanted to do) and tried legacy alternative to load properties file and it worked. Still investigating why &#39;@Value&#39; is not loading properties file. @PeterMmm any ideas?\n\n**Temporary solution:**\n_private Properties props = new Properties();\nprops.load(VaultCredential.class.getResourceAsStream(&quot;/application.properties&quot;));\nprops.getProperty(&quot;file.name&quot;);_","body":"Note sure about solution, but application.properties file was definitely not being loaded at runtime. So removed &#39;@Value&#39; (which I don&#39;t wanted to do) and tried legacy alternative to load properties file and it worked. Still investigating why &#39;@Value&#39; is not loading properties file. @PeterMmm any ideas?  <b>Temporary solution:</b> <i>private Properties props = new Properties(); props.load(VaultCredential.class.getResourceAsStream(&quot;/appli&zwnj;&#8203;cation.properties&quot;))&zwnj;&#8203;; props.getProperty(&quot;file.name&quot;);</i>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670422579,"post_id":74708760,"comment_id":131872977,"body_markdown":"An `@Value` like an `@Autowired` cannot be `null`, if that happens a startup exception would occur and the application wouldn&#39;t even start. The fact that it is `null` is more an indication that you are creating an instance of the class yourself using `new` and thus it won&#39;t be processed by Spring and thus nothing will happen. Also please add the full class and not just a snippet, also show where you are using this/how you are using this and when it is `null`.","body":"An <code>@Value</code> like an <code>@Autowired</code> cannot be <code>null</code>, if that happens a startup exception would occur and the application wouldn&#39;t even start. The fact that it is <code>null</code> is more an indication that you are creating an instance of the class yourself using <code>new</code> and thus it won&#39;t be processed by Spring and thus nothing will happen. Also please add the full class and not just a snippet, also show where you are using this/how you are using this and when it is <code>null</code>."},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1670424498,"post_id":74708760,"comment_id":131873759,"body_markdown":"Do you load the properties file in the Application class or do you expect them to be picked up by default?","body":"Do you load the properties file in the Application class or do you expect them to be picked up by default?"},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1670424621,"post_id":74708760,"comment_id":131873810,"body_markdown":"Also in the build section in the pom.xml (or the equivalent for gradle) you might need to add them there. Since you have already a project thaty they run it might be easy to compare what they have on those 2 places.","body":"Also in the build section in the pom.xml (or the equivalent for gradle) you might need to add them there. Since you have already a project thaty they run it might be easy to compare what they have on those 2 places."},{"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"score":0,"creation_date":1670437641,"post_id":74708760,"comment_id":131878469,"body_markdown":"@Dimitris If we write &#39;@SpringBootApplication&#39;, ideally spring should automatically load everything from &#39;application.properties&#39; file and inject into variables annotated with &#39;@Value&#39;. This is what my understanding is. Correct me if I am wrong.","body":"@Dimitris If we write &#39;@SpringBootApplication&#39;, ideally spring should automatically load everything from &#39;application.properties&#39; file and inject into variables annotated with &#39;@Value&#39;. This is what my understanding is. Correct me if I am wrong."},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1670505759,"post_id":74708760,"comment_id":131893772,"body_markdown":"Indeed this is the default, but maybe you need to set the property source to use the @Value. There are many ways to do that I check baeldung for example: https://github.com/eugenp/tutorials/blob/master/spring-boot-modules/spring-boot-properties-2/src/main/java/com/baeldung/properties/value/ValuesApp.java Maybe you can try something like that.","body":"Indeed this is the default, but maybe you need to set the property source to use the @Value. There are many ways to do that I check baeldung for example: <a href=\"https://github.com/eugenp/tutorials/blob/master/spring-boot-modules/spring-boot-properties-2/src/main/java/com/baeldung/properties/value/ValuesApp.java\" rel=\"nofollow noreferrer\">github.com/eugenp/tutorials/blob/master/spring-boot-modules/&zwnj;&#8203;&hellip;</a> Maybe you can try something like that."},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":0,"creation_date":1670506090,"post_id":74708760,"comment_id":131893902,"body_markdown":"I am using it in my project and I see that we set both propertysource, also in the application class using  return application.sources(Application.class).properties(&quot;&quot;) and in the pom file. So not sure, which one you need to make it work. That is why I said compare with your other project.","body":"I am using it in my project and I see that we set both propertysource, also in the application class using  return application.sources(Application.class).properties(&quot;&quot;) and in the pom file. So not sure, which one you need to make it work. That is why I said compare with your other project."}],"answers":[{"comments":[{"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"score":0,"creation_date":1670437922,"post_id":74716503,"comment_id":131878552,"body_markdown":"Tried this solution, still same result.  \n`Exception in thread &quot;main&quot; java.lang.NullPointerException\n\tat java.base/java.io.File.&lt;init&gt;(File.java:318)`","body":"Tried this solution, still same result.   <code>Exception in thread &quot;main&quot; java.lang.NullPointerException \tat java.base&#47;java.io.File.&lt;init&gt;(File.java:318)</code>"}],"tags":[],"owner":{"account_id":8361884,"reputation":24,"user_id":6279883,"display_name":"Parinda Amin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670422338,"creation_date":1670415095,"answer_id":74716503,"question_id":74708760,"body_markdown":"Can you please try with below code\r\n    \r\n    private String PathForImageGallery;\r\n    \r\n\t@Value(&quot;${file.name}&quot;)\r\n\tpublic void PathForImageGallery(String PathForImageGallery) {\r\n\t\tthis.PathForImageGallery = PathForImageGallery;\r\n\t}","title":"SpringBoot 2.7.5 - @Value annotation not assigning any values from application.properties file","body":"<p>Can you please try with below code</p>\n<pre><code>private String PathForImageGallery;\n\n@Value(&quot;${file.name}&quot;)\npublic void PathForImageGallery(String PathForImageGallery) {\n    this.PathForImageGallery = PathForImageGallery;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670935912,"creation_date":1670935559,"answer_id":74785089,"question_id":74708760,"body_markdown":"Apologies everyone. I was calling a class where was trying to bind `@Value` with properties and calling it in `main()` method of `@SpringBootApplication`.\r\nTotally missed that `main()` method will not load property values until spring application is up and running.\r\n\r\nWorking solution if some one want to load properties before even running a SpringBoot application -\r\n\r\n    private Properties props = new Properties();\r\n    props.load(VaultCredential.class.getResourceAsStream(&quot;/application.properties&quot;));\r\n    props.getProperty(&quot;file.name&quot;);\r\n\r\nPS - Thanks all for your efforts. Admins can close it down if considered as non-logical question.","title":"SpringBoot 2.7.5 - @Value annotation not assigning any values from application.properties file","body":"<p>Apologies everyone. I was calling a class where was trying to bind <code>@Value</code> with properties and calling it in <code>main()</code> method of <code>@SpringBootApplication</code>.\nTotally missed that <code>main()</code> method will not load property values until spring application is up and running.</p>\n<p>Working solution if some one want to load properties before even running a SpringBoot application -</p>\n<pre><code>private Properties props = new Properties();\nprops.load(VaultCredential.class.getResourceAsStream(&quot;/application.properties&quot;));\nprops.getProperty(&quot;file.name&quot;);\n</code></pre>\n<p>PS - Thanks all for your efforts. Admins can close it down if considered as non-logical question.</p>\n"}],"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74785089,"answer_count":2,"score":0,"last_activity_date":1670935912,"creation_date":1670359003,"question_id":74708760,"body_markdown":"I am using Spring Boot 2.7.5\r\nWhile using **@Value** annotation to inject values form **application.properties** file, getting null assignment to variables under **@Configuration** class.\r\n\r\n**Example:**\r\n\r\n```\r\n@Value(&quot;${file.name}&quot;)\r\nprivate String fileName;\r\n```\r\n\r\nHere I am getting seeing assignment to variable *fileName*\r\nIdeally it should assign value *&#39;${file.name}&#39;* if key isn&#39;t matching. But null assignment means something is breaking in the project (at least I think so, I need experts comments on this).\r\n\r\nSame thing is working in another project but not in this particular.\r\n\r\nLet me know if my question is not elaborative enough and will try to explain in detail\r\n\r\nMy question is, why is it working in other project but not in this one. What configurations could go wrong which I need to check. Have gone through multiple stackoverflow solutions and verified all below:\r\n 1. application.properties file spell check\r\n 2. @Configuration annotation at top of class where @Value is being used\r\n 3. key value pair assignment and spell check of all keys\r\n 4. no issues with library imports\r\n 5. Tried to add **@PropertySource(&quot;classpath:foo.properties&quot;)**\r\n 6. *import org.springframework.beans.factory.annotation.Value;*\r\n 7. *resources* folder is correctly marked as **&#39;Resources Root&#39;**\r\n 8. \r\n\r\n**Temporary Alternative**\r\n\r\n    private Properties props = new Properties();\r\n    props.load(VaultCredential.class.getResourceAsStream(&quot;/application.properties&quot;));\r\n    props.getProperty(&quot;file.name&quot;);","title":"SpringBoot 2.7.5 - @Value annotation not assigning any values from application.properties file","body":"<p>I am using Spring Boot 2.7.5\nWhile using <strong>@Value</strong> annotation to inject values form <strong>application.properties</strong> file, getting null assignment to variables under <strong>@Configuration</strong> class.</p>\n<p><strong>Example:</strong></p>\n<pre><code>@Value(&quot;${file.name}&quot;)\nprivate String fileName;\n</code></pre>\n<p>Here I am getting seeing assignment to variable <em>fileName</em>\nIdeally it should assign value <em>'${file.name}'</em> if key isn't matching. But null assignment means something is breaking in the project (at least I think so, I need experts comments on this).</p>\n<p>Same thing is working in another project but not in this particular.</p>\n<p>Let me know if my question is not elaborative enough and will try to explain in detail</p>\n<p>My question is, why is it working in other project but not in this one. What configurations could go wrong which I need to check. Have gone through multiple stackoverflow solutions and verified all below:</p>\n<ol>\n<li>application.properties file spell check</li>\n<li>@Configuration annotation at top of class where @Value is being used</li>\n<li>key value pair assignment and spell check of all keys</li>\n<li>no issues with library imports</li>\n<li>Tried to add <strong>@PropertySource(&quot;classpath:foo.properties&quot;)</strong></li>\n<li><em>import org.springframework.beans.factory.annotation.Value;</em></li>\n<li><em>resources</em> folder is correctly marked as <strong>'Resources Root'</strong></li>\n<li></li>\n</ol>\n<p><strong>Temporary Alternative</strong></p>\n<pre><code>private Properties props = new Properties();\nprops.load(VaultCredential.class.getResourceAsStream(&quot;/application.properties&quot;));\nprops.getProperty(&quot;file.name&quot;);\n</code></pre>\n"},{"tags":["java","git","intellij-idea","git-config","core.autocrlf"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1670934602,"post_id":74784848,"comment_id":131983572,"body_markdown":"have you checked if the line endings are differents ? Try to run `git diff` with `--ignore-cr-at-eol` argument (and also  `--ignore-all-space` if you want to ignore space/tabs conversion)","body":"have you checked if the line endings are differents ? Try to run <code>git diff</code> with <code>--ignore-cr-at-eol</code> argument (and also  <code>--ignore-all-space</code> if you want to ignore space/tabs conversion)"},{"owner":{"account_id":23608230,"reputation":39,"user_id":17643637,"display_name":"Umesh Goti"},"score":0,"creation_date":1670934778,"post_id":74784848,"comment_id":131983652,"body_markdown":"@jhamon Thanks for your quick reply\njust tried using your way but still it doesn&#39;t make any effect. can you please check if by other i can resolve","body":"@jhamon Thanks for your quick reply just tried using your way but still it doesn&#39;t make any effect. can you please check if by other i can resolve"},{"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"score":0,"creation_date":1670958384,"post_id":74784848,"comment_id":131992149,"body_markdown":"Could it be the file encoding?","body":"Could it be the file encoding?"}],"answers":[{"comments":[{"owner":{"account_id":23608230,"reputation":39,"user_id":17643637,"display_name":"Umesh Goti"},"score":0,"creation_date":1670947568,"post_id":74785140,"comment_id":131988366,"body_markdown":"Thanks @furkanbegen\nbut when i do LF from CRLF and entire project is shown as diff in git status command\ncan you please help for this","body":"Thanks @furkanbegen but when i do LF from CRLF and entire project is shown as diff in git status command can you please help for this"},{"owner":{"account_id":6985227,"reputation":73,"user_id":5356474,"display_name":"furkanbegen"},"score":0,"creation_date":1671053577,"post_id":74785140,"comment_id":132017340,"body_markdown":"can you try with git config --global core.autocrlf true","body":"can you try with git config --global core.autocrlf true"}],"tags":[],"owner":{"account_id":6985227,"reputation":73,"user_id":5356474,"display_name":"furkanbegen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670935833,"creation_date":1670935833,"answer_id":74785140,"question_id":74784848,"body_markdown":"You should select the correct line ending from bottom right panel of the intellij\r\n\r\nhttps://i.stack.imgur.com/rLtOp.png","title":"windows git shows difference for whole file","body":"<p>You should select the correct line ending from bottom right panel of the intellij</p>\n<p><a href=\"https://i.stack.imgur.com/rLtOp.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/rLtOp.png</a></p>\n"}],"owner":{"account_id":23608230,"reputation":39,"user_id":17643637,"display_name":"Umesh Goti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74785140,"answer_count":1,"score":0,"last_activity_date":1670935833,"creation_date":1670934421,"question_id":74784848,"body_markdown":" as i am using below setup for my work station &lt;br/&gt;\r\nwindows, intellij idea\r\n\r\ntill now everything was working fine with changes in intellij and was able to see difference using `git diff`\r\ncommand. &lt;br/&gt; but suddenly now even if i am making single line change in .java file it shows whole file in `git diff` command\r\n\r\nalso i checked my intellij which shows `CRLF` on right bottom corner.\r\n\r\nand in my c:/users/umeshuser/.gitconfig  which is as below &lt;br/&gt;\r\n\r\n    [user]\r\n    \temail = umesh.g@xyz.com\r\n    \tname = UmeshGoti\r\n    [core]\r\n    \tautocrlf = true\r\n    \tsafecrlf = false\r\n\r\n&lt;br/&gt; and below is config file available in my root project/.git/config&lt;br/&gt;\r\n\r\n    [core]\r\n    \trepositoryformatversion = 0\r\n    \tfilemode = false\r\n    \tbare = false\r\n    \tlogallrefupdates = true\r\n    \tsymlinks = false\r\n    \tignorecase = true\r\n    [remote &quot;origin&quot;]\r\n    \turl = https://{bitbucketURL}/backend-api.git\r\n    \tfetch = +refs/heads/*:refs/remotes/origin/*\r\n    [branch &quot;API_PROD&quot;]\r\n    \tremote = origin\r\n    \tmerge = refs/heads/API_PROD\r\n    [branch &quot;API_DEV&quot;]\r\n    \tremote = origin\r\n    \tmerge = refs/heads/API_DEV\r\n\r\ni have tried by uninstalling git and intellij then also issue is not resolved\r\n\r\ncan someone please help me to solve this issue\r\n\r\nplease note just before 2-3 days i think updated windows OS. so, is there any issue with that also \r\n\r\nalso intellij diff tool shows me below formats CR and CRLF\r\n[![enter image description here][1]][1]\r\n\r\nplease advice me to resolve this issue\r\n\r\nThanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XZyck.png","title":"windows git shows difference for whole file","body":"<p>as i am using below setup for my work station <br/>\nwindows, intellij idea</p>\n<p>till now everything was working fine with changes in intellij and was able to see difference using <code>git diff</code>\ncommand. <br/> but suddenly now even if i am making single line change in .java file it shows whole file in <code>git diff</code> command</p>\n<p>also i checked my intellij which shows <code>CRLF</code> on right bottom corner.</p>\n<p>and in my c:/users/umeshuser/.gitconfig  which is as below <br/></p>\n<pre><code>[user]\n    email = umesh.g@xyz.com\n    name = UmeshGoti\n[core]\n    autocrlf = true\n    safecrlf = false\n</code></pre>\n<p><br/> and below is config file available in my root project/.git/config<br/></p>\n<pre><code>[core]\n    repositoryformatversion = 0\n    filemode = false\n    bare = false\n    logallrefupdates = true\n    symlinks = false\n    ignorecase = true\n[remote &quot;origin&quot;]\n    url = https://{bitbucketURL}/backend-api.git\n    fetch = +refs/heads/*:refs/remotes/origin/*\n[branch &quot;API_PROD&quot;]\n    remote = origin\n    merge = refs/heads/API_PROD\n[branch &quot;API_DEV&quot;]\n    remote = origin\n    merge = refs/heads/API_DEV\n</code></pre>\n<p>i have tried by uninstalling git and intellij then also issue is not resolved</p>\n<p>can someone please help me to solve this issue</p>\n<p>please note just before 2-3 days i think updated windows OS. so, is there any issue with that also</p>\n<p>also intellij diff tool shows me below formats CR and CRLF\n<a href=\"https://i.stack.imgur.com/XZyck.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XZyck.png\" alt=\"enter image description here\" /></a></p>\n<p>please advice me to resolve this issue</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","react-native"],"comments":[{"owner":{"account_id":22245021,"reputation":566,"user_id":16478855,"display_name":"Ankit Vora"},"score":0,"creation_date":1670934435,"post_id":74784386,"comment_id":131983506,"body_markdown":"you need to change your JDK from 1.8 to 8 or higher, I refer to using JDK 11.","body":"you need to change your JDK from 1.8 to 8 or higher, I refer to using JDK 11."}],"answers":[{"tags":[],"owner":{"account_id":3319649,"reputation":2683,"user_id":2791142,"display_name":"Kirill Novikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670935615,"creation_date":1670935615,"answer_id":74785103,"question_id":74784386,"body_markdown":"Try to install it with brew\r\n\r\n```\r\nbrew tap homebrew/cask-versions\r\nbrew install --cask zulu11\r\n```\r\n\r\nThen check in terminal\r\n\r\n```\r\njava -version\r\nopenjdk version &quot;11.0.13&quot; 2021-10-19\r\nOpenJDK Runtime Environment Temurin-11.0.13+8 (build 11.0.13+8)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.13+8 (build 11.0.13+8, mixed mode)\r\n```","title":"JDK error while i run react-native-doctor but i already upgrade jdk version","body":"<p>Try to install it with brew</p>\n<pre><code>brew tap homebrew/cask-versions\nbrew install --cask zulu11\n</code></pre>\n<p>Then check in terminal</p>\n<pre><code>java -version\nopenjdk version &quot;11.0.13&quot; 2021-10-19\nOpenJDK Runtime Environment Temurin-11.0.13+8 (build 11.0.13+8)\nOpenJDK 64-Bit Server VM Temurin-11.0.13+8 (build 11.0.13+8, mixed mode)\n</code></pre>\n"}],"owner":{"account_id":23616483,"reputation":13,"user_id":17650509,"display_name":"Sabillah sakti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74785103,"answer_count":1,"score":1,"last_activity_date":1670935615,"creation_date":1670932095,"question_id":74784386,"body_markdown":"So i have error while i run react-native-doctor\r\n\r\n```\r\n JDK\r\n   - Version found: 1.8.0_352\r\n   - Version supported: &gt;= 8\r\n  Android Studio - Required for building and installing your app on Android\r\n  Android SDK - Required for building and installing your app on Android\r\n  ANDROID_HOME\r\n```\r\n\r\ncan anyone solve that problem?","title":"JDK error while i run react-native-doctor but i already upgrade jdk version","body":"<p>So i have error while i run react-native-doctor</p>\n<pre><code> JDK\n   - Version found: 1.8.0_352\n   - Version supported: &gt;= 8\n  Android Studio - Required for building and installing your app on Android\n  Android SDK - Required for building and installing your app on Android\n  ANDROID_HOME\n</code></pre>\n<p>can anyone solve that problem?</p>\n"},{"tags":["java","spring","mongodb"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1670920022,"post_id":74781799,"comment_id":131978517,"body_markdown":"arent you missing an &quot;and&quot; block that wraps all the &quot;or&quot; blocks?","body":"arent you missing an &quot;and&quot; block that wraps all the &quot;or&quot; blocks?"},{"owner":{"account_id":9484565,"reputation":249,"user_id":7051311,"accept_rate":20,"display_name":"confused_geek"},"score":0,"creation_date":1670920258,"post_id":74781799,"comment_id":131978579,"body_markdown":"yeah , i tried that approach also , still no luck , i have updated my post for reference.","body":"yeah , i tried that approach also , still no luck , i have updated my post for reference."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1670920888,"post_id":74781799,"comment_id":131978767,"body_markdown":"Should all the params be `?0` in the second example? Shouldn&#39;t they be `?0`, `?1` and so on?","body":"Should all the params be <code>?0</code> in the second example? Shouldn&#39;t they be <code>?0</code>, <code>?1</code> and so on?"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1670921043,"post_id":74781799,"comment_id":131978816,"body_markdown":"Also, you might consider using `CriteriaBuilder`, because this kind of usecase is exactly what it&#39;s meant for. https://www.baeldung.com/queries-in-spring-data-mongodb","body":"Also, you might consider using <code>CriteriaBuilder</code>, because this kind of usecase is exactly what it&#39;s meant for. <a href=\"https://www.baeldung.com/queries-in-spring-data-mongodb\" rel=\"nofollow noreferrer\">baeldung.com/queries-in-spring-data-mongodb</a>"},{"owner":{"account_id":9484565,"reputation":249,"user_id":7051311,"accept_rate":20,"display_name":"confused_geek"},"score":0,"creation_date":1670921213,"post_id":74781799,"comment_id":131978866,"body_markdown":"@Tarmo yeah correct , it&#39;s ?0 , ?1 like that only","body":"@Tarmo yeah correct , it&#39;s ?0 , ?1 like that only"},{"owner":{"account_id":9484565,"reputation":249,"user_id":7051311,"accept_rate":20,"display_name":"confused_geek"},"score":0,"creation_date":1670921595,"post_id":74781799,"comment_id":131978986,"body_markdown":"@Tarmo, so writing this inside a Query annotation is not the correct approach?","body":"@Tarmo, so writing this inside a Query annotation is not the correct approach?"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1670934605,"post_id":74781799,"comment_id":131983574,"body_markdown":"I am not saying it can&#39;t be done like that. I&#39;m saying that for cases when the criteria is complex and very dynamic and depends highly on the input, CriteriaBuilder is the tool to use. The code will be more readable and better maintainable than a hackish multiline escaped string.","body":"I am not saying it can&#39;t be done like that. I&#39;m saying that for cases when the criteria is complex and very dynamic and depends highly on the input, CriteriaBuilder is the tool to use. The code will be more readable and better maintainable than a hackish multiline escaped string."},{"owner":{"account_id":9484565,"reputation":249,"user_id":7051311,"accept_rate":20,"display_name":"confused_geek"},"score":0,"creation_date":1670935112,"post_id":74781799,"comment_id":131983769,"body_markdown":"@Tarmo I tried using CriteriaBuilder, but now it says cannot find &quot;find()&quot; method , I have edited the post and attached the screenshot. Currently i am extending MongoRepository","body":"@Tarmo I tried using CriteriaBuilder, but now it says cannot find &quot;find()&quot; method , I have edited the post and attached the screenshot. Currently i am extending MongoRepository"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1670938018,"post_id":74781799,"comment_id":131984817,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250372/discussion-between-tarmo-and-confused-geek).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250372/discussion-between-tarmo-and-confused-geek\">continue this discussion in chat</a>."}],"owner":{"account_id":9484565,"reputation":249,"user_id":7051311,"accept_rate":20,"display_name":"confused_geek"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670935147,"creation_date":1670919436,"question_id":74781799,"body_markdown":"I&#39;m trying to write a query for spring mongo&#39;s @Query annotation, where it gets data for all those fields whose value is not null, that&#39;s coming from the front end.\r\n\r\nCurrently, I have tried this, but it just returns all the records.\r\n\r\n    @Query(&quot;{ { $or: [ { $where: &#39;?0 == null&#39; }, { name: &#39;?0&#39; } ] }&quot; +\r\n            &quot; { $or: [ { $where: &#39;?1 == null&#39; }, { age: &#39;?1&#39; } ] }&quot; +\r\n            &quot; { $or: [ { $where: &#39;?2 == null&#39; }, { batch: &#39;?2&#39; } ] }&quot; +\r\n            &quot; { $or: [ { $where: &#39;?3 == null&#39; }, { $or: [{startDate: &#39;?3&#39;}, {endDate: &#39;?3&#39;}] } ] } }&quot;)\r\n\r\n\r\nEdit: I have tried wrapping the $or inside an $and , but it still returns all the records.\r\n\r\n    @Query(&quot;{$and:{\\r\\n&quot;\r\n    \t\t+ &quot;   { $or: [ { $where: &#39;?0 == null&#39; }, { name: &#39;?0&#39; } ] },\\r\\n&quot;\r\n    \t\t+ &quot;   { $or: [ { $where: &#39;?1 == null&#39; }, { age: &#39;?1&#39; } ] },\\r\\n&quot;\r\n    \t\t+ &quot;   { $or: [ { $where: &#39;?2 == null&#39; }, { batch: &#39;?2&#39; } ] },\\r\\n&quot;\r\n    \t\t+ &quot;}}&quot;)\r\n\r\n\r\nEdit:\r\ntried criteria builder , now it says cannot find &quot;find()&quot; method\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vxdNN.png","title":"How to write a dynamic query inside @Query annotation for spring mongo JPA","body":"<p>I'm trying to write a query for spring mongo's @Query annotation, where it gets data for all those fields whose value is not null, that's coming from the front end.</p>\n<p>Currently, I have tried this, but it just returns all the records.</p>\n<pre><code>@Query(&quot;{ { $or: [ { $where: '?0 == null' }, { name: '?0' } ] }&quot; +\n        &quot; { $or: [ { $where: '?1 == null' }, { age: '?1' } ] }&quot; +\n        &quot; { $or: [ { $where: '?2 == null' }, { batch: '?2' } ] }&quot; +\n        &quot; { $or: [ { $where: '?3 == null' }, { $or: [{startDate: '?3'}, {endDate: '?3'}] } ] } }&quot;)\n</code></pre>\n<p>Edit: I have tried wrapping the $or inside an $and , but it still returns all the records.</p>\n<pre><code>@Query(&quot;{$and:{\\r\\n&quot;\n        + &quot;   { $or: [ { $where: '?0 == null' }, { name: '?0' } ] },\\r\\n&quot;\n        + &quot;   { $or: [ { $where: '?1 == null' }, { age: '?1' } ] },\\r\\n&quot;\n        + &quot;   { $or: [ { $where: '?2 == null' }, { batch: '?2' } ] },\\r\\n&quot;\n        + &quot;}}&quot;)\n</code></pre>\n<p>Edit:\ntried criteria builder , now it says cannot find &quot;find()&quot; method\n<a href=\"https://i.stack.imgur.com/vxdNN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vxdNN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","log4j","log4j2"],"owner":{"account_id":20200751,"reputation":1,"user_id":14816513,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670934950,"creation_date":1670934950,"question_id":74784959,"body_markdown":"```\r\nPathCondition[] pathConditions = new PathCondition[]{IfAccumulatedFileCount.createFileCountCondition(5)};\r\n        String basePath = sRolloverPattern.substring(0, sRolloverPattern.lastIndexOf(File.separator));\r\n        DeleteAction deleteAction = DeleteAction.createDeleteAction(basePath, true, 1, true, null, pathConditions, null, config);\r\n\t\t\r\n\t\tDefaultRolloverStrategy strategy = DefaultRolloverStrategy.newBuilder()\r\n                .withConfig(config).withMax(String.valueOf(&quot;3&quot;))\r\n                .withCustomActions(new Action[]{deleteAction}).build();\r\n```\r\nPlease advice as it&#39;s still keeping 3 files for 1st day and next day again 3 files. The file is not getting deleted accordingly mainiting 5 log files.\r\n\r\nPlease advice what changes need to be done?","title":"Log4j2 not deleting the files with DeleteAction","body":"<pre><code>PathCondition[] pathConditions = new PathCondition[]{IfAccumulatedFileCount.createFileCountCondition(5)};\n        String basePath = sRolloverPattern.substring(0, sRolloverPattern.lastIndexOf(File.separator));\n        DeleteAction deleteAction = DeleteAction.createDeleteAction(basePath, true, 1, true, null, pathConditions, null, config);\n        \n        DefaultRolloverStrategy strategy = DefaultRolloverStrategy.newBuilder()\n                .withConfig(config).withMax(String.valueOf(&quot;3&quot;))\n                .withCustomActions(new Action[]{deleteAction}).build();\n</code></pre>\n<p>Please advice as it's still keeping 3 files for 1st day and next day again 3 files. The file is not getting deleted accordingly mainiting 5 log files.</p>\n<p>Please advice what changes need to be done?</p>\n"},{"tags":["java","tomcat","resteasy"],"comments":[{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1465236128,"post_id":26892417,"comment_id":62806371,"body_markdown":"&quot;and the file /WEB-INF/services/javax.servlet.ServletContainerInitializer with the content org.jboss.resteasy.plugins.servlet.ResteasyServletInitializer&quot; -- as far as I can tell, it doesn&#39;t look like this part does anything at all..","body":"&quot;and the file /WEB-INF/services/javax.servlet.ServletContainerInitializer with the content org.jboss.resteasy.plugins.servlet.ResteasyServletInitialize&zwnj;&#8203;r&quot; -- as far as I can tell, it doesn&#39;t look like this part does anything at all.."}],"answers":[{"comments":[{"owner":{"account_id":1564718,"reputation":642,"user_id":1765638,"accept_rate":100,"display_name":"Pasha"},"score":0,"creation_date":1452347223,"post_id":26908046,"comment_id":57134372,"body_markdown":"Thanks. :) Very helpfully.","body":"Thanks. :) Very helpfully."},{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1464994119,"post_id":26908046,"comment_id":62731443,"body_markdown":"My ResteasyServletInitializer isn&#39;t doing anything either... I&#39;m unclear what exactly you were missing in the question that made it work? Just the web.xml entries?","body":"My ResteasyServletInitializer isn&#39;t doing anything either... I&#39;m unclear what exactly you were missing in the question that made it work? Just the web.xml entries?"},{"owner":{"account_id":88584,"reputation":7239,"user_id":244911,"accept_rate":29,"display_name":"LE GALL Beno&#238;t"},"score":0,"creation_date":1465889337,"post_id":26908046,"comment_id":63075786,"body_markdown":"@Amalgovinus: sorry, I haven&#39;t work with RestEasy since (more Spring rest), so I don&#39;t remember this problem :/","body":"@Amalgovinus: sorry, I haven&#39;t work with RestEasy since (more Spring rest), so I don&#39;t remember this problem :/"}],"tags":[],"owner":{"account_id":88584,"reputation":7239,"user_id":244911,"accept_rate":29,"display_name":"LE GALL Beno&#238;t"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1415878698,"creation_date":1415878698,"answer_id":26908046,"question_id":26892417,"body_markdown":"OK, I&#39;ve found \\o/, and for those how meet this problem here is the solution :\r\n\r\nadd the servlet declaration in your web.xml :\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher&lt;/servlet-class&gt;\r\n    \t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n            &lt;param-value&gt;fr.mycompany.myproject.MarkersApplication&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n    \t&lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\r\n    \t&lt;url-pattern&gt;/resteasy/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n\r\nAND override the methods on your SubApplication :\r\n\r\n    @ApplicationPath(&quot;/resteasy&quot;)\r\n    public class MarkersApplication extends Application {\r\n    \r\n    \tprivate static final Set&lt;Object&gt;\tsingletons\t= new HashSet&lt;Object&gt;();\r\n    \r\n    \tpublic MarkersApplication() {\r\n    \t\tsingletons.add(new MarkersRest());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n    \t\tHashSet&lt;Class&lt;?&gt;&gt; set = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n    \t\treturn set;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Set&lt;Object&gt; getSingletons() {\r\n    \t\treturn singletons;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"RestEasy - ResteasyServletInitializer fail","body":"<p>OK, I've found \\o/, and for those how meet this problem here is the solution :</p>\n\n<p>add the servlet declaration in your web.xml :</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n        &lt;param-value&gt;fr.mycompany.myproject.MarkersApplication&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/resteasy/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>AND override the methods on your SubApplication :</p>\n\n<pre><code>@ApplicationPath(\"/resteasy\")\npublic class MarkersApplication extends Application {\n\n    private static final Set&lt;Object&gt;    singletons  = new HashSet&lt;Object&gt;();\n\n    public MarkersApplication() {\n        singletons.add(new MarkersRest());\n    }\n\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        HashSet&lt;Class&lt;?&gt;&gt; set = new HashSet&lt;Class&lt;?&gt;&gt;();\n        return set;\n    }\n\n    @Override\n    public Set&lt;Object&gt; getSingletons() {\n        return singletons;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21427746,"reputation":41,"user_id":15784779,"display_name":"Franz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670934605,"creation_date":1670934605,"answer_id":74784885,"question_id":26892417,"body_markdown":"There is a catch 22 when using the Javascript API Client generator. This is caused by the fact that Wildfly/JBoss only loads a JAXRS application on demand. \r\n\r\nThe JSAPIServlet must be configured to generate the client Javascript code. The client then includes this javascript script in the page. The browser then tries to fetch the client javascript which activates the JSAPI servlet. The JSAPI servlet then scans for any loaded JAXRS applications and finds none (because they are only loaded on demand). The JSAPI Servlet then returns error html code instead of the required javascript. The client code tries to use the Javascript API to make a call to the JAXRS application and cannot because the required client script is invalid.\r\n\r\nSo the client cannot make a call to the JAXRS endpoint becuase it does not have the script and the JSAPIServlet will only generate the script if the JAXRS endpoint is loaded, hence the catch 22. \r\n\r\nAn obvious solution would be to to use a @ApplicationPath annotation parameter to force a load-on-start similar to that on a @WebServlet(load-on-start=1), however this does not appear to be possible!\r\n\r\nThere are three possible solutions that I know of to bypass this problem:\r\n\r\n1) Solution 1\r\n\r\nAfter _deployment_ immediately make a call to a JAXRS endpoint to force the loading of the application. This must be done before the client javascript is loaded. This is a bad idea for so many reasons.\r\n\r\n2) Solution 2\r\n\r\nDo this all manually in the web.xml. Using the following web.xml to force the JAXRS application to load on startup:\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;MyApplication&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.mydomain.api.MyJAXRSApplication&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;MyApplication&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\t\r\nHowever, things get more complicated now because when starting the application manually, it does not itself scan for any @Path annotated endpoints and these have to all be loaded manually in the MyApplication class as follows:\r\n\r\n    @ApplicationPath(&quot;&quot;)\r\n    public class MyJAXRSApplication extends Application {\r\n    \r\n        private static final Set&lt;Object&gt;    singletons  = new HashSet&lt;Object&gt;();\r\n    \r\n        public MyJAXRSApplication() {\r\n            // See: https://stackoverflow.com/questions/26892417/resteasy-resteasyservletinitializer-fail\r\n            singletons.add(new RestServiceA());\t\t// Each annotaed with @Path()\r\n            singletons.add(new RestServiceB());\r\n            singletons.add(new RestServiceC());\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n            HashSet&lt;Class&lt;?&gt;&gt; set = new HashSet&lt;Class&lt;?&gt;&gt;();\r\n            return set;\r\n        }\r\n    \r\n        @Override\r\n        public Set&lt;Object&gt; getSingletons() {\r\n            return singletons;\r\n        }\r\n    \r\n    }\r\n\r\n3) Solution 3\r\n\r\nTo use annotations and the endpoint annotation scanner - useful if you want to be able to easily add new @Paths to the app. Here we extend the two servlets to force load-on-start:\r\n\r\nstart the JSAPIServlet using an annotation:\r\n\r\n    @WebServlet(urlPatterns = &quot;/rest-js&quot;, loadOnStartup = 1)\r\n    public class JSAPIServletStartupHack extends JSAPIServlet {\r\n    }\r\n\r\nand to start the JAXRS application on start:\r\n\r\n    @WebServlet(urlPatterns = &quot;&quot;, loadOnStartup = 1)\r\n    public class HttpServletDispatcherHStartupHack extends HttpServletDispatcher {\r\n    }\r\n\r\nI don&#39;t know if this approach has any downsides or side-effects but it appears to work for me.\r\n\r\n\r\n","title":"RestEasy - ResteasyServletInitializer fail","body":"<p>There is a catch 22 when using the Javascript API Client generator. This is caused by the fact that Wildfly/JBoss only loads a JAXRS application on demand.</p>\n<p>The JSAPIServlet must be configured to generate the client Javascript code. The client then includes this javascript script in the page. The browser then tries to fetch the client javascript which activates the JSAPI servlet. The JSAPI servlet then scans for any loaded JAXRS applications and finds none (because they are only loaded on demand). The JSAPI Servlet then returns error html code instead of the required javascript. The client code tries to use the Javascript API to make a call to the JAXRS application and cannot because the required client script is invalid.</p>\n<p>So the client cannot make a call to the JAXRS endpoint becuase it does not have the script and the JSAPIServlet will only generate the script if the JAXRS endpoint is loaded, hence the catch 22.</p>\n<p>An obvious solution would be to to use a @ApplicationPath annotation parameter to force a load-on-start similar to that on a @WebServlet(load-on-start=1), however this does not appear to be possible!</p>\n<p>There are three possible solutions that I know of to bypass this problem:</p>\n<ol>\n<li>Solution 1</li>\n</ol>\n<p>After <em>deployment</em> immediately make a call to a JAXRS endpoint to force the loading of the application. This must be done before the client javascript is loaded. This is a bad idea for so many reasons.</p>\n<ol start=\"2\">\n<li>Solution 2</li>\n</ol>\n<p>Do this all manually in the web.xml. Using the following web.xml to force the JAXRS application to load on startup:</p>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;MyApplication&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n        &lt;param-value&gt;com.mydomain.api.MyJAXRSApplication&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;MyApplication&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>However, things get more complicated now because when starting the application manually, it does not itself scan for any @Path annotated endpoints and these have to all be loaded manually in the MyApplication class as follows:</p>\n<pre><code>@ApplicationPath(&quot;&quot;)\npublic class MyJAXRSApplication extends Application {\n\n    private static final Set&lt;Object&gt;    singletons  = new HashSet&lt;Object&gt;();\n\n    public MyJAXRSApplication() {\n        // See: https://stackoverflow.com/questions/26892417/resteasy-resteasyservletinitializer-fail\n        singletons.add(new RestServiceA());     // Each annotaed with @Path()\n        singletons.add(new RestServiceB());\n        singletons.add(new RestServiceC());\n    }\n\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n        HashSet&lt;Class&lt;?&gt;&gt; set = new HashSet&lt;Class&lt;?&gt;&gt;();\n        return set;\n    }\n\n    @Override\n    public Set&lt;Object&gt; getSingletons() {\n        return singletons;\n    }\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>Solution 3</li>\n</ol>\n<p>To use annotations and the endpoint annotation scanner - useful if you want to be able to easily add new @Paths to the app. Here we extend the two servlets to force load-on-start:</p>\n<p>start the JSAPIServlet using an annotation:</p>\n<pre><code>@WebServlet(urlPatterns = &quot;/rest-js&quot;, loadOnStartup = 1)\npublic class JSAPIServletStartupHack extends JSAPIServlet {\n}\n</code></pre>\n<p>and to start the JAXRS application on start:</p>\n<pre><code>@WebServlet(urlPatterns = &quot;&quot;, loadOnStartup = 1)\npublic class HttpServletDispatcherHStartupHack extends HttpServletDispatcher {\n}\n</code></pre>\n<p>I don't know if this approach has any downsides or side-effects but it appears to work for me.</p>\n"}],"owner":{"account_id":88584,"reputation":7239,"user_id":244911,"accept_rate":29,"display_name":"LE GALL Beno&#238;t"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4067,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26908046,"answer_count":2,"score":4,"last_activity_date":1670934605,"creation_date":1415811691,"question_id":26892417,"body_markdown":"So....\r\n\r\nI&#39;ve been able to config a RestEasy service and **make it work in my Eclipse on Windows 8** but it doesn&#39;t work when I deploy it on a Tomcat 7 installed on a Ubuntu !\r\n\r\nWhen I start my tomcat on Eclipse, I got the message :\r\n\r\n&gt; INFO: Starting Servlet Engine: Apache Tomcat/7.0.29&lt;br /&gt; nov. 12,\r\n&gt; 2014 4:00:06 PM org.apache.catalina.core.ApplicationContext log&lt;br /&gt;\r\n&gt; INFO: Initializing Spring root WebApplicationContext&lt;br /&gt; nov. 12,\r\n&gt; 2014 4:00:07 PM org.apache.catalina.core.ApplicationContext log&lt;br /&gt;\r\n&gt; INFO: Initializing Spring FrameworkServlet &#39;MessageBrokerServlet&#39;&lt;br /&gt;\r\n&gt; **[INFO ] 2014-11-12 16:00:08,001 org.jboss.resteasy.spi.ResteasyDeployment - Deploying  javax.ws.rs.core.Application: class fr.mycompany.myproject.MarkersApplication**\r\n\r\nbut this last line isn&#39;t present in the log of the tomcat server on the ubuntu\r\n=&gt; thus when I calling my Rest service (via javascript /jsapi), I got this message :\r\n\r\n    GRAVE: &quot;Servlet.service()&quot; pour la servlet RESTEasy JSAPI a g&#233;n&#233;r&#233; une exception\r\n    java.lang.NullPointerException\r\n    \tat org.jboss.resteasy.jsapi.JSAPIWriter.generateEtag(JSAPIWriter.java:111)\r\n    \tat org.jboss.resteasy.jsapi.JSAPIWriter.writeJavaScript(JSAPIWriter.java:36)\r\n    \tat org.jboss.resteasy.jsapi.JSAPIServlet.service(JSAPIServlet.java:73)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nand what is null (I suppose) is the `serviceRegistries` of the generateEtag() method, which is populate with my RestService when launch in Eclipse Tomcat.\r\n\r\nI haven&#39;t a clue about why the ResteasyServletInitializer get launch/init, so if anyone got this situation (and the solution ^^), please help me T_T\r\n\r\n\r\nHere is the configuration I use :\r\n\r\nThe application declaration :\r\n\r\n    @ApplicationPath(&quot;/resteasy&quot;)\r\n    public class MarkersApplication extends Application {\r\n    \r\n    }\r\n\r\nThe service :\r\n\r\n    @Path(&quot;/markersRest&quot;)\r\n    public class MarkersRest {\r\n    \r\n    \t@Context\r\n    \tprivate ServletContext\tcontext;\r\n    \r\n    \tprivate DataService getService() {\r\n    \t\treturn WebApplicationContextUtils.getWebApplicationContext(context).getBean(DataService.class);\r\n    \t}\r\n    \r\n    \t@POST\r\n    \t@Produces(MediaType.TEXT_PLAIN)\r\n    \tpublic Response getMarkers(@QueryParam(&quot;keyCache&quot;) String keyCache) {\r\n    \t\tString markers = getService().getCachedMarkers(keyCache);\r\n    \r\n    \t\treturn Response.ok().entity(markers).build();\r\n    \t}\r\n    \r\n    }\r\n\r\nThe web.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    \tversion=&quot;3.0&quot; metadata-complete=&quot;true&quot;&gt;\r\n    \r\n    \t&lt;display-name&gt;MyProject&lt;/display-name&gt;\r\n    \r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;classpath:/spring/spring-config.xml&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;resteasy.servlet.mapping.prefix&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;/resteasy&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t\r\n    \t&lt;!-- ************************ --&gt;\r\n    \t&lt;!-- ******* LISTENERS ****** --&gt;\r\n    \t&lt;!-- ************************ --&gt;\r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;flex.messaging.HttpFlexSession&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \t\r\n    \t&lt;!-- ************************ --&gt;\r\n    \t&lt;!-- ******* SERVLETS ******* --&gt;\r\n    \t&lt;!-- ************************ --&gt;\r\n    \r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;MessageBrokerServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;classpath:/spring/spring-flex-config.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;MessageBrokerServlet&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/messagebroker/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;RESTEasy JSAPI&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.jboss.resteasy.jsapi.JSAPIServlet&lt;/servlet-class&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;RESTEasy JSAPI&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/rest-js&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \r\n    &lt;/web-app&gt;\r\n\r\nthe pom.xml :\r\n\t\t\r\n\r\n            ...\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;resteasy-servlet-initializer&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.9.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;resteasy-jsapi&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.9.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            ...\r\n\r\nand the file `/WEB-INF/services/javax.servlet.ServletContainerInitializer`\r\nwith the content `org.jboss.resteasy.plugins.servlet.ResteasyServletInitializer`","title":"RestEasy - ResteasyServletInitializer fail","body":"<p>So....</p>\n\n<p>I've been able to config a RestEasy service and <strong>make it work in my Eclipse on Windows 8</strong> but it doesn't work when I deploy it on a Tomcat 7 installed on a Ubuntu !</p>\n\n<p>When I start my tomcat on Eclipse, I got the message :</p>\n\n<blockquote>\n  <p>INFO: Starting Servlet Engine: Apache Tomcat/7.0.29<br /> nov. 12,\n  2014 4:00:06 PM org.apache.catalina.core.ApplicationContext log<br />\n  INFO: Initializing Spring root WebApplicationContext<br /> nov. 12,\n  2014 4:00:07 PM org.apache.catalina.core.ApplicationContext log<br />\n  INFO: Initializing Spring FrameworkServlet 'MessageBrokerServlet'<br />\n  <strong>[INFO ] 2014-11-12 16:00:08,001 org.jboss.resteasy.spi.ResteasyDeployment - Deploying  javax.ws.rs.core.Application: class fr.mycompany.myproject.MarkersApplication</strong></p>\n</blockquote>\n\n<p>but this last line isn't present in the log of the tomcat server on the ubuntu\n=> thus when I calling my Rest service (via javascript /jsapi), I got this message :</p>\n\n<pre><code>GRAVE: \"Servlet.service()\" pour la servlet RESTEasy JSAPI a gnr une exception\njava.lang.NullPointerException\n    at org.jboss.resteasy.jsapi.JSAPIWriter.generateEtag(JSAPIWriter.java:111)\n    at org.jboss.resteasy.jsapi.JSAPIWriter.writeJavaScript(JSAPIWriter.java:36)\n    at org.jboss.resteasy.jsapi.JSAPIServlet.service(JSAPIServlet.java:73)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1002)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>and what is null (I suppose) is the <code>serviceRegistries</code> of the generateEtag() method, which is populate with my RestService when launch in Eclipse Tomcat.</p>\n\n<p>I haven't a clue about why the ResteasyServletInitializer get launch/init, so if anyone got this situation (and the solution ^^), please help me T_T</p>\n\n<p>Here is the configuration I use :</p>\n\n<p>The application declaration :</p>\n\n<pre><code>@ApplicationPath(\"/resteasy\")\npublic class MarkersApplication extends Application {\n\n}\n</code></pre>\n\n<p>The service :</p>\n\n<pre><code>@Path(\"/markersRest\")\npublic class MarkersRest {\n\n    @Context\n    private ServletContext  context;\n\n    private DataService getService() {\n        return WebApplicationContextUtils.getWebApplicationContext(context).getBean(DataService.class);\n    }\n\n    @POST\n    @Produces(MediaType.TEXT_PLAIN)\n    public Response getMarkers(@QueryParam(\"keyCache\") String keyCache) {\n        String markers = getService().getCachedMarkers(keyCache);\n\n        return Response.ok().entity(markers).build();\n    }\n\n}\n</code></pre>\n\n<p>The web.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n    version=\"3.0\" metadata-complete=\"true\"&gt;\n\n    &lt;display-name&gt;MyProject&lt;/display-name&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;classpath:/spring/spring-config.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;resteasy.servlet.mapping.prefix&lt;/param-name&gt;\n        &lt;param-value&gt;/resteasy&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;!-- ************************ --&gt;\n    &lt;!-- ******* LISTENERS ****** --&gt;\n    &lt;!-- ************************ --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;flex.messaging.HttpFlexSession&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;!-- ************************ --&gt;\n    &lt;!-- ******* SERVLETS ******* --&gt;\n    &lt;!-- ************************ --&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;MessageBrokerServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;classpath:/spring/spring-flex-config.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;MessageBrokerServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/messagebroker/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;RESTEasy JSAPI&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.jboss.resteasy.jsapi.JSAPIServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;RESTEasy JSAPI&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rest-js&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>the pom.xml :</p>\n\n<pre><code>        ...\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-servlet-initializer&lt;/artifactId&gt;\n            &lt;version&gt;3.0.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-jsapi&lt;/artifactId&gt;\n            &lt;version&gt;3.0.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        ...\n</code></pre>\n\n<p>and the file <code>/WEB-INF/services/javax.servlet.ServletContainerInitializer</code>\nwith the content <code>org.jboss.resteasy.plugins.servlet.ResteasyServletInitializer</code></p>\n"},{"tags":["java","azure","deserialization","azureservicebus"],"answers":[{"comments":[{"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"score":0,"creation_date":1670936441,"post_id":74784812,"comment_id":131984241,"body_markdown":"Is it possible to get header or custom properties from the json?","body":"Is it possible to get header or custom properties from the json?"}],"tags":[],"owner":{"account_id":18432270,"reputation":1955,"user_id":13427068,"display_name":"Faceless_GOD"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670934225,"creation_date":1670934225,"answer_id":74784812,"question_id":74775900,"body_markdown":"- Here I was able to convert the Json object to java object using [Gson](https://mvnrepository.com/artifact/com.google.code.gson/gson) class. \r\n\r\n- I am just reading a message from the service bus and converting it to java object. \r\n\r\nmy pom.xml (dependencies)\r\n```\r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;  \r\n&lt;/dependency&gt;  \r\n  \r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;  \r\n &lt;scope&gt;test&lt;/scope&gt;  \r\n&lt;/dependency&gt;  \r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;  \r\n &lt;artifactId&gt;gson&lt;/artifactId&gt;  \r\n &lt;version&gt;2.8.6&lt;/version&gt;  \r\n&lt;/dependency&gt;  \r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;com.azure&lt;/groupId&gt;  \r\n &lt;artifactId&gt;azure-messaging-servicebus&lt;/artifactId&gt;  \r\n &lt;version&gt;7.0.0&lt;/version&gt;  \r\n&lt;/dependency&gt;  \r\n&lt;!-- https://mvnrepository.com/artifact/io.projectreactor/reactor-core --&gt;  \r\n&lt;dependency&gt;  \r\n &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;  \r\n &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;  \r\n &lt;version&gt;3.3.11.RELEASE&lt;/version&gt;  \r\n&lt;/dependency&gt;\r\n```\r\n\r\nMy test class :\r\n\r\n```\r\npublic class TestClass {  \r\n    public String name ;  \r\n public int version;  \r\n  TestClass(String n , int v)  \r\n    {  \r\n        this.name = n ;  \r\n this.version = v ;  \r\n  }  \r\n}\r\n```\r\n\r\nThe main class : \r\n\r\n```\r\n@SpringBootApplication  \r\npublic class ServicebustestApplication {  \r\n  \r\n   public static void main(String[] args) throws InterruptedException {  \r\n  \r\n  \r\n      SpringApplication.run(ServicebustestApplication.class, args);  \r\n  String  conn = &quot; Endpoint=sb://v-mganorkarjsonobject.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=HglLVGlgMsYZGQMOtUfp4g2oka1CpCbVR0YEHgly7jA= &quot;;  \r\n  \r\n  CountDownLatch countdownLatch1 = new CountDownLatch(1);  \r\n  ServiceBusProcessorClient processorClient = new ServiceBusClientBuilder()  \r\n            .connectionString(&quot;&lt;Your COnnection String &gt;&quot;)  \r\n            .processor()  \r\n            .queueName(&quot;test&quot;)  \r\n            .processMessage(ServicebustestApplication::processMessage)  \r\n            .processError(context -&gt; processError(context,countdownLatch1))  \r\n            .buildProcessorClient();  \r\n  \r\n  processorClient.start();  \r\n  TimeUnit.SECONDS.sleep(10);  \r\n  processorClient.close();  \r\n  \r\n  \r\n  }  \r\n  \r\n   private static void processMessage(ServiceBusReceivedMessageContext context) {  \r\n   \r\n  ServiceBusReceivedMessage message = context.getMessage();  \r\n  \r\n  System.out.printf(&quot;Processing message. Session: %s, Sequence #: %s. Contents: %s%n&quot;, message.getMessageId(),  \r\n  message.getSequenceNumber(), message.getBody());  \r\n  \r\n  Gson gson = new Gson();  \r\n  \r\n  TestClass testobject = gson.fromJson(String.valueOf(message.getBody()),TestClass.class);  \r\n  \r\n  System.out.println(&quot;name: &quot;+testobject.name +&quot; version: &quot;+ testobject.version+&quot;&quot;);  \r\n  }  \r\n\r\n\r\n\r\n   private static void processError(ServiceBusErrorContext context, CountDownLatch countdownLatch) {  \r\n   \r\n  }  \r\n}\r\n```\r\nHere the callback to process message will process the message and then we can use the GSON to convert the json string to java object. \r\n\r\n```\r\n\r\n  Gson gson = new Gson();  \r\n  \r\n  TestClass testobject = gson.fromJson(String.valueOf(message.getBody()),TestClass.class);\r\n```\r\n\r\noutput of the code :\r\n\r\n\r\n![enter image description here](https://i.stack.imgur.com/uaEb3.png)","title":"How to deserialize/serialize Azure Service Bus using spring.cloud in Java","body":"<ul>\n<li><p>Here I was able to convert the Json object to java object using <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"nofollow noreferrer\">Gson</a> class.</p>\n</li>\n<li><p>I am just reading a message from the service bus and converting it to java object.</p>\n</li>\n</ul>\n<p>my pom.xml (dependencies)</p>\n<pre><code>&lt;dependency&gt;  \n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;  \n&lt;/dependency&gt;  \n  \n&lt;dependency&gt;  \n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;  \n &lt;scope&gt;test&lt;/scope&gt;  \n&lt;/dependency&gt;  \n&lt;dependency&gt;  \n &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;  \n &lt;artifactId&gt;gson&lt;/artifactId&gt;  \n &lt;version&gt;2.8.6&lt;/version&gt;  \n&lt;/dependency&gt;  \n&lt;dependency&gt;  \n &lt;groupId&gt;com.azure&lt;/groupId&gt;  \n &lt;artifactId&gt;azure-messaging-servicebus&lt;/artifactId&gt;  \n &lt;version&gt;7.0.0&lt;/version&gt;  \n&lt;/dependency&gt;  \n&lt;!-- https://mvnrepository.com/artifact/io.projectreactor/reactor-core --&gt;  \n&lt;dependency&gt;  \n &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;  \n &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;  \n &lt;version&gt;3.3.11.RELEASE&lt;/version&gt;  \n&lt;/dependency&gt;\n</code></pre>\n<p>My test class :</p>\n<pre><code>public class TestClass {  \n    public String name ;  \n public int version;  \n  TestClass(String n , int v)  \n    {  \n        this.name = n ;  \n this.version = v ;  \n  }  \n}\n</code></pre>\n<p>The main class :</p>\n<pre><code>@SpringBootApplication  \npublic class ServicebustestApplication {  \n  \n   public static void main(String[] args) throws InterruptedException {  \n  \n  \n      SpringApplication.run(ServicebustestApplication.class, args);  \n  String  conn = &quot; Endpoint=sb://v-mganorkarjsonobject.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=HglLVGlgMsYZGQMOtUfp4g2oka1CpCbVR0YEHgly7jA= &quot;;  \n  \n  CountDownLatch countdownLatch1 = new CountDownLatch(1);  \n  ServiceBusProcessorClient processorClient = new ServiceBusClientBuilder()  \n            .connectionString(&quot;&lt;Your COnnection String &gt;&quot;)  \n            .processor()  \n            .queueName(&quot;test&quot;)  \n            .processMessage(ServicebustestApplication::processMessage)  \n            .processError(context -&gt; processError(context,countdownLatch1))  \n            .buildProcessorClient();  \n  \n  processorClient.start();  \n  TimeUnit.SECONDS.sleep(10);  \n  processorClient.close();  \n  \n  \n  }  \n  \n   private static void processMessage(ServiceBusReceivedMessageContext context) {  \n   \n  ServiceBusReceivedMessage message = context.getMessage();  \n  \n  System.out.printf(&quot;Processing message. Session: %s, Sequence #: %s. Contents: %s%n&quot;, message.getMessageId(),  \n  message.getSequenceNumber(), message.getBody());  \n  \n  Gson gson = new Gson();  \n  \n  TestClass testobject = gson.fromJson(String.valueOf(message.getBody()),TestClass.class);  \n  \n  System.out.println(&quot;name: &quot;+testobject.name +&quot; version: &quot;+ testobject.version+&quot;&quot;);  \n  }  \n\n\n\n   private static void processError(ServiceBusErrorContext context, CountDownLatch countdownLatch) {  \n   \n  }  \n}\n</code></pre>\n<p>Here the callback to process message will process the message and then we can use the GSON to convert the json string to java object.</p>\n<pre><code>\n  Gson gson = new Gson();  \n  \n  TestClass testobject = gson.fromJson(String.valueOf(message.getBody()),TestClass.class);\n</code></pre>\n<p>output of the code :</p>\n<p><img src=\"https://i.stack.imgur.com/uaEb3.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670934225,"creation_date":1670870753,"question_id":74775900,"body_markdown":"I am using spring.cloud to connect to Azure Service Bus in Java. Here is maven dependency I am using:\r\n```\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-azure-starter-integration-servicebus&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nI am able to consume the message from the queue as byte array and it converts the message to string. Here is my main code after receiving a message from queue:\r\n```\r\n@ServiceActivator(inputChannel = INPUT_CHANNEL)\r\npublic void messageReceiver(byte[] payload, @Header(AzureHeaders.CHECKPOINTER) Checkpointer checkpointer) {\r\n        String message = new String(payload);\r\n        LOGGER.info(&quot;New message received: &#39;{}&#39;&quot;, message);\r\n        checkpointer.success()\r\n                .doOnSuccess(s -&gt; LOGGER.info(&quot;Message &#39;{}&#39; successfully checkpointed&quot;, message))\r\n                .doOnError(e -&gt; LOGGER.error(&quot;Error found&quot;, e))\r\n                .block();\r\n    }\r\n```\r\nAnd here is my example data in JSON as short version:\r\n```\r\n{\r\n    &quot;serverId&quot;: 123,\r\n    &quot;message&quot;: &quot;{some message}&quot;\r\n}\r\n```\r\nWhat I would like to do is to create a Java object like this:\r\n```\r\npublic class ExampleMessage {\r\n    private final Integer serverId;\r\n    private final String message;\r\n```\r\nand when a message from queue is consumed, it will convert the message to my Java object. I am used to using DataTypeProvider in order to use custom Java object for AMQP message consumption which will convert and validate the conversion behind the scene. Does spring.cloud.azure has built-in method/functionality for deserialization? or Do I manually deserialize and do validation for a consumed message?","title":"How to deserialize/serialize Azure Service Bus using spring.cloud in Java","body":"<p>I am using spring.cloud to connect to Azure Service Bus in Java. Here is maven dependency I am using:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-azure-starter-integration-servicebus&lt;/artifactId&gt;\n        &lt;version&gt;4.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I am able to consume the message from the queue as byte array and it converts the message to string. Here is my main code after receiving a message from queue:</p>\n<pre><code>@ServiceActivator(inputChannel = INPUT_CHANNEL)\npublic void messageReceiver(byte[] payload, @Header(AzureHeaders.CHECKPOINTER) Checkpointer checkpointer) {\n        String message = new String(payload);\n        LOGGER.info(&quot;New message received: '{}'&quot;, message);\n        checkpointer.success()\n                .doOnSuccess(s -&gt; LOGGER.info(&quot;Message '{}' successfully checkpointed&quot;, message))\n                .doOnError(e -&gt; LOGGER.error(&quot;Error found&quot;, e))\n                .block();\n    }\n</code></pre>\n<p>And here is my example data in JSON as short version:</p>\n<pre><code>{\n    &quot;serverId&quot;: 123,\n    &quot;message&quot;: &quot;{some message}&quot;\n}\n</code></pre>\n<p>What I would like to do is to create a Java object like this:</p>\n<pre><code>public class ExampleMessage {\n    private final Integer serverId;\n    private final String message;\n</code></pre>\n<p>and when a message from queue is consumed, it will convert the message to my Java object. I am used to using DataTypeProvider in order to use custom Java object for AMQP message consumption which will convert and validate the conversion behind the scene. Does spring.cloud.azure has built-in method/functionality for deserialization? or Do I manually deserialize and do validation for a consumed message?</p>\n"},{"tags":["java","string","string-concatenation"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1670737156,"post_id":74758581,"comment_id":131940301,"body_markdown":"`I read that String concatenation using &quot;+&quot;, uses StringBuffer or StringBuilder&#39;s append method.` Do you have a citation on this? I&#39;ve never heard this before, and it would definitely disagree with the things I thought I knew about `String`","body":"<code>I read that String concatenation using &quot;+&quot;, uses StringBuffer or StringBuilder&#39;s append method.</code> Do you have a citation on this? I&#39;ve never heard this before, and it would definitely disagree with the things I thought I knew about <code>String</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1670737611,"post_id":74758581,"comment_id":131940343,"body_markdown":"It was true (as an &quot;implementation detail&quot;) for some older versions of Java, but it is no longer true ... and was never specified as being true.","body":"It was true (as an &quot;implementation detail&quot;) for some older versions of Java, but it is no longer true ... and was never specified as being true."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1670737960,"post_id":74758581,"comment_id":131940371,"body_markdown":"Concatenation with a single statement may be converted to StringBuilder, but iteratively concatenating in a loop like you&#39;re doing has to produce new strings.","body":"Concatenation with a single statement may be converted to StringBuilder, but iteratively concatenating in a loop like you&#39;re doing has to produce new strings."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":0,"creation_date":1670737963,"post_id":74758581,"comment_id":131940372,"body_markdown":"Depending on the Java version you&#39;re using, you may be interested in [How is String concatenation implemented in Java 9?](https://stackoverflow.com/q/46512888/555045)","body":"Depending on the Java version you&#39;re using, you may be interested in <a href=\"https://stackoverflow.com/q/46512888/555045\">How is String concatenation implemented in Java 9?</a>"},{"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"score":0,"creation_date":1670738288,"post_id":74758581,"comment_id":131940404,"body_markdown":"@StephenC Didn&#39;t get you there? It was true for some older version but never specified as being true, can you elaborate ?","body":"@StephenC Didn&#39;t get you there? It was true for some older version but never specified as being true, can you elaborate ?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670738764,"post_id":74758581,"comment_id":131940441,"body_markdown":"@RonakJain: What are you asking for details about?  It was how the compiler happened to work, but it was never documented and never guaranteed, and now it&#39;s changed so the compiler doesn&#39;t work that way anymore.","body":"@RonakJain: What are you asking for details about?  It was how the compiler happened to work, but it was never documented and never guaranteed, and now it&#39;s changed so the compiler doesn&#39;t work that way anymore."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1670739117,"post_id":74758581,"comment_id":131940470,"body_markdown":"@RonakJain - How can I give you a citation that something wasn&#39;t specified?  Look in the specifications where it *would have been* specified, and see what they say.   There was (and possibly still is) text in the JLS that mentions that `+` *can be* optimized in various ways, but it doesn&#39;t say that it *shall be*.  In other words ... it is not normative.","body":"@RonakJain - How can I give you a citation that something wasn&#39;t specified?  Look in the specifications where it <i>would have been</i> specified, and see what they say.   There was (and possibly still is) text in the JLS that mentions that <code>+</code> <i>can be</i> optimized in various ways, but it doesn&#39;t say that it <i>shall be</i>.  In other words ... it is not normative."},{"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"score":0,"creation_date":1670741001,"post_id":74758581,"comment_id":131940677,"body_markdown":"@StephenC I was just asking about details of what it meant because I didn&#39;t understood the statement. Wanted to understand it more.","body":"@StephenC I was just asking about details of what it meant because I didn&#39;t understood the statement. Wanted to understand it more."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1670741112,"post_id":74758581,"comment_id":131940691,"body_markdown":"@RonakJain - Read my answer.","body":"@RonakJain - Read my answer."}],"answers":[{"tags":[],"owner":{"account_id":27165115,"reputation":12,"user_id":20702745,"display_name":"Nurul Islam"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1670738526,"creation_date":1670738526,"answer_id":74758702,"question_id":74758581,"body_markdown":"&quot;Concatenate&quot; joins two specific items together, whereas &quot;append &quot; adds what you specify to whatever may already be there","title":"What is the difference between concatenation using StringBuilder append() method and String &quot;+&quot; operator?","body":"<p>&quot;Concatenate&quot; joins two specific items together, whereas &quot;append &quot; adds what you specify to whatever may already be there</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670741526,"creation_date":1670739399,"answer_id":74758760,"question_id":74758581,"body_markdown":"It used to be the case that *some* Java bytecode compilers would compile the String concatenation operator (`+`) to operations on a temporary `StringBuilder`.  \r\n\r\nHowever:\r\n\r\n  - This was an *implementation detail*.  Though the JLS (in some versions&lt;sup&gt;1&lt;/sup&gt;) said that it *may be* optimized in that way, it was never stated that it *shall be*.\r\n  - This is not how more recent OpenJDK Java compilers deal with this.  Concatenation expressions are now compiled by the bytecode compiler to `invokedynamic` calls ... which are then optimized by the JIT compiler.\r\n\r\n------------------\r\n\r\nHowever, your example involves concatenation in a loop.  I don&#39;t think that JIT compiler in *current* versions of Java can optimize across multiple loop iterations.  \r\n\r\nBut, that may change too.  Indeed, [JEP 280][1] hints that the &quot;indifying&quot; of string concatenations by the bytecode compiler will enable further JIT compiler optimization.  That *could* include optimization of loops like the 2nd version of your example.  And if it does change, &quot;hand optimization&quot; to use `StringBuilder` calls in your source code *could* actually interfere with the JIT compiler&#39;s ability to optimize.\r\n\r\nMy advice: avoid premature / unnecessary optimization.  Unless your application-level profiling *tells* you that a particular concatenation sequence is a significant bottleneck, leave it alone.\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - For example, the Java 18 JLS says: *&quot;An implementation may choose to perform conversion and concatenation in one step to avoid creating and then discarding an intermediate String object. To increase the performance of repeated string concatenation, a Java compiler may use the StringBuffer class or a similar technique to reduce the number of intermediate String objects that are created by evaluation of an expression.&quot;* [JLS 15.18.1](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.18.1).&lt;/sup&gt; \r\n\r\n\r\n  [1]: https://openjdk.org/jeps/280","title":"What is the difference between concatenation using StringBuilder append() method and String &quot;+&quot; operator?","body":"<p>It used to be the case that <em>some</em> Java bytecode compilers would compile the String concatenation operator (<code>+</code>) to operations on a temporary <code>StringBuilder</code>.</p>\n<p>However:</p>\n<ul>\n<li>This was an <em>implementation detail</em>.  Though the JLS (in some versions<sup>1</sup>) said that it <em>may be</em> optimized in that way, it was never stated that it <em>shall be</em>.</li>\n<li>This is not how more recent OpenJDK Java compilers deal with this.  Concatenation expressions are now compiled by the bytecode compiler to <code>invokedynamic</code> calls ... which are then optimized by the JIT compiler.</li>\n</ul>\n<hr />\n<p>However, your example involves concatenation in a loop.  I don't think that JIT compiler in <em>current</em> versions of Java can optimize across multiple loop iterations.</p>\n<p>But, that may change too.  Indeed, <a href=\"https://openjdk.org/jeps/280\" rel=\"nofollow noreferrer\">JEP 280</a> hints that the &quot;indifying&quot; of string concatenations by the bytecode compiler will enable further JIT compiler optimization.  That <em>could</em> include optimization of loops like the 2nd version of your example.  And if it does change, &quot;hand optimization&quot; to use <code>StringBuilder</code> calls in your source code <em>could</em> actually interfere with the JIT compiler's ability to optimize.</p>\n<p>My advice: avoid premature / unnecessary optimization.  Unless your application-level profiling <em>tells</em> you that a particular concatenation sequence is a significant bottleneck, leave it alone.</p>\n<hr />\n<p><sup>1 - For example, the Java 18 JLS says: <em>&quot;An implementation may choose to perform conversion and concatenation in one step to avoid creating and then discarding an intermediate String object. To increase the performance of repeated string concatenation, a Java compiler may use the StringBuffer class or a similar technique to reduce the number of intermediate String objects that are created by evaluation of an expression.&quot;</em> <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.18.1\" rel=\"nofollow noreferrer\">JLS 15.18.1</a>.</sup></p>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670742228,"creation_date":1670742228,"answer_id":74758962,"question_id":74758581,"body_markdown":"I&#39;d always use `StringBuilder` to concatenate strings in a loop. Doing so has several advantages:\r\n 1. you are using `StringBuilder` what is made to do, so it is easier to read (but less concise);\r\n 2. you can pass `StringBuilder` around using method arguments (if you&#39;d use the immutable `String` you can only use it as return value);\r\n 3. `StringBuilder` has additional options to alter the string if that would be necessary;\r\n 4. it will allocate some buffer space in advance, so that subsequent alterations / concatenations don&#39;t take that much memory;\r\n 5. it can be assumed to be relatively performant whichever direction the current JVM takes when it comes to string concatenation.\r\n\r\n---\r\n\r\nOf course, I&#39;d use `new StringBuilder()` instead of the `new StringBuilder(&quot;&quot;)` which makes no sense - `StringBuilder` instances will already start with an empty string (and 16 characters of buffer space).\r\n\r\nIf you know the size of the string in advance then it does make sense to create a buffer large enough to hold it, so it doesn&#39;t need to request a larger area to hold the characters. Memory management is relatively expensive.\r\n\r\nWith regard to that, note that `StringBuilder` implements `CharSequence` so you can actually use it instead of a `String` for some methods if you want to avoid copies.","title":"What is the difference between concatenation using StringBuilder append() method and String &quot;+&quot; operator?","body":"<p>I'd always use <code>StringBuilder</code> to concatenate strings in a loop. Doing so has several advantages:</p>\n<ol>\n<li>you are using <code>StringBuilder</code> what is made to do, so it is easier to read (but less concise);</li>\n<li>you can pass <code>StringBuilder</code> around using method arguments (if you'd use the immutable <code>String</code> you can only use it as return value);</li>\n<li><code>StringBuilder</code> has additional options to alter the string if that would be necessary;</li>\n<li>it will allocate some buffer space in advance, so that subsequent alterations / concatenations don't take that much memory;</li>\n<li>it can be assumed to be relatively performant whichever direction the current JVM takes when it comes to string concatenation.</li>\n</ol>\n<hr />\n<p>Of course, I'd use <code>new StringBuilder()</code> instead of the <code>new StringBuilder(&quot;&quot;)</code> which makes no sense - <code>StringBuilder</code> instances will already start with an empty string (and 16 characters of buffer space).</p>\n<p>If you know the size of the string in advance then it does make sense to create a buffer large enough to hold it, so it doesn't need to request a larger area to hold the characters. Memory management is relatively expensive.</p>\n<p>With regard to that, note that <code>StringBuilder</code> implements <code>CharSequence</code> so you can actually use it instead of a <code>String</code> for some methods if you want to avoid copies.</p>\n"}],"owner":{"account_id":20150219,"reputation":315,"user_id":14777704,"display_name":"MVKXXX"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670756415,"answer_count":3,"score":1,"last_activity_date":1670934076,"creation_date":1670736427,"question_id":74758581,"body_markdown":"Given the following two code snippets:\r\n```java\r\nStringBuilder sb = new StringBuilder(&quot;&quot;);\r\nfor (int i = 0; i &lt; 5; i++) {\r\n    sb.append(&quot;hello &quot;);\r\n}\r\nSystem.out.println(sb.toString());\r\n```\r\nand \r\n```java\r\nString ss = &quot;&quot;;\r\nfor (int i = 0; i &lt; 5; i++) {\r\n    ss += &quot;hello &quot;;\r\n}\r\nSystem.out.println(ss);\r\n```\r\nI read that string concatenation using `+`, uses `StringBuffer` or `StringBuilder`&#39;s `append` method. As far as I know, `StringBuilder` is mutable, so any modification should not create a new instance. `String` is immutable, so I expect concatenation in a loop should create a new instance every time (5 times over here). But if `+` is using `StringBuffer` or `StringBuilder`&#39;s `append` method, is it really creating a new instance of `ss` each time in the loop? Also which among the the code snippets will be more efficient?","title":"What is the difference between concatenation using StringBuilder append() method and String &quot;+&quot; operator?","body":"<p>Given the following two code snippets:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder sb = new StringBuilder(&quot;&quot;);\nfor (int i = 0; i &lt; 5; i++) {\n    sb.append(&quot;hello &quot;);\n}\nSystem.out.println(sb.toString());\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>String ss = &quot;&quot;;\nfor (int i = 0; i &lt; 5; i++) {\n    ss += &quot;hello &quot;;\n}\nSystem.out.println(ss);\n</code></pre>\n<p>I read that string concatenation using <code>+</code>, uses <code>StringBuffer</code> or <code>StringBuilder</code>'s <code>append</code> method. As far as I know, <code>StringBuilder</code> is mutable, so any modification should not create a new instance. <code>String</code> is immutable, so I expect concatenation in a loop should create a new instance every time (5 times over here). But if <code>+</code> is using <code>StringBuffer</code> or <code>StringBuilder</code>'s <code>append</code> method, is it really creating a new instance of <code>ss</code> each time in the loop? Also which among the the code snippets will be more efficient?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1849135,"reputation":3076,"user_id":1676075,"accept_rate":50,"display_name":"user1676075"},"score":0,"creation_date":1375276663,"post_id":17971466,"comment_id":26269725,"body_markdown":"You would need to search starting at every index; use the find(int startingIndex) method and search starting at every character position. Of course, then you&#39;re likely to find too many matches... Assuming you want to start at every number, you might try combining an iteration over Matcher.find(String.indexOf(digits, index)) for all matching indices.","body":"You would need to search starting at every index; use the find(int startingIndex) method and search starting at every character position. Of course, then you&#39;re likely to find too many matches... Assuming you want to start at every number, you might try combining an iteration over Matcher.find(String.indexOf(digits, index)) for all matching indices."},{"owner":{"account_id":1849135,"reputation":3076,"user_id":1676075,"accept_rate":50,"display_name":"user1676075"},"score":0,"creation_date":1375276839,"post_id":17971466,"comment_id":26269859,"body_markdown":"I suppose if it&#39;s single digits, you could back up from the match starting position and find from there for the next match.","body":"I suppose if it&#39;s single digits, you could back up from the match starting position and find from there for the next match."},{"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"score":1,"creation_date":1375276940,"post_id":17971466,"comment_id":26269924,"body_markdown":"For input `&quot;12abc13abc14abc15&quot;`, do you want `[12abc13, 2abc13, 13abc14, 3abc14, 14abc15, 4abc15]` or `[12abc13, 13abc14, 14abc15]`?","body":"For input <code>&quot;12abc13abc14abc15&quot;</code>, do you want <code>[12abc13, 2abc13, 13abc14, 3abc14, 14abc15, 4abc15]</code> or <code>[12abc13, 13abc14, 14abc15]</code>?"},{"owner":{"account_id":342021,"reputation":2141,"user_id":917572,"accept_rate":83,"display_name":"Evgeny"},"score":0,"creation_date":1375277770,"post_id":17971466,"comment_id":26270460,"body_markdown":"@johnchen902: the later. The solution handles this.","body":"@johnchen902: the later. The solution handles this."}],"answers":[{"comments":[{"owner":{"account_id":1496066,"reputation":14731,"user_id":1401975,"display_name":"HamZa"},"score":0,"creation_date":1375277513,"post_id":17971681,"comment_id":26270296,"body_markdown":"@anubhava It gives the right results for PCRE. That&#39;s what I stated anyways.","body":"@anubhava It gives the right results for PCRE. That&#39;s what I stated anyways."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1375277655,"post_id":17971681,"comment_id":26270393,"body_markdown":"Yes I just meant that in Java it didn&#39;t give expected results.","body":"Yes I just meant that in Java it didn&#39;t give expected results."},{"owner":{"account_id":2603307,"reputation":88305,"user_id":2255089,"display_name":"Casimir et Hippolyte"},"score":0,"creation_date":1375277706,"post_id":17971681,"comment_id":26270424,"body_markdown":"@anubhava: I have tested it and it works well, assuming that you add backslashes and you display the first capturing group. downvoter: The downvote has no sens here.","body":"@anubhava: I have tested it and it works well, assuming that you add backslashes and you display the first capturing group. downvoter: The downvote has no sens here."},{"owner":{"account_id":1496066,"reputation":14731,"user_id":1401975,"display_name":"HamZa"},"score":0,"creation_date":1375277898,"post_id":17971681,"comment_id":26270539,"body_markdown":"@anubhava I know but I tested it [here](http://www.regexplanet.com/advanced/java/index.html) and it [works](http://i.stack.imgur.com/kPa03.png).","body":"@anubhava I know but I tested it <a href=\"http://www.regexplanet.com/advanced/java/index.html\" rel=\"nofollow noreferrer\">here</a> and it <a href=\"http://i.stack.imgur.com/kPa03.png\" rel=\"nofollow noreferrer\">works</a>."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1375278161,"post_id":17971681,"comment_id":26270695,"body_markdown":"I know regex is valid but the thing is if you use this in `String#split(regex)` it will produce an empty string at start.","body":"I know regex is valid but the thing is if you use this in <code>String#split(regex)</code> it will produce an empty string at start."},{"owner":{"account_id":2603307,"reputation":88305,"user_id":2255089,"display_name":"Casimir et Hippolyte"},"score":0,"creation_date":1375278239,"post_id":17971681,"comment_id":26270749,"body_markdown":"@anubhava: It&#39;s a regex for the find method.","body":"@anubhava: It&#39;s a regex for the find method."},{"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"score":2,"creation_date":1375278286,"post_id":17971681,"comment_id":26270794,"body_markdown":"Not really working. Use `12abc13abc14abc15` as input and the result is `[12abc13, 2abc13, 13abc14, 3abc14, 14abc15, 4abc15]` instead of `[12abc13, 13abc14, 14abc15]`. See my and OP&#39;s comments under the question.","body":"Not really working. Use <code>12abc13abc14abc15</code> as input and the result is <code>[12abc13, 2abc13, 13abc14, 3abc14, 14abc15, 4abc15]</code> instead of <code>[12abc13, 13abc14, 14abc15]</code>. See my and OP&#39;s comments under the question."},{"owner":{"account_id":1496066,"reputation":14731,"user_id":1401975,"display_name":"HamZa"},"score":1,"creation_date":1375278415,"post_id":17971681,"comment_id":26270897,"body_markdown":"@johnchen902 overlapping matches ! That&#39;s what he wanted to begin with ... If that&#39;s not the case then `(?=(\\d+\\D+\\d+))\\d+` would do [the job](http://regex101.com/r/zI1jQ4)","body":"@johnchen902 overlapping matches ! That&#39;s what he wanted to begin with ... If that&#39;s not the case then <code>(?=(\\d+\\D+\\d+))\\d+</code> would do <a href=\"http://regex101.com/r/zI1jQ4\" rel=\"nofollow noreferrer\">the job</a>"},{"owner":{"account_id":2603307,"reputation":88305,"user_id":2255089,"display_name":"Casimir et Hippolyte"},"score":6,"creation_date":1375278723,"post_id":17971681,"comment_id":26271130,"body_markdown":"@johnchen902: right you must replace the pattern by `(?=((?&lt;!\\\\d)\\\\d+\\\\D+\\\\d+))` if you don&#39;t want overlapped results in your overlapped results. :)","body":"@johnchen902: right you must replace the pattern by <code>(?=((?&lt;!\\\\d)\\\\d+\\\\D+\\\\d+))</code> if you don&#39;t want overlapped results in your overlapped results. :)"}],"tags":[],"owner":{"account_id":1496066,"reputation":14731,"user_id":1401975,"display_name":"HamZa"},"comment_count":9,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1375278262,"creation_date":1375277086,"answer_id":17971681,"question_id":17971466,"body_markdown":"Not sure if this is possible in Java, but in PCRE you could do the following:&lt;br&gt;\r\n`(?=(\\d+\\D+\\d+)).`\r\n\r\n**Explanation**&lt;br&gt;\r\nThe technique is to use a matching group in a lookahead, and then &quot;eat&quot; one character to move forward.\r\n\r\n - `(?=` : start of positive lookahead\r\n   - `(` : start matching group 1\r\n     - `\\d+` : match a digit one or more times\r\n     - `\\D+` : match a non-digit character one or more times\r\n     - `\\d+` : match a digit one or more times\r\n   - `)` : end of group 1\r\n - `)` : end of lookahead\r\n - `.` : match anything, this is to &quot;move forward&quot;.\r\n\r\n[**Online demo**](http://regex101.com/r/lM2tN5)\r\n\r\n---\r\nThanks to [Casimir et Hippolyte](https://stackoverflow.com/users/2255089) it really seems to work in Java. You just need to add backslashes and display the first capturing group: `(?=(\\\\d+\\\\D+\\\\d+)).`.\r\nTested on [www.regexplanet.com](http://www.regexplanet.com/advanced/java/index.html):\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/kPa03.png","title":"Java regex - overlapping matches","body":"<p>Not sure if this is possible in Java, but in PCRE you could do the following:<br>\n<code>(?=(\\d+\\D+\\d+)).</code></p>\n\n<p><strong>Explanation</strong><br>\nThe technique is to use a matching group in a lookahead, and then \"eat\" one character to move forward.</p>\n\n<ul>\n<li><code>(?=</code> : start of positive lookahead\n\n<ul>\n<li><code>(</code> : start matching group 1\n\n<ul>\n<li><code>\\d+</code> : match a digit one or more times</li>\n<li><code>\\D+</code> : match a non-digit character one or more times</li>\n<li><code>\\d+</code> : match a digit one or more times</li>\n</ul></li>\n<li><code>)</code> : end of group 1</li>\n</ul></li>\n<li><code>)</code> : end of lookahead</li>\n<li><code>.</code> : match anything, this is to \"move forward\".</li>\n</ul>\n\n<p><a href=\"http://regex101.com/r/lM2tN5\" rel=\"noreferrer\"><strong>Online demo</strong></a></p>\n\n<hr>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/2255089\">Casimir et Hippolyte</a> it really seems to work in Java. You just need to add backslashes and display the first capturing group: <code>(?=(\\\\d+\\\\D+\\\\d+)).</code>.\nTested on <a href=\"http://www.regexplanet.com/advanced/java/index.html\" rel=\"noreferrer\">www.regexplanet.com</a>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/kPa03.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"score":0,"creation_date":1375277661,"post_id":17971711,"comment_id":26270397,"body_markdown":"To the first two up-voter: the ordinary version contains a bug that if nothing matches, an `IllegalStateException` will be thrown.","body":"To the first two up-voter: the ordinary version contains a bug that if nothing matches, an <code>IllegalStateException</code> will be thrown."}],"tags":[],"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1375277170,"creation_date":1375277170,"answer_id":17971711,"question_id":17971466,"body_markdown":"Make the matcher attempt to start its next scan from the latter `\\d+`.\r\n\r\n    Matcher m = Pattern.compile(&quot;\\\\d+\\\\D+(\\\\d+)&quot;).matcher(&quot;2abc3abc4abc5&quot;);\r\n    if (m.find()) {\r\n        do {\r\n            allMatches.add(m.group());\r\n        } while (m.find(m.start(1)));\r\n    }","title":"Java regex - overlapping matches","body":"<p>Make the matcher attempt to start its next scan from the latter <code>\\d+</code>.</p>\n\n<pre><code>Matcher m = Pattern.compile(\"\\\\d+\\\\D+(\\\\d+)\").matcher(\"2abc3abc4abc5\");\nif (m.find()) {\n    do {\n        allMatches.add(m.group());\n    } while (m.find(m.start(1)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10624046,"reputation":333,"user_id":7824218,"display_name":"Fluch"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1670933836,"creation_date":1506900341,"answer_id":46517828,"question_id":17971466,"body_markdown":"The above solution of HamZa works perfectly in Java. If you want to find a specific pattern in a text all you have to do is:\r\n\r\n```java\r\nString regex = &quot;\\\\d+\\\\D+\\\\d+&quot;;\r\n\r\nString updatedRegex = &quot;(?=(&quot; + regex + &quot;)).&quot;;\r\n```\r\n\r\nWhere the `regex` is the pattern you are looking for and to be overlapping you need to surround it with `(?=(&quot; at the start and &quot;)).` at the end. ","title":"Java regex - overlapping matches","body":"<p>The above solution of HamZa works perfectly in Java. If you want to find a specific pattern in a text all you have to do is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;\\\\d+\\\\D+\\\\d+&quot;;\n\nString updatedRegex = &quot;(?=(&quot; + regex + &quot;)).&quot;;\n</code></pre>\n<p>Where the <code>regex</code> is the pattern you are looking for and to be overlapping you need to surround it with <code>(?=(&quot; at the start and &quot;)).</code> at the end.</p>\n"}],"owner":{"account_id":342021,"reputation":2141,"user_id":917572,"accept_rate":83,"display_name":"Evgeny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7547,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":17971711,"answer_count":3,"score":27,"last_activity_date":1670933836,"creation_date":1375276518,"question_id":17971466,"body_markdown":"In the following code:\r\n\r\n    public static void main(String[] args) {\r\n\t\tList&lt;String&gt; allMatches = new ArrayList&lt;String&gt;();\r\n\t\tMatcher m = Pattern.compile(&quot;\\\\d+\\\\D+\\\\d+&quot;).matcher(&quot;2abc3abc4abc5&quot;);\r\n\t\twhile (m.find()) {\r\n\t\t\tallMatches.add(m.group());\r\n\t\t}\r\n\t\t\r\n\t\tString[] res = allMatches.toArray(new String[0]);\r\n\t\tSystem.out.println(Arrays.toString(res));\r\n\t}\r\n\r\nThe result is: \r\n\r\n    [2abc3, 4abc5]\r\n\r\n&lt;b&gt;I&#39;d like it to be &lt;/b&gt;\r\n\r\n    [2abc3, 3abc4, 4abc5]\r\n\r\n&lt;b&gt;How can it be achieved? &lt;/b&gt;\r\n\r\n","title":"Java regex - overlapping matches","body":"<p>In the following code:</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; allMatches = new ArrayList&lt;String&gt;();\n    Matcher m = Pattern.compile(\"\\\\d+\\\\D+\\\\d+\").matcher(\"2abc3abc4abc5\");\n    while (m.find()) {\n        allMatches.add(m.group());\n    }\n\n    String[] res = allMatches.toArray(new String[0]);\n    System.out.println(Arrays.toString(res));\n}\n</code></pre>\n\n<p>The result is: </p>\n\n<pre><code>[2abc3, 4abc5]\n</code></pre>\n\n<p><b>I'd like it to be </b></p>\n\n<pre><code>[2abc3, 3abc4, 4abc5]\n</code></pre>\n\n<p><b>How can it be achieved? </b></p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":10922830,"reputation":1,"user_id":8028481,"display_name":"xGenji"},"score":0,"creation_date":1670419219,"post_id":74714832,"comment_id":131871830,"body_markdown":"Hi yes I have that in the pom of my microservice here&#39;s the pom `\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n   &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n   &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;`\n\nI have spring-boot-starter-web, data-jpa, postgres","body":"Hi yes I have that in the pom of my microservice here&#39;s the pom ` &lt;dependency&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;             &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;   &lt;/dependency&gt;    &lt;dependency&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;             &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;    &lt;/dependency&gt;     &lt;dependency&gt;             &lt;groupId&gt;org.postgresql&lt;/groupId&gt;             &lt;artifactId&gt;postgresql&lt;/artifactId&gt;             &lt;scope&gt;runtime&lt;/scope&gt;   &lt;/dependency&gt;`  I have spring-boot-starter-web, data-jpa, postgres"}],"tags":[],"owner":{"account_id":25875526,"reputation":1,"user_id":19605580,"display_name":"Mithun S"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670407407,"creation_date":1670407407,"answer_id":74714832,"question_id":74709435,"body_markdown":"\r\n\r\nCheck if the following is present in the pom file.Also check for JPA dependencies in pom. \r\n````\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n````\r\n","title":"SpringBoot Failed to configure a DataSource","body":"<p>Check if the following is present in the pom file.Also check for JPA dependencies in pom.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10922830,"reputation":1,"user_id":8028481,"display_name":"xGenji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670933624,"creation_date":1670363605,"question_id":74709435,"body_markdown":"I&#39;m currently learning microservices. After creating my first microservice, I tried to connect my microservice to a PostgreSQL database but I have the following error:\r\n```none\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n```\r\n\r\nWith this exception:\r\n\r\n&gt; Exception encountered during context initialization - cancelling\r\n&gt; refresh attempt:\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException:\r\n&gt; Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39;\r\n&gt; defined in class path resource\r\n&gt; [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]:\r\n&gt; Unsatisfied dependency expressed through method\r\n&gt; &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;dataSource&#39; defined in class path resource\r\n&gt; [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]:\r\n&gt; Bean instantiation via factory method failed; nested exception is\r\n&gt; org.springframework.beans.BeanInstantiationException: Failed to\r\n&gt; instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method\r\n&gt; &#39;dataSource&#39; threw exception; nested exception is\r\n&gt; org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException:\r\n&gt; Failed to determine a suitable driver class \\\r\n&gt; 2022-12-06 22:33:04.408  INFO 2012 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n\r\nHere&#39;s my application.yml\r\n\r\n```yaml\r\nserver:\r\n  port: 8080\r\n\r\nspring:\r\n  application:\r\n    name: player\r\n    datasource:\r\n      password: &quot;MySecretPassword!&quot;\r\n      url: jdbc:postgresql://localhost:5432/genjiservices\r\n      username: saucegenji\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n        properties:\r\n          hibernate:\r\n            dialect: org.hibernate.dialect.PostgreSQLDialect\r\n            format_sql: true\r\n        show-sql: true\r\n```\r\n\r\nI couldn&#39;t post my pom because it says it was a spam.\r\n\r\nI tried to find solutions first, but couldn&#39;t find one that works for me. I think my application is ignoring my application.yml could that be the case? My application.yml is in the resources folder like it should be, so I don&#39;t really understand.\r\n\r\n","title":"SpringBoot Failed to configure a DataSource","body":"<p>I'm currently learning microservices. After creating my first microservice, I tried to connect my microservice to a PostgreSQL database but I have the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n</code></pre>\n<p>With this exception:</p>\n<blockquote>\n<p>Exception encountered during context initialization - cancelling\nrefresh attempt:\norg.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'dataSourceScriptDatabaseInitializer'\ndefined in class path resource\n[org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]:\nUnsatisfied dependency expressed through method\n'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is\norg.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'dataSource' defined in class path resource\n[org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]:\nBean instantiation via factory method failed; nested exception is\norg.springframework.beans.BeanInstantiationException: Failed to\ninstantiate [com.zaxxer.hikari.HikariDataSource]: Factory method\n'dataSource' threw exception; nested exception is\norg.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException:\nFailed to determine a suitable driver class <br />\n2022-12-06 22:33:04.408  INFO 2012 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]</p>\n</blockquote>\n<p>Here's my application.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 8080\n\nspring:\n  application:\n    name: player\n    datasource:\n      password: &quot;MySecretPassword!&quot;\n      url: jdbc:postgresql://localhost:5432/genjiservices\n      username: saucegenji\n      jpa:\n        hibernate:\n          ddl-auto: update\n        properties:\n          hibernate:\n            dialect: org.hibernate.dialect.PostgreSQLDialect\n            format_sql: true\n        show-sql: true\n</code></pre>\n<p>I couldn't post my pom because it says it was a spam.</p>\n<p>I tried to find solutions first, but couldn't find one that works for me. I think my application is ignoring my application.yml could that be the case? My application.yml is in the resources folder like it should be, so I don't really understand.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":15760,"reputation":1012,"user_id":33651,"display_name":"rud"},"score":0,"creation_date":1554314837,"post_id":49323867,"comment_id":97709577,"body_markdown":"Insufficient context to be actionable, sorry.","body":"Insufficient context to be actionable, sorry."},{"owner":{"account_id":3755084,"reputation":405,"user_id":3121607,"display_name":"Alesis Joan"},"score":0,"creation_date":1591887436,"post_id":49323867,"comment_id":110231673,"body_markdown":"I&#39;m having the same issue and there is no more context than that.","body":"I&#39;m having the same issue and there is no more context than that."}],"answers":[{"tags":[],"owner":{"account_id":1314282,"reputation":56,"user_id":1261559,"display_name":"GbGbGbGbEB"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521216714,"creation_date":1521216714,"answer_id":49325184,"question_id":49323867,"body_markdown":"It means the *run()* method inside your Spring boot application threw an exception. \r\nMy guess is that some spring bean failed to initialize due to differences in how your environments are set up.\r\nThere&#39;s no way tell though based on gradle stacktrace. Post the code/error from the actual springboot app.","title":"Gradle bootrun error, process command finished with non-zero exit value 1","body":"<p>It means the <em>run()</em> method inside your Spring boot application threw an exception. \nMy guess is that some spring bean failed to initialize due to differences in how your environments are set up.\nThere's no way tell though based on gradle stacktrace. Post the code/error from the actual springboot app.</p>\n"},{"tags":[],"owner":{"account_id":246063,"reputation":17561,"user_id":2267723,"accept_rate":59,"display_name":"Maher Abuthraa"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1622159473,"creation_date":1622159473,"answer_id":67731246,"question_id":49323867,"body_markdown":"I think the internal tomcat is busy with another instance server. If you are running multiple projects or instances via Intellij Idea .. just stop them.","title":"Gradle bootrun error, process command finished with non-zero exit value 1","body":"<p>I think the internal tomcat is busy with another instance server. If you are running multiple projects or instances via Intellij Idea .. just stop them.</p>\n"},{"tags":[],"owner":{"account_id":6229038,"reputation":189,"user_id":4846434,"accept_rate":50,"display_name":"simonadamprog"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670933623,"creation_date":1670933623,"answer_id":74784697,"question_id":49323867,"body_markdown":"It looks like that your application is exiting with 1 and the application is not logging the reason for some reason. (Probably the issue was happened before your logger was initialized.)\r\n\r\nTo find out the root cause of the error put your Spring Boot Application&#39;s main function&#39;s content in a try-catch and in the catch:\r\n\r\n    catch (Throwable t) {\r\n        System.out.println(t.getMessage());\r\n        t.printStackTrace();\r\n    }","title":"Gradle bootrun error, process command finished with non-zero exit value 1","body":"<p>It looks like that your application is exiting with 1 and the application is not logging the reason for some reason. (Probably the issue was happened before your logger was initialized.)</p>\n<p>To find out the root cause of the error put your Spring Boot Application's main function's content in a try-catch and in the catch:</p>\n<pre><code>catch (Throwable t) {\n    System.out.println(t.getMessage());\n    t.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":11910380,"reputation":105,"user_id":8715788,"display_name":"Cuzto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8749,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1670933623,"creation_date":1521212649,"question_id":49323867,"body_markdown":"i&#39;ve been trying to solve this problem for a while, tried other solutions used for the same error code but it isn&#39;t working. It&#39;s a team project and the same code works for one person but gradle bootrun gives this error to 3 other people when trying it on our own computers.\r\n\r\nStacktrace:\r\n\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:bootRun&#39;.\r\n    &gt; Process &#39;command &#39;C:\\Program Files\\Java\\jdk1.8.0_162\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:bootRun&#39;.\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:103)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:73)\r\n            at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\r\n            at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\r\n            at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n            at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\r\n            at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\r\n            at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\r\n            at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:88)\r\n            at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\r\n            at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n            at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n            at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\r\n            at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:623)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:578)\r\n            at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n            at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    Caused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;C:\\Program Files\\Java\\jdk1.8.0_162\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n            at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\r\n            at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:36)\r\n            at org.gradle.api.tasks.JavaExec.exec(JavaExec.java:74)\r\n            at org.springframework.boot.gradle.tasks.run.BootRun.exec(BootRun.java:51)\r\n            at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n            at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:46)\r\n            at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\r\n            at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\r\n            at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:788)\r\n            at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:755)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\r\n            at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:95)\r\n            ... 30 more\r\n    \r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 10s\r\n    3 actionable tasks: 1 executed, 2 up-to-date","title":"Gradle bootrun error, process command finished with non-zero exit value 1","body":"<p>i've been trying to solve this problem for a while, tried other solutions used for the same error code but it isn't working. It's a team project and the same code works for one person but gradle bootrun gives this error to 3 other people when trying it on our own computers.</p>\n\n<p>Stacktrace:</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':bootRun'.\n&gt; Process 'command 'C:\\Program Files\\Java\\jdk1.8.0_162\\bin\\java.exe'' finished with non-zero exit value 1\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':bootRun'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:103)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:73)\n        at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n        at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:88)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:623)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:578)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.process.internal.ExecException: Process 'command 'C:\\Program Files\\Java\\jdk1.8.0_162\\bin\\java.exe'' finished with non-zero exit value 1\n        at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:389)\n        at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:36)\n        at org.gradle.api.tasks.JavaExec.exec(JavaExec.java:74)\n        at org.springframework.boot.gradle.tasks.run.BootRun.exec(BootRun.java:51)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:46)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:788)\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:755)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:124)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:113)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:95)\n        ... 30 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 10s\n3 actionable tasks: 1 executed, 2 up-to-date\n</code></pre>\n"},{"tags":["java","spring-boot","rest","jpa","graphql"],"answers":[{"comments":[{"owner":{"account_id":12500309,"reputation":5,"user_id":9098984,"display_name":"Jyoti Kolape"},"score":0,"creation_date":1665122286,"post_id":73979592,"comment_id":130629599,"body_markdown":"This query should be in .graphqls file, right?","body":"This query should be in .graphqls file, right?"},{"owner":{"account_id":10605946,"reputation":116,"user_id":7811351,"display_name":"Hoxtygen"},"score":0,"creation_date":1665131680,"post_id":73979592,"comment_id":130632386,"body_markdown":"@JyotiKolape yes. you can store it in a variable. \n`const MY_QUERY = &lt;query here&gt;`","body":"@JyotiKolape yes. you can store it in a variable.  <code>const MY_QUERY = &lt;query here&gt;</code>"}],"tags":[],"owner":{"account_id":10605946,"reputation":116,"user_id":7811351,"display_name":"Hoxtygen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665087446,"creation_date":1665087446,"answer_id":73979592,"question_id":73971901,"body_markdown":"This is possible. I once wrote a query like this. I needed to search the database using some search terms.\r\n```\r\nquery ($title: String!, $company: String!, $city: String!, $investor: String!) {\r\n    jobs(\r\n      where: {\r\n        and: [\r\n          { title: { ilike: $title } },\r\n          { company: { name: { ilike: $company } } },\r\n          { city: { ilike: $city } },\r\n          {company: {company_investors:{investor:{name: {ilike: $investor}}}}}\r\n          \r\n        ]\r\n      }\r\n    ) {\r\n      id\r\n      title\r\n      city\r\n      company {\r\n        name\r\n        id\r\n        company_investors {\r\n          investor {\r\n            name\r\n            id\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Can we write GraphQL query for getting data based on predicate(condition)","body":"<p>This is possible. I once wrote a query like this. I needed to search the database using some search terms.</p>\n<pre><code>query ($title: String!, $company: String!, $city: String!, $investor: String!) {\n    jobs(\n      where: {\n        and: [\n          { title: { ilike: $title } },\n          { company: { name: { ilike: $company } } },\n          { city: { ilike: $city } },\n          {company: {company_investors:{investor:{name: {ilike: $investor}}}}}\n          \n        ]\n      }\n    ) {\n      id\n      title\n      city\n      company {\n        name\n        id\n        company_investors {\n          investor {\n            name\n            id\n          }\n        }\n      }\n    }\n  }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":740427,"reputation":3463,"user_id":714707,"display_name":"Surya R Praveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670933396,"creation_date":1670933396,"answer_id":74784657,"question_id":73971901,"body_markdown":"    \r\n\r\n    # glob: I want all the titles that contain the word &#39;History&#39;.\r\n    # The wildcard * stands for any non-empty string.\r\n\r\n      example_glob: allMarkdownRemark(\r\n        filter: { frontmatter: { title: { glob: &quot;*History*&quot; } } }\r\n      ) {\r\n        edges {\r\n          node {\r\n            frontmatter {\r\n              title\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n**Complete list of possible operators**\r\n\r\n - `eq:` short for **equal**, must match the given data exactly\r\n   \r\n - `ne:` short for **not equal**, must be different from the given data\r\n   \r\n - `regex:` short for **regular expression**, must match the given pattern\r\n   \r\n - `glob:` short for **global**, allows to use wildcard * which acts as a\r\n   placeholder for any non-empty string\r\n   \r\n - `in:` short for **in array**, must be an element of the array\r\n   \r\n - `nin:` short for **not in array**, must NOT be an element of the array\r\n   \r\n - `gt:` short for **greater than**, must be greater than given value\r\n   \r\n - `gte:` short for **greater than or equal**, must be greater than or equal\r\n   to given value\r\n   \r\n - `lt:` short for **less than**, must be less than given value\r\n   \r\n - `lte:` short for **less than or equal**, must be less than or equal to\r\n   given value\r\n   \r\n - `elemMatch:` short for **element match**, this indicates that the field you\r\n   are filtering will return an array of elements, on which you can\r\n   apply a filter using the previous operators\r\n\r\n","title":"Can we write GraphQL query for getting data based on predicate(condition)","body":"<pre><code># glob: I want all the titles that contain the word 'History'.\n# The wildcard * stands for any non-empty string.\n\n  example_glob: allMarkdownRemark(\n    filter: { frontmatter: { title: { glob: &quot;*History*&quot; } } }\n  ) {\n    edges {\n      node {\n        frontmatter {\n          title\n        }\n      }\n    }\n  }\n</code></pre>\n<p><strong>Complete list of possible operators</strong></p>\n<ul>\n<li><p><code>eq:</code> short for <strong>equal</strong>, must match the given data exactly</p>\n</li>\n<li><p><code>ne:</code> short for <strong>not equal</strong>, must be different from the given data</p>\n</li>\n<li><p><code>regex:</code> short for <strong>regular expression</strong>, must match the given pattern</p>\n</li>\n<li><p><code>glob:</code> short for <strong>global</strong>, allows to use wildcard * which acts as a\nplaceholder for any non-empty string</p>\n</li>\n<li><p><code>in:</code> short for <strong>in array</strong>, must be an element of the array</p>\n</li>\n<li><p><code>nin:</code> short for <strong>not in array</strong>, must NOT be an element of the array</p>\n</li>\n<li><p><code>gt:</code> short for <strong>greater than</strong>, must be greater than given value</p>\n</li>\n<li><p><code>gte:</code> short for <strong>greater than or equal</strong>, must be greater than or equal\nto given value</p>\n</li>\n<li><p><code>lt:</code> short for <strong>less than</strong>, must be less than given value</p>\n</li>\n<li><p><code>lte:</code> short for <strong>less than or equal</strong>, must be less than or equal to\ngiven value</p>\n</li>\n<li><p><code>elemMatch:</code> short for <strong>element match</strong>, this indicates that the field you\nare filtering will return an array of elements, on which you can\napply a filter using the previous operators</p>\n</li>\n</ul>\n"}],"owner":{"account_id":12500309,"reputation":5,"user_id":9098984,"display_name":"Jyoti Kolape"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73979592,"answer_count":2,"score":0,"last_activity_date":1670933396,"creation_date":1665050203,"question_id":73971901,"body_markdown":"I need to write graphql query with some predicate like \r\n\r\n    Select * from User Where loginId like &quot;abc%&quot;\r\n\r\n\r\nIn GraphQL :\r\n\r\n    {\r\n      getWithPredicate(clazz : String, predicates : Predicates){\r\n            loginId\r\n            enabled\r\n            accountLocked\r\n            accountExpired\r\n            accountExpireBy\r\n            createdBy\r\n      }\r\n    \r\n    }\r\n\r\nPlease suggest, if any default implementation is available in graphql.\r\n\r\nThanks in advance.","title":"Can we write GraphQL query for getting data based on predicate(condition)","body":"<p>I need to write graphql query with some predicate like</p>\n<pre><code>Select * from User Where loginId like &quot;abc%&quot;\n</code></pre>\n<p>In GraphQL :</p>\n<pre><code>{\n  getWithPredicate(clazz : String, predicates : Predicates){\n        loginId\n        enabled\n        accountLocked\n        accountExpired\n        accountExpireBy\n        createdBy\n  }\n\n}\n</code></pre>\n<p>Please suggest, if any default implementation is available in graphql.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","libgdx"],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670933302,"creation_date":1670933302,"answer_id":74784641,"question_id":74777371,"body_markdown":"You are using timer to determine when the bullet is shot i.e the shot begins, but also in there is the continuing increment for the flight of the bullet. So whenever your timer triggers from delta, the bullet resets position to postopGhost.\r\n\r\ni.e. the bullet doesn&#39;t have any method to proceed during flight. Try this maybe. Also you need to refer to dt (in some fashion as you like) against the 40 increment because you don&#39;t know how much time has elapsed since the last render.\r\n\r\n```\r\n  public void timer(float dt) {\r\n        int ticker = 0;\r\n        ticker += dt;\r\n        if(ticker &gt; 5) {\r\n            ticker = 0;\r\n            shoot();\r\n        } else {\r\n            processBulletFlight(dt);\r\n        }\r\n    }\r\n\r\n    public void shoot(){\r\n        setBulletpos(postopGhost);\r\n    }\r\n\r\n    public processBulletFlight(dt) {\r\n        bulletpos.x = (bulletpos.x + (40*dt));    \r\n    }\r\n```\r\n","title":"How would I be able to create an enemy that shoots at the player after a certain amount of time in libgdx?","body":"<p>You are using timer to determine when the bullet is shot i.e the shot begins, but also in there is the continuing increment for the flight of the bullet. So whenever your timer triggers from delta, the bullet resets position to postopGhost.</p>\n<p>i.e. the bullet doesn't have any method to proceed during flight. Try this maybe. Also you need to refer to dt (in some fashion as you like) against the 40 increment because you don't know how much time has elapsed since the last render.</p>\n<pre><code>  public void timer(float dt) {\n        int ticker = 0;\n        ticker += dt;\n        if(ticker &gt; 5) {\n            ticker = 0;\n            shoot();\n        } else {\n            processBulletFlight(dt);\n        }\n    }\n\n    public void shoot(){\n        setBulletpos(postopGhost);\n    }\n\n    public processBulletFlight(dt) {\n        bulletpos.x = (bulletpos.x + (40*dt));    \n    }\n</code></pre>\n"}],"owner":{"account_id":26452802,"reputation":33,"user_id":20095770,"display_name":"banabrain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74784641,"answer_count":1,"score":0,"last_activity_date":1670933302,"creation_date":1670879555,"question_id":74777371,"body_markdown":"I am currently working on trying to make enemies shoot a projectile in a straight line at the player. The projectiles are not showing on the playstate.\r\n\r\n\r\n\r\n```\r\npublic class Ghost {\r\n    private Texture topGhost, bottomGhost;\r\n    private  Vector2 postopGhost;\r\n    private Vector2 posBotGhost;\r\n    private Random rand;\r\n    private static final int fluct = 130;\r\n    private int GhostGap;\r\n    public int lowopening;\r\n    public static int width;\r\n    private Texture bullet;\r\n    private Vector2 bulletpos;\r\n    private Vector2 botbulletpos;\r\n\r\n\r\n    public Ghost(float x) {\r\n        GhostGap = 120; // the gap between the top and bottom ghost\r\n        lowopening = 90; //\r\n        bullet = new Texture(&quot;Bird.png&quot;);\r\n        topGhost = new Texture(&quot;Bird.png&quot;);\r\n        // middletude = new Texture(&quot;sipkemiddle.png&quot;); //spelling mistake\r\n        bottomGhost = new Texture(&quot;Bird.png&quot;);\r\n        rand = new Random();\r\n        width = topGhost.getWidth();\r\n        posBotGhost = new Vector2(x + 120, rand.nextInt(fluct));\r\n        postopGhost = new Vector2(x + 113, posBotGhost.y + bottomGhost.getHeight() + GhostGap - 50); \r\n        bulletpos = new Vector2(postopGhost);\r\n        botbulletpos = new Vector2(posBotGhost);\r\n    }\r\n\r\n    public void repostition(float x) {\r\n        postopGhost.set(x + 75, rand.nextInt(fluct) + 200);\r\n        posBotGhost.set(x + 75, postopGhost.y + GhostGap - bottomGhost.getHeight() - 247);\r\n    }\r\n    public void timer(float dt) {\r\n        int ticker = 0;\r\n        ticker += dt;\r\n        if(ticker &gt; 5) {\r\n            ticker = 0;\r\n            shoot();\r\n        }\r\n    }\r\n    public void shoot(){\r\n        setBulletpos(postopGhost);        \r\n        bulletpos.x = (bulletpos.x + 40);\r\n        bulletpos. y = bulletpos.y;\r\n    }\r\n\r\n```\r\n\r\nSo far I had no luck with spawning bullets visually that move across the X-axis of my game. Any suggestions?\r\n\r\n","title":"How would I be able to create an enemy that shoots at the player after a certain amount of time in libgdx?","body":"<p>I am currently working on trying to make enemies shoot a projectile in a straight line at the player. The projectiles are not showing on the playstate.</p>\n<pre><code>public class Ghost {\n    private Texture topGhost, bottomGhost;\n    private  Vector2 postopGhost;\n    private Vector2 posBotGhost;\n    private Random rand;\n    private static final int fluct = 130;\n    private int GhostGap;\n    public int lowopening;\n    public static int width;\n    private Texture bullet;\n    private Vector2 bulletpos;\n    private Vector2 botbulletpos;\n\n\n    public Ghost(float x) {\n        GhostGap = 120; // the gap between the top and bottom ghost\n        lowopening = 90; //\n        bullet = new Texture(&quot;Bird.png&quot;);\n        topGhost = new Texture(&quot;Bird.png&quot;);\n        // middletude = new Texture(&quot;sipkemiddle.png&quot;); //spelling mistake\n        bottomGhost = new Texture(&quot;Bird.png&quot;);\n        rand = new Random();\n        width = topGhost.getWidth();\n        posBotGhost = new Vector2(x + 120, rand.nextInt(fluct));\n        postopGhost = new Vector2(x + 113, posBotGhost.y + bottomGhost.getHeight() + GhostGap - 50); \n        bulletpos = new Vector2(postopGhost);\n        botbulletpos = new Vector2(posBotGhost);\n    }\n\n    public void repostition(float x) {\n        postopGhost.set(x + 75, rand.nextInt(fluct) + 200);\n        posBotGhost.set(x + 75, postopGhost.y + GhostGap - bottomGhost.getHeight() - 247);\n    }\n    public void timer(float dt) {\n        int ticker = 0;\n        ticker += dt;\n        if(ticker &gt; 5) {\n            ticker = 0;\n            shoot();\n        }\n    }\n    public void shoot(){\n        setBulletpos(postopGhost);        \n        bulletpos.x = (bulletpos.x + 40);\n        bulletpos. y = bulletpos.y;\n    }\n\n</code></pre>\n<p>So far I had no luck with spawning bullets visually that move across the X-axis of my game. Any suggestions?</p>\n"},{"tags":["java","spring-boot","docker","vaadin","web-deployment"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1670931044,"post_id":74783863,"comment_id":131982277,"body_markdown":"Have you checked the dev-console in your browser? Are there 404 errors etc? Any complains on the server-side?","body":"Have you checked the dev-console in your browser? Are there 404 errors etc? Any complains on the server-side?"},{"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"score":0,"creation_date":1670933333,"post_id":74783863,"comment_id":131983106,"body_markdown":"now I see that there are whole bunch. I must say that I&#39;m a hobbyst and delpoying something in docker is already something advanced for me.","body":"now I see that there are whole bunch. I must say that I&#39;m a hobbyst and delpoying something in docker is already something advanced for me."},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1670934036,"post_id":74783863,"comment_id":131983340,"body_markdown":"Why are the port numbers changing? Have you tried multiple times and used random ports and finally fixed it on 8080? Also do you want to use docker for development (e.g. keep your system free of dev-deps) or do you want to build a produkction docker image to run somewhere else (I ask because there are logs about running a non-production-build)","body":"Why are the port numbers changing? Have you tried multiple times and used random ports and finally fixed it on 8080? Also do you want to use docker for development (e.g. keep your system free of dev-deps) or do you want to build a produkction docker image to run somewhere else (I ask because there are logs about running a non-production-build)"},{"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"score":0,"creation_date":1670938054,"post_id":74783863,"comment_id":131984824,"body_markdown":"About ports. No I wasn&#39;t changing them, ut maybe it&#39;s beacuse my app connects to database. I wanted to deploy my app to render.com, where building docker image is on their side, and requires only Dockerfile from me. So I did. But  result was that I was getting logs that initializing of th image was done, and after that general status of deployment was changer to failed(no log abou it). So I downloaded docker to try solve this. At this point I&#39;m quite frustrated already, so if you know some easiest way, or have any advice I will appreciate it a lot.","body":"About ports. No I wasn&#39;t changing them, ut maybe it&#39;s beacuse my app connects to database. I wanted to deploy my app to render.com, where building docker image is on their side, and requires only Dockerfile from me. So I did. But  result was that I was getting logs that initializing of th image was done, and after that general status of deployment was changer to failed(no log abou it). So I downloaded docker to try solve this. At this point I&#39;m quite frustrated already, so if you know some easiest way, or have any advice I will appreciate it a lot."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":3,"creation_date":1670941319,"post_id":74783863,"comment_id":131986008,"body_markdown":"It looks like you didn&#39;t build the application in production mode: https://vaadin.com/docs/latest/production/production-build","body":"It looks like you didn&#39;t build the application in production mode: <a href=\"https://vaadin.com/docs/latest/production/production-build\" rel=\"nofollow noreferrer\">vaadin.com/docs/latest/production/production-build</a>"},{"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"score":0,"creation_date":1670941778,"post_id":74783863,"comment_id":131986196,"body_markdown":"I&#39;m using gradle, and was executing command ./gradlew clean build. There&#39;s vaadin.productionMode=true in application.properties, and productionMode = true in build.gradle. Is that an analogue for mvn clean package -Pproduction?","body":"I&#39;m using gradle, and was executing command ./gradlew clean build. There&#39;s vaadin.productionMode=true in application.properties, and productionMode = true in build.gradle. Is that an analogue for mvn clean package -Pproduction?"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":1,"creation_date":1670947100,"post_id":74783863,"comment_id":131988190,"body_markdown":"Does this answer your question? [failed to initialize Tomcat while running Spring boot app with vaadin in docker](https://stackoverflow.com/questions/74760800/failed-to-initialize-tomcat-while-running-spring-boot-app-with-vaadin-in-docker)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74760800/failed-to-initialize-tomcat-while-running-spring-boot-app-with-vaadin-in-docker\">failed to initialize Tomcat while running Spring boot app with vaadin in docker</a>"}],"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670933138,"creation_date":1670929668,"question_id":74783863,"body_markdown":"My Vaadin spring-Boot project runs alrighty when run in IDE, but when I&#39;m running it in docker, after navigating to adequate port, Vaadin message appears:\r\n```\r\nYou are offline\r\nProject Base for Vaadin requires an internet connection to work. You do not seem to have access to the server right now. Check your internet connection and try reloading the page to use the application.\r\n```\r\n vaadin v.23\r\n\r\nIs this docker or vaadin related problem?\r\n\r\nEdit:\r\nDev-console in my browser:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/317VH.png\r\n  [2]: https://i.stack.imgur.com/NW85i.png","title":"Vaadin Spring-Boot project not having connection to internet in Docker","body":"<p>My Vaadin spring-Boot project runs alrighty when run in IDE, but when I'm running it in docker, after navigating to adequate port, Vaadin message appears:</p>\n<pre><code>You are offline\nProject Base for Vaadin requires an internet connection to work. You do not seem to have access to the server right now. Check your internet connection and try reloading the page to use the application.\n</code></pre>\n<p>vaadin v.23</p>\n<p>Is this docker or vaadin related problem?</p>\n<p>Edit:\nDev-console in my browser:</p>\n<p><a href=\"https://i.stack.imgur.com/317VH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/317VH.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NW85i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NW85i.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","reflection","static"],"comments":[{"owner":{"account_id":27237658,"reputation":9,"user_id":20764319,"display_name":"sventuba"},"score":0,"creation_date":1670989591,"post_id":74783476,"comment_id":131998345,"body_markdown":"I am trying to do reflection on an unknown class. If I do it on an instance of the class it works fine, but if I try to do it on the class (in my case the class only has static fields and no methods so Java complain when I make an instance of it), it fails. I noted that &quot;toString&quot; seem to retain the class information and I assume they use reflection to find that info, but when I try to do reflection, it doesn&#39;t work. Maybe the Class&lt;?&gt;-thing will work... Nope. That did the opposite of what I want, but it works exactly as you said :D","body":"I am trying to do reflection on an unknown class. If I do it on an instance of the class it works fine, but if I try to do it on the class (in my case the class only has static fields and no methods so Java complain when I make an instance of it), it fails. I noted that &quot;toString&quot; seem to retain the class information and I assume they use reflection to find that info, but when I try to do reflection, it doesn&#39;t work. Maybe the Class&lt;?&gt;-thing will work... Nope. That did the opposite of what I want, but it works exactly as you said :D"}],"answers":[{"comments":[{"owner":{"account_id":27237658,"reputation":9,"user_id":20764319,"display_name":"sventuba"},"score":0,"creation_date":1670931676,"post_id":74784087,"comment_id":131982491,"body_markdown":"I&#39;m not sure I understand, perhaps my example was over-simplified... But to clarify - I made a class (called Reflector) that accepted an object and told you which parts of it was &quot;published&quot;. When I sent it an object instance of a class (like MyThing) everything was fine, but I then tried it with a class with only static fields - which shouldn&#39;t be instantiated and thus I did MyOtherThing.class - it didn&#39;t. The Reflector still runs, but can&#39;t see the fields in the class.","body":"I&#39;m not sure I understand, perhaps my example was over-simplified... But to clarify - I made a class (called Reflector) that accepted an object and told you which parts of it was &quot;published&quot;. When I sent it an object instance of a class (like MyThing) everything was fine, but I then tried it with a class with only static fields - which shouldn&#39;t be instantiated and thus I did MyOtherThing.class - it didn&#39;t. The Reflector still runs, but can&#39;t see the fields in the class."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1670932038,"post_id":74784087,"comment_id":131982626,"body_markdown":"@sventuba Ah I understand what your confusion is now. You should still pass the instance for the static fields if you are using `getClass`. If you have the `Class` instance itself, you can just cast and call `getFields` directly on it.","body":"@sventuba Ah I understand what your confusion is now. You should still pass the instance for the static fields if you are using <code>getClass</code>. If you have the <code>Class</code> instance itself, you can just cast and call <code>getFields</code> directly on it."},{"owner":{"account_id":27237658,"reputation":9,"user_id":20764319,"display_name":"sventuba"},"score":0,"creation_date":1670932894,"post_id":74784087,"comment_id":131982949,"body_markdown":"right! That&#39;s what I thought as well... But then I got stuck trying to figure out if I was looking at an instance of a class or the class itself... I tried variations of &quot;instanceof&quot; but that only works if I explicitly KNOW what the class is supposed to be. I guess I could write two versions of the code...","body":"right! That&#39;s what I thought as well... But then I got stuck trying to figure out if I was looking at an instance of a class or the class itself... I tried variations of &quot;instanceof&quot; but that only works if I explicitly KNOW what the class is supposed to be. I guess I could write two versions of the code..."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1670932956,"post_id":74784087,"comment_id":131982972,"body_markdown":"@sventuba See my latest edit. Perhaps, you are just looking for a way to check if a field/method is static?","body":"@sventuba See my latest edit. Perhaps, you are just looking for a way to check if a field/method is static?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670938172,"post_id":74784087,"comment_id":131984862,"body_markdown":"@sventuba you dont need to have two versions of the code. The version getting a `Class` (and not an object to call `getClass()` on), is the only correct one. In other words, `MyThing.class.getDeclaredFields()` will give you static and non-static fields anyway, so you never need to create a `MyThing` instance to find out which fields exist.","body":"@sventuba you dont need to have two versions of the code. The version getting a <code>Class</code> (and not an object to call <code>getClass()</code> on), is the only correct one. In other words, <code>MyThing.class.getDeclaredFields()</code> will give you static and non-static fields anyway, so you never need to create a <code>MyThing</code> instance to find out which fields exist."},{"owner":{"account_id":27237658,"reputation":9,"user_id":20764319,"display_name":"sventuba"},"score":0,"creation_date":1670987548,"post_id":74784087,"comment_id":131998062,"body_markdown":"Thanks for your help and patience :). The background here is that I&#39;m trying to wrap my old head around the concept of micro services and Docker. So I made a bunch of small services that talk via ZMQ. I added dynamic discovery of interfaces and started using reflection to figure out what I could do to each service which lead to creating my Reflector-class that lists things that you can do. It works fine, but I have to feed it an INSTANCE of a class for it to be happy and when I instantiate class with only static fields I get a warning. Which lead to my example code...","body":"Thanks for your help and patience :). The background here is that I&#39;m trying to wrap my old head around the concept of micro services and Docker. So I made a bunch of small services that talk via ZMQ. I added dynamic discovery of interfaces and started using reflection to figure out what I could do to each service which lead to creating my Reflector-class that lists things that you can do. It works fine, but I have to feed it an INSTANCE of a class for it to be happy and when I instantiate class with only static fields I get a warning. Which lead to my example code..."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670932898,"creation_date":1670930697,"answer_id":74784087,"question_id":74783476,"body_markdown":"If you are sure that `obj` stores an instance of `Class`, you should cast it, rather than calling `getClass`, to get a `Class`.\r\n\r\n    Field[] fields = ((Class&lt;?&gt;)obj).getDeclaredFields();\r\n\r\nI&#39;m not sure where `obj` comes from, but maybe it should have been declared to be a `Class&lt;?&gt;` in the first place.\r\n\r\nCalling `getClass` on `obj` would get the `Class` instance representing the class `Class`, aka `Class.class`, obviously not what you want. \r\n\r\nPerhaps this is another bug in your code, and that `obj` isn&#39;t actually meant to be an instance of `Class`, and instead meant to be an instance of `MyThing`? If that is the case, then calling `obj.getClass()` actually makes sense, and you should fix *that* bug instead.\r\n\r\nAs for why `toString` outputs the same results for both, it is because this isn&#39;t a fair comparison. You are comparing these two:\r\n\r\n    obj.toString()\r\n    MyThing.class.toString()\r\n\r\n`obj` stores `MyThing.class`, so by dynamic dispatch at runtime, of course they are the same.\r\n\r\nA fairer comparison would be:\r\n\r\n    obj.getClass().toString()\r\n    MyThing.class.toString()\r\n\r\nNow you can see that the first outputs `class java.lang.Class`.\r\n\r\nEdit:\r\n\r\nYou seem to think that you need to assign `obj = MyThing.class` (as opposed to an instance of `MyThing`),  in order to get the static fields of `MyThing`. This is incorrect. `getFields` will return both instance and static fields. You do not need to make `obj` be anything special to get its static fields.\r\n\r\nYou can check if a field is static by doing:\r\n\r\n    Modifier.isStatic(field.getModifiers())\r\n\r\nJust check if the above is true to filter the (non)-static fields out if you do not want them.","title":"Can&#39;t see declared fields when doing reflection on a class rather than an object","body":"<p>If you are sure that <code>obj</code> stores an instance of <code>Class</code>, you should cast it, rather than calling <code>getClass</code>, to get a <code>Class</code>.</p>\n<pre><code>Field[] fields = ((Class&lt;?&gt;)obj).getDeclaredFields();\n</code></pre>\n<p>I'm not sure where <code>obj</code> comes from, but maybe it should have been declared to be a <code>Class&lt;?&gt;</code> in the first place.</p>\n<p>Calling <code>getClass</code> on <code>obj</code> would get the <code>Class</code> instance representing the class <code>Class</code>, aka <code>Class.class</code>, obviously not what you want.</p>\n<p>Perhaps this is another bug in your code, and that <code>obj</code> isn't actually meant to be an instance of <code>Class</code>, and instead meant to be an instance of <code>MyThing</code>? If that is the case, then calling <code>obj.getClass()</code> actually makes sense, and you should fix <em>that</em> bug instead.</p>\n<p>As for why <code>toString</code> outputs the same results for both, it is because this isn't a fair comparison. You are comparing these two:</p>\n<pre><code>obj.toString()\nMyThing.class.toString()\n</code></pre>\n<p><code>obj</code> stores <code>MyThing.class</code>, so by dynamic dispatch at runtime, of course they are the same.</p>\n<p>A fairer comparison would be:</p>\n<pre><code>obj.getClass().toString()\nMyThing.class.toString()\n</code></pre>\n<p>Now you can see that the first outputs <code>class java.lang.Class</code>.</p>\n<p>Edit:</p>\n<p>You seem to think that you need to assign <code>obj = MyThing.class</code> (as opposed to an instance of <code>MyThing</code>),  in order to get the static fields of <code>MyThing</code>. This is incorrect. <code>getFields</code> will return both instance and static fields. You do not need to make <code>obj</code> be anything special to get its static fields.</p>\n<p>You can check if a field is static by doing:</p>\n<pre><code>Modifier.isStatic(field.getModifiers())\n</code></pre>\n<p>Just check if the above is true to filter the (non)-static fields out if you do not want them.</p>\n"}],"owner":{"account_id":27237658,"reputation":9,"user_id":20764319,"display_name":"sventuba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1670932898,"creation_date":1670927865,"question_id":74783476,"body_markdown":"So, I&#39;m playing around with reflection in Java and noticed something that I find strange. I created a class that accepts an Object and then lists fields and methods that have the annotation &quot;publish&quot; (that I also made). When I feed it an instance of a class it works fine, but when I give it a class with static fields and methods (i.e. MyThing.class), I can&#39;t see anything. My original code had a bug, which meant that I actually used the hard coded class rather than the class I used in the constructor, like this:\r\n```\r\nObject obj = MyThing.class;\r\nField[] fields = obj.getClass().getDeclaredFields(); // correct version\r\nField[] fields = MyThing.class.getDeclaredFields(); // not as intended\r\n```\r\nIn the latter case, I can see the fields, but in the first (correct version) I can&#39;t. Even more curious, if I do &quot;toString&quot; in both cases, I get the same result, but if I do &quot;getName&quot; they are different:\r\n```\r\nObject obj = MyThing.class;\r\nSystem.out.println(&quot;toString=&quot;+obj.toString()); // --&gt; class MyThing\r\nSystem.out.println(&quot;getName=&quot;+obj.getClass().getName()); // --&gt; java.lang.Class\r\n```\r\nI realize there is a difference between the two, but it is slightly annoying that &quot;toString&quot; somehow sees the original class, but when I try to get to the original class it seems to be gone. If I know which class Object really is, I could do a cast and make it work, but it kind of defeats the purpose of the thing...\r\nI&#39;ve tried to create a more complete example below and my question (finally) is: Is there a way I can get to the actual class of Object using something like &quot;getClass&quot;? \r\n\r\n\r\nI have the following simple class declared:\r\n\r\n```\r\npublic class MyThing {\r\n\r\n\t@Publish\r\n\tpublic double value1 = 1.0;\r\n\t@Publish\r\n\tpublic static double value2 = 2.0;\r\n\tpublic static int value3 = 3;\r\n\t\r\n\tpublic static void method1() {\r\n\t\tSystem.out.println(&quot;One&quot;);\r\n\t}\r\n\r\n\t@Publish\r\n\tpublic static double method2(double value) {\r\n\t\treturn value*value;\r\n\t}\r\n\r\n\t@Publish\r\n\tpublic int method3(double value) {\r\n\t\treturn (int) Math.floor(value);\r\n\t} \r\n}\r\n\r\n```\r\n\r\nWhere &quot;@Publish&quot; is a simple annotation to make things easier to find:\r\n\r\n```\r\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\r\n\r\nimport java.lang.annotation.Retention;\r\n\r\n@Retention(RUNTIME)\r\npublic @interface Publish {\r\n\r\n}\r\n```\r\nIf I then run the following:\r\n\r\n```\r\n\tObject c1 = new MyThing();\r\n\tSystem.out.println(&quot;Object---------&quot;+c1.toString());\r\n\tField[] fields = c1.getClass().getDeclaredFields();\r\n\tSystem.out.print(&quot;Fields:&quot;);\r\n\tfor (Field f:fields) {\r\n\t\tif (f.isAnnotationPresent(Publish.class)) { \r\n\t\t\tSystem.out.print(&quot; &quot;+f.getName());\r\n\t\t}\r\n\t}\r\n\tMethod[] methods= c1.getClass().getDeclaredMethods();\r\n\tSystem.out.print(&quot;\\nMethods:&quot;);\r\n\tfor (Method m:methods) {\r\n\t\tif (m.isAnnotationPresent(Publish.class)) { \r\n\t\t\tSystem.out.print(&quot; &quot;+m.getName());\r\n\t\t}\r\n\t}\r\n\r\n\tObject c2 = MyThing.class;\r\n\tSystem.out.println(&quot;\\n\\nClass---------&quot;+c2.toString());\r\n\tField[] fields2 = c2.getClass().getDeclaredFields();\r\n\tSystem.out.print(&quot;Fields:&quot;);\r\n\tfor (Field f:fields2) {\r\n\t\tif (f.isAnnotationPresent(Publish.class)) { \r\n\t\t\tSystem.out.print(&quot; &quot;+f.getName());\r\n\t\t}\r\n\t}\r\n\tMethod[] methods2= c2.getClass().getDeclaredMethods();\r\n\tSystem.out.print(&quot;\\nMethods:&quot;);\r\n\tfor (Method m:methods2) {\r\n\t\tif (m.isAnnotationPresent(Publish.class)) { \r\n\t\t\tSystem.out.print(&quot; &quot;+m.getName());\r\n\t\t}\r\n\t}\r\n\r\n\tSystem.out.println(&quot;\\n\\nDirect Class---------&quot;+MyThing.class.toString());\r\n\tField[] fields3 = MyThing.class.getDeclaredFields();\r\n\tSystem.out.print(&quot;Fields:&quot;);\r\n\tfor (Field f:fields3) {\r\n\t\tif (f.isAnnotationPresent(Publish.class)) { \r\n\t\t\tSystem.out.print(&quot; &quot;+f.getName());\r\n\t\t}\r\n\t}\r\n\tMethod[] methods3= MyThing.class.getDeclaredMethods();\r\n\tSystem.out.print(&quot;\\nMethods:&quot;);\r\n\tfor (Method m:methods3) {\r\n\t\tif (m.isAnnotationPresent(Publish.class)) { \r\n\t\t\tSystem.out.print(&quot; &quot;+m.getName());\r\n\t\t}\r\n    }\r\n\r\n}\r\n\r\n```\r\nI get the following:\r\n\r\n```\r\nObject---------MyThing@6ff3c5b5\r\nFields: value1 value2\r\nMethods: method2 method3\r\n\r\nClass---------class MyThing\r\nFields:\r\nMethods:\r\n\r\nDirect Class---------class MyThing\r\nFields: value1 value2\r\nMethods: method2 method3\r\n\r\n```\r\nIn the second case, where I try to create an Object of MyThing.class, I can see the class name if I do &quot;toString&quot;, but I don&#39;t get any of the fields or methods. If I use MyThing.class directly (as in the third case), I see the methods and fields - but I actually wasn&#39;t expecting to see the non-static methods and fields...\r\n\r\n\r\n\r\n","title":"Can&#39;t see declared fields when doing reflection on a class rather than an object","body":"<p>So, I'm playing around with reflection in Java and noticed something that I find strange. I created a class that accepts an Object and then lists fields and methods that have the annotation &quot;publish&quot; (that I also made). When I feed it an instance of a class it works fine, but when I give it a class with static fields and methods (i.e. MyThing.class), I can't see anything. My original code had a bug, which meant that I actually used the hard coded class rather than the class I used in the constructor, like this:</p>\n<pre><code>Object obj = MyThing.class;\nField[] fields = obj.getClass().getDeclaredFields(); // correct version\nField[] fields = MyThing.class.getDeclaredFields(); // not as intended\n</code></pre>\n<p>In the latter case, I can see the fields, but in the first (correct version) I can't. Even more curious, if I do &quot;toString&quot; in both cases, I get the same result, but if I do &quot;getName&quot; they are different:</p>\n<pre><code>Object obj = MyThing.class;\nSystem.out.println(&quot;toString=&quot;+obj.toString()); // --&gt; class MyThing\nSystem.out.println(&quot;getName=&quot;+obj.getClass().getName()); // --&gt; java.lang.Class\n</code></pre>\n<p>I realize there is a difference between the two, but it is slightly annoying that &quot;toString&quot; somehow sees the original class, but when I try to get to the original class it seems to be gone. If I know which class Object really is, I could do a cast and make it work, but it kind of defeats the purpose of the thing...\nI've tried to create a more complete example below and my question (finally) is: Is there a way I can get to the actual class of Object using something like &quot;getClass&quot;?</p>\n<p>I have the following simple class declared:</p>\n<pre><code>public class MyThing {\n\n    @Publish\n    public double value1 = 1.0;\n    @Publish\n    public static double value2 = 2.0;\n    public static int value3 = 3;\n    \n    public static void method1() {\n        System.out.println(&quot;One&quot;);\n    }\n\n    @Publish\n    public static double method2(double value) {\n        return value*value;\n    }\n\n    @Publish\n    public int method3(double value) {\n        return (int) Math.floor(value);\n    } \n}\n\n</code></pre>\n<p>Where &quot;@Publish&quot; is a simple annotation to make things easier to find:</p>\n<pre><code>import static java.lang.annotation.RetentionPolicy.RUNTIME;\n\nimport java.lang.annotation.Retention;\n\n@Retention(RUNTIME)\npublic @interface Publish {\n\n}\n</code></pre>\n<p>If I then run the following:</p>\n<pre><code>    Object c1 = new MyThing();\n    System.out.println(&quot;Object---------&quot;+c1.toString());\n    Field[] fields = c1.getClass().getDeclaredFields();\n    System.out.print(&quot;Fields:&quot;);\n    for (Field f:fields) {\n        if (f.isAnnotationPresent(Publish.class)) { \n            System.out.print(&quot; &quot;+f.getName());\n        }\n    }\n    Method[] methods= c1.getClass().getDeclaredMethods();\n    System.out.print(&quot;\\nMethods:&quot;);\n    for (Method m:methods) {\n        if (m.isAnnotationPresent(Publish.class)) { \n            System.out.print(&quot; &quot;+m.getName());\n        }\n    }\n\n    Object c2 = MyThing.class;\n    System.out.println(&quot;\\n\\nClass---------&quot;+c2.toString());\n    Field[] fields2 = c2.getClass().getDeclaredFields();\n    System.out.print(&quot;Fields:&quot;);\n    for (Field f:fields2) {\n        if (f.isAnnotationPresent(Publish.class)) { \n            System.out.print(&quot; &quot;+f.getName());\n        }\n    }\n    Method[] methods2= c2.getClass().getDeclaredMethods();\n    System.out.print(&quot;\\nMethods:&quot;);\n    for (Method m:methods2) {\n        if (m.isAnnotationPresent(Publish.class)) { \n            System.out.print(&quot; &quot;+m.getName());\n        }\n    }\n\n    System.out.println(&quot;\\n\\nDirect Class---------&quot;+MyThing.class.toString());\n    Field[] fields3 = MyThing.class.getDeclaredFields();\n    System.out.print(&quot;Fields:&quot;);\n    for (Field f:fields3) {\n        if (f.isAnnotationPresent(Publish.class)) { \n            System.out.print(&quot; &quot;+f.getName());\n        }\n    }\n    Method[] methods3= MyThing.class.getDeclaredMethods();\n    System.out.print(&quot;\\nMethods:&quot;);\n    for (Method m:methods3) {\n        if (m.isAnnotationPresent(Publish.class)) { \n            System.out.print(&quot; &quot;+m.getName());\n        }\n    }\n\n}\n\n</code></pre>\n<p>I get the following:</p>\n<pre><code>Object---------MyThing@6ff3c5b5\nFields: value1 value2\nMethods: method2 method3\n\nClass---------class MyThing\nFields:\nMethods:\n\nDirect Class---------class MyThing\nFields: value1 value2\nMethods: method2 method3\n\n</code></pre>\n<p>In the second case, where I try to create an Object of MyThing.class, I can see the class name if I do &quot;toString&quot;, but I don't get any of the fields or methods. If I use MyThing.class directly (as in the third case), I see the methods and fields - but I actually wasn't expecting to see the non-static methods and fields...</p>\n"},{"tags":["java","maven","gradle","apache-kafka","apache-ranger"],"owner":{"account_id":7987542,"reputation":143,"user_id":6026489,"display_name":"Gonzalo Etse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670934907,"answer_count":0,"score":0,"last_activity_date":1670932546,"creation_date":1670932546,"question_id":74784490,"body_markdown":"I&#39;m building Ranger 2.4, as I need for Kafka 3.2.1.\r\n\r\nThe issue I&#39;m getting is that Kafka is asked to be built with gradlew, which I do as follows:\r\n\r\n`./gradlew clean build releaseTarGz`\r\n\r\nI understand the release file can be found in `./core/build/distributions/`, but when I build Ranger it doesn&#39;t seem to find it:\r\n\r\n`Failure to find org.apache.kafka:kafka-clients:jar:3.2.1-MYPROJECT-SNAPSHOT in https://repository.apache.org/content/repositories/snapshots`\r\n\r\nAnd effectively, I can&#39;t find it on `.m2/org/apache/kafka`. How would I register the release? ","title":"Build with gradlew and make it available in ./m2","body":"<p>I'm building Ranger 2.4, as I need for Kafka 3.2.1.</p>\n<p>The issue I'm getting is that Kafka is asked to be built with gradlew, which I do as follows:</p>\n<p><code>./gradlew clean build releaseTarGz</code></p>\n<p>I understand the release file can be found in <code>./core/build/distributions/</code>, but when I build Ranger it doesn't seem to find it:</p>\n<p><code>Failure to find org.apache.kafka:kafka-clients:jar:3.2.1-MYPROJECT-SNAPSHOT in https://repository.apache.org/content/repositories/snapshots</code></p>\n<p>And effectively, I can't find it on <code>.m2/org/apache/kafka</code>. How would I register the release?</p>\n"},{"tags":["java","playframework","akka-stream","playframework-2.5","type-mismatch"],"answers":[{"comments":[{"owner":{"account_id":5762317,"reputation":193,"user_id":4548319,"accept_rate":30,"display_name":"sleb"},"score":1,"creation_date":1488317070,"post_id":42467750,"comment_id":72174889,"body_markdown":"Thanks for the response anyway:) However, I&#39;ve found the way to utilize new WebSocket implementation in Play 2.5 based on what is written here: http://nuah.livejournal.com/315561.html","body":"Thanks for the response anyway:) However, I&#39;ve found the way to utilize new WebSocket implementation in Play 2.5 based on what is written here: <a href=\"http://nuah.livejournal.com/315561.html\" rel=\"nofollow noreferrer\">nuah.livejournal.com/315561.html</a>"}],"tags":[],"owner":{"account_id":9631926,"reputation":191,"user_id":7149487,"display_name":"Jan Nylund"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669293559,"creation_date":1488107610,"answer_id":42467750,"question_id":38697318,"body_markdown":"I just hit the same issue with Play 2.5.12. The problem seems to be that `ActorFlow` is not yet properly implemented for Java in Play 2.5.x. (which is exactly why you had `play.api.libs.streams.ActorFlow` from the Scala side).\r\n\r\nThe proper Java code seem to be in for Play 2.6.x. https://github.com/playframework/playframework/blob/2.6.25/core/play-streams/src/main/java/play/libs/streams/ActorFlow.java\r\n\r\nFor now, I guess the easy solution is to stick with (the deprecated) `LegacyWebsocket` or migrate to 2.6.x onwards.\r\n","title":"Play 2.5 ActorFlow: cannot convert from Flow&lt;String,String,capture#1-of ?&gt; to Flow&lt;String,String,?&gt;","body":"<p>I just hit the same issue with Play 2.5.12. The problem seems to be that <code>ActorFlow</code> is not yet properly implemented for Java in Play 2.5.x. (which is exactly why you had <code>play.api.libs.streams.ActorFlow</code> from the Scala side).</p>\n<p>The proper Java code seem to be in for Play 2.6.x. <a href=\"https://github.com/playframework/playframework/blob/2.6.25/core/play-streams/src/main/java/play/libs/streams/ActorFlow.java\" rel=\"nofollow noreferrer\">https://github.com/playframework/playframework/blob/2.6.25/core/play-streams/src/main/java/play/libs/streams/ActorFlow.java</a></p>\n<p>For now, I guess the easy solution is to stick with (the deprecated) <code>LegacyWebsocket</code> or migrate to 2.6.x onwards.</p>\n"},{"tags":[],"owner":{"account_id":1278589,"reputation":28407,"user_id":1233251,"accept_rate":90,"display_name":"E_net4"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670932451,"creation_date":1669311396,"answer_id":74564512,"question_id":38697318,"body_markdown":"In the event that you are still using Play 2.5, the `ActorFlow` implementation from version 2.6.25 ([`ActorFlow.java`](https://github.com/playframework/playframework/blob/2.6.25/core/play-streams/src/main/java/play/libs/streams/ActorFlow.java)) can be copied into your own project and used as is without significant changes (only change the `package` declaration depending on where you place it).\r\n\r\nAssuming the class is now available in `utils.ActorFlow`,\r\nthe example below allows you to interact with a WebSocket connection using actors, as described in the [WebSockets documentation for Play 2.6](https://www.playframework.com/documentation/2.6.x/JavaWebSockets#Handling-WebSockets-with-actors).\r\n\r\n```\r\nimport play.mvc.*;\r\nimport akka.actor.*;\r\nimport akka.stream.*;\r\nimport akka.stream.javadsl.*;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport javax.inject.Inject;\r\n\r\n// Replace in Play 2.6\r\nimport utils.ActorFlow;\r\n//import play.libs.streams.ActorFlow;\r\n\r\npublic class MyWebSocketController extends Controller {\r\n\r\n    private final ActorSystem actorSystem;\r\n    private final Materializer materializer;\r\n\r\n    @Inject\r\n    public MyWebSocketController(ActorSystem actorSystem, Materializer materializer) {\r\n        this.actorSystem = actorSystem;\r\n        this.materializer = materializer;\r\n    }\r\n\r\n    public WebSocket ws() {\r\n        return WebSocket.Json.accept(requestHeader -&gt; {\r\n\r\n            // Note: check Origin header here for extra security\r\n\r\n            return ActorFlow.actorRef(\r\n                MyWebSocketActor::props,\r\n                actorSystem,\r\n                materializer\r\n            );\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nYou may still need to extend the actor from `UntypedActor` instead of `AbstractActor` and implement `onReceive` instead of `createReceive`. Although `AbstractActor` exists in Akka 2.4, it has an experimental API which was subjected to changes in later versions.\r\n\r\n```java\r\nimport akka.actor.*;\r\n\r\n// Note: extends AbstractActor in Play 2.6\r\npublic class MyWebSocketActor extends UntypedActor {\r\n\r\n    public static Props props(ActorRef out) {\r\n        return Props.create(MyWebSocketActor.class, out);\r\n    }\r\n\r\n    private final ActorRef out;\r\n\r\n    public MyWebSocketActor(ActorRef out) {\r\n        this.out = out;\r\n    }\r\n\r\n    @Override\r\n    public void onReceive(Object message) throws Exception {\r\n        out.tell(&quot;{\\&quot;message\\&quot;: \\&quot;I received your message!\\&quot;}&quot;, self());\r\n    }\r\n\r\n\r\n    @Override\r\n    public void postStop() throws Exception {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nSee also:\r\n\r\n- https://stackoverflow.com/q/36167501","title":"Play 2.5 ActorFlow: cannot convert from Flow&lt;String,String,capture#1-of ?&gt; to Flow&lt;String,String,?&gt;","body":"<p>In the event that you are still using Play 2.5, the <code>ActorFlow</code> implementation from version 2.6.25 (<a href=\"https://github.com/playframework/playframework/blob/2.6.25/core/play-streams/src/main/java/play/libs/streams/ActorFlow.java\" rel=\"nofollow noreferrer\"><code>ActorFlow.java</code></a>) can be copied into your own project and used as is without significant changes (only change the <code>package</code> declaration depending on where you place it).</p>\n<p>Assuming the class is now available in <code>utils.ActorFlow</code>,\nthe example below allows you to interact with a WebSocket connection using actors, as described in the <a href=\"https://www.playframework.com/documentation/2.6.x/JavaWebSockets#Handling-WebSockets-with-actors\" rel=\"nofollow noreferrer\">WebSockets documentation for Play 2.6</a>.</p>\n<pre><code>import play.mvc.*;\nimport akka.actor.*;\nimport akka.stream.*;\nimport akka.stream.javadsl.*;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport javax.inject.Inject;\n\n// Replace in Play 2.6\nimport utils.ActorFlow;\n//import play.libs.streams.ActorFlow;\n\npublic class MyWebSocketController extends Controller {\n\n    private final ActorSystem actorSystem;\n    private final Materializer materializer;\n\n    @Inject\n    public MyWebSocketController(ActorSystem actorSystem, Materializer materializer) {\n        this.actorSystem = actorSystem;\n        this.materializer = materializer;\n    }\n\n    public WebSocket ws() {\n        return WebSocket.Json.accept(requestHeader -&gt; {\n\n            // Note: check Origin header here for extra security\n\n            return ActorFlow.actorRef(\n                MyWebSocketActor::props,\n                actorSystem,\n                materializer\n            );\n        });\n    }\n}\n</code></pre>\n<p>You may still need to extend the actor from <code>UntypedActor</code> instead of <code>AbstractActor</code> and implement <code>onReceive</code> instead of <code>createReceive</code>. Although <code>AbstractActor</code> exists in Akka 2.4, it has an experimental API which was subjected to changes in later versions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import akka.actor.*;\n\n// Note: extends AbstractActor in Play 2.6\npublic class MyWebSocketActor extends UntypedActor {\n\n    public static Props props(ActorRef out) {\n        return Props.create(MyWebSocketActor.class, out);\n    }\n\n    private final ActorRef out;\n\n    public MyWebSocketActor(ActorRef out) {\n        this.out = out;\n    }\n\n    @Override\n    public void onReceive(Object message) throws Exception {\n        out.tell(&quot;{\\&quot;message\\&quot;: \\&quot;I received your message!\\&quot;}&quot;, self());\n    }\n\n\n    @Override\n    public void postStop() throws Exception {\n        // ...\n    }\n}\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/36167501\">Play2.5 Java WebSockets</a></li>\n</ul>\n"}],"owner":{"account_id":5762317,"reputation":193,"user_id":4548319,"accept_rate":30,"display_name":"sleb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670932451,"creation_date":1470049764,"question_id":38697318,"body_markdown":"While migrating to Play 2.5 I&#39;m trying to implement new WebSocket functionality as described [here][1](Handling WebSockets with actors). In Play 2.5.4 there&#39;s no play.libs.streams.ActorFlow (as shown in the example), but only play.api.libs.streams.ActorFlow. But when I write this code:\r\n\r\n    public class MyController extends Controller {\r\n        private final ActorSystem actorSystem;\r\n        private final Materializer materializer;\r\n    \r\n        @Inject\r\n        public MyController(ActorSystem actorSystem, Materializer materializer) {\r\n            this.actorSystem = actorSystem;\r\n            this.materializer = materializer;\r\n        }\r\n    \r\n        public WebSocket socket() {\r\n            return WebSocket.Text.accept(request -&gt;\r\n                    return ActorFlow.&lt;String, String&gt;actorRef(MyWebSocketActor::props, 256, OverflowStrategy.dropHead(),\r\n                        actorSystem, materializer\r\n                    )\r\n            );\r\n        }\r\n    }\r\n\r\nThe compiler gives me an error:\r\n\r\n&gt;Type mismatch: cannot convert from Flow`&lt;String,String,capture#1-of ?&gt; to Flow&lt;String,String,?&gt;`\r\n\r\nCan someone please explain me how to implement this approach in 2.5? Why I get this mistake?\r\n\r\n\r\n  [1]: https://www.playframework.com/documentation/2.6.x/JavaWebSockets","title":"Play 2.5 ActorFlow: cannot convert from Flow&lt;String,String,capture#1-of ?&gt; to Flow&lt;String,String,?&gt;","body":"<p>While migrating to Play 2.5 I'm trying to implement new WebSocket functionality as described <a href=\"https://www.playframework.com/documentation/2.6.x/JavaWebSockets\" rel=\"nofollow\">here</a>(Handling WebSockets with actors). In Play 2.5.4 there's no play.libs.streams.ActorFlow (as shown in the example), but only play.api.libs.streams.ActorFlow. But when I write this code:</p>\n\n<pre><code>public class MyController extends Controller {\n    private final ActorSystem actorSystem;\n    private final Materializer materializer;\n\n    @Inject\n    public MyController(ActorSystem actorSystem, Materializer materializer) {\n        this.actorSystem = actorSystem;\n        this.materializer = materializer;\n    }\n\n    public WebSocket socket() {\n        return WebSocket.Text.accept(request -&gt;\n                return ActorFlow.&lt;String, String&gt;actorRef(MyWebSocketActor::props, 256, OverflowStrategy.dropHead(),\n                    actorSystem, materializer\n                )\n        );\n    }\n}\n</code></pre>\n\n<p>The compiler gives me an error:</p>\n\n<blockquote>\n  <p>Type mismatch: cannot convert from Flow<code>&lt;String,String,capture#1-of ?&gt; to Flow&lt;String,String,?&gt;</code></p>\n</blockquote>\n\n<p>Can someone please explain me how to implement this approach in 2.5? Why I get this mistake?</p>\n"},{"tags":["java","deserialization","spring-repositories","mongorepository","reactive-mongo-java"],"owner":{"account_id":12676300,"reputation":1,"user_id":9211889,"display_name":"Jince Mon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670932101,"creation_date":1670862303,"question_id":74774208,"body_markdown":"Is there any way we can intercept existing function call(like reactiveMongoRepository.find()) to avoid the serialization issue when there is unknown property or filed exist?\r\n\r\nIn mongodb collection I have a feild called Status contains 3 values (CREATED, PROCESSING, DONE). in my persistance class I have only two values in ENUM such as CREATED and DONE, but when I fetch the data I get below error.\r\n\r\n\r\n```\r\norg.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [com.demo.tiller.enums.Status] for value &#39;PROCESSING&#39;; nested exception is java.lang.IllegalArgumentException: No enum constant com.demo.tiller.enums.Status.PROCESSING\r\n```\r\n\r\n\r\nI dont want to add new ENUM value everytime in my code. Instead I want to ignore unknown properties.\r\nSomething like `objectmapper.setserializationinclusion(jsoninclude.include.non_null)`. ","title":"How to change default deserialization behavior of reactiveMongoRepository.find() methods?","body":"<p>Is there any way we can intercept existing function call(like reactiveMongoRepository.find()) to avoid the serialization issue when there is unknown property or filed exist?</p>\n<p>In mongodb collection I have a feild called Status contains 3 values (CREATED, PROCESSING, DONE). in my persistance class I have only two values in ENUM such as CREATED and DONE, but when I fetch the data I get below error.</p>\n<pre><code>org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [com.demo.tiller.enums.Status] for value 'PROCESSING'; nested exception is java.lang.IllegalArgumentException: No enum constant com.demo.tiller.enums.Status.PROCESSING\n</code></pre>\n<p>I dont want to add new ENUM value everytime in my code. Instead I want to ignore unknown properties.\nSomething like <code>objectmapper.setserializationinclusion(jsoninclude.include.non_null)</code>.</p>\n"},{"tags":["java","dll","jvm","access-violation","sumo"],"comments":[{"owner":{"account_id":7549706,"reputation":3575,"user_id":5731587,"display_name":"Michael"},"score":0,"creation_date":1671699356,"post_id":74784329,"comment_id":132155767,"body_markdown":"You could upload the logs and possibly also the scenario itself to some public space and add  a link here. Or you just send your report with attachments to the sumo mailing list, see https://www.eclipse.org/sumo/contact/","body":"You could upload the logs and possibly also the scenario itself to some public space and add  a link here. Or you just send your report with attachments to the sumo mailing list, see <a href=\"https://www.eclipse.org/sumo/contact/\" rel=\"nofollow noreferrer\">eclipse.org/sumo/contact</a>"}],"owner":{"account_id":27239193,"reputation":1,"user_id":20765643,"display_name":"SchwiftySeagull"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670932079,"creation_date":1670931841,"question_id":74784329,"body_markdown":"The JVM running my simulation client (for SUMO, using TraCI as libtraci) keeps crashing.\r\nThis is the command line message:\r\n\r\n\r\n\r\n    A fatal error has been detected by the Java Runtime Environment:\r\n\r\n    EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffd7e94b97c, pid=33996, tid=26012\r\n\r\n    JRE version: OpenJDK Runtime Environment Temurin-17.0.5+8 (17.0.5+8) (build 17.0.5+8)\r\n    Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.5+8 (17.0.5+8, mixed mode, sharing, tiered, compressed class ptrs, g1 gc, windows-amd64)\r\n    Problematic frame:\r\n    V  \\[jvm.dll+0x80b97c\\]\r\n\r\n    No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n\r\n    An error report file with more information is saved as:\r\n    C:\\\\Projekte\\\\Bachelorarbeit\\\\Simulationstudie\\\\Simulacrum\\\\hs_err_pid33996.log\r\n    Compiled method (c1)  921857 2548       3       org.eclipse.sumo.libtraci.TraCINextStopData::getLane (9 bytes)\r\n    total in heap  \\[0x0000016a8841b810,0x0000016a8841bb58\\] = 840\r\n    relocation     \\[0x0000016a8841b968,0x0000016a8841b9a0\\] = 56\r\n    main code      \\[0x0000016a8841b9a0,0x0000016a8841baa0\\] = 256\r\n    stub code      \\[0x0000016a8841baa0,0x0000016a8841bae8\\] = 72\r\n    oops           \\[0x0000016a8841bae8,0x0000016a8841baf0\\] = 8\r\n    metadata       \\[0x0000016a8841baf0,0x0000016a8841baf8\\] = 8\r\n    scopes data    \\[0x0000016a8841baf8,0x0000016a8841bb10\\] = 24\r\n    scopes pcs     \\[0x0000016a8841bb10,0x0000016a8841bb50\\] = 64\r\n    dependencies   \\[0x0000016a8841bb50,0x0000016a8841bb58\\] = 8\r\n\r\n    Process finished with exit code 1\r\n\r\n\r\n\r\nThe same exception access violation keeps occuring at different times during runs of my simulation. The problematic frame has so far always stated &#39;jvm.dll&#39; and the compiled method is also consistently libtraci.TraCINextStopData::getLane.\r\n\r\nI have so far tried a different JVM version and a different libtraci version with the same results and am now a little dumbstruck on what to try next.\r\n\r\n\r\n[EDIT: I&#39;m happy to provide the relevant log file &#39;hs_err_pid33996.log&#39;, but am a bit unsure of how to best include it here. Should I post the content of the entire (very long) file?]","title":"JVM crashes with EXCEPTION_ACCESS_VIOLATION (0xc0000005), points to jvm.dll","body":"<p>The JVM running my simulation client (for SUMO, using TraCI as libtraci) keeps crashing.\nThis is the command line message:</p>\n<pre><code>A fatal error has been detected by the Java Runtime Environment:\n\nEXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffd7e94b97c, pid=33996, tid=26012\n\nJRE version: OpenJDK Runtime Environment Temurin-17.0.5+8 (17.0.5+8) (build 17.0.5+8)\nJava VM: OpenJDK 64-Bit Server VM Temurin-17.0.5+8 (17.0.5+8, mixed mode, sharing, tiered, compressed class ptrs, g1 gc, windows-amd64)\nProblematic frame:\nV  \\[jvm.dll+0x80b97c\\]\n\nNo core dump will be written. Minidumps are not enabled by default on client versions of Windows\n\nAn error report file with more information is saved as:\nC:\\\\Projekte\\\\Bachelorarbeit\\\\Simulationstudie\\\\Simulacrum\\\\hs_err_pid33996.log\nCompiled method (c1)  921857 2548       3       org.eclipse.sumo.libtraci.TraCINextStopData::getLane (9 bytes)\ntotal in heap  \\[0x0000016a8841b810,0x0000016a8841bb58\\] = 840\nrelocation     \\[0x0000016a8841b968,0x0000016a8841b9a0\\] = 56\nmain code      \\[0x0000016a8841b9a0,0x0000016a8841baa0\\] = 256\nstub code      \\[0x0000016a8841baa0,0x0000016a8841bae8\\] = 72\noops           \\[0x0000016a8841bae8,0x0000016a8841baf0\\] = 8\nmetadata       \\[0x0000016a8841baf0,0x0000016a8841baf8\\] = 8\nscopes data    \\[0x0000016a8841baf8,0x0000016a8841bb10\\] = 24\nscopes pcs     \\[0x0000016a8841bb10,0x0000016a8841bb50\\] = 64\ndependencies   \\[0x0000016a8841bb50,0x0000016a8841bb58\\] = 8\n\nProcess finished with exit code 1\n</code></pre>\n<p>The same exception access violation keeps occuring at different times during runs of my simulation. The problematic frame has so far always stated 'jvm.dll' and the compiled method is also consistently libtraci.TraCINextStopData::getLane.</p>\n<p>I have so far tried a different JVM version and a different libtraci version with the same results and am now a little dumbstruck on what to try next.</p>\n<p>[EDIT: I'm happy to provide the relevant log file 'hs_err_pid33996.log', but am a bit unsure of how to best include it here. Should I post the content of the entire (very long) file?]</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":26046561,"reputation":23,"user_id":19750546,"display_name":"Jonas Bikus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670931964,"creation_date":1670931964,"question_id":74784363,"body_markdown":"I am getting transactionId as longs, it is possible somehow to convert this id to entity without using repository.findById() ?\r\n\r\n&#39;&#39;&#39;\r\n\r\n    class Report {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;, unique = true, nullable = false, updatable = false)\r\n\tprivate Long id;\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;transaction_id&quot;)\r\n\tprivate Transaction tr;\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic void setTr(Long transactionId) {\r\n\t// magically id converts id to entity tr\r\n\t}\r\n&#39;&#39;&#39;","title":"Java hibernate foreign key long id convert to entity","body":"<p>I am getting transactionId as longs, it is possible somehow to convert this id to entity without using repository.findById() ?</p>\n<p>'''</p>\n<pre><code>class Report {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;, unique = true, nullable = false, updatable = false)\nprivate Long id;\n\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;transaction_id&quot;)\nprivate Transaction tr;\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic void setTr(Long transactionId) {\n// magically id converts id to entity tr\n}\n</code></pre>\n<p>'''</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1670927673,"post_id":74783258,"comment_id":131981130,"body_markdown":"[mcve] please (mind the __M__, nothing unrelated, no visual fluff, hard-code data is any, though runnable as-is, including the complete stacktrace)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please (mind the <b>M</b>, nothing unrelated, no visual fluff, hard-code data is any, though runnable as-is, including the complete stacktrace)"}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1670932232,"post_id":74784272,"comment_id":131982693,"body_markdown":"&quot;parallel&quot; arrays is one of the use-cases for sticking to the good-ol&#39; iterating by index  ;)","body":"&quot;parallel&quot; arrays is one of the use-cases for sticking to the good-ol&#39; iterating by index  ;)"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670931554,"creation_date":1670931554,"answer_id":74784272,"question_id":74783258,"body_markdown":"Place your JLabels into an array or ArrayList and access them by index.\r\n\r\n    ArrayList&lt;JLabel&gt; labels = new ArrayList&lt;&gt;();\r\n    labels.add(num1);\r\n    labels.add(num2);\r\n    ...\r\n\r\n    int i=0;\r\n    for (JLabel label: labels) {\r\n        label.setText(data[i] + &quot;&quot;);\r\n        if(data[i] == 0) {\r\n           label.setText(&quot;&quot;);\r\n        }\r\n        i++;\r\n    }\r\n\r\nIn case you just want to append something to the label, you can use\r\n\r\n    label.setText(label.getText()+&quot;-appendix&quot;);","title":"How to access value of JLabel dynamically in Java swing?","body":"<p>Place your JLabels into an array or ArrayList and access them by index.</p>\n<pre><code>ArrayList&lt;JLabel&gt; labels = new ArrayList&lt;&gt;();\nlabels.add(num1);\nlabels.add(num2);\n...\n\nint i=0;\nfor (JLabel label: labels) {\n    label.setText(data[i] + &quot;&quot;);\n    if(data[i] == 0) {\n       label.setText(&quot;&quot;);\n    }\n    i++;\n}\n</code></pre>\n<p>In case you just want to append something to the label, you can use</p>\n<pre><code>label.setText(label.getText()+&quot;-appendix&quot;);\n</code></pre>\n"}],"owner":{"account_id":25935763,"reputation":32,"user_id":19656082,"display_name":"Hashim Abbas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74784272,"answer_count":1,"score":0,"last_activity_date":1670931554,"creation_date":1670926734,"question_id":74783258,"body_markdown":"I got almost around 11 Jlabels with the names of num1, num2.... num{11}. \r\nThese Jlabel variable name has Prefix of name. But I want to get value from these text field something like that: \r\n```\r\n(prefix + i).setText(&quot;something&quot;)\r\n```\r\nBut that gives me an error.. Is there any way to setText of these labels dynamically?\r\n\r\nI did it though.. But the code is not DRY anymore :&#39; (\r\n```\r\nif(i == 0) {\r\n            num0.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num0.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 1) {\r\n            num1.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num1.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 2) {\r\n            num2.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num2.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 3) {\r\n            num3.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num3.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 4) {\r\n            num4.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num4.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 5) {\r\n            num5.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num5.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 6) {\r\n            num6.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num6.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 7) {\r\n            num7.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num7.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 8) {\r\n            num8.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num8.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 9) {\r\n            num9.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num9.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 10) {\r\n            num10.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num10.setText(&quot;&quot;);\r\n            }\r\n        } \r\n        if(i == 11) {\r\n            num11.setText(data[i] + &quot;&quot;);\r\n            if(data[i] == 0) {\r\n               num11.setText(&quot;&quot;);\r\n            }\r\n        }\r\n```\r\n","title":"How to access value of JLabel dynamically in Java swing?","body":"<p>I got almost around 11 Jlabels with the names of num1, num2.... num{11}.\nThese Jlabel variable name has Prefix of name. But I want to get value from these text field something like that:</p>\n<pre><code>(prefix + i).setText(&quot;something&quot;)\n</code></pre>\n<p>But that gives me an error.. Is there any way to setText of these labels dynamically?</p>\n<p>I did it though.. But the code is not DRY anymore :' (</p>\n<pre><code>if(i == 0) {\n            num0.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num0.setText(&quot;&quot;);\n            }\n        } \n        if(i == 1) {\n            num1.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num1.setText(&quot;&quot;);\n            }\n        } \n        if(i == 2) {\n            num2.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num2.setText(&quot;&quot;);\n            }\n        } \n        if(i == 3) {\n            num3.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num3.setText(&quot;&quot;);\n            }\n        } \n        if(i == 4) {\n            num4.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num4.setText(&quot;&quot;);\n            }\n        } \n        if(i == 5) {\n            num5.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num5.setText(&quot;&quot;);\n            }\n        } \n        if(i == 6) {\n            num6.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num6.setText(&quot;&quot;);\n            }\n        } \n        if(i == 7) {\n            num7.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num7.setText(&quot;&quot;);\n            }\n        } \n        if(i == 8) {\n            num8.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num8.setText(&quot;&quot;);\n            }\n        } \n        if(i == 9) {\n            num9.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num9.setText(&quot;&quot;);\n            }\n        } \n        if(i == 10) {\n            num10.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num10.setText(&quot;&quot;);\n            }\n        } \n        if(i == 11) {\n            num11.setText(data[i] + &quot;&quot;);\n            if(data[i] == 0) {\n               num11.setText(&quot;&quot;);\n            }\n        }\n</code></pre>\n"},{"tags":["java","websocket","playframework"],"answers":[{"tags":[],"owner":{"account_id":2269721,"reputation":1091,"user_id":1997466,"accept_rate":67,"display_name":"Valerii Rusakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1544559325,"creation_date":1544559325,"answer_id":53731691,"question_id":53486314,"body_markdown":"I&#39;ve managed to implement websocket with help of [Akka actors][1]. At first step define actor that will handle messages\r\n\r\n    public class WebSocketActor extends AbstractActor {\r\n    \r\n        private final ActorRef out;\r\n    \r\n        @Inject\r\n        public WebSocketActor(ActorRef out) {\r\n            this.out = out;\r\n        }\r\n    \r\n        @Override\r\n        public Receive createReceive() {\r\n            return receiveBuilder()\r\n                    .match(String.class, message -&gt;\r\n                            out.tell(&quot;Sending message at &quot; + LocalDateTime.now().toString(), self())\r\n                    )\r\n                    .build();\r\n        }\r\n    \r\n        public static Props props(final ActorRef out) {\r\n            return Props.create(WebSocketActor.class, out);\r\n        }\r\n    }\r\n\r\nThis actor will be created per client. `ActorRef out` will send message to connected client. In this example response is send to client on each string message passed to `WebSocketActor`.\r\n\r\nNow define API endpoint to open access to websocket for clients. Define ActorFlow that will create new instance of actor on new connection\r\n\r\n    public WebSocket ws() {\r\n        return WebSocket.Text.accept(request -&gt; ActorFlow.actorRef((out) -&gt; WebSocketActor.props(out), actorSystem, materializer));\r\n    }\r\n\r\nAccording to [source code][2] ActorFlow creates actors with `flowActor` name. So to send message to websockets somewhere in the code we can find actors by their [path][3]. This will broadcast message to all connected clients\r\n\r\n    actorSystem.actorSelection(&quot;/user/*/flowActor&quot;).tell(&quot;Hello&quot;, ActorRef.noSender());\r\n\r\nUnfortunately I didn&#39;t find easy way to change ActorFlow default name but maybe this answer may help you [play-scala-akka-websockets-change-actor-path][4].\r\n\r\nAlso you can check [play-java-websocket-example][5] project from playframework examples.\r\n\r\n\r\n  [1]: https://www.playframework.com/documentation/2.6.x/JavaWebSockets#Handling-WebSockets-with-actors\r\n  [2]: https://github.com/playframework/playframework/blob/master/framework/src/play-streams/src/main/scala/play/api/libs/streams/ActorFlow.scala#L40\r\n  [3]: https://doc.akka.io/docs/akka/2.5/general/addressing.html#what-is-an-actor-path-\r\n  [4]: https://stackoverflow.com/questions/37281559/play-scala-akka-websockets-change-actor-path/37441095\r\n  [5]: https://github.com/playframework/play-java-websocket-example","title":"How do I create WebSockets with Play framework 2.6?","body":"<p>I've managed to implement websocket with help of <a href=\"https://www.playframework.com/documentation/2.6.x/JavaWebSockets#Handling-WebSockets-with-actors\" rel=\"nofollow noreferrer\">Akka actors</a>. At first step define actor that will handle messages</p>\n\n<pre><code>public class WebSocketActor extends AbstractActor {\n\n    private final ActorRef out;\n\n    @Inject\n    public WebSocketActor(ActorRef out) {\n        this.out = out;\n    }\n\n    @Override\n    public Receive createReceive() {\n        return receiveBuilder()\n                .match(String.class, message -&gt;\n                        out.tell(\"Sending message at \" + LocalDateTime.now().toString(), self())\n                )\n                .build();\n    }\n\n    public static Props props(final ActorRef out) {\n        return Props.create(WebSocketActor.class, out);\n    }\n}\n</code></pre>\n\n<p>This actor will be created per client. <code>ActorRef out</code> will send message to connected client. In this example response is send to client on each string message passed to <code>WebSocketActor</code>.</p>\n\n<p>Now define API endpoint to open access to websocket for clients. Define ActorFlow that will create new instance of actor on new connection</p>\n\n<pre><code>public WebSocket ws() {\n    return WebSocket.Text.accept(request -&gt; ActorFlow.actorRef((out) -&gt; WebSocketActor.props(out), actorSystem, materializer));\n}\n</code></pre>\n\n<p>According to <a href=\"https://github.com/playframework/playframework/blob/master/framework/src/play-streams/src/main/scala/play/api/libs/streams/ActorFlow.scala#L40\" rel=\"nofollow noreferrer\">source code</a> ActorFlow creates actors with <code>flowActor</code> name. So to send message to websockets somewhere in the code we can find actors by their <a href=\"https://doc.akka.io/docs/akka/2.5/general/addressing.html#what-is-an-actor-path-\" rel=\"nofollow noreferrer\">path</a>. This will broadcast message to all connected clients</p>\n\n<pre><code>actorSystem.actorSelection(\"/user/*/flowActor\").tell(\"Hello\", ActorRef.noSender());\n</code></pre>\n\n<p>Unfortunately I didn't find easy way to change ActorFlow default name but maybe this answer may help you <a href=\"https://stackoverflow.com/questions/37281559/play-scala-akka-websockets-change-actor-path/37441095\">play-scala-akka-websockets-change-actor-path</a>.</p>\n\n<p>Also you can check <a href=\"https://github.com/playframework/play-java-websocket-example\" rel=\"nofollow noreferrer\">play-java-websocket-example</a> project from playframework examples.</p>\n"}],"owner":{"account_id":7532627,"reputation":80,"user_id":5720167,"display_name":"gsprs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1085,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53731691,"answer_count":1,"score":1,"last_activity_date":1670931382,"creation_date":1543253767,"question_id":53486314,"body_markdown":"I am trying to do the following with Play Framework 2.6:\r\n\r\n 1. The browser targets the server and a WebSocket is created\r\n 2. Later on (after some other request is performed), the servers sends a message to the browser via the WebSocket previously created\r\n\r\n\r\nPoint 1 can be easily done with a route:\r\n\r\n    public WebSocket socket() {\r\n        return WebSocket.Text.accept(request -&gt; {\r\n            // Log events to the console\r\n            Sink&lt;String, ?&gt; in = Sink.foreach(System.out::println);\r\n\r\n            // Send a single &#39;Hello!&#39; message and then leave the socket open\r\n            Source&lt;String, ?&gt; out = Source.single(&quot;Hello!&quot;).concat(Source.maybe());\r\n\r\n            return Flow.fromSinkAndSource(in, out);\r\n        });\r\n    }\r\n\r\nand the WebSocket can be saved server side.\r\n\r\n2) But then how can I send data via the WebSocket? (triggered server side)\r\n\r\nThis was easy to do with 2.5 but the documentation is not very helpful for Play 2.6.\r\n","title":"How do I create WebSockets with Play framework 2.6?","body":"<p>I am trying to do the following with Play Framework 2.6:</p>\n<ol>\n<li>The browser targets the server and a WebSocket is created</li>\n<li>Later on (after some other request is performed), the servers sends a message to the browser via the WebSocket previously created</li>\n</ol>\n<p>Point 1 can be easily done with a route:</p>\n<pre><code>public WebSocket socket() {\n    return WebSocket.Text.accept(request -&gt; {\n        // Log events to the console\n        Sink&lt;String, ?&gt; in = Sink.foreach(System.out::println);\n\n        // Send a single 'Hello!' message and then leave the socket open\n        Source&lt;String, ?&gt; out = Source.single(&quot;Hello!&quot;).concat(Source.maybe());\n\n        return Flow.fromSinkAndSource(in, out);\n    });\n}\n</code></pre>\n<p>and the WebSocket can be saved server side.</p>\n<ol start=\"2\">\n<li>But then how can I send data via the WebSocket? (triggered server side)</li>\n</ol>\n<p>This was easy to do with 2.5 but the documentation is not very helpful for Play 2.6.</p>\n"},{"tags":["java","class","lambda","jvm","java-bytecode-asm"],"answers":[{"comments":[{"owner":{"account_id":3313246,"reputation":26489,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"score":0,"creation_date":1521831868,"post_id":49452494,"comment_id":85916386,"body_markdown":"I have one question about class loading in Java. Maybe I completely misunderstand the concept of `ClassLoader`, but is there a way to load a class using a specific `ClassLoader` (e.g. `Thread.currentThread.getContextClassLoader()`) using `byte[]`  and `String className`. (Without using hacky `Unsafe.defineClass`). Does this even make sense?","body":"I have one question about class loading in Java. Maybe I completely misunderstand the concept of <code>ClassLoader</code>, but is there a way to load a class using a specific <code>ClassLoader</code> (e.g. <code>Thread.currentThread.getContextClassLoader()</code>) using <code>byte[]</code>  and <code>String className</code>. (Without using hacky <code>Unsafe.defineClass</code>). Does this even make sense?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1522054955,"post_id":49452494,"comment_id":85977847,"body_markdown":"Adding a class via byte array to an arbitrary class loader has not been foreseen. There are the `defineClass` methods on a class loader, which are `protected`, hence, dedicated to the actual implementation class. Before Java&#160;9, you could use them with access override to add a class (doesnt work for the bootstrap loader), now, Java is going to forbid such things. My answer already shows the best you can get with Java&#160;9+, you can combine `privateLookupIn` with `defineClass` on a `MethodHandles.Lookup` object, but again, it may get rejected when crossing the wrong module border","body":"Adding a class via byte array to an arbitrary class loader has not been foreseen. There are the <code>defineClass</code> methods on a class loader, which are <code>protected</code>, hence, dedicated to the actual implementation class. Before Java 9, you could use them with access override to add a class (doesnt work for the bootstrap loader), now, Java is going to forbid such things. My answer already shows the best you can get with Java 9+, you can combine <code>privateLookupIn</code> with <code>defineClass</code> on a <code>MethodHandles.Lookup</code> object, but again, it may get rejected when crossing the wrong module border"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1521816737,"creation_date":1521816737,"answer_id":49452494,"question_id":49449915,"body_markdown":"The crucial part is the `MethodHandles.Lookup` instance which defines the context the lambda will live in. Since youve created it via `MethodHandles.lookup()` in your main method, it encapsulates a context where the classes defined by your new class loader are not visible. You can change the context via [`in(Class)`](https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/MethodHandles.Lookup.html#in-java.lang.Class-) but this will change the access modes and cause the `LambdaMetaFactory` to reject the lookup object. In Java&#160;8, there is no standard way to create a lookup object having private access to another class.\r\n\r\nJust for demonstration purposes, we can use Reflection with access override to produce an appropriate lookup object, to show that it will work then:\r\n\r\n    Class&lt;?&gt; generated = generateClassWithStaticMethod();\r\n    MethodHandles.Lookup lookup = MethodHandles.lookup().in(generated);\r\n    Field modes = MethodHandles.Lookup.class.getDeclaredField(&quot;allowedModes&quot;);\r\n    modes.setAccessible(true);\r\n    modes.set(lookup, -1);\r\n    MethodHandle mh = lookup.findStatic(generated, &quot;apply&quot;, MethodType.methodType(Object.class, String.class));\r\n    Fnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, &quot;apply&quot;, MethodType.methodType(Fnct.class),\r\n            mh.type(), mh, mh.type()).getTarget().invokeExact();\r\n    Object result = f.apply(&quot;test&quot;);\r\n    System.out.println(&quot;result: &quot;+result);\r\n\r\nBut, as we all know, Reflection with access override is discouraged, it will generate a warning in Java&#160;9, and may break in future versions, as well as other JREs perhaps not even having this field.\r\n\r\nOn the other hand, Java&#160;9 introduced a new way to get a lookup object, if the current module dependencies do not forbid it:\r\n\r\n    Class&lt;?&gt; generated = generateClassWithStaticMethod();\r\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n    lookup = MethodHandles.privateLookupIn(generated, lookup);// Java 9\r\n    MethodHandle mh = lookup.findStatic(generated, &quot;apply&quot;, MethodType.methodType(Object.class, String.class));\r\n    Fnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, &quot;apply&quot;, MethodType.methodType(Fnct.class),\r\n            mh.type(), mh, mh.type()).getTarget().invokeExact();\r\n    Object result = f.apply(&quot;test&quot;);\r\n    System.out.println(&quot;result: &quot;+result);\r\n\r\nAnother option introduced by Java&#160;9, is to generate a class into your own package instead of a new class loader. Then, its accessible to your own class lookup context:\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n        byte[] code = generateClassWithStaticMethod();\r\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n        Class&lt;?&gt; generated = lookup.defineClass(code);// Java 9\r\n        System.out.println(&quot;generated &quot;+generated);\r\n        MethodHandle mh = lookup.findStatic(generated, &quot;apply&quot;, MethodType.methodType(Object.class, String.class));\r\n        Fnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, &quot;apply&quot;, MethodType.methodType(Fnct.class),\r\n                mh.type(), mh, mh.type()).getTarget().invokeExact();\r\n        Object result = f.apply(&quot;test&quot;);\r\n        System.out.println(&quot;result: &quot;+result);\r\n    }\r\n\r\n    public static byte[] generateClassWithStaticMethod() {\r\n        ClassWriter classWriter = new ClassWriter(ClassWriter.COMPUTE_MAXS);\r\n        classWriter.visit(V1_8, ACC_PUBLIC + ACC_SUPER, &quot;MyTestClass&quot;, null, &quot;java/lang/Object&quot;, null);\r\n        MethodVisitor mv = classWriter.visitMethod(ACC_PUBLIC + ACC_STATIC, &quot;apply&quot;, &quot;(Ljava/lang/String;)Ljava/lang/Object;&quot;,null, null);\r\n        mv.visitInsn(ICONST_3);\r\n        mv.visitMethodInsn(INVOKESTATIC, &quot;java/lang/Integer&quot;, &quot;valueOf&quot;, &quot;(I)Ljava/lang/Integer;&quot;, false);\r\n        mv.visitInsn(ARETURN);\r\n        mv.visitMaxs(0, 0);\r\n        mv.visitEnd();\r\n        byte[] byteArray = classWriter.toByteArray();\r\n        return byteArray;\r\n    }\r\n\r\nIf you continue to use a custom class loader, you could utilize the fact that you are doing code generation anyway. So you could generate a method calling `MethodHandles.lookup()` in your generated class and returning it. Then, invoke it via Reflection and you have hands on a lookup object representing the context of the generated class. On the other hand, you could also insert the instruction to generate the lambda instance right into the generated class itself:\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n        String staticMethodName = &quot;apply&quot;;\r\n        MethodType staticMethodType = MethodType.methodType(Object.class, String.class);\r\n        Class&lt;?&gt; generated = generateClassWithStaticMethod(&quot;TestClass&quot;, Object.class,\r\n            staticMethodName, staticMethodType, Fnct.class, &quot;apply&quot;, staticMethodType);\r\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n        System.out.println(&quot;generated &quot;+generated);\r\n        MethodHandle mh = lookup.findStatic(generated, &quot;apply&quot;, MethodType.methodType(Fnct.class));\r\n        Fnct f =  (Fnct)mh.invokeExact();\r\n        Object result = f.apply(&quot;test&quot;);\r\n        System.out.println(&quot;result: &quot;+result);\r\n    }\r\n\r\n    public static Class&lt;?&gt; generateClassWithStaticMethod(String clName, Class&lt;?&gt; superClass,\r\n        String methodName, MethodType methodType, Class&lt;?&gt; funcInterface, String funcName, MethodType funcType) {\r\n\r\n        Class&lt;?&gt; boxedInt = Integer.class;\r\n        ClassWriter classWriter = new ClassWriter(0);\r\n        classWriter.visit(V1_8, ACC_PUBLIC|ACC_SUPER, clName, null, getInternalName(superClass), null);\r\n        MethodVisitor mv = classWriter.visitMethod(\r\n             ACC_PUBLIC|ACC_STATIC, methodName, methodType.toMethodDescriptorString(), null, null);\r\n        mv.visitInsn(ICONST_3);\r\n        mv.visitMethodInsn(INVOKESTATIC, getInternalName(boxedInt), &quot;valueOf&quot;,\r\n            MethodType.methodType(boxedInt, int.class).toMethodDescriptorString(), false);\r\n        mv.visitInsn(ARETURN);\r\n        mv.visitMaxs(1, 1);\r\n        mv.visitEnd();\r\n        String noArgReturnsFunc = MethodType.methodType(funcInterface).toMethodDescriptorString();\r\n        mv = classWriter.visitMethod(ACC_PUBLIC|ACC_STATIC, methodName, noArgReturnsFunc, null, null);\r\n        Type funcTypeASM = Type.getMethodType(funcType.toMethodDescriptorString());\r\n        mv.visitInvokeDynamicInsn(funcName, noArgReturnsFunc, new Handle(H_INVOKESTATIC,\r\n            getInternalName(LambdaMetafactory.class), &quot;metafactory&quot;, MethodType.methodType(CallSite.class,\r\n                MethodHandles.Lookup.class, String.class, MethodType.class, MethodType.class,\r\n                MethodHandle.class, MethodType.class).toMethodDescriptorString()), funcTypeASM,\r\n                new Handle(H_INVOKESTATIC, clName, methodName, methodType.toMethodDescriptorString()),\r\n                funcTypeASM\r\n            );\r\n        mv.visitInsn(ARETURN);\r\n        mv.visitMaxs(1, 0);\r\n        mv.visitEnd();\r\n        return new MyClassLoader().defineClass(classWriter.toByteArray());\r\n    }\r\nThis generates a second static method with the same name but no arguments, returning an instance of the functional interface, generated exactly like a method reference to the first static method, using a single `invokedynamic` instruction. Of course, thats merely to demonstrate the logic, as it would be easy to generate a class implementing the interface performing the action within its function method directly, instead of requiring the meta factory to generate a delegating class.\r\n","title":"Creating Lambda function instance","body":"<p>The crucial part is the <code>MethodHandles.Lookup</code> instance which defines the context the lambda will live in. Since youve created it via <code>MethodHandles.lookup()</code> in your main method, it encapsulates a context where the classes defined by your new class loader are not visible. You can change the context via <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/invoke/MethodHandles.Lookup.html#in-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>in(Class)</code></a> but this will change the access modes and cause the <code>LambdaMetaFactory</code> to reject the lookup object. In Java8, there is no standard way to create a lookup object having private access to another class.</p>\n\n<p>Just for demonstration purposes, we can use Reflection with access override to produce an appropriate lookup object, to show that it will work then:</p>\n\n<pre><code>Class&lt;?&gt; generated = generateClassWithStaticMethod();\nMethodHandles.Lookup lookup = MethodHandles.lookup().in(generated);\nField modes = MethodHandles.Lookup.class.getDeclaredField(\"allowedModes\");\nmodes.setAccessible(true);\nmodes.set(lookup, -1);\nMethodHandle mh = lookup.findStatic(generated, \"apply\", MethodType.methodType(Object.class, String.class));\nFnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, \"apply\", MethodType.methodType(Fnct.class),\n        mh.type(), mh, mh.type()).getTarget().invokeExact();\nObject result = f.apply(\"test\");\nSystem.out.println(\"result: \"+result);\n</code></pre>\n\n<p>But, as we all know, Reflection with access override is discouraged, it will generate a warning in Java9, and may break in future versions, as well as other JREs perhaps not even having this field.</p>\n\n<p>On the other hand, Java9 introduced a new way to get a lookup object, if the current module dependencies do not forbid it:</p>\n\n<pre><code>Class&lt;?&gt; generated = generateClassWithStaticMethod();\nMethodHandles.Lookup lookup = MethodHandles.lookup();\nlookup = MethodHandles.privateLookupIn(generated, lookup);// Java 9\nMethodHandle mh = lookup.findStatic(generated, \"apply\", MethodType.methodType(Object.class, String.class));\nFnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, \"apply\", MethodType.methodType(Fnct.class),\n        mh.type(), mh, mh.type()).getTarget().invokeExact();\nObject result = f.apply(\"test\");\nSystem.out.println(\"result: \"+result);\n</code></pre>\n\n<p>Another option introduced by Java9, is to generate a class into your own package instead of a new class loader. Then, its accessible to your own class lookup context:</p>\n\n<pre><code>public static void main(String[] args) throws Throwable {\n    byte[] code = generateClassWithStaticMethod();\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\n    Class&lt;?&gt; generated = lookup.defineClass(code);// Java 9\n    System.out.println(\"generated \"+generated);\n    MethodHandle mh = lookup.findStatic(generated, \"apply\", MethodType.methodType(Object.class, String.class));\n    Fnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, \"apply\", MethodType.methodType(Fnct.class),\n            mh.type(), mh, mh.type()).getTarget().invokeExact();\n    Object result = f.apply(\"test\");\n    System.out.println(\"result: \"+result);\n}\n\npublic static byte[] generateClassWithStaticMethod() {\n    ClassWriter classWriter = new ClassWriter(ClassWriter.COMPUTE_MAXS);\n    classWriter.visit(V1_8, ACC_PUBLIC + ACC_SUPER, \"MyTestClass\", null, \"java/lang/Object\", null);\n    MethodVisitor mv = classWriter.visitMethod(ACC_PUBLIC + ACC_STATIC, \"apply\", \"(Ljava/lang/String;)Ljava/lang/Object;\",null, null);\n    mv.visitInsn(ICONST_3);\n    mv.visitMethodInsn(INVOKESTATIC, \"java/lang/Integer\", \"valueOf\", \"(I)Ljava/lang/Integer;\", false);\n    mv.visitInsn(ARETURN);\n    mv.visitMaxs(0, 0);\n    mv.visitEnd();\n    byte[] byteArray = classWriter.toByteArray();\n    return byteArray;\n}\n</code></pre>\n\n<p>If you continue to use a custom class loader, you could utilize the fact that you are doing code generation anyway. So you could generate a method calling <code>MethodHandles.lookup()</code> in your generated class and returning it. Then, invoke it via Reflection and you have hands on a lookup object representing the context of the generated class. On the other hand, you could also insert the instruction to generate the lambda instance right into the generated class itself:</p>\n\n<pre><code>public static void main(String[] args) throws Throwable {\n    String staticMethodName = \"apply\";\n    MethodType staticMethodType = MethodType.methodType(Object.class, String.class);\n    Class&lt;?&gt; generated = generateClassWithStaticMethod(\"TestClass\", Object.class,\n        staticMethodName, staticMethodType, Fnct.class, \"apply\", staticMethodType);\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\n    System.out.println(\"generated \"+generated);\n    MethodHandle mh = lookup.findStatic(generated, \"apply\", MethodType.methodType(Fnct.class));\n    Fnct f =  (Fnct)mh.invokeExact();\n    Object result = f.apply(\"test\");\n    System.out.println(\"result: \"+result);\n}\n\npublic static Class&lt;?&gt; generateClassWithStaticMethod(String clName, Class&lt;?&gt; superClass,\n    String methodName, MethodType methodType, Class&lt;?&gt; funcInterface, String funcName, MethodType funcType) {\n\n    Class&lt;?&gt; boxedInt = Integer.class;\n    ClassWriter classWriter = new ClassWriter(0);\n    classWriter.visit(V1_8, ACC_PUBLIC|ACC_SUPER, clName, null, getInternalName(superClass), null);\n    MethodVisitor mv = classWriter.visitMethod(\n         ACC_PUBLIC|ACC_STATIC, methodName, methodType.toMethodDescriptorString(), null, null);\n    mv.visitInsn(ICONST_3);\n    mv.visitMethodInsn(INVOKESTATIC, getInternalName(boxedInt), \"valueOf\",\n        MethodType.methodType(boxedInt, int.class).toMethodDescriptorString(), false);\n    mv.visitInsn(ARETURN);\n    mv.visitMaxs(1, 1);\n    mv.visitEnd();\n    String noArgReturnsFunc = MethodType.methodType(funcInterface).toMethodDescriptorString();\n    mv = classWriter.visitMethod(ACC_PUBLIC|ACC_STATIC, methodName, noArgReturnsFunc, null, null);\n    Type funcTypeASM = Type.getMethodType(funcType.toMethodDescriptorString());\n    mv.visitInvokeDynamicInsn(funcName, noArgReturnsFunc, new Handle(H_INVOKESTATIC,\n        getInternalName(LambdaMetafactory.class), \"metafactory\", MethodType.methodType(CallSite.class,\n            MethodHandles.Lookup.class, String.class, MethodType.class, MethodType.class,\n            MethodHandle.class, MethodType.class).toMethodDescriptorString()), funcTypeASM,\n            new Handle(H_INVOKESTATIC, clName, methodName, methodType.toMethodDescriptorString()),\n            funcTypeASM\n        );\n    mv.visitInsn(ARETURN);\n    mv.visitMaxs(1, 0);\n    mv.visitEnd();\n    return new MyClassLoader().defineClass(classWriter.toByteArray());\n}\n</code></pre>\n\n<p>This generates a second static method with the same name but no arguments, returning an instance of the functional interface, generated exactly like a method reference to the first static method, using a single <code>invokedynamic</code> instruction. Of course, thats merely to demonstrate the logic, as it would be easy to generate a class implementing the interface performing the action within its function method directly, instead of requiring the meta factory to generate a delegating class.</p>\n"}],"owner":{"account_id":3313246,"reputation":26489,"user_id":2786156,"accept_rate":76,"display_name":"St.Antario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49452494,"answer_count":1,"score":2,"last_activity_date":1670931287,"creation_date":1521808855,"question_id":49449915,"body_markdown":"I&#39;m trying to understand lambda expressions and got the following issue. I understand that lambda-expression is compiled to `invokedynamic` instruction by `javac` and basic mechanics of `indy`.\r\n\r\nI have the class loader:\r\n\r\n    public class MyClassLoader extends ClassLoader{\r\n        public Class&lt;?&gt; defineClass(byte[] classData){\r\n            Class&lt;?&gt; cls = defineClass(null, classData, 0, classData.length);\r\n            resolveClass(cls); \r\n            return cls; //should be ok, resolved before returning\r\n        }\r\n    }\r\n\r\nNow I want to create a hand-crafted `Class` dynamically with ASM and use it in `LambdaMetafactory` to create an instance of my functional interface. Here it is:\r\n\r\n    @FunctionalInterface\r\n    public interface Fnct {\r\n        Object apply(String str);\r\n    }\r\n\r\nHere is my full application:\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n        System.out.println(\r\n              generateClassWithStaticMethod().getMethod(&quot;apply&quot;, String.class)\r\n                     .invoke(null, &quot;test&quot;)   \r\n        ); //prints 3 as expected\r\n\r\n        MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n        MethodHandle mh = lookup.findStatic(generateClassWithStaticMethod(), &quot;apply&quot;, MethodType.methodType(Object.class, String.class));\r\n        Fnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, &quot;apply&quot;, MethodType.methodType(Fnct.class),\r\n                mh.type(), mh, mh.type()).getTarget().invokeExact();\r\n\r\n        f.apply(&quot;test&quot;); //throws java.lang.NoClassDefFoundError: MyTestClass\r\n    }\r\n\r\n    public static Class&lt;?&gt; generateClassWithStaticMethod(){\r\n        ClassWriter classWriter = new ClassWriter(ClassWriter.COMPUTE_MAXS);\r\n\r\n        classWriter.visit(V1_8, ACC_PUBLIC + ACC_SUPER, &quot;MyTestClass&quot;, null, getInternalName(Object.class), null);\r\n\r\n        MethodVisitor mv = classWriter.visitMethod(ACC_PUBLIC + ACC_STATIC, &quot;apply&quot;, &quot;(Ljava/lang/String;)Ljava/lang/Object;&quot;,null, null);\r\n        mv.visitInsn(ICONST_3);\r\n        mv.visitMethodInsn(INVOKESTATIC, getInternalName(Integer.class), &quot;valueOf&quot;, &quot;(I)Ljava/lang/Integer;&quot;, false);\r\n        mv.visitInsn(ARETURN);\r\n        mv.visitMaxs(0, 0);\r\n        mv.visitEnd();\r\n\r\n        return new MyClassLoader().defineClass(classWriter. toByteArray());\r\n    }\r\n\r\nSo reflective method call succeeds, but creating and invoking instance with `LambdaMetafactory` fails with `NoClassDefFoundError`. I tried to create a class in Java with a static Method, and it worked:\r\n\r\n    public class Fffnct {\r\n        public static Object apply(String str){\r\n            return 3;\r\n        }\r\n    }\r\n\r\nThe only difference in class-files I found is that `javac` generates:\r\n\r\n    LineNumberTable:\r\n        line 5: 0\r\n\r\nI tried to add it by myself as `mv.visitLineNumber(5, new Label());` but unfortunately, it didn&#39;t work.\r\n\r\nWhat&#39;s wrong with my dynamically generated class?","title":"Creating Lambda function instance","body":"<p>I'm trying to understand lambda expressions and got the following issue. I understand that lambda-expression is compiled to <code>invokedynamic</code> instruction by <code>javac</code> and basic mechanics of <code>indy</code>.</p>\n\n<p>I have the class loader:</p>\n\n<pre><code>public class MyClassLoader extends ClassLoader{\n    public Class&lt;?&gt; defineClass(byte[] classData){\n        Class&lt;?&gt; cls = defineClass(null, classData, 0, classData.length);\n        resolveClass(cls); \n        return cls; //should be ok, resolved before returning\n    }\n}\n</code></pre>\n\n<p>Now I want to create a hand-crafted <code>Class</code> dynamically with ASM and use it in <code>LambdaMetafactory</code> to create an instance of my functional interface. Here it is:</p>\n\n<pre><code>@FunctionalInterface\npublic interface Fnct {\n    Object apply(String str);\n}\n</code></pre>\n\n<p>Here is my full application:</p>\n\n<pre><code>public static void main(String[] args) throws Throwable {\n    System.out.println(\n          generateClassWithStaticMethod().getMethod(\"apply\", String.class)\n                 .invoke(null, \"test\")   \n    ); //prints 3 as expected\n\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\n    MethodHandle mh = lookup.findStatic(generateClassWithStaticMethod(), \"apply\", MethodType.methodType(Object.class, String.class));\n    Fnct f =  (Fnct) LambdaMetafactory.metafactory(lookup, \"apply\", MethodType.methodType(Fnct.class),\n            mh.type(), mh, mh.type()).getTarget().invokeExact();\n\n    f.apply(\"test\"); //throws java.lang.NoClassDefFoundError: MyTestClass\n}\n\npublic static Class&lt;?&gt; generateClassWithStaticMethod(){\n    ClassWriter classWriter = new ClassWriter(ClassWriter.COMPUTE_MAXS);\n\n    classWriter.visit(V1_8, ACC_PUBLIC + ACC_SUPER, \"MyTestClass\", null, getInternalName(Object.class), null);\n\n    MethodVisitor mv = classWriter.visitMethod(ACC_PUBLIC + ACC_STATIC, \"apply\", \"(Ljava/lang/String;)Ljava/lang/Object;\",null, null);\n    mv.visitInsn(ICONST_3);\n    mv.visitMethodInsn(INVOKESTATIC, getInternalName(Integer.class), \"valueOf\", \"(I)Ljava/lang/Integer;\", false);\n    mv.visitInsn(ARETURN);\n    mv.visitMaxs(0, 0);\n    mv.visitEnd();\n\n    return new MyClassLoader().defineClass(classWriter. toByteArray());\n}\n</code></pre>\n\n<p>So reflective method call succeeds, but creating and invoking instance with <code>LambdaMetafactory</code> fails with <code>NoClassDefFoundError</code>. I tried to create a class in Java with a static Method, and it worked:</p>\n\n<pre><code>public class Fffnct {\n    public static Object apply(String str){\n        return 3;\n    }\n}\n</code></pre>\n\n<p>The only difference in class-files I found is that <code>javac</code> generates:</p>\n\n<pre><code>LineNumberTable:\n    line 5: 0\n</code></pre>\n\n<p>I tried to add it by myself as <code>mv.visitLineNumber(5, new Label());</code> but unfortunately, it didn't work.</p>\n\n<p>What's wrong with my dynamically generated class?</p>\n"},{"tags":["java","reflection","methodhandle"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1670769604,"post_id":74761392,"comment_id":131945034,"body_markdown":"Is that the whole exception message? It looks like some other type should go before the comma in `MethodHandle(,UserOnlineEvent)`, also the return type is missing.","body":"Is that the whole exception message? It looks like some other type should go before the comma in <code>MethodHandle(,UserOnlineEvent)</code>, also the return type is missing."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1670781584,"post_id":74761392,"comment_id":131947760,"body_markdown":"Are you trying to invoke a static method? If not, then the MethodHandle will have 2 arguments.","body":"Are you trying to invoke a static method? If not, then the MethodHandle will have 2 arguments."},{"owner":{"account_id":22338412,"reputation":1,"user_id":16558565,"display_name":"SNWCreations"},"score":0,"creation_date":1670846055,"post_id":74761392,"comment_id":131960007,"body_markdown":"@JornVernee Oh, I&#39;m sorry, the return type is void and I&#39;ve edited it. I don&#39;t know the meaning of the comma, the whole exception message is right here.","body":"@JornVernee Oh, I&#39;m sorry, the return type is void and I&#39;ve edited it. I don&#39;t know the meaning of the comma, the whole exception message is right here."},{"owner":{"account_id":22338412,"reputation":1,"user_id":16558565,"display_name":"SNWCreations"},"score":0,"creation_date":1670846141,"post_id":74761392,"comment_id":131960039,"body_markdown":"@JohannesKuhn Of course not, I will try it later.","body":"@JohannesKuhn Of course not, I will try it later."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1671040042,"post_id":74761392,"comment_id":132013590,"body_markdown":"Note that `actualEventType.cast()` is obsolete here. You already did the `actualEventType.isInstance()` check and `handle.invoke()` will perform a type cast anyway.","body":"Note that <code>actualEventType.cast()</code> is obsolete here. You already did the <code>actualEventType.isInstance()</code> check and <code>handle.invoke()</code> will perform a type cast anyway."},{"owner":{"account_id":22338412,"reputation":1,"user_id":16558565,"display_name":"SNWCreations"},"score":0,"creation_date":1671079510,"post_id":74761392,"comment_id":132021751,"body_markdown":"@Holger I know, current code in my system has already edited.","body":"@Holger I know, current code in my system has already edited."}],"answers":[{"comments":[{"owner":{"account_id":22338412,"reputation":1,"user_id":16558565,"display_name":"SNWCreations"},"score":0,"creation_date":1670846263,"post_id":74761724,"comment_id":131960082,"body_markdown":"I&#39;m sure the UserOnlineEvent is a subclass of Event. But how can I cast it? The real type is unknown and unreachable in the code.","body":"I&#39;m sure the UserOnlineEvent is a subclass of Event. But how can I cast it? The real type is unknown and unreachable in the code."},{"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"score":0,"creation_date":1670895577,"post_id":74761724,"comment_id":131974530,"body_markdown":"have you debug it? if have , can you provide a Github link. I will try it.","body":"have you debug it? if have , can you provide a Github link. I will try it."},{"owner":{"account_id":22338412,"reputation":1,"user_id":16558565,"display_name":"SNWCreations"},"score":0,"creation_date":1670930993,"post_id":74761724,"comment_id":131982261,"body_markdown":"I have tried the advice from Johannes Kuhn. And it works. This problem has solved. Thanks.","body":"I have tried the advice from Johannes Kuhn. And it works. This problem has solved. Thanks."}],"tags":[],"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670769500,"creation_date":1670769500,"answer_id":74761724,"question_id":74761392,"body_markdown":"According to your message , I find the code in JDK. at `MethodHandle#asTypeUncached`\r\n\r\n```java\r\n/*non-public*/ \r\nMethodHandle asTypeUncached(MethodType newType) {\r\n        if (!type.isConvertibleTo(newType))\r\n            throw new WrongMethodTypeException(&quot;cannot convert &quot;+this+&quot; to &quot;+newType);\r\n        return asTypeCache = MethodHandleImpl.makePairwiseConvert(this, newType, true);\r\n    }\r\n```\r\n\r\nit&#39;s clear, I guess parameter type is wrong. if debug , you will find it.","title":"Why a WrongMethodTypeException from MethodHandle? Is my object type incorrect?","body":"<p>According to your message , I find the code in JDK. at <code>MethodHandle#asTypeUncached</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>/*non-public*/ \nMethodHandle asTypeUncached(MethodType newType) {\n        if (!type.isConvertibleTo(newType))\n            throw new WrongMethodTypeException(&quot;cannot convert &quot;+this+&quot; to &quot;+newType);\n        return asTypeCache = MethodHandleImpl.makePairwiseConvert(this, newType, true);\n    }\n</code></pre>\n<p>it's clear, I guess parameter type is wrong. if debug , you will find it.</p>\n"}],"owner":{"account_id":22338412,"reputation":1,"user_id":16558565,"display_name":"SNWCreations"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670931269,"creation_date":1670766689,"question_id":74761392,"body_markdown":"I have encountered a problem while I am trying to switch my event system from reflection to MethodHandle.\r\n\r\nI am using an event bus (version 3.0.0) by KyoriPowered on Github (https://github.com/KyoriPowered/event).\r\n\r\nMy code is following:\r\n```java\r\npublic class EventExecutorFactory implements EventExecutor.Factory&lt;Event, Listener&gt; {\r\n    @Override\r\n    public @NonNull EventExecutor&lt;Event, Listener&gt; create(@NonNull Object object, @NonNull Method method) throws Exception { // object is Listener\r\n        method.setAccessible(true);\r\n        Class&lt;? extends Event&gt; actualEventType = method.getParameterTypes()[0].asSubclass(Event.class);\r\n        MethodHandle handle = MethodHandles.lookup().unreflect(method);\r\n        return new EventExecutor&lt;Event,Listener&gt;() {\r\n\r\n            @Override\r\n            public void invoke(@NonNull Listener listener, @NonNull Event event) throws Throwable {\r\n                if (!actualEventType.isInstance(event)) return; // many different event types defined in my system, so I should check it first.\r\n                handle.invoke(actualEventType.cast(event)); // WrongMethodTypeException thrown here\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI expected this to work fine, but the result is:\r\n\r\n&gt; java.lang.invoke.WrongMethodTypeException: cannot convert MethodHandle(,UserOnlineEvent)void to (Event)void\r\n\r\nUserOnlineEvent is the event type that used in test.\r\n\r\nThe problem is that I cannot get the real type of the event.\r\n\r\n---\r\n\r\nEdit: This problem has been solved. I should use two arguments.\r\njust add the listener as the first argument to handle.invoke, and it works.","title":"Why a WrongMethodTypeException from MethodHandle? Is my object type incorrect?","body":"<p>I have encountered a problem while I am trying to switch my event system from reflection to MethodHandle.</p>\n<p>I am using an event bus (version 3.0.0) by KyoriPowered on Github (<a href=\"https://github.com/KyoriPowered/event\" rel=\"nofollow noreferrer\">https://github.com/KyoriPowered/event</a>).</p>\n<p>My code is following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EventExecutorFactory implements EventExecutor.Factory&lt;Event, Listener&gt; {\n    @Override\n    public @NonNull EventExecutor&lt;Event, Listener&gt; create(@NonNull Object object, @NonNull Method method) throws Exception { // object is Listener\n        method.setAccessible(true);\n        Class&lt;? extends Event&gt; actualEventType = method.getParameterTypes()[0].asSubclass(Event.class);\n        MethodHandle handle = MethodHandles.lookup().unreflect(method);\n        return new EventExecutor&lt;Event,Listener&gt;() {\n\n            @Override\n            public void invoke(@NonNull Listener listener, @NonNull Event event) throws Throwable {\n                if (!actualEventType.isInstance(event)) return; // many different event types defined in my system, so I should check it first.\n                handle.invoke(actualEventType.cast(event)); // WrongMethodTypeException thrown here\n            }\n        }\n    }\n}\n</code></pre>\n<p>I expected this to work fine, but the result is:</p>\n<blockquote>\n<p>java.lang.invoke.WrongMethodTypeException: cannot convert MethodHandle(,UserOnlineEvent)void to (Event)void</p>\n</blockquote>\n<p>UserOnlineEvent is the event type that used in test.</p>\n<p>The problem is that I cannot get the real type of the event.</p>\n<hr />\n<p>Edit: This problem has been solved. I should use two arguments.\njust add the listener as the first argument to handle.invoke, and it works.</p>\n"},{"tags":["java","email","user-interface"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1621322798,"post_id":67581680,"comment_id":119453257,"body_markdown":"why wouldn&#39;t there be?","body":"why wouldn&#39;t there be?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1621323077,"post_id":67581680,"comment_id":119453398,"body_markdown":"You are definitely blocking the Event Dispatch Thread (EDT), which is responsible for GUI updates. Since this thread is busy with sleeping (`Thread.sleep()`) you will not see GUI updates. See [Concurency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html). The tool to use in these scenarios is e.g. a [`SwingWorker`](https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingWorker.html), which can do some background task and still update the GUI.","body":"You are definitely blocking the Event Dispatch Thread (EDT), which is responsible for GUI updates. Since this thread is busy with sleeping (<code>Thread.sleep()</code>) you will not see GUI updates. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurency in Swing</a>. The tool to use in these scenarios is e.g. a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\"><code>SwingWorker</code></a>, which can do some background task and still update the GUI."},{"owner":{"account_id":21541785,"reputation":1,"user_id":15879410,"display_name":"foo.098"},"score":0,"creation_date":1621323153,"post_id":67581680,"comment_id":119453432,"body_markdown":"@Stultuske im not exactly sure, this is the first time I used javamail API. whenever I tried to send an email by clicking the button, there was always this pause like its loading or lagging then after that, the email was sent successfully","body":"@Stultuske im not exactly sure, this is the first time I used javamail API. whenever I tried to send an email by clicking the button, there was always this pause like its loading or lagging then after that, the email was sent successfully"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1621323284,"post_id":67581680,"comment_id":119453494,"body_markdown":"Or if you want to have some actions performed in a timed fashion, use a [`javax.swing.Timer`](https://docs.oracle.com/javase/8/docs/api/javax/swing/Timer.html) to perform actions with a predefined delay. [Example](https://stackoverflow.com/questions/13691339/adding-a-timer-and-displaying-label-text/13691413#13691413). You can find a working example with the `SwingWorker` [here](https://docs.oracle.com/javase/tutorial/uiswing/examples/components/ProgressBarDemoProject/src/components/ProgressBarDemo.java).","body":"Or if you want to have some actions performed in a timed fashion, use a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/Timer.html\" rel=\"nofollow noreferrer\"><code>javax.swing.Timer</code></a> to perform actions with a predefined delay. <a href=\"https://stackoverflow.com/questions/13691339/adding-a-timer-and-displaying-label-text/13691413#13691413\">Example</a>. You can find a working example with the <code>SwingWorker</code> <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/examples/components/ProgressBarDemoProject/src/components/ProgressBarDemo.java\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1621323710,"post_id":67581680,"comment_id":119453710,"body_markdown":"Btw, your code shows quite some lack of experience with Java, e.g. the use of a static method that also accesses buttons (which would have to be static as well), the naming (methods should start with a lower case character, so `sendMail` instead of `SendMail` \nwhile classes should start with an upper case char, so `LoadingScreen` instead of `loadingScreen`), etc. - If you really are as inexperienced as this would indicate I&#39;d suggest revisiting those basics before diving into GUI development to save yourself a few headaches.","body":"Btw, your code shows quite some lack of experience with Java, e.g. the use of a static method that also accesses buttons (which would have to be static as well), the naming (methods should start with a lower case character, so <code>sendMail</code> instead of <code>SendMail</code>  while classes should start with an upper case char, so <code>LoadingScreen</code> instead of <code>loadingScreen</code>), etc. - If you really are as inexperienced as this would indicate I&#39;d suggest revisiting those basics before diving into GUI development to save yourself a few headaches."}],"owner":{"account_id":21541785,"reputation":1,"user_id":15879410,"display_name":"foo.098"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670931201,"creation_date":1621322647,"question_id":67581680,"body_markdown":"So, I have this frame wherein when the user click the &#39;Notify&#39; button, it will send an email to the user and I want to show a loading screen while the message was sending. \r\n\r\nBut the problem is, my system kind of lagged when sending a message and the **loading screen frame that I made only shows up in the end after the email was sent** even though my plan was to show the loading screen frame ***while*** sending an email, I put the code on the first line so that it will be the first one the the program will read but it still keeps showing on the last.\r\n\r\nI found some questions here about this problem but they&#39;re not using java as me so I don&#39;t know how I can fix mine.\r\n\r\nThese codes are not created in one class/frame. I created 2 JFrames Form and 1 Java Class. I have 1 frame for notifying the users, 1 frame for my supposedly loading screen, and 1 java class with a  code for sending an email with the code for loading screen.\r\n\r\n**Sending Email with Loading Screen Code Included...**\r\n\r\n    public class Emailing {\r\n        public static void SendMail(String recepient) throws Exception {\r\n\r\n        loadingScreen loadingFrame = new loadingScreen();\r\n        loadingFrame.setVisible(true);\r\n        try {\r\n            for (int i=0;i&lt;=100;i++) {\r\n                Thread.sleep(100);\r\n                loadingFrame.percent.setText(i + &quot;%&quot;);\r\n                \r\n                if (i == 20){\r\n                    loadingFrame.msg.setText(&quot;Preparing your message...&quot;);\r\n                }if (i == 50){\r\n                    loadingFrame.msg.setText(&quot;Please wait a moment...&quot;);\r\n                }if (i == 70){\r\n                    loadingFrame.msg.setText(&quot;Almost there...&quot;);\r\n                }if (i == 100){\r\n                    loadingFrame.msg.setText(&quot;Message sent succesfully!&quot;);\r\n                    closeBTN.setVisible(true);\r\n                }\r\n                loadingFrame.loadingBar.setValue(i);\r\n            }\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n            Properties properties = new Properties();\r\n            \r\n            properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            properties.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n            properties.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n            \r\n            String myEmail = &quot;xxxxxxxxxx@gmail.com&quot;; //hide my email information sorry\r\n            String myPassword = &quot;xxxxxxxxxx&quot;;\r\n            \r\n            Session session = Session.getInstance(properties, new Authenticator(){\r\n                @Override\r\n                protected PasswordAuthentication getPasswordAuthentication() {\r\n                    return new PasswordAuthentication(myEmail, myPassword);\r\n                        \r\n                }\r\n            });\r\n            Message message = prepareMessage (session, myEmail, recepient);\r\n            Transport.send(message);\r\n\r\n**Then my Main frame where the user will click the notify button and will then supposedly show the loading screen frame while sending a message...**\r\n\r\n    private void sendNotice () throws Exception{\r\n            Emailing.SendMail(userEmailAccount.getText());\r\n    }\r\n    \r\n    //when the button was clicked\r\n    private void notifyUserButtonActionPerformed((java.awt.event.MouseEvent evt) {\r\n            sendNotice();\r\n    }  \r\n\r\n\r\nIs there a way where I can show a loading screen while sending a message?\r\n\r\n\r\n","title":"JAVA: Trying to show a loading screen frame while sending an email","body":"<p>So, I have this frame wherein when the user click the 'Notify' button, it will send an email to the user and I want to show a loading screen while the message was sending.</p>\n<p>But the problem is, my system kind of lagged when sending a message and the <strong>loading screen frame that I made only shows up in the end after the email was sent</strong> even though my plan was to show the loading screen frame <em><strong>while</strong></em> sending an email, I put the code on the first line so that it will be the first one the the program will read but it still keeps showing on the last.</p>\n<p>I found some questions here about this problem but they're not using java as me so I don't know how I can fix mine.</p>\n<p>These codes are not created in one class/frame. I created 2 JFrames Form and 1 Java Class. I have 1 frame for notifying the users, 1 frame for my supposedly loading screen, and 1 java class with a  code for sending an email with the code for loading screen.</p>\n<p><strong>Sending Email with Loading Screen Code Included...</strong></p>\n<pre><code>public class Emailing {\n    public static void SendMail(String recepient) throws Exception {\n\n    loadingScreen loadingFrame = new loadingScreen();\n    loadingFrame.setVisible(true);\n    try {\n        for (int i=0;i&lt;=100;i++) {\n            Thread.sleep(100);\n            loadingFrame.percent.setText(i + &quot;%&quot;);\n            \n            if (i == 20){\n                loadingFrame.msg.setText(&quot;Preparing your message...&quot;);\n            }if (i == 50){\n                loadingFrame.msg.setText(&quot;Please wait a moment...&quot;);\n            }if (i == 70){\n                loadingFrame.msg.setText(&quot;Almost there...&quot;);\n            }if (i == 100){\n                loadingFrame.msg.setText(&quot;Message sent succesfully!&quot;);\n                closeBTN.setVisible(true);\n            }\n            loadingFrame.loadingBar.setValue(i);\n        }\n    }catch (Exception e){\n        e.printStackTrace();\n    }\n        Properties properties = new Properties();\n        \n        properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n        properties.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n        properties.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n        \n        String myEmail = &quot;xxxxxxxxxx@gmail.com&quot;; //hide my email information sorry\n        String myPassword = &quot;xxxxxxxxxx&quot;;\n        \n        Session session = Session.getInstance(properties, new Authenticator(){\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(myEmail, myPassword);\n                    \n            }\n        });\n        Message message = prepareMessage (session, myEmail, recepient);\n        Transport.send(message);\n</code></pre>\n<p><strong>Then my Main frame where the user will click the notify button and will then supposedly show the loading screen frame while sending a message...</strong></p>\n<pre><code>private void sendNotice () throws Exception{\n        Emailing.SendMail(userEmailAccount.getText());\n}\n\n//when the button was clicked\nprivate void notifyUserButtonActionPerformed((java.awt.event.MouseEvent evt) {\n        sendNotice();\n}  \n</code></pre>\n<p>Is there a way where I can show a loading screen while sending a message?</p>\n"},{"tags":["java","json","jackson","deserialization","jackson-databind"],"answers":[{"comments":[{"owner":{"account_id":20660269,"reputation":118,"user_id":15168387,"display_name":"HereToLearn"},"score":0,"creation_date":1670927717,"post_id":74783175,"comment_id":131981142,"body_markdown":"This works but I would like to avoid having to create multiple &quot;root&quot;-classes for each different JSON objects.","body":"This works but I would like to avoid having to create multiple &quot;root&quot;-classes for each different JSON objects."}],"tags":[],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670926399,"creation_date":1670926399,"answer_id":74783175,"question_id":74782738,"body_markdown":"Could you try with a wrapper class: \r\n\r\n    public class Builder{\r\n        public int id;\r\n        public String name;\r\n    }\r\n    \r\n    public class Root{\r\n        public ArrayList&lt;Builder&gt; builders;\r\n    }\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Root root = mapper.readValue(strJson, Root.class);\r\n","title":"Json Jackson won&#39;t unwrap root element","body":"<p>Could you try with a wrapper class:</p>\n<pre><code>public class Builder{\n    public int id;\n    public String name;\n}\n\npublic class Root{\n    public ArrayList&lt;Builder&gt; builders;\n}\n\nObjectMapper mapper = new ObjectMapper();\nRoot root = mapper.readValue(strJson, Root.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20660269,"reputation":118,"user_id":15168387,"display_name":"HereToLearn"},"score":0,"creation_date":1670933952,"post_id":74783446,"comment_id":131983304,"body_markdown":"Thanks, I&#39;ve tried several things in the morning but this is the cleanest solution by far. +1","body":"Thanks, I&#39;ve tried several things in the morning but this is the cleanest solution by far. +1"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670931171,"creation_date":1670927699,"answer_id":74783446,"question_id":74782738,"body_markdown":"Annotation `@JsonRootName` would work as expect if there would be a single object, not a JSON-array. In this case, we need a different approach.\r\n\r\nYou can prepare an `ObjectReader` by specifying `TypeReference` of type `List&lt;Builder&gt;` using method [`ObjectMapper.readerFor( TypeReference )`][readerFor].\r\n\r\nAnd in order to unwrap this JSON-array, we can make use of the method [`ObjectReader.withRootName()`][withRootName].\r\n\r\nHere&#39;s how it might look like:\r\n\r\n```\r\nString json = &quot;&quot;&quot;\r\n    {\r\n        &quot;builders&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;name&quot;: &quot;Haley LLC&quot;\r\n            },\r\n            ... // other elements\r\n        ]\r\n    }\r\n    &quot;&quot;&quot;;\r\n        \r\nObjectMapper mapper = new ObjectMapper();\r\n    \r\nObjectReader objectReader = mapper\r\n    .readerFor(new TypeReference&lt;List&lt;Builder&gt;&gt;() {})\r\n    .withRootName(&quot;builders&quot;);\r\n        \r\nList&lt;Builder&gt; builders = objectReader.readValue(json);\r\n        \r\nbuilders.forEach(System.out::println);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nBuilder{id=&#39;1&#39;, builder=&#39;Haley LLC&#39;}\r\nBuilder{id=&#39;2&#39;, builder=&#39;Stoltenberg, Mayert and Weimann&#39;}\r\nBuilder{id=&#39;3&#39;, builder=&#39;Ziemann Group&#39;}\r\nBuilder{id=&#39;4&#39;, builder=&#39;Monahan - Torp&#39;}\r\nBuilder{id=&#39;5&#39;, builder=&#39;Fritsch, Harber and Lemke&#39;}\r\n```\r\n\r\n&lt;h3&gt;Note&lt;/h3&gt;\r\n\r\n`@JsonRootName` on top of the `Builder` class is not needed in this case. You can remove it, if you have no another cases with a single `Builder` object being wrapped in the JSON.\r\n\r\nAlso, applying deserialization feature `UNWRAP_ROOT_VALUE` is not required for this solution to work.\r\n\r\n\r\n\r\n\r\n   [readerFor]: https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html#readerFor-com.fasterxml.jackson.core.type.TypeReference-\r\n\r\n   [withRootName]: https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectReader.html#withRootName(java.lang.String)","title":"Json Jackson won&#39;t unwrap root element","body":"<p>Annotation <code>@JsonRootName</code> would work as expect if there would be a single object, not a JSON-array. In this case, we need a different approach.</p>\n<p>You can prepare an <code>ObjectReader</code> by specifying <code>TypeReference</code> of type <code>List&lt;Builder&gt;</code> using method <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html#readerFor-com.fasterxml.jackson.core.type.TypeReference-\" rel=\"nofollow noreferrer\"><code>ObjectMapper.readerFor( TypeReference )</code></a>.</p>\n<p>And in order to unwrap this JSON-array, we can make use of the method <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/ObjectReader.html#withRootName(java.lang.String)\" rel=\"nofollow noreferrer\"><code>ObjectReader.withRootName()</code></a>.</p>\n<p>Here's how it might look like:</p>\n<pre><code>String json = &quot;&quot;&quot;\n    {\n        &quot;builders&quot;: [\n            {\n                &quot;id&quot;: 1,\n                &quot;name&quot;: &quot;Haley LLC&quot;\n            },\n            ... // other elements\n        ]\n    }\n    &quot;&quot;&quot;;\n        \nObjectMapper mapper = new ObjectMapper();\n    \nObjectReader objectReader = mapper\n    .readerFor(new TypeReference&lt;List&lt;Builder&gt;&gt;() {})\n    .withRootName(&quot;builders&quot;);\n        \nList&lt;Builder&gt; builders = objectReader.readValue(json);\n        \nbuilders.forEach(System.out::println);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Builder{id='1', builder='Haley LLC'}\nBuilder{id='2', builder='Stoltenberg, Mayert and Weimann'}\nBuilder{id='3', builder='Ziemann Group'}\nBuilder{id='4', builder='Monahan - Torp'}\nBuilder{id='5', builder='Fritsch, Harber and Lemke'}\n</code></pre>\n<h3>Note</h3>\n<p><code>@JsonRootName</code> on top of the <code>Builder</code> class is not needed in this case. You can remove it, if you have no another cases with a single <code>Builder</code> object being wrapped in the JSON.</p>\n<p>Also, applying deserialization feature <code>UNWRAP_ROOT_VALUE</code> is not required for this solution to work.</p>\n"},{"tags":[],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670928212,"creation_date":1670928212,"answer_id":74783540,"question_id":74782738,"body_markdown":"You could just Deserialize to `Map&lt;String, List&lt;Builder&gt;&gt;` and then `get` by key &quot;builders&quot;.\r\n\r\nEven semantically it&#39;s not a bad representation because it is, after all, a JS Dictionary object with a list of Builders in it under the key &quot;builders&quot;.","title":"Json Jackson won&#39;t unwrap root element","body":"<p>You could just Deserialize to <code>Map&lt;String, List&lt;Builder&gt;&gt;</code> and then <code>get</code> by key &quot;builders&quot;.</p>\n<p>Even semantically it's not a bad representation because it is, after all, a JS Dictionary object with a list of Builders in it under the key &quot;builders&quot;.</p>\n"}],"owner":{"account_id":20660269,"reputation":118,"user_id":15168387,"display_name":"HereToLearn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74783446,"answer_count":3,"score":2,"last_activity_date":1670931171,"creation_date":1670924470,"question_id":74782738,"body_markdown":"I&#39;ve been trying to deserialize an array of JSON objects for a while now, and all the answers on the internet are either deprecated or just don&#39;t work for me.\r\n\r\nThe code below always returns a `MismatchedInputException` with the following message:\r\n\r\n```\r\n...MismatchedInputException: Root name (&#39;builders&#39;)\r\ndoes not match expected (&#39;Builder[]&#39;) for type `[LModel.Attributes.Builder;`\r\n```\r\n\r\nBelow is my code for my DTO:\r\n```lang-java\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonRootName;\r\n\r\n@JsonRootName(&quot;builders&quot;)\r\npublic class Builder {\r\n    private  String id;\r\n    private  String builder;\r\n\r\n    @JsonProperty(&quot;id&quot;)\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    public void setBuilder(String builder) {\r\n        this.builder = builder;\r\n    }\r\n\r\n    public String getBuilder() {\r\n        return builder;\r\n    }\r\n\r\n    public String getId(){\r\n        return id;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd here we have our deserializer:\r\n\r\n```lang-java\r\nvar json = response.body();\r\n\r\n\r\nmapper.enable(DeserializationFeature.UNWRAP_ROOT_VALUE);\r\nvar builders = mapper.readValue(json, Builder[].class);\r\n```\r\n\r\nAnd this is my JSON:\r\n```\r\n{\r\n    &quot;builders&quot;: [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Haley LLC&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;name&quot;: &quot;Stoltenberg, Mayert and Weimann&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 3,\r\n            &quot;name&quot;: &quot;Ziemann Group&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 4,\r\n            &quot;name&quot;: &quot;Monahan - Torp&quot;\r\n        },\r\n        {\r\n            &quot;id&quot;: 5,\r\n            &quot;name&quot;: &quot;Fritsch, Harber and Lemke&quot;\r\n        }\r\n    ]\r\n}\r\n```","title":"Json Jackson won&#39;t unwrap root element","body":"<p>I've been trying to deserialize an array of JSON objects for a while now, and all the answers on the internet are either deprecated or just don't work for me.</p>\n<p>The code below always returns a <code>MismatchedInputException</code> with the following message:</p>\n<pre><code>...MismatchedInputException: Root name ('builders')\ndoes not match expected ('Builder[]') for type `[LModel.Attributes.Builder;`\n</code></pre>\n<p>Below is my code for my DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonRootName;\n\n@JsonRootName(&quot;builders&quot;)\npublic class Builder {\n    private  String id;\n    private  String builder;\n\n    @JsonProperty(&quot;id&quot;)\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    @JsonProperty(&quot;name&quot;)\n    public void setBuilder(String builder) {\n        this.builder = builder;\n    }\n\n    public String getBuilder() {\n        return builder;\n    }\n\n    public String getId(){\n        return id;\n    }\n}\n\n</code></pre>\n<p>And here we have our deserializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var json = response.body();\n\n\nmapper.enable(DeserializationFeature.UNWRAP_ROOT_VALUE);\nvar builders = mapper.readValue(json, Builder[].class);\n</code></pre>\n<p>And this is my JSON:</p>\n<pre><code>{\n    &quot;builders&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;Haley LLC&quot;\n        },\n        {\n            &quot;id&quot;: 2,\n            &quot;name&quot;: &quot;Stoltenberg, Mayert and Weimann&quot;\n        },\n        {\n            &quot;id&quot;: 3,\n            &quot;name&quot;: &quot;Ziemann Group&quot;\n        },\n        {\n            &quot;id&quot;: 4,\n            &quot;name&quot;: &quot;Monahan - Torp&quot;\n        },\n        {\n            &quot;id&quot;: 5,\n            &quot;name&quot;: &quot;Fritsch, Harber and Lemke&quot;\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","arraylist","collections","iterator","time-complexity"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670433254,"post_id":74720471,"comment_id":131877096,"body_markdown":"This is more about bugs in your code that uses other approaches to remove than anything else -- but we can&#39;t really explain those unless you show us that code, so we can identify the exact bugs.","body":"This is more about bugs in your code that uses other approaches to remove than anything else -- but we can&#39;t really explain those unless you show us that code, so we can identify the exact bugs."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1670433517,"post_id":74720471,"comment_id":131877181,"body_markdown":"Really &quot;left&quot; and &quot;right&quot; have no meaning in an array. It shifts towards index 0. I suspect most people (English speakers at least) would picture index 0 being the left-most, in which case it&#39;s shifting *left*. Time complexity is O(n^2). N iterations over the collection, and each remove takes N operations to shift everything. In a LinkedList, it would be O(n), because remove just involves setting a couple of pointers and is constant time","body":"Really &quot;left&quot; and &quot;right&quot; have no meaning in an array. It shifts towards index 0. I suspect most people (English speakers at least) would picture index 0 being the left-most, in which case it&#39;s shifting <i>left</i>. Time complexity is O(n^2). N iterations over the collection, and each remove takes N operations to shift everything. In a LinkedList, it would be O(n), because remove just involves setting a couple of pointers and is constant time"}],"answers":[{"comments":[{"owner":{"account_id":21445682,"reputation":11,"user_id":15799287,"display_name":"VIJAYAN K S"},"score":0,"creation_date":1671111085,"post_id":74784155,"comment_id":132030725,"body_markdown":"Really helpful now understand the working flow","body":"Really helpful now understand the working flow"}],"tags":[],"owner":{"account_id":20511325,"reputation":11,"user_id":15053024,"display_name":"Ergashev Abduvohid"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670931057,"creation_date":1670931057,"answer_id":74784155,"question_id":74720471,"body_markdown":"The `ArrayList` class has a class called `Itr`. The `Itr` implements `remove()` method of `Iterator` interface like this:\r\n\r\n    public void remove() {\r\n            if (lastRet &lt; 0)\r\n                throw new IllegalStateException();\r\n            checkForComodification();\r\n\r\n            try {\r\n                ArrayList.this.remove(lastRet);\r\n                cursor = lastRet;\r\n                lastRet = -1;\r\n                expectedModCount = modCount;\r\n            } catch (IndexOutOfBoundsException ex) {\r\n                throw new ConcurrentModificationException();\r\n            }\r\n        }\r\n\r\nin there:\r\n\r\n - `lastRet` - last returned index of elements&#39; array from `next()`\r\n - `cursor` - current element&#39;s index","title":"Java Iterator Interface remove() method. how it will work and produce expected result","body":"<p>The <code>ArrayList</code> class has a class called <code>Itr</code>. The <code>Itr</code> implements <code>remove()</code> method of <code>Iterator</code> interface like this:</p>\n<pre><code>public void remove() {\n        if (lastRet &lt; 0)\n            throw new IllegalStateException();\n        checkForComodification();\n\n        try {\n            ArrayList.this.remove(lastRet);\n            cursor = lastRet;\n            lastRet = -1;\n            expectedModCount = modCount;\n        } catch (IndexOutOfBoundsException ex) {\n            throw new ConcurrentModificationException();\n        }\n    }\n</code></pre>\n<p>in there:</p>\n<ul>\n<li><code>lastRet</code> - last returned index of elements' array from <code>next()</code></li>\n<li><code>cursor</code> - current element's index</li>\n</ul>\n"}],"owner":{"account_id":21445682,"reputation":11,"user_id":15799287,"display_name":"VIJAYAN K S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670931057,"creation_date":1670433094,"question_id":74720471,"body_markdown":"I wondered how this Iterator remove() work\r\n\r\n```\r\nArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\nlist.add(1); list.add(2); list.add(3); list.add(4);\r\n\r\nIterator&lt;Integer&gt; it = list.iterator();\r\n\r\nwhile(it.hasNext()){\r\n    int x = it.next();\r\n    if(x%2==0) it.remove();\r\n    else System.out.println(x+&quot; &quot;);\r\n}\r\n o/p : 1 3\r\n```\r\n\r\nHow this method work? If remove() any element.it remove from array and shift to right? I try other option remove(index) or remove(object) method present in collection it lead to exception any Java experts pls explain and mention the Time Complexity of this method remove() present in Iterator interface","title":"Java Iterator Interface remove() method. how it will work and produce expected result","body":"<p>I wondered how this Iterator remove() work</p>\n<pre><code>ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\nlist.add(1); list.add(2); list.add(3); list.add(4);\n\nIterator&lt;Integer&gt; it = list.iterator();\n\nwhile(it.hasNext()){\n    int x = it.next();\n    if(x%2==0) it.remove();\n    else System.out.println(x+&quot; &quot;);\n}\n o/p : 1 3\n</code></pre>\n<p>How this method work? If remove() any element.it remove from array and shift to right? I try other option remove(index) or remove(object) method present in collection it lead to exception any Java experts pls explain and mention the Time Complexity of this method remove() present in Iterator interface</p>\n"},{"tags":["java","json","jackson","jackson-databind","objectmapper"],"answers":[{"comments":[{"owner":{"account_id":3101854,"reputation":4107,"user_id":2625772,"accept_rate":54,"display_name":"AnOldSoul"},"score":0,"creation_date":1670888909,"post_id":74778538,"comment_id":131973566,"body_markdown":"Got it, thank you! Is there a way to read that input tree without doing a `.get(&quot;input&quot;);` ? Perhaps by updating the POJO class somehow to go one layer in? Just to avoid using the propertyName in the code.","body":"Got it, thank you! Is there a way to read that input tree without doing a <code>.get(&quot;input&quot;);</code> ? Perhaps by updating the POJO class somehow to go one layer in? Just to avoid using the propertyName in the code."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670889232,"post_id":74778538,"comment_id":131973618,"body_markdown":"@AnOldSoul Well, you can declare another class, wrapping `Input`, let&#39;s say `InputWrapper`. And you&#39;ll be able to deserialize the JSON into object with a single line without messing with `JsonNode`s: `InputWrapper inputWrapper = mapper.readValue(json, InputWrapper.class);`. And  then access `Input` instance through a getter.","body":"@AnOldSoul Well, you can declare another class, wrapping <code>Input</code>, let&#39;s say <code>InputWrapper</code>. And you&#39;ll be able to deserialize the JSON into object with a single line without messing with <code>JsonNode</code>s: <code>InputWrapper inputWrapper = mapper.readValue(json, InputWrapper.class);</code>. And  then access <code>Input</code> instance through a getter."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670889930,"creation_date":1670888821,"answer_id":74778538,"question_id":74778432,"body_markdown":"The `Input` object in your JSON is wrapped by another object. So instead of trying to parse the whole Tree as `Input`, you need to obtain the Value mapped to the property `input` and then parse it.\r\n\r\n***Note** that setters should be in place in your `Input` class.*\r\n\r\n```\r\nString jsonString = &quot;&quot;&quot;\r\n    {\r\n      &quot;operation&quot;: &quot;myoperation&quot;,\r\n      &quot;input&quot;: {\r\n        &quot;environment&quot;: &quot;myEnv&quot;,\r\n        &quot;stage&quot;: &quot;beta&quot;\r\n      }\r\n    }\r\n    &quot;&quot;&quot;;\r\n\r\nObjectMapper mapper = new ObjectMapper();        \r\nJsonNode node = mapper.readTree(jsonString).get(&quot;input&quot;);\r\n    \r\nInput myInput = mapper.treeToValue(node, Input.class);\r\nSystem.out.println(myInput.getEnvironment());\r\nSystem.out.println(myInput.getStage());\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nmyEnv\r\nbeta\r\n```\r\n\r\nAnother option would be to declare another class, wrapping `Input`, let&#39;s say `InputWrapper`. The would allow to deserialize the JSON you directly into the `InputWrapper` instance and then access nested `Input` via getter method.\r\n\r\nHere&#39;s how such wrapper class might look like (Lombok&#39;s annotations used for brevity):\r\n\r\n    @Setter\r\n    @Getter\r\n    public static class InputWrapper {\r\n        private String operation;\r\n        private Input input;\r\n    }\r\n    \r\n    @Setter\r\n    @Getter\r\n    public static class Input {\r\n        private String environment;\r\n        private String stage;\r\n    }\r\n\r\nParsing logic:\r\n\r\n```\r\nString jsonString = &quot;&quot;&quot;\r\n    {\r\n      &quot;operation&quot;: &quot;myoperation&quot;,\r\n      &quot;input&quot;: {\r\n        &quot;environment&quot;: &quot;myEnv&quot;,\r\n        &quot;stage&quot;: &quot;beta&quot;\r\n      }\r\n    }\r\n    &quot;&quot;&quot;;\r\n\r\nObjectMapper mapper = new ObjectMapper();        \r\n\r\nInputWrapper inputWrapper = mapper.readValue(jsonString, InputWrapper.class);\r\nInput myInput = inputWrapper.getInput();\r\n        \r\nSystem.out.println(myInput.getEnvironment());\r\nSystem.out.println(myInput.getStage());\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nmyEnv\r\nbeta\r\n```","title":"Nested Json Object Returns Null When Converting to POJO","body":"<p>The <code>Input</code> object in your JSON is wrapped by another object. So instead of trying to parse the whole Tree as <code>Input</code>, you need to obtain the Value mapped to the property <code>input</code> and then parse it.</p>\n<p><em><strong>Note</strong> that setters should be in place in your <code>Input</code> class.</em></p>\n<pre><code>String jsonString = &quot;&quot;&quot;\n    {\n      &quot;operation&quot;: &quot;myoperation&quot;,\n      &quot;input&quot;: {\n        &quot;environment&quot;: &quot;myEnv&quot;,\n        &quot;stage&quot;: &quot;beta&quot;\n      }\n    }\n    &quot;&quot;&quot;;\n\nObjectMapper mapper = new ObjectMapper();        \nJsonNode node = mapper.readTree(jsonString).get(&quot;input&quot;);\n    \nInput myInput = mapper.treeToValue(node, Input.class);\nSystem.out.println(myInput.getEnvironment());\nSystem.out.println(myInput.getStage());\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>myEnv\nbeta\n</code></pre>\n<p>Another option would be to declare another class, wrapping <code>Input</code>, let's say <code>InputWrapper</code>. The would allow to deserialize the JSON you directly into the <code>InputWrapper</code> instance and then access nested <code>Input</code> via getter method.</p>\n<p>Here's how such wrapper class might look like (Lombok's annotations used for brevity):</p>\n<pre><code>@Setter\n@Getter\npublic static class InputWrapper {\n    private String operation;\n    private Input input;\n}\n\n@Setter\n@Getter\npublic static class Input {\n    private String environment;\n    private String stage;\n}\n</code></pre>\n<p>Parsing logic:</p>\n<pre><code>String jsonString = &quot;&quot;&quot;\n    {\n      &quot;operation&quot;: &quot;myoperation&quot;,\n      &quot;input&quot;: {\n        &quot;environment&quot;: &quot;myEnv&quot;,\n        &quot;stage&quot;: &quot;beta&quot;\n      }\n    }\n    &quot;&quot;&quot;;\n\nObjectMapper mapper = new ObjectMapper();        \n\nInputWrapper inputWrapper = mapper.readValue(jsonString, InputWrapper.class);\nInput myInput = inputWrapper.getInput();\n        \nSystem.out.println(myInput.getEnvironment());\nSystem.out.println(myInput.getStage());\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>myEnv\nbeta\n</code></pre>\n"}],"owner":{"account_id":3101854,"reputation":4107,"user_id":2625772,"accept_rate":54,"display_name":"AnOldSoul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":837,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74778538,"answer_count":1,"score":0,"last_activity_date":1670930602,"creation_date":1670887839,"question_id":74778432,"body_markdown":"I have the below JSON that I&#39;m trying to read into a JSON node and then map to a Java POJO object.\r\n\r\n    {\r\n      &quot;operation&quot;: &quot;myoperation&quot;,\r\n      &quot;input&quot;: {\r\n        &quot;environment&quot;: &quot;myEnv&quot;,\r\n        &quot;stage&quot;: &quot;beta&quot;\r\n      }\r\n    }\r\n\r\nBelow is the POJO class\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Input {\r\n        private String environment;\r\n        private String stage;\r\n    \r\n        public String getEnvironment() {\r\n            return apolloEnvironment;\r\n        }\r\n    \r\n        public String getStage() {\r\n            return stage;\r\n        }\r\n    }\r\n\r\nWhen I read the above tree using the mapping below, I get `null` for the environment and stage properties.\r\n\r\n    Input myInput = OBJECT_MAPPER.treeToValue(inputJson, Input.class);\r\n    System.out.println(myInput.getEnvironment()); //returns null\r\n    System.out.println(myInput.getStage()); //returns null\r\n\r\nI would like to read the environment and stage property values, how can I do this with the above logic?","title":"Nested Json Object Returns Null When Converting to POJO","body":"<p>I have the below JSON that I'm trying to read into a JSON node and then map to a Java POJO object.</p>\n<pre><code>{\n  &quot;operation&quot;: &quot;myoperation&quot;,\n  &quot;input&quot;: {\n    &quot;environment&quot;: &quot;myEnv&quot;,\n    &quot;stage&quot;: &quot;beta&quot;\n  }\n}\n</code></pre>\n<p>Below is the POJO class</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Input {\n    private String environment;\n    private String stage;\n\n    public String getEnvironment() {\n        return apolloEnvironment;\n    }\n\n    public String getStage() {\n        return stage;\n    }\n}\n</code></pre>\n<p>When I read the above tree using the mapping below, I get <code>null</code> for the environment and stage properties.</p>\n<pre><code>Input myInput = OBJECT_MAPPER.treeToValue(inputJson, Input.class);\nSystem.out.println(myInput.getEnvironment()); //returns null\nSystem.out.println(myInput.getStage()); //returns null\n</code></pre>\n<p>I would like to read the environment and stage property values, how can I do this with the above logic?</p>\n"},{"tags":["java","hibernate","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1670936898,"post_id":74783957,"comment_id":131984420,"body_markdown":"What version of Quarkus are you using?","body":"What version of Quarkus are you using?"},{"owner":{"account_id":12690486,"reputation":109,"user_id":12107089,"display_name":"Vitalyk Chernysh"},"score":0,"creation_date":1670937509,"post_id":74783957,"comment_id":131984652,"body_markdown":"@geoand 2.14.2 Final","body":"@geoand 2.14.2 Final"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1670937908,"post_id":74783957,"comment_id":131984778,"body_markdown":"Can you try with `2.15.0.Final` please? If you have the same problem, please open a Github issue?","body":"Can you try with <code>2.15.0.Final</code> please? If you have the same problem, please open a Github issue?"},{"owner":{"account_id":12690486,"reputation":109,"user_id":12107089,"display_name":"Vitalyk Chernysh"},"score":0,"creation_date":1670938968,"post_id":74783957,"comment_id":131985130,"body_markdown":"@geoand https://github.com/vitos-exe/getting-started/issues/1","body":"@geoand <a href=\"https://github.com/vitos-exe/getting-started/issues/1\" rel=\"nofollow noreferrer\">github.com/vitos-exe/getting-started/issues/1</a>"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1671005656,"post_id":74783957,"comment_id":132001261,"body_markdown":"I meant opening a github issue on the Quarkus repo.","body":"I meant opening a github issue on the Quarkus repo."}],"owner":{"account_id":12690486,"reputation":109,"user_id":12107089,"display_name":"Vitalyk Chernysh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670930057,"creation_date":1670930057,"question_id":74783957,"body_markdown":"I&#39;ve created simple entity with two fields that extends *PanacheEntity* and then also an interface that extends *PanacheEntityResource*. Quarkus autogenerates all the endpoints for this entity. **GET**, **DELETE** work correctly but when trying to make **POST** request the application throws following: *org.hibernate.PersistentObjectException: detached entity passed to persist: org.acme.Student*. Since the entire project is as simple as possible I can&#39;t figure out what&#39;s wrong with it.\r\n\r\nStudent.java\r\n```\r\npackage org.acme;\r\n\r\nimport javax.persistence.Entity;\r\n\r\nimport io.quarkus.hibernate.orm.panache.PanacheEntity;\r\n\r\n@Entity\r\npublic class Student extends PanacheEntity{\r\n    public Long id;\r\n    public String name;\r\n}\r\n```\r\nStudentResource.java\r\n```\r\npackage org.acme;\r\n\r\nimport io.quarkus.hibernate.orm.rest.data.panache.PanacheEntityResource;\r\n\r\npublic interface StudentResource extends PanacheEntityResource&lt;Student, Long&gt;{\r\n}\r\n```\r\n\r\nPOST request body\r\n```\r\n{\r\n  &quot;name&quot;: &quot;Vitaliy&quot;,\r\n  &quot;id&quot;: 5\r\n}\r\n```","title":"Quarkus autogenerated JAX-RS resource throws PersistentObjectException","body":"<p>I've created simple entity with two fields that extends <em>PanacheEntity</em> and then also an interface that extends <em>PanacheEntityResource</em>. Quarkus autogenerates all the endpoints for this entity. <strong>GET</strong>, <strong>DELETE</strong> work correctly but when trying to make <strong>POST</strong> request the application throws following: <em>org.hibernate.PersistentObjectException: detached entity passed to persist: org.acme.Student</em>. Since the entire project is as simple as possible I can't figure out what's wrong with it.</p>\n<p>Student.java</p>\n<pre><code>package org.acme;\n\nimport javax.persistence.Entity;\n\nimport io.quarkus.hibernate.orm.panache.PanacheEntity;\n\n@Entity\npublic class Student extends PanacheEntity{\n    public Long id;\n    public String name;\n}\n</code></pre>\n<p>StudentResource.java</p>\n<pre><code>package org.acme;\n\nimport io.quarkus.hibernate.orm.rest.data.panache.PanacheEntityResource;\n\npublic interface StudentResource extends PanacheEntityResource&lt;Student, Long&gt;{\n}\n</code></pre>\n<p>POST request body</p>\n<pre><code>{\n  &quot;name&quot;: &quot;Vitaliy&quot;,\n  &quot;id&quot;: 5\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-sleuth","open-telemetry","distributed-tracing"],"answers":[{"comments":[{"owner":{"account_id":246941,"reputation":1582,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"score":0,"creation_date":1670929977,"post_id":74764118,"comment_id":131981911,"body_markdown":"As I mentioned in the original question, I have already used spring-cloud-sleuth. The thing is I have not found a way to include method parameters in the traces","body":"As I mentioned in the original question, I have already used spring-cloud-sleuth. The thing is I have not found a way to include method parameters in the traces"}],"tags":[],"owner":{"account_id":27221972,"reputation":1,"user_id":20751063,"display_name":"Isaac_Lopez_117"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670789286,"creation_date":1670789286,"answer_id":74764118,"question_id":74518577,"body_markdown":"you can try using sleuth this helps you to set the context of the variables you are using, for this you must include the name of the service:\r\n(%{spring.zipkin.service.name})\r\nI hope this helps\r\n\r\nhttps://cloud.spring.io/spring-cloud-sleuth/reference/html/#log-integration","title":"Can we add parameters to the default traces generated by spring-cloud-sleuth?","body":"<p>you can try using sleuth this helps you to set the context of the variables you are using, for this you must include the name of the service:\n(%{spring.zipkin.service.name})\nI hope this helps</p>\n<p><a href=\"https://cloud.spring.io/spring-cloud-sleuth/reference/html/#log-integration\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-sleuth/reference/html/#log-integration</a></p>\n"}],"owner":{"account_id":246941,"reputation":1582,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670930008,"creation_date":1669032030,"question_id":74518577,"body_markdown":"I have integrated spring-cloud-sleuth with my Spring-boot application. I have also used open-telemetry as the log  exporter. When I call a REST API in my application, I can see a span being generated. However, this span does not have information about parameters to the method/API. Is there a way that it can be added?\r\nI did not find anything related in the documentation","title":"Can we add parameters to the default traces generated by spring-cloud-sleuth?","body":"<p>I have integrated spring-cloud-sleuth with my Spring-boot application. I have also used open-telemetry as the log  exporter. When I call a REST API in my application, I can see a span being generated. However, this span does not have information about parameters to the method/API. Is there a way that it can be added?\nI did not find anything related in the documentation</p>\n"},{"tags":["java","html","css","jsp","servlets"],"owner":{"account_id":26480785,"reputation":1,"user_id":20120064,"display_name":"James Pat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670929829,"answer_count":0,"score":0,"last_activity_date":1670929904,"creation_date":1670927547,"question_id":74783425,"body_markdown":"I have this problem where I am trying to get items from an ArrayList from a servlet and display it to a JSP file but when I try to get the variables from the item in the ArrayList, they don&#39;t show up.\r\n\r\nHere is my JSP file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n\tpageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@ page import=&quot;java.util.*&quot;%&gt;\r\n&lt;%@ page import=&quot;com.product.Product&quot;%&gt;\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;utf-8&quot; /&gt;\r\n&lt;meta name=&quot;viewport&quot;\r\n\tcontent=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot; /&gt;\r\n&lt;script src=&quot;https://kit.fontawesome.com/256fd9e75f.js&quot;\r\n\tcrossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;link rel=&quot;stylesheet&quot;\r\n\thref=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css&quot;\r\n\tintegrity=&quot;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&quot;\r\n\tcrossorigin=&quot;anonymous&quot; /&gt;\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot; /&gt;\r\n&lt;title&gt;Home&lt;/title&gt;\r\n&lt;link rel=&quot;icon&quot; href=&quot;src/ShopLogo.png&quot; type=&quot;image/x-icon&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;nav class=&quot;navbar fixed-top navbar-expand-md navbar-light&quot;\r\n\t\tstyle=&quot;background-color: #f15c55&quot;&gt; &lt;span\r\n\t\tclass=&quot;navbar-brand mb-0 h1&quot;&gt;Store&lt;/span&gt;\r\n\t&lt;button type=&quot;button&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#navbarNav&quot;\r\n\t\tclass=&quot;navbar-toggler&quot; aria-controls=&quot;navbarNav&quot; aria-expanded=&quot;false&quot;\r\n\t\taria-label=&quot;Toggle Nav&quot;&gt;\r\n\t\t&lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\r\n\t&lt;/button&gt;\r\n\t&lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarNav&quot;&gt;\r\n\t\t&lt;ul class=&quot;navbar-nav&quot;&gt;\r\n\t\t\t&lt;li class=&quot;nav-item active&quot;&gt;&lt;a href=&quot;ProductLoaderServlet&quot;\r\n\t\t\t\tclass=&quot;nav-link&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;li class=&quot;nav-item active&quot;&gt;&lt;a href=&quot;product.html&quot;\r\n\t\t\t\tclass=&quot;nav-link&quot;&gt;Top Products&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;li class=&quot;nav-item active&quot;&gt;&lt;a href=&quot;cart.html&quot; class=&quot;nav-link&quot;&gt;&lt;i\r\n\t\t\t\t\tclass=&quot;fa-regular fa-cart-shopping&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n\t\t&lt;/ul&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;/nav&gt;\r\n\t&lt;div class=&quot;image-overlay&quot;&gt;\r\n\t\t&lt;img src=&quot;scr/main/resources/Shop.jpg&quot; alt=&quot;&quot; /&gt;\r\n\t\t&lt;h1 class=&quot;centered&quot;&gt;Shop&lt;/h1&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;%\r\n\tArrayList&lt;Product&gt; products = (ArrayList) request.getAttribute(&quot;products&quot;);\r\n\tfor (Product product : products) {\r\n\t%&gt;\r\n\t&lt;div class=&quot;cards&quot;&gt;\r\n\t\t&lt;div class=&quot;card&quot; style=&quot;width: 18rem&quot;&gt;\r\n\t\t\t&lt;img class=&quot;card-img-top&quot; src=&quot;&lt;%product.getImgUrl();%&gt;&quot; alt=&quot;Image&quot; /&gt;\r\n\t\t\t&lt;div class=&quot;card-body&quot;&gt;\r\n\t\t\t\t&lt;h5 class=&quot;card-title&quot;&gt;\r\n\t\t\t\t\t&lt;%\r\n\t\t\t\t\tproduct.getName();\r\n\t\t\t\t\t%&gt;\r\n\t\t\t\t&lt;/h5&gt;\r\n\t\t\t\t&lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot;&gt;Details&lt;/a&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;%\r\n\t}\r\n\t%&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nand this is what I see [My View][1]\r\n\r\nI assume that I am able to get the items because I can see 5 cards \r\n\r\nBut I want to know why my variables such as (name, or the image) aren&#39;t showing up\r\n\r\nMany Thanks for your help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OdGuI.jpg","title":"Items retrived form servlet are empty","body":"<p>I have this problem where I am trying to get items from an ArrayList from a servlet and display it to a JSP file but when I try to get the variables from the item in the ArrayList, they don't show up.</p>\n<p>Here is my JSP file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ page import=&quot;java.util.*&quot;%&gt;\n&lt;%@ page import=&quot;com.product.Product&quot;%&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;utf-8&quot; /&gt;\n&lt;meta name=&quot;viewport&quot;\n    content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot; /&gt;\n&lt;script src=&quot;https://kit.fontawesome.com/256fd9e75f.js&quot;\n    crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;link rel=&quot;stylesheet&quot;\n    href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css&quot;\n    integrity=&quot;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&quot;\n    crossorigin=&quot;anonymous&quot; /&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css&quot; /&gt;\n&lt;title&gt;Home&lt;/title&gt;\n&lt;link rel=&quot;icon&quot; href=&quot;src/ShopLogo.png&quot; type=&quot;image/x-icon&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;nav class=&quot;navbar fixed-top navbar-expand-md navbar-light&quot;\n        style=&quot;background-color: #f15c55&quot;&gt; &lt;span\n        class=&quot;navbar-brand mb-0 h1&quot;&gt;Store&lt;/span&gt;\n    &lt;button type=&quot;button&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#navbarNav&quot;\n        class=&quot;navbar-toggler&quot; aria-controls=&quot;navbarNav&quot; aria-expanded=&quot;false&quot;\n        aria-label=&quot;Toggle Nav&quot;&gt;\n        &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\n    &lt;/button&gt;\n    &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarNav&quot;&gt;\n        &lt;ul class=&quot;navbar-nav&quot;&gt;\n            &lt;li class=&quot;nav-item active&quot;&gt;&lt;a href=&quot;ProductLoaderServlet&quot;\n                class=&quot;nav-link&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;nav-item active&quot;&gt;&lt;a href=&quot;product.html&quot;\n                class=&quot;nav-link&quot;&gt;Top Products&lt;/a&gt;&lt;/li&gt;\n            &lt;li class=&quot;nav-item active&quot;&gt;&lt;a href=&quot;cart.html&quot; class=&quot;nav-link&quot;&gt;&lt;i\n                    class=&quot;fa-regular fa-cart-shopping&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n    &lt;/nav&gt;\n    &lt;div class=&quot;image-overlay&quot;&gt;\n        &lt;img src=&quot;scr/main/resources/Shop.jpg&quot; alt=&quot;&quot; /&gt;\n        &lt;h1 class=&quot;centered&quot;&gt;Shop&lt;/h1&gt;\n    &lt;/div&gt;\n    &lt;%\n    ArrayList&lt;Product&gt; products = (ArrayList) request.getAttribute(&quot;products&quot;);\n    for (Product product : products) {\n    %&gt;\n    &lt;div class=&quot;cards&quot;&gt;\n        &lt;div class=&quot;card&quot; style=&quot;width: 18rem&quot;&gt;\n            &lt;img class=&quot;card-img-top&quot; src=&quot;&lt;%product.getImgUrl();%&gt;&quot; alt=&quot;Image&quot; /&gt;\n            &lt;div class=&quot;card-body&quot;&gt;\n                &lt;h5 class=&quot;card-title&quot;&gt;\n                    &lt;%\n                    product.getName();\n                    %&gt;\n                &lt;/h5&gt;\n                &lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot;&gt;Details&lt;/a&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;%\n    }\n    %&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>and this is what I see <a href=\"https://i.stack.imgur.com/OdGuI.jpg\" rel=\"nofollow noreferrer\">My View</a></p>\n<p>I assume that I am able to get the items because I can see 5 cards</p>\n<p>But I want to know why my variables such as (name, or the image) aren't showing up</p>\n<p>Many Thanks for your help</p>\n"},{"tags":["java","mongodb","spring-boot","mongodb-atlas"],"comments":[{"owner":{"account_id":12086498,"reputation":58,"user_id":11673880,"display_name":"Ankit Dabhi"},"score":0,"creation_date":1669273599,"post_id":74553936,"comment_id":131608103,"body_markdown":"This may help your https://stackoverflow.com/questions/57367739/caused-by-com-mongodb-mongosocketreadexception-exception-receiving-message","body":"This may help your <a href=\"https://stackoverflow.com/questions/57367739/caused-by-com-mongodb-mongosocketreadexception-exception-receiving-message\" title=\"caused by com mongodb mongosocketreadexception exception receiving message\">stackoverflow.com/questions/57367739/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17601943,"reputation":91,"user_id":12771724,"display_name":"Enes Birisik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669277990,"creation_date":1669277990,"answer_id":74557613,"question_id":74553936,"body_markdown":"I would recommend you to - -&gt; set socketKeepAlive to true (which is by default true in the latest versions of the native driver) -&gt; set maxConnectionIdleTime &lt; net.ipv4.tcp_keepalive_time in this way your JVM would reap the connection and not the other way around.","title":"I cannot connect to mongo db atlas using spring boot","body":"<p>I would recommend you to - -&gt; set socketKeepAlive to true (which is by default true in the latest versions of the native driver) -&gt; set maxConnectionIdleTime &lt; net.ipv4.tcp_keepalive_time in this way your JVM would reap the connection and not the other way around.</p>\n"},{"tags":[],"owner":{"account_id":5451198,"reputation":29,"user_id":4335913,"display_name":"Layani NB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670929872,"creation_date":1670929872,"answer_id":74783908,"question_id":74553936,"body_markdown":"I had the same issue when I was connecting to the Atlas cluster through my local machine. I had to whitelist my IP address through the Atlas dashboard again. \r\n\r\n[Whitelist your current IP address in your mongo DB cluster][1]\r\n\r\nCheck &quot;Whitelist your current IP address in your mongo DB cluster&quot; in this article for more information. https://baraksaidoff.medium.com/fixing-mongoserverselectionerror-while-connecting-mongodb-with-node-js-213aaf0bf596 \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7S4W6.png","title":"I cannot connect to mongo db atlas using spring boot","body":"<p>I had the same issue when I was connecting to the Atlas cluster through my local machine. I had to whitelist my IP address through the Atlas dashboard again.</p>\n<p><a href=\"https://i.stack.imgur.com/7S4W6.png\" rel=\"nofollow noreferrer\">Whitelist your current IP address in your mongo DB cluster</a></p>\n<p>Check &quot;Whitelist your current IP address in your mongo DB cluster&quot; in this article for more information. <a href=\"https://baraksaidoff.medium.com/fixing-mongoserverselectionerror-while-connecting-mongodb-with-node-js-213aaf0bf596\" rel=\"nofollow noreferrer\">https://baraksaidoff.medium.com/fixing-mongoserverselectionerror-while-connecting-mongodb-with-node-js-213aaf0bf596</a></p>\n"}],"owner":{"account_id":20602362,"reputation":11,"user_id":15123399,"display_name":"oussama dariaoui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":537,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1670929872,"creation_date":1669245284,"question_id":74553936,"body_markdown":"I have a spring microservice application linked with mongodb atlas database, yesterday my project works fine but today I&#39;m getting this error \r\n\r\n```java\r\n2022-11-24 00:29:33.267  INFO 5588 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-bl3jxj4-shard-00-02.wt2swod.mongodb.net:27017\r\n\r\ncom.mongodb.MongoSocketReadException: Exception receiving message\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:707) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:579) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:415) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:342) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:96) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:44) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\nCaused by: java.net.SocketException: Socket is closed\r\n\tat java.base/java.net.Socket.setSoTimeout(Socket.java:1154) ~[na:na]\r\n\tat java.base/sun.security.ssl.BaseSSLSocketImpl.setSoTimeout(BaseSSLSocketImpl.java:637) ~[na:na]\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.setSoTimeout(SSLSocketImpl.java:75) ~[na:na]\r\n\tat com.mongodb.internal.connection.SocketStream.read(SocketStream.java:133) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:718) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:576) ~[mongodb-driver-core-4.4.2.jar:na]\r\n\t... 10 common frames omitted\r\n\r\n```\r\n\r\n\r\nhere is my application.properties file \r\n\r\n```java\r\nspring.data.mongodb.uri=mongodb+srv://denver:*****@product-service.wt2swod.mongodb.net/?retryWrites=true&amp;w=majority\r\nspring.data.mongodb.database=product-service\r\n\r\neureka.client.fetch-registry=true\r\neureka.client.service-url.defaultZone=http://localhost:8761/eureka\r\n\r\nspring.application.name=product-service\r\nserver.port=0\r\n```\r\n\r\n\r\n \r\n\r\n\r\nI tried to add those properties but never worked \r\n\r\n```\r\n@SpringBootApplication(exclude = {\r\n  MongoAutoConfiguration.class, \r\n  MongoDataAutoConfiguration.class\r\n})\r\n```\r\n\r\n","title":"I cannot connect to mongo db atlas using spring boot","body":"<p>I have a spring microservice application linked with mongodb atlas database, yesterday my project works fine but today I'm getting this error</p>\n<pre class=\"lang-java prettyprint-override\"><code>2022-11-24 00:29:33.267  INFO 5588 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server ac-bl3jxj4-shard-00-02.wt2swod.mongodb.net:27017\n\ncom.mongodb.MongoSocketReadException: Exception receiving message\n    at com.mongodb.internal.connection.InternalStreamConnection.translateReadException(InternalStreamConnection.java:707) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:579) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:415) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:342) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:96) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:44) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.2.jar:na]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: java.net.SocketException: Socket is closed\n    at java.base/java.net.Socket.setSoTimeout(Socket.java:1154) ~[na:na]\n    at java.base/sun.security.ssl.BaseSSLSocketImpl.setSoTimeout(BaseSSLSocketImpl.java:637) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.setSoTimeout(SSLSocketImpl.java:75) ~[na:na]\n    at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:133) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:718) ~[mongodb-driver-core-4.4.2.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:576) ~[mongodb-driver-core-4.4.2.jar:na]\n    ... 10 common frames omitted\n\n</code></pre>\n<p>here is my application.properties file</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.data.mongodb.uri=mongodb+srv://denver:*****@product-service.wt2swod.mongodb.net/?retryWrites=true&amp;w=majority\nspring.data.mongodb.database=product-service\n\neureka.client.fetch-registry=true\neureka.client.service-url.defaultZone=http://localhost:8761/eureka\n\nspring.application.name=product-service\nserver.port=0\n</code></pre>\n<p>I tried to add those properties but never worked</p>\n<pre><code>@SpringBootApplication(exclude = {\n  MongoAutoConfiguration.class, \n  MongoDataAutoConfiguration.class\n})\n</code></pre>\n"},{"tags":["java","spring","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":7929708,"reputation":306,"user_id":5988021,"accept_rate":25,"display_name":"NeoChiri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1555067260,"creation_date":1555067260,"answer_id":55650276,"question_id":55646096,"body_markdown":"I finally fixed it by changing my `doAnswer().when()` code to this:\r\n\r\n     doAnswer((Answer&lt;Void&gt;) invocation -&gt; {\r\n\t\t\tObject[] arguments = invocation.getArguments();\r\n\t\t\tif(arguments != null &amp;&amp; arguments.length &gt; 1 &amp;&amp; arguments[0] != null &amp;&amp; arguments[1] != null){\r\n\t\t\t\tHolder&lt;String&gt; eCodCreated = (Holder&lt;String&gt;) arguments[1];\r\n\t\t\t\tHolder&lt;Integer&gt; eReturn = (Holder&lt;Integer&gt;) arguments[3];\r\n\t\t\t\tHolder&lt;String&gt; eSocCreated = (Holder&lt;String&gt;) arguments[4];\r\n\t\t\t\teReturn.value = 0;\r\n\t\t\t\teCodCreated.value = &quot;1239000&quot;;\r\n\t\t\t\teSocCreated.value = &quot;&quot;;\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t).when(altaProxy).zwebserAltaDeudores(Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any());\r\n\r\nI had to add another line of code after setting the &#180;Holder&#180; value I wanted so that it could set properly. ","title":"I cannot set value in a Holder&lt;Integer&gt; with Mockito","body":"<p>I finally fixed it by changing my <code>doAnswer().when()</code> code to this:</p>\n\n<pre><code> doAnswer((Answer&lt;Void&gt;) invocation -&gt; {\n        Object[] arguments = invocation.getArguments();\n        if(arguments != null &amp;&amp; arguments.length &gt; 1 &amp;&amp; arguments[0] != null &amp;&amp; arguments[1] != null){\n            Holder&lt;String&gt; eCodCreated = (Holder&lt;String&gt;) arguments[1];\n            Holder&lt;Integer&gt; eReturn = (Holder&lt;Integer&gt;) arguments[3];\n            Holder&lt;String&gt; eSocCreated = (Holder&lt;String&gt;) arguments[4];\n            eReturn.value = 0;\n            eCodCreated.value = \"1239000\";\n            eSocCreated.value = \"\";\n            }\n            return null;\n        }\n    ).when(altaProxy).zwebserAltaDeudores(Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any(), Mockito.any());\n</code></pre>\n\n<p>I had to add another line of code after setting the Holder value I wanted so that it could set properly. </p>\n"}],"owner":{"account_id":7929708,"reputation":306,"user_id":5988021,"accept_rate":25,"display_name":"NeoChiri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55650276,"answer_count":1,"score":0,"last_activity_date":1670929594,"creation_date":1555052212,"question_id":55646096,"body_markdown":"I am making unit tests for a service in my application. Inside this service there is a call to an external webservice (`SOAP`). The call to this webservice set values to different `Holder&lt;String&gt;` and `Holder&lt;Integer&gt;` I have send as parameter to this WS call.\r\n\r\nThis is my Service method:\r\n\r\n**CustomerServiceImpl**\r\n\r\n    @Override\r\n    public Customer createCustomer(Customer dto) {\r\n        \r\n        UserEkos userEkos = SecurityEkosUtils.getUserEkos();\r\n       \r\n        if (dto.getOrigen() != null &amp;&amp; dto.getOrigen().equalsIgnoreCase(DEL)) {\r\n            \r\n            Optional&lt;CustomerModel&gt; result = customerRepository.findById(dto.getId());\r\n            if (!result.isPresent()) {\r\n                log.error(&quot;[createCustomer] The central does exist in SAP &quot; + dto.getId());\r\n                throw new BusinessServiceException(Constants.FUNCTIONAL_ERROR, &quot; The central does exist in SAP &quot; + dto.getId());\r\n            }\r\n        } else if(dto.getOrigen() != null &amp;&amp; !dto.getOrigen().equalsIgnoreCase(DEL)) {\r\n            log.error(&quot;[createCustomer] Do not introduce an ID&quot;);\r\n            throw new BusinessServiceException(Constants.FUNCTIONAL_ERROR, &quot;Do not introduce an ID&quot;);\r\n        }\r\n\r\n        Zwcta293 zwcta293 = altaDeudoresMapper.dtoToZwcta293(dto);\r\n\r\n        Holder&lt;String&gt; eCodCreated = new Holder&lt;&gt;();\r\n        Holder&lt;String&gt; eMessage = new Holder&lt;&gt;();\r\n        Holder&lt;Integer&gt; eReturn = new Holder&lt;&gt;();\r\n        Holder&lt;String&gt; eSocCreated = new Holder&lt;&gt;();\r\n        Holder&lt;String&gt; eResidenceType = new Holder&lt;&gt;();\r\n\r\n        altaProxy.zwebserAltaDeudores(zwcta293, eCodCreated, eMessage, eReturn, eSocCreated, eResidenceType);\r\n\r\n        if (eReturn.value == 0) {\r\n            CustomerModel customerModel = CustomerMapper.dtoToDomain(dto);\r\n\r\n            customerModel.setId(eCodCreated.value);\r\n\r\n            if (dto.getSocieties() != null &amp;&amp; !dto.getSocieties().isEmpty()) {\r\n                CustomerSocietyModel customerSociety = new CustomerSocietyModel();\r\n                customerSociety.setCustomer(customerModel.getId());\r\n                customerSociety.setSociety(userEkos.getSociety());\r\n                customerModel.addCustomerSociety(customerSociety);\r\n            }\r\n\r\n            customerRepository.save(customerModel);\r\n        } else {\r\n            log.error(&quot;[createCustomer] Error SAP &quot; + eMessage.value);\r\n            throw new BusinessServiceException(Constants.FUNCTIONAL_ERROR, &quot;Error SAP &quot; + eMessage.value);\r\n        }\r\n\r\n        Customer customer = new Customer();\r\n        customer.setId(eCodCreated.value);\r\n        return customer;\r\n    }\r\n\r\nThis is my test method:\r\n\r\n**CustomerServiceTest**\r\n\r\n    @Test\r\n\tvoid createCustomerOKTest() throws Exception{\r\n\r\n\t\tHolder&lt;String&gt; eCodCreated = new Holder&lt;&gt;();\r\n        Holder&lt;String&gt; eMessage = new Holder&lt;&gt;();\r\n        Holder&lt;Integer&gt; eReturn = new Holder&lt;&gt;();\r\n        Holder&lt;String&gt; eSocCreated = new Holder&lt;&gt;();\r\n        Holder&lt;String&gt; eResidenceType = new Holder&lt;&gt;();\r\n\r\n\r\n\t\tCustomer customer = (Customer) UtilsTest.getFileJsonToFile(CUSTOMER_JSON, Customer.class);\r\n\t\tcustomer.setId(&quot;1239000&quot;);\r\n\t\tZwcta293 sapCustomer = (Zwcta293) UtilsTest.getFileJsonToFile(CUSTOMER_SAP_JSON, Zwcta293.class);\r\n\t\tCustomerModel customerModel = (CustomerModel) UtilsTest.getFileJsonToFile(CUSTOMER_MODEL, CustomerModel.class);\r\n\r\n\t\twhen(altaDeudoresMapper.dtoToZwcta293(any(Customer.class))).thenReturn(sapCustomer);\r\n\r\n\t\tdoAnswer(invoication -&gt; {\r\n\t\t\t\t\tHolder&lt;String&gt; eCodCreated1 = (Holder&lt;String&gt;) invoication.getArgument(1);\r\n\t\t\t\t\tHolder&lt;String&gt; eMessage1 = (Holder&lt;String&gt;) invoication.getArgument(2);\r\n\t\t\t\t\tHolder&lt;Integer&gt; eReturn1 = (Holder&lt;Integer&gt;) invoication.getArgument(3);\r\n\t\t\t\t\tHolder&lt;String&gt; eSocCreated1 = (Holder&lt;String&gt;) invoication.getArgument(4);\r\n\t\t\t\t\tHolder&lt;String&gt; eResidenceType1 = (Holder&lt;String&gt;) invoication.getArgument(5);\r\n\r\n\t\t\t\t\teReturn1.value = 1239000;\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}).when(altaProxy).zwebserAltaDeudores(sapCustomer, eCodCreated, eMessage, eReturn, eSocCreated, eResidenceType);\r\n\t\twhen(customerRepository.save(Mockito.any(CustomerModel.class))).thenReturn(customerModel);\r\n\r\n\t\tCustomer customerFinal = customerService.createCustomer(customer);\r\n\r\n\t\tassertSame(Integer.toString(1239000), customerFinal.getId());\r\n\t}\r\n\r\n\r\nWhen it reaches the line in the service `if(eRetorno.value == 0)` I get a `NullPointerException`\r\n\r\n    java.lang.NullPointerException\r\n\tat com.vocento.ekos.customer.service.CustomerServiceImpl.createCustomer(CustomerServiceImpl.java:83)\r\n\tat com.vocento.ekos.customer.service.CustomerServiceTest.createCustomerOKTest(CustomerServiceTest.java:131)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:532)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:171)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:167)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:114)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:59)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:108)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n\r\nI know why it returns `NullPointerException` but my problem is that I do not really know how to make it work. My service uses the Holder values inside the method to proceed further or not but I do not know any way to get this Holder value in my test or any way to mock them.\r\n\r\nI tried to set a value to the Holders I am passing as a parameter in the Unit Test but it did not work either. Also, I tried to mock the Holder to send them as parameters rather than passing a real object.","title":"I cannot set value in a Holder&lt;Integer&gt; with Mockito","body":"<p>I am making unit tests for a service in my application. Inside this service there is a call to an external webservice (<code>SOAP</code>). The call to this webservice set values to different <code>Holder&lt;String&gt;</code> and <code>Holder&lt;Integer&gt;</code> I have send as parameter to this WS call.</p>\n\n<p>This is my Service method:</p>\n\n<p><strong>CustomerServiceImpl</strong></p>\n\n<pre><code>@Override\npublic Customer createCustomer(Customer dto) {\n\n    UserEkos userEkos = SecurityEkosUtils.getUserEkos();\n\n    if (dto.getOrigen() != null &amp;&amp; dto.getOrigen().equalsIgnoreCase(DEL)) {\n\n        Optional&lt;CustomerModel&gt; result = customerRepository.findById(dto.getId());\n        if (!result.isPresent()) {\n            log.error(\"[createCustomer] The central does exist in SAP \" + dto.getId());\n            throw new BusinessServiceException(Constants.FUNCTIONAL_ERROR, \" The central does exist in SAP \" + dto.getId());\n        }\n    } else if(dto.getOrigen() != null &amp;&amp; !dto.getOrigen().equalsIgnoreCase(DEL)) {\n        log.error(\"[createCustomer] Do not introduce an ID\");\n        throw new BusinessServiceException(Constants.FUNCTIONAL_ERROR, \"Do not introduce an ID\");\n    }\n\n    Zwcta293 zwcta293 = altaDeudoresMapper.dtoToZwcta293(dto);\n\n    Holder&lt;String&gt; eCodCreated = new Holder&lt;&gt;();\n    Holder&lt;String&gt; eMessage = new Holder&lt;&gt;();\n    Holder&lt;Integer&gt; eReturn = new Holder&lt;&gt;();\n    Holder&lt;String&gt; eSocCreated = new Holder&lt;&gt;();\n    Holder&lt;String&gt; eResidenceType = new Holder&lt;&gt;();\n\n    altaProxy.zwebserAltaDeudores(zwcta293, eCodCreated, eMessage, eReturn, eSocCreated, eResidenceType);\n\n    if (eReturn.value == 0) {\n        CustomerModel customerModel = CustomerMapper.dtoToDomain(dto);\n\n        customerModel.setId(eCodCreated.value);\n\n        if (dto.getSocieties() != null &amp;&amp; !dto.getSocieties().isEmpty()) {\n            CustomerSocietyModel customerSociety = new CustomerSocietyModel();\n            customerSociety.setCustomer(customerModel.getId());\n            customerSociety.setSociety(userEkos.getSociety());\n            customerModel.addCustomerSociety(customerSociety);\n        }\n\n        customerRepository.save(customerModel);\n    } else {\n        log.error(\"[createCustomer] Error SAP \" + eMessage.value);\n        throw new BusinessServiceException(Constants.FUNCTIONAL_ERROR, \"Error SAP \" + eMessage.value);\n    }\n\n    Customer customer = new Customer();\n    customer.setId(eCodCreated.value);\n    return customer;\n}\n</code></pre>\n\n<p>This is my test method:</p>\n\n<p><strong>CustomerServiceTest</strong></p>\n\n<pre><code>@Test\nvoid createCustomerOKTest() throws Exception{\n\n    Holder&lt;String&gt; eCodCreated = new Holder&lt;&gt;();\n    Holder&lt;String&gt; eMessage = new Holder&lt;&gt;();\n    Holder&lt;Integer&gt; eReturn = new Holder&lt;&gt;();\n    Holder&lt;String&gt; eSocCreated = new Holder&lt;&gt;();\n    Holder&lt;String&gt; eResidenceType = new Holder&lt;&gt;();\n\n\n    Customer customer = (Customer) UtilsTest.getFileJsonToFile(CUSTOMER_JSON, Customer.class);\n    customer.setId(\"1239000\");\n    Zwcta293 sapCustomer = (Zwcta293) UtilsTest.getFileJsonToFile(CUSTOMER_SAP_JSON, Zwcta293.class);\n    CustomerModel customerModel = (CustomerModel) UtilsTest.getFileJsonToFile(CUSTOMER_MODEL, CustomerModel.class);\n\n    when(altaDeudoresMapper.dtoToZwcta293(any(Customer.class))).thenReturn(sapCustomer);\n\n    doAnswer(invoication -&gt; {\n                Holder&lt;String&gt; eCodCreated1 = (Holder&lt;String&gt;) invoication.getArgument(1);\n                Holder&lt;String&gt; eMessage1 = (Holder&lt;String&gt;) invoication.getArgument(2);\n                Holder&lt;Integer&gt; eReturn1 = (Holder&lt;Integer&gt;) invoication.getArgument(3);\n                Holder&lt;String&gt; eSocCreated1 = (Holder&lt;String&gt;) invoication.getArgument(4);\n                Holder&lt;String&gt; eResidenceType1 = (Holder&lt;String&gt;) invoication.getArgument(5);\n\n                eReturn1.value = 1239000;\n                return null;\n            }).when(altaProxy).zwebserAltaDeudores(sapCustomer, eCodCreated, eMessage, eReturn, eSocCreated, eResidenceType);\n    when(customerRepository.save(Mockito.any(CustomerModel.class))).thenReturn(customerModel);\n\n    Customer customerFinal = customerService.createCustomer(customer);\n\n    assertSame(Integer.toString(1239000), customerFinal.getId());\n}\n</code></pre>\n\n<p>When it reaches the line in the service <code>if(eRetorno.value == 0)</code> I get a <code>NullPointerException</code></p>\n\n<pre><code>java.lang.NullPointerException\nat com.vocento.ekos.customer.service.CustomerServiceImpl.createCustomer(CustomerServiceImpl.java:83)\nat com.vocento.ekos.customer.service.CustomerServiceTest.createCustomerOKTest(CustomerServiceTest.java:131)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:532)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:171)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:167)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:114)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:59)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:108)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$4(NodeTestTask.java:112)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:72)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:98)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:74)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\nat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\nat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n\n<p>I know why it returns <code>NullPointerException</code> but my problem is that I do not really know how to make it work. My service uses the Holder values inside the method to proceed further or not but I do not know any way to get this Holder value in my test or any way to mock them.</p>\n\n<p>I tried to set a value to the Holders I am passing as a parameter in the Unit Test but it did not work either. Also, I tried to mock the Holder to send them as parameters rather than passing a real object.</p>\n"},{"tags":["java","scala","versioning","decoding"],"owner":{"account_id":13311255,"reputation":179,"user_id":9609406,"display_name":"baron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670929491,"creation_date":1670907256,"question_id":74780129,"body_markdown":"I&#39;ve seen people use  &lt;/presence=&quot;optional&quot; sinceVersion=&quot;1&quot;/&gt; with the newly added fields in a SBE message.xml. \r\nIs there an example to show how exactly it&#39;s used?\r\nI&#39;m using uk.co.real_logic.sbe.SbeTool to generate the java decoder from the message.xml.\r\nBut once it&#39;s generated.\r\n 1. do you need to somehow make changes manually to the decoder to allow it be backward compatible. (I am only adding new fields at the end of the previous version).\r\n 2. when you decode the MsgObj.decode(sbeMsg), how do you make it backward compatible to work with both old version of message (lacking the new fields) and the new version of messages?","title":"How does sbe handle versioning?","body":"<p>I've seen people use  &lt;/presence=&quot;optional&quot; sinceVersion=&quot;1&quot;/&gt; with the newly added fields in a SBE message.xml.\nIs there an example to show how exactly it's used?\nI'm using uk.co.real_logic.sbe.SbeTool to generate the java decoder from the message.xml.\nBut once it's generated.</p>\n<ol>\n<li>do you need to somehow make changes manually to the decoder to allow it be backward compatible. (I am only adding new fields at the end of the previous version).</li>\n<li>when you decode the MsgObj.decode(sbeMsg), how do you make it backward compatible to work with both old version of message (lacking the new fields) and the new version of messages?</li>\n</ol>\n"},{"tags":["java","authentication","security","testing","jboss-arquillian"],"owner":{"account_id":26036770,"reputation":11,"user_id":19742116,"display_name":"Albert Albatros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670928877,"creation_date":1670928877,"question_id":74783700,"body_markdown":"Recently I changed authorization in my REST API from jwt to file-realm, and here comes problem. My IT test just stopped working. I was looking for solution but cant find anything. If anyone can help me fix it i will be grateful. Im using @DeclareRoles({&quot;admin&quot;, &quot;user&quot;}) in me &quot;extends&quot; application class and @RolesAllowed on all my endpoint. How shoudl i implement it to intergration tests with junit and arquillian?\r\n\r\n\r\n\r\n","title":"Junit integration tests with file realm authentication","body":"<p>Recently I changed authorization in my REST API from jwt to file-realm, and here comes problem. My IT test just stopped working. I was looking for solution but cant find anything. If anyone can help me fix it i will be grateful. Im using @DeclareRoles({&quot;admin&quot;, &quot;user&quot;}) in me &quot;extends&quot; application class and @RolesAllowed on all my endpoint. How shoudl i implement it to intergration tests with junit and arquillian?</p>\n"},{"tags":["java","hibernate","jpa","mapping","one-to-many"],"owner":{"account_id":7900713,"reputation":7937,"user_id":5967828,"accept_rate":65,"display_name":"xetra11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670928487,"creation_date":1670928487,"question_id":74783606,"body_markdown":"&#39;m trying to map a MutableList\\&lt;ArenaCombatHistory\\&gt; property in my Gladiator class using Hibernate, but I&#39;m getting the following exception:\r\n\r\n```\r\norg.hibernate.MappingException: Could not determine type for: java.util.List, at table: gladiator, for columns: [org.hibernate.mapping.Column(history)]\r\n```\r\n\r\nHere is my Gladiator class:\r\n\r\n```\r\n@Entity\r\n@Access(AccessType.PROPERTY)\r\nopen class Gladiator(\r\n    id: String = UUID.randomUUID().toString(),\r\n    name: String = &quot;Unnamed Gladiator&quot;,\r\n    status: String = &quot;free&quot;,\r\n    age: String = &quot;Infant&quot;,\r\n    nonPlayer: Boolean = true,\r\n    attributes: Attributes = Attributes(),\r\n    equipment: Equipment = Equipment(),\r\n    @OneToMany(cascade = [CascadeType.ALL], targetEntity = ArenaCombatHistory::class)\r\n    var history: MutableList&lt;ArenaCombatHistory&gt; = mutableListOf()\r\n) : Character(id, name, status, age, nonPlayer, attributes, equipment)\r\n```\r\n\r\nAnd here it&#39;s super classes:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;gamecharacter&quot;)\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\nopen class Character(\r\n    id: String = UUID.randomUUID().toString(),\r\n    var name: String = &quot;&quot;,\r\n    var status: String = &quot;&quot;,\r\n    var age: String = &quot;Infant&quot;,\r\n    var nonPlayer: Boolean = false,\r\n    @Embedded\r\n    var attributes: Attributes = Attributes(),\r\n    @OneToOne(cascade = [CascadeType.ALL])\r\n    var equipment: Equipment = Equipment()\r\n) : Actor(id)\r\n```\r\n\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\nopen class Actor(\r\n    @Id\r\n    open val id: String = UUID.randomUUID().toString()\r\n)\r\n```\r\n\r\nI made my Gladiator class `open` and added `targetEntity = ArenaCombatHistory::class` the have an explicit class. However it did not help.","title":"Hibernate MappingException: Could not determine type for: java.util.List","body":"<p>'m trying to map a MutableList&lt;ArenaCombatHistory&gt; property in my Gladiator class using Hibernate, but I'm getting the following exception:</p>\n<pre><code>org.hibernate.MappingException: Could not determine type for: java.util.List, at table: gladiator, for columns: [org.hibernate.mapping.Column(history)]\n</code></pre>\n<p>Here is my Gladiator class:</p>\n<pre><code>@Entity\n@Access(AccessType.PROPERTY)\nopen class Gladiator(\n    id: String = UUID.randomUUID().toString(),\n    name: String = &quot;Unnamed Gladiator&quot;,\n    status: String = &quot;free&quot;,\n    age: String = &quot;Infant&quot;,\n    nonPlayer: Boolean = true,\n    attributes: Attributes = Attributes(),\n    equipment: Equipment = Equipment(),\n    @OneToMany(cascade = [CascadeType.ALL], targetEntity = ArenaCombatHistory::class)\n    var history: MutableList&lt;ArenaCombatHistory&gt; = mutableListOf()\n) : Character(id, name, status, age, nonPlayer, attributes, equipment)\n</code></pre>\n<p>And here it's super classes:</p>\n<pre><code>@Entity\n@Table(name = &quot;gamecharacter&quot;)\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\nopen class Character(\n    id: String = UUID.randomUUID().toString(),\n    var name: String = &quot;&quot;,\n    var status: String = &quot;&quot;,\n    var age: String = &quot;Infant&quot;,\n    var nonPlayer: Boolean = false,\n    @Embedded\n    var attributes: Attributes = Attributes(),\n    @OneToOne(cascade = [CascadeType.ALL])\n    var equipment: Equipment = Equipment()\n) : Actor(id)\n</code></pre>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\nopen class Actor(\n    @Id\n    open val id: String = UUID.randomUUID().toString()\n)\n</code></pre>\n<p>I made my Gladiator class <code>open</code> and added <code>targetEntity = ArenaCombatHistory::class</code> the have an explicit class. However it did not help.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670876476,"post_id":74776741,"comment_id":131970364,"body_markdown":"spring-boot 3?? -&gt; `javax.persistence` -&gt; `jakarta.persistence`","body":"spring-boot 3?? -&gt; <code>javax.persistence</code> -&gt; <code>jakarta.persistence</code>"},{"owner":{"account_id":22014851,"reputation":102,"user_id":16284523,"display_name":"Yaz Can Aslan"},"score":0,"creation_date":1670876583,"post_id":74776741,"comment_id":131970389,"body_markdown":"@xerx593 Can you clarify? The spring boot version is 3.0.0.","body":"@xerx593 Can you clarify? The spring boot version is 3.0.0."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1670876796,"post_id":74776741,"comment_id":131970456,"body_markdown":"please refactor *all* (text) occurences of `javax.persistence` (in your source files)with `jakarta.persistence`","body":"please refactor <i>all</i> (text) occurences of <code>javax.persistence</code> (in your source files)with <code>jakarta.persistence</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1670876879,"post_id":74776741,"comment_id":131970475,"body_markdown":"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes -&gt; https://github.com/spring-projects/spring-framework/wiki/What&#39;s-New-in-Spring-Framework-6.x -&gt; &quot;-Migration from javax to jakarta namespace for Servlet, JPA, etc.&quot;","body":"<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a> -&gt; <a href=\"https://github.com/spring-projects/spring-framework/wiki/What&#39;s-New-in-Spring-Framework-6.x\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/wiki/&hellip;</a> -&gt; &quot;-Migration from javax to jakarta namespace for Servlet, JPA, etc.&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670876932,"post_id":74776741,"comment_id":131970489,"body_markdown":"javax.validation -&gt; jakarta.validation (this looks already correct in your code;)","body":"javax.validation -&gt; jakarta.validation (this looks already correct in your code;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670876954,"post_id":74776741,"comment_id":131970493,"body_markdown":"javax.servlet -&gt; jakarta.servlet (!!!)","body":"javax.servlet -&gt; jakarta.servlet (!!!)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670877306,"post_id":74776741,"comment_id":131970609,"body_markdown":"... but (e.g.) *not* javax.naming .... and not (all of) `javax.xml` but (e.g./according to your classpath) `javax.xml.bind` -&gt; `jakarta.xml.bind`","body":"... but (e.g.) <i>not</i> javax.naming .... and not (all of) <code>javax.xml</code> but (e.g./according to your classpath) <code>javax.xml.bind</code> -&gt; <code>jakarta.xml.bind</code>"},{"owner":{"account_id":22014851,"reputation":102,"user_id":16284523,"display_name":"Yaz Can Aslan"},"score":1,"creation_date":1670877423,"post_id":74776741,"comment_id":131970654,"body_markdown":"@xerx593 I made the changes you recommended and the original issue is now fixed, thank you! Now I have other errors like &quot;org.hibernate.tool.schema.spi.CommandAcceptanceException&quot;, but they seem easier to solve.","body":"@xerx593 I made the changes you recommended and the original issue is now fixed, thank you! Now I have other errors like &quot;org.hibernate.tool.schema.spi.CommandAcceptanceException&quot;, but they seem easier to solve."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670877897,"post_id":74776741,"comment_id":131970813,"body_markdown":"today&#39;s dup: https://stackoverflow.com/q/74774096/592355 :)","body":"today&#39;s dup: <a href=\"https://stackoverflow.com/q/74774096/592355\">stackoverflow.com/q/74774096/592355</a> :)"}],"answers":[{"tags":[],"owner":{"account_id":22014851,"reputation":102,"user_id":16284523,"display_name":"Yaz Can Aslan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670928427,"creation_date":1670928427,"answer_id":74783595,"question_id":74776741,"body_markdown":"As @xerx593 recommended, changing all imports from `javax.persistance` to `jakarta.persistance` solved the issue.\r\n\r\n**Previous model class:**\r\n\r\n    package com.domain.example.model;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import jakarta.validation.constraints.NotNull;\r\n    import lombok.Data;\r\n    // import lombok.RequiredArgsConstructor;\r\n    \r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;course&quot;)\r\n    // @RequiredArgsConstructor\r\n    public class Course {\r\n        // ... implementation ...\r\n    }\r\n\r\n**New model class:**\r\n\r\n    package com.domain.example.model;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import jakarta.validation.constraints.NotNull;\r\n    import lombok.Data;\r\n    // import lombok.RequiredArgsConstructor;\r\n    \r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;course&quot;)\r\n    // @RequiredArgsConstructor\r\n    public class Course {\r\n        // ... implementation ...\r\n    }","title":"Spring JPA, How can I resolve &quot;java.lang.IllegalArgumentException: Not a managed type&quot; error?","body":"<p>As @xerx593 recommended, changing all imports from <code>javax.persistance</code> to <code>jakarta.persistance</code> solved the issue.</p>\n<p><strong>Previous model class:</strong></p>\n<pre><code>package com.domain.example.model;\n\nimport java.util.UUID;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\nimport lombok.Data;\n// import lombok.RequiredArgsConstructor;\n\n@Entity\n@Data\n@Table(name = &quot;course&quot;)\n// @RequiredArgsConstructor\npublic class Course {\n    // ... implementation ...\n}\n</code></pre>\n<p><strong>New model class:</strong></p>\n<pre><code>package com.domain.example.model;\n\nimport java.util.UUID;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\nimport lombok.Data;\n// import lombok.RequiredArgsConstructor;\n\n@Entity\n@Data\n@Table(name = &quot;course&quot;)\n// @RequiredArgsConstructor\npublic class Course {\n    // ... implementation ...\n}\n</code></pre>\n"}],"owner":{"account_id":22014851,"reputation":102,"user_id":16284523,"display_name":"Yaz Can Aslan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74783595,"answer_count":1,"score":2,"last_activity_date":1670928427,"creation_date":1670875616,"question_id":74776741,"body_markdown":"I am trying to use JPA for a Java Spring Boot project. The related classes are given below. When I run the main method, I get the `java.lang.IllegalArgumentException: Not a managed type: class com.domain.example.model.Course` error multiple times, and the application crashes. I tried different configurations but none seem to work, as all of them result in the same issue. How can I resolve the `not a managed type` issue?\r\n\r\n**Main class:**\r\n\r\n    package com.domain.example;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    \r\n    // @Configuration\r\n    // @EnableAutoConfiguration// (exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\r\n    // @ComponentScan\r\n    @SpringBootApplication\r\n    // @EnableJpaRepositories\r\n    @EntityScan(basePackages = {&quot;com.domain.example.model&quot;})\r\n    public class Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application .class, args);\r\n    \t}\r\n    }\r\n\r\n**Model class:**\r\n\r\n    package com.domain.example.model;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import jakarta.validation.constraints.NotNull;\r\n    import lombok.Data;\r\n    // import lombok.RequiredArgsConstructor;\r\n    \r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;course&quot;)\r\n    // @RequiredArgsConstructor\r\n    public class Course {\r\n        @Id\r\n        @GeneratedValue(generator = &quot;UUID&quot;)\r\n        @Column(name = &quot;course_id&quot;)\r\n        private final UUID courseId;\r\n\r\n        @NotNull\r\n        @Column(name = &quot;code&quot;)\r\n        private final Long code;\r\n    \r\n        @NotBlank\r\n        @Column(name = &quot;name&quot;)\r\n        private final String name;\r\n    \r\n        public Course(\r\n            @JsonProperty(&quot;courseId&quot;) UUID courseId,\r\n            @JsonProperty(&quot;code&quot;) Long code,\r\n            @JsonProperty(&quot;name&quot;) String name\r\n        ) {\r\n            this.courseId = (courseId == null) ? UUID.randomUUID() : courseId;\r\n            this.code = code;\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n**The repository:**\r\n\r\n    package com.domain.example.repository;\r\n    \r\n    import java.util.List;\r\n    import java.util.UUID;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.domain.example.model.Course;\r\n    \r\n    @Repository\r\n    public interface ICourseRepository extends JpaRepository&lt;Course, UUID&gt; {\r\n        List&lt;Course&gt; findAllByCode(Long code); // temporary\r\n    }\r\n\r\n**The service:**\r\n\r\n    package com.domain.example.service;\r\n    \r\n    import java.util.List;\r\n    import org.springframework.stereotype.Service;\r\n    import com.domain.example.model.Course;\r\n    import com.domain.example.repository.ICourseRepository;\r\n    import lombok.RequiredArgsConstructor;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class CourseService implements ICourseService {\r\n    \r\n        private final ICourseRepository courseRepository;\r\n    \r\n        @Override\r\n        public boolean saveCourse(Course course) {\r\n            courseRepository.save(course);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Course&gt; getAllCourses() {\r\n            return courseRepository.findAll();\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Course&gt; getAllCoursesByCode(Long code) {\r\n            return courseRepository.findAllByCode(code);\r\n        }\r\n        \r\n    }\r\n\r\n**The error:**\r\n\r\n    java.lang.IllegalArgumentException: Not a managed type: class com.domain.example.model.Course","title":"Spring JPA, How can I resolve &quot;java.lang.IllegalArgumentException: Not a managed type&quot; error?","body":"<p>I am trying to use JPA for a Java Spring Boot project. The related classes are given below. When I run the main method, I get the <code>java.lang.IllegalArgumentException: Not a managed type: class com.domain.example.model.Course</code> error multiple times, and the application crashes. I tried different configurations but none seem to work, as all of them result in the same issue. How can I resolve the <code>not a managed type</code> issue?</p>\n<p><strong>Main class:</strong></p>\n<pre><code>package com.domain.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n// @Configuration\n// @EnableAutoConfiguration// (exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class})\n// @ComponentScan\n@SpringBootApplication\n// @EnableJpaRepositories\n@EntityScan(basePackages = {&quot;com.domain.example.model&quot;})\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application .class, args);\n    }\n}\n</code></pre>\n<p><strong>Model class:</strong></p>\n<pre><code>package com.domain.example.model;\n\nimport java.util.UUID;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\nimport lombok.Data;\n// import lombok.RequiredArgsConstructor;\n\n@Entity\n@Data\n@Table(name = &quot;course&quot;)\n// @RequiredArgsConstructor\npublic class Course {\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @Column(name = &quot;course_id&quot;)\n    private final UUID courseId;\n\n    @NotNull\n    @Column(name = &quot;code&quot;)\n    private final Long code;\n\n    @NotBlank\n    @Column(name = &quot;name&quot;)\n    private final String name;\n\n    public Course(\n        @JsonProperty(&quot;courseId&quot;) UUID courseId,\n        @JsonProperty(&quot;code&quot;) Long code,\n        @JsonProperty(&quot;name&quot;) String name\n    ) {\n        this.courseId = (courseId == null) ? UUID.randomUUID() : courseId;\n        this.code = code;\n        this.name = name;\n    }\n}\n</code></pre>\n<p><strong>The repository:</strong></p>\n<pre><code>package com.domain.example.repository;\n\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.domain.example.model.Course;\n\n@Repository\npublic interface ICourseRepository extends JpaRepository&lt;Course, UUID&gt; {\n    List&lt;Course&gt; findAllByCode(Long code); // temporary\n}\n</code></pre>\n<p><strong>The service:</strong></p>\n<pre><code>package com.domain.example.service;\n\nimport java.util.List;\nimport org.springframework.stereotype.Service;\nimport com.domain.example.model.Course;\nimport com.domain.example.repository.ICourseRepository;\nimport lombok.RequiredArgsConstructor;\n\n@Service\n@RequiredArgsConstructor\npublic class CourseService implements ICourseService {\n\n    private final ICourseRepository courseRepository;\n\n    @Override\n    public boolean saveCourse(Course course) {\n        courseRepository.save(course);\n        return true;\n    }\n\n    @Override\n    public List&lt;Course&gt; getAllCourses() {\n        return courseRepository.findAll();\n    }\n\n    @Override\n    public List&lt;Course&gt; getAllCoursesByCode(Long code) {\n        return courseRepository.findAllByCode(code);\n    }\n    \n}\n</code></pre>\n<p><strong>The error:</strong></p>\n<pre><code>java.lang.IllegalArgumentException: Not a managed type: class com.domain.example.model.Course\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1670932197,"post_id":74783448,"comment_id":131982685,"body_markdown":"Some project structure would help, is it a multi module maven/gradle project? Your single module can have appliction.properties or yml of its own which can define its database","body":"Some project structure would help, is it a multi module maven/gradle project? Your single module can have appliction.properties or yml of its own which can define its database"},{"owner":{"account_id":25910091,"reputation":31,"user_id":19634506,"display_name":"horsemanwithnoname"},"score":0,"creation_date":1670932458,"post_id":74783448,"comment_id":131982778,"body_markdown":"It&#39;s a multi module gradle project. Both the microservice and the imported modules have their own application.yml where the properties are defined. I believe some issues might also arise by the first yml file being overwritten by the second one, but I am not entirely sure.","body":"It&#39;s a multi module gradle project. Both the microservice and the imported modules have their own application.yml where the properties are defined. I believe some issues might also arise by the first yml file being overwritten by the second one, but I am not entirely sure."},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1670933813,"post_id":74783448,"comment_id":131983254,"body_markdown":"No in case of absence of yml in module, the parent yml comes in effect but higher priority is given to closest property defined","body":"No in case of absence of yml in module, the parent yml comes in effect but higher priority is given to closest property defined"}],"owner":{"account_id":25910091,"reputation":31,"user_id":19634506,"display_name":"horsemanwithnoname"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670927709,"creation_date":1670927709,"question_id":74783448,"body_markdown":"The situation is as follows.\r\nI have a microservice that imports a module. I want that module to be reusable by other microservices and to have it&#39;s own data source. \r\n\r\nI managed to do this by manually configuring the data source in the module (in a @Config glass), but if I want to import the module, I also have to manually configure my data source in each micro service and specify that it&#39;s the primary one.\r\n\r\nIs there any way to only configure the module&#39;s data base and to let spring do it&#39;s automatic config inside the microservices? Thanks, any help is appreaciated.","title":"Can I have multiple data sources in spring without specifying the primary one?","body":"<p>The situation is as follows.\nI have a microservice that imports a module. I want that module to be reusable by other microservices and to have it's own data source.</p>\n<p>I managed to do this by manually configuring the data source in the module (in a @Config glass), but if I want to import the module, I also have to manually configure my data source in each micro service and specify that it's the primary one.</p>\n<p>Is there any way to only configure the module's data base and to let spring do it's automatic config inside the microservices? Thanks, any help is appreaciated.</p>\n"},{"tags":["java","maven","pom.xml"],"answers":[{"comments":[{"owner":{"account_id":27093819,"reputation":85,"user_id":20641267,"display_name":"DarkDead"},"score":0,"creation_date":1670927274,"post_id":74783317,"comment_id":131980991,"body_markdown":"okay, so I am missing a dependency which should be in `com.trampoline.buddyto` is that correct?","body":"okay, so I am missing a dependency which should be in <code>com.trampoline.buddyto</code> is that correct?"},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":0,"creation_date":1670927511,"post_id":74783317,"comment_id":131981078,"body_markdown":"That&#39;s what the error seems to point to. I made a small correction. I assume you use Jenkins to build the code, probably turn it into a docker image to push it to the repo which Kubernetes will try to pull. I think the Jenkins process tries to find the dependency in the repo but cannot find it.","body":"That&#39;s what the error seems to point to. I made a small correction. I assume you use Jenkins to build the code, probably turn it into a docker image to push it to the repo which Kubernetes will try to pull. I think the Jenkins process tries to find the dependency in the repo but cannot find it."},{"owner":{"account_id":27093819,"reputation":85,"user_id":20641267,"display_name":"DarkDead"},"score":0,"creation_date":1670927586,"post_id":74783317,"comment_id":131981103,"body_markdown":"so, I was given the code with pom.xml and stuff in a zip file. all I did was extract it and I added the kubernetes plugin to it and tried running it using `mvn clean install` which resulted in the above error. I am not using jenkins.","body":"so, I was given the code with pom.xml and stuff in a zip file. all I did was extract it and I added the kubernetes plugin to it and tried running it using <code>mvn clean install</code> which resulted in the above error. I am not using jenkins."},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":0,"creation_date":1670927667,"post_id":74783317,"comment_id":131981128,"body_markdown":"If it is local, then you need to pull that dependency from a git repo and compile it locally. This way it will be stored in you .m2 folder and your code will compile.","body":"If it is local, then you need to pull that dependency from a git repo and compile it locally. This way it will be stored in you .m2 folder and your code will compile."},{"owner":{"account_id":27093819,"reputation":85,"user_id":20641267,"display_name":"DarkDead"},"score":0,"creation_date":1670927995,"post_id":74783317,"comment_id":131981224,"body_markdown":"hmm okay, I see. I don&#39;t even know what dependency I supposed to look at exactly since it has only mentioned the path","body":"hmm okay, I see. I don&#39;t even know what dependency I supposed to look at exactly since it has only mentioned the path"},{"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"score":0,"creation_date":1670928135,"post_id":74783317,"comment_id":131981268,"body_markdown":"This is something you have to ask your colleagues. It is version `0.0.1-SNAPSHOT`, which strongly points to some custom artifact somebody in your company has built.","body":"This is something you have to ask your colleagues. It is version <code>0.0.1-SNAPSHOT</code>, which strongly points to some custom artifact somebody in your company has built."},{"owner":{"account_id":27093819,"reputation":85,"user_id":20641267,"display_name":"DarkDead"},"score":1,"creation_date":1670928174,"post_id":74783317,"comment_id":131981281,"body_markdown":"yeah! I will do just that. Thank you! really appreciate your help.","body":"yeah! I will do just that. Thank you! really appreciate your help."}],"tags":[],"owner":{"account_id":552361,"reputation":18316,"user_id":917467,"accept_rate":76,"display_name":"html_programmer"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670927435,"creation_date":1670927051,"answer_id":74783317,"question_id":74783228,"body_markdown":"Most likely your company uses its own repository manager that serves as a cache: \r\n\r\n    com.trampoline.buddyto:tenant:jar:0.0.1-SNAPSHOT\r\n\r\nJenkins will try to download this dependency from the repository, but it can&#39;t find it.  \r\nSometimes these repositories will time limit the availability of snapshot versions in the repository (or disallow it in preprod / prod environment in case there is a different one for these environments).  \r\nAnd do note that snapshots don&#39;t belong in preprod / prod releases since you seem to be in charge of the deployments.  \r\n\r\nOf course &quot;it works on my pc&quot; applies here very much for developers, as maven will store this dependency in the local repository when it gets compiled locally. Possibly this dependency was never deployed to the repository.   \r\n","title":"error while building maven application. com.trampoline","body":"<p>Most likely your company uses its own repository manager that serves as a cache:</p>\n<pre><code>com.trampoline.buddyto:tenant:jar:0.0.1-SNAPSHOT\n</code></pre>\n<p>Jenkins will try to download this dependency from the repository, but it can't find it.<br />\nSometimes these repositories will time limit the availability of snapshot versions in the repository (or disallow it in preprod / prod environment in case there is a different one for these environments).<br />\nAnd do note that snapshots don't belong in preprod / prod releases since you seem to be in charge of the deployments.</p>\n<p>Of course &quot;it works on my pc&quot; applies here very much for developers, as maven will store this dependency in the local repository when it gets compiled locally. Possibly this dependency was never deployed to the repository.</p>\n"}],"owner":{"account_id":27093819,"reputation":85,"user_id":20641267,"display_name":"DarkDead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74783317,"answer_count":1,"score":0,"last_activity_date":1670927435,"creation_date":1670926595,"question_id":74783228,"body_markdown":"Here&#39;s my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.trampoline.buddyto&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sample-service&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;sample-service&lt;/name&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;description&gt;sample-service&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;springfox-version&gt;2.7.0&lt;/springfox-version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-text --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.trampoline.buddyto&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tenant&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.trampoline.buddyto&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;domain&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.eclipse.jkube&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;kubernetes-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.10.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;dev&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;qa&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;qa&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;qa2&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;qa2&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;qa4&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;qa4&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;prod&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;spring.profiles.active&gt;prod&lt;/spring.profiles.active&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t&lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nHere&#39;s the error I am getting: https://pastebin.com/raw/Qe4mqUCV\r\n\r\nI don&#39;t know what to do regarding this since I am not a java developer. I do know some basics though. I am tasked with building it and deploying it on Kubernetes using the maven-kubernetes-plugin and that&#39;s exactly what I did but it didn&#39;t work\r\nWould appreciate if someone could help me regarding this error.","title":"error while building maven application. com.trampoline","body":"<p>Here's my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.trampoline.buddyto&lt;/groupId&gt;\n    &lt;artifactId&gt;sample-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;sample-service&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;description&gt;sample-service&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;springfox-version&gt;2.7.0&lt;/springfox-version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-text --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;1.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.trampoline.buddyto&lt;/groupId&gt;\n            &lt;artifactId&gt;tenant&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.trampoline.buddyto&lt;/groupId&gt;\n            &lt;artifactId&gt;domain&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n            &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n            &lt;version&gt;2.11.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.jkube&lt;/groupId&gt;\n                &lt;artifactId&gt;kubernetes-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.10.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;dev&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;qa&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;qa&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;qa2&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;qa2&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;qa4&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;qa4&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;spring.profiles.active&gt;prod&lt;/spring.profiles.active&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here's the error I am getting: <a href=\"https://pastebin.com/raw/Qe4mqUCV\" rel=\"nofollow noreferrer\">https://pastebin.com/raw/Qe4mqUCV</a></p>\n<p>I don't know what to do regarding this since I am not a java developer. I do know some basics though. I am tasked with building it and deploying it on Kubernetes using the maven-kubernetes-plugin and that's exactly what I did but it didn't work\nWould appreciate if someone could help me regarding this error.</p>\n"},{"tags":["java","mapping","mapstruct"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":4,"creation_date":1670862027,"post_id":74774041,"comment_id":131965875,"body_markdown":"`Destination` has no setters, and its fields are final. How do you expect MapStruct to update instances?","body":"<code>Destination</code> has no setters, and its fields are final. How do you expect MapStruct to update instances?"},{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":0,"creation_date":1670864713,"post_id":74774041,"comment_id":131966843,"body_markdown":"@RobSpoor How does it create instances then?","body":"@RobSpoor How does it create instances then?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1670866414,"post_id":74774041,"comment_id":131967360,"body_markdown":"@ka3ak with the constructor","body":"@ka3ak with the constructor"}],"answers":[{"tags":[],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670927181,"creation_date":1670927181,"answer_id":74783338,"question_id":74774041,"body_markdown":"As it turned out, the problem was caused by executing the test from Intellij IDEA which probably didn&#39;t recompile/generate the code related to mapping. Executing `mvn clean compile` from the project root directory solved the issue.\r\n\r\nHowever the observations are still the same:\r\nTarget object creation works without setters in target object, update works only with setters in target object.","title":"MapStruct doesn&#39;t update existing target object","body":"<p>As it turned out, the problem was caused by executing the test from Intellij IDEA which probably didn't recompile/generate the code related to mapping. Executing <code>mvn clean compile</code> from the project root directory solved the issue.</p>\n<p>However the observations are still the same:\nTarget object creation works without setters in target object, update works only with setters in target object.</p>\n"}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670927181,"creation_date":1670861515,"question_id":74774041,"body_markdown":"According to section &#39;3.6. Updating existing bean instances&#39; in https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances\r\nMapStruct can update an existing instance of target\r\n\r\nHowever I didn&#39;t manage to implement it. Below is my code:\r\n\r\n\r\n    public class Source {\r\n        private final String id;\r\n        private final String other;\r\n        Source(String id, String other) {\r\n            this.id = id;\r\n            this.other = other;\r\n        }\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getOther() {\r\n            return other;\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Destination {\r\n        private final String id;\r\n        private final String other;\r\n    \r\n        Destination(String id, String other) {\r\n            this.id = id;\r\n            this.other = other;\r\n        }\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getOther() {\r\n            return other;\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    import org.mapstruct.Mapper;\r\n    import org.mapstruct.MappingTarget;\r\n    import org.mapstruct.factory.Mappers;\r\n    \r\n    @Mapper\r\n    public interface Mapper {\r\n     \r\n        Mapper INSTANCE = Mappers.getMapper(Mapper.class );\r\n     \r\n        Destination createDestinationFromSource(Source source);\r\n        updateDestinationFromSource(Source source, @MappingTarget Destination destination);\r\n    \r\n    }\r\n    \r\n    @Test\r\n    void testMapStruct() {\r\n    \t\t// Create\r\n    \t\tvar source = new Source(&quot;sourceId&quot;, &quot;sourceOther&quot;);\r\n    \t\tvar destination1 = Mapper.INSTANCE.createDestinationFromSource(source);\r\n    \t\tAssertions.assertEquals(source.getId(), destination1.getId());\r\n    \r\n    \t\t// Update\r\n    \t\tvar destination2=new Destination(&quot;destinationId&quot;, &quot;destinationOther&quot;);\r\n    \t\tMapper.INSTANCE.updateDestinationFromSource(source, destination2);\r\n    \t\tAssertions.assertEquals(source.getId(), destination2.getId()); // Fails\r\n    }\r\n\r\nAs can be seen from the code above the creation of target object is successful, but update doesn&#39;t work.\r\n\r\nEven after I had removed the final-modifiers from the fields of `Destination` and `Source` and added setters to them the update didn&#39;t succeed.\r\n\r\nNot sure what I&#39;m missing.\r\n\r\nUsing:\r\n\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.5.2.Final&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.5.2.Final&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n\r\nand \r\n\r\n    openjdk 17 2021-09-14\r\n    OpenJDK Runtime Environment (build 17+35-2724)\r\n    OpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)","title":"MapStruct doesn&#39;t update existing target object","body":"<p>According to section '3.6. Updating existing bean instances' in <a href=\"https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances\" rel=\"nofollow noreferrer\">https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances</a>\nMapStruct can update an existing instance of target</p>\n<p>However I didn't manage to implement it. Below is my code:</p>\n<pre><code>public class Source {\n    private final String id;\n    private final String other;\n    Source(String id, String other) {\n        this.id = id;\n        this.other = other;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public String getOther() {\n        return other;\n    }\n}\n\n\npublic class Destination {\n    private final String id;\n    private final String other;\n\n    Destination(String id, String other) {\n        this.id = id;\n        this.other = other;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public String getOther() {\n        return other;\n    }\n\n}\n\n\nimport org.mapstruct.Mapper;\nimport org.mapstruct.MappingTarget;\nimport org.mapstruct.factory.Mappers;\n\n@Mapper\npublic interface Mapper {\n \n    Mapper INSTANCE = Mappers.getMapper(Mapper.class );\n \n    Destination createDestinationFromSource(Source source);\n    updateDestinationFromSource(Source source, @MappingTarget Destination destination);\n\n}\n\n@Test\nvoid testMapStruct() {\n        // Create\n        var source = new Source(&quot;sourceId&quot;, &quot;sourceOther&quot;);\n        var destination1 = Mapper.INSTANCE.createDestinationFromSource(source);\n        Assertions.assertEquals(source.getId(), destination1.getId());\n\n        // Update\n        var destination2=new Destination(&quot;destinationId&quot;, &quot;destinationOther&quot;);\n        Mapper.INSTANCE.updateDestinationFromSource(source, destination2);\n        Assertions.assertEquals(source.getId(), destination2.getId()); // Fails\n}\n</code></pre>\n<p>As can be seen from the code above the creation of target object is successful, but update doesn't work.</p>\n<p>Even after I had removed the final-modifiers from the fields of <code>Destination</code> and <code>Source</code> and added setters to them the update didn't succeed.</p>\n<p>Not sure what I'm missing.</p>\n<p>Using:</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n                &lt;version&gt;1.5.2.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;1.5.2.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>and</p>\n<pre><code>openjdk 17 2021-09-14\nOpenJDK Runtime Environment (build 17+35-2724)\nOpenJDK 64-Bit Server VM (build 17+35-2724, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","aws-lambda","json-deserialization","serverless"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1556612264,"post_id":55911827,"comment_id":98487556,"body_markdown":"If you log `input.getX()` and `input.getY()` do you get the expected values?","body":"If you log <code>input.getX()</code> and <code>input.getY()</code> do you get the expected values?"},{"owner":{"account_id":8527023,"reputation":72,"user_id":6392155,"display_name":"Kevin"},"score":0,"creation_date":1556612375,"post_id":55911827,"comment_id":98487621,"body_markdown":"Hello :) no, I also get 0.0","body":"Hello :) no, I also get 0.0"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1556612642,"post_id":55911827,"comment_id":98487767,"body_markdown":"I don&#39;t  see anything obviously wrong in there. How is the API Gateway configured? In particular the input handling. Is there a mapping template? I don&#39;t have Postman handy, so what format does it send requests with? (multipart form, plain text....)","body":"I don&#39;t  see anything obviously wrong in there. How is the API Gateway configured? In particular the input handling. Is there a mapping template? I don&#39;t have Postman handy, so what format does it send requests with? (multipart form, plain text....)"}],"owner":{"account_id":8527023,"reputation":72,"user_id":6392155,"display_name":"Kevin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670927001,"creation_date":1556578782,"question_id":55911827,"body_markdown":"I&#39;m using the serverless framework for writing a AWS lambda function in Java.\r\nMy handler class looks like this:\r\n\r\n    public class ConstructionHandler implements RequestHandler&lt;Location, \r\n    ApiGatewayResponse&gt; {\r\n\t\r\n\t    private static final Logger LOG = LogManager.getLogger(ConstructionHandler.class);\r\n\t\r\n\t    @Override\r\n\t    public ApiGatewayResponse handleRequest(Location input, Context context) {\r\n\t\t    ObjectMapper objectMapper = new ObjectMapper();\r\n\t\t    try {\r\n\t\t\t    String locationJson = objectMapper.writeValueAsString(input);\r\n\t\t\t    LOG.info(&quot;received: &quot; + locationJson);\r\n\t\t    } catch(Exception e) {\r\n\t\t\t    LOG.error(&quot;Exception occurred here: &quot; + e.getMessage());\r\n\t\t\t    e.printStackTrace();\r\n\t\t    }\r\n            // do something useful\r\n            // return response\r\n        }\r\n\r\n    }\r\n\r\nMy location object is a simple POJO described as the follwing:\r\n\r\n    public class Location {\r\n\r\n\t    private double x;\r\n\t\r\n\t    private double y;\r\n\t\r\n\t    public Location(double x, double y) {\r\n\t\t    this.x = x;\r\n\t\t    this.y = y;\r\n\t    }\r\n\t\r\n\t    public Location() {\r\n\t\t\r\n\t    }\r\n\r\n\t    public double getX() {\r\n\t\t    return x;\r\n\t    }\r\n\r\n\t    public void setX(double x) {\r\n\t\t    this.x = x;\r\n\t    }\r\n\r\n\t    public double getY() {\r\n\t\t    return y;\r\n\t    }\r\n\r\n\t    public void setY(double y) {\r\n\t\t    this.y = y;\r\n\t    }\r\n\t\r\n    }\r\n\r\n\r\nThe Lambda is configured in my serverless.yml like this:\r\n\r\n    functions:\r\n      construct:\r\n        handler: com.serverless.ConstructionHandler\r\n        events:\r\n          - http:\r\n             path: /construct\r\n             method: post\r\n\r\n\r\nI used the Postman chrome plugin for fireing a POST-Request to the lambda, after deploying to AWS with the following request body:\r\n\r\n{\r\n\t&quot;x&quot;: 3.0,\r\n\t&quot;y&quot;: 4.0\r\n}\r\n\r\nUnfortunately, if I go to Cloudwatch the logging says that the following object was deserialized:\r\n\r\n{&quot;x&quot;:0.0,&quot;y&quot;:0.0}\r\n\r\nDoes anybody know why the original values got lost?\r\nThanks in advance for any help!","title":"AWS lambda input data doesn&#39;t get deserialized","body":"<p>I'm using the serverless framework for writing a AWS lambda function in Java.\nMy handler class looks like this:</p>\n\n<pre><code>public class ConstructionHandler implements RequestHandler&lt;Location, \nApiGatewayResponse&gt; {\n\n    private static final Logger LOG = LogManager.getLogger(ConstructionHandler.class);\n\n    @Override\n    public ApiGatewayResponse handleRequest(Location input, Context context) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        try {\n            String locationJson = objectMapper.writeValueAsString(input);\n            LOG.info(\"received: \" + locationJson);\n        } catch(Exception e) {\n            LOG.error(\"Exception occurred here: \" + e.getMessage());\n            e.printStackTrace();\n        }\n        // do something useful\n        // return response\n    }\n\n}\n</code></pre>\n\n<p>My location object is a simple POJO described as the follwing:</p>\n\n<pre><code>public class Location {\n\n    private double x;\n\n    private double y;\n\n    public Location(double x, double y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public Location() {\n\n    }\n\n    public double getX() {\n        return x;\n    }\n\n    public void setX(double x) {\n        this.x = x;\n    }\n\n    public double getY() {\n        return y;\n    }\n\n    public void setY(double y) {\n        this.y = y;\n    }\n\n}\n</code></pre>\n\n<p>The Lambda is configured in my serverless.yml like this:</p>\n\n<pre><code>functions:\n  construct:\n    handler: com.serverless.ConstructionHandler\n    events:\n      - http:\n         path: /construct\n         method: post\n</code></pre>\n\n<p>I used the Postman chrome plugin for fireing a POST-Request to the lambda, after deploying to AWS with the following request body:</p>\n\n<p>{\n    \"x\": 3.0,\n    \"y\": 4.0\n}</p>\n\n<p>Unfortunately, if I go to Cloudwatch the logging says that the following object was deserialized:</p>\n\n<p>{\"x\":0.0,\"y\":0.0}</p>\n\n<p>Does anybody know why the original values got lost?\nThanks in advance for any help!</p>\n"},{"tags":["java","reflection","aop"],"comments":[{"owner":{"account_id":114848,"reputation":134189,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"score":0,"creation_date":1292335270,"post_id":4439868,"comment_id":4847384,"body_markdown":"You might be able to do this by using a bytecode (dis)assembler to alter the visibility of the bytecode. Ugh, that&#39;s so nasty!","body":"You might be able to do this by using a bytecode (dis)assembler to alter the visibility of the bytecode. Ugh, that&#39;s so nasty!"},{"owner":{"account_id":1435959,"reputation":4869,"user_id":1357328,"accept_rate":55,"display_name":"mickeymoon"},"score":0,"creation_date":1349866503,"post_id":4439868,"comment_id":17336322,"body_markdown":"I think you should be able to do by using _AOP_&#39;s method interceptor and instead of delegating the call to normal `proceed()`, using reflection call the method creating the method instance for it and setting on it the `setAccessible()` as `true`","body":"I think you should be able to do by using <i>AOP</i>&#39;s method interceptor and instead of delegating the call to normal <code>proceed()</code>, using reflection call the method creating the method instance for it and setting on it the <code>setAccessible()</code> as <code>true</code>"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1292335134,"creation_date":1292335134,"answer_id":4439925,"question_id":4439868,"body_markdown":"&gt;Is it at all possible to &quot;override&quot; a private method of a super class in Java?\r\n\r\n**No**   \r\n\r\nI don&#39;t think using Reflection there would be a tweak , it will break `OOP` there","title":"Java Reflect/AOP override supertype private Method","body":"<blockquote>\n  <p>Is it at all possible to \"override\" a private method of a super class in Java?</p>\n</blockquote>\n\n<p><strong>No</strong>   </p>\n\n<p>I don't think using Reflection there would be a tweak , it will break <code>OOP</code> there</p>\n"},{"comments":[{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1349868679,"post_id":4440051,"comment_id":17337320,"body_markdown":"check http://stackoverflow.com/questions/12817502/accesing-private-methods-in-java","body":"check <a href=\"http://stackoverflow.com/questions/12817502/accesing-private-methods-in-java\" title=\"accesing private methods in java\">stackoverflow.com/questions/12817502/&hellip;</a>"}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1292336057,"creation_date":1292336057,"answer_id":4440051,"question_id":4439868,"body_markdown":"You do not have a legal way to do this. But I can suggest you the following solutions.\r\n\r\n 1. Do you really wish to override this method? Try to think about other solution.\r\n 2. Java checks access permissions during compilation only. Are you surprised? I was surprised very much to find out this fact. So you can create skeleton of the third party class (even with empty implementations.). The interesting method should be `protected` instead of `private`. Now write your subclass and compile it against your stub. Then package only your subclass and try to run it with the &quot;real&quot; class. It should work. I have not tried this trick with inheritance but I have tried it when I had to access private method or field and it worked fine for me. \r\n 3. Try to use dynamic proxy that wraps your class and changes its implementation. I do not know what are you doing exactly, so I am not sure you can really use this method. But I hope you can. If not go back to #1 or #2.","title":"Java Reflect/AOP override supertype private Method","body":"<p>You do not have a legal way to do this. But I can suggest you the following solutions.</p>\n\n<ol>\n<li>Do you really wish to override this method? Try to think about other solution.</li>\n<li>Java checks access permissions during compilation only. Are you surprised? I was surprised very much to find out this fact. So you can create skeleton of the third party class (even with empty implementations.). The interesting method should be <code>protected</code> instead of <code>private</code>. Now write your subclass and compile it against your stub. Then package only your subclass and try to run it with the \"real\" class. It should work. I have not tried this trick with inheritance but I have tried it when I had to access private method or field and it worked fine for me. </li>\n<li>Try to use dynamic proxy that wraps your class and changes its implementation. I do not know what are you doing exactly, so I am not sure you can really use this method. But I hope you can. If not go back to #1 or #2.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1352030532,"post_id":12936340,"comment_id":18001743,"body_markdown":"The approach works, but why not keep it simple and just use an `around()` advice on `MySuperClass+`, intercepting the desired calls or executions and returning a suitably modified result? I guess that it probably is unnecessary to use ITD here.","body":"The approach works, but why not keep it simple and just use an <code>around()</code> advice on <code>MySuperClass+</code>, intercepting the desired calls or executions and returning a suitably modified result? I guess that it probably is unnecessary to use ITD here."},{"owner":{"account_id":1388870,"reputation":261,"user_id":1320202,"display_name":"Ferhat Sobay"},"score":0,"creation_date":1352386180,"post_id":12936340,"comment_id":18122204,"body_markdown":"It can be simplified so, but my point was to make this feel like an override.","body":"It can be simplified so, but my point was to make this feel like an override."}],"tags":[],"owner":{"account_id":1388870,"reputation":261,"user_id":1320202,"display_name":"Ferhat Sobay"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1670926934,"creation_date":1350483197,"answer_id":12936340,"question_id":4439868,"body_markdown":"**YES**. You can do it with [AspectJ][1]. It is not a true override but result will be so.\r\n\r\nHere your super class;\r\n\r\n    public class MySuperClass {\r\n    \r\n        private void content(String text) {\r\n           System.out.print(&quot;I&#39;m super &quot; + text);\r\n        }\r\n        \r\n        public void echo() {\r\n           content(&quot;!&quot;);\r\n        }        \r\n    }\r\n\r\nCreate an interface which contains similar method;\r\n    \r\n    public interface Content {\r\n        void safeContent(String text);\r\n    }\r\n    \r\n\r\nCreate an aspect that forces super class to implement that interface and add an around adviser to call it.\r\n    \r\n    public privileged aspect SuperClassAspect {\r\n    \r\n        void around(MySuperClass obj)\r\n                : execution(* content(String)) &amp;&amp; target(obj) {\r\n    \r\n            Object[] args = thisJoinPoint.getArgs();\r\n            ((Content) obj).safeContent((String) args[0]);\r\n        }\r\n    \r\n        // compiler requires\r\n        public void MySuperClass.safeContent(String text) {}\r\n    \r\n    \r\n        declare parents :MySuperClass implements Content;\r\n    }\r\n    \r\nCreate your child class that extends super and implements that interface.    \r\n\r\n    public class Overrider extends MySuperClass implements Content {\r\n    \r\n        public void safeContent(String text) {\r\n        \tSystem.out.print(&quot;Not that super &quot; + text);\r\n        }\r\n    }\r\n\r\n\r\nNow if you construct a Overrider object and invoke echo method, you will have an output of Overriders safeContent&#39;s method.\r\n\r\n\r\n  [1]: https://www.eclipse.org/aspectj/","title":"Java Reflect/AOP override supertype private Method","body":"<p><strong>YES</strong>. You can do it with <a href=\"https://www.eclipse.org/aspectj/\" rel=\"nofollow noreferrer\">AspectJ</a>. It is not a true override but result will be so.</p>\n<p>Here your super class;</p>\n<pre><code>public class MySuperClass {\n\n    private void content(String text) {\n       System.out.print(&quot;I'm super &quot; + text);\n    }\n    \n    public void echo() {\n       content(&quot;!&quot;);\n    }        \n}\n</code></pre>\n<p>Create an interface which contains similar method;</p>\n<pre><code>public interface Content {\n    void safeContent(String text);\n}\n</code></pre>\n<p>Create an aspect that forces super class to implement that interface and add an around adviser to call it.</p>\n<pre><code>public privileged aspect SuperClassAspect {\n\n    void around(MySuperClass obj)\n            : execution(* content(String)) &amp;&amp; target(obj) {\n\n        Object[] args = thisJoinPoint.getArgs();\n        ((Content) obj).safeContent((String) args[0]);\n    }\n\n    // compiler requires\n    public void MySuperClass.safeContent(String text) {}\n\n\n    declare parents :MySuperClass implements Content;\n}\n</code></pre>\n<p>Create your child class that extends super and implements that interface.</p>\n<pre><code>public class Overrider extends MySuperClass implements Content {\n\n    public void safeContent(String text) {\n        System.out.print(&quot;Not that super &quot; + text);\n    }\n}\n</code></pre>\n<p>Now if you construct a Overrider object and invoke echo method, you will have an output of Overriders safeContent's method.</p>\n"},{"tags":[],"owner":{"account_id":4284138,"reputation":4484,"user_id":3502543,"accept_rate":79,"display_name":"Maksym"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1416226567,"creation_date":1416226567,"answer_id":26972540,"question_id":4439868,"body_markdown":"yes it&#39;s possible ,but you should not do it, because it contradicts one of the [SOLID][1] principles. More exactly it contradicts [Liskov substitution principle][2].\r\n\r\n&gt; Note:\r\n&gt; Let q(x) be a property provable about objects x of type T. Then q(y)\r\n&gt; should be provable for objects y of type S, where S is a subtype of T.\r\n\r\nSo in other words , private method is property of object, so your object of inherited type must have the same property. The same with throws for methods.\r\n\r\nJava restricts it because of it.\r\n\r\n[1]: http://en.wikipedia.org/wiki/SOLID_(object-oriented_design)\r\n  [2]: http://en.wikipedia.org/wiki/Liskov_substitution_principle","title":"Java Reflect/AOP override supertype private Method","body":"<p>yes it's possible ,but you should not do it, because it contradicts one of the <a href=\"http://en.wikipedia.org/wiki/SOLID_(object-oriented_design)\" rel=\"nofollow\">SOLID</a> principles. More exactly it contradicts <a href=\"http://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow\">Liskov substitution principle</a>.</p>\n\n<blockquote>\n  <p>Note:\n  Let q(x) be a property provable about objects x of type T. Then q(y)\n  should be provable for objects y of type S, where S is a subtype of T.</p>\n</blockquote>\n\n<p>So in other words , private method is property of object, so your object of inherited type must have the same property. The same with throws for methods.</p>\n\n<p>Java restricts it because of it.</p>\n"}],"owner":{"account_id":106062,"reputation":31478,"user_id":282706,"accept_rate":80,"display_name":"Finbarr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2250,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4439925,"answer_count":4,"score":4,"last_activity_date":1670926934,"creation_date":1292334823,"question_id":4439868,"body_markdown":"Is it at all possible to &quot;override&quot; a private method of a super class in Java?\r\n\r\nThe class whose method I wish to override is a third party class so I cannot modify the source. It would be ideal if there were some way to reflectively set a method on a class.\r\n\r\nAlternatively, if it is possible to intercept a private method of a third party class then this would be suitable.","title":"Java Reflect/AOP override supertype private Method","body":"<p>Is it at all possible to \"override\" a private method of a super class in Java?</p>\n\n<p>The class whose method I wish to override is a third party class so I cannot modify the source. It would be ideal if there were some way to reflectively set a method on a class.</p>\n\n<p>Alternatively, if it is possible to intercept a private method of a third party class then this would be suitable.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9410,"page":813,"page_size":100}
